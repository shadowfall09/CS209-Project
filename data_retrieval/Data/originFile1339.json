{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":6,"creation_date":1583523114,"post_id":60570449,"comment_id":107159122,"body_markdown":"I would **not** catch any exceptions. Let the caller handle that. Otherwise, do you return an uninitialized object?","body":"I would <b>not</b> catch any exceptions. Let the caller handle that. Otherwise, do you return an uninitialized object?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1583523130,"post_id":60570449,"comment_id":107159125,"body_markdown":"Why should there by anything wrong?","body":"Why should there by anything wrong?"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1583523140,"post_id":60570449,"comment_id":107159128,"body_markdown":"unfortunately since the java.util datetime stuff is all obsolete, best thing to do is throw most of this away. but you&#39;re right that constructor shouldn&#39;t have this code in there, let some other code handle the conversion and pass the result into the constructor.","body":"unfortunately since the java.util datetime stuff is all obsolete, best thing to do is throw most of this away. but you&#39;re right that constructor shouldn&#39;t have this code in there, let some other code handle the conversion and pass the result into the constructor."},{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1583523243,"post_id":60570449,"comment_id":107159167,"body_markdown":"please refer this: https://stackoverflow.com/questions/16796076/try-catch-in-constructor-recommended-practice","body":"please refer this: <a href=\"https://stackoverflow.com/questions/16796076/try-catch-in-constructor-recommended-practice\" title=\"try catch in constructor recommended practice\">stackoverflow.com/questions/16796076/&hellip;</a>"},{"owner":{"account_id":9909987,"reputation":21,"user_id":7337092,"display_name":"noobdev"},"score":0,"creation_date":1583523257,"post_id":60570449,"comment_id":107159173,"body_markdown":"@JohnnyMopp you&#39;re saying format the string into a date before calling the FiscalDate class? that way I don&#39;t need to try catch?","body":"@JohnnyMopp you&#39;re saying format the string into a date before calling the FiscalDate class? that way I don&#39;t need to try catch?"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1583523311,"post_id":60570449,"comment_id":107159192,"body_markdown":"also see https://stackoverflow.com/questions/23623516/flaw-constructor-does-real-work","body":"also see <a href=\"https://stackoverflow.com/questions/23623516/flaw-constructor-does-real-work\" title=\"flaw constructor does real work\">stackoverflow.com/questions/23623516/&hellip;</a>"},{"owner":{"account_id":9909987,"reputation":21,"user_id":7337092,"display_name":"noobdev"},"score":0,"creation_date":1583523380,"post_id":60570449,"comment_id":107159221,"body_markdown":"@NathanHughes so remove the FiscalDate(String date)  constructor and format the string to a date object before calling the FiscalDate class?","body":"@NathanHughes so remove the FiscalDate(String date)  constructor and format the string to a date object before calling the FiscalDate class?"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1583523404,"post_id":60570449,"comment_id":107159232,"body_markdown":"yes, i would have a separate helper function deal with converting the string to a date.","body":"yes, i would have a separate helper function deal with converting the string to a date."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1583523486,"post_id":60570449,"comment_id":107159258,"body_markdown":"JohhnyMopp is correct.  Don’t catch any exceptions.  With that `catch` in place, if the string argument is invalid, the constructor will create a FiscalDate instance with a null Calendar.  Is that what you want?  Do you want FiscalDate objects in the program whose getFiscalYear method will fail with mysterious NullPointerExceptions?","body":"JohhnyMopp is correct.  Don’t catch any exceptions.  With that <code>catch</code> in place, if the string argument is invalid, the constructor will create a FiscalDate instance with a null Calendar.  Is that what you want?  Do you want FiscalDate objects in the program whose getFiscalYear method will fail with mysterious NullPointerExceptions?"},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":1,"creation_date":1583523666,"post_id":60570449,"comment_id":107159319,"body_markdown":"Except other advices, also mark the `calendarDate` field as `final`. If you did it at first, compiler wouldn&#39;t allow you to produce exception-swallowing catch block.","body":"Except other advices, also mark the <code>calendarDate</code> field as <code>final</code>. If you did it at first, compiler wouldn&#39;t allow you to produce exception-swallowing catch block."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1583652543,"post_id":60570449,"comment_id":107184665,"body_markdown":"I recommend you don’t use `calendar` and `SimpleDateFormat`. Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>calendar</code> and <code>SimpleDateFormat</code>. Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583523326,"creation_date":1583523326,"answer_id":60570515,"question_id":60570449,"body_markdown":"Yeah so like @Johnny Mopp said in the comments you shouldn&#39;t catch the exception silently, instead throw the exception and let the person who is implementing that class choose how to handle it.\r\n\r\n```java\r\npublic FiscalDate(String date) throws ParseException {\r\n    DateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date formattedDate = formatter.parse(date);\r\n    calendarDate = Calendar.getInstance();\r\n    calendarDate.setTime(formattedDate);\r\n}\r\n```\r\n\r\n```java\r\ntry {\r\n    FiscalDate date = new FiscalDate(&quot;my date string&quot;);\r\n\r\n    // some code that utilizes date\r\n} catch (ParseException exception) {\r\n    // darn, something went wrong, time to handle it!\r\n}\r\n```","title":"Java try catch in constructor","body":"<p>Yeah so like @Johnny Mopp said in the comments you shouldn't catch the exception silently, instead throw the exception and let the person who is implementing that class choose how to handle it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public FiscalDate(String date) throws ParseException {\n    DateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n    Date formattedDate = formatter.parse(date);\n    calendarDate = Calendar.getInstance();\n    calendarDate.setTime(formattedDate);\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    FiscalDate date = new FiscalDate(\"my date string\");\n\n    // some code that utilizes date\n} catch (ParseException exception) {\n    // darn, something went wrong, time to handle it!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12529923,"reputation":439,"user_id":9118553,"display_name":"leo277"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652838694,"creation_date":1583524860,"answer_id":60570834,"question_id":60570449,"body_markdown":"I would argue against any code in the constructor. You could follow the guidelines in this article: https://www.yegor256.com/2015/05/07/ctors-must-be-code-free.html\r\n\r\nBasically initializing your object with the string representation and parsing only at #displayFiscalYear. Any additional behavior can be achieved through decorators, like caching to avoid repeated computes.\r\n\r\nIt might seem over complicated, but IMHO it&#39;s the best approach. If this doesn&#39;t convince you though, I would go with a factory approach. Compute the parsing in a factory method and the constructor is directly initialized with a Calendar object.\r\n\r\nP.S. I would also recommend to move to java 8&#39;s java.time if you can.","title":"Java try catch in constructor","body":"<p>I would argue against any code in the constructor. You could follow the guidelines in this article: <a href=\"https://www.yegor256.com/2015/05/07/ctors-must-be-code-free.html\" rel=\"nofollow noreferrer\">https://www.yegor256.com/2015/05/07/ctors-must-be-code-free.html</a></p>\n<p>Basically initializing your object with the string representation and parsing only at #displayFiscalYear. Any additional behavior can be achieved through decorators, like caching to avoid repeated computes.</p>\n<p>It might seem over complicated, but IMHO it's the best approach. If this doesn't convince you though, I would go with a factory approach. Compute the parsing in a factory method and the constructor is directly initialized with a Calendar object.</p>\n<p>P.S. I would also recommend to move to java 8's java.time if you can.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583655941,"creation_date":1583655941,"answer_id":60585727,"question_id":60570449,"body_markdown":" 1. Use `LocalDate` from java.time, the modern Java date and time API, for a date.\r\n 2. Catching an exception in the constructor is generally bad. You may do it if you can still initialize the object to a fully valid and meaningful state or you want to wrap the exception into a different exception that you throw to the caller.\r\n\r\n## java.time\r\n\r\n    public class FiscalDate {\r\n    \r\n    \tprivate LocalDate calendarDate;\r\n    \t\r\n    }\r\n\r\nA `LocalDate` is a date in the proleptic Gregorian calendar without time of day. A `Calendar` is a date and time of day with time zone, week numbering scheme and more, theoretically in any calendar system. The `Calendar` class is also poorly designed and long outdated. So I recommend `LocalDate`.\r\n\r\n## Constructors\r\n\r\nNow which constructors do we want? I’d find it natural to have a constructor that accepts a `LocalDate`:\r\n\r\n    \tpublic FiscalDate(LocalDate calendarDate) {\r\n    \t\tthis.calendarDate = calendarDate;\r\n    \t}\r\n\r\nIf you foresee that the caller will sometimes have the date as a string rather than a `LocalDate`, providing a convenience constructor that accepts a string is nice:\r\n\r\n    \t/** @throws DateTimeParseException if dateString is not a valid date string in format yyyy-MM-dd */\r\n    \tpublic FiscalDate(String dateString) {\r\n    \t\tthis(LocalDate.parse(dateString));\r\n    \t}\r\n\r\nThe `this()` call calls the constructor from before. It’s similar to a `super()` call, only instead of calling a constructor in the superclass it calls a constructor in the same class. `LocalDate.parse()` throws a `DateTimeParseException` if the string cannot be parsed into a valid date. It’s an unchecked exception, so we need not declare that the constructor may throw it, but it’s nice for the caller to know, so we put it in the Javadoc comment.\r\n\r\nI believe that deciding what to do in case of an invalid string date should be the job of the caller, not this class. So throwing the exception is appropriate (as it is or wrapped in a more appropriate exception type). If you were to catch the exception in the constructor, you would need to initialize the object, and I can’t see how you would be able to do that in any meaningful way.\r\n\r\n## Link\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.","title":"Java try catch in constructor","body":"<ol>\n<li>Use <code>LocalDate</code> from java.time, the modern Java date and time API, for a date.</li>\n<li>Catching an exception in the constructor is generally bad. You may do it if you can still initialize the object to a fully valid and meaningful state or you want to wrap the exception into a different exception that you throw to the caller.</li>\n</ol>\n\n<h2>java.time</h2>\n\n<pre><code>public class FiscalDate {\n\n    private LocalDate calendarDate;\n\n}\n</code></pre>\n\n<p>A <code>LocalDate</code> is a date in the proleptic Gregorian calendar without time of day. A <code>Calendar</code> is a date and time of day with time zone, week numbering scheme and more, theoretically in any calendar system. The <code>Calendar</code> class is also poorly designed and long outdated. So I recommend <code>LocalDate</code>.</p>\n\n<h2>Constructors</h2>\n\n<p>Now which constructors do we want? I’d find it natural to have a constructor that accepts a <code>LocalDate</code>:</p>\n\n<pre><code>    public FiscalDate(LocalDate calendarDate) {\n        this.calendarDate = calendarDate;\n    }\n</code></pre>\n\n<p>If you foresee that the caller will sometimes have the date as a string rather than a <code>LocalDate</code>, providing a convenience constructor that accepts a string is nice:</p>\n\n<pre><code>    /** @throws DateTimeParseException if dateString is not a valid date string in format yyyy-MM-dd */\n    public FiscalDate(String dateString) {\n        this(LocalDate.parse(dateString));\n    }\n</code></pre>\n\n<p>The <code>this()</code> call calls the constructor from before. It’s similar to a <code>super()</code> call, only instead of calling a constructor in the superclass it calls a constructor in the same class. <code>LocalDate.parse()</code> throws a <code>DateTimeParseException</code> if the string cannot be parsed into a valid date. It’s an unchecked exception, so we need not declare that the constructor may throw it, but it’s nice for the caller to know, so we put it in the Javadoc comment.</p>\n\n<p>I believe that deciding what to do in case of an invalid string date should be the job of the caller, not this class. So throwing the exception is appropriate (as it is or wrapped in a more appropriate exception type). If you were to catch the exception in the constructor, you would need to initialize the object, and I can’t see how you would be able to do that in any meaningful way.</p>\n\n<h2>Link</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n</ul>\n"}],"owner":{"account_id":9909987,"reputation":21,"user_id":7337092,"display_name":"noobdev"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1652838694,"creation_date":1583522984,"question_id":60570449,"body_markdown":"I wrote this class that returns the fiscal year:\r\n\r\n    public class Fiscal {\r\n\r\n    private Calendar calendar;\r\n    \r\n    public FiscalDate(String date) {\r\n    \ttry {\r\n    \t\tDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\tDate formattedDate = formatter.parse(date);\r\n    \t\tthis.calendarDate = Calendar.getInstance();\r\n    \t\tthis.calendarDate.setTime(formattedDate);\r\n\t\t}\r\n\t\tcatch (ParseException e) {\r\n\t\t\tSystem.out.print(e);\r\n\t\t}\r\n    }\r\n    }\r\n\r\nI&#39;m using it like the following:\r\n\r\n    String test = new Fiscal(&quot;2020-03-31&quot;).display();\r\n\r\nEverything works fine, I&#39;m just wondering if there is anything wrong with my try and catch in the constructor? Any ways I can improve this class?\r\n","title":"Java try catch in constructor","body":"<p>I wrote this class that returns the fiscal year:</p>\n\n<pre><code>public class Fiscal {\n\nprivate Calendar calendar;\n\npublic FiscalDate(String date) {\n    try {\n        DateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n        Date formattedDate = formatter.parse(date);\n        this.calendarDate = Calendar.getInstance();\n        this.calendarDate.setTime(formattedDate);\n    }\n    catch (ParseException e) {\n        System.out.print(e);\n    }\n}\n}\n</code></pre>\n\n<p>I'm using it like the following:</p>\n\n<pre><code>String test = new Fiscal(\"2020-03-31\").display();\n</code></pre>\n\n<p>Everything works fine, I'm just wondering if there is anything wrong with my try and catch in the constructor? Any ways I can improve this class?</p>\n"},{"tags":["java","android","android-studio","android-volley"],"answers":[{"tags":[],"owner":{"account_id":20313072,"reputation":1,"user_id":14899615,"display_name":"Jorge Moreno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652836967,"creation_date":1642144029,"answer_id":70707090,"question_id":70318081,"body_markdown":"I understand that you want the list to be updated from time to time. First create a `public void clear()` method in which you call the method that performs the data load. It should be noted that at the beginning of the method that makes the data call you will have to clean the list, that is, you will use `[list].clear()`.","title":"How can I add only the new items of the JSON API without duplicating the existed items?","body":"<p>I understand that you want the list to be updated from time to time. First create a <code>public void clear()</code> method in which you call the method that performs the data load. It should be noted that at the beginning of the method that makes the data call you will have to clean the list, that is, you will use <code>[list].clear()</code>.</p>\n"}],"owner":{"account_id":17690389,"reputation":9,"user_id":12842292,"display_name":"Varou37"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652836967,"creation_date":1639248493,"question_id":70318081,"body_markdown":"I want to make an auto refreshing system for my android application. I use a JSON API in order to get the posts. Here is what I did:\r\n\r\n    handler.postDelayed( runnable = new Runnable() {\r\n                public void run() {\r\n                    //do your function;\r\n                    ReadPosts();\r\n                    readSaves();\r\n                    postsAdapter.notifyDataSetChanged();\r\n                    postsAdapterS.notifyDataSetChanged();\r\n                    handler.postDelayed(runnable, apiDelayed);\r\n                }\r\n            }, apiDelayed);\r\n\r\nSo, what I want is every time the handler refreshes to be added only the new posts that are added to the JSON but not to duplicate each post every time it is refreshed. Is there a way to do that?\r\n","title":"How can I add only the new items of the JSON API without duplicating the existed items?","body":"<p>I want to make an auto refreshing system for my android application. I use a JSON API in order to get the posts. Here is what I did:</p>\n<pre><code>handler.postDelayed( runnable = new Runnable() {\n            public void run() {\n                //do your function;\n                ReadPosts();\n                readSaves();\n                postsAdapter.notifyDataSetChanged();\n                postsAdapterS.notifyDataSetChanged();\n                handler.postDelayed(runnable, apiDelayed);\n            }\n        }, apiDelayed);\n</code></pre>\n<p>So, what I want is every time the handler refreshes to be added only the new posts that are added to the JSON but not to duplicate each post every time it is refreshed. Is there a way to do that?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1652830916,"post_id":72281621,"comment_id":127700232,"body_markdown":"I put your code in a runnable app and ran it.  It did not produce the image you display.  On my test, there were no gaps between the rectangles in the tile pane.  Please update your question with code which can be copy and pasted to reproduce the issue without change or addition (a [mcve]).","body":"I put your code in a runnable app and ran it.  It did not produce the image you display.  On my test, there were no gaps between the rectangles in the tile pane.  Please update your question with code which can be copy and pasted to reproduce the issue without change or addition (a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."},{"owner":{"account_id":25316890,"reputation":23,"user_id":19138859,"display_name":"adamruehle"},"score":0,"creation_date":1652836475,"post_id":72281621,"comment_id":127700935,"body_markdown":"I added a quick example that you can copy and paste!","body":"I added a quick example that you can copy and paste!"},{"owner":{"account_id":25316890,"reputation":23,"user_id":19138859,"display_name":"adamruehle"},"score":0,"creation_date":1652838916,"post_id":72281621,"comment_id":127701243,"body_markdown":"It doesn&#39;t display the exact image I have, but do you see a gap between each Rectangle where the background appears? If not, do you think the issue could be how my code maps to my monitor or something? I&#39;ve only been coding for a year.","body":"It doesn&#39;t display the exact image I have, but do you see a gap between each Rectangle where the background appears? If not, do you think the issue could be how my code maps to my monitor or something? I&#39;ve only been coding for a year."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652839594,"post_id":72281621,"comment_id":127701329,"body_markdown":"I tested your code and do not see any lines either.","body":"I tested your code and do not see any lines either."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1652840380,"post_id":72281621,"comment_id":127701452,"body_markdown":"I also do not see any gaps between the Rectangles, and I do not seen an extra Rectangle on the right or anywhere else.  Tried it with JavaFX 8 and JavaFX 17.","body":"I also do not see any gaps between the Rectangles, and I do not seen an extra Rectangle on the right or anywhere else.  Tried it with JavaFX 8 and JavaFX 17."},{"owner":{"account_id":25316890,"reputation":23,"user_id":19138859,"display_name":"adamruehle"},"score":0,"creation_date":1652845704,"post_id":72281621,"comment_id":127702234,"body_markdown":"Forgive me for making this difficult, sorry ya&#39;ll. Here&#39;s a link to exactly what I see when I run the Example program: https://imgur.com/a/Y7r2XLu.","body":"Forgive me for making this difficult, sorry ya&#39;ll. Here&#39;s a link to exactly what I see when I run the Example program: <a href=\"https://imgur.com/a/Y7r2XLu\" rel=\"nofollow noreferrer\">imgur.com/a/Y7r2XLu</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1652873777,"post_id":72281621,"comment_id":127710938,"body_markdown":"It is obviously environmental.  What is your environment? What is the type and versions for JDK/JavaFX/OS/Graphics Hardware?  You can edit the question again to add that info.","body":"It is obviously environmental.  What is your environment? What is the type and versions for JDK/JavaFX/OS/Graphics Hardware?  You can edit the question again to add that info."}],"owner":{"account_id":25316890,"reputation":23,"user_id":19138859,"display_name":"adamruehle"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652836452,"creation_date":1652829085,"question_id":72281621,"body_markdown":"This is my first post, so please forgive any mistakes I make. Using Java, I&#39;ve made a recreation of the classic arcade game, Snake. The game mechanics, title screen, and end screen all function properly and look correct; however, my game board currently looks horrendous.\r\n\r\nI implemented the game&#39;s board by making a TilePane that holds a certain width and height of Rectangles. For some reason, I can clearly see a separation between each Rectangle where the background of the Region containing the TilePane peeps through. To understand how I formatted the board, here&#39;s the code where I place each Rectangle in the TilePane:\r\n\r\n```\r\nprivate final Rectangle[][] board; // board containing the Rectangles\r\n\r\npublic Board(int width, int height) {\r\n    // grid to display each Rectangle\r\n    TilePane playableGrid = new TilePane(Orientation.VERTICAL);\r\n    playableGrid.setPrefRows(height);\r\n    this.setBackground(Background.EMPTY);\r\n\r\n    // initialize the board of Rectangles\r\n    board = new Rectangle[width][height];\r\n\r\n    // places each Rectangle in the board and playableGrid\r\n    for (int x = 0; x &lt; width; x++) {\r\n        for (int y = 0; y &lt; height; y++) {\r\n            board[x][y] = new Rectangle(24, 24);\r\n            playableGrid.getChildren().add(board[x][y]);\r\n        } // for\r\n    } // for\r\n\r\n    this.getChildren().add(playableGrid); // add the playableGrid in the VBox\r\n} // Board\r\n```\r\nAlso, here&#39;s a link showing how the problem: https://i.stack.imgur.com/IssvW.jpg. Any help would be greatly appreciated! I fiddled around with the Stroke property found in the Shape class, but I could not find any solution.\r\n\r\nEdit: I&#39;ll provide a minimal reproducible example of the code to display the problem. Also, I forgot to mention that I&#39;m using XMing to run the Application on a Windows laptop. Here&#39;s a quick example that you should be able to copy and paste into a class (it shows one extra Rectangle on the right, not sure why):\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Orientation;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.*;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Example extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(Example.class, args);\r\n    }\r\n\r\n    public Example() {}\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        /** Setup TilePane where game would be played */\r\n        TilePane playableGrid = new TilePane(Orientation.VERTICAL);\r\n        playableGrid.setPrefRows(25);\r\n        for (int x = 0; x &lt; 25; x++) {\r\n            for (int y = 0; y &lt; 25; y++) {\r\n                // The playableGrid consists of 25 rows of Rectangles\r\n                Rectangle rectangle = new Rectangle(20, 20);\r\n                rectangle.setFill(Color.CADETBLUE);\r\n                playableGrid.getChildren().add(rectangle);\r\n            } // for\r\n        } // for\r\n        /** In my game, a Region with a specific background holds the playableGrid */\r\n        VBox root = new VBox();\r\n        root.setMinSize(500, 500);\r\n        root.setBackground(new Background(new BackgroundFill(Color.AZURE,\r\n                CornerRadii.EMPTY, Insets.EMPTY)));\r\n        root.getChildren().add(playableGrid);\r\n        /** Setup scene */\r\n        Scene scene = new Scene(root);\r\n        /** Setup stage */\r\n        stage.setScene(scene);\r\n        stage.setOnCloseRequest(event -&gt; Platform.exit());\r\n        stage.sizeToScene();\r\n        stage.show();\r\n    }\r\n\r\n}\r\n```\r\n\r\nClearly, you can see the background of the VBox holding the TilePane.","title":"Remove Spacing Between Rectangle&#39;s in a TilePane - JavaFX","body":"<p>This is my first post, so please forgive any mistakes I make. Using Java, I've made a recreation of the classic arcade game, Snake. The game mechanics, title screen, and end screen all function properly and look correct; however, my game board currently looks horrendous.</p>\n<p>I implemented the game's board by making a TilePane that holds a certain width and height of Rectangles. For some reason, I can clearly see a separation between each Rectangle where the background of the Region containing the TilePane peeps through. To understand how I formatted the board, here's the code where I place each Rectangle in the TilePane:</p>\n<pre><code>private final Rectangle[][] board; // board containing the Rectangles\n\npublic Board(int width, int height) {\n    // grid to display each Rectangle\n    TilePane playableGrid = new TilePane(Orientation.VERTICAL);\n    playableGrid.setPrefRows(height);\n    this.setBackground(Background.EMPTY);\n\n    // initialize the board of Rectangles\n    board = new Rectangle[width][height];\n\n    // places each Rectangle in the board and playableGrid\n    for (int x = 0; x &lt; width; x++) {\n        for (int y = 0; y &lt; height; y++) {\n            board[x][y] = new Rectangle(24, 24);\n            playableGrid.getChildren().add(board[x][y]);\n        } // for\n    } // for\n\n    this.getChildren().add(playableGrid); // add the playableGrid in the VBox\n} // Board\n</code></pre>\n<p>Also, here's a link showing how the problem: <a href=\"https://i.stack.imgur.com/IssvW.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/IssvW.jpg</a>. Any help would be greatly appreciated! I fiddled around with the Stroke property found in the Shape class, but I could not find any solution.</p>\n<p>Edit: I'll provide a minimal reproducible example of the code to display the problem. Also, I forgot to mention that I'm using XMing to run the Application on a Windows laptop. Here's a quick example that you should be able to copy and paste into a class (it shows one extra Rectangle on the right, not sure why):</p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Orientation;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class Example extends Application {\n\n    public static void main(String[] args) {\n        Application.launch(Example.class, args);\n    }\n\n    public Example() {}\n\n    @Override\n    public void start(Stage stage) {\n        /** Setup TilePane where game would be played */\n        TilePane playableGrid = new TilePane(Orientation.VERTICAL);\n        playableGrid.setPrefRows(25);\n        for (int x = 0; x &lt; 25; x++) {\n            for (int y = 0; y &lt; 25; y++) {\n                // The playableGrid consists of 25 rows of Rectangles\n                Rectangle rectangle = new Rectangle(20, 20);\n                rectangle.setFill(Color.CADETBLUE);\n                playableGrid.getChildren().add(rectangle);\n            } // for\n        } // for\n        /** In my game, a Region with a specific background holds the playableGrid */\n        VBox root = new VBox();\n        root.setMinSize(500, 500);\n        root.setBackground(new Background(new BackgroundFill(Color.AZURE,\n                CornerRadii.EMPTY, Insets.EMPTY)));\n        root.getChildren().add(playableGrid);\n        /** Setup scene */\n        Scene scene = new Scene(root);\n        /** Setup stage */\n        stage.setScene(scene);\n        stage.setOnCloseRequest(event -&gt; Platform.exit());\n        stage.sizeToScene();\n        stage.show();\n    }\n\n}\n</code></pre>\n<p>Clearly, you can see the background of the VBox holding the TilePane.</p>\n"},{"tags":["java","android","input","io"],"comments":[{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1350997465,"post_id":13031033,"comment_id":17689464,"body_markdown":"http://developer.android.com/guide/topics/resources/accessing-resources.html. Go through this link.","body":"<a href=\"http://developer.android.com/guide/topics/resources/accessing-resources.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/resources/&hellip;</a>. Go through this link."},{"owner":{"account_id":214662,"reputation":11684,"user_id":468763,"accept_rate":81,"display_name":"Prakash K"},"score":0,"creation_date":1350998678,"post_id":13031033,"comment_id":17690121,"body_markdown":"Kindly format your code before you paste it as a question. Thanks","body":"Kindly format your code before you paste it as a question. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350999151,"creation_date":1350997669,"answer_id":13031139,"question_id":13031033,"body_markdown":"In your activity class\r\n\r\n    Context c;\r\n    c=this;\r\n    new yourClass(c);\r\n\r\nIn your class\r\n\r\n     public yourclass(Context context)\r\n     {\r\n\r\n    InputStream in = context.getResources().openRawResource(R.raw.yourfilename); \r\n    }\r\n","title":"Getting input data from resource wav file in &quot;raw&quot; folder","body":"<p>In your activity class</p>\n\n<pre><code>Context c;\nc=this;\nnew yourClass(c);\n</code></pre>\n\n<p>In your class</p>\n\n<pre><code> public yourclass(Context context)\n {\n\nInputStream in = context.getResources().openRawResource(R.raw.yourfilename); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1043894,"reputation":5206,"user_id":1049280,"accept_rate":64,"display_name":"user1049280"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350997695,"creation_date":1350997695,"answer_id":13031150,"question_id":13031033,"body_markdown":"well, InputStream implementation strikes in eye from start, change it to this:\r\n\r\n    InputStream is = this.getResources().openRawResource(R.raw.music);\r\n\r\n","title":"Getting input data from resource wav file in &quot;raw&quot; folder","body":"<p>well, InputStream implementation strikes in eye from start, change it to this:</p>\n\n<pre><code>InputStream is = this.getResources().openRawResource(R.raw.music);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1968816,"reputation":193,"user_id":1768360,"accept_rate":17,"display_name":"user1768360"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652836217,"creation_date":1351001352,"answer_id":13032369,"question_id":13031033,"body_markdown":"What I did was:\r\n\r\n1- add this in the activity before the thread starts:\r\n\r\n    final Context con;\r\n        con=this;\r\n\r\n2- call the class in the thread\r\n\r\n    new Wav_File_Reader();\r\n\r\n.\r\n.\r\n.\r\n\r\n    Wav_File_Reader.read(musicin,con);\r\n\r\n\r\n\r\n2- modify my class to be static :\r\n\r\n    public static void read(short[] musicin, Context ctx ) {\r\n\t\ttry {\r\n\t\t\r\n\t\t//\tInputStream is = getBaseContext().getResources().openRawResource(R.raw.music);\r\n\t\t\t\r\n\t\tInputStream is = ctx.getResources().openRawResource(R.raw.music);\r\n\t\tBufferedInputStream bis = new BufferedInputStream(is);\r\n\t\tDataInputStream dis = new DataInputStream(bis);\r\n\r\n\t\t\r\n\t\tint buffsize=512;\r\n\t\t// Read the file into the music array.\r\n\t\tint i = 0;\r\n\t\t\r\n\t\tshort in[]=new short[200000];\r\n\t\t\r\n\t\t//while (dis.available() &gt; 0) {\r\n\t\t//while (i&lt;buffsize&amp;&amp;dis.available() &gt; 0) {\r\n\t\twhile (i&lt;200000&amp;&amp;dis.available() &gt; 0) {\r\n\t\t\t//musicin[i] = dis.readByte(); \r\n\t\t\t//in[i]=dis.readByte(); \r\n\t\t\tin[i]=dis.readShort();\r\n\t\ti++;\r\n\t\t}\r\n\r\n\t\t// Close the input streams.\r\n\t\tdis.close(); \r\n\r\n\t\t} catch (Throwable t) \r\n\t\t{\r\n\t\tLog.e(&quot;AudioTrack&quot;,&quot;Playback Failed&quot;);\r\n\t\t}\r\n\t\t}\r\n\r\n\r\nand I was able to read directly from the `R.raw` folder. ","title":"Getting input data from resource wav file in &quot;raw&quot; folder","body":"<p>What I did was:</p>\n<p>1- add this in the activity before the thread starts:</p>\n<pre><code>final Context con;\n    con=this;\n</code></pre>\n<p>2- call the class in the thread</p>\n<pre><code>new Wav_File_Reader();\n</code></pre>\n<p>.\n.\n.</p>\n<pre><code>Wav_File_Reader.read(musicin,con);\n</code></pre>\n<p>2- modify my class to be static :</p>\n<pre><code>public static void read(short[] musicin, Context ctx ) {\n    try {\n    \n    //  InputStream is = getBaseContext().getResources().openRawResource(R.raw.music);\n        \n    InputStream is = ctx.getResources().openRawResource(R.raw.music);\n    BufferedInputStream bis = new BufferedInputStream(is);\n    DataInputStream dis = new DataInputStream(bis);\n\n    \n    int buffsize=512;\n    // Read the file into the music array.\n    int i = 0;\n    \n    short in[]=new short[200000];\n    \n    //while (dis.available() &gt; 0) {\n    //while (i&lt;buffsize&amp;&amp;dis.available() &gt; 0) {\n    while (i&lt;200000&amp;&amp;dis.available() &gt; 0) {\n        //musicin[i] = dis.readByte(); \n        //in[i]=dis.readByte(); \n        in[i]=dis.readShort();\n    i++;\n    }\n\n    // Close the input streams.\n    dis.close(); \n\n    } catch (Throwable t) \n    {\n    Log.e(&quot;AudioTrack&quot;,&quot;Playback Failed&quot;);\n    }\n    }\n</code></pre>\n<p>and I was able to read directly from the <code>R.raw</code> folder.</p>\n"}],"owner":{"account_id":1968816,"reputation":193,"user_id":1768360,"accept_rate":17,"display_name":"user1768360"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2514,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1652836217,"creation_date":1350997376,"question_id":13031033,"body_markdown":"I have been trying to read a buffer from the bytes of a `wav` file located in the raw folder using `InputStream`.\r\n\r\nI think what I don&#39;t understand is how to give the correct location of the file. \r\nthe `wav` file in the R resource is an int so I cannot just do:\r\n\r\n    InputStream is = new FileInputStream(R.raw.music);\r\n    \r\nbecause `int` is not acknowledged for `FileInputStream`.\r\n\r\nbasically my code is a modified version of something I found:\r\n\r\n    public void read(short[] musicin) {\r\n        try {\r\n            // Create a DataInputStream to read the audio data back from the saved file.\r\n            InputStream is = new FileInputStream(&quot;R.raw.music&quot;);\r\n            \r\n            BufferedInputStream bis = new BufferedInputStream(is);\r\n            \r\n            DataInputStream dis = new DataInputStream(bis);\r\n\r\n            int buffsize=512;\r\n\r\n            // Read the file into the music array.\r\n            int i = 0;\r\n\r\n            while (i&lt;buffsize&amp;&amp;dis.available() &gt; 0) {\r\n                musicin[i] = dis.readByte(); \r\n                i++;\r\n            }\r\n\r\n            // Close the input streams.\r\n            dis.close();\r\n        } catch (Throwable t) {\r\n            Log.e(&quot;AudioTrack&quot;,&quot;Playback Failed&quot;);\r\n        }\r\n    }\r\n\r\nSo how can I read from the raw folder?\r\n\r\n","title":"Getting input data from resource wav file in &quot;raw&quot; folder","body":"<p>I have been trying to read a buffer from the bytes of a <code>wav</code> file located in the raw folder using <code>InputStream</code>.</p>\n\n<p>I think what I don't understand is how to give the correct location of the file. \nthe <code>wav</code> file in the R resource is an int so I cannot just do:</p>\n\n<pre><code>InputStream is = new FileInputStream(R.raw.music);\n</code></pre>\n\n<p>because <code>int</code> is not acknowledged for <code>FileInputStream</code>.</p>\n\n<p>basically my code is a modified version of something I found:</p>\n\n<pre><code>public void read(short[] musicin) {\n    try {\n        // Create a DataInputStream to read the audio data back from the saved file.\n        InputStream is = new FileInputStream(\"R.raw.music\");\n\n        BufferedInputStream bis = new BufferedInputStream(is);\n\n        DataInputStream dis = new DataInputStream(bis);\n\n        int buffsize=512;\n\n        // Read the file into the music array.\n        int i = 0;\n\n        while (i&lt;buffsize&amp;&amp;dis.available() &gt; 0) {\n            musicin[i] = dis.readByte(); \n            i++;\n        }\n\n        // Close the input streams.\n        dis.close();\n    } catch (Throwable t) {\n        Log.e(\"AudioTrack\",\"Playback Failed\");\n    }\n}\n</code></pre>\n\n<p>So how can I read from the raw folder?</p>\n"},{"tags":["java","cmd"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1652836589,"post_id":72282200,"comment_id":127700950,"body_markdown":"The problem is the Java program is looking for a file `&quot; items.dat &quot;` and it can&#39;t find it.  Where is this file?","body":"The problem is the Java program is looking for a file <code>&quot; items.dat &quot;</code> and it can&#39;t find it.  Where is this file?"},{"owner":{"account_id":24245752,"reputation":1,"user_id":18197513,"display_name":"PatriciaTM"},"score":0,"creation_date":1652837040,"post_id":72282200,"comment_id":127701005,"body_markdown":"In a parent folder - Should it be included in the folder with the otehr java/class files?","body":"In a parent folder - Should it be included in the folder with the otehr java/class files?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1652839302,"post_id":72282200,"comment_id":127701294,"body_markdown":"On line 310 of Wonderland.java, you&#39;re trying to open a file called &quot;items.dat&quot;.  Does your program specify what directory to look in for that file?  If not, then your program is looking for that file in whatever directory you&#39;re in when you run the program.","body":"On line 310 of Wonderland.java, you&#39;re trying to open a file called &quot;items.dat&quot;.  Does your program specify what directory to look in for that file?  If not, then your program is looking for that file in whatever directory you&#39;re in when you run the program."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1652839687,"post_id":72282200,"comment_id":127701340,"body_markdown":"Dawood gave the answer.  As an aside, in Java we often use resources to help with the problem of &quot;where to find data X?&quot; when running a Java program.  https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html","body":"Dawood gave the answer.  As an aside, in Java we often use resources to help with the problem of &quot;where to find data X?&quot; when running a Java program.  <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/lang/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1652843051,"post_id":72282200,"comment_id":127701871,"body_markdown":"Load your file using `new InputStreamReader(Wonderland.class.getResourceAsStream(&quot;items.dat&quot;))` instead of using FileReader.  That will always read items.dat from the directory where your .class files are located, so you won’t have to depend on the current directory at all.","body":"Load your file using <code>new InputStreamReader(Wonderland.class.getResourceAsStream(&quot;item&zwnj;&#8203;s.dat&quot;))</code> instead of using FileReader.  That will always read items.dat from the directory where your .class files are located, so you won’t have to depend on the current directory at all."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1652847069,"post_id":72282200,"comment_id":127702451,"body_markdown":"[Edit] your question and post (at least) the code for method `loadItems` in class `game.textbased.WonderLand`.","body":"<a href=\"https://stackoverflow.com/posts/72282200/edit\">Edit</a> your question and post (at least) the code for method <code>loadItems</code> in class <code>game.textbased.WonderLand</code>."}],"owner":{"account_id":24245752,"reputation":1,"user_id":18197513,"display_name":"PatriciaTM"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652835819,"creation_date":1652835819,"question_id":72282200,"body_markdown":"I have multiple java files in a single directory that are related to a single program (Main). I have been using the following in the command prompt,\r\n\r\n```javac -cp . game/textbased/*.java```\r\n\r\n```java -cp . game/textbased/Main```\r\n\r\nAll related files are in a package called game.textbased. The parent folder series is textbasedgame/src/game/textbased. \r\n\r\nI am not sure what is going wrong, the java files seem to compile as nessessary, however, when I try to run I get the following:\r\n```\r\nException in thread &quot;main&quot; java.io.FileNotFoundException: items.dat (The system cannot find the file specified)\r\n        at java.base/java.io.FileInputStream.open0(Native Method)\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n        at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\r\n        at game.textbased.WonderLand.loadItems(WonderLand.java:310)\r\n        at game.textbased.WonderLand.initGame(WonderLand.java:63)\r\n        at game.textbased.WonderLand.&lt;init&gt;(WonderLand.java:24)\r\n        at game.textbased.Main.main(Main.java:6)\r\n```\r\nI am really not sure what is going wrong, and how to run the files from here. I have read other stack overflow inqueries of a similar nature, and generally they say to go from a higher directory but that has not been working for me. I tried going from outside src, or from within the textbased folder, but only going from within the src folder has given me this particular error. \r\n\r\nThanks!\r\n\r\n\r\n\r\n","title":"How to run multiple java class files from command prompt?","body":"<p>I have multiple java files in a single directory that are related to a single program (Main). I have been using the following in the command prompt,</p>\n<p><code>javac -cp . game/textbased/*.java</code></p>\n<p><code>java -cp . game/textbased/Main</code></p>\n<p>All related files are in a package called game.textbased. The parent folder series is textbasedgame/src/game/textbased.</p>\n<p>I am not sure what is going wrong, the java files seem to compile as nessessary, however, when I try to run I get the following:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: items.dat (The system cannot find the file specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n        at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\n        at game.textbased.WonderLand.loadItems(WonderLand.java:310)\n        at game.textbased.WonderLand.initGame(WonderLand.java:63)\n        at game.textbased.WonderLand.&lt;init&gt;(WonderLand.java:24)\n        at game.textbased.Main.main(Main.java:6)\n</code></pre>\n<p>I am really not sure what is going wrong, and how to run the files from here. I have read other stack overflow inqueries of a similar nature, and generally they say to go from a higher directory but that has not been working for me. I tried going from outside src, or from within the textbased folder, but only going from within the src folder has given me this particular error.</p>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1652835349,"post_id":72282115,"comment_id":127700789,"body_markdown":"`ArrayList&lt;ArrayList&lt;String&gt;&gt; copyMap = originalMap;` is **not** a copy. `originalMap = new ArrayList&lt;&gt;(map);` **is** a copy.","body":"<code>ArrayList&lt;ArrayList&lt;String&gt;&gt; copyMap = originalMap;</code> is <b>not</b> a copy. <code>originalMap = new ArrayList&lt;&gt;(map);</code> <b>is</b> a copy."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1652836630,"post_id":72282115,"comment_id":127700958,"body_markdown":"All variables in Java are either _primitive_ (like `int`, `boolean` and so on), or _reference_ variables.  So when you copy object variable values around, you&#39;re actually just copying references, not the objects themselves.  And inside an `ArrayList`, even the object itself just contains a bunch of references.  If you want to make a completely independent copy of an `ArrayList&lt;ArrayList&lt;String&gt;&gt;`, you&#39;re going to have to explicitly make copies of all the lower level lists.","body":"All variables in Java are either <i>primitive</i> (like <code>int</code>, <code>boolean</code> and so on), or <i>reference</i> variables.  So when you copy object variable values around, you&#39;re actually just copying references, not the objects themselves.  And inside an <code>ArrayList</code>, even the object itself just contains a bunch of references.  If you want to make a completely independent copy of an <code>ArrayList&lt;ArrayList&lt;String&gt;&gt;</code>, you&#39;re going to have to explicitly make copies of all the lower level lists."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1652838252,"post_id":72282115,"comment_id":127701169,"body_markdown":"Here are some helpful explanations on how object references work: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"Here are some helpful explanations on how object references work: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1652881442,"post_id":72282115,"comment_id":127714230,"body_markdown":"As Dawood said, to truly make a copy, you need to copy each of the ArrayLists inside the ArrayList.  You can do this with `ArrayList&lt;ArrayList&lt;String&gt;&gt; copyMap = new ArrayList&lt;&gt;(originalMap); copyMap.replaceAll(ArrayList::new);`","body":"As Dawood said, to truly make a copy, you need to copy each of the ArrayLists inside the ArrayList.  You can do this with <code>ArrayList&lt;ArrayList&lt;String&gt;&gt; copyMap = new ArrayList&lt;&gt;(originalMap); copyMap.replaceAll(ArrayList::new);</code>"},{"owner":{"account_id":22115554,"reputation":31,"user_id":16395987,"display_name":"Xhyub"},"score":0,"creation_date":1653531153,"post_id":72282115,"comment_id":127877083,"body_markdown":"So can I word this as, instantiate a new object copyMap with a constructor that is passed originalMap? @VGR","body":"So can I word this as, instantiate a new object copyMap with a constructor that is passed originalMap? @VGR"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653562201,"post_id":72282115,"comment_id":127884163,"body_markdown":"Yes, that is the first step.  The second step is making a copy of each element in the copy.","body":"Yes, that is the first step.  The second step is making a copy of each element in the copy."},{"owner":{"account_id":22115554,"reputation":31,"user_id":16395987,"display_name":"Xhyub"},"score":0,"creation_date":1664766048,"post_id":72282115,"comment_id":130539213,"body_markdown":"@VGR Just re-read this, completely missed the second step!","body":"@VGR Just re-read this, completely missed the second step!"}],"owner":{"account_id":22115554,"reputation":31,"user_id":16395987,"display_name":"Xhyub"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652834805,"creation_date":1652834805,"question_id":72282115,"body_markdown":"G&#39;day,\r\n\r\nI&#39;ve been trying to finish an assignment and am learning a lot about OO and Java. Nearing the end of this project so very happy but thought I&#39;d try get an interesting question out there, at least for me because of my lack in understanding.\r\n\r\nSome background to help clarify, I&#39;ve used 2D ArrayLists to model a map. I&#39;ve made a &quot;copy&quot; of the original so that I can update movements and locations, some are permitted some are not. \r\n\r\nI use a method to determine which movement is okay and to then update the &quot;copy&quot;. There are two classes involved here. \r\n\r\n    Class GameEngine {\r\n    \r\n       void runGameLoop(ArrayList&lt;ArrayList&lt;String&gt;&gt; map) {  \r\n          World w = new World();\r\n          w.setOriginalMap(map);\r\n          while(1) {\r\n             w.checkMovement;\r\n          }\r\n    }\r\n\r\n    Class World {\r\n       ArrayList&lt;ArrayList&lt;String&gt;&gt; originalMap;\r\n       void setOriginalMap(ArrayList&lt;ArrayList&lt;String&gt;&gt; map) {\r\n          originalMap = new ArrayList&lt;&gt;(map);\r\n       }\r\n       void checkMovement (String keyEvent, Player obj1) {\r\n          ArrayList&lt;ArrayList&lt;String&gt;&gt; copyMap = originalMap;\r\n          obj1.setPlayer();\r\n          printMap(copyMap, obj1);\r\n       }\r\nThe issue is that the movement is updated on the map, but the player is now in multiple locations being the ones previous... my map has turned into more of a route. Does this has something with using the same object reference? I make a &quot;copy&quot; inside of the Class method so isn&#39;t this local? \r\n\r\nWould appreciate some insight. \r\n\r\n\r\n          \r\n\r\n","title":"Comparing object references with multiple instantiation","body":"<p>G'day,</p>\n<p>I've been trying to finish an assignment and am learning a lot about OO and Java. Nearing the end of this project so very happy but thought I'd try get an interesting question out there, at least for me because of my lack in understanding.</p>\n<p>Some background to help clarify, I've used 2D ArrayLists to model a map. I've made a &quot;copy&quot; of the original so that I can update movements and locations, some are permitted some are not.</p>\n<p>I use a method to determine which movement is okay and to then update the &quot;copy&quot;. There are two classes involved here.</p>\n<pre><code>Class GameEngine {\n\n   void runGameLoop(ArrayList&lt;ArrayList&lt;String&gt;&gt; map) {  \n      World w = new World();\n      w.setOriginalMap(map);\n      while(1) {\n         w.checkMovement;\n      }\n}\n\nClass World {\n   ArrayList&lt;ArrayList&lt;String&gt;&gt; originalMap;\n   void setOriginalMap(ArrayList&lt;ArrayList&lt;String&gt;&gt; map) {\n      originalMap = new ArrayList&lt;&gt;(map);\n   }\n   void checkMovement (String keyEvent, Player obj1) {\n      ArrayList&lt;ArrayList&lt;String&gt;&gt; copyMap = originalMap;\n      obj1.setPlayer();\n      printMap(copyMap, obj1);\n   }\n</code></pre>\n<p>The issue is that the movement is updated on the map, but the player is now in multiple locations being the ones previous... my map has turned into more of a route. Does this has something with using the same object reference? I make a &quot;copy&quot; inside of the Class method so isn't this local?</p>\n<p>Would appreciate some insight.</p>\n"},{"tags":["java","drawing2d"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1652833225,"post_id":72281956,"comment_id":127700524,"body_markdown":"`paintComponent` is passed a `Graphics` context, why can&#39;t you just call `instanceOfPaintableObject.paintFields(g);` where `g` is the `Graphics` context passed to `paintComponent`?","body":"<code>paintComponent</code> is passed a <code>Graphics</code> context, why can&#39;t you just call <code>instanceOfPaintableObject.paintFields(g);</code> where <code>g</code> is the <code>Graphics</code> context passed to <code>paintComponent</code>?"},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652834054,"post_id":72281956,"comment_id":127700613,"body_markdown":"Hmm, because it doesn&#39;t accept a (g) if I try.","body":"Hmm, because it doesn&#39;t accept a (g) if I try."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652834120,"post_id":72281956,"comment_id":127700618,"body_markdown":"[mcve] - otherwise it&#39;s guess work","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - otherwise it&#39;s guess work"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1652834339,"post_id":72281956,"comment_id":127700644,"body_markdown":"Don&#39;t call `super.paintComponent` from `paint` - you&#39;ve just broken the whole paint chain and are going to end up with no end of issues.  Instead, override `paintComponent`","body":"Don&#39;t call <code>super.paintComponent</code> from <code>paint</code> - you&#39;ve just broken the whole paint chain and are going to end up with no end of issues.  Instead, override <code>paintComponent</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1652834439,"post_id":72281956,"comment_id":127700653,"body_markdown":"`Timer(0, `... well, you really don&#39;t like yourself.  This is likely going to cause you a lot of long time harm as you going to spam the Event Dispatching Thread, besides, in most cases, you&#39;re probably not going to achieve better the 5 milliseconds between updates anyway","body":"<code>Timer(0, </code>... well, you really don&#39;t like yourself.  This is likely going to cause you a lot of long time harm as you going to spam the Event Dispatching Thread, besides, in most cases, you&#39;re probably not going to achieve better the 5 milliseconds between updates anyway"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652834526,"post_id":72281956,"comment_id":127700671,"body_markdown":"Otherwise, when I add `fields(g);` to the end of `paintComponent` (I changed your code), it compiles and works in for me","body":"Otherwise, when I add <code>fields(g);</code> to the end of <code>paintComponent</code> (I changed your code), it compiles and works in for me"},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652834669,"post_id":72281956,"comment_id":127700700,"body_markdown":"Haha, I like your comments ;) I&#39;m a rookie so I will make a lot of these mistakes and are driving while I lay the roads, unfortunately. \n\nThe timer setup has just been set to 0 to begin with. paint() has now be refactored ;)","body":"Haha, I like your comments ;) I&#39;m a rookie so I will make a lot of these mistakes and are driving while I lay the roads, unfortunately.   The timer setup has just been set to 0 to begin with. paint() has now be refactored ;)"},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652834822,"post_id":72281956,"comment_id":127700726,"body_markdown":"Ahh I see, didn&#39;t try to put fields(g) at that scope, but what if I didn&#39;t wanted it there but under MyFrame()? (where I tried)","body":"Ahh I see, didn&#39;t try to put fields(g) at that scope, but what if I didn&#39;t wanted it there but under MyFrame()? (where I tried)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652834842,"post_id":72281956,"comment_id":127700728,"body_markdown":"At least you&#39;re building roads, I tend to just off road and bush bash my way to solution &#128540;","body":"At least you&#39;re building roads, I tend to just off road and bush bash my way to solution 😜"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652834952,"post_id":72281956,"comment_id":127700744,"body_markdown":"*&quot;but what if I didn&#39;t wanted it there but under MyFrame()? (where I tried)&quot;*, well you can&#39;t, as you don&#39;t have a valid `Graphics` context and it&#39;s unlikely that when `MyFrame` is constructed, any will be available to it, nor does it make any sense.  Paint is destructive, that is, every time a paint pass occurs, your component is expected to repaint itself from scratched","body":"<i>&quot;but what if I didn&#39;t wanted it there but under MyFrame()? (where I tried)&quot;</i>, well you can&#39;t, as you don&#39;t have a valid <code>Graphics</code> context and it&#39;s unlikely that when <code>MyFrame</code> is constructed, any will be available to it, nor does it make any sense.  Paint is destructive, that is, every time a paint pass occurs, your component is expected to repaint itself from scratched"},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652835292,"post_id":72281956,"comment_id":127700778,"body_markdown":"Ahh, but sometimes that is the funniest roads to take :P","body":"Ahh, but sometimes that is the funniest roads to take :P"},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652835366,"post_id":72281956,"comment_id":127700792,"body_markdown":"Hmm okay, it makes sense, but wouldn&#39;t it then make most sense to just make ALL graphics under paint() or paintComponent() instead like me and given it an extra call for fields to be painted?","body":"Hmm okay, it makes sense, but wouldn&#39;t it then make most sense to just make ALL graphics under paint() or paintComponent() instead like me and given it an extra call for fields to be painted?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652836527,"post_id":72281956,"comment_id":127700943,"body_markdown":"You have to, it&#39;s how the painting system works in Swing - see [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details.  If you want to do &quot;off screen&quot; rendering (fyi, Swing is already double buffered), you could use a `BufferedImage` and use it&#39;s `Graphics` context when ever you want, but if you wanted the results on the screen, you&#39;d need to paint the image via the `paintComponent` method.","body":"You have to, it&#39;s how the painting system works in Swing - see <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details.  If you want to do &quot;off screen&quot; rendering (fyi, Swing is already double buffered), you could use a <code>BufferedImage</code> and use it&#39;s <code>Graphics</code> context when ever you want, but if you wanted the results on the screen, you&#39;d need to paint the image via the <code>paintComponent</code> method."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652836546,"post_id":72281956,"comment_id":127700946,"body_markdown":"Also, as you seem to be doing, call `repaint` to request a new paint pass at some point in the future","body":"Also, as you seem to be doing, call <code>repaint</code> to request a new paint pass at some point in the future"}],"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652834384,"creation_date":1652832913,"question_id":72281956,"body_markdown":"I&#39;m trying to make some custom fields/circles, but I can&#39;t figure out how to call my method, as it needs to take Graphics as a parameter.\r\n\r\nI&#39;m already using the standard paint() and paintComponent() in other methods and do not want to move these fields inside one of those.\r\n\r\nI&#39;ve tried to make a &#39;&#39;new&#39;&#39; object like I would do with scanner, arraylist etc., but it is not possible and I can&#39;t seem to find anything on how to do so - Is it not even possible? If not, how are you guys calling your methods then?\r\n\r\n```\r\npublic void paintFields(Graphics g){\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                g2d.setColor(LightBlue);\r\n                g2d.setStroke(new BasicStroke(5));\r\n                g2d.drawOval(300,300,300,300);\r\n\r\n```\r\n\r\nOverview of the code in THIS class, maybe it gives a better understanding.\r\nI have a MyFrame dc = new MyFrame(); in another class which sets the underneath class in action\r\n\r\n```\r\npublic class MyFrame extends JPanel {\r\n        //color for fields\r\n        Color lightRed = new Color(255,100,100);\r\n        Color lightYellow = new Color(255,255,150);\r\n        Color LightBlue = new Color(170,220,255);\r\n        //attribute for fields (location, size, rotation)\r\n        int xc = 300, yc = 200, r = 100, diam = 25;\r\n        double inc = Math.PI/360, theta = 0, theta2 = 0;\r\n\r\n\r\n        public MyFrame () {\r\n                Timer timer = new Timer(0, event -&gt; { //set a delay for printing\r\n                        theta = theta + inc;\r\n                        repaint();\r\n                        theta2 = theta2 + inc;\r\n                        repaint();\r\n                }); //Anonymoous class\r\n                timer.start();\r\n        }\r\n\r\n        @Override\r\n        public void paint(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g;\r\n\r\n                g2d.rotate(theta2, xc, yc);\r\n                g2d.setColor(LightBlue);\r\n                g2d.setStroke(new BasicStroke(5));\r\n                g2d.drawOval(xc + r - diam / 2, yc + r - diam / 2, diam, diam);\r\n        }\r\n\r\n        public void fields(Graphics g){\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                g2d.setColor(LightBlue);\r\n                g2d.setStroke(new BasicStroke(5));\r\n                g2d.drawOval(300,300,300,300);\r\n        }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n","title":"Graphics 2D - How do I call my method as it takes (Graphics) as parameter","body":"<p>I'm trying to make some custom fields/circles, but I can't figure out how to call my method, as it needs to take Graphics as a parameter.</p>\n<p>I'm already using the standard paint() and paintComponent() in other methods and do not want to move these fields inside one of those.</p>\n<p>I've tried to make a ''new'' object like I would do with scanner, arraylist etc., but it is not possible and I can't seem to find anything on how to do so - Is it not even possible? If not, how are you guys calling your methods then?</p>\n<pre><code>public void paintFields(Graphics g){\n                Graphics2D g2d = (Graphics2D) g;\n                g2d.setColor(LightBlue);\n                g2d.setStroke(new BasicStroke(5));\n                g2d.drawOval(300,300,300,300);\n\n</code></pre>\n<p>Overview of the code in THIS class, maybe it gives a better understanding.\nI have a MyFrame dc = new MyFrame(); in another class which sets the underneath class in action</p>\n<pre><code>public class MyFrame extends JPanel {\n        //color for fields\n        Color lightRed = new Color(255,100,100);\n        Color lightYellow = new Color(255,255,150);\n        Color LightBlue = new Color(170,220,255);\n        //attribute for fields (location, size, rotation)\n        int xc = 300, yc = 200, r = 100, diam = 25;\n        double inc = Math.PI/360, theta = 0, theta2 = 0;\n\n\n        public MyFrame () {\n                Timer timer = new Timer(0, event -&gt; { //set a delay for printing\n                        theta = theta + inc;\n                        repaint();\n                        theta2 = theta2 + inc;\n                        repaint();\n                }); //Anonymoous class\n                timer.start();\n        }\n\n        @Override\n        public void paint(Graphics g) {\n                super.paintComponent(g);\n                Graphics2D g2d = (Graphics2D) g;\n\n                g2d.rotate(theta2, xc, yc);\n                g2d.setColor(LightBlue);\n                g2d.setStroke(new BasicStroke(5));\n                g2d.drawOval(xc + r - diam / 2, yc + r - diam / 2, diam, diam);\n        }\n\n        public void fields(Graphics g){\n                Graphics2D g2d = (Graphics2D) g;\n                g2d.setColor(LightBlue);\n                g2d.setStroke(new BasicStroke(5));\n                g2d.drawOval(300,300,300,300);\n        }\n}\n\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-data","bson","spring-mongodb"],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652833678,"creation_date":1652833678,"question_id":72282021,"body_markdown":"I need to start using `@Document` annotation (`org.springframework.data.mongodb.core.mapping.Document`) on a class which is used as an entity for `mongodb`. This class currently uses the `@BsonDiscriminator` annotation (`org.bson.codecs.pojo.annotations.BsonDiscriminator`) and the `@BsonProperty` annotation (`org.bson.codecs.pojo.annotations.BsonProperty`). \r\n\r\nCan I continue to use `@BsonDiscriminator` and `@BsonProperty`?  \r\nIs it correct to keep using them together with the `@Document` annotation?  \r\nMaybe Spring has its own similar annotations? \r\n\r\nI would not want to completely abandon these annotations, since the application is already running and I would like to keep the structure of the classes that are written to the database as close as possible. The ideal would be only add the ability to use the spring.\r\n\r\nMy classes now:\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@BsonDiscriminator(value = &quot;RealEstateDocument&quot;)\r\npublic class RealEstateDocument {\r\n  @BsonId\r\n  private String id;\r\n  \r\n  @BsonProperty(&quot;create&quot;)\r\n  private Instant creationTimestamp;\r\n\r\n  private RealEstateType type;\r\n  \r\n  @BsonProperty(useDiscriminator = true)\r\n  private AddressDocument address;\r\n  \r\n  private String addressRaw;\r\n}\r\n\r\npublic enum RealEstateType {\r\n  REAL_ESTATE(null, &quot;&quot;),\r\n  REAL_ESTATE_LAND(REAL_ESTATE, &quot;land&quot;),\r\n  REAL_ESTATE_BUILDING(REAL_ESTATE, &quot;building&quot;);\r\n\r\n  private final RealEstateType parent;\r\n  public final String title;\r\n}\r\n\r\n@Data\r\n@BsonDiscriminator(value = &quot;AddressDocument&quot;)\r\npublic class AddressDocument {\r\n  @BsonProperty(value = &quot;country&quot;, useDiscriminator = true)\r\n  private CountryDocument country;\r\n\r\n  @BsonProperty(value = &quot;federalDistrict&quot;)\r\n  private String federalDistrict;\r\n}\r\n\r\n@Data\r\n@BsonDiscriminator(value = &quot;CountryDocument&quot;)\r\npublic static class CountryDocument {\r\n  @BsonProperty(&quot;name&quot;)\r\n  private String name;\r\n}\r\n```","title":"Using @BsonDiscriminator and @BsonProperty with Spring Data Mongo. Is it possible?","body":"<p>I need to start using <code>@Document</code> annotation (<code>org.springframework.data.mongodb.core.mapping.Document</code>) on a class which is used as an entity for <code>mongodb</code>. This class currently uses the <code>@BsonDiscriminator</code> annotation (<code>org.bson.codecs.pojo.annotations.BsonDiscriminator</code>) and the <code>@BsonProperty</code> annotation (<code>org.bson.codecs.pojo.annotations.BsonProperty</code>).</p>\n<p>Can I continue to use <code>@BsonDiscriminator</code> and <code>@BsonProperty</code>?<br />\nIs it correct to keep using them together with the <code>@Document</code> annotation?<br />\nMaybe Spring has its own similar annotations?</p>\n<p>I would not want to completely abandon these annotations, since the application is already running and I would like to keep the structure of the classes that are written to the database as close as possible. The ideal would be only add the ability to use the spring.</p>\n<p>My classes now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@BsonDiscriminator(value = &quot;RealEstateDocument&quot;)\npublic class RealEstateDocument {\n  @BsonId\n  private String id;\n  \n  @BsonProperty(&quot;create&quot;)\n  private Instant creationTimestamp;\n\n  private RealEstateType type;\n  \n  @BsonProperty(useDiscriminator = true)\n  private AddressDocument address;\n  \n  private String addressRaw;\n}\n\npublic enum RealEstateType {\n  REAL_ESTATE(null, &quot;&quot;),\n  REAL_ESTATE_LAND(REAL_ESTATE, &quot;land&quot;),\n  REAL_ESTATE_BUILDING(REAL_ESTATE, &quot;building&quot;);\n\n  private final RealEstateType parent;\n  public final String title;\n}\n\n@Data\n@BsonDiscriminator(value = &quot;AddressDocument&quot;)\npublic class AddressDocument {\n  @BsonProperty(value = &quot;country&quot;, useDiscriminator = true)\n  private CountryDocument country;\n\n  @BsonProperty(value = &quot;federalDistrict&quot;)\n  private String federalDistrict;\n}\n\n@Data\n@BsonDiscriminator(value = &quot;CountryDocument&quot;)\npublic static class CountryDocument {\n  @BsonProperty(&quot;name&quot;)\n  private String name;\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","jbutton","layout-manager"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1652826219,"post_id":72279283,"comment_id":127699410,"body_markdown":"Swing was designed to be used with layout managers. The layout manager is resetting the bounds of each component to follow the rules of the layout manager which by default for the content pane of the frame is the BorderLayout. You don&#39;t specify a constraint when adding the components to the frame, so be default they are added to the CENTER. However, a BorderLayout will only support a single component in the CENTER so the issue you see is as a result of you trying to play with the bounds of the panel yourself. Don&#39;t use setBounds(). Use proper constraints for the BorderLayout.","body":"Swing was designed to be used with layout managers. The layout manager is resetting the bounds of each component to follow the rules of the layout manager which by default for the content pane of the frame is the BorderLayout. You don&#39;t specify a constraint when adding the components to the frame, so be default they are added to the CENTER. However, a BorderLayout will only support a single component in the CENTER so the issue you see is as a result of you trying to play with the bounds of the panel yourself. Don&#39;t use setBounds(). Use proper constraints for the BorderLayout."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652817279,"creation_date":1652816738,"answer_id":72279848,"question_id":72279283,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nA `JFrame` has a default `BorderLayout`, which I used to place the two `JPanels`.\r\n\r\nI added a `main` method so I could run the GUI.  I commented out the icon code, which doesn&#39;t make any sense for an undecorated `JFrame`.  I moved the  `setLocationRelativeTo` method to after the `pack` method, so the `JFrame` is actually centered.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.ComponentOrientation;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Point;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ExampleLayout {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew ExampleLayout();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tPoint point = new Point();\r\n    \r\n    \tpublic ExampleLayout() {\r\n    \t\tJFrame window = new JFrame();\r\n    //\t\tImageIcon icon = new ImageIcon(&quot;images/icon.jpg&quot;);\r\n    \r\n    \t\t// JFRAME\r\n    \t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\twindow.setTitle(&quot;Arkanoid&quot;);\r\n    \t\twindow.setUndecorated(true);\r\n    //\t\twindow.setIconImage(icon.getImage());\r\n    \r\n    \t\t// PANELS\r\n    \t\tJPanel gamePanel = new JPanel();\r\n    \t\tgamePanel.setBackground(Color.RED);\r\n    \t\tgamePanel.setPreferredSize(new Dimension(600, 600));\r\n    \r\n    \t\tJPanel menuPanel = new JPanel(new GridLayout(0, 1));\r\n    \t\tmenuPanel.setBackground(Color.BLACK);\r\n    \t\tmenuPanel.setComponentOrientation(ComponentOrientation.LEFT_TO_RIGHT);\r\n    \t\tmenuPanel.setPreferredSize(new Dimension(200, 600));\r\n    \r\n    \t\twindow.add(gamePanel, BorderLayout.CENTER);\r\n    \t\twindow.add(menuPanel, BorderLayout.EAST);\r\n    \r\n    \t\t// Buttons\r\n    \t\tJButton closeButton = new JButton(&quot;Close Me&quot;);\r\n    \t\tcloseButton.addActionListener(e -&gt; System.exit(0));\r\n    \t\tmenuPanel.add(closeButton);\r\n    \r\n    \t\tJButton playButton = new JButton(&quot;Play&quot;);\r\n    \t\tmenuPanel.add(playButton);\r\n    \r\n    \t\tJButton Button1 = new JButton(&quot;Test1&quot;);\r\n    \t\tmenuPanel.add(Button1);\r\n    \r\n    \t\tJButton Button2 = new JButton(&quot;Test2&quot;);\r\n    \t\tmenuPanel.add(Button2);\r\n    \r\n    \t\t// Labels\r\n    \r\n    \t\t// SHOW\r\n    \t\twindow.pack();\r\n    \t\twindow.setLocationRelativeTo(null);\r\n    \t\twindow.setVisible(true);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Problem with buttons exceeding the Panel (JAVA)","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>A <code>JFrame</code> has a default <code>BorderLayout</code>, which I used to place the two <code>JPanels</code>.</p>\n<p>I added a <code>main</code> method so I could run the GUI.  I commented out the icon code, which doesn't make any sense for an undecorated <code>JFrame</code>.  I moved the  <code>setLocationRelativeTo</code> method to after the <code>pack</code> method, so the <code>JFrame</code> is actually centered.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.ComponentOrientation;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.Point;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class ExampleLayout {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new ExampleLayout();\n            }\n        });\n    }\n\n    Point point = new Point();\n\n    public ExampleLayout() {\n        JFrame window = new JFrame();\n//      ImageIcon icon = new ImageIcon(&quot;images/icon.jpg&quot;);\n\n        // JFRAME\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setTitle(&quot;Arkanoid&quot;);\n        window.setUndecorated(true);\n//      window.setIconImage(icon.getImage());\n\n        // PANELS\n        JPanel gamePanel = new JPanel();\n        gamePanel.setBackground(Color.RED);\n        gamePanel.setPreferredSize(new Dimension(600, 600));\n\n        JPanel menuPanel = new JPanel(new GridLayout(0, 1));\n        menuPanel.setBackground(Color.BLACK);\n        menuPanel.setComponentOrientation(ComponentOrientation.LEFT_TO_RIGHT);\n        menuPanel.setPreferredSize(new Dimension(200, 600));\n\n        window.add(gamePanel, BorderLayout.CENTER);\n        window.add(menuPanel, BorderLayout.EAST);\n\n        // Buttons\n        JButton closeButton = new JButton(&quot;Close Me&quot;);\n        closeButton.addActionListener(e -&gt; System.exit(0));\n        menuPanel.add(closeButton);\n\n        JButton playButton = new JButton(&quot;Play&quot;);\n        menuPanel.add(playButton);\n\n        JButton Button1 = new JButton(&quot;Test1&quot;);\n        menuPanel.add(Button1);\n\n        JButton Button2 = new JButton(&quot;Test2&quot;);\n        menuPanel.add(Button2);\n\n        // Labels\n\n        // SHOW\n        window.pack();\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25316793,"reputation":3,"user_id":19138774,"display_name":"Sergio26"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72279848,"answer_count":1,"score":0,"last_activity_date":1652833478,"creation_date":1652813497,"question_id":72279283,"body_markdown":"I&#39;m having a problem with a layout I&#39;m trying to do in java. I have 2 panels in a 800x600 frame. The first panel &quot;gamePanel&quot; is (600x600) and the second &quot;menuPanel&quot; is (200x600). \r\n\r\nIn the menuPanel there are 4 buttons that I tried to organize as a single column of 4 rows using gridLayout(which partially worked). The buttons appear to be in place but when hovering on them they expand occupying the other panel (gamePanel). I tried placing them using setBounds but they directly disappear.\r\n\r\n[This is how it works before hovering the buttons.][1]\r\n[After hovering 2 buttons, but all 4 are displayed the same way][2]\r\n\r\nHere is the code:\r\n\r\n    public class Layout {\r\n    \tPoint point = new Point();\r\n    \tpublic Layout() {\r\n    \t\tJFrame window = new JFrame();\r\n    \t\tImageIcon icon = new ImageIcon(&quot;images/icon.jpg&quot;);\r\n    \t\t\r\n    \t\t//JFRAME \r\n    \t\twindow.setSize(800,600);\r\n    \t\twindow.setLocationRelativeTo(null);\r\n    \t\twindow.setTitle(&quot;Arkanoid&quot;);\r\n    \t\twindow.setUndecorated(true);\r\n    \t\twindow.setIconImage(icon.getImage());\r\n    \t\t\r\n    \t\t\r\n    \t\t//PANELS\r\n    \t\tJPanel gamePanel = new JPanel();\r\n    \t\tgamePanel.setBackground(Color.RED);\r\n    \t\tgamePanel.setBounds(0, 0, 600, 600);\r\n    \t\t\r\n    \t\tJPanel menuPanel = new JPanel(new GridLayout(4,1));\r\n    \t\tmenuPanel.setBackground(Color.BLACK);\r\n    \t\tmenuPanel.setBounds(600,0,200,600);\r\n    \t\tmenuPanel.setComponentOrientation(ComponentOrientation.LEFT_TO_RIGHT);\r\n    \t\t\r\n    \t\twindow.add(gamePanel);\r\n    \t\twindow.add(menuPanel);\r\n    \t\t\r\n    \t\t//Buttons\r\n    \t\tJButton closeButton = new JButton(&quot;Close Me&quot;);\r\n    \t\tcloseButton.addActionListener(e -&gt; System.exit(0));\r\n    \t    menuPanel.add(closeButton);\r\n    \t    \r\n    \t    JButton playButton = new JButton(&quot;Play&quot;);\r\n    \t    menuPanel.add(playButton);\r\n    \t    \r\n    \t    JButton Button1 = new JButton(&quot;Test1&quot;);\r\n    \t    menuPanel.add(Button1);\r\n    \t    \r\n    \t    JButton Button2 = new JButton(&quot;Test2&quot;);\r\n    \t    menuPanel.add(Button2);\r\n    \t    \r\n    \t    //Labels\r\n    \t \r\n    \r\n    \t\t//SHOW\r\n    \t    window.setVisible(true);\r\n    \t}\t\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/7ERz9.png\r\n  [2]: https://i.stack.imgur.com/Xy4jX.png","title":"Problem with buttons exceeding the Panel (JAVA)","body":"<p>I'm having a problem with a layout I'm trying to do in java. I have 2 panels in a 800x600 frame. The first panel &quot;gamePanel&quot; is (600x600) and the second &quot;menuPanel&quot; is (200x600).</p>\n<p>In the menuPanel there are 4 buttons that I tried to organize as a single column of 4 rows using gridLayout(which partially worked). The buttons appear to be in place but when hovering on them they expand occupying the other panel (gamePanel). I tried placing them using setBounds but they directly disappear.</p>\n<p><a href=\"https://i.stack.imgur.com/7ERz9.png\" rel=\"nofollow noreferrer\">This is how it works before hovering the buttons.</a>\n<a href=\"https://i.stack.imgur.com/Xy4jX.png\" rel=\"nofollow noreferrer\">After hovering 2 buttons, but all 4 are displayed the same way</a></p>\n<p>Here is the code:</p>\n<pre><code>public class Layout {\n    Point point = new Point();\n    public Layout() {\n        JFrame window = new JFrame();\n        ImageIcon icon = new ImageIcon(&quot;images/icon.jpg&quot;);\n        \n        //JFRAME \n        window.setSize(800,600);\n        window.setLocationRelativeTo(null);\n        window.setTitle(&quot;Arkanoid&quot;);\n        window.setUndecorated(true);\n        window.setIconImage(icon.getImage());\n        \n        \n        //PANELS\n        JPanel gamePanel = new JPanel();\n        gamePanel.setBackground(Color.RED);\n        gamePanel.setBounds(0, 0, 600, 600);\n        \n        JPanel menuPanel = new JPanel(new GridLayout(4,1));\n        menuPanel.setBackground(Color.BLACK);\n        menuPanel.setBounds(600,0,200,600);\n        menuPanel.setComponentOrientation(ComponentOrientation.LEFT_TO_RIGHT);\n        \n        window.add(gamePanel);\n        window.add(menuPanel);\n        \n        //Buttons\n        JButton closeButton = new JButton(&quot;Close Me&quot;);\n        closeButton.addActionListener(e -&gt; System.exit(0));\n        menuPanel.add(closeButton);\n        \n        JButton playButton = new JButton(&quot;Play&quot;);\n        menuPanel.add(playButton);\n        \n        JButton Button1 = new JButton(&quot;Test1&quot;);\n        menuPanel.add(Button1);\n        \n        JButton Button2 = new JButton(&quot;Test2&quot;);\n        menuPanel.add(Button2);\n        \n        //Labels\n     \n\n        //SHOW\n        window.setVisible(true);\n    }   \n}\n</code></pre>\n"},{"tags":["java","swing","polygon","java-2d","ellipse"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":3,"creation_date":1652797427,"post_id":72275580,"comment_id":127690138,"body_markdown":"You can just use a `java.awt.Shape`, with its corresponding `contains` method. Later on (for collision detection) the `java.awt.geom.Area` class may help as a naive approach, with its corresponding `intersect(Area)` method.","body":"You can just use a <code>java.awt.Shape</code>, with its corresponding <code>contains</code> method. Later on (for collision detection) the <code>java.awt.geom.Area</code> class may help as a naive approach, with its corresponding <code>intersect(Area)</code> method."},{"owner":{"account_id":24137454,"reputation":1,"user_id":18104144,"display_name":"Sule26"},"score":0,"creation_date":1652799049,"post_id":72275580,"comment_id":127690809,"body_markdown":"@gthanop Thanks! I&#39;m gonna take a look.","body":"@gthanop Thanks! I&#39;m gonna take a look."}],"owner":{"account_id":24137454,"reputation":1,"user_id":18104144,"display_name":"Sule26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652833244,"creation_date":1652796667,"question_id":72275580,"body_markdown":"How can I know if the user has clicked inside a Pentagon and a Ellipse? I was able to create a method for Circle, Triangle and Rect, but I got stucked in those two figures.\r\n\r\nRect:\r\n```java\r\npublic boolean clicked(int x, int y) {\r\n        return (this.getX() &lt;= x &amp;&amp; x &lt;= this.getX() + this.getW() &amp;&amp; this.getY() &lt;= y &amp;&amp; y &lt;= this.getY() + this.getH());\r\n    }\r\n```\r\n\r\nCircle:\r\n```java\r\npublic boolean clicked(int x, int y) {\r\n        int cx = this.getX() + (this.getW() / 2);\r\n        int cy = this.getY() + (this.getH() / 2);\r\n        int r = this.getW() / 2;\r\n        return Math.sqrt(Math.pow(x - cx, 2) + Math.pow(y - cy, 2)) &lt;= r;\r\n    }\r\n```\r\nTriangle:\r\n```java\r\nprivate int[] xdir = { this.getX(), ((this.getW()) / 2) + this.getX(), this.getW() + this.getX() };\r\nprivate int[] ydir = { this.getY() + this.getH(), this.getY(), this.getY() + this.getH() };\r\n\r\npublic boolean clicked(int x, int y) {\r\n\r\n        double A = area(this.xdir[0], this.ydir[0],this.xdir[1], this.ydir[1], this.xdir[2], this.ydir[2]);\r\n        double A1 = area(x, y, this.xdir[1], this.ydir[1], this.xdir[2], this.ydir[2]);\r\n        double A2 = area(this.xdir[0], this.ydir[0], x, y,  this.xdir[2], this.ydir[2]);\r\n        double A3 = area(this.xdir[0], this.ydir[0], this.xdir[1], this.ydir[1], x, y);\r\n\r\n        return A == A1 + A2 + A3;\r\n    }\r\n\r\n    public double area(int x1, int y1, int x2,  int y2, int x3, int y3) {\r\n        return Math.abs((x1*(y2-y3) + x2*(y3-y1)+ x3*(y1-y2))/2.0);\r\n    }\r\n```\r\n\r\nJust to let you aware, my Pentagon and Ellipse were created this was:\r\n\r\nEllipse:\r\n```java\r\ng2d.setColor(this.outline);\r\ng2d.draw(new Ellipse2D.Double(this.getX(), this.getY(), this.getW() / 2, this.getH()));\r\ng2d.setColor(this.background);\r\ng2d.fillOval(this.getX(), this.getY(), this.getW() / 2, this.getH());\r\n```\r\n\r\nPentagon:\r\n```java\r\nint[] xdir = { (int) (this.getX() + this.getW() / 2), this.getX() + this.getW(),\r\n            (int) (this.getX() + this.getW() * 0.75), (int) (this.getX() + \r\n            this.getW() * 0.25), this.getX() };\r\nint[] ydir = { this.getY(), (int) (this.getY() + this.getH() * 0.40), this.getY() + this.getH(), this.getY() + this.getH(), (int) (this.getY() + this.getH() * 0.40) };\r\ng2d.setColor(this.outline);\r\ng2d.drawPolygon(xdir, ydir, 5);\r\ng2d.setColor(this.background);\r\ng2d.fillPolygon(xdir, ydir, 5);\r\n```\r\nAs you can see, I always return true or false, so I need to do the same with both figures left. Besides that, I read something about collision but I didn&#39;t understood how to implement it without having issues with the others figures.\r\n\r\nThis is how my project looks like:\r\n[Project image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N1dfM.png","title":"Click inside a figure","body":"<p>How can I know if the user has clicked inside a Pentagon and a Ellipse? I was able to create a method for Circle, Triangle and Rect, but I got stucked in those two figures.</p>\n<p>Rect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean clicked(int x, int y) {\n        return (this.getX() &lt;= x &amp;&amp; x &lt;= this.getX() + this.getW() &amp;&amp; this.getY() &lt;= y &amp;&amp; y &lt;= this.getY() + this.getH());\n    }\n</code></pre>\n<p>Circle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean clicked(int x, int y) {\n        int cx = this.getX() + (this.getW() / 2);\n        int cy = this.getY() + (this.getH() / 2);\n        int r = this.getW() / 2;\n        return Math.sqrt(Math.pow(x - cx, 2) + Math.pow(y - cy, 2)) &lt;= r;\n    }\n</code></pre>\n<p>Triangle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int[] xdir = { this.getX(), ((this.getW()) / 2) + this.getX(), this.getW() + this.getX() };\nprivate int[] ydir = { this.getY() + this.getH(), this.getY(), this.getY() + this.getH() };\n\npublic boolean clicked(int x, int y) {\n\n        double A = area(this.xdir[0], this.ydir[0],this.xdir[1], this.ydir[1], this.xdir[2], this.ydir[2]);\n        double A1 = area(x, y, this.xdir[1], this.ydir[1], this.xdir[2], this.ydir[2]);\n        double A2 = area(this.xdir[0], this.ydir[0], x, y,  this.xdir[2], this.ydir[2]);\n        double A3 = area(this.xdir[0], this.ydir[0], this.xdir[1], this.ydir[1], x, y);\n\n        return A == A1 + A2 + A3;\n    }\n\n    public double area(int x1, int y1, int x2,  int y2, int x3, int y3) {\n        return Math.abs((x1*(y2-y3) + x2*(y3-y1)+ x3*(y1-y2))/2.0);\n    }\n</code></pre>\n<p>Just to let you aware, my Pentagon and Ellipse were created this was:</p>\n<p>Ellipse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>g2d.setColor(this.outline);\ng2d.draw(new Ellipse2D.Double(this.getX(), this.getY(), this.getW() / 2, this.getH()));\ng2d.setColor(this.background);\ng2d.fillOval(this.getX(), this.getY(), this.getW() / 2, this.getH());\n</code></pre>\n<p>Pentagon:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] xdir = { (int) (this.getX() + this.getW() / 2), this.getX() + this.getW(),\n            (int) (this.getX() + this.getW() * 0.75), (int) (this.getX() + \n            this.getW() * 0.25), this.getX() };\nint[] ydir = { this.getY(), (int) (this.getY() + this.getH() * 0.40), this.getY() + this.getH(), this.getY() + this.getH(), (int) (this.getY() + this.getH() * 0.40) };\ng2d.setColor(this.outline);\ng2d.drawPolygon(xdir, ydir, 5);\ng2d.setColor(this.background);\ng2d.fillPolygon(xdir, ydir, 5);\n</code></pre>\n<p>As you can see, I always return true or false, so I need to do the same with both figures left. Besides that, I read something about collision but I didn't understood how to implement it without having issues with the others figures.</p>\n<p>This is how my project looks like:\n<a href=\"https://i.stack.imgur.com/N1dfM.png\" rel=\"nofollow noreferrer\">Project image</a></p>\n"},{"tags":["java","android","xamarin","incompatibility"],"comments":[{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1652856107,"post_id":72281926,"comment_id":127704361,"body_markdown":"But how did you create the first Pixel 5 (API 30)? In addition, had you done everything following the [official document](https://learn.microsoft.com/en-us/xamarin/android/get-started/installation/windows)? Finally, ensure there is only one jdk in the jdk folder.","body":"But how did you create the first Pixel 5 (API 30)? In addition, had you done everything following the <a href=\"https://learn.microsoft.com/en-us/xamarin/android/get-started/installation/windows\" rel=\"nofollow noreferrer\">official document</a>? Finally, ensure there is only one jdk in the jdk folder."},{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1652856178,"post_id":72281926,"comment_id":127704383,"body_markdown":"You can also try the solution in this [link](https://developercommunity.visualstudio.com/t/issues-creating-android-emulator/1467306).","body":"You can also try the solution in this <a href=\"https://developercommunity.visualstudio.com/t/issues-creating-android-emulator/1467306\" rel=\"nofollow noreferrer\">link</a>."},{"owner":{"account_id":25319115,"reputation":1,"user_id":19140676,"display_name":"awpie"},"score":0,"creation_date":1652914926,"post_id":72281926,"comment_id":127725915,"body_markdown":"I made the first Pixel 5 after Android Device Manager prompted me to after I launched it for the first time, with no issues. I can&#39;t remember what changed between then and now. I set up everything as the official doc instructed, and I tried putting only 1 JDK in the JDK folder. I have another question now- is simply downloading a JDK, unzipping it, and moving it to the JDK folder how you&#39;re supposed to get and use a new JDK? I saw some articles describing &quot;installing&quot; a JDK into a java folder by running a .exe.","body":"I made the first Pixel 5 after Android Device Manager prompted me to after I launched it for the first time, with no issues. I can&#39;t remember what changed between then and now. I set up everything as the official doc instructed, and I tried putting only 1 JDK in the JDK folder. I have another question now- is simply downloading a JDK, unzipping it, and moving it to the JDK folder how you&#39;re supposed to get and use a new JDK? I saw some articles describing &quot;installing&quot; a JDK into a java folder by running a .exe."},{"owner":{"account_id":25319115,"reputation":1,"user_id":19140676,"display_name":"awpie"},"score":0,"creation_date":1652915662,"post_id":72281926,"comment_id":127726036,"body_markdown":"Also tried the solution in the second link. Both locations, the &quot;C:\\program files\\java folder&quot; and the &quot;C:\\program files\\android\\jdk\\microsoft_dist_openjdk_1.8.0.25&quot; folder, do not work.\nNote: I did have to manually create the &quot;microsoft_dist_openjdk_1.8.0.25&quot; under the jdk folder.","body":"Also tried the solution in the second link. Both locations, the &quot;C:\\program files\\java folder&quot; and the &quot;C:\\program files\\android\\jdk\\microsoft_dist_openjdk_1.8.0.25&quot; folder, do not work. Note: I did have to manually create the &quot;microsoft_dist_openjdk_1.8.0.25&quot; under the jdk folder."},{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1652926480,"post_id":72281926,"comment_id":127727738,"body_markdown":"Maybe you can change the Tools -&gt; Options -&gt; Xamarin -&gt; Android Settings -&gt; JDK Locations to another folder which has a new JDK to use a new JDK.","body":"Maybe you can change the Tools -&gt; Options -&gt; Xamarin -&gt; Android Settings -&gt; JDK Locations to another folder which has a new JDK to use a new JDK."}],"owner":{"account_id":25319115,"reputation":1,"user_id":19140676,"display_name":"awpie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652832481,"creation_date":1652832481,"question_id":72281926,"body_markdown":"Am trying to make a mobile game with xamarin/monogame using an android emulator.\r\n\r\nI have a virtual Pixel 5 (API 30) created in android device manager that launches fine but refuses to be deployed to, so I tried to delete it and create another.\r\n\r\nDeletion returns error message saying that the AVD can&#39;t be deleted because I have an incompatible JDK, please install Microsoft OpenJDK...\r\nThe website (https://learn.microsoft.com/en-us/xamarin/android/get-started/installation/openjdk) the error message points me to tells me that Microsoft&#39;s OJDK is automatically installed if you selected the android SDK packages when installing visual studio community, which I did. Reinstalled this package and the error persists.\r\n\r\nI have tried:\r\n\r\nManually downloading ODJK 18, 17, 11, and 8, and extracting to C:\\Program Files\\Android\\jdk, then pointing Xamarin to the file path. I even ran &quot;java -version&quot; in Android adb command prompt, and it tells me that I do indeed have the JDKs installed. This is what it returns:\r\n\r\nopenjdk version &quot;17.0.2&quot; 2022-01-18 LTS\r\n\r\nOpenJDK Runtime Environment Microsoft-30338 (build 17.0.2+8-LTS)\r\n\r\nOpenJDK 64-Bit Server VM Microsoft-30338 (build 17.0.2+8-LTS, mixed mode, sharing)\r\n\r\nI have also tried reinstalling VSC 2019 and it didn&#39;t work.\r\n\r\nOther info: Initially the file location for the &quot;automatically installed from android SDK package&#39;s ODJK&quot; was under something called Eclipse foundation in C:\\Program Files\\Eclipse Foundation. I moved the only file in this folder (jdk-8.0.302.8-hotspot) to C:\\Program Files\\Android\\jdk and set that as Xamarin&#39;s JDK location, restarted vsc, and tried again, to no avail.\r\n","title":"Cannot delete AVDs or create new AVD in Android device manager due to &quot;incompatible JDK&quot;","body":"<p>Am trying to make a mobile game with xamarin/monogame using an android emulator.</p>\n<p>I have a virtual Pixel 5 (API 30) created in android device manager that launches fine but refuses to be deployed to, so I tried to delete it and create another.</p>\n<p>Deletion returns error message saying that the AVD can't be deleted because I have an incompatible JDK, please install Microsoft OpenJDK...\nThe website (<a href=\"https://learn.microsoft.com/en-us/xamarin/android/get-started/installation/openjdk\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/xamarin/android/get-started/installation/openjdk</a>) the error message points me to tells me that Microsoft's OJDK is automatically installed if you selected the android SDK packages when installing visual studio community, which I did. Reinstalled this package and the error persists.</p>\n<p>I have tried:</p>\n<p>Manually downloading ODJK 18, 17, 11, and 8, and extracting to C:\\Program Files\\Android\\jdk, then pointing Xamarin to the file path. I even ran &quot;java -version&quot; in Android adb command prompt, and it tells me that I do indeed have the JDKs installed. This is what it returns:</p>\n<p>openjdk version &quot;17.0.2&quot; 2022-01-18 LTS</p>\n<p>OpenJDK Runtime Environment Microsoft-30338 (build 17.0.2+8-LTS)</p>\n<p>OpenJDK 64-Bit Server VM Microsoft-30338 (build 17.0.2+8-LTS, mixed mode, sharing)</p>\n<p>I have also tried reinstalling VSC 2019 and it didn't work.</p>\n<p>Other info: Initially the file location for the &quot;automatically installed from android SDK package's ODJK&quot; was under something called Eclipse foundation in C:\\Program Files\\Eclipse Foundation. I moved the only file in this folder (jdk-8.0.302.8-hotspot) to C:\\Program Files\\Android\\jdk and set that as Xamarin's JDK location, restarted vsc, and tried again, to no avail.</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652829915,"creation_date":1652829915,"answer_id":72281704,"question_id":72281549,"body_markdown":"That&#39;s a given fact; it only uses `com.google.api.gax.core.InstantiatingExecutorProvider`:\r\n\r\nSee [`SubscriberStubSettings.java`](https://github.com/googleapis/java-pubsub/blob/main/google-cloud-pubsub/src/main/java/com/google/cloud/pubsub/v1/stub/SubscriberStubSettings.java)","title":"java.lang.NoSuchMethodError: &#39;com.google.api.gax.rpc.StubSettings$Builder com.google.cloud.pubsub.v1.stub.SubscriberStubSettings$Builder.setBackground","body":"<p>That's a given fact; it only uses <code>com.google.api.gax.core.InstantiatingExecutorProvider</code>:</p>\n<p>See <a href=\"https://github.com/googleapis/java-pubsub/blob/main/google-cloud-pubsub/src/main/java/com/google/cloud/pubsub/v1/stub/SubscriberStubSettings.java\" rel=\"nofollow noreferrer\"><code>SubscriberStubSettings.java</code></a></p>\n"}],"owner":{"account_id":3249477,"reputation":502,"user_id":2740179,"accept_rate":33,"display_name":"LuisComS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1072,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652832455,"creation_date":1652828342,"question_id":72281549,"body_markdown":"Im am trying to use google cloud pubsub with actuator but when I call /actuator/health the program throws the following exeption:\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;com.google.api.gax.rpc.StubSettings$Builder com.google.cloud.pubsub.v1.stub.SubscriberStubSettings$Builder.setBackgroundExecutorProvider(com.google.api.gax.core.ExecutorProvider)&#39;\r\n\tat com.google.cloud.spring.pubsub.support.DefaultSubscriberFactory.buildSubscriberStubSettings(DefaultSubscriberFactory.java:398) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\r\n\tat com.google.cloud.spring.pubsub.support.DefaultSubscriberFactory.createSubscriberStub(DefaultSubscriberFactory.java:339) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\r\n\tat com.google.cloud.spring.pubsub.core.subscriber.PubSubSubscriberTemplate.getSubscriberStub(PubSubSubscriberTemplate.java:527) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\r\n\tat com.google.cloud.spring.pubsub.core.subscriber.PubSubSubscriberTemplate.pullAsync(PubSubSubscriberTemplate.java:209) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\r\n\tat com.google.cloud.spring.pubsub.core.subscriber.PubSubSubscriberTemplate.pullAsync(PubSubSubscriberTemplate.java:259) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\r\n\tat com.google.cloud.spring.pubsub.core.PubSubTemplate.pullAsync(PubSubTemplate.java:147) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\r\n\tat com.google.cloud.spring.autoconfigure.pubsub.health.PubSubHealthIndicator.pullMessage(PubSubHealthIndicator.java:121) ~[spring-cloud-gcp-autoconfigure-3.2.1.jar:3.2.1]\r\n\tat com.google.cloud.spring.autoconfigure.pubsub.health.PubSubHealthIndicator.doHealthCheck(PubSubHealthIndicator.java:100) ~[spring-cloud-gcp-autoconfigure-3.2.1.jar:3.2.1]\r\n\tat com.google.cloud.spring.autoconfigure.pubsub.health.PubSubHealthIndicator.doHealthCheck(PubSubHealthIndicator.java:95) ~[spring-cloud-gcp-autoconfigure-3.2.1.jar:3.2.1]\r\n\tat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n```\r\n\r\nLine that throws error is that, saying that method does not exists.\r\n\r\n[DefaultSubscriberFactory.java#L398][1]\r\n\r\n```java\r\n    ExecutorProvider executor = getExecutorProvider(subscriptionName);\r\n    if (executor != null) {\r\n      subscriberStubSettings.setBackgroundExecutorProvider(executor);\r\n    }\r\n```\r\n\r\nI tried to modify versions of the libs without success. \r\n\r\nSpring Boot version 2.3.1.RELEASE\r\n```groovy\r\n    implementation &#39;org.springframework.integration:spring-integration-core&#39;\r\n    implementation platform(&#39;com.google.cloud:spring-cloud-gcp-dependencies:3.2.1&#39;)\r\n    implementation &#39;com.google.cloud:spring-cloud-gcp-starter&#39;\r\n    implementation &#39;com.google.cloud:spring-cloud-gcp-starter-pubsub&#39;\r\n```\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudPlatform/spring-cloud-gcp/blob/main/spring-cloud-gcp-pubsub/src/main/java/com/google/cloud/spring/pubsub/support/DefaultSubscriberFactory.java#L398","title":"java.lang.NoSuchMethodError: &#39;com.google.api.gax.rpc.StubSettings$Builder com.google.cloud.pubsub.v1.stub.SubscriberStubSettings$Builder.setBackground","body":"<p>Im am trying to use google cloud pubsub with actuator but when I call /actuator/health the program throws the following exeption:</p>\n<pre><code>java.lang.NoSuchMethodError: 'com.google.api.gax.rpc.StubSettings$Builder com.google.cloud.pubsub.v1.stub.SubscriberStubSettings$Builder.setBackgroundExecutorProvider(com.google.api.gax.core.ExecutorProvider)'\n    at com.google.cloud.spring.pubsub.support.DefaultSubscriberFactory.buildSubscriberStubSettings(DefaultSubscriberFactory.java:398) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\n    at com.google.cloud.spring.pubsub.support.DefaultSubscriberFactory.createSubscriberStub(DefaultSubscriberFactory.java:339) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\n    at com.google.cloud.spring.pubsub.core.subscriber.PubSubSubscriberTemplate.getSubscriberStub(PubSubSubscriberTemplate.java:527) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\n    at com.google.cloud.spring.pubsub.core.subscriber.PubSubSubscriberTemplate.pullAsync(PubSubSubscriberTemplate.java:209) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\n    at com.google.cloud.spring.pubsub.core.subscriber.PubSubSubscriberTemplate.pullAsync(PubSubSubscriberTemplate.java:259) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\n    at com.google.cloud.spring.pubsub.core.PubSubTemplate.pullAsync(PubSubTemplate.java:147) ~[spring-cloud-gcp-pubsub-3.2.1.jar:3.2.1]\n    at com.google.cloud.spring.autoconfigure.pubsub.health.PubSubHealthIndicator.pullMessage(PubSubHealthIndicator.java:121) ~[spring-cloud-gcp-autoconfigure-3.2.1.jar:3.2.1]\n    at com.google.cloud.spring.autoconfigure.pubsub.health.PubSubHealthIndicator.doHealthCheck(PubSubHealthIndicator.java:100) ~[spring-cloud-gcp-autoconfigure-3.2.1.jar:3.2.1]\n    at com.google.cloud.spring.autoconfigure.pubsub.health.PubSubHealthIndicator.doHealthCheck(PubSubHealthIndicator.java:95) ~[spring-cloud-gcp-autoconfigure-3.2.1.jar:3.2.1]\n    at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388) ~[spring-boot-actuator-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n</code></pre>\n<p>Line that throws error is that, saying that method does not exists.</p>\n<p><a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/blob/main/spring-cloud-gcp-pubsub/src/main/java/com/google/cloud/spring/pubsub/support/DefaultSubscriberFactory.java#L398\" rel=\"nofollow noreferrer\">DefaultSubscriberFactory.java#L398</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    ExecutorProvider executor = getExecutorProvider(subscriptionName);\n    if (executor != null) {\n      subscriberStubSettings.setBackgroundExecutorProvider(executor);\n    }\n</code></pre>\n<p>I tried to modify versions of the libs without success.</p>\n<p>Spring Boot version 2.3.1.RELEASE</p>\n<pre><code>    implementation 'org.springframework.integration:spring-integration-core'\n    implementation platform('com.google.cloud:spring-cloud-gcp-dependencies:3.2.1')\n    implementation 'com.google.cloud:spring-cloud-gcp-starter'\n    implementation 'com.google.cloud:spring-cloud-gcp-starter-pubsub'\n</code></pre>\n"},{"tags":["java","memory-leaks","bufferedimage"],"comments":[{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1652830484,"post_id":72281752,"comment_id":127700178,"body_markdown":"Try with the serial garbage collector(-XX:+UseSerialGC)","body":"Try with the serial garbage collector(-XX:+UseSerialGC)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652830864,"post_id":72281752,"comment_id":127700222,"body_markdown":"From the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Image.html#flush()) says *&quot;BufferedImage objects leave the primary Raster which stores their pixels untouched, but flush any information cached about those pixels such as copies uploaded to the display hardware for accelerated blits.&quot;* - so flushing a `BufferedImage` might not release as much memory as you might think","body":"From the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Image.html#flush()\" rel=\"nofollow noreferrer\">JavaDocs</a> says <i>&quot;BufferedImage objects leave the primary Raster which stores their pixels untouched, but flush any information cached about those pixels such as copies uploaded to the display hardware for accelerated blits.&quot;</i> - so flushing a <code>BufferedImage</code> might not release as much memory as you might think"},{"owner":{"account_id":8603521,"reputation":117,"user_id":6444293,"display_name":"Alessandro Valentino"},"score":0,"creation_date":1652831151,"post_id":72281752,"comment_id":127700259,"body_markdown":"But is it normal for the memory to still be there after the method is done executing? I started using the flush() method cause i saw memory still there after the method was done","body":"But is it normal for the memory to still be there after the method is done executing? I started using the flush() method cause i saw memory still there after the method was done"},{"owner":{"account_id":8603521,"reputation":117,"user_id":6444293,"display_name":"Alessandro Valentino"},"score":0,"creation_date":1652832250,"post_id":72281752,"comment_id":127700396,"body_markdown":"Edited question with more details","body":"Edited question with more details"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1652832545,"post_id":72281752,"comment_id":127700437,"body_markdown":"We can&#39;t see that this is the cause of any &quot;memory increase.&quot;  If you get out of memory errors, you have a problem.  But just memory increasing is normal because the garbage collector doesn&#39;t run until it needs to.","body":"We can&#39;t see that this is the cause of any &quot;memory increase.&quot;  If you get out of memory errors, you have a problem.  But just memory increasing is normal because the garbage collector doesn&#39;t run until it needs to."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652833262,"post_id":72281752,"comment_id":127700529,"body_markdown":"The JVM does not release memory back to the operating system. GC&#39;d objects just go back onto the heap free list. So viewing memory usage via the Task Manager isn&#39;t going to tell you anything about the actual heap memory usage of the program. If you want the `BufferedImage` to completely disappear, let it be GC&#39;d.","body":"The JVM does not release memory back to the operating system. GC&#39;d objects just go back onto the heap free list. So viewing memory usage via the Task Manager isn&#39;t going to tell you anything about the actual heap memory usage of the program. If you want the <code>BufferedImage</code> to completely disappear, let it be GC&#39;d."},{"owner":{"account_id":8603521,"reputation":117,"user_id":6444293,"display_name":"Alessandro Valentino"},"score":0,"creation_date":1652833620,"post_id":72281752,"comment_id":127700567,"body_markdown":"From what i understand, then it should not be a problem, but then when i reach high amounts of memory, the application starts lagging a lot. I was convinced it was related, probably i was wrong.","body":"From what i understand, then it should not be a problem, but then when i reach high amounts of memory, the application starts lagging a lot. I was convinced it was related, probably i was wrong."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652833937,"post_id":72281752,"comment_id":127700599,"body_markdown":"Probably you weren&#39;t releasing the `BufferedImage` objects to garbage collection. Merely flushing them doesn&#39;t accomplish enough, as @MadProgrammer points out above.","body":"Probably you weren&#39;t releasing the <code>BufferedImage</code> objects to garbage collection. Merely flushing them doesn&#39;t accomplish enough, as @MadProgrammer points out above."}],"owner":{"account_id":8603521,"reputation":117,"user_id":6444293,"display_name":"Alessandro Valentino"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652832233,"creation_date":1652830403,"question_id":72281752,"body_markdown":"I have this simple code here in my application:\r\n\r\n```\r\npublic static boolean makeImage(String path){\r\n     BufferedImage inputImage = ImageIO.read(path);\r\n}\r\n```\r\n\r\nI also tried [this][1] answer here but it doesn&#39;t matter how I initialize the BufferedImage, when the image is loaded in the BifferedImage, the RAM usage of the app goes up and never go down. &lt;br&gt;After the method is executed the ram is still occupied and when i call the method `inputImage.flush()` nothing changes.&lt;br&gt;\r\nIt does not seem to be a `ImageIO.read(path)` problem cause initializing the image the other way has the same result.&lt;br&gt;\r\nHow can i get rid of this BufferedImage from the RAM?\r\n\r\nEdit:\nThis line of code i reported here is the result of various tests in my application after isolating the memory increase to this buffered image. I am looking at the memory from task manager in windows and top command on linux. The memory does not grow until it throws OutOfMemoryException but remains stuck there as if the image is never released. This causes me problems because in my full application, various images are created over time and ram keeps growing. I looked at a heap dump and i see a large amount of byte[] elements but i am not sure how to interpret it because the dump i made when ram was low looks very similar to when i encountered the problem ( with over 1gb of ram occupied, normally is like 200 mb )\r\n\r\n  [1]: https://stackoverflow.com/a/13605411/6444293","title":"Java BufferedImage remains in RAM after call to flush()","body":"<p>I have this simple code here in my application:</p>\n<pre><code>public static boolean makeImage(String path){\n     BufferedImage inputImage = ImageIO.read(path);\n}\n</code></pre>\n<p>I also tried <a href=\"https://stackoverflow.com/a/13605411/6444293\">this</a> answer here but it doesn't matter how I initialize the BufferedImage, when the image is loaded in the BifferedImage, the RAM usage of the app goes up and never go down. <br>After the method is executed the ram is still occupied and when i call the method <code>inputImage.flush()</code> nothing changes.<br>\nIt does not seem to be a <code>ImageIO.read(path)</code> problem cause initializing the image the other way has the same result.<br>\nHow can i get rid of this BufferedImage from the RAM?</p>\n<p>Edit:\nThis line of code i reported here is the result of various tests in my application after isolating the memory increase to this buffered image. I am looking at the memory from task manager in windows and top command on linux. The memory does not grow until it throws OutOfMemoryException but remains stuck there as if the image is never released. This causes me problems because in my full application, various images are created over time and ram keeps growing. I looked at a heap dump and i see a large amount of byte[] elements but i am not sure how to interpret it because the dump i made when ram was low looks very similar to when i encountered the problem ( with over 1gb of ram occupied, normally is like 200 mb )</p>\n"},{"tags":["java","loops","arraylist","indexoutofboundsexception","wordle-game"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1652808089,"post_id":72278236,"comment_id":127694207,"body_markdown":"Please provide the exception and identify the line of code which is failing.","body":"Please provide the exception and identify the line of code which is failing."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1652808526,"post_id":72278236,"comment_id":127694336,"body_markdown":"You should always add the full stack trace to your question. As far as I can see the only line that could throw that error is `System.out.println(inputs.get(aaa));`. So you need to debug it and see why `aaa` is getting too large.","body":"You should always add the full stack trace to your question. As far as I can see the only line that could throw that error is <code>System.out.println(inputs.get(aaa));</code>. So you need to debug it and see why <code>aaa</code> is getting too large."}],"answers":[{"tags":[],"owner":{"account_id":25316260,"reputation":1,"user_id":19138335,"display_name":"rhoo123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652809930,"creation_date":1652809930,"answer_id":72278588,"question_id":72278236,"body_markdown":"after some testing I found a solution. \r\n\r\nMy error was in \r\n```\r\nfor (int aa = 0; aa&lt;testnum2; aa++) {\r\n       System.out.println(inputs.get(aaa));\r\n       aaa+=1;\r\n                 }\r\n```\r\nI changed it to: \r\n```\r\nfor (int aa = 0; aa&lt;testnum2; aa++) {\r\n\t  \taaa = aa;\r\n\t  \tSystem.out.println(inputs.get(aaa));\r\n}\r\n```\r\nThe error was the aaa incremented after it got accessed, so I did it before and set it equal to aa.","title":"Getting IndexOutOfBounds exceptions with Arraylist in a Loop","body":"<p>after some testing I found a solution.</p>\n<p>My error was in</p>\n<pre><code>for (int aa = 0; aa&lt;testnum2; aa++) {\n       System.out.println(inputs.get(aaa));\n       aaa+=1;\n                 }\n</code></pre>\n<p>I changed it to:</p>\n<pre><code>for (int aa = 0; aa&lt;testnum2; aa++) {\n        aaa = aa;\n        System.out.println(inputs.get(aaa));\n}\n</code></pre>\n<p>The error was the aaa incremented after it got accessed, so I did it before and set it equal to aa.</p>\n"}],"owner":{"account_id":25316260,"reputation":1,"user_id":19138335,"display_name":"rhoo123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652831289,"creation_date":1652807958,"question_id":72278236,"body_markdown":"I am making a game similar to [*Worldle*](https://en.wikipedia.org/wiki/Wordle). \r\n\r\nI am trying append input to an `Arraylist` each time the loop executes.\r\n\r\nWhile also trying to keep the format of wordle (`testnum` and `testnum2`). I am quite new to java and do not know why I am getting an `IndexOutOfBoundsException`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n*My code:*\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\nimport java.util.ArrayList;\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t    int i = 0;\r\n\t    int testnum = 6;\r\n\t    int testnum2 = 1;\r\n\t    int aaa = 0;\r\n\t    String guess;\r\n\t    ArrayList&lt;String&gt; inputs = new ArrayList&lt;String&gt;();\r\n\t\tString[] wordList = { &quot;CHARM&quot;, &quot;UNITE&quot;,&quot;BRAVE&quot;, &quot;ADIEU&quot;, &quot;ROBOT&quot;, &quot;FORGE&quot; };\r\n\t\tString randomWord = wordList[(int) (Math.random() * wordList.length)];\r\n\t\tScanner input = new Scanner(System.in);\r\n        for(int a=0; a&lt;6; a++){  /*columns*/\r\n          for(int j=0; j&lt;5; j++){  /*rows*/\r\n            System.out.print(&quot;- &quot;);\r\n          }\r\n          System.out.println();\r\n         }\r\n\t\t\r\n\t\twhile(i&lt;6) {\r\n         System.out.println(&quot;Enter Guess: &quot;);\r\n\t  \t guess = input.nextLine();\r\n\t  \t for(int a=0; a&lt;6; a++){  /*columns*/\r\n          for(int j=0; j&lt;5; j++){  /*rows*/\r\n            System.out.print(&quot;- &quot;);\r\n          }\r\n          System.out.println();\r\n         }\r\n\t\t if(guess.toUpperCase().equals(randomWord)) {\r\n\t\t    System.out.println(&quot;Guessed&quot;);\r\n\t\t    i++;\r\n\t\t    break;\r\n\t  \t }\r\n\t  \t for(String hi : wordList) {\r\n\t  \t     if(guess.toUpperCase().equals(hi)) {\r\n\t  \t         inputs.add(guess);\r\n\t  \t         i++;\r\n\t  \t         System.out.print(&quot;Incorrect Guess. Tries Left: &quot;);\r\n\t  \t         System.out.println(6 - i);\r\n\t  \t         for (int aa = 0; aa&lt;testnum2; aa++) {\r\n\t  \t             System.out.println(inputs.get(aaa));\r\n\t  \t             aaa+=1;\r\n\t  \t         }\r\n\t  \t         testnum -=1;\r\n\t  \t         testnum2 +=1;\r\n\t  \t         for(int a=0; a&lt;testnum; a++){  /*columns*/\r\n                  for(int j=0; j&lt;5; j++){  /*rows*/\r\n                    System.out.print(&quot;- &quot;);\r\n                  }\r\n                  System.out.println();\r\n                 }\r\n\t  \t     }\r\n\t  \t }\r\n\t  \t if(guess.length() &lt; 5) {\r\n\t  \t     System.out.println(&quot;Not enough letters. Please try again: &quot;);\r\n\t  \t }\r\n\t  \t} \r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kKUz5.png","title":"Getting IndexOutOfBounds exceptions with Arraylist in a Loop","body":"<p>I am making a game similar to <a href=\"https://en.wikipedia.org/wiki/Wordle\" rel=\"nofollow noreferrer\"><em>Worldle</em></a>.</p>\n<p>I am trying append input to an <code>Arraylist</code> each time the loop executes.</p>\n<p>While also trying to keep the format of wordle (<code>testnum</code> and <code>testnum2</code>). I am quite new to java and do not know why I am getting an <code>IndexOutOfBoundsException</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/kKUz5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKUz5.png\" alt=\"enter image description here\" /></a></p>\n<p><em>My code:</em></p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\nimport java.util.ArrayList;\npublic class Main {\n    public static void main(String[] args) {\n        int i = 0;\n        int testnum = 6;\n        int testnum2 = 1;\n        int aaa = 0;\n        String guess;\n        ArrayList&lt;String&gt; inputs = new ArrayList&lt;String&gt;();\n        String[] wordList = { &quot;CHARM&quot;, &quot;UNITE&quot;,&quot;BRAVE&quot;, &quot;ADIEU&quot;, &quot;ROBOT&quot;, &quot;FORGE&quot; };\n        String randomWord = wordList[(int) (Math.random() * wordList.length)];\n        Scanner input = new Scanner(System.in);\n        for(int a=0; a&lt;6; a++){  /*columns*/\n          for(int j=0; j&lt;5; j++){  /*rows*/\n            System.out.print(&quot;- &quot;);\n          }\n          System.out.println();\n         }\n        \n        while(i&lt;6) {\n         System.out.println(&quot;Enter Guess: &quot;);\n         guess = input.nextLine();\n         for(int a=0; a&lt;6; a++){  /*columns*/\n          for(int j=0; j&lt;5; j++){  /*rows*/\n            System.out.print(&quot;- &quot;);\n          }\n          System.out.println();\n         }\n         if(guess.toUpperCase().equals(randomWord)) {\n            System.out.println(&quot;Guessed&quot;);\n            i++;\n            break;\n         }\n         for(String hi : wordList) {\n             if(guess.toUpperCase().equals(hi)) {\n                 inputs.add(guess);\n                 i++;\n                 System.out.print(&quot;Incorrect Guess. Tries Left: &quot;);\n                 System.out.println(6 - i);\n                 for (int aa = 0; aa&lt;testnum2; aa++) {\n                     System.out.println(inputs.get(aaa));\n                     aaa+=1;\n                 }\n                 testnum -=1;\n                 testnum2 +=1;\n                 for(int a=0; a&lt;testnum; a++){  /*columns*/\n                  for(int j=0; j&lt;5; j++){  /*rows*/\n                    System.out.print(&quot;- &quot;);\n                  }\n                  System.out.println();\n                 }\n             }\n         }\n         if(guess.length() &lt; 5) {\n             System.out.println(&quot;Not enough letters. Please try again: &quot;);\n         }\n        } \n    }\n}\n</code></pre>\n"},{"tags":["java","parallel-processing","spring-data-jpa","stream","parallelstream"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1652873548,"post_id":72281796,"comment_id":127710860,"body_markdown":"If you want us to explain why `getDuplicateRecordsUsingJpa` isn&#39;t thread safe you&#39;ll need to show us what you are doing in there. One reason might be that the JPA EntityManagers and by extension JPA entities aren&#39;t thread safe.","body":"If you want us to explain why <code>getDuplicateRecordsUsingJpa</code> isn&#39;t thread safe you&#39;ll need to show us what you are doing in there. One reason might be that the JPA EntityManagers and by extension JPA entities aren&#39;t thread safe."},{"owner":{"account_id":23829502,"reputation":11,"user_id":17835983,"display_name":"whizkey"},"score":0,"creation_date":1652885232,"post_id":72281796,"comment_id":127716174,"body_markdown":"Currently for testing that method only contains a spring data jpa findBy method call using the passed in key value. My understanding is this should be thread safe. It is also strange the parameter that returns no result is the same one every time.","body":"Currently for testing that method only contains a spring data jpa findBy method call using the passed in key value. My understanding is this should be thread safe. It is also strange the parameter that returns no result is the same one every time."}],"owner":{"account_id":23829502,"reputation":11,"user_id":17835983,"display_name":"whizkey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652830892,"creation_date":1652830892,"question_id":72281796,"body_markdown":"I&#39;m trying to use Java&#39;s parallel streams to retrieve records form postgres using Spring Data JPA. If I use the non parallel stream method I get the expected number of results returned. If I use the parallel parallelStream method I get one less returned with the same data. I&#39;m unable to show production code but below is an example of what I&#39;m doing.\r\n\r\n      List&lt;JpaEntityObject&gt; duplicateEntityList =\r\n      mapOfNewEntities.entrySet().parallelStream()\r\n              .flatMap(key -&gt; getDuplicateRecordsUsingJpa(key.getKey()).stream())\r\n              .collect(Collectors.toList());","title":"Java ParallelStream with Spring Data JPA","body":"<p>I'm trying to use Java's parallel streams to retrieve records form postgres using Spring Data JPA. If I use the non parallel stream method I get the expected number of results returned. If I use the parallel parallelStream method I get one less returned with the same data. I'm unable to show production code but below is an example of what I'm doing.</p>\n<pre><code>  List&lt;JpaEntityObject&gt; duplicateEntityList =\n  mapOfNewEntities.entrySet().parallelStream()\n          .flatMap(key -&gt; getDuplicateRecordsUsingJpa(key.getKey()).stream())\n          .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1652794182,"post_id":72274876,"comment_id":127688718,"body_markdown":"For starters, you shouldn&#39;t be calculating `gcd(a,b)` twice. Now, normally this will usually be optimized for you - but maybe this compiler optimization is inactive for the online judge.","body":"For starters, you shouldn&#39;t be calculating <code>gcd(a,b)</code> twice. Now, normally this will usually be optimized for you - but maybe this compiler optimization is inactive for the online judge."},{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1652795399,"post_id":72274876,"comment_id":127689263,"body_markdown":"Perhaps, you should try the iterative implementation of GCD to avoid function calls. Also take into account what @amit noted (`gcd` is computed twice for same arguments).","body":"Perhaps, you should try the iterative implementation of GCD to avoid function calls. Also take into account what @amit noted (<code>gcd</code> is computed twice for same arguments)."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1652796799,"post_id":72274876,"comment_id":127689885,"body_markdown":"Also, you could use `int` instead of `long` everywhere. The stated range of input will fit neatly in an int.","body":"Also, you could use <code>int</code> instead of <code>long</code> everywhere. The stated range of input will fit neatly in an int."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1652796843,"post_id":72274876,"comment_id":127689900,"body_markdown":"But in any case, most of the time is actually spent dong I/O that the actual calculations.","body":"But in any case, most of the time is actually spent dong I/O that the actual calculations."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652830784,"post_id":72274876,"comment_id":127700212,"body_markdown":"Doing I/O and bootstrapping the JVM / loading code, etc.","body":"Doing I/O and bootstrapping the JVM / loading code, etc."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652830971,"post_id":72274876,"comment_id":127700238,"body_markdown":"Also note that the [javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html) for `StreamTokenizer` states *&quot;`StringTokenizer` is a legacy class that is retained for compatibility reasons although its use is **discouraged in new code**.&quot;*","body":"Also note that the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">javadoc</a> for <code>StreamTokenizer</code> states <i>&quot;<code>StringTokenizer</code> is a legacy class that is retained for compatibility reasons although its use is <b>discouraged in new code</b>.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":16441552,"reputation":293,"user_id":11877678,"display_name":"Omar_Hafez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652796435,"creation_date":1652796435,"answer_id":72275522,"question_id":72274876,"body_markdown":"Your solution is a little bit slow because of the bad implementation.\r\nI rewrote your solution in better implementation with the same logic and time complexity of your solution and get *Accepted* and none of the test cases exceeded **.8 second**\r\n\r\n\r\n    import java.util.*;\r\n     \r\n    class TestClass {\r\n        // Same gcd function but it&#39;s better code :)\r\n        public static int gcd(int a, int b) {\r\n            return b == 0 ? a : gcd(b, a % b);   \r\n        }\r\n     \r\n        public static void main(String args[] ) throws Exception {\r\n            Scanner s = new Scanner(System.in);\r\n            int t = s.nextInt();  // this way of reading input is faster alot.\r\n            while(t-- &gt; 0) {\r\n                int a = s.nextInt();  \r\n                int b = s.nextInt();  // No need to use long it&#39;s  just 1e9\r\n\r\n                int tmp = gcd(a, b);  // It&#39;s better to save the value of the gcd(a, b) instead of calculate it twice. \r\n\r\n                int A = a/tmp;\r\n                int B = b/tmp;\r\n                System.out.println(B+&quot; &quot;+A);\r\n            }\r\n        }\r\n    }","title":"Time limit exceeded in hackerearth exercise","body":"<p>Your solution is a little bit slow because of the bad implementation.\nI rewrote your solution in better implementation with the same logic and time complexity of your solution and get <em>Accepted</em> and none of the test cases exceeded <strong>.8 second</strong></p>\n<pre><code>import java.util.*;\n \nclass TestClass {\n    // Same gcd function but it's better code :)\n    public static int gcd(int a, int b) {\n        return b == 0 ? a : gcd(b, a % b);   \n    }\n \n    public static void main(String args[] ) throws Exception {\n        Scanner s = new Scanner(System.in);\n        int t = s.nextInt();  // this way of reading input is faster alot.\n        while(t-- &gt; 0) {\n            int a = s.nextInt();  \n            int b = s.nextInt();  // No need to use long it's  just 1e9\n\n            int tmp = gcd(a, b);  // It's better to save the value of the gcd(a, b) instead of calculate it twice. \n\n            int A = a/tmp;\n            int B = b/tmp;\n            System.out.println(B+&quot; &quot;+A);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20620703,"reputation":33,"user_id":15137802,"display_name":"casio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72275522,"answer_count":1,"score":0,"last_activity_date":1652830510,"creation_date":1652793937,"question_id":72274876,"body_markdown":"I&#39;m trying to solve [this exercise][1] in HackerEarth.\r\nBut I have an error of ***time limit exceeded***. This is the code that I wrote :\r\n     \r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.util.*;\r\n\r\nclass TestClass {\r\n    //gcd \r\n    public static long gcd(long num1, long num2) {\r\n        if (num2 != 0) {\r\n            return gcd(num2, num1 % num2);\r\n        } else {\r\n            return num1;\r\n        }\r\n    }\r\n\r\n    public static void main(String args[] ) throws Exception {\r\n        //BufferedReader\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        int T = Integer.parseInt(br.readLine()); // Reading input from STDIN\r\n        while (T-- &gt; 0) {\r\n            StringTokenizer st1 = new StringTokenizer(br.readLine());\r\n            long a = Long.parseLong(st1.nextToken());\r\n            long b = Long.parseLong(st1.nextToken());\r\n            long A = a/gcd(a,b);\r\n            long B = b/gcd(a,b);\r\n            System.out.printf(&quot;%d%1s%d%n&quot;,B,&quot;&quot;,A);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://www.hackerearth.com/practice/basic-programming/implementation/basics-of-implementation/practice-problems/algorithm/tin-and-creatures-2f60b404/","title":"Time limit exceeded in hackerearth exercise","body":"<p>I'm trying to solve <a href=\"https://www.hackerearth.com/practice/basic-programming/implementation/basics-of-implementation/practice-problems/algorithm/tin-and-creatures-2f60b404/\" rel=\"nofollow noreferrer\">this exercise</a> in HackerEarth.\nBut I have an error of <em><strong>time limit exceeded</strong></em>. This is the code that I wrote :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.*;\n\nclass TestClass {\n    //gcd \n    public static long gcd(long num1, long num2) {\n        if (num2 != 0) {\n            return gcd(num2, num1 % num2);\n        } else {\n            return num1;\n        }\n    }\n\n    public static void main(String args[] ) throws Exception {\n        //BufferedReader\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        int T = Integer.parseInt(br.readLine()); // Reading input from STDIN\n        while (T-- &gt; 0) {\n            StringTokenizer st1 = new StringTokenizer(br.readLine());\n            long a = Long.parseLong(st1.nextToken());\n            long b = Long.parseLong(st1.nextToken());\n            long A = a/gcd(a,b);\n            long B = b/gcd(a,b);\n            System.out.printf(&quot;%d%1s%d%n&quot;,B,&quot;&quot;,A);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","migration","gradle-dependencies"],"answers":[{"tags":[],"owner":{"account_id":5880331,"reputation":193,"user_id":4629940,"accept_rate":33,"display_name":"Edward Sun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652829957,"creation_date":1652829957,"answer_id":72281707,"question_id":72281348,"body_markdown":"Resolved this issue by delete local `.gradle` folder and then reload gradle in IntelliJ","title":"Gradle Project Always Tries to Use older version of dependency","body":"<p>Resolved this issue by delete local <code>.gradle</code> folder and then reload gradle in IntelliJ</p>\n"}],"owner":{"account_id":19559562,"reputation":53,"user_id":14313049,"display_name":"Edward Sun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652829957,"creation_date":1652826557,"question_id":72281348,"body_markdown":"I have a project structured like this:\r\n```\r\n-Project ROOT\r\n -TestProjectDir\r\n    -gradlew\r\n    -build.gradle\r\n -ServiceProjectDir\r\n    -gradlew\r\n    -build.gradle\r\n \r\n```\r\nMy laptop gradle version:\r\n7.4.2 \r\n\r\nJava version: \r\nJava 11.0.9\r\n\r\nMy `TestProjectDir` and `ServiceProjectDir` both are using local gradle wrapper version: 7.0.2\r\n\r\nInside `TestProjectDir` it was using older version of dependency `org.mock-server:mockserver-netty:3.10.4`\r\n\r\nAfter bumping the mockserver-netty version in `TestProjectDir` build.gradle file:\r\n\r\n`implementation &quot;org.mock-server:mockserver-netty:5.13.2`\r\n\r\nI attemped to run `./gradlew clean build --refresh-dependencies` under `TestProjectDir` it failed and I took look at the error. \r\n\r\nThe test file which has these lines failed\r\n```\r\nimport org.mockserver.client.server.MockServerClient;\r\nimport org.mockserver.model.Delay;\r\nimport org.mockserver.model.Header;\r\n```\r\nThey are looking for version `3.10.4` from `.gradle/caches/modules-2/files-2.1/org.mock-server/mockserver-netty/3.10.4` on my laptop. \r\n\r\nI tried to delete `3.10.4` directory from the `caches` folder, now the test code cannot be compiled at all....\r\n\r\nLooking for help desperately here !  \r\nBig Thanks !\r\n","title":"Gradle Project Always Tries to Use older version of dependency","body":"<p>I have a project structured like this:</p>\n<pre><code>-Project ROOT\n -TestProjectDir\n    -gradlew\n    -build.gradle\n -ServiceProjectDir\n    -gradlew\n    -build.gradle\n \n</code></pre>\n<p>My laptop gradle version:\n7.4.2</p>\n<p>Java version:\nJava 11.0.9</p>\n<p>My <code>TestProjectDir</code> and <code>ServiceProjectDir</code> both are using local gradle wrapper version: 7.0.2</p>\n<p>Inside <code>TestProjectDir</code> it was using older version of dependency <code>org.mock-server:mockserver-netty:3.10.4</code></p>\n<p>After bumping the mockserver-netty version in <code>TestProjectDir</code> build.gradle file:</p>\n<p><code>implementation &quot;org.mock-server:mockserver-netty:5.13.2</code></p>\n<p>I attemped to run <code>./gradlew clean build --refresh-dependencies</code> under <code>TestProjectDir</code> it failed and I took look at the error.</p>\n<p>The test file which has these lines failed</p>\n<pre><code>import org.mockserver.client.server.MockServerClient;\nimport org.mockserver.model.Delay;\nimport org.mockserver.model.Header;\n</code></pre>\n<p>They are looking for version <code>3.10.4</code> from <code>.gradle/caches/modules-2/files-2.1/org.mock-server/mockserver-netty/3.10.4</code> on my laptop.</p>\n<p>I tried to delete <code>3.10.4</code> directory from the <code>caches</code> folder, now the test code cannot be compiled at all....</p>\n<p>Looking for help desperately here !<br />\nBig Thanks !</p>\n"},{"tags":["java","classnotfoundexception","mockserver","mockserver-netty"],"owner":{"account_id":5880331,"reputation":193,"user_id":4629940,"accept_rate":33,"display_name":"Edward Sun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652829898,"creation_date":1652829898,"question_id":72281701,"body_markdown":"I am trying to start mock server with `mockserver-netty-5.13.2` from shell, \r\njava version:\r\n11.0.9\r\n\r\nRough shell code like this:\r\n```\r\njava -version\r\necho &quot;start shell before java -jar line&quot;\r\njava -jar ./mockserver-netty-5.13.2.jar -serverPort 9090 -logLevel DEBUG &amp;&gt; ${DIR}/mockserver.log \r\n```\r\n\r\nThe exception thrown from `java -jar ./mockserver-netty-5.13.2.jar -serverPort 9090`\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/mockserver/version/Version\r\n\tat org.mockserver.cli.Main.&lt;clinit&gt;(Main.java:27)\r\nCaused by: java.lang.ClassNotFoundException: org.mockserver.version.Version\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n```\r\n\r\nHas anyone run into this issue and resolved it ?\r\nAny help would be much appreciated !!!","title":"java.lang.ClassNotFoundException: org.mockserver.version.Version","body":"<p>I am trying to start mock server with <code>mockserver-netty-5.13.2</code> from shell,\njava version:\n11.0.9</p>\n<p>Rough shell code like this:</p>\n<pre><code>java -version\necho &quot;start shell before java -jar line&quot;\njava -jar ./mockserver-netty-5.13.2.jar -serverPort 9090 -logLevel DEBUG &amp;&gt; ${DIR}/mockserver.log \n</code></pre>\n<p>The exception thrown from <code>java -jar ./mockserver-netty-5.13.2.jar -serverPort 9090</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/mockserver/version/Version\n    at org.mockserver.cli.Main.&lt;clinit&gt;(Main.java:27)\nCaused by: java.lang.ClassNotFoundException: org.mockserver.version.Version\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 1 more\n</code></pre>\n<p>Has anyone run into this issue and resolved it ?\nAny help would be much appreciated !!!</p>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652829749,"creation_date":1652829749,"answer_id":72281690,"question_id":72280690,"body_markdown":"this should work for you, but if there are a lot of entries in the file, then I think it will be necessary to change the approach.\r\n\r\nadd maven dependecy:\r\n        \r\n````\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n````\r\n````\r\npublic void createGameScoreGson () throws Exception {\r\n        ScoreResult score = new ScoreResult();\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n        JSONArray jsonArray = parseFromFile();\r\n        \r\n        // You can create file if you need\r\n        try (FileWriter writer = new FileWriter(&quot;src/main/resources/results.json&quot;, false)) {\r\n            String gs = gson.toJson(score);\r\n            Map map = gson.fromJson(gson.toJson(score), Map.class);\r\n            jsonArray.add(map);\r\n            String jsonPretty = gson.toJson(jsonArray);\r\n            writer.write(jsonPretty);\r\n        }\r\n    }\r\n````\r\n````\r\npublic JSONArray parseFromFile() throws IOException {\r\n        JSONParser parser = new JSONParser();\r\n        try {\r\n            return (JSONArray) parser.parse(new FileReader(&quot;src/main/resources/results.json&quot;));\r\n        }\r\n        catch (ParseException e){\r\n            return new JSONArray();\r\n        }\r\n        catch (FileNotFoundException e){\r\n            return null; // any code\r\n        }\r\n    }\r\n````\r\n\r\n","title":"Gson to append json object within an array in a json file in java","body":"<p>this should work for you, but if there are a lot of entries in the file, then I think it will be necessary to change the approach.</p>\n<p>add maven dependecy:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>public void createGameScoreGson () throws Exception {\n        ScoreResult score = new ScoreResult();\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        JSONArray jsonArray = parseFromFile();\n        \n        // You can create file if you need\n        try (FileWriter writer = new FileWriter(&quot;src/main/resources/results.json&quot;, false)) {\n            String gs = gson.toJson(score);\n            Map map = gson.fromJson(gson.toJson(score), Map.class);\n            jsonArray.add(map);\n            String jsonPretty = gson.toJson(jsonArray);\n            writer.write(jsonPretty);\n        }\n    }\n</code></pre>\n<pre><code>public JSONArray parseFromFile() throws IOException {\n        JSONParser parser = new JSONParser();\n        try {\n            return (JSONArray) parser.parse(new FileReader(&quot;src/main/resources/results.json&quot;));\n        }\n        catch (ParseException e){\n            return new JSONArray();\n        }\n        catch (FileNotFoundException e){\n            return null; // any code\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22398577,"reputation":139,"user_id":16609435,"display_name":"Shinwi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72281690,"answer_count":1,"score":0,"last_activity_date":1652829749,"creation_date":1652821649,"question_id":72280690,"body_markdown":"I am trying to store a game result in a JSON file. The results are stored when the game is over, and are supposed to be displayed afterwards in a table.\r\n\r\nI have this function that creates the game score and adds it to json file using GSON\r\n```\r\n private void createGameScoreGson () throws Exception {\r\n        var gson = new GsonBuilder().setPrettyPrinting().create();\r\n        var score = new ScoreResult();\r\n        score.setPlayerName(name);\r\n        score.setSteps(steps);\r\n        score.setTime(time);\r\n        score.setSolved(solved);\r\n\r\n        // writing to a json file\r\n        File file = new File(&quot;src\\\\main\\\\resources\\\\results.json&quot;);\r\n        try (var writer = new FileWriter(&quot;resources\\\\results.json&quot;, true)) {\r\n            gson.toJson(score, writer);\r\n        }\r\n}\r\n```\r\n\r\nThat method creates a JSON file that looks like this:\r\n```\r\n{\r\n    &quot;playerName&quot;: &quot;a&quot;,\r\n    &quot;steps&quot;: 1,\r\n    &quot;time&quot;: &quot;00:00:11&quot;,\r\n    &quot;solved&quot;: false\r\n}\r\n```\r\nThe problem is when I try to add another game result to the file, it appears like this:\r\n```\r\n{\r\n    &quot;playerName&quot;: &quot;a&quot;,\r\n    &quot;steps&quot;: 1,\r\n    &quot;time&quot;: &quot;00:00:11&quot;,\r\n    &quot;solved&quot;: false\r\n}\r\n{\r\n    &quot;playerName&quot;: &quot;b&quot;,\r\n    &quot;steps&quot;: 2,\r\n    &quot;time&quot;: &quot;00:00:20&quot;,\r\n    &quot;solved&quot;: false\r\n}\r\n```\r\nWhich is not a valid JSON file and so it is not read properly when I try to show the results later.\r\nHow can I use Gson (or anything else really) to show the results in the JSON file like this:\r\n```\r\n[\r\n {\r\n    &quot;playerName&quot;: &quot;a&quot;,\r\n    &quot;steps&quot;: 1,\r\n    &quot;time&quot;: &quot;00:00:11&quot;,\r\n    &quot;solved&quot;: false\r\n },\r\n {\r\n    &quot;playerName&quot;: &quot;b&quot;,\r\n    &quot;steps&quot;: 2,\r\n    &quot;time&quot;: &quot;00:00:20&quot;,\r\n    &quot;solved&quot;: false\r\n }\r\n]\r\n```\r\n\r\nAny suggestion will be helpful!\r\n","title":"Gson to append json object within an array in a json file in java","body":"<p>I am trying to store a game result in a JSON file. The results are stored when the game is over, and are supposed to be displayed afterwards in a table.</p>\n<p>I have this function that creates the game score and adds it to json file using GSON</p>\n<pre><code> private void createGameScoreGson () throws Exception {\n        var gson = new GsonBuilder().setPrettyPrinting().create();\n        var score = new ScoreResult();\n        score.setPlayerName(name);\n        score.setSteps(steps);\n        score.setTime(time);\n        score.setSolved(solved);\n\n        // writing to a json file\n        File file = new File(&quot;src\\\\main\\\\resources\\\\results.json&quot;);\n        try (var writer = new FileWriter(&quot;resources\\\\results.json&quot;, true)) {\n            gson.toJson(score, writer);\n        }\n}\n</code></pre>\n<p>That method creates a JSON file that looks like this:</p>\n<pre><code>{\n    &quot;playerName&quot;: &quot;a&quot;,\n    &quot;steps&quot;: 1,\n    &quot;time&quot;: &quot;00:00:11&quot;,\n    &quot;solved&quot;: false\n}\n</code></pre>\n<p>The problem is when I try to add another game result to the file, it appears like this:</p>\n<pre><code>{\n    &quot;playerName&quot;: &quot;a&quot;,\n    &quot;steps&quot;: 1,\n    &quot;time&quot;: &quot;00:00:11&quot;,\n    &quot;solved&quot;: false\n}\n{\n    &quot;playerName&quot;: &quot;b&quot;,\n    &quot;steps&quot;: 2,\n    &quot;time&quot;: &quot;00:00:20&quot;,\n    &quot;solved&quot;: false\n}\n</code></pre>\n<p>Which is not a valid JSON file and so it is not read properly when I try to show the results later.\nHow can I use Gson (or anything else really) to show the results in the JSON file like this:</p>\n<pre><code>[\n {\n    &quot;playerName&quot;: &quot;a&quot;,\n    &quot;steps&quot;: 1,\n    &quot;time&quot;: &quot;00:00:11&quot;,\n    &quot;solved&quot;: false\n },\n {\n    &quot;playerName&quot;: &quot;b&quot;,\n    &quot;steps&quot;: 2,\n    &quot;time&quot;: &quot;00:00:20&quot;,\n    &quot;solved&quot;: false\n }\n]\n</code></pre>\n<p>Any suggestion will be helpful!</p>\n"},{"tags":["java","http","post","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652829467,"creation_date":1652829467,"answer_id":72281670,"question_id":72281472,"body_markdown":"This first thing that you need to do is look at the endpoint that you&#39;re POSTing to and determine what it accepts.  By this I mean, are you certain that it takes json?  Are you certain that your payload is correct?\r\n\r\nThere&#39;s really no way around it, to consume an API you need to know what it expects.\r\n\r\nSecondly, your String `str1` does not contain valid JSON, so even if you had all the fields and types correct, this isn&#39;t going to work.\r\n\r\nValid Json would read as\r\n\r\n    {&quot;FName&quot;: &quot;someName&quot;, &quot;LName&quot;: &quot;someName&quot;}\r\n\r\nWhat you have there produces this\r\n\r\n    {FName: someName, LName: someName}\r\n\r\nNotice the lack of quotations in your string?  Even the StackOverflow parser doesn&#39;t know what to make of this :)\r\n\r\n","title":"How to solve KeyError: 400 Bad Request","body":"<p>This first thing that you need to do is look at the endpoint that you're POSTing to and determine what it accepts.  By this I mean, are you certain that it takes json?  Are you certain that your payload is correct?</p>\n<p>There's really no way around it, to consume an API you need to know what it expects.</p>\n<p>Secondly, your String <code>str1</code> does not contain valid JSON, so even if you had all the fields and types correct, this isn't going to work.</p>\n<p>Valid Json would read as</p>\n<pre><code>{&quot;FName&quot;: &quot;someName&quot;, &quot;LName&quot;: &quot;someName&quot;}\n</code></pre>\n<p>What you have there produces this</p>\n<pre><code>{FName: someName, LName: someName}\n</code></pre>\n<p>Notice the lack of quotations in your string?  Even the StackOverflow parser doesn't know what to make of this :)</p>\n"}],"owner":{"account_id":17801000,"reputation":57,"user_id":12927771,"display_name":"Klopo22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72281670,"answer_count":1,"score":0,"last_activity_date":1652829467,"creation_date":1652827705,"question_id":72281472,"body_markdown":"I have a server to which I want to send post requests in the form of json in Java. But after sending, it gives the answer: &quot;KeyError: 400 Bad Request: The browser (or proxy) send a request that this server could not understand.&quot;. No matter how I change the data, it still gives this error, and the sent requests do not appear on the server. How can I fix this?\r\n\r\n        URL url = new URL(&quot;http://buldakovn.pythonanywhere.com/addStudent&quot;);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        \r\n        connection.setRequestMethod(&quot;POST&quot;);\r\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        connection.setDoOutput(true);\r\n\r\n        //request body\r\n        String str1 = &quot;{FName: &quot; + name + &quot;, LName: &quot; + surname + &quot;, VkId: &quot; + vk + &quot;, TelegrammId: &quot; + telegram + &quot;, Group: &quot; + group+&quot;}&quot;;\r\n\r\n        OutputStream out = connection.getOutputStream();\r\n        byte [] input = str1.getBytes(StandardCharsets.UTF_8);\r\n        out.write(input, 0, input.length);\r\n        out.close();","title":"How to solve KeyError: 400 Bad Request","body":"<p>I have a server to which I want to send post requests in the form of json in Java. But after sending, it gives the answer: &quot;KeyError: 400 Bad Request: The browser (or proxy) send a request that this server could not understand.&quot;. No matter how I change the data, it still gives this error, and the sent requests do not appear on the server. How can I fix this?</p>\n<pre><code>    URL url = new URL(&quot;http://buldakovn.pythonanywhere.com/addStudent&quot;);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    \n    connection.setRequestMethod(&quot;POST&quot;);\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n    connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n    connection.setDoOutput(true);\n\n    //request body\n    String str1 = &quot;{FName: &quot; + name + &quot;, LName: &quot; + surname + &quot;, VkId: &quot; + vk + &quot;, TelegrammId: &quot; + telegram + &quot;, Group: &quot; + group+&quot;}&quot;;\n\n    OutputStream out = connection.getOutputStream();\n    byte [] input = str1.getBytes(StandardCharsets.UTF_8);\n    out.write(input, 0, input.length);\n    out.close();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","exception","design-patterns"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1652824745,"post_id":72280684,"comment_id":127699101,"body_markdown":"It&#39;s unclear from this question what the structure of this project is.  It sounds like your controller is calling an internal service which then calls a remote service over grpc.  If the controller knows how to handle the exception thrown by the rpc, why not just let the exception bubble up to the controller through the stack?  Perhaps add a little code to illustrate how this is structured.","body":"It&#39;s unclear from this question what the structure of this project is.  It sounds like your controller is calling an internal service which then calls a remote service over grpc.  If the controller knows how to handle the exception thrown by the rpc, why not just let the exception bubble up to the controller through the stack?  Perhaps add a little code to illustrate how this is structured."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1652826266,"post_id":72280684,"comment_id":127699419,"body_markdown":"@lane.maxwell My understanding is that the service is throwing the `iServiceException`, but the project containing the controller does not have a dependency on the library/API which defines `iServiceException`, and therefore the controller cannot do something like `try { } catch (iServiceException ex) { }` because it wouldn&#39;t compile.","body":"@lane.maxwell My understanding is that the service is throwing the <code>iServiceException</code>, but the project containing the controller does not have a dependency on the library/API which defines <code>iServiceException</code>, and therefore the controller cannot do something like <code>try { } catch (iServiceException ex) { }</code> because it wouldn&#39;t compile."},{"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"score":0,"creation_date":1652828066,"post_id":72280684,"comment_id":127699756,"body_markdown":"@Slaw yes, your understanding is correct. Thanks","body":"@Slaw yes, your understanding is correct. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652827027,"creation_date":1652826471,"answer_id":72281333,"question_id":72280684,"body_markdown":"I can propose to declare `@ControllerAdvice\\@RestControllerAdvice` and handle `Exception.class` in your controller service. When the exception in provider will be thrown, your controller will show pretty response body with your exception.\r\n\r\nBut, it is always a good practice to handle proper exceptions and not just abstractions.","title":"Which way is better for handling exception from the sub-project (provider)","body":"<p>I can propose to declare <code>@ControllerAdvice\\@RestControllerAdvice</code> and handle <code>Exception.class</code> in your controller service. When the exception in provider will be thrown, your controller will show pretty response body with your exception.</p>\n<p>But, it is always a good practice to handle proper exceptions and not just abstractions.</p>\n"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652827027,"creation_date":1652821583,"question_id":72280684,"body_markdown":"I have a microservice. It has a controller calling its sub-project (provider). So the controller depends on the provider.\r\n\r\nThe provider is using grpc to call another service. The provider knows the service it calls, but the controller doesn&#39;t. (I do this way to follow the basic design pattern of de-coupling). \r\n\r\nRight now, the problem is: the service which the provider calls throws `iServiceException`. But only the controller knows how to handle the exception.\r\n\r\nMethod 1: Since we cannot just rethrow the `iServiceException` from the provider (Because the controller doesn&#39;t know `iServiceException` and cannot catch it), we can just rethrow the standard java `Exception`, then the controller can catch it. But my concern here is: is this a good way to do? Since `Exception` contains less information than `iServiceException`.\r\n\r\nMethod 2: Implement another `ProviderException` then the controller catch it and handle the exception.\r\n\r\nWhich method is better? By the way, this microservice uses Spring framework, not sure if there is a better way to do this in Spring.\r\n","title":"Which way is better for handling exception from the sub-project (provider)","body":"<p>I have a microservice. It has a controller calling its sub-project (provider). So the controller depends on the provider.</p>\n<p>The provider is using grpc to call another service. The provider knows the service it calls, but the controller doesn't. (I do this way to follow the basic design pattern of de-coupling).</p>\n<p>Right now, the problem is: the service which the provider calls throws <code>iServiceException</code>. But only the controller knows how to handle the exception.</p>\n<p>Method 1: Since we cannot just rethrow the <code>iServiceException</code> from the provider (Because the controller doesn't know <code>iServiceException</code> and cannot catch it), we can just rethrow the standard java <code>Exception</code>, then the controller can catch it. But my concern here is: is this a good way to do? Since <code>Exception</code> contains less information than <code>iServiceException</code>.</p>\n<p>Method 2: Implement another <code>ProviderException</code> then the controller catch it and handle the exception.</p>\n<p>Which method is better? By the way, this microservice uses Spring framework, not sure if there is a better way to do this in Spring.</p>\n"},{"tags":["java","hashmap","java-stream","collectors","localdate"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1652798150,"post_id":72275871,"comment_id":127690422,"body_markdown":"It would be much more helpful if you would include a [mre]  that shows existing code including class definition and the actual source for the map initialization. (rather than a text representation of the map).","body":"It would be much more helpful if you would include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>  that shows existing code including class definition and the actual source for the map initialization. (rather than a text representation of the map)."},{"owner":{"account_id":15549476,"reputation":111,"user_id":11217621,"display_name":"diegoruizbarbero"},"score":0,"creation_date":1652800227,"post_id":72275871,"comment_id":127691294,"body_markdown":"that&#39;s difficult since I&#39;m getting this data structure coming from a external query to elsewhere. The relevant part here is that the Shift entity has an identifier and a LocalTime","body":"that&#39;s difficult since I&#39;m getting this data structure coming from a external query to elsewhere. The relevant part here is that the Shift entity has an identifier and a LocalTime"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1652803300,"post_id":72275871,"comment_id":127692583,"body_markdown":"You know the class definition.  You know what the map looks like.   Just come up with some data and show a populated map with the included class definition.","body":"You know the class definition.  You know what the map looks like.   Just come up with some data and show a populated map with the included class definition."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652826497,"creation_date":1652802129,"answer_id":72277003,"question_id":72275871,"body_markdown":"&lt;h3&gt;Solution with custom Range class&lt;/h3&gt;\r\n\r\nTo begin with, you need to define a class `Range` with two fields (*start date* and *end date*), and create a list of ranges. Since only three instance are required, it makes sense to declare this list as a `public static final` field within a utility class.\r\n\r\nBelow is an example of `Range`, for the purpose of conciseness I&#39;ve implemented it as Java 16 record. It is given one utility method which is meant to check whether the given date is within this instance of *range*:\r\n\r\n    public record Range(LocalDate start, LocalDate end) {\r\n        public boolean isWithinRange(LocalDate date) { // start inclusive, end exclusive\r\n            return date.isBefore(start) || date.isBefore(end) &amp;&amp; date.isAfter(start);\r\n        }\r\n    }\r\n\r\nA list of ranges:\r\n\r\n    public static final List&lt;Range&gt; RANGES =\r\n        List.of(new Range(LocalDate.of(2020,1, 1), LocalDate.of(2020,3, 27)),\r\n                new Range(LocalDate.of(2020,3, 27), LocalDate.of(2020,10, 31)),\r\n                new Range(LocalDate.of(2020,10, 31), LocalDate.of(2021,1, 1)));\r\n\r\nUtility method `getRange()` that is responsible for retrieving an instance of `Range` from the list of ranges based on the given date:\r\n\r\n    public static Range getRange(LocalDate data) {\r\n        return RANGES.stream()\r\n            .filter(range -&gt; range.isWithinRange(data))\r\n            .findFirst()\r\n            .orElseThrow();\r\n    }\r\n\r\nDummy record `Shift` (*used for testing purposes*):\r\n\r\n    public record Shift(int id, LocalTime startTime) {}\r\n\r\nIn order to approach the conversion of a `Map&lt;LocalDate, Collection&lt;Shift&gt;&gt;` into a `Map&lt;Range, List&lt;Shift&gt;&gt;` with streams, we need to create a stream of map entries. Than make use of collector `groupingBy()` in order to group the data by *range*. As the downstream collector of `groupingBy()` we have to provide `flatMapping()` in order to flatten the data associated with a particular data (so that all `Shift` objects that will be mapped to the same *range* would be placed in the same collection). And a downstream of `flatMapping()` we need to provide a collector which defines how store (*or how to perform reduction*) flattened elements. In the data *collector* `toList()` is used to store the data mapped to the same key in a list.\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;LocalDate, Collection&lt;Shift&gt;&gt; shiftsByDate =\r\n            Map.of(LocalDate.of(2020,3, 26),\r\n                       List.of(new Shift(4, LocalTime.of(21, 0, 0)), new Shift(5, LocalTime.of(9, 0, 0))),\r\n                   LocalDate.of(2020,3, 27),\r\n                       List.of(new Shift(4, LocalTime.of(22, 0, 0)), new Shift(5, LocalTime.of(10, 0, 0)))\r\n                );\r\n        \r\n        Map&lt;Range, List&lt;Shift&gt;&gt; shiftsByRange = shiftsByDate.entrySet().stream()\r\n            .collect(Collectors.groupingBy(entry -&gt; getRange(entry.getKey()),\r\n                Collectors.flatMapping(entry -&gt; entry.getValue().stream(),\r\n                    Collectors.toList())));\r\n        \r\n        shiftsByRange.forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\r\n    }\r\n\r\n*Output*\r\n```\r\nRange[start=2020-10-31, end=2021-01-01] : [Shift[id=4, startTime=22:00], Shift[id=5, startTime=10:00]]\r\nRange[start=2020-01-01, end=2020-03-27] : [Shift[id=4, startTime=21:00], Shift[id=5, startTime=09:00]]\r\n```\r\n\r\n&lt;h3&gt;Solution with Range&lt;T&gt; from the Spring Data&lt;/h3&gt;\r\n\r\nThe previous version required moderate only changes in order to use `Range&lt;T&gt;` from the Spring Data project. We need to fix the list `RANGES` where these objects are instantiated, and replace the type `Range` with the `Range&lt;T&gt;`.\r\n\r\n*There&#39;s caveat:* if you expect generic type parameter `&lt;T&gt;` to be `LocalDate` - it&#39;s not correct and wouldn&#39;t work.\r\n\r\n`Range&lt;T&gt;` class expects its generic type to be comparable, i.e. `T extends Comparable&lt;T&gt;` and `LocalDate` doesn&#39;t extend comparable directly, it implements `ChronoLocalDate` interface which in turn implements `Comparable` interface and `LocalDate` inherits its default implementation of `compareTo()`.\r\n\r\n*In other words:*\r\n* it&#39;s **incorrect** to say that `LocalDate` *extends* `Comparable&lt;LocalDate&gt;`\r\n* because in fact `LocalDate` *extends* `Comparable&lt;ChronoLocalDate&gt;`.\r\n\r\nTherefore, we have to use `ChronoLocalDate` as a generic type.\r\n\r\nThe `RANGES` list will look like that:\r\n\r\n    public static final List&lt;Range&lt;ChronoLocalDate&gt;&gt; RANGES =\r\n        List.of(Range.rightOpen(LocalDate.of(2020,1, 1), LocalDate.of(2020,3, 27)),\r\n                Range.rightOpen(LocalDate.of(2020,3, 27), LocalDate.of(2020,10, 31)),\r\n                Range.rightOpen(LocalDate.of(2020,10, 31), LocalDate.of(2021,1, 1)));\r\n\r\nMethod `getRange()` which is responsible for retrieving an instance of `Range` from the list of ranges based on the given date:\r\n\r\n    public static Range&lt;ChronoLocalDate&gt; getRange(LocalDate data) {\r\n        return RANGES.stream()\r\n            .filter(range -&gt; range.contains(data))\r\n            .findFirst()\r\n            .orElseThrow();\r\n    }\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;LocalDate, Collection&lt;Shift&gt;&gt; shiftsByDate =\r\n            Map.of(LocalDate.of(2020,3, 26),\r\n                       List.of(new Shift(4, LocalTime.of(21, 0, 0)), new Shift(5, LocalTime.of(9, 0, 0))),\r\n                   LocalDate.of(2020,3, 27),\r\n                       List.of(new Shift(4, LocalTime.of(22, 0, 0)), new Shift(5, LocalTime.of(10, 0, 0)))\r\n            );\r\n        \r\n        Map&lt;Range&lt;ChronoLocalDate&gt;, List&lt;Shift&gt;&gt; shiftsByRange = shiftsByDate.entrySet().stream()\r\n            .collect(Collectors.groupingBy(entry -&gt; getRange(entry.getKey()),\r\n                Collectors.flatMapping(entry -&gt; entry.getValue().stream(),\r\n                    Collectors.toList())));\r\n        \r\n        shiftsByRange.forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\r\n    }\r\n\r\n*Output:*\r\n```\r\n[2020-03-27-2020-10-31) : [Shift[id=4, startTime=22:00], Shift[id=5, startTime=10:00]]\r\n[2020-01-01-2020-03-27) : [Shift[id=4, startTime=21:00], Shift[id=5, startTime=09:00]]\r\n```","title":"Group the contents of a Map of LocalDates into a Map of Ranges of dates","body":"<h3>Solution with custom Range class</h3>\n<p>To begin with, you need to define a class <code>Range</code> with two fields (<em>start date</em> and <em>end date</em>), and create a list of ranges. Since only three instance are required, it makes sense to declare this list as a <code>public static final</code> field within a utility class.</p>\n<p>Below is an example of <code>Range</code>, for the purpose of conciseness I've implemented it as Java 16 record. It is given one utility method which is meant to check whether the given date is within this instance of <em>range</em>:</p>\n<pre><code>public record Range(LocalDate start, LocalDate end) {\n    public boolean isWithinRange(LocalDate date) { // start inclusive, end exclusive\n        return date.isBefore(start) || date.isBefore(end) &amp;&amp; date.isAfter(start);\n    }\n}\n</code></pre>\n<p>A list of ranges:</p>\n<pre><code>public static final List&lt;Range&gt; RANGES =\n    List.of(new Range(LocalDate.of(2020,1, 1), LocalDate.of(2020,3, 27)),\n            new Range(LocalDate.of(2020,3, 27), LocalDate.of(2020,10, 31)),\n            new Range(LocalDate.of(2020,10, 31), LocalDate.of(2021,1, 1)));\n</code></pre>\n<p>Utility method <code>getRange()</code> that is responsible for retrieving an instance of <code>Range</code> from the list of ranges based on the given date:</p>\n<pre><code>public static Range getRange(LocalDate data) {\n    return RANGES.stream()\n        .filter(range -&gt; range.isWithinRange(data))\n        .findFirst()\n        .orElseThrow();\n}\n</code></pre>\n<p>Dummy record <code>Shift</code> (<em>used for testing purposes</em>):</p>\n<pre><code>public record Shift(int id, LocalTime startTime) {}\n</code></pre>\n<p>In order to approach the conversion of a <code>Map&lt;LocalDate, Collection&lt;Shift&gt;&gt;</code> into a <code>Map&lt;Range, List&lt;Shift&gt;&gt;</code> with streams, we need to create a stream of map entries. Than make use of collector <code>groupingBy()</code> in order to group the data by <em>range</em>. As the downstream collector of <code>groupingBy()</code> we have to provide <code>flatMapping()</code> in order to flatten the data associated with a particular data (so that all <code>Shift</code> objects that will be mapped to the same <em>range</em> would be placed in the same collection). And a downstream of <code>flatMapping()</code> we need to provide a collector which defines how store (<em>or how to perform reduction</em>) flattened elements. In the data <em>collector</em> <code>toList()</code> is used to store the data mapped to the same key in a list.</p>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;LocalDate, Collection&lt;Shift&gt;&gt; shiftsByDate =\n        Map.of(LocalDate.of(2020,3, 26),\n                   List.of(new Shift(4, LocalTime.of(21, 0, 0)), new Shift(5, LocalTime.of(9, 0, 0))),\n               LocalDate.of(2020,3, 27),\n                   List.of(new Shift(4, LocalTime.of(22, 0, 0)), new Shift(5, LocalTime.of(10, 0, 0)))\n            );\n    \n    Map&lt;Range, List&lt;Shift&gt;&gt; shiftsByRange = shiftsByDate.entrySet().stream()\n        .collect(Collectors.groupingBy(entry -&gt; getRange(entry.getKey()),\n            Collectors.flatMapping(entry -&gt; entry.getValue().stream(),\n                Collectors.toList())));\n    \n    shiftsByRange.forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\n}\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>Range[start=2020-10-31, end=2021-01-01] : [Shift[id=4, startTime=22:00], Shift[id=5, startTime=10:00]]\nRange[start=2020-01-01, end=2020-03-27] : [Shift[id=4, startTime=21:00], Shift[id=5, startTime=09:00]]\n</code></pre>\n<h3>Solution with Range from the Spring Data</h3>\n<p>The previous version required moderate only changes in order to use <code>Range&lt;T&gt;</code> from the Spring Data project. We need to fix the list <code>RANGES</code> where these objects are instantiated, and replace the type <code>Range</code> with the <code>Range&lt;T&gt;</code>.</p>\n<p><em>There's caveat:</em> if you expect generic type parameter <code>&lt;T&gt;</code> to be <code>LocalDate</code> - it's not correct and wouldn't work.</p>\n<p><code>Range&lt;T&gt;</code> class expects its generic type to be comparable, i.e. <code>T extends Comparable&lt;T&gt;</code> and <code>LocalDate</code> doesn't extend comparable directly, it implements <code>ChronoLocalDate</code> interface which in turn implements <code>Comparable</code> interface and <code>LocalDate</code> inherits its default implementation of <code>compareTo()</code>.</p>\n<p><em>In other words:</em></p>\n<ul>\n<li>it's <strong>incorrect</strong> to say that <code>LocalDate</code> <em>extends</em> <code>Comparable&lt;LocalDate&gt;</code></li>\n<li>because in fact <code>LocalDate</code> <em>extends</em> <code>Comparable&lt;ChronoLocalDate&gt;</code>.</li>\n</ul>\n<p>Therefore, we have to use <code>ChronoLocalDate</code> as a generic type.</p>\n<p>The <code>RANGES</code> list will look like that:</p>\n<pre><code>public static final List&lt;Range&lt;ChronoLocalDate&gt;&gt; RANGES =\n    List.of(Range.rightOpen(LocalDate.of(2020,1, 1), LocalDate.of(2020,3, 27)),\n            Range.rightOpen(LocalDate.of(2020,3, 27), LocalDate.of(2020,10, 31)),\n            Range.rightOpen(LocalDate.of(2020,10, 31), LocalDate.of(2021,1, 1)));\n</code></pre>\n<p>Method <code>getRange()</code> which is responsible for retrieving an instance of <code>Range</code> from the list of ranges based on the given date:</p>\n<pre><code>public static Range&lt;ChronoLocalDate&gt; getRange(LocalDate data) {\n    return RANGES.stream()\n        .filter(range -&gt; range.contains(data))\n        .findFirst()\n        .orElseThrow();\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;LocalDate, Collection&lt;Shift&gt;&gt; shiftsByDate =\n        Map.of(LocalDate.of(2020,3, 26),\n                   List.of(new Shift(4, LocalTime.of(21, 0, 0)), new Shift(5, LocalTime.of(9, 0, 0))),\n               LocalDate.of(2020,3, 27),\n                   List.of(new Shift(4, LocalTime.of(22, 0, 0)), new Shift(5, LocalTime.of(10, 0, 0)))\n        );\n    \n    Map&lt;Range&lt;ChronoLocalDate&gt;, List&lt;Shift&gt;&gt; shiftsByRange = shiftsByDate.entrySet().stream()\n        .collect(Collectors.groupingBy(entry -&gt; getRange(entry.getKey()),\n            Collectors.flatMapping(entry -&gt; entry.getValue().stream(),\n                Collectors.toList())));\n    \n    shiftsByRange.forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[2020-03-27-2020-10-31) : [Shift[id=4, startTime=22:00], Shift[id=5, startTime=10:00]]\n[2020-01-01-2020-03-27) : [Shift[id=4, startTime=21:00], Shift[id=5, startTime=09:00]]\n</code></pre>\n"}],"owner":{"account_id":15549476,"reputation":111,"user_id":11217621,"display_name":"diegoruizbarbero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72277003,"answer_count":1,"score":1,"last_activity_date":1652826977,"creation_date":1652797850,"question_id":72275871,"body_markdown":"I have a map of working shifts indexed by day `Map&lt;LocalDate, Collection&lt;Shift&gt;&gt; shiftsAllDays`\r\nsuch as:\r\n\r\n    &quot;2020-03-26&quot;: [\r\n        {\r\n          &quot;id&quot;: 4,\r\n          &quot;startTime&quot;: &quot;21:00:00&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 5,\r\n          &quot;startTime&quot;: &quot;09:00:00&quot;,\r\n        }\r\n      ],\r\n      &quot;2020-03-27&quot;: [\r\n        {\r\n          &quot;id&quot;: 4,\r\n          &quot;startTime&quot;: &quot;22:00:00&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 5,\r\n          &quot;startTime&quot;: &quot;10:00:00&quot;,\r\n        }\r\n      ],\r\n      ...\r\n    ]\r\n\r\nas it can be seen, the shifts have an id and a start hour.\r\n\r\nBut to have the map indexed by day is a waste: the shifts happen to be consistently the same, except for one thing. The start hour is `LocalTime`, so the only difference in the shifts, is that after applying the timezone, the resulting shifts only differ in hour when a DST flip takes place.\r\n\r\nI want to do some sort of `groupBy` in the collector, to have something of the like:\r\n\r\n    Range.of(2020-01-01 ... 2020-03-26) [\r\n        {\r\n          &quot;id&quot;: 4,\r\n          &quot;startTime&quot;: &quot;21:00:00&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 5,\r\n          &quot;startTime&quot;: &quot;09:00:00&quot;,\r\n        }\r\n    ],\r\n    Range.of(2020-03-27 ... 2020-10-30) [\r\n        {\r\n          &quot;id&quot;: 4,\r\n          &quot;startTime&quot;: &quot;22:00:00&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 5,\r\n          &quot;startTime&quot;: &quot;10:00:00&quot;,\r\n        }\r\n    ],\r\n    Range.of(2020-10-31 ... 2021-01-01) [\r\n        {\r\n          &quot;id&quot;: 4,\r\n          &quot;startTime&quot;: &quot;21:00:00&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 5,\r\n          &quot;startTime&quot;: &quot;09:00:00&quot;,\r\n        }\r\n    ]\r\n\r\n...grouped in `Ranges` from DST flip to DST flip. I&#39;m having a hard time writing a `Collectors.groupBy(...)` and transforming the key from a single `LocalDate` day, to a `Range&lt;LocalDate&gt;`","title":"Group the contents of a Map of LocalDates into a Map of Ranges of dates","body":"<p>I have a map of working shifts indexed by day <code>Map&lt;LocalDate, Collection&lt;Shift&gt;&gt; shiftsAllDays</code>\nsuch as:</p>\n<pre><code>&quot;2020-03-26&quot;: [\n    {\n      &quot;id&quot;: 4,\n      &quot;startTime&quot;: &quot;21:00:00&quot;\n    },\n    {\n      &quot;id&quot;: 5,\n      &quot;startTime&quot;: &quot;09:00:00&quot;,\n    }\n  ],\n  &quot;2020-03-27&quot;: [\n    {\n      &quot;id&quot;: 4,\n      &quot;startTime&quot;: &quot;22:00:00&quot;\n    },\n    {\n      &quot;id&quot;: 5,\n      &quot;startTime&quot;: &quot;10:00:00&quot;,\n    }\n  ],\n  ...\n]\n</code></pre>\n<p>as it can be seen, the shifts have an id and a start hour.</p>\n<p>But to have the map indexed by day is a waste: the shifts happen to be consistently the same, except for one thing. The start hour is <code>LocalTime</code>, so the only difference in the shifts, is that after applying the timezone, the resulting shifts only differ in hour when a DST flip takes place.</p>\n<p>I want to do some sort of <code>groupBy</code> in the collector, to have something of the like:</p>\n<pre><code>Range.of(2020-01-01 ... 2020-03-26) [\n    {\n      &quot;id&quot;: 4,\n      &quot;startTime&quot;: &quot;21:00:00&quot;\n    },\n    {\n      &quot;id&quot;: 5,\n      &quot;startTime&quot;: &quot;09:00:00&quot;,\n    }\n],\nRange.of(2020-03-27 ... 2020-10-30) [\n    {\n      &quot;id&quot;: 4,\n      &quot;startTime&quot;: &quot;22:00:00&quot;\n    },\n    {\n      &quot;id&quot;: 5,\n      &quot;startTime&quot;: &quot;10:00:00&quot;,\n    }\n],\nRange.of(2020-10-31 ... 2021-01-01) [\n    {\n      &quot;id&quot;: 4,\n      &quot;startTime&quot;: &quot;21:00:00&quot;\n    },\n    {\n      &quot;id&quot;: 5,\n      &quot;startTime&quot;: &quot;09:00:00&quot;,\n    }\n]\n</code></pre>\n<p>...grouped in <code>Ranges</code> from DST flip to DST flip. I'm having a hard time writing a <code>Collectors.groupBy(...)</code> and transforming the key from a single <code>LocalDate</code> day, to a <code>Range&lt;LocalDate&gt;</code></p>\n"},{"tags":["java","if-statement","recursion","return"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652735597,"post_id":72265614,"comment_id":127673799,"body_markdown":"return mid does NOT jump to return -1. it returns the value of mid, and ends the method","body":"return mid does NOT jump to return -1. it returns the value of mid, and ends the method"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1652735783,"post_id":72265614,"comment_id":127673842,"body_markdown":"I think you want to have `return binarySearchRecursive(…)`, otherwise you will only ever return `mid` OR -1. Put differently: you are never doing anything with the returned `mid`","body":"I think you want to have <code>return binarySearchRecursive(…)</code>, otherwise you will only ever return <code>mid</code> OR -1. Put differently: you are never doing anything with the returned <code>mid</code>"},{"owner":{"account_id":25307584,"reputation":11,"user_id":19130844,"display_name":"FRBT"},"score":0,"creation_date":1652736482,"post_id":72265614,"comment_id":127674011,"body_markdown":"@Stultuske That what i would want, but it doesnt return the value of mid and doesn&#39;t end the method. Thats the problem.","body":"@Stultuske That what i would want, but it doesnt return the value of mid and doesn&#39;t end the method. Thats the problem."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652769115,"post_id":72265614,"comment_id":127679221,"body_markdown":"@TS98 no. That&#39;s impossible. the moment you hit return mid, it returns mid. What happens in a next call of the method is not related to this.","body":"@TS98 no. That&#39;s impossible. the moment you hit return mid, it returns mid. What happens in a next call of the method is not related to this."},{"owner":{"account_id":25307584,"reputation":11,"user_id":19130844,"display_name":"FRBT"},"score":0,"creation_date":1652782772,"post_id":72265614,"comment_id":127684242,"body_markdown":"ok yeah, that true. I guess i explained my problem wrong but its still this problem.","body":"ok yeah, that true. I guess i explained my problem wrong but its still this problem."}],"answers":[{"tags":[],"owner":{"account_id":22263134,"reputation":589,"user_id":16494303,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652737819,"creation_date":1652735707,"answer_id":72265714,"question_id":72265614,"body_markdown":"it seems you have a rather simple mistake you just forgot to return the value from the recursion.\r\n\r\nsimply adding a return statment before the call to `binarySearchRecursive(values, key, start, end, mid);` should fix it.\r\n\r\nso your code would look like this:\r\n```java\r\npublic class Searcher {\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int binarySearchRecursive(T[] values, T key) {\r\n        int start = 0;\r\n        int end = values.length - 1;\r\n        int mid = (start + end) / 2;\r\n\r\n        return binarySearchRecursive(values, key, start, end, mid);\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int binarySearchRecursive(T[] values, T key, int start, int end, int mid) {\r\n        if (key.compareTo(values[mid]) == 0) {\r\n            return mid;\r\n        } else if (key.compareTo(values[mid]) &lt; 0) {\r\n            end = mid;\r\n            mid = (start + end) / 2;\r\n            return binarySearchRecursive(values, key, start, end, mid);\r\n        } else if (key.compareTo(values[mid]) &gt; 0) {\r\n            start = mid;\r\n            mid = (start + end) / 2;\r\n            return binarySearchRecursive(values, key, start, end, mid);\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\nhope this helps!\r\nhappy coding!\r\n\r\n\r\nEDIT:\r\nTo clear up some missunderstanding, in the debugger it doesn&#39;t just jump out of the `if`-statment when hitting the return. it leaves the method and enteres the method where it left of previously. this is best explaned with an example.\r\n\r\nif we have a tree like this:\r\n```\r\n     3\r\n   /   \\\r\n  1     5 \r\n / \\   / \\\r\n0   2 4   6\r\n```\r\nand want to find the value 2, we start at the top (mid)\r\nwe see that 2 != 3 so we go left.\r\nwe need to expicitly tell the computer to return our anwser even if it is not currently found, because we will only find it once we have done some recursion steps.\r\nwhen we are at the left branch we see that 2 != 1 and go right.\r\nagain we need to expicitly tell the computer to return the answer it find&#39;s in that branch of the tree, since we are not there yet.\r\nnow when we get to 2 == 2 the anwser is accepted, but returning it we only get back one layer in the recurison.\r\nas mentioned before we need to propagate the result we got to the top by keep returning it.\r\n\r\nif this is still a bit confusion you may need to learn a bit about how recursion works (mainly the stack which is used)","title":"return in if jumps to return on the end of the method","body":"<p>it seems you have a rather simple mistake you just forgot to return the value from the recursion.</p>\n<p>simply adding a return statment before the call to <code>binarySearchRecursive(values, key, start, end, mid);</code> should fix it.</p>\n<p>so your code would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Searcher {\n\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int binarySearchRecursive(T[] values, T key) {\n        int start = 0;\n        int end = values.length - 1;\n        int mid = (start + end) / 2;\n\n        return binarySearchRecursive(values, key, start, end, mid);\n    }\n\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int binarySearchRecursive(T[] values, T key, int start, int end, int mid) {\n        if (key.compareTo(values[mid]) == 0) {\n            return mid;\n        } else if (key.compareTo(values[mid]) &lt; 0) {\n            end = mid;\n            mid = (start + end) / 2;\n            return binarySearchRecursive(values, key, start, end, mid);\n        } else if (key.compareTo(values[mid]) &gt; 0) {\n            start = mid;\n            mid = (start + end) / 2;\n            return binarySearchRecursive(values, key, start, end, mid);\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>hope this helps!\nhappy coding!</p>\n<p>EDIT:\nTo clear up some missunderstanding, in the debugger it doesn't just jump out of the <code>if</code>-statment when hitting the return. it leaves the method and enteres the method where it left of previously. this is best explaned with an example.</p>\n<p>if we have a tree like this:</p>\n<pre><code>     3\n   /   \\\n  1     5 \n / \\   / \\\n0   2 4   6\n</code></pre>\n<p>and want to find the value 2, we start at the top (mid)\nwe see that 2 != 3 so we go left.\nwe need to expicitly tell the computer to return our anwser even if it is not currently found, because we will only find it once we have done some recursion steps.\nwhen we are at the left branch we see that 2 != 1 and go right.\nagain we need to expicitly tell the computer to return the answer it find's in that branch of the tree, since we are not there yet.\nnow when we get to 2 == 2 the anwser is accepted, but returning it we only get back one layer in the recurison.\nas mentioned before we need to propagate the result we got to the top by keep returning it.</p>\n<p>if this is still a bit confusion you may need to learn a bit about how recursion works (mainly the stack which is used)</p>\n"}],"owner":{"account_id":25307584,"reputation":11,"user_id":19130844,"display_name":"FRBT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652826945,"creation_date":1652735056,"question_id":72265614,"body_markdown":"I want to create a binarySearch algorithm as recursion.\r\nThe code should be ok, since everything is working as i want it to.\r\n\r\nThis is my code:\r\n\r\n```\r\npublic class Searcher {\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int binarySearchRecursive(T[] values, T key) {\r\n        int start = 0;\r\n        int end = values.length - 1;\r\n        int mid = (start + end) / 2;\r\n\r\n        return binarySearchRecursive(values, key, start, end, mid);\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int binarySearchRecursive(T[] values, T key, int start, int end, int mid) {\r\n        if (key.compareTo(values[mid]) == 0) {\r\n            return mid;\r\n        } else if (key.compareTo(values[mid]) &lt; 0) {\r\n            end = mid;\r\n            mid = (start + end) / 2;\r\n            binarySearchRecursive(values, key, start, end, mid);\r\n        } else if (key.compareTo(values[mid]) &gt; 0) {\r\n            start = mid;\r\n            mid = (start + end) / 2;\r\n            binarySearchRecursive(values, key, start, end, mid);\r\n        }\r\n\r\n        return -1;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe test for it is the following:\r\n\r\n```\r\nclass SearcherTest {\r\n    private Integer[] values;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        values = new Integer[]{1, 3, 5, 7, 9, 11};\r\n    }\r\n\r\n    @Test\r\n    void binarySearchRecursive() {\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            assertEquals(i, Searcher.binarySearchRecursive(values, values[i]),\r\n                    &quot;binary search should return index for included values&quot;);\r\n        }\r\n\r\n        assertEquals(-1, Searcher.binarySearchRecursive(values, 100),\r\n                &quot;binary search should return -1 for not included values&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhile debugging, everything works as intended.\r\nAlthough after jumping in the if        \r\n``` if (key.compareTo(values[mid]) == 0) { ```\r\n``` return mid; ``` is executed, but jumps immediately to the return -1 on the end and doesnt give the wanted mid int back.\r\n\r\nHow could i solve it and give mid back instead of -1?\r\n\r\nThanks for your help!\r\n\r\n\r\n","title":"return in if jumps to return on the end of the method","body":"<p>I want to create a binarySearch algorithm as recursion.\nThe code should be ok, since everything is working as i want it to.</p>\n<p>This is my code:</p>\n<pre><code>public class Searcher {\n\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int binarySearchRecursive(T[] values, T key) {\n        int start = 0;\n        int end = values.length - 1;\n        int mid = (start + end) / 2;\n\n        return binarySearchRecursive(values, key, start, end, mid);\n    }\n\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int binarySearchRecursive(T[] values, T key, int start, int end, int mid) {\n        if (key.compareTo(values[mid]) == 0) {\n            return mid;\n        } else if (key.compareTo(values[mid]) &lt; 0) {\n            end = mid;\n            mid = (start + end) / 2;\n            binarySearchRecursive(values, key, start, end, mid);\n        } else if (key.compareTo(values[mid]) &gt; 0) {\n            start = mid;\n            mid = (start + end) / 2;\n            binarySearchRecursive(values, key, start, end, mid);\n        }\n\n        return -1;\n    }\n}\n\n</code></pre>\n<p>The test for it is the following:</p>\n<pre><code>class SearcherTest {\n    private Integer[] values;\n\n    @BeforeEach\n    void setUp() {\n        values = new Integer[]{1, 3, 5, 7, 9, 11};\n    }\n\n    @Test\n    void binarySearchRecursive() {\n        for (int i = 0; i &lt; values.length; i++) {\n            assertEquals(i, Searcher.binarySearchRecursive(values, values[i]),\n                    &quot;binary search should return index for included values&quot;);\n        }\n\n        assertEquals(-1, Searcher.binarySearchRecursive(values, 100),\n                &quot;binary search should return -1 for not included values&quot;);\n    }\n}\n\n</code></pre>\n<p>While debugging, everything works as intended.\nAlthough after jumping in the if<br />\n<code>if (key.compareTo(values[mid]) == 0) {</code>\n<code>return mid;</code> is executed, but jumps immediately to the return -1 on the end and doesnt give the wanted mid int back.</p>\n<p>How could i solve it and give mid back instead of -1?</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","amqp","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1652711468,"post_id":72260762,"comment_id":127665508,"body_markdown":"What is version `2.19.1-1`? Have you tried with the latest release (i.e. 2.22.0)? Do you have a way to reproduce this problem that you could share?","body":"What is version <code>2.19.1-1</code>? Have you tried with the latest release (i.e. 2.22.0)? Do you have a way to reproduce this problem that you could share?"},{"owner":{"account_id":25187720,"reputation":23,"user_id":19028351,"display_name":"GND"},"score":0,"creation_date":1652713841,"post_id":72260762,"comment_id":127666480,"body_markdown":"I tried with 4 nodes (2 masters). En-queued large message of around 250K characters (260 KB) on one master and consumers pointed to 2nd master. I&#39;m using the 2.19.1-1 release and have not tried with 2.22.","body":"I tried with 4 nodes (2 masters). En-queued large message of around 250K characters (260 KB) on one master and consumers pointed to 2nd master. I&#39;m using the 2.19.1-1 release and have not tried with 2.22."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1652714605,"post_id":72260762,"comment_id":127666826,"body_markdown":"What is version `2.19.1-1`? There is no such release for ActiveMQ Artemis. Do you mean `2.19.1`? Can you try `2.22.0`? Can you post your producer code?","body":"What is version <code>2.19.1-1</code>? There is no such release for ActiveMQ Artemis. Do you mean <code>2.19.1</code>? Can you try <code>2.22.0</code>? Can you post your producer code?"},{"owner":{"account_id":25187720,"reputation":23,"user_id":19028351,"display_name":"GND"},"score":0,"creation_date":1652716141,"post_id":72260762,"comment_id":127667428,"body_markdown":"The version is 2.19.1 I shared RPM version my bad. Tried with 2.22.0 same behavior. Also, Producer is just a camel route with Artemis component ( JmsComponent bean created with org.apache.activemq.jms.pool.PooledConnectionFactory)  I can not share complete code. I&#39;m not sure why you need a producer, it has nothing to do with a producer you can use any producer - the error clearly says the issue in re-distribution within master nodes","body":"The version is 2.19.1 I shared RPM version my bad. Tried with 2.22.0 same behavior. Also, Producer is just a camel route with Artemis component ( JmsComponent bean created with org.apache.activemq.jms.pool.PooledConnectionFactory)  I can not share complete code. I&#39;m not sure why you need a producer, it has nothing to do with a producer you can use any producer - the error clearly says the issue in re-distribution within master nodes"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1652718310,"post_id":72260762,"comment_id":127668212,"body_markdown":"The message redistributor takes the message _as it was sent_ so although it&#39;s not necessarily required having the producer code is helpful to know exactly how the message is being sent (what annotations are set, what exactly message body is, what client library and which version is being used, etc.). It can also greatly speed up reproducing this issue which means you might get a fix sooner.","body":"The message redistributor takes the message <i>as it was sent</i> so although it&#39;s not necessarily required having the producer code is helpful to know exactly how the message is being sent (what annotations are set, what exactly message body is, what client library and which version is being used, etc.). It can also greatly speed up reproducing this issue which means you might get a fix sooner."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1652724958,"post_id":72260762,"comment_id":127670510,"body_markdown":"Also, the message in question is an instance of `AMQPMessage` which likely means the message was _sent_ using an AMQP client so it appears that I can&#39;t &quot;use any producer&quot; as you assert.","body":"Also, the message in question is an instance of <code>AMQPMessage</code> which likely means the message was <i>sent</i> using an AMQP client so it appears that I can&#39;t &quot;use any producer&quot; as you assert."},{"owner":{"account_id":412254,"reputation":5353,"user_id":785229,"display_name":"Clebert Suconic"},"score":0,"creation_date":1652725795,"post_id":72260762,"comment_id":127670784,"body_markdown":"It does look like a bug indeed.. if you could open a JIRA? if there&#39;s a reproducer even better.","body":"It does look like a bug indeed.. if you could open a JIRA? if there&#39;s a reproducer even better."},{"owner":{"account_id":412254,"reputation":5353,"user_id":785229,"display_name":"Clebert Suconic"},"score":0,"creation_date":1652741522,"post_id":72260762,"comment_id":127674954,"body_markdown":"@GND if you could follow the discussion on JIRA. I could not reproduce it.. so a reproducer would definitely help.","body":"@GND if you could follow the discussion on JIRA. I could not reproduce it.. so a reproducer would definitely help."},{"owner":{"account_id":412254,"reputation":5353,"user_id":785229,"display_name":"Clebert Suconic"},"score":0,"creation_date":1652791909,"post_id":72260762,"comment_id":127687751,"body_markdown":"I had posted the wrong link on my previous comment, here is the right link:https://issues.apache.org/jira/browse/ARTEMIS-3837","body":"I had posted the wrong link on my previous comment, here is the right link:<a href=\"https://issues.apache.org/jira/browse/ARTEMIS-3837\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/ARTEMIS-3837</a>"},{"owner":{"account_id":412254,"reputation":5353,"user_id":785229,"display_name":"Clebert Suconic"},"score":0,"creation_date":1652792162,"post_id":72260762,"comment_id":127687863,"body_markdown":"Most likely you used an older version of the broker to send the message... restarted the broker with older data and the broker did not have some stuff in the journal that&#39;s now used in the new version. I will need some extra info so I would appreciate some follow up on the JIRA.","body":"Most likely you used an older version of the broker to send the message... restarted the broker with older data and the broker did not have some stuff in the journal that&#39;s now used in the new version. I will need some extra info so I would appreciate some follow up on the JIRA."},{"owner":{"account_id":25187720,"reputation":23,"user_id":19028351,"display_name":"GND"},"score":0,"creation_date":1652808067,"post_id":72260762,"comment_id":127694199,"body_markdown":"@Clebert Suconic: The log in the question is from 2.19 but I could see the same issue with 2.22","body":"@Clebert Suconic: The log in the question is from 2.19 but I could see the same issue with 2.22"},{"owner":{"account_id":412254,"reputation":5353,"user_id":785229,"display_name":"Clebert Suconic"},"score":0,"creation_date":1652813315,"post_id":72260762,"comment_id":127695866,"body_markdown":"@GND please followup on the JIRA. I cannot reproduce the issue in any way... the server always has the message parsed before I called hasScheduledTime... \n\nperhaps you have a plugin that would re-encode the message? or you have some special producer in C++ or something like that that&#39;s generating some odd message? Please.. lets follow up that on the JIRA as stack overflow is not meant for this.. after figured out we can add an answer here.","body":"@GND please followup on the JIRA. I cannot reproduce the issue in any way... the server always has the message parsed before I called hasScheduledTime...   perhaps you have a plugin that would re-encode the message? or you have some special producer in C++ or something like that that&#39;s generating some odd message? Please.. lets follow up that on the JIRA as stack overflow is not meant for this.. after figured out we can add an answer here."},{"owner":{"account_id":412254,"reputation":5353,"user_id":785229,"display_name":"Clebert Suconic"},"score":0,"creation_date":1652813352,"post_id":72260762,"comment_id":127695881,"body_markdown":"lets move the discussion to: https://issues.apache.org/jira/browse/ARTEMIS-3837 and come back here after figured out.","body":"lets move the discussion to: <a href=\"https://issues.apache.org/jira/browse/ARTEMIS-3837\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/ARTEMIS-3837</a> and come back here after figured out."}],"answers":[{"tags":[],"owner":{"account_id":412254,"reputation":5353,"user_id":785229,"display_name":"Clebert Suconic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652826420,"creation_date":1652826420,"answer_id":72281326,"question_id":72260762,"body_markdown":"When you send large messages, within the first block sent the large message is parsed for properties. Most likely you are using large properties in a way the server is not being able to parse the first few bytes of the message. You should avoid using large properties and let the large portion only for the client.\r\n\r\nWe tried following up with many tests on this JIRA, and the only plausible scenarios would be through large properties, or some incomplete message your client is generating in a way the server can&#39;t parse it.\r\n\r\nhttps://issues.apache.org/jira/browse/ARTEMIS-3837\r\n\r\n\r\nif you provide a reproducer showing how the property is failing to be parsed we will follow up with a possible fix.\r\n\r\nPlease move any discussion regarding this to the JIRA. It could be a bug caused by your anti-pattern.","title":"Redistribution fails for large messages in ActiveMQ Artemis","body":"<p>When you send large messages, within the first block sent the large message is parsed for properties. Most likely you are using large properties in a way the server is not being able to parse the first few bytes of the message. You should avoid using large properties and let the large portion only for the client.</p>\n<p>We tried following up with many tests on this JIRA, and the only plausible scenarios would be through large properties, or some incomplete message your client is generating in a way the server can't parse it.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/ARTEMIS-3837\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/ARTEMIS-3837</a></p>\n<p>if you provide a reproducer showing how the property is failing to be parsed we will follow up with a possible fix.</p>\n<p>Please move any discussion regarding this to the JIRA. It could be a bug caused by your anti-pattern.</p>\n"}],"owner":{"account_id":25187720,"reputation":23,"user_id":19028351,"display_name":"GND"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72281326,"answer_count":1,"score":0,"last_activity_date":1652826420,"creation_date":1652710931,"question_id":72260762,"body_markdown":"I&#39;m using ActiveMQ Artemis version 2.19.1, and I&#39;m facing an issue in a 6-node (3 masters) cluster where redistribution is failing for large messages with the below warning logs:\r\n```\r\n23:35:05,551 WARN  [org.apache.activemq.artemis.core.server] AMQ222303: Redistribution by Redistributor[TEST_QUEUE/2244] of messageID = 196,950,715 failed: java.lang.UnsupportedOperationException: Method not supported with Large Messages\r\n        at org.apache.activemq.artemis.protocol.amqp.broker.AMQPLargeMessage.getData(AMQPLargeMessage.java:311) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\r\n        at org.apache.activemq.artemis.protocol.amqp.broker.AMQPMessage.anyMessageAnnotations(AMQPMessage.java:1374) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\r\n        at org.apache.activemq.artemis.protocol.amqp.broker.AMQPMessage.hasScheduledDeliveryTime(AMQPMessage.java:1352) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\r\n        at org.apache.activemq.artemis.core.postoffice.impl.PostOfficeImpl.processRoute(PostOfficeImpl.java:1499) [artemis-server-2.19.1.jar:2.19.1]\r\n        at org.apache.activemq.artemis.core.server.cluster.impl.Redistributor$1.run(Redistributor.java:169) [artemis-server-2.19.1.jar:2.19.1]\r\n        at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42) [artemis-commons-2.19.1.jar:2.19.1]\r\n        at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31) [artemis-commons-2.19.1.jar:2.19.1]\r\n        at org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:65) [artemis-commons-2.19.1.jar:2.19.1]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_322]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_322]\r\n        at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [artemis-commons-2.19.1.jar:2.19.1]\r\n``` \r\n\r\nLater I see broker is removing consumers with below warning since properties=null:\r\n\r\n```\r\n00:10:28,280 WARN  [org.apache.activemq.artemis.core.server] AMQ222151: removing consumer which did not handle a message, consumer=ServerConsumerImpl [id=57, filter=null, binding=LocalQueueBinding [address=TEST_QUEUE, queue=QueueImpl[name=TEST_QUEUE, postOffice=PostOfficeImpl [server=ActiveMQServerImpl::name=localhost], temp=false]@9c000b7, filter=null, name=TEST_QUEUE, clusterName=TEST_QUEUE1e359f55-c92b-11ec-b908-005056a3af3f]], message=Reference[157995028]:RELIABLE:AMQPLargeMessage( [durable=true, messageID=157995028, address=TEST_QUEUE, size=0, scanningStatus=SCANNED, applicationProperties={VER=05, trackingId=62701757c80c3004d037ded6}, messageAnnotations={}, properties=null, extraProperties = TypedProperties[_AMQ_AD=TEST_QUEUE]]: java.lang.IllegalArgumentException: Array must not be empty or null\r\n        at org.apache.qpid.proton.codec.CompositeReadableBuffer.append(CompositeReadableBuffer.java:688) [proton-j-0.33.10.jar:]\r\n        at org.apache.qpid.proton.engine.impl.DeliveryImpl.send(DeliveryImpl.java:345) [proton-j-0.33.10.jar:]\r\n        at org.apache.qpid.proton.engine.impl.SenderImpl.send(SenderImpl.java:74) [proton-j-0.33.10.jar:]\r\n        at org.apache.activemq.artemis.protocol.amqp.proton.ProtonServerSenderContext$LargeMessageDeliveryContext.deliverInitialPacket(ProtonServerSenderContext.java:686) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\r\n        at org.apache.activemq.artemis.protocol.amqp.proton.ProtonServerSenderContext$LargeMessageDeliveryContext.deliver(ProtonServerSenderContext.java:587) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\r\n``` \r\nI have 6 consumers for this queue if one message out of many (let&#39;s say 1,000) is large - it should process other messages but, the processing is stopped completely with 0 consumers on the queue.","title":"Redistribution fails for large messages in ActiveMQ Artemis","body":"<p>I'm using ActiveMQ Artemis version 2.19.1, and I'm facing an issue in a 6-node (3 masters) cluster where redistribution is failing for large messages with the below warning logs:</p>\n<pre><code>23:35:05,551 WARN  [org.apache.activemq.artemis.core.server] AMQ222303: Redistribution by Redistributor[TEST_QUEUE/2244] of messageID = 196,950,715 failed: java.lang.UnsupportedOperationException: Method not supported with Large Messages\n        at org.apache.activemq.artemis.protocol.amqp.broker.AMQPLargeMessage.getData(AMQPLargeMessage.java:311) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\n        at org.apache.activemq.artemis.protocol.amqp.broker.AMQPMessage.anyMessageAnnotations(AMQPMessage.java:1374) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\n        at org.apache.activemq.artemis.protocol.amqp.broker.AMQPMessage.hasScheduledDeliveryTime(AMQPMessage.java:1352) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\n        at org.apache.activemq.artemis.core.postoffice.impl.PostOfficeImpl.processRoute(PostOfficeImpl.java:1499) [artemis-server-2.19.1.jar:2.19.1]\n        at org.apache.activemq.artemis.core.server.cluster.impl.Redistributor$1.run(Redistributor.java:169) [artemis-server-2.19.1.jar:2.19.1]\n        at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42) [artemis-commons-2.19.1.jar:2.19.1]\n        at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31) [artemis-commons-2.19.1.jar:2.19.1]\n        at org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:65) [artemis-commons-2.19.1.jar:2.19.1]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_322]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_322]\n        at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [artemis-commons-2.19.1.jar:2.19.1]\n</code></pre>\n<p>Later I see broker is removing consumers with below warning since properties=null:</p>\n<pre><code>00:10:28,280 WARN  [org.apache.activemq.artemis.core.server] AMQ222151: removing consumer which did not handle a message, consumer=ServerConsumerImpl [id=57, filter=null, binding=LocalQueueBinding [address=TEST_QUEUE, queue=QueueImpl[name=TEST_QUEUE, postOffice=PostOfficeImpl [server=ActiveMQServerImpl::name=localhost], temp=false]@9c000b7, filter=null, name=TEST_QUEUE, clusterName=TEST_QUEUE1e359f55-c92b-11ec-b908-005056a3af3f]], message=Reference[157995028]:RELIABLE:AMQPLargeMessage( [durable=true, messageID=157995028, address=TEST_QUEUE, size=0, scanningStatus=SCANNED, applicationProperties={VER=05, trackingId=62701757c80c3004d037ded6}, messageAnnotations={}, properties=null, extraProperties = TypedProperties[_AMQ_AD=TEST_QUEUE]]: java.lang.IllegalArgumentException: Array must not be empty or null\n        at org.apache.qpid.proton.codec.CompositeReadableBuffer.append(CompositeReadableBuffer.java:688) [proton-j-0.33.10.jar:]\n        at org.apache.qpid.proton.engine.impl.DeliveryImpl.send(DeliveryImpl.java:345) [proton-j-0.33.10.jar:]\n        at org.apache.qpid.proton.engine.impl.SenderImpl.send(SenderImpl.java:74) [proton-j-0.33.10.jar:]\n        at org.apache.activemq.artemis.protocol.amqp.proton.ProtonServerSenderContext$LargeMessageDeliveryContext.deliverInitialPacket(ProtonServerSenderContext.java:686) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\n        at org.apache.activemq.artemis.protocol.amqp.proton.ProtonServerSenderContext$LargeMessageDeliveryContext.deliver(ProtonServerSenderContext.java:587) [artemis-amqp-protocol-2.19.1.jar:2.19.1]\n</code></pre>\n<p>I have 6 consumers for this queue if one message out of many (let's say 1,000) is large - it should process other messages but, the processing is stopped completely with 0 consumers on the queue.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":8964938,"reputation":749,"user_id":6686007,"display_name":"Roberto Petrilli"},"score":0,"creation_date":1652826148,"post_id":72281223,"comment_id":127699396,"body_markdown":"Have you tried to declare @ConfigurationProperties as a List&lt;TestPOJO&gt; ?","body":"Have you tried to declare @ConfigurationProperties as a List&lt;TestPOJO&gt; ?"},{"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"score":0,"creation_date":1652826231,"post_id":72281223,"comment_id":127699413,"body_markdown":"That&#39;s because you have a list of objects in JSON and you are autowiring a single object.","body":"That&#39;s because you have a list of objects in JSON and you are autowiring a single object."},{"owner":{"account_id":25318516,"reputation":13,"user_id":19140202,"display_name":"Students World"},"score":0,"creation_date":1652827096,"post_id":72281223,"comment_id":127699577,"body_markdown":"@RobertoPetrilli may i know how to declare configurationpropertis as list? could you provide a sample code.","body":"@RobertoPetrilli may i know how to declare configurationpropertis as list? could you provide a sample code."}],"owner":{"account_id":25318516,"reputation":13,"user_id":19140202,"display_name":"Students World"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652825747,"creation_date":1652825613,"question_id":72281223,"body_markdown":"I am using Springboot application \r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6.7&lt;/version&gt;\r\n    \t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\nMy **JSON Structure** is below and I am reading it from a file in Classpath named: &quot;source.json&quot;\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;12345&quot;,\r\n            &quot;name&quot;: &quot;Name 1&quot;,\r\n            &quot;key&quot;: &quot;Key 1&quot;,\r\n            &quot;pdetails&quot;: &quot;desc1&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;12346&quot;,\r\n            &quot;name&quot;: &quot;Name 2&quot;,\r\n            &quot;key&quot;: &quot;Key 2&quot;,\r\n            &quot;pdetails&quot;: &quot;desc2&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;12347&quot;,\r\n            &quot;name&quot;: &quot;Name 3&quot;,\r\n            &quot;key&quot;: &quot;Key 3&quot;,\r\n            &quot;pdetails&quot;: &quot;desc3&quot;\r\n        }\r\n    ]\r\n\r\n\r\n\r\nAnd I am using **POJO Structure**: TestPOJO.java\r\n\r\n\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    @PropertySource(value = &quot;classpath:source.json&quot;)\r\n    @ConfigurationProperties\r\n    \r\n    public class TestPOJO {\r\n    \tString id;\r\n    \tString name;\r\n    \tString pdetails;\r\n    \tString key;\r\n    \t\r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getPdetails() {\r\n    \t\treturn pdetails;\r\n    \t}\r\n    \tpublic void setPdetails(String pdetails) {\r\n    \t\tthis.pdetails = pdetails;\r\n    \t}\r\n    \tpublic String getKey() {\r\n    \t\treturn key;\r\n    \t}\r\n    \tpublic void setKey(String key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n**In my Controller** I am using below code for autowire\r\n\r\n    @Autowired\r\n    private TestPOJO testData;\r\n\r\n\r\nThis code always returning only Last object of the JSON Array\r\n***its not returning all objects.***\r\nThe output is below: \r\n\r\n  \r\n\r\n     [{\r\n            &quot;id&quot;: &quot;12347&quot;,\r\n            &quot;name&quot;: &quot;Name 3&quot;,\r\n            &quot;key&quot;: &quot;Key 3&quot;,\r\n            &quot;pdetails&quot;: &quot;desc3&quot;\r\n        }]\r\n\r\n\r\n\r\nCan somebody help me what is wrong with my Code.\r\n","title":"Spring Autowire returning only one object from JSON Array of objects , when reading file from class path","body":"<p>I am using Springboot application</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>My <strong>JSON Structure</strong> is below and I am reading it from a file in Classpath named: &quot;source.json&quot;</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;12345&quot;,\n        &quot;name&quot;: &quot;Name 1&quot;,\n        &quot;key&quot;: &quot;Key 1&quot;,\n        &quot;pdetails&quot;: &quot;desc1&quot;\n    },\n    {\n        &quot;id&quot;: &quot;12346&quot;,\n        &quot;name&quot;: &quot;Name 2&quot;,\n        &quot;key&quot;: &quot;Key 2&quot;,\n        &quot;pdetails&quot;: &quot;desc2&quot;\n    },\n    {\n        &quot;id&quot;: &quot;12347&quot;,\n        &quot;name&quot;: &quot;Name 3&quot;,\n        &quot;key&quot;: &quot;Key 3&quot;,\n        &quot;pdetails&quot;: &quot;desc3&quot;\n    }\n]\n</code></pre>\n<p>And I am using <strong>POJO Structure</strong>: TestPOJO.java</p>\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.stereotype.Component;\n\n@Component\n@PropertySource(value = &quot;classpath:source.json&quot;)\n@ConfigurationProperties\n\npublic class TestPOJO {\n    String id;\n    String name;\n    String pdetails;\n    String key;\n    \n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getPdetails() {\n        return pdetails;\n    }\n    public void setPdetails(String pdetails) {\n        this.pdetails = pdetails;\n    }\n    public String getKey() {\n        return key;\n    }\n    public void setKey(String key) {\n        this.key = key;\n    }\n    \n}\n</code></pre>\n<p><strong>In my Controller</strong> I am using below code for autowire</p>\n<pre><code>@Autowired\nprivate TestPOJO testData;\n</code></pre>\n<p>This code always returning only Last object of the JSON Array\n<em><strong>its not returning all objects.</strong></em>\nThe output is below:</p>\n<pre><code> [{\n        &quot;id&quot;: &quot;12347&quot;,\n        &quot;name&quot;: &quot;Name 3&quot;,\n        &quot;key&quot;: &quot;Key 3&quot;,\n        &quot;pdetails&quot;: &quot;desc3&quot;\n    }]\n</code></pre>\n<p>Can somebody help me what is wrong with my Code.</p>\n"},{"tags":["java","maven","code-coverage","jacoco","sonarcloud"],"owner":{"account_id":16836810,"reputation":63,"user_id":12173257,"display_name":"lilith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652825608,"creation_date":1652825608,"question_id":72281221,"body_markdown":"I need to make SonarCloud import a coverage report made by JaCoCo during the build in the CI pipeline.\r\n\r\nThe coverage is done on java binaries (jar file) not on plain source files.\r\n\r\nIn the pom.xml I&#39;ve put the following properties:\r\n\r\n```\r\n&lt;sonar.sources&gt;lib&lt;/sonar.sources&gt;\r\n&lt;sonar.binaries&gt;target/classes&lt;/sonar.binaries&gt;\r\n&lt;sonar.java.binaries&gt;target/classes&lt;/sonar.java.binaries&gt;\r\n\r\n&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n&lt;sonar.junit.reportPaths&gt;target/coverage-reports/surefire-reports&lt;/sonar.junit.reportPaths&gt;&lt;sonar.coverage.jacoco.xmlReportPaths&gt;target/coverage-reports/jacoco-reports&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n```\r\n\r\nIn the lib directory there is the jar file.\r\n\r\nThe JaCoCo report is created with the following setup:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.7&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;prepare-agent&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;destFile&gt;target/coverage-reports/jacoco.exec&lt;/destFile&gt;\r\n                &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                 &lt;dataFile&gt;target/coverage-reports/jacoco.exec&lt;/dataFile&gt;\r\n                 &lt;outputDirectory&gt;target/coverage-reports/jacoco-reports&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIn the github actions .yml file I use the command:\r\n\r\n```\r\nmvn -Pcoverage verify org.sonarsource.scanner.maven:sonar-maven-plugin:sonar -Dsonar.projectKey=***\r\n```\r\n\r\nFinally, the warning I get when building the project on Github is:\r\n\r\n```\r\nWarning:  No coverage report can be found with sonar.coverage.jacoco.xmlReportPaths=&#39;target/coverage-reports/jacoco-reports&#39;. Using default locations: target/site/jacoco/jacoco.xml,target/site/jacoco-it/jacoco.xml,build/reports/jacoco/test/jacocoTestReport.xml\r\n[INFO] No report imported, no coverage information will be imported by JaCoCo XML Report Importer\r\n```\r\n\r\nI even tried to put the report in the default locations but, even then, no report is imported, even though it is generated locally.\r\n","title":"How do I make SonarCloud read a local JaCoCo report?","body":"<p>I need to make SonarCloud import a coverage report made by JaCoCo during the build in the CI pipeline.</p>\n<p>The coverage is done on java binaries (jar file) not on plain source files.</p>\n<p>In the pom.xml I've put the following properties:</p>\n<pre><code>&lt;sonar.sources&gt;lib&lt;/sonar.sources&gt;\n&lt;sonar.binaries&gt;target/classes&lt;/sonar.binaries&gt;\n&lt;sonar.java.binaries&gt;target/classes&lt;/sonar.java.binaries&gt;\n\n&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n&lt;sonar.junit.reportPaths&gt;target/coverage-reports/surefire-reports&lt;/sonar.junit.reportPaths&gt;&lt;sonar.coverage.jacoco.xmlReportPaths&gt;target/coverage-reports/jacoco-reports&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n</code></pre>\n<p>In the lib directory there is the jar file.</p>\n<p>The JaCoCo report is created with the following setup:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.7&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;destFile&gt;target/coverage-reports/jacoco.exec&lt;/destFile&gt;\n                &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;configuration&gt;\n                 &lt;dataFile&gt;target/coverage-reports/jacoco.exec&lt;/dataFile&gt;\n                 &lt;outputDirectory&gt;target/coverage-reports/jacoco-reports&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n      &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>In the github actions .yml file I use the command:</p>\n<pre><code>mvn -Pcoverage verify org.sonarsource.scanner.maven:sonar-maven-plugin:sonar -Dsonar.projectKey=***\n</code></pre>\n<p>Finally, the warning I get when building the project on Github is:</p>\n<pre><code>Warning:  No coverage report can be found with sonar.coverage.jacoco.xmlReportPaths='target/coverage-reports/jacoco-reports'. Using default locations: target/site/jacoco/jacoco.xml,target/site/jacoco-it/jacoco.xml,build/reports/jacoco/test/jacocoTestReport.xml\n[INFO] No report imported, no coverage information will be imported by JaCoCo XML Report Importer\n</code></pre>\n<p>I even tried to put the report in the default locations but, even then, no report is imported, even though it is generated locally.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":6,"creation_date":1652825649,"post_id":72281172,"comment_id":127699301,"body_markdown":"Add an `@FXML void initialize() { }` method to your controller, and do any initialization there. Note all FXML-injected fields will be injected by the time the `initialize()` method is invoked. Also, you should never manually assign any `@FXML`-annotated field (like you&#39;re currently doing with `chessBoard`).","body":"Add an <code>@FXML void initialize() { }</code> method to your controller, and do any initialization there. Note all FXML-injected fields will be injected by the time the <code>initialize()</code> method is invoked. Also, you should never manually assign any <code>@FXML</code>-annotated field (like you&#39;re currently doing with <code>chessBoard</code>)."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1652825675,"post_id":72281172,"comment_id":127699308,"body_markdown":"Look at the initialize method. This should clear things up https://stackoverflow.com/questions/34785417/javafx-fxml-controller-constructor-vs-initialize-method","body":"Look at the initialize method. This should clear things up <a href=\"https://stackoverflow.com/questions/34785417/javafx-fxml-controller-constructor-vs-initialize-method\" title=\"javafx fxml controller constructor vs initialize method\">stackoverflow.com/questions/34785417/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652827037,"post_id":72281172,"comment_id":127699556,"body_markdown":"You also might want to [apply MVC](https://edencoding.com/mvc-in-javafx/) to separate the game model and logic from the UI, but that is a more complex topic.","body":"You also might want to <a href=\"https://edencoding.com/mvc-in-javafx/\" rel=\"nofollow noreferrer\">apply MVC</a> to separate the game model and logic from the UI, but that is a more complex topic."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652827433,"post_id":72281172,"comment_id":127699644,"body_markdown":"Related: [FXML: &quot;Run after initialized&quot;](https://stackoverflow.com/questions/40246788/fxml-run-after-initialized/40247181#40247181) and [How to connect FX controller with main app](https://stackoverflow.com/questions/33881046/how-to-connect-fx-controller-with-main-app/33881412#33881412).","body":"Related: <a href=\"https://stackoverflow.com/questions/40246788/fxml-run-after-initialized/40247181#40247181\">FXML: &quot;Run after initialized&quot;</a> and <a href=\"https://stackoverflow.com/questions/33881046/how-to-connect-fx-controller-with-main-app/33881412#33881412\">How to connect FX controller with main app</a>."}],"owner":{"account_id":11011498,"reputation":25,"user_id":8088711,"display_name":"naynay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1652861782,"answer_count":0,"score":1,"last_activity_date":1652825257,"creation_date":1652825257,"question_id":72281172,"body_markdown":"I am trying to represent a chessboard using JavaFX 11. Manually representing each square in FXML seemed tedious, so I opted to write some code in the controller (HelloController) that would represent each square for me. Here&#39;s what I have so far:\r\n\r\n**FXML**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;com.test.hellofx.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n    &lt;GridPane fx:id=&quot;chessBoard&quot;/&gt;\r\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#setChessBoard&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n**Controller**\r\n```java\r\npackage com.test.hellofx;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.StackPane;\r\n\r\npublic class HelloController {\r\n    @FXML\r\n    private Label welcomeText;\r\n    @FXML\r\n    private GridPane chessBoard = new GridPane();\r\n\r\n//    HelloController(){\r\n//        setChessBoard();\r\n//        onHelloButtonClick();\r\n//    }\r\n    @FXML\r\n    protected void onHelloButtonClick() {\r\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\r\n//        setChessBoard(chessBoard);\r\n    }\r\n    @FXML\r\n    public void setChessBoard() {\r\n//        System.out.println(&quot;Check&quot;);\r\n        for (int i = 1; i &lt; 9; i++){\r\n//            Label letter = createLetterLabel(i);\r\n//            Label number = createNumberLabel(i);\r\n            chessBoard.add(createLetterLabel(i), i,0);\r\n            chessBoard.add(createLetterLabel(i), i,9);\r\n            chessBoard.add(createNumberLabel(i), 0, i);\r\n            chessBoard.add(createNumberLabel(i), 9, i);\r\n        }\r\n//        System.out.println(&quot;Check&quot;);\r\n        for (int i = 1; i &lt; 9; i++){\r\n            for (int j = 1; j &lt; 9; j++){\r\n                StackPane tile = new StackPane();\r\n                String tileColor;\r\n                if ((i + j) % 2 == 0) {\r\n                    tileColor = &quot;#f7f4cf&quot;;\r\n                } else {\r\n                    tileColor = &quot;#c68b6b&quot;;\r\n                }\r\n                tile.setStyle(&quot;-fx-background-color: &quot;+tileColor+&quot;;&quot;);\r\n                chessBoard.add(tile, i, j);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static Label createLetterLabel(int i){\r\n        char content = (char) ( ((int) &#39;a&#39; ) + i - 1);\r\n        Label label = new Label();\r\n        label.setText(String.valueOf(content));\r\n        return label;\r\n    }\r\n\r\n    private static Label createNumberLabel(int i){\r\n        return new Label(String.valueOf(i));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.test.hellofx;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n\r\n//        System.out.println(&quot;Check&quot;);\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\nWith this current setup, the chessboard only gets initialized when the button is clicked. However, I would like the chessboard to be initialized upon running the program such that it appears without a button being clicked. I tried changing `setChessBoard()`&#39;s signature and behavior to match this\r\n```java\r\npublic static GridPane setChessBoard(GridPane chessBoard)\r\n```\r\n and used that to initialize the chessboard like so\r\n```\r\nGridpane chessBoard = setChessBoard(new Gridpane());\r\n```\r\nand though that runs, it does not display the chessboard (and the button hack does not work in this case since fxml does not seem to accept static methods)\r\n\r\nWhat would be a better way to do this?","title":"How to initialize FXML elements before runtime","body":"<p>I am trying to represent a chessboard using JavaFX 11. Manually representing each square in FXML seemed tedious, so I opted to write some code in the controller (HelloController) that would represent each square for me. Here's what I have so far:</p>\n<p><strong>FXML</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.test.hellofx.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;GridPane fx:id=&quot;chessBoard&quot;/&gt;\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#setChessBoard&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.test.hellofx;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.StackPane;\n\npublic class HelloController {\n    @FXML\n    private Label welcomeText;\n    @FXML\n    private GridPane chessBoard = new GridPane();\n\n//    HelloController(){\n//        setChessBoard();\n//        onHelloButtonClick();\n//    }\n    @FXML\n    protected void onHelloButtonClick() {\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\n//        setChessBoard(chessBoard);\n    }\n    @FXML\n    public void setChessBoard() {\n//        System.out.println(&quot;Check&quot;);\n        for (int i = 1; i &lt; 9; i++){\n//            Label letter = createLetterLabel(i);\n//            Label number = createNumberLabel(i);\n            chessBoard.add(createLetterLabel(i), i,0);\n            chessBoard.add(createLetterLabel(i), i,9);\n            chessBoard.add(createNumberLabel(i), 0, i);\n            chessBoard.add(createNumberLabel(i), 9, i);\n        }\n//        System.out.println(&quot;Check&quot;);\n        for (int i = 1; i &lt; 9; i++){\n            for (int j = 1; j &lt; 9; j++){\n                StackPane tile = new StackPane();\n                String tileColor;\n                if ((i + j) % 2 == 0) {\n                    tileColor = &quot;#f7f4cf&quot;;\n                } else {\n                    tileColor = &quot;#c68b6b&quot;;\n                }\n                tile.setStyle(&quot;-fx-background-color: &quot;+tileColor+&quot;;&quot;);\n                chessBoard.add(tile, i, j);\n            }\n        }\n    }\n\n    private static Label createLetterLabel(int i){\n        char content = (char) ( ((int) 'a' ) + i - 1);\n        Label label = new Label();\n        label.setText(String.valueOf(content));\n        return label;\n    }\n\n    private static Label createNumberLabel(int i){\n        return new Label(String.valueOf(i));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.test.hellofx;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n\n//        System.out.println(&quot;Check&quot;);\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>With this current setup, the chessboard only gets initialized when the button is clicked. However, I would like the chessboard to be initialized upon running the program such that it appears without a button being clicked. I tried changing <code>setChessBoard()</code>'s signature and behavior to match this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static GridPane setChessBoard(GridPane chessBoard)\n</code></pre>\n<p>and used that to initialize the chessboard like so</p>\n<pre><code>Gridpane chessBoard = setChessBoard(new Gridpane());\n</code></pre>\n<p>and though that runs, it does not display the chessboard (and the button hack does not work in this case since fxml does not seem to accept static methods)</p>\n<p>What would be a better way to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1652825063,"post_id":72280866,"comment_id":127699165,"body_markdown":"`List.containsAll()` works as advertised.  It is the simplest way to determine whether all the elements in one list are also contained in the other, where elements are compared via their `equals(Object)` methods.  If you think it&#39;s not working for you, then this would be a good time to present a [mre] demonstrating that issue.","body":"<code>List.containsAll()</code> works as advertised.  It is the simplest way to determine whether all the elements in one list are also contained in the other, where elements are compared via their <code>equals(Object)</code> methods.  If you think it&#39;s not working for you, then this would be a good time to present a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating that issue."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652825118,"creation_date":1652824648,"answer_id":72281082,"question_id":72280866,"body_markdown":"[`List#containsAll`][1] works as documented, and does what you want. \r\n\r\nI copy-pasted your example data.\r\n\r\n    List&lt; String &gt; list1 = List.of( &quot;demo1&quot;, &quot;demo2&quot;, &quot;demo3&quot;, &quot;demo4&quot;, &quot;demo5&quot; ) ;\r\n    List&lt; String &gt; list2 = List.of( &quot;demo2&quot;, &quot;demo3&quot;, &quot;demo4&quot; ) ;\r\n    boolean contained = list1.containsAll( list2 ) ;\r\n\r\nSee [code run live at Ideone.com][2].\r\n\r\n&gt; contained = true\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#containsAll(java.util.Collection)\r\n  [2]: https://ideone.com/414eiA","title":"Is there a better way to verify that one looped list is contained in another in Java?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#containsAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List#containsAll</code></a> works as documented, and does what you want.</p>\n<p>I copy-pasted your example data.</p>\n<pre><code>List&lt; String &gt; list1 = List.of( &quot;demo1&quot;, &quot;demo2&quot;, &quot;demo3&quot;, &quot;demo4&quot;, &quot;demo5&quot; ) ;\nList&lt; String &gt; list2 = List.of( &quot;demo2&quot;, &quot;demo3&quot;, &quot;demo4&quot; ) ;\nboolean contained = list1.containsAll( list2 ) ;\n</code></pre>\n<p>See <a href=\"https://ideone.com/414eiA\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>contained = true</p>\n</blockquote>\n"}],"owner":{"account_id":25318030,"reputation":25,"user_id":19139804,"display_name":"matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652825186,"creation_date":1652822939,"question_id":72280866,"body_markdown":"I am struggling to get the desired result when verifying to see if one list is contained in the other. I am not too sure how to handle it.\r\n\r\nList 1:\r\n \r\n\r\n   \r\n\r\n     List&lt;WebElement&gt; allValues = driver.findElement(By.xpath(&quot;//*[@id=&#39;allvalues&#39;]&quot;));\r\n        \r\n            List&lt;String&gt; list1 = new ArrayList&lt;&gt;();\r\n            for (WebElement all:allValues) {\r\n              String s = all.getText().trim();\r\n              list1.add(s);\r\n            }\r\n    System.out.println(list1)\r\n\r\noutput:\r\n\r\n    &quot;demo1&quot;, &quot;demo2&quot;, &quot;demo3&quot;, &quot;demo4&quot;, &quot;demo5&quot;\r\n\r\n\r\n\r\nList 2:\r\n\r\n   \r\n\r\n     List&lt;WebElement&gt; partValues= driver.findElement(By.xpath(&quot;//*[@id=&#39;partvalues&#39;]&quot;));\r\n        List&lt;String&gt; list2= new ArrayList&lt;&gt;();\r\n        \r\n            for (WebElement part: partValues) {\r\n              String t = part.getText().trim();\r\n              list2.add(t);\r\n            }\r\n    System.out.println(list2)\r\n\r\noutput:\r\n\r\n    &quot;demo2&quot;, &quot;demo3&quot;, &quot;demo4&quot;\r\n\r\nI want to verify that list1 contains all of list 2. I tried a simple boolean verification method like:\r\n\r\n`System.out.println(list1.containsAll(list2));` and `System.out.println(list2.containsAll(list1))`. Both returned false and that should not be te case.\r\n\r\nWhat&#39;s the most reliable way to verify that `list1` contains `list2`?\r\n\r\n","title":"Is there a better way to verify that one looped list is contained in another in Java?","body":"<p>I am struggling to get the desired result when verifying to see if one list is contained in the other. I am not too sure how to handle it.</p>\n<p>List 1:</p>\n<pre><code> List&lt;WebElement&gt; allValues = driver.findElement(By.xpath(&quot;//*[@id='allvalues']&quot;));\n    \n        List&lt;String&gt; list1 = new ArrayList&lt;&gt;();\n        for (WebElement all:allValues) {\n          String s = all.getText().trim();\n          list1.add(s);\n        }\nSystem.out.println(list1)\n</code></pre>\n<p>output:</p>\n<pre><code>&quot;demo1&quot;, &quot;demo2&quot;, &quot;demo3&quot;, &quot;demo4&quot;, &quot;demo5&quot;\n</code></pre>\n<p>List 2:</p>\n<pre><code> List&lt;WebElement&gt; partValues= driver.findElement(By.xpath(&quot;//*[@id='partvalues']&quot;));\n    List&lt;String&gt; list2= new ArrayList&lt;&gt;();\n    \n        for (WebElement part: partValues) {\n          String t = part.getText().trim();\n          list2.add(t);\n        }\nSystem.out.println(list2)\n</code></pre>\n<p>output:</p>\n<pre><code>&quot;demo2&quot;, &quot;demo3&quot;, &quot;demo4&quot;\n</code></pre>\n<p>I want to verify that list1 contains all of list 2. I tried a simple boolean verification method like:</p>\n<p><code>System.out.println(list1.containsAll(list2));</code> and <code>System.out.println(list2.containsAll(list1))</code>. Both returned false and that should not be te case.</p>\n<p>What's the most reliable way to verify that <code>list1</code> contains <code>list2</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"score":1,"creation_date":1652824727,"post_id":72280809,"comment_id":127699098,"body_markdown":"For years, years and years to come, while you gather experience and knowledge - just assume that when Netbeans says &quot;something is wrong&quot; - then it&#39;s actually wrong. Figuring out why it&#39;s wrong - and understanding the error messages - is an important learning experience. In this case - there is no `sumOfHand` method on `ArrayList&lt;Card&gt;`. It&#39;s directly on `this`.","body":"For years, years and years to come, while you gather experience and knowledge - just assume that when Netbeans says &quot;something is wrong&quot; - then it&#39;s actually wrong. Figuring out why it&#39;s wrong - and understanding the error messages - is an important learning experience. In this case - there is no <code>sumOfHand</code> method on <code>ArrayList&lt;Card&gt;</code>. It&#39;s directly on <code>this</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652830476,"post_id":72280809,"comment_id":127700176,"body_markdown":"Lesson #2: It would probably help you understand your own code better if you used meaningful names for the variables.  A `Hand` of cards does not consist of `hands`. It consists of `cards`.  &quot;Little&quot; things like using correct variable names will help you spot when you are trying to do something nonsensical ... rather than wasting your time chasing after non-existent problems in the tools (e.g. Netbeans) that you are trying to use.","body":"Lesson #2: It would probably help you understand your own code better if you used meaningful names for the variables.  A <code>Hand</code> of cards does not consist of <code>hands</code>. It consists of <code>cards</code>.  &quot;Little&quot; things like using correct variable names will help you spot when you are trying to do something nonsensical ... rather than wasting your time chasing after non-existent problems in the tools (e.g. Netbeans) that you are trying to use."},{"owner":{"account_id":18097967,"reputation":1,"user_id":13156061,"display_name":"javabeginner258"},"score":0,"creation_date":1652848671,"post_id":72280809,"comment_id":127702720,"body_markdown":"@fdreger Thank you very much for the explanation, I feel a lot dumber now.","body":"@fdreger Thank you very much for the explanation, I feel a lot dumber now."},{"owner":{"account_id":18097967,"reputation":1,"user_id":13156061,"display_name":"javabeginner258"},"score":0,"creation_date":1652848780,"post_id":72280809,"comment_id":127702745,"body_markdown":"@StephenC I&#39;m sorry, but the snippet of the code you see is from the MOOC.fi Java course and the names of the classes are already prescribed.","body":"@StephenC I&#39;m sorry, but the snippet of the code you see is from the MOOC.fi Java course and the names of the classes are already prescribed."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652853547,"post_id":72280809,"comment_id":127703679,"body_markdown":"It is not the name of the class that is the problem.  It is this: `public ArrayList&lt;Card&gt; hands;`.  Why do you call a list of `Card` objects `hands`??  (I can&#39;t imagine that the MOOC did that ...)","body":"It is not the name of the class that is the problem.  It is this: <code>public ArrayList&lt;Card&gt; hands;</code>.  Why do you call a list of <code>Card</code> objects <code>hands</code>??  (I can&#39;t imagine that the MOOC did that ...)"},{"owner":{"account_id":18097967,"reputation":1,"user_id":13156061,"display_name":"javabeginner258"},"score":0,"creation_date":1652885916,"post_id":72280809,"comment_id":127716488,"body_markdown":"Well, I didn&#39;t think I would come across such a problem, perhaps.","body":"Well, I didn&#39;t think I would come across such a problem, perhaps."}],"answers":[{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652824814,"creation_date":1652824814,"answer_id":72281108,"question_id":72280809,"body_markdown":"You can&#39;t call a `int sumOfHand()` of `this.hands` as `hands` is an ArrayList.class and `int sumOfHand()` is a method of Hand.class. To call this method you need to use `this.sumOfHands()` inside your Hand.class.","title":"Netbeans class&#39; method not recognized","body":"<p>You can't call a <code>int sumOfHand()</code> of <code>this.hands</code> as <code>hands</code> is an ArrayList.class and <code>int sumOfHand()</code> is a method of Hand.class. To call this method you need to use <code>this.sumOfHands()</code> inside your Hand.class.</p>\n"}],"owner":{"account_id":18097967,"reputation":1,"user_id":13156061,"display_name":"javabeginner258"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652824814,"creation_date":1652822550,"question_id":72280809,"body_markdown":"I&#39;m having a fairly odd problem with Netbeans. &lt;br&gt;\r\n\r\nI&#39;m trying to calculate the sum of an ArrayList, but I am not able to call the method `public int sumOfHand()` onto my `this.hands` variable.\r\n\r\nI&#39;ve restarted Netbeans numerous times, created new classes and tried to calculate the sum using the .reduce() method using streams, but none of it helped.\r\nThanks for any suggestion!\r\n&lt;br&gt;\r\n\r\n\r\n    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    public class Hand implements Comparable&lt;Hand&gt;{\r\n        public ArrayList&lt;Card&gt; hands;\r\n        \r\n        public Hand() {\r\n            this.hands = new ArrayList&lt;&gt;();\r\n        }\r\n        \r\n        public void add(Card card) {\r\n            this.hands.add(card);\r\n        }\r\n        \r\n        public void print() {\r\n            this.hands.forEach(crd -&gt; {System.out.println(crd);});\r\n        }\r\n        \r\n        public void sort() {\r\n            Collections.sort(this.hands, (crd1, crd2) -&gt; crd1.compareTo(crd2));\r\n        }\r\n        \r\n        @Override\r\n        public int compareTo(Hand otherHand) {\r\n           // sumOfHand() not recognized here, &#39;Cannot find symbol&#39;\r\n           return this.hands.sumOfHand() - otherHand.sumOfHand();\r\n        }\r\n                   \r\n        public int sumOfHand() {\r\n            int sum = 0;\r\n            for (Card tc : this.hands) {\r\n                sum += tc.getValue();\r\n            }\r\n            return sum; \r\n        }\r\n        \r\n    }\r\n\r\n","title":"Netbeans class&#39; method not recognized","body":"<p>I'm having a fairly odd problem with Netbeans. <br></p>\n<p>I'm trying to calculate the sum of an ArrayList, but I am not able to call the method <code>public int sumOfHand()</code> onto my <code>this.hands</code> variable.</p>\n<p>I've restarted Netbeans numerous times, created new classes and tried to calculate the sum using the .reduce() method using streams, but none of it helped.\nThanks for any suggestion!\n<br></p>\n<pre><code>import java.util.List;\nimport java.util.stream.Stream;\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Hand implements Comparable&lt;Hand&gt;{\n    public ArrayList&lt;Card&gt; hands;\n    \n    public Hand() {\n        this.hands = new ArrayList&lt;&gt;();\n    }\n    \n    public void add(Card card) {\n        this.hands.add(card);\n    }\n    \n    public void print() {\n        this.hands.forEach(crd -&gt; {System.out.println(crd);});\n    }\n    \n    public void sort() {\n        Collections.sort(this.hands, (crd1, crd2) -&gt; crd1.compareTo(crd2));\n    }\n    \n    @Override\n    public int compareTo(Hand otherHand) {\n       // sumOfHand() not recognized here, 'Cannot find symbol'\n       return this.hands.sumOfHand() - otherHand.sumOfHand();\n    }\n               \n    public int sumOfHand() {\n        int sum = 0;\n        for (Card tc : this.hands) {\n            sum += tc.getValue();\n        }\n        return sum; \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1652822846,"post_id":72280732,"comment_id":127698654,"body_markdown":"The `TestController` instance you create is not the same one as created by the `FXMLLoader`, which is the one &quot;linked&quot; with the loaded FXML file. This is also a very strange way to initialize your application. You use `JFXPanel` to, I assume, start the JavaFX runtime. You should extend `javafx.application.Application` and launch your application &quot;normally&quot;.","body":"The <code>TestController</code> instance you create is not the same one as created by the <code>FXMLLoader</code>, which is the one &quot;linked&quot; with the loaded FXML file. This is also a very strange way to initialize your application. You use <code>JFXPanel</code> to, I assume, start the JavaFX runtime. You should extend <code>javafx.application.Application</code> and launch your application &quot;normally&quot;."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1652823929,"post_id":72280732,"comment_id":127698933,"body_markdown":"*”I am expecting ‘Hello World’ to be printed to the console when the button is pressed”*.  Why would you expect that? `content` is never initialised in the actual controller instance.","body":"<i>”I am expecting ‘Hello World’ to be printed to the console when the button is pressed”</i>.  Why would you expect that? <code>content</code> is never initialised in the actual controller instance."},{"owner":{"account_id":13756062,"reputation":75,"user_id":9926975,"display_name":"Hydron"},"score":0,"creation_date":1652824339,"post_id":72280732,"comment_id":127699018,"body_markdown":"Wow, that is correct... I didn&#39;t realize that the `FXMLLoader` instantiated its own controller. thank you!","body":"Wow, that is correct... I didn&#39;t realize that the <code>FXMLLoader</code> instantiated its own controller. thank you!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1652830051,"post_id":72280732,"comment_id":127700111,"body_markdown":"@Hydron None of the basic examples in any intro tutorial or documentation would work otherwise. (And in any other case, really. How would you expect the `FXMLLoader` to know about the instance you created, and use it as the controller? What if you had created two instances? How would it know which to use?) It’s not really clear what you are doing here. What’s wrong with using the library the way it was intended to be used?","body":"@Hydron None of the basic examples in any intro tutorial or documentation would work otherwise. (And in any other case, really. How would you expect the <code>FXMLLoader</code> to know about the instance you created, and use it as the controller? What if you had created two instances? How would it know which to use?) It’s not really clear what you are doing here. What’s wrong with using the library the way it was intended to be used?"}],"answers":[{"tags":[],"owner":{"account_id":13756062,"reputation":75,"user_id":9926975,"display_name":"Hydron"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1652824795,"creation_date":1652824795,"answer_id":72281104,"question_id":72280732,"body_markdown":"As pointed out by the comments, it is correct that the `FXMLLoader` is not using the same controller instance I am expecting. The simple fix is to remove the `fx:controller` attribute from the fxml file. and add `loader.setController(this)` to AbstractFoo. Now everything works as expected, what a big oversight...\r\n```\r\ncom.test.gui.TestController@568bf312\r\nExpected result: Hello World!\r\ncom.test.gui.TestController@568bf312\r\nButton result: Hello World!\r\n```\r\n\r\nSimple.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n\r\n\r\n&lt;BorderPane fx:id=&quot;root&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/15.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; &gt;\r\n   &lt;center&gt;\r\n      &lt;Button fx:id=&quot;button&quot; text=&quot;Click me!&quot; onAction=&quot;#testButton&quot; /&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nAbstractFoo.java\r\n```\r\npackage com.test.gui;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic abstract class AbstractFoo {\r\n\tprotected String fxml;\r\n\tprotected String content;\r\n\tprotected Stage stage;\r\n\tprotected Parent root;\r\n\t\r\n\tpublic void initialize(String fxml, String content) {\r\n\t\tthis.fxml = fxml;\r\n\t\tthis.content = content;\r\n\t\t\r\n\t\tPlatform.runLater(() -&gt; {\r\n\t\t\tFXMLLoader loader = new FXMLLoader();\r\n\t\t\tloader.setLocation(this.getClass().getResource(fxml));\r\n\t\t\tloader.setController(this);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tthis.root = loader.load();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.stage = new Stage();\r\n\t\t\tthis.stage.setScene(new Scene(root));\r\n\t\t\tthis.stage.show();\r\n\t\t});\r\n\t}\r\n\t\r\n\tpublic String getContent() {\r\n\t\treturn this.content;\r\n\t}\r\n}\r\n```","title":"Inherited member becomes null after initialize","body":"<p>As pointed out by the comments, it is correct that the <code>FXMLLoader</code> is not using the same controller instance I am expecting. The simple fix is to remove the <code>fx:controller</code> attribute from the fxml file. and add <code>loader.setController(this)</code> to AbstractFoo. Now everything works as expected, what a big oversight...</p>\n<pre><code>com.test.gui.TestController@568bf312\nExpected result: Hello World!\ncom.test.gui.TestController@568bf312\nButton result: Hello World!\n</code></pre>\n<p>Simple.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n\n\n&lt;BorderPane fx:id=&quot;root&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/15.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; &gt;\n   &lt;center&gt;\n      &lt;Button fx:id=&quot;button&quot; text=&quot;Click me!&quot; onAction=&quot;#testButton&quot; /&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>AbstractFoo.java</p>\n<pre><code>package com.test.gui;\n\nimport java.io.IOException;\n\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic abstract class AbstractFoo {\n    protected String fxml;\n    protected String content;\n    protected Stage stage;\n    protected Parent root;\n    \n    public void initialize(String fxml, String content) {\n        this.fxml = fxml;\n        this.content = content;\n        \n        Platform.runLater(() -&gt; {\n            FXMLLoader loader = new FXMLLoader();\n            loader.setLocation(this.getClass().getResource(fxml));\n            loader.setController(this);\n\n            try {\n                this.root = loader.load();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            \n            this.stage = new Stage();\n            this.stage.setScene(new Scene(root));\n            this.stage.show();\n        });\n    }\n    \n    public String getContent() {\n        return this.content;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13756062,"reputation":75,"user_id":9926975,"display_name":"Hydron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1652824795,"creation_date":1652822030,"question_id":72280732,"body_markdown":"I made a simple FX program to replicate the problem I am seeing. I have a `TestController` that extends `AbstractBar` which extends `AbstractFoo`. After calling the `initialize()` method, a simple GUI displays with a button. I am expecting a &quot;Hello World!&quot; message to print to the console when the button is pressed, but I am getting a null value instead. Why does this happen and how do I fix this?\r\n\r\n```\r\nExpected result: Hello World!\r\nButton result: null\r\nButton result: null\r\n```\r\n\r\nMain.java\r\n```\r\npackage com.test.main;\r\n\r\nimport com.test.gui.TestController;\r\n\r\nimport javafx.embed.swing.JFXPanel;\r\n\r\npublic class Main {\r\n\tprivate static TestController controller;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString fxml = &quot;/gui/Simple.fxml&quot;;\r\n\t\tString content = &quot;Hello World!&quot;;\r\n\t\t\r\n\t\tnew JFXPanel();\r\n\t\t\r\n\t\tcontroller = new TestController();\r\n\t\tcontroller.initialize(fxml, content);\r\n\t\tSystem.out.println(&quot;Expected result: &quot; + controller.getContent());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nTestController.java\r\n```\r\npackage com.test.gui;\r\n\r\nimport javafx.fxml.FXML;\r\n\r\npublic class TestController extends AbstractBar {\r\n\r\n\t@FXML\r\n\tprivate void testButton() {\r\n\t\tSystem.out.println(&quot;Button result: &quot; + super.getContent());\r\n\t}\r\n}\r\n```\r\n\r\nAbstractBar.java\r\n```\r\npackage com.test.gui;\r\n\r\npublic abstract class AbstractBar extends AbstractFoo {\r\n\r\n\t@Override\r\n\tpublic void initialize(String fxml, String content) {\r\n\t\t// Do stuff.\r\n\t\tsuper.initialize(fxml, content);\r\n\t}\r\n}\r\n```\r\n\r\nAbstractFoo.java\r\n```\r\npackage com.test.gui;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic abstract class AbstractFoo {\r\n\tprotected String fxml;\r\n\tprotected String content;\r\n\tprotected Stage stage;\r\n\tprotected Parent root;\r\n\t\r\n\tpublic void initialize(String fxml, String content) {\r\n\t\tthis.fxml = fxml;\r\n\t\tthis.content = content;\r\n\t\t\r\n\t\tPlatform.runLater(() -&gt; {\r\n\t\t\tFXMLLoader loader = new FXMLLoader();\r\n\t\t\tloader.setLocation(this.getClass().getResource(fxml));\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tthis.root = loader.load();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.stage = new Stage();\r\n\t\t\tthis.stage.setScene(new Scene(root));\r\n\t\t\tthis.stage.show();\r\n\t\t});\r\n\t}\r\n\t\r\n\tpublic String getContent() {\r\n\t\treturn this.content;\r\n\t}\r\n}\r\n```\r\n\r\nSimple.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n\r\n\r\n&lt;BorderPane fx:id=&quot;root&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/15.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.test.gui.TestController&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;Button fx:id=&quot;button&quot; text=&quot;Click me!&quot; onAction=&quot;#testButton&quot; /&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```","title":"Inherited member becomes null after initialize","body":"<p>I made a simple FX program to replicate the problem I am seeing. I have a <code>TestController</code> that extends <code>AbstractBar</code> which extends <code>AbstractFoo</code>. After calling the <code>initialize()</code> method, a simple GUI displays with a button. I am expecting a &quot;Hello World!&quot; message to print to the console when the button is pressed, but I am getting a null value instead. Why does this happen and how do I fix this?</p>\n<pre><code>Expected result: Hello World!\nButton result: null\nButton result: null\n</code></pre>\n<p>Main.java</p>\n<pre><code>package com.test.main;\n\nimport com.test.gui.TestController;\n\nimport javafx.embed.swing.JFXPanel;\n\npublic class Main {\n    private static TestController controller;\n\n    public static void main(String[] args) {\n        String fxml = &quot;/gui/Simple.fxml&quot;;\n        String content = &quot;Hello World!&quot;;\n        \n        new JFXPanel();\n        \n        controller = new TestController();\n        controller.initialize(fxml, content);\n        System.out.println(&quot;Expected result: &quot; + controller.getContent());\n    }\n\n}\n</code></pre>\n<p>TestController.java</p>\n<pre><code>package com.test.gui;\n\nimport javafx.fxml.FXML;\n\npublic class TestController extends AbstractBar {\n\n    @FXML\n    private void testButton() {\n        System.out.println(&quot;Button result: &quot; + super.getContent());\n    }\n}\n</code></pre>\n<p>AbstractBar.java</p>\n<pre><code>package com.test.gui;\n\npublic abstract class AbstractBar extends AbstractFoo {\n\n    @Override\n    public void initialize(String fxml, String content) {\n        // Do stuff.\n        super.initialize(fxml, content);\n    }\n}\n</code></pre>\n<p>AbstractFoo.java</p>\n<pre><code>package com.test.gui;\n\nimport java.io.IOException;\n\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic abstract class AbstractFoo {\n    protected String fxml;\n    protected String content;\n    protected Stage stage;\n    protected Parent root;\n    \n    public void initialize(String fxml, String content) {\n        this.fxml = fxml;\n        this.content = content;\n        \n        Platform.runLater(() -&gt; {\n            FXMLLoader loader = new FXMLLoader();\n            loader.setLocation(this.getClass().getResource(fxml));\n            \n            try {\n                this.root = loader.load();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            \n            this.stage = new Stage();\n            this.stage.setScene(new Scene(root));\n            this.stage.show();\n        });\n    }\n    \n    public String getContent() {\n        return this.content;\n    }\n}\n</code></pre>\n<p>Simple.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n\n\n&lt;BorderPane fx:id=&quot;root&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/15.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.test.gui.TestController&quot;&gt;\n   &lt;center&gt;\n      &lt;Button fx:id=&quot;button&quot; text=&quot;Click me!&quot; onAction=&quot;#testButton&quot; /&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","gradle","liquibase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652469952,"post_id":72234407,"comment_id":127622635,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652824674,"creation_date":1652824674,"answer_id":72281086,"question_id":72234407,"body_markdown":"In the [Oracle Docs](https://docs.oracle.com/en/database/oracle/oracle-database/21/errmg/ORA-01500.html#:~:text=ORA%2D01950%3A%20no,on%20the%20tablespace.), this error says: \r\n\r\n```\r\nORA-01950: no privileges on tablespace &#39;string&#39;\r\n\r\nCause: User does not have privileges to allocate an extent in the specified tablespace.\r\n\r\nAction: Grant the user the appropriate system privileges or grant the user space resource on the tablespace.\r\n```\r\n\r\nAccording to [dba-oracle.com](http://www.dba-oracle.com/t_ora_01950_no+priviledges_on_tablespace_string.htm) you can solve ORA-01950 by either:\r\n\r\n`ALTER USER &lt;username&gt; QUOTA 100M ON &lt;tablespace name&gt;`\r\n\r\n or\r\n\r\n`GRANT UNLIMITED TABLESPACE TO &lt;username&gt;`\r\n\r\nAnd make sure you have been granted Connect, Resources roles because you&#39;ll need Create table privileges.","title":"liquibase.exception.DatabaseException: ORA-01950: no privileges on tablespace &#39;VMSS_TBS&#39;","body":"<p>In the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/errmg/ORA-01500.html#:%7E:text=ORA%2D01950%3A%20no,on%20the%20tablespace.\" rel=\"nofollow noreferrer\">Oracle Docs</a>, this error says:</p>\n<pre><code>ORA-01950: no privileges on tablespace 'string'\n\nCause: User does not have privileges to allocate an extent in the specified tablespace.\n\nAction: Grant the user the appropriate system privileges or grant the user space resource on the tablespace.\n</code></pre>\n<p>According to <a href=\"http://www.dba-oracle.com/t_ora_01950_no+priviledges_on_tablespace_string.htm\" rel=\"nofollow noreferrer\">dba-oracle.com</a> you can solve ORA-01950 by either:</p>\n<p><code>ALTER USER &lt;username&gt; QUOTA 100M ON &lt;tablespace name&gt;</code></p>\n<p>or</p>\n<p><code>GRANT UNLIMITED TABLESPACE TO &lt;username&gt;</code></p>\n<p>And make sure you have been granted Connect, Resources roles because you'll need Create table privileges.</p>\n"}],"owner":{"account_id":22870427,"reputation":3,"user_id":17210290,"display_name":"Aashish Malik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72281086,"answer_count":1,"score":0,"last_activity_date":1652824674,"creation_date":1652468932,"question_id":72234407,"body_markdown":"Initially I was getting this exception while starting my service \r\n\r\n```\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:105)\r\n\r\nThe following method did not exist:\r\n\r\n    liquibase.integration.spring.SpringLiquibase.setLiquibaseSchema(Ljava/lang/String;)V\r\n\r\nThe method&#39;s class, liquibase.integration.spring.SpringLiquibase, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/ashish/.gradle/caches/modules-2/files-2.1/org.liquibase/liquibase-core/3.5.5/c65051f327382018bd09c30380f25eac96f210da/liquibase-core-3.5.5.jar!/liquibase/integration/spring/SpringLiquibase.class\r\n\r\nIt was loaded from the following location:\r\n\r\n    file:/C:/Users/ashish/.gradle/caches/modules-2/files-2.1/org.liquibase/liquibase-core/3.5.5/c65051f327382018bd09c30380f25eac96f210da/liquibase-core-3.5.5.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains a single, compatible version of liquibase.integration.spring.SpringLiquibase\r\n\r\n\r\n```\r\n\r\n\r\nMy dependencies\r\n\r\n```\r\nbuildscript {\r\ndependencies {\r\n    classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;\r\n    classpath &quot;com.oracle.database.jdbc:ojdbc8:$oracleVersion&quot;\r\n    classpath (&quot;org.liquibase:liquibase-gradle-plugin:1.2.4&quot;) \r\n  }\r\n\r\n}\r\n\r\ndependencies {\r\n  compile &quot;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&quot;\r\n  compile &quot;org.springframework.cloud:spring-cloud-starter-netflix-hystrix&quot;\r\n  compile &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n  compile &quot;org.springframework.boot:spring-boot-starter-validation&quot;\r\n  compile &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\r\n  compile &quot;org.liquibase:liquibase-core:3.5.5&quot;\r\n}\r\n\r\n```\r\n\r\nI was able to fix this by removing liquibase-core version , like this\r\n\r\n```\r\ncompile (&quot;org.liquibase:liquibase-core&quot;)\r\n```\r\n\r\nNow when I run my service, this time I am facing privileges issue and not able to figure it out\r\n\r\n```\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is \r\n\r\nliquibase.exception.LockException: liquibase.exception.DatabaseException: ORA-01950: no privileges on tablespace &#39;VMSS_TBS&#39;\r\n [Failed SQL: INSERT INTO VMSSTXN.DATABASECHANGELOGLOCK (ID, LOCKED) VALUES (1, 0)]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean\r\n\r\n``` \r\n\r\nI tried setting grants but that didn&#39;t worked for me. \r\nCan someone please help me here ?","title":"liquibase.exception.DatabaseException: ORA-01950: no privileges on tablespace &#39;VMSS_TBS&#39;","body":"<p>Initially I was getting this exception while starting my service</p>\n<pre><code>An attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:105)\n\nThe following method did not exist:\n\n    liquibase.integration.spring.SpringLiquibase.setLiquibaseSchema(Ljava/lang/String;)V\n\nThe method's class, liquibase.integration.spring.SpringLiquibase, is available from the following locations:\n\n    jar:file:/C:/Users/ashish/.gradle/caches/modules-2/files-2.1/org.liquibase/liquibase-core/3.5.5/c65051f327382018bd09c30380f25eac96f210da/liquibase-core-3.5.5.jar!/liquibase/integration/spring/SpringLiquibase.class\n\nIt was loaded from the following location:\n\n    file:/C:/Users/ashish/.gradle/caches/modules-2/files-2.1/org.liquibase/liquibase-core/3.5.5/c65051f327382018bd09c30380f25eac96f210da/liquibase-core-3.5.5.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of liquibase.integration.spring.SpringLiquibase\n\n\n</code></pre>\n<p>My dependencies</p>\n<pre><code>buildscript {\ndependencies {\n    classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;\n    classpath &quot;com.oracle.database.jdbc:ojdbc8:$oracleVersion&quot;\n    classpath (&quot;org.liquibase:liquibase-gradle-plugin:1.2.4&quot;) \n  }\n\n}\n\ndependencies {\n  compile &quot;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&quot;\n  compile &quot;org.springframework.cloud:spring-cloud-starter-netflix-hystrix&quot;\n  compile 'org.springframework.boot:spring-boot-configuration-processor'\n  compile &quot;org.springframework.boot:spring-boot-starter-validation&quot;\n  compile &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\n  compile &quot;org.liquibase:liquibase-core:3.5.5&quot;\n}\n\n</code></pre>\n<p>I was able to fix this by removing liquibase-core version , like this</p>\n<pre><code>compile (&quot;org.liquibase:liquibase-core&quot;)\n</code></pre>\n<p>Now when I run my service, this time I am facing privileges issue and not able to figure it out</p>\n<pre><code>\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is \n\nliquibase.exception.LockException: liquibase.exception.DatabaseException: ORA-01950: no privileges on tablespace 'VMSS_TBS'\n [Failed SQL: INSERT INTO VMSSTXN.DATABASECHANGELOGLOCK (ID, LOCKED) VALUES (1, 0)]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean\n\n</code></pre>\n<p>I tried setting grants but that didn't worked for me.\nCan someone please help me here ?</p>\n"},{"tags":["java","oop","polymorphism","subclass","superclass"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1652823131,"post_id":72280831,"comment_id":127698737,"body_markdown":"I suggest you step through this with your debugger, so you can examine all your objects after each line of code.  I suspect that the `Map` isn&#39;t storing what you think it is.","body":"I suggest you step through this with your debugger, so you can examine all your objects after each line of code.  I suspect that the <code>Map</code> isn&#39;t storing what you think it is."},{"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"score":0,"creation_date":1652827609,"post_id":72280831,"comment_id":127699675,"body_markdown":"Yeah I think I need to go back and review how extending classes works. I&#39;m gonna get rid of it for now and just call the info statically. Thank you!","body":"Yeah I think I need to go back and review how extending classes works. I&#39;m gonna get rid of it for now and just call the info statically. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652823606,"creation_date":1652823032,"answer_id":72280880,"question_id":72280831,"body_markdown":"The issue you&#39;re having has nothing to see with inheritance. The call:\r\n\r\n    manager.getNodes()\r\n\r\nwill return a `Map&lt;Integer, Node&gt;` (check your own method definition in the class `Manager`) that contains only one element with index `1` (because it&#39;s you defining the key as `nodes.size()+1`).\r\n\r\nHence when you call `manager.getNodes().get(0)`, you get a `null` element (the map doesn&#39;t contain any element with key `0`).\r\n\r\nIf you replace `.get(0)` by `.get(1)`, it will work.\r\n\r\nSide note: your design is not very clean. The class `Manager` (parent) contains a map of `Node`s which is its own child. The child (`Node`) is supposed to know its parent (`Manager`), but not vice versa.\r\n\r\n**Edit**\r\n\r\nThe print of `super.nodes.size()` is 0 because you&#39;re not pointing to the instance of `Manager` that you think you&#39;re pointing to. \r\n\r\nWhen you do `new Node()` (the node that you add to your `manager`), you&#39;re creating a `new Manager()` which has an empty map by default.\r\n\r\nSo when you call `super.nodes.size()`, your `super` is not `manager` as you think, but the other instance of `Manager` that you created when doing `new Node()`, to which you never added anything. \r\n\r\nAgain, I suggest you check my side-note above and re-consider your design.","title":"Why is the superclasses field different when called from subclass?","body":"<p>The issue you're having has nothing to see with inheritance. The call:</p>\n<pre><code>manager.getNodes()\n</code></pre>\n<p>will return a <code>Map&lt;Integer, Node&gt;</code> (check your own method definition in the class <code>Manager</code>) that contains only one element with index <code>1</code> (because it's you defining the key as <code>nodes.size()+1</code>).</p>\n<p>Hence when you call <code>manager.getNodes().get(0)</code>, you get a <code>null</code> element (the map doesn't contain any element with key <code>0</code>).</p>\n<p>If you replace <code>.get(0)</code> by <code>.get(1)</code>, it will work.</p>\n<p>Side note: your design is not very clean. The class <code>Manager</code> (parent) contains a map of <code>Node</code>s which is its own child. The child (<code>Node</code>) is supposed to know its parent (<code>Manager</code>), but not vice versa.</p>\n<p><strong>Edit</strong></p>\n<p>The print of <code>super.nodes.size()</code> is 0 because you're not pointing to the instance of <code>Manager</code> that you think you're pointing to.</p>\n<p>When you do <code>new Node()</code> (the node that you add to your <code>manager</code>), you're creating a <code>new Manager()</code> which has an empty map by default.</p>\n<p>So when you call <code>super.nodes.size()</code>, your <code>super</code> is not <code>manager</code> as you think, but the other instance of <code>Manager</code> that you created when doing <code>new Node()</code>, to which you never added anything.</p>\n<p>Again, I suggest you check my side-note above and re-consider your design.</p>\n"}],"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72280880,"answer_count":1,"score":-3,"last_activity_date":1652823606,"creation_date":1652822703,"question_id":72280831,"body_markdown":"Why is field nodes returning different size when called from subclass\r\n\r\nshouldn&#39;t subclasses have access to their super classes fields?\r\n\r\nHere is reproducible example:\r\n\r\n**Manager.java**\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class Manager {\r\n        protected HashMap&lt;Integer,Node&gt; nodes = new HashMap&lt;&gt;();\r\n    \r\n        public HashMap&lt;Integer, Node&gt; getNodes() { return nodes; }\r\n    \r\n        public void addNode(Node node){\r\n            nodes.put(nodes.size(),node);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Manager manager = new Manager();\r\n            manager.addNode(new Node());\r\n            System.out.println(&quot;(from Manager) manager.nodes.size() = &quot; + manager.nodes.size());\r\n            manager.getNodes().get(0).printNodesSize();\r\n        }\r\n    }\r\n\r\n**Node.java**\r\n\r\n    public class Node extends Manager {\r\n        public void printNodesSize() {\r\n            System.out.println(&quot;(from Node) manager.nodes.size() = &quot; + super.nodes.size());\r\n        }\r\n    }\r\n\r\nSystem.out: \r\n\r\n    (from Manager) manager.nodes.size() = 1\r\n    (from instanced Node) manager.nodes.size() = 0\r\n\r\n    Process finished with exit code 0\r\n\r\n\r\n\r\n","title":"Why is the superclasses field different when called from subclass?","body":"<p>Why is field nodes returning different size when called from subclass</p>\n<p>shouldn't subclasses have access to their super classes fields?</p>\n<p>Here is reproducible example:</p>\n<p><strong>Manager.java</strong></p>\n<pre><code>import java.util.HashMap;\n\npublic class Manager {\n    protected HashMap&lt;Integer,Node&gt; nodes = new HashMap&lt;&gt;();\n\n    public HashMap&lt;Integer, Node&gt; getNodes() { return nodes; }\n\n    public void addNode(Node node){\n        nodes.put(nodes.size(),node);\n    }\n\n    public static void main(String[] args) {\n        Manager manager = new Manager();\n        manager.addNode(new Node());\n        System.out.println(&quot;(from Manager) manager.nodes.size() = &quot; + manager.nodes.size());\n        manager.getNodes().get(0).printNodesSize();\n    }\n}\n</code></pre>\n<p><strong>Node.java</strong></p>\n<pre><code>public class Node extends Manager {\n    public void printNodesSize() {\n        System.out.println(&quot;(from Node) manager.nodes.size() = &quot; + super.nodes.size());\n    }\n}\n</code></pre>\n<p>System.out:</p>\n<pre><code>(from Manager) manager.nodes.size() = 1\n(from instanced Node) manager.nodes.size() = 0\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","mysql","sql","spring","hibernate"],"comments":[{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1652860336,"post_id":72278878,"comment_id":127705849,"body_markdown":"Did you create the perfume database before attempting to convert to wine? If so and it&#39;s still there then mysql may be complaining about duplicate constraint names. The constraint names in your code look like they could have been generated by mysql. https://stackoverflow.com/questions/39501899/mysql-duplicate-foreign-key-constraint","body":"Did you create the perfume database before attempting to convert to wine? If so and it&#39;s still there then mysql may be complaining about duplicate constraint names. The constraint names in your code look like they could have been generated by mysql. <a href=\"https://stackoverflow.com/questions/39501899/mysql-duplicate-foreign-key-constraint\" title=\"mysql duplicate foreign key constraint\">stackoverflow.com/questions/39501899/&hellip;</a>"},{"owner":{"account_id":24814904,"reputation":1,"user_id":18695845,"display_name":"Yurii Meda"},"score":0,"creation_date":1652868456,"post_id":72278878,"comment_id":127708918,"body_markdown":"Thanks, I found my mistake. I just didn&#39;t change the name of the database in the proprietary file)","body":"Thanks, I found my mistake. I just didn&#39;t change the name of the database in the proprietary file)"}],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652823212,"creation_date":1652823212,"answer_id":72280911,"question_id":72278878,"body_markdown":"just verified all the scripts under mysql env. Seems no issue.\r\n\r\nsee:  [DB Fiddle][1]\r\n\r\n\r\n  [1]: https://www.db-fiddle.com/f/3jC8PGeZZEuty3XVq8gdzz/6","title":"Error executing DDL &quot;alter table orders_wine_list add constraint FKas0ewroa6urvffgjnu25f5jv0 foreign key (order_id) references orders (id)&quot; via","body":"<p>just verified all the scripts under mysql env. Seems no issue.</p>\n<p>see:  <a href=\"https://www.db-fiddle.com/f/3jC8PGeZZEuty3XVq8gdzz/6\" rel=\"nofollow noreferrer\">DB Fiddle</a></p>\n"}],"owner":{"account_id":24814904,"reputation":1,"user_id":18695845,"display_name":"Yurii Meda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652823212,"creation_date":1652811377,"question_id":72278878,"body_markdown":"I have a problem with that.\r\nI was working with the perfume project \r\n&lt;https://github.com/merikbest/OnlineShop&gt;\r\nand wanted to convert it to wine, but I got this error\r\nI do not understand what my mistake is, I have reviewed many articles and found nothing.\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table orders_wine_list add constraint FKas0ewroa6urvffgjnu25f5jv0 foreign key (order_id) references orders (id)&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table usr_wine_list add constraint FK3sqekriy3xfd3ctdfcsumx3v1 foreign key (user_id) references usr (id)&quot; via JDBC Statement\r\n```\r\n\r\nThis is SQL code:\r\n\r\ntable orders\r\n```\r\nCREATE TABLE `wine`.`orders` (\r\n                                  `id` INT NOT NULL AUTO_INCREMENT,\r\n                                  `address` VARCHAR(255) NULL,\r\n                                  `city` VARCHAR(255) NULL,\r\n                                  `date` DATETIME NULL,\r\n                                  `email` VARCHAR(255) NULL,\r\n                                  `first_name` VARCHAR(255) NULL,\r\n                                  `last_name` VARCHAR(255) NULL,\r\n                                  `phone_number` VARCHAR(255) NULL,\r\n                                  `post_index` VARCHAR(45) NOT NULL,\r\n                                  `total_price` FLOAT NULL,\r\n                                  `user_id` INT NULL,\r\n                                  PRIMARY KEY (`id`));\r\n```\r\ntable wine\r\n\r\n```\r\nCREATE TABLE `wine`.`wine` (\r\n                                   `id` INT NOT NULL AUTO_INCREMENT,\r\n                                   `country` VARCHAR(255) NULL,\r\n                                   `description` VARCHAR(255) NULL,\r\n                                   `filename` VARCHAR(255) NULL,\r\n                                   `decantation` VARCHAR(255) NULL, \r\n                                   `combination` VARCHAR(255) NULL, \r\n                                   `grape` VARCHAR(255) NULL,      \r\n                                   `color` VARCHAR(255) NULL,\r\n                                   `wine_title` VARCHAR(255) NULL,\r\n                                   `brand` VARCHAR(255) NULL,\r\n                                   `price` INT NOT NULL,\r\n                                   `type` VARCHAR(255) NULL,\r\n                                   `volume` VARCHAR(255) NULL,\r\n                                   `year` VARCHAR(255) NOT NULL,\r\n                                   PRIMARY KEY (`id`));\r\n```\r\ntable user \r\n\r\n```\r\nCREATE TABLE `wine`.`usr` (\r\n                               `id` INT NOT NULL AUTO_INCREMENT,\r\n                               `activation_code` VARCHAR(255) NULL,\r\n                               `active` TINYINT NOT NULL,\r\n                               `email` VARCHAR(255) NULL,\r\n                               `password` VARCHAR(255) NOT NULL,\r\n                               `username` VARCHAR(255) NOT NULL,\r\n                               PRIMARY KEY (`id`));\r\n```\r\n\r\ntable user role\r\n```\r\nCREATE TABLE `wine`.`user_role` (\r\n                                     `user_id` INT NOT NULL,\r\n                                     `roles` VARCHAR(255) NULL);\r\n```\r\n\r\n\r\ntable orders_wine_list\r\n\r\n```\r\nCREATE TABLE `wine`.`orders_wine_list` (\r\n                                               `order_id` INT NOT NULL,\r\n                                               `wine_list_id` INT NOT NULL,\r\n                                               `wine_list_order` INT NOT NULL,\r\n                                               PRIMARY KEY (`order_id`, `wine_list_order`));\r\n```\r\n\r\ntable usr_wine_list \r\n\r\n```\r\nCREATE TABLE `wine`.`usr_wine_list` (\r\n                                            `user_id` INT NOT NULL,\r\n                                            `wine_list_id` INT NOT NULL);\r\n```\r\n\r\nand ALTER TABLE \r\n\r\n```\r\nALTER TABLE `wine`.`orders`\r\n    ADD CONSTRAINT `FK7ncuqw9n77odylknbo8aikc9w`\r\n        FOREIGN KEY (`user_id`)\r\n            REFERENCES `wine`.`usr` (`id`)\r\n            ON DELETE NO ACTION\r\n            ON UPDATE NO ACTION;\r\n\r\n\r\nALTER TABLE `wine`.`orders_wine_list`\r\n    ADD CONSTRAINT `FKi6hpa14qaenek8pc9pf3vmlei`\r\n        FOREIGN KEY (`wine_list_id`)\r\n            REFERENCES `wine`.`wine` (`id`)\r\n            ON DELETE NO ACTION\r\n            ON UPDATE NO ACTION;\r\n\r\nALTER TABLE `wine`.`orders_wine_list`\r\n    ADD CONSTRAINT `FK8jft4d30d5dgvauht7ssndwau`\r\n        FOREIGN KEY (`order_id`)\r\n            REFERENCES `wine`.`orders` (`id`)\r\n            ON DELETE NO ACTION\r\n            ON UPDATE NO ACTION;\r\n\r\n\r\nALTER TABLE `wine`.`user_role`\r\n    ADD CONSTRAINT `FKfpm8swft53ulq2hl11yplpr5`\r\n        FOREIGN KEY (`user_id`)\r\n            REFERENCES `wine`.`usr` (`id`)\r\n            ON DELETE NO ACTION\r\n            ON UPDATE NO ACTION;\r\n\r\n\r\nALTER TABLE `wine`.`usr_wine_list`\r\n    ADD CONSTRAINT `FK1n7n8prjoexkp1twc9f6kgbtm`\r\n        FOREIGN KEY (`wine_list_id`)\r\n            REFERENCES `wine`.`wine` (`id`)\r\n            ON DELETE NO ACTION\r\n            ON UPDATE NO ACTION;\r\n\r\n\r\nALTER TABLE `wine`.`usr_wine_list`\r\n    ADD CONSTRAINT `FKc5b4lo20noteewtlrq1kd8nhs`\r\n        FOREIGN KEY (`user_id`)\r\n            REFERENCES `wine`.`usr` (`id`)\r\n            ON DELETE NO ACTION\r\n            ON UPDATE NO ACTION;\r\n```","title":"Error executing DDL &quot;alter table orders_wine_list add constraint FKas0ewroa6urvffgjnu25f5jv0 foreign key (order_id) references orders (id)&quot; via","body":"<p>I have a problem with that.\nI was working with the perfume project\n<a href=\"https://github.com/merikbest/OnlineShop\" rel=\"nofollow noreferrer\">https://github.com/merikbest/OnlineShop</a>\nand wanted to convert it to wine, but I got this error\nI do not understand what my mistake is, I have reviewed many articles and found nothing.</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table orders_wine_list add constraint FKas0ewroa6urvffgjnu25f5jv0 foreign key (order_id) references orders (id)&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table usr_wine_list add constraint FK3sqekriy3xfd3ctdfcsumx3v1 foreign key (user_id) references usr (id)&quot; via JDBC Statement\n</code></pre>\n<p>This is SQL code:</p>\n<p>table orders</p>\n<pre><code>CREATE TABLE `wine`.`orders` (\n                                  `id` INT NOT NULL AUTO_INCREMENT,\n                                  `address` VARCHAR(255) NULL,\n                                  `city` VARCHAR(255) NULL,\n                                  `date` DATETIME NULL,\n                                  `email` VARCHAR(255) NULL,\n                                  `first_name` VARCHAR(255) NULL,\n                                  `last_name` VARCHAR(255) NULL,\n                                  `phone_number` VARCHAR(255) NULL,\n                                  `post_index` VARCHAR(45) NOT NULL,\n                                  `total_price` FLOAT NULL,\n                                  `user_id` INT NULL,\n                                  PRIMARY KEY (`id`));\n</code></pre>\n<p>table wine</p>\n<pre><code>CREATE TABLE `wine`.`wine` (\n                                   `id` INT NOT NULL AUTO_INCREMENT,\n                                   `country` VARCHAR(255) NULL,\n                                   `description` VARCHAR(255) NULL,\n                                   `filename` VARCHAR(255) NULL,\n                                   `decantation` VARCHAR(255) NULL, \n                                   `combination` VARCHAR(255) NULL, \n                                   `grape` VARCHAR(255) NULL,      \n                                   `color` VARCHAR(255) NULL,\n                                   `wine_title` VARCHAR(255) NULL,\n                                   `brand` VARCHAR(255) NULL,\n                                   `price` INT NOT NULL,\n                                   `type` VARCHAR(255) NULL,\n                                   `volume` VARCHAR(255) NULL,\n                                   `year` VARCHAR(255) NOT NULL,\n                                   PRIMARY KEY (`id`));\n</code></pre>\n<p>table user</p>\n<pre><code>CREATE TABLE `wine`.`usr` (\n                               `id` INT NOT NULL AUTO_INCREMENT,\n                               `activation_code` VARCHAR(255) NULL,\n                               `active` TINYINT NOT NULL,\n                               `email` VARCHAR(255) NULL,\n                               `password` VARCHAR(255) NOT NULL,\n                               `username` VARCHAR(255) NOT NULL,\n                               PRIMARY KEY (`id`));\n</code></pre>\n<p>table user role</p>\n<pre><code>CREATE TABLE `wine`.`user_role` (\n                                     `user_id` INT NOT NULL,\n                                     `roles` VARCHAR(255) NULL);\n</code></pre>\n<p>table orders_wine_list</p>\n<pre><code>CREATE TABLE `wine`.`orders_wine_list` (\n                                               `order_id` INT NOT NULL,\n                                               `wine_list_id` INT NOT NULL,\n                                               `wine_list_order` INT NOT NULL,\n                                               PRIMARY KEY (`order_id`, `wine_list_order`));\n</code></pre>\n<p>table usr_wine_list</p>\n<pre><code>CREATE TABLE `wine`.`usr_wine_list` (\n                                            `user_id` INT NOT NULL,\n                                            `wine_list_id` INT NOT NULL);\n</code></pre>\n<p>and ALTER TABLE</p>\n<pre><code>ALTER TABLE `wine`.`orders`\n    ADD CONSTRAINT `FK7ncuqw9n77odylknbo8aikc9w`\n        FOREIGN KEY (`user_id`)\n            REFERENCES `wine`.`usr` (`id`)\n            ON DELETE NO ACTION\n            ON UPDATE NO ACTION;\n\n\nALTER TABLE `wine`.`orders_wine_list`\n    ADD CONSTRAINT `FKi6hpa14qaenek8pc9pf3vmlei`\n        FOREIGN KEY (`wine_list_id`)\n            REFERENCES `wine`.`wine` (`id`)\n            ON DELETE NO ACTION\n            ON UPDATE NO ACTION;\n\nALTER TABLE `wine`.`orders_wine_list`\n    ADD CONSTRAINT `FK8jft4d30d5dgvauht7ssndwau`\n        FOREIGN KEY (`order_id`)\n            REFERENCES `wine`.`orders` (`id`)\n            ON DELETE NO ACTION\n            ON UPDATE NO ACTION;\n\n\nALTER TABLE `wine`.`user_role`\n    ADD CONSTRAINT `FKfpm8swft53ulq2hl11yplpr5`\n        FOREIGN KEY (`user_id`)\n            REFERENCES `wine`.`usr` (`id`)\n            ON DELETE NO ACTION\n            ON UPDATE NO ACTION;\n\n\nALTER TABLE `wine`.`usr_wine_list`\n    ADD CONSTRAINT `FK1n7n8prjoexkp1twc9f6kgbtm`\n        FOREIGN KEY (`wine_list_id`)\n            REFERENCES `wine`.`wine` (`id`)\n            ON DELETE NO ACTION\n            ON UPDATE NO ACTION;\n\n\nALTER TABLE `wine`.`usr_wine_list`\n    ADD CONSTRAINT `FKc5b4lo20noteewtlrq1kd8nhs`\n        FOREIGN KEY (`user_id`)\n            REFERENCES `wine`.`usr` (`id`)\n            ON DELETE NO ACTION\n            ON UPDATE NO ACTION;\n</code></pre>\n"},{"tags":["java","angular","rest","hosting","web-deployment"],"comments":[{"owner":{"account_id":10589774,"reputation":101,"user_id":8617773,"display_name":"Paulo Ricardo"},"score":0,"creation_date":1652823892,"post_id":72280800,"comment_id":127698919,"body_markdown":"Is the server&#39;s HTTP port not 80? So it would be something like `http://my-domain.com/home`. Right?","body":"Is the server&#39;s HTTP port not 80? So it would be something like <code>http:&#47;&#47;my-domain.com&#47;home</code>. Right?"},{"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"score":0,"creation_date":1652826268,"post_id":72280800,"comment_id":127699422,"body_markdown":"Tried that. Got 404","body":"Tried that. Got 404"},{"owner":{"account_id":10589774,"reputation":101,"user_id":8617773,"display_name":"Paulo Ricardo"},"score":0,"creation_date":1652826908,"post_id":72280800,"comment_id":127699532,"body_markdown":"Does your web application (Angula build) have the /home route registered in AppRouting? Another thing... When accessing your application through the address http://my-domain.com, do you get a positive result? Is she really on the air?","body":"Does your web application (Angula build) have the /home route registered in AppRouting? Another thing... When accessing your application through the address <a href=\"http://my-domain.com\" rel=\"nofollow noreferrer\">my-domain.com</a>, do you get a positive result? Is she really on the air?"},{"owner":{"account_id":10589774,"reputation":101,"user_id":8617773,"display_name":"Paulo Ricardo"},"score":0,"creation_date":1652827049,"post_id":72280800,"comment_id":127699563,"body_markdown":"The behavior when accessing the default address would redirect to index, does this work? If yes, there is a problem in the routing of the web application, specifically in the /home path.","body":"The behavior when accessing the default address would redirect to index, does this work? If yes, there is a problem in the routing of the web application, specifically in the /home path."},{"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"score":0,"creation_date":1652827583,"post_id":72280800,"comment_id":127699669,"body_markdown":"my-domain.com redirects to spring boot security login page wich is hosted on separeted VPS running rest service. After succesful login it should go to my shaared hosting site, where Angular app is. The thing is when localy testing these both servers are localhost. One is on port 8080 and other is on 4200. But in production, I have two server, my-rest-service-vps:8080/api/login wich then should redirect to my-domain.com/home. It works localy, but not when site is hosted. Going to my-domain.com redirects to my-rest-service-vps and after login it redicects back to my-domain/home wich givs 404","body":"my-domain.com redirects to spring boot security login page wich is hosted on separeted VPS running rest service. After succesful login it should go to my shaared hosting site, where Angular app is. The thing is when localy testing these both servers are localhost. One is on port 8080 and other is on 4200. But in production, I have two server, my-rest-service-vps:8080/api/login wich then should redirect to my-domain.com/home. It works localy, but not when site is hosted. Going to my-domain.com redirects to my-rest-service-vps and after login it redicects back to my-domain/home wich givs 404"},{"owner":{"account_id":10589774,"reputation":101,"user_id":8617773,"display_name":"Paulo Ricardo"},"score":0,"creation_date":1652828709,"post_id":72280800,"comment_id":127699889,"body_markdown":"Why login to the page provided by Spring-Security? Login should be done via a post request from your webapp (a frontend login page) to ...:8080/auth, once logged in and processed the post return at ...:8080/auth your own webapp would redirect /home. The error pointed out after the first comment is 404 (Not Found) that is, there is no such path in the webapp; With the removal (commenting) of the authentication layer, are you able to access your webapp? If there is no problem there in the host or port.","body":"Why login to the page provided by Spring-Security? Login should be done via a post request from your webapp (a frontend login page) to ...:8080/auth, once logged in and processed the post return at ...:8080/auth your own webapp would redirect /home. The error pointed out after the first comment is 404 (Not Found) that is, there is no such path in the webapp; With the removal (commenting) of the authentication layer, are you able to access your webapp? If there is no problem there in the host or port."},{"owner":{"account_id":10589774,"reputation":101,"user_id":8617773,"display_name":"Paulo Ricardo"},"score":0,"creation_date":1652828873,"post_id":72280800,"comment_id":127699917,"body_markdown":"if http://localhost:4200/home is accessible normally then http://my-domain/home should work if the port and dns (or ip) are valid.","body":"if <a href=\"http://localhost:4200/home\" rel=\"nofollow noreferrer\">localhost:4200/home</a> is accessible normally then <a href=\"http://my-domain/home\" rel=\"nofollow noreferrer\">my-domain/home</a> should work if the port and dns (or ip) are valid."}],"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652822501,"creation_date":1652822501,"question_id":72280800,"body_markdown":"When I run my app localy I had a link for redirecting something like `http://localhost:4200/home` from Java RESTful service to Angular app. It worked. \r\n\r\nNow when I trying to deploy it on a shared web hosting I changed it with a variable like `appProperties.getUrlhome()`, where in `application.properties` I have `app.properties.urlhome=http://my-domain.com:4200/home`. It does not work. How the link should look like now? Should I change the port or something?","title":"Change localhost links when deploying Angular app on a shared web hosting server","body":"<p>When I run my app localy I had a link for redirecting something like <code>http://localhost:4200/home</code> from Java RESTful service to Angular app. It worked.</p>\n<p>Now when I trying to deploy it on a shared web hosting I changed it with a variable like <code>appProperties.getUrlhome()</code>, where in <code>application.properties</code> I have <code>app.properties.urlhome=http://my-domain.com:4200/home</code>. It does not work. How the link should look like now? Should I change the port or something?</p>\n"},{"tags":["java","spring-boot","spring-batch","spring-batch-admin"],"answers":[{"tags":[],"owner":{"account_id":15783708,"reputation":143,"user_id":11389218,"display_name":"Mahesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1627212029,"creation_date":1627210906,"answer_id":68517905,"question_id":68412736,"body_markdown":"I have figured out the solution by using ResourceAware Interface in Spring  Batch.\r\nMypojo requires to implement the ResourceAware and overried the setResource method and we can get the Resource details over there.\r\n\r\nRegarding ResourceAware : https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/ResourceAware.html","title":"How to get File Name in to the Item Reader or Item Processor of spring batch?","body":"<p>I have figured out the solution by using ResourceAware Interface in Spring  Batch.\nMypojo requires to implement the ResourceAware and overried the setResource method and we can get the Resource details over there.</p>\n<p>Regarding ResourceAware : <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/ResourceAware.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/ResourceAware.html</a></p>\n"},{"tags":[],"owner":{"account_id":9105547,"reputation":644,"user_id":6776142,"display_name":"Jet_C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652822101,"creation_date":1652822101,"answer_id":72280742,"question_id":68412736,"body_markdown":"Used `ResourceAware` as mentioned in the accepted answer and it worked perfectly.\r\nAdding a simple sample for visual aid.\r\n\r\n    @Data\r\n    public class Contact implements ResourceAware {\r\n        private String name;\r\n        private String phoneNumber;\r\n        private String inputSrcFileName;\r\n        private Resource resource;\r\n    \r\n        @Override\r\n        public void setResource(Resource resource) {\r\n            this.resource = resource;\r\n            this.inputSrcFileName = resource.getFilename();\r\n        }\r\n    }\r\n\r\nImplemented on the reader input POJO","title":"How to get File Name in to the Item Reader or Item Processor of spring batch?","body":"<p>Used <code>ResourceAware</code> as mentioned in the accepted answer and it worked perfectly.\nAdding a simple sample for visual aid.</p>\n<pre><code>@Data\npublic class Contact implements ResourceAware {\n    private String name;\n    private String phoneNumber;\n    private String inputSrcFileName;\n    private Resource resource;\n\n    @Override\n    public void setResource(Resource resource) {\n        this.resource = resource;\n        this.inputSrcFileName = resource.getFilename();\n    }\n}\n</code></pre>\n<p>Implemented on the reader input POJO</p>\n"}],"owner":{"account_id":15783708,"reputation":143,"user_id":11389218,"display_name":"Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68517905,"answer_count":2,"score":2,"last_activity_date":1652822101,"creation_date":1626454680,"question_id":68412736,"body_markdown":"I am Using *MultiResourceItemReader* to read the multiple resources which is setting to the Resource[], and by using Fixed Length Tokenizer I am able to set the data to the POJO class.\r\nin the Item Processor I am able to get the Object which has been created by Item Reader and able to get the data from the object.\r\n\r\n**The Challenging which I am facing is to get the File Name for the specific object which has been created or processed and passed to the Item Processor.**\r\n\r\nI required store the File Name also along with the specific object data in to the database.\r\n\r\nAppreciate the help on this, Thank you\r\n\r\n*Here is the batch configuration *\r\n\r\n    @Configuration\r\n    @EnableBatchProcession\r\n        public class BatchConfig {\r\n        \r\n        \r\n        @Value(&quot;&quot;)\r\n        private Resource[] resource;\r\n\r\n        /* Job */\r\n        public Job job(){\r\n        return jobBuilderFactory.get(&quot;job&quot;).listerner(listener()).incrementer(new \r\n        RunIdIncrementer())\r\n               .start(step()).build();\r\n        }\r\n        /*  Step */\r\n        public Step step(){\r\n        return stepBuilderFactory.get(&quot;step&quot;)&lt;mypojo,mypojo&gt;chunk(10)\r\n        .reader(multiREsourceItemReader()).processor(processor()).writer(writer()).build();\r\n        }\r\n        \r\n        /* Multi Resource Item Reader */\r\n        @Bean\r\n        @StepScope\r\n        public MultiResourceItemReader&lt;mypojo&gt; multiResourceItemReader() {\r\n        MultiResourceItemReader&lt;mypojo&gt; multireader = new MultiResourceItemReader&lt;mypojo&gt;();\r\n        multireader.setResource(resources);\r\n        multireader.setDelegate(reader());\r\n        return mutlireader;\r\n        }\r\n    \r\n       /* Flat FIle Item Reader */\r\n       @Bean \r\n       public FlatFileItemReader&lt;mypojo&gt; reader() {\r\n       FlatFileItmeReader&lt;mypojo&gt; reader = new FlatFileItemReader&lt;mypojo&gt;();\r\n       reader.setLineMapper(new DefaultLineMapper() {\r\n       {\r\n       setLineTokenizer(new FixedLengthTokenizer(){ {  \r\n       setName(new String[]{&quot;my pojo class attributes ...&quot;});\r\n       setColumns( new Range { new Range[1,3] .....});\r\n       setStrickt(false);\r\n          }\r\n       });\r\n       setFieldSetMapper(new BeanWrapperFieldsSetMapper&lt;mypojo&gt;(){\r\n        {  \r\n        setTargetType(AckResponse.class):\r\n        }\r\n       });  }});\r\n       return reader;\r\n       }\r\n\r\n      @Bean\r\n      public CustomItemProcessor processor(){\r\n      return new ResponseFileProcessor();\r\n       }\r\n    \r\n      @Bean\r\n      public CustomFileWriter&lt;mypojo&gt; writer(){\r\n      return new CustomFileWriter&lt;mypojo&gt;();\r\n      }\r\n      }\r\n      \r\n\r\n  \r\n*/* Here is the Item Processor */*\r\n\r\n    public class CustomProcessor implements ItemProcessor&lt;mypojo,mypojo&gt;{\r\n    \r\n    public mypojo process(mypojo item) thows Exception {\r\n    \r\n    return item;\r\n    }\r\n\r\n\r\n\r\n","title":"How to get File Name in to the Item Reader or Item Processor of spring batch?","body":"<p>I am Using <em>MultiResourceItemReader</em> to read the multiple resources which is setting to the Resource[], and by using Fixed Length Tokenizer I am able to set the data to the POJO class.\nin the Item Processor I am able to get the Object which has been created by Item Reader and able to get the data from the object.</p>\n<p><strong>The Challenging which I am facing is to get the File Name for the specific object which has been created or processed and passed to the Item Processor.</strong></p>\n<p>I required store the File Name also along with the specific object data in to the database.</p>\n<p>Appreciate the help on this, Thank you</p>\n<p>*Here is the batch configuration *</p>\n<pre><code>@Configuration\n@EnableBatchProcession\n    public class BatchConfig {\n    \n    \n    @Value(&quot;&quot;)\n    private Resource[] resource;\n\n    /* Job */\n    public Job job(){\n    return jobBuilderFactory.get(&quot;job&quot;).listerner(listener()).incrementer(new \n    RunIdIncrementer())\n           .start(step()).build();\n    }\n    /*  Step */\n    public Step step(){\n    return stepBuilderFactory.get(&quot;step&quot;)&lt;mypojo,mypojo&gt;chunk(10)\n    .reader(multiREsourceItemReader()).processor(processor()).writer(writer()).build();\n    }\n    \n    /* Multi Resource Item Reader */\n    @Bean\n    @StepScope\n    public MultiResourceItemReader&lt;mypojo&gt; multiResourceItemReader() {\n    MultiResourceItemReader&lt;mypojo&gt; multireader = new MultiResourceItemReader&lt;mypojo&gt;();\n    multireader.setResource(resources);\n    multireader.setDelegate(reader());\n    return mutlireader;\n    }\n\n   /* Flat FIle Item Reader */\n   @Bean \n   public FlatFileItemReader&lt;mypojo&gt; reader() {\n   FlatFileItmeReader&lt;mypojo&gt; reader = new FlatFileItemReader&lt;mypojo&gt;();\n   reader.setLineMapper(new DefaultLineMapper() {\n   {\n   setLineTokenizer(new FixedLengthTokenizer(){ {  \n   setName(new String[]{&quot;my pojo class attributes ...&quot;});\n   setColumns( new Range { new Range[1,3] .....});\n   setStrickt(false);\n      }\n   });\n   setFieldSetMapper(new BeanWrapperFieldsSetMapper&lt;mypojo&gt;(){\n    {  \n    setTargetType(AckResponse.class):\n    }\n   });  }});\n   return reader;\n   }\n\n  @Bean\n  public CustomItemProcessor processor(){\n  return new ResponseFileProcessor();\n   }\n\n  @Bean\n  public CustomFileWriter&lt;mypojo&gt; writer(){\n  return new CustomFileWriter&lt;mypojo&gt;();\n  }\n  }\n  \n</code></pre>\n<p><em>/</em> Here is the Item Processor <em>/</em></p>\n<pre><code>public class CustomProcessor implements ItemProcessor&lt;mypojo,mypojo&gt;{\n\npublic mypojo process(mypojo item) thows Exception {\n\nreturn item;\n}\n</code></pre>\n"},{"tags":["java","android","permission-denied"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1613805661,"post_id":66284330,"comment_id":117194585,"body_markdown":"An Android 10 phone?","body":"An Android 10 phone?"},{"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"score":0,"creation_date":1613812013,"post_id":66284330,"comment_id":117195793,"body_markdown":"yes i have android 10","body":"yes i have android 10"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1613817262,"post_id":66284330,"comment_id":117196901,"body_markdown":"https://stackoverflow.com/questions/63842070/accessing-external-storage-in-android-api-29","body":"<a href=\"https://stackoverflow.com/questions/63842070/accessing-external-storage-in-android-api-29\" title=\"accessing external storage in android api 29\">stackoverflow.com/questions/63842070/&hellip;</a>"},{"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"score":0,"creation_date":1613826662,"post_id":66284330,"comment_id":117198994,"body_markdown":"hello despite this tutorial it still does not work I still have the same error","body":"hello despite this tutorial it still does not work I still have the same error"},{"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"score":0,"creation_date":1613831889,"post_id":66284330,"comment_id":117200451,"body_markdown":"thank you for your help I managed to get it to work I added in my mainactivity all the permission requests and it works","body":"thank you for your help I managed to get it to work I added in my mainactivity all the permission requests and it works"},{"owner":{"account_id":18141135,"reputation":2196,"user_id":13194982,"display_name":"Sourabrt"},"score":0,"creation_date":1648201415,"post_id":66284330,"comment_id":126569615,"body_markdown":"@dragonsly: Could you please tell which permission requests you have added in your main activity? I&#39;m facing the same issue as well.","body":"@dragonsly: Could you please tell which permission requests you have added in your main activity? I&#39;m facing the same issue as well."}],"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652821926,"creation_date":1613765216,"question_id":66284330,"body_markdown":"I am getting an `EACCES` (permission denied). I have informed the authorization in the manifest, the application is installed there, and is no error except that I cannot write to the smartphone and I do not know why. To me, it seems everything is configured correctly:\r\n\r\n         &gt; &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n\r\n\r\n    &lt;application\r\n        android:name=&quot;.CalendarNotificationChannel&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:icon=&quot;@mipmap/calendar&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/calendar_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\nThis is my launch code to create the file:\r\n\r\n           &gt;   buttonexport.setOnClickListener(new View.OnClickListener() {\r\n            EventDBHelper dbHelper = new EventDBHelper(MainActivity.this);\r\n            SQLiteDatabase sqldb = dbHelper.getReadableDatabase(); //My Database class\r\n            Cursor c = null;\r\n\r\n            @Override\r\n            public void onClick(View v) { //main code begins here\r\n\r\n                try {\r\n                    c = sqldb.rawQuery(&quot;select * from EVENTS&quot;, null);\r\n                    int rowcount = 0;\r\n                    int colcount = 0;\r\n                    File sdCardDir = Environment.getExternalStorageDirectory();\r\n                    String filename = &quot;MyBackUp.csv&quot;;\r\n                    // the name of the file to export with\r\n                    File saveFile = new File(sdCardDir, filename);\r\n                    FileWriter fw = new FileWriter(saveFile);\r\n\r\n                    BufferedWriter bw = new BufferedWriter(fw);\r\n                    rowcount = c.getCount();\r\n                    colcount = c.getColumnCount();\r\n                    if (rowcount &gt; 0) {\r\n                        c.moveToFirst();\r\n\r\n                        for (int i = 0; i &lt; colcount; i++) {\r\n                            if (i != colcount - 1) {\r\n\r\n                                bw.write(c.getColumnName(i) + &quot;,&quot;);\r\n\r\n                            } else {\r\n\r\n                                bw.write(c.getColumnName(i));\r\n\r\n                            }\r\n                        }\r\n                        bw.newLine();\r\n\r\n                        for (int i = 0; i &lt; rowcount; i++) {\r\n                            c.moveToPosition(i);\r\n\r\n                            for (int j = 0; j &lt; colcount; j++) {\r\n                                if (j != colcount - 1)\r\n                                    bw.write(c.getString(j) + &quot;,&quot;);\r\n                                else\r\n                                    bw.write(c.getString(j));\r\n                            }\r\n                            bw.newLine();\r\n                        }\r\n                        bw.flush();\r\n                        infotext.setText(&quot;Exported Successfully.&quot;);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    if (sqldb.isOpen()) {\r\n                        sqldb.close();\r\n                        infotext.setText(ex.getMessage().toString());\r\n                    }\r\n\r\n                } finally {\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\nLastly, here is my `gradle` config\r\n\r\n       &gt; android {\r\n         compileSdkVersion 30\r\n                buildToolsVersion &quot;30.0.2&quot;\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.example.myapplication&quot;\r\n              minSdkVersion 27\r\n                 targetSdkVersion 30\r\n                 versionCode 1\r\n                versionName &quot;1.0&quot;\r\n\r\n\r\nI don&#39;t understand why I am getting this error.\r\n\r\nMy lodcast :\r\n\r\n    02/19 21:28:32: Launching &#39;app&#39; on Nexus 5X API 29.\r\n    $ adb shell am start -n \r\n    &quot;com.example.myapplication/com.example.myapplication.MainActivity&quot; -a \r\n     android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\n     Connected to process 23675 on device &#39;emulator-5554&#39;.\r\n     Capturing and displaying logcat messages from application. This behavior \r\n     can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings \r\n     page.\r\n     W/RenderThread: type=1400 audit(0.0:2218): avc: denied { write } for \r\n     name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=7954 \r\n     scontext=u:r:untrusted_app:s0:c162,c256,c512,c768 \r\n     tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0\r\n     D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\r\n     W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; \r\n    errno=13 (Permission denied)\r\n    D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\n    D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\n    D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\n    W/e.myapplicatio: Accessing hidden method Landroid/view/View;- \r\n    &gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z \r\n    (greylist, reflection, allowed)\r\n     W/e.myapplicatio: Accessing hidden method Landroid/view/ViewGroup;- \r\n     &gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\r\n     E/DB&#160;Path: /data/user/0/com.example.myapplication/databases/calendar.db\r\n     D/HostConnection: HostConnection::get() New Host Connection established \r\n     0xd3f40090, tid 23716\r\n     D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 \r\n     ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 \r\n     ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan \r\n     ANDROID_EMU_deferred_vulkan_commands \r\n     ANDROID_EMU_vulkan_null_optional_strings \r\n     ANDROID_EMU_vulkan_create_resources_with_requirements \r\n     ANDROID_EMU_YUV420_888_to_NV21 ANDROID_EMU_YUV_Cache \r\n     ANDROID_EMU_async_unmap_buffer GL_OES_vertex_array_object \r\n     GL_KHR_texture_compression_astc_ldr ANDROID_EMU_gles_max_version_2 \r\n     W/OpenGLRenderer: Failed to choose config with \r\n     EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n     I/e.myapplicatio: Background young concurrent copying GC freed \r\n     14082(3033KB) AllocSpace objects, 0(0B) LOS objects, 79% free, \r\n     1593KB/7737KB, paused 903us total 818.915ms\r\n     D/eglCodecCommon: setVertexArrayObject: set vao to 0 (0) 0 0\r\n     D/EGL_emulation: eglCreateContext: 0xdf5275c0: maj 2 min 0 rcv 2\r\n     D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo 0xdf555800)\r\n     W/Gralloc3: mapper 3.x is not supported\r\n     D/HostConnection: createUnique: call\r\n     D/HostConnection: HostConnection::get() New Host Connection established \r\n     0xd3f41fd0, tid 23716\r\n     D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 \r\n     ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 \r\n     ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan \r\n     ANDROID_EMU_deferred_vulkan_commands \r\n     ANDROID_EMU_vulkan_null_optional_strings \r\n     ANDROID_EMU_vulkan_create_resources_with_requirements \r\n     ANDROID_EMU_YUV420_888_to_NV21 ANDROID_EMU_YUV_Cache \r\n     ANDROID_EMU_async_unmap_buffer GL_OES_vertex_array_object \r\n     GL_KHR_texture_compression_astc_ldr ANDROID_EMU_gles_max_version_2 \r\n     D/eglCodecCommon: allocate: Ask for block of size 0x1000\r\n        allocate: ioctl allocate returned offset 0x3ff7c2000 size 0x2000\r\n     D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo 0xdf555800)\r\n     D/eglCodecCommon: setVertexArrayObject: set vao to 0 (0) 1 0\r\n     I/OpenGLRenderer: Davey! duration=3864ms; Flags=1, \r\n     IntendedVsync=32434886011645, Vsync=32434886011645, \r\n     OldestInputEvent=9223372036854775807, NewestInputEvent=0, \r\n     HandleInputStart=32434887633600, AnimationStart=32434887688500, \r\n     PerformTraversalsStart=32434887739300, DrawStart=32438175662400, \r\n      SyncQueued=32438189382200, SyncStart=32438204897600, \r\n     IssueDrawCommandsStart=32438206494600, SwapBuffers=32438753563900, \r\n     FrameCompleted=32438766382000, DequeueBufferDuration=341000, \r\n     QueueBufferDuration=1261000, \r\n     I/Choreographer: Skipped 235 frames!  The application may be doing too \r\n      much work on its main thread.\r\n      I/OpenGLRenderer: Davey! duration=4275ms; Flags=0, \r\n     IntendedVsync=32434903290409, Vsync=32438819956919, \r\n     OldestInputEvent=9223372036854775807, NewestInputEvent=0, \r\n     HandleInputStart=32438823876900, AnimationStart=32438823985700, \r\n     PerformTraversalsStart=32438824612300, DrawStart=32438828781300, \r\n     SyncQueued=32438830896600, SyncStart=32438832729500, \r\n      IssueDrawCommandsStart=32438832851400, SwapBuffers=32438837598900, \r\n      FrameCompleted=32439180645500, DequeueBufferDuration=102000, \r\n      QueueBufferDuration=2851000, \r\n      I/Choreographer: Skipped 32 frames!  The application may be doing too \r\n      much work on its main thread.\r\n      I/Choreographer: Skipped 34 frames!  The application may be doing too \r\n      much work on its main thread.\r\n      I/OpenGLRenderer: Davey! duration=808ms; Flags=0, \r\n      IntendedVsync=32457685230954, Vsync=32458251897598, \r\n      OldestInputEvent=9223372036854775807, NewestInputEvent=0, \r\n      HandleInputStart=32458258808700, AnimationStart=32458258866600, \r\n      PerformTraversalsStart=32458259552300, DrawStart=32458259757400, \r\n      SyncQueued=32458260405700, SyncStart=32458366977600, \r\n       IssueDrawCommandsStart=32458367564400, SwapBuffers=32458369712000, \r\n       FrameCompleted=32458599980800, DequeueBufferDuration=166689000, \r\n       QueueBufferDuration=270000, \r\n       W/ActivityThread: handleWindowVisibility: no activity for token \r\n        android.os.BinderProxy@ae54354  \r\n        E/DB&#160;Path: /data/user/0/com.example.myapplication/databases/calendar.db\r\n        I/chatty: uid=10162(com.example.myapplication) identical 1 line\r\n        E/DB&#160;Path: /data/user/0/com.example.myapplication/databases/calendar.db\r\n        D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo 0xdf555800)\r\n        I/OpenGLRenderer: Davey! duration=790ms; Flags=1, \r\n        IntendedVsync=33039235301028, Vsync=33039235301028, \r\n        OldestInputEvent=9223372036854775807, NewestInputEvent=0, \r\n        HandleInputStart=33039242411000, AnimationStart=33039242490400, \r\n         PerformTraversalsStart=33039242545400, DrawStart=33039460471300, \r\n        SyncQueued=33039512956100, SyncStart=33039685759200, \r\n         IssueDrawCommandsStart=33039685857000, SwapBuffers=33040189855600, \r\n         FrameCompleted=33040198630400, DequeueBufferDuration=560000, \r\n         QueueBufferDuration=725000, \r\n          D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo \r\n        0xdf555800)\r\n         I/Choreographer: Skipped 60 frames!  The application may be doing too \r\n         much work on its main thread.\r\n        I/OpenGLRenderer: Davey! duration=1020ms; Flags=1, \r\n        IntendedVsync=33039235301028, Vsync=33039235301028, \r\n         OldestInputEvent=9223372036854775807, NewestInputEvent=0, \r\n         HandleInputStart=33039242411000, AnimationStart=33039242490400, \r\n          PerformTraversalsStart=33039242545400, DrawStart=33040199616300, \r\n          SyncQueued=33040207007700, SyncStart=33040210262300, \r\n          IssueDrawCommandsStart=33040210616200, SwapBuffers=33040252771200, \r\n          FrameCompleted=33040259479800, DequeueBufferDuration=1054000, \r\n           QueueBufferDuration=1113000, \r\n           D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo \r\n           0xdf555800)\r\n         I/OpenGLRenderer: Davey! duration=1065ms; Flags=0, \r\n        IntendedVsync=33039252442469, Vsync=33040252442429, \r\n           OldestInputEvent=9223372036854775807, NewestInputEvent=0, \r\n          HandleInputStart=33040255441900, AnimationStart=33040257095000, \r\n          PerformTraversalsStart=33040258537500, DrawStart=33040260022100, \r\n          SyncQueued=33040260062200, SyncStart=33040263816100, \r\n          IssueDrawCommandsStart=33040264406200, SwapBuffers=33040265645000, \r\n          FrameCompleted=33040321257100, DequeueBufferDuration=287000, \r\n          QueueBufferDuration=719000, \r\n          D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo \r\n          0xdf555800)","title":"How to solve an Android permissions problem","body":"<p>I am getting an <code>EACCES</code> (permission denied). I have informed the authorization in the manifest, the application is installed there, and is no error except that I cannot write to the smartphone and I do not know why. To me, it seems everything is configured correctly:</p>\n<pre><code>     &gt; &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n\n\n&lt;application\n    android:name=&quot;.CalendarNotificationChannel&quot;\n    android:allowBackup=&quot;false&quot;\n    android:icon=&quot;@mipmap/calendar&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/calendar_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n</code></pre>\n<p>This is my launch code to create the file:</p>\n<pre><code>       &gt;   buttonexport.setOnClickListener(new View.OnClickListener() {\n        EventDBHelper dbHelper = new EventDBHelper(MainActivity.this);\n        SQLiteDatabase sqldb = dbHelper.getReadableDatabase(); //My Database class\n        Cursor c = null;\n\n        @Override\n        public void onClick(View v) { //main code begins here\n\n            try {\n                c = sqldb.rawQuery(&quot;select * from EVENTS&quot;, null);\n                int rowcount = 0;\n                int colcount = 0;\n                File sdCardDir = Environment.getExternalStorageDirectory();\n                String filename = &quot;MyBackUp.csv&quot;;\n                // the name of the file to export with\n                File saveFile = new File(sdCardDir, filename);\n                FileWriter fw = new FileWriter(saveFile);\n\n                BufferedWriter bw = new BufferedWriter(fw);\n                rowcount = c.getCount();\n                colcount = c.getColumnCount();\n                if (rowcount &gt; 0) {\n                    c.moveToFirst();\n\n                    for (int i = 0; i &lt; colcount; i++) {\n                        if (i != colcount - 1) {\n\n                            bw.write(c.getColumnName(i) + &quot;,&quot;);\n\n                        } else {\n\n                            bw.write(c.getColumnName(i));\n\n                        }\n                    }\n                    bw.newLine();\n\n                    for (int i = 0; i &lt; rowcount; i++) {\n                        c.moveToPosition(i);\n\n                        for (int j = 0; j &lt; colcount; j++) {\n                            if (j != colcount - 1)\n                                bw.write(c.getString(j) + &quot;,&quot;);\n                            else\n                                bw.write(c.getString(j));\n                        }\n                        bw.newLine();\n                    }\n                    bw.flush();\n                    infotext.setText(&quot;Exported Successfully.&quot;);\n                }\n            } catch (Exception ex) {\n                if (sqldb.isOpen()) {\n                    sqldb.close();\n                    infotext.setText(ex.getMessage().toString());\n                }\n\n            } finally {\n\n            }\n\n        }\n    });\n</code></pre>\n<p>Lastly, here is my <code>gradle</code> config</p>\n<pre><code>   &gt; android {\n     compileSdkVersion 30\n            buildToolsVersion &quot;30.0.2&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n          minSdkVersion 27\n             targetSdkVersion 30\n             versionCode 1\n            versionName &quot;1.0&quot;\n</code></pre>\n<p>I don't understand why I am getting this error.</p>\n<p>My lodcast :</p>\n<pre><code>02/19 21:28:32: Launching 'app' on Nexus 5X API 29.\n$ adb shell am start -n \n&quot;com.example.myapplication/com.example.myapplication.MainActivity&quot; -a \n android.intent.action.MAIN -c android.intent.category.LAUNCHER\n Connected to process 23675 on device 'emulator-5554'.\n Capturing and displaying logcat messages from application. This behavior \n can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings \n page.\n W/RenderThread: type=1400 audit(0.0:2218): avc: denied { write } for \n name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=7954 \n scontext=u:r:untrusted_app:s0:c162,c256,c512,c768 \n tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0\n D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\n W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; \nerrno=13 (Permission denied)\nD/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\nD/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\nW/e.myapplicatio: Accessing hidden method Landroid/view/View;- \n&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z \n(greylist, reflection, allowed)\n W/e.myapplicatio: Accessing hidden method Landroid/view/ViewGroup;- \n &gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\n E/DB Path: /data/user/0/com.example.myapplication/databases/calendar.db\n D/HostConnection: HostConnection::get() New Host Connection established \n 0xd3f40090, tid 23716\n D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 \n ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 \n ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan \n ANDROID_EMU_deferred_vulkan_commands \n ANDROID_EMU_vulkan_null_optional_strings \n ANDROID_EMU_vulkan_create_resources_with_requirements \n ANDROID_EMU_YUV420_888_to_NV21 ANDROID_EMU_YUV_Cache \n ANDROID_EMU_async_unmap_buffer GL_OES_vertex_array_object \n GL_KHR_texture_compression_astc_ldr ANDROID_EMU_gles_max_version_2 \n W/OpenGLRenderer: Failed to choose config with \n EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\n I/e.myapplicatio: Background young concurrent copying GC freed \n 14082(3033KB) AllocSpace objects, 0(0B) LOS objects, 79% free, \n 1593KB/7737KB, paused 903us total 818.915ms\n D/eglCodecCommon: setVertexArrayObject: set vao to 0 (0) 0 0\n D/EGL_emulation: eglCreateContext: 0xdf5275c0: maj 2 min 0 rcv 2\n D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo 0xdf555800)\n W/Gralloc3: mapper 3.x is not supported\n D/HostConnection: createUnique: call\n D/HostConnection: HostConnection::get() New Host Connection established \n 0xd3f41fd0, tid 23716\n D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 \n ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 \n ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan \n ANDROID_EMU_deferred_vulkan_commands \n ANDROID_EMU_vulkan_null_optional_strings \n ANDROID_EMU_vulkan_create_resources_with_requirements \n ANDROID_EMU_YUV420_888_to_NV21 ANDROID_EMU_YUV_Cache \n ANDROID_EMU_async_unmap_buffer GL_OES_vertex_array_object \n GL_KHR_texture_compression_astc_ldr ANDROID_EMU_gles_max_version_2 \n D/eglCodecCommon: allocate: Ask for block of size 0x1000\n    allocate: ioctl allocate returned offset 0x3ff7c2000 size 0x2000\n D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo 0xdf555800)\n D/eglCodecCommon: setVertexArrayObject: set vao to 0 (0) 1 0\n I/OpenGLRenderer: Davey! duration=3864ms; Flags=1, \n IntendedVsync=32434886011645, Vsync=32434886011645, \n OldestInputEvent=9223372036854775807, NewestInputEvent=0, \n HandleInputStart=32434887633600, AnimationStart=32434887688500, \n PerformTraversalsStart=32434887739300, DrawStart=32438175662400, \n  SyncQueued=32438189382200, SyncStart=32438204897600, \n IssueDrawCommandsStart=32438206494600, SwapBuffers=32438753563900, \n FrameCompleted=32438766382000, DequeueBufferDuration=341000, \n QueueBufferDuration=1261000, \n I/Choreographer: Skipped 235 frames!  The application may be doing too \n  much work on its main thread.\n  I/OpenGLRenderer: Davey! duration=4275ms; Flags=0, \n IntendedVsync=32434903290409, Vsync=32438819956919, \n OldestInputEvent=9223372036854775807, NewestInputEvent=0, \n HandleInputStart=32438823876900, AnimationStart=32438823985700, \n PerformTraversalsStart=32438824612300, DrawStart=32438828781300, \n SyncQueued=32438830896600, SyncStart=32438832729500, \n  IssueDrawCommandsStart=32438832851400, SwapBuffers=32438837598900, \n  FrameCompleted=32439180645500, DequeueBufferDuration=102000, \n  QueueBufferDuration=2851000, \n  I/Choreographer: Skipped 32 frames!  The application may be doing too \n  much work on its main thread.\n  I/Choreographer: Skipped 34 frames!  The application may be doing too \n  much work on its main thread.\n  I/OpenGLRenderer: Davey! duration=808ms; Flags=0, \n  IntendedVsync=32457685230954, Vsync=32458251897598, \n  OldestInputEvent=9223372036854775807, NewestInputEvent=0, \n  HandleInputStart=32458258808700, AnimationStart=32458258866600, \n  PerformTraversalsStart=32458259552300, DrawStart=32458259757400, \n  SyncQueued=32458260405700, SyncStart=32458366977600, \n   IssueDrawCommandsStart=32458367564400, SwapBuffers=32458369712000, \n   FrameCompleted=32458599980800, DequeueBufferDuration=166689000, \n   QueueBufferDuration=270000, \n   W/ActivityThread: handleWindowVisibility: no activity for token \n    android.os.BinderProxy@ae54354  \n    E/DB Path: /data/user/0/com.example.myapplication/databases/calendar.db\n    I/chatty: uid=10162(com.example.myapplication) identical 1 line\n    E/DB Path: /data/user/0/com.example.myapplication/databases/calendar.db\n    D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo 0xdf555800)\n    I/OpenGLRenderer: Davey! duration=790ms; Flags=1, \n    IntendedVsync=33039235301028, Vsync=33039235301028, \n    OldestInputEvent=9223372036854775807, NewestInputEvent=0, \n    HandleInputStart=33039242411000, AnimationStart=33039242490400, \n     PerformTraversalsStart=33039242545400, DrawStart=33039460471300, \n    SyncQueued=33039512956100, SyncStart=33039685759200, \n     IssueDrawCommandsStart=33039685857000, SwapBuffers=33040189855600, \n     FrameCompleted=33040198630400, DequeueBufferDuration=560000, \n     QueueBufferDuration=725000, \n      D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo \n    0xdf555800)\n     I/Choreographer: Skipped 60 frames!  The application may be doing too \n     much work on its main thread.\n    I/OpenGLRenderer: Davey! duration=1020ms; Flags=1, \n    IntendedVsync=33039235301028, Vsync=33039235301028, \n     OldestInputEvent=9223372036854775807, NewestInputEvent=0, \n     HandleInputStart=33039242411000, AnimationStart=33039242490400, \n      PerformTraversalsStart=33039242545400, DrawStart=33040199616300, \n      SyncQueued=33040207007700, SyncStart=33040210262300, \n      IssueDrawCommandsStart=33040210616200, SwapBuffers=33040252771200, \n      FrameCompleted=33040259479800, DequeueBufferDuration=1054000, \n       QueueBufferDuration=1113000, \n       D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo \n       0xdf555800)\n     I/OpenGLRenderer: Davey! duration=1065ms; Flags=0, \n    IntendedVsync=33039252442469, Vsync=33040252442429, \n       OldestInputEvent=9223372036854775807, NewestInputEvent=0, \n      HandleInputStart=33040255441900, AnimationStart=33040257095000, \n      PerformTraversalsStart=33040258537500, DrawStart=33040260022100, \n      SyncQueued=33040260062200, SyncStart=33040263816100, \n      IssueDrawCommandsStart=33040264406200, SwapBuffers=33040265645000, \n      FrameCompleted=33040321257100, DequeueBufferDuration=287000, \n      QueueBufferDuration=719000, \n      D/EGL_emulation: eglMakeCurrent: 0xdf5275c0: ver 2 0 (tinfo \n      0xdf555800)\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652821479,"creation_date":1652821479,"answer_id":72280675,"question_id":72280537,"body_markdown":"Try using [Environment.getDataDirectory()](https://developer.android.com/reference/android/os/Environment#getDataDirectory()).","title":"How to list all folders on android?","body":"<p>Try using <a href=\"https://developer.android.com/reference/android/os/Environment#getDataDirectory()\" rel=\"nofollow noreferrer\">Environment.getDataDirectory()</a>.</p>\n"}],"owner":{"account_id":19862065,"reputation":5,"user_id":14550231,"display_name":"Nikita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652821479,"creation_date":1652820642,"question_id":72280537,"body_markdown":"I want to make an app that scans my phone&#39;s memory. I know about Environment.getExternalStorageDirectory(). But there are also other folders on my phone, such as folders used by other applications. When I try to use the linux &quot;du /&quot; command, I get a permission denied error. It will work with root, but there are applications on GooglePlay like Total Commander or Termux that have the ability to scan almost all folders on the device whithout root. So how they do this? &#128517;","title":"How to list all folders on android?","body":"<p>I want to make an app that scans my phone's memory. I know about Environment.getExternalStorageDirectory(). But there are also other folders on my phone, such as folders used by other applications. When I try to use the linux &quot;du /&quot; command, I get a permission denied error. It will work with root, but there are applications on GooglePlay like Total Commander or Termux that have the ability to scan almost all folders on the device whithout root. So how they do this? 😅</p>\n"},{"tags":["java","javafx","javafx-css"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1652822479,"post_id":72280620,"comment_id":127698534,"body_markdown":"You can&#39;t do this with JavaFX CSS, unfortunately. Might be able to in code though.","body":"You can&#39;t do this with JavaFX CSS, unfortunately. Might be able to in code though."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652824035,"post_id":72280620,"comment_id":127698959,"body_markdown":"See [this tutorial on animation and visual effect in JavaFX](https://docs.oracle.com/javase/8/javafx/visual-effects-tutorial/animations.htm), for info on how to write Java code to perform animations using JavaFX.  Be prepared to do some work to get the effect you want if you want an exact match with the effect you demonstrated.","body":"See <a href=\"https://docs.oracle.com/javase/8/javafx/visual-effects-tutorial/animations.htm\" rel=\"nofollow noreferrer\">this tutorial on animation and visual effect in JavaFX</a>, for info on how to write Java code to perform animations using JavaFX.  Be prepared to do some work to get the effect you want if you want an exact match with the effect you demonstrated."}],"owner":{"account_id":25318241,"reputation":1,"user_id":19139975,"display_name":"zawww"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652821420,"creation_date":1652821134,"question_id":72280620,"body_markdown":"Can you give me tips to create this animation in JavaFX?\r\n\r\n\r\n[animation][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z57ba.gif\r\n\r\nOr underline may move from left to right \r\n\r\nMy current .css file\r\n\r\n    .button{\r\n        -fx-background-color:  rgba(0,0,0,0.1);\r\n        -fx-shape:  &quot;M 400 200 L 400 250 L 500 250 L 500 200 L 400 200&quot;;\r\n    }\r\n    \r\n    .button .text {\r\n        -fx-fill: white;\r\n    }\r\n    \r\n    .button:hover .text {\r\n        -fx-fill: #FFFF55;\r\n    }\r\n    \r\n    .button:hover {\r\n        -fx-background-color:  rgba(0,0,0,0.1);\r\n\r\n}\r\n\r\n\r\n","title":"JavaFX button hover underline animation like in css","body":"<p>Can you give me tips to create this animation in JavaFX?</p>\n<p><a href=\"https://i.stack.imgur.com/z57ba.gif\" rel=\"nofollow noreferrer\">animation</a></p>\n<p>Or underline may move from left to right</p>\n<p>My current .css file</p>\n<pre><code>.button{\n    -fx-background-color:  rgba(0,0,0,0.1);\n    -fx-shape:  &quot;M 400 200 L 400 250 L 500 250 L 500 200 L 400 200&quot;;\n}\n\n.button .text {\n    -fx-fill: white;\n}\n\n.button:hover .text {\n    -fx-fill: #FFFF55;\n}\n\n.button:hover {\n    -fx-background-color:  rgba(0,0,0,0.1);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":5209890,"reputation":527,"user_id":4166663,"display_name":"Athi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1435059365,"creation_date":1435059365,"answer_id":31001714,"question_id":31001457,"body_markdown":"I think You&#39;r missing some classes &quot;UnsupportedFileFormatException&quot;\r\n\r\ntry to change the poi versions to the same and dont use the 3.11-beta2\r\n\r\nYou can use both in version 3.12\r\nhttp://mvnrepository.com/artifact/org.apache.poi\r\n","title":"NoClassDefFoundError: UnsupportedFileFormatException while using apache poi to write to an excel file","body":"<p>I think You'r missing some classes \"UnsupportedFileFormatException\"</p>\n\n<p>try to change the poi versions to the same and dont use the 3.11-beta2</p>\n\n<p>You can use both in version 3.12\n<a href=\"http://mvnrepository.com/artifact/org.apache.poi\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.apache.poi</a></p>\n"},{"tags":[],"owner":{"account_id":2432789,"reputation":984,"user_id":2123347,"accept_rate":50,"display_name":"JHDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435059979,"creation_date":1435059979,"answer_id":31001945,"question_id":31001457,"body_markdown":"I tried your code using the Jar Libs and not maven (see the images of project) and it worked fine. So like Athi said, you are missing some libs or the type of your file is not a xlsx.\r\n\r\n![enter image description here][1] \r\n\r\n![enter image description here][2]\r\n\r\nPS: I just changed this line of code \r\nfrom \r\n\r\n     File myFile = new File(&quot;/home/sabra/workspace/test/src/main/resources/test.xlsx&quot;);\r\n\r\nto \r\n\r\n    File myFile = new File(&quot;test.xlsx&quot;);\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/l6BEF.png\r\n  [2]: http://i.stack.imgur.com/0nNoV.png","title":"NoClassDefFoundError: UnsupportedFileFormatException while using apache poi to write to an excel file","body":"<p>I tried your code using the Jar Libs and not maven (see the images of project) and it worked fine. So like Athi said, you are missing some libs or the type of your file is not a xlsx.</p>\n\n<p><img src=\"https://i.stack.imgur.com/l6BEF.png\" alt=\"enter image description here\"> </p>\n\n<p><img src=\"https://i.stack.imgur.com/0nNoV.png\" alt=\"enter image description here\"></p>\n\n<p>PS: I just changed this line of code \nfrom </p>\n\n<pre><code> File myFile = new File(\"/home/sabra/workspace/test/src/main/resources/test.xlsx\");\n</code></pre>\n\n<p>to </p>\n\n<pre><code>File myFile = new File(\"test.xlsx\");\n</code></pre>\n"}],"owner":{"account_id":5894136,"reputation":161,"user_id":4639764,"accept_rate":55,"display_name":"Sabra Ossen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8080,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31001714,"answer_count":2,"score":3,"last_activity_date":1652821346,"creation_date":1435058659,"question_id":31001457,"body_markdown":"I am trying to write to an excel(.xlsx) file using Apache poi, I included the apache poi dependencies in my pom.xml file. But I am getting the following exception in execution.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/poi/UnsupportedFileFormatException\r\n        \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n        \tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n        \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n        \tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n        \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n        \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        \tat java.security.AccessController.doPrivileged(Native Method)\r\n        \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        \tat test.ExcelWriting.main(ExcelWriting.java:24)\r\n        Caused by: java.lang.ClassNotFoundException: org.apache.poi.UnsupportedFileFormatException\r\n        \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        \tat java.security.AccessController.doPrivileged(Native Method)\r\n        \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        \t... 13 more\r\n\r\nThe code and pom.xml is specified as follows.\r\n\r\nI am getting the exception in the following line. \r\n\r\n    XSSFWorkbook myWorkBook = new XSSFWorkbook (fis);\r\n\r\nCode:\r\n\r\n    package test;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class ExcelWriting {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException{\r\n    \t\tFile myFile = new File(&quot;/home/sabra/workspace/test/src/main/resources/test.xlsx&quot;);\r\n            FileInputStream fis = new FileInputStream(myFile);\r\n    \r\n            // Finds the workbook instance for XLSX file\r\n            XSSFWorkbook myWorkBook = new XSSFWorkbook (fis);\r\n           \r\n            // Return first sheet from the XLSX workbook\r\n            XSSFSheet mySheet = myWorkBook.getSheetAt(0);\r\n            \r\n            Map&lt;String, Object[]&gt; data = new HashMap&lt;String, Object[]&gt;();\r\n            data.put(&quot;7&quot;, new Object[] {7d, &quot;Sonya&quot;, &quot;75K&quot;, &quot;SALES&quot;, &quot;Rupert&quot;});\r\n            data.put(&quot;8&quot;, new Object[] {8d, &quot;Kris&quot;, &quot;85K&quot;, &quot;SALES&quot;, &quot;Rupert&quot;});\r\n            data.put(&quot;9&quot;, new Object[] {9d, &quot;Dave&quot;, &quot;90K&quot;, &quot;SALES&quot;, &quot;Rupert&quot;});\r\n         \r\n            // Set to Iterate and add rows into XLS file\r\n            Set&lt;String&gt; newRows = data.keySet();\r\n         \r\n            // get the last row number to append new data          \r\n            int rownum = mySheet.getLastRowNum();         \r\n         \r\n            for (String key : newRows) {\r\n             \r\n                // Creating a new Row in existing XLSX sheet\r\n                Row row = mySheet.createRow(rownum++);\r\n                Object [] objArr = data.get(key);\r\n                int cellnum = 0;\r\n                for (Object obj : objArr) {\r\n                    Cell cell = row.createCell(cellnum++);\r\n                    if (obj instanceof String) {\r\n                        cell.setCellValue((String) obj);\r\n                    } else if (obj instanceof Boolean) {\r\n                        cell.setCellValue((Boolean) obj);\r\n                    } else if (obj instanceof Date) {\r\n                        cell.setCellValue((Date) obj);\r\n                    } else if (obj instanceof Double) {\r\n                        cell.setCellValue((Double) obj);\r\n                    }\r\n                }\r\n            }\r\n         \r\n            // open an OutputStream to save written data into XLSX file\r\n            FileOutputStream os = new FileOutputStream(myFile);\r\n            myWorkBook.write(os);\r\n            myWorkBook.close();\r\n    \t}\r\n    }\r\n\r\nPom:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.8&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11-beta2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"NoClassDefFoundError: UnsupportedFileFormatException while using apache poi to write to an excel file","body":"<p>I am trying to write to an excel(.xlsx) file using Apache poi, I included the apache poi dependencies in my pom.xml file. But I am getting the following exception in execution.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/poi/UnsupportedFileFormatException\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n        at test.ExcelWriting.main(ExcelWriting.java:24)\n    Caused by: java.lang.ClassNotFoundException: org.apache.poi.UnsupportedFileFormatException\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n        ... 13 more\n</code></pre>\n\n<p>The code and pom.xml is specified as follows.</p>\n\n<p>I am getting the exception in the following line. </p>\n\n<pre><code>XSSFWorkbook myWorkBook = new XSSFWorkbook (fis);\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>package test;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class ExcelWriting {\n\n    public static void main(String[] args) throws IOException{\n        File myFile = new File(\"/home/sabra/workspace/test/src/main/resources/test.xlsx\");\n        FileInputStream fis = new FileInputStream(myFile);\n\n        // Finds the workbook instance for XLSX file\n        XSSFWorkbook myWorkBook = new XSSFWorkbook (fis);\n\n        // Return first sheet from the XLSX workbook\n        XSSFSheet mySheet = myWorkBook.getSheetAt(0);\n\n        Map&lt;String, Object[]&gt; data = new HashMap&lt;String, Object[]&gt;();\n        data.put(\"7\", new Object[] {7d, \"Sonya\", \"75K\", \"SALES\", \"Rupert\"});\n        data.put(\"8\", new Object[] {8d, \"Kris\", \"85K\", \"SALES\", \"Rupert\"});\n        data.put(\"9\", new Object[] {9d, \"Dave\", \"90K\", \"SALES\", \"Rupert\"});\n\n        // Set to Iterate and add rows into XLS file\n        Set&lt;String&gt; newRows = data.keySet();\n\n        // get the last row number to append new data          \n        int rownum = mySheet.getLastRowNum();         \n\n        for (String key : newRows) {\n\n            // Creating a new Row in existing XLSX sheet\n            Row row = mySheet.createRow(rownum++);\n            Object [] objArr = data.get(key);\n            int cellnum = 0;\n            for (Object obj : objArr) {\n                Cell cell = row.createCell(cellnum++);\n                if (obj instanceof String) {\n                    cell.setCellValue((String) obj);\n                } else if (obj instanceof Boolean) {\n                    cell.setCellValue((Boolean) obj);\n                } else if (obj instanceof Date) {\n                    cell.setCellValue((Date) obj);\n                } else if (obj instanceof Double) {\n                    cell.setCellValue((Double) obj);\n                }\n            }\n        }\n\n        // open an OutputStream to save written data into XLSX file\n        FileOutputStream os = new FileOutputStream(myFile);\n        myWorkBook.write(os);\n        myWorkBook.close();\n    }\n}\n</code></pre>\n\n<p>Pom:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;test&lt;/groupId&gt;\n  &lt;artifactId&gt;test&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.11-beta2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","google-drive-api"],"comments":[{"owner":{"account_id":14320707,"reputation":582,"user_id":10344196,"display_name":"Yancy Godoy"},"score":0,"creation_date":1652817394,"post_id":72278696,"comment_id":127697125,"body_markdown":"What is the language you are using to interact with the API? Are you using any type of _Live Server_ with it?","body":"What is the language you are using to interact with the API? Are you using any type of <i>Live Server</i> with it?"},{"owner":{"account_id":25240868,"reputation":23,"user_id":19074762,"display_name":"منصاتي APP"},"score":0,"creation_date":1652820951,"post_id":72278696,"comment_id":127698136,"body_markdown":"@YancyGodoy I&#39;m use only url with api v3 to get direct link","body":"@YancyGodoy I&#39;m use only url with api v3 to get direct link"},{"owner":{"account_id":14320707,"reputation":582,"user_id":10344196,"display_name":"Yancy Godoy"},"score":0,"creation_date":1652821223,"post_id":72278696,"comment_id":127698210,"body_markdown":"How frequently are you executing that call? Is this automated or manual?","body":"How frequently are you executing that call? Is this automated or manual?"},{"owner":{"account_id":25240868,"reputation":23,"user_id":19074762,"display_name":"منصاتي APP"},"score":0,"creation_date":1652858835,"post_id":72278696,"comment_id":127705289,"body_markdown":"@YancyGodoy automated","body":"@YancyGodoy automated"},{"owner":{"account_id":14320707,"reputation":582,"user_id":10344196,"display_name":"Yancy Godoy"},"score":0,"creation_date":1652889829,"post_id":72278696,"comment_id":127718060,"body_markdown":"Short answers are not useful, please modify your answer and provide more details as to how your set up is built, how is are requests executed, there&#39;s something locally that keeps on refreshing and sending automated requests that&#39;s why you are getting this error.","body":"Short answers are not useful, please modify your answer and provide more details as to how your set up is built, how is are requests executed, there&#39;s something locally that keeps on refreshing and sending automated requests that&#39;s why you are getting this error."}],"owner":{"account_id":25240868,"reputation":23,"user_id":19074762,"display_name":"منصاتي APP"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652821010,"creation_date":1652810443,"question_id":72278696,"body_markdown":"When I use the `Google Drive API` to make a direct download using an API key, after more than one download using the link it doesn&#39;t work anymore and shows this message:\r\n\r\n[![][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o9OMJ.jpg","title":"Google Drive Api v3 sending automated queries","body":"<p>When I use the <code>Google Drive API</code> to make a direct download using an API key, after more than one download using the link it doesn't work anymore and shows this message:</p>\n<p><a href=\"https://i.stack.imgur.com/o9OMJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o9OMJ.jpg\" alt=\"\" /></a></p>\n"},{"tags":["java","groovy","garbage-collection","jvm","out-of-memory"],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652729218,"creation_date":1652729218,"answer_id":72264619,"question_id":72263944,"body_markdown":"If you read the documentation for [VolatileImage][1] it says:\r\n\r\n&gt; When a VolatileImage object is created, limited system resources such as video memory (VRAM) may be allocated in order to support the image. When a VolatileImage object is no longer used, it may be garbage-collected and those system resources will be returned, but this process does not happen at guaranteed times. Applications that create many VolatileImage objects (for example, a resizing window may force recreation of its back buffer as the size changes) may run out of optimal system resources for new VolatileImage objects simply because the old objects have not yet been removed from the system.\r\n\r\nThe solution is to call [flush][2] (where you call System.gc) or perhaps to reuse the image instead of re-creating it for every paint operation.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/image/VolatileImage.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/awt/Image.html#flush()","title":"JVM: Non-heap memory causes OutOfMemoryError because the Garbage Collector is not run. What am I doing wrong?","body":"<p>If you read the documentation for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/VolatileImage.html\" rel=\"nofollow noreferrer\">VolatileImage</a> it says:</p>\n<blockquote>\n<p>When a VolatileImage object is created, limited system resources such as video memory (VRAM) may be allocated in order to support the image. When a VolatileImage object is no longer used, it may be garbage-collected and those system resources will be returned, but this process does not happen at guaranteed times. Applications that create many VolatileImage objects (for example, a resizing window may force recreation of its back buffer as the size changes) may run out of optimal system resources for new VolatileImage objects simply because the old objects have not yet been removed from the system.</p>\n</blockquote>\n<p>The solution is to call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Image.html#flush()\" rel=\"nofollow noreferrer\">flush</a> (where you call System.gc) or perhaps to reuse the image instead of re-creating it for every paint operation.</p>\n"}],"owner":{"account_id":2798506,"reputation":79,"user_id":2407240,"accept_rate":60,"display_name":"Callid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72264619,"answer_count":1,"score":1,"last_activity_date":1652820881,"creation_date":1652725601,"question_id":72263944,"body_markdown":"I&#39;ve encountered a weird issue where the Groovy application I&#39;m working on grows to consume more memory (far beyond the limits of the xmx-argument, so it can&#39;t be the heap) until the computer runs out of RAM, at which point the JVM behaves in one of two different ways - it either suddenly frees (almost) all the memory it has taken, or it crashes with an OutOfMemoryError. This problem can be avoided by regularly calling System.gc().\r\n\r\nWhat seems to happen to me is, despite allocating more and more memory, the JVM does not call the Garbage Collector. It is not clear whether it always (tries to) call it once the computer runs out of RAM and only sometimes succeeds, or whether it sometimes throws an OOME without calling the GC (even though that would violate the specifications). It might be interesting to note that the ResourceMonitor does *not* report the java.exe instance commiting more memory (it stays at ~500MB), but the commit charge goes up all the same.\r\n\r\nThe only thing I&#39;m doing while this is going on is to have a Timer start a new thread every 33ms to call a repaint() of a JComponent. I have heard that each new thread is allocated some memory outside the heap, so I suspect that the issue may be that that memory is never collected, but I could be wrong (I really feel out of my depth here, TBH).\r\n\r\nI could obviously solve things by just having a Timer invoke System.gc() regularly (though no less often than once every few seconds), but that seems very bad practice to me, and I&#39;m honestly hoping that there is something I&#39;m doing wrong, rather than this being some weird issue with the JVM.\r\n\r\nThe only code I&#39;m running at the time is the one below (I&#39;ve removed some comments and some logging to the console). There is, of course, a whole bunch more code, but the only thing active is, as mentioned, the Timer calling repaint(). \r\n\r\n```groovy\r\n//snip: package and imports\r\n    \r\n@groovy.transform.CompileStatic\r\nclass MapWindow extends BasicWindow {\r\n//BasicWindow provides a constructor that stores its two arguments as windowX and windowY (and set dimensions accordingly) and creates and stores a basic frame\r\n//It also overrides setVisible() to call frame.setVisibile() as well. It does nothing else.\r\n\r\n    int xPos\r\n    int yPos\r\n\r\n    MapWindow(int x, int y) {\r\n        super(x, y)\r\n        frame.setTitle(&quot;EFG&quot;)\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)\r\n        frame.pack()\r\n    }\r\n\r\n    @Override\r\n    public void paint(Graphics gA) {\r\n        VolatileImage img = createVolatileImage(windowX, windowY)\r\n        Graphics2D g = (Graphics2D) img.getGraphics()\r\n\r\n        VolatileImage tmp = getTestImage()\r\n\r\n        g.drawImage(tmp, 0, 0, null)\r\n        g.dispose()\r\n        gA.drawImage(img, 0, 0, windowX, windowY, null)\r\n\r\n        if (Game.game.rnd.nextInt(100) == 0) {\r\n            //System.gc()  &lt;--If I uncomment this, things work\r\n        }\r\n    }\r\n\r\n    VolatileImage getTestImage() {\r\n        VolatileImage img = createVolatileImage(windowX, windowY)\r\n        Graphics2D g = img.createGraphics()\r\n\r\n        for (int x = 0; x &lt; tileSet.x; x++) {\r\n            for (int y = 0; y &lt; tileSet.y; y++) {\r\n                g.drawImage(tileSet.images[x][y], x * tileSet.resolution, y * tileSet.resolution, null)\r\n            }\r\n        }\r\n\r\n        char[] msg = &quot;test complete&quot;.toCharArray()\r\n        for (int x = 0; x &lt; msg.length; x++) {\r\n            char c = msg[x]\r\n            if (!c.isWhitespace()) {\r\n                g.drawImage(tileSet.getImage(&quot;symbol.$c&quot;), x * tileSet.resolution, tileSet.resolution * tileSet.y, null)\r\n            }\r\n        }\r\n\r\n        g.dispose()\r\n\r\n        return img\r\n    }\r\n}\r\n\r\n    //Located in a different class, called once during startup. It also subject to a @CompileStatic\r\n    void startTimer() {\r\n        timer = new java.util.Timer()\r\n        int period = config.getInt(&quot;framePeriod&quot;)\r\n        boolean fixed = config.getBoolean(&quot;frameFixedRate&quot;)\r\n        if (fixed) {\r\n            timer.scheduleAtFixedRate(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    activeWindow?.frame?.repaint()\r\n                }\r\n            }, period, period)\r\n        } else {\r\n            timer.schedule(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    activeWindow?.frame?.repaint()\r\n                }\r\n            }, period, period)\r\n        }\r\n    }\r\n```\r\n\r\nI can provide more code/info if needed, but I didn&#39;t want to clog this up by essentially posting the entire program. It seems exceedingly likely the issue is somewhere here, probably in paint() or getTestImage() (or the JVM).\r\n\r\nWindows 7 64-bit  \r\n16GB RAM, no pagefile  \r\nSDK 1.8.0_25 (issue also confirmed with 13.0.1)  \r\nGroovy 2.5.8  \r\nI use IntelliJ IDEA, but the issue also occurs if I build a .jar and run it independently.\r\n\r\nEDIT:\r\newramner has pointed out that I should call flush() on (or reuse) the VolatileImages, so I&#39;ve accepted that as the solution. I&#39;d still be interested if anyone could explain *why* the GC doesn&#39;t act earlier, though, especially if it leads to the JVM crashing with an OOME.","title":"JVM: Non-heap memory causes OutOfMemoryError because the Garbage Collector is not run. What am I doing wrong?","body":"<p>I've encountered a weird issue where the Groovy application I'm working on grows to consume more memory (far beyond the limits of the xmx-argument, so it can't be the heap) until the computer runs out of RAM, at which point the JVM behaves in one of two different ways - it either suddenly frees (almost) all the memory it has taken, or it crashes with an OutOfMemoryError. This problem can be avoided by regularly calling System.gc().</p>\n<p>What seems to happen to me is, despite allocating more and more memory, the JVM does not call the Garbage Collector. It is not clear whether it always (tries to) call it once the computer runs out of RAM and only sometimes succeeds, or whether it sometimes throws an OOME without calling the GC (even though that would violate the specifications). It might be interesting to note that the ResourceMonitor does <em>not</em> report the java.exe instance commiting more memory (it stays at ~500MB), but the commit charge goes up all the same.</p>\n<p>The only thing I'm doing while this is going on is to have a Timer start a new thread every 33ms to call a repaint() of a JComponent. I have heard that each new thread is allocated some memory outside the heap, so I suspect that the issue may be that that memory is never collected, but I could be wrong (I really feel out of my depth here, TBH).</p>\n<p>I could obviously solve things by just having a Timer invoke System.gc() regularly (though no less often than once every few seconds), but that seems very bad practice to me, and I'm honestly hoping that there is something I'm doing wrong, rather than this being some weird issue with the JVM.</p>\n<p>The only code I'm running at the time is the one below (I've removed some comments and some logging to the console). There is, of course, a whole bunch more code, but the only thing active is, as mentioned, the Timer calling repaint().</p>\n<pre><code>//snip: package and imports\n    \n@groovy.transform.CompileStatic\nclass MapWindow extends BasicWindow {\n//BasicWindow provides a constructor that stores its two arguments as windowX and windowY (and set dimensions accordingly) and creates and stores a basic frame\n//It also overrides setVisible() to call frame.setVisibile() as well. It does nothing else.\n\n    int xPos\n    int yPos\n\n    MapWindow(int x, int y) {\n        super(x, y)\n        frame.setTitle(&quot;EFG&quot;)\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)\n        frame.pack()\n    }\n\n    @Override\n    public void paint(Graphics gA) {\n        VolatileImage img = createVolatileImage(windowX, windowY)\n        Graphics2D g = (Graphics2D) img.getGraphics()\n\n        VolatileImage tmp = getTestImage()\n\n        g.drawImage(tmp, 0, 0, null)\n        g.dispose()\n        gA.drawImage(img, 0, 0, windowX, windowY, null)\n\n        if (Game.game.rnd.nextInt(100) == 0) {\n            //System.gc()  &lt;--If I uncomment this, things work\n        }\n    }\n\n    VolatileImage getTestImage() {\n        VolatileImage img = createVolatileImage(windowX, windowY)\n        Graphics2D g = img.createGraphics()\n\n        for (int x = 0; x &lt; tileSet.x; x++) {\n            for (int y = 0; y &lt; tileSet.y; y++) {\n                g.drawImage(tileSet.images[x][y], x * tileSet.resolution, y * tileSet.resolution, null)\n            }\n        }\n\n        char[] msg = &quot;test complete&quot;.toCharArray()\n        for (int x = 0; x &lt; msg.length; x++) {\n            char c = msg[x]\n            if (!c.isWhitespace()) {\n                g.drawImage(tileSet.getImage(&quot;symbol.$c&quot;), x * tileSet.resolution, tileSet.resolution * tileSet.y, null)\n            }\n        }\n\n        g.dispose()\n\n        return img\n    }\n}\n\n    //Located in a different class, called once during startup. It also subject to a @CompileStatic\n    void startTimer() {\n        timer = new java.util.Timer()\n        int period = config.getInt(&quot;framePeriod&quot;)\n        boolean fixed = config.getBoolean(&quot;frameFixedRate&quot;)\n        if (fixed) {\n            timer.scheduleAtFixedRate(new TimerTask() {\n                @Override\n                public void run() {\n                    activeWindow?.frame?.repaint()\n                }\n            }, period, period)\n        } else {\n            timer.schedule(new TimerTask() {\n                @Override\n                public void run() {\n                    activeWindow?.frame?.repaint()\n                }\n            }, period, period)\n        }\n    }\n</code></pre>\n<p>I can provide more code/info if needed, but I didn't want to clog this up by essentially posting the entire program. It seems exceedingly likely the issue is somewhere here, probably in paint() or getTestImage() (or the JVM).</p>\n<p>Windows 7 64-bit<br />\n16GB RAM, no pagefile<br />\nSDK 1.8.0_25 (issue also confirmed with 13.0.1)<br />\nGroovy 2.5.8<br />\nI use IntelliJ IDEA, but the issue also occurs if I build a .jar and run it independently.</p>\n<p>EDIT:\newramner has pointed out that I should call flush() on (or reuse) the VolatileImages, so I've accepted that as the solution. I'd still be interested if anyone could explain <em>why</em> the GC doesn't act earlier, though, especially if it leads to the JVM crashing with an OOME.</p>\n"},{"tags":["java","swing","svg","save","save-as"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652821658,"post_id":72280560,"comment_id":127698322,"body_markdown":"There&#39;s no inbuilt support, but several 3rd party libraries exist, for example, [The Apache™ Batik Project](https://xmlgraphics.apache.org/batik/using/swing.html) and [JFreeSVG](https://github.com/jfree/jfreesvg)","body":"There&#39;s no inbuilt support, but several 3rd party libraries exist, for example, <a href=\"https://xmlgraphics.apache.org/batik/using/swing.html\" rel=\"nofollow noreferrer\">The Apache™ Batik Project</a> and <a href=\"https://github.com/jfree/jfreesvg\" rel=\"nofollow noreferrer\">JFreeSVG</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1652827026,"post_id":72280560,"comment_id":127699555,"body_markdown":"*Never* write an empty `catch` block.  At the very least, call the caught exception’s `printStackTrace()` method.","body":"<i>Never</i> write an empty <code>catch</code> block.  At the very least, call the caught exception’s <code>printStackTrace()</code> method."}],"owner":{"account_id":24137454,"reputation":1,"user_id":18104144,"display_name":"Sule26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652820762,"creation_date":1652820762,"question_id":72280560,"body_markdown":"```java\r\ntry {\r\n            FileInputStream f = new FileInputStream(&quot;proj.bin&quot;);\r\n            ObjectInputStream o = new ObjectInputStream(f);\r\n            this.FigureList = (ArrayList&lt;Figure&gt;) o.readObject();\r\n            o.close();\r\n        } catch (Exception x) {\r\n        }\r\n\r\nthis.addWindowListener(\r\n                new WindowAdapter() {\r\n                    public void windowClosing(WindowEvent e) {\r\n                        try {\r\n                            FileOutputStream f = new FileOutputStream(&quot;proj.bin&quot;);\r\n                            ObjectOutputStream o = new ObjectOutputStream(f);\r\n                            o.writeObject(FigureList);\r\n                            o.flush();\r\n                            o.close();\r\n                        } catch (Exception x) {\r\n                        }\r\n                        System.exit(0);\r\n                    }\r\n                });\r\n```\r\n\r\nI&#39;ve been using this code to save the infos of my panel(Figure position, color and those kind of things), so whenever I run the code again, there will be things already there. Can save it as SVG and use this svg file in others apps? I&#39;ve tried to change &quot;.bin&quot; for &quot;.svg&quot; but it seems it&#39;s not that easy.\r\n\r\n[You can see my whole code here](https://github.com/Sule26/LP-II/tree/main/Projeto)","title":"Java Swing - Save infos of the figures as SVG","body":"<pre class=\"lang-java prettyprint-override\"><code>try {\n            FileInputStream f = new FileInputStream(&quot;proj.bin&quot;);\n            ObjectInputStream o = new ObjectInputStream(f);\n            this.FigureList = (ArrayList&lt;Figure&gt;) o.readObject();\n            o.close();\n        } catch (Exception x) {\n        }\n\nthis.addWindowListener(\n                new WindowAdapter() {\n                    public void windowClosing(WindowEvent e) {\n                        try {\n                            FileOutputStream f = new FileOutputStream(&quot;proj.bin&quot;);\n                            ObjectOutputStream o = new ObjectOutputStream(f);\n                            o.writeObject(FigureList);\n                            o.flush();\n                            o.close();\n                        } catch (Exception x) {\n                        }\n                        System.exit(0);\n                    }\n                });\n</code></pre>\n<p>I've been using this code to save the infos of my panel(Figure position, color and those kind of things), so whenever I run the code again, there will be things already there. Can save it as SVG and use this svg file in others apps? I've tried to change &quot;.bin&quot; for &quot;.svg&quot; but it seems it's not that easy.</p>\n<p><a href=\"https://github.com/Sule26/LP-II/tree/main/Projeto\" rel=\"nofollow noreferrer\">You can see my whole code here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25314962,"reputation":61,"user_id":19137217,"display_name":"inspectorconfusion"},"score":0,"creation_date":1652808981,"post_id":72278196,"comment_id":127694489,"body_markdown":"are you missing a return statement at the end?","body":"are you missing a return statement at the end?"},{"owner":{"account_id":25316336,"reputation":1,"user_id":19138394,"display_name":"Abdullah B"},"score":0,"creation_date":1652809377,"post_id":72278196,"comment_id":127694622,"body_markdown":"@inspectorconfusion no this is just a snapshot of the method, the whole method has its required return statements","body":"@inspectorconfusion no this is just a snapshot of the method, the whole method has its required return statements"}],"answers":[{"tags":[],"owner":{"account_id":25314962,"reputation":61,"user_id":19137217,"display_name":"inspectorconfusion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652820350,"creation_date":1652818824,"answer_id":72280206,"question_id":72278196,"body_markdown":"### 1. Check if valid space\r\nThe first if checks if it is a valid space, if not it will return false and as a result ending the loop.\r\n\r\n### 2. Check for floating piece\r\nYou can then check if they are valid\r\n\r\nat the end you have ```i--;```\r\nDo you need to do this?\r\n\r\n```i++```\r\nOr\r\n```i--```\r\nOr nether of them? Because you already increment for every nested if.\r\n\r\n### Debuging\r\nTo help debug your code try printing **i**  with ```System.out.println(i);```Notice what happens to it.\r\nIs the loop creating an infinite loop?\r\n\r\n### Example\r\nI created the array as:\r\n\r\n    char[][] connect4Board = {{&#39;R&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;},{&#39;T&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;},{&#39;R&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;},{&#39;R&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;,&#39;.&#39;}};\r\n\r\nCould it possibly be how the counter **i** is incremented?\r\nThis works for me..\r\n\r\n        boolean arrayCheck = false;\r\n        do {\r\n            for (int j = 0; j &lt; connect4Board.length; j++) {\r\n                for (int i = 0; i &lt; connect4Board.length - 1; i++) {\r\n                    \r\n                    /*1. Check if valid space*/\r\n                    if ((connect4Board[i][j] != &#39;R&#39;) &amp;&amp; (connect4Board[i][j] != &#39;Y&#39;) &amp;&amp; (connect4Board[i][j] != &#39;.&#39;))\r\n                        return arrayCheck;\r\n    \r\n                    /*2. Check for floating piece*/\r\n                    if ((connect4Board[i][j] == &#39;R&#39;) || (connect4Board[i][j] == &#39;Y&#39;))\r\n                        if ((connect4Board[i + 1][j] == &#39;.&#39;) || (connect4Board[i + 1][j] == 0))\r\n                            return arrayCheck; \r\n                        else if ((connect4Board[i + 1][j] == &#39;R&#39;) || (connect4Board[i + 1][j] == &#39;Y&#39;))\r\n                            i++;\r\n                    \r\n                    if ((connect4Board[i][j] == &#39;.&#39;) || (connect4Board[i][j] == 0))\r\n                        if ((connect4Board[i + 1][j] == &#39;R&#39;) || (connect4Board[i + 1][j] == &#39;Y&#39;) || connect4Board[i + 1][j] == &#39;.&#39; || (connect4Board[i + 1][j] == 0))\r\n                            i++;\r\n                        else\r\n                            return arrayCheck;\r\n    \r\n                //Do you need to increment?\r\n                // i++; Or i--;\r\n                }\r\n                j++;\r\n            }\r\n        } while (arrayCheck);\r\n    \r\n        return true;\r\n    }\r\n\r\n\r\n","title":"the code works all well until the last else if statement (with the != &#39;R&#39; etc.) when i run the code to test that statement, the code fails to function","body":"<h3>1. Check if valid space</h3>\n<p>The first if checks if it is a valid space, if not it will return false and as a result ending the loop.</p>\n<h3>2. Check for floating piece</h3>\n<p>You can then check if they are valid</p>\n<p>at the end you have <code>i--;</code>\nDo you need to do this?</p>\n<p><code>i++</code>\nOr\n<code>i--</code>\nOr nether of them? Because you already increment for every nested if.</p>\n<h3>Debuging</h3>\n<p>To help debug your code try printing <strong>i</strong>  with <code>System.out.println(i);</code>Notice what happens to it.\nIs the loop creating an infinite loop?</p>\n<h3>Example</h3>\n<p>I created the array as:</p>\n<pre><code>char[][] connect4Board = {{'R','.','.','.','.'},{'T','.','.','.','.'},{'R','.','.','.','.'},{'R','.','.','.','.'}};\n</code></pre>\n<p>Could it possibly be how the counter <strong>i</strong> is incremented?\nThis works for me..</p>\n<pre><code>    boolean arrayCheck = false;\n    do {\n        for (int j = 0; j &lt; connect4Board.length; j++) {\n            for (int i = 0; i &lt; connect4Board.length - 1; i++) {\n                \n                /*1. Check if valid space*/\n                if ((connect4Board[i][j] != 'R') &amp;&amp; (connect4Board[i][j] != 'Y') &amp;&amp; (connect4Board[i][j] != '.'))\n                    return arrayCheck;\n\n                /*2. Check for floating piece*/\n                if ((connect4Board[i][j] == 'R') || (connect4Board[i][j] == 'Y'))\n                    if ((connect4Board[i + 1][j] == '.') || (connect4Board[i + 1][j] == 0))\n                        return arrayCheck; \n                    else if ((connect4Board[i + 1][j] == 'R') || (connect4Board[i + 1][j] == 'Y'))\n                        i++;\n                \n                if ((connect4Board[i][j] == '.') || (connect4Board[i][j] == 0))\n                    if ((connect4Board[i + 1][j] == 'R') || (connect4Board[i + 1][j] == 'Y') || connect4Board[i + 1][j] == '.' || (connect4Board[i + 1][j] == 0))\n                        i++;\n                    else\n                        return arrayCheck;\n\n            //Do you need to increment?\n            // i++; Or i--;\n            }\n            j++;\n        }\n    } while (arrayCheck);\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":25316336,"reputation":1,"user_id":19138394,"display_name":"Abdullah B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652819151,"answer_count":1,"score":-1,"last_activity_date":1652820350,"creation_date":1652807766,"question_id":72278196,"body_markdown":"making a connect4 game, so this is just some part of the logic - no floating pieces, no invalid letters (pieces - only R and Y acceptable) &#39;.&#39; represents an empty gap.\r\n      \r\n    boolean arrayCheck = false;\r\n        do {\r\n        \tfor (int j = 0; j &lt; connect4Board[0].length; j++) {\r\n        \t\tfor (int i = 0; i &lt; connect4Board.length - 1; i++) {\r\n        \t\t\tif ((connect4Board[i][j] == &#39;R&#39;) || (connect4Board[i][j] == &#39;Y&#39;)) {\r\n        \t\t\t\tif ((connect4Board[i + 1][j] == &#39;.&#39;) || (connect4Board[i + 1][j] == 0)) {\r\n        \t\t\t\t\treturn arrayCheck; //makes sure a gap underneath is not present and seen as a floating piece\r\n        \t\t\t } \r\n                        else if ((connect4Board[i + 1][j] == &#39;R&#39;) || (connect4Board[i + 1][j] == &#39;Y&#39;)) {\r\n        \t\t\t\t\t\t\ti++;\r\n        \t\t\t\t}\r\n        \t\t\t} \r\n        \t\t    else if ((connect4Board[i][j] == &#39;.&#39;) || (connect4Board[i][j] == 0)) {\r\n        \t\t\t    if ((connect4Board[i + 1][j] == &#39;R&#39;) || (connect4Board[i + 1][j] == &#39;Y&#39;) || connect4Board[i + 1][j] == &#39;.&#39; || (connect4Board[i + 1][j] == 0)) {\r\n        \t\t\t\t\ti++;\r\n        \t\t\t}   else {\r\n        \t\t\t\t\treturn arrayCheck;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t        else if((connect4Board[i][j] != &#39;R&#39;) &amp;&amp; (connect4Board[i][j] != &#39;Y&#39;) &amp;&amp; (connect4Board[i][j] != &#39;.&#39;)) {\r\n        \t\t\t\treturn arrayCheck; //where it all goes wrong. code bugs out and doesn&#39;t output anything (should output true or false) but the console just stays empty.\r\n        \t\t}\r\n        \t\ti--;\r\n        \t}\r\n        \tj++;\r\n        \t}\r\n        } while (arrayCheck);\r\nI don&#39;t know whether the problem is because of the do-while loop, or the if statement itself. I&#39;ve tried to put the if statement at the beginning of the loop, outside the loop, and at the end but the problem seems to be the same regardless of where I put it. the console just remains blank (stays running without continuing with any other actions). What should I do? ","title":"the code works all well until the last else if statement (with the != &#39;R&#39; etc.) when i run the code to test that statement, the code fails to function","body":"<p>making a connect4 game, so this is just some part of the logic - no floating pieces, no invalid letters (pieces - only R and Y acceptable) '.' represents an empty gap.</p>\n<pre><code>boolean arrayCheck = false;\n    do {\n        for (int j = 0; j &lt; connect4Board[0].length; j++) {\n            for (int i = 0; i &lt; connect4Board.length - 1; i++) {\n                if ((connect4Board[i][j] == 'R') || (connect4Board[i][j] == 'Y')) {\n                    if ((connect4Board[i + 1][j] == '.') || (connect4Board[i + 1][j] == 0)) {\n                        return arrayCheck; //makes sure a gap underneath is not present and seen as a floating piece\n                 } \n                    else if ((connect4Board[i + 1][j] == 'R') || (connect4Board[i + 1][j] == 'Y')) {\n                                i++;\n                    }\n                } \n                else if ((connect4Board[i][j] == '.') || (connect4Board[i][j] == 0)) {\n                    if ((connect4Board[i + 1][j] == 'R') || (connect4Board[i + 1][j] == 'Y') || connect4Board[i + 1][j] == '.' || (connect4Board[i + 1][j] == 0)) {\n                        i++;\n                }   else {\n                        return arrayCheck;\n                    }\n                }\n                else if((connect4Board[i][j] != 'R') &amp;&amp; (connect4Board[i][j] != 'Y') &amp;&amp; (connect4Board[i][j] != '.')) {\n                    return arrayCheck; //where it all goes wrong. code bugs out and doesn't output anything (should output true or false) but the console just stays empty.\n            }\n            i--;\n        }\n        j++;\n        }\n    } while (arrayCheck);\n</code></pre>\n<p>I don't know whether the problem is because of the do-while loop, or the if statement itself. I've tried to put the if statement at the beginning of the loop, outside the loop, and at the end but the problem seems to be the same regardless of where I put it. the console just remains blank (stays running without continuing with any other actions). What should I do?</p>\n"},{"tags":["java","postgresql","spring-boot","postman"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1652795920,"post_id":72275341,"comment_id":127689491,"body_markdown":"then there should be a entry in your server log with the details","body":"then there should be a entry in your server log with the details"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1652796708,"post_id":72275341,"comment_id":127689843,"body_markdown":"What is this 500 about? Can you post the actual error message?","body":"What is this 500 about? Can you post the actual error message?"},{"owner":{"account_id":14286585,"reputation":19,"user_id":10319807,"display_name":"Ronin7"},"score":0,"creation_date":1652797044,"post_id":72275341,"comment_id":127689991,"body_markdown":"@SveKamenska the error is 500 Internal Server Error","body":"@SveKamenska the error is 500 Internal Server Error"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1652798798,"post_id":72275341,"comment_id":127690701,"body_markdown":"@Ronin7, I can see that :) I mean, the actual error which you can find in your backend logs","body":"@Ronin7, I can see that :) I mean, the actual error which you can find in your backend logs"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":1,"creation_date":1652798896,"post_id":72275341,"comment_id":127690747,"body_markdown":"Now it can be anything, it even does not necesseraly related to the date issue. The time you see in the response - is just the default format of showing server-error, it shows time when error happened","body":"Now it can be anything, it even does not necesseraly related to the date issue. The time you see in the response - is just the default format of showing server-error, it shows time when error happened"}],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652820288,"creation_date":1652820288,"answer_id":72280486,"question_id":72275341,"body_markdown":"You said:\r\nin the Postgres database the data type for jamMulai, jamSelesai, and **tglTayang** is **time** without time zone and date.\r\n\r\nWhy do you define:\r\n\r\n    @Column(name = &quot;tgl_tayang&quot;,columnDefinition = &quot;DATE&quot;)\r\n    private LocalDate tglTayang;\r\n\r\nShouldn&#39;t it be:\r\n\r\n    @Column(name = &quot;tgl_tayang&quot;,columnDefinition = &quot;TIME&quot;)\r\n    private LocalTime tglTayang;\r\n?\r\n","title":"How to send Time and Date value from Postman to my REST API","body":"<p>You said:\nin the Postgres database the data type for jamMulai, jamSelesai, and <strong>tglTayang</strong> is <strong>time</strong> without time zone and date.</p>\n<p>Why do you define:</p>\n<pre><code>@Column(name = &quot;tgl_tayang&quot;,columnDefinition = &quot;DATE&quot;)\nprivate LocalDate tglTayang;\n</code></pre>\n<p>Shouldn't it be:</p>\n<pre><code>@Column(name = &quot;tgl_tayang&quot;,columnDefinition = &quot;TIME&quot;)\nprivate LocalTime tglTayang;\n</code></pre>\n<p>?</p>\n"}],"owner":{"account_id":14286585,"reputation":19,"user_id":10319807,"display_name":"Ronin7"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652820288,"creation_date":1652795764,"question_id":72275341,"body_markdown":"I have a Schedules class as a Table in postgres with jamMulai, jamSelesai variable with a LocalTime data type, and tglTayang variable with a LocalDate variable\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Table(name = &quot;schedules&quot;)\r\n    public class Schedules implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(columnDefinition = &quot;serial&quot;)\r\n        private Long scheduleId;\r\n    \r\n    \r\n        @Column(name = &quot;tgl_tayang&quot;,columnDefinition = &quot;DATE&quot;)\r\n        private LocalDate tglTayang;\r\n    \r\n    \r\n        @Column(name = &quot;jam_mulai&quot;,columnDefinition = &quot;TIME&quot;)\r\n        private LocalTime jamMulai;\r\n    \r\n    \r\n        @Column(name = &quot;jam_selesai&quot; ,columnDefinition = &quot;TIME&quot;)\r\n        private LocalTime jamSelesai;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;film_id&quot;)\r\n        private Films filmId;\r\n\r\nThis is my service method for the Schedules class\r\n\r\n    @Override\r\n        public void saveSchedule(String jamMulai, String jamSelesai, String tglTayang, Long filmId) {\r\n            Schedules schedules = new Schedules();\r\n            schedules.setJamMulai(LocalTime.parse(jamMulai));\r\n            schedules.setJamSelesai(LocalTime.parse(jamSelesai));\r\n            schedules.setTglTayang(LocalDate.parse(tglTayang));\r\n            Films films = filmsService.findFilmById(filmId);\r\n            schedules.setFilmId(films);\r\n            schedulesRepository.save(schedules);\r\n    \r\n        }\r\n\r\nand this is my controller method \r\n \r\n\r\n    @PostMapping(&quot;/admin/add-schedule&quot;)\r\n        public String addSchedule(@RequestBody Map&lt;String, Object&gt; schedule) {\r\n            schedulesService.saveSchedule((String) schedule.get(&quot;jamMulai&quot;), (String) schedule.get(&quot;jamSelesai&quot;), (String) schedule.get(&quot;tglTayang&quot;), (Long) schedule.get(&quot;filmId&quot;));\r\n            return &quot;Add Films Success!&quot;;\r\n        }\r\n\r\nin the Postgres database the data type for jamMulai, jamSelesai, and tglTayang is time without time zone and date.\r\n\r\nBut when I try to request Post using Postman\r\n\r\n    {   \r\n        &quot;jamMulai&quot;:&quot;20:00:00&quot;,\r\n        &quot;jamSelesai&quot;:&quot;23:00:00&quot;,\r\n        &quot;tglTayang&quot;:&quot;2020-05-12&quot;,\r\n        &quot;filmId&quot;:2\r\n    }\r\nI get \r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-05-17T13:41:52.771+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;path&quot;: &quot;/cinema/schedules/admin/add-schedule&quot;\r\n    }\r\nI&#39;ve tried changing the data type in Schedules class to a different time and date but it still doesn&#39;t work.\r\n\r\nHow can I fix this?\r\nThanks\r\n\r\nps: I know there&#39;s a similar question to this, but it doesn&#39;t solve my issue","title":"How to send Time and Date value from Postman to my REST API","body":"<p>I have a Schedules class as a Table in postgres with jamMulai, jamSelesai variable with a LocalTime data type, and tglTayang variable with a LocalDate variable</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;schedules&quot;)\npublic class Schedules implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(columnDefinition = &quot;serial&quot;)\n    private Long scheduleId;\n\n\n    @Column(name = &quot;tgl_tayang&quot;,columnDefinition = &quot;DATE&quot;)\n    private LocalDate tglTayang;\n\n\n    @Column(name = &quot;jam_mulai&quot;,columnDefinition = &quot;TIME&quot;)\n    private LocalTime jamMulai;\n\n\n    @Column(name = &quot;jam_selesai&quot; ,columnDefinition = &quot;TIME&quot;)\n    private LocalTime jamSelesai;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;film_id&quot;)\n    private Films filmId;\n</code></pre>\n<p>This is my service method for the Schedules class</p>\n<pre><code>@Override\n    public void saveSchedule(String jamMulai, String jamSelesai, String tglTayang, Long filmId) {\n        Schedules schedules = new Schedules();\n        schedules.setJamMulai(LocalTime.parse(jamMulai));\n        schedules.setJamSelesai(LocalTime.parse(jamSelesai));\n        schedules.setTglTayang(LocalDate.parse(tglTayang));\n        Films films = filmsService.findFilmById(filmId);\n        schedules.setFilmId(films);\n        schedulesRepository.save(schedules);\n\n    }\n</code></pre>\n<p>and this is my controller method</p>\n<pre><code>@PostMapping(&quot;/admin/add-schedule&quot;)\n    public String addSchedule(@RequestBody Map&lt;String, Object&gt; schedule) {\n        schedulesService.saveSchedule((String) schedule.get(&quot;jamMulai&quot;), (String) schedule.get(&quot;jamSelesai&quot;), (String) schedule.get(&quot;tglTayang&quot;), (Long) schedule.get(&quot;filmId&quot;));\n        return &quot;Add Films Success!&quot;;\n    }\n</code></pre>\n<p>in the Postgres database the data type for jamMulai, jamSelesai, and tglTayang is time without time zone and date.</p>\n<p>But when I try to request Post using Postman</p>\n<pre><code>{   \n    &quot;jamMulai&quot;:&quot;20:00:00&quot;,\n    &quot;jamSelesai&quot;:&quot;23:00:00&quot;,\n    &quot;tglTayang&quot;:&quot;2020-05-12&quot;,\n    &quot;filmId&quot;:2\n}\n</code></pre>\n<p>I get</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-05-17T13:41:52.771+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/cinema/schedules/admin/add-schedule&quot;\n}\n</code></pre>\n<p>I've tried changing the data type in Schedules class to a different time and date but it still doesn't work.</p>\n<p>How can I fix this?\nThanks</p>\n<p>ps: I know there's a similar question to this, but it doesn't solve my issue</p>\n"},{"tags":["java","file","kotlin","copy"],"answers":[{"tags":[],"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652779192,"creation_date":1652779192,"answer_id":72271367,"question_id":72270081,"body_markdown":"This is an extremely broad question and doesn&#39;t really have anything to do with java or kotlin, the behavior of file system operations in case of failure is purely platform-dependent. Not to mention the answer would also be influenced by what kind of failure you&#39;re trying to protect from, what level of safety guarantees you want, etc.\r\n\r\nThat being said 2. will be less safe in most situations as it is (*in general*) more likely to lead to corruption of A. Either renaming A or removing it and then renaming P is usually gonna be &#39;safer&#39; since there is less chance of an intermediate state on common filesystems, since no changes are made to the data itself due to the way most common filesystems handle that operation.\r\n\r\nBut again, this is not the right place for this question and should at the very least be asked in regards to your filesystem and operating system and with a more specific failure model in mind.","title":"A safest way to replace an important file: copyTo vs rename vs... in Java/Kotlin","body":"<p>This is an extremely broad question and doesn't really have anything to do with java or kotlin, the behavior of file system operations in case of failure is purely platform-dependent. Not to mention the answer would also be influenced by what kind of failure you're trying to protect from, what level of safety guarantees you want, etc.</p>\n<p>That being said 2. will be less safe in most situations as it is (<em>in general</em>) more likely to lead to corruption of A. Either renaming A or removing it and then renaming P is usually gonna be 'safer' since there is less chance of an intermediate state on common filesystems, since no changes are made to the data itself due to the way most common filesystems handle that operation.</p>\n<p>But again, this is not the right place for this question and should at the very least be asked in regards to your filesystem and operating system and with a more specific failure model in mind.</p>\n"},{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652819835,"creation_date":1652819835,"answer_id":72280416,"question_id":72270081,"body_markdown":"I think the key word you&#39;re aiming for here is **atomic**. That means that this needs to be an all-or-nothing action: either it should all succeed (the old file is removed and the new one renamed into its place), or nothing should change (and the program can safely retry or report failure or whatever without losing any data).\r\n\r\nGuaranteeing atomicity is a hard problem (especially in the face of power outage, hardware failure, &amp;c), but hardware and OSs and filesystems (and database servers and other systems) have come a long way and many of them can do it in all but the most extreme conditions.\r\n\r\nIt&#39;s not something that Kotlin itself can arrange. But **the Java stdlib _does_ provide an atomic move** (if the platform supports it), and so if you&#39;re using Kotlin/JVM you can call [`Files.move()`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-) and provide both the [`REPLACE_EXISTING`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/StandardCopyOption.html#REPLACE_EXISTING) and [`ATOMIC_MOVE`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/StandardCopyOption.html#ATOMIC_MOVE) options.\r\n\r\n(If that can&#39;t guarantee atomicity, it will throw an [`AtomicMoveNotSupportedException`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/AtomicMoveNotSupportedException.html), and you can either give up, or fall back to a less-safe approach if needed.)\r\n\r\nI think this is probably the best you can reasonably do in Kotlin (without investing in native code, or expensive software or hardware).\r\n\r\nSee [this question](/questions/22529645/atomically-move-and-rename-a-path-instance), and in particular [this answer](/a/22529755/10134209) from which the above call was shamelessly cribbed. And [this question](/questions/57869565/kotlin-how-to-move-a-file-to-a-other-directory) also mentions its use in Kotlin.","title":"A safest way to replace an important file: copyTo vs rename vs... in Java/Kotlin","body":"<p>I think the key word you're aiming for here is <strong>atomic</strong>. That means that this needs to be an all-or-nothing action: either it should all succeed (the old file is removed and the new one renamed into its place), or nothing should change (and the program can safely retry or report failure or whatever without losing any data).</p>\n<p>Guaranteeing atomicity is a hard problem (especially in the face of power outage, hardware failure, &amp;c), but hardware and OSs and filesystems (and database servers and other systems) have come a long way and many of them can do it in all but the most extreme conditions.</p>\n<p>It's not something that Kotlin itself can arrange. But <strong>the Java stdlib <em>does</em> provide an atomic move</strong> (if the platform supports it), and so if you're using Kotlin/JVM you can call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\"><code>Files.move()</code></a> and provide both the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/StandardCopyOption.html#REPLACE_EXISTING\" rel=\"nofollow noreferrer\"><code>REPLACE_EXISTING</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/StandardCopyOption.html#ATOMIC_MOVE\" rel=\"nofollow noreferrer\"><code>ATOMIC_MOVE</code></a> options.</p>\n<p>(If that can't guarantee atomicity, it will throw an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/AtomicMoveNotSupportedException.html\" rel=\"nofollow noreferrer\"><code>AtomicMoveNotSupportedException</code></a>, and you can either give up, or fall back to a less-safe approach if needed.)</p>\n<p>I think this is probably the best you can reasonably do in Kotlin (without investing in native code, or expensive software or hardware).</p>\n<p>See <a href=\"/questions/22529645/atomically-move-and-rename-a-path-instance\">this question</a>, and in particular <a href=\"/a/22529755/10134209\">this answer</a> from which the above call was shamelessly cribbed. And <a href=\"/questions/57869565/kotlin-how-to-move-a-file-to-a-other-directory\">this question</a> also mentions its use in Kotlin.</p>\n"}],"owner":{"account_id":1634981,"reputation":7135,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652819835,"creation_date":1652773804,"question_id":72270081,"body_markdown":"My app needs to update(replace) a very important file A from a pending one P.\r\nThere are several ways to do it, such as:\r\n\r\n 1. Remove A and [Rename][1] P to A\r\n 2. [CopyTo][2] A with overwrite option\r\n 3. ...\r\n\r\nIs there a way that is less error-prone in several situations, including power failure of the device? \r\nThanks,\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/copy-to.html","title":"A safest way to replace an important file: copyTo vs rename vs... in Java/Kotlin","body":"<p>My app needs to update(replace) a very important file A from a pending one P.\nThere are several ways to do it, such as:</p>\n<ol>\n<li>Remove A and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">Rename</a> P to A</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/copy-to.html\" rel=\"nofollow noreferrer\">CopyTo</a> A with overwrite option</li>\n<li>...</li>\n</ol>\n<p>Is there a way that is less error-prone in several situations, including power failure of the device?\nThanks,</p>\n"},{"tags":["java","android","android-lifecycle"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1652819267,"post_id":72280178,"comment_id":127697676,"body_markdown":"Is your `connVPN` method calling `registerForActivityResult`? Did you [read the guide](https://developer.android.com/training/basics/intents/result) that specifically mentions that you need to register ahead of time, just like the error message says you need to do?","body":"Is your <code>connVPN</code> method calling <code>registerForActivityResult</code>? Did you <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">read the guide</a> that specifically mentions that you need to register ahead of time, just like the error message says you need to do?"},{"owner":{"display_name":"user13405941"},"score":0,"creation_date":1652856546,"post_id":72280178,"comment_id":127704485,"body_markdown":"I indeed read the error message and the guide, however I did not consider it applicable for my use case since I have no Intent but just need to call a function, without opening anything. So when implementing it, I get an ActivityNotFoundException which I cannot fix because it would break my code beyond fixing, at least from what I know right now.","body":"I indeed read the error message and the guide, however I did not consider it applicable for my use case since I have no Intent but just need to call a function, without opening anything. So when implementing it, I get an ActivityNotFoundException which I cannot fix because it would break my code beyond fixing, at least from what I know right now."}],"owner":{"display_name":"user13405941"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3379,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1652819614,"creation_date":1652818690,"question_id":72280178,"body_markdown":"I tried finding a solution to this issue but only found Kotlin solutions, so I figured I might ask here.\r\nMy current setup is this (in MainActivity.java):\r\n\r\n```java\r\nonCreate() {\r\n// blabla\r\nlist1 = (ListView) findViewById(R.id.serverbrowser);\r\n        list1.setOnItemClickListener(\r\n                new AdapterView.OnItemClickListener()\r\n                {\r\n                    @Override\r\n                    public void onItemClick(AdapterView&lt;?&gt; arg0, View view,\r\n                                            int position, long id) {\r\n\r\n                        connVPN(position);\r\n\r\n                    }\r\n                }\r\n        );\r\n}\r\n\r\nvoid connVPN(int position){\r\n // Do some server connection stuff\r\n}\r\n```\r\n\r\nMy exact issue is this:\r\n\r\n```java.lang.IllegalStateException: LifecycleOwner com.dev.app.MainActivity@6afc93f is attempting to register while current state is RESUMED. LifecycleOwners must call register before they are STARTED.```\r\n\r\nSo, what should I do? I tried putting the code into a different class to no avail, also tried putting just the handling code inside another class to select it in the activity.xml file (which would be my favourite way of doing this), but that didn&#39;t work either.\r\n\r\nThanks!","title":"LifecycleOwner abc is attempting to register while current state is RESUMED. LifecycleOwners must call register before they are STARTED","body":"<p>I tried finding a solution to this issue but only found Kotlin solutions, so I figured I might ask here.\nMy current setup is this (in MainActivity.java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>onCreate() {\n// blabla\nlist1 = (ListView) findViewById(R.id.serverbrowser);\n        list1.setOnItemClickListener(\n                new AdapterView.OnItemClickListener()\n                {\n                    @Override\n                    public void onItemClick(AdapterView&lt;?&gt; arg0, View view,\n                                            int position, long id) {\n\n                        connVPN(position);\n\n                    }\n                }\n        );\n}\n\nvoid connVPN(int position){\n // Do some server connection stuff\n}\n</code></pre>\n<p>My exact issue is this:</p>\n<p><code>java.lang.IllegalStateException: LifecycleOwner com.dev.app.MainActivity@6afc93f is attempting to register while current state is RESUMED. LifecycleOwners must call register before they are STARTED.</code></p>\n<p>So, what should I do? I tried putting the code into a different class to no avail, also tried putting just the handling code inside another class to select it in the activity.xml file (which would be my favourite way of doing this), but that didn't work either.</p>\n<p>Thanks!</p>\n"},{"tags":["java","algorithm","computer-science"],"comments":[{"owner":{"account_id":3596675,"reputation":3616,"user_id":3001150,"accept_rate":57,"display_name":"Raildex"},"score":7,"creation_date":1642965008,"post_id":70825513,"comment_id":125208399,"body_markdown":"use floats or fixed point for your positions, not integers","body":"use floats or fixed point for your positions, not integers"},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":2,"creation_date":1642965167,"post_id":70825513,"comment_id":125208439,"body_markdown":"How are you with differential algebra?","body":"How are you with differential algebra?"},{"owner":{"account_id":7833985,"reputation":768,"user_id":5922854,"display_name":"Shahriar"},"score":0,"creation_date":1642965714,"post_id":70825513,"comment_id":125208580,"body_markdown":"In order to get help with your environment and `0.01` velocity, you will have to explain how you implement your environment. To get smooth changes, you can resist changes to speed and/or velocity using momentum. I have only seen it being used in Adam optimizer in AI but I&#39;m sure it has physics basis. I&#39;m not that familiar with physics so I have explained it the way I know how. I&#39;m sure you can find the physics explanation If you search a bit.","body":"In order to get help with your environment and <code>0.01</code> velocity, you will have to explain how you implement your environment. To get smooth changes, you can resist changes to speed and/or velocity using momentum. I have only seen it being used in Adam optimizer in AI but I&#39;m sure it has physics basis. I&#39;m not that familiar with physics so I have explained it the way I know how. I&#39;m sure you can find the physics explanation If you search a bit."},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1642967487,"post_id":70825513,"comment_id":125209075,"body_markdown":"@Raildex It&#39;s a 2d array of elements so the resulting positions must be integers. E.g. Element[][]. This is needed so I can make quick calculations for checking what the surrounding elements etc are.","body":"@Raildex It&#39;s a 2d array of elements so the resulting positions must be integers. E.g. Element[][]. This is needed so I can make quick calculations for checking what the surrounding elements etc are."},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1642967663,"post_id":70825513,"comment_id":125209110,"body_markdown":"I&#39;ve added a general structure to my question.","body":"I&#39;ve added a general structure to my question."},{"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"score":0,"creation_date":1642968025,"post_id":70825513,"comment_id":125209196,"body_markdown":"Algorithms are language independent.  So, you forgot to tag some languages:  Python, C#, Fortran, Basic, Lisp, and Algol.  So don&#39;t spam languages.  You really don&#39;t want to combine Java with C++.","body":"Algorithms are language independent.  So, you forgot to tag some languages:  Python, C#, Fortran, Basic, Lisp, and Algol.  So don&#39;t spam languages.  You really don&#39;t want to combine Java with C++."}],"answers":[{"tags":[],"owner":{"account_id":2182827,"reputation":2385,"user_id":1931929,"accept_rate":62,"display_name":"augustzf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642969430,"creation_date":1642969430,"answer_id":70826246,"question_id":70825513,"body_markdown":"You could store the velocity as floats, and keep the _actual_ positions as floats as well:\r\n\r\n    class Element {\r\n        // Array position\r\n        int x, y; \r\n        \r\n        // actual position\r\n        float fx, fy;\r\n        \r\n        // velocity\r\n        float vx, vy;\r\n        \r\n        public Element(int x, int y){\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        \r\n        public void setVelocity(float vx, float vy) {\r\n            this.vx = vx;\r\n            this.vy = vy;\r\n        }\r\n        \r\n        public void move() {\r\n            // apply velocity\r\n            this.fx += this.vx;\r\n            this.fy += this.vy;\r\n            \r\n            // place position in integer matrix\r\n            this.x = (int) fx;\r\n            this.y = (int) fy;\r\n        }\r\n    }\r\n    \r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            Element e = new Element(10, 10);\r\n            e.setVelocity(0.1f, 0.2f);\r\n          \r\n            for (int step =0; step &lt; 100; step++) {\r\n                e.move();    \r\n                System.out.println(String.format(&quot;Step: %d x: %d y: %d&quot;, step, e.x, e.y));\r\n            }\r\n        }\r\n    }","title":"How to simulate velocity in a falling sand game?","body":"<p>You could store the velocity as floats, and keep the <em>actual</em> positions as floats as well:</p>\n<pre><code>class Element {\n    // Array position\n    int x, y; \n    \n    // actual position\n    float fx, fy;\n    \n    // velocity\n    float vx, vy;\n    \n    public Element(int x, int y){\n        this.x = x;\n        this.y = y;\n    }\n    \n    public void setVelocity(float vx, float vy) {\n        this.vx = vx;\n        this.vy = vy;\n    }\n    \n    public void move() {\n        // apply velocity\n        this.fx += this.vx;\n        this.fy += this.vy;\n        \n        // place position in integer matrix\n        this.x = (int) fx;\n        this.y = (int) fy;\n    }\n}\n\npublic class Test {\n    public static void main(String args[]) {\n        Element e = new Element(10, 10);\n        e.setVelocity(0.1f, 0.2f);\n      \n        for (int step =0; step &lt; 100; step++) {\n            e.move();    \n            System.out.println(String.format(&quot;Step: %d x: %d y: %d&quot;, step, e.x, e.y));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2687950,"reputation":103,"user_id":2321930,"accept_rate":83,"display_name":"mye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652819557,"creation_date":1652819557,"answer_id":72280351,"question_id":70825513,"body_markdown":"I&#39;m working on a sand game myself. I think we can just create a new `element` type `particle` (besides `sand` and `water`) which can have velocity and direction.\r\n\r\n`sand` can turn into a `particle` when certain conditions are met, for example, when it got blew by wind or spashed by other entities. `particles` will travel in the grid using its own logic. Again, when certain conditions are met, such as hitting something, the `particle` turns back to `sand`.\r\n\r\nLet me know how it works out!","title":"How to simulate velocity in a falling sand game?","body":"<p>I'm working on a sand game myself. I think we can just create a new <code>element</code> type <code>particle</code> (besides <code>sand</code> and <code>water</code>) which can have velocity and direction.</p>\n<p><code>sand</code> can turn into a <code>particle</code> when certain conditions are met, for example, when it got blew by wind or spashed by other entities. <code>particles</code> will travel in the grid using its own logic. Again, when certain conditions are met, such as hitting something, the <code>particle</code> turns back to <code>sand</code>.</p>\n<p>Let me know how it works out!</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652819557,"creation_date":1642964003,"question_id":70825513,"body_markdown":"I&#39;m creating a falling sand game and would like to implement velocity so elements can travel in different directions at varying speeds. Games such as Noita use this and it smoothens out the movement of the elements.     \r\n\r\nI have a 2d array and shift the elements around the 2d array to move them. \r\n\r\nI&#39;ve looked around and I can&#39;t find anything on this. I&#39;ve gotten so far using line calculations but I&#39;m curious as to the best method of handling this. \r\n\r\nAnother thing to consider is that if the velocity is small I still want to slowly move the elements. However if the velocity is 0.01 then it will always round down to zero and never move the element to another position. \r\n\r\nMy elements are stored in a 2d array so the calculated positions must always be integers. \r\n\r\n**Array**\r\n```\r\nElement[] elements = new Element[1000][1000];\r\n```\r\n\r\n**Element**\r\n```\r\nclass Element {\r\n    // Array position\r\n    int x, y; \r\n\r\n    Vector2 velocity = new Vector2();\r\n\r\n    public Element(int x, int y){\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nHow can I implement velocity in a falling sand game?","title":"How to simulate velocity in a falling sand game?","body":"<p>I'm creating a falling sand game and would like to implement velocity so elements can travel in different directions at varying speeds. Games such as Noita use this and it smoothens out the movement of the elements.</p>\n<p>I have a 2d array and shift the elements around the 2d array to move them.</p>\n<p>I've looked around and I can't find anything on this. I've gotten so far using line calculations but I'm curious as to the best method of handling this.</p>\n<p>Another thing to consider is that if the velocity is small I still want to slowly move the elements. However if the velocity is 0.01 then it will always round down to zero and never move the element to another position.</p>\n<p>My elements are stored in a 2d array so the calculated positions must always be integers.</p>\n<p><strong>Array</strong></p>\n<pre><code>Element[] elements = new Element[1000][1000];\n</code></pre>\n<p><strong>Element</strong></p>\n<pre><code>class Element {\n    // Array position\n    int x, y; \n\n    Vector2 velocity = new Vector2();\n\n    public Element(int x, int y){\n        this.x = x;\n        this.y = y;\n    }\n    ...\n}\n</code></pre>\n<p>How can I implement velocity in a falling sand game?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","nullpointerexception"],"comments":[{"owner":{"account_id":2435705,"reputation":133,"user_id":2125673,"accept_rate":55,"display_name":"Codexing"},"score":0,"creation_date":1652829899,"post_id":72279175,"comment_id":127700087,"body_markdown":"The solution worked but I had another problem with mapping that got solved following this solution. https://stackoverflow.com/questions/8230309/jpa-mapping-querysyntaxexception-foobar-is-not-mapped","body":"The solution worked but I had another problem with mapping that got solved following this solution. <a href=\"https://stackoverflow.com/questions/8230309/jpa-mapping-querysyntaxexception-foobar-is-not-mapped\" title=\"jpa mapping querysyntaxexception foobar is not mapped\">stackoverflow.com/questions/8230309/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652814253,"creation_date":1652814253,"answer_id":72279410,"question_id":72279175,"body_markdown":"First what you need to add is `@SpringBootApplication` to the main class. Second - `SpringApplication.run(Demo1.class, args);` at the first line of main(executable) method. And also, don&#39;t forget to add `@Service` to the service class of your application.","title":"Java Spring Boot JPA - Throws NullPointer Exception when saving to database","body":"<p>First what you need to add is <code>@SpringBootApplication</code> to the main class. Second - <code>SpringApplication.run(Demo1.class, args);</code> at the first line of main(executable) method. And also, don't forget to add <code>@Service</code> to the service class of your application.</p>\n"},{"tags":[],"owner":{"account_id":5523655,"reputation":92,"user_id":4385849,"display_name":"asafb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652814893,"creation_date":1652814457,"answer_id":72279457,"question_id":72279175,"body_markdown":"1.you should add a `@Component` / `@Service` above `CategoryService` \r\n\r\n2.you are not starting spring boot app correctly . you should do this instead of `Demo1`:\r\n\r\n    package library;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class AccessingDataJpaApplication {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(AccessingDataJpaApplication.class, args);\r\n      }\r\n    \r\n    }\r\n\r\nmore on this can be found in https://spring.io/guides/gs/accessing-data-jpa/\r\n\r\nanswering your question directly , the reason your are getting NPE is because `categoryDao` in `CategoryService` is null , since you are not starting spring boot correctly.\r\n\r\nP.S\r\n\r\nyou should note that having your app class (`AccessingDataJpaApplication `) in a package &quot;higher&quot; in the hierarchy(`library` package) then the rest of your components will make this work out of the book , otherwise you will have to mention the correct packages in the `@SpringBootApplication` annotation\r\n","title":"Java Spring Boot JPA - Throws NullPointer Exception when saving to database","body":"<p>1.you should add a <code>@Component</code> / <code>@Service</code> above <code>CategoryService</code></p>\n<p>2.you are not starting spring boot app correctly . you should do this instead of <code>Demo1</code>:</p>\n<pre><code>package library;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AccessingDataJpaApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(AccessingDataJpaApplication.class, args);\n  }\n\n}\n</code></pre>\n<p>more on this can be found in <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-jpa/</a></p>\n<p>answering your question directly , the reason your are getting NPE is because <code>categoryDao</code> in <code>CategoryService</code> is null , since you are not starting spring boot correctly.</p>\n<p>P.S</p>\n<p>you should note that having your app class (<code>AccessingDataJpaApplication </code>) in a package &quot;higher&quot; in the hierarchy(<code>library</code> package) then the rest of your components will make this work out of the book , otherwise you will have to mention the correct packages in the <code>@SpringBootApplication</code> annotation</p>\n"},{"tags":[],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652819412,"creation_date":1652819412,"answer_id":72280316,"question_id":72279175,"body_markdown":"Your DAO class has incorrect parameter name `categoryName`. It should be `category_name`. And also use `saveAndFlush()` rather than just `save()`\r\n\r\n**CategoryDao.java**\r\n```\r\npackage library.dao;\r\n\r\nimport library.domain.Category;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Modifying;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\n\r\n\r\npublic interface CategoryDao extends JpaRepository&lt;Category, Long&gt; {\r\n    default Category findByIdOrThrow(Long id) {\r\n        return findById(id).orElseThrow();\r\n    }\r\n    \r\n    @Modifying\r\n    @Query(&quot;DELETE FROM category WHERE name = :category_name &quot;)\r\n    public void deleteCategoryByName(@Param(&quot;category_name&quot;) String categoryName);\r\n}\r\n\r\n```","title":"Java Spring Boot JPA - Throws NullPointer Exception when saving to database","body":"<p>Your DAO class has incorrect parameter name <code>categoryName</code>. It should be <code>category_name</code>. And also use <code>saveAndFlush()</code> rather than just <code>save()</code></p>\n<p><strong>CategoryDao.java</strong></p>\n<pre><code>package library.dao;\n\nimport library.domain.Category;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\n\npublic interface CategoryDao extends JpaRepository&lt;Category, Long&gt; {\n    default Category findByIdOrThrow(Long id) {\n        return findById(id).orElseThrow();\n    }\n    \n    @Modifying\n    @Query(&quot;DELETE FROM category WHERE name = :category_name &quot;)\n    public void deleteCategoryByName(@Param(&quot;category_name&quot;) String categoryName);\n}\n\n</code></pre>\n"}],"owner":{"account_id":2435705,"reputation":133,"user_id":2125673,"accept_rate":55,"display_name":"Codexing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72279457,"answer_count":3,"score":0,"last_activity_date":1652819412,"creation_date":1652812955,"question_id":72279175,"body_markdown":"I&#39;m making a small application using Spring Boot (and hibernate). I&#39;ve encountered a strange problem while making this app, when I use my DAO object to save an object I&#39;ve created to the database. It throws a null pointer exception and I haven&#39;t managed to figure out why, I&#39;ve checked the usual suspect (DI) but I am using the annotation @autowired so it should work. I&#39;m nearly tearing my hair out, maybe you&#39;ll see what it is that I&#39;ve missed, thank you?\r\n\r\nEDIT: I&#39;ve followed the instructions posted by . and ., and it works but only if I comment out my deleteCategoryByName method. I&#39;ve made some changes below, I&#39;ve renamed the Demo1 class to LibraryApplication instead. I now get the error: \r\n\r\n    ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;categoryService&#39;: Unsatisfied dependency expressed through field &#39;categoryDao&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;categoryDao&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract java.lang.Void consid.programmeringstest.library.dao.CategoryDao.deleteCategoryByName(java.lang.String) but parameter &#39;Optional[categoryName]&#39; not found in annotated query &#39;DELETE FROM category WHERE name = :category_name &#39;!\r\n\r\nMy code\r\n\r\nThe DAO-class\r\n\r\n    package library.dao;\r\n    \r\n    import library.domain.Category;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    \r\n    \r\n    public interface CategoryDao extends JpaRepository&lt;Category, Long&gt; {\r\n        default Category findByIdOrThrow(Long id) {\r\n            return findById(id).orElseThrow();\r\n        }\r\n        \r\n        @Modifying\r\n        @Query(&quot;DELETE FROM category WHERE name = :category_name &quot;)\r\n        public void deleteCategoryByName(@Param(&quot;categoryName&quot;) String categoryName);\r\n    }\r\n\r\nThe Domain-class\r\n\r\n    package library.domain;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Category implements Serializable {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String categoryName;\r\n        \r\n        public Category() {\r\n        }\r\n        \r\n        public Category(String name) {\r\n            this.categoryName = name;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getCategoryName() {\r\n            return categoryName;\r\n        }\r\n    \r\n        public void setCategoryName(String name) {\r\n            this.categoryName = name;\r\n        }\r\n        \r\n    }\r\n\r\nThe Service-class\r\n\r\n    package library.service;\r\n    \r\n    import library.dao.CategoryDao;\r\n    import library.domain.Category;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    \r\n    public class CategoryService {\r\n        \r\n        @Autowired\r\n        private CategoryDao categoryDao;\r\n        \r\n        public Category createCategory() {\r\n            Category result = new Category();\r\n            return categoryDao.save(result);\r\n        }\r\n        \r\n        public Category createCategory(String name) {\r\n            Category result = new Category(name);\r\n            return categoryDao.save(result);\r\n        }\r\n        \r\n        public void deleteCategoryByName(String name) {\r\n            categoryDao.deleteCategoryByName(name);\r\n        }\r\n        \r\n    }\r\n\r\n    package library;\r\n    \r\n    import library.dao.CategoryDao;\r\n    import library.domain.Category;\r\n    import library.service.CategoryService;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    public class LibraryApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(LibraryApplication.class, args);\r\n        }\r\n        \r\n      @Bean\r\n      public CommandLineRunner demo(CategoryDao categoryDao) {\r\n        return (args) -&gt; {\r\n            categoryDao.save(new Category(&quot;Test&quot;));\r\n            Category category = categoryDao.findByIdOrThrow(1);\r\n            System.out.println(category.getCategoryName());\r\n        };\r\n      }\r\n    }\r\n\r\nPicture of the table and column.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fQ4xR.jpg","title":"Java Spring Boot JPA - Throws NullPointer Exception when saving to database","body":"<p>I'm making a small application using Spring Boot (and hibernate). I've encountered a strange problem while making this app, when I use my DAO object to save an object I've created to the database. It throws a null pointer exception and I haven't managed to figure out why, I've checked the usual suspect (DI) but I am using the annotation @autowired so it should work. I'm nearly tearing my hair out, maybe you'll see what it is that I've missed, thank you?</p>\n<p>EDIT: I've followed the instructions posted by . and ., and it works but only if I comment out my deleteCategoryByName method. I've made some changes below, I've renamed the Demo1 class to LibraryApplication instead. I now get the error:</p>\n<pre><code>ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryService': Unsatisfied dependency expressed through field 'categoryDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryDao': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract java.lang.Void consid.programmeringstest.library.dao.CategoryDao.deleteCategoryByName(java.lang.String) but parameter 'Optional[categoryName]' not found in annotated query 'DELETE FROM category WHERE name = :category_name '!\n</code></pre>\n<p>My code</p>\n<p>The DAO-class</p>\n<pre><code>package library.dao;\n\nimport library.domain.Category;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\n\npublic interface CategoryDao extends JpaRepository&lt;Category, Long&gt; {\n    default Category findByIdOrThrow(Long id) {\n        return findById(id).orElseThrow();\n    }\n    \n    @Modifying\n    @Query(&quot;DELETE FROM category WHERE name = :category_name &quot;)\n    public void deleteCategoryByName(@Param(&quot;categoryName&quot;) String categoryName);\n}\n</code></pre>\n<p>The Domain-class</p>\n<pre><code>package library.domain;\n\nimport java.io.Serializable;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Category implements Serializable {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String categoryName;\n    \n    public Category() {\n    }\n    \n    public Category(String name) {\n        this.categoryName = name;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getCategoryName() {\n        return categoryName;\n    }\n\n    public void setCategoryName(String name) {\n        this.categoryName = name;\n    }\n    \n}\n</code></pre>\n<p>The Service-class</p>\n<pre><code>package library.service;\n\nimport library.dao.CategoryDao;\nimport library.domain.Category;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n\npublic class CategoryService {\n    \n    @Autowired\n    private CategoryDao categoryDao;\n    \n    public Category createCategory() {\n        Category result = new Category();\n        return categoryDao.save(result);\n    }\n    \n    public Category createCategory(String name) {\n        Category result = new Category(name);\n        return categoryDao.save(result);\n    }\n    \n    public void deleteCategoryByName(String name) {\n        categoryDao.deleteCategoryByName(name);\n    }\n    \n}\n\npackage library;\n\nimport library.dao.CategoryDao;\nimport library.domain.Category;\nimport library.service.CategoryService;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\n@EnableAutoConfiguration\npublic class LibraryApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(LibraryApplication.class, args);\n    }\n    \n  @Bean\n  public CommandLineRunner demo(CategoryDao categoryDao) {\n    return (args) -&gt; {\n        categoryDao.save(new Category(&quot;Test&quot;));\n        Category category = categoryDao.findByIdOrThrow(1);\n        System.out.println(category.getCategoryName());\n    };\n  }\n}\n</code></pre>\n<p>Picture of the table and column.</p>\n<p><a href=\"https://i.stack.imgur.com/fQ4xR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fQ4xR.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","http","encoding","special-characters","charset"],"comments":[{"owner":{"account_id":2165323,"reputation":17417,"user_id":1918561,"accept_rate":100,"display_name":"Gereon"},"score":0,"creation_date":1648989806,"post_id":71725836,"comment_id":126757507,"body_markdown":"`application/json;charset=iso-8859-1` is invalid, AFAIK. JSON always uses an UTF encoding (8, 16 or 32) - see https://www.rfc-editor.org/rfc/rfc8259","body":"<code>application&#47;json;charset=iso-8859-1</code> is invalid, AFAIK. JSON always uses an UTF encoding (8, 16 or 32) - see <a href=\"https://www.rfc-editor.org/rfc/rfc8259\" rel=\"nofollow noreferrer\">rfc-editor.org/rfc/rfc8259</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1648990991,"post_id":71725836,"comment_id":126757751,"body_markdown":"What encoding is set in that IDE/editor you&#39;re viewing that in?","body":"What encoding is set in that IDE/editor you&#39;re viewing that in?"},{"owner":{"account_id":2708198,"reputation":93,"user_id":2337334,"display_name":"Redouane B."},"score":0,"creation_date":1648991427,"post_id":71725836,"comment_id":126757850,"body_markdown":"@g00se in UTF-8, but the problem is not only on the IDE but even elsewhere (I actually tweet the value and I still have the &lt;?&gt; problem)","body":"@g00se in UTF-8, but the problem is not only on the IDE but even elsewhere (I actually tweet the value and I still have the &lt;?&gt; problem)"},{"owner":{"account_id":2708198,"reputation":93,"user_id":2337334,"display_name":"Redouane B."},"score":0,"creation_date":1648991693,"post_id":71725836,"comment_id":126757911,"body_markdown":"@Gereon just updated the encoding to `&quot;application/json;charset=UTF-8&quot;` but still the same.","body":"@Gereon just updated the encoding to <code>&quot;application&#47;json;charset=UTF-8&quot;</code> but still the same."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648993225,"post_id":71725836,"comment_id":126758209,"body_markdown":"Might be worth saving it to a file so we can examine it. Might be worth asking whether the the server *already* has it wrong","body":"Might be worth saving it to a file so we can examine it. Might be worth asking whether the the server <i>already</i> has it wrong"},{"owner":{"account_id":2708198,"reputation":93,"user_id":2337334,"display_name":"Redouane B."},"score":0,"creation_date":1648993458,"post_id":71725836,"comment_id":126758270,"body_markdown":"@g00se just tried saving the file and opening it with NotePadd++, encoding is UTF-8 but the problem is the same one.","body":"@g00se just tried saving the file and opening it with NotePadd++, encoding is UTF-8 but the problem is the same one."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648993686,"post_id":71725836,"comment_id":126758327,"body_markdown":"Can we see it? How do you know it&#39;s not like that at the server?","body":"Can we see it? How do you know it&#39;s not like that at the server?"},{"owner":{"account_id":2708198,"reputation":93,"user_id":2337334,"display_name":"Redouane B."},"score":0,"creation_date":1648993932,"post_id":71725836,"comment_id":126758386,"body_markdown":"@g00se just added the screenshot in the initial post.\nWhen I call the API through postman, the answer is OK. From my browser using http://localhost:8080/ , the API response is also correct.","body":"@g00se just added the screenshot in the initial post. When I call the API through postman, the answer is OK. From my browser using <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a> , the API response is also correct."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1648994091,"post_id":71725836,"comment_id":126758432,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/243558/discussion-between-g00se-and-redouane-b).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/243558/discussion-between-g00se-and-redouane-b\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648997726,"creation_date":1648997726,"answer_id":71727001,"question_id":71725836,"body_markdown":"You need to read it as ISO-8859-1. Not sure what then as I don&#39;t know what you&#39;re doing. My https://technojeeves.com/index.php/aliasjava1/51-transcode-in-java is helpful. With wget:\r\n`wget -O - us-central1-dz-dialect-api.cl… | xcode -ie Latin1` (I made &#39;xcode&#39; to invoke that Java app)","title":"french accents giving &quot;&lt;?&gt;&quot; in http responses with correct charset (Java)","body":"<p>You need to read it as ISO-8859-1. Not sure what then as I don't know what you're doing. My <a href=\"https://technojeeves.com/index.php/aliasjava1/51-transcode-in-java\" rel=\"nofollow noreferrer\">https://technojeeves.com/index.php/aliasjava1/51-transcode-in-java</a> is helpful. With wget:\n<code>wget -O - us-central1-dz-dialect-api.cl… | xcode -ie Latin1</code> (I made 'xcode' to invoke that Java app)</p>\n"},{"tags":[],"owner":{"account_id":2708198,"reputation":93,"user_id":2337334,"display_name":"Redouane B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652819118,"creation_date":1652819118,"answer_id":72280270,"question_id":71725836,"body_markdown":"Problem solved using the following code : \r\n      \r\n```\r\n      httpResponse.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n      mapper.getFactory().configure(JsonGenerator.Feature.ESCAPE_NON_ASCII, true);\r\n```","title":"french accents giving &quot;&lt;?&gt;&quot; in http responses with correct charset (Java)","body":"<p>Problem solved using the following code :</p>\n<pre><code>      httpResponse.setContentType(&quot;application/json;charset=UTF-8&quot;);\n      mapper.getFactory().configure(JsonGenerator.Feature.ESCAPE_NON_ASCII, true);\n</code></pre>\n"}],"owner":{"account_id":2708198,"reputation":93,"user_id":2337334,"display_name":"Redouane B."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72280270,"answer_count":2,"score":1,"last_activity_date":1652819118,"creation_date":1648988401,"question_id":71725836,"body_markdown":"Calling an API that returns french sentences, all the accented characters are displayed like `&lt;?&gt;` in my java code, even if the charset is well defined (application/json;charset=iso-8859-1). \r\n\r\nUsing postman or my web browser, I don&#39;t face any problem.\r\nI also tried to call the API with a `Content-Type` header with the value `application/json;charset=UTF-8` or `application/json;charset=iso-8859-1` but the problem remains the same.\r\nAny idea ?\r\n\r\n`response.getBody()` gives:\r\n```\r\n{&quot;sentences&quot;:[{&quot;fr_value&quot;:&quot;il �tait loin&quot;,&quot;dz_value&quot;:&quot;kaan b3id&quot;,&quot;additional_information&quot;:{&quot;personal_prounoun&quot;:&quot;HE&quot;,&quot;verb&quot;:&quot;�tre&quot;,&quot;adjective&quot;:&quot;loin&quot;,&quot;tense&quot;:&quot;pass�&quot;}}],&quot;count&quot;:1}\r\n```\r\n`new String(response.getBody().getBytes(StandardCharsets.UTF_8))` gives exactly the same.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m using scribejava.\r\n\r\nEdit: even saving the response in a file and opening it with NotePad++, the result is similar:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ywouC.png\r\n  [2]: https://i.stack.imgur.com/OJxuf.png","title":"french accents giving &quot;&lt;?&gt;&quot; in http responses with correct charset (Java)","body":"<p>Calling an API that returns french sentences, all the accented characters are displayed like <code>&lt;?&gt;</code> in my java code, even if the charset is well defined (application/json;charset=iso-8859-1).</p>\n<p>Using postman or my web browser, I don't face any problem.\nI also tried to call the API with a <code>Content-Type</code> header with the value <code>application/json;charset=UTF-8</code> or <code>application/json;charset=iso-8859-1</code> but the problem remains the same.\nAny idea ?</p>\n<p><code>response.getBody()</code> gives:</p>\n<pre><code>{&quot;sentences&quot;:[{&quot;fr_value&quot;:&quot;il �tait loin&quot;,&quot;dz_value&quot;:&quot;kaan b3id&quot;,&quot;additional_information&quot;:{&quot;personal_prounoun&quot;:&quot;HE&quot;,&quot;verb&quot;:&quot;�tre&quot;,&quot;adjective&quot;:&quot;loin&quot;,&quot;tense&quot;:&quot;pass�&quot;}}],&quot;count&quot;:1}\n</code></pre>\n<p><code>new String(response.getBody().getBytes(StandardCharsets.UTF_8))</code> gives exactly the same.</p>\n<p><a href=\"https://i.stack.imgur.com/ywouC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ywouC.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using scribejava.</p>\n<p>Edit: even saving the response in a file and opening it with NotePad++, the result is similar:\n<a href=\"https://i.stack.imgur.com/OJxuf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OJxuf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","networking","tcp","udp"],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652819072,"creation_date":1652818111,"answer_id":72280084,"question_id":72279261,"body_markdown":"There&#39;s no reason to reallocate both the `DatagramPacket` and `receive` buffer on every iteration/receipt of a packet - they can be reused.  So implement `server` loop as in (partial).\r\n\r\nNote also the `serverUDP.receive` is a blocking receive so the use of a `sleep` in the server loop seems unnecessary - add a rationale to post if still thinking it is needed.\r\n\r\n    serverUDP = new DatagramSocket(udp);\r\n    byte[] receive = new byte[48];\r\n    DatagramPacket DpReceive = new DatagramPacket(receive, receive.length);\r\n    long used1;\r\n \r\n    while(true)\r\n    {\r\n        serverUDP.receive(DpReceive);\r\n\r\n        tankData = data(receive).toString();\r\n        game.setReceiveData(tankData);\r\n\r\n        // This seems unnecessary given the receive is a blocking read...explain?           \r\n        Thread.sleep(1000/tickrate);\r\n    }\r\n\r\nAlso, in your `data` method your `StringBuilder` does not need reallocating - it can be reset/reused using `setLength(0)`.  So make a class static variable &#39;StringBuilder sb = new StringBuffer();` and modify your data method to:\r\n\r\n    sb.setLength(0);  // rather than `new StringBuilder()`.  \r\n\r\nSimilar on the client side - you can reuse the `DatagramPacket` - in this case you&#39;d call `setData` when processing new `byte[]` on each iteration.","title":"One side of network connection using too much RAM in java","body":"<p>There's no reason to reallocate both the <code>DatagramPacket</code> and <code>receive</code> buffer on every iteration/receipt of a packet - they can be reused.  So implement <code>server</code> loop as in (partial).</p>\n<p>Note also the <code>serverUDP.receive</code> is a blocking receive so the use of a <code>sleep</code> in the server loop seems unnecessary - add a rationale to post if still thinking it is needed.</p>\n<pre><code>serverUDP = new DatagramSocket(udp);\nbyte[] receive = new byte[48];\nDatagramPacket DpReceive = new DatagramPacket(receive, receive.length);\nlong used1;\n\nwhile(true)\n{\n    serverUDP.receive(DpReceive);\n\n    tankData = data(receive).toString();\n    game.setReceiveData(tankData);\n\n    // This seems unnecessary given the receive is a blocking read...explain?           \n    Thread.sleep(1000/tickrate);\n}\n</code></pre>\n<p>Also, in your <code>data</code> method your <code>StringBuilder</code> does not need reallocating - it can be reset/reused using <code>setLength(0)</code>.  So make a class static variable 'StringBuilder sb = new StringBuffer();` and modify your data method to:</p>\n<pre><code>sb.setLength(0);  // rather than `new StringBuilder()`.  \n</code></pre>\n<p>Similar on the client side - you can reuse the <code>DatagramPacket</code> - in this case you'd call <code>setData</code> when processing new <code>byte[]</code> on each iteration.</p>\n"}],"owner":{"account_id":5570414,"reputation":1,"user_id":4415968,"display_name":"XtremeDude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1652819072,"creation_date":1652813334,"question_id":72279261,"body_markdown":"I&#39;m trying to make a game that uses a client and a host to send and receive game data. The issue is that the host-side uses significantly more RAM than the client-side and I can&#39;t seem to figure out why. The code uses two threads to run a client and server TCP socket to establish a connection, then uses the information found to send position and mouse information using UDP. If anybody can find any memory leaks, that would be greatly appreciated. Thank you!\r\n\r\n    import java.net.*;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.BufferedReader;\r\n    import java.io.PrintWriter;\r\n    import java.awt.PointerInfo;\r\n    import java.awt.MouseInfo;\r\n    import java.awt.Point;\r\n    \r\n    /**\r\n     * Adds networking functionality to the game\r\n     *\r\n     * @author James Xiao\r\n     * @version 1\r\n     */\r\n    public class GameNetwork\r\n    {\r\n        //TODO more modularity methods:\r\n        // - Get and Set UDP messages\r\n        private DatagramSocket clientUDP, serverUDP; //UDP client and server socket\r\n        \r\n        private ServerSocket socket; //TCP server socket\r\n        private Socket clientSocket; //TCP client socket\r\n        private BufferedReader in; //TCP in reader\r\n        private PrintWriter out; //TCP out writer\r\n        private DatagramPacket DpSend;\r\n        private int tickrate; //Tickrate of the network\r\n        \r\n        private InetAddress remoteIP; //Remote IP Address\r\n        \r\n        private GameInfo game; //GameInfo that the GameNetwork communicates with\r\n        \r\n        private int type; //Game type, 0 for host, 1 for client\r\n        private String tankData; //data for tank\r\n        private int tcp, udp; //TCP and UDP ports\r\n        private int tankX, tankY, mouseX, mouseY, rTankX, rTankY, rMouseX, rMouseY; //Tank and mouse coordinates, WILL CHANGE LATER NOT MODULAR\r\n    \r\n        /**\r\n         * Constructor for the game network\r\n         * @param t Game type, 0 is host, 1 is client\r\n         * @param g GameInfo that this links to\r\n         * @param tcpport Port for TCP communication\r\n         * @param udpport Port for UDP communication\r\n         */\r\n        public GameNetwork(int t, GameInfo g, int tcpport, int udpport)\r\n        {\r\n            game = g;\r\n            type=t;\r\n            tickrate = 64;\r\n            tcp = tcpport;\r\n            udp = udpport;\r\n            System.out.println(&quot;Created type &quot;+type+&quot; Network with ports &quot;+tcpport+&quot; and &quot;+udpport);\r\n        }\r\n    \r\n        /**\r\n         * Constructor for the game network\r\n         * @param t Game type, 0 is host, 1 is client\r\n         * @param g GameInfo that this links to\r\n         * @param tcpport Port for TCP communication\r\n         * @param udpport Port for UDP communication\r\n         * @param ip String representation of IP\r\n         * @throws UnknownHostException\r\n         */\r\n        public GameNetwork(int t, GameInfo g, int tcpport, int udpport, String ip) throws UnknownHostException {\r\n            game = g;\r\n            type=t;\r\n            tickrate = 64;\r\n            tcp = tcpport;\r\n            udp = udpport;\r\n            remoteIP = InetAddress.getByName(ip);\r\n            System.out.println(&quot;Created type &quot;+type+&quot; Network with ports&quot;+tcpport+&quot; and &quot;+udpport+&quot; and IP &quot;+ip);\r\n        }\r\n    \r\n        /**\r\n         * Starts the game network server\r\n         * @throws InterruptedException\r\n         * @throws IOException\r\n         */\r\n        public void server() throws InterruptedException, IOException {\r\n            synchronized(this) //Synchronizes to make sure that the Host client-side receives IP\r\n            {\r\n                System.out.println(&quot;Server synchronized stage started.&quot;);\r\n                if(type==0)\r\n                {\r\n                    System.out.println(&quot;Host TCP sequence started.&quot;);\r\n                    socket = new ServerSocket(tcp); //Creates TCP server socket with port defined in constructor\r\n                    clientSocket = socket.accept(); //Creates client socket from server socket\r\n                    System.out.println(&quot;Host TCP network started.&quot;);\r\n    \r\n                    out = new PrintWriter(clientSocket.getOutputStream(), true); //creates TCP output\r\n                    in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); //creates TCP input\r\n    \r\n                    System.out.println(&quot;Host waiting for IP...&quot;);\r\n                    remoteIP = InetAddress.getByName(in.readLine()); //Receives IP\r\n                    System.out.println(&quot;Host received IP. Host waiting for remote player name...&quot;);\r\n                    game.setRName(in.readLine()); //Receives remote name\r\n                    System.out.println(&quot;Host received remote player name. Host sent local player name.&quot;);\r\n                    out.println(game.getName()); //Sends local name\r\n                    \r\n                    System.out.println(game.getRName()+&quot; connected to local host with IP &quot;+remoteIP+&quot;.&quot;);\r\n                    game.setClientFound(true); //used for gameframe\r\n                    notify(); //Notifys client thread that IP has been found\r\n                }\r\n            }\r\n            serverUDP = new DatagramSocket(udp);\r\n            byte[] receive = new byte[48];\r\n            DatagramPacket DpReceive = null;\r\n            long used1;\r\n            while(true)\r\n            {\r\n                DpReceive = new DatagramPacket(receive, receive.length);\r\n    \r\n                serverUDP.receive(DpReceive);\r\n    \r\n                tankData = data(receive).toString();\r\n    \r\n                game.setReceiveData(tankData);\r\n                \r\n                receive = new byte[48];\r\n        \r\n                Thread.sleep(1000/tickrate);\r\n            }\r\n            \r\n        }\r\n        \r\n        public void client() throws IOException,InterruptedException\r\n        {\r\n            synchronized(this) //Synchronized to make sure that host receives IP\r\n            {\r\n                if(type==1)\r\n                {\r\n                    System.out.println(&quot;Client TCP sequence started.&quot;);\r\n                    clientSocket= new Socket(remoteIP, tcp);\r\n                    out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                    in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                    System.out.println(&quot;Client TCP network started.&quot;);\r\n                    \r\n                    out.println(clientSocket.getLocalAddress().getHostAddress());                \r\n                    out.println(game.getName());\r\n                    System.out.println(&quot;Client sent IP and local player name. Waiting for remote player name...&quot;);\r\n                    \r\n                    game.setRName(in.readLine());\r\n                    System.out.println(&quot;Client received remote player name.&quot;);\r\n                    \r\n                    System.out.println(&quot;Local client connected to &quot;+game.getRName()+&quot; with IP &quot;+remoteIP+&quot;.&quot;);\r\n                }\r\n                else if(type==0)\r\n                {\r\n                    System.out.println(&quot;Client thread waiting to receive IP&quot;);\r\n                    wait(); //waits for server thread to receive IP\r\n                    game.setClientFound(true);\r\n                    System.out.println(&quot;Client thread received IP.&quot;);\r\n                }\r\n            }\r\n            \r\n            System.out.println(&quot;Client connection made to &quot;+remoteIP);\r\n    \r\n            clientUDP = new DatagramSocket();\r\n            byte buf[] = null;\r\n            while (true)\r\n            {\r\n                /*\r\n                PointerInfo a = MouseInfo.getPointerInfo();\r\n                Point b = a.getLocation();\r\n                mouseX = (int) b.getX();\r\n                mouseY = (int) b.getY();\r\n                tankX = game.getLocalTank().getX();\r\n                tankY = game.getLocalTank().getY();\r\n                */\r\n                //String inp = &quot;mX&quot;+mouseX+&quot;mY&quot;+mouseY+&quot;tX&quot;+tankX+&quot;tY&quot;+tankY;\r\n                // convert the String input into the byte array.\r\n                while(game.getSendData()==null)\r\n                {\r\n                    Thread.sleep(10);\r\n                    System.out.println(&quot;Has not received data to send&quot;);\r\n                }\r\n    \r\n                buf = game.getSendData().getBytes();\r\n                \r\n                DpSend =\r\n                    new DatagramPacket(buf, buf.length, remoteIP, udp);\r\n                \r\n                clientUDP.send(DpSend);\r\n                \r\n                Thread.sleep(1000/tickrate);\r\n            }\r\n        }\r\n        \r\n        public static StringBuilder data(byte[] a)\r\n        {\r\n            if (a == null)\r\n                return null;\r\n            StringBuilder ret = new StringBuilder();\r\n            int i = 0;\r\n            while (a[i] != 0)\r\n            {\r\n                ret.append((char) a[i]);\r\n                i++;\r\n            }\r\n            return ret;\r\n        }\r\n        public String getIP() {\r\n            try {\r\n                return InetAddress.getLocalHost().getHostAddress();\r\n            } catch (UnknownHostException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        private static long memoryUsed() {\r\n            return Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\r\n        }\r\n        public int getTCP() {\r\n            return tcp;\r\n        }\r\n        public int getUDP() {\r\n            return udp;\r\n        }\r\n        public void reset() throws IOException {\r\n            if(socket != null)\r\n                socket.close();\r\n            if(clientSocket != null)\r\n                clientSocket.close();\r\n            if(clientUDP != null)\r\n                clientUDP.close();\r\n            if(serverUDP != null)\r\n                serverUDP.close();\r\n        }\r\n    }\r\n\r\n","title":"One side of network connection using too much RAM in java","body":"<p>I'm trying to make a game that uses a client and a host to send and receive game data. The issue is that the host-side uses significantly more RAM than the client-side and I can't seem to figure out why. The code uses two threads to run a client and server TCP socket to establish a connection, then uses the information found to send position and mouse information using UDP. If anybody can find any memory leaks, that would be greatly appreciated. Thank you!</p>\n<pre><code>import java.net.*;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.BufferedReader;\nimport java.io.PrintWriter;\nimport java.awt.PointerInfo;\nimport java.awt.MouseInfo;\nimport java.awt.Point;\n\n/**\n * Adds networking functionality to the game\n *\n * @author James Xiao\n * @version 1\n */\npublic class GameNetwork\n{\n    //TODO more modularity methods:\n    // - Get and Set UDP messages\n    private DatagramSocket clientUDP, serverUDP; //UDP client and server socket\n    \n    private ServerSocket socket; //TCP server socket\n    private Socket clientSocket; //TCP client socket\n    private BufferedReader in; //TCP in reader\n    private PrintWriter out; //TCP out writer\n    private DatagramPacket DpSend;\n    private int tickrate; //Tickrate of the network\n    \n    private InetAddress remoteIP; //Remote IP Address\n    \n    private GameInfo game; //GameInfo that the GameNetwork communicates with\n    \n    private int type; //Game type, 0 for host, 1 for client\n    private String tankData; //data for tank\n    private int tcp, udp; //TCP and UDP ports\n    private int tankX, tankY, mouseX, mouseY, rTankX, rTankY, rMouseX, rMouseY; //Tank and mouse coordinates, WILL CHANGE LATER NOT MODULAR\n\n    /**\n     * Constructor for the game network\n     * @param t Game type, 0 is host, 1 is client\n     * @param g GameInfo that this links to\n     * @param tcpport Port for TCP communication\n     * @param udpport Port for UDP communication\n     */\n    public GameNetwork(int t, GameInfo g, int tcpport, int udpport)\n    {\n        game = g;\n        type=t;\n        tickrate = 64;\n        tcp = tcpport;\n        udp = udpport;\n        System.out.println(&quot;Created type &quot;+type+&quot; Network with ports &quot;+tcpport+&quot; and &quot;+udpport);\n    }\n\n    /**\n     * Constructor for the game network\n     * @param t Game type, 0 is host, 1 is client\n     * @param g GameInfo that this links to\n     * @param tcpport Port for TCP communication\n     * @param udpport Port for UDP communication\n     * @param ip String representation of IP\n     * @throws UnknownHostException\n     */\n    public GameNetwork(int t, GameInfo g, int tcpport, int udpport, String ip) throws UnknownHostException {\n        game = g;\n        type=t;\n        tickrate = 64;\n        tcp = tcpport;\n        udp = udpport;\n        remoteIP = InetAddress.getByName(ip);\n        System.out.println(&quot;Created type &quot;+type+&quot; Network with ports&quot;+tcpport+&quot; and &quot;+udpport+&quot; and IP &quot;+ip);\n    }\n\n    /**\n     * Starts the game network server\n     * @throws InterruptedException\n     * @throws IOException\n     */\n    public void server() throws InterruptedException, IOException {\n        synchronized(this) //Synchronizes to make sure that the Host client-side receives IP\n        {\n            System.out.println(&quot;Server synchronized stage started.&quot;);\n            if(type==0)\n            {\n                System.out.println(&quot;Host TCP sequence started.&quot;);\n                socket = new ServerSocket(tcp); //Creates TCP server socket with port defined in constructor\n                clientSocket = socket.accept(); //Creates client socket from server socket\n                System.out.println(&quot;Host TCP network started.&quot;);\n\n                out = new PrintWriter(clientSocket.getOutputStream(), true); //creates TCP output\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); //creates TCP input\n\n                System.out.println(&quot;Host waiting for IP...&quot;);\n                remoteIP = InetAddress.getByName(in.readLine()); //Receives IP\n                System.out.println(&quot;Host received IP. Host waiting for remote player name...&quot;);\n                game.setRName(in.readLine()); //Receives remote name\n                System.out.println(&quot;Host received remote player name. Host sent local player name.&quot;);\n                out.println(game.getName()); //Sends local name\n                \n                System.out.println(game.getRName()+&quot; connected to local host with IP &quot;+remoteIP+&quot;.&quot;);\n                game.setClientFound(true); //used for gameframe\n                notify(); //Notifys client thread that IP has been found\n            }\n        }\n        serverUDP = new DatagramSocket(udp);\n        byte[] receive = new byte[48];\n        DatagramPacket DpReceive = null;\n        long used1;\n        while(true)\n        {\n            DpReceive = new DatagramPacket(receive, receive.length);\n\n            serverUDP.receive(DpReceive);\n\n            tankData = data(receive).toString();\n\n            game.setReceiveData(tankData);\n            \n            receive = new byte[48];\n    \n            Thread.sleep(1000/tickrate);\n        }\n        \n    }\n    \n    public void client() throws IOException,InterruptedException\n    {\n        synchronized(this) //Synchronized to make sure that host receives IP\n        {\n            if(type==1)\n            {\n                System.out.println(&quot;Client TCP sequence started.&quot;);\n                clientSocket= new Socket(remoteIP, tcp);\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n                System.out.println(&quot;Client TCP network started.&quot;);\n                \n                out.println(clientSocket.getLocalAddress().getHostAddress());                \n                out.println(game.getName());\n                System.out.println(&quot;Client sent IP and local player name. Waiting for remote player name...&quot;);\n                \n                game.setRName(in.readLine());\n                System.out.println(&quot;Client received remote player name.&quot;);\n                \n                System.out.println(&quot;Local client connected to &quot;+game.getRName()+&quot; with IP &quot;+remoteIP+&quot;.&quot;);\n            }\n            else if(type==0)\n            {\n                System.out.println(&quot;Client thread waiting to receive IP&quot;);\n                wait(); //waits for server thread to receive IP\n                game.setClientFound(true);\n                System.out.println(&quot;Client thread received IP.&quot;);\n            }\n        }\n        \n        System.out.println(&quot;Client connection made to &quot;+remoteIP);\n\n        clientUDP = new DatagramSocket();\n        byte buf[] = null;\n        while (true)\n        {\n            /*\n            PointerInfo a = MouseInfo.getPointerInfo();\n            Point b = a.getLocation();\n            mouseX = (int) b.getX();\n            mouseY = (int) b.getY();\n            tankX = game.getLocalTank().getX();\n            tankY = game.getLocalTank().getY();\n            */\n            //String inp = &quot;mX&quot;+mouseX+&quot;mY&quot;+mouseY+&quot;tX&quot;+tankX+&quot;tY&quot;+tankY;\n            // convert the String input into the byte array.\n            while(game.getSendData()==null)\n            {\n                Thread.sleep(10);\n                System.out.println(&quot;Has not received data to send&quot;);\n            }\n\n            buf = game.getSendData().getBytes();\n            \n            DpSend =\n                new DatagramPacket(buf, buf.length, remoteIP, udp);\n            \n            clientUDP.send(DpSend);\n            \n            Thread.sleep(1000/tickrate);\n        }\n    }\n    \n    public static StringBuilder data(byte[] a)\n    {\n        if (a == null)\n            return null;\n        StringBuilder ret = new StringBuilder();\n        int i = 0;\n        while (a[i] != 0)\n        {\n            ret.append((char) a[i]);\n            i++;\n        }\n        return ret;\n    }\n    public String getIP() {\n        try {\n            return InetAddress.getLocalHost().getHostAddress();\n        } catch (UnknownHostException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    private static long memoryUsed() {\n        return Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\n    }\n    public int getTCP() {\n        return tcp;\n    }\n    public int getUDP() {\n        return udp;\n    }\n    public void reset() throws IOException {\n        if(socket != null)\n            socket.close();\n        if(clientSocket != null)\n            clientSocket.close();\n        if(clientUDP != null)\n            clientUDP.close();\n        if(serverUDP != null)\n            serverUDP.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","cryptography","keystore","keytool"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1652823953,"post_id":72280080,"comment_id":127698939,"body_markdown":"For normal (file/memory) keystores, the genkeypair and CSR signature algorithms need not be and usually aren&#39;t from the same provider as the keystore(s) in which the key is stored. Only for opaque/external stores like PKCS11 Win-MSCAPI Mac-KeyChain do they match. (And for PKCS11 the list of algorithms isn&#39;t fixed, it changes depending on the underlying device or pseudodevice.)","body":"For normal (file/memory) keystores, the genkeypair and CSR signature algorithms need not be and usually aren&#39;t from the same provider as the keystore(s) in which the key is stored. Only for opaque/external stores like PKCS11 Win-MSCAPI Mac-KeyChain do they match. (And for PKCS11 the list of algorithms isn&#39;t fixed, it changes depending on the underlying device or pseudodevice.)"},{"owner":{"account_id":1704336,"reputation":1405,"user_id":1563721,"accept_rate":42,"display_name":"user1563721"},"score":0,"creation_date":1652848669,"post_id":72280080,"comment_id":127702718,"body_markdown":"@dave_thompson_085 it means that I will not be able to list the algorithms based on the provider but need to have a static list? I do not understand why we can specify the provider in case of the keytool then…","body":"@dave_thompson_085 it means that I will not be able to list the algorithms based on the provider but need to have a static list? I do not understand why we can specify the provider in case of the keytool then…"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1652858230,"post_id":72280080,"comment_id":127705079,"body_markdown":"Generally you don&#39;t need to and shouldn&#39;t specify the provider. Only if you want to use an unconfigured or unpreferred provider -- for example BouncyCastle added to the &#39;standard&#39; Sun/Oracle/Open providers, or the IBM ones for at least past IBM AIX versions -- or one of the opaque cases, in which case you need provider-specific documentation, and for PKCS11 (as I said) device-specific info.","body":"Generally you don&#39;t need to and shouldn&#39;t specify the provider. Only if you want to use an unconfigured or unpreferred provider -- for example BouncyCastle added to the &#39;standard&#39; Sun/Oracle/Open providers, or the IBM ones for at least past IBM AIX versions -- or one of the opaque cases, in which case you need provider-specific documentation, and for PKCS11 (as I said) device-specific info."}],"owner":{"account_id":1704336,"reputation":1405,"user_id":1563721,"accept_rate":42,"display_name":"user1563721"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652818092,"creation_date":1652818092,"question_id":72280080,"body_markdown":"I am using `keytool` command line utility for management of the Java KeyStores with different providers. Each provider can support different algorithms, which can be shown in the detail of the KeyStore, for example:\r\n\r\n```\r\nKeystore provider: SUN\r\n```\r\n\r\nWhen generating new key pair and certificate signing request, I need to provide cryptographic parameters like key algorithm and size and signature algorithm. However, in order to do this, I need to find the documentation of the security provider to see what algorithms are supported.\r\n\r\nIs there a way how to get the list of supported algorithms for specific provider on the command line? (like using the `keytool` command, without running my custom Java code on the server)","title":"How to list Java security provider supported algorithms via command line","body":"<p>I am using <code>keytool</code> command line utility for management of the Java KeyStores with different providers. Each provider can support different algorithms, which can be shown in the detail of the KeyStore, for example:</p>\n<pre><code>Keystore provider: SUN\n</code></pre>\n<p>When generating new key pair and certificate signing request, I need to provide cryptographic parameters like key algorithm and size and signature algorithm. However, in order to do this, I need to find the documentation of the security provider to see what algorithms are supported.</p>\n<p>Is there a way how to get the list of supported algorithms for specific provider on the command line? (like using the <code>keytool</code> command, without running my custom Java code on the server)</p>\n"},{"tags":["java","spring","rest","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":68630,"reputation":2092,"user_id":200136,"display_name":"Andrew McGuinness"},"score":1,"creation_date":1490011076,"post_id":42902766,"comment_id":72905363,"body_markdown":"As the error says, that isn&#39;t a valid URL. You would need to URL-escape the JSON content *before* sending it, or (far better), use a POST and put the JSON in the request body.","body":"As the error says, that isn&#39;t a valid URL. You would need to URL-escape the JSON content <i>before</i> sending it, or (far better), use a POST and put the JSON in the request body."},{"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"score":0,"creation_date":1490011189,"post_id":42902766,"comment_id":72905438,"body_markdown":"I can&#39;t encode the JSON.","body":"I can&#39;t encode the JSON."},{"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"score":0,"creation_date":1490011247,"post_id":42902766,"comment_id":72905482,"body_markdown":"I can&#39;t do any change in the request parameters or request type.","body":"I can&#39;t do any change in the request parameters or request type."},{"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"score":0,"creation_date":1490011337,"post_id":42902766,"comment_id":72905554,"body_markdown":"I need to somehow be able to accept those values.Any suggestion for that","body":"I need to somehow be able to accept those values.Any suggestion for that"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":1,"creation_date":1490013033,"post_id":42902766,"comment_id":72906737,"body_markdown":"This question maybe helpful: http://stackoverflow.com/questions/41053653/tomcat-8-is-not-able-to-handle-get-request-with-in-query-parameters In short you might not have an option but to downgrade to an older Tomcat version if the client is not escaping the query param.","body":"This question maybe helpful: <a href=\"http://stackoverflow.com/questions/41053653/tomcat-8-is-not-able-to-handle-get-request-with-in-query-parameters\" title=\"tomcat 8 is not able to handle get request with in query parameters\">stackoverflow.com/questions/41053653/&hellip;</a> In short you might not have an option but to downgrade to an older Tomcat version if the client is not escaping the query param."},{"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"score":0,"creation_date":1490013824,"post_id":42902766,"comment_id":72907343,"body_markdown":"I tried downgrading but the error persists","body":"I tried downgrading but the error persists"}],"answers":[{"tags":[],"owner":{"account_id":5636873,"reputation":757,"user_id":4462099,"accept_rate":88,"display_name":"Stenal P Jolly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490011383,"creation_date":1490011383,"answer_id":42903090,"question_id":42902766,"body_markdown":"You can directly pass String into the JSONObject constructor\r\n\r\nThere are lots of libraries available.\r\n\r\n1.http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm (JSON jar)\r\n\r\n2.http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm (Simple JSON)\r\n\r\n3.http://www.java2s.com/Code/Jar/g/Downloadgson224sourcesjar.htm (GSON from google)\r\n\r\nI personally use JSON and GSON jars.\r\n\r\n    JSONObject jsonObject = new JSONObject(variable)","title":"How to read JSON in GET request query parameter","body":"<p>You can directly pass String into the JSONObject constructor</p>\n\n<p>There are lots of libraries available.</p>\n\n<p>1.<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm</a> (JSON jar)</p>\n\n<p>2.<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm</a> (Simple JSON)</p>\n\n<p>3.<a href=\"http://www.java2s.com/Code/Jar/g/Downloadgson224sourcesjar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/g/Downloadgson224sourcesjar.htm</a> (GSON from google)</p>\n\n<p>I personally use JSON and GSON jars.</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(variable)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490012065,"creation_date":1490012065,"answer_id":42903338,"question_id":42902766,"body_markdown":"Few things you should take care of.\r\n\r\n1. Use POST HTTP method to post your JSON to server.\r\n2. Create a JAVA pojo class which should has a same structure as your JSON. Like for below JSON,\r\n\r\n       &lt;pre&gt; &lt;code&gt; {\r\n            &quot;id&quot;: 123,\r\n            &quot;status&quot;: &quot;Ordered&quot;,\r\n            &quot;product&quot;: &quot;Pepsi&quot;\r\n           } &lt;/code&gt;&lt;/pre&gt;\r\n\r\ni would create a class( You can create a two separate class as you has array inside json) ,\r\n\r\npublic class Order {\r\n    \r\n\tprivate long id ;\r\n\tprivate String status; \r\n\tprivate String product ;\r\n\t \r\n    public long getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getStatus() {\r\n\t\treturn status;\r\n\t}\r\n\tpublic void setStatus(String status) {\r\n\t\tthis.status = status;\r\n\t}\r\n\tpublic String getProduct() {\r\n\t\treturn product;\r\n\t}\r\n\tpublic void setProduct(String product) {\r\n\t\tthis.product = product;\r\n\t} \r\n}\r\n\r\n3. Then, \r\n\r\n \r\n\r\n    &lt;pre&gt;  &lt;code&gt; @RequestMapping(value = &quot;/values&quot;, method = RequestMethod.POST,produces={&quot;application/json&quot;},\r\n                consumes={&quot;application/json&quot;})\r\n        public ResponseEntity&lt;String&gt; myMethod(\r\n                    @RequestBody Order orderObj) {\r\n        }&lt;/code&gt;&lt;/pre&gt;\r\n\r\nPlease take reference from this example and build the solution. \r\n","title":"How to read JSON in GET request query parameter","body":"<p>Few things you should take care of.</p>\n\n<ol>\n<li>Use POST HTTP method to post your JSON to server.</li>\n<li><p>Create a JAVA pojo class which should has a same structure as your JSON. Like for below JSON,</p>\n\n<p><pre> <code> {\n        \"id\": 123,\n        \"status\": \"Ordered\",\n        \"product\": \"Pepsi\"\n       } </code></pre></p></li>\n</ol>\n\n<p>i would create a class( You can create a two separate class as you has array inside json) ,</p>\n\n<p>public class Order {</p>\n\n<pre><code>private long id ;\nprivate String status; \nprivate String product ;\n\npublic long getId() {\n    return id;\n}\npublic void setId(long id) {\n    this.id = id;\n}\npublic String getStatus() {\n    return status;\n}\npublic void setStatus(String status) {\n    this.status = status;\n}\npublic String getProduct() {\n    return product;\n}\npublic void setProduct(String product) {\n    this.product = product;\n} \n</code></pre>\n\n<p>}</p>\n\n<ol start=\"3\">\n<li><p>Then, </p>\n\n<pre>  <code> @RequestMapping(value = \"/values\", method = RequestMethod.POST,produces={\"application/json\"},\n            consumes={\"application/json\"})\n    public ResponseEntity myMethod(\n                @RequestBody Order orderObj) {\n    }</code></pre></li>\n</ol>\n\n<p>Please take reference from this example and build the solution. </p>\n"},{"tags":[],"owner":{"account_id":3111773,"reputation":41,"user_id":2633386,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652752277,"creation_date":1490013736,"answer_id":42903906,"question_id":42902766,"body_markdown":"You can encode the key parameter to Base64 format and append to the URL, then decode and use it in your controller method.\r\n\r\nKey JSON text:\r\n\r\n```\r\n{&quot;org&quot;:&quot;AA&quot;,&quot;points&quot;:[{&quot;name&quot;:&quot;xy&quot;,&quot;Measures&quot;:&quot;343&quot;}]}] \r\n```\r\n\r\nBase64 encoded text:\r\n\r\n```\r\neyJvcmciOiJBQSIsInBvaW50cyI6W3sibmFtZSI6Inh5IiwiTWVhc3VyZXMiOiIzNDMifV19XQ==\r\n```\r\n\r\nDecoded to again back to JSON text:\r\n\r\n```\r\n{&quot;org&quot;:&quot;AA&quot;,&quot;points&quot;:[{&quot;name&quot;:&quot;xy&quot;,&quot;Measures&quot;:&quot;343&quot;}]}]\r\n```","title":"How to read JSON in GET request query parameter","body":"<p>You can encode the key parameter to Base64 format and append to the URL, then decode and use it in your controller method.</p>\n<p>Key JSON text:</p>\n<pre><code>{&quot;org&quot;:&quot;AA&quot;,&quot;points&quot;:[{&quot;name&quot;:&quot;xy&quot;,&quot;Measures&quot;:&quot;343&quot;}]}] \n</code></pre>\n<p>Base64 encoded text:</p>\n<pre><code>eyJvcmciOiJBQSIsInBvaW50cyI6W3sibmFtZSI6Inh5IiwiTWVhc3VyZXMiOiIzNDMifV19XQ==\n</code></pre>\n<p>Decoded to again back to JSON text:</p>\n<pre><code>{&quot;org&quot;:&quot;AA&quot;,&quot;points&quot;:[{&quot;name&quot;:&quot;xy&quot;,&quot;Measures&quot;:&quot;343&quot;}]}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6849407,"reputation":2415,"user_id":5266998,"accept_rate":86,"display_name":"Januka samaranyake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490028077,"creation_date":1490026824,"answer_id":42908776,"question_id":42902766,"body_markdown":"You can simply try something like this\r\n\r\n\r\n\r\n    @GetMapping(value = &quot;/values&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @Timed\r\n    public ResponseEntity&lt;String&gt; testMethod(@RequestParam(&quot;key&quot;) String key) throws Exception {\r\n        JSONObject jsonObject = new JSONObject(key);\r\n        //\r\n    }","title":"How to read JSON in GET request query parameter","body":"<p>You can simply try something like this</p>\n\n<pre><code>@GetMapping(value = \"/values\", produces = MediaType.APPLICATION_JSON_VALUE)\n@Timed\npublic ResponseEntity&lt;String&gt; testMethod(@RequestParam(\"key\") String key) throws Exception {\n    JSONObject jsonObject = new JSONObject(key);\n    //\n}\n</code></pre>\n"}],"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1652818024,"creation_date":1490010396,"question_id":42902766,"body_markdown":"I have to read JSON values from the URL using a query parameter for GET request.\r\nI am using Tomcat latest in a Spring Boot project.\r\n\r\n           @RequestMapping(\r\n                value = &quot;/values&quot;,\r\n\t\t\t\tmethod = RequestMethod.GET, \r\n\t\t\t\theaders = HttpHeaders.ACCEPT + &quot;=&quot; + MediaType.APPLICATION_JSON_VALUE,\r\n\t\t\t\tproduces = &quot;application/json&quot;)\r\n\t       public ResponseEntity&lt;String&gt; myMethod(\r\n\t\t\t\t@RequestParam(value=&quot;key&quot;) String jsonRequestString) {\r\n           //parse JSONString \r\n           //--\r\n           }\r\n  \r\nGET request to the URL\r\n\r\n*Url:- http://[localhost:port/values?key={&quot;org&quot;:&quot;AA&quot;,&quot;points&quot;:\\[{&quot;name&quot;:&quot;xy&quot;,&quot;Measures&quot;:&quot;343&quot;}\\]}\\]][1]*\r\n\r\nThrows \r\n**java.lang.IllegalArgumentException**: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\r\n\r\n\r\n  [1]: http://localhost:port/values?key=%7B%22org%22:%22AA%22,%22points%22:[%7B%22name%22:%22xy%22,%22Measures%22:%22343%22%7D]%7D]\r\n\r\n**EDIT** :- Sending JSON in original form leading me to nowhere, so working approach would be to send the JSON in an encoded form.","title":"How to read JSON in GET request query parameter","body":"<p>I have to read JSON values from the URL using a query parameter for GET request.\nI am using Tomcat latest in a Spring Boot project.</p>\n\n<pre><code>       @RequestMapping(\n            value = \"/values\",\n            method = RequestMethod.GET, \n            headers = HttpHeaders.ACCEPT + \"=\" + MediaType.APPLICATION_JSON_VALUE,\n            produces = \"application/json\")\n       public ResponseEntity&lt;String&gt; myMethod(\n            @RequestParam(value=\"key\") String jsonRequestString) {\n       //parse JSONString \n       //--\n       }\n</code></pre>\n\n<p>GET request to the URL</p>\n\n<p><em>Url:- http://<a href=\"http://localhost:port/values?key=%7B%22org%22:%22AA%22,%22points%22:[%7B%22name%22:%22xy%22,%22Measures%22:%22343%22%7D]%7D]\" rel=\"nofollow noreferrer\">localhost:port/values?key={\"org\":\"AA\",\"points\":[{\"name\":\"xy\",\"Measures\":\"343\"}]}]</a></em></p>\n\n<p>Throws \n<strong>java.lang.IllegalArgumentException</strong>: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986</p>\n\n<p><strong>EDIT</strong> :- Sending JSON in original form leading me to nowhere, so working approach would be to send the JSON in an encoded form.</p>\n"},{"tags":["java","android","workflow","github-actions"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1591494931,"post_id":62239659,"comment_id":110076809,"body_markdown":"What&#39;s wrong with the `Unit tests` step?","body":"What&#39;s wrong with the <code>Unit tests</code> step?"},{"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"score":0,"creation_date":1591518038,"post_id":62239659,"comment_id":110081115,"body_markdown":"Not sure what it actually happens. The upload artifacts step uploads the whole app, but all i wanted was the logs from tests. Maybe that step is wrong","body":"Not sure what it actually happens. The upload artifacts step uploads the whole app, but all i wanted was the logs from tests. Maybe that step is wrong"},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1591542999,"post_id":62239659,"comment_id":110089816,"body_markdown":"You will need to save the logs from the tests to a file, and then upload the file","body":"You will need to save the logs from the tests to a file, and then upload the file"},{"owner":{"account_id":16351387,"reputation":5541,"user_id":11809808,"display_name":"Ryan Payne"},"score":0,"creation_date":1652817971,"post_id":62239659,"comment_id":127697280,"body_markdown":"If any tests fail, GitHub Actions will output the reason. Why do you need to get the logs? Where do you plan to upload them?","body":"If any tests fail, GitHub Actions will output the reason. Why do you need to get the logs? Where do you plan to upload them?"}],"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3527,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1652817848,"creation_date":1591490644,"question_id":62239659,"body_markdown":"So I developed a few tests for my Android app and I need to run the tests using github actions workflow. Here is my .yml file, but I don&#39;t know how to run the tests( and get their logs):\r\n```\r\nname: Java CI with Gradle\r\n\r\non:\r\n  push:\r\n  pull_request:\r\n    branches: Features\r\n\r\njobs:\r\n  test:\r\n    name: Run Unit Tests\r\n    runs-on: ubuntu-18.04\r\n\r\n    steps:\r\n      - uses: actions/checkout@v1\r\n      - name: set up JDK 1.8\r\n        uses: actions/setup-java@v1\r\n        with:\r\n          java-version: 1.8\r\n      - name: Unit tests\r\n        run: bash ./gradlew test --stacktrace\r\n      - name: Unit tests results\r\n        uses: actions/upload-artifact@v1\r\n        with:\r\n          name: unit-tests-results\r\n          path: ./app\r\n```\r\n\r\nI&#39;m not sure how to run all the app and then run all the tests, can someone give me a hint? I searched all the internet, I came across this code, but it doesn&#39;t work. My artifact is the whole app itself\r\nThe tests are: &lt;br&gt;\r\n1.SignUpTest.java &lt;br&gt;\r\n2.SignInTest.java &lt;br&gt;\r\n3.AddToCart.java &lt;br&gt;","title":"How to run my unit tests in github action workflow?","body":"<p>So I developed a few tests for my Android app and I need to run the tests using github actions workflow. Here is my .yml file, but I don't know how to run the tests( and get their logs):</p>\n<pre><code>name: Java CI with Gradle\n\non:\n  push:\n  pull_request:\n    branches: Features\n\njobs:\n  test:\n    name: Run Unit Tests\n    runs-on: ubuntu-18.04\n\n    steps:\n      - uses: actions/checkout@v1\n      - name: set up JDK 1.8\n        uses: actions/setup-java@v1\n        with:\n          java-version: 1.8\n      - name: Unit tests\n        run: bash ./gradlew test --stacktrace\n      - name: Unit tests results\n        uses: actions/upload-artifact@v1\n        with:\n          name: unit-tests-results\n          path: ./app\n</code></pre>\n<p>I'm not sure how to run all the app and then run all the tests, can someone give me a hint? I searched all the internet, I came across this code, but it doesn't work. My artifact is the whole app itself\nThe tests are: <br>\n1.SignUpTest.java <br>\n2.SignInTest.java <br>\n3.AddToCart.java <br></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1652764872,"post_id":72268521,"comment_id":127678312,"body_markdown":"Yes it is. Never keep state in a singleton (which is what you are doing).","body":"Yes it is. Never keep state in a singleton (which is what you are doing)."},{"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"score":0,"creation_date":1652764925,"post_id":72268521,"comment_id":127678322,"body_markdown":"So the only option is to pass the object as reference and set the field as soon as the variable in initialized right?","body":"So the only option is to pass the object as reference and set the field as soon as the variable in initialized right?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652765056,"post_id":72268521,"comment_id":127678344,"body_markdown":"I don&#39;t know the design of your code so I cannot advice on that (I&#39;m for hire if you want that ;) ). But as a rule of thumb don&#39;t keep state. In the method you show I don&#39;t really see shared state, just an object created inside a method. So not sure which member variables you mean (I suspect the `failedUsers` for one).","body":"I don&#39;t know the design of your code so I cannot advice on that (I&#39;m for hire if you want that ;) ). But as a rule of thumb don&#39;t keep state. In the method you show I don&#39;t really see shared state, just an object created inside a method. So not sure which member variables you mean (I suspect the <code>failedUsers</code> for one)."},{"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"score":0,"creation_date":1652765245,"post_id":72268521,"comment_id":127678378,"body_markdown":"DataResponse is the object I want to populate. When I call getUserInfoResponseV5, an instance of userInfoRepository is called which sets the value for the 2 member variables(Page count and Total Hits) of UserInfoRepository. I am then using getters in UserInfoRepository to populate dataResponse with the values of the member variables","body":"DataResponse is the object I want to populate. When I call getUserInfoResponseV5, an instance of userInfoRepository is called which sets the value for the 2 member variables(Page count and Total Hits) of UserInfoRepository. I am then using getters in UserInfoRepository to populate dataResponse with the values of the member variables"}],"answers":[{"tags":[],"owner":{"account_id":5523655,"reputation":92,"user_id":4385849,"display_name":"asafb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652817730,"creation_date":1652817730,"answer_id":72280022,"question_id":72268521,"body_markdown":"yes it is considered a bad practice , saving data inside a singleton will lead to unexpected results when multiple requests are incoming .\r\nwithout providing more context its hard to advice but usually returning the data in the response of the method of the repository would be the way to go.","title":"Class Variables in Spring boot application","body":"<p>yes it is considered a bad practice , saving data inside a singleton will lead to unexpected results when multiple requests are incoming .\nwithout providing more context its hard to advice but usually returning the data in the response of the method of the repository would be the way to go.</p>\n"}],"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652817730,"creation_date":1652764711,"question_id":72268521,"body_markdown":"I&#39;m autowiring a repository class into another service class. The repository class has two member variables declared private but not initialized. The values for these member variables are set when one of the methods of the repository class is called during the course of the request. Finally in the service class I&#39;m populating a response object by calling a getter method of the repository class which returns the class variables respectively. \r\n\r\nI&#39;m wondering if this is bad practice considering the api will be called by multiple users. But passing the response object as reference to the repository class is a tedious job with the existing design of the code. \r\n\r\nThe following is the service class where I&#39;m setting PageCount and TotalHits in the DataResponse object. The repository class(userInfoRepositoryV2) is initially called in the first line of the method after which the values for the two class variables are set. \r\n\r\n```\r\npublic DataResponse getUserInfoV5(String startDate, String endDate, String searchCriteria, RequestType requestType, String userId, Boolean retryable, Integer page, Integer size) throws BadRequestException,EsDataGenerationException {\r\n        FailedUsersV3 failedUsers = userHandler.getUserInfoResponseV5(startDate, endDate, searchCriteria,requestType, userId, retryable, page, size);\r\n        DataResponse dataResponse = new DataResponse();\r\n        dataResponse.setPage(page);\r\n        dataResponse.setPageCount(userInfoRepositoryV2.getPageCount());\r\n        dataResponse.setTotalHits(userInfoRepositoryV2.getTotalHits());\r\n        dataResponse.setData(failedUsers);\r\n        dataResponse.setMeta(new MetaResponse(MetaCodes.SUCCESS.name(), MetaCodes.SUCCESS.getCode(), MetaCodes.SUCCESS.getMessage(), null, null));\r\n        return dataResponse;\r\n    }\r\n```\r\n\r\n","title":"Class Variables in Spring boot application","body":"<p>I'm autowiring a repository class into another service class. The repository class has two member variables declared private but not initialized. The values for these member variables are set when one of the methods of the repository class is called during the course of the request. Finally in the service class I'm populating a response object by calling a getter method of the repository class which returns the class variables respectively.</p>\n<p>I'm wondering if this is bad practice considering the api will be called by multiple users. But passing the response object as reference to the repository class is a tedious job with the existing design of the code.</p>\n<p>The following is the service class where I'm setting PageCount and TotalHits in the DataResponse object. The repository class(userInfoRepositoryV2) is initially called in the first line of the method after which the values for the two class variables are set.</p>\n<pre><code>public DataResponse getUserInfoV5(String startDate, String endDate, String searchCriteria, RequestType requestType, String userId, Boolean retryable, Integer page, Integer size) throws BadRequestException,EsDataGenerationException {\n        FailedUsersV3 failedUsers = userHandler.getUserInfoResponseV5(startDate, endDate, searchCriteria,requestType, userId, retryable, page, size);\n        DataResponse dataResponse = new DataResponse();\n        dataResponse.setPage(page);\n        dataResponse.setPageCount(userInfoRepositoryV2.getPageCount());\n        dataResponse.setTotalHits(userInfoRepositoryV2.getTotalHits());\n        dataResponse.setData(failedUsers);\n        dataResponse.setMeta(new MetaResponse(MetaCodes.SUCCESS.name(), MetaCodes.SUCCESS.getCode(), MetaCodes.SUCCESS.getMessage(), null, null));\n        return dataResponse;\n    }\n</code></pre>\n"},{"tags":["java","file","file-io","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1290023626,"creation_date":1290023626,"answer_id":4208539,"question_id":4208502,"body_markdown":"You can check using `hasNextLine()`:\r\n\r\n    Scanner input = new Scanner(new File(&quot;\\&quot;&quot;+filename+&quot;\\&quot;&quot;));\r\n    while(input.hasNextLine())\r\n    {\r\n       String data = input.nextLine();\r\n    }","title":"Determine end-of-file using Java&#39;s Scanner class","body":"<p>You can check using <code>hasNextLine()</code>:</p>\n\n<pre><code>Scanner input = new Scanner(new File(\"\\\"\"+filename+\"\\\"\"));\nwhile(input.hasNextLine())\n{\n   String data = input.nextLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178116,"reputation":3743,"user_id":409875,"accept_rate":80,"display_name":"Thomas Langston"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1450446114,"creation_date":1290023736,"answer_id":4208554,"question_id":4208502,"body_markdown":"Line based retrieval may be what you want, but token based can also be useful.\r\nYou can see in documentation of [`Scanner`][1]\r\n\r\n    public boolean hasNext()\r\n\r\n&gt;Returns `true` if this `Scanner` has another token in its input. This method may block while waiting for input to scan. The `Scanner` does not advance past any input.\r\n\r\n&gt;Specified by:\r\n    `hasNext` in interface `Iterator&lt;String&gt;`\r\n\r\n&gt;Returns:\r\n    `true` if and only if this `Scanner` has another token\r\n\r\n&gt;Throws:\r\n    `IllegalStateException` - if this `Scanner` is closed\r\n\r\n&gt;See Also:\r\n    `Iterator`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","title":"Determine end-of-file using Java&#39;s Scanner class","body":"<p>Line based retrieval may be what you want, but token based can also be useful.\nYou can see in documentation of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"noreferrer\"><code>Scanner</code></a></p>\n\n<pre><code>public boolean hasNext()\n</code></pre>\n\n<blockquote>\n  <p>Returns <code>true</code> if this <code>Scanner</code> has another token in its input. This method may block while waiting for input to scan. The <code>Scanner</code> does not advance past any input.</p>\n  \n  <p>Specified by:\n      <code>hasNext</code> in interface <code>Iterator&lt;String&gt;</code></p>\n  \n  <p>Returns:\n      <code>true</code> if and only if this <code>Scanner</code> has another token</p>\n  \n  <p>Throws:\n      <code>IllegalStateException</code> - if this <code>Scanner</code> is closed</p>\n  \n  <p>See Also:\n      <code>Iterator</code></p>\n</blockquote>\n"}],"owner":{"account_id":94459,"reputation":3936,"user_id":257906,"accept_rate":73,"display_name":"Blackbinary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92922,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":2,"score":20,"last_activity_date":1652817563,"creation_date":1290023419,"question_id":4208502,"body_markdown":"I am trying to read text from a text file. I need help figuring out when the end of file has occurred. How can I determine this in Java?\r\n\r\n    FileInputStream istream = new FileInputStream(&quot;\\&quot;&quot;+filename+&quot;\\&quot;&quot;);\t\t\r\n    Scanner input = new Scanner(istream);\r\n    while(EOF != true)\r\n    {\r\n     ....\r\n    }\r\n\r\n","title":"Determine end-of-file using Java&#39;s Scanner class","body":"<p>I am trying to read text from a text file. I need help figuring out when the end of file has occurred. How can I determine this in Java?</p>\n<pre><code>FileInputStream istream = new FileInputStream(&quot;\\&quot;&quot;+filename+&quot;\\&quot;&quot;);      \nScanner input = new Scanner(istream);\nwhile(EOF != true)\n{\n ....\n}\n</code></pre>\n"},{"tags":["java","vert.x","quarkus"],"comments":[{"owner":{"account_id":2100524,"reputation":1074,"user_id":1868281,"accept_rate":92,"display_name":"Selim"},"score":0,"creation_date":1613248818,"post_id":66183974,"comment_id":117019351,"body_markdown":"You can get the column name via `Row#getColumnName(int)` https://vertx.io/docs/apidocs/io/vertx/sqlclient/Row.html#getColumnName-int-","body":"You can get the column name via <code>Row#getColumnName(int)</code> <a href=\"https://vertx.io/docs/apidocs/io/vertx/sqlclient/Row.html#getColumnName-int-\" rel=\"nofollow noreferrer\">vertx.io/docs/apidocs/io/vertx/sqlclient/&hellip;</a>"},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1613370347,"post_id":66183974,"comment_id":117044287,"body_markdown":"Is there is anyway to directly convert Rowset to Bean/POJO class?","body":"Is there is anyway to directly convert Rowset to Bean/POJO class?"},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1613380032,"post_id":66183974,"comment_id":117047435,"body_markdown":"@user3458271 with Vert.x 4 there is Row/POJO mapping. Otherwise in Quarkus you can try Hibernate Reactive.","body":"@user3458271 with Vert.x 4 there is Row/POJO mapping. Otherwise in Quarkus you can try Hibernate Reactive."},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1613467981,"post_id":66183974,"comment_id":117077313,"body_markdown":"No, have to do it without hibernate and using Quarkus only","body":"No, have to do it without hibernate and using Quarkus only"}],"answers":[{"tags":[],"owner":{"account_id":6648472,"reputation":326,"user_id":5131587,"display_name":"Lourenco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652817513,"creation_date":1652817513,"answer_id":72279980,"question_id":66183974,"body_markdown":"You might need to transform some data before converting to a JsonObject / POJO, so I&#39;m providing a few different solutions with more or less control.\r\n\r\n\r\nSolution 1: RowSet\\&lt;Row\\&gt; to JsonArray (Small control)\r\n\r\n    JsonArray jsonArray = new JsonArray();\r\n    for (Row row : pgRowSet) {\r\n        JsonObject jsonObject = row.toJson();\r\n        jsonArray.add(jsonObject);\r\n    }\r\n    return jsonArray;\r\n\r\n\r\nSolution 2: RowSet\\&lt;Row\\&gt; to JsonArray (Full control)\r\n\r\n    JsonArray jsonArray = new JsonArray();\r\n    for (Row row : pgRowSet) {\r\n\r\n\t    JsonObject jsonObject = new JsonObject();\r\n        for (int i = 0; i &lt; row.size(); i++) {\r\n\t\t    String columnName = row.getColumnName(i);\r\n\t\t    Object columnValue = row.getValue(i);\r\n\t\t    jsonObject.put(columnName, columnValue);\r\n\t    }\r\n    \r\n        jsonArray.add(jsonObject);\r\n    }\r\n    return jsonArray;\r\n\r\n\r\n\r\nAssuming you want to convert a Row to a POJO class (in this case MyElement is the POJO class).\r\n\r\nSolution 3: RowSet\\&lt;Row\\&gt; to List\\&lt;MyElement\\&gt; (Small control)\r\n\r\n    List&lt;MyElement&gt; elementsList = new ArrayList&lt;MyElement&gt;();\r\n    for (Row row : pgRowSet) {\r\n\t    JsonObject jsonObject = row.toJson();\r\n\t    MyElement element = jsonObject.mapTo(MyElement.class);\r\n\t    elementsList.add(element);\r\n    }\r\n    return elementsList;\r\n\r\nSolution 4: RowSet\\&lt;Row\\&gt; to List\\&lt;MyElement\\&gt; (Full control)\r\n\r\n    List&lt;MyElement&gt; elementsList = new ArrayList&lt;MyElement&gt;();\r\n    for (Row row : pgRowSet) {\r\n\r\n\t    JsonObject jsonObject = new JsonObject();\r\n\t    for (int i = 0; i &lt; row.size(); i++) {\r\n\t\t    String columnName = row.getColumnName(i);\r\n\t\t    Object columnValue = row.getValue(i);\r\n\t\t    jsonObject.put(columnName, columnValue);\r\n\t    }\r\n\r\n\t    MyElement element = jsonObject.mapTo(MyElement.class);\r\n\t    elementsList.add(element);\r\n    }\r\n    return elementsList;","title":"How to cast &quot;io.vertx.mutiny.sqlclient.Rowset&quot; to List of Map without knowing the columns?","body":"<p>You might need to transform some data before converting to a JsonObject / POJO, so I'm providing a few different solutions with more or less control.</p>\n<p>Solution 1: RowSet&lt;Row&gt; to JsonArray (Small control)</p>\n<pre><code>JsonArray jsonArray = new JsonArray();\nfor (Row row : pgRowSet) {\n    JsonObject jsonObject = row.toJson();\n    jsonArray.add(jsonObject);\n}\nreturn jsonArray;\n</code></pre>\n<p>Solution 2: RowSet&lt;Row&gt; to JsonArray (Full control)</p>\n<pre><code>JsonArray jsonArray = new JsonArray();\nfor (Row row : pgRowSet) {\n\n    JsonObject jsonObject = new JsonObject();\n    for (int i = 0; i &lt; row.size(); i++) {\n        String columnName = row.getColumnName(i);\n        Object columnValue = row.getValue(i);\n        jsonObject.put(columnName, columnValue);\n    }\n\n    jsonArray.add(jsonObject);\n}\nreturn jsonArray;\n</code></pre>\n<p>Assuming you want to convert a Row to a POJO class (in this case MyElement is the POJO class).</p>\n<p>Solution 3: RowSet&lt;Row&gt; to List&lt;MyElement&gt; (Small control)</p>\n<pre><code>List&lt;MyElement&gt; elementsList = new ArrayList&lt;MyElement&gt;();\nfor (Row row : pgRowSet) {\n    JsonObject jsonObject = row.toJson();\n    MyElement element = jsonObject.mapTo(MyElement.class);\n    elementsList.add(element);\n}\nreturn elementsList;\n</code></pre>\n<p>Solution 4: RowSet&lt;Row&gt; to List&lt;MyElement&gt; (Full control)</p>\n<pre><code>List&lt;MyElement&gt; elementsList = new ArrayList&lt;MyElement&gt;();\nfor (Row row : pgRowSet) {\n\n    JsonObject jsonObject = new JsonObject();\n    for (int i = 0; i &lt; row.size(); i++) {\n        String columnName = row.getColumnName(i);\n        Object columnValue = row.getValue(i);\n        jsonObject.put(columnName, columnValue);\n    }\n\n    MyElement element = jsonObject.mapTo(MyElement.class);\n    elementsList.add(element);\n}\nreturn elementsList;\n</code></pre>\n"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652817513,"creation_date":1613211375,"question_id":66183974,"body_markdown":"I am new to Quarkus and I am fetching the records from the table, but query written by 3rd party user, so it may happen we don&#39;t know the database fully, in that how can we convert Rowset to &quot;List of Map&quot; or to any &quot;Pojo class&quot; or &quot;JsonArray &quot;?\r\n\r\n    import io.smallrye.mutiny.Uni;\r\n    import io.vertx.mutiny.pgclient.PgPool;\r\n    import io.vertx.mutiny.sqlclient.RowSet;\r\n    import io.vertx.mutiny.sqlclient.Tuple;\r\n    import io.vertx.sqlclient.Row;\r\n    public Uni&lt;TableRQ&gt; getTableRQ(int ids) {\r\n\t\ttry {\r\n\t\t\tsql = &quot;select * from &quot;+vdnm+&quot;ai_request_parameter where id in ($1)&quot;;\r\n\r\n\t\t\treturn client.preparedQuery(sql).execute(Tuple.of(ids))\r\n\t\t\t\t.onItem().transform(pgRowSet -&gt; {\r\n\t\t\t\t\tJsonArray jsonArray = new JsonArray();\r\n\t\t\t\t\tfor (Row row : pgRowSet) {\r\n\t\t\t\t\t\t// Here if I know columns than I know how to do it, but I don&#39;t know so How can we achieve it?\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn jsonArray;\r\n\t\t\t\t});\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t}","title":"How to cast &quot;io.vertx.mutiny.sqlclient.Rowset&quot; to List of Map without knowing the columns?","body":"<p>I am new to Quarkus and I am fetching the records from the table, but query written by 3rd party user, so it may happen we don't know the database fully, in that how can we convert Rowset to &quot;List of Map&quot; or to any &quot;Pojo class&quot; or &quot;JsonArray &quot;?</p>\n<pre><code>import io.smallrye.mutiny.Uni;\nimport io.vertx.mutiny.pgclient.PgPool;\nimport io.vertx.mutiny.sqlclient.RowSet;\nimport io.vertx.mutiny.sqlclient.Tuple;\nimport io.vertx.sqlclient.Row;\npublic Uni&lt;TableRQ&gt; getTableRQ(int ids) {\n    try {\n        sql = &quot;select * from &quot;+vdnm+&quot;ai_request_parameter where id in ($1)&quot;;\n\n        return client.preparedQuery(sql).execute(Tuple.of(ids))\n            .onItem().transform(pgRowSet -&gt; {\n                JsonArray jsonArray = new JsonArray();\n                for (Row row : pgRowSet) {\n                    // Here if I know columns than I know how to do it, but I don't know so How can we achieve it?\n                }\n                return jsonArray;\n            });\n    } catch (Exception e) {\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652833565,"post_id":72279916,"comment_id":127700558,"body_markdown":"`FileNotFoundException` does *not* mean &#39;the text file is empty&#39;. It means it doesn&#39;t exist or you can&#39;t access it. See the Javadoc. Don&#39;t guess.","body":"<code>FileNotFoundException</code> does <i>not</i> mean &#39;the text file is empty&#39;. It means it doesn&#39;t exist or you can&#39;t access it. See the Javadoc. Don&#39;t guess."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652833600,"post_id":72279916,"comment_id":127700566,"body_markdown":"@Dan I voted to undelete your correct answer.","body":"@Dan I voted to undelete your correct answer."}],"owner":{"account_id":21541700,"reputation":19,"user_id":15879338,"display_name":"Eskereton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1652817624,"answer_count":0,"score":1,"last_activity_date":1652817485,"creation_date":1652817046,"question_id":72279916,"body_markdown":"Im using the scanner class to read a file for input and i&#39;m using a try catch to check if the file is empty. However, if the input does not lead to the completion of the program, the code breaks. What I need is to check every line in the text file to see if it does not work, not only check if the file is empty\r\n\r\n```\r\ntry {\r\n                        in = new Scanner(new File(&quot;.\\\\Test\\\\data.txt&quot;));\r\n                        \r\n                        \r\n\r\n                    } catch (FileNotFoundException e) {\r\n                        System.out.println(&quot;The text file is empty&quot;);\r\n                        in = new Scanner(System.in);\r\n                    }\r\n``` \r\nThis is the code that I have. Any suggestion/ critique is welcome\r\n","title":"How do I check if the file the Scanner class in java is reading is complete?","body":"<p>Im using the scanner class to read a file for input and i'm using a try catch to check if the file is empty. However, if the input does not lead to the completion of the program, the code breaks. What I need is to check every line in the text file to see if it does not work, not only check if the file is empty</p>\n<pre><code>try {\n                        in = new Scanner(new File(&quot;.\\\\Test\\\\data.txt&quot;));\n                        \n                        \n\n                    } catch (FileNotFoundException e) {\n                        System.out.println(&quot;The text file is empty&quot;);\n                        in = new Scanner(System.in);\n                    }\n</code></pre>\n<p>This is the code that I have. Any suggestion/ critique is welcome</p>\n"},{"tags":["java","http","curl","post","server"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652818678,"post_id":72279932,"comment_id":127697473,"body_markdown":"I would think if Curl is telling the sever that it&#39;s sending data-binary, the Java side will just read raw bytes. Unicode won&#39;t come into it","body":"I would think if Curl is telling the sever that it&#39;s sending data-binary, the Java side will just read raw bytes. Unicode won&#39;t come into it"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1652827559,"post_id":72279932,"comment_id":127699662,"body_markdown":"`echo -e &#39;\\x03&#39;` does not emit the four characters ‘backslash x zero three.’  It sends one byte, which happens to be one character whose ASCII code is 03 (the control code character named “ETX”).  Java doesn’t interpret it as anything else.  However, Java debuggers may choose to *show* that character as `\\u0003`, since it’s a non-printing character on all non-Windows systems.","body":"<code>echo -e &#39;\\x03&#39;</code> does not emit the four characters ‘backslash x zero three.’  It sends one byte, which happens to be one character whose ASCII code is 03 (the control code character named “ETX”).  Java doesn’t interpret it as anything else.  However, Java debuggers may choose to <i>show</i> that character as <code>\\u0003</code>, since it’s a non-printing character on all non-Windows systems."},{"owner":{"account_id":24463895,"reputation":69,"user_id":18384579,"display_name":"Azii"},"score":0,"creation_date":1652855003,"post_id":72279932,"comment_id":127704030,"body_markdown":"@VGR so &#39;\\x03&#39; is not interpreted as number 3 on Java side? Well, then should I use &#39;\\x33&#39; instead ? (ASCII: 3).","body":"@VGR so &#39;\\x03&#39; is not interpreted as number 3 on Java side? Well, then should I use &#39;\\x33&#39; instead ? (ASCII: 3)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1652874819,"post_id":72279932,"comment_id":127711310,"body_markdown":"That depends on what the Java side is doing.  `\\x03` is interpreted as the byte value 3, and the code may well choose to promote it to the integer value 3.  If you want the Java side to receive the ASCII digit instead, `\\x33` would be correct, but without seeing more of that code, or at least its documentation, I can’t say which value you should send.","body":"That depends on what the Java side is doing.  <code>\\x03</code> is interpreted as the byte value 3, and the code may well choose to promote it to the integer value 3.  If you want the Java side to receive the ASCII digit instead, <code>\\x33</code> would be correct, but without seeing more of that code, or at least its documentation, I can’t say which value you should send."},{"owner":{"account_id":24463895,"reputation":69,"user_id":18384579,"display_name":"Azii"},"score":0,"creation_date":1652875607,"post_id":72279932,"comment_id":127711630,"body_markdown":"@VGR, yep finally, with your explanation I did a bit of research and it turned out, that indeed, at Java side that \\x03 is interpreted as int 3 not ascii char ETX. So program is doing everything correctly! Thank you for your hints!","body":"@VGR, yep finally, with your explanation I did a bit of research and it turned out, that indeed, at Java side that \\x03 is interpreted as int 3 not ascii char ETX. So program is doing everything correctly! Thank you for your hints!"}],"owner":{"account_id":24463895,"reputation":69,"user_id":18384579,"display_name":"Azii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652817122,"creation_date":1652817122,"question_id":72279932,"body_markdown":"I have a server, written on Java, which is currently running on a \r\n\r\n&gt; http://localhost:8080\r\n\r\nSource code is hidden from me, but I know that all endpoints are handled by Java HttpExchange class, for example endpoint:\r\n\r\n&gt; http://localhost:8080/generate/init\r\n\r\n will be handled like that:\r\n\r\n    public void init(HttpExchange httpex) throws IOException {\r\n    ...\r\n    }\r\n\r\nThe next thing I know is that incoming POST requests are handled like that:\r\n\r\n    byte post_data = (byte) httpex.getRequestBody().read();\r\n\r\nMy question is, that when I do from a command-line:\r\n\r\n    echo -e &#39;\\x03&#39; | curl -X POST -i --data-binary @- http://localhost:8080/generate/init\r\nWhat will be the value of post_data?\r\nAs I understand curl will send &#39;\\x03&#39; exactly as it is:\r\n\r\n&gt; \\x03 \r\n\r\nAnd Java HttpExchange method getRequestBody() will return InputStream of it, where read() will translate that InputStream into int. As much as I know, Java doesn&#39;t interpret HEX as &#39;\\x03&#39;, instead it uses Unicode &#39;\\u0003&#39;. Therefore I&#39;m afraid of sending wrong data into my server.\r\n\r\n&gt; If I&#39;m wrong about curl --data-binary, please correct me! I just wish\r\n&gt; to be sure, that I pass number &quot;3&quot; by POST request and server\r\n&gt; interprets it as number 3, but in bytes ((byte) 3)\r\n\r\n","title":"Curl: how data is interpreted by Java InputStream, if I sent it using curl --data-binary?","body":"<p>I have a server, written on Java, which is currently running on a</p>\n<blockquote>\n<p>http://localhost:8080</p>\n</blockquote>\n<p>Source code is hidden from me, but I know that all endpoints are handled by Java HttpExchange class, for example endpoint:</p>\n<blockquote>\n<p>http://localhost:8080/generate/init</p>\n</blockquote>\n<p>will be handled like that:</p>\n<pre><code>public void init(HttpExchange httpex) throws IOException {\n...\n}\n</code></pre>\n<p>The next thing I know is that incoming POST requests are handled like that:</p>\n<pre><code>byte post_data = (byte) httpex.getRequestBody().read();\n</code></pre>\n<p>My question is, that when I do from a command-line:</p>\n<pre><code>echo -e '\\x03' | curl -X POST -i --data-binary @- http://localhost:8080/generate/init\n</code></pre>\n<p>What will be the value of post_data?\nAs I understand curl will send '\\x03' exactly as it is:</p>\n<blockquote>\n<p>\\x03</p>\n</blockquote>\n<p>And Java HttpExchange method getRequestBody() will return InputStream of it, where read() will translate that InputStream into int. As much as I know, Java doesn't interpret HEX as '\\x03', instead it uses Unicode '\\u0003'. Therefore I'm afraid of sending wrong data into my server.</p>\n<blockquote>\n<p>If I'm wrong about curl --data-binary, please correct me! I just wish\nto be sure, that I pass number &quot;3&quot; by POST request and server\ninterprets it as number 3, but in bytes ((byte) 3)</p>\n</blockquote>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1652817072,"post_id":72279890,"comment_id":127697045,"body_markdown":"`select * from (select *, row_number() over(partition by date(dt) order by dt) as rn from t where dt between &#39;2022-04-18&#39; and &#39;2022-04-25&#39;) x where rn &lt;= 5` ?","body":"<code>select * from (select *, row_number() over(partition by date(dt) order by dt) as rn from t where dt between &#39;2022-04-18&#39; and &#39;2022-04-25&#39;) x where rn &lt;= 5</code> ?"},{"owner":{"account_id":24356269,"reputation":96,"user_id":18291382,"display_name":"Fambo"},"score":0,"creation_date":1652817291,"post_id":72279890,"comment_id":127697091,"body_markdown":"Thanks, I would never be able to create such a complex query (complex at least for my standards). When I get the chance, I will try to use it in my app and if it works, I&#39;ll definitely upvote your comment :)","body":"Thanks, I would never be able to create such a complex query (complex at least for my standards). When I get the chance, I will try to use it in my app and if it works, I&#39;ll definitely upvote your comment :)"}],"owner":{"account_id":24356269,"reputation":96,"user_id":18291382,"display_name":"Fambo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652816948,"creation_date":1652816948,"question_id":72279890,"body_markdown":"I have this entity:\r\n\r\n    public class Notification extends BaseEntity implements INotification {\r\n\r\n        @NotNull\r\n        private NotificationType type;\r\n\r\n        @NotNull\r\n        @ManyToOne\r\n        private SchoolSubject subject;\r\n\r\n        @NotNull\r\n        @ManyToOne\r\n        private Student creator;\r\n\r\n        @ManyToOne\r\n        private Student lastEditedBy;\r\n\r\n        private LocalDateTime lastEditedAt = LocalDateTime.now();\r\n\r\n        @ManyToMany\r\n        private Set&lt;Student&gt; checkedBy;\r\n\r\n        @ManyToOne\r\n        private StudyGroup studyGroup;\r\n\r\n        @NotBlank\r\n        private String title;\r\n\r\n        private String description;\r\n\r\n        private LocalDate date;\r\n\r\n    }\r\n\r\nI would like to get the first 5 notifications for each day from a given range. (for example 18.4.2022 to 25.4.2022)\r\nHow can I do this, without writing multiple queries? Or if there is no other option than writing multiple queries, how efficient would that be?\r\nThanks.","title":"Spring Boot how to query for five items with different conditions without multiple queries","body":"<p>I have this entity:</p>\n<pre><code>public class Notification extends BaseEntity implements INotification {\n\n    @NotNull\n    private NotificationType type;\n\n    @NotNull\n    @ManyToOne\n    private SchoolSubject subject;\n\n    @NotNull\n    @ManyToOne\n    private Student creator;\n\n    @ManyToOne\n    private Student lastEditedBy;\n\n    private LocalDateTime lastEditedAt = LocalDateTime.now();\n\n    @ManyToMany\n    private Set&lt;Student&gt; checkedBy;\n\n    @ManyToOne\n    private StudyGroup studyGroup;\n\n    @NotBlank\n    private String title;\n\n    private String description;\n\n    private LocalDate date;\n\n}\n</code></pre>\n<p>I would like to get the first 5 notifications for each day from a given range. (for example 18.4.2022 to 25.4.2022)\nHow can I do this, without writing multiple queries? Or if there is no other option than writing multiple queries, how efficient would that be?\nThanks.</p>\n"},{"tags":["java","arrays","time","complexity-theory","partition"],"comments":[{"owner":{"account_id":2798742,"reputation":1121,"user_id":2407424,"accept_rate":33,"display_name":"R.A. Lucas"},"score":0,"creation_date":1652771176,"post_id":72269419,"comment_id":127679872,"body_markdown":"Is there an example you can give that may help us in assisting you here?","body":"Is there an example you can give that may help us in assisting you here?"},{"owner":{"account_id":21438173,"reputation":117,"user_id":15793268,"display_name":"Parzival"},"score":0,"creation_date":1652772068,"post_id":72269419,"comment_id":127680179,"body_markdown":"@user16320675 no sir the limits are not known. I just wanna know what is the time complexity when we divide an array into two sorted partition then find the minimum element.","body":"@user16320675 no sir the limits are not known. I just wanna know what is the time complexity when we divide an array into two sorted partition then find the minimum element."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652774366,"creation_date":1652773881,"answer_id":72270103,"question_id":72269419,"body_markdown":"The complexity of dividing an (unsorted) array into 2 sorted partitions is `O(NlogN)`.  \r\n\r\nOnce you have two sorted partitions, it is `O(1)` to find the smallest element in either ... and hence both partitions.\r\n\r\n(The smallest element of a sorted partition is the first one.)","title":"Time complexity halving an array","body":"<p>The complexity of dividing an (unsorted) array into 2 sorted partitions is <code>O(NlogN)</code>.</p>\n<p>Once you have two sorted partitions, it is <code>O(1)</code> to find the smallest element in either ... and hence both partitions.</p>\n<p>(The smallest element of a sorted partition is the first one.)</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652776524,"creation_date":1652773953,"answer_id":72270120,"question_id":72269419,"body_markdown":"&lt;h2&gt;Time Complexity for Partitioned Array&lt;/h2&gt;\r\n\r\nIf an array A is already divided in two sorted partitions P1 and P2, where P1 is distributed along the indexes of A `0 &lt;= i &lt; k` and P2 along the indexes `k &lt;= i &lt; n` with k an arbitrary index within the range `0 &lt;= k &lt; n`. \r\n\r\nThen, you know that the smallest element of both partitions is their first. Accessing both partition&#39;s first element has a time complexity of `O(1)` and comparing the two smallest values retrieved has again a time complexity of `O(1)`.\r\n\r\nSo, the overall complexity of finding the minimum value in an array divided into two sorted partitions is `O(1)`.\r\n\r\n&lt;h2&gt;Time Complexity for Array to Partition&lt;/h2&gt;\r\n\r\nInstead, if the given array A has to be sorted in two sorted partitions (because this is a requirement) and then you need to find its minimum element. Then you need to divide your array into two partitions with an arbitrary index k, sort the two partitions with the most efficient sorting algorithm, which has complexity `O(n log n)`, and then applying the same logic exposed above in finding the minimum element. \r\n\r\nFor any given value of k, with k `0 &lt;= k &lt; n`, we would have to apply the sorting algorithm twice (on both partitions). However, since the &lt;b&gt;additive property of Complexity Computation&lt;/b&gt; states that the addition of two complexities of the same order is still equal to the same complexity, then for example for `k = n/2` we would have that: `O(n/2 log n/2) + O(n/2 log n/2)` still produces `O(n log n)`. More in general `O(k log k) + O((n-k) log (n-k))` with `0 &lt;= k &lt; n` and `n =&gt; ∞`, which will still give us `O(n log n)` due to the constant factors property. Finally, we need to account to this complexity the constant complexity, `O(1)` of finding the minimum element among the two partitions, which will still give us `O(n log n)`.\r\n\r\nIn conclusion, the overall complexity for dividing an array A in two partitions P1 and P2 and finding the minimum element overall is `O(n log n)`.","title":"Time complexity halving an array","body":"<h2>Time Complexity for Partitioned Array</h2>\n<p>If an array A is already divided in two sorted partitions P1 and P2, where P1 is distributed along the indexes of A <code>0 &lt;= i &lt; k</code> and P2 along the indexes <code>k &lt;= i &lt; n</code> with k an arbitrary index within the range <code>0 &lt;= k &lt; n</code>.</p>\n<p>Then, you know that the smallest element of both partitions is their first. Accessing both partition's first element has a time complexity of <code>O(1)</code> and comparing the two smallest values retrieved has again a time complexity of <code>O(1)</code>.</p>\n<p>So, the overall complexity of finding the minimum value in an array divided into two sorted partitions is <code>O(1)</code>.</p>\n<h2>Time Complexity for Array to Partition</h2>\n<p>Instead, if the given array A has to be sorted in two sorted partitions (because this is a requirement) and then you need to find its minimum element. Then you need to divide your array into two partitions with an arbitrary index k, sort the two partitions with the most efficient sorting algorithm, which has complexity <code>O(n log n)</code>, and then applying the same logic exposed above in finding the minimum element.</p>\n<p>For any given value of k, with k <code>0 &lt;= k &lt; n</code>, we would have to apply the sorting algorithm twice (on both partitions). However, since the <b>additive property of Complexity Computation</b> states that the addition of two complexities of the same order is still equal to the same complexity, then for example for <code>k = n/2</code> we would have that: <code>O(n/2 log n/2) + O(n/2 log n/2)</code> still produces <code>O(n log n)</code>. More in general <code>O(k log k) + O((n-k) log (n-k))</code> with <code>0 &lt;= k &lt; n</code> and <code>n =&gt; ∞</code>, which will still give us <code>O(n log n)</code> due to the constant factors property. Finally, we need to account to this complexity the constant complexity, <code>O(1)</code> of finding the minimum element among the two partitions, which will still give us <code>O(n log n)</code>.</p>\n<p>In conclusion, the overall complexity for dividing an array A in two partitions P1 and P2 and finding the minimum element overall is <code>O(n log n)</code>.</p>\n"}],"owner":{"account_id":21438173,"reputation":117,"user_id":15793268,"display_name":"Parzival"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72270103,"answer_count":2,"score":2,"last_activity_date":1652816812,"creation_date":1652770656,"question_id":72269419,"body_markdown":"What would be the time complexity of partitioning an array in two and finding the minimum element overall?\r\n\r\nIs it O(n) or O(log n)?","title":"Time complexity halving an array","body":"<p>What would be the time complexity of partitioning an array in two and finding the minimum element overall?</p>\n<p>Is it O(n) or O(log n)?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"score":0,"creation_date":1513194289,"post_id":47773278,"comment_id":82563097,"body_markdown":"Is the `ClassifierCompositeItemWriter` creation done within a `@Bean` method?","body":"Is the <code>ClassifierCompositeItemWriter</code> creation done within a <code>@Bean</code> method?"},{"owner":{"account_id":5918845,"reputation":93,"user_id":4656736,"accept_rate":67,"display_name":"Dands Manuel"},"score":0,"creation_date":1513243043,"post_id":47773278,"comment_id":82580512,"body_markdown":"Hi @MichaelMinella, yes \nBean(&quot;withdrawWriter&quot;)\n    StepScope\n    ClassifierCompositeItemWriter&lt;WithdrawalTransaction&gt; withdrawalWriter() {\n\n}","body":"Hi @MichaelMinella, yes  Bean(&quot;withdrawWriter&quot;)     StepScope     ClassifierCompositeItemWriter&lt;WithdrawalTransaction&gt; withdrawalWriter() {  }"},{"owner":{"account_id":1915328,"reputation":21,"user_id":1728009,"display_name":"RancidVess"},"score":0,"creation_date":1534323240,"post_id":47773278,"comment_id":90670563,"body_markdown":"Try to make the return type of the two beans ItemWriter instead of FlatFileItemWriter.","body":"Try to make the return type of the two beans ItemWriter instead of FlatFileItemWriter."}],"owner":{"account_id":5918845,"reputation":93,"user_id":4656736,"accept_rate":67,"display_name":"Dands Manuel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652816762,"creation_date":1513083563,"question_id":47773278,"body_markdown":"I&#39;m trying to create a spring batch job that will read from MySQL database and write the data to different files depending on a value from the database. I am getting an error : \r\n    \r\n    org.springframework.batch.item.WriterNotOpenException: Writer must be open before it can be written to\r\n\tat org.springframework.batch.item.file.FlatFileItemWriter.write(FlatFileItemWriter.java:255)\r\n\r\nHere&#39;s my ClassifierCompositeItemWriter \r\n\r\n    ClassifierCompositeItemWriter&lt;WithdrawalTransaction&gt; classifierCompositeItemWriter = new ClassifierCompositeItemWriter&lt;WithdrawalTransaction&gt;();\r\n\r\n\t\tclassifierCompositeItemWriter.setClassifier(new Classifier&lt;WithdrawalTransaction, \r\n\t\t\t\tItemWriter&lt;? super WithdrawalTransaction&gt;&gt;() {          \r\n\t\t    @Override\r\n\t\t    public ItemWriter&lt;? super WithdrawalTransaction&gt; classify(WithdrawalTransaction wt) {\r\n\t\t        ItemWriter&lt;? super WithdrawalTransaction&gt; itemWriter = null;\r\n\t\t        if(wt.getPaymentMethod().equalsIgnoreCase(&quot;PDDTS&quot;)) { // condition\r\n\t\t            itemWriter = pddtsWriter();\t\t            \r\n\t\t        } else {\r\n\t\t            itemWriter = swiftWriter();\r\n\t\t        }\r\n\t\t        return itemWriter;\r\n\t\t    }\r\n\t\t});\r\n\r\nAs you can see, I only used two file writers for now.\r\n \r\n    @Bean(&quot;pddtsWriter&quot;)\r\n\tprivate FlatFileItemWriter&lt;WithdrawalTransaction&gt; pddtsWriter()\r\n\r\nAnd\r\n\r\n    @Bean(&quot;swiftWriter&quot;)\r\n\tprivate FlatFileItemWriter&lt;WithdrawalTransaction&gt; swiftWriter()\r\n\r\nI also added them as stream\r\n    \r\n    @Bean\r\n    public Step processWithdrawalTransactions() throws Exception {\r\n        return stepBuilderFactory.get(&quot;processWithdrawalTransactions&quot;)\r\n                .&lt;WithdrawalTransaction, WithdrawalTransaction&gt; chunk(10)\r\n                .processor(withdrawProcessor())\r\n                .reader(withdrawReader) \r\n                .writer(withdrawWriter)\r\n                .stream(swiftWriter)\r\n                .stream(pddtsWriter)\r\n                .listener(headerWriter())\r\n                .build();\r\n    }\r\n\r\nAm I doing something wrong?","title":"Using ClassifierCompositeItemWriter and FlatFileItemWriter to write to multiple files","body":"<p>I'm trying to create a spring batch job that will read from MySQL database and write the data to different files depending on a value from the database. I am getting an error : </p>\n\n<pre><code>org.springframework.batch.item.WriterNotOpenException: Writer must be open before it can be written to\nat org.springframework.batch.item.file.FlatFileItemWriter.write(FlatFileItemWriter.java:255)\n</code></pre>\n\n<p>Here's my ClassifierCompositeItemWriter </p>\n\n<pre><code>ClassifierCompositeItemWriter&lt;WithdrawalTransaction&gt; classifierCompositeItemWriter = new ClassifierCompositeItemWriter&lt;WithdrawalTransaction&gt;();\n\n    classifierCompositeItemWriter.setClassifier(new Classifier&lt;WithdrawalTransaction, \n            ItemWriter&lt;? super WithdrawalTransaction&gt;&gt;() {          \n        @Override\n        public ItemWriter&lt;? super WithdrawalTransaction&gt; classify(WithdrawalTransaction wt) {\n            ItemWriter&lt;? super WithdrawalTransaction&gt; itemWriter = null;\n            if(wt.getPaymentMethod().equalsIgnoreCase(\"PDDTS\")) { // condition\n                itemWriter = pddtsWriter();                 \n            } else {\n                itemWriter = swiftWriter();\n            }\n            return itemWriter;\n        }\n    });\n</code></pre>\n\n<p>As you can see, I only used two file writers for now.</p>\n\n<pre><code>@Bean(\"pddtsWriter\")\nprivate FlatFileItemWriter&lt;WithdrawalTransaction&gt; pddtsWriter()\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@Bean(\"swiftWriter\")\nprivate FlatFileItemWriter&lt;WithdrawalTransaction&gt; swiftWriter()\n</code></pre>\n\n<p>I also added them as stream</p>\n\n<pre><code>@Bean\npublic Step processWithdrawalTransactions() throws Exception {\n    return stepBuilderFactory.get(\"processWithdrawalTransactions\")\n            .&lt;WithdrawalTransaction, WithdrawalTransaction&gt; chunk(10)\n            .processor(withdrawProcessor())\n            .reader(withdrawReader) \n            .writer(withdrawWriter)\n            .stream(swiftWriter)\n            .stream(pddtsWriter)\n            .listener(headerWriter())\n            .build();\n}\n</code></pre>\n\n<p>Am I doing something wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1338368934,"post_id":10813154,"comment_id":14072407,"body_markdown":"What value do you expect for a number greater than 26?","body":"What value do you expect for a number greater than 26?"},{"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"score":0,"creation_date":1338368938,"post_id":10813154,"comment_id":14072408,"body_markdown":"What is the use case for this and the numbers greater than 25? Perhaps there is another way.","body":"What is the use case for this and the numbers greater than 25? Perhaps there is another way."},{"owner":{"account_id":239533,"reputation":16137,"user_id":509213,"accept_rate":83,"display_name":"edwardmlyte"},"score":0,"creation_date":1338369169,"post_id":10813154,"comment_id":14072494,"body_markdown":"I don&#39;t need numbers greater than 26. At the moment only 10 results are displayed at a time, but they may want to increase to 20. Thought it looked neater to just include the entire alphabet. I wasnt sure if there&#39;s some apache commons library can do this in one line (I did google around).","body":"I don&#39;t need numbers greater than 26. At the moment only 10 results are displayed at a time, but they may want to increase to 20. Thought it looked neater to just include the entire alphabet. I wasnt sure if there&#39;s some apache commons library can do this in one line (I did google around)."}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1338371644,"creation_date":1338369090,"answer_id":10813256,"question_id":10813154,"body_markdown":"Just make use of the ASCII representation.\r\n\r\n    private String getCharForNumber(int i) {\r\n        return i &gt; 0 &amp;&amp; i &lt; 27 ? String.valueOf((char)(i + 64)) : null;\r\n    }\r\n\r\nNote: This assumes that `i` is between `1` and `26` inclusive. \r\n\r\nYou&#39;ll have to change the condition to `i &gt; -1 &amp;&amp; i &lt; 26` and the increment to `65` if you want `i` to be zero-based.\r\n\r\nHere is the full ASCII table, in case you need to refer to:\r\n\r\n---\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/rrQ1V.gif\r\n\r\n---\r\n\r\n**Edit:**\r\n\r\nAs some folks suggested here, it&#39;s much more readable to directly use the character `&#39;A&#39;` instead of its ASCII code.\r\n\r\n    private String getCharForNumber(int i) {\r\n        return i &gt; 0 &amp;&amp; i &lt; 27 ? String.valueOf((char)(i + &#39;A&#39; - 1)) : null;\r\n    }\r\n\r\n","title":"How do I convert a number to a letter in Java?","body":"<p>Just make use of the ASCII representation.</p>\n\n<pre><code>private String getCharForNumber(int i) {\n    return i &gt; 0 &amp;&amp; i &lt; 27 ? String.valueOf((char)(i + 64)) : null;\n}\n</code></pre>\n\n<p>Note: This assumes that <code>i</code> is between <code>1</code> and <code>26</code> inclusive. </p>\n\n<p>You'll have to change the condition to <code>i &gt; -1 &amp;&amp; i &lt; 26</code> and the increment to <code>65</code> if you want <code>i</code> to be zero-based.</p>\n\n<p>Here is the full ASCII table, in case you need to refer to:</p>\n\n<hr>\n\n<p><img src=\"https://i.stack.imgur.com/rrQ1V.gif\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>As some folks suggested here, it's much more readable to directly use the character <code>'A'</code> instead of its ASCII code.</p>\n\n<pre><code>private String getCharForNumber(int i) {\n    return i &gt; 0 &amp;&amp; i &lt; 27 ? String.valueOf((char)(i + 'A' - 1)) : null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1029525,"reputation":251,"user_id":1038127,"accept_rate":100,"display_name":"Baptiste Gousset"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1338369687,"creation_date":1338369177,"answer_id":10813282,"question_id":10813154,"body_markdown":"if you define a/A as 0\r\n\r\n    char res;\r\n    if (i&gt;25 || i&lt;0){\r\n        res = null;\r\n    }\r\n        res = (i) + 65\r\n    }\r\n    return res;\r\n\r\n65 for captitals;\r\n97 for non captitals\r\n","title":"How do I convert a number to a letter in Java?","body":"<p>if you define a/A as 0</p>\n\n<pre><code>char res;\nif (i&gt;25 || i&lt;0){\n    res = null;\n}\n    res = (i) + 65\n}\nreturn res;\n</code></pre>\n\n<p>65 for captitals;\n97 for non captitals</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1338369280,"creation_date":1338369280,"answer_id":10813308,"question_id":10813154,"body_markdown":"Personally, I prefer\r\n\r\n    return &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.substring(i, i+1);\r\n\r\nwhich shares the backing `char[]`.  Alternately, I think the next-most-readable approach is\r\n\r\n    return Character.toString((char) (i + &#39;A&#39;));\r\n\r\nwhich doesn&#39;t depend on remembering ASCII tables.  It doesn&#39;t do validation, but if you want to, I&#39;d prefer to write\r\n\r\n    char c = (char) (i + &#39;A&#39;);\r\n    return Character.isUpperCase(c) ? Character.toString(c) : null;\r\n\r\njust to make it obvious that you&#39;re checking that it&#39;s an alphabetic character.","title":"How do I convert a number to a letter in Java?","body":"<p>Personally, I prefer</p>\n\n<pre><code>return \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".substring(i, i+1);\n</code></pre>\n\n<p>which shares the backing <code>char[]</code>.  Alternately, I think the next-most-readable approach is</p>\n\n<pre><code>return Character.toString((char) (i + 'A'));\n</code></pre>\n\n<p>which doesn't depend on remembering ASCII tables.  It doesn't do validation, but if you want to, I'd prefer to write</p>\n\n<pre><code>char c = (char) (i + 'A');\nreturn Character.isUpperCase(c) ? Character.toString(c) : null;\n</code></pre>\n\n<p>just to make it obvious that you're checking that it's an alphabetic character.</p>\n"},{"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529935803,"creation_date":1338369517,"answer_id":10813360,"question_id":10813154,"body_markdown":"You can try like this:\r\n\r\n    private String getCharForNumber(int i) {\r\n        CharSequence css = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n        if (i &gt; 25) {\r\n            return null;\r\n        }\r\n        return css.charAt(i) + &quot;&quot;;\r\n    }","title":"How do I convert a number to a letter in Java?","body":"<p>You can try like this:</p>\n\n<pre><code>private String getCharForNumber(int i) {\n    CharSequence css = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    if (i &gt; 25) {\n        return null;\n    }\n    return css.charAt(i) + \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1338369551,"creation_date":1338369551,"answer_id":10813369,"question_id":10813154,"body_markdown":"I would return a character `char` instead of a string.\r\n\r\n    public static char getChar(int i) {\r\n        return i&lt;0 || i&gt;25 ? &#39;?&#39; : (char)(&#39;A&#39; + i);\r\n    }\r\n\r\nNote: when the character decoder doesn&#39;t recognise a character it returns `?`\r\n\r\nI would use `&#39;A&#39;` or `&#39;a&#39;` instead of looking up ASCII codes.","title":"How do I convert a number to a letter in Java?","body":"<p>I would return a character <code>char</code> instead of a string.</p>\n\n<pre><code>public static char getChar(int i) {\n    return i&lt;0 || i&gt;25 ? '?' : (char)('A' + i);\n}\n</code></pre>\n\n<p>Note: when the character decoder doesn't recognise a character it returns <code>?</code></p>\n\n<p>I would use <code>'A'</code> or <code>'a'</code> instead of looking up ASCII codes.</p>\n"},{"tags":[],"owner":{"account_id":28663,"reputation":12716,"user_id":76777,"accept_rate":86,"display_name":"simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338369624,"creation_date":1338369624,"answer_id":10813384,"question_id":10813154,"body_markdown":"Another variant:\r\n\r\n    private String getCharForNumber(int i) {\r\n        if (i &gt; 25 || i &lt; 0) {\r\n            return null;\r\n        }\r\n        return new Character((char) (i + 65)).toString();\r\n    }","title":"How do I convert a number to a letter in Java?","body":"<p>Another variant:</p>\n\n<pre><code>private String getCharForNumber(int i) {\n    if (i &gt; 25 || i &lt; 0) {\n        return null;\n    }\n    return new Character((char) (i + 65)).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2738471,"reputation":11,"user_id":2360552,"display_name":"klb77"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368019630,"creation_date":1368019630,"answer_id":16441987,"question_id":10813154,"body_markdown":"You can convert the input to base 26 (Hexavigesimal) and convert each &quot;digit&quot; back to base 10 individually and apply the ASCII mapping. Since A is mapped to 0, you will get results A, B, C,..., Y, Z, BA, BB, BC,...etc, which may or may not be desirable depending on your requirements for input values &gt; 26, since it may be natural to think AA comes after Z.\r\n\r\n    public static String getCharForNumber(int i){\r\n\t\t\r\n\t\t// return null for bad input\r\n\t\tif(i &lt; 0){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\t// convert to base 26\r\n\t\tString s = Integer.toString(i, 26);\r\n\t\t\r\n\t\tchar[] characters = s.toCharArray();\r\n\t\t\r\n\t\tString result = &quot;&quot;;\r\n\t\tfor(char c : characters){\r\n\t\t\t// convert the base 26 character back to a base 10 integer\r\n\t\t\tint x = Integer.parseInt(Character.valueOf(c).toString(), 26);\r\n\t\t\t// append the ASCII value to the result\r\n\t\t\tresult += String.valueOf((char)(x + &#39;A&#39;));\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}","title":"How do I convert a number to a letter in Java?","body":"<p>You can convert the input to base 26 (Hexavigesimal) and convert each \"digit\" back to base 10 individually and apply the ASCII mapping. Since A is mapped to 0, you will get results A, B, C,..., Y, Z, BA, BB, BC,...etc, which may or may not be desirable depending on your requirements for input values > 26, since it may be natural to think AA comes after Z.</p>\n\n<pre><code>public static String getCharForNumber(int i){\n\n    // return null for bad input\n    if(i &lt; 0){\n        return null;\n    }\n\n    // convert to base 26\n    String s = Integer.toString(i, 26);\n\n    char[] characters = s.toCharArray();\n\n    String result = \"\";\n    for(char c : characters){\n        // convert the base 26 character back to a base 10 integer\n        int x = Integer.parseInt(Character.valueOf(c).toString(), 26);\n        // append the ASCII value to the result\n        result += String.valueOf((char)(x + 'A'));          \n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3500889,"reputation":1,"user_id":2927680,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382956016,"creation_date":1382956016,"answer_id":19632344,"question_id":10813154,"body_markdown":"This isn&#39;t exactly an answer, but some useful/related code I made. When you run it and enter any character in the command line it returns `getNumericValue(char)` ... which doesn&#39;t seem to be the same as the ASCII table so be aware. Anyways, not a direct answer to your question but hopefully helpful:\r\n \r\n    import java.lang.*;\r\n    import java.util.*;\r\n    /* charVal.java\r\n             */\r\n\r\n    //infinite loops. whenever you type in a character gives you value of \r\n    //getNumericValue(char)\r\n    //\r\n    //ctrl+c to exit\r\n \r\n\r\n\r\n    public class charVal {\r\n       public static void main(String[] args) {\r\n         Scanner inPut = new Scanner(System.in);\r\n         for(;;){\r\n           char c = inPut.next().charAt(0);\r\n           System.out.printf(&quot;\\n %s = %d \\n&quot;, c, Character.getNumericValue(c));\r\n         }\r\n        }\r\n    }","title":"How do I convert a number to a letter in Java?","body":"<p>This isn't exactly an answer, but some useful/related code I made. When you run it and enter any character in the command line it returns <code>getNumericValue(char)</code> ... which doesn't seem to be the same as the ASCII table so be aware. Anyways, not a direct answer to your question but hopefully helpful:</p>\n\n<pre><code>import java.lang.*;\nimport java.util.*;\n/* charVal.java\n         */\n\n//infinite loops. whenever you type in a character gives you value of \n//getNumericValue(char)\n//\n//ctrl+c to exit\n\n\n\npublic class charVal {\n   public static void main(String[] args) {\n     Scanner inPut = new Scanner(System.in);\n     for(;;){\n       char c = inPut.next().charAt(0);\n       System.out.printf(\"\\n %s = %d \\n\", c, Character.getNumericValue(c));\n     }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30047,"reputation":3185,"user_id":81658,"accept_rate":90,"display_name":"Quantum7"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1431693484,"creation_date":1431693484,"answer_id":30259745,"question_id":10813154,"body_markdown":"Rather than giving an error or some sentinel value (e.g. &#39;?&#39;) for inputs outside of 0-25, I sometimes find it useful to have a well-defined string for all integers. I like to use the following:\r\n\r\n\r\n       0 -&gt;    A\r\n       1 -&gt;    B\r\n       2 -&gt;    C\r\n     ...\r\n      25 -&gt;    Z\r\n      26 -&gt;   AA\r\n      27 -&gt;   AB\r\n      28 -&gt;   AC\r\n     ...\r\n     701 -&gt;   ZZ\r\n     702 -&gt;  AAA\r\n     ...\r\n\r\nThis can be extended to negatives as well:\r\n\r\n      -1 -&gt;   -A\r\n      -2 -&gt;   -B\r\n      -3 -&gt;   -C\r\n     ...\r\n     -26 -&gt;   -Z\r\n     -27 -&gt;  -AA\r\n     ...\r\n\r\nJava Code:\r\n\r\n\tpublic static String toAlphabetic(int i) {\r\n\t\tif( i&lt;0 ) {\r\n\t\t\treturn &quot;-&quot;+toAlphabetic(-i-1);\r\n\t\t}\r\n\t\t\r\n\t\tint quot = i/26;\r\n\t\tint rem = i%26;\r\n\t\tchar letter = (char)((int)&#39;A&#39; + rem);\r\n\t\tif( quot == 0 ) {\r\n\t\t\treturn &quot;&quot;+letter;\r\n\t\t} else {\r\n\t\t\treturn toAlphabetic(quot-1) + letter;\r\n\t\t}\r\n\t}\r\n\r\nPython code, including the ability to use alphanumeric (base 36) or case-sensitive (base 62) alphabets:\r\n\r\n    def to_alphabetic(i,base=26):\r\n        if base &lt; 0 or 62 &lt; base:\r\n            raise ValueError(&quot;Invalid base&quot;)\r\n\r\n        if i &lt; 0:\r\n            return &#39;-&#39;+to_alphabetic(-i-1)\r\n\r\n        quot = int(i)/base\r\n        rem = i%base\r\n        if rem &lt; 26:\r\n            letter = chr( ord(&quot;A&quot;) + rem)\r\n        elif rem &lt; 36:\r\n            letter = str( rem-26)\r\n        else:\r\n            letter = chr( ord(&quot;a&quot;) + rem - 36)\r\n        if quot == 0:\r\n            return letter\r\n        else:\r\n            return to_alphabetic(quot-1,base) + letter\r\n\r\n\r\n","title":"How do I convert a number to a letter in Java?","body":"<p>Rather than giving an error or some sentinel value (e.g. '?') for inputs outside of 0-25, I sometimes find it useful to have a well-defined string for all integers. I like to use the following:</p>\n\n<pre><code>   0 -&gt;    A\n   1 -&gt;    B\n   2 -&gt;    C\n ...\n  25 -&gt;    Z\n  26 -&gt;   AA\n  27 -&gt;   AB\n  28 -&gt;   AC\n ...\n 701 -&gt;   ZZ\n 702 -&gt;  AAA\n ...\n</code></pre>\n\n<p>This can be extended to negatives as well:</p>\n\n<pre><code>  -1 -&gt;   -A\n  -2 -&gt;   -B\n  -3 -&gt;   -C\n ...\n -26 -&gt;   -Z\n -27 -&gt;  -AA\n ...\n</code></pre>\n\n<p>Java Code:</p>\n\n<pre><code>public static String toAlphabetic(int i) {\n    if( i&lt;0 ) {\n        return \"-\"+toAlphabetic(-i-1);\n    }\n\n    int quot = i/26;\n    int rem = i%26;\n    char letter = (char)((int)'A' + rem);\n    if( quot == 0 ) {\n        return \"\"+letter;\n    } else {\n        return toAlphabetic(quot-1) + letter;\n    }\n}\n</code></pre>\n\n<p>Python code, including the ability to use alphanumeric (base 36) or case-sensitive (base 62) alphabets:</p>\n\n<pre><code>def to_alphabetic(i,base=26):\n    if base &lt; 0 or 62 &lt; base:\n        raise ValueError(\"Invalid base\")\n\n    if i &lt; 0:\n        return '-'+to_alphabetic(-i-1)\n\n    quot = int(i)/base\n    rem = i%base\n    if rem &lt; 26:\n        letter = chr( ord(\"A\") + rem)\n    elif rem &lt; 36:\n        letter = str( rem-26)\n    else:\n        letter = chr( ord(\"a\") + rem - 36)\n    if quot == 0:\n        return letter\n    else:\n        return to_alphabetic(quot-1,base) + letter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6592547,"reputation":11,"user_id":5093290,"display_name":"user5093290"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442406503,"creation_date":1442406503,"answer_id":32608641,"question_id":10813154,"body_markdown":"    public static string IntToLetters(int value)\r\n    {\r\n    string result = string.Empty;\r\n    while (--value &gt;= 0)\r\n    {\r\n        result = (char)(&#39;A&#39; + value % 26 ) + result;\r\n        value /= 26;\r\n    }\r\n    return result;\r\n    }\r\n\r\nTo meet the requirement of A being 1 instead of 0, I&#39;ve added -- to the while loop condition, and removed the value-- from the end of the loop, if anyone wants this to be 0 for their own purposes, you can reverse the changes, or simply add value++; at the beginning of the entire method.","title":"How do I convert a number to a letter in Java?","body":"<pre><code>public static string IntToLetters(int value)\n{\nstring result = string.Empty;\nwhile (--value &gt;= 0)\n{\n    result = (char)('A' + value % 26 ) + result;\n    value /= 26;\n}\nreturn result;\n}\n</code></pre>\n\n<p>To meet the requirement of A being 1 instead of 0, I've added -- to the while loop condition, and removed the value-- from the end of the loop, if anyone wants this to be 0 for their own purposes, you can reverse the changes, or simply add value++; at the beginning of the entire method.</p>\n"},{"tags":[],"owner":{"account_id":1118638,"reputation":158,"user_id":1107405,"accept_rate":60,"display_name":"Sotona"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554895401,"creation_date":1444986880,"answer_id":33166638,"question_id":10813154,"body_markdown":"    public static String abcBase36(int i) {\r\n        char[] ALPHABET = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\r\n        int quot = i / 36;\r\n    \tint rem = i % 36;\r\n    \r\n    \tchar letter = ALPHABET[rem];\r\n    \tif (quot == 0) {\r\n    \t\treturn &quot;&quot; + letter;\r\n    \t} else {\r\n    \t\treturn abcBase36(quot - 1) + letter;\r\n    \t}\r\n    }","title":"How do I convert a number to a letter in Java?","body":"<pre><code>public static String abcBase36(int i) {\n    char[] ALPHABET = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\".toCharArray();\n    int quot = i / 36;\n    int rem = i % 36;\n\n    char letter = ALPHABET[rem];\n    if (quot == 0) {\n        return \"\" + letter;\n    } else {\n        return abcBase36(quot - 1) + letter;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461137,"reputation":4433,"user_id":5004910,"display_name":"Gnzlt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467727916,"creation_date":1467727916,"answer_id":38205687,"question_id":10813154,"body_markdown":"Another approach starting from `0` and returning a `String`\r\n\r\n    public static String getCharForNumber(int i) {\r\n        return i &lt; 0 || i &gt; 25 ? &quot;?&quot; : String.valueOf((char) (&#39;A&#39; + i));\r\n    }","title":"How do I convert a number to a letter in Java?","body":"<p>Another approach starting from <code>0</code> and returning a <code>String</code></p>\n\n<pre><code>public static String getCharForNumber(int i) {\n    return i &lt; 0 || i &gt; 25 ? \"?\" : String.valueOf((char) ('A' + i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10970072,"reputation":21,"user_id":8060656,"display_name":"riad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495643544,"creation_date":1495642442,"answer_id":44163643,"question_id":10813154,"body_markdown":"Getting the alphabetical value from an int can be simply done with:\r\n\r\n    (char)(&#39;@&#39; + i)","title":"How do I convert a number to a letter in Java?","body":"<p>Getting the alphabetical value from an int can be simply done with:</p>\n\n<pre><code>(char)('@' + i)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16785945,"reputation":1,"user_id":12134923,"display_name":"Rohith Ravvala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571752965,"creation_date":1571752965,"answer_id":58506074,"question_id":10813154,"body_markdown":"````class Main{\r\npublic static void main(String[] args)\r\n {\r\n\t int rem,n=702,quo;\r\n\t String s=&quot; &quot;;\r\n\t while(n&gt;0)\r\n\t {\r\n\t\t rem=(n-1)%26;\r\n\t\t quo=(n-1)/26;\r\n\t\t s=(char)(rem+97)+s;\r\n\t\t if(quo==1)\r\n\t\t {\r\n\t\t\ts=(char)(97)+s;\r\n\t\t\tbreak;\r\n\t\t }\r\n\t\t else\r\n\t\t n=(n-1)/26;\r\n\t }\r\n\t System.out.print(s);\r\n }\r\n}\r\n////We can also write the code like the below one. There is no much difference but it may help to understand the concept for some people.\r\n\r\n\r\npublic static void main(String[] args)\r\n {\r\n\t int rem,n=52,quo;\r\n\t String s=&quot; &quot;;\r\n\t while(n&gt;0)\r\n\t {\r\n\t\t rem=n%26;\r\n\t\t quo=n/26;\r\n\t\t if(rem==0)\r\n\t\t\t rem=26;\r\n\t\t s=(char)(rem+96)+s;\r\n\t\t if((quo==1 || quo==0) &amp;&amp; n&gt;26)\r\n\t\t {\r\n\t\t\t n=n/26;\r\n\t\t\ts=(char)(n+96)+s;\r\n\t\t\tbreak;\r\n\t\t }\r\n\t\t else\r\n\t\t\t n=n/26-1; \r\n\t }\r\n\t System.out.print(s);\r\n }","title":"How do I convert a number to a letter in Java?","body":"<pre><code>public static void main(String[] args)\n {\n     int rem,n=702,quo;\n     String s=\" \";\n     while(n&gt;0)\n     {\n         rem=(n-1)%26;\n         quo=(n-1)/26;\n         s=(char)(rem+97)+s;\n         if(quo==1)\n         {\n            s=(char)(97)+s;\n            break;\n         }\n         else\n         n=(n-1)/26;\n     }\n     System.out.print(s);\n }\n}\n////We can also write the code like the below one. There is no much difference but it may help to understand the concept for some people.\n\n\npublic static void main(String[] args)\n {\n     int rem,n=52,quo;\n     String s=\" \";\n     while(n&gt;0)\n     {\n         rem=n%26;\n         quo=n/26;\n         if(rem==0)\n             rem=26;\n         s=(char)(rem+96)+s;\n         if((quo==1 || quo==0) &amp;&amp; n&gt;26)\n         {\n             n=n/26;\n            s=(char)(n+96)+s;\n            break;\n         }\n         else\n             n=n/26-1; \n     }\n     System.out.print(s);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16139777,"reputation":39,"user_id":11651253,"display_name":"ashish bindra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601203450,"creation_date":1601203450,"answer_id":64087551,"question_id":10813154,"body_markdown":"    for(int i=0;i&lt;ar.length();i++) {\r\n            \tchar ch = ar.charAt(i);\r\n            \t\t\tSystem.out.println((char)(ch+16));;\r\n            }","title":"How do I convert a number to a letter in Java?","body":"<pre><code>for(int i=0;i&lt;ar.length();i++) {\n            char ch = ar.charAt(i);\n                    System.out.println((char)(ch+16));;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1110466,"reputation":451,"user_id":1101025,"accept_rate":50,"display_name":"Ermal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639574626,"creation_date":1639566153,"answer_id":70362552,"question_id":10813154,"body_markdown":"The accepted answer best describes the solution. Nevertheless, it does not handle the case when you want to keep numbering over the value 27 like `aa`, `ab`, ...`az`, `aaa`, `aab`....\r\nFor doing so I achieved with the following:\r\n```\r\nprotected String getAlphaNumber(int intValue) {\r\n\tif (intValue == 0) {\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\tintValue = Math.abs(intValue);\r\n\tString prefix = &quot;&quot;;\r\n\tint charPosition = intValue % 26;\r\n\tint blocks = intValue / 26;\r\n\tif (charPosition == 0) { //the last letter, &quot;z&quot; (26)\r\n\t\tblocks--;\r\n\t\tcharPosition = 26;\r\n\t}\r\n\tfor (int i = 0; i &lt; blocks; i++) {\r\n\t\tprefix += &quot;a&quot;;\r\n\t}\r\n\treturn prefix + ((char) (charPosition + 96)); // &quot;a&quot;-&quot;z&quot; chars are located in the 97-122 indexes of the ASCII table, so shift all 96 positions.\r\n}\r\n```","title":"How do I convert a number to a letter in Java?","body":"<p>The accepted answer best describes the solution. Nevertheless, it does not handle the case when you want to keep numbering over the value 27 like <code>aa</code>, <code>ab</code>, ...<code>az</code>, <code>aaa</code>, <code>aab</code>....\nFor doing so I achieved with the following:</p>\n<pre><code>protected String getAlphaNumber(int intValue) {\n    if (intValue == 0) {\n        return &quot;&quot;;\n    }\n    intValue = Math.abs(intValue);\n    String prefix = &quot;&quot;;\n    int charPosition = intValue % 26;\n    int blocks = intValue / 26;\n    if (charPosition == 0) { //the last letter, &quot;z&quot; (26)\n        blocks--;\n        charPosition = 26;\n    }\n    for (int i = 0; i &lt; blocks; i++) {\n        prefix += &quot;a&quot;;\n    }\n    return prefix + ((char) (charPosition + 96)); // &quot;a&quot;-&quot;z&quot; chars are located in the 97-122 indexes of the ASCII table, so shift all 96 positions.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19755848,"reputation":1,"user_id":14466151,"display_name":"Parardha Dhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652816712,"creation_date":1652816712,"answer_id":72279843,"question_id":10813154,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.util.*;\r\n\r\n    class Integer2Letter\r\n\r\n    {\r\n\r\n         void main()\r\n\r\n         {\r\n\r\n             Scanner ob=new Scanner(System.in);\r\n\r\n             int n;\r\n\r\n             System.out.println(&quot;Enter an Integer&quot;);\r\n\r\n             n=ob.nextInt();//INPUT IN INTEGER FORMAT\r\n\r\n             if(n&gt;0 &amp;&amp; n&lt;27)//RANGE CHECK\r\n\r\n             {\r\n\r\n                 char ch= (char)(n+64);//IF N=1 THAN 64+1=65 WHICH EQUAL TO THE ASCII VALUE        OF &#39;A&#39; \r\n\r\n                 System.out.println(&quot;the corresponding letter is=&quot;+ch);\r\n\r\n             }\r\n\r\n             else\r\n\r\n             {\r\n\r\n                 System.out.println(&quot;Please enter the correct range&quot;);\r\n\r\n             }\r\n\r\n         }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How do I convert a number to a letter in Java?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.util.*;\n\nclass Integer2Letter\n\n{\n\n     void main()\n\n     {\n\n         Scanner ob=new Scanner(System.in);\n\n         int n;\n\n         System.out.println(\"Enter an Integer\");\n\n         n=ob.nextInt();//INPUT IN INTEGER FORMAT\n\n         if(n&gt;0 &amp;&amp; n&lt;27)//RANGE CHECK\n\n         {\n\n             char ch= (char)(n+64);//IF N=1 THAN 64+1=65 WHICH EQUAL TO THE ASCII VALUE        OF 'A' \n\n             System.out.println(\"the corresponding letter is=\"+ch);\n\n         }\n\n         else\n\n         {\n\n             System.out.println(\"Please enter the correct range\");\n\n         }\n\n     }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":239533,"reputation":16137,"user_id":509213,"accept_rate":83,"display_name":"edwardmlyte"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181163,"favorite_count":0,"down_vote_count":1,"up_vote_count":44,"accepted_answer_id":10813256,"answer_count":17,"score":43,"last_activity_date":1652816712,"creation_date":1338368726,"question_id":10813154,"body_markdown":"Is there a nicer way of converting a number to its alphabetic equivalent than this?\r\n\r\n    private String getCharForNumber(int i) {\r\n    \tchar[] alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\r\n    \tif (i &gt; 25) {\r\n    \t\treturn null;\r\n    \t}\r\n    \treturn Character.toString(alphabet[i]);\r\n    }\r\n\r\nMaybe something than can deal with numbers greater than 26 more elegantly too?","title":"How do I convert a number to a letter in Java?","body":"<p>Is there a nicer way of converting a number to its alphabetic equivalent than this?</p>\n\n<pre><code>private String getCharForNumber(int i) {\n    char[] alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".toCharArray();\n    if (i &gt; 25) {\n        return null;\n    }\n    return Character.toString(alphabet[i]);\n}\n</code></pre>\n\n<p>Maybe something than can deal with numbers greater than 26 more elegantly too?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1612282052,"post_id":66011782,"comment_id":116715214,"body_markdown":"Have you checked if there is a `RandomWord.class` file after compilation step?","body":"Have you checked if there is a <code>RandomWord.class</code> file after compilation step?"},{"owner":{"account_id":16115058,"reputation":351,"user_id":11632419,"display_name":"Rowan"},"score":0,"creation_date":1612283625,"post_id":66011782,"comment_id":116716017,"body_markdown":"Hello, yes, compilation is successfully producing a `RandomWord.class` file - that was one of the first things I checked, because I don&#39;t know Java at all so I wasn&#39;t sure if compilation could silently fail or something.","body":"Hello, yes, compilation is successfully producing a <code>RandomWord.class</code> file - that was one of the first things I checked, because I don&#39;t know Java at all so I wasn&#39;t sure if compilation could silently fail or something."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1612283983,"post_id":66011782,"comment_id":116716225,"body_markdown":"Is the code in your question your actual code? If you have written a file named `RandomWord.java`, then the class should be a `public` class, i.e. you should write `public class RandomWord {` rather than just `class RandomWord {` Also, is there a `package` statement in file `RandomWord.java`? For example, the _package_ for class `StdIn` is `edu.princeton.cs.algs4`","body":"Is the code in your question your actual code? If you have written a file named <code>RandomWord.java</code>, then the class should be a <code>public</code> class, i.e. you should write <code>public class RandomWord {</code> rather than just <code>class RandomWord {</code> Also, is there a <code>package</code> statement in file <code>RandomWord.java</code>? For example, the <i>package</i> for class <code>StdIn</code> is <code>edu.princeton.cs.algs4</code>"},{"owner":{"account_id":16115058,"reputation":351,"user_id":11632419,"display_name":"Rowan"},"score":0,"creation_date":1612285632,"post_id":66011782,"comment_id":116716957,"body_markdown":"@Abra Yes, it is. I have made the class public and added `package edu.princeton.cs.algs4;` at the top of my code - the result is the same (`Error: Could not find or load main class RandomWord\nCaused by: java.lang.ClassNotFoundException: RandomWord`)","body":"@Abra Yes, it is. I have made the class public and added <code>package edu.princeton.cs.algs4;</code> at the top of my code - the result is the same (<code>Error: Could not find or load main class RandomWord Caused by: java.lang.ClassNotFoundException: RandomWord</code>)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1612292754,"post_id":66011782,"comment_id":116719970,"body_markdown":"I only asked if class `RandomWord` has a &quot;package&quot; statement. I didn&#39;t mean that it **must** have a &quot;package&quot; statement. Remove the &quot;package&quot; statement. Maybe try learning java from Oracle&#39;s [tutorials](https://docs.oracle.com/javase/tutorial/)?","body":"I only asked if class <code>RandomWord</code> has a &quot;package&quot; statement. I didn&#39;t mean that it <b>must</b> have a &quot;package&quot; statement. Remove the &quot;package&quot; statement. Maybe try learning java from Oracle&#39;s <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">tutorials</a>?"}],"answers":[{"tags":[],"owner":{"account_id":9197165,"reputation":1053,"user_id":12156208,"display_name":"r4bb1t"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626550699,"creation_date":1626550699,"answer_id":68423759,"question_id":66011782,"body_markdown":"You can try this -\r\n`javac -cp .;&lt;insert class path&gt; RandomWord`\r\n\r\nI was facing the exact same issue, I ran `javac -cp .;.lift/algs4.jar RandomWord` and it works. (My compiled class was in the same directory as `.lift`)","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError - Coursera Princeton Algorithm Course","body":"<p>You can try this -\n<code>javac -cp .;&lt;insert class path&gt; RandomWord</code></p>\n<p>I was facing the exact same issue, I ran <code>javac -cp .;.lift/algs4.jar RandomWord</code> and it works. (My compiled class was in the same directory as <code>.lift</code>)</p>\n"},{"tags":[],"owner":{"account_id":75711,"reputation":6201,"user_id":217101,"accept_rate":94,"display_name":"jbnunn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652815834,"creation_date":1652815834,"answer_id":72279710,"question_id":66011782,"body_markdown":"This worked for me on a Mac. Copy algs4.jar to the root of your project, then:\r\n\r\n```\r\njavac -cp &quot;.:./algs4.jar&quot; RandomWord.java \r\njava -cp &quot;.:./algs4.jar&quot; RandomWord\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError - Coursera Princeton Algorithm Course","body":"<p>This worked for me on a Mac. Copy algs4.jar to the root of your project, then:</p>\n<pre><code>javac -cp &quot;.:./algs4.jar&quot; RandomWord.java \njava -cp &quot;.:./algs4.jar&quot; RandomWord\n</code></pre>\n"}],"owner":{"account_id":16115058,"reputation":351,"user_id":11632419,"display_name":"Rowan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652815834,"creation_date":1612276432,"question_id":66011782,"body_markdown":"I can see that this question has been asked before, but I have not found previous answers useful - specifically my issue is following Princeton University&#39;s &#39;*Algorithms*&#39; course on Coursera [here][1] and using their `algs4.jar` file to access ostensibly necessary utilities. I have never used Java before but this seemed like such a good course, I&#39;m trying to muddle through rather than switching to a &#39;worse&#39; course in a language I know. I have also found a thread specifically on this issue [here][2] and a Reddit question [here][3], which were equally as useless as the other questions which had this problem, but not with the Princeton&#39;s `algs4.jar` file.\r\n\r\nThis is my code, I haven&#39;t bothered to finish it but it should run. Before anybody asks, I&#39;ve commented out everything except the first `if (StdIn.isEmpty())` check and it still gives me all the same compiler/interpreter errors, so this is nothing to do with it being half-finished - `StdIn.isEmpty()` and `StdIn.readString()` are supposed to be provided by `algs4.jar`:\r\n\r\n    import edu.princeton.cs.algs4.StdIn;\r\n    import edu.princeton.cs.algs4.StdOut;\r\n    import edu.princeton.cs.algs4.StdRandom;\r\n    \r\n    class RandomWord\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            if (StdIn.isEmpty())\r\n            {\r\n                System.out.println(&quot;Nothing to read.&quot;);\r\n                return;\r\n            }\r\n    \r\n            String curr_selected_word;\r\n            double curr_probability = 0.0;\r\n            int i = 0;\r\n    \r\n            while (!StdIn.isEmpty())\r\n            {\r\n                String current_string = StdIn.readString();\r\n                System.out.println(&quot;&gt; &quot; + current_string);\r\n            }\r\n        }\r\n    }\r\n\r\nFollowing the advice of previous threads, I compile like this:\r\n\r\n    javac -cp &quot;./algs4.jar&quot; RandomWord.java\r\n\r\nWhich works fine. Running `java RandomWord`, I get this large messy error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: edu/princeton/cs/algs4/StdIn\r\n            at RandomWord.main(RandomWord.java:13)\r\n    Caused by: java.lang.ClassNotFoundException: edu.princeton.cs.algs4.StdIn\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n            ... 1 more\r\n\r\nThe accepted answer on the other question was to reference the `.jar` file explicitly, like this:\r\n\r\n    java -cp &quot;C:\\Coursera\\Algorithms\\Part 1\\Java Solutions\\HelloWorld;C:\\Coursera\\Algorithms\\Part 1\\Java Solutions\\algs4.jar&quot; RandomWord\r\n\r\nWhich gives me the exact same error. There is also a comment on the Reddit thread that uses the `-classpath` instead of `-cp` flag, which at least gives a different but stranger error:\r\n\r\n    &gt;java -classpath ./algs4.jar RandomWord\r\n    Error: Could not find or load main class RandomWord\r\n    Caused by: java.lang.ClassNotFoundException: RandomWord\r\n\r\nPutting quotes around the `.jar` filepath, or providing the absolute filepath, all produce the same error.\r\nI Googled this and predictably it is caused by not having a `main` entry-point, but... see code above?\r\n\r\nLastly, the installer for the Coursera course apparently installs some *Bash* commands ([see here][4]) called `javac-algs4` and `java-algs4` which is supposed to sort out all this classpath nonsense for me. So I crack open *Bash*, and:\r\n\r\n    &gt;javac-algs4 RandomWord.java\r\n    &#39;javac-algs4&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n\r\nI have restarted since running the installer. I would add these to my `PATH` manually, but I don&#39;t even know where they are; the `C:\\Program Files\\LIFT-CS` folder that their installer installs into only contains a pissing *uninstaller*. So I&#39;m absolutely losing my rag and at my wits&#39; end after spending over 7 hours just trying to *start* this course, not even getting stuck on the problems or the content. When will content creators learn we don&#39;t want your in-house IDE with no dark mode and libraries that do nothing but rename every function to camel-case?\r\n\r\nAnyway, if anyone has encountered this or knows what I could do to fix it, help would be appreciated. \r\n\r\n\r\n  [1]: https://www.coursera.org/learn/algorithms-part1/home/info\r\n  [2]: https://stackoverflow.com/questions/34716370/java-error-exception-in-thread-main-java-lang-noclassdeffounderror\r\n  [3]: https://www.reddit.com/r/learnjava/comments/guzyaw/from_could_not_find_or_load_main_class_to/\r\n  [4]: https://coursera.cs.princeton.edu/algs4/assignments/hello/specification.php","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError - Coursera Princeton Algorithm Course","body":"<p>I can see that this question has been asked before, but I have not found previous answers useful - specifically my issue is following Princeton University's '<em>Algorithms</em>' course on Coursera <a href=\"https://www.coursera.org/learn/algorithms-part1/home/info\" rel=\"nofollow noreferrer\">here</a> and using their <code>algs4.jar</code> file to access ostensibly necessary utilities. I have never used Java before but this seemed like such a good course, I'm trying to muddle through rather than switching to a 'worse' course in a language I know. I have also found a thread specifically on this issue <a href=\"https://stackoverflow.com/questions/34716370/java-error-exception-in-thread-main-java-lang-noclassdeffounderror\">here</a> and a Reddit question <a href=\"https://www.reddit.com/r/learnjava/comments/guzyaw/from_could_not_find_or_load_main_class_to/\" rel=\"nofollow noreferrer\">here</a>, which were equally as useless as the other questions which had this problem, but not with the Princeton's <code>algs4.jar</code> file.</p>\n<p>This is my code, I haven't bothered to finish it but it should run. Before anybody asks, I've commented out everything except the first <code>if (StdIn.isEmpty())</code> check and it still gives me all the same compiler/interpreter errors, so this is nothing to do with it being half-finished - <code>StdIn.isEmpty()</code> and <code>StdIn.readString()</code> are supposed to be provided by <code>algs4.jar</code>:</p>\n<pre><code>import edu.princeton.cs.algs4.StdIn;\nimport edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\n\nclass RandomWord\n{\n    public static void main(String[] args)\n    {\n        if (StdIn.isEmpty())\n        {\n            System.out.println(&quot;Nothing to read.&quot;);\n            return;\n        }\n\n        String curr_selected_word;\n        double curr_probability = 0.0;\n        int i = 0;\n\n        while (!StdIn.isEmpty())\n        {\n            String current_string = StdIn.readString();\n            System.out.println(&quot;&gt; &quot; + current_string);\n        }\n    }\n}\n</code></pre>\n<p>Following the advice of previous threads, I compile like this:</p>\n<pre><code>javac -cp &quot;./algs4.jar&quot; RandomWord.java\n</code></pre>\n<p>Which works fine. Running <code>java RandomWord</code>, I get this large messy error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: edu/princeton/cs/algs4/StdIn\n        at RandomWord.main(RandomWord.java:13)\nCaused by: java.lang.ClassNotFoundException: edu.princeton.cs.algs4.StdIn\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 1 more\n</code></pre>\n<p>The accepted answer on the other question was to reference the <code>.jar</code> file explicitly, like this:</p>\n<pre><code>java -cp &quot;C:\\Coursera\\Algorithms\\Part 1\\Java Solutions\\HelloWorld;C:\\Coursera\\Algorithms\\Part 1\\Java Solutions\\algs4.jar&quot; RandomWord\n</code></pre>\n<p>Which gives me the exact same error. There is also a comment on the Reddit thread that uses the <code>-classpath</code> instead of <code>-cp</code> flag, which at least gives a different but stranger error:</p>\n<pre><code>&gt;java -classpath ./algs4.jar RandomWord\nError: Could not find or load main class RandomWord\nCaused by: java.lang.ClassNotFoundException: RandomWord\n</code></pre>\n<p>Putting quotes around the <code>.jar</code> filepath, or providing the absolute filepath, all produce the same error.\nI Googled this and predictably it is caused by not having a <code>main</code> entry-point, but... see code above?</p>\n<p>Lastly, the installer for the Coursera course apparently installs some <em>Bash</em> commands (<a href=\"https://coursera.cs.princeton.edu/algs4/assignments/hello/specification.php\" rel=\"nofollow noreferrer\">see here</a>) called <code>javac-algs4</code> and <code>java-algs4</code> which is supposed to sort out all this classpath nonsense for me. So I crack open <em>Bash</em>, and:</p>\n<pre><code>&gt;javac-algs4 RandomWord.java\n'javac-algs4' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n<p>I have restarted since running the installer. I would add these to my <code>PATH</code> manually, but I don't even know where they are; the <code>C:\\Program Files\\LIFT-CS</code> folder that their installer installs into only contains a pissing <em>uninstaller</em>. So I'm absolutely losing my rag and at my wits' end after spending over 7 hours just trying to <em>start</em> this course, not even getting stuck on the problems or the content. When will content creators learn we don't want your in-house IDE with no dark mode and libraries that do nothing but rename every function to camel-case?</p>\n<p>Anyway, if anyone has encountered this or knows what I could do to fix it, help would be appreciated.</p>\n"},{"tags":["java","reactjs","spring","mongodb","rest"],"answers":[{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652815532,"creation_date":1652815532,"answer_id":72279655,"question_id":72276426,"body_markdown":"I know two ways of implementation this. Easiest - websockets. Hardest - backend is calling frontend.\r\n\r\nMore about second solution. In normal world, we are calling backend using frontend, here will be visa versa. When backend will receive a message (from another user), it will tell frontend that message was received ant it should show it. ","title":"Stateless api with real time chat","body":"<p>I know two ways of implementation this. Easiest - websockets. Hardest - backend is calling frontend.</p>\n<p>More about second solution. In normal world, we are calling backend using frontend, here will be visa versa. When backend will receive a message (from another user), it will tell frontend that message was received ant it should show it.</p>\n"},{"tags":[],"owner":{"account_id":5523655,"reputation":92,"user_id":4385849,"display_name":"asafb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652815701,"creation_date":1652815701,"answer_id":72279684,"question_id":72276426,"body_markdown":"\r\nthe correct way achieving real time chats beside websockets would be to use firebase which is very common since usually the clients connected to your server will use android/iOS.\r\n\r\nobviously an app connected to firebase is maintaining a stateful connection to firebase.\r\n\r\n\r\nin general i dont think it is possible to provide push functionalities without state , as the server must reach the connected clients thus it must maintain those connections. if not using firebase, using websocket seems a reasonable approach.","title":"Stateless api with real time chat","body":"<p>the correct way achieving real time chats beside websockets would be to use firebase which is very common since usually the clients connected to your server will use android/iOS.</p>\n<p>obviously an app connected to firebase is maintaining a stateful connection to firebase.</p>\n<p>in general i dont think it is possible to provide push functionalities without state , as the server must reach the connected clients thus it must maintain those connections. if not using firebase, using websocket seems a reasonable approach.</p>\n"}],"owner":{"account_id":16019330,"reputation":67,"user_id":11561178,"display_name":"Oscar Vinther"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652815701,"creation_date":1652800006,"question_id":72276426,"body_markdown":"So I have a REST api. I want to keep it stateless, but at the sametime I need to make a real time chat. \r\n\r\nThe only way I can imagine a real time chat, is with websockets. The problem accurs that websockets, to my knowledge, seems pretty statefull. \r\n\r\nIs there another way to create a real time chat? \r\n\r\nMy stack is Spring boot (java)\r\nReact frontend\r\nMongodb for database. \r\n\r\nPlan for hosting would be AWS\r\n\r\nAnd normally I would just ignore the 100% stateless or statefull, but this is for a school project, and I would look good in my report, to say I am 100% stateless. \r\n\r\n\r\n\r\n","title":"Stateless api with real time chat","body":"<p>So I have a REST api. I want to keep it stateless, but at the sametime I need to make a real time chat.</p>\n<p>The only way I can imagine a real time chat, is with websockets. The problem accurs that websockets, to my knowledge, seems pretty statefull.</p>\n<p>Is there another way to create a real time chat?</p>\n<p>My stack is Spring boot (java)\nReact frontend\nMongodb for database.</p>\n<p>Plan for hosting would be AWS</p>\n<p>And normally I would just ignore the 100% stateless or statefull, but this is for a school project, and I would look good in my report, to say I am 100% stateless.</p>\n"},{"tags":["java","machine-learning","sparql"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1652842080,"post_id":72278841,"comment_id":127701711,"body_markdown":"and how did you add Jena in a version &lt; `3.x` to your Java classpath?","body":"and how did you add Jena in a version &lt; <code>3.x</code> to your Java classpath?"},{"owner":{"account_id":23928804,"reputation":1,"user_id":17923600,"display_name":"Atishay Jain"},"score":0,"creation_date":1652895561,"post_id":72278841,"comment_id":127720213,"body_markdown":"I just have imported all the required jar files of jena 2.10.0 and sparqlml 0.40","body":"I just have imported all the required jar files of jena 2.10.0 and sparqlml 0.40"}],"owner":{"account_id":23928804,"reputation":1,"user_id":17923600,"display_name":"Atishay Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652815685,"creation_date":1652811160,"question_id":72278841,"body_markdown":"I am trying to build a ML model using sparqlML in Java but while building the query, I am getting an exception:\r\n\r\n```\r\nException in thread &quot;main&quot;:\r\njava.lang.NoClassDefFoundError:com/hp/hpl/jena/sparql/lang/sparql/TokenMgrError\r\n```\r\n\r\nThe code that throws the exception:\r\n```java\r\nQueryML query = QueryFactoryML.create(queryString);\r\nQueryExecutionML qe = QueryExecutionFactoryML.create(query, dataset);\r\nModel trainModel = qe.execCreate();\r\ntrainModel.write(System.out, &quot;RDF/XML-ABBREV&quot;);\r\n```","title":"Trying to build a model in sparqlML in java but getting Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError","body":"<p>I am trying to build a ML model using sparqlML in Java but while building the query, I am getting an exception:</p>\n<pre><code>Exception in thread &quot;main&quot;:\njava.lang.NoClassDefFoundError:com/hp/hpl/jena/sparql/lang/sparql/TokenMgrError\n</code></pre>\n<p>The code that throws the exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>QueryML query = QueryFactoryML.create(queryString);\nQueryExecutionML qe = QueryExecutionFactoryML.create(query, dataset);\nModel trainModel = qe.execCreate();\ntrainModel.write(System.out, &quot;RDF/XML-ABBREV&quot;);\n</code></pre>\n"},{"tags":["java","naming-conventions","oop"],"answers":[{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652807758,"creation_date":1231179496,"answer_id":414013,"question_id":414001,"body_markdown":"The convention is that class names start with an uppercase letter. Variable names are [lower camel case][1]. Even if the variable references an object, it still starts with lower case.\r\n\r\n[This page][2] should help.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Camel_case\r\n  [2]: http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html\r\n","title":"Variable naming conventions in Java","body":"<p>The convention is that class names start with an uppercase letter. Variable names are <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">lower camel case</a>. Even if the variable references an object, it still starts with lower case.</p>\n<p><a href=\"http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html\" rel=\"nofollow noreferrer\">This page</a> should help.</p>\n"},{"tags":[],"owner":{"account_id":2229,"reputation":1488,"user_id":3068,"accept_rate":100,"display_name":"EdgarVerona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652813179,"creation_date":1231179532,"answer_id":414015,"question_id":414001,"body_markdown":"The conventions really depend on the individual place you&#39;re coding for.\r\n\r\nIn general, from what I&#39;ve seen classes are [upper camel cased][1] (with upper case first), methods start with lower case, and variables I&#39;ve seen all over the place (some upper camel cased, some [lower camel cased][1] with first letter lower (as mentioned in previous answers, this is the norm), some even with [Hungarian notation][2]).  It depends on your style and the style that the project you&#39;re working on has adopted.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Camel_case\r\n  [2]: https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/\r\n\r\n\r\n\r\n\r\n","title":"Variable naming conventions in Java","body":"<p>The conventions really depend on the individual place you're coding for.</p>\n<p>In general, from what I've seen classes are <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">upper camel cased</a> (with upper case first), methods start with lower case, and variables I've seen all over the place (some upper camel cased, some <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">lower camel cased</a> with first letter lower (as mentioned in previous answers, this is the norm), some even with <a href=\"https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/\" rel=\"nofollow noreferrer\">Hungarian notation</a>).  It depends on your style and the style that the project you're working on has adopted.</p>\n"},{"tags":[],"owner":{"account_id":3290,"reputation":19931,"user_id":4737,"accept_rate":52,"display_name":"jamesh"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1652814741,"creation_date":1231179627,"answer_id":414023,"question_id":414001,"body_markdown":"You can find the naming in the [Java Code Conventions][1].\r\n\r\nA quick summary:\r\n\r\n * For classes, use [upper camel case][2].\r\n * For class members and local variables use [lower camel case][2]\r\n * For packages, use reverse URIs, e.g., *org.acme.project.subsystem*\r\n * For constants, use [uppercase][3].\r\n\r\n  [1]: http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html#367\r\n  [2]: https://en.wikipedia.org/wiki/Camel_case\r\n  [3]: https://en.wiktionary.org/wiki/uppercase#Adjective\r\n\r\n\r\n\r\n","title":"Variable naming conventions in Java","body":"<p>You can find the naming in the <a href=\"http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html#367\" rel=\"nofollow noreferrer\">Java Code Conventions</a>.</p>\n<p>A quick summary:</p>\n<ul>\n<li>For classes, use <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">upper camel case</a>.</li>\n<li>For class members and local variables use <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">lower camel case</a></li>\n<li>For packages, use reverse URIs, e.g., <em>org.acme.project.subsystem</em></li>\n<li>For constants, use <a href=\"https://en.wiktionary.org/wiki/uppercase#Adjective\" rel=\"nofollow noreferrer\">uppercase</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":349,"reputation":58241,"user_id":437,"accept_rate":87,"display_name":"Patrick McElhaney"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1231179677,"creation_date":1231179677,"answer_id":414028,"question_id":414001,"body_markdown":"\r\n  - variablesAndMethodsLikeThis\r\n  - ClassesLikeThis\r\n  - CONSTANTS_LIKE_THIS\r\n","title":"Variable naming conventions in Java","body":"<ul>\n<li>variablesAndMethodsLikeThis</li>\n<li>ClassesLikeThis</li>\n<li>CONSTANTS_LIKE_THIS</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7133,"reputation":3591,"user_id":12254,"display_name":"Richard Campbell"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1231180729,"creation_date":1231179681,"answer_id":414029,"question_id":414001,"body_markdown":"Generally, all variables will start with lower case:\r\n\r\n    int count = 32;\r\n    double conversionFactor = 1.5d;\r\n\r\nSome people like to put static constants in all case:\r\n\r\n    public static final double KILOGRAM_TO_POUND = 2.20462262;\r\n\r\nThings get more annoying when you deal with acronyms, and there is no real standard on whether you should use:\r\n\r\n    HTMLHandler myHtmlHandler; \r\n\r\nor\r\n\r\n    HTMLHandler myHTMLHandler.\r\n\r\nNow, either way, note that the class names (Object, String, HTMLHandler) always start with a capital letter, but individual object variables start lowercase.\r\n\r\n\r\n\r\n","title":"Variable naming conventions in Java","body":"<p>Generally, all variables will start with lower case:</p>\n\n<pre><code>int count = 32;\ndouble conversionFactor = 1.5d;\n</code></pre>\n\n<p>Some people like to put static constants in all case:</p>\n\n<pre><code>public static final double KILOGRAM_TO_POUND = 2.20462262;\n</code></pre>\n\n<p>Things get more annoying when you deal with acronyms, and there is no real standard on whether you should use:</p>\n\n<pre><code>HTMLHandler myHtmlHandler; \n</code></pre>\n\n<p>or</p>\n\n<pre><code>HTMLHandler myHTMLHandler.\n</code></pre>\n\n<p>Now, either way, note that the class names (Object, String, HTMLHandler) always start with a capital letter, but individual object variables start lowercase.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652815184,"creation_date":1231182174,"answer_id":414126,"question_id":414001,"body_markdown":"Some people (who are not me) like to differentiate *method* variables from [*instance* variables][1] by prefixing *instance* variables with &quot;this.&quot;  This also fixes the problem that occurs when assigning a parameter to an *instance* variable of the same name:\r\n\r\n    public ConstructorMethod(MyVar variable) {\r\n        this.variable = variable;\r\n    }\r\n\r\nBut then some people feel you should always use that pattern&amp;mdash;but I&#39;m not crazy about it&amp;mdash;I think it&#39;s overkill if you keep your methods and classes small.\r\n\r\nAlso, some people use a naming pattern for parameters. This (again) comes in handy when you are assigning from a constructor to an *instance* variable:\r\n\r\n    public ConstructorMethod(MyVar pVariable) {\r\n        variable = pVariable;\r\n    }\r\n\r\nUsually the pattern is `pVariable` or `_variable`. I occasionally use this because I find it more readable than this, but it has the disadvantage of making your Javadocs less readable.\r\n\r\nIn any case, I don&#39;t really like the idea of *always* using any of these patterns. They are great to know, but if you really need help differentiating them throughout your code, tell [Eclipse][2] to show them in different colors.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Instance_variable\r\n  [2]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n\r\n\r\n\r\n","title":"Variable naming conventions in Java","body":"<p>Some people (who are not me) like to differentiate <em>method</em> variables from <a href=\"https://en.wikipedia.org/wiki/Instance_variable\" rel=\"nofollow noreferrer\"><em>instance</em> variables</a> by prefixing <em>instance</em> variables with &quot;this.&quot;  This also fixes the problem that occurs when assigning a parameter to an <em>instance</em> variable of the same name:</p>\n<pre><code>public ConstructorMethod(MyVar variable) {\n    this.variable = variable;\n}\n</code></pre>\n<p>But then some people feel you should always use that pattern—but I'm not crazy about it—I think it's overkill if you keep your methods and classes small.</p>\n<p>Also, some people use a naming pattern for parameters. This (again) comes in handy when you are assigning from a constructor to an <em>instance</em> variable:</p>\n<pre><code>public ConstructorMethod(MyVar pVariable) {\n    variable = pVariable;\n}\n</code></pre>\n<p>Usually the pattern is <code>pVariable</code> or <code>_variable</code>. I occasionally use this because I find it more readable than this, but it has the disadvantage of making your Javadocs less readable.</p>\n<p>In any case, I don't really like the idea of <em>always</em> using any of these patterns. They are great to know, but if you really need help differentiating them throughout your code, tell <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a> to show them in different colors.</p>\n"},{"tags":[],"owner":{"account_id":6381098,"reputation":43,"user_id":4950517,"display_name":"shx"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1652815409,"creation_date":1446561402,"answer_id":33501758,"question_id":414001,"body_markdown":"What do you think about using [lower camel case][1] for instance methods and [upper camel case][1] (Pascal case) for static?\r\n\r\nI think it could be very helpful, because there wouldn&#39;t be any issues while verifying which method is static. It&#39;s my proposal.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Camel_case\r\n\r\n\r\n","title":"Variable naming conventions in Java","body":"<p>What do you think about using <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">lower camel case</a> for instance methods and <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">upper camel case</a> (Pascal case) for static?</p>\n<p>I think it could be very helpful, because there wouldn't be any issues while verifying which method is static. It's my proposal.</p>\n"}],"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88021,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":414029,"answer_count":7,"score":22,"last_activity_date":1652815651,"creation_date":1231179331,"question_id":414001,"body_markdown":"In PHP, we (at least the good programmers) always start general variable names with a lower-case letter, but class variables/objects with an upper-case letter to distinguish them. In the same way we start general file names with a lower case letter, but files containing Classes with an upper case letter.\r\n\r\nE.g.:\r\n\r\n```lang-php\r\n&lt;?php\r\n    $number = 123;\r\n    $string = &quot;a string&quot;;\r\n    $colors_array = array(&#39;red&#39;, &#39;blue&#39;, &#39;red&#39;);\r\n    $Cat = New Cat();\r\n?&gt;\r\n```\r\n\r\nAre the conventions the same in Java, i.e., objects starting with upper-case, but the rest with lower case, or does everything start with lower case as I&#39;ve read in other places?\r\n\r\n\r\n","title":"Variable naming conventions in Java","body":"<p>In PHP, we (at least the good programmers) always start general variable names with a lower-case letter, but class variables/objects with an upper-case letter to distinguish them. In the same way we start general file names with a lower case letter, but files containing Classes with an upper case letter.</p>\n<p>E.g.:</p>\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n    $number = 123;\n    $string = &quot;a string&quot;;\n    $colors_array = array('red', 'blue', 'red');\n    $Cat = New Cat();\n?&gt;\n</code></pre>\n<p>Are the conventions the same in Java, i.e., objects starting with upper-case, but the rest with lower case, or does everything start with lower case as I've read in other places?</p>\n"},{"tags":["java","spring","spring-boot","bean-validation","java-annotations"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1652804879,"post_id":72277390,"comment_id":127693183,"body_markdown":"[`isAfter`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isAfter-java.time.chrono.ChronoLocalDate-) and [`isBefore`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-)","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isAfter-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isAfter</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isBefore</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":25211815,"reputation":54,"user_id":19049412,"display_name":"sj221"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652805480,"creation_date":1652805480,"answer_id":72277742,"question_id":72277390,"body_markdown":"You can use isBefore and isAfter method as shown here https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Bean-Validate minimum and maximum value for LocalDate","body":"<p>You can use isBefore and isAfter method as shown here <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652815644,"creation_date":1652815644,"answer_id":72279670,"question_id":72277390,"body_markdown":"[*Jakarta Bean Validation 2.0*][1] added support for the *java.time* classes defined in JSR 310. \r\n\r\nSearch for articles and videos showing the new features. Read [JSR 380][2].\r\n\r\nI expect you can use `@Min`, and `@Max` with `LocalDate` but I’ve not yet verified. \r\n\r\n\r\n  [1]: https://beanvalidation.org/2.0/\r\n  [2]: https://jcp.org/en/jsr/detail?id=380","title":"Bean-Validate minimum and maximum value for LocalDate","body":"<p><a href=\"https://beanvalidation.org/2.0/\" rel=\"nofollow noreferrer\"><em>Jakarta Bean Validation 2.0</em></a> added support for the <em>java.time</em> classes defined in JSR 310.</p>\n<p>Search for articles and videos showing the new features. Read <a href=\"https://jcp.org/en/jsr/detail?id=380\" rel=\"nofollow noreferrer\">JSR 380</a>.</p>\n<p>I expect you can use <code>@Min</code>, and <code>@Max</code> with <code>LocalDate</code> but I’ve not yet verified.</p>\n"}],"owner":{"account_id":17867150,"reputation":1,"user_id":12979269,"display_name":"Michał"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652815644,"creation_date":1652803825,"question_id":72277390,"body_markdown":"I would like to provide bean-validation for variable which is of the LocalDate type.\r\nThe minimum acceptable value should be `LocalDate.of(2020,1,1)`.\r\nThe maximum acceptable value should be `LocalDate.of(5874897,1,1)`.","title":"Bean-Validate minimum and maximum value for LocalDate","body":"<p>I would like to provide bean-validation for variable which is of the LocalDate type.\nThe minimum acceptable value should be <code>LocalDate.of(2020,1,1)</code>.\nThe maximum acceptable value should be <code>LocalDate.of(5874897,1,1)</code>.</p>\n"},{"tags":["java","soap","xsd","wsdl","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":21121306,"reputation":441,"user_id":15527279,"display_name":"Carter McKay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652815401,"creation_date":1652815401,"answer_id":72279631,"question_id":72085833,"body_markdown":"It is possible to combine the parts you need from each of these two, so that you make a bean of a static wsdl, but still can import the xsd files as a collection?\r\n\r\nYes, you can use the &lt;wsdl:types&gt; element to import an external XSD schema into a WSDL document.\r\n\r\n```\r\n&lt;wsdl:types&gt;\r\n    &lt;xs:schema&gt;\r\n        &lt;xs:import namespace=&quot;http://www.example.com/types&quot; schemaLocation=&quot;types.xsd&quot;/&gt;\r\n    &lt;/xs:schema&gt;\r\n&lt;/wsdl:types&gt;\r\n```\r\nYou can also use the &lt;wsdl:import&gt; element to import an external WSDL document into a WSDL document.\r\n```\r\n&lt;wsdl:import namespace=&quot;http://www.example.com/service&quot; location=&quot;service.wsdl&quot;/&gt;\r\n```\r\nFor more information, see:\r\n\r\nhttps://www.w3.org/TR/wsdl#_types\r\nhttps://www.w3.org/TR/wsdl#_import\r\n\r\nI hope all this information is relevant","title":"How do I configure beans for a static wsdl, which is importing a root xsd of a hierarchical structure?","body":"<p>It is possible to combine the parts you need from each of these two, so that you make a bean of a static wsdl, but still can import the xsd files as a collection?</p>\n<p>Yes, you can use the wsdl:types element to import an external XSD schema into a WSDL document.</p>\n<pre><code>&lt;wsdl:types&gt;\n    &lt;xs:schema&gt;\n        &lt;xs:import namespace=&quot;http://www.example.com/types&quot; schemaLocation=&quot;types.xsd&quot;/&gt;\n    &lt;/xs:schema&gt;\n&lt;/wsdl:types&gt;\n</code></pre>\n<p>You can also use the wsdl:import element to import an external WSDL document into a WSDL document.</p>\n<pre><code>&lt;wsdl:import namespace=&quot;http://www.example.com/service&quot; location=&quot;service.wsdl&quot;/&gt;\n</code></pre>\n<p>For more information, see:</p>\n<p><a href=\"https://www.w3.org/TR/wsdl#_types\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/wsdl#_types</a>\n<a href=\"https://www.w3.org/TR/wsdl#_import\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/wsdl#_import</a></p>\n<p>I hope all this information is relevant</p>\n"}],"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1652815401,"creation_date":1651489806,"question_id":72085833,"body_markdown":"I am implementing soap web services in a Spring environment. The xsd and wsdl definitions come from an external company, and I&#39;ve implemented the endpoints already.\r\nHowever, when exposing trying the wsdl-files to outside consumers through a `WsConfigurerAdapter`, I can&#39;t get it to work properly.\r\nHere is what I have (for each of six services):\r\n 1. A static wsdl, referring to:\r\n 2. A xsd-filed called [service]Interface.xsd, which includes:\r\n 3. [service]_I.xsd, and [service]_O.xsd, referring to each operations input and output.\r\nThe input and output files again refer to multiple other xsd files, which makes up the structure.\r\nAs far as I understand, there are two main strategies for defining beans for wsdl&#39;s in a `WsConfigurerAdapter`. Either through `SimpleWsdl11Definition`, which can read a static wsdl-file. Or through `DefaultWsdl11Definition`, which can generate a wsdl based on an xsd schema. However, none of my resources fit into any tutorial i can find.\r\n\r\n**The problem is inline xsd schemas**\r\n\r\nI&#39;ve been able to get the system to read hierarchical xsd-files, through `DefaultWsdl11Definition`, By using a SchemaCollection instead of a SimpleSchema. But unfortunately, my xsd-files generate no operations. Without operations, no service can be loaded into for example soap UI. The xsd-files themselves seems to be insufficiently defined for this approach.\r\n\r\nThe operations are defined in the static wsdl, however, but in the `SimpleWsdl11Definition`, there are no option to add a SchemaCollection.\r\n\r\nAnd now I am wondering if the resources (wsdl/xsd) are simply in a bad format, or if I am missing something in the configuration of them.\r\n\r\n\r\nRelated:\r\nhttps://stackoverflow.com/questions/9531159/publishing-static-wsdl-and-related-xsd-schemas-using-spring-ws\r\nDifference for me is that my xsd structure is a large tree of files.\r\n\r\nhttps://stackoverflow.com/questions/2378829/spring-map-a-file-to-a-url-uri\r\nHere the imported xsd files are imported as a collection, but not in a static wsdl context, the wsdl is generated from the initial xsd.\r\n\r\n\r\nIs it possible to combine the parts i need from each of these two, so that I make a bean of a static wsdl, but still can import the xsd files as a collection?\r\nAre there any other ways to do it? For instance making a bean for each of the xsd files? (there are about 50 of them, so it is viable)\r\n\r\nI have not included the documentation package by choice, as I hope this is answerable without it. Let me know if I am wrong.","title":"How do I configure beans for a static wsdl, which is importing a root xsd of a hierarchical structure?","body":"<p>I am implementing soap web services in a Spring environment. The xsd and wsdl definitions come from an external company, and I've implemented the endpoints already.\nHowever, when exposing trying the wsdl-files to outside consumers through a <code>WsConfigurerAdapter</code>, I can't get it to work properly.\nHere is what I have (for each of six services):</p>\n<ol>\n<li>A static wsdl, referring to:</li>\n<li>A xsd-filed called [service]Interface.xsd, which includes:</li>\n<li>[service]_I.xsd, and [service]_O.xsd, referring to each operations input and output.\nThe input and output files again refer to multiple other xsd files, which makes up the structure.\nAs far as I understand, there are two main strategies for defining beans for wsdl's in a <code>WsConfigurerAdapter</code>. Either through <code>SimpleWsdl11Definition</code>, which can read a static wsdl-file. Or through <code>DefaultWsdl11Definition</code>, which can generate a wsdl based on an xsd schema. However, none of my resources fit into any tutorial i can find.</li>\n</ol>\n<p><strong>The problem is inline xsd schemas</strong></p>\n<p>I've been able to get the system to read hierarchical xsd-files, through <code>DefaultWsdl11Definition</code>, By using a SchemaCollection instead of a SimpleSchema. But unfortunately, my xsd-files generate no operations. Without operations, no service can be loaded into for example soap UI. The xsd-files themselves seems to be insufficiently defined for this approach.</p>\n<p>The operations are defined in the static wsdl, however, but in the <code>SimpleWsdl11Definition</code>, there are no option to add a SchemaCollection.</p>\n<p>And now I am wondering if the resources (wsdl/xsd) are simply in a bad format, or if I am missing something in the configuration of them.</p>\n<p>Related:\n<a href=\"https://stackoverflow.com/questions/9531159/publishing-static-wsdl-and-related-xsd-schemas-using-spring-ws\">Publishing Static WSDL and related XSD schemas using Spring WS</a>\nDifference for me is that my xsd structure is a large tree of files.</p>\n<p><a href=\"https://stackoverflow.com/questions/2378829/spring-map-a-file-to-a-url-uri\">Spring Map a file to a Url / URI</a>\nHere the imported xsd files are imported as a collection, but not in a static wsdl context, the wsdl is generated from the initial xsd.</p>\n<p>Is it possible to combine the parts i need from each of these two, so that I make a bean of a static wsdl, but still can import the xsd files as a collection?\nAre there any other ways to do it? For instance making a bean for each of the xsd files? (there are about 50 of them, so it is viable)</p>\n<p>I have not included the documentation package by choice, as I hope this is answerable without it. Let me know if I am wrong.</p>\n"},{"tags":["java","android","android-studio","android-asynctask"],"comments":[{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":0,"creation_date":1652822683,"post_id":72279432,"comment_id":127698606,"body_markdown":"Does `httpClient.getRepositories()` ever return? Also, AsyncTask has been deprecated and you should really use an alternative: https://developer.android.com/reference/android/os/AsyncTask.","body":"Does <code>httpClient.getRepositories()</code> ever return? Also, AsyncTask has been deprecated and you should really use an alternative: <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/AsyncTask</a>."},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1652858227,"post_id":72279432,"comment_id":127705076,"body_markdown":"I suggest to use Kotlin Coroutines as an alternative https://stackoverflow.com/a/62748880/1731626. You can create an extension function `CoroutineScope.executeAsyncTask(...)` and call it in `ViewModel` like the following `viewModelScope.executeAsyncTask(...)` or in `Activity`/`Fragment` `lifecycleScope.executeAsyncTask(...)`.","body":"I suggest to use Kotlin Coroutines as an alternative <a href=\"https://stackoverflow.com/a/62748880/1731626\">stackoverflow.com/a/62748880/1731626</a>. You can create an extension function <code>CoroutineScope.executeAsyncTask(...)</code> and call it in <code>ViewModel</code> like the following <code>viewModelScope.executeAsyncTask(...)</code> or in <code>Activity</code>/<code>Fragment</code> <code>lifecycleScope.executeAsyncTask(...)</code>."},{"owner":{"account_id":13315422,"reputation":1,"user_id":9612032,"display_name":"Studene008"},"score":0,"creation_date":1652866250,"post_id":72279432,"comment_id":127708014,"body_markdown":"thank you, change AsynTask to java.util.concurrent helps me!","body":"thank you, change AsynTask to java.util.concurrent helps me!"}],"owner":{"account_id":13315422,"reputation":1,"user_id":9612032,"display_name":"Studene008"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652814355,"creation_date":1652814355,"question_id":72279432,"body_markdown":"Method doInBackground() works well, but never call onPostExecute(). Method onPostExecute() override right, I do not cancel the AsyncTask and start the task with execute() method. I can not understand that behaviour. \r\n\r\nStart the task:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        httpClient = new HttpClient();\r\n        new GetRepositoriesAsyncTask().execute(&quot;android&quot;);\r\n    }\r\n\r\nAsync class:\r\n\r\n```\r\n private class GetRepositoriesAsyncTask extends AsyncTask&lt;String, Integer, ArrayList&lt;Repository&gt;&gt;{\r\n        @Override\r\n        protected ArrayList&lt;Repository&gt; doInBackground(String... queries) {\r\n            try {\r\n                return httpClient.getRepositories(queries[0]);\r\n            } catch (IOException | JSONException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;Repository&gt; repositories) {\r\n            if (repositories != null) {\r\n                adapter.addItems(repositories);\r\n            } else {\r\n                Toast.makeText(MainActivity.this, R.string.error, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThanks","title":"onPostExecute not called after completion AsyncTask. onPostExecute override right, not cancelled","body":"<p>Method doInBackground() works well, but never call onPostExecute(). Method onPostExecute() override right, I do not cancel the AsyncTask and start the task with execute() method. I can not understand that behaviour.</p>\n<p>Start the task:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    httpClient = new HttpClient();\n    new GetRepositoriesAsyncTask().execute(&quot;android&quot;);\n}\n</code></pre>\n<p>Async class:</p>\n<pre><code> private class GetRepositoriesAsyncTask extends AsyncTask&lt;String, Integer, ArrayList&lt;Repository&gt;&gt;{\n        @Override\n        protected ArrayList&lt;Repository&gt; doInBackground(String... queries) {\n            try {\n                return httpClient.getRepositories(queries[0]);\n            } catch (IOException | JSONException e) {\n                e.printStackTrace();\n                return null;\n            }\n        }\n\n        @Override\n        protected void onPostExecute(ArrayList&lt;Repository&gt; repositories) {\n            if (repositories != null) {\n                adapter.addItems(repositories);\n            } else {\n                Toast.makeText(MainActivity.this, R.string.error, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","csv","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652812944,"creation_date":1652812944,"answer_id":72279172,"question_id":72277095,"body_markdown":"Please properly read the [CSV specification][1], your file is malformed. In particular:\r\n\r\n&gt;    6.  Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes.  For example:\r\n&gt;\r\n&gt;       &quot;aaa&quot;,&quot;b CRLF\r\n&gt;       bb&quot;,&quot;ccc&quot; CRLF\r\n&gt;       zzz,yyy,xxx\r\n&gt;\r\n&gt;   7.  If double-quotes are used to enclose fields, then a double-quote appearing inside a field must be escaped by preceding it with another double quote. For example:\r\n&gt;\r\n&gt;       &quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;\r\n\r\n\r\nYour file should look like:\r\n\r\n```\r\nplayerId, dateIds\r\n113489013, &quot;{&quot;&quot;20210820TT&quot;&quot;, &quot;&quot;20220211TT&quot;&quot;}&quot;\r\n```\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc4180#page-2","title":"How do I have to format my feeder csv file, to inject a list of string elements into my JSON request in Gatling?","body":"<p>Please properly read the <a href=\"https://datatracker.ietf.org/doc/html/rfc4180#page-2\" rel=\"nofollow noreferrer\">CSV specification</a>, your file is malformed. In particular:</p>\n<blockquote>\n<ol start=\"6\">\n<li>Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes.  For example:</li>\n</ol>\n<pre><code>  &quot;aaa&quot;,&quot;b CRLF\n  bb&quot;,&quot;ccc&quot; CRLF\n  zzz,yyy,xxx\n</code></pre>\n<ol start=\"7\">\n<li><p>If double-quotes are used to enclose fields, then a double-quote appearing inside a field must be escaped by preceding it with another double quote. For example:</p>\n<p>&quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;</p>\n</li>\n</ol>\n</blockquote>\n<p>Your file should look like:</p>\n<pre><code>playerId, dateIds\n113489013, &quot;{&quot;&quot;20210820TT&quot;&quot;, &quot;&quot;20220211TT&quot;&quot;}&quot;\n</code></pre>\n"}],"owner":{"account_id":5190004,"reputation":667,"user_id":4153207,"accept_rate":100,"display_name":"Felix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72279172,"answer_count":1,"score":0,"last_activity_date":1652812944,"creation_date":1652802578,"question_id":72277095,"body_markdown":"I am having trouble adding a list of string id&#39;s to my JSON request body! I tried many different formatting styles ... but could not figure out how to get this to work in Gatling, using the JavaDSL. \r\n\r\nthis is one of my csv formatting attempts to represent a list:\r\n\r\n```\r\nplayerId, dateIds\r\n113489013, {&quot;20210820TT&quot;, &quot;20220211TT&quot;}\r\n```\r\nhere the code to feed my csv data into the json request body:\r\n\r\n```\r\npublic static ScenarioBuilder isPlayingScenario = scenario(&quot;is playing&quot;)\r\n            .feed(playerIdFeeder)\r\n            .exec(isPlaying);\r\n\r\npublic static final ChainBuilder isPlaying =\r\n        exec(http(IS_PLAYING)\r\n                .post(IS_PLAYING_URL + &quot;#{playerId}&quot;)\r\n                .headers(headers)\r\n                .body(ElFileBody(&quot;data/requests/is-playing-request.json&quot;))\r\n                .asJson()\r\n        );\r\n```\r\n\r\nand here the the very simple request body only containing a list of id&#39;s:\r\n\r\n```\r\n{\r\n  &quot;dateIds&quot;: [&quot;#{dateIds}&quot;]\r\n}\r\n```\r\nThis particular attempt is resolved to:\r\n\r\n```\r\nbody:StringChunksRequestBody{contentType=&#39;application/json&#39;, charset=UTF-8, content={\r\n  &quot;dateIds&quot;: [&quot; {&quot;20210820TT&quot;&quot;]\r\n}}\r\n\r\n```\r\n\r\nso it does neither resolve to a valid JSON, nor does it include the second id... \r\nAny help is well appreciated! Thanks.\r\n\r\n\r\n","title":"How do I have to format my feeder csv file, to inject a list of string elements into my JSON request in Gatling?","body":"<p>I am having trouble adding a list of string id's to my JSON request body! I tried many different formatting styles ... but could not figure out how to get this to work in Gatling, using the JavaDSL.</p>\n<p>this is one of my csv formatting attempts to represent a list:</p>\n<pre><code>playerId, dateIds\n113489013, {&quot;20210820TT&quot;, &quot;20220211TT&quot;}\n</code></pre>\n<p>here the code to feed my csv data into the json request body:</p>\n<pre><code>public static ScenarioBuilder isPlayingScenario = scenario(&quot;is playing&quot;)\n            .feed(playerIdFeeder)\n            .exec(isPlaying);\n\npublic static final ChainBuilder isPlaying =\n        exec(http(IS_PLAYING)\n                .post(IS_PLAYING_URL + &quot;#{playerId}&quot;)\n                .headers(headers)\n                .body(ElFileBody(&quot;data/requests/is-playing-request.json&quot;))\n                .asJson()\n        );\n</code></pre>\n<p>and here the the very simple request body only containing a list of id's:</p>\n<pre><code>{\n  &quot;dateIds&quot;: [&quot;#{dateIds}&quot;]\n}\n</code></pre>\n<p>This particular attempt is resolved to:</p>\n<pre><code>body:StringChunksRequestBody{contentType='application/json', charset=UTF-8, content={\n  &quot;dateIds&quot;: [&quot; {&quot;20210820TT&quot;&quot;]\n}}\n\n</code></pre>\n<p>so it does neither resolve to a valid JSON, nor does it include the second id...\nAny help is well appreciated! Thanks.</p>\n"},{"tags":["java","multithreading","websphere","monitoring","jvisualvm"],"comments":[{"owner":{"account_id":1355094,"reputation":912,"user_id":1293660,"accept_rate":88,"display_name":"kgibm"},"score":1,"creation_date":1652882772,"post_id":72279151,"comment_id":127714918,"body_markdown":"Visual VM (and Mission Control, etc.) works with the HotSpot JVM. Other than on Solaris and HP-UX, WebSphere Application Server traditional uses the IBM (J9) JVM instead of the HotSpot JVM. Can you confirm which operating system you&#39;re on? If so, the general answer to what you&#39;re looking for is either a third party profiler or the free [IBM Java Health Center](https://www.ibm.com/docs/en/mon-diag-tools?topic=monitoring-diagnostic-tools-health-center) tool which I can provide more details about in an answer once you confirm your OS.","body":"Visual VM (and Mission Control, etc.) works with the HotSpot JVM. Other than on Solaris and HP-UX, WebSphere Application Server traditional uses the IBM (J9) JVM instead of the HotSpot JVM. Can you confirm which operating system you&#39;re on? If so, the general answer to what you&#39;re looking for is either a third party profiler or the free <a href=\"https://www.ibm.com/docs/en/mon-diag-tools?topic=monitoring-diagnostic-tools-health-center\" rel=\"nofollow noreferrer\">IBM Java Health Center</a> tool which I can provide more details about in an answer once you confirm your OS."}],"owner":{"account_id":24373760,"reputation":21,"user_id":18306365,"display_name":"Jonathan_468"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652812838,"creation_date":1652812838,"question_id":72279151,"body_markdown":"I&#39;m quite surprised that i can&#39;t visualize the memory that takes a thread when a java application is deployed on Websphere 8.\r\n\r\nI was used to use Java Visual VM to track potential memory leak as in the screenshot below :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when i try to use Java Visual VM to track potential memory leak by threads on a application deployed on Websphere 8, this is what I get :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FNtrY.png\r\n  [2]: https://i.stack.imgur.com/KXcAA.png\r\n\r\nI spent hours on google to find a way to make it possible with Java Visual VM but I found nothing, so i checked if it was possible with other tools but again I found nothing.\r\n\r\n\r\nHow It can be possible that we can&#39;t monitor that ???? If it&#39;s the case, Websphere sucks ! But i don&#39;t have the choice, my client is using it.\r\n\r\nI hope I just didn&#39;t search well on internet.\r\n\r\nSo if someone has a solution, I will be reeeeeeeeeeeeeeeeeeeeeeeeeeeally thankful (exhausted and tired).\r\n\r\ntks.","title":"Websphere Thread memory monitoring not available with Java Visual VM?","body":"<p>I'm quite surprised that i can't visualize the memory that takes a thread when a java application is deployed on Websphere 8.</p>\n<p>I was used to use Java Visual VM to track potential memory leak as in the screenshot below :</p>\n<p><a href=\"https://i.stack.imgur.com/FNtrY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FNtrY.png\" alt=\"enter image description here\" /></a></p>\n<p>But when i try to use Java Visual VM to track potential memory leak by threads on a application deployed on Websphere 8, this is what I get :</p>\n<p><a href=\"https://i.stack.imgur.com/KXcAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXcAA.png\" alt=\"enter image description here\" /></a></p>\n<p>I spent hours on google to find a way to make it possible with Java Visual VM but I found nothing, so i checked if it was possible with other tools but again I found nothing.</p>\n<p>How It can be possible that we can't monitor that ???? If it's the case, Websphere sucks ! But i don't have the choice, my client is using it.</p>\n<p>I hope I just didn't search well on internet.</p>\n<p>So if someone has a solution, I will be reeeeeeeeeeeeeeeeeeeeeeeeeeeally thankful (exhausted and tired).</p>\n<p>tks.</p>\n"},{"tags":["java","database","google-cloud-platform","microservices"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1652821656,"post_id":72279149,"comment_id":127698319,"body_markdown":"What did you try, what is your first design?","body":"What did you try, what is your first design?"},{"owner":{"account_id":16985285,"reputation":1,"user_id":12286203,"display_name":"Vivek Singh"},"score":0,"creation_date":1652851290,"post_id":72279149,"comment_id":127703202,"body_markdown":"@guillaumeblaquiere we tried with a simple design only. Whatever fails log it and move ahead. But i feel it can be better so reaching here.","body":"@guillaumeblaquiere we tried with a simple design only. Whatever fails log it and move ahead. But i feel it can be better so reaching here."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652872058,"post_id":72279149,"comment_id":127710306,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16985285,"reputation":1,"user_id":12286203,"display_name":"Vivek Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652812821,"creation_date":1652812821,"question_id":72279149,"body_markdown":"i have two services \r\n1: read a file(xml format) from cloud storage. Parse the content of the xml file into a data model and send it to another micro service.\r\n2: service which is responsible for storing the parsed data into db\r\n\r\nMy question here is if let’s say i am getting list of 10 data from file and after successfully parsing it when trying to store it in db out of 10, 8 pass and 2 fail. How can i keep the track of the failed data so that i can re-process it later?","title":"Is there any Way/approach to keep track of data","body":"<p>i have two services\n1: read a file(xml format) from cloud storage. Parse the content of the xml file into a data model and send it to another micro service.\n2: service which is responsible for storing the parsed data into db</p>\n<p>My question here is if let’s say i am getting list of 10 data from file and after successfully parsing it when trying to store it in db out of 10, 8 pass and 2 fail. How can i keep the track of the failed data so that i can re-process it later?</p>\n"},{"tags":["java","multithreading","sockets"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1652811571,"post_id":72278860,"comment_id":127695322,"body_markdown":"Typically for a server you need 1 thread that waits for new connections to the ServerSocket (`accept` is blocking) and 1 thread per connected client so the server can `read` (which is blocking) their data. If you don&#39;t care about reading, you don&#39;t need a thread.","body":"Typically for a server you need 1 thread that waits for new connections to the ServerSocket (<code>accept</code> is blocking) and 1 thread per connected client so the server can <code>read</code> (which is blocking) their data. If you don&#39;t care about reading, you don&#39;t need a thread."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1652811725,"post_id":72278860,"comment_id":127695366,"body_markdown":"Consider NIO, or use a framework around NIO such as Netty","body":"Consider NIO, or use a framework around NIO such as Netty"},{"owner":{"account_id":25257118,"reputation":1,"user_id":19138904,"display_name":"Mohammad El Hammal"},"score":0,"creation_date":1652812661,"post_id":72278860,"comment_id":127695663,"body_markdown":"this my code how i can edit?","body":"this my code how i can edit?"}],"owner":{"account_id":25257118,"reputation":1,"user_id":19138904,"display_name":"Mohammad El Hammal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652812635,"creation_date":1652811272,"question_id":72278860,"body_markdown":"A client communicate with authserver to recieve a nickname, and the auhserver send the nickname to clients and another server, in order to client communicate with the other server.\r\nMy problem is how to make the other server connect with the client and authserver without making new communication thread for each one?\r\n\r\n        public class Aatombolaserver extends Thread {\r\n     /***in order to differentiate between client socket**/\r\n    protected Socket clientSocket;\r\n             String serverHostname = new String (&quot;127.0.0.1&quot;);\r\n             Socket authSocket = null;\r\n    /**** constructor**/\r\n    private Aatombolaserver (Socket clientSoc)\r\n     {clientSocket = clientSoc;\r\n      authSocket = clientSoc;\r\n    //store the socket of the coming client\r\n     start();//execute the run method\r\n     }\r\n    public static void main(String[] args) throws IOException\r\n     {\r\n         /**** Create a server socket and wait for a connection**/\r\n         ServerSocket serverSocket = null;\r\n    //          ServerSocket serverSocket1 = null;\r\n        try {\r\n             serverSocket = new ServerSocket(9091);\r\n    //         serverSocket1 = new ServerSocket(9092);\r\n             System.out.println (&quot;Connection Socket Created&quot;);\r\n             try { System.out.println (&quot;Waiting for a client to connect&quot;);\r\n                 while (true){//wait for clients\r\n                    //accept the client request and proceed with the thread creation\r\n                   new Aatombolaserver(serverSocket.accept());\r\n                 }\r\n             }\r\n             catch (IOException e){\r\n             System.err.println(&quot;Accept failed.&quot;);\r\n             System.exit(1);\r\n             }\r\n        } catch (IOException e) {\r\n             System.err.println(&quot;Could not listen on port: 10008.&quot;);\r\n             System.exit(1);\r\n        }//end try\r\n        /************Close Socket*******************/\r\n     finally {\r\n         try {  serverSocket.close(); }\r\n        catch (IOException e){\r\n             System.err.println(&quot;Could not close port: 10008.&quot;);\r\n             System.exit(1);\r\n            }\r\n        }//end finally\r\n     }","title":"Socket server communicate with 2 clients at 1 thread?","body":"<p>A client communicate with authserver to recieve a nickname, and the auhserver send the nickname to clients and another server, in order to client communicate with the other server.\nMy problem is how to make the other server connect with the client and authserver without making new communication thread for each one?</p>\n<pre><code>    public class Aatombolaserver extends Thread {\n /***in order to differentiate between client socket**/\nprotected Socket clientSocket;\n         String serverHostname = new String (&quot;127.0.0.1&quot;);\n         Socket authSocket = null;\n/**** constructor**/\nprivate Aatombolaserver (Socket clientSoc)\n {clientSocket = clientSoc;\n  authSocket = clientSoc;\n//store the socket of the coming client\n start();//execute the run method\n }\npublic static void main(String[] args) throws IOException\n {\n     /**** Create a server socket and wait for a connection**/\n     ServerSocket serverSocket = null;\n//          ServerSocket serverSocket1 = null;\n    try {\n         serverSocket = new ServerSocket(9091);\n//         serverSocket1 = new ServerSocket(9092);\n         System.out.println (&quot;Connection Socket Created&quot;);\n         try { System.out.println (&quot;Waiting for a client to connect&quot;);\n             while (true){//wait for clients\n                //accept the client request and proceed with the thread creation\n               new Aatombolaserver(serverSocket.accept());\n             }\n         }\n         catch (IOException e){\n         System.err.println(&quot;Accept failed.&quot;);\n         System.exit(1);\n         }\n    } catch (IOException e) {\n         System.err.println(&quot;Could not listen on port: 10008.&quot;);\n         System.exit(1);\n    }//end try\n    /************Close Socket*******************/\n finally {\n     try {  serverSocket.close(); }\n    catch (IOException e){\n         System.err.println(&quot;Could not close port: 10008.&quot;);\n         System.exit(1);\n        }\n    }//end finally\n }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1652818170,"post_id":72279102,"comment_id":127697327,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section. You&#39;ll want to use the `paintComponent` method of a `JPanel`.  The [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) lesson will show you how.  `Canvas` is the name of an AWT class and is confusing.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section. You&#39;ll want to use the <code>paintComponent</code> method of a <code>JPanel</code>.  The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> lesson will show you how.  <code>Canvas</code> is the name of an AWT class and is confusing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1652819130,"post_id":72279102,"comment_id":127697626,"body_markdown":"Yes, as @GilbertLeBlanc said, override `paintComponent` and make a call to `super.paintComponent` as your first line","body":"Yes, as @GilbertLeBlanc said, override <code>paintComponent</code> and make a call to <code>super.paintComponent</code> as your first line"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652820594,"post_id":72279102,"comment_id":127698043,"body_markdown":"Some one broke the paint chain. Overriding a method normally means you either need to delegate it&#39;s pre-existing functionality back to the `super` method or take over it&#39;s functionality, neither of which you have done. GilbertLeBlanc comment is the correct corse of action","body":"Some one broke the paint chain. Overriding a method normally means you either need to delegate it&#39;s pre-existing functionality back to the <code>super</code> method or take over it&#39;s functionality, neither of which you have done. GilbertLeBlanc comment is the correct corse of action"}],"owner":{"account_id":9648051,"reputation":101,"user_id":7160078,"display_name":"Moosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652812589,"creation_date":1652812589,"question_id":72279102,"body_markdown":"I am very new to java, and I am trying to practice some of the things I have learned by making a simple paint application. I tried using JMenubar to add a menu to my program which calls JColorChooser to let the user choose the colour of the paint brush. However there is a glitch where when clicking on the menu, a non functional copy of it is drawn on my JPanel. And after selecting a colour, a copy of the ColorChooser menu is drawn on my JPanel. \r\n\r\nmy code consists of 3 files, the first one containing the main class which does nothing but call my childclass of JFrame which I called PaintApp.\r\n\r\nThen the second file contains the PaintApp class, \r\n\r\n\r\npublic class PaintApp extends JFrame implements ActionListener{\r\n\t\r\n\t\r\n\tCanvas canvas;\r\n\t\r\n\tJMenuBar menuBar;\r\n\t\r\n\tJMenu settingsMenu;\r\n\t\r\n\tJMenuItem brushColour;\r\n\tJMenuItem brushSize;\r\n\tJMenuItem clearItem;\r\n\t\r\n\tPaintApp(){\r\n\t\t\r\n\t\tcanvas = new Canvas();\r\n\t\t\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tmenuBar = new JMenuBar();\r\n\t\t\r\n\t\tsettingsMenu = new JMenu(&quot;Settings&quot;);\r\n\t\t\r\n\t\tbrushColour = new JMenuItem(&quot;Brush Colour&quot;);\r\n\t\tbrushSize = new JMenuItem(&quot;Brush Size&quot;);\r\n\t\tclearItem = new JMenuItem(&quot;Clear Canvas&quot;);\r\n\t\t\r\n\t\tbrushColour.addActionListener(this);\r\n\t\tbrushSize.addActionListener(this);\r\n\t\tclearItem.addActionListener(this);\r\n\t\t\r\n\t\tsettingsMenu.add(brushColour);\r\n\t\tsettingsMenu.add(brushSize);\r\n\t\tsettingsMenu.add(clearItem);\r\n\t\t\r\n\t\tmenuBar.add(settingsMenu);\r\n\t\t\r\n\t\tthis.setJMenuBar(menuBar);\r\n\t\tthis.add(canvas);\r\n\t\tthis.pack();\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tif(e.getSource()==brushColour) {\r\n\t\t\t\r\n\t\t\tColor colour = JColorChooser.showDialog(null, &quot;Pick a Colour&quot;, Color.black);\r\n\t\t\t\r\n\t\t\tcanvas.setColour(colour);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(e.getSource()==brushSize) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(e.getSource()==clearItem) {\r\n\t\t\tcanvas.removeAll();\r\n\t\t\tcanvas.repaint();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n\r\nwhich is where the code for JFrame, ColorChooser, and JMenuBar is, and then my 3rd file contains my Canvas class which is where the code for the JPanel is, as well as the mouse listener and paint method which allow the program to paint on screen where the mouse points. \r\n\r\n    public class Canvas extends JPanel{\r\n\t\r\n\tPoint brushStart = new Point();\r\n\tPoint brushEnd = new Point();\r\n\t\r\n\tColor brushColour;\r\n\t\r\n\t\r\n\tCanvas(){\r\n\t\tthis.setPreferredSize(new Dimension(1000,1000));\r\n\t\t\r\n\t\tClickListener clickListener = new ClickListener();\r\n\t\tDragListener dragListener = new DragListener();\r\n\t\tthis.addMouseListener(clickListener);\r\n\t\tthis.addMouseMotionListener(dragListener);\r\n\t\tbrushColour = new Color(0,0,0);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void paint(Graphics g) {\r\n\t\t\r\n\t\tGraphics2D g2D = (Graphics2D) g;\r\n\t\t\r\n\t\tg2D.setPaint(brushColour);\r\n\t\tg2D.setStroke(new BasicStroke(2));\r\n\t\tg2D.drawLine((int)brushStart.getX(), (int)brushStart.getY(), (int)brushEnd.getX(), (int)brushEnd.getY());\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void setColour(Color color) {\r\n\t\tbrushColour = color;\r\n\t}\r\n\t\r\n\t\r\n\tprivate class ClickListener extends MouseAdapter{\r\n\t\t\r\n\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\tbrushStart = e.getPoint();\r\n\t\t\tbrushEnd = e.getPoint();\r\n\t\t\trepaint();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate class DragListener extends MouseMotionAdapter{\r\n\t\t\r\n\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\t\r\n\t\t\tbrushStart = brushEnd;\r\n\t\t\tbrushEnd = e.getPoint();\r\n\t\t\trepaint();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\nFor some reason this is resulting in this ghosting behaviour. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rs0GQ.png\r\nthe black and purple lines were drawn by me to show that you can draw over the ghosted image, and that the ghosted image abstructs previous drawings. \r\n\r\nWhen the program first runs the window appears blank at first with only the settings menu visible and nothing drawn on screen. the moment you drawn anything anywhere, or click the settings menu, a ghost of the settings menu appears underneath it. Then if you try to enter the colour selection menu, and select a colour, once you exit the menu, a ghost of the menu appears in the panel. ","title":"Ghosting in Java when using JMenuBar, JColorChooser and a paint method","body":"<p>I am very new to java, and I am trying to practice some of the things I have learned by making a simple paint application. I tried using JMenubar to add a menu to my program which calls JColorChooser to let the user choose the colour of the paint brush. However there is a glitch where when clicking on the menu, a non functional copy of it is drawn on my JPanel. And after selecting a colour, a copy of the ColorChooser menu is drawn on my JPanel.</p>\n<p>my code consists of 3 files, the first one containing the main class which does nothing but call my childclass of JFrame which I called PaintApp.</p>\n<p>Then the second file contains the PaintApp class,</p>\n<p>public class PaintApp extends JFrame implements ActionListener{</p>\n<pre><code>Canvas canvas;\n\nJMenuBar menuBar;\n\nJMenu settingsMenu;\n\nJMenuItem brushColour;\nJMenuItem brushSize;\nJMenuItem clearItem;\n\nPaintApp(){\n    \n    canvas = new Canvas();\n    \n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n    menuBar = new JMenuBar();\n    \n    settingsMenu = new JMenu(&quot;Settings&quot;);\n    \n    brushColour = new JMenuItem(&quot;Brush Colour&quot;);\n    brushSize = new JMenuItem(&quot;Brush Size&quot;);\n    clearItem = new JMenuItem(&quot;Clear Canvas&quot;);\n    \n    brushColour.addActionListener(this);\n    brushSize.addActionListener(this);\n    clearItem.addActionListener(this);\n    \n    settingsMenu.add(brushColour);\n    settingsMenu.add(brushSize);\n    settingsMenu.add(clearItem);\n    \n    menuBar.add(settingsMenu);\n    \n    this.setJMenuBar(menuBar);\n    this.add(canvas);\n    this.pack();\n    this.setLocationRelativeTo(null);\n    this.setVisible(true);\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    \n    if(e.getSource()==brushColour) {\n        \n        Color colour = JColorChooser.showDialog(null, &quot;Pick a Colour&quot;, Color.black);\n        \n        canvas.setColour(colour);\n        \n    }\n    \n    if(e.getSource()==brushSize) {\n        \n    }\n    \n    if(e.getSource()==clearItem) {\n        canvas.removeAll();\n        canvas.repaint();\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>which is where the code for JFrame, ColorChooser, and JMenuBar is, and then my 3rd file contains my Canvas class which is where the code for the JPanel is, as well as the mouse listener and paint method which allow the program to paint on screen where the mouse points.</p>\n<pre><code>public class Canvas extends JPanel{\n\nPoint brushStart = new Point();\nPoint brushEnd = new Point();\n\nColor brushColour;\n\n\nCanvas(){\n    this.setPreferredSize(new Dimension(1000,1000));\n    \n    ClickListener clickListener = new ClickListener();\n    DragListener dragListener = new DragListener();\n    this.addMouseListener(clickListener);\n    this.addMouseMotionListener(dragListener);\n    brushColour = new Color(0,0,0);\n    \n}\n\npublic void paint(Graphics g) {\n    \n    Graphics2D g2D = (Graphics2D) g;\n    \n    g2D.setPaint(brushColour);\n    g2D.setStroke(new BasicStroke(2));\n    g2D.drawLine((int)brushStart.getX(), (int)brushStart.getY(), (int)brushEnd.getX(), (int)brushEnd.getY());\n    \n}\n\npublic void setColour(Color color) {\n    brushColour = color;\n}\n\n\nprivate class ClickListener extends MouseAdapter{\n    \n    public void mousePressed(MouseEvent e) {\n        brushStart = e.getPoint();\n        brushEnd = e.getPoint();\n        repaint();\n    }\n    \n}\n\nprivate class DragListener extends MouseMotionAdapter{\n    \n    public void mouseDragged(MouseEvent e) {\n        \n        brushStart = brushEnd;\n        brushEnd = e.getPoint();\n        repaint();\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>For some reason this is resulting in this ghosting behaviour. <a href=\"https://i.stack.imgur.com/Rs0GQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rs0GQ.png\" alt=\"enter image description here\" /></a></p>\n<p>the black and purple lines were drawn by me to show that you can draw over the ghosted image, and that the ghosted image abstructs previous drawings.</p>\n<p>When the program first runs the window appears blank at first with only the settings menu visible and nothing drawn on screen. the moment you drawn anything anywhere, or click the settings menu, a ghost of the settings menu appears underneath it. Then if you try to enter the colour selection menu, and select a colour, once you exit the menu, a ghost of the menu appears in the panel.</p>\n"},{"tags":["java","android","testing","junit"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1652814755,"post_id":72278975,"comment_id":127696316,"body_markdown":"If you want to test UI stuff, like user interactions and what you see as a result (as opposed to testing the internals the UI interacts with), you need to use a UI testing framework like Espresso: https://developer.android.com/training/testing/espresso","body":"If you want to test UI stuff, like user interactions and what you see as a result (as opposed to testing the internals the UI interacts with), you need to use a UI testing framework like Espresso: <a href=\"https://developer.android.com/training/testing/espresso\" rel=\"nofollow noreferrer\">developer.android.com/training/testing/espresso</a>"},{"owner":{"account_id":25114477,"reputation":1,"user_id":18963685,"display_name":"Arina Litiaghova"},"score":0,"creation_date":1652816879,"post_id":72278975,"comment_id":127696981,"body_markdown":"I need exactly Junit testing","body":"I need exactly Junit testing"}],"owner":{"account_id":25114477,"reputation":1,"user_id":18963685,"display_name":"Arina Litiaghova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652811843,"creation_date":1652811843,"question_id":72278975,"body_markdown":"how can I use Junit to test a button click, everything happens in Android studio in java?\r\nI am very bad at Junit testing\r\n   \r\n\r\n    public class ActivityMenu extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_menu);\r\n        \r\n        Button buttonStart = (Button) findViewById(R.id.buttonStart);\r\n        buttonStart.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                \r\n                try {\r\n                    Intent intent = new Intent(ActivityMenu.this, Level_Menu.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }catch (Exception e){\r\n                }\r\n                \r\n            }\r\n        });}\r\n","title":"Button click testing","body":"<p>how can I use Junit to test a button click, everything happens in Android studio in java?\nI am very bad at Junit testing</p>\n<pre><code>public class ActivityMenu extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_menu);\n    \n    Button buttonStart = (Button) findViewById(R.id.buttonStart);\n    buttonStart.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            \n            try {\n                Intent intent = new Intent(ActivityMenu.this, Level_Menu.class);\n                startActivity(intent);\n                finish();\n            }catch (Exception e){\n            }\n            \n        }\n    });}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652788865,"post_id":72271289,"comment_id":127686565,"body_markdown":"What does your migrated code look like (or the original one depending on what you posted here)?","body":"What does your migrated code look like (or the original one depending on what you posted here)?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1652790829,"post_id":72271289,"comment_id":127687283,"body_markdown":"The original code just has the `@AutoConfigureMvcMock` annotation using `spring-web` dependency. I switched now to `spring-webflux` only. And with this, the `rsp.getMockServerResult()` call always results in `null`.","body":"The original code just has the <code>@AutoConfigureMvcMock</code> annotation using <code>spring-web</code> dependency. I switched now to <code>spring-webflux</code> only. And with this, the <code>rsp.getMockServerResult()</code> call always results in <code>null</code>."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652811798,"creation_date":1652811798,"answer_id":72278967,"question_id":72271289,"body_markdown":"The main purpose of the `WebTestClient` is to test endpoints using fluent API to verify responses. There is no magic deserialization or error handling happening but you can get access to the raw responses (status, headers, body).\r\n\r\nIn your example you will not get `MvcResult` or `ResponseStatusException` but you could get access to the raw body using `rsp.getResponseBody()` that would look like \r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-05-17T17:57:07.041+00:00&quot;,\r\n    &quot;path&quot;: &quot;/api&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;requestId&quot;: &quot;4fa648d&quot;\r\n}\r\n``` \r\n\r\nYou could use `expectBody().consumeWith(rsp -&gt; { ... })` to get access to the request and response or expectBody(String.class).value(body -&gt; { ... })` to get just body. As an alternative use some fluent API to validate result JSON `.expectBody().json(&lt;expected json&gt;)` or `.expectBody().jsonPath()` to check specific fields only.\r\n\r\nIn addition you could still deserialize body explicitly using `.expectBody(Response.class).value(body -&gt; {...})`.","title":"How to validate Exception in spring-webflux WebTestClient tests?","body":"<p>The main purpose of the <code>WebTestClient</code> is to test endpoints using fluent API to verify responses. There is no magic deserialization or error handling happening but you can get access to the raw responses (status, headers, body).</p>\n<p>In your example you will not get <code>MvcResult</code> or <code>ResponseStatusException</code> but you could get access to the raw body using <code>rsp.getResponseBody()</code> that would look like</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-05-17T17:57:07.041+00:00&quot;,\n    &quot;path&quot;: &quot;/api&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;requestId&quot;: &quot;4fa648d&quot;\n}\n</code></pre>\n<p>You could use <code>expectBody().consumeWith(rsp -&gt; { ... })</code> to get access to the request and response or expectBody(String.class).value(body -&gt; { ... })<code>to get just body. As an alternative use some fluent API to validate result JSON</code>.expectBody().json()<code>or</code>.expectBody().jsonPath()` to check specific fields only.</p>\n<p>In addition you could still deserialize body explicitly using <code>.expectBody(Response.class).value(body -&gt; {...})</code>.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652811798,"creation_date":1652778774,"question_id":72271289,"body_markdown":"How can I validate the actual `Exception` in a `spring-webflux` test?\r\nThe following worked in the old `spring-web` environment, but migrating to netty and spring-webflux, the `MvcResult` cannot be resolved anymore (`NullPointerException`):\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureWebTestClient\r\n    public class ApiTest {\r\n    \t@Test\r\n    \tpublic void test() throws Exception {\r\n    \t\twebTestClient.get()\r\n    \t\t\t\t.uri(&quot;/api?test=123&quot;)\r\n    \t\t\t\t.exchange()\r\n    \t\t\t\t.expectStatus().isBadRequest()\r\n    \t\t\t\t.expectBody().consumeWith(rsp -&gt; {\r\n                         //throws NPE\r\n    \t\t\t\t\tException ex = ((MvcResult) rsp.getMockServerResult()).getResolvedException();\r\n    \t\t\t\t\tassertTrue(ex instanceof ResponseStatusException);\r\n    \t\t\t\t});\r\n    \t}\r\n    }\r\n\r\n    @RestController \r\n    public class ApiController {\r\n       @PostMapping(&quot;/api&quot;)\r\n       public String test(@RequestParam String test) {\r\n          if (test.matches(&quot;[0-9]+&quot;))\r\n             throw new ResponseStatusException(HttpStatus.BadRequest, &quot;Prohibited characters&quot;);\r\n       }   \r\n    }\r\n\r\nHow could I still validate the real exception class?","title":"How to validate Exception in spring-webflux WebTestClient tests?","body":"<p>How can I validate the actual <code>Exception</code> in a <code>spring-webflux</code> test?\nThe following worked in the old <code>spring-web</code> environment, but migrating to netty and spring-webflux, the <code>MvcResult</code> cannot be resolved anymore (<code>NullPointerException</code>):</p>\n<pre><code>@SpringBootTest\n@AutoConfigureWebTestClient\npublic class ApiTest {\n    @Test\n    public void test() throws Exception {\n        webTestClient.get()\n                .uri(&quot;/api?test=123&quot;)\n                .exchange()\n                .expectStatus().isBadRequest()\n                .expectBody().consumeWith(rsp -&gt; {\n                     //throws NPE\n                    Exception ex = ((MvcResult) rsp.getMockServerResult()).getResolvedException();\n                    assertTrue(ex instanceof ResponseStatusException);\n                });\n    }\n}\n\n@RestController \npublic class ApiController {\n   @PostMapping(&quot;/api&quot;)\n   public String test(@RequestParam String test) {\n      if (test.matches(&quot;[0-9]+&quot;))\n         throw new ResponseStatusException(HttpStatus.BadRequest, &quot;Prohibited characters&quot;);\n   }   \n}\n</code></pre>\n<p>How could I still validate the real exception class?</p>\n"},{"tags":["javascript","java","webcrypto-api"],"comments":[{"owner":{"account_id":6377995,"reputation":165,"user_id":4948352,"display_name":"felix the cat"},"score":0,"creation_date":1516708804,"post_id":48401207,"comment_id":83790293,"body_markdown":"there is no question","body":"there is no question"},{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1516709011,"post_id":48401207,"comment_id":83790428,"body_markdown":"Why would you not just find a java library that does it?","body":"Why would you not just find a java library that does it?"},{"owner":{"account_id":11321028,"reputation":195,"user_id":8301380,"accept_rate":67,"display_name":"rajasekhar pippalla"},"score":0,"creation_date":1516709091,"post_id":48401207,"comment_id":83790484,"body_markdown":"I am trying to put webcrypto API key pair generation code in javascript function and trying to invoke javascript function to get public key and private key values as response.","body":"I am trying to put webcrypto API key pair generation code in javascript function and trying to invoke javascript function to get public key and private key values as response."},{"owner":{"account_id":11321028,"reputation":195,"user_id":8301380,"accept_rate":67,"display_name":"rajasekhar pippalla"},"score":0,"creation_date":1516710928,"post_id":48401207,"comment_id":83791805,"body_markdown":"@epascarello      I am not getting issue with java code , so no need to add java library .. Need to find proper solution to take webcrypto code with java script function.. Am I correct","body":"@epascarello      I am not getting issue with java code , so no need to add java library .. Need to find proper solution to take webcrypto code with java script function.. Am I correct"},{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1516711016,"post_id":48401207,"comment_id":83791866,"body_markdown":"Sounds like you need to run an engine that supports window. Problem is window refers to a browser....","body":"Sounds like you need to run an engine that supports window. Problem is window refers to a browser...."}],"answers":[{"tags":[],"owner":{"account_id":16219355,"reputation":533,"user_id":11711280,"display_name":"Nick Carducci for Carface Bank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652811201,"creation_date":1652806620,"answer_id":72277978,"question_id":48401207,"body_markdown":"tl;dr use javafx 2 https://github.com/openjdk/jfx/search?q=document,\r\nhttps://stackoverflow.com/a/11266979/11711280\r\n````\r\nWebEngine webEngine = webView.getEngine();\r\nwebEngine.getLoadWorker().stateProperty().addListener(...)\r\nwebEngine.loadContent(&quot;load(&#39;&quot; + scriptPath + &quot;&#39;)&quot;);\r\n````\r\nHowever:\r\n&quot;[The full Oracle][1] Java Runtime 8 ships with Nashorn.&quot;\r\n&quot;[Oracle Java dev 1.8 comes with its own bundled Java FX version][2], which generally can&#39;t be overridden. To use Java FX11, you will need to run the project with Java 11 and set the System property java.library.path to the location of the FX framework.&quot;\r\n````\r\nString scriptPath = &quot;/home/rajasekhar/Desktop/webcrypto.js&quot;;\r\n````\r\n````\r\nfunction ScriptWindow(scriptPath){\r\n  return eval(scriptPath);\r\n}.call({window:{}},[...(args=[])]);\r\n````\r\nI would expect static mutable `ScriptEngine` scope\r\n````\r\nengine.put(&quot;window&quot;, {});\r\nengine.eval(&quot;load(&#39;&quot; + scriptPath + &quot;&#39;)&quot;);\r\n````\r\nor for all `ScriptEngineManager` engines\r\n````\r\nScriptContext ctx = new SimpleScriptContext();\r\nBindings globalBindings = new SimpleBindings();\r\nctx.setBindings(globalBindings, ScriptContext.GLOBAL_SCOPE);\r\nctx.setAttribute(&quot;window&quot;, {}, ScriptContext.GLOBAL_SCOPE);\r\n````\r\nto be accessible in the function over `int` declarations (or `class` instantiations)\r\nyet https://stackoverflow.com/a/53561009/11711280\r\nseems like you can set initial `window` that web-crypto might append.\r\n````\r\npublic class Document {\r\n};\r\nDocument window = new Document();\r\n````\r\nHard to tell if more than mutable `window` or `document` properties are required here\r\nhttps://github.com/w3c/webcrypto/blob/main/spec/dfn.js\r\n\r\n&quot;[When][3] a script attempts to access a global variable not defined within it, nashorn searches for the variable in Bindings of the current ScriptContext used.&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30110389/11711280\r\n  [2]: https://stackoverflow.com/a/62330502/11711280\r\n  [3]: https://wiki.openjdk.java.net/display/Nashorn/Nashorn+jsr223+engine+notes","title":"Unable to execute web-crypto script from java program","body":"<p>tl;dr use javafx 2 <a href=\"https://github.com/openjdk/jfx/search?q=document\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jfx/search?q=document</a>,\n<a href=\"https://stackoverflow.com/a/11266979/11711280\">https://stackoverflow.com/a/11266979/11711280</a></p>\n<pre><code>WebEngine webEngine = webView.getEngine();\nwebEngine.getLoadWorker().stateProperty().addListener(...)\nwebEngine.loadContent(&quot;load('&quot; + scriptPath + &quot;')&quot;);\n</code></pre>\n<p>However:\n&quot;<a href=\"https://stackoverflow.com/a/30110389/11711280\">The full Oracle</a> Java Runtime 8 ships with Nashorn.&quot;\n&quot;<a href=\"https://stackoverflow.com/a/62330502/11711280\">Oracle Java dev 1.8 comes with its own bundled Java FX version</a>, which generally can't be overridden. To use Java FX11, you will need to run the project with Java 11 and set the System property java.library.path to the location of the FX framework.&quot;</p>\n<pre><code>String scriptPath = &quot;/home/rajasekhar/Desktop/webcrypto.js&quot;;\n</code></pre>\n<pre><code>function ScriptWindow(scriptPath){\n  return eval(scriptPath);\n}.call({window:{}},[...(args=[])]);\n</code></pre>\n<p>I would expect static mutable <code>ScriptEngine</code> scope</p>\n<pre><code>engine.put(&quot;window&quot;, {});\nengine.eval(&quot;load('&quot; + scriptPath + &quot;')&quot;);\n</code></pre>\n<p>or for all <code>ScriptEngineManager</code> engines</p>\n<pre><code>ScriptContext ctx = new SimpleScriptContext();\nBindings globalBindings = new SimpleBindings();\nctx.setBindings(globalBindings, ScriptContext.GLOBAL_SCOPE);\nctx.setAttribute(&quot;window&quot;, {}, ScriptContext.GLOBAL_SCOPE);\n</code></pre>\n<p>to be accessible in the function over <code>int</code> declarations (or <code>class</code> instantiations)\nyet <a href=\"https://stackoverflow.com/a/53561009/11711280\">https://stackoverflow.com/a/53561009/11711280</a>\nseems like you can set initial <code>window</code> that web-crypto might append.</p>\n<pre><code>public class Document {\n};\nDocument window = new Document();\n</code></pre>\n<p>Hard to tell if more than mutable <code>window</code> or <code>document</code> properties are required here\n<a href=\"https://github.com/w3c/webcrypto/blob/main/spec/dfn.js\" rel=\"nofollow noreferrer\">https://github.com/w3c/webcrypto/blob/main/spec/dfn.js</a></p>\n<p>&quot;<a href=\"https://wiki.openjdk.java.net/display/Nashorn/Nashorn+jsr223+engine+notes\" rel=\"nofollow noreferrer\">When</a> a script attempts to access a global variable not defined within it, nashorn searches for the variable in Bindings of the current ScriptContext used.&quot;</p>\n"}],"owner":{"account_id":11321028,"reputation":195,"user_id":8301380,"accept_rate":67,"display_name":"rajasekhar pippalla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1652811201,"creation_date":1516708760,"question_id":48401207,"body_markdown":"**Java Code:**\r\n\r\n    import javax.script.Invocable;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    public class WebCryptoInvoke {\r\n      public static void main(String[] args) throws Exception {\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;JavaScript&quot;);\r\n        if (!(engine instanceof Invocable)) {\r\n          System.out.println(&quot;Invoking methods is not supported.&quot;);\r\n          return;\r\n        }\r\n        Invocable inv = (Invocable) engine;\r\n        String scriptPath = &quot;/home/rajasekhar/Desktop/webcrypto.js&quot;;\r\n    \r\n        engine.eval(&quot;load(&#39;&quot; + scriptPath + &quot;&#39;)&quot;);\r\n        Object webCrypto = engine.get(&quot;webcrypto&quot;);\r\n        Object result = inv.invokeMethod(webCrypto, &quot;generateKeyPair&quot;);\r\n        System.out.println(result);\r\n      }\r\n    }\r\n\r\n**JavaScript Code**:\r\n\r\n    &quot;use strict&quot;;\r\n    var webcrypto = new Object();\r\n    \r\n    webcrypto.generateKeyPair = function ()\r\n    {\r\n     var result = {};\r\n    \r\n    window.crypto.subtle.generateKey(\r\n        {\r\n            name: &quot;RSASSA-PKCS1-v1_5&quot;,\r\n            modulusLength: 2048, //can be 1024, 2048, or 4096\r\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\r\n            hash: {name: &quot;SHA-256&quot;}, //can be &quot;SHA-1&quot;, &quot;SHA-256&quot;, &quot;SHA-384&quot;, or &quot;SHA-512&quot;\r\n        },\r\n        true, //whether the key is extractable (i.e. can be used in exportKey)\r\n        [&quot;sign&quot;, &quot;verify&quot;] //can be any combination of &quot;sign&quot; and &quot;verify&quot;\r\n    )\r\n    .then(function(key){\r\n        //returns a keypair object\r\n        console.log(key);\r\n        console.log(key.publicKey);\r\n        console.log(key.privateKey);\r\n    result[0] = key.publicKey;\r\n    result[1] = key.privateKey;\r\n    })\r\n    .catch(function(err){\r\n        console.error(err);\r\n    });\r\n        return result;\r\n    };\r\n\r\n**Error:**\r\n\r\n&gt; Exception in thread &quot;main&quot; javax.script.ScriptException:\r\n&gt; ReferenceError: &quot;window&quot; is not defined in\r\n&gt; /home/rajasekhar/Desktop/webcrypto.js at line number 9 \tat\r\n&gt; jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:470)\r\n&gt; \tat\r\n&gt; jdk.nashorn.api.scripting.NashornScriptEngine.invokeImpl(NashornScriptEngine.java:392)\r\n&gt; \tat\r\n&gt; jdk.nashorn.api.scripting.NashornScriptEngine.invokeMethod(NashornScriptEngine.java:199)\r\n&gt; \tat WebCryptoInvoke.main(WebCryptoInvoke.java:20) Caused by:\r\n&gt; /home/rajasekhar/Desktop/webcrypto.js:9 ReferenceError: &quot;window&quot; is\r\n&gt; not defined \tat\r\n&gt; jdk.nashorn.internal.runtime.ECMAErrors.error(ECMAErrors.java:57) \tat\r\n&gt; jdk.nashorn.internal.runtime.ECMAErrors.referenceError(ECMAErrors.java:319)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.runtime.ECMAErrors.referenceError(ECMAErrors.java:291)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.objects.Global.__noSuchProperty__(Global.java:1441)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.scripts.Script$Recompilation$2$86$webcrypto.generateKeyPair(/home/rajasekhar/Desktop/webcrypto.js:9)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.runtime.ScriptFunctionData.invoke(ScriptFunctionData.java:637)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.runtime.ScriptFunction.invoke(ScriptFunction.java:494)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:393)\r\n&gt; \tat\r\n&gt; jdk.nashorn.api.scripting.ScriptObjectMirror.callMember(ScriptObjectMirror.java:199)\r\n&gt; \tat\r\n&gt; jdk.nashorn.api.scripting.NashornScriptEngine.invokeImpl(NashornScriptEngine.java:386)\r\n&gt; \t... 2 more\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to execute web-crypto script from java program","body":"<p><strong>Java Code:</strong></p>\n\n<pre><code>import javax.script.Invocable;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\npublic class WebCryptoInvoke {\n  public static void main(String[] args) throws Exception {\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine engine = manager.getEngineByName(\"JavaScript\");\n    if (!(engine instanceof Invocable)) {\n      System.out.println(\"Invoking methods is not supported.\");\n      return;\n    }\n    Invocable inv = (Invocable) engine;\n    String scriptPath = \"/home/rajasekhar/Desktop/webcrypto.js\";\n\n    engine.eval(\"load('\" + scriptPath + \"')\");\n    Object webCrypto = engine.get(\"webcrypto\");\n    Object result = inv.invokeMethod(webCrypto, \"generateKeyPair\");\n    System.out.println(result);\n  }\n}\n</code></pre>\n\n<p><strong>JavaScript Code</strong>:</p>\n\n<pre><code>\"use strict\";\nvar webcrypto = new Object();\n\nwebcrypto.generateKeyPair = function ()\n{\n var result = {};\n\nwindow.crypto.subtle.generateKey(\n    {\n        name: \"RSASSA-PKCS1-v1_5\",\n        modulusLength: 2048, //can be 1024, 2048, or 4096\n        publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        hash: {name: \"SHA-256\"}, //can be \"SHA-1\", \"SHA-256\", \"SHA-384\", or \"SHA-512\"\n    },\n    true, //whether the key is extractable (i.e. can be used in exportKey)\n    [\"sign\", \"verify\"] //can be any combination of \"sign\" and \"verify\"\n)\n.then(function(key){\n    //returns a keypair object\n    console.log(key);\n    console.log(key.publicKey);\n    console.log(key.privateKey);\nresult[0] = key.publicKey;\nresult[1] = key.privateKey;\n})\n.catch(function(err){\n    console.error(err);\n});\n    return result;\n};\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>Exception in thread \"main\" javax.script.ScriptException:\n  ReferenceError: \"window\" is not defined in\n  /home/rajasekhar/Desktop/webcrypto.js at line number 9    at\n  jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:470)\n    at\n  jdk.nashorn.api.scripting.NashornScriptEngine.invokeImpl(NashornScriptEngine.java:392)\n    at\n  jdk.nashorn.api.scripting.NashornScriptEngine.invokeMethod(NashornScriptEngine.java:199)\n    at WebCryptoInvoke.main(WebCryptoInvoke.java:20) Caused by:\n  /home/rajasekhar/Desktop/webcrypto.js:9 ReferenceError: \"window\" is\n  not defined   at\n  jdk.nashorn.internal.runtime.ECMAErrors.error(ECMAErrors.java:57)     at\n  jdk.nashorn.internal.runtime.ECMAErrors.referenceError(ECMAErrors.java:319)\n    at\n  jdk.nashorn.internal.runtime.ECMAErrors.referenceError(ECMAErrors.java:291)\n    at\n  jdk.nashorn.internal.objects.Global.<strong>noSuchProperty</strong>(Global.java:1441)\n    at\n  jdk.nashorn.internal.scripts.Script$Recompilation$2$86$webcrypto.generateKeyPair(/home/rajasekhar/Desktop/webcrypto.js:9)\n    at\n  jdk.nashorn.internal.runtime.ScriptFunctionData.invoke(ScriptFunctionData.java:637)\n    at\n  jdk.nashorn.internal.runtime.ScriptFunction.invoke(ScriptFunction.java:494)\n    at\n  jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:393)\n    at\n  jdk.nashorn.api.scripting.ScriptObjectMirror.callMember(ScriptObjectMirror.java:199)\n    at\n  jdk.nashorn.api.scripting.NashornScriptEngine.invokeImpl(NashornScriptEngine.java:386)\n    ... 2 more</p>\n</blockquote>\n"},{"tags":["java","mysql","tomcat9"],"comments":[{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1652811900,"post_id":72278250,"comment_id":127695435,"body_markdown":"What is your result of SELECT @@version;   You may be able to put a time limit at the query level, depending on version you are running.  Please also post the QUERY that you would consider KILLing.","body":"What is your result of SELECT @@version;   You may be able to put a time limit at the query level, depending on version you are running.  Please also post the QUERY that you would consider KILLing."},{"owner":{"account_id":16122114,"reputation":30,"user_id":11637851,"display_name":"Willian Valer"},"score":0,"creation_date":1652818470,"post_id":72278250,"comment_id":127697409,"body_markdown":"@WilsonHauck i&#39;m currently working on MySQL 5.6.16, but its not a especific query or scenaryo, we are concerned about the possibility of queries beeing stuck (it already happenned and we fixed the problem), but we are trying to avoid new problems. Unfortunately, i can&#39;t post the query. I will read again the mysql documentation and look for time limit. Thanks","body":"@WilsonHauck i&#39;m currently working on MySQL 5.6.16, but its not a especific query or scenaryo, we are concerned about the possibility of queries beeing stuck (it already happenned and we fixed the problem), but we are trying to avoid new problems. Unfortunately, i can&#39;t post the query. I will read again the mysql documentation and look for time limit. Thanks"},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1652826333,"post_id":72278250,"comment_id":127699428,"body_markdown":"From  your MySQL Command Prompt logged in a root, what is the result(s) of SHOW GLOBAL VARIABLES LIKE &#39;max_execution%&#39;: Your version may be too early for max_execution_time to be available for you.","body":"From  your MySQL Command Prompt logged in a root, what is the result(s) of SHOW GLOBAL VARIABLES LIKE &#39;max_execution%&#39;: Your version may be too early for max_execution_time to be available for you."},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1652826709,"post_id":72278250,"comment_id":127699494,"body_markdown":"William, Version 5.7.12 had the Global Variable.  Your version is earlier and does not include max_execution_time support. Sorry.  May be time for an upgrade when time permits to a version that is General Availability more than 90 days ago to avoid the need to report Bugs / Errors your application could uncover.","body":"William, Version 5.7.12 had the Global Variable.  Your version is earlier and does not include max_execution_time support. Sorry.  May be time for an upgrade when time permits to a version that is General Availability more than 90 days ago to avoid the need to report Bugs / Errors your application could uncover."},{"owner":{"account_id":16122114,"reputation":30,"user_id":11637851,"display_name":"Willian Valer"},"score":0,"creation_date":1652878453,"post_id":72278250,"comment_id":127712809,"body_markdown":"@WilsonHauck upgrading must no be a problem in this case, there are no particularities of &#39;version specific&#39; that we use,gonna try it, thanks.","body":"@WilsonHauck upgrading must no be a problem in this case, there are no particularities of &#39;version specific&#39; that we use,gonna try it, thanks."},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1652916287,"post_id":72278250,"comment_id":127726121,"body_markdown":"If you get to 5.7.12 or greater then max_execution_time limit will be available for your instance.  The value is for ms limit, not seconds. Safe computing! Welcome to SO.","body":"If you get to 5.7.12 or greater then max_execution_time limit will be available for your instance.  The value is for ms limit, not seconds. Safe computing! Welcome to SO."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1653158778,"post_id":72278250,"comment_id":127784989,"body_markdown":"If you switch to MariaDB, you can add a timeout for each SQL statement.","body":"If you switch to MariaDB, you can add a timeout for each SQL statement."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652811077,"creation_date":1652811077,"answer_id":72278822,"question_id":72278250,"body_markdown":"Very likely you want to work with a connection pool. If this is managed by Tomcat, your entry point is a datasource. See the https://tomcat.apache.org/tomcat-9.0-doc/jndi-datasource-examples-howto.html how to configure that. With this you can control the amount of parallel connections the application can have on the database.\r\n\r\nOn top of that you want to configure timeouts so a stray thread will not block the database forever. See\r\n- https://stackoverflow.com/questions/21351002/how-to-set-a-connection-timeout-on-the-mysql-jdbc-driver\r\n- https://stackoverflow.com/questions/5397432/can-i-set-a-jdbc-timeout-for-a-single-query","title":"Is it possible to manage mysql threads(stuck queries) from tomcat?","body":"<p>Very likely you want to work with a connection pool. If this is managed by Tomcat, your entry point is a datasource. See the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/jndi-datasource-examples-howto.html</a> how to configure that. With this you can control the amount of parallel connections the application can have on the database.</p>\n<p>On top of that you want to configure timeouts so a stray thread will not block the database forever. See</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/21351002/how-to-set-a-connection-timeout-on-the-mysql-jdbc-driver\">How to set a connection timeout on the MySQL JDBC driver?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5397432/can-i-set-a-jdbc-timeout-for-a-single-query\">Can I set a JDBC timeout for a single query?</a></li>\n</ul>\n"}],"owner":{"account_id":16122114,"reputation":30,"user_id":11637851,"display_name":"Willian Valer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72278822,"answer_count":1,"score":0,"last_activity_date":1652811077,"creation_date":1652808037,"question_id":72278250,"body_markdown":"For some context, we have a really big application running on a tomcat, we have lots of ways to build custom filters, and some of them may be too slow.\r\n\r\nThe question is, there is a way i can control/kill a mysql thread directly or via tomcat(maybe thread pool)? and if there&#39;s a way to manage it from tomcat, if i kill the thread, it will kill the mysql thread too? (didn&#39;t find anything related on documentation).\r\n\r\nI am trying to build a layer to prevent queries to stay stuck on database. For example, if a querie stay running for more than 1minute, my application can kill it(instead of me going on terminal and killing &#39;by hand&#39;).\r\n\r\nThanks in advance. ","title":"Is it possible to manage mysql threads(stuck queries) from tomcat?","body":"<p>For some context, we have a really big application running on a tomcat, we have lots of ways to build custom filters, and some of them may be too slow.</p>\n<p>The question is, there is a way i can control/kill a mysql thread directly or via tomcat(maybe thread pool)? and if there's a way to manage it from tomcat, if i kill the thread, it will kill the mysql thread too? (didn't find anything related on documentation).</p>\n<p>I am trying to build a layer to prevent queries to stay stuck on database. For example, if a querie stay running for more than 1minute, my application can kill it(instead of me going on terminal and killing 'by hand').</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","testing","junit","backend"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1652812838,"post_id":72278703,"comment_id":127695698,"body_markdown":"As a rule of thumb nothing in Spring can be `null` when using `@Autowired` or `@Value`. If that happens, spring will error out resulting in an message that something couldn&#39;t be resolved. The fact that that doesn&#39;t happens means you aren&#39;t using Spring for this. Looking at your test that is the case as you are using `@Spy` and `@InjectMocks`. So you aren&#39;t using a Spring managed instance, use `@Autowired` instead of `@Spy`. Also the `@TestPropertySource` isn&#39;t needed that is already covered by the `@ActiveProfile` and regular loading of properties.","body":"As a rule of thumb nothing in Spring can be <code>null</code> when using <code>@Autowired</code> or <code>@Value</code>. If that happens, spring will error out resulting in an message that something couldn&#39;t be resolved. The fact that that doesn&#39;t happens means you aren&#39;t using Spring for this. Looking at your test that is the case as you are using <code>@Spy</code> and <code>@InjectMocks</code>. So you aren&#39;t using a Spring managed instance, use <code>@Autowired</code> instead of <code>@Spy</code>. Also the <code>@TestPropertySource</code> isn&#39;t needed that is already covered by the <code>@ActiveProfile</code> and regular loading of properties."},{"owner":{"account_id":20035299,"reputation":37,"user_id":14687169,"display_name":"Kathelan"},"score":0,"creation_date":1652977094,"post_id":72278703,"comment_id":127743920,"body_markdown":"it worked, thanks. I found something to learn","body":"it worked, thanks. I found something to learn"}],"owner":{"account_id":20035299,"reputation":37,"user_id":14687169,"display_name":"Kathelan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652810856,"creation_date":1652810482,"question_id":72278703,"body_markdown":"I am writting unit test and have some values from application.yaml property file. In my test before i can go into service method values are imported from test/resources, but when go into service im getting null value properties here is some code : \r\ntest :\r\n```\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\n@TestPropertySource(&quot;classpath:application-test.yaml&quot;)\r\npublic class AmadeusClientUnitTest {\r\n\r\n    @Value(&quot;${clientId}&quot;)\r\n    public String clientId;\r\n\r\n    @Value(&quot;${clientSecret}&quot;)\r\n    public String clientSecret;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private AmadeusClient amadeusClient;\r\n\r\n    @Test\r\n    void shouldGetAmadeusObj() {\r\n        amadeusClient.getAmadeusObj();\r\n\r\n        verify(Amadeus.builder(any(), any()).build());\r\n    }\r\n```\r\n\r\napplication-test.yaml : \r\n```\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: test\r\nclientId: &quot;clientId&quot;\r\nclientSecret: &quot;secret&quot;\r\n```\r\n\r\nand here is service : \r\n```\r\n@Service\r\npublic class AmadeusClient {\r\n\r\n    private final static Logger LOGGER = Logger.getLogger(AmadeusClient.class.getName());\r\n\r\n    @Value(&quot;${clientId}&quot;)\r\n    private String clientId;\r\n    @Value(&quot;${clientSecret}&quot;)\r\n    private String clientSecret;\r\n\r\n    public Amadeus getAmadeusObj() {\r\n        return Amadeus.builder(clientId, clientSecret).setLogger(LOGGER).build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n[![debug][1]][1]\r\n\r\n\r\n[![debug][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NxfzX.png\r\n  [2]: https://i.stack.imgur.com/02ESW.png\r\n\r\nI put some imgs from debugging test. Am I missing any properties ? \r\nThanks for any help i feel like i am missing &quot;dot&quot; somewhere. Appreciate for any tip here. Have a nice day","title":"Junit how to import file properties to service in test","body":"<p>I am writting unit test and have some values from application.yaml property file. In my test before i can go into service method values are imported from test/resources, but when go into service im getting null value properties here is some code :\ntest :</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\n@TestPropertySource(&quot;classpath:application-test.yaml&quot;)\npublic class AmadeusClientUnitTest {\n\n    @Value(&quot;${clientId}&quot;)\n    public String clientId;\n\n    @Value(&quot;${clientSecret}&quot;)\n    public String clientSecret;\n\n    @Spy\n    @InjectMocks\n    private AmadeusClient amadeusClient;\n\n    @Test\n    void shouldGetAmadeusObj() {\n        amadeusClient.getAmadeusObj();\n\n        verify(Amadeus.builder(any(), any()).build());\n    }\n</code></pre>\n<p>application-test.yaml :</p>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: test\nclientId: &quot;clientId&quot;\nclientSecret: &quot;secret&quot;\n</code></pre>\n<p>and here is service :</p>\n<pre><code>@Service\npublic class AmadeusClient {\n\n    private final static Logger LOGGER = Logger.getLogger(AmadeusClient.class.getName());\n\n    @Value(&quot;${clientId}&quot;)\n    private String clientId;\n    @Value(&quot;${clientSecret}&quot;)\n    private String clientSecret;\n\n    public Amadeus getAmadeusObj() {\n        return Amadeus.builder(clientId, clientSecret).setLogger(LOGGER).build();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NxfzX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NxfzX.png\" alt=\"debug\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/02ESW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/02ESW.png\" alt=\"debug\" /></a></p>\n<p>I put some imgs from debugging test. Am I missing any properties ?\nThanks for any help i feel like i am missing &quot;dot&quot; somewhere. Appreciate for any tip here. Have a nice day</p>\n"},{"tags":["java","powershell","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1652803740,"post_id":72276882,"comment_id":127692759,"body_markdown":"The module path is wrong; it should be a `lib` folder, probably under `javafx-sdk-17.0.2`.","body":"The module path is wrong; it should be a <code>lib</code> folder, probably under <code>javafx-sdk-17.0.2</code>."},{"owner":{"account_id":23775943,"reputation":43,"user_id":17789405,"display_name":"A.CAL"},"score":0,"creation_date":1652807489,"post_id":72276882,"comment_id":127694021,"body_markdown":"Thank you! I did not think to see what was in the lib folder, but now that I&#39;ve done it, I wrote : ```java -jar test13.05.jar --module-path javafx-sdk-17.0.2\\lib --add-modules=javafx.controls,javafx.fxml``` and the result was still      ``` Error: JavaFX runtime components are missing, and are required to run this application ```   Do you know what to do?","body":"Thank you! I did not think to see what was in the lib folder, but now that I&#39;ve done it, I wrote : <code>java -jar test13.05.jar --module-path javafx-sdk-17.0.2\\lib --add-modules=javafx.controls,javafx.fxml</code> and the result was still      ``` Error: JavaFX runtime components are missing, and are required to run this application ```   Do you know what to do?"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652810163,"creation_date":1652809815,"answer_id":72278572,"question_id":72276882,"body_markdown":"The format for executing a JAR is:\r\n\r\n```lang-none\r\njava [VM args...] -jar &lt;jar-file&gt; [args...]\r\n```\r\n\r\nWhere `[VM args...]` is an optional list of _VM&lt;sup&gt;1&lt;/sup&gt; arguments_ (such as `--module-path`) that configure the VM, and `[args...]` is an optional list of _application arguments_ which are passed to the `main` method of your application. You have VM arguments in the application arguments section.\r\n\r\nAlso, as [noted][2] by [James_D][1]:\r\n\r\n&gt; The module path is wrong; it should be a `lib` folder, probably under `javafx-sdk-17.0.2`\r\n\r\nThe following might work for you:\r\n\r\n```lang-none\r\njava --module-path javafx-sdk-17.0.2\\lib --add-modules javafx.controls,javafx.fxml -jar test13.05.jar\r\n```\r\n\r\nThough I&#39;m still not sure if `javafx-sdk-17.0.2\\lib` will work, unless the `javafx-sdk-17.0.2` directory is in the current working directory. If you still get the same error, replace `javafx-sdk-17.0.2\\lib` with the absolute path to the directory (if there are spaces in the path then surround the path with quotes).\r\n\r\n---\r\n\r\n&lt;sup&gt;1. &quot;VM&quot; is an abbreviation for &quot;virtual machine&quot;. As in, the Java Virtual Machine.&lt;/sup&gt;\r\n\r\n  [1]: https://stackoverflow.com/users/2189127/james-d\r\n  [2]: https://stackoverflow.com/questions/72276882/javafx-controls-not-found-with-powershell#comment127692759_72276882","title":"Javafx.controls not found with PowerShell","body":"<p>The format for executing a JAR is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java [VM args...] -jar &lt;jar-file&gt; [args...]\n</code></pre>\n<p>Where <code>[VM args...]</code> is an optional list of <em>VM<sup>1</sup> arguments</em> (such as <code>--module-path</code>) that configure the VM, and <code>[args...]</code> is an optional list of <em>application arguments</em> which are passed to the <code>main</code> method of your application. You have VM arguments in the application arguments section.</p>\n<p>Also, as <a href=\"https://stackoverflow.com/questions/72276882/javafx-controls-not-found-with-powershell#comment127692759_72276882\">noted</a> by <a href=\"https://stackoverflow.com/users/2189127/james-d\">James_D</a>:</p>\n<blockquote>\n<p>The module path is wrong; it should be a <code>lib</code> folder, probably under <code>javafx-sdk-17.0.2</code></p>\n</blockquote>\n<p>The following might work for you:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --module-path javafx-sdk-17.0.2\\lib --add-modules javafx.controls,javafx.fxml -jar test13.05.jar\n</code></pre>\n<p>Though I'm still not sure if <code>javafx-sdk-17.0.2\\lib</code> will work, unless the <code>javafx-sdk-17.0.2</code> directory is in the current working directory. If you still get the same error, replace <code>javafx-sdk-17.0.2\\lib</code> with the absolute path to the directory (if there are spaces in the path then surround the path with quotes).</p>\n<hr />\n<p><sup>1. &quot;VM&quot; is an abbreviation for &quot;virtual machine&quot;. As in, the Java Virtual Machine.</sup></p>\n"}],"owner":{"account_id":23775943,"reputation":43,"user_id":17789405,"display_name":"A.CAL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652810163,"creation_date":1652801631,"question_id":72276882,"body_markdown":"I am using Eclipse and PowerShell. I have exported a java project into a runnable JAR ( test13.05.jar ) with Eclipse, and I want to open it from PowerShell. This project uses javafx, so I have copied the javafx-sdk-17.0.2 file into the folder that contains my project.       \r\nThen, I went into this folder with PowerShell, and typed      \r\n````java -jar test13.05.jar --module-path javafx-sdk-17.0.2\\src --add-modules=javafx.controls,javafx.fxml````     \r\n\r\nWhich has this result:    \r\n\r\n&gt;Error: JavaFX runtime components are missing, and are required to run this application   \r\n\r\nSo I have tried running it without specifying the name:    \r\n````java -jar --module-path javafx-sdk-17.0.2\\src --add-modules=javafx.controls,javafx.fxml````     \r\n\r\nAnd this time Powershell says:     \r\n\r\n&gt;Error occurred during initialization of boot layer  \r\njava.lang.module.FindException: Module javafx.controls not found      \r\n\r\nI have then tried the same thing, but I unzipped the src folder. It still has the same result. What am I doing wrong?","title":"Javafx.controls not found with PowerShell","body":"<p>I am using Eclipse and PowerShell. I have exported a java project into a runnable JAR ( test13.05.jar ) with Eclipse, and I want to open it from PowerShell. This project uses javafx, so I have copied the javafx-sdk-17.0.2 file into the folder that contains my project.<br />\nThen, I went into this folder with PowerShell, and typed<br />\n<code>java -jar test13.05.jar --module-path javafx-sdk-17.0.2\\src --add-modules=javafx.controls,javafx.fxml</code></p>\n<p>Which has this result:</p>\n<blockquote>\n<p>Error: JavaFX runtime components are missing, and are required to run this application</p>\n</blockquote>\n<p>So I have tried running it without specifying the name:<br />\n<code>java -jar --module-path javafx-sdk-17.0.2\\src --add-modules=javafx.controls,javafx.fxml</code></p>\n<p>And this time Powershell says:</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer<br />\njava.lang.module.FindException: Module javafx.controls not found</p>\n</blockquote>\n<p>I have then tried the same thing, but I unzipped the src folder. It still has the same result. What am I doing wrong?</p>\n"},{"tags":["java","sockets","networking","tcp"],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652810154,"creation_date":1652810154,"answer_id":72278626,"question_id":72274575,"body_markdown":"&gt; as it the client who has closed the connection, and should be first to send fin packet\r\n\r\nThat is an incorrect assumption. When the client calls `close()` on a *fully established* WebSocket connection, `close()` will perform a handshake that causes the *server* to close the TCP connection first (send the initial `FIN`), rather than the client.\r\n\r\nThis is described in the WebSocket protocol spec, [RFC 6455][1], [Section 7][2], &quot;Closing the Connection&quot;:\r\n\r\n&gt; 7.1.1.  Close the WebSocket Connection\r\n&gt;\r\n&gt; To _Close the WebSocket Connection_, an endpoint closes the underlying TCP connection.  An endpoint SHOULD use a method that cleanly closes the TCP connection, as well as the TLS session, if applicable, discarding any trailing bytes that may have been received.  An endpoint MAY close the connection via any means available when necessary, such as when under attack.\r\n&gt;\r\n&gt; **The underlying TCP connection, in most normal cases, SHOULD be closed first by the server, so that it holds the TIME_WAIT state and not the client** (as this would prevent it from re-opening the connection for 2 maximum segment lifetimes (2MSL), while there is no corresponding server impact as a TIME_WAIT connection is immediately reopened upon a new SYN with a higher seq number).  In abnormal cases (such as not having received a TCP Close from the server after a reasonable amount of time) a client MAY initiate the TCP Close.  **As such, when a server is instructed to _Close the WebSocket Connection_ it SHOULD initiate a TCP Close immediately, and when a client is instructed to do the same, it SHOULD wait for a TCP Close from the server.**\r\n&gt;\r\n&gt; As an example of how to obtain a clean closure in C using Berkeley sockets, one would call shutdown() with SHUT_WR on the socket, call recv() until obtaining a return value of 0 indicating that the peer has also performed an orderly shutdown, and finally call close() on the socket.\r\n&gt;\r\n&gt; 7.1.2.  Start the WebSocket Closing Handshake\r\n&gt;\r\n&gt; To _Start the WebSocket Closing Handshake_ with a status code (Section 7.4) /code/ and an optional close reason (Section 7.1.6) /reason/, **an endpoint MUST send a Close control frame**, as described in Section 5.5.1, whose status code is set to /code/ and whose close reason is set to /reason/.  Once an endpoint has both sent **and received** a Close control frame, that endpoint SHOULD _Close the WebSocket Connection_ as defined in Section 7.1.1.\r\n\r\nAs well as the [WebSockets standard][3], [`close()` method][4]:\r\n\r\n&gt; 3. Run the first matching steps from the following list:\r\n&gt;\r\n&gt; - If this&#39;s ready state is CLOSING (2) or CLOSED (3)\r\n&gt;\r\n&gt;     ...\r\n&gt;\r\n&gt; - If the WebSocket connection is not yet established [WSP]\r\n&gt;\r\n&gt;     ...\r\n&gt;\r\n&gt; - If the WebSocket closing handshake has not yet been started [WSP]\r\n&gt;\r\n&gt;     ...\r\n&gt;\r\n&gt; - Otherwise\r\n&gt;\r\n&gt;     Set this&#39;s ready state to CLOSING (2).\r\n&gt;\r\n&gt;     NOTE: **[The WebSocket closing handshake is started][5], and will eventually invoke the [close the WebSocket connection][6] algorithm, which will establish that the [WebSocket connection is closed][7], and thus the `close` event will fire, as described below.**\r\n\r\n\r\n \r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc6455\r\n  [2]: https://datatracker.ietf.org/doc/html/rfc6455#section-7\r\n  [3]: https://websockets.spec.whatwg.org/\r\n  [4]: https://websockets.spec.whatwg.org/#dom-websocket-close\r\n  [5]: https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.3\r\n  [6]: https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.1\r\n  [7]: https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.4","title":"ss command shows TIME_WAIT instead of CLOSE_WAIT which does not fit logically","body":"<blockquote>\n<p>as it the client who has closed the connection, and should be first to send fin packet</p>\n</blockquote>\n<p>That is an incorrect assumption. When the client calls <code>close()</code> on a <em>fully established</em> WebSocket connection, <code>close()</code> will perform a handshake that causes the <em>server</em> to close the TCP connection first (send the initial <code>FIN</code>), rather than the client.</p>\n<p>This is described in the WebSocket protocol spec, <a href=\"https://datatracker.ietf.org/doc/html/rfc6455\" rel=\"nofollow noreferrer\">RFC 6455</a>, <a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-7\" rel=\"nofollow noreferrer\">Section 7</a>, &quot;Closing the Connection&quot;:</p>\n<blockquote>\n<p>7.1.1.  Close the WebSocket Connection</p>\n<p>To <em>Close the WebSocket Connection</em>, an endpoint closes the underlying TCP connection.  An endpoint SHOULD use a method that cleanly closes the TCP connection, as well as the TLS session, if applicable, discarding any trailing bytes that may have been received.  An endpoint MAY close the connection via any means available when necessary, such as when under attack.</p>\n<p><strong>The underlying TCP connection, in most normal cases, SHOULD be closed first by the server, so that it holds the TIME_WAIT state and not the client</strong> (as this would prevent it from re-opening the connection for 2 maximum segment lifetimes (2MSL), while there is no corresponding server impact as a TIME_WAIT connection is immediately reopened upon a new SYN with a higher seq number).  In abnormal cases (such as not having received a TCP Close from the server after a reasonable amount of time) a client MAY initiate the TCP Close.  <strong>As such, when a server is instructed to <em>Close the WebSocket Connection</em> it SHOULD initiate a TCP Close immediately, and when a client is instructed to do the same, it SHOULD wait for a TCP Close from the server.</strong></p>\n<p>As an example of how to obtain a clean closure in C using Berkeley sockets, one would call shutdown() with SHUT_WR on the socket, call recv() until obtaining a return value of 0 indicating that the peer has also performed an orderly shutdown, and finally call close() on the socket.</p>\n<p>7.1.2.  Start the WebSocket Closing Handshake</p>\n<p>To <em>Start the WebSocket Closing Handshake</em> with a status code (Section 7.4) /code/ and an optional close reason (Section 7.1.6) /reason/, <strong>an endpoint MUST send a Close control frame</strong>, as described in Section 5.5.1, whose status code is set to /code/ and whose close reason is set to /reason/.  Once an endpoint has both sent <strong>and received</strong> a Close control frame, that endpoint SHOULD <em>Close the WebSocket Connection</em> as defined in Section 7.1.1.</p>\n</blockquote>\n<p>As well as the <a href=\"https://websockets.spec.whatwg.org/\" rel=\"nofollow noreferrer\">WebSockets standard</a>, <a href=\"https://websockets.spec.whatwg.org/#dom-websocket-close\" rel=\"nofollow noreferrer\"><code>close()</code> method</a>:</p>\n<blockquote>\n<ol start=\"3\">\n<li>Run the first matching steps from the following list:</li>\n</ol>\n<ul>\n<li><p>If this's ready state is CLOSING (2) or CLOSED (3)</p>\n<p>...</p>\n</li>\n<li><p>If the WebSocket connection is not yet established [WSP]</p>\n<p>...</p>\n</li>\n<li><p>If the WebSocket closing handshake has not yet been started [WSP]</p>\n<p>...</p>\n</li>\n<li><p>Otherwise</p>\n<p>Set this's ready state to CLOSING (2).</p>\n<p>NOTE: <strong><a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.3\" rel=\"nofollow noreferrer\">The WebSocket closing handshake is started</a>, and will eventually invoke the <a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.1\" rel=\"nofollow noreferrer\">close the WebSocket connection</a> algorithm, which will establish that the <a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.4\" rel=\"nofollow noreferrer\">WebSocket connection is closed</a>, and thus the <code>close</code> event will fire, as described below.</strong></p>\n</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":10928173,"reputation":13,"user_id":8032248,"display_name":"Masood Ali Khan Pathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72278626,"answer_count":1,"score":0,"last_activity_date":1652810154,"creation_date":1652792584,"question_id":72274575,"body_markdown":"I am trying to understand TIME_WAIT and CLOSE_WAIT.\r\n\r\nI have opened a socket connection via Chrome console, which connects to my Java WebSocket server running locally - then closed it:\r\n\r\n    var webSocket = new WebSocket(&#39;ws://127.0.0.1:1234/support&#39;);\r\n    webSocket.close();\r\n\r\n\r\nWhat I expect to see when I run ```sudo ss -apn|grep &#39;:1234&#39;``` is CLOSE_WAIT as it the client who has closed the connection, and should be first to send fin packet, which would have changed server socket status to CLOSE_WAIT, however, I see differently.\r\n\r\n\r\n    Tuesday 17 May 2022 06:23:21 PM IST\r\n    \r\n    tcp6       0      0 :::1234                 :::*                    LISTEN      86008/java          \r\n    tcp6       0      0 127.0.0.1:1234          127.0.0.1:60672         TIME_WAIT   -   \r\n\r\n\r\nCan somebody please explain what is happening? \r\n\r\nUpdate 1: \r\n\r\n    masood@masood-ThinkPad-L450:~/Desktop/code/current/chat_server11$ sudo tcpdump -i lo port 1234\r\n    tcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\n    listening on lo, link-type EN10MB (Ethernet), capture size 262144 bytes\r\n    \r\n    \r\n    \r\n    21:39:58.376375 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [S], seq 969747395, win 65476, options [mss 65476,sackOK,TS val 3310041060 ecr 0,nop,wscale 7], length 0\r\n    21:39:58.376393 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [S.], seq 630365028, ack 969747396, win 65464, options [mss 65476,sackOK,TS val 3310041060 ecr 3310041060,nop,wscale 7], length 0\r\n    21:39:58.376410 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 1, win 512, options [nop,nop,TS val 3310041060 ecr 3310041060], length 0\r\n    21:39:58.378183 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [P.], seq 1:535, ack 1, win 512, options [nop,nop,TS val 3310041062 ecr 3310041060], length 534\r\n    21:39:58.378197 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 535, win 508, options [nop,nop,TS val 3310041062 ecr 3310041062], length 0\r\n    21:39:58.398870 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [P.], seq 1:130, ack 535, win 512, options [nop,nop,TS val 3310041083 ecr 3310041062], length 129\r\n    21:39:58.398890 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 130, win 511, options [nop,nop,TS val 3310041083 ecr 3310041083], length 0\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    21:40:08.678597 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [P.], seq 535:541, ack 130, win 512, options [nop,nop,TS val 3310051362 ecr 3310041083], length 6\r\n    21:40:08.678618 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 541, win 512, options [nop,nop,TS val 3310051362 ecr 3310051362], length 0\r\n    21:40:08.679275 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [P.], seq 130:132, ack 541, win 512, options [nop,nop,TS val 3310051363 ecr 3310051362], length 2\r\n    21:40:08.679293 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 132, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\r\n    21:40:08.679438 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [F.], seq 132, ack 541, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\r\n    21:40:08.679487 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [F.], seq 541, ack 133, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\r\n    21:40:08.679506 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 542, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\r\n\r\nI tried to capture packets using `tcpdump` and I can clearly see that server is sending directly `FIN+ACK` without receiving `FIN`.I am totally confused.","title":"ss command shows TIME_WAIT instead of CLOSE_WAIT which does not fit logically","body":"<p>I am trying to understand TIME_WAIT and CLOSE_WAIT.</p>\n<p>I have opened a socket connection via Chrome console, which connects to my Java WebSocket server running locally - then closed it:</p>\n<pre><code>var webSocket = new WebSocket('ws://127.0.0.1:1234/support');\nwebSocket.close();\n</code></pre>\n<p>What I expect to see when I run <code>sudo ss -apn|grep ':1234'</code> is CLOSE_WAIT as it the client who has closed the connection, and should be first to send fin packet, which would have changed server socket status to CLOSE_WAIT, however, I see differently.</p>\n<pre><code>Tuesday 17 May 2022 06:23:21 PM IST\n\ntcp6       0      0 :::1234                 :::*                    LISTEN      86008/java          \ntcp6       0      0 127.0.0.1:1234          127.0.0.1:60672         TIME_WAIT   -   \n</code></pre>\n<p>Can somebody please explain what is happening?</p>\n<p>Update 1:</p>\n<pre><code>masood@masood-ThinkPad-L450:~/Desktop/code/current/chat_server11$ sudo tcpdump -i lo port 1234\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on lo, link-type EN10MB (Ethernet), capture size 262144 bytes\n\n\n\n21:39:58.376375 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [S], seq 969747395, win 65476, options [mss 65476,sackOK,TS val 3310041060 ecr 0,nop,wscale 7], length 0\n21:39:58.376393 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [S.], seq 630365028, ack 969747396, win 65464, options [mss 65476,sackOK,TS val 3310041060 ecr 3310041060,nop,wscale 7], length 0\n21:39:58.376410 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 1, win 512, options [nop,nop,TS val 3310041060 ecr 3310041060], length 0\n21:39:58.378183 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [P.], seq 1:535, ack 1, win 512, options [nop,nop,TS val 3310041062 ecr 3310041060], length 534\n21:39:58.378197 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 535, win 508, options [nop,nop,TS val 3310041062 ecr 3310041062], length 0\n21:39:58.398870 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [P.], seq 1:130, ack 535, win 512, options [nop,nop,TS val 3310041083 ecr 3310041062], length 129\n21:39:58.398890 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 130, win 511, options [nop,nop,TS val 3310041083 ecr 3310041083], length 0\n\n\n\n\n\n21:40:08.678597 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [P.], seq 535:541, ack 130, win 512, options [nop,nop,TS val 3310051362 ecr 3310041083], length 6\n21:40:08.678618 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 541, win 512, options [nop,nop,TS val 3310051362 ecr 3310051362], length 0\n21:40:08.679275 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [P.], seq 130:132, ack 541, win 512, options [nop,nop,TS val 3310051363 ecr 3310051362], length 2\n21:40:08.679293 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 132, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\n21:40:08.679438 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [F.], seq 132, ack 541, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\n21:40:08.679487 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [F.], seq 541, ack 133, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\n21:40:08.679506 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 542, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\n</code></pre>\n<p>I tried to capture packets using <code>tcpdump</code> and I can clearly see that server is sending directly <code>FIN+ACK</code> without receiving <code>FIN</code>.I am totally confused.</p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652681522,"creation_date":1652681522,"answer_id":72254782,"question_id":72254751,"body_markdown":"Simple join on the attribute:\r\n\r\n    SELECT m.medicineId ,m.medicineName ,m.inStock ,m.lifetimeSupply, m.lifetimeSales, m.howToUse, m.sideSffects , mg.groupName \r\n    FROM medicine m join m.medicineGroup mg;\r\n\r\nand use attribute names, not column names","title":"How can I join two tables using JPA?","body":"<p>Simple join on the attribute:</p>\n<pre><code>SELECT m.medicineId ,m.medicineName ,m.inStock ,m.lifetimeSupply, m.lifetimeSales, m.howToUse, m.sideSffects , mg.groupName \nFROM medicine m join m.medicineGroup mg;\n</code></pre>\n<p>and use attribute names, not column names</p>\n"},{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652684608,"creation_date":1652684608,"answer_id":72255270,"question_id":72254751,"body_markdown":"    select m from medicine m left join fetch m.medecineGroup","title":"How can I join two tables using JPA?","body":"<pre><code>select m from medicine m left join fetch m.medecineGroup\n</code></pre>\n"}],"owner":{"account_id":25300515,"reputation":143,"user_id":19124826,"display_name":"Amos Machora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72254782,"answer_count":2,"score":1,"last_activity_date":1652810133,"creation_date":1652681279,"question_id":72254751,"body_markdown":"I have two entity classes **Medicine** and **Medicine Group**. A medicine belongs to a group . A group has more than one medicine. The relationship from medicine to group is **one to one** from group to medicine is **one to many**.\r\n\r\nI have created the entity classes with the following properties\r\n\r\n    @Entity\r\n    public class Medicine {\r\n        @Id\r\n        String medicineId;\r\n        String medicineName;\r\n        int inStock;\r\n        String lifetimeSupply;\r\n        String lifetimeSales;\r\n        String howToUse;\r\n        String sideEffects;\r\n     //their getters and setters\r\n    }\r\n\r\n    @Entity\r\n    public class MedicineGroup {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        int groupId;\r\n        String groupName;\r\n        String groupDescription;\r\n\r\n      //their getters and setters.\r\n    }\r\n\r\nIn **MySQL** in the Medicine table I have a column called **groupId** which is a foreign key to the group table.\r\n\r\nNormally in MySQL I could write a join statement like this\r\n\r\n\n    SELECT medicine_id ,medicine_name ,in_stock ,lifetime_supply, lifetime_sales, how_to_use, side_effects , group_name FROM medicine JOIN medicine_group on medicine.group_id = medicine_group.group_id;\n\n\r\n\r\nIn the above join I am able to get the group name column from the group table. **How can I achieve this using JPA**. \r\nIf I add a field to the medicine class like this\r\n\r\n    @OneToOne\r\n    MedicineGroup medicineGroup;\r\n\r\nwhen I do a get request I get an error *Unknown column &#39;medicine0_.medicine_group_group_id&#39; in &#39;field list&#39;* . **How is the field unknown** yet I have a column called group_id in the medicine table? \r\n\r\n**How can I achieve a way in which if I perform a get request I get the medicine information and also the group with which it is associated with?** **Please help.**\r\n\r\n\r\n\r\n\r\n","title":"How can I join two tables using JPA?","body":"<p>I have two entity classes <strong>Medicine</strong> and <strong>Medicine Group</strong>. A medicine belongs to a group . A group has more than one medicine. The relationship from medicine to group is <strong>one to one</strong> from group to medicine is <strong>one to many</strong>.</p>\n<p>I have created the entity classes with the following properties</p>\n<pre><code>@Entity\npublic class Medicine {\n    @Id\n    String medicineId;\n    String medicineName;\n    int inStock;\n    String lifetimeSupply;\n    String lifetimeSales;\n    String howToUse;\n    String sideEffects;\n //their getters and setters\n}\n\n@Entity\npublic class MedicineGroup {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    int groupId;\n    String groupName;\n    String groupDescription;\n\n  //their getters and setters.\n}\n</code></pre>\n<p>In <strong>MySQL</strong> in the Medicine table I have a column called <strong>groupId</strong> which is a foreign key to the group table.</p>\n<p>Normally in MySQL I could write a join statement like this</p>\n<pre><code>SELECT medicine_id ,medicine_name ,in_stock ,lifetime_supply, lifetime_sales, how_to_use, side_effects , group_name FROM medicine JOIN medicine_group on medicine.group_id = medicine_group.group_id;\n</code></pre>\n<p>In the above join I am able to get the group name column from the group table. <strong>How can I achieve this using JPA</strong>.\nIf I add a field to the medicine class like this</p>\n<pre><code>@OneToOne\nMedicineGroup medicineGroup;\n</code></pre>\n<p>when I do a get request I get an error <em>Unknown column 'medicine0_.medicine_group_group_id' in 'field list'</em> . <strong>How is the field unknown</strong> yet I have a column called group_id in the medicine table?</p>\n<p><strong>How can I achieve a way in which if I perform a get request I get the medicine information and also the group with which it is associated with?</strong> <strong>Please help.</strong></p>\n"},{"tags":["java","maven","jacoco"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1652808219,"post_id":72277994,"comment_id":127694251,"body_markdown":"You should at least configure the version into your pom file and afterwards calling is easier from command. I don&#39;t understand why you don&#39;t want to configure that in your pom file???","body":"You should at least configure the version into your pom file and afterwards calling is easier from command. I don&#39;t understand why you don&#39;t want to configure that in your pom file???"},{"owner":{"account_id":11366457,"reputation":332,"user_id":8333238,"display_name":"ragnacode"},"score":1,"creation_date":1652809062,"post_id":72277994,"comment_id":127694516,"body_markdown":"@khmarbaise Because I want to run it on a large number of Maven projects that I do not own, and I am seeking a solution that has low overhead and that does not require configuration changes that may create errors or interfere with the well-functioning of the project in any way.","body":"@khmarbaise Because I want to run it on a large number of Maven projects that I do not own, and I am seeking a solution that has low overhead and that does not require configuration changes that may create errors or interfere with the well-functioning of the project in any way."}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652807661,"creation_date":1652807661,"answer_id":72278174,"question_id":72277994,"body_markdown":"JaCoCo works by instrumenting the virtual machine before tests are run. Normally one configures the Surefire plugin to include some additional args and use a JVM agent, or to rewrite the byte code of the classes to do something equivalent.\r\n\r\nI would check this answer: https://stackoverflow.com/questions/36742797/how-to-configure-jacoco-maven-plugin-from-command-line","title":"How to run JaCoCo on a Maven project from the command line?","body":"<p>JaCoCo works by instrumenting the virtual machine before tests are run. Normally one configures the Surefire plugin to include some additional args and use a JVM agent, or to rewrite the byte code of the classes to do something equivalent.</p>\n<p>I would check this answer: <a href=\"https://stackoverflow.com/questions/36742797/how-to-configure-jacoco-maven-plugin-from-command-line\">How to configure JaCoCo maven plugin from command line</a></p>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652809993,"creation_date":1652809515,"answer_id":72278515,"question_id":72277994,"body_markdown":"You can use: \r\n\r\n    mvn clean org.jacoco:jacoco-maven-plugin:0.8.8:prepare-agent  verify org.jacoco:jacoco-maven-plugin:0.8.8:report\r\n\r\nto call jacoco generation directly from command line without any change in your pom file.\r\n\r\nYou can replace `verify` by `test`","title":"How to run JaCoCo on a Maven project from the command line?","body":"<p>You can use:</p>\n<pre><code>mvn clean org.jacoco:jacoco-maven-plugin:0.8.8:prepare-agent  verify org.jacoco:jacoco-maven-plugin:0.8.8:report\n</code></pre>\n<p>to call jacoco generation directly from command line without any change in your pom file.</p>\n<p>You can replace <code>verify</code> by <code>test</code></p>\n"}],"owner":{"account_id":11366457,"reputation":332,"user_id":8333238,"display_name":"ragnacode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72278515,"answer_count":2,"score":1,"last_activity_date":1652809993,"creation_date":1652806715,"question_id":72277994,"body_markdown":"I want to run JaCoCo from the command line on a Maven project without including JaCoCo configuration into the pom.xml. \r\n\r\nHow do I configure and invoke JaCoCo from the command line like:\r\n\r\n    $ mvn test &lt;JaCoCo - config params&gt;\r\n\r\nIn essence, I am looking to get a coverage report for a Maven project without having to manually edit its pom.xml. Invoking JaCoCo directly on the Maven project (without invoking the `mvn` command would work to.\r\n","title":"How to run JaCoCo on a Maven project from the command line?","body":"<p>I want to run JaCoCo from the command line on a Maven project without including JaCoCo configuration into the pom.xml.</p>\n<p>How do I configure and invoke JaCoCo from the command line like:</p>\n<pre><code>$ mvn test &lt;JaCoCo - config params&gt;\n</code></pre>\n<p>In essence, I am looking to get a coverage report for a Maven project without having to manually edit its pom.xml. Invoking JaCoCo directly on the Maven project (without invoking the <code>mvn</code> command would work to.</p>\n"},{"tags":["java","linux","windows","sqlite","file"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1460806122,"post_id":36663023,"comment_id":60919212,"body_markdown":"Answer depends on the purpose of the folder. Creating temporary files? Providing configuration files? Reading and writing data files? Storing user preferences? Etcetera. For each of those purposes there are well defined cross platform solutions.","body":"Answer depends on the purpose of the folder. Creating temporary files? Providing configuration files? Reading and writing data files? Storing user preferences? Etcetera. For each of those purposes there are well defined cross platform solutions."}],"answers":[{"tags":[],"owner":{"account_id":5957993,"reputation":6081,"user_id":4683950,"accept_rate":60,"display_name":"Espoir Murhabazi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1516387515,"creation_date":1460803887,"answer_id":36663162,"question_id":36663023,"body_markdown":"   Try this line of code and according to the string return you can adjust your code\r\n\r\n    System.getproperty(&quot;os.name&quot;);\r\n","title":"Java File Path Windows/Linux","body":"<p>Try this line of code and according to the string return you can adjust your code</p>\n\n<pre><code>System.getproperty(\"os.name\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1460803984,"creation_date":1460803984,"answer_id":36663177,"question_id":36663023,"body_markdown":"Use `System.getProperty(&quot;os.name&quot;)` for obtaining os name, depends on it set path to resource:\r\n\r\n    String resourcePath = null; \r\n    switch (System.getProperty(&quot;os.name&quot;)) {\r\n                case &quot;Linux&quot;:  resourcePath = &quot;/home/romankooo/work/txt/&quot;;\r\n                         break;\r\n                case &quot;Windows&quot;:  resourcePath = &quot;C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\&quot;;\r\n                         break;\r\n    }","title":"Java File Path Windows/Linux","body":"<p>Use <code>System.getProperty(\"os.name\")</code> for obtaining os name, depends on it set path to resource:</p>\n\n<pre><code>String resourcePath = null; \nswitch (System.getProperty(\"os.name\")) {\n            case \"Linux\":  resourcePath = \"/home/romankooo/work/txt/\";\n                     break;\n            case \"Windows\":  resourcePath = \"C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\\";\n                     break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3858474,"reputation":506,"user_id":3196749,"display_name":"microtone"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1652809928,"creation_date":1460805644,"answer_id":36663452,"question_id":36663023,"body_markdown":"The best thing is to let java decide that for you like this\r\n\r\n    File folderTxt = new File(File.separator + &quot;home&quot; + File.separator + &quot;romankooo&quot; + File.separator + &quot;work&quot; + File.separator + &quot;txt&quot; + File.separator);","title":"Java File Path Windows/Linux","body":"<p>The best thing is to let java decide that for you like this</p>\n<pre><code>File folderTxt = new File(File.separator + &quot;home&quot; + File.separator + &quot;romankooo&quot; + File.separator + &quot;work&quot; + File.separator + &quot;txt&quot; + File.separator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1460806295,"creation_date":1460806295,"answer_id":36663568,"question_id":36663023,"body_markdown":"You can use slash character as file separator for both OS, in other words you can use `C:/PDFMalwareDataAnalyser/Txt/` instead of `C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\` it will still work on Windows OS.","title":"Java File Path Windows/Linux","body":"<p>You can use slash character as file separator for both OS, in other words you can use <code>C:/PDFMalwareDataAnalyser/Txt/</code> instead of <code>C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\</code> it will still work on Windows OS.</p>\n"},{"tags":[],"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583880746,"creation_date":1583880746,"answer_id":60626999,"question_id":36663023,"body_markdown":"Personally I think you&#39;d better get the folder passed in by a system property:\r\n\r\n&gt; java -Dfolder=C:\\PDFMalwareDataAnalyser\\Txt\\ myapp\r\n\r\nThis one you can use like this:\r\n\r\n    public File folderTxt = new File(System.getProperty(&quot;folderTxt&quot;));\r\n\r\nOr pass the folder by a program argument:\r\n\r\n&gt; java myapp C:\\PDFMalwareDataAnalyser\\Txt\\\r\n\r\nAnd then use it like this:\r\n\r\n    public File folderTxt = new File(args[1]);\r\n\r\nBut if you&#39;re sticking to use constants in your code, you can use it like this:\r\n\r\n    public File folderTxt = new File(String.join(File.separator,&quot;C:&quot;,&quot;PDFMalwareDataAnalyser&quot;,&quot;Txt&quot;));\r\n\r\nOr a newer version of this would be:\r\n\r\n    public File folderTxt = new File(Paths.get(&quot;C:&quot;,&quot;PDFMalwareDataAnalyser&quot;,&quot;Txt&quot;).toString());\r\n\r\nOr you could also read a property file and store the path in that one. This would work for different OSes, you only have to create the property files before:\r\n\r\n    String propertyFileName = String.format(&quot;folderSettings-%s.properties&quot;, System.getProperty(&quot;os.name&quot;).replaceAll(&quot; &quot;,&quot;_&quot;));\r\n    Properties p = new Properties();\r\n    try (InputStream is = getClass().getResourceAsStream(propertyFileName))\r\n    {\r\n      p.load(is);\r\n      String folderName = p.getProperty(&quot;folderName&quot;);\r\n      folderTxt = new File(folderName);\r\n    }\r\n    catch (Exception e)\r\n    {\r\n      // log if error occurs...\r\n      e.printStackTrace();\r\n    }","title":"Java File Path Windows/Linux","body":"<p>Personally I think you'd better get the folder passed in by a system property:</p>\n\n<blockquote>\n  <p>java -Dfolder=C:\\PDFMalwareDataAnalyser\\Txt\\ myapp</p>\n</blockquote>\n\n<p>This one you can use like this:</p>\n\n<pre><code>public File folderTxt = new File(System.getProperty(\"folderTxt\"));\n</code></pre>\n\n<p>Or pass the folder by a program argument:</p>\n\n<blockquote>\n  <p>java myapp C:\\PDFMalwareDataAnalyser\\Txt\\</p>\n</blockquote>\n\n<p>And then use it like this:</p>\n\n<pre><code>public File folderTxt = new File(args[1]);\n</code></pre>\n\n<p>But if you're sticking to use constants in your code, you can use it like this:</p>\n\n<pre><code>public File folderTxt = new File(String.join(File.separator,\"C:\",\"PDFMalwareDataAnalyser\",\"Txt\"));\n</code></pre>\n\n<p>Or a newer version of this would be:</p>\n\n<pre><code>public File folderTxt = new File(Paths.get(\"C:\",\"PDFMalwareDataAnalyser\",\"Txt\").toString());\n</code></pre>\n\n<p>Or you could also read a property file and store the path in that one. This would work for different OSes, you only have to create the property files before:</p>\n\n<pre><code>String propertyFileName = String.format(\"folderSettings-%s.properties\", System.getProperty(\"os.name\").replaceAll(\" \",\"_\"));\nProperties p = new Properties();\ntry (InputStream is = getClass().getResourceAsStream(propertyFileName))\n{\n  p.load(is);\n  String folderName = p.getProperty(\"folderName\");\n  folderTxt = new File(folderName);\n}\ncatch (Exception e)\n{\n  // log if error occurs...\n  e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":8240768,"reputation":197,"user_id":6198474,"display_name":"bilinxe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37899,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"closed_date":1583945223,"answer_count":5,"score":18,"last_activity_date":1652809928,"creation_date":1460802992,"question_id":36663023,"body_markdown":"What is the best solution to create file path in Java for this two OS. Application will be used for these OS, thus I need to create universal String.\r\n\r\nFor example :\r\n\r\nFor Linux:\r\n\r\n    File folderTxt = new File(&quot;/home/romankooo/work/txt/&quot;);\r\n\r\nFor Windows:\r\n\r\n    File folderTxt = new File(&quot;C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\&quot;);\r\n\r\nOr is the best solution to generate 2 jar files for this OS.\r\n","title":"Java File Path Windows/Linux","body":"<p>What is the best solution to create file path in Java for this two OS. Application will be used for these OS, thus I need to create universal String.</p>\n<p>For example :</p>\n<p>For Linux:</p>\n<pre><code>File folderTxt = new File(&quot;/home/romankooo/work/txt/&quot;);\n</code></pre>\n<p>For Windows:</p>\n<pre><code>File folderTxt = new File(&quot;C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\&quot;);\n</code></pre>\n<p>Or is the best solution to generate 2 jar files for this OS.</p>\n"},{"tags":["java","shiro","jetty-9"],"answers":[{"tags":[],"owner":{"account_id":236573,"reputation":134,"user_id":504155,"display_name":"jogo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652809866,"creation_date":1652809866,"answer_id":72278577,"question_id":72255872,"body_markdown":"I&#39;ve found out that `ShiroFilter` didn&#39;t get triggered on requests. I changed my request handler to extend `javax.servlet.http.HttpServlet`, now it&#39;s working!","title":"UnavailableSecurityManagerException while integrating shiro with jetty","body":"<p>I've found out that <code>ShiroFilter</code> didn't get triggered on requests. I changed my request handler to extend <code>javax.servlet.http.HttpServlet</code>, now it's working!</p>\n"}],"owner":{"account_id":236573,"reputation":134,"user_id":504155,"display_name":"jogo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72278577,"answer_count":1,"score":0,"last_activity_date":1652809866,"creation_date":1652687894,"question_id":72255872,"body_markdown":"I&#39;m trying to integrate Shiro with our &quot;legacy&quot; Client/Server application (Java 8, Jetty 9, Shiro 1.9). I followed the Documentation on https://shiro.apache.org/web.html and tried to adapt it to our existing code, but I get an `UnavailableSecurityManagerException` when I try to access the `SecurityManager`.\r\n\r\nI set up a `ServletContextHandler` and tried to combine it with our existing request handler (`AbstractHandler`). The funny thing is, I can access the context with the Security Manager instance (i.e., with `request.getServletContext().getAttribute(&quot;org.apache.shiro.web.env.EnvironmentLoader.ENVIRONMENT_ATTRIBUTE_KEY&quot;)`), but it doesn&#39;t get handled by shiro.\r\n\r\nI could set the security manager manually with SecurityUtils, but that&#39;s not what I want as I want request based security. Also, the session cookies are not set and processed at all.\r\n\r\nHere&#39;s a (stripped down) version of my code:\r\n```java\r\n/* Context */\r\n\r\npublic class SecurityContext extends ServletContextHandler {\r\n    SecurityContext(String configLocations) {\r\n        super();\r\n        EnvironmentLoaderListener listener = new EnvironmentLoaderListener();\r\n        //this.setInitParameter(&quot;shiroEnvironmentClass&quot;, &quot;org.apache.shiro.web.env.IniWebEnvironment&quot;);\r\n        this.addFilter(&quot;org.apache.shiro.web.servlet.ShiroFilter&quot;, &quot;/*&quot;, EnumSet.allOf(DispatcherType.class));\r\n        this.setInitParameter(&quot;shiroConfigLocations&quot;, configLocations);\r\n        this.addEventListener(listener);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n/* Request Handler */\r\n\r\npublic final class RequestHandler extends AbstractHandler {\r\n    public void handle(final String target, final Request baseRequest, final HttpServletRequest request, final HttpServletResponse response) throws IOException, ServletException {\r\n        Subject subject = SecurityUtils.getSubject(); // throws UnavailableSecurityManagerException!\r\n        HandlerResult handlerResult = JsonResult.notFound(this.gson);\r\n        // ...\r\n        handlerResult.writeTo(response);\r\n        baseRequest.setHandled(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\n/* Web Server: */\r\n\r\nprotected void startUp() throws Exception {\r\n        SslContextFactory sslContextFactory = new SslContextFactory();\r\n        sslContextFactory.setKeyStore(SSLKeyStore.create(&quot;server.keystore&quot;));\r\n        sslContextFactory.setKeyStorePassword(SSLKeyStore.KEYSTORE_PASSWORD);\r\n        sslContextFactory.setProtocol(&quot;TLSv1.2&quot;);\r\n\r\n        SslConnectionFactory ssl = new SslConnectionFactory(sslContextFactory, &quot;http/1.1&quot;);\r\n        HttpConnectionFactory http = new HttpConnectionFactory(new HttpConfiguration());\r\n\r\n\r\n        /* connectors */\r\n        ServerConnector sslConnector = new ServerConnector(this.server, ssl, http);\r\n        sslConnector.setPort(this.port);\r\n        this.server.addConnector(sslConnector);\r\n\r\n        /* handlers */\r\n        GzipHandler gzip = new GzipHandler();\r\n        gzip.setIncludedMimeTypes(&quot;text/html&quot;, &quot;text/plain&quot;, &quot;application/json&quot;);\r\n\r\n        RequestHandler requestHandler = new RequestHandler();\r\n\r\n        SecurityContext context = new SecurityContext(&quot;classpath:shiro.ini&quot;);\r\n        context.setGzipHandler(gzip);\r\n        context.insertHandler(new HandlerWrapper() {\r\n            @Override\r\n            public void handle(final String target, final Request baseRequest, final HttpServletRequest request, final HttpServletResponse response) throws IOException, ServletException {\r\n                SecurityUtils.getSubject(); // throws UnavailableSecurityManagerException!\r\n                requestHandler.handle(target, baseRequest, request, response);\r\n            }\r\n        });\r\n\r\n        server.setHandler(context);\r\n\r\n        this.server.start();\r\n    }\r\n\r\n```","title":"UnavailableSecurityManagerException while integrating shiro with jetty","body":"<p>I'm trying to integrate Shiro with our &quot;legacy&quot; Client/Server application (Java 8, Jetty 9, Shiro 1.9). I followed the Documentation on <a href=\"https://shiro.apache.org/web.html\" rel=\"nofollow noreferrer\">https://shiro.apache.org/web.html</a> and tried to adapt it to our existing code, but I get an <code>UnavailableSecurityManagerException</code> when I try to access the <code>SecurityManager</code>.</p>\n<p>I set up a <code>ServletContextHandler</code> and tried to combine it with our existing request handler (<code>AbstractHandler</code>). The funny thing is, I can access the context with the Security Manager instance (i.e., with <code>request.getServletContext().getAttribute(&quot;org.apache.shiro.web.env.EnvironmentLoader.ENVIRONMENT_ATTRIBUTE_KEY&quot;)</code>), but it doesn't get handled by shiro.</p>\n<p>I could set the security manager manually with SecurityUtils, but that's not what I want as I want request based security. Also, the session cookies are not set and processed at all.</p>\n<p>Here's a (stripped down) version of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Context */\n\npublic class SecurityContext extends ServletContextHandler {\n    SecurityContext(String configLocations) {\n        super();\n        EnvironmentLoaderListener listener = new EnvironmentLoaderListener();\n        //this.setInitParameter(&quot;shiroEnvironmentClass&quot;, &quot;org.apache.shiro.web.env.IniWebEnvironment&quot;);\n        this.addFilter(&quot;org.apache.shiro.web.servlet.ShiroFilter&quot;, &quot;/*&quot;, EnumSet.allOf(DispatcherType.class));\n        this.setInitParameter(&quot;shiroConfigLocations&quot;, configLocations);\n        this.addEventListener(listener);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/* Request Handler */\n\npublic final class RequestHandler extends AbstractHandler {\n    public void handle(final String target, final Request baseRequest, final HttpServletRequest request, final HttpServletResponse response) throws IOException, ServletException {\n        Subject subject = SecurityUtils.getSubject(); // throws UnavailableSecurityManagerException!\n        HandlerResult handlerResult = JsonResult.notFound(this.gson);\n        // ...\n        handlerResult.writeTo(response);\n        baseRequest.setHandled(true);\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/* Web Server: */\n\nprotected void startUp() throws Exception {\n        SslContextFactory sslContextFactory = new SslContextFactory();\n        sslContextFactory.setKeyStore(SSLKeyStore.create(&quot;server.keystore&quot;));\n        sslContextFactory.setKeyStorePassword(SSLKeyStore.KEYSTORE_PASSWORD);\n        sslContextFactory.setProtocol(&quot;TLSv1.2&quot;);\n\n        SslConnectionFactory ssl = new SslConnectionFactory(sslContextFactory, &quot;http/1.1&quot;);\n        HttpConnectionFactory http = new HttpConnectionFactory(new HttpConfiguration());\n\n\n        /* connectors */\n        ServerConnector sslConnector = new ServerConnector(this.server, ssl, http);\n        sslConnector.setPort(this.port);\n        this.server.addConnector(sslConnector);\n\n        /* handlers */\n        GzipHandler gzip = new GzipHandler();\n        gzip.setIncludedMimeTypes(&quot;text/html&quot;, &quot;text/plain&quot;, &quot;application/json&quot;);\n\n        RequestHandler requestHandler = new RequestHandler();\n\n        SecurityContext context = new SecurityContext(&quot;classpath:shiro.ini&quot;);\n        context.setGzipHandler(gzip);\n        context.insertHandler(new HandlerWrapper() {\n            @Override\n            public void handle(final String target, final Request baseRequest, final HttpServletRequest request, final HttpServletResponse response) throws IOException, ServletException {\n                SecurityUtils.getSubject(); // throws UnavailableSecurityManagerException!\n                requestHandler.handle(target, baseRequest, request, response);\n            }\n        });\n\n        server.setHandler(context);\n\n        this.server.start();\n    }\n\n</code></pre>\n"},{"tags":["java","java.util.scanner","java-io"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1652806617,"post_id":72277938,"comment_id":127693736,"body_markdown":"What part of the error message is unclear?","body":"What part of the error message is unclear?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1652807475,"post_id":72277938,"comment_id":127694015,"body_markdown":"Unless you want to process lines from a InputStream line by line (which is *inefficient reading*), it is better to gobble the whole file as quickly as possible and then print the whole thing","body":"Unless you want to process lines from a InputStream line by line (which is <i>inefficient reading</i>), it is better to gobble the whole file as quickly as possible and then print the whole thing"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652806777,"creation_date":1652806777,"answer_id":72278007,"question_id":72277938,"body_markdown":"I think instead of \r\n\r\n    } else {\r\n        readfile(folder);\r\n    }\r\n\r\nyou want to use\r\n\r\n    } else {\r\n        readfile(fileEntry);\r\n    }\r\n\r\nOtherwise even though you are checking if the current element is a file, you still pass the current folder as the parameter.","title":"Using a Scanner to read multiple files in a loop","body":"<p>I think instead of</p>\n<pre><code>} else {\n    readfile(folder);\n}\n</code></pre>\n<p>you want to use</p>\n<pre><code>} else {\n    readfile(fileEntry);\n}\n</code></pre>\n<p>Otherwise even though you are checking if the current element is a file, you still pass the current folder as the parameter.</p>\n"},{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652807205,"creation_date":1652807205,"answer_id":72278088,"question_id":72277938,"body_markdown":"You can&#39;t use Scanner to read all files from a directory like this.\r\n\r\nYou&#39;d be better off using nio and Files.readAllBytes();\r\n\r\n     public static void init(final File folder) throws FileNotFoundException {\r\n      List&lt;String&gt; fileStrings = new ArrayList&lt;String&gt;();\r\n      File[] files = folder.listFiles();\r\n      for (int i = 0; i &lt; files.length; i++) {\r\n        filesStrings.add(new String(Files.readAllBytes(files[i].toPath())));\r\n      }\r\n    }","title":"Using a Scanner to read multiple files in a loop","body":"<p>You can't use Scanner to read all files from a directory like this.</p>\n<p>You'd be better off using nio and Files.readAllBytes();</p>\n<pre><code> public static void init(final File folder) throws FileNotFoundException {\n  List&lt;String&gt; fileStrings = new ArrayList&lt;String&gt;();\n  File[] files = folder.listFiles();\n  for (int i = 0; i &lt; files.length; i++) {\n    filesStrings.add(new String(Files.readAllBytes(files[i].toPath())));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652809844,"creation_date":1652809844,"answer_id":72278574,"question_id":72277938,"body_markdown":"To combine what @ControlAltDel did with another method of directory iteration (in this case for all the .txt directories). You can test this by passing the path to the directory on the command line:\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.DirectoryStream;\r\n    import java.nio.file.DirectoryIteratorException;\r\n    import java.io.IOException;\r\n    \r\n    public class AllFilesScanner {\r\n        public static void main(String[] args) {\r\n            Path dir = Path.of(args[0]);\r\n            List&lt;String&gt; fileStrings = new ArrayList&lt;&gt;();\r\n            try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir, &quot;*.{txt}&quot;)) {\r\n                for (Path entry : stream) {\r\n                    fileStrings.add(new String(Files.readAllBytes(entry)));\r\n                }\r\n            } catch (DirectoryIteratorException ex) {\r\n                ex.printStackTrace();   \r\n            } catch (IOException e) {\r\n                e.printStackTrace();    \r\n            }\r\n            System.out.println(fileStrings);\r\n        }\r\n    }\r\n\r\n","title":"Using a Scanner to read multiple files in a loop","body":"<p>To combine what @ControlAltDel did with another method of directory iteration (in this case for all the .txt directories). You can test this by passing the path to the directory on the command line:</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.DirectoryStream;\nimport java.nio.file.DirectoryIteratorException;\nimport java.io.IOException;\n\npublic class AllFilesScanner {\n    public static void main(String[] args) {\n        Path dir = Path.of(args[0]);\n        List&lt;String&gt; fileStrings = new ArrayList&lt;&gt;();\n        try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir, &quot;*.{txt}&quot;)) {\n            for (Path entry : stream) {\n                fileStrings.add(new String(Files.readAllBytes(entry)));\n            }\n        } catch (DirectoryIteratorException ex) {\n            ex.printStackTrace();   \n        } catch (IOException e) {\n            e.printStackTrace();    \n        }\n        System.out.println(fileStrings);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72278007,"answer_count":3,"score":0,"last_activity_date":1652809844,"creation_date":1652806441,"question_id":72277938,"body_markdown":"For a school project I am attempting to create a program that uses a Scanner to read each individual line of a text file and store it in a variable. The program does this for every file in a given directory. \r\n\r\n  \r\n\r\n      public static void init(final File folder) throws FileNotFoundException {\r\n    \r\n    String foo, bar;\r\n    int slime, grit, ball, funk;\r\n    int count = folder.list().length;\r\n    \r\n    \r\n    for (final File fileEntry: folder.listFiles()) {\r\n    \r\n    if(fileEntry.isDirectory()) {\r\n    \r\n    init(fileEntry);\r\n    \r\n    } else {\r\n    \treadfile(folder);\r\n    }\r\n    \r\n    }\r\n\r\nI have succeeded in making the program do this for one file without the loop, however once I added the loop, it wouldn&#39;t run. I got the code to compile though. The .txt files only have a certain amount of lines in them, each with similar content.\r\n\r\n    public static void readfile(final File folder) throws FileNotFoundException  {\r\n    \r\n    File file = folder;\r\n    \r\n    String foo, bar;\r\n    int slime, grit, ball, funk;\r\n    Scanner input = new Scanner(file);\r\n    \r\n    \r\n    while (input.hasNextLine()) {\r\n    \r\n    foo = input.nextLine();\r\n    \r\n    System.out.println(foo);\r\n    \r\n    bar = input.nextLine();\r\n    \r\n    System.out.println(bar);\r\n    \r\n    slime = input.nextInt();\r\n    \r\n    System.out.println(slime);\r\n    \r\n    grit = input.nextInt();\r\n    \r\n    System.out.println(grit);\r\n    \r\n    ball = input.nextInt();\r\n    \r\n    System.out.println(ball);\r\n    \r\n    funk = input.nextInt();\r\n    \r\n    System.out.println(funk);\r\n    \r\n    break;\r\n    \r\n    }\r\n    \r\n    \r\n    }\r\n\r\nUpon running the file I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.io FileNotFoundException: home/work/txt (Is a directory)\r\n    at java.base/java.io.FileInputStream.open0(Native Method)\r\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n    at java.base/java.io.FileInputStream&lt;init&gt;(FileInputStream.java:157)\r\n    at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:639)\r\n    at FileRead.readfile(FileRead.java:24)\r\n    at FileRead.init(FileRead.java:75)\r\n    at FileRead.main(FileRead.java:12)\r\n\r\nThe main method is nothing out of the ordinary either.\r\n\r\n    public class FileRead {\r\n\r\n    public static void main(String args[]) throws FileNotFoundException {\r\n    \r\n    final File folder = new File(&quot;/home/work/txt&quot;);\r\n    \r\n    init(folder);\r\n\r\n\r\n\t}\r\n\r\n\r\nThe goal of the program is to create an object that stores the string and int values for later use. There will be a few calculations but I don&#39;t think that these details will be important for this as they have not been implemented. I am running this on an Ubuntu VM. If anyone can provide any answers I would be very grateful, thanks!","title":"Using a Scanner to read multiple files in a loop","body":"<p>For a school project I am attempting to create a program that uses a Scanner to read each individual line of a text file and store it in a variable. The program does this for every file in a given directory.</p>\n<pre><code>  public static void init(final File folder) throws FileNotFoundException {\n\nString foo, bar;\nint slime, grit, ball, funk;\nint count = folder.list().length;\n\n\nfor (final File fileEntry: folder.listFiles()) {\n\nif(fileEntry.isDirectory()) {\n\ninit(fileEntry);\n\n} else {\n    readfile(folder);\n}\n\n}\n</code></pre>\n<p>I have succeeded in making the program do this for one file without the loop, however once I added the loop, it wouldn't run. I got the code to compile though. The .txt files only have a certain amount of lines in them, each with similar content.</p>\n<pre><code>public static void readfile(final File folder) throws FileNotFoundException  {\n\nFile file = folder;\n\nString foo, bar;\nint slime, grit, ball, funk;\nScanner input = new Scanner(file);\n\n\nwhile (input.hasNextLine()) {\n\nfoo = input.nextLine();\n\nSystem.out.println(foo);\n\nbar = input.nextLine();\n\nSystem.out.println(bar);\n\nslime = input.nextInt();\n\nSystem.out.println(slime);\n\ngrit = input.nextInt();\n\nSystem.out.println(grit);\n\nball = input.nextInt();\n\nSystem.out.println(ball);\n\nfunk = input.nextInt();\n\nSystem.out.println(funk);\n\nbreak;\n\n}\n\n\n}\n</code></pre>\n<p>Upon running the file I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io FileNotFoundException: home/work/txt (Is a directory)\nat java.base/java.io.FileInputStream.open0(Native Method)\nat java.base/java.io.FileInputStream.open(FileInputStream.java:219)\nat java.base/java.io.FileInputStream&lt;init&gt;(FileInputStream.java:157)\nat java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:639)\nat FileRead.readfile(FileRead.java:24)\nat FileRead.init(FileRead.java:75)\nat FileRead.main(FileRead.java:12)\n</code></pre>\n<p>The main method is nothing out of the ordinary either.</p>\n<pre><code>public class FileRead {\n\npublic static void main(String args[]) throws FileNotFoundException {\n\nfinal File folder = new File(&quot;/home/work/txt&quot;);\n\ninit(folder);\n\n\n}\n</code></pre>\n<p>The goal of the program is to create an object that stores the string and int values for later use. There will be a few calculations but I don't think that these details will be important for this as they have not been implemented. I am running this on an Ubuntu VM. If anyone can provide any answers I would be very grateful, thanks!</p>\n"},{"tags":["java","generics","operators"],"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":0,"creation_date":1309976058,"post_id":6601015,"comment_id":7788922,"body_markdown":"Do you get an error when you try to do that? What does the error say?","body":"Do you get an error when you try to do that? What does the error say?"},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1309976101,"post_id":6601015,"comment_id":7788941,"body_markdown":"`+` is not defined for `Number`!","body":"<code>+</code> is not defined for <code>Number</code>!"},{"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"score":0,"creation_date":1309976105,"post_id":6601015,"comment_id":7788943,"body_markdown":"it doesn&#39;t compile. Eclipse says: The operator + is undefined for the argument type(s) T, T","body":"it doesn&#39;t compile. Eclipse says: The operator + is undefined for the argument type(s) T, T"},{"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"score":0,"creation_date":1309976978,"post_id":6601015,"comment_id":7789211,"body_markdown":"@thomson_matt @Victor Sorokin @Oli Charlesworth thank you all for the help. I edited my question.","body":"@thomson_matt @Victor Sorokin @Oli Charlesworth thank you all for the help. I edited my question."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1309977251,"post_id":6601015,"comment_id":7789325,"body_markdown":"Your new example doesn&#39;t compile for a different reason.  At run-time, the JVM doesn&#39;t know what type of `T` it should construct, due to *type erasure*.","body":"Your new example doesn&#39;t compile for a different reason.  At run-time, the JVM doesn&#39;t know what type of <code>T</code> it should construct, due to <i>type erasure</i>."},{"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"score":0,"creation_date":1309977439,"post_id":6601015,"comment_id":7789384,"body_markdown":"@Oli Charlesworth: thanks. how can I fix this?","body":"@Oli Charlesworth: thanks. how can I fix this?"},{"owner":{"account_id":15875847,"reputation":4479,"user_id":11455105,"display_name":"Amal K"},"score":0,"creation_date":1581688717,"post_id":6601015,"comment_id":106530753,"body_markdown":"I have the same problem. Why is it still not working after Auto Unboxing is introduced? My generic type clearly states `&lt;T extends Number&gt;`","body":"I have the same problem. Why is it still not working after Auto Unboxing is introduced? My generic type clearly states <code>&lt;T extends Number&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":336009,"reputation":7503,"user_id":663424,"accept_rate":76,"display_name":"thomson_matt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1309977273,"creation_date":1309976118,"answer_id":6601039,"question_id":6601015,"body_markdown":"It&#39;s not possible because `Number` doesn&#39;t have a + operator associated with it.  In particular, you can&#39;t do this:\r\n\r\n    Number a = new Integer(1);\r\n    Number b = new Integer(2);\r\n    Number c = a + b;","title":"how to use generics in Java with language operators and generic class extending Number","body":"<p>It's not possible because <code>Number</code> doesn't have a + operator associated with it.  In particular, you can't do this:</p>\n\n<pre><code>Number a = new Integer(1);\nNumber b = new Integer(2);\nNumber c = a + b;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652809561,"creation_date":1309976206,"answer_id":6601057,"question_id":6601015,"body_markdown":"There is no `+` operator for classes in Java (except String and there&#39;s implicit conversion for other types via `toString()` when one of arguments is String). So, make you type implement some interface, say\r\n\r\n    interface Valuable {\r\n        // use richest built-in numeric type\r\n        double value();\r\n        Valuable value(double v);\r\n    }\r\n    \r\n    public static &lt;T extends Valuable&gt; T sum(T a, T b){\r\n        return a.value(a.value() + b.value());\r\n    }\r\n\r\nUgly, isn&#39;t it? =D\r\n\r\n----\r\n\r\n**Fix 2022** code above is wrong, as `Valuable#value` can&#39;t produce instance of subtype `T`, so we need to go a bit more hairy:\r\n\r\n```\r\ninterface Valuable&lt;T extends Valuable&lt;T&gt;&gt; {\r\n    // use richest built-in numeric type\r\n    double value();\r\n    T value(double v);\r\n}\r\n\r\nclass Impl implements Valuable&lt;Impl&gt; {\r\n    private final double v;\r\n\r\n    Impl(double v) {\r\n        this.v = v;\r\n    }\r\n\r\n    @Override\r\n    public double value() {\r\n        return v;\r\n    }\r\n\r\n    @Override\r\n    public Impl value(double v) {\r\n        return new Impl(v);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Impl{&quot; +\r\n                &quot;v=&quot; + v +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\nclass Scratch {\r\n\r\n    public static void main(String[] args) {\r\n        Impl a = new Impl(1), b = new Impl(-1);\r\n        System.out.println(a + &quot; + &quot; + b + &quot; = &quot; + sum(a, b));\r\n    }\r\n\r\n    public static &lt;T extends Valuable&lt;T&gt;&gt; T sum(T a, T b){\r\n        return a.value(a.value() + b.value());\r\n    }\r\n}\r\n```","title":"how to use generics in Java with language operators and generic class extending Number","body":"<p>There is no <code>+</code> operator for classes in Java (except String and there's implicit conversion for other types via <code>toString()</code> when one of arguments is String). So, make you type implement some interface, say</p>\n<pre><code>interface Valuable {\n    // use richest built-in numeric type\n    double value();\n    Valuable value(double v);\n}\n\npublic static &lt;T extends Valuable&gt; T sum(T a, T b){\n    return a.value(a.value() + b.value());\n}\n</code></pre>\n<p>Ugly, isn't it? =D</p>\n<hr />\n<p><strong>Fix 2022</strong> code above is wrong, as <code>Valuable#value</code> can't produce instance of subtype <code>T</code>, so we need to go a bit more hairy:</p>\n<pre><code>interface Valuable&lt;T extends Valuable&lt;T&gt;&gt; {\n    // use richest built-in numeric type\n    double value();\n    T value(double v);\n}\n\nclass Impl implements Valuable&lt;Impl&gt; {\n    private final double v;\n\n    Impl(double v) {\n        this.v = v;\n    }\n\n    @Override\n    public double value() {\n        return v;\n    }\n\n    @Override\n    public Impl value(double v) {\n        return new Impl(v);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Impl{&quot; +\n                &quot;v=&quot; + v +\n                '}';\n    }\n}\n\nclass Scratch {\n\n    public static void main(String[] args) {\n        Impl a = new Impl(1), b = new Impl(-1);\n        System.out.println(a + &quot; + &quot; + b + &quot; = &quot; + sum(a, b));\n    }\n\n    public static &lt;T extends Valuable&lt;T&gt;&gt; T sum(T a, T b){\n        return a.value(a.value() + b.value());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8476,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6601039,"answer_count":2,"score":5,"last_activity_date":1652809561,"creation_date":1309975942,"question_id":6601015,"body_markdown":"I would like to perform an operation on two generics argument of the same type both extending Number. \r\n\r\nIs it Possible? \r\nI always used to call methods on generic arguments, but seems there is some problem using operators (The operator + is undefined for the argument type(s) T, T).\r\n\r\n\tpublic static &lt;T extends Number&gt; T sum(T a, T b){\r\n\t\treturn a+ b;\r\n\t}\r\nWhat am I doing wrong?\r\n\r\nEDIT:\r\nI try to improve a little bit my question. I understood that operators are not defined for type Number. It&#39;s a bit sad this thing because it would be nice to perform such an operation without introducing new interfaces like suggested by @Victor Sorokin. \r\n\r\nBut I still don&#39;t understand one thing: if operators are not implemented in the class Number, then at least in Double class should be implemented because I can use + operator with double.\r\nNeither these line of code will compile:\r\n\r\n\tpublic static &lt;T extends Double&gt; T sum(T a, T b){\r\n\t\t\r\n\t\tT c = a +b;\r\n\t}\r\n\r\nwhy?","title":"how to use generics in Java with language operators and generic class extending Number","body":"<p>I would like to perform an operation on two generics argument of the same type both extending Number. </p>\n\n<p>Is it Possible? \nI always used to call methods on generic arguments, but seems there is some problem using operators (The operator + is undefined for the argument type(s) T, T).</p>\n\n<pre><code>public static &lt;T extends Number&gt; T sum(T a, T b){\n    return a+ b;\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT:\nI try to improve a little bit my question. I understood that operators are not defined for type Number. It's a bit sad this thing because it would be nice to perform such an operation without introducing new interfaces like suggested by @Victor Sorokin. </p>\n\n<p>But I still don't understand one thing: if operators are not implemented in the class Number, then at least in Double class should be implemented because I can use + operator with double.\nNeither these line of code will compile:</p>\n\n<pre><code>public static &lt;T extends Double&gt; T sum(T a, T b){\n\n    T c = a +b;\n}\n</code></pre>\n\n<p>why?</p>\n"},{"tags":["java","dependency-injection","java-ee-6"],"answers":[{"tags":[],"owner":{"account_id":1568744,"reputation":746,"user_id":1456932,"accept_rate":78,"display_name":"DmiN"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1506279214,"creation_date":1506279096,"answer_id":46393668,"question_id":46393645,"body_markdown":"Use the [@DependsOn][1] annotation to declare an initialization dependency on startup beans.\r\n\r\nExample:\r\n\r\n    @Singleton\r\n    @Startup\r\n    public class ServiceA {\r\n        @PostConstruct\r\n        public void init() { ... }\r\n    }\r\n\r\n    @Singleton\r\n    @Startup\r\n    @DependsOn(&quot;ServiceA&quot;)\r\n    public class ServiceB {\r\n        @EJB\r\n        ServiceA a;\r\n\r\n        @PostConstruct\r\n        public void init() { ... } // will be called after a is initialized\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/ejb/DependsOn.html ","title":"Execution Order of @PostConstruct","body":"<p>Use the <a href=\"http://docs.oracle.com/javaee/7/api/javax/ejb/DependsOn.html\" rel=\"noreferrer\">@DependsOn</a> annotation to declare an initialization dependency on startup beans.</p>\n\n<p>Example:</p>\n\n<pre><code>@Singleton\n@Startup\npublic class ServiceA {\n    @PostConstruct\n    public void init() { ... }\n}\n\n@Singleton\n@Startup\n@DependsOn(\"ServiceA\")\npublic class ServiceB {\n    @EJB\n    ServiceA a;\n\n    @PostConstruct\n    public void init() { ... } // will be called after a is initialized\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11120344,"reputation":36,"user_id":8163385,"display_name":"Viresh Sangwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544405053,"creation_date":1544405053,"answer_id":53698397,"question_id":46393645,"body_markdown":"A question on the answer given by @DmiN\r\n(I am new user so not able to post a comment directly)\r\n\r\nWith your suggestion (as shown in code below) -- I agree that Service B will start after Service A is initialized (just initialized, not that postconstruct is complete). But I doubt if it can be guaranteed that ServiceB&#39;s init method will never run unless the Service A&#39;s PostConstruct method has finished execution? Correct?\r\n\r\n    @Singleton\r\n    @Startup\r\n    public class ServiceA {\r\n        @PostConstruct\r\n        public void init() { ... }\r\n    }\r\n\r\n    @Singleton\r\n    @Startup\r\n    @DependsOn(&quot;ServiceA&quot;)\r\n    public class ServiceB {\r\n        @EJB\r\n        ServiceA a;\r\n\r\n        @PostConstruct\r\n        public void init() { ... } // will be called after a is initialized\r\n    }","title":"Execution Order of @PostConstruct","body":"<p>A question on the answer given by @DmiN\n(I am new user so not able to post a comment directly)</p>\n\n<p>With your suggestion (as shown in code below) -- I agree that Service B will start after Service A is initialized (just initialized, not that postconstruct is complete). But I doubt if it can be guaranteed that ServiceB's init method will never run unless the Service A's PostConstruct method has finished execution? Correct?</p>\n\n<pre><code>@Singleton\n@Startup\npublic class ServiceA {\n    @PostConstruct\n    public void init() { ... }\n}\n\n@Singleton\n@Startup\n@DependsOn(\"ServiceA\")\npublic class ServiceB {\n    @EJB\n    ServiceA a;\n\n    @PostConstruct\n    public void init() { ... } // will be called after a is initialized\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16785211,"reputation":73,"user_id":12134382,"display_name":"Mortadha BOUALLAGUI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650719324,"creation_date":1650719324,"answer_id":71979920,"question_id":46393645,"body_markdown":"The @PostConstruct annotation is used for methods executed after dependency injection is complete, So here the injection of service A in service B is done, then the init function of Service B can be executed \r\n\r\n    public class ServiceA {\r\n\r\n    @PostConstruct\r\n    public void init() { }\r\n\r\n    }\r\n\r\n\r\n    public class ServiceB {\r\n\r\n    @Autowired\r\n    ServiceA a;\r\n\r\n    @PostConstruct\r\n    public void init() { }\r\n    }\r\n\r\n","title":"Execution Order of @PostConstruct","body":"<p>The @PostConstruct annotation is used for methods executed after dependency injection is complete, So here the injection of service A in service B is done, then the init function of Service B can be executed</p>\n<pre><code>public class ServiceA {\n\n@PostConstruct\npublic void init() { }\n\n}\n\n\npublic class ServiceB {\n\n@Autowired\nServiceA a;\n\n@PostConstruct\npublic void init() { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8249980,"reputation":151,"user_id":6204958,"display_name":"Andrii Ofim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652808902,"creation_date":1652808902,"answer_id":72278408,"question_id":46393645,"body_markdown":"As a simple alternative solution, you can manually collect all your independent beans that should be inited in a defined order in one place. It helps to avoid [@DependsOn][1]\r\n\r\n```java\r\npublic interface OrderedPostConstruct {\r\n    void init();\r\n}\r\n\r\n// ==== Production ====\r\n@Configuration\r\npublic class InitConfig {\r\n\r\n    private final ObjectProvider&lt;OrderedPostConstruct&gt; initializers;\r\n\r\n    @PostConstruct\r\n    public void initEntryPoint() {\r\n        initializers.orderedStream().forEach(Initialize::init);\r\n    }\r\n}\r\n\r\n@Order(1)\r\n@Component\r\npublic class OneUsefullComponent implements OrderedPostConstruct {\r\n    @Override\r\n    public void init() {\r\n        // executed first\r\n    }\r\n}\r\n\r\n@Order(2)\r\n@Component\r\npublic class TwoUsefullComponent implements OrderedPostConstruct {\r\n    @Override\r\n    public void init() {\r\n        // executed second\r\n    }\r\n}\r\n\r\n// ==== Integration tests ====\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@Component\r\npublic class TestDataPopulator implements OrderedPostConstruct {\r\n    @Override\r\n    public void init() {\r\n        // populate data for tests\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/ejb/DependsOn.html","title":"Execution Order of @PostConstruct","body":"<p>As a simple alternative solution, you can manually collect all your independent beans that should be inited in a defined order in one place. It helps to avoid <a href=\"http://docs.oracle.com/javaee/7/api/javax/ejb/DependsOn.html\" rel=\"nofollow noreferrer\">@DependsOn</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface OrderedPostConstruct {\n    void init();\n}\n\n// ==== Production ====\n@Configuration\npublic class InitConfig {\n\n    private final ObjectProvider&lt;OrderedPostConstruct&gt; initializers;\n\n    @PostConstruct\n    public void initEntryPoint() {\n        initializers.orderedStream().forEach(Initialize::init);\n    }\n}\n\n@Order(1)\n@Component\npublic class OneUsefullComponent implements OrderedPostConstruct {\n    @Override\n    public void init() {\n        // executed first\n    }\n}\n\n@Order(2)\n@Component\npublic class TwoUsefullComponent implements OrderedPostConstruct {\n    @Override\n    public void init() {\n        // executed second\n    }\n}\n\n// ==== Integration tests ====\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@Component\npublic class TestDataPopulator implements OrderedPostConstruct {\n    @Override\n    public void init() {\n        // populate data for tests\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3527935,"reputation":1497,"user_id":2948478,"accept_rate":79,"display_name":"EasterBunnyBugSmasher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16100,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":46393668,"answer_count":4,"score":11,"last_activity_date":1652808902,"creation_date":1506278962,"question_id":46393645,"body_markdown":"I have 2 singletons in my JEE application that I want to initialize at start up. Something like this:\r\n\r\n    @Singleton\r\n    @Startup\r\n    public class ServiceB {\r\n\r\n        @EJB\r\n        private ServiceA a;\r\n\r\n        @PostConstruct\r\n        private void init() {\r\n            ....\r\n        }\r\n    }\r\n\r\nServiceB doesn&#39;t really need ServiceA, I just added the dependency to make sure that ServiceA is fully initialized (read: @PostConstruct-method finished) before ServiceB&#39;s init() -Method starts.\r\n\r\nBut it doesn&#39;t wait. ServiceB actually starts before ServiceA. \r\n\r\nIs there any way to ensure that one Bean&#39;s @PostConstruct- method waits for another Bean&#39;s @PostConstruct-method to finish?\r\n\r\nI know I could just remove the @PostConstruct Annotation in ServiceA and call it directly from ServiceB\r\n\r\n        @PostConstruct init() {\r\n            a.init();\r\n        }\r\n\r\nbut I have deployments where there is no ServiceB. So I can&#39;t rely on ServiceB to init ServiceA. ServiceA has to do that itself. And ServiceB must wait for ServiceA to be done with it.","title":"Execution Order of @PostConstruct","body":"<p>I have 2 singletons in my JEE application that I want to initialize at start up. Something like this:</p>\n\n<pre><code>@Singleton\n@Startup\npublic class ServiceB {\n\n    @EJB\n    private ServiceA a;\n\n    @PostConstruct\n    private void init() {\n        ....\n    }\n}\n</code></pre>\n\n<p>ServiceB doesn't really need ServiceA, I just added the dependency to make sure that ServiceA is fully initialized (read: @PostConstruct-method finished) before ServiceB's init() -Method starts.</p>\n\n<p>But it doesn't wait. ServiceB actually starts before ServiceA. </p>\n\n<p>Is there any way to ensure that one Bean's @PostConstruct- method waits for another Bean's @PostConstruct-method to finish?</p>\n\n<p>I know I could just remove the @PostConstruct Annotation in ServiceA and call it directly from ServiceB</p>\n\n<pre><code>    @PostConstruct init() {\n        a.init();\n    }\n</code></pre>\n\n<p>but I have deployments where there is no ServiceB. So I can't rely on ServiceB to init ServiceA. ServiceA has to do that itself. And ServiceB must wait for ServiceA to be done with it.</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":6083109,"reputation":2563,"user_id":4748172,"display_name":"Ryan H."},"score":0,"creation_date":1614758391,"post_id":66452672,"comment_id":117479405,"body_markdown":"Are you missing a semicolon on the ```src: url(&quot;cerebrisans-regular.ttf&quot;)``` line in your CSS file?","body":"Are you missing a semicolon on the <code>src: url(&quot;cerebrisans-regular.ttf&quot;)</code> line in your CSS file?"},{"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"score":0,"creation_date":1614758602,"post_id":66452672,"comment_id":117479483,"body_markdown":"@Ryan I  have updated the question and the error has changed.","body":"@Ryan I  have updated the question and the error has changed."},{"owner":{"account_id":6083109,"reputation":2563,"user_id":4748172,"display_name":"Ryan H."},"score":0,"creation_date":1614758705,"post_id":66452672,"comment_id":117479526,"body_markdown":"Ok, have you taken a look at this question: [“loadStylesheetUnPrivileged” error when trying to use css stylesheet with JavaFX](https://stackoverflow.com/q/33764821/4748172)?","body":"Ok, have you taken a look at this question: <a href=\"https://stackoverflow.com/q/33764821/4748172\">“loadStylesheetUnPrivileged” error when trying to use css stylesheet with JavaFX</a>?"},{"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"score":0,"creation_date":1614759103,"post_id":66452672,"comment_id":117479669,"body_markdown":"@Ryan Yes. I have tried them in my code, either adding stylesheets to fxml or root.getStyleSheet()... and both. Not working. Same error.","body":"@Ryan Yes. I have tried them in my code, either adding stylesheets to fxml or root.getStyleSheet()... and both. Not working. Same error."},{"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"score":0,"creation_date":1614761979,"post_id":66452672,"comment_id":117480870,"body_markdown":"I got this. Thanks for your help. In my working environment name, there was a space and it is the problem.","body":"I got this. Thanks for your help. In my working environment name, there was a space and it is the problem."}],"answers":[{"tags":[],"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1614762065,"creation_date":1614762065,"answer_id":66453783,"question_id":66452672,"body_markdown":"The problem was in my working environment name, there was a space. Removed, renamed and now it is working with the CSS code shown in the question.","title":"How to set custom font in JavaFX?","body":"<p>The problem was in my working environment name, there was a space. Removed, renamed and now it is working with the CSS code shown in the question.</p>\n"}],"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652808803,"creation_date":1614757321,"question_id":66452672,"body_markdown":"I&#39;m trying to set the custom font &quot;Cerebri Sans Regular&quot; to my JavaFX application. I&#39;m using Java SE 11 and JavaFX 11.\r\n\r\nMy tries:\r\n```\r\npublic class SampleController implements Initializable {\r\n\r\n    @FXML\r\n    private Label customFont;\r\n    \r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tFont font = Font.loadFont(&quot;cerebrisans-regular.ttf&quot;, 20);\r\n\t\t\r\n\t\tcustomFont.setFont(font);\r\n\t}\r\n\t\r\n}\r\n```\r\nError\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javafx.scene.text.Font.getNativeFont()&quot; because &quot;&lt;parameter1&gt;&quot; is null\r\n\tat javafx.graphics/javafx.scene.text.Font$1.getNativeFont(Font.java:68)\r\n```\r\n\r\nAnother try from css\r\n```\r\n@font-face {\r\n    src: url(&quot;cerebrisans-regular.ttf&quot;);\r\n}\r\n\r\n.root {\r\n    -fx-background-color: gray;\r\n    -fx-font-family: &quot;Cerebri Sans&quot;; /* this name is from font file */\r\n}\r\n\r\n.customFont {\r\n    -fx-text-fill: red;\r\n    -fx-font-size: 16px;\r\n    -fx-font-family: &quot;Cerebri Sans&quot;;\r\n}\r\n```\r\n\r\nError\r\n```\r\nMar 03, 2021 2:31:56 PM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged\r\nINFO: Could not load @font-face font [file:/C:/Java%20Training/JavaFX-Test/Custom-Font-Demo/bin/application/cerebrisans-regular.ttf]\r\n```","title":"How to set custom font in JavaFX?","body":"<p>I'm trying to set the custom font &quot;Cerebri Sans Regular&quot; to my JavaFX application. I'm using Java SE 11 and JavaFX 11.</p>\n<p>My tries:</p>\n<pre><code>public class SampleController implements Initializable {\n\n    @FXML\n    private Label customFont;\n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        Font font = Font.loadFont(&quot;cerebrisans-regular.ttf&quot;, 20);\n        \n        customFont.setFont(font);\n    }\n    \n}\n</code></pre>\n<p>Error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.text.Font.getNativeFont()&quot; because &quot;&lt;parameter1&gt;&quot; is null\n    at javafx.graphics/javafx.scene.text.Font$1.getNativeFont(Font.java:68)\n</code></pre>\n<p>Another try from css</p>\n<pre><code>@font-face {\n    src: url(&quot;cerebrisans-regular.ttf&quot;);\n}\n\n.root {\n    -fx-background-color: gray;\n    -fx-font-family: &quot;Cerebri Sans&quot;; /* this name is from font file */\n}\n\n.customFont {\n    -fx-text-fill: red;\n    -fx-font-size: 16px;\n    -fx-font-family: &quot;Cerebri Sans&quot;;\n}\n</code></pre>\n<p>Error</p>\n<pre><code>Mar 03, 2021 2:31:56 PM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged\nINFO: Could not load @font-face font [file:/C:/Java%20Training/JavaFX-Test/Custom-Font-Demo/bin/application/cerebrisans-regular.ttf]\n</code></pre>\n"},{"tags":["java","dependency-injection","ejb","java-ee-7","erp"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1652778058,"post_id":72271082,"comment_id":127682354,"body_markdown":"What error are you getting?","body":"What error are you getting?"}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652808730,"creation_date":1652808730,"answer_id":72278379,"question_id":72271082,"body_markdown":"There are likely multiple issues, but one that sticks out is that all of the fields should be marked with the `private` modifier.\r\n\r\nIn addition, can you post the rest of your codebase and the error you are getting?","title":"When I use dependecy injection like @Inject in my entity class it throw an error","body":"<p>There are likely multiple issues, but one that sticks out is that all of the fields should be marked with the <code>private</code> modifier.</p>\n<p>In addition, can you post the rest of your codebase and the error you are getting?</p>\n"}],"owner":{"account_id":22124063,"reputation":11,"user_id":16376769,"display_name":"behabtu Getnet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652808730,"creation_date":1652778014,"question_id":72271082,"body_markdown":"    @Stateless\r\n    public class MyAccountsBean {\r\n    \r\n        @Inject SomeEntityClass someOtherBean;\r\n        @Resource UserTransaction jtaTx;\r\n        @PersistenceContext(unitName=&quot;AccountsPU&quot;) EntityManager em;\r\n        @Resource QueueConnectionFactory accountsJMSfactory;\r\n        @Resource Queue accountPaymentDestinationQueue;\r\n    \r\n        public List&lt;Account&gt; processAccounts(DepartmentId id) {\r\n            // Use all of above instance variables with no additional setup.\r\n            // They automatically partake in a (server coordinated) JTA transaction\r\n        }\r\n    }","title":"When I use dependecy injection like @Inject in my entity class it throw an error","body":"<pre><code>@Stateless\npublic class MyAccountsBean {\n\n    @Inject SomeEntityClass someOtherBean;\n    @Resource UserTransaction jtaTx;\n    @PersistenceContext(unitName=&quot;AccountsPU&quot;) EntityManager em;\n    @Resource QueueConnectionFactory accountsJMSfactory;\n    @Resource Queue accountPaymentDestinationQueue;\n\n    public List&lt;Account&gt; processAccounts(DepartmentId id) {\n        // Use all of above instance variables with no additional setup.\n        // They automatically partake in a (server coordinated) JTA transaction\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":1,"creation_date":1652802497,"post_id":72277053,"comment_id":127692259,"body_markdown":"onClick execution should be quick. If it is a long-running operation it should be moved to a background thread.","body":"onClick execution should be quick. If it is a long-running operation it should be moved to a background thread."},{"owner":{"account_id":17874138,"reputation":107,"user_id":13014243,"display_name":"Mitul Agrawal"},"score":0,"creation_date":1652802643,"post_id":72277053,"comment_id":127692316,"body_markdown":"Its a few seconds long. I&#39;ll try making the long part run outside of onClick","body":"Its a few seconds long. I&#39;ll try making the long part run outside of onClick"},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1652803234,"post_id":72277053,"comment_id":127692556,"body_markdown":"This will help you-https://stackoverflow.com/questions/3882064/how-to-change-color-of-button-in-android-when-clicked","body":"This will help you-<a href=\"https://stackoverflow.com/questions/3882064/how-to-change-color-of-button-in-android-when-clicked\" title=\"how to change color of button in android when clicked\">stackoverflow.com/questions/3882064/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25306237,"reputation":9,"user_id":19129727,"display_name":"Goni Schindler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652808038,"creation_date":1652807945,"answer_id":72278235,"question_id":72277053,"body_markdown":"Assuming your on-click method takes a long time, You should add a second item for stating the case of the button not being pressed:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#777777&quot; /&gt;\r\n        &lt;item android:state_pressed=&quot;false&quot; android:color=&quot;#000000&quot;/&gt;\r\n        &lt;item android:color=&quot;@android:color/black&quot; /&gt;\r\n    &lt;/selector&gt;","title":"state_pressed remains true while onClick is running","body":"<p>Assuming your on-click method takes a long time, You should add a second item for stating the case of the button not being pressed:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#777777&quot; /&gt;\n    &lt;item android:state_pressed=&quot;false&quot; android:color=&quot;#000000&quot;/&gt;\n    &lt;item android:color=&quot;@android:color/black&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n"}],"owner":{"account_id":17874138,"reputation":107,"user_id":13014243,"display_name":"Mitul Agrawal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652808038,"creation_date":1652802343,"question_id":72277053,"body_markdown":"I want to set a different background color for a button only while the button is being touched by the user. \r\n\r\nBut that color remains that way during the whole time onClick for that button is running even though I am no longer touching the button\r\n\r\nPlease help me find a solution to this \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#777777&quot; /&gt;\r\n    &lt;item android:color=&quot;@android:color/black&quot; /&gt;\r\n&lt;/selector&gt;\r\n```","title":"state_pressed remains true while onClick is running","body":"<p>I want to set a different background color for a button only while the button is being touched by the user.</p>\n<p>But that color remains that way during the whole time onClick for that button is running even though I am no longer touching the button</p>\n<p>Please help me find a solution to this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#777777&quot; /&gt;\n    &lt;item android:color=&quot;@android:color/black&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n"},{"tags":["java","pdfbox","digital-signature","bouncycastle","pades"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1652809154,"post_id":72278179,"comment_id":127694550,"body_markdown":"What exactly do you want displayed? Whether some formal criteria for those profiles are fulfilled or whether it is done good enough for validation use? E,g, for LT does it suffice for you to have a T plus an incremental update with some validation related information? Or do those information have to suffice to allow validation without retrieving additional information (except the trust lists)? There are quite a lot of tasks to execute for the latter option while the former one should be implementable as an example.","body":"What exactly do you want displayed? Whether some formal criteria for those profiles are fulfilled or whether it is done good enough for validation use? E,g, for LT does it suffice for you to have a T plus an incremental update with some validation related information? Or do those information have to suffice to allow validation without retrieving additional information (except the trust lists)? There are quite a lot of tasks to execute for the latter option while the former one should be implementable as an example."},{"owner":{"account_id":23805785,"reputation":23,"user_id":17815343,"display_name":"3de"},"score":0,"creation_date":1652819396,"post_id":72278179,"comment_id":127697710,"body_markdown":"I&#39;m looking for something like the second option","body":"I&#39;m looking for something like the second option"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1652870157,"post_id":72278179,"comment_id":127709592,"body_markdown":"I&#39;m afraid that&#39;s not implemented in the pdfbox distribution, and it also is far beyond the scope of a single stack overflow question.","body":"I&#39;m afraid that&#39;s not implemented in the pdfbox distribution, and it also is far beyond the scope of a single stack overflow question."},{"owner":{"account_id":23805785,"reputation":23,"user_id":17815343,"display_name":"3de"},"score":0,"creation_date":1654690026,"post_id":72278179,"comment_id":128150174,"body_markdown":"Can you tell me what steps I should follow to verify a PAdES signature up to the LTA level? @mkl","body":"Can you tell me what steps I should follow to verify a PAdES signature up to the LTA level? @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1654693205,"post_id":72278179,"comment_id":128151455,"body_markdown":"That is specified in [ETSI EN 319 102-1](https://www.etsi.org/deliver/etsi_en/319100_319199/31910201/01.03.01_60/en_31910201v010301p.pdf) in section 5 &quot;Signature validation&quot; in combination with the PAdES specification [ETSI EN 319 142-1](https://www.etsi.org/deliver/etsi_en/319100_319199/31914201/01.01.01_60/en_31914201v010101p.pdf). Some extra details are ruled by the European Commission but simply following the two ETSI norms above should suffice in general.","body":"That is specified in <a href=\"https://www.etsi.org/deliver/etsi_en/319100_319199/31910201/01.03.01_60/en_31910201v010301p.pdf\" rel=\"nofollow noreferrer\">ETSI EN 319 102-1</a> in section 5 &quot;Signature validation&quot; in combination with the PAdES specification <a href=\"https://www.etsi.org/deliver/etsi_en/319100_319199/31914201/01.01.01_60/en_31914201v010101p.pdf\" rel=\"nofollow noreferrer\">ETSI EN 319 142-1</a>. Some extra details are ruled by the European Commission but simply following the two ETSI norms above should suffice in general."}],"owner":{"account_id":23805785,"reputation":23,"user_id":17815343,"display_name":"3de"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652807722,"creation_date":1652807704,"question_id":72278179,"body_markdown":"Is there any way I can display the signature level(PAdES B/T/LT/LTA) using PDFBox?\r\nI checked the [`ShowSignature.java`](https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/ShowSignature.java?view=log) class, but I didn&#39;t find anything like that.","title":"Signature level(PAdES-B/T/LT/LTA) using PDFBox?","body":"<p>Is there any way I can display the signature level(PAdES B/T/LT/LTA) using PDFBox?\nI checked the <a href=\"https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/ShowSignature.java?view=log\" rel=\"nofollow noreferrer\"><code>ShowSignature.java</code></a> class, but I didn't find anything like that.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":14567175,"reputation":1380,"user_id":10521506,"display_name":"Reza Nasiri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1539994073,"creation_date":1539910232,"answer_id":52884462,"question_id":52884285,"body_markdown":"change your ManyToOne relation to this :\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;c_id_fk&quot;)\r\n    private ConversationDataSet conversation;\r\n\r\nand remove this\r\n    \r\n    @Column(name = &quot;c_id_fk&quot;)\r\n    private long cIdFk;\r\n\r\nyou can read more here \r\nhttps://en.wikibooks.org/wiki/Java_Persistence/ManyToOne#Example_of_a_ManyToOne_relationship_annotations","title":"Hibernate + JPA: Schema-validation: missing column","body":"<p>change your ManyToOne relation to this :</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = \"c_id_fk\")\nprivate ConversationDataSet conversation;\n</code></pre>\n\n<p>and remove this</p>\n\n<pre><code>@Column(name = \"c_id_fk\")\nprivate long cIdFk;\n</code></pre>\n\n<p>you can read more here \n<a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne#Example_of_a_ManyToOne_relationship_annotations\" rel=\"noreferrer\">https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne#Example_of_a_ManyToOne_relationship_annotations</a></p>\n"}],"owner":{"account_id":13474932,"reputation":35,"user_id":9722235,"display_name":"Alexander Suvorov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26017,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52884462,"answer_count":1,"score":2,"last_activity_date":1652807577,"creation_date":1539908547,"question_id":52884285,"body_markdown":"I write an educational project. It&#39;s a simple chat. Stack of the backend technology is Java, Jetty (server, Web Socket), and Hibernate 5.3.7. Final, PostgreSQL. \r\n\r\nI&#39;ve got a runtime exception `org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [conversation_c_id] in table [conversation_reply]`. The error had been making me have fun for a couple of days. I would be grateful for the help in solving this problem.\r\n\r\nHere&#39;s the basic structure of the entities part:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;conversation&quot;) //public class ConversationDataSet\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;cIdSequence&quot;, sequenceName = &quot;c_id_sequence&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;cIdSequence&quot;)\r\n    @Column(name = &quot;c_id&quot;, nullable = false, updatable = false)\r\n    private long cId;\r\n\r\n    @OneToMany(mappedBy = &quot;conversation&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;ConversationReplyDataSet&gt; conversationReplies = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;conversation_reply&quot;) //public class ConversationReplyDataSet\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;crIdSequence&quot;, sequenceName = &quot;cr_id_sequence&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;crIdSequence&quot;)\r\n    @Column(name = &quot;cr_id&quot;, nullable = false, updatable = false)\r\n    private long crId;\r\n\r\n    @Column(name = &quot;c_id_fk&quot;)\r\n    private long cIdFk;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private ConversationDataSet conversation;\r\n\r\nThe SQL schema is:\r\n\r\n    create table conversation\r\n    (\r\n\t    c_id bigint not null primary key\r\n\t);\r\n\r\n    create table conversation_reply\r\n    (\r\n\t    cr_id bigint not null primary key,\r\n\t    c_id_fk bigint not null,\r\n\t\tconstraint fk_c_id_fk foreign key (c_id_fk) references conversation(c_id)\r\n    );\r\n\r\nStack trace:\r\n\r\n    org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [conversation_c_id] in table [conversation_reply]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\r\n\tat dbService.DBServiceImpl.createSessionFactory(DBServiceImpl.java:155)\r\n\tat dbService.DBServiceImpl.&lt;init&gt;(DBServiceImpl.java:42)\r\n\tat main.Main.main(Main.java:23)\r\n\r\nJust in case the Hibernate configuration is:\r\n\r\n    configuration.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL94Dialect&quot;);\r\n    configuration.setProperty(&quot;hibernate.connection.driver_class&quot;, &quot;org.postgresql.Driver&quot;);\r\n    configuration.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:postgresql://localhost:5432/chatroomdb&quot;);\r\n    configuration.setProperty(&quot;hibernate.connection.username&quot;, &quot;someusername&quot;);\r\n    configuration.setProperty(&quot;hibernate.connection.password&quot;, &quot;somepassword&quot;);\r\n    configuration.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n    configuration.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;);\r\n    //   configuration.setProperty(&quot;hibernate.implicit_naming_strategy&quot;, &quot;legacy-jpa&quot;);\r\n\r\nThank you.","title":"Hibernate + JPA: Schema-validation: missing column","body":"<p>I write an educational project. It's a simple chat. Stack of the backend technology is Java, Jetty (server, Web Socket), and Hibernate 5.3.7. Final, PostgreSQL.</p>\n<p>I've got a runtime exception <code>org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [conversation_c_id] in table [conversation_reply]</code>. The error had been making me have fun for a couple of days. I would be grateful for the help in solving this problem.</p>\n<p>Here's the basic structure of the entities part:</p>\n<pre><code>@Entity\n@Table(name = &quot;conversation&quot;) //public class ConversationDataSet\n\n@Id\n@SequenceGenerator(name = &quot;cIdSequence&quot;, sequenceName = &quot;c_id_sequence&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;cIdSequence&quot;)\n@Column(name = &quot;c_id&quot;, nullable = false, updatable = false)\nprivate long cId;\n\n@OneToMany(mappedBy = &quot;conversation&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;ConversationReplyDataSet&gt; conversationReplies = new ArrayList&lt;&gt;();\n\n\n\n@Entity\n@Table(name = &quot;conversation_reply&quot;) //public class ConversationReplyDataSet\n\n@Id\n@SequenceGenerator(name = &quot;crIdSequence&quot;, sequenceName = &quot;cr_id_sequence&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;crIdSequence&quot;)\n@Column(name = &quot;cr_id&quot;, nullable = false, updatable = false)\nprivate long crId;\n\n@Column(name = &quot;c_id_fk&quot;)\nprivate long cIdFk;\n\n@ManyToOne(fetch = FetchType.LAZY)\nprivate ConversationDataSet conversation;\n</code></pre>\n<p>The SQL schema is:</p>\n<pre><code>create table conversation\n(\n    c_id bigint not null primary key\n);\n\ncreate table conversation_reply\n(\n    cr_id bigint not null primary key,\n    c_id_fk bigint not null,\n    constraint fk_c_id_fk foreign key (c_id_fk) references conversation(c_id)\n);\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [conversation_c_id] in table [conversation_reply]\nat org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)\nat org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)\nat org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89)\nat org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\nat dbService.DBServiceImpl.createSessionFactory(DBServiceImpl.java:155)\nat dbService.DBServiceImpl.&lt;init&gt;(DBServiceImpl.java:42)\nat main.Main.main(Main.java:23)\n</code></pre>\n<p>Just in case the Hibernate configuration is:</p>\n<pre><code>configuration.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL94Dialect&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.driver_class&quot;, &quot;org.postgresql.Driver&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:postgresql://localhost:5432/chatroomdb&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.username&quot;, &quot;someusername&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.password&quot;, &quot;somepassword&quot;);\nconfiguration.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\nconfiguration.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;);\n//   configuration.setProperty(&quot;hibernate.implicit_naming_strategy&quot;, &quot;legacy-jpa&quot;);\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-mvc","cookies","nginx"],"answers":[{"tags":[],"owner":{"account_id":4431041,"reputation":9073,"user_id":3608192,"display_name":"Stefan Isele - prefabware.com"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1523910974,"creation_date":1472675825,"answer_id":39258586,"question_id":39252924,"body_markdown":"When you use [spring-session][1], e.g. to persist your session in reddis,\r\nthis is indeed done automatically. The cookie is than created by `org.springframework.session.web.http.CookieHttpSessionStrategy` which in `CookieHttpSessionStrategy#createSessionCookie` checks if the request comes via HTTPS and sets secure accordingly:\r\n\r\n    sessionCookie.setSecure(request.isSecure());\r\n\r\nIf you do ***not*** use spring-session, you can configure secure cookies using a `ServletContextInitializer`.\r\nUse a [application property][2], to set it to true/false depending on a profile.\r\n\r\n    @Bean\r\n    public ServletContextInitializer servletContextInitializer(@Value(&quot;${secure.cookie}&quot;) boolean secure) {\r\n        return new ServletContextInitializer() {\r\n\r\n            @Override\r\n            public void onStartup(ServletContext servletContext) throws ServletException {\r\n                servletContext.getSessionCookieConfig().setSecure(secure);\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n\r\napplication.properties (used in dev when profile &#39;prod&#39; is not active):\r\n\r\n    secure.cookie=false\r\n\r\n\r\napplication-prod.properties (only used when profile &#39;prod&#39; is active, overwrites value in application.properties):\r\n\r\n    secure.cookie=false\r\n\r\n\r\nstart your application on the prod server with :\r\n    \r\n    --spring.profiles.active=prod\r\n\r\nSounds like some effort, if you have not worked with profiles so far, but you will most likely need a profile for prod environment anyway, so its really worth it.\r\n\r\n  [1]: http://docs.spring.io/spring-session/docs/current/reference/html5/\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>When you use <a href=\"http://docs.spring.io/spring-session/docs/current/reference/html5/\" rel=\"noreferrer\">spring-session</a>, e.g. to persist your session in reddis,\nthis is indeed done automatically. The cookie is than created by <code>org.springframework.session.web.http.CookieHttpSessionStrategy</code> which in <code>CookieHttpSessionStrategy#createSessionCookie</code> checks if the request comes via HTTPS and sets secure accordingly:</p>\n\n<pre><code>sessionCookie.setSecure(request.isSecure());\n</code></pre>\n\n<p>If you do <strong><em>not</em></strong> use spring-session, you can configure secure cookies using a <code>ServletContextInitializer</code>.\nUse a <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\" rel=\"noreferrer\">application property</a>, to set it to true/false depending on a profile.</p>\n\n<pre><code>@Bean\npublic ServletContextInitializer servletContextInitializer(@Value(\"${secure.cookie}\") boolean secure) {\n    return new ServletContextInitializer() {\n\n        @Override\n        public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.getSessionCookieConfig().setSecure(secure);\n        }\n    };\n}\n</code></pre>\n\n<p>application.properties (used in dev when profile 'prod' is not active):</p>\n\n<pre><code>secure.cookie=false\n</code></pre>\n\n<p>application-prod.properties (only used when profile 'prod' is active, overwrites value in application.properties):</p>\n\n<pre><code>secure.cookie=false\n</code></pre>\n\n<p>start your application on the prod server with :</p>\n\n<pre><code>--spring.profiles.active=prod\n</code></pre>\n\n<p>Sounds like some effort, if you have not worked with profiles so far, but you will most likely need a profile for prod environment anyway, so its really worth it.</p>\n"},{"tags":[],"owner":{"account_id":3952869,"reputation":309,"user_id":3262488,"display_name":"AYRM1112013"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524178330,"creation_date":1524178330,"answer_id":49931388,"question_id":39252924,"body_markdown":"in your application.yml just add\r\n\r\n    server:\r\n      session:\r\n        cookie:\r\n          secure: true\r\n\r\n   ","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>in your application.yml just add</p>\n\n<pre><code>server:\n  session:\n    cookie:\n      secure: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2881577,"reputation":201,"user_id":2472356,"display_name":"Jonask"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1536760344,"creation_date":1536756315,"answer_id":52295544,"question_id":39252924,"body_markdown":"If you are using Spring Boot, there is a simple solution for it. Just set the following property in your `application.properties`:\r\n\r\n    server.servlet.session.cookie.secure=true\r\n\r\nSource: [Spring docs - Appendix A. Common application properties][1]\r\n\r\nIf you have some environment with HTTPS and some without it, you will need to set it to false in profiles without HTTPS. Otherwise the Secure cookie is ignored.\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>If you are using Spring Boot, there is a simple solution for it. Just set the following property in your <code>application.properties</code>:</p>\n\n<pre><code>server.servlet.session.cookie.secure=true\n</code></pre>\n\n<p>Source: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">Spring docs - Appendix A. Common application properties</a></p>\n\n<p>If you have some environment with HTTPS and some without it, you will need to set it to false in profiles without HTTPS. Otherwise the Secure cookie is ignored.</p>\n"},{"tags":[],"owner":{"account_id":6950087,"reputation":491,"user_id":5332981,"display_name":"Khoa Phung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559618115,"creation_date":1559618115,"answer_id":56436898,"question_id":39252924,"body_markdown":"Add another option\r\n\r\nYou can use a ServletContextInitializer to set secure cookie and http only flag\r\n\r\n    @Bean\r\n    public ServletContextInitializer servletContextInitializer() {\r\n        return new ServletContextInitializer() {\r\n            @Override\r\n            public void onStartup(ServletContext servletContext) throws ServletException {\r\n                servletContext.setSessionTrackingModes(Collections.singleton(SessionTrackingMode.COOKIE));\r\n                SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\r\n                sessionCookieConfig.setHttpOnly(true);\r\n                sessionCookieConfig.setSecure(true);\r\n            }\r\n        };\r\n    }","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>Add another option</p>\n\n<p>You can use a ServletContextInitializer to set secure cookie and http only flag</p>\n\n<pre><code>@Bean\npublic ServletContextInitializer servletContextInitializer() {\n    return new ServletContextInitializer() {\n        @Override\n        public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.setSessionTrackingModes(Collections.singleton(SessionTrackingMode.COOKIE));\n            SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\n            sessionCookieConfig.setHttpOnly(true);\n            sessionCookieConfig.setSecure(true);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595272279,"creation_date":1595272279,"answer_id":63002326,"question_id":39252924,"body_markdown":"Behind nginx as ssl terminal point it is not trivial task: secured connection must be detected by nginx header (`X-Forwarded-Proto: https`, see [Using the Forwarded header](https://www.nginx.com/resources/wiki/start/topics/examples/forwarded/))  \r\nBut it is easy solved by nginx config:\r\n\r\n    if ($scheme = http) {\r\n        return 301 https://$http_host$request_uri;\r\n    }\r\n    proxy_cookie_path / &quot;/; secure&quot;;\r\n   \r\n\r\n","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>Behind nginx as ssl terminal point it is not trivial task: secured connection must be detected by nginx header (<code>X-Forwarded-Proto: https</code>, see <a href=\"https://www.nginx.com/resources/wiki/start/topics/examples/forwarded/\" rel=\"nofollow noreferrer\">Using the Forwarded header</a>)<br />\nBut it is easy solved by nginx config:</p>\n<pre><code>if ($scheme = http) {\n    return 301 https://$http_host$request_uri;\n}\nproxy_cookie_path / &quot;/; secure&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19804566,"reputation":21,"user_id":14504763,"display_name":"rejDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651475112,"creation_date":1650988827,"answer_id":72017066,"question_id":39252924,"body_markdown":"It&#39;s working for me \r\n\r\n    public class WebInitializer implements WebApplicationInitializer {\r\n\r\n    @Override\r\n    public void onStartup(ServletContext servletContext) throws ServletException {\r\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n        ctx.register(AppConfig.class);\r\n        ctx.setServletContext(servletContext);\r\n        Dynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n        servlet.addMapping(&quot;/&quot;);\r\n        servlet.setLoadOnStartup(1);\r\n\r\n        servletContext.setSessionTrackingModes(Collections.singleton(SessionTrackingMode.COOKIE));\r\n        SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\r\n        sessionCookieConfig.setHttpOnly(true);\r\n        sessionCookieConfig.setSecure(true);\r\n    }\r\n    }","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>It's working for me</p>\n<pre><code>public class WebInitializer implements WebApplicationInitializer {\n\n@Override\npublic void onStartup(ServletContext servletContext) throws ServletException {\n    AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n    ctx.register(AppConfig.class);\n    ctx.setServletContext(servletContext);\n    Dynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));\n    servlet.addMapping(&quot;/&quot;);\n    servlet.setLoadOnStartup(1);\n\n    servletContext.setSessionTrackingModes(Collections.singleton(SessionTrackingMode.COOKIE));\n    SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\n    sessionCookieConfig.setHttpOnly(true);\n    sessionCookieConfig.setSecure(true);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652807275,"creation_date":1652807275,"answer_id":72278100,"question_id":39252924,"body_markdown":"We have a Spring Boot 2.3 app that uses HTTPS to NGINX and HTTP between NGINX and Tomcat.  \r\n\r\nEven with this Spring property setting:\r\n\r\n    server:\r\n        servlet:\r\n            session:\r\n                cookie:\r\n                    secure: true\r\n\r\n... the `Secure` flag is **not** being set on the JSESSIONID cookie when the app is accessed via HTTP.  You can test this by running the app locally and hitting Tomcat directly using HTTP vs HTTP.\r\n\r\nI found that adding this to the config sets the Secure flag for HTTP and HTTPS which fixes our issue when putting NGINX in front of Tomcat using HTTP:\r\n\r\n    /**\r\n     * Fix for GCP... since we use HTTP internally in Kubernetes, Spring will not make JSESSIONID Secure, but this will.\r\n     *\r\n     * See https://www.javafixing.com/2021/11/fixed-add-secure-flag-to-jsessionid.html\r\n     *\r\n     * @return\r\n     */\r\n    @Bean\r\n    public ServletContextInitializer servletContextInitializer() {\r\n        return new ServletContextInitializer() {\r\n\r\n            @Override\r\n            public void onStartup(ServletContext servletContext) throws ServletException {\r\n                servletContext.getSessionCookieConfig().setSecure(true);\r\n            }\r\n        };\r\n    }","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>We have a Spring Boot 2.3 app that uses HTTPS to NGINX and HTTP between NGINX and Tomcat.</p>\n<p>Even with this Spring property setting:</p>\n<pre><code>server:\n    servlet:\n        session:\n            cookie:\n                secure: true\n</code></pre>\n<p>... the <code>Secure</code> flag is <strong>not</strong> being set on the JSESSIONID cookie when the app is accessed via HTTP.  You can test this by running the app locally and hitting Tomcat directly using HTTP vs HTTP.</p>\n<p>I found that adding this to the config sets the Secure flag for HTTP and HTTPS which fixes our issue when putting NGINX in front of Tomcat using HTTP:</p>\n<pre><code>/**\n * Fix for GCP... since we use HTTP internally in Kubernetes, Spring will not make JSESSIONID Secure, but this will.\n *\n * See https://www.javafixing.com/2021/11/fixed-add-secure-flag-to-jsessionid.html\n *\n * @return\n */\n@Bean\npublic ServletContextInitializer servletContextInitializer() {\n    return new ServletContextInitializer() {\n\n        @Override\n        public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.getSessionCookieConfig().setSecure(true);\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50957,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":39258586,"answer_count":7,"score":18,"last_activity_date":1652807275,"creation_date":1472655243,"question_id":39252924,"body_markdown":"I have a tomcat application server that is behind a nginx.\r\nSSL terminates on the nginx.\r\nThe Spring web-mvc application that is deployed on the tomcat should set the secure flag on the JSESSIONID.\r\nIt would be cool if spring has some automatic detection for this so I don&#39;t get bothered during development because I don&#39;t have SSL there.\r\n\r\nIs there a way to tell spring to set the flag automatically?\r\n\r\nI use JavaConfig to setup the application and use Maven to create a deployable war-file.\r\n\r\nI have checked this already, but this looks somehow ugly and static:\r\nhttps://stackoverflow.com/questions/7566264/set-secure-flag-to-jsession-id-cookie","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>I have a tomcat application server that is behind a nginx.\nSSL terminates on the nginx.\nThe Spring web-mvc application that is deployed on the tomcat should set the secure flag on the JSESSIONID.\nIt would be cool if spring has some automatic detection for this so I don't get bothered during development because I don't have SSL there.</p>\n\n<p>Is there a way to tell spring to set the flag automatically?</p>\n\n<p>I use JavaConfig to setup the application and use Maven to create a deployable war-file.</p>\n\n<p>I have checked this already, but this looks somehow ugly and static:\n<a href=\"https://stackoverflow.com/questions/7566264/set-secure-flag-to-jsession-id-cookie\">set &#39;secure&#39; flag to JSESSION id cookie</a></p>\n"},{"tags":["java","mysql","spring-boot","spring-batch","hikaricp"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":1,"creation_date":1590523154,"post_id":62029701,"comment_id":109710518,"body_markdown":"None of these two [q1](https://stackoverflow.com/questions/32643616/spring-batch-mysql-sequence-could-not-obtain-last-insert-id-reguarding-engin) &amp; [q2](https://stackoverflow.com/questions/54148367/spring-bootspring-batchmysql-not-working) helps?","body":"None of these two <a href=\"https://stackoverflow.com/questions/32643616/spring-batch-mysql-sequence-could-not-obtain-last-insert-id-reguarding-engin\">q1</a> &amp; <a href=\"https://stackoverflow.com/questions/54148367/spring-bootspring-batchmysql-not-working\">q2</a> helps?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1590570374,"post_id":62029701,"comment_id":109726207,"body_markdown":"Does this answer your question? [Spring batch MySql Sequence &quot;Could not obtain last\\_insert\\_id()&quot; reguarding engine type](https://stackoverflow.com/questions/32643616/spring-batch-mysql-sequence-could-not-obtain-last-insert-id-reguarding-engin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32643616/spring-batch-mysql-sequence-could-not-obtain-last-insert-id-reguarding-engin\">Spring batch MySql Sequence &quot;Could not obtain last_insert_id()&quot; reguarding engine type</a>"}],"owner":{"account_id":1643695,"reputation":1322,"user_id":1515665,"accept_rate":75,"display_name":"Sajith Vijesekara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652806807,"creation_date":1590520614,"question_id":62029701,"body_markdown":"I have build a spring boot application which will use spring batch with myql database. My application what it does is when customer send request It will start new batch job with mysql data &amp; saved processed data in same mysql database. So far all the functionality working fine. But when I run the load test It will throw this error &amp; I couldn&#39;t find the roor cause. Seems like this is spring batch related issue.\r\nThis is the error\r\n\r\n    org.springframework.dao.DataAccessResourceFailureException: Could not obtain last_insert_id(); nested exception is java.sql.SQLException: HikariPool-1 - Interrupted during connection acquisition\r\n        at org.springframework.jdbc.support.incrementer.MySQLMaxValueIncrementer.getNextKey(MySQLMaxValueIncrementer.java:164) ~[spring-jdbc-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.jdbc.support.incrementer.AbstractDataFieldMaxValueIncrementer.nextLongValue(AbstractDataFieldMaxValueIncrementer.java:128) ~[spring-jdbc-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:154) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\r\n        \tat org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:150) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\r\n        \tat sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source) ~[na:na]\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n        \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) [spring-tx-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:181) [spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat com.sun.proxy.$Proxy170.createJobExecution(Unknown Source) [na:na]\r\n        \tat sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source) ~[na:na]\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n        \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat com.sun.proxy.$Proxy170.createJobExecution(Unknown Source) [na:na]\r\n        \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137) [\r\n\r\nThis will trigger when start the batch job\r\n\r\n    jobLauncher.run(job, getJobParameters(paramaters));\r\n\r\nAnd these are the spring batch configurations\r\n \r\n\r\n        @Bean(name = &quot;myJobLauncher&quot;)\r\n        public JobLauncher simpleJobLauncher() throws Exception {\r\n            SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\r\n            jobLauncher.setJobRepository(jobRepository);\r\n            jobLauncher.setTaskExecutor(taskExecutor);\r\n            jobLauncher.afterPropertiesSet();\r\n            return jobLauncher;\r\n        }\r\n    \r\n         @Bean\r\n        public TaskExecutor myTaskExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setMaxPoolSize(concurrentJobs);\r\n            executor.setCorePoolSize(PoolSize);\r\n            executor.setQueueCapacity(queueLimit);\r\n            executor.initialize();\r\n            return executor;\r\n        }\r\n\r\nThese are the executor pool configurations.\r\nconcurrentJobs =50,poolSize =30, queueLimit = 50. And I have used the default hikari connection pool configurations. Is there anyone who have faced this issue with spring batch jobs ? \r\n","title":"Spring batch Could not obtain last_insert_id(); nested exception is java.sql.SQLException","body":"<p>I have build a spring boot application which will use spring batch with myql database. My application what it does is when customer send request It will start new batch job with mysql data &amp; saved processed data in same mysql database. So far all the functionality working fine. But when I run the load test It will throw this error &amp; I couldn't find the roor cause. Seems like this is spring batch related issue.\nThis is the error</p>\n\n<pre><code>org.springframework.dao.DataAccessResourceFailureException: Could not obtain last_insert_id(); nested exception is java.sql.SQLException: HikariPool-1 - Interrupted during connection acquisition\n    at org.springframework.jdbc.support.incrementer.MySQLMaxValueIncrementer.getNextKey(MySQLMaxValueIncrementer.java:164) ~[spring-jdbc-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.jdbc.support.incrementer.AbstractDataFieldMaxValueIncrementer.nextLongValue(AbstractDataFieldMaxValueIncrementer.java:128) ~[spring-jdbc-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:154) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\n        at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:150) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\n        at sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) [spring-tx-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:181) [spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at com.sun.proxy.$Proxy170.createJobExecution(Unknown Source) [na:na]\n        at sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at com.sun.proxy.$Proxy170.createJobExecution(Unknown Source) [na:na]\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137) [\n</code></pre>\n\n<p>This will trigger when start the batch job</p>\n\n<pre><code>jobLauncher.run(job, getJobParameters(paramaters));\n</code></pre>\n\n<p>And these are the spring batch configurations</p>\n\n<pre><code>    @Bean(name = \"myJobLauncher\")\n    public JobLauncher simpleJobLauncher() throws Exception {\n        SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\n        jobLauncher.setJobRepository(jobRepository);\n        jobLauncher.setTaskExecutor(taskExecutor);\n        jobLauncher.afterPropertiesSet();\n        return jobLauncher;\n    }\n\n     @Bean\n    public TaskExecutor myTaskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setMaxPoolSize(concurrentJobs);\n        executor.setCorePoolSize(PoolSize);\n        executor.setQueueCapacity(queueLimit);\n        executor.initialize();\n        return executor;\n    }\n</code></pre>\n\n<p>These are the executor pool configurations.\nconcurrentJobs =50,poolSize =30, queueLimit = 50. And I have used the default hikari connection pool configurations. Is there anyone who have faced this issue with spring batch jobs ? </p>\n"},{"tags":["java","variables"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":24,"creation_date":1387443750,"post_id":20677249,"comment_id":30962744,"body_markdown":"Well, usually we don&#39;t.","body":"Well, usually we don&#39;t."},{"owner":{"account_id":290461,"reputation":5558,"user_id":592025,"accept_rate":100,"display_name":"midhunhk"},"score":0,"creation_date":1387443798,"post_id":20677249,"comment_id":30962781,"body_markdown":"I&#39;ve seen such practice for private variables in flex/action script. But not in Java.","body":"I&#39;ve seen such practice for private variables in flex/action script. But not in Java."},{"owner":{"display_name":"user3117841"},"score":1,"creation_date":1387444025,"post_id":20677249,"comment_id":30962910,"body_markdown":"@AmanArora - that i also know, I want reason. I am beginner so I am asking, I am not expecting this answer.","body":"@AmanArora - that i also know, I want reason. I am beginner so I am asking, I am not expecting this answer."},{"owner":{"account_id":2936102,"reputation":1232,"user_id":2514942,"accept_rate":45,"display_name":"Aman Arora"},"score":0,"creation_date":1387444113,"post_id":20677249,"comment_id":30962956,"body_markdown":"To distinguish between Static variables and instance variables,maybe !","body":"To distinguish between Static variables and instance variables,maybe !"},{"owner":{"account_id":3642208,"reputation":1157,"user_id":3036055,"display_name":"Ben"},"score":0,"creation_date":1387444360,"post_id":20677249,"comment_id":30963097,"body_markdown":"As Maroun mentioned its to distinguish between these 2 variables. At my university I actually learned to do it like that in C#, but never saw it in Java... dont know if this is just a microsoft thing or at least more often used there","body":"As Maroun mentioned its to distinguish between these 2 variables. At my university I actually learned to do it like that in C#, but never saw it in Java... dont know if this is just a microsoft thing or at least more often used there"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1387444371,"post_id":20677249,"comment_id":30963102,"body_markdown":"&quot;We&quot; usually don&#39;t. It&#39;s not the standard Java convention, even if the specification permits it.","body":"&quot;We&quot; usually don&#39;t. It&#39;s not the standard Java convention, even if the specification permits it."},{"owner":{"account_id":945625,"reputation":2558,"user_id":972932,"accept_rate":66,"display_name":"gyorgyabraham"},"score":0,"creation_date":1387445498,"post_id":20677249,"comment_id":30963792,"body_markdown":"@AmanArora No, actually. Sometimes Java programmers places underscore prefixes to parameter variables to distinguish them from instance (or static, doesn&#39;t matter) variables. But it&#39;s just a bad habit without any technical justification.","body":"@AmanArora No, actually. Sometimes Java programmers places underscore prefixes to parameter variables to distinguish them from instance (or static, doesn&#39;t matter) variables. But it&#39;s just a bad habit without any technical justification."},{"owner":{"account_id":9283335,"reputation":480,"user_id":7333367,"display_name":"A-run"},"score":0,"creation_date":1617797187,"post_id":20677249,"comment_id":118405863,"body_markdown":"Kotlin recommends using _ for a private property, &quot;If a class has two properties which are conceptually the same but one is part of a public API and another is an implementation detail, use an underscore as the prefix for the name of the private property.&quot; Source: (https://kotlinlang.org/docs/coding-conventions.html#names-for-backing-properties)","body":"Kotlin recommends using _ for a private property, &quot;If a class has two properties which are conceptually the same but one is part of a public API and another is an implementation detail, use an underscore as the prefix for the name of the private property.&quot; Source: (<a href=\"https://kotlinlang.org/docs/coding-conventions.html#names-for-backing-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":1146287,"reputation":4408,"user_id":1128953,"accept_rate":75,"display_name":"Liping Huang"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1652532224,"creation_date":1387443739,"answer_id":20677270,"question_id":20677249,"body_markdown":"This should be an idiomatic usage, and describe it is a private variable.\r\n\r\nAlso, this is a way to define a private method in Python to add the &quot;_&quot; as the method prefix like `def _privateMethodName(self):`.\r\n\r\n\r\n\r\n","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>This should be an idiomatic usage, and describe it is a private variable.</p>\n<p>Also, this is a way to define a private method in Python to add the &quot;_&quot; as the method prefix like <code>def _privateMethodName(self):</code>.</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1589380442,"creation_date":1387443812,"answer_id":20677292,"question_id":20677249,"body_markdown":"Sometimes it is used in order to distinguish *class members* from local variables:\r\n\r\n    public class MyClass {\r\n       private int _salary;\r\n    \r\n       public MyClass(int salary) {\r\n           _salary = salary\r\n       }\r\n    } \r\n\r\nHowever, you should follow [Java Naming Conventions][1] that doesn&#39;t recommend using that. You can simply name the class member without the leading `_` and do: \r\n\r\n    this.salary = salary;\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>Sometimes it is used in order to distinguish <em>class members</em> from local variables:</p>\n\n<pre><code>public class MyClass {\n   private int _salary;\n\n   public MyClass(int salary) {\n       _salary = salary\n   }\n} \n</code></pre>\n\n<p>However, you should follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"noreferrer\">Java Naming Conventions</a> that doesn't recommend using that. You can simply name the class member without the leading <code>_</code> and do: </p>\n\n<pre><code>this.salary = salary;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53076,"reputation":50835,"user_id":158668,"accept_rate":100,"display_name":"Dennis Traub"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652806380,"creation_date":1387443910,"answer_id":20677322,"question_id":20677249,"body_markdown":"An underscore in front usually indicates an instance variable as opposed to a local variable. It&#39;s merely a coding style that can be omitted in favor of &quot;speaking&quot; variable names and small classes that don&#39;t do too many things.\r\n\r\n\r\n","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>An underscore in front usually indicates an instance variable as opposed to a local variable. It's merely a coding style that can be omitted in favor of &quot;speaking&quot; variable names and small classes that don't do too many things.</p>\n"},{"tags":[],"owner":{"account_id":3082694,"reputation":465,"user_id":4257479,"accept_rate":94,"display_name":"Francesco Irrera"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1652806494,"creation_date":1387444536,"answer_id":20677524,"question_id":20677249,"body_markdown":"The use of &quot;_&quot; (underscore) must be evaluated carefully.\r\n\r\nUse &quot;_&quot; to indicate class attributes is used a lot in [C++][1].\r\n\r\nIn Java, it is not necessary, because the language has the keyword `this`.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C%2B%2B\r\n","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>The use of &quot;_&quot; (underscore) must be evaluated carefully.</p>\n<p>Use &quot;_&quot; to indicate class attributes is used a lot in <a href=\"https://en.wikipedia.org/wiki/C%2B%2B\" rel=\"nofollow noreferrer\">C++</a>.</p>\n<p>In Java, it is not necessary, because the language has the keyword <code>this</code>.</p>\n"}],"owner":{"display_name":"user3117841"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76800,"favorite_count":0,"down_vote_count":2,"up_vote_count":44,"closed_date":1387444650,"answer_count":4,"score":42,"last_activity_date":1652806494,"creation_date":1387443671,"question_id":20677249,"body_markdown":"Why do we add an _ (underscore) before a variable name in Java while variable declaration?\r\n\r\nI have tried on Google Search, but I actually couldn&#39;t find the exact answer for it.\r\n\r\nIs it just a type of declaration as the user wants or is there any proper mechanism and reason to do so?\r\n\r\n\r\n","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>Why do we add an _ (underscore) before a variable name in Java while variable declaration?</p>\n<p>I have tried on Google Search, but I actually couldn't find the exact answer for it.</p>\n<p>Is it just a type of declaration as the user wants or is there any proper mechanism and reason to do so?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":8660665,"reputation":990,"user_id":6483229,"display_name":"LalithK90"},"score":0,"creation_date":1603134098,"post_id":61992386,"comment_id":113934757,"body_markdown":"what is your frontend  (JSP, Thymeleaf, freemaker, ..etc) ?","body":"what is your frontend  (JSP, Thymeleaf, freemaker, ..etc) ?"}],"answers":[{"tags":[],"owner":{"account_id":18672940,"reputation":46,"user_id":13611243,"display_name":"agprogramming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590386801,"creation_date":1590386801,"answer_id":61996689,"question_id":61992386,"body_markdown":"As you have set the validations for the fields Name, Email, Phone, Subject, Message in the Entity class &#39;Contact&#39;, please check whether you are passing all these values or not in your form. If you are not passing the values as per your Entity class, Spring will not be able to bind the Contact object that you have passed in method processContact and throw BeanPropertyBindingResult errors.","title":"org.springframework.validation.BeanPropertyBindingResult: 5 errors","body":"<p>As you have set the validations for the fields Name, Email, Phone, Subject, Message in the Entity class 'Contact', please check whether you are passing all these values or not in your form. If you are not passing the values as per your Entity class, Spring will not be able to bind the Contact object that you have passed in method processContact and throw BeanPropertyBindingResult errors.</p>\n"},{"tags":[],"owner":{"account_id":12730903,"reputation":135,"user_id":9247596,"display_name":"akshay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623514488,"creation_date":1623514488,"answer_id":67950710,"question_id":61992386,"body_markdown":"**BindingResult** needs to be immediately after the bean:\r\n\r\nTry changing from \r\n\r\n     @PostMapping(&quot;/contact&quot;)\r\n        public String processContact(@Validated Contact contact, RedirectAttributes model, BindingResult bindingResult)\r\n\r\nTo \r\n\r\n    @PostMapping(&quot;/contact&quot;)\r\n        public String processContact(@Validated Contact contact, BindingResult bindingResult, RedirectAttributes model)\r\n\r\n","title":"org.springframework.validation.BeanPropertyBindingResult: 5 errors","body":"<p><strong>BindingResult</strong> needs to be immediately after the bean:</p>\n<p>Try changing from</p>\n<pre><code> @PostMapping(&quot;/contact&quot;)\n    public String processContact(@Validated Contact contact, RedirectAttributes model, BindingResult bindingResult)\n</code></pre>\n<p>To</p>\n<pre><code>@PostMapping(&quot;/contact&quot;)\n    public String processContact(@Validated Contact contact, BindingResult bindingResult, RedirectAttributes model)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15878073,"reputation":37,"user_id":11456666,"display_name":"java code point"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652806172,"creation_date":1652804290,"answer_id":72277486,"question_id":61992386,"body_markdown":"Remove\r\n```\r\nimport io.swagger.v3.oas.annotations.parameters.RequestBody;\r\n```\r\nand add\r\n```\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n```\r\nand also add in controller \r\n```\r\nimport org.springframework.validation.annotation.Validated;\r\n```\r\nadd in  Request body Object \r\n```\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.NotBlank;\r\n```","title":"org.springframework.validation.BeanPropertyBindingResult: 5 errors","body":"<p>Remove</p>\n<pre><code>import io.swagger.v3.oas.annotations.parameters.RequestBody;\n</code></pre>\n<p>and add</p>\n<pre><code>import org.springframework.web.bind.annotation.RequestBody;\n</code></pre>\n<p>and also add in controller</p>\n<pre><code>import org.springframework.validation.annotation.Validated;\n</code></pre>\n<p>add in  Request body Object</p>\n<pre><code>import javax.validation.constraints.NotNull;\nimport javax.validation.constraints.NotBlank;\n</code></pre>\n"}],"owner":{"account_id":17486696,"reputation":15,"user_id":12679580,"display_name":"lapka1002"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1652806172,"creation_date":1590354107,"question_id":61992386,"body_markdown":"I did contact form in my application in Spring. And i have this problem:\r\n  \r\n\r\n&gt;   Field error in object &#39;contact&#39; on field &#39;name&#39;: rejected value\r\n&gt; [null]; codes\r\n&gt; [NotBlank.contact.name,NotBlank.name,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.name,name]; arguments []; default message [name]];\r\n&gt; default message [it can&#39;t be empty] Field error in object &#39;contact&#39; on\r\n&gt; field &#39;message&#39;: rejected value [null]; codes\r\n&gt; [NotBlank.contact.message,NotBlank.message,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.message,message]; arguments []; default message\r\n&gt; [message]]; default message [it can&#39;t be empty] Field error in object\r\n&gt; &#39;contact&#39; on field &#39;subject&#39;: rejected value [null]; codes\r\n&gt; [NotBlank.contact.subject,NotBlank.subject,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.subject,subject]; arguments []; default message\r\n&gt; [subject]]; default message [it can&#39;t be empty] Field error in object\r\n&gt; &#39;contact&#39; on field &#39;phone&#39;: rejected value [null]; codes\r\n&gt; [NotBlank.contact.phone,NotBlank.phone,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.phone,phone]; arguments []; default message [phone]];\r\n&gt; default message [не может быть пусто] Field error in object &#39;contact&#39;\r\n&gt; on field &#39;email&#39;: rejected value [null]; codes\r\n&gt; [NotBlank.contact.email,NotBlank.email,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.email,email]; arguments []; default message [email]];\r\n&gt; default message [it can&#39;t be empty]]\r\n\r\nController:\r\n\r\n    @Controller\r\n    \r\n    public class ContactController {\r\n        @Autowired\r\n        MailComponent mailComponent;\r\n        @GetMapping(&quot;/contact&quot;)\r\n        public String contact(@ModelAttribute Contact contact) {\r\n            return &quot;contact&quot;;\r\n        }\r\n        @PostMapping(&quot;/contact&quot;)\r\n        public String processContact(@Validated Contact contact, RedirectAttributes model, BindingResult bindingResult) {\r\n    \r\n            if (bindingResult.hasErrors())\r\n                return &quot;contact&quot;;\r\n    \r\n            if (mailComponent.sendSimpleMail(contact)) {\r\n                model.addFlashAttribute(&quot;classCss&quot;, &quot;alert sukcesu&quot;);\r\n                model.addFlashAttribute(&quot;message&quot;, &quot;Twoja wiadomość została wysłana&quot;);\r\n            } else {\r\n                model.addFlashAttribute(&quot;classCss&quot;, &quot;alert ostrzeżenie&quot;);\r\n                model.addFlashAttribute(&quot;message&quot;, &quot;Wystąpił nieoczekiwany błąd, powt&#243;rz p&#243;źniej&quot;);\r\n            }\r\n    \r\n            return &quot;redirect:/&quot;;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nEntity:\r\n\r\n    public class Contact {\r\n        @NotBlank\r\n        @Pattern(regexp = &quot;[\\\\p{L} &#39;-]+&quot;, message = &quot;{com.diet4you.LapkoEkaterina.constraint.Name.message}&quot;)\r\n        private String name;\r\n    \r\n        @NotBlank\r\n        @Pattern(regexp = &quot;(?:[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*|\\&quot;(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])&quot;,\r\n                message = &quot;{com.diet4you.LapkoEkaterina.constraint.Email.message}&quot;)\r\n        private String email;\r\n    \r\n        @NotBlank\r\n        @Pattern(regexp = &quot;\\\\+(?:[0-9] ?){6,14}[0-9]&quot;, message = &quot;{com.diet4you.LapkoEkaterina.constraint.Phone.message}&quot;)\r\n        private String phone;\r\n    \r\n        @NotBlank\r\n        private String subject;\r\n    \r\n        @NotBlank\r\n        private String message;\r\n    \r\n        public Contact() {\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n        public void setPhone(String phone) {\r\n            this.phone = phone;\r\n        }\r\n    \r\n        public String getSubject() {\r\n            return subject;\r\n        }\r\n    \r\n        public void setSubject(String subject) {\r\n            this.subject = subject;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    }\r\n Validation properties:\r\n\r\n    javax.validation.constraints.AssertFalse.message = must be false\r\n    javax.validation.constraints.AssertTrue.message  = must be true\r\n    javax.validation.constraints.DecimalMax.message  = must be less than ${inclusive == true ? &#39;or equal to &#39; : &#39;&#39;}{value}\r\n    javax.validation.constraints.DecimalMin.message  = must be greater than ${inclusive == true ? &#39;or equal to &#39; : &#39;&#39;}{value}\r\n    javax.validation.constraints.Digits.message      = numeric value out of bounds (&lt;{integer} digits&gt;.&lt;{fraction} digits&gt; expected)\r\n    javax.validation.constraints.Future.message      = must be in the future\r\n    javax.validation.constraints.Max.message         = must be less than or equal to {value}\r\n    javax.validation.constraints.Min.message         = must be greater than or equal to {value}\r\n    javax.validation.constraints.NotNull.message     = may not be null\r\n    javax.validation.constraints.Null.message        = must be null\r\n    javax.validation.constraints.Past.message        = must be in the past\r\n    javax.validation.constraints.Pattern.message     = must match &quot;{regexp}&quot;\r\n    javax.validation.constraints.Size.message        = size must be between {min} and {max}\r\n    \r\n    org.hibernate.validator.constraints.CreditCardNumber.message        = invalid credit card number\r\n    org.hibernate.validator.constraints.EAN.message                   = invalid {type} barcode\r\n    org.hibernate.validator.constraints.Email.message                   = not a well-formed email address\r\n    org.hibernate.validator.constraints.Length.message                  = length must be between {min} and {max}\r\n    org.hibernate.validator.constraints.LuhnCheck.message               = The check digit for ${validatedValue} is invalid, Luhn Modulo 10 checksum failed\r\n    org.hibernate.validator.constraints.Mod10Check.message              = The check digit for ${validatedValue} is invalid, Modulo 10 checksum failed\r\n    org.hibernate.validator.constraints.Mod11Check.message              = The check digit for ${validatedValue} is invalid, Modulo 11 checksum failed\r\n    org.hibernate.validator.constraints.ModCheck.message                = The check digit for ${validatedValue} is invalid, ${modType} checksum failed\r\n    org.hibernate.validator.constraints.NotBlank.message                = This field is required\r\n    org.hibernate.validator.constraints.NotEmpty.message                = may not be empty\r\n    org.hibernate.validator.constraints.ParametersScriptAssert.message  = script expression &quot;{script}&quot; didn&#39;t evaluate to true\r\n    org.hibernate.validator.constraints.Range.message                   = must be between {min} and {max}\r\n    org.hibernate.validator.constraints.SafeHtml.message                = may have unsafe html content\r\n    org.hibernate.validator.constraints.ScriptAssert.message            = script expression &quot;{script}&quot; didn&#39;t evaluate to true\r\n    org.hibernate.validator.constraints.URL.message                     = must be a valid URL\r\n    \r\n    org.hibernate.validator.constraints.br.CNPJ.message                 = invalid Brazilian corporate taxpayer registry number (CNPJ)\r\n    org.hibernate.validator.constraints.br.CPF.message                  = invalid Brazilian individual taxpayer registry number (CPF)\r\n    org.hibernate.validator.constraints.br.TituloEleitoral.message      = invalid Brazilian Voter ID card number\r\n    com.diet4you.LE.Name.message                            = Tylko litery\r\n    com.diet4you.LE.Email.message                           = Nie format  e-mail\r\n    com.diet4you.LE.Phone.message                           = InNie format numeru\r\n\r\n\r\n","title":"org.springframework.validation.BeanPropertyBindingResult: 5 errors","body":"<p>I did contact form in my application in Spring. And i have this problem:</p>\n\n<blockquote>\n  <p>Field error in object 'contact' on field 'name': rejected value\n  [null]; codes\n  [NotBlank.contact.name,NotBlank.name,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.name,name]; arguments []; default message [name]];\n  default message [it can't be empty] Field error in object 'contact' on\n  field 'message': rejected value [null]; codes\n  [NotBlank.contact.message,NotBlank.message,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.message,message]; arguments []; default message\n  [message]]; default message [it can't be empty] Field error in object\n  'contact' on field 'subject': rejected value [null]; codes\n  [NotBlank.contact.subject,NotBlank.subject,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.subject,subject]; arguments []; default message\n  [subject]]; default message [it can't be empty] Field error in object\n  'contact' on field 'phone': rejected value [null]; codes\n  [NotBlank.contact.phone,NotBlank.phone,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.phone,phone]; arguments []; default message [phone]];\n  default message [не может быть пусто] Field error in object 'contact'\n  on field 'email': rejected value [null]; codes\n  [NotBlank.contact.email,NotBlank.email,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.email,email]; arguments []; default message [email]];\n  default message [it can't be empty]]</p>\n</blockquote>\n\n<p>Controller:</p>\n\n<pre><code>@Controller\n\npublic class ContactController {\n    @Autowired\n    MailComponent mailComponent;\n    @GetMapping(\"/contact\")\n    public String contact(@ModelAttribute Contact contact) {\n        return \"contact\";\n    }\n    @PostMapping(\"/contact\")\n    public String processContact(@Validated Contact contact, RedirectAttributes model, BindingResult bindingResult) {\n\n        if (bindingResult.hasErrors())\n            return \"contact\";\n\n        if (mailComponent.sendSimpleMail(contact)) {\n            model.addFlashAttribute(\"classCss\", \"alert sukcesu\");\n            model.addFlashAttribute(\"message\", \"Twoja wiadomość została wysłana\");\n        } else {\n            model.addFlashAttribute(\"classCss\", \"alert ostrzeżenie\");\n            model.addFlashAttribute(\"message\", \"Wystąpił nieoczekiwany błąd, powtórz później\");\n        }\n\n        return \"redirect:/\";\n    }\n\n\n}\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>public class Contact {\n    @NotBlank\n    @Pattern(regexp = \"[\\\\p{L} '-]+\", message = \"{com.diet4you.LapkoEkaterina.constraint.Name.message}\")\n    private String name;\n\n    @NotBlank\n    @Pattern(regexp = \"(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|\\\"(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])\",\n            message = \"{com.diet4you.LapkoEkaterina.constraint.Email.message}\")\n    private String email;\n\n    @NotBlank\n    @Pattern(regexp = \"\\\\+(?:[0-9] ?){6,14}[0-9]\", message = \"{com.diet4you.LapkoEkaterina.constraint.Phone.message}\")\n    private String phone;\n\n    @NotBlank\n    private String subject;\n\n    @NotBlank\n    private String message;\n\n    public Contact() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n\n<p>Validation properties:</p>\n\n<pre><code>javax.validation.constraints.AssertFalse.message = must be false\njavax.validation.constraints.AssertTrue.message  = must be true\njavax.validation.constraints.DecimalMax.message  = must be less than ${inclusive == true ? 'or equal to ' : ''}{value}\njavax.validation.constraints.DecimalMin.message  = must be greater than ${inclusive == true ? 'or equal to ' : ''}{value}\njavax.validation.constraints.Digits.message      = numeric value out of bounds (&lt;{integer} digits&gt;.&lt;{fraction} digits&gt; expected)\njavax.validation.constraints.Future.message      = must be in the future\njavax.validation.constraints.Max.message         = must be less than or equal to {value}\njavax.validation.constraints.Min.message         = must be greater than or equal to {value}\njavax.validation.constraints.NotNull.message     = may not be null\njavax.validation.constraints.Null.message        = must be null\njavax.validation.constraints.Past.message        = must be in the past\njavax.validation.constraints.Pattern.message     = must match \"{regexp}\"\njavax.validation.constraints.Size.message        = size must be between {min} and {max}\n\norg.hibernate.validator.constraints.CreditCardNumber.message        = invalid credit card number\norg.hibernate.validator.constraints.EAN.message                   = invalid {type} barcode\norg.hibernate.validator.constraints.Email.message                   = not a well-formed email address\norg.hibernate.validator.constraints.Length.message                  = length must be between {min} and {max}\norg.hibernate.validator.constraints.LuhnCheck.message               = The check digit for ${validatedValue} is invalid, Luhn Modulo 10 checksum failed\norg.hibernate.validator.constraints.Mod10Check.message              = The check digit for ${validatedValue} is invalid, Modulo 10 checksum failed\norg.hibernate.validator.constraints.Mod11Check.message              = The check digit for ${validatedValue} is invalid, Modulo 11 checksum failed\norg.hibernate.validator.constraints.ModCheck.message                = The check digit for ${validatedValue} is invalid, ${modType} checksum failed\norg.hibernate.validator.constraints.NotBlank.message                = This field is required\norg.hibernate.validator.constraints.NotEmpty.message                = may not be empty\norg.hibernate.validator.constraints.ParametersScriptAssert.message  = script expression \"{script}\" didn't evaluate to true\norg.hibernate.validator.constraints.Range.message                   = must be between {min} and {max}\norg.hibernate.validator.constraints.SafeHtml.message                = may have unsafe html content\norg.hibernate.validator.constraints.ScriptAssert.message            = script expression \"{script}\" didn't evaluate to true\norg.hibernate.validator.constraints.URL.message                     = must be a valid URL\n\norg.hibernate.validator.constraints.br.CNPJ.message                 = invalid Brazilian corporate taxpayer registry number (CNPJ)\norg.hibernate.validator.constraints.br.CPF.message                  = invalid Brazilian individual taxpayer registry number (CPF)\norg.hibernate.validator.constraints.br.TituloEleitoral.message      = invalid Brazilian Voter ID card number\ncom.diet4you.LE.Name.message                            = Tylko litery\ncom.diet4you.LE.Email.message                           = Nie format  e-mail\ncom.diet4you.LE.Phone.message                           = InNie format numeru\n</code></pre>\n"},{"tags":["java","android-studio","timer","background"],"answers":[{"tags":[],"owner":{"account_id":15193332,"reputation":9,"user_id":10963445,"display_name":"GPashtrik GM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652805303,"creation_date":1652805303,"answer_id":72277715,"question_id":72277616,"body_markdown":"Well you can make a &quot;if&quot; Statement that looks if your time hits 0.\r\n\r\nThere are multiple aproaches. you can even let the timer count up and the \r\n&quot;if&quot; statement calls the ringing funtion &quot;if(timer == userinput)&quot;.\r\n\r\nIt all depends on your code we just need to see it, because we don&#39;t know what your cooking.","title":"Make timer ring when finished in background","body":"<p>Well you can make a &quot;if&quot; Statement that looks if your time hits 0.</p>\n<p>There are multiple aproaches. you can even let the timer count up and the\n&quot;if&quot; statement calls the ringing funtion &quot;if(timer == userinput)&quot;.</p>\n<p>It all depends on your code we just need to see it, because we don't know what your cooking.</p>\n"}],"owner":{"account_id":25229145,"reputation":1,"user_id":19064533,"display_name":"Fawzi Habib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652805837,"creation_date":1652804849,"question_id":72277616,"body_markdown":"I am making a Timer app on android studio that can edit minutes and start down counting and ring when finished and stop ringing when pressing a button but the ringing is not working if I close the app and leave it in background only the timer working. How to let it ring when timer finished in background also.\r\n\r\n    package com.example.timer2;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.media.Ringtone;\r\n    import android.media.RingtoneManager;\r\n    import android.os.Bundle;\r\n    import android.content.SharedPreferences;\r\n    import android.os.CountDownTimer;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.inputmethod.InputMethodManager;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import java.util.Locale;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private EditText mEditTextInput;\r\n        private TextView mTextViewCountDown;\r\n        private Button mButtonSet;\r\n        private Button mButtonStartPause;\r\n        private Button mButtonReset;\r\n        private Button fine;\r\n        private CountDownTimer mCountDownTimer;\r\n        private boolean mTimerRunning;\r\n        private long mStartTimeInMillis;\r\n        private long mTimeLeftInMillis;\r\n        private long mEndTime;\r\n        public Ringtone r;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            r = RingtoneManager.getRingtone(getApplicationContext(), RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE));\r\n    \r\n    \r\n            fine =findViewById(R.id.fine);\r\n    fine.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            pauseTimer();\r\n            resetTimer();\r\n            startTimer();\r\n            r.stop();\r\n        }\r\n    });\r\n            mEditTextInput = findViewById(R.id.edit_text_input);\r\n            mTextViewCountDown = findViewById(R.id.text_view_countdown);\r\n    \r\n            mButtonSet = findViewById(R.id.button_set);\r\n            mButtonStartPause = findViewById(R.id.button_start_pause);\r\n            mButtonReset = findViewById(R.id.button_reset);\r\n    \r\n            mButtonSet.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String input = mEditTextInput.getText().toString();\r\n                    if (input.length() == 0) {\r\n                        Toast.makeText(MainActivity.this, &quot;Field can&#39;t be empty&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n    \r\n                    long millisInput = Long.parseLong(input) * 60000;\r\n                    if (millisInput == 0) {\r\n                        Toast.makeText(MainActivity.this, &quot;Please enter a positive number&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n    \r\n                    setTime(millisInput);\r\n                    mEditTextInput.setText(&quot;&quot;);\r\n                }\r\n            });\r\n    \r\n            mButtonStartPause.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (mTimerRunning) {\r\n                        pauseTimer();\r\n                    } else {\r\n                        startTimer();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            mButtonReset.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    resetTimer();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void setTime(long milliseconds) {\r\n            mStartTimeInMillis = milliseconds;\r\n            resetTimer();\r\n            closeKeyboard();\r\n        }\r\n    \r\n        private void startTimer() {\r\n            mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\r\n    \r\n            mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    mTimeLeftInMillis = millisUntilFinished;\r\n                    updateCountDownText();\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    mTimerRunning = false;\r\n                    updateWatchInterface();\r\n                    r.play();\r\n    \r\n    \r\n                }\r\n            }.start();\r\n    \r\n            mTimerRunning = true;\r\n            updateWatchInterface();\r\n        }\r\n    \r\n        private void pauseTimer() {\r\n            mCountDownTimer.cancel();\r\n            mTimerRunning = false;\r\n            updateWatchInterface();\r\n        }\r\n    \r\n        private void resetTimer() {\r\n            mTimeLeftInMillis = mStartTimeInMillis;\r\n            updateCountDownText();\r\n            updateWatchInterface();\r\n        }\r\n    \r\n        private void updateCountDownText() {\r\n            int hours = (int) (mTimeLeftInMillis / 1000) / 3600;\r\n            int minutes = (int) ((mTimeLeftInMillis / 1000) % 3600) / 60;\r\n            int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n    \r\n            String timeLeftFormatted;\r\n            if (hours &gt; 0) {\r\n                timeLeftFormatted = String.format(Locale.getDefault(),\r\n                        &quot;%d:%02d:%02d&quot;, hours, minutes, seconds);\r\n            } else {\r\n                timeLeftFormatted = String.format(Locale.getDefault(),\r\n                        &quot;%02d:%02d&quot;, minutes, seconds);\r\n            }\r\n    \r\n            mTextViewCountDown.setText(timeLeftFormatted);\r\n        }\r\n    \r\n        private void updateWatchInterface() {\r\n            if (mTimerRunning) {\r\n                mEditTextInput.setVisibility(View.INVISIBLE);\r\n                mButtonSet.setVisibility(View.INVISIBLE);\r\n                mButtonReset.setVisibility(View.INVISIBLE);\r\n                mButtonStartPause.setText(&quot;Pause&quot;);\r\n            } else {\r\n                mEditTextInput.setVisibility(View.VISIBLE);\r\n                mButtonSet.setVisibility(View.VISIBLE);\r\n                mButtonStartPause.setText(&quot;Start&quot;);\r\n    \r\n                if (mTimeLeftInMillis &lt; 1000) {\r\n                    mButtonStartPause.setVisibility(View.INVISIBLE);\r\n                } else {\r\n                    mButtonStartPause.setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n                if (mTimeLeftInMillis &lt; mStartTimeInMillis) {\r\n                    mButtonReset.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    mButtonReset.setVisibility(View.INVISIBLE);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void closeKeyboard() {\r\n            View view = this.getCurrentFocus();\r\n            if (view != null) {\r\n                InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\r\n                imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = prefs.edit();\r\n    \r\n            editor.putLong(&quot;startTimeInMillis&quot;, mStartTimeInMillis);\r\n            editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n            editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n            editor.putLong(&quot;endTime&quot;, mEndTime);\r\n    \r\n            editor.apply();\r\n    \r\n            if (mCountDownTimer != null) {\r\n                mCountDownTimer.cancel();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n    \r\n            mStartTimeInMillis = prefs.getLong(&quot;startTimeInMillis&quot;, 600000);\r\n            mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, mStartTimeInMillis);\r\n            mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n    \r\n            updateCountDownText();\r\n            updateWatchInterface();\r\n    \r\n            if (mTimerRunning) {\r\n                mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n                mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\r\n    \r\n                if (mTimeLeftInMillis &lt; 0) {\r\n                    mTimeLeftInMillis = 0;\r\n                    mTimerRunning = false;\r\n                    updateCountDownText();\r\n                    updateWatchInterface();\r\n                } else {\r\n                    startTimer();\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nand the layout file:\r\n\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;50dp&quot;\r\n            android:layout_marginEnd=&quot;51dp&quot;\r\n            android:text=&quot;     Press I AM Okay to Reset Timer ...&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;15dp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/fine&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@+id/edit_text_input&quot;\r\n            android:layout_marginBottom=&quot;44dp&quot;\r\n            android:backgroundTint=&quot;#2196F3&quot;\r\n            android:text=&quot;I Am Okay  &quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/tv&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/edit_text_input&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/edit_text_input&quot;\r\n            android:layout_width=&quot;120dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@+id/text_view_countdown&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:hint=&quot;Minutes&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;4&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_set&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignTop=&quot;@+id/edit_text_input&quot;\r\n            android:layout_toEndOf=&quot;@+id/edit_text_input&quot;\r\n            android:text=&quot;Set&quot;\r\n            android:backgroundTint=&quot;#2196F3&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_view_countdown&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:text=&quot;00:00&quot;\r\n            android:textColor=&quot;@android:color/black&quot;\r\n            android:textSize=&quot;60sp&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_start_pause&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/text_view_countdown&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:text=&quot;start&quot;\r\n            android:backgroundTint=&quot;#2196F3&quot;/&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_reset&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/text_view_countdown&quot;\r\n            android:layout_marginStart=&quot;11dp&quot;\r\n            android:layout_toEndOf=&quot;@+id/button_start_pause&quot;\r\n            android:text=&quot;reset&quot;\r\n            android:visibility=&quot;invisible&quot;\r\n            tools:visibility=&quot;visible&quot;\r\n            android:backgroundTint=&quot;#2196F3&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;","title":"Make timer ring when finished in background","body":"<p>I am making a Timer app on android studio that can edit minutes and start down counting and ring when finished and stop ringing when pressing a button but the ringing is not working if I close the app and leave it in background only the timer working. How to let it ring when timer finished in background also.</p>\n<pre><code>package com.example.timer2;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.media.Ringtone;\nimport android.media.RingtoneManager;\nimport android.os.Bundle;\nimport android.content.SharedPreferences;\nimport android.os.CountDownTimer;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText mEditTextInput;\n    private TextView mTextViewCountDown;\n    private Button mButtonSet;\n    private Button mButtonStartPause;\n    private Button mButtonReset;\n    private Button fine;\n    private CountDownTimer mCountDownTimer;\n    private boolean mTimerRunning;\n    private long mStartTimeInMillis;\n    private long mTimeLeftInMillis;\n    private long mEndTime;\n    public Ringtone r;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        r = RingtoneManager.getRingtone(getApplicationContext(), RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE));\n\n\n        fine =findViewById(R.id.fine);\nfine.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        pauseTimer();\n        resetTimer();\n        startTimer();\n        r.stop();\n    }\n});\n        mEditTextInput = findViewById(R.id.edit_text_input);\n        mTextViewCountDown = findViewById(R.id.text_view_countdown);\n\n        mButtonSet = findViewById(R.id.button_set);\n        mButtonStartPause = findViewById(R.id.button_start_pause);\n        mButtonReset = findViewById(R.id.button_reset);\n\n        mButtonSet.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String input = mEditTextInput.getText().toString();\n                if (input.length() == 0) {\n                    Toast.makeText(MainActivity.this, &quot;Field can't be empty&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                long millisInput = Long.parseLong(input) * 60000;\n                if (millisInput == 0) {\n                    Toast.makeText(MainActivity.this, &quot;Please enter a positive number&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                setTime(millisInput);\n                mEditTextInput.setText(&quot;&quot;);\n            }\n        });\n\n        mButtonStartPause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (mTimerRunning) {\n                    pauseTimer();\n                } else {\n                    startTimer();\n                }\n            }\n        });\n\n        mButtonReset.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                resetTimer();\n            }\n        });\n    }\n\n    private void setTime(long milliseconds) {\n        mStartTimeInMillis = milliseconds;\n        resetTimer();\n        closeKeyboard();\n    }\n\n    private void startTimer() {\n        mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\n\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                mTimeLeftInMillis = millisUntilFinished;\n                updateCountDownText();\n            }\n\n            @Override\n            public void onFinish() {\n                mTimerRunning = false;\n                updateWatchInterface();\n                r.play();\n\n\n            }\n        }.start();\n\n        mTimerRunning = true;\n        updateWatchInterface();\n    }\n\n    private void pauseTimer() {\n        mCountDownTimer.cancel();\n        mTimerRunning = false;\n        updateWatchInterface();\n    }\n\n    private void resetTimer() {\n        mTimeLeftInMillis = mStartTimeInMillis;\n        updateCountDownText();\n        updateWatchInterface();\n    }\n\n    private void updateCountDownText() {\n        int hours = (int) (mTimeLeftInMillis / 1000) / 3600;\n        int minutes = (int) ((mTimeLeftInMillis / 1000) % 3600) / 60;\n        int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n        String timeLeftFormatted;\n        if (hours &gt; 0) {\n            timeLeftFormatted = String.format(Locale.getDefault(),\n                    &quot;%d:%02d:%02d&quot;, hours, minutes, seconds);\n        } else {\n            timeLeftFormatted = String.format(Locale.getDefault(),\n                    &quot;%02d:%02d&quot;, minutes, seconds);\n        }\n\n        mTextViewCountDown.setText(timeLeftFormatted);\n    }\n\n    private void updateWatchInterface() {\n        if (mTimerRunning) {\n            mEditTextInput.setVisibility(View.INVISIBLE);\n            mButtonSet.setVisibility(View.INVISIBLE);\n            mButtonReset.setVisibility(View.INVISIBLE);\n            mButtonStartPause.setText(&quot;Pause&quot;);\n        } else {\n            mEditTextInput.setVisibility(View.VISIBLE);\n            mButtonSet.setVisibility(View.VISIBLE);\n            mButtonStartPause.setText(&quot;Start&quot;);\n\n            if (mTimeLeftInMillis &lt; 1000) {\n                mButtonStartPause.setVisibility(View.INVISIBLE);\n            } else {\n                mButtonStartPause.setVisibility(View.VISIBLE);\n            }\n\n            if (mTimeLeftInMillis &lt; mStartTimeInMillis) {\n                mButtonReset.setVisibility(View.VISIBLE);\n            } else {\n                mButtonReset.setVisibility(View.INVISIBLE);\n            }\n        }\n    }\n\n    private void closeKeyboard() {\n        View view = this.getCurrentFocus();\n        if (view != null) {\n            InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n        }\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = prefs.edit();\n\n        editor.putLong(&quot;startTimeInMillis&quot;, mStartTimeInMillis);\n        editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\n        editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\n        editor.putLong(&quot;endTime&quot;, mEndTime);\n\n        editor.apply();\n\n        if (mCountDownTimer != null) {\n            mCountDownTimer.cancel();\n        }\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n\n        mStartTimeInMillis = prefs.getLong(&quot;startTimeInMillis&quot;, 600000);\n        mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, mStartTimeInMillis);\n        mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\n\n        updateCountDownText();\n        updateWatchInterface();\n\n        if (mTimerRunning) {\n            mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\n            mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\n\n            if (mTimeLeftInMillis &lt; 0) {\n                mTimeLeftInMillis = 0;\n                mTimerRunning = false;\n                updateCountDownText();\n                updateWatchInterface();\n            } else {\n                startTimer();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>and the layout file:</p>\n<pre><code>&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;50dp&quot;\n        android:layout_marginEnd=&quot;51dp&quot;\n        android:text=&quot;     Press I AM Okay to Reset Timer ...&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;15dp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/fine&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@+id/edit_text_input&quot;\n        android:layout_marginBottom=&quot;44dp&quot;\n        android:backgroundTint=&quot;#2196F3&quot;\n        android:text=&quot;I Am Okay  &quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/edit_text_input&quot;\n        tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edit_text_input&quot;\n        android:layout_width=&quot;120dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@+id/text_view_countdown&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:hint=&quot;Minutes&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;4&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_set&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignTop=&quot;@+id/edit_text_input&quot;\n        android:layout_toEndOf=&quot;@+id/edit_text_input&quot;\n        android:text=&quot;Set&quot;\n        android:backgroundTint=&quot;#2196F3&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_view_countdown&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:text=&quot;00:00&quot;\n        android:textColor=&quot;@android:color/black&quot;\n        android:textSize=&quot;60sp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_start_pause&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/text_view_countdown&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;start&quot;\n        android:backgroundTint=&quot;#2196F3&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_reset&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/text_view_countdown&quot;\n        android:layout_marginStart=&quot;11dp&quot;\n        android:layout_toEndOf=&quot;@+id/button_start_pause&quot;\n        android:text=&quot;reset&quot;\n        android:visibility=&quot;invisible&quot;\n        tools:visibility=&quot;visible&quot;\n        android:backgroundTint=&quot;#2196F3&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":25314962,"reputation":61,"user_id":19137217,"display_name":"inspectorconfusion"},"score":0,"creation_date":1652806750,"post_id":72277712,"comment_id":127693778,"body_markdown":"Have you tried a specific version? for example an older version may work - https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security/2.6.3","body":"Have you tried a specific version? for example an older version may work - <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security/2.6.3\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.boot/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1652809841,"post_id":72277712,"comment_id":127694758,"body_markdown":"Don&#39;t specify a version if you use Spring BOot to manage your dependencies, that will only lead to mixing different versions of frameworks with different errors/issues as a result!. If thte `mvn clean install` works, then the dependencies are there and it is your IDE which is drunk. Depending on which IDE clear the caches and rebuild indexes.","body":"Don&#39;t specify a version if you use Spring BOot to manage your dependencies, that will only lead to mixing different versions of frameworks with different errors/issues as a result!. If thte <code>mvn clean install</code> works, then the dependencies are there and it is your IDE which is drunk. Depending on which IDE clear the caches and rebuild indexes."},{"owner":{"account_id":20207194,"reputation":43,"user_id":14821271,"display_name":"Tobias"},"score":0,"creation_date":1652812655,"post_id":72277712,"comment_id":127695657,"body_markdown":"Thanks, the reloading worked. It is pretty stupid the IDE doesn&#39;t  reload them at all if you don&#39;t say so.","body":"Thanks, the reloading worked. It is pretty stupid the IDE doesn&#39;t  reload them at all if you don&#39;t say so."},{"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"score":0,"creation_date":1652816032,"post_id":72277712,"comment_id":127696739,"body_markdown":"Yep. Reloading is not working correctly sometimes. You need to restart IDE, stupid things.","body":"Yep. Reloading is not working correctly sometimes. You need to restart IDE, stupid things."}],"owner":{"account_id":20207194,"reputation":43,"user_id":14821271,"display_name":"Tobias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652805295,"creation_date":1652805295,"question_id":72277712,"body_markdown":"i am trying to use the spring boot starter security to secure my application. However it is not working for some reasons. Here are the imports that use the dependency:\r\n```\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\r\n```\r\n\r\nFor everyone I get the error `can not reslov symbol security`. I found that other guys have the same Problem like here https://stackoverflow.com/questions/56775550/can-not-resolve-symbol-security-in-spring-boot-application. But none of these solutions seem to work for me.\r\n\r\nHere is how the dependency is decleared in the pom.xml file:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAlso if I go to dependency tab in my IDE it lists spring-boot-starter-security together with the others. And also i can run `mvn clean install` without any errors. Therefor I do not understand what exactly is going wrong.\r\nAny help is apprichiated.","title":"dependency spring-boot-starter-security not working","body":"<p>i am trying to use the spring boot starter security to secure my application. However it is not working for some reasons. Here are the imports that use the dependency:</p>\n<pre><code>import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\n</code></pre>\n<p>For everyone I get the error <code>can not reslov symbol security</code>. I found that other guys have the same Problem like here <a href=\"https://stackoverflow.com/questions/56775550/can-not-resolve-symbol-security-in-spring-boot-application\">Can not resolve symbol &quot;security&quot; in spring boot application</a>. But none of these solutions seem to work for me.</p>\n<p>Here is how the dependency is decleared in the pom.xml file:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Also if I go to dependency tab in my IDE it lists spring-boot-starter-security together with the others. And also i can run <code>mvn clean install</code> without any errors. Therefor I do not understand what exactly is going wrong.\nAny help is apprichiated.</p>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652801060,"creation_date":1652791055,"answer_id":72274193,"question_id":72274095,"body_markdown":"Both are not of the same format. One using 8-bit for color representation and the other 3x8-bit (so 4 bytes, with padding or transparency)?\r\n\r\nLooking at it give:\r\n\r\n- image1 : JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, baseline, precision 8, 449x361, components 3\r\n\r\n- image2 : PNG image data, 617 x 353, 8-bit/color RGBA, non-interlaced\r\n\r\nYou may use the `getDataType()` method on the buffer to get the size of the color representation.\r\n\r\n","title":"Cannot cast DataBufferInt to DataBufferByte on specific picture(s)","body":"<p>Both are not of the same format. One using 8-bit for color representation and the other 3x8-bit (so 4 bytes, with padding or transparency)?</p>\n<p>Looking at it give:</p>\n<ul>\n<li><p>image1 : JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, baseline, precision 8, 449x361, components 3</p>\n</li>\n<li><p>image2 : PNG image data, 617 x 353, 8-bit/color RGBA, non-interlaced</p>\n</li>\n</ul>\n<p>You may use the <code>getDataType()</code> method on the buffer to get the size of the color representation.</p>\n"}],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72274193,"answer_count":1,"score":0,"last_activity_date":1652805168,"creation_date":1652790560,"question_id":72274095,"body_markdown":"I am trying to threshold my images, but some of them have problem with casting to DataBufferByte. I post here two types of pictures - the first (the test1.jpg is good and can be casted to DataBufferByte), the second (test2.jpg throwing an exception).\r\n\r\nImages:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is my code:\r\n\r\n     public static void main(String[] args) throws IOException {\r\n    \r\n        System.loadLibrary( Core.NATIVE_LIBRARY_NAME );\r\n        BufferedImage bufferedImage = ImageIO.read(new File(&quot;/test/test2.jpg&quot;));\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        ImageIO.write(bufferedImage, &quot;jpg&quot;, byteArrayOutputStream);\r\n        byte[] input = byteArrayOutputStream.toByteArray();\r\n        InputStream is = new ByteArrayInputStream(input);\r\n        bufferedImage = ImageIO.read(is);\r\n        byte[] data = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();\r\n        Mat mat = new Mat(bufferedImage.getHeight(), bufferedImage.getWidth(), CvType.CV_8UC3);\r\n        mat.put(0, 0, data);\r\n        Mat mat1 = new Mat(bufferedImage.getHeight(),bufferedImage.getWidth(),CvType.CV_8UC1);\r\n        Imgproc.cvtColor(mat, mat1, Imgproc.COLOR_RGB2GRAY);\r\n        byte[] data1 = new byte[mat1.rows() * mat1.cols() * (int)(mat1.elemSize())];\r\n        mat1.get(0, 0, data1);\r\n        Mat dst = new Mat();\r\n        Imgproc.adaptiveThreshold(mat1, dst, 255, Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 11, 15);\r\n        MatOfByte matOfByte = new MatOfByte();\r\n        Imgcodecs.imencode(&quot;.jpg&quot;, dst, matOfByte);\r\n        ByteArrayInputStream inputStream = new ByteArrayInputStream(matOfByte.toArray());\r\n        bufferedImage = ImageIO.read(inputStream);\r\n        ImageIO.write(bufferedImage, &quot;jpg&quot;, new File(&quot;/test_output/test2.jpg&quot;));\r\n    \r\n    }\r\n\r\nThe output for test1.jpg image is correct:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut the second image throwing an exception\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException:\r\n&gt; java.awt.image.DataBufferInt cannot be cast to\r\n&gt; java.awt.image.DataBufferByte\r\n\r\nat line\r\n\r\n    byte[] data = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();\r\n\r\nWhat is the problem ? Why the one .jpg image is converted without problems but second throwing an exception?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k5BRd.jpg\r\n  [2]: https://i.stack.imgur.com/hELgq.png\r\n  [3]: https://i.stack.imgur.com/5y8ld.jpg","title":"Cannot cast DataBufferInt to DataBufferByte on specific picture(s)","body":"<p>I am trying to threshold my images, but some of them have problem with casting to DataBufferByte. I post here two types of pictures - the first (the test1.jpg is good and can be casted to DataBufferByte), the second (test2.jpg throwing an exception).</p>\n<p>Images:</p>\n<p><a href=\"https://i.stack.imgur.com/k5BRd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5BRd.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hELgq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hELgq.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code:</p>\n<pre><code> public static void main(String[] args) throws IOException {\n\n    System.loadLibrary( Core.NATIVE_LIBRARY_NAME );\n    BufferedImage bufferedImage = ImageIO.read(new File(&quot;/test/test2.jpg&quot;));\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    ImageIO.write(bufferedImage, &quot;jpg&quot;, byteArrayOutputStream);\n    byte[] input = byteArrayOutputStream.toByteArray();\n    InputStream is = new ByteArrayInputStream(input);\n    bufferedImage = ImageIO.read(is);\n    byte[] data = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();\n    Mat mat = new Mat(bufferedImage.getHeight(), bufferedImage.getWidth(), CvType.CV_8UC3);\n    mat.put(0, 0, data);\n    Mat mat1 = new Mat(bufferedImage.getHeight(),bufferedImage.getWidth(),CvType.CV_8UC1);\n    Imgproc.cvtColor(mat, mat1, Imgproc.COLOR_RGB2GRAY);\n    byte[] data1 = new byte[mat1.rows() * mat1.cols() * (int)(mat1.elemSize())];\n    mat1.get(0, 0, data1);\n    Mat dst = new Mat();\n    Imgproc.adaptiveThreshold(mat1, dst, 255, Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 11, 15);\n    MatOfByte matOfByte = new MatOfByte();\n    Imgcodecs.imencode(&quot;.jpg&quot;, dst, matOfByte);\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(matOfByte.toArray());\n    bufferedImage = ImageIO.read(inputStream);\n    ImageIO.write(bufferedImage, &quot;jpg&quot;, new File(&quot;/test_output/test2.jpg&quot;));\n\n}\n</code></pre>\n<p>The output for test1.jpg image is correct:</p>\n<p><a href=\"https://i.stack.imgur.com/5y8ld.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5y8ld.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But the second image throwing an exception</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException:\njava.awt.image.DataBufferInt cannot be cast to\njava.awt.image.DataBufferByte</p>\n</blockquote>\n<p>at line</p>\n<pre><code>byte[] data = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();\n</code></pre>\n<p>What is the problem ? Why the one .jpg image is converted without problems but second throwing an exception?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8653,"page":1339,"page_size":100}
