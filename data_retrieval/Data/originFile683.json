{"items":[{"tags":["java","spring","spring-annotations"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1646777614,"post_id":71402068,"comment_id":126207301,"body_markdown":"The table annotation here is giving information about the table, specifically its name.","body":"The table annotation here is giving information about the table, specifically its name."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":1,"creation_date":1646777713,"post_id":71402068,"comment_id":126207328,"body_markdown":"@Entity annotation defines that a class can be mapped to a table;\n@Table annotation allows you to specify the details of the table that will be used to persist the entity in the database.\nIn this case with `@Table(name = &quot;widget&quot;)`  you override the default name of the table (the class name)","body":"@Entity annotation defines that a class can be mapped to a table; @Table annotation allows you to specify the details of the table that will be used to persist the entity in the database. In this case with <code>@Table(name = &quot;widget&quot;)</code>  you override the default name of the table (the class name)"}],"answers":[{"comments":[{"owner":{"account_id":477717,"reputation":1768,"user_id":889376,"accept_rate":35,"display_name":"Mustafa"},"score":1,"creation_date":1646779568,"post_id":71402159,"comment_id":126207727,"body_markdown":"nice . I thought so too @bjorke07","body":"nice . I thought so too @bjorke07"}],"tags":[],"owner":{"account_id":19689376,"reputation":109,"user_id":14414722,"display_name":"bjorke07"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646778078,"creation_date":1646778078,"answer_id":71402159,"question_id":71402068,"body_markdown":"You need @Entity but @Table is an optional annotation that you can override default table name, schema name etc. ","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>You need @Entity but @Table is an optional annotation that you can override default table name, schema name etc.</p>\n"},{"comments":[{"owner":{"account_id":477717,"reputation":1768,"user_id":889376,"accept_rate":35,"display_name":"Mustafa"},"score":0,"creation_date":1646779713,"post_id":71402271,"comment_id":126207769,"body_markdown":"I see. I like when you use the words &quot;In both of the worlds&quot; . It makes sence. takes abit of time to understand when you come from javascript and firebase world haha. @zawarudo","body":"I see. I like when you use the words &quot;In both of the worlds&quot; . It makes sence. takes abit of time to understand when you come from javascript and firebase world haha. @zawarudo"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1646779858,"post_id":71402271,"comment_id":126207802,"body_markdown":"It seems like a lot of work, but once you set your entity properly, you can enjoy the fruits of creating an object and do .save() or .persist() and the object is in your database.","body":"It seems like a lot of work, but once you set your entity properly, you can enjoy the fruits of creating an object and do .save() or .persist() and the object is in your database."}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646779033,"creation_date":1646779033,"answer_id":71402271,"question_id":71402068,"body_markdown":"If you are planning some class to be scanned and looked as an entity by Hibernate it must has @Entity annotation.\r\nNow since Hibernate is Object-Relational Mapping tool, which means that it is a bridge between objects and the database when you put\r\n\r\n    @Entity &lt;-- this is an entity class that you will work with\r\n    @Table(name = &quot;widget&quot;) &lt;-- and this is a corresponding table that matches that entity in the database\r\n\r\nSimilar thing goes for \r\n\r\n    @Column(name=&quot;clientName&quot;)&lt;-- this is a value from your database field that will correspond with your entity field\r\n    private String clientName &lt;-- this is your entity field\r\n\r\nWhen using hibernate you need to explain in the class both of the worlds, the SQL world and the Java Hibernate world.","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>If you are planning some class to be scanned and looked as an entity by Hibernate it must has @Entity annotation.\nNow since Hibernate is Object-Relational Mapping tool, which means that it is a bridge between objects and the database when you put</p>\n<pre><code>@Entity &lt;-- this is an entity class that you will work with\n@Table(name = &quot;widget&quot;) &lt;-- and this is a corresponding table that matches that entity in the database\n</code></pre>\n<p>Similar thing goes for</p>\n<pre><code>@Column(name=&quot;clientName&quot;)&lt;-- this is a value from your database field that will correspond with your entity field\nprivate String clientName &lt;-- this is your entity field\n</code></pre>\n<p>When using hibernate you need to explain in the class both of the worlds, the SQL world and the Java Hibernate world.</p>\n"}],"owner":{"account_id":477717,"reputation":1768,"user_id":889376,"accept_rate":35,"display_name":"Mustafa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6547,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1675318829,"creation_date":1646777413,"question_id":71402068,"body_markdown":"Do we need both annonation for a model class? What is the difference between @Entity and @Table\r\n\r\n    @Entity\r\n    @Table(name = &quot;widget&quot;) // do we need this??\r\n    public class WidgetEntity {\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n      private String clientName;\r\n    }","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>Do we need both annonation for a model class? What is the difference between @Entity and @Table</p>\n<pre><code>@Entity\n@Table(name = &quot;widget&quot;) // do we need this??\npublic class WidgetEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  private String clientName;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","database-migration","flyway","newrelic"],"comments":[{"owner":{"account_id":1189982,"reputation":671,"user_id":2515377,"accept_rate":78,"display_name":"Kenpachi"},"score":0,"creation_date":1675322203,"post_id":75319310,"comment_id":132904747,"body_markdown":"I haven&#39;t used Flyway before, but Flyway&#39;s Java Callbacks might be useful in solving your problems - https://documentation.red-gate.com/fd/api-hooks-184127635.html#callsbacks","body":"I haven&#39;t used Flyway before, but Flyway&#39;s Java Callbacks might be useful in solving your problems - <a href=\"https://documentation.red-gate.com/fd/api-hooks-184127635.html#callsbacks\" rel=\"nofollow noreferrer\">documentation.red-gate.com/fd/&hellip;</a>"}],"owner":{"account_id":15874551,"reputation":101,"user_id":11454171,"display_name":"Gayathry S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675318498,"creation_date":1675318498,"question_id":75319310,"body_markdown":"I was wondering if there was a way to get the transaction details of a flyway migration in newrelic? I have a newrelic application integrated to my spring boot application(gradle). However, I am unable to find any trace details of the migrations I am running. \r\nIf this is not possible, is there a workaround or configuration in flyway that lets us know the time taken for a migration and such details? My flyway migrations are all SQL queries.","title":"Integrating flyway migrations with newrelic","body":"<p>I was wondering if there was a way to get the transaction details of a flyway migration in newrelic? I have a newrelic application integrated to my spring boot application(gradle). However, I am unable to find any trace details of the migrations I am running.\nIf this is not possible, is there a workaround or configuration in flyway that lets us know the time taken for a migration and such details? My flyway migrations are all SQL queries.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":1,"creation_date":1675316746,"post_id":75318964,"comment_id":132903728,"body_markdown":"the way of getting video from raw and converting to file is wrong and that&#39;s why it is showing ```No such file or directory```\n\nfirst you need to copy video from raw folder to device storage programmatically and then use path of file where you pasted in device\n\nyou can copy file like this\n\nhttps://stackoverflow.com/a/8664527/5696047","body":"the way of getting video from raw and converting to file is wrong and that&#39;s why it is showing <code>No such file or directory</code>  first you need to copy video from raw folder to device storage programmatically and then use path of file where you pasted in device  you can copy file like this  <a href=\"https://stackoverflow.com/a/8664527/5696047\">stackoverflow.com/a/8664527/5696047</a>"}],"answers":[{"tags":[],"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675318103,"creation_date":1675317617,"answer_id":75319222,"question_id":75318964,"body_markdown":"You will acces app data specific folder through &quot; **getExternalFilesDir()** &quot;\r\nand your application data available in &quot; **sdcard =&gt;Android =&gt; package.name =&gt; file.mp4** &quot;\r\n\r\n**APIClient.java**\r\n\r\n    public class APIClient {\r\n   \r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(){\r\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .hostnameVerifier(new HostnameVerifier() {\r\n                    @Override\r\n                    public boolean verify(String s, SSLSession sslSession) {\r\n                        return true;\r\n                    }\r\n                })\r\n                .addInterceptor(interceptor)\r\n                .build();\r\n\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;http://10.0.2.2:5000&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .client(client)\r\n                .build();\r\n\r\n        return retrofit;\r\n    }\r\n}\r\n\r\n**APIInterface.java**\r\npublic interface APIInterface {\r\n\r\n    @Multipart\r\n    @POST(&quot;/api/UploadVideo&quot;)\r\n    Call&lt;VideoUpload&gt; chequeUpload(\r\n                                    @Part MultipartBody.Part video);\r\n\r\n}\r\n\r\n**Model Class**\r\n\r\n    public class VideoUpload {\r\n\r\n     // Request\r\n    @SerializedName(&quot;video&quot;)\r\n    public String video;\r\n\r\n    // Response\r\n      @SerializedName(&quot;Message&quot;)\r\n      public String Message;\r\n}\r\n\r\n**Upload video**\r\n\r\nvideo get from &quot; Android &quot; Specific folder **sdcard =&gt;Android =&gt; package.name =&gt; file.mp4**\r\n\r\n code.\r\n\r\n   \r\n\r\n       String root = getExternalFilesDir(&quot;/&quot;).getPath() + &quot;/&quot; + &quot;Videos/&quot;;\r\n    \r\n       File videoFile = new File(root, &quot;My_video&quot; + &quot;.mp4&quot;);\r\n    \r\n      RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), videoFile);\r\n    \r\n      MultipartBody.Part videoFileBody = MultipartBody.Part.createFormData(&quot;video&quot;, videoFile.getName(), requestFile);\r\n    \r\n        Call&lt;VideoUpload&gt; call = apiInterface.videoUploadNow(videoFileBody);\r\n\r\n     call.enqueue(new Callback&lt;VideoUpload&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Response&lt;VideoUpload&gt; response) {\r\n                pDialog.dismiss();\r\n                if (response.isSuccessful()){\r\n                    VideoUpload uploadVideo = response.body();\r\n                 \r\n                 try {\r\n                        JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\r\n                        showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                }else{\r\n                    try {\r\n                        JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\r\n                        showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Throwable t) {\r\n                if(t instanceof SocketTimeoutException){\r\n                    timeOutDialog.show();\r\n                }\r\n                pDialog.dismiss();\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to upload .mp4 to server in Android Studio","body":"<p>You will acces app data specific folder through &quot; <strong>getExternalFilesDir()</strong> &quot;\nand your application data available in &quot; <strong>sdcard =&gt;Android =&gt; package.name =&gt; file.mp4</strong> &quot;</p>\n<p><strong>APIClient.java</strong></p>\n<pre><code>public class APIClient {\n\nprivate static Retrofit retrofit = null;\n\npublic static Retrofit getClient(){\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient client = new OkHttpClient.Builder()\n            .hostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String s, SSLSession sslSession) {\n                    return true;\n                }\n            })\n            .addInterceptor(interceptor)\n            .build();\n\n    retrofit = new Retrofit.Builder()\n            .baseUrl(&quot;http://10.0.2.2:5000&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .client(client)\n            .build();\n\n    return retrofit;\n}\n</code></pre>\n<p>}</p>\n<p><strong>APIInterface.java</strong>\npublic interface APIInterface {</p>\n<pre><code>@Multipart\n@POST(&quot;/api/UploadVideo&quot;)\nCall&lt;VideoUpload&gt; chequeUpload(\n                                @Part MultipartBody.Part video);\n</code></pre>\n<p>}</p>\n<p><strong>Model Class</strong></p>\n<pre><code>public class VideoUpload {\n\n // Request\n@SerializedName(&quot;video&quot;)\npublic String video;\n\n// Response\n  @SerializedName(&quot;Message&quot;)\n  public String Message;\n</code></pre>\n<p>}</p>\n<p><strong>Upload video</strong></p>\n<p>video get from &quot; Android &quot; Specific folder <strong>sdcard =&gt;Android =&gt; package.name =&gt; file.mp4</strong></p>\n<p>code.</p>\n<pre><code>   String root = getExternalFilesDir(&quot;/&quot;).getPath() + &quot;/&quot; + &quot;Videos/&quot;;\n\n   File videoFile = new File(root, &quot;My_video&quot; + &quot;.mp4&quot;);\n\n  RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), videoFile);\n\n  MultipartBody.Part videoFileBody = MultipartBody.Part.createFormData(&quot;video&quot;, videoFile.getName(), requestFile);\n\n    Call&lt;VideoUpload&gt; call = apiInterface.videoUploadNow(videoFileBody);\n\n call.enqueue(new Callback&lt;VideoUpload&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Response&lt;VideoUpload&gt; response) {\n            pDialog.dismiss();\n            if (response.isSuccessful()){\n                VideoUpload uploadVideo = response.body();\n             \n             try {\n                    JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\n                    showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n\n            }else{\n                try {\n                    JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\n                    showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Throwable t) {\n            if(t instanceof SocketTimeoutException){\n                timeOutDialog.show();\n            }\n            pDialog.dismiss();\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":25874348,"reputation":1,"user_id":21130201,"display_name":"Spencer Creer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675318103,"creation_date":1675315248,"question_id":75318964,"body_markdown":"How do you upload a video (.mp4) file in the raw folder to a server on a button click in java android studio with minSdk 29.\r\n\r\nAny help with this would be much appreciated.\r\n\r\nThis is what I have tried:\r\n\r\n```\r\nprivate void configureUploadButton() {\r\n        uploadButton = findViewById(R.id.uploadButton);\r\n        uploadButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // creating a client\r\n                OkHttpClient okHttpClient = new OkHttpClient();\r\n\r\n                int videoResourceId = getResources().getIdentifier(&quot;name_of_video&quot;, &quot;raw&quot;, getPackageName());\r\n                Uri fileUri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + videoResourceId);\r\n                Log.i(&quot;URI&quot;, &quot;File URI: &quot; + fileUri);\r\n\r\n                File videoFile = new File(fileUri.getPath());\r\n                Log.i(&quot;FILE_TAG&quot;, &quot;File: &quot; + videoFile + &quot; Path: &quot; + videoFile.getPath());\r\n\r\n                RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;video/mp4&quot;), videoFile);\r\n                MultipartBody multipartBody = new MultipartBody.Builder()\r\n                        .setType(MultipartBody.FORM)\r\n                        .addFormDataPart(&quot;video&quot;, videoFile.getName(), requestBody)\r\n                        .build();\r\n\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;http://10.0.2.2:5000/upload_video&quot;)\r\n                        .post(multipartBody)\r\n                        .build();\r\n\r\n                okHttpClient.newCall(request).enqueue(new Callback() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Log.i(&quot;SERVER_DOWN&quot;, &quot;The sever is down: &quot; + e.getMessage());\r\n                                Toast.makeText(Record.this, &quot;server down&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n                    @Override\r\n                    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                int responseCode = response.code();\r\n                                String responseMessage = response.message();\r\n                                Log.i(&quot;RESPONSE&quot;, &quot;Response code: &quot; + responseCode + &quot; Message: &quot; + responseMessage);\r\n                                if (response.isSuccessful()) {\r\n                                    Toast.makeText(Record.this, &quot;Connected to server successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                                } else {\r\n                                    Toast.makeText(Record.this, &quot;Not able to connect to server.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI don&#39;t seem to be accessing the file correctly using the File class. The IOException that I am getting in the onFailure of the okHttpClient call is:\r\n\r\n```\r\n/2131689473: open failed: ENOENT (No such file or directory)\r\n```\r\n\r\nThese are the permissions that I have in my Androidmanifest.xml\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.hardware.CAMERA&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n","title":"How to upload .mp4 to server in Android Studio","body":"<p>How do you upload a video (.mp4) file in the raw folder to a server on a button click in java android studio with minSdk 29.</p>\n<p>Any help with this would be much appreciated.</p>\n<p>This is what I have tried:</p>\n<pre><code>private void configureUploadButton() {\n        uploadButton = findViewById(R.id.uploadButton);\n        uploadButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                // creating a client\n                OkHttpClient okHttpClient = new OkHttpClient();\n\n                int videoResourceId = getResources().getIdentifier(&quot;name_of_video&quot;, &quot;raw&quot;, getPackageName());\n                Uri fileUri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + videoResourceId);\n                Log.i(&quot;URI&quot;, &quot;File URI: &quot; + fileUri);\n\n                File videoFile = new File(fileUri.getPath());\n                Log.i(&quot;FILE_TAG&quot;, &quot;File: &quot; + videoFile + &quot; Path: &quot; + videoFile.getPath());\n\n                RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;video/mp4&quot;), videoFile);\n                MultipartBody multipartBody = new MultipartBody.Builder()\n                        .setType(MultipartBody.FORM)\n                        .addFormDataPart(&quot;video&quot;, videoFile.getName(), requestBody)\n                        .build();\n\n                Request request = new Request.Builder()\n                        .url(&quot;http://10.0.2.2:5000/upload_video&quot;)\n                        .post(multipartBody)\n                        .build();\n\n                okHttpClient.newCall(request).enqueue(new Callback() {\n                    @Override\n                    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                Log.i(&quot;SERVER_DOWN&quot;, &quot;The sever is down: &quot; + e.getMessage());\n                                Toast.makeText(Record.this, &quot;server down&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                    @Override\n                    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                int responseCode = response.code();\n                                String responseMessage = response.message();\n                                Log.i(&quot;RESPONSE&quot;, &quot;Response code: &quot; + responseCode + &quot; Message: &quot; + responseMessage);\n                                if (response.isSuccessful()) {\n                                    Toast.makeText(Record.this, &quot;Connected to server successfully.&quot;, Toast.LENGTH_SHORT).show();\n                                } else {\n                                    Toast.makeText(Record.this, &quot;Not able to connect to server.&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    }\n</code></pre>\n<p>I don't seem to be accessing the file correctly using the File class. The IOException that I am getting in the onFailure of the okHttpClient call is:</p>\n<pre><code>/2131689473: open failed: ENOENT (No such file or directory)\n</code></pre>\n<p>These are the permissions that I have in my Androidmanifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.hardware.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18448797,"reputation":1,"user_id":13439429,"display_name":"Vidya"},"score":0,"creation_date":1676271611,"post_id":75319218,"comment_id":133096404,"body_markdown":"Can anyone reply on above question please?","body":"Can anyone reply on above question please?"}],"owner":{"account_id":18448797,"reputation":1,"user_id":13439429,"display_name":"Vidya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675317565,"creation_date":1675317565,"question_id":75319218,"body_markdown":"what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2 I needs to migrate whole itext5.5 to itext7.2 due to vulnerability issues also I want to know about Rectangle.Box argument to a method as int Box formal argument how to replace it.\r\n\r\nI have tried to pass as Border.Solid but its not working.Please suggest an alternative to replace this Rectangle.BOX in itext7.2.2 version.","title":"what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2","body":"<p>what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2 I needs to migrate whole itext5.5 to itext7.2 due to vulnerability issues also I want to know about Rectangle.Box argument to a method as int Box formal argument how to replace it.</p>\n<p>I have tried to pass as Border.Solid but its not working.Please suggest an alternative to replace this Rectangle.BOX in itext7.2.2 version.</p>\n"},{"tags":["java","eclipse","java-7","okhttp","java-time"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1612545842,"post_id":66067782,"comment_id":116809463,"body_markdown":"The *java.time* API is only available in JAVA8+","body":"The <i>java.time</i> API is only available in JAVA8+"},{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1612545934,"post_id":66067782,"comment_id":116809503,"body_markdown":"@Jens And indeed I don&#39;t use that package. It&#39;s only implicitly referenced by OkHttpClient, so Eclipse shows an error. Is there a way to prevent that error?","body":"@Jens And indeed I don&#39;t use that package. It&#39;s only implicitly referenced by OkHttpClient, so Eclipse shows an error. Is there a way to prevent that error?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1612546040,"post_id":66067782,"comment_id":116809557,"body_markdown":"Use an older version of the library which reference the *java.time* API or the better solution is to use an actual version of java. Java7 is outdated since many years","body":"Use an older version of the library which reference the <i>java.time</i> API or the better solution is to use an actual version of java. Java7 is outdated since many years"},{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1612546347,"post_id":66067782,"comment_id":116809676,"body_markdown":"@Jens 1. It&#39;s an Eclipse problem, not of the library, because when I compile my project the compiler does not throw any error, even if the library implicitly references `java.time` package. 2. I can&#39;t upgrade to newer Java version.","body":"@Jens 1. It&#39;s an Eclipse problem, not of the library, because when I compile my project the compiler does not throw any error, even if the library implicitly references <code>java.time</code> package. 2. I can&#39;t upgrade to newer Java version."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1612547139,"post_id":66067782,"comment_id":116809980,"body_markdown":"Look at the Build Path in the Project Properties and check that it really is using the version of the libs which don&#39;t use java.time. Eclipse is just reporting problems caused by the build path libraries.","body":"Look at the Build Path in the Project Properties and check that it really is using the version of the libs which don&#39;t use java.time. Eclipse is just reporting problems caused by the build path libraries."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1612547659,"post_id":66067782,"comment_id":116810185,"body_markdown":"If you&#39;re stuck with Java 7 (for now), use the [**ThreeTen-Backport**](https://www.threeten.org/threetenbp/).","body":"If you&#39;re stuck with Java 7 (for now), use the <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b>ThreeTen-Backport</b></a>."},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1612549549,"post_id":66067782,"comment_id":116810844,"body_markdown":"OkHttp has these in the API, but assumes it&#39;s safe if you don&#39;t call them. If it&#39;s working fine outside eclipse, then you should raise a bug with Eclipse.","body":"OkHttp has these in the API, but assumes it&#39;s safe if you don&#39;t call them. If it&#39;s working fine outside eclipse, then you should raise a bug with Eclipse."}],"answers":[{"comments":[{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1612805336,"post_id":66068685,"comment_id":116875841,"body_markdown":"Thank you for your answer. I have checked the compiler compliace settings as you suggested, but they are fine (code is compiled for Java 1.7). I have also tried to import the ThreeTen-Backport&#39;s JAR in my project, but the error is still present. So I think I should switch to another HTTP client which does not have these problems for Java 7...","body":"Thank you for your answer. I have checked the compiler compliace settings as you suggested, but they are fine (code is compiled for Java 1.7). I have also tried to import the ThreeTen-Backport&#39;s JAR in my project, but the error is still present. So I think I should switch to another HTTP client which does not have these problems for Java 7..."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612550077,"creation_date":1612549776,"answer_id":66068685,"question_id":66067782,"body_markdown":"The *java.time* classes are built into to Java 8 and later. You are deploying your app to Java 7. That version of Java lacks the `java.time.Duration` class invoked by your code calling a library.\r\n\r\nYou claim that library supports Java 7. If that is true, the library must have a switch to avoid using classes not available in Java 7.\r\n\r\nYou have improperly configured your IDE to allow programming in a later version of than the version on which you deploy. That is a problem you should fix. If deploying on Java 7, then compile for Java 7. See Question, [*how do I get eclipse to use a different compiler version for Java?*](https://stackoverflow.com/q/2540548/642706).\r\n\r\nOf course, the best solution is to migrate to a modern version of Java. [Java 7 reached end-of-life in 2015-04](https://www.java.com/en/download/help/java_7.html). I highly recommend moving to a long-term support (LTS) version. Currently that would be Java 8 and Java 11.\r\n\r\nIf it were your own code using the *java.time* classes, I would suggest adding the *ThreeTen-Backport* library to your project. That library provides most of the *java.time* functionality with nearly identical API for use with Java 6 and Java 7. But I am guessing that would not satisfy your library in question, though you might want to verify.","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>The <em>java.time</em> classes are built into to Java 8 and later. You are deploying your app to Java 7. That version of Java lacks the <code>java.time.Duration</code> class invoked by your code calling a library.</p>\n<p>You claim that library supports Java 7. If that is true, the library must have a switch to avoid using classes not available in Java 7.</p>\n<p>You have improperly configured your IDE to allow programming in a later version of than the version on which you deploy. That is a problem you should fix. If deploying on Java 7, then compile for Java 7. See Question, <a href=\"https://stackoverflow.com/q/2540548/642706\"><em>how do I get eclipse to use a different compiler version for Java?</em></a>.</p>\n<p>Of course, the best solution is to migrate to a modern version of Java. <a href=\"https://www.java.com/en/download/help/java_7.html\" rel=\"nofollow noreferrer\">Java 7 reached end-of-life in 2015-04</a>. I highly recommend moving to a long-term support (LTS) version. Currently that would be Java 8 and Java 11.</p>\n<p>If it were your own code using the <em>java.time</em> classes, I would suggest adding the <em>ThreeTen-Backport</em> library to your project. That library provides most of the <em>java.time</em> functionality with nearly identical API for use with Java 6 and Java 7. But I am guessing that would not satisfy your library in question, though you might want to verify.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675602207,"post_id":75319185,"comment_id":132960548,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75319185/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27682091,"reputation":1,"user_id":21130623,"display_name":"Dipak Lokhande"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675317331,"creation_date":1675317331,"answer_id":75319185,"question_id":66067782,"body_markdown":"Same issue I was facing, Changing the version of selenium in pom.xml worked for me. Changed version from 4.1.0 to 3.141.59\r\n","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>Same issue I was facing, Changing the version of selenium in pom.xml worked for me. Changed version from 4.1.0 to 3.141.59</p>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3524,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1675317331,"creation_date":1612545767,"question_id":66067782,"body_markdown":"I&#39;m developing for a project which is compiled for Java 7.\r\n\r\nIn this project I use OkHttpClient v3.12.13, which is compatible for Java 7 (as stated [here][1]). However these lines produces an error in the Eclipse editor:\r\n``` lang-java\r\nprivate static final OkHttpClient GLOBAL_OK_HTTP_CLIENT = new OkHttpClient.Builder()\r\n\t.readTimeout(10, TimeUnit.SECONDS)\r\n\t.build();\r\n```\r\n\r\nThe error is this:\r\n``` lang-none\r\nThe type java.time.Duration cannot be resolved. It is indirectly referenced from required .class files\r\n```\r\n\r\nThis error is only shown by the editor. Indeed, when I compile my project using CLI (outside Eclipse) I don&#39;t get any error for that implicit reference to the `java.time` package.\r\n\r\nI&#39;m aware that in Java 7 there is no `java.time` package. Indeed, I&#39;m not using it in my code, it&#39;s just implicitly referenced by the OkHttp library (as the error message says).\r\n\r\nIs there a way to fix this error on Eclipse?\r\n\r\nThis is how I configured compiler compliance on Eclipse:\r\n\r\n[![Eclipse compiler compliance][2]][2]\r\n\r\nNote that I can&#39;t upgrade to newer Java versions.\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/#requirements\r\n  [2]: https://i.stack.imgur.com/jsv62.png","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>I'm developing for a project which is compiled for Java 7.</p>\n<p>In this project I use OkHttpClient v3.12.13, which is compatible for Java 7 (as stated <a href=\"https://square.github.io/okhttp/#requirements\" rel=\"nofollow noreferrer\">here</a>). However these lines produces an error in the Eclipse editor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final OkHttpClient GLOBAL_OK_HTTP_CLIENT = new OkHttpClient.Builder()\n    .readTimeout(10, TimeUnit.SECONDS)\n    .build();\n</code></pre>\n<p>The error is this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The type java.time.Duration cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n<p>This error is only shown by the editor. Indeed, when I compile my project using CLI (outside Eclipse) I don't get any error for that implicit reference to the <code>java.time</code> package.</p>\n<p>I'm aware that in Java 7 there is no <code>java.time</code> package. Indeed, I'm not using it in my code, it's just implicitly referenced by the OkHttp library (as the error message says).</p>\n<p>Is there a way to fix this error on Eclipse?</p>\n<p>This is how I configured compiler compliance on Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/jsv62.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jsv62.png\" alt=\"Eclipse compiler compliance\" /></a></p>\n<p>Note that I can't upgrade to newer Java versions.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1675315839,"post_id":75319022,"comment_id":132903574,"body_markdown":"What do you expect `%2n` to do?","body":"What do you expect <code>%2n</code> to do?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1675315906,"post_id":75319022,"comment_id":132903586,"body_markdown":"Try `%2d`. `%n` is newline. Not iNteger. Also, `System.out.printf` is a thing you might use. `for (int i = 1; i &lt; 11; i++) { System.out.printf(&quot;%2d * %2d = %2d%n&quot;, 5, i, 5 * i); }`","body":"Try <code>%2d</code>. <code>%n</code> is newline. Not iNteger. Also, <code>System.out.printf</code> is a thing you might use. <code>for (int i = 1; i &lt; 11; i++) { System.out.printf(&quot;%2d * %2d = %2d%n&quot;, 5, i, 5 * i); }</code>"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1675316040,"post_id":75319022,"comment_id":132903602,"body_markdown":"`&quot;%2n&quot;` -&gt; `&quot;%2d&quot;`","body":"<code>&quot;%2n&quot;</code> -&gt; <code>&quot;%2d&quot;</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675316333,"post_id":75319022,"comment_id":132903645,"body_markdown":"*&quot;to right align by 2 space&quot;* - That&#39;s not what the javadocs for `Formatter` says will happen: https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax","body":"<i>&quot;to right align by 2 space&quot;</i> - That&#39;s not what the javadocs for <code>Formatter</code> says will happen: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675316453,"post_id":75319022,"comment_id":132903670,"body_markdown":"@NIKUNJKOTHIYA - We know.  But you don&#39;t mention the javadoc in your answer ... or attempt to *explain* what was wrong with the OP&#39;s version.   And ... did you **really** have to post a link to an image?  See [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551).  The information could easily be conveyed without a pesky image ... which renders with ridiculously tiny writing in my browser.","body":"@NIKUNJKOTHIYA - We know.  But you don&#39;t mention the javadoc in your answer ... or attempt to <i>explain</i> what was wrong with the OP&#39;s version.   And ... did you <b>really</b> have to post a link to an image?  See <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>.  The information could easily be conveyed without a pesky image ... which renders with ridiculously tiny writing in my browser."},{"owner":{"account_id":20275485,"reputation":2051,"user_id":14870617,"display_name":"NIKUNJ PATEL"},"score":0,"creation_date":1675316970,"post_id":75319022,"comment_id":132903768,"body_markdown":"@StephenC  Thanks for your comments. I have edited my answer as per your comment.","body":"@StephenC  Thanks for your comments. I have edited my answer as per your comment."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675317150,"post_id":75319022,"comment_id":132903798,"body_markdown":"Ahem ... you *half* addressed *one* of the three things I commented about :-)","body":"Ahem ... you <i>half</i> addressed <i>one</i> of the three things I commented about :-)"}],"answers":[{"tags":[],"owner":{"account_id":20275485,"reputation":2051,"user_id":14870617,"display_name":"NIKUNJ PATEL"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1675316902,"creation_date":1675316073,"answer_id":75319059,"question_id":75319022,"body_markdown":" \r\n\r\n&gt; To format an integer to a width of 2, you should use &quot;d&quot; instead of\r\n&gt; &quot;n&quot;.\r\n\r\nYou need to change system.out print line of code from  \r\n\r\n    System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \r\n\r\n**To**\r\n\r\n    System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\r\n\r\nYour final code will be :\r\n\r\n    public class MultiplicationTable {\r\n        public static void main(String[] args) {\r\n            for (int i = 1; i &lt; 11; i++) {\r\n                System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\r\n            }\r\n        }\r\n    }\r\n\r\nResult : \r\n\r\n    5 *  1 = 55 *  2 = 10\r\n     5 *  3 = 15\r\n     5 *  4 = 20\r\n     5 *  5 = 255 *  6 = 30\r\n     5 *  7 = 35\r\n    5 *  8 = 40\r\n     5 *  9 = 45\r\n    5 * 10 = 50\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G3Bzu.png","title":"Aligning in java","body":"<blockquote>\n<p>To format an integer to a width of 2, you should use &quot;d&quot; instead of\n&quot;n&quot;.</p>\n</blockquote>\n<p>You need to change system.out print line of code from</p>\n<pre><code>System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \n</code></pre>\n<p><strong>To</strong></p>\n<pre><code>System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\n</code></pre>\n<p>Your final code will be :</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\n        }\n    }\n}\n</code></pre>\n<p>Result :</p>\n<pre><code>5 *  1 = 55 *  2 = 10\n 5 *  3 = 15\n 5 *  4 = 20\n 5 *  5 = 255 *  6 = 30\n 5 *  7 = 35\n5 *  8 = 40\n 5 *  9 = 45\n5 * 10 = 50\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G3Bzu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3Bzu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17464762,"reputation":21,"user_id":12661733,"display_name":"54ND339"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675316101,"creation_date":1675316101,"answer_id":75319063,"question_id":75319022,"body_markdown":"In the original code, String.format(&quot;%2n&quot;, i) is not a valid format specifier. The %n format specifier is used to insert a newline character, not to format a number. To format a number with a specific width, you should use %2d instead, where 2 is the width.\r\n\r\n```\r\npublic class MultiplicationTable {\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 11; i++) {\r\n            System.out.println(String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this code, `String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i)` creates a formatted string where `%2d` is used to format the two integer values `i` and `5*i` with a width of 2 characters.","title":"Aligning in java","body":"<p>In the original code, String.format(&quot;%2n&quot;, i) is not a valid format specifier. The %n format specifier is used to insert a newline character, not to format a number. To format a number with a specific width, you should use %2d instead, where 2 is the width.</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i));\n        }\n    }\n}\n</code></pre>\n<p>In this code, <code>String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i)</code> creates a formatted string where <code>%2d</code> is used to format the two integer values <code>i</code> and <code>5*i</code> with a width of 2 characters.</p>\n"}],"owner":{"account_id":27017499,"reputation":3,"user_id":20576062,"display_name":"Programmer up here"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75319059,"answer_count":2,"score":0,"last_activity_date":1675316902,"creation_date":1675315736,"question_id":75319022,"body_markdown":"I am trying to print the multiplication table using java 19.0.2, using the following code:\r\n\r\n```\r\npublic class MultiplicationTable {\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 11; i++) {\r\n            System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd I get this error output:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.IllegalFormatWidthException: 2\r\n        at java.base/java.util.Formatter$FormatSpecifier.checkText(Formatter.java:3313)\r\n        at java.base/java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2996)\r\n        at java.base/java.util.Formatter.parse(Formatter.java:2839)\r\n        at java.base/java.util.Formatter.format(Formatter.java:2763)\r\n        at java.base/java.util.Formatter.format(Formatter.java:2717)\r\n        at java.base/java.lang.String.format(String.java:4150)\r\n        at HelloWorld.main(HelloWorld.java:4)\r\n```\r\n\r\nCan someone help?\r\n","title":"Aligning in java","body":"<p>I am trying to print the multiplication table using java 19.0.2, using the following code:</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \n        }\n    }\n}\n</code></pre>\n<p>And I get this error output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.IllegalFormatWidthException: 2\n        at java.base/java.util.Formatter$FormatSpecifier.checkText(Formatter.java:3313)\n        at java.base/java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2996)\n        at java.base/java.util.Formatter.parse(Formatter.java:2839)\n        at java.base/java.util.Formatter.format(Formatter.java:2763)\n        at java.base/java.util.Formatter.format(Formatter.java:2717)\n        at java.base/java.lang.String.format(String.java:4150)\n        at HelloWorld.main(HelloWorld.java:4)\n</code></pre>\n<p>Can someone help?</p>\n"},{"tags":["java","spring","firefox","vaadin"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1675263422,"post_id":75312042,"comment_id":132891159,"body_markdown":"A refresh should be noticable since it&#39;s a new request to your webapp. But you won&#39;t be able to distinguish if it&#39;s an actual refresh or some other request with the same url. You cannot detect the other two events unless the browser specifically tells you about it, which it doesn&#39;t.","body":"A refresh should be noticable since it&#39;s a new request to your webapp. But you won&#39;t be able to distinguish if it&#39;s an actual refresh or some other request with the same url. You cannot detect the other two events unless the browser specifically tells you about it, which it doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675316714,"creation_date":1675316714,"answer_id":75319117,"question_id":75312042,"body_markdown":"There cannot be any guarantee about definitely detecting closing a tab or the browser since they might happen while the user is offline. This means that you shouldn&#39;t design your application in a way that relies on that. What you can rely on is that the session will be expired if there is no activity from the user in a given duration.\r\n\r\nYou can detect refreshes by enabling the preserve on refresh feature and overriding the `refresh` method in your `UI` class since it will be run by the framework when a refresh occurs.","title":"How to detect refresh, tab closing, webrowser closing. Vaadin 6, Java 8, Sping, Must work on Firefox","body":"<p>There cannot be any guarantee about definitely detecting closing a tab or the browser since they might happen while the user is offline. This means that you shouldn't design your application in a way that relies on that. What you can rely on is that the session will be expired if there is no activity from the user in a given duration.</p>\n<p>You can detect refreshes by enabling the preserve on refresh feature and overriding the <code>refresh</code> method in your <code>UI</code> class since it will be run by the framework when a refresh occurs.</p>\n"}],"owner":{"account_id":23011123,"reputation":11,"user_id":17133653,"display_name":"Dar Gbu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1675316714,"creation_date":1675263231,"question_id":75312042,"body_markdown":"Hi How to detect refresh, tab closing, webrowser closing in Firefox? Im using Java 8, Spring na Vaadin 6 libraries for now. Javscript solution mentioned many times on this portal dont work in my case.\r\n\r\nRegards","title":"How to detect refresh, tab closing, webrowser closing. Vaadin 6, Java 8, Sping, Must work on Firefox","body":"<p>Hi How to detect refresh, tab closing, webrowser closing in Firefox? Im using Java 8, Spring na Vaadin 6 libraries for now. Javscript solution mentioned many times on this portal dont work in my case.</p>\n<p>Regards</p>\n"},{"tags":["java","json","java-8","qjsonobject"],"comments":[{"owner":{"account_id":1189982,"reputation":671,"user_id":2515377,"accept_rate":78,"display_name":"Kenpachi"},"score":1,"creation_date":1675321723,"post_id":75319070,"comment_id":132904658,"body_markdown":"Please try working this out by yourself, and add more details about what are the things that you tried. StackOverflow isn&#39;t really the platform to ask &quot;Solve this problem for me&quot; kind of questions. Trying to solve it by yourself would be helpful in you understanding the solution as well, and help you to be a better software developer.","body":"Please try working this out by yourself, and add more details about what are the things that you tried. StackOverflow isn&#39;t really the platform to ask &quot;Solve this problem for me&quot; kind of questions. Trying to solve it by yourself would be helpful in you understanding the solution as well, and help you to be a better software developer."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1675328273,"post_id":75319070,"comment_id":132906205,"body_markdown":"Library _Josson &amp; Jossons_ has JSON datasets join and transformation operations and is capable to do you request by simple expressions. I&#39;m the author of the library. If you want to try, I can post the solution.","body":"Library <i>Josson &amp; Jossons</i> has JSON datasets join and transformation operations and is capable to do you request by simple expressions. I&#39;m the author of the library. If you want to try, I can post the solution."}],"owner":{"account_id":24983750,"reputation":13,"user_id":18845760,"display_name":"Sucheta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675316176,"creation_date":1675316176,"question_id":75319070,"body_markdown":"I want to join two json objects on the basis of their ids.\r\n\r\n    List&lt;JsonObject&gt; result1 = getRecordsFromDB1();\r\n    List&lt;JsonObject&gt; result2 = getRecordsFromDB2();\r\n    \r\n    result1 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB1_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB1_COUNT&quot;:&quot;20&quot;}}];\r\n    \r\n    result2 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB2_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB2_COUNT&quot;:&quot;40&quot;}}];\r\n\r\nI want to calculate the difference between the count for each table in both the databases.\r\n\r\nI want two lists success and reject in the following format where I can have the table name from both the database alsong with a property DIFF_COUNT which is the difference between DB2_COUNT-DB1_COUNT. If difference in count is 0 than success else reject.\r\n\r\n    List&lt;JsonObject&gt; success = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,DB2_TABLE_NAME:&quot;Table1&quot;,&quot;DIFF_COUNT&quot;:0}]\r\n    \r\n    List&lt;JsonObject&gt; reject = [{&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,DB2_TABLE_NAME:&quot;Table2&quot;,&quot;DIFF_COUNT&quot;:20}]\r\n\r\n","title":"Inner Join Two List of Json Objects in Java","body":"<p>I want to join two json objects on the basis of their ids.</p>\n<pre><code>List&lt;JsonObject&gt; result1 = getRecordsFromDB1();\nList&lt;JsonObject&gt; result2 = getRecordsFromDB2();\n\nresult1 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB1_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB1_COUNT&quot;:&quot;20&quot;}}];\n\nresult2 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB2_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB2_COUNT&quot;:&quot;40&quot;}}];\n</code></pre>\n<p>I want to calculate the difference between the count for each table in both the databases.</p>\n<p>I want two lists success and reject in the following format where I can have the table name from both the database alsong with a property DIFF_COUNT which is the difference between DB2_COUNT-DB1_COUNT. If difference in count is 0 than success else reject.</p>\n<pre><code>List&lt;JsonObject&gt; success = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,DB2_TABLE_NAME:&quot;Table1&quot;,&quot;DIFF_COUNT&quot;:0}]\n\nList&lt;JsonObject&gt; reject = [{&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,DB2_TABLE_NAME:&quot;Table2&quot;,&quot;DIFF_COUNT&quot;:20}]\n</code></pre>\n"},{"tags":["java","eclipse","for-loop","visual-studio-code","java.util.scanner"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675315675,"post_id":75318979,"comment_id":132903547,"body_markdown":"No: you haven&#39;t created `g` yet. Presumably `g` is supposed to be a two dimensional int array, but you have no code anywhere that declares it as such before you start using it.","body":"No: you haven&#39;t created <code>g</code> yet. Presumably <code>g</code> is supposed to be a two dimensional int array, but you have no code anywhere that declares it as such before you start using it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1675315723,"post_id":75318979,"comment_id":132903556,"body_markdown":"What exactly do you think `int g[j][j]` does?","body":"What exactly do you think <code>int g[j][j]</code> does?"},{"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"score":0,"creation_date":1675315930,"post_id":75318979,"comment_id":132903588,"body_markdown":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both ? I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt(); @Mike&#39;Pomax&#39;Kamermans","body":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both ? I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt(); @Mike&#39;Pomax&#39;Kamermans"},{"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"score":0,"creation_date":1675316364,"post_id":75318979,"comment_id":132903650,"body_markdown":"It&#39;s supposed to be int g[j][k] sorry. @tgdavies","body":"It&#39;s supposed to be int g[j][k] sorry. @tgdavies"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675316625,"post_id":75318979,"comment_id":132903700,"body_markdown":"No, it does not. Clearly your `g` is a 2d int array, so even if this worked (which is doesn&#39;t =) it&#39;s definitely not an `int`.","body":"No, it does not. Clearly your <code>g</code> is a 2d int array, so even if this worked (which is doesn&#39;t =) it&#39;s definitely not an <code>int</code>."}],"answers":[{"comments":[{"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"score":0,"creation_date":1675316107,"post_id":75319045,"comment_id":132903614,"body_markdown":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both in the for loop ? Is there any way to initialise with size directly in the for loop. I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt();","body":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both in the for loop ? Is there any way to initialise with size directly in the for loop. I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt();"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1675316524,"post_id":75319045,"comment_id":132903685,"body_markdown":"it&#39;s not declaring, it is only assigning. you can declare a variable in the loop for sure, but it&#39;s scope is only within the loop, you cannot use is outside. and you cannot declare a specific index of the array, you need to whole array, which does not make sense to declare inside the loop","body":"it&#39;s not declaring, it is only assigning. you can declare a variable in the loop for sure, but it&#39;s scope is only within the loop, you cannot use is outside. and you cannot declare a specific index of the array, you need to whole array, which does not make sense to declare inside the loop"}],"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675315950,"creation_date":1675315950,"answer_id":75319045,"question_id":75318979,"body_markdown":"this is most likely what you want to achieve:\r\n```java\r\n        int g[][] = new int[n][n];\r\n\r\n        for (int j = 0; j &lt; n; j++) {\r\n            for (int k = 0; k &lt; n; k++) {\r\n                g[j][k] = sc.nextInt();\r\n            }\r\n        }\r\n```\r\nYou have to initialize the array with a specific size, only then you can assign values at a given indexes.\r\n","title":"g cannot be resolved to a variable","body":"<p>this is most likely what you want to achieve:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        int g[][] = new int[n][n];\n\n        for (int j = 0; j &lt; n; j++) {\n            for (int k = 0; k &lt; n; k++) {\n                g[j][k] = sc.nextInt();\n            }\n        }\n</code></pre>\n<p>You have to initialize the array with a specific size, only then you can assign values at a given indexes.</p>\n"}],"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75319045,"answer_count":1,"score":-1,"last_activity_date":1675315950,"creation_date":1675315327,"question_id":75318979,"body_markdown":"g cannot be resolved to a variable is the error popping up. I&#39;ve initialised g in the for loop, so why this error ? I&#39;m a beginner, so can anybody explain in as many simple and understandable words as possible. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Bellman {\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tScanner sc = new Scanner(System.in);\r\n    \t\r\n    \tSystem.out.println(&quot;Enter the number of nodes&quot;);\r\n    \tint n = sc.nextInt();\r\n    \t\r\n    \tSystem.out.println(&quot;Enter the cost matrix&quot;);\r\n    \t\r\n    \tfor (int j = 0; j&lt;n; j++) {\r\n    \t\tfor (int k = 0; k&lt;n; k++) {\r\n    \t\t\tint g[j][j] = sc.nextInt();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    }\r\n\r\ng cannot be resolved to a variable. I&#39;ve initialised g in the for loop, so why this error ?","title":"g cannot be resolved to a variable","body":"<p>g cannot be resolved to a variable is the error popping up. I've initialised g in the for loop, so why this error ? I'm a beginner, so can anybody explain in as many simple and understandable words as possible.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Bellman {\npublic static void main(String[] args) {\n    \n    Scanner sc = new Scanner(System.in);\n    \n    System.out.println(&quot;Enter the number of nodes&quot;);\n    int n = sc.nextInt();\n    \n    System.out.println(&quot;Enter the cost matrix&quot;);\n    \n    for (int j = 0; j&lt;n; j++) {\n        for (int k = 0; k&lt;n; k++) {\n            int g[j][j] = sc.nextInt();\n        }\n    }\n    \n    \n\n}\n}\n</code></pre>\n<p>g cannot be resolved to a variable. I've initialised g in the for loop, so why this error ?</p>\n"},{"tags":["java","spring-boot","annotations","spring-aop","spring-annotations"],"owner":{"account_id":14547338,"reputation":9,"user_id":10507239,"display_name":"mHasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675335762,"answer_count":0,"score":0,"last_activity_date":1675315340,"creation_date":1675315247,"question_id":75318963,"body_markdown":"We have two custom annotations, @MerchantActivity and @Authorised. We want to execute the aspect of the @Authorised first and then the second one. But our system is automatically executing the aspect of @MerchantActivity first. How can we define execution sequence by ourselves?\r\n\r\n\r\n\r\n```\r\n@PostMapping(&quot;/{merchantId}/stores&quot;)\r\n@Authorised\r\n@MerchantActivity(title = &quot;add-store&quot;)\r\npublic ResponseEntity&lt;?&gt; addStore(@PathVariable(&quot;merchantId&quot;) String merchantId, @Valid @RequestBody StoreB store) \r\n{\r\n\tList&lt;StoreB&gt; res = merchantService.addStore(merchantId, store);\r\n\treturn ApiResponse.ok(res);\r\n}\r\n```","title":"How to define action sequence of multiple custom annotations on a single method signature on Spring Boot","body":"<p>We have two custom annotations, @MerchantActivity and @Authorised. We want to execute the aspect of the @Authorised first and then the second one. But our system is automatically executing the aspect of @MerchantActivity first. How can we define execution sequence by ourselves?</p>\n<pre><code>@PostMapping(&quot;/{merchantId}/stores&quot;)\n@Authorised\n@MerchantActivity(title = &quot;add-store&quot;)\npublic ResponseEntity&lt;?&gt; addStore(@PathVariable(&quot;merchantId&quot;) String merchantId, @Valid @RequestBody StoreB store) \n{\n    List&lt;StoreB&gt; res = merchantService.addStore(merchantId, store);\n    return ApiResponse.ok(res);\n}\n</code></pre>\n"},{"tags":["java","css","web-applications","vaadin"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1675321156,"post_id":75316483,"comment_id":132904533,"body_markdown":"Sidenote: Vaadin 19 is no longer maintained, the maintained branch is Vaadin 23, so I would consider upgrading to it.","body":"Sidenote: Vaadin 19 is no longer maintained, the maintained branch is Vaadin 23, so I would consider upgrading to it."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1675321374,"post_id":75316483,"comment_id":132904584,"body_markdown":"Does this answer your question? [How to style grid cells in vaadin](https://stackoverflow.com/questions/74452065/how-to-style-grid-cells-in-vaadin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74452065/how-to-style-grid-cells-in-vaadin\">How to style grid cells in vaadin</a>"}],"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675314931,"creation_date":1675287619,"question_id":75316483,"body_markdown":"Ellipsis added end of long string in vaadin&#39;s gridPro\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to add ellipsis end of long texts which are longer than vaadin&#39;s gridPro cells. I am using vaadin 19.8.4 version. I am newbie with css and vaadin.\r\n\r\nI have created css file and tried to use it with `setId()` after `grid.addColumn()`  but none of them worked.\r\n\r\nI have use chatGpt and it suggest me a lot of ways but none of them too did not worked.\r\n\r\nSome of these solutions only changed appearance of column&#39;s name, not content. \r\n\r\nI&#39;ve also tried `` and `setCellStyleGenerator()` methods but my vaadin didn&#39;t recognize these methods.\r\n\r\n\r\nI have tried  below code snippets separately:\r\n\r\n\t\tgrid.addColumn().setFlexGrow(1).getElement()\r\n\t\t\t\t.getStyle()\r\n\t\t\t\t.set(&quot;max-width&quot;, &quot;100px&quot;)\r\n\t\t\t\t.set(&quot;overflow&quot;, &quot;hidden&quot;)\r\n\t\t\t\t.set(&quot;text-overflow&quot;, &quot;ellipsis&quot;)\r\n\t\t\t\t.set(&quot;white-space&quot;, &quot;nowrap&quot;);\r\n\r\n\r\n\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;max-width&#39;, &#39;100px&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;text-overflow&#39;, &#39;ellipsis&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;white-space&#39;, &#39;nowrap&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());    \r\n\r\n    .setStyleGenerator()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/juCT7.png","title":"How to add ellipsis end of long text in vaadin&#39;s gridPro cell?","body":"<p>Ellipsis added end of long string in vaadin's gridPro</p>\n<p><a href=\"https://i.stack.imgur.com/juCT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/juCT7.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to add ellipsis end of long texts which are longer than vaadin's gridPro cells. I am using vaadin 19.8.4 version. I am newbie with css and vaadin.</p>\n<p>I have created css file and tried to use it with <code>setId()</code> after <code>grid.addColumn()</code>  but none of them worked.</p>\n<p>I have use chatGpt and it suggest me a lot of ways but none of them too did not worked.</p>\n<p>Some of these solutions only changed appearance of column's name, not content.</p>\n<p>I've also tried `` and <code>setCellStyleGenerator()</code> methods but my vaadin didn't recognize these methods.</p>\n<p>I have tried  below code snippets separately:</p>\n<pre><code>    grid.addColumn().setFlexGrow(1).getElement()\n            .getStyle()\n            .set(&quot;max-width&quot;, &quot;100px&quot;)\n            .set(&quot;overflow&quot;, &quot;hidden&quot;)\n            .set(&quot;text-overflow&quot;, &quot;ellipsis&quot;)\n            .set(&quot;white-space&quot;, &quot;nowrap&quot;);\n\n\n\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('max-width', '100px')&quot;,\n            grid.getElement().getNode());\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('text-overflow', 'ellipsis')&quot;,\n            grid.getElement().getNode());\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('white-space', 'nowrap')&quot;,\n            grid.getElement().getNode());    \n\n.setStyleGenerator()\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675314808,"creation_date":1675314808,"answer_id":75318923,"question_id":75318546,"body_markdown":"Before getting the username from the token your need to validate the token \r\n\r\nIn your ``JwtUtil`` class add a method to validate the token\r\n \r\n\r\n     public boolean validateJwtToken(String authToken) {\r\n    \t\ttry {\r\n    \t\t\tJwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(authToken);\r\n    \t\t\treturn true;\r\n    \t\t} catch (SignatureException e) {\r\n    \t\t\tlog.error(&quot;Invalid signature: {}&quot;, e.getMessage());\r\n    \t\t} catch (MalformedJwtException e) {\r\n    \t\t\tlog.error(&quot;Invalid token: {}&quot;, e.getMessage());\r\n    \t\t} catch (ExpiredJwtException e) {\r\n    \t\t\tlog.error(&quot;token is expired: {}&quot;, e.getMessage());\r\n    \t\t} catch (UnsupportedJwtException e) {\r\n    \t\t\tlog.error(&quot;token is unsupported: {}&quot;, e.getMessage());\r\n    \t\t} catch (IllegalArgumentException e) {\r\n    \t\t\tlog.error(&quot;claims string is empty: {}&quot;, e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n\r\n\r\nand inside your ``JWTFilter`` class\r\nchange \r\n\r\n    if (jwt.isBlank()) {\r\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                } \r\nto\r\n  \r\n\r\n     if (jwt.isBlank() &amp;&amp; jwtUtil.validateJwtToken(jwt)) {\r\n                        response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                    } ","title":"Spring Sequrity Invalid JWT AccessDeniedException. Unable to handle the Spring Security Exception because the response is already committed","body":"<p>Before getting the username from the token your need to validate the token</p>\n<p>In your <code>JwtUtil</code> class add a method to validate the token</p>\n<pre><code> public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            log.error(&quot;Invalid signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            log.error(&quot;Invalid token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            log.error(&quot;token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            log.error(&quot;token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            log.error(&quot;claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n</code></pre>\n<p>and inside your <code>JWTFilter</code> class\nchange</p>\n<pre><code>if (jwt.isBlank()) {\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n            } \n</code></pre>\n<p>to</p>\n<pre><code> if (jwt.isBlank() &amp;&amp; jwtUtil.validateJwtToken(jwt)) {\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n                } \n</code></pre>\n"}],"owner":{"account_id":23439099,"reputation":1,"user_id":21129962,"display_name":"Artyom104"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675314808,"creation_date":1675310472,"question_id":75318546,"body_markdown":"When I use Postman and try to send a request to `/main` (or to `/admin`) I get an AccessDeniedException. \r\n\r\nAt the same time, if I send a request to `/auth/login` or `/auth/registration`, then everything will be fine and there will be a `BAD_REQUEST` in the response body (because of `sendError(HttpServletResponse.SC_BAD_REQUEST)`). \r\n\r\nIf there is no header or if it is empty, then everything also works correctly. \r\n\r\nThe error occurs only when the token is not valid and requests are sent to `/main` and `/admin`.\r\n\r\n```\r\n2023-02-02T07:38:42.180+04:00 ERROR 947458 --- [io-10480-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Unable to handle the Spring Security Exception because the response is already committed.] with root cause\r\n\r\nrg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat levit104.springcourse.jwtapp.config.JWTFilter.doFilterInternal(JWTFilter.java:71) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n```java\r\n@Component\r\n@AllArgsConstructor\r\npublic class JWTFilter extends OncePerRequestFilter {\r\n    private final JWTUtil jwtUtil;\r\n    private final PersonDetailsService personDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (Objects.nonNull(authHeader) &amp;&amp; !authHeader.isBlank() &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            String jwt = authHeader.substring(7);\r\n\r\n            if (jwt.isBlank()) {\r\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n            } else {\r\n                try {\r\n                    String username = jwtUtil.validateTokenAndGetClaim(jwt);\r\n\r\n                    UserDetails userDetails = personDetailsService.loadUserByUsername(username);\r\n\r\n                    UsernamePasswordAuthenticationToken authToken =\r\n                            new UsernamePasswordAuthenticationToken(\r\n                                    userDetails, userDetails.getPassword(), userDetails.getAuthorities());\r\n\r\n                    if (Objects.isNull(SecurityContextHolder.getContext().getAuthentication())) {\r\n                        SecurityContextHolder.getContext().setAuthentication(authToken);\r\n                    }\r\n\r\n                } catch (JWTVerificationException exception) {\r\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                    // return;\r\n                    // TODO Temp Fix\r\n                }\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n@Configuration\r\n@AllArgsConstructor\r\npublic class SecurityConfig {\r\n    private final JWTFilter jwtFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/auth/login&quot;, &quot;/auth/registration&quot;, &quot;/error&quot;).permitAll()\r\n                .anyRequest().hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .and()\r\n                .logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/auth/login&quot;)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\r\n        return authConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\n    private static final long EXPIRATION_MINUTES = 60;\r\n    private static final String SUBJECT = &quot;User Details&quot;;\r\n    private static final String ISSUER = &quot;jwt-spring-app&quot;;\r\n    private static final String JWT_SECRET = &quot;JWT-AUTH-SPRING-BACKEND-APP&quot;; //TODO\r\n\r\n    public String generateToken(String username) {\r\n        Instant expirationDate = Instant.from(ZonedDateTime.now().plusMinutes(EXPIRATION_MINUTES));\r\n        return JWT.create()\r\n                .withSubject(SUBJECT)\r\n                .withClaim(&quot;username&quot;, username)\r\n                .withIssuedAt(Instant.now())\r\n                .withIssuer(ISSUER)\r\n                .withExpiresAt(expirationDate)\r\n                .sign(Algorithm.HMAC256(JWT_SECRET));\r\n    }\r\n\r\n    public String validateTokenAndGetClaim(String token) throws JWTVerificationException {\r\n        JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(JWT_SECRET))\r\n                .withSubject(SUBJECT)\r\n                .withIssuer(ISSUER)\r\n                .build();\r\n        DecodedJWT decodedJWT = jwtVerifier.verify(token); // throws JWTVerificationException\r\n        return decodedJWT.getClaim(&quot;username&quot;).asString();\r\n    }\r\n```\r\n\r\nIn addition, if I add `return` to the catch block, the error will no longer occur.","title":"Spring Sequrity Invalid JWT AccessDeniedException. Unable to handle the Spring Security Exception because the response is already committed","body":"<p>When I use Postman and try to send a request to <code>/main</code> (or to <code>/admin</code>) I get an AccessDeniedException.</p>\n<p>At the same time, if I send a request to <code>/auth/login</code> or <code>/auth/registration</code>, then everything will be fine and there will be a <code>BAD_REQUEST</code> in the response body (because of <code>sendError(HttpServletResponse.SC_BAD_REQUEST)</code>).</p>\n<p>If there is no header or if it is empty, then everything also works correctly.</p>\n<p>The error occurs only when the token is not valid and requests are sent to <code>/main</code> and <code>/admin</code>.</p>\n<pre><code>2023-02-02T07:38:42.180+04:00 ERROR 947458 --- [io-10480-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Unable to handle the Spring Security Exception because the response is already committed.] with root cause\n\nrg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at levit104.springcourse.jwtapp.config.JWTFilter.doFilterInternal(JWTFilter.java:71) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@AllArgsConstructor\npublic class JWTFilter extends OncePerRequestFilter {\n    private final JWTUtil jwtUtil;\n    private final PersonDetailsService personDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        String authHeader = request.getHeader(&quot;Authorization&quot;);\n\n        if (Objects.nonNull(authHeader) &amp;&amp; !authHeader.isBlank() &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\n            String jwt = authHeader.substring(7);\n\n            if (jwt.isBlank()) {\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n            } else {\n                try {\n                    String username = jwtUtil.validateTokenAndGetClaim(jwt);\n\n                    UserDetails userDetails = personDetailsService.loadUserByUsername(username);\n\n                    UsernamePasswordAuthenticationToken authToken =\n                            new UsernamePasswordAuthenticationToken(\n                                    userDetails, userDetails.getPassword(), userDetails.getAuthorities());\n\n                    if (Objects.isNull(SecurityContextHolder.getContext().getAuthentication())) {\n                        SecurityContextHolder.getContext().setAuthentication(authToken);\n                    }\n\n                } catch (JWTVerificationException exception) {\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n                    // return;\n                    // TODO Temp Fix\n                }\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableMethodSecurity\n@Configuration\n@AllArgsConstructor\npublic class SecurityConfig {\n    private final JWTFilter jwtFilter;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/auth/login&quot;, &quot;/auth/registration&quot;, &quot;/error&quot;).permitAll()\n                .anyRequest().hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .and()\n                .logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/auth/login&quot;)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\n        return authConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final long EXPIRATION_MINUTES = 60;\n    private static final String SUBJECT = &quot;User Details&quot;;\n    private static final String ISSUER = &quot;jwt-spring-app&quot;;\n    private static final String JWT_SECRET = &quot;JWT-AUTH-SPRING-BACKEND-APP&quot;; //TODO\n\n    public String generateToken(String username) {\n        Instant expirationDate = Instant.from(ZonedDateTime.now().plusMinutes(EXPIRATION_MINUTES));\n        return JWT.create()\n                .withSubject(SUBJECT)\n                .withClaim(&quot;username&quot;, username)\n                .withIssuedAt(Instant.now())\n                .withIssuer(ISSUER)\n                .withExpiresAt(expirationDate)\n                .sign(Algorithm.HMAC256(JWT_SECRET));\n    }\n\n    public String validateTokenAndGetClaim(String token) throws JWTVerificationException {\n        JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(JWT_SECRET))\n                .withSubject(SUBJECT)\n                .withIssuer(ISSUER)\n                .build();\n        DecodedJWT decodedJWT = jwtVerifier.verify(token); // throws JWTVerificationException\n        return decodedJWT.getClaim(&quot;username&quot;).asString();\n    }\n</code></pre>\n<p>In addition, if I add <code>return</code> to the catch block, the error will no longer occur.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1631023149,"post_id":69089252,"comment_id":122108262,"body_markdown":"Can see a similar kind of issue at https://stackoverflow.com/a/53647605/2933389. Can you please look at this answer, if it can help.","body":"Can see a similar kind of issue at <a href=\"https://stackoverflow.com/a/53647605/2933389\">stackoverflow.com/a/53647605/2933389</a>. Can you please look at this answer, if it can help."},{"owner":{"account_id":22681831,"reputation":11,"user_id":16852088,"display_name":"onlu174"},"score":0,"creation_date":1631026203,"post_id":69089252,"comment_id":122109764,"body_markdown":"@ParameshKorrakuti I see how my error looks similar to that in the link, but I don&#39;t know how to relate to it nor how to apply that soluthion to my situation. I do export my module `org.application`. Feel free to say where my thinking is wrong","body":"@ParameshKorrakuti I see how my error looks similar to that in the link, but I don&#39;t know how to relate to it nor how to apply that soluthion to my situation. I do export my module <code>org.application</code>. Feel free to say where my thinking is wrong"},{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1631033300,"post_id":69089252,"comment_id":122112642,"body_markdown":"Hope, this answer help you. https://stackoverflow.com/a/42541096/2933389.","body":"Hope, this answer help you. <a href=\"https://stackoverflow.com/a/42541096/2933389\">stackoverflow.com/a/42541096/2933389</a>."},{"owner":{"account_id":22681831,"reputation":11,"user_id":16852088,"display_name":"onlu174"},"score":0,"creation_date":1631038994,"post_id":69089252,"comment_id":122114640,"body_markdown":"So tell me if I&#39;m thinking correctly - I need to export my module to `ALL-UNNAMED` at a compilation level using a --add-exports command?","body":"So tell me if I&#39;m thinking correctly - I need to export my module to <code>ALL-UNNAMED</code> at a compilation level using a --add-exports command?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1631539419,"post_id":69089252,"comment_id":122241846,"body_markdown":"Try making your module open and export all packages i.e. `open module org.application { exports org.application; }`","body":"Try making your module open and export all packages i.e. <code>open module org.application { exports org.application; }</code>"}],"answers":[{"tags":[],"owner":{"account_id":6309469,"reputation":1068,"user_id":4901496,"display_name":"sobczak.dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675314686,"creation_date":1675314686,"answer_id":75318910,"question_id":69089252,"body_markdown":"From stack trace, I assuming that you are using Java modules and your error is probably related with incorrect modules configuration in your `package-info.java` file.\r\n```\r\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\r\n```\r\nIn module `org.application`, please add in `module-info.java`:\r\n```\r\nrequires org.hibernate.orm.core;\r\n```\r\n\r\n","title":"Error while creating EntityManagerFactory","body":"<p>From stack trace, I assuming that you are using Java modules and your error is probably related with incorrect modules configuration in your <code>package-info.java</code> file.</p>\n<pre><code>Caused by: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\n</code></pre>\n<p>In module <code>org.application</code>, please add in <code>module-info.java</code>:</p>\n<pre><code>requires org.hibernate.orm.core;\n</code></pre>\n"}],"owner":{"account_id":22681831,"reputation":11,"user_id":16852088,"display_name":"onlu174"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675314686,"creation_date":1631021860,"question_id":69089252,"body_markdown":"I&#39;m making a Java application using JavaFX and Hibernate and when creating EntityManagerFactory this error pops out:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\t... 5 more\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: Transport] Unable to build Hibernate SessionFactory\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1495)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1415)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat org.application/org.application.App.&lt;clinit&gt;(App.java:19)\r\n\t... 11 more\r\nCaused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:312)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1410)\r\n\t... 15 more\r\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:432)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:612)\r\n\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:126)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\r\n\t... 20 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\r\n\t... 29 more\r\nCaused by: java.lang.IllegalArgumentException: Could not create type\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:155)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\r\n\tat org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:178)\r\n\tat org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.loadProxy(ByteBuddyState.java:102)\r\n\tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyHelper.buildProxy(ByteBuddyProxyHelper.java:55)\r\n\tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyFactory.postInstantiate(ByteBuddyProxyFactory.java:61)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:102)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:160)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:53)\r\n\t... 34 more\r\nCaused by: java.lang.IllegalStateException: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1624)\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:114)\r\n\tat net.bytebuddy.dynamic.loading.ClassLoadingStrategy$UsingLookup.load(ClassLoadingStrategy.java:492)\r\n\tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:100)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\r\n\tat org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.lambda$load$0(ByteBuddyState.java:182)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\r\n\t... 42 more\r\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2127)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1622)\r\n\t... 48 more\r\n```\r\nI believe it showed up after an IDE update.\r\n\r\nNone of this happens when all the classes run wild and free without any packages and modules but thats what JavaFX needs so there they are.\r\n\r\nI&#39;ve spent a day or so searching for answers or clues but I have no idea how to fix it. I am a total newbie in all of this and would really appreciate any help.","title":"Error while creating EntityManagerFactory","body":"<p>I'm making a Java application using JavaFX and Hibernate and when creating EntityManagerFactory this error pops out:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    ... 5 more\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: Transport] Unable to build Hibernate SessionFactory\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1495)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1415)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at org.application/org.application.App.&lt;clinit&gt;(App.java:19)\n    ... 11 more\nCaused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\n    at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:312)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1410)\n    ... 15 more\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91)\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\n    at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:432)\n    at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:612)\n    at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:126)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\n    ... 20 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\n    ... 29 more\nCaused by: java.lang.IllegalArgumentException: Could not create type\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:155)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\n    at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:178)\n    at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.loadProxy(ByteBuddyState.java:102)\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyHelper.buildProxy(ByteBuddyProxyHelper.java:55)\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyFactory.postInstantiate(ByteBuddyProxyFactory.java:61)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:102)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:160)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:53)\n    ... 34 more\nCaused by: java.lang.IllegalStateException: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1624)\n    at net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:114)\n    at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$UsingLookup.load(ClassLoadingStrategy.java:492)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:100)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\n    at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.lambda$load$0(ByteBuddyState.java:182)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\n    ... 42 more\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.System$2.defineClass(System.java:2127)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1622)\n    ... 48 more\n</code></pre>\n<p>I believe it showed up after an IDE update.</p>\n<p>None of this happens when all the classes run wild and free without any packages and modules but thats what JavaFX needs so there they are.</p>\n<p>I've spent a day or so searching for answers or clues but I have no idea how to fix it. I am a total newbie in all of this and would really appreciate any help.</p>\n"},{"tags":["java","file","file-io","hashmap"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1280261382,"post_id":3347504,"comment_id":3474519,"body_markdown":"What do you mean by &quot;does not give me the object in the format that I saved it&quot;?  Provide some examples of what you&#39;re seeing and what you expect.","body":"What do you mean by &quot;does not give me the object in the format that I saved it&quot;?  Provide some examples of what you&#39;re seeing and what you expect."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1280261654,"post_id":3347504,"comment_id":3474565,"body_markdown":"Why isn&#39;t your HashMap declared as `HashMap&lt;String,List&lt;String&gt;&gt;`?","body":"Why isn&#39;t your HashMap declared as <code>HashMap&lt;String,List&lt;String&gt;&gt;</code>?"},{"owner":{"account_id":169958,"reputation":904,"user_id":396364,"display_name":"Hbas"},"score":0,"creation_date":1280262482,"post_id":3347504,"comment_id":3474703,"body_markdown":"+1 for HashMap&lt;String,List&lt;String&gt;&gt;","body":"+1 for HashMap&lt;String,List&lt;String&gt;&gt;"},{"owner":{"account_id":635335,"reputation":199,"user_id":403828,"display_name":"lisam"},"score":0,"creation_date":1280262716,"post_id":3347504,"comment_id":3474741,"body_markdown":"It returns a table with 15 null elements and the &lt; mylist,[a,b,c] &gt; pair at the 3rd element. I want it to return only one element with the values I had provided to it in the first place.","body":"It returns a table with 15 null elements and the &lt; mylist,[a,b,c] &gt; pair at the 3rd element. I want it to return only one element with the values I had provided to it in the first place."},{"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"score":0,"creation_date":1280263403,"post_id":3347504,"comment_id":3474857,"body_markdown":"See, ObjectOutputStream serializes the objects (HashMap in this case) in whatever format that ObjectInputStream will understand to deserialize and does so generically for any Serializable object. If you want it to serialize in the format that you desire you should write your own serializer/deserializer.","body":"See, ObjectOutputStream serializes the objects (HashMap in this case) in whatever format that ObjectInputStream will understand to deserialize and does so generically for any Serializable object. If you want it to serialize in the format that you desire you should write your own serializer/deserializer."},{"owner":{"account_id":119938,"reputation":7435,"user_id":312025,"accept_rate":66,"display_name":"Istao"},"score":3,"creation_date":1280264991,"post_id":3347504,"comment_id":3475164,"body_markdown":"What are the keys of the 15 null elements ? What is the result of fileObj.size() ?","body":"What are the keys of the 15 null elements ? What is the result of fileObj.size() ?"},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":0,"creation_date":1280299590,"post_id":3347504,"comment_id":3478112,"body_markdown":"How do you see the 15 null elements? If only the third has a key value pair, then the other values are empty - this means the hashmap contains only one element - the one you stored.","body":"How do you see the 15 null elements? If only the third has a key value pair, then the other values are empty - this means the hashmap contains only one element - the one you stored."},{"owner":{"account_id":635335,"reputation":199,"user_id":403828,"display_name":"lisam"},"score":0,"creation_date":1280517368,"post_id":3347504,"comment_id":3506700,"body_markdown":"@Cem Catikkas you are right. Now I iterate through the HashMap and get the element I need. and do whatever it is that I have to with it.","body":"@Cem Catikkas you are right. Now I iterate through the HashMap and get the element I need. and do whatever it is that I have to with it."}],"answers":[{"comments":[{"owner":{"account_id":635335,"reputation":199,"user_id":403828,"display_name":"lisam"},"score":0,"creation_date":1280262694,"post_id":3347598,"comment_id":3474736,"body_markdown":"No. I had closed the stream. I just did not mention it in the code. I have made the edits now.","body":"No. I had closed the stream. I just did not mention it in the code. I have made the edits now."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1280520932,"post_id":3347598,"comment_id":3507264,"body_markdown":"Regardless, `f.close()` will not properly close the `ObjectOutputStream`. You should always call close on the uppermost decorated stream, i.e. `s.close()`.","body":"Regardless, <code>f.close()</code> will not properly close the <code>ObjectOutputStream</code>. You should always call close on the uppermost decorated stream, i.e. <code>s.close()</code>."}],"tags":[],"owner":{"account_id":169958,"reputation":904,"user_id":396364,"display_name":"Hbas"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1282924053,"creation_date":1280262024,"answer_id":3347598,"question_id":3347504,"body_markdown":"I believe you&#180;re making a common mistake. You forgot to close the stream after using it!\r\n\r\n     File file = new File(&quot;temp&quot;);  \r\n     FileOutputStream f = new FileOutputStream(file);  \r\n     ObjectOutputStream s = new ObjectOutputStream(f);          \r\n     s.writeObject(fileObj);\r\n     s.close();","title":"How to read and write a HashMap to a file?","body":"<p>I believe youre making a common mistake. You forgot to close the stream after using it!</p>\n\n<pre><code> File file = new File(\"temp\");  \n FileOutputStream f = new FileOutputStream(file);  \n ObjectOutputStream s = new ObjectOutputStream(f);          \n s.writeObject(fileObj);\n s.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":635335,"reputation":199,"user_id":403828,"display_name":"lisam"},"score":0,"creation_date":1280517049,"post_id":3347993,"comment_id":3506669,"body_markdown":"The class itself within which these lines appear is Serializable.","body":"The class itself within which these lines appear is Serializable."}],"tags":[],"owner":{"account_id":113718,"reputation":586,"user_id":299331,"accept_rate":80,"display_name":"aarestad"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280264768,"creation_date":1280264768,"answer_id":3347993,"question_id":3347504,"body_markdown":"Your first line:\r\n\r\n    HashMap&lt;String,Object&gt; fileObj = new HashMap&lt;String,Object&gt;();\r\n\r\ngave me pause, as the values are not guaranteed to be `Serializable` and thus may not be written out correctly. You should really define the object as a `HashMap&lt;String, Serializable&gt;` (or if you prefer, simpy `Map&lt;String, Serializable&gt;`).\r\n\r\nI would also consider serializing the Map in a simple text format such as JSON since you are doing a simple `String -&gt; List&lt;String&gt;` mapping.","title":"How to read and write a HashMap to a file?","body":"<p>Your first line:</p>\n\n<pre><code>HashMap&lt;String,Object&gt; fileObj = new HashMap&lt;String,Object&gt;();\n</code></pre>\n\n<p>gave me pause, as the values are not guaranteed to be <code>Serializable</code> and thus may not be written out correctly. You should really define the object as a <code>HashMap&lt;String, Serializable&gt;</code> (or if you prefer, simpy <code>Map&lt;String, Serializable&gt;</code>).</p>\n\n<p>I would also consider serializing the Map in a simple text format such as JSON since you are doing a simple <code>String -&gt; List&lt;String&gt;</code> mapping.</p>\n"},{"tags":[],"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280265284,"creation_date":1280265284,"answer_id":3348053,"question_id":3347504,"body_markdown":"I believe you&#39;re getting what you&#39;re saving.  Have you inspected the map before you save it?  In `HashMap`:\r\n\r\n    /**\r\n     * The default initial capacity - MUST be a power of two.\r\n     */\r\n    static final int DEFAULT_INITIAL_CAPACITY = 16;\r\n\r\ne.g. the default `HashMap` will start off with 16 `null`s.  You use one of the buckets, so you only have 15 `null`s left when you save, which is what you get when you load.\r\nTry inspecting `fileObj.keySet()`, `.entrySet()` or `.values()` to see what you expect.\r\n\r\n`HashMap`s are designed to be fast while trading off memory.  See [Wikipedia&#39;s Hash table][1] entry for more details.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Hash_table","title":"How to read and write a HashMap to a file?","body":"<p>I believe you're getting what you're saving.  Have you inspected the map before you save it?  In <code>HashMap</code>:</p>\n\n<pre><code>/**\n * The default initial capacity - MUST be a power of two.\n */\nstatic final int DEFAULT_INITIAL_CAPACITY = 16;\n</code></pre>\n\n<p>e.g. the default <code>HashMap</code> will start off with 16 <code>null</code>s.  You use one of the buckets, so you only have 15 <code>null</code>s left when you save, which is what you get when you load.\nTry inspecting <code>fileObj.keySet()</code>, <code>.entrySet()</code> or <code>.values()</code> to see what you expect.</p>\n\n<p><code>HashMap</code>s are designed to be fast while trading off memory.  See <a href=\"http://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\">Wikipedia's Hash table</a> entry for more details.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1357569996,"creation_date":1280298319,"answer_id":3350384,"question_id":3347504,"body_markdown":"You appear to be confusing the internal resprentation of a HashMap with how the HashMap behaves.  The collections are the same.  Here is a simple test to prove it to you.\r\n\r\n    public static void main(String... args)\r\n                                throws IOException, ClassNotFoundException {\r\n        HashMap&lt;String, Object&gt; fileObj = new HashMap&lt;String, Object&gt;();\r\n\r\n        ArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();\r\n        cols.add(&quot;a&quot;);\r\n        cols.add(&quot;b&quot;);\r\n        cols.add(&quot;c&quot;);\r\n        fileObj.put(&quot;mylist&quot;, cols);\r\n        {\r\n            File file = new File(&quot;temp&quot;);\r\n            FileOutputStream f = new FileOutputStream(file);\r\n            ObjectOutputStream s = new ObjectOutputStream(f);\r\n            s.writeObject(fileObj);\r\n            s.close();\r\n        }\r\n        File file = new File(&quot;temp&quot;);\r\n        FileInputStream f = new FileInputStream(file);\r\n        ObjectInputStream s = new ObjectInputStream(f);\r\n        HashMap&lt;String, Object&gt; fileObj2 = (HashMap&lt;String, Object&gt;) s.readObject();\r\n        s.close();\r\n\r\n        Assert.assertEquals(fileObj.hashCode(), fileObj2.hashCode());\r\n        Assert.assertEquals(fileObj.toString(), fileObj2.toString());\r\n        Assert.assertTrue(fileObj.equals(fileObj2));\r\n    }","title":"How to read and write a HashMap to a file?","body":"<p>You appear to be confusing the internal resprentation of a HashMap with how the HashMap behaves.  The collections are the same.  Here is a simple test to prove it to you.</p>\n\n<pre><code>public static void main(String... args)\n                            throws IOException, ClassNotFoundException {\n    HashMap&lt;String, Object&gt; fileObj = new HashMap&lt;String, Object&gt;();\n\n    ArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();\n    cols.add(\"a\");\n    cols.add(\"b\");\n    cols.add(\"c\");\n    fileObj.put(\"mylist\", cols);\n    {\n        File file = new File(\"temp\");\n        FileOutputStream f = new FileOutputStream(file);\n        ObjectOutputStream s = new ObjectOutputStream(f);\n        s.writeObject(fileObj);\n        s.close();\n    }\n    File file = new File(\"temp\");\n    FileInputStream f = new FileInputStream(file);\n    ObjectInputStream s = new ObjectInputStream(f);\n    HashMap&lt;String, Object&gt; fileObj2 = (HashMap&lt;String, Object&gt;) s.readObject();\n    s.close();\n\n    Assert.assertEquals(fileObj.hashCode(), fileObj2.hashCode());\n    Assert.assertEquals(fileObj.toString(), fileObj2.toString());\n    Assert.assertTrue(fileObj.equals(fileObj2));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7398026,"reputation":1627,"user_id":5629298,"display_name":"Surendranath Sonawane"},"score":0,"creation_date":1509089044,"post_id":46934664,"comment_id":80886422,"body_markdown":"refer this link : https://www.mkyong.com/java/how-to-convert-java-map-to-from-json-jackson/","body":"refer this link : <a href=\"https://www.mkyong.com/java/how-to-convert-java-map-to-from-json-jackson/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-convert-java-map-to-from-json-jackson</a>"}],"tags":[],"owner":{"account_id":7398026,"reputation":1627,"user_id":5629298,"display_name":"Surendranath Sonawane"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508940529,"creation_date":1508940529,"answer_id":46934664,"question_id":3347504,"body_markdown":"you can also use JSON file to read and write MAP object.\r\n\r\n&gt; To write map object into JSON file\r\n\r\n    \tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n\t\tmap.put(&quot;name&quot;, &quot;Suson&quot;);\r\n\t\tmap.put(&quot;age&quot;, 26);\r\n\r\n\t\t// write JSON to a file\r\n\t\tmapper.writeValue(new File(&quot;c:\\\\myData.json&quot;), map);\r\n\r\n&gt; To read map object from JSON file\r\n\r\n    \tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\t\t// read JSON from a file\r\n\t\t\tMap&lt;String, Object&gt; map = mapper.readValue(\r\n\t\t\t\t\tnew File(&quot;c:\\\\myData.json&quot;),\r\n\t\t\t\t\tnew TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n\t\t\t});\r\n\r\n\t\t\tSystem.out.println(map.get(&quot;name&quot;));\r\n\t\t\tSystem.out.println(map.get(&quot;age&quot;));\r\n\r\nand import ObjectMapper from com.fasterxml.jackson and put code in try catch block","title":"How to read and write a HashMap to a file?","body":"<p>you can also use JSON file to read and write MAP object.</p>\n\n<blockquote>\n  <p>To write map object into JSON file</p>\n</blockquote>\n\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n    map.put(\"name\", \"Suson\");\n    map.put(\"age\", 26);\n\n    // write JSON to a file\n    mapper.writeValue(new File(\"c:\\\\myData.json\"), map);\n</code></pre>\n\n<blockquote>\n  <p>To read map object from JSON file</p>\n</blockquote>\n\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n\n        // read JSON from a file\n        Map&lt;String, Object&gt; map = mapper.readValue(\n                new File(\"c:\\\\myData.json\"),\n                new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n        });\n\n        System.out.println(map.get(\"name\"));\n        System.out.println(map.get(\"age\"));\n</code></pre>\n\n<p>and import ObjectMapper from com.fasterxml.jackson and put code in try catch block</p>\n"},{"tags":[],"owner":{"account_id":27248734,"reputation":9,"user_id":20773568,"display_name":"Nithesh Gowda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675314648,"creation_date":1675314648,"answer_id":75318906,"question_id":3347504,"body_markdown":"Same data if you want to write to a text file \r\n\r\n    public void writeToFile(Map&lt;String, List&lt;String&gt;&gt; failureMessage){\r\n        if(file!=null){\r\n            try{\r\n               BufferedWriter writer=new BufferedWriter(new FileWriter(file, true));\r\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; map : failureMessage.entrySet()) {\r\n                    writer.write(map.getKey()+&quot;\\n&quot;);\r\n                    for(String message:map.getValue()){\r\n                        writer.write(message+&quot;\\n&quot;);\r\n                    }\r\n                    writer.write(&quot;\\n&quot;);\r\n                }\r\n                writer.close();\r\n            }catch (Exception e){\r\n                System.out.println(&quot;Unable to write to file: &quot;+file.getPath());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n","title":"How to read and write a HashMap to a file?","body":"<p>Same data if you want to write to a text file</p>\n<pre><code>public void writeToFile(Map&lt;String, List&lt;String&gt;&gt; failureMessage){\n    if(file!=null){\n        try{\n           BufferedWriter writer=new BufferedWriter(new FileWriter(file, true));\n            for (Map.Entry&lt;String, List&lt;String&gt;&gt; map : failureMessage.entrySet()) {\n                writer.write(map.getKey()+&quot;\\n&quot;);\n                for(String message:map.getValue()){\n                    writer.write(message+&quot;\\n&quot;);\n                }\n                writer.write(&quot;\\n&quot;);\n            }\n            writer.close();\n        }catch (Exception e){\n            System.out.println(&quot;Unable to write to file: &quot;+file.getPath());\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":635335,"reputation":199,"user_id":403828,"display_name":"lisam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80510,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":6,"score":19,"last_activity_date":1675314648,"creation_date":1280261241,"question_id":3347504,"body_markdown":"&lt;html&gt;\r\nI have the following **HashMap**:     \r\n    \r\n    HashMap&lt;String,Object&gt; fileObj = new HashMap&lt;String,Object&gt;();\r\n\r\n    ArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();  \r\n    cols.add(&quot;a&quot;);  \r\n    cols.add(&quot;b&quot;);  \r\n    cols.add(&quot;c&quot;);  \r\n    fileObj.put(&quot;mylist&quot;,cols);  \r\n\r\nI write it to a file as follows:\r\n\r\n    File file = new File(&quot;temp&quot;);  \r\n    FileOutputStream f = new FileOutputStream(file);  \r\n    ObjectOutputStream s = new ObjectOutputStream(f);          \r\n    s.writeObject(fileObj);\r\n    s.flush();\r\n   \r\n\r\nNow I want to read this file back to a HashMap&lt;String, Object&gt; where the Object is an ArrayList&lt;String&gt;.\r\nIf i simply do:\r\n\r\n    File file = new File(&quot;temp&quot;);  \r\n    FileInputStream f = new FileInputStream(file);  \r\n    ObjectInputStream s = new ObjectInputStream(f);  \r\n    fileObj = (HashMap&lt;String,Object&gt;)s.readObject();         \r\n    s.close();\r\nThis does not give me the object in the format that I saved it in.\r\nIt returns a table with 15 null elements and the &lt; mylist,[a,b,c] &gt; pair at the 3rd element. I want it to return only one element with the values I had provided to it in the first place.    \r\n    //How can I read the same object back into a HashMap ?\r\n\r\nOK So based on Cem&#39;s note: This is what seems to be the correct explanation:\r\n\r\n**ObjectOutputStream serializes the objects (HashMap in this case) in whatever format that ObjectInputStream will understand to deserialize and does so generically for any Serializable object. \r\nIf you want it to serialize in the format that you desire you should write your own serializer/deserializer.**\r\n\r\n_In my case: I simply iterate through each of those elements in the HashMap when I read the Object back from the file and get the data and do whatever I want with it. (it enters the loop only at the point where there is data)._\r\n\r\n\r\nThanks,\r\n&lt;/html&gt;","title":"How to read and write a HashMap to a file?","body":"<p>\nI have the following <strong>HashMap</strong>:     </p>\n\n<pre><code>HashMap&lt;String,Object&gt; fileObj = new HashMap&lt;String,Object&gt;();\n\nArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();  \ncols.add(\"a\");  \ncols.add(\"b\");  \ncols.add(\"c\");  \nfileObj.put(\"mylist\",cols);  \n</code></pre>\n\n<p>I write it to a file as follows:</p>\n\n<pre><code>File file = new File(\"temp\");  \nFileOutputStream f = new FileOutputStream(file);  \nObjectOutputStream s = new ObjectOutputStream(f);          \ns.writeObject(fileObj);\ns.flush();\n</code></pre>\n\n<p>Now I want to read this file back to a HashMap where the Object is an ArrayList.\nIf i simply do:</p>\n\n<pre><code>File file = new File(\"temp\");  \nFileInputStream f = new FileInputStream(file);  \nObjectInputStream s = new ObjectInputStream(f);  \nfileObj = (HashMap&lt;String,Object&gt;)s.readObject();         \ns.close();\n</code></pre>\n\n<p>This does not give me the object in the format that I saved it in.\nIt returns a table with 15 null elements and the &lt; mylist,[a,b,c] > pair at the 3rd element. I want it to return only one element with the values I had provided to it in the first place.<br>\n    //How can I read the same object back into a HashMap ?</p>\n\n<p>OK So based on Cem's note: This is what seems to be the correct explanation:</p>\n\n<p><strong>ObjectOutputStream serializes the objects (HashMap in this case) in whatever format that ObjectInputStream will understand to deserialize and does so generically for any Serializable object. \nIf you want it to serialize in the format that you desire you should write your own serializer/deserializer.</strong></p>\n\n<p><em>In my case: I simply iterate through each of those elements in the HashMap when I read the Object back from the file and get the data and do whatever I want with it. (it enters the loop only at the point where there is data).</em></p>\n\n<p>Thanks,\n</p>\n"},{"tags":["java","spring-boot","email"],"comments":[{"owner":{"account_id":28204,"reputation":1062,"user_id":75113,"display_name":"Ted M. Young"},"score":0,"creation_date":1670292447,"post_id":74694051,"comment_id":131837749,"body_markdown":"For Spring Boot 3, you probably need the jakarta (not javax) library &lt;dependency&gt;\n  &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n  &lt;version&gt;1.6.4&lt;/version&gt;\n&lt;/dependency&gt;. See https://docs.spring.io/spring-framework/docs/6.0.2/reference/html/integration.html#mail for details.","body":"For Spring Boot 3, you probably need the jakarta (not javax) library &lt;dependency&gt;   &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;   &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;   &lt;version&gt;1.6.4&lt;/version&gt; &lt;/dependency&gt;. See <a href=\"https://docs.spring.io/spring-framework/docs/6.0.2/reference/html/integration.html#mail\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/6.0.2/reference/html/&hellip;</a> for details."},{"owner":{"account_id":25216567,"reputation":35,"user_id":19053632,"display_name":"LadySylwia"},"score":0,"creation_date":1670537884,"post_id":74694051,"comment_id":131903973,"body_markdown":"still the same. I thought it was a google authorization problem, I changed my mail to another one with a different domain but it keeps showing the same error.","body":"still the same. I thought it was a google authorization problem, I changed my mail to another one with a different domain but it keeps showing the same error."}],"answers":[{"comments":[{"owner":{"account_id":25216567,"reputation":35,"user_id":19053632,"display_name":"LadySylwia"},"score":0,"creation_date":1670274046,"post_id":74694258,"comment_id":131834160,"body_markdown":"Still the same Problem","body":"Still the same Problem"},{"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"score":0,"creation_date":1691849824,"post_id":74694258,"comment_id":135548699,"body_markdown":"For gmail latest it is not allowing plain password to be used in external application. may have to switched to use Session","body":"For gmail latest it is not allowing plain password to be used in external application. may have to switched to use Session"}],"tags":[],"owner":{"account_id":18383238,"reputation":445,"user_id":13390890,"display_name":"Abdullah Ismail"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670273494,"creation_date":1670273494,"answer_id":74694258,"question_id":74694051,"body_markdown":"    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSenderImpl;\r\n\r\n    public void sendEmail(){\r\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n    mailSender.setPort(587);\r\n    mailSender.setUsername(&quot;yourEmail@example.com&quot;);\r\n    mailSender.setPassword(&quot;yourPassword&quot;);\r\n    SimpleMailMessage message = new SimpleMailMessage();\r\n    message.setFrom(&quot;sender@example.com&quot;);\r\n    message.setTo(&quot;receiver@example.com&quot;);\r\n    message.setSubject(&quot;Test Email&quot;);\r\n    message.setText(&quot;This is a test email sent using Spring Boot&quot;);\r\n    mailSender.send(message);\r\n    }","title":"Sending email via Spring Boot","body":"<pre><code>import org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\n\npublic void sendEmail(){\nJavaMailSenderImpl mailSender = new JavaMailSenderImpl();\nmailSender.setHost(&quot;smtp.gmail.com&quot;);\nmailSender.setPort(587);\nmailSender.setUsername(&quot;yourEmail@example.com&quot;);\nmailSender.setPassword(&quot;yourPassword&quot;);\nSimpleMailMessage message = new SimpleMailMessage();\nmessage.setFrom(&quot;sender@example.com&quot;);\nmessage.setTo(&quot;receiver@example.com&quot;);\nmessage.setSubject(&quot;Test Email&quot;);\nmessage.setText(&quot;This is a test email sent using Spring Boot&quot;);\nmailSender.send(message);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5651142,"reputation":93,"user_id":8858422,"display_name":"S Hornby"},"score":0,"creation_date":1675202824,"post_id":74750259,"comment_id":132877404,"body_markdown":"Hi there, I am having this same error, but unfortunately I can&#39;t avoid using JavaMailSender, as I need to be able to send attachments. Do you have another way around this?","body":"Hi there, I am having this same error, but unfortunately I can&#39;t avoid using JavaMailSender, as I need to be able to send attachments. Do you have another way around this?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675215160,"post_id":74750259,"comment_id":132879570,"body_markdown":"@S Hornby, (1) Using JavaMailSender or MailSender should be able to send letters and attach attachments. (2) Are you using Spring Boot 3.x or Spring Boot 2.x?","body":"@S Hornby, (1) Using JavaMailSender or MailSender should be able to send letters and attach attachments. (2) Are you using Spring Boot 3.x or Spring Boot 2.x?"},{"owner":{"account_id":5651142,"reputation":93,"user_id":8858422,"display_name":"S Hornby"},"score":0,"creation_date":1675261144,"post_id":74750259,"comment_id":132890356,"body_markdown":"I&#39;m using Spring Boot 2.7.7.","body":"I&#39;m using Spring Boot 2.7.7."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675314729,"post_id":74750259,"comment_id":132903411,"body_markdown":"@S Hornby , I Update My Answer, Add `Spring Boot 2.7.x send Mail with attachments`.","body":"@S Hornby , I Update My Answer, Add <code>Spring Boot 2.7.x send Mail with attachments</code>."},{"owner":{"account_id":5651142,"reputation":93,"user_id":8858422,"display_name":"S Hornby"},"score":0,"creation_date":1675367195,"post_id":74750259,"comment_id":132919502,"body_markdown":"Hi, thank you for your update. I&#39;m afraid you may have misunderstood what I was saying, though. Your initial response said NOT to use JavaMailSender, and I commented on that saying I needed to use it in order to send attachments. Your updated response shows you using JavaMailSender.\n\nRegardless, I was doing basically the same thing as what you posted, though I didn&#39;t have as many properties in the configuration. I added them and still got the same error: &quot;javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype&quot;","body":"Hi, thank you for your update. I&#39;m afraid you may have misunderstood what I was saying, though. Your initial response said NOT to use JavaMailSender, and I commented on that saying I needed to use it in order to send attachments. Your updated response shows you using JavaMailSender.  Regardless, I was doing basically the same thing as what you posted, though I didn&#39;t have as many properties in the configuration. I added them and still got the same error: &quot;javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype&quot;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675389200,"post_id":74750259,"comment_id":132923872,"body_markdown":"@S Hornby, (1) My test case is to use the minimum settings as long as the basic needs can be met, it is enough and acceptable for me. (2) Please use my example first, don&#39;t add it to your original code. My example, I have tested, pom.xml is enough and can send email with attachment. (3) Your error message `javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype`, should come from your other code and settings, not from my sample code and settings. Because you Without providing your pom.xml and your code, I can&#39;t judge, I can only judge that you may be missing some dependencies.","body":"@S Hornby, (1) My test case is to use the minimum settings as long as the basic needs can be met, it is enough and acceptable for me. (2) Please use my example first, don&#39;t add it to your original code. My example, I have tested, pom.xml is enough and can send email with attachment. (3) Your error message <code>javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype</code>, should come from your other code and settings, not from my sample code and settings. Because you Without providing your pom.xml and your code, I can&#39;t judge, I can only judge that you may be missing some dependencies."}],"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675314605,"creation_date":1670644747,"answer_id":74750259,"question_id":74694051,"body_markdown":"1. You don&#39;t need this, please remove it.\r\n\r\n\r\n`    &lt;dependency&gt;`\r\n`        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;`\r\n`        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;`\r\n`        &lt;version&gt;1.6.2&lt;/version&gt;`\r\n`    &lt;/dependency&gt;`\r\n\r\n2. Check MailSender import\r\n\r\nUSE `import org.springframework.mail.MailSender;`\r\n\r\nNOT `import org.springframework.mail.javamail.JavaMailSender;`\r\n\r\n3. spring-boot-starter-mail will create default MailSender , you don&#39;t create it (MailSender), just use `@Autowired private MailSender mailSender;`\r\n\r\nHello.java\r\n\r\n    package com.example.demo;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    //import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.MailSender;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    \r\n    public class Hello {\r\n        @Autowired\r\n        private MailSender mailSender;\r\n        @RequestMapping(&quot;/sendMail&quot;)\r\n        public String sendConfirmationEmail() {\r\n            SimpleMailMessage msg = new SimpleMailMessage();\r\n            msg.setTo(&quot;aaa@localhost&quot;);\r\n            msg.setSubject(&quot;Testing from Spring Boot&quot;);\r\n            msg.setText(&quot;Hello World from Spring Boot Email&quot;);\r\n            mailSender.send(msg);\r\n            return &quot;OK&quot;;\r\n        }\r\n    }\r\n\r\n\r\nI am test ok in my simple test project.\r\n\r\n`curl http://localhost:8080/sendMail`\r\n\r\nAnd I use FakeSmtp jar to my fake mail server.\r\n\r\nmy spring boot 3 pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo-mail&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo-mail&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nMY application.properties\r\n\r\n    spring.mail.host=localhost\r\n    spring.mail.port=2525\r\n    spring.mail.username=demo@localhost\r\n    spring.mail.password=demopassword\r\n    \r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.transport.protocol=smtp\r\n    spring.mail.properties.mail.smtps.quitwait=false\r\n    spring.mail.properties.mail.smtp.socketFactory.port=465\r\n    spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n\r\nDemoMailApplication.java \r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoMailApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoMailApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n- DemoMailApplication.java\r\n- Hello.java\r\n- application.properties\r\n- pom.xml\r\n\r\n\r\n----------\r\n\r\n# Spring Boot 2.7.x send Mail with  attachments\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## DemoApplication.java\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n## Hello.java\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.io.FileSystemResource;\r\nimport org.springframework.mail.MailSender;\r\nimport org.springframework.mail.SimpleMailMessage;\r\nimport org.springframework.mail.javamail.JavaMailSender;\r\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\r\nimport org.springframework.mail.javamail.MimeMessageHelper;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.mail.MessagingException;\r\nimport javax.mail.internet.MimeMessage;\r\nimport java.io.File;\r\n\r\n@RestController\r\n\r\npublic class Hello {\r\n    @Autowired\r\n    private JavaMailSenderImpl mailSender;\r\n    @RequestMapping(&quot;/sendMail&quot;)\r\n    public String sendConfirmationEmail() throws MessagingException {\r\n        MimeMessage message = mailSender.createMimeMessage();\r\n        MimeMessageHelper helper = new MimeMessageHelper(message, true);\r\n        helper.setTo(&quot;test@host.com&quot;);\r\n        helper.setText(&quot;Check out this image!&quot;);\r\n        FileSystemResource file = new FileSystemResource(new File(&quot;/YourAttachmentFile/Example.jpg&quot;));\r\n        helper.addAttachment(&quot;CoolImage.jpg&quot;, file);\r\n        mailSender.send(message);\r\n        return &quot;OK&quot;;\r\n    }\r\n}\r\n```\r\n\r\n## application.properties\r\n\r\n```\r\nspring.mail.host=localhost\r\nspring.mail.port=2525\r\nspring.mail.username=demo@localhost\r\nspring.mail.password=demopassword\r\nspring.mail.properties[mail.smtp.connectiontimeout]=5000\r\nspring.mail.properties[mail.smtp.timeout]=3000\r\nspring.mail.properties[mail.smtp.writetimeout]=5000\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.transport.protocol=smtp\r\nspring.mail.properties.mail.smtps.quitwait=false\r\nspring.mail.properties.mail.smtp.socketFactory.port=465\r\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n```\r\n\r\n## Package\r\n\r\n```\r\nmvn clean package\r\n```\r\n\r\n## Run\r\n\r\n```\r\ncd target\r\njava -jar demo-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\n## Test\r\n\r\n```\r\ncurl http://localhost:8080/sendMail\r\n```\r\n\r\n**You can use FakeSmtp as Dummy Mail Server**\r\n\r\n\r\n\r\n# REFERENCE\r\n\r\nExample Code is copy from spring-boot-reference-2.7.8.pdf ( **11.4. Sending Email** -&gt; TIP See the **reference documentation** ) -&gt; https://docs.spring.io/spring-framework/docs/5.3.25/reference/html/integration.html#mail (**6.2.1. Sending Attachments and Inline Resources**)\r\n","title":"Sending email via Spring Boot","body":"<ol>\n<li>You don't need this, please remove it.</li>\n</ol>\n<p><code>    &lt;dependency&gt;</code>\n<code>        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;</code>\n<code>        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;</code>\n<code>        &lt;version&gt;1.6.2&lt;/version&gt;</code>\n<code>    &lt;/dependency&gt;</code></p>\n<ol start=\"2\">\n<li>Check MailSender import</li>\n</ol>\n<p>USE <code>import org.springframework.mail.MailSender;</code></p>\n<p>NOT <code>import org.springframework.mail.javamail.JavaMailSender;</code></p>\n<ol start=\"3\">\n<li>spring-boot-starter-mail will create default MailSender , you don't create it (MailSender), just use <code>@Autowired private MailSender mailSender;</code></li>\n</ol>\n<p>Hello.java</p>\n<pre><code>package com.example.demo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.SimpleMailMessage;\n//import org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.MailSender;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n\npublic class Hello {\n    @Autowired\n    private MailSender mailSender;\n    @RequestMapping(&quot;/sendMail&quot;)\n    public String sendConfirmationEmail() {\n        SimpleMailMessage msg = new SimpleMailMessage();\n        msg.setTo(&quot;aaa@localhost&quot;);\n        msg.setSubject(&quot;Testing from Spring Boot&quot;);\n        msg.setText(&quot;Hello World from Spring Boot Email&quot;);\n        mailSender.send(msg);\n        return &quot;OK&quot;;\n    }\n}\n</code></pre>\n<p>I am test ok in my simple test project.</p>\n<p><code>curl http://localhost:8080/sendMail</code></p>\n<p>And I use FakeSmtp jar to my fake mail server.</p>\n<p>my spring boot 3 pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-mail&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo-mail&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>MY application.properties</p>\n<pre><code>spring.mail.host=localhost\nspring.mail.port=2525\nspring.mail.username=demo@localhost\nspring.mail.password=demopassword\n\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.transport.protocol=smtp\nspring.mail.properties.mail.smtps.quitwait=false\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\n</code></pre>\n<p>DemoMailApplication.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoMailApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoMailApplication.class, args);\n    }\n}\n</code></pre>\n<ul>\n<li>DemoMailApplication.java</li>\n<li>Hello.java</li>\n<li>application.properties</li>\n<li>pom.xml</li>\n</ul>\n<hr />\n<h1>Spring Boot 2.7.x send Mail with  attachments</h1>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>DemoApplication.java</h2>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<h2>Hello.java</h2>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.FileSystemResource;\nimport org.springframework.mail.MailSender;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport java.io.File;\n\n@RestController\n\npublic class Hello {\n    @Autowired\n    private JavaMailSenderImpl mailSender;\n    @RequestMapping(&quot;/sendMail&quot;)\n    public String sendConfirmationEmail() throws MessagingException {\n        MimeMessage message = mailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(message, true);\n        helper.setTo(&quot;test@host.com&quot;);\n        helper.setText(&quot;Check out this image!&quot;);\n        FileSystemResource file = new FileSystemResource(new File(&quot;/YourAttachmentFile/Example.jpg&quot;));\n        helper.addAttachment(&quot;CoolImage.jpg&quot;, file);\n        mailSender.send(message);\n        return &quot;OK&quot;;\n    }\n}\n</code></pre>\n<h2>application.properties</h2>\n<pre><code>spring.mail.host=localhost\nspring.mail.port=2525\nspring.mail.username=demo@localhost\nspring.mail.password=demopassword\nspring.mail.properties[mail.smtp.connectiontimeout]=5000\nspring.mail.properties[mail.smtp.timeout]=3000\nspring.mail.properties[mail.smtp.writetimeout]=5000\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.transport.protocol=smtp\nspring.mail.properties.mail.smtps.quitwait=false\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\n</code></pre>\n<h2>Package</h2>\n<pre><code>mvn clean package\n</code></pre>\n<h2>Run</h2>\n<pre><code>cd target\njava -jar demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<h2>Test</h2>\n<pre><code>curl http://localhost:8080/sendMail\n</code></pre>\n<p><strong>You can use FakeSmtp as Dummy Mail Server</strong></p>\n<h1>REFERENCE</h1>\n<p>Example Code is copy from spring-boot-reference-2.7.8.pdf ( <strong>11.4. Sending Email</strong> -&gt; TIP See the <strong>reference documentation</strong> ) -&gt; <a href=\"https://docs.spring.io/spring-framework/docs/5.3.25/reference/html/integration.html#mail\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.3.25/reference/html/integration.html#mail</a> (<strong>6.2.1. Sending Attachments and Inline Resources</strong>)</p>\n"}],"owner":{"account_id":25216567,"reputation":35,"user_id":19053632,"display_name":"LadySylwia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74750259,"answer_count":2,"score":1,"last_activity_date":1675314605,"creation_date":1670272166,"question_id":74694051,"body_markdown":"I&#39;m trying to create a contact form. I am using Spring Boot 3.0.0. and Thymeleaf. Everything runs on localhost. I get an unexpected error when I want to send a message:\r\n\r\n`javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype\r\njava.util.ServiceConfigurationError: javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype`\r\n\r\npom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMessage class:\r\n```\r\npublic class MessageInfoDto {\r\n    private String name;\r\n    private String email;\r\n    private String text;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n```\r\n\r\nController:\r\n```\r\n@Controller\r\npublic class MessageInfoController {\r\n    MessageInfoService messageInfoService;\r\n\r\n    public MessageInfoController(MessageInfoService messageInfoService) {\r\n        this.messageInfoService = messageInfoService;\r\n    }\r\n\r\n    @GetMapping(&quot;/contact&quot;)\r\n    public String emialForm(Model model) {\r\n        model.addAttribute(&quot;message&quot;, new MessageInfoDto());\r\n        return &quot;contact&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/send&quot;)\r\n    public String getMessage(MessageInfoDto message) {\r\n        messageInfoService.sendEmail(message);\r\n        return &quot;redirect:/contact&quot;;\r\n    }\r\n}\r\n```\r\n\r\nService:\r\n```\r\n@Service\r\npublic class MessageInfoService {\r\n    private final JavaMailSender mailSender;\r\n    @Value(&quot;${spring.mail.username}&quot;)\r\n    private String owner;\r\n\r\n    public MessageInfoService(JavaMailSender mailSender) {\r\n        this.mailSender = mailSender;\r\n    }\r\n\r\n    public void sendEmail(MessageInfoDto message) {\r\n        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\r\n        simpleMailMessage.setTo(owner);\r\n        simpleMailMessage.setFrom(message.getEmail());\r\n        simpleMailMessage.setText(message.getText());\r\n        simpleMailMessage.setSubject(&quot;New Message&quot;);\r\n        simpleMailMessage.setReplyTo(message.getEmail());\r\n        mailSender.send(simpleMailMessage);\r\n    }\r\n}\r\n```\r\nHTML(contact.html):\r\n```\r\n&lt;body&gt;\r\n&lt;main class=&quot;main-content&quot; layout:fragment=&quot;content&quot;&gt;\r\n  &lt;h2 class=&quot;list-heading&quot;&gt;Send us a message&lt;/h2&gt;\r\n  &lt;form action=&quot;#&quot; th:action=&quot;@{/send}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; class=&quot;mc-form&quot; th:object=&quot;${message}&quot;&gt;\r\n    &lt;label for=&quot;name&quot;&gt;Your Name&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;name&quot; placeholder=&quot;Your Name&quot; th:field=&quot;*{name}&quot; required&gt;\r\n    &lt;label for=&quot;email&quot;&gt;Your e-mail&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;email&quot; placeholder=&quot;e-mail&quot; th:field=&quot;*{email}&quot;&gt;\r\n    &lt;label for=&quot;message&quot;&gt;Your message&lt;/label&gt;\r\n    &lt;textarea id=&quot;message&quot; rows=&quot;10&quot; th:field=&quot;*{text}&quot;&gt;&lt;/textarea&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;\r\n  &lt;/form&gt;\r\n&lt;/main&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\napplication.yml:\r\n```\r\nspring:\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: 10*****@gmail.com\r\n    password: [genereted password]\r\n    properties:\r\n      smtp:\r\n        auth: true\r\n        starttles:\r\n          enable: true\r\n          required: true\r\n```\r\n\r\nPlease help, I&#39;ve been googling this since yesterday and couldn&#39;t find an answer.\r\n\r\nI&#39;ve also tried with `javax.mail-api`. ","title":"Sending email via Spring Boot","body":"<p>I'm trying to create a contact form. I am using Spring Boot 3.0.0. and Thymeleaf. Everything runs on localhost. I get an unexpected error when I want to send a message:</p>\n<p><code>javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype java.util.ServiceConfigurationError: javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype</code></p>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Message class:</p>\n<pre><code>public class MessageInfoDto {\n    private String name;\n    private String email;\n    private String text;\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class MessageInfoController {\n    MessageInfoService messageInfoService;\n\n    public MessageInfoController(MessageInfoService messageInfoService) {\n        this.messageInfoService = messageInfoService;\n    }\n\n    @GetMapping(&quot;/contact&quot;)\n    public String emialForm(Model model) {\n        model.addAttribute(&quot;message&quot;, new MessageInfoDto());\n        return &quot;contact&quot;;\n    }\n\n    @PostMapping(&quot;/send&quot;)\n    public String getMessage(MessageInfoDto message) {\n        messageInfoService.sendEmail(message);\n        return &quot;redirect:/contact&quot;;\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class MessageInfoService {\n    private final JavaMailSender mailSender;\n    @Value(&quot;${spring.mail.username}&quot;)\n    private String owner;\n\n    public MessageInfoService(JavaMailSender mailSender) {\n        this.mailSender = mailSender;\n    }\n\n    public void sendEmail(MessageInfoDto message) {\n        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\n        simpleMailMessage.setTo(owner);\n        simpleMailMessage.setFrom(message.getEmail());\n        simpleMailMessage.setText(message.getText());\n        simpleMailMessage.setSubject(&quot;New Message&quot;);\n        simpleMailMessage.setReplyTo(message.getEmail());\n        mailSender.send(simpleMailMessage);\n    }\n}\n</code></pre>\n<p>HTML(contact.html):</p>\n<pre><code>&lt;body&gt;\n&lt;main class=&quot;main-content&quot; layout:fragment=&quot;content&quot;&gt;\n  &lt;h2 class=&quot;list-heading&quot;&gt;Send us a message&lt;/h2&gt;\n  &lt;form action=&quot;#&quot; th:action=&quot;@{/send}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; class=&quot;mc-form&quot; th:object=&quot;${message}&quot;&gt;\n    &lt;label for=&quot;name&quot;&gt;Your Name&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;name&quot; placeholder=&quot;Your Name&quot; th:field=&quot;*{name}&quot; required&gt;\n    &lt;label for=&quot;email&quot;&gt;Your e-mail&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;email&quot; placeholder=&quot;e-mail&quot; th:field=&quot;*{email}&quot;&gt;\n    &lt;label for=&quot;message&quot;&gt;Your message&lt;/label&gt;\n    &lt;textarea id=&quot;message&quot; rows=&quot;10&quot; th:field=&quot;*{text}&quot;&gt;&lt;/textarea&gt;\n    &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/main&gt;\n&lt;/body&gt;\n</code></pre>\n<p>application.yml:</p>\n<pre><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: 10*****@gmail.com\n    password: [genereted password]\n    properties:\n      smtp:\n        auth: true\n        starttles:\n          enable: true\n          required: true\n</code></pre>\n<p>Please help, I've been googling this since yesterday and couldn't find an answer.</p>\n<p>I've also tried with <code>javax.mail-api</code>.</p>\n"},{"tags":["java","http","networking","java-http-client"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1675257726,"post_id":75310285,"comment_id":132889055,"body_markdown":"Client code in java is written 100% right and will work, just tested it myself. Your php code must return status 200 instead of 302","body":"Client code in java is written 100% right and will work, just tested it myself. Your php code must return status 200 instead of 302"},{"owner":{"account_id":26564882,"reputation":102,"user_id":20192114,"display_name":"LakshyaK2011"},"score":0,"creation_date":1675263571,"post_id":75310285,"comment_id":132891221,"body_markdown":"I Have Tried In Browser, It Works, No Server Sided Issue","body":"I Have Tried In Browser, It Works, No Server Sided Issue"}],"answers":[{"comments":[{"owner":{"account_id":26564882,"reputation":102,"user_id":20192114,"display_name":"LakshyaK2011"},"score":0,"creation_date":1675263889,"post_id":75311937,"comment_id":132891333,"body_markdown":"Ok, Not Calling This Method Dosen&#39;t Works, but calling that method with false, works, It Means That InstanceFollowRedirect Is True By Default I Think, Make Some Edits So Anyone Else Having  Same Problem Dosen&#39;t Go In Wrong Way,","body":"Ok, Not Calling This Method Dosen&#39;t Works, but calling that method with false, works, It Means That InstanceFollowRedirect Is True By Default I Think, Make Some Edits So Anyone Else Having  Same Problem Dosen&#39;t Go In Wrong Way,"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675264174,"post_id":75311937,"comment_id":132891426,"body_markdown":"Ah.  OK.  I was going from my memory.","body":"Ah.  OK.  I was going from my memory."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675264735,"post_id":75311937,"comment_id":132891642,"body_markdown":"The docs say that the default is the current value of `static boolean followRedirects`, and the initial value of that field is `true`.","body":"The docs say that the default is the current value of <code>static boolean followRedirects</code>, and the initial value of that field is <code>true</code>."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675264643,"creation_date":1675262825,"answer_id":75311937,"question_id":75310285,"body_markdown":"In your Java code, you are calling\r\n\r\n    connection.setInstanceFollowRedirects(true);\r\n\r\nbefore you make the `connect()` call.  That means that the Java client ... on receiving a 302 response ... will *perform the redirect*; i.e. resend the request to the redirect location.  What you see when you call `getResponseCode()` or `getHeaderFields()` are the the details of the response from the 2nd (redirected) GET.\r\n\r\nIn this case the redirect works, so the response code is 200 and the headers don&#39;t include the `location` header.\r\n\r\nIf you want to see the `302` response and its headers, call `setInstanceFollowRedirects(false)`.","title":"I Am Getting The 200 Status Code But Instead I Should get 302 Status Code, How Do I Solve It?","body":"<p>In your Java code, you are calling</p>\n<pre><code>connection.setInstanceFollowRedirects(true);\n</code></pre>\n<p>before you make the <code>connect()</code> call.  That means that the Java client ... on receiving a 302 response ... will <em>perform the redirect</em>; i.e. resend the request to the redirect location.  What you see when you call <code>getResponseCode()</code> or <code>getHeaderFields()</code> are the the details of the response from the 2nd (redirected) GET.</p>\n<p>In this case the redirect works, so the response code is 200 and the headers don't include the <code>location</code> header.</p>\n<p>If you want to see the <code>302</code> response and its headers, call <code>setInstanceFollowRedirects(false)</code>.</p>\n"}],"owner":{"account_id":26564882,"reputation":102,"user_id":20192114,"display_name":"LakshyaK2011"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75311937,"answer_count":1,"score":1,"last_activity_date":1675313775,"creation_date":1675254991,"question_id":75310285,"body_markdown":"I Was Making A Java Program That Can Check That We Will Redirect Or Not&lt;br&gt;\r\nThere Are Some Status Codes In HTTPS, Like 200 Is For OK And 302 Is For Redirect,&lt;br&gt;\r\nSo Heres My Code:\r\n```\r\nURL url = new URL(&quot;http://localhost/test/test_page_1.php&quot;);\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.connect();\r\nconnection.getResponseCode();\r\n```\r\nThe Line `connection.getResponseCode();` Should Return 302 (Redirect Code) Because In The Php Code, `header(&quot;location: pg_2.php&quot;) it sets location header to the page&#39;s location;`&lt;br&gt;\r\nBut Instead It Returns Me 200, I Am Using Xampp Wew Server, When I Open This Link In Browser, It Redirects Me, But Why I Am Not Getting 302 Code?\r\nPlease Help Me,\r\n\r\nEDIT:\r\nAlso,&lt;br&gt;\r\nWhen I Used This Code:\r\n```\r\nURL url = new URL(&quot;http://localhost/hackTest/log.php&quot;);\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.setInstanceFollowRedirects(true);\r\nconnection.connect();\r\nfor (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : connection.getHeaderFields().entrySet()){\r\n     System.out.print(entry.getKey() + &quot;: &quot;);\r\n     for (String  str:  entry.getValue()) {\r\n         System.out.print(str + &quot;, &quot;);\r\n     }\r\n     System.out.println();\r\n}\r\n```\r\nOutput:\r\n```\r\nKeep-Alive: timeout=5, max=100, \r\nnull: HTTP/1.1 200 OK, \r\nServer: Apache/2.4.53 (Win64) OpenSSL/1.1.1n PHP/8.1.4, \r\nConnection: Keep-Alive, \r\nContent-Length: 8, \r\nDate: Wed, 01 Feb 2023 12:56:06 GMT, \r\nContent-Type: text/html; charset=UTF-8, \r\nX-Powered-By: PHP/8.1.4, \r\n```\r\nThere Is No Line Saying Location: pg2.php,&lt;br&gt;\r\nWhy Its Happening, IDK&lt;br&gt;\r\nPlease Help,&lt;br&gt;Thanks,","title":"I Am Getting The 200 Status Code But Instead I Should get 302 Status Code, How Do I Solve It?","body":"<p>I Was Making A Java Program That Can Check That We Will Redirect Or Not<br>\nThere Are Some Status Codes In HTTPS, Like 200 Is For OK And 302 Is For Redirect,<br>\nSo Heres My Code:</p>\n<pre><code>URL url = new URL(&quot;http://localhost/test/test_page_1.php&quot;);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.connect();\nconnection.getResponseCode();\n</code></pre>\n<p>The Line <code>connection.getResponseCode();</code> Should Return 302 (Redirect Code) Because In The Php Code, <code>header(&quot;location: pg_2.php&quot;) it sets location header to the page's location;</code><br>\nBut Instead It Returns Me 200, I Am Using Xampp Wew Server, When I Open This Link In Browser, It Redirects Me, But Why I Am Not Getting 302 Code?\nPlease Help Me,</p>\n<p>EDIT:\nAlso,<br>\nWhen I Used This Code:</p>\n<pre><code>URL url = new URL(&quot;http://localhost/hackTest/log.php&quot;);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setInstanceFollowRedirects(true);\nconnection.connect();\nfor (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : connection.getHeaderFields().entrySet()){\n     System.out.print(entry.getKey() + &quot;: &quot;);\n     for (String  str:  entry.getValue()) {\n         System.out.print(str + &quot;, &quot;);\n     }\n     System.out.println();\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Keep-Alive: timeout=5, max=100, \nnull: HTTP/1.1 200 OK, \nServer: Apache/2.4.53 (Win64) OpenSSL/1.1.1n PHP/8.1.4, \nConnection: Keep-Alive, \nContent-Length: 8, \nDate: Wed, 01 Feb 2023 12:56:06 GMT, \nContent-Type: text/html; charset=UTF-8, \nX-Powered-By: PHP/8.1.4, \n</code></pre>\n<p>There Is No Line Saying Location: pg2.php,<br>\nWhy Its Happening, IDK<br>\nPlease Help,<br>Thanks,</p>\n"},{"tags":["java","android","flutter","dart","accessibilityservice"],"comments":[{"owner":{"account_id":7846684,"reputation":75,"user_id":5931529,"display_name":"piptan"},"score":0,"creation_date":1678084118,"post_id":75318489,"comment_id":133457790,"body_markdown":"I do not know if it is the case or not but I think that specific app is also using Flutter and still have print command uncommented so print result is shown on my console. This case also occurs to me when I debug one of my Flutter app and run another Flutter app of mine on the same phone that still has print command uncommented. Android Studio shows print result from both of them.","body":"I do not know if it is the case or not but I think that specific app is also using Flutter and still have print command uncommented so print result is shown on my console. This case also occurs to me when I debug one of my Flutter app and run another Flutter app of mine on the same phone that still has print command uncommented. Android Studio shows print result from both of them."}],"owner":{"account_id":7846684,"reputation":75,"user_id":5931529,"display_name":"piptan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675313603,"creation_date":1675309692,"question_id":75318489,"body_markdown":"I write a flutter app that uses Accessibility service to monitor users&#39; interaction on one specific app. Everything works as expected. However, when I look at runtime console on Android Studios, I noticed that flutter console can detect and log the URL that this specific app is requesting -\r\n\r\n*I/dump    (19995): android.view.accessibility.AccessibilityNodeInfo@f7a68; boundsInParent: Rect(0, 0 - 1080, 2220); boundsInScreen: Rect(0, 0 - 1080, 2220); packageName: com.example.customer.qr; className: android.widget.ImageView; text: null; error: null; maxTextLength: -1; contentDescription: null; tooltipText: null; viewIdResName: ; checkable: false; checked: false; focusable: false; focused: false; selected: false; clickable: false; longClickable: false; contextClickable: false; enabled: true; password: false; scrollable: false; importantForAccessibility: false; visible: true; actions: [AccessibilityAction: ACTION_ACCESSIBILITY_FOCUS - null]*\r\n\r\n**I/flutter (20997): https://www.example.com/example**\r\n\r\n*I/dump    (19995): android.view.accessibility.AccessibilityNodeInfo@8000798e; boundsInParent: Rect(0, 0 - 1080, 2220); boundsInScreen: Rect(0, 0 - 1080, 2220); packageName: com.ktb.customer.qr; className: android.widget.FrameLayout; text: null; error: null; maxTextLength: -1; contentDescription: null; tooltipText: null; viewIdResName: null; checkable: false; checked: false; focusable: false; focused: false; selected: false; clickable: false; longClickable: false; contextClickable: false; enabled: true; password: false; scrollable: false; importantForAccessibility: true; visible: true; actions: [AccessibilityAction: ACTION_SELECT - null, AccessibilityAction: ACTION_CLEAR_SELECTION - null, AccessibilityAction: ACTION_ACCESSIBILITY_FOCUS - null, AccessibilityAction: ACTION_SHOW_ON_SCREEN - null]*\r\n\r\n\r\nFlutter can also detect http request details like below -\r\n\r\n*I/flutter (20997): yJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3NfdXVpZCI6IkxaU0\r\nlLUk5OQTcxWDY0UzJQTVk4VUVZWiI*\r\n\r\n*I/flutter (20997): {&quot;code&quot;:1000,&quot;message&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;register_flag&quot;:true,&quot;consent_flag&quot;:true}}*\r\n\r\n*I/flutter (20997): https://www.example.com/example/ex*\r\n\r\n\r\nI wonder how flutter can detect this information and how can I retreive these values (Url, parameters) into my flutter program to make use of them.\r\n\r\nIt would be appreciated if anyone could help me","title":"Flutter Console shows http request from another app monitored by accessibility service. How?","body":"<p>I write a flutter app that uses Accessibility service to monitor users' interaction on one specific app. Everything works as expected. However, when I look at runtime console on Android Studios, I noticed that flutter console can detect and log the URL that this specific app is requesting -</p>\n<p><em>I/dump    (19995): android.view.accessibility.AccessibilityNodeInfo@f7a68; boundsInParent: Rect(0, 0 - 1080, 2220); boundsInScreen: Rect(0, 0 - 1080, 2220); packageName: com.example.customer.qr; className: android.widget.ImageView; text: null; error: null; maxTextLength: -1; contentDescription: null; tooltipText: null; viewIdResName: ; checkable: false; checked: false; focusable: false; focused: false; selected: false; clickable: false; longClickable: false; contextClickable: false; enabled: true; password: false; scrollable: false; importantForAccessibility: false; visible: true; actions: [AccessibilityAction: ACTION_ACCESSIBILITY_FOCUS - null]</em></p>\n<p><strong>I/flutter (20997): <a href=\"https://www.example.com/example\" rel=\"nofollow noreferrer\">https://www.example.com/example</a></strong></p>\n<p><em>I/dump    (19995): android.view.accessibility.AccessibilityNodeInfo@8000798e; boundsInParent: Rect(0, 0 - 1080, 2220); boundsInScreen: Rect(0, 0 - 1080, 2220); packageName: com.ktb.customer.qr; className: android.widget.FrameLayout; text: null; error: null; maxTextLength: -1; contentDescription: null; tooltipText: null; viewIdResName: null; checkable: false; checked: false; focusable: false; focused: false; selected: false; clickable: false; longClickable: false; contextClickable: false; enabled: true; password: false; scrollable: false; importantForAccessibility: true; visible: true; actions: [AccessibilityAction: ACTION_SELECT - null, AccessibilityAction: ACTION_CLEAR_SELECTION - null, AccessibilityAction: ACTION_ACCESSIBILITY_FOCUS - null, AccessibilityAction: ACTION_SHOW_ON_SCREEN - null]</em></p>\n<p>Flutter can also detect http request details like below -</p>\n<p><em>I/flutter (20997): yJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3NfdXVpZCI6IkxaU0\nlLUk5OQTcxWDY0UzJQTVk4VUVZWiI</em></p>\n<p><em>I/flutter (20997): {&quot;code&quot;:1000,&quot;message&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;register_flag&quot;:true,&quot;consent_flag&quot;:true}}</em></p>\n<p><em>I/flutter (20997): <a href=\"https://www.example.com/example/ex\" rel=\"nofollow noreferrer\">https://www.example.com/example/ex</a></em></p>\n<p>I wonder how flutter can detect this information and how can I retreive these values (Url, parameters) into my flutter program to make use of them.</p>\n<p>It would be appreciated if anyone could help me</p>\n"},{"tags":["java","spring","thymeleaf","many-to-one"],"answers":[{"tags":[],"owner":{"account_id":13910106,"reputation":206,"user_id":10043521,"display_name":"Andrei Prakhov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649582432,"creation_date":1649582432,"answer_id":71815271,"question_id":71814885,"body_markdown":"The problem is exactly what is stated in error message: &quot;Property or field &#39;name&#39; cannot be found on object of type &#39;com.vet.model.User&#39;&quot;. Your class User has no &#39;name&#39; field, so probably it is misprint: it has &#39;firstName&#39; and &#39;lastName&#39; fields instead.","title":"Java Spring many to one thymeleaf error . How can i solve it?","body":"<p>The problem is exactly what is stated in error message: &quot;Property or field 'name' cannot be found on object of type 'com.vet.model.User'&quot;. Your class User has no 'name' field, so probably it is misprint: it has 'firstName' and 'lastName' fields instead.</p>\n"},{"tags":[],"owner":{"account_id":27681617,"reputation":1,"user_id":21130236,"display_name":"mr_prince_myshkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675312607,"creation_date":1675312607,"answer_id":75318727,"question_id":71814885,"body_markdown":"For the future generations: Had a similar issue - Fixed it by creating a getter for the list that stores my associations.","title":"Java Spring many to one thymeleaf error . How can i solve it?","body":"<p>For the future generations: Had a similar issue - Fixed it by creating a getter for the list that stores my associations.</p>\n"}],"owner":{"account_id":24888944,"reputation":5,"user_id":18761183,"display_name":"Furkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71815271,"answer_count":2,"score":0,"last_activity_date":1675312607,"creation_date":1649578765,"question_id":71814885,"body_markdown":"The application works when database is empty.If I add a user then i can not add an animal .Can you help me ? I have 2 class User and Animal . \r\n\r\nAnimalController.java\r\n```     @GetMapping(&quot;/animals/new&quot;)\r\n    public String showAnimalNewForm(Model model){\r\n        List&lt;User&gt; listUsers = userService.listAll();\r\n        model.addAttribute(&quot;listUsers&quot;,listUsers);\r\n        model.addAttribute(&quot;animal&quot;,new Animal());\r\n        return &quot;animal_form&quot;;\r\n    }\r\n```\r\n\r\nHere i am trynig to show users . Animal have to has one owner.\r\nanimal_form.html\r\n```\r\n            &lt;div class=&quot;form-group raw&quot;&gt;\r\n                &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt; User: &lt;/label&gt;\r\n                &lt;div class=&quot;col-sm-8&quot; style=&quot;float: right;&quot;&gt;\r\n                    &lt;select class=&quot;form-control&quot; th:field=&quot;*{user}&quot; &gt;\r\n                        &lt;th:block th:each=&quot;user : ${listUsers}&quot;&gt;\r\n                            &lt;option th:text=&quot;${user.name}&quot; th:value=&quot;${user.id}&quot;&gt;\r\n                            &lt;/option&gt;\r\n                        &lt;/th:block&gt;\r\n                    &lt;/select&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n```\r\nError\r\n```\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSun Apr 10 11:16:51 TRT 2022\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nAn error happened during template parsing (template: &quot;class path resource [templates/animal_form.html]&quot;)\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/animal_form.html]&quot;)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;user.name&quot; (template: &quot;animal_form&quot; - line 57, col 37)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n\t... 51 more\r\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;user.name&quot; (template: &quot;animal_form&quot; - line 57, col 37)\r\n\tat org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\r\n\tat org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\r\n\tat org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\r\n\tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\r\n\tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\r\n\tat org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n\tat org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:282)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:290)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\r\n\tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\r\n\tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\r\n\tat org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\r\n\tat org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\r\n\tat org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\r\n\tat org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\r\n\tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n\t... 53 more\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;name&#39; cannot be found on object of type &#39;com.vet.model.User&#39; - maybe not public or not valid?\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\r\n\tat org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\r\n```\r\nAll code here: **https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet**","title":"Java Spring many to one thymeleaf error . How can i solve it?","body":"<p>The application works when database is empty.If I add a user then i can not add an animal .Can you help me ? I have 2 class User and Animal .</p>\n<p>AnimalController.java</p>\n<pre><code>    public String showAnimalNewForm(Model model){\n        List&lt;User&gt; listUsers = userService.listAll();\n        model.addAttribute(&quot;listUsers&quot;,listUsers);\n        model.addAttribute(&quot;animal&quot;,new Animal());\n        return &quot;animal_form&quot;;\n    }\n</code></pre>\n<p>Here i am trynig to show users . Animal have to has one owner.\nanimal_form.html</p>\n<pre><code>            &lt;div class=&quot;form-group raw&quot;&gt;\n                &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt; User: &lt;/label&gt;\n                &lt;div class=&quot;col-sm-8&quot; style=&quot;float: right;&quot;&gt;\n                    &lt;select class=&quot;form-control&quot; th:field=&quot;*{user}&quot; &gt;\n                        &lt;th:block th:each=&quot;user : ${listUsers}&quot;&gt;\n                            &lt;option th:text=&quot;${user.name}&quot; th:value=&quot;${user.id}&quot;&gt;\n                            &lt;/option&gt;\n                        &lt;/th:block&gt;\n                    &lt;/select&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n</code></pre>\n<p>Error</p>\n<pre><code>This application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSun Apr 10 11:16:51 TRT 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/animal_form.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/animal_form.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;user.name&quot; (template: &quot;animal_form&quot; - line 57, col 37)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 51 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;user.name&quot; (template: &quot;animal_form&quot; - line 57, col 37)\n    at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\n    at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\n    at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\n    at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\n    at org.thymeleaf.engine.Model.process(Model.java:282)\n    at org.thymeleaf.engine.Model.process(Model.java:290)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\n    at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\n    at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\n    at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\n    at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 53 more\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'name' cannot be found on object of type 'com.vet.model.User' - maybe not public or not valid?\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\n    at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\n</code></pre>\n<p>All code here: <strong><a href=\"https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet\" rel=\"nofollow noreferrer\">https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet</a></strong></p>\n"},{"tags":["java","spring-boot","apache","spring-security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675360765,"post_id":75318664,"comment_id":132917637,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16198561,"reputation":11,"user_id":11695527,"display_name":"Haker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675311869,"creation_date":1675311869,"question_id":75318664,"body_markdown":"I have apache running on a different host that can be authenticated using basic authentication, and I have a spring boot application running on a different server that uses JWT authentication. Can we authenticate the Apache server with that JWT token? I tried to get the url from the rest template and the username with the help of the Principle class. cannot extract the password.","title":"apache authentication with spring boot jwt token","body":"<p>I have apache running on a different host that can be authenticated using basic authentication, and I have a spring boot application running on a different server that uses JWT authentication. Can we authenticate the Apache server with that JWT token? I tried to get the url from the rest template and the username with the help of the Principle class. cannot extract the password.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668363185,"creation_date":1668363185,"answer_id":74423512,"question_id":74423399,"body_markdown":"If you need to store the object list as JSON in DB then you need Convert the list of object to JSON string using Jackson `ObjectMapper`. Store the converted string to DB.","title":"Convert POJO into JSON","body":"<p>If you need to store the object list as JSON in DB then you need Convert the list of object to JSON string using Jackson <code>ObjectMapper</code>. Store the converted string to DB.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668368528,"creation_date":1668368528,"answer_id":74424173,"question_id":74423399,"body_markdown":"&gt; How can I convert it to a list and save it in a database in JSON\r\n&gt; format?\r\n&gt; \r\n&gt; The data should be stored in the database in the format below:\r\n&gt; \r\n&gt; ```\r\n&gt; {\r\n&gt;   &quot;list&quot;: [\r\n&gt;     {\r\n&gt;        &quot;position&quot;: &quot;Manager&quot;\r\n&gt;        &quot;name&quot;: &quot;Bob&quot;\r\n&gt;     }\r\n&gt;   ]\r\n&gt; }\r\n&gt; ```\r\n\r\nSince the serialized JSON is required to have a property `&quot;list&quot;` you can&#39;t simply serialize the List as is.\r\n\r\nInstead, you can define a POJO wrapping this list.\r\n\r\nThat&#39;s how it might look like (I&#39;ve made it generic in order to make it suitable for serializing any type of list):\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public static class ListWrapper&lt;T&gt; {\r\n        private List&lt;T&gt; list;\r\n    }\r\n\r\nAnd that&#39;s how it can be serialized using Jackson&#39;s [`ObjectMapper`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html) and [`ObjectWriter`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectWriter.html):\r\n\r\n```\r\nList&lt;Emp&gt; emps = List.of(new Emp(&quot;Manager&quot;, &quot;Bob&quot;));\r\nListWrapper&lt;Emp&gt; listWrapper = new ListWrapper&lt;&gt;(emps);\r\n        \r\nObjectMapper mapper = new ObjectMapper();\r\nObjectWriter writer = mapper.writerWithDefaultPrettyPrinter();\r\n        \r\nString json = writer.writeValueAsString(listWrapper);\r\nSystem.out.println(json);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n{\r\n  &quot;list&quot; : [ {\r\n    &quot;name&quot; : &quot;Manager&quot;,\r\n    &quot;position&quot; : &quot;Bob&quot;\r\n  } ]\r\n}\r\n```","title":"Convert POJO into JSON","body":"<blockquote>\n<p>How can I convert it to a list and save it in a database in JSON\nformat?</p>\n<p>The data should be stored in the database in the format below:</p>\n<pre><code>{\n  &quot;list&quot;: [\n    {\n       &quot;position&quot;: &quot;Manager&quot;\n       &quot;name&quot;: &quot;Bob&quot;\n    }\n  ]\n}\n</code></pre>\n</blockquote>\n<p>Since the serialized JSON is required to have a property <code>&quot;list&quot;</code> you can't simply serialize the List as is.</p>\n<p>Instead, you can define a POJO wrapping this list.</p>\n<p>That's how it might look like (I've made it generic in order to make it suitable for serializing any type of list):</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic static class ListWrapper&lt;T&gt; {\n    private List&lt;T&gt; list;\n}\n</code></pre>\n<p>And that's how it can be serialized using Jackson's <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> and <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectWriter.html\" rel=\"nofollow noreferrer\"><code>ObjectWriter</code></a>:</p>\n<pre><code>List&lt;Emp&gt; emps = List.of(new Emp(&quot;Manager&quot;, &quot;Bob&quot;));\nListWrapper&lt;Emp&gt; listWrapper = new ListWrapper&lt;&gt;(emps);\n        \nObjectMapper mapper = new ObjectMapper();\nObjectWriter writer = mapper.writerWithDefaultPrettyPrinter();\n        \nString json = writer.writeValueAsString(listWrapper);\nSystem.out.println(json);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{\n  &quot;list&quot; : [ {\n    &quot;name&quot; : &quot;Manager&quot;,\n    &quot;position&quot; : &quot;Bob&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":22613353,"reputation":21,"user_id":16793182,"display_name":"Sam Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668437738,"accepted_answer_id":74424173,"answer_count":2,"score":0,"last_activity_date":1675311703,"creation_date":1668362162,"question_id":74423399,"body_markdown":"I have a POJO.\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Emp {\r\n    private String position;\r\n    private String name;\r\n}\r\n```\r\n\r\nSuppose, we have created an object \r\n\r\n```\r\nEmp emp = new Emp(&quot;Manager&quot;, &quot;Bob&quot;);\r\n```\r\n\r\nHow can I convert it to a list and save it in a database in JSON format?  \r\n\r\nThe data should be stored in the database in the format below:\r\n\r\n```\r\n{\r\n  list:[\r\n    {\r\n       position: Manager\r\n       name: Bob\r\n    }\r\n  ]\r\n}\r\n```\r\nAre there any ready solutions for that?\r\n\r\n\r\nI  converted an object into a list and then I called the .toString() method on it: \r\n\r\n```\r\nCollections.singletonList(emp);\r\n```\r\n\r\nBut when I store it in the database, the next save goes to the database:\r\n\r\n```\r\n[Emp(position=Manager, name=Bob)]\r\n```\r\nBut I need to store the record in a different way\r\n","title":"Convert POJO into JSON","body":"<p>I have a POJO.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@Builder\npublic class Emp {\n    private String position;\n    private String name;\n}\n</code></pre>\n<p>Suppose, we have created an object</p>\n<pre><code>Emp emp = new Emp(&quot;Manager&quot;, &quot;Bob&quot;);\n</code></pre>\n<p>How can I convert it to a list and save it in a database in JSON format?</p>\n<p>The data should be stored in the database in the format below:</p>\n<pre><code>{\n  list:[\n    {\n       position: Manager\n       name: Bob\n    }\n  ]\n}\n</code></pre>\n<p>Are there any ready solutions for that?</p>\n<p>I  converted an object into a list and then I called the .toString() method on it:</p>\n<pre><code>Collections.singletonList(emp);\n</code></pre>\n<p>But when I store it in the database, the next save goes to the database:</p>\n<pre><code>[Emp(position=Manager, name=Bob)]\n</code></pre>\n<p>But I need to store the record in a different way</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675311434,"creation_date":1675311434,"answer_id":75318629,"question_id":75317965,"body_markdown":"If you are using this [easytable](https://github.com/vandeseer/easytable) library, when you try to build a ```Row```, it will return the ```Row``` Object to you:\r\n```java\r\npublic Row build() {\r\n    final Row row = new Row(cells);\r\n    row.settings = settings;\r\n    row.height = height;\r\n\r\n    return row;\r\n}\r\n```\r\n\r\nSo before you call ```addRow()``` to add your last ```Row``` to ```Table```, you can assign your last ```Row``` to a variable first.\r\n```java\r\nRow lastRow = Row.builder().build();\r\nTable table = Table.builder().addRow(lastRow);\r\n```\r\nAnd you can get access to last Row with ```lastRow```.","title":"In easyTable &quot;java&quot;, is there a possibility to access the last row i created?","body":"<p>If you are using this <a href=\"https://github.com/vandeseer/easytable\" rel=\"nofollow noreferrer\">easytable</a> library, when you try to build a <code>Row</code>, it will return the <code>Row</code> Object to you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Row build() {\n    final Row row = new Row(cells);\n    row.settings = settings;\n    row.height = height;\n\n    return row;\n}\n</code></pre>\n<p>So before you call <code>addRow()</code> to add your last <code>Row</code> to <code>Table</code>, you can assign your last <code>Row</code> to a variable first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Row lastRow = Row.builder().build();\nTable table = Table.builder().addRow(lastRow);\n</code></pre>\n<p>And you can get access to last Row with <code>lastRow</code>.</p>\n"}],"owner":{"account_id":27680833,"reputation":3,"user_id":21129615,"display_name":"yossef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75318629,"answer_count":1,"score":0,"last_activity_date":1675311434,"creation_date":1675303275,"question_id":75317965,"body_markdown":"in TableBuilder exactly , can i access the last row ?\r\n\r\nThere is nothing in the doc of the library explains how to do it","title":"In easyTable &quot;java&quot;, is there a possibility to access the last row i created?","body":"<p>in TableBuilder exactly , can i access the last row ?</p>\n<p>There is nothing in the doc of the library explains how to do it</p>\n"},{"tags":["java","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":8342165,"reputation":336,"user_id":6267163,"display_name":"V. Rob"},"score":0,"creation_date":1503563658,"post_id":45847035,"comment_id":78671275,"body_markdown":"are you looking for this: https://www.openhub.net/p/selenium-profiler ?","body":"are you looking for this: <a href=\"https://www.openhub.net/p/selenium-profiler\" rel=\"nofollow noreferrer\">openhub.net/p/selenium-profiler</a> ?"},{"owner":{"account_id":8342165,"reputation":336,"user_id":6267163,"display_name":"V. Rob"},"score":2,"creation_date":1503563741,"post_id":45847035,"comment_id":78671336,"body_markdown":"another way - using proxy for capture all network activity, in fast search I found this: https://github.com/lightbody/browsermob-proxy","body":"another way - using proxy for capture all network activity, in fast search I found this: <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">github.com/lightbody/browsermob-proxy</a>"},{"owner":{"account_id":11726337,"reputation":1244,"user_id":8583496,"display_name":"Alexey Shrub"},"score":0,"creation_date":1562686592,"post_id":45847035,"comment_id":100450620,"body_markdown":"example for python https://gist.github.com/mkaz/3047779 and docs https://www.w3.org/TR/navigation-timing/#processing-model","body":"example for python <a href=\"https://gist.github.com/mkaz/3047779\" rel=\"nofollow noreferrer\">gist.github.com/mkaz/3047779</a> and docs <a href=\"https://www.w3.org/TR/navigation-timing/#processing-model\" rel=\"nofollow noreferrer\">w3.org/TR/navigation-timing/#processing-model</a>"},{"owner":{"account_id":16032630,"reputation":199,"user_id":11571109,"display_name":"jainam shah"},"score":0,"creation_date":1629959826,"post_id":45847035,"comment_id":121825747,"body_markdown":"@AlexeyShrub any way to get status code from XHR using python?","body":"@AlexeyShrub any way to get status code from XHR using python?"}],"answers":[{"comments":[{"owner":{"account_id":2649991,"reputation":1050,"user_id":2291928,"accept_rate":100,"display_name":"George Pantazes"},"score":4,"creation_date":1535144863,"post_id":45859018,"comment_id":90974432,"body_markdown":"The output from the first code example isn&#39;t valid JSON (it&#39;s missing quotation marks, mostly). In order to fix that and get valid JSON output, instead of `return network;` from within the Javascript string, `return JSON.stringify(network);` will output valid JSON with the quotes and all.","body":"The output from the first code example isn&#39;t valid JSON (it&#39;s missing quotation marks, mostly). In order to fix that and get valid JSON output, instead of <code>return network;</code> from within the Javascript string, <code>return JSON.stringify(network);</code> will output valid JSON with the quotes and all."},{"owner":{"account_id":3849926,"reputation":16804,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"score":0,"creation_date":1535423701,"post_id":45859018,"comment_id":91049254,"body_markdown":"Thanks for sharing @George Pantazes ... I will try and update it soon","body":"Thanks for sharing @George Pantazes ... I will try and update it soon"},{"owner":{"account_id":2649991,"reputation":1050,"user_id":2291928,"accept_rate":100,"display_name":"George Pantazes"},"score":3,"creation_date":1535580721,"post_id":45859018,"comment_id":91123776,"body_markdown":"Another caveat with the Javascript solution: getting the network requests via `performance` entries will only give the network requests at/up to page load and cannot poll for subsequent async/ajax calls. I believe it is the same for the logging solution since it&#39;s also logging Performance (although I haven&#39;t tried the logging code). @ShubhamJain for my own education, can you confirm if the two snippets both get Performance requests? I think given the limitations of using Performance, I&#39;m going to use [BrowserMobProxy](https://github.com/lightbody/browsermob-proxy) instead.","body":"Another caveat with the Javascript solution: getting the network requests via <code>performance</code> entries will only give the network requests at/up to page load and cannot poll for subsequent async/ajax calls. I believe it is the same for the logging solution since it&#39;s also logging Performance (although I haven&#39;t tried the logging code). @ShubhamJain for my own education, can you confirm if the two snippets both get Performance requests? I think given the limitations of using Performance, I&#39;m going to use <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">BrowserMobProxy</a> instead."},{"owner":{"account_id":7107154,"reputation":460,"user_id":5436436,"display_name":"0xM4x"},"score":2,"creation_date":1572363609,"post_id":45859018,"comment_id":103532040,"body_markdown":"I tried to use this method but I think it&#39;s not a complete log. Is there any method to have a more complete network log? for example the type of requests, if the responses were successful ... ?","body":"I tried to use this method but I think it&#39;s not a complete log. Is there any method to have a more complete network log? for example the type of requests, if the responses were successful ... ?"}],"tags":[],"owner":{"account_id":3849926,"reputation":16804,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"comment_count":4,"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1650895553,"creation_date":1503569886,"answer_id":45859018,"question_id":45847035,"body_markdown":"Not exactly open by dev tools but found some network, performance and other results.\r\n\r\nYes you can do that using JavascriptExecutor\r\n\r\nBelow Code will give you all performance, network etc entries:-\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;start-maximized&quot;);\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    WebDriver driver = new ChromeDriver(capabilities);\r\n    driver.get(&quot;http://www.google.com&quot;);\r\n    String scriptToExecute = &quot;var performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || {}; var network = performance.getEntries() || {}; return network;&quot;;\r\n    String netData = ((JavascriptExecutor)driver).executeScript(scriptToExecute).toString();\r\n    System.out.println(netData);\r\n\r\nOR Below Code will give you specific performance entries:-\r\n\r\n    DesiredCapabilities d = DesiredCapabilities.chrome();\r\n    LoggingPreferences logPrefs = new LoggingPreferences();\r\n    logPrefs.enable(LogType.PERFORMANCE, Level.ALL);\r\n    d.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\r\n    WebDriver driver = new ChromeDriver(d);\r\n    driver.get(&quot;https://www.google.co.in/&quot;);\r\n    driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\r\n    LogEntries les = driver.manage().logs().get(LogType.PERFORMANCE);\r\n    for (LogEntry le : les) {\r\n        System.out.println(le.getMessage());\r\n    }\r\n\r\nThe first code retrun network `return network;&quot;` because of this JS tag. You can remove JS code of entity which you don&#39;t require\r\n\r\nThe second code return perfromance\r\n\r\nHope it will help you :)","title":"Using Selenium how to get network request","body":"<p>Not exactly open by dev tools but found some network, performance and other results.</p>\n<p>Yes you can do that using JavascriptExecutor</p>\n<p>Below Code will give you all performance, network etc entries:-</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;start-maximized&quot;);\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\nWebDriver driver = new ChromeDriver(capabilities);\ndriver.get(&quot;http://www.google.com&quot;);\nString scriptToExecute = &quot;var performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || {}; var network = performance.getEntries() || {}; return network;&quot;;\nString netData = ((JavascriptExecutor)driver).executeScript(scriptToExecute).toString();\nSystem.out.println(netData);\n</code></pre>\n<p>OR Below Code will give you specific performance entries:-</p>\n<pre><code>DesiredCapabilities d = DesiredCapabilities.chrome();\nLoggingPreferences logPrefs = new LoggingPreferences();\nlogPrefs.enable(LogType.PERFORMANCE, Level.ALL);\nd.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\nWebDriver driver = new ChromeDriver(d);\ndriver.get(&quot;https://www.google.co.in/&quot;);\ndriver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\nLogEntries les = driver.manage().logs().get(LogType.PERFORMANCE);\nfor (LogEntry le : les) {\n    System.out.println(le.getMessage());\n}\n</code></pre>\n<p>The first code retrun network <code>return network;&quot;</code> because of this JS tag. You can remove JS code of entity which you don't require</p>\n<p>The second code return perfromance</p>\n<p>Hope it will help you :)</p>\n"},{"comments":[{"owner":{"account_id":129681,"reputation":1543,"user_id":328421,"accept_rate":100,"display_name":"ebeland"},"score":2,"creation_date":1556243422,"post_id":55810753,"comment_id":98380444,"body_markdown":"The browsermob proxy hasn&#39;t been maintained for a couple years. We just released an actively maintained fork named the [BrowserUp Proxy](https://github.com/browserup/browserup-proxy). It has the same API as the BrowserMob proxy, but also has Java 11 support, HTTP/2 support, updated dependencies, and people caring for it.","body":"The browsermob proxy hasn&#39;t been maintained for a couple years. We just released an actively maintained fork named the <a href=\"https://github.com/browserup/browserup-proxy\" rel=\"nofollow noreferrer\">BrowserUp Proxy</a>. It has the same API as the BrowserMob proxy, but also has Java 11 support, HTTP/2 support, updated dependencies, and people caring for it."}],"tags":[],"owner":{"account_id":15798219,"reputation":47,"user_id":11399494,"display_name":"naveen kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556023519,"creation_date":1556020772,"answer_id":55810753,"question_id":45847035,"body_markdown":"1. You can use &quot;browsermob-proxy&quot;, &quot;LoggingPreferences&quot;, &quot;CloseableHttpClient&quot;, &quot;HttpURLConnection&quot; for getting the logs\r\n2. If you wish not to use browser and want to get the response, then I would suggest to go for &quot;CloseableHttpClient&quot;.\r\n3. Copy the URI (&quot;www.somewebsite.com/v1/api/sign-in?&quot;).\r\n   Get the request payload(which will be available in that particular API URI). Pass all the parameters with &quot;&amp;&quot; like this &quot;www.somewebsite.com/v1/api/sign-in?&amp;username=xyz&amp;password=1234566&amp;app_id=12123214324234134&amp;app_secret=213242345345345&quot;\r\n(Remember app id and app secret is very unique and do not expose it anywhere)\r\n4. Once you get the URI, this code will give you JSON format response\r\n\r\n```java\r\n            HttpPost request = new HttpPost(str);\r\n            request.setHeader(&quot;content-type&quot;, &quot;application/json&quot;);\r\n            HttpResponse response = client.execute(request);\r\n            BufferedReader bufReader = new BufferedReader(new InputStreamReader(\r\n                    response.getEntity().getContent()));\r\n            while ((line = bufReader.readLine()) != null) {\r\n            \tbuilder=String.valueOf(line);\r\n            }\r\n\r\n            System.out.println(builder);\r\n        }\r\n\r\n```\r\n\r\n","title":"Using Selenium how to get network request","body":"<ol>\n<li>You can use \"browsermob-proxy\", \"LoggingPreferences\", \"CloseableHttpClient\", \"HttpURLConnection\" for getting the logs</li>\n<li>If you wish not to use browser and want to get the response, then I would suggest to go for \"CloseableHttpClient\".</li>\n<li>Copy the URI (\"www.somewebsite.com/v1/api/sign-in?\").\nGet the request payload(which will be available in that particular API URI). Pass all the parameters with \"&amp;\" like this \"www.somewebsite.com/v1/api/sign-in?&amp;username=xyz&amp;password=1234566&amp;app_id=12123214324234134&amp;app_secret=213242345345345\"\n(Remember app id and app secret is very unique and do not expose it anywhere)</li>\n<li>Once you get the URI, this code will give you JSON format response</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>            HttpPost request = new HttpPost(str);\n            request.setHeader(\"content-type\", \"application/json\");\n            HttpResponse response = client.execute(request);\n            BufferedReader bufReader = new BufferedReader(new InputStreamReader(\n                    response.getEntity().getContent()));\n            while ((line = bufReader.readLine()) != null) {\n                builder=String.valueOf(line);\n            }\n\n            System.out.println(builder);\n        }\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3849926,"reputation":16804,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"score":0,"creation_date":1650895690,"post_id":60060074,"comment_id":127225027,"body_markdown":"same answer I have given in 2017, 3 years before this answer. this is the not the right way to get points in StackOverflow .. if you have some better / different code only then share another answer .. dublicate same code make this site unreliable","body":"same answer I have given in 2017, 3 years before this answer. this is the not the right way to get points in StackOverflow .. if you have some better / different code only then share another answer .. dublicate same code make this site unreliable"},{"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"score":0,"creation_date":1651055678,"post_id":60060074,"comment_id":127269704,"body_markdown":"Look at the code and then try to run yours and then mine, they are different!","body":"Look at the code and then try to run yours and then mine, they are different!"}],"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1598967168,"creation_date":1580828375,"answer_id":60060074,"question_id":45847035,"body_markdown":"It&#39;s working for me\r\n\r\n   \r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    LoggingPreferences logPrefs = new LoggingPreferences();\r\n    logPrefs.enable( LogType.PERFORMANCE, Level.ALL );\r\n    options.setCapability( &quot;goog:loggingPrefs&quot;, logPrefs );\r\n    WebDriverManager.chromedriver().setup();\r\n    WebDriver driver = new ChromeDriver(options);\r\n    driver.get(&quot;http://www.google.com&quot;);\r\n        \r\n    List&lt;LogEntry&gt; entries = driver.manage().logs().get(LogType.PERFORMANCE).getAll();\r\n    System.out.println(entries.size() + &quot; &quot; + LogType.PERFORMANCE + &quot; log entries found&quot;);\r\n     for (LogEntry entry : entries) {\r\n       System.out.println(entry.getMessage());\r\n     }","title":"Using Selenium how to get network request","body":"<p>It's working for me</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\nLoggingPreferences logPrefs = new LoggingPreferences();\nlogPrefs.enable( LogType.PERFORMANCE, Level.ALL );\noptions.setCapability( &quot;goog:loggingPrefs&quot;, logPrefs );\nWebDriverManager.chromedriver().setup();\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;http://www.google.com&quot;);\n    \nList&lt;LogEntry&gt; entries = driver.manage().logs().get(LogType.PERFORMANCE).getAll();\nSystem.out.println(entries.size() + &quot; &quot; + LogType.PERFORMANCE + &quot; log entries found&quot;);\n for (LogEntry entry : entries) {\n   System.out.println(entry.getMessage());\n }\n</code></pre>\n"}],"owner":{"account_id":10621254,"reputation":2639,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96502,"favorite_count":0,"down_vote_count":2,"up_vote_count":34,"closed_date":1660456966,"accepted_answer_id":45859018,"answer_count":3,"score":32,"last_activity_date":1675309511,"creation_date":1503513077,"question_id":45847035,"body_markdown":"I want to take all the network requests using selenium. I am not getting any way to find this solution if anyone can suggest to me or provide a code or library that would be appreciated. \r\n\r\nThis is my code:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    // Setting some chrome features here\r\n    \r\n    ProxyServer proxyServer = new ProxyServer(4444);\r\n    proxyServer.start();\r\n    \r\n    Proxy proxy = proxyServer.seleniumProxy();\r\n    \r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    \r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    capabilities.setCapability(CapabilityType.PROXY, proxy);\r\n    \r\n    WebDriver driver = new ChromeDriver(capabilities); // Error happens here\r\n\r\n[![Network Request][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yzOUV.png","title":"Using Selenium how to get network request","body":"<p>I want to take all the network requests using selenium. I am not getting any way to find this solution if anyone can suggest to me or provide a code or library that would be appreciated.</p>\n<p>This is my code:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n// Setting some chrome features here\n\nProxyServer proxyServer = new ProxyServer(4444);\nproxyServer.start();\n\nProxy proxy = proxyServer.seleniumProxy();\n\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\n\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\ncapabilities.setCapability(CapabilityType.PROXY, proxy);\n\nWebDriver driver = new ChromeDriver(capabilities); // Error happens here\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yzOUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzOUV.png\" alt=\"Network Request\" /></a></p>\n"},{"tags":["java","spring-boot","soap"],"answers":[{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664513736,"creation_date":1664511326,"answer_id":73903955,"question_id":73713460,"body_markdown":"Note that a namespace declaration in XML is not an attribute. Don&#39;t be confused by the similar syntax!\r\n\r\nSo I would not expect `e.removeAttribute` to do anything, because there is no attribute with the name `xmlns`.\r\n\r\nWhat you actually need to do is to _change the name_ of the element, e.g. using its [setElementQName()][1] method.  \r\n\r\n```java\r\n@Override\r\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\r\n    \r\n    SOAPMessage soapMessage = ((SaajSoapMessage) messageContext.getRequest()).getSaajMessage();\r\n    SOAPBody body = soapMessage.getSOAPBody();\r\n    \r\n    Iterator&lt;SOAPBodyElement&gt; it = body.getChildElements();\r\n    while (it.hasNext()) {\r\n        Object node = it.next();\r\n        if (!isTextNode(node)) {\r\n            com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl e = \r\n                    (com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl) node;\r\n            \r\n            Iterator&lt;SOAPBodyElement&gt; subItr = e.getChildElements();\r\n            while(subItr.hasNext()) {\r\n                Object subNode = subItr.next();\r\n                if(subNode instanceof com.sun.xml.internal.messaging.saaj.soap.impl.ElementImpl) {\r\n                    SOAPElement el = (SOAPElement) subNode;                \r\n                    el.setElementQName(\r\n                        new QName(\r\n                            e.getElementName().getURI(), \r\n                            el.getElementName().getLocalName()\r\n                        )\r\n                    );\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n    \r\n    soapMessage.writeTo(System.out);\r\n    return true;\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/xml/soap/SOAPElement.html#setElementQName-javax.xml.namespace.QName-","title":"Remove empty ns attribute from SOAP request using EndpointInterceptor","body":"<p>Note that a namespace declaration in XML is not an attribute. Don't be confused by the similar syntax!</p>\n<p>So I would not expect <code>e.removeAttribute</code> to do anything, because there is no attribute with the name <code>xmlns</code>.</p>\n<p>What you actually need to do is to <em>change the name</em> of the element, e.g. using its <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/soap/SOAPElement.html#setElementQName-javax.xml.namespace.QName-\" rel=\"nofollow noreferrer\">setElementQName()</a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\n    \n    SOAPMessage soapMessage = ((SaajSoapMessage) messageContext.getRequest()).getSaajMessage();\n    SOAPBody body = soapMessage.getSOAPBody();\n    \n    Iterator&lt;SOAPBodyElement&gt; it = body.getChildElements();\n    while (it.hasNext()) {\n        Object node = it.next();\n        if (!isTextNode(node)) {\n            com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl e = \n                    (com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl) node;\n            \n            Iterator&lt;SOAPBodyElement&gt; subItr = e.getChildElements();\n            while(subItr.hasNext()) {\n                Object subNode = subItr.next();\n                if(subNode instanceof com.sun.xml.internal.messaging.saaj.soap.impl.ElementImpl) {\n                    SOAPElement el = (SOAPElement) subNode;                \n                    el.setElementQName(\n                        new QName(\n                            e.getElementName().getURI(), \n                            el.getElementName().getLocalName()\n                        )\n                    );\n                }\n            }\n            \n        }\n    }\n    \n    soapMessage.writeTo(System.out);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":191602,"reputation":6822,"user_id":455814,"accept_rate":71,"display_name":"Waqas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73903955,"answer_count":1,"score":2,"last_activity_date":1675309265,"creation_date":1663142673,"question_id":73713460,"body_markdown":"There is this legacy system which is sending SOAP requests with an empty namespace attribute causing fields values to be null, when namespace attribute is removed while testing from SOAP UI, it work fine.\r\n\r\nThis is what problematic SOAP request looks like\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;soapenv:Body&gt;\r\n        &lt;ADD xmlns=&quot;http://www.cc.com/ws&quot;&gt;\r\n            &lt;ID xmlns=&quot;&quot;&gt;dummy&lt;/ID&gt;\r\n            &lt;PWD xmlns=&quot;&quot;&gt;password&lt;/PWD&gt;\r\n        &lt;/ADD&gt;\r\n    &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\nI tried by adding an interceptor using `addInterceptors` method of `WsConfigurerAdapter`, code of which is pasted below, but it doesn&#39;t work\r\n\r\n```\r\n@Override\r\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\r\n\t\r\n\tSOAPMessage soapMessage = ((SaajSoapMessage) messageContext.getRequest()).getSaajMessage();\r\n\tSOAPBody body = soapMessage.getSOAPBody();\r\n\t\r\n\tIterator&lt;SOAPBodyElement&gt; it = body.getChildElements();\r\n\twhile (it.hasNext()) {\r\n\t\tObject node = it.next();\r\n\t\tif (!isTextNode(node)) {\r\n\t\t\tcom.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl e = \r\n\t\t\t\t\t(com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl) node;\r\n\t\t\t\r\n\t\t\tIterator&lt;SOAPBodyElement&gt; subItr = e.getChildElements();\r\n\t\t\twhile(subItr.hasNext()) {\r\n\t\t\t\tObject subNode = subItr.next();\r\n\t\t\t\tif(subNode instanceof com.sun.xml.internal.messaging.saaj.soap.impl.ElementImpl) {\r\n\t\t\t\t\tSOAPElement el = (SOAPElement) subNode;\r\n\t\t\t\t\r\n\t\t\t\t\tel.removeAttribute(&quot;xmlns&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tsoapMessage.writeTo(System.out);\r\n\treturn true;\r\n}\r\n```\r\n\r\n","title":"Remove empty ns attribute from SOAP request using EndpointInterceptor","body":"<p>There is this legacy system which is sending SOAP requests with an empty namespace attribute causing fields values to be null, when namespace attribute is removed while testing from SOAP UI, it work fine.</p>\n<p>This is what problematic SOAP request looks like</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;soapenv:Body&gt;\n        &lt;ADD xmlns=&quot;http://www.cc.com/ws&quot;&gt;\n            &lt;ID xmlns=&quot;&quot;&gt;dummy&lt;/ID&gt;\n            &lt;PWD xmlns=&quot;&quot;&gt;password&lt;/PWD&gt;\n        &lt;/ADD&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>I tried by adding an interceptor using <code>addInterceptors</code> method of <code>WsConfigurerAdapter</code>, code of which is pasted below, but it doesn't work</p>\n<pre><code>@Override\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\n    \n    SOAPMessage soapMessage = ((SaajSoapMessage) messageContext.getRequest()).getSaajMessage();\n    SOAPBody body = soapMessage.getSOAPBody();\n    \n    Iterator&lt;SOAPBodyElement&gt; it = body.getChildElements();\n    while (it.hasNext()) {\n        Object node = it.next();\n        if (!isTextNode(node)) {\n            com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl e = \n                    (com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl) node;\n            \n            Iterator&lt;SOAPBodyElement&gt; subItr = e.getChildElements();\n            while(subItr.hasNext()) {\n                Object subNode = subItr.next();\n                if(subNode instanceof com.sun.xml.internal.messaging.saaj.soap.impl.ElementImpl) {\n                    SOAPElement el = (SOAPElement) subNode;\n                \n                    el.removeAttribute(&quot;xmlns&quot;);\n                }\n            }\n            \n        }\n    }\n    \n    soapMessage.writeTo(System.out);\n    return true;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","multipart"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1675417421,"post_id":75318244,"comment_id":132928832,"body_markdown":"You are constructing your request wrong please look at this example https://www.baeldung.com/spring-multipart-post-request-test","body":"You are constructing your request wrong please look at this example <a href=\"https://www.baeldung.com/spring-multipart-post-request-test\" rel=\"nofollow noreferrer\">baeldung.com/spring-multipart-post-request-test</a>"}],"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675306850,"creation_date":1675306850,"question_id":75318244,"body_markdown":"while creating a file upload api using spring webflux, the response of the api is 415.\r\n\r\nI searched hard on Google, but couldn&#39;t find a solution, so I posted a question.\r\n\r\nMy guess is that the conversion of Flux&lt;FilePart&gt; files failed during the message conversion process.\r\n\r\nI would be very grateful if you could tell me how to solve it.\r\n\r\n\r\n*I couldn&#39;t speak English well, so I had help from Google Translate. I apologize in advance that my tone may be unsporting.*\r\n\r\n**environmental information**\r\njdk17,\r\ngradle 7.6\r\ndependencies\r\n```\r\ndependencies {\r\n\t// lombok\r\n\tcompileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.24&#39;\r\n\tannotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.24&#39;\r\n\r\n\t// https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client\r\n\timplementation &#39;org.mariadb.jdbc:mariadb-java-client:3.1.2&#39;\r\n\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nAPI CODE Example\r\n\r\n```java\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.codec.multipart.FilePart;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestPart;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\npublic class FileController {\r\n\r\n    @PostMapping(value = &quot;/test&quot;)\r\n    public String test(@RequestPart(&quot;test&quot;) String temp) {\r\n        return null;\r\n    }\r\n\r\n    @PostMapping(value = &quot;/file&quot;, consumes = { MediaType.MULTIPART_FORM_DATA_VALUE })\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; uploadFile(@RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; files) {\r\n\r\n        System.out.println(&quot;called uploadFile!!!&quot;);\r\n\r\n        return Mono.empty();\r\n    }\r\n\r\n}\r\n```\r\n\r\nTest CODE Example\r\n```java\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.net.URI;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.mock.web.MockMultipartFile;\r\nimport org.springframework.mock.web.MockPart;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\npublic class FileControllerTest {\r\n\r\n    @Test\r\n    @DisplayName(&quot;file upload test&quot;)\r\n    public void uploadFileTest() throws Exception {\r\n\r\n        // given\r\n        String fileName = &quot;TestSample&quot;;\r\n        String origFilename = &quot;TestSample.md&quot;;\r\n\r\n        Path sampleFilePath = Paths.get(getClass().getResource(&quot;sample/&quot; + origFilename + &quot;&quot;).toURI());\r\n\r\n        FileInputStream fis = new FileInputStream(sampleFilePath.toFile());\r\n\r\n        MockMultipartFile sampleFile = new MockMultipartFile(fileName,\r\n                origFilename, MediaType.MULTIPART_FORM_DATA_VALUE, fis);\r\n        MockMvc mockMvc = MockMvcBuilders.standaloneSetup(new FileController()).build();\r\n\r\n        // when, then\r\n        mockMvc.perform(\r\n                multipart(new URI(&quot;/v1/file&quot;)).file(\r\n                        sampleFile).part(\r\n                                new MockPart(&quot;file&quot;,\r\n                                        sampleFile.getBytes())))\r\n                .andExpect(status().isOk());\r\n    }\r\n}\r\n```\r\n\r\nResponse Example\r\n[![enter image description here][1]][1]\r\n```\r\n2023-02-02T11:45:45.114+09:00  WARN 36696 --- [           main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/octet-stream&#39; is not supported]\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DwvU0.png\r\n  [2]: https://i.stack.imgur.com/wLlV9.png\r\n\r\n","title":"Why does a 415 response occur when calling the multipart file upload api made with spring webflux?","body":"<p>while creating a file upload api using spring webflux, the response of the api is 415.</p>\n<p>I searched hard on Google, but couldn't find a solution, so I posted a question.</p>\n<p>My guess is that the conversion of Flux files failed during the message conversion process.</p>\n<p>I would be very grateful if you could tell me how to solve it.</p>\n<p><em>I couldn't speak English well, so I had help from Google Translate. I apologize in advance that my tone may be unsporting.</em></p>\n<p><strong>environmental information</strong>\njdk17,\ngradle 7.6\ndependencies</p>\n<pre><code>dependencies {\n    // lombok\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.24'\n    annotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.24'\n\n    // https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client\n    implementation 'org.mariadb.jdbc:mariadb-java-client:3.1.2'\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\n</code></pre>\n<p>API CODE Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.codec.multipart.FilePart;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport lombok.extern.slf4j.Slf4j;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/v1&quot;)\npublic class FileController {\n\n    @PostMapping(value = &quot;/test&quot;)\n    public String test(@RequestPart(&quot;test&quot;) String temp) {\n        return null;\n    }\n\n    @PostMapping(value = &quot;/file&quot;, consumes = { MediaType.MULTIPART_FORM_DATA_VALUE })\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; uploadFile(@RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; files) {\n\n        System.out.println(&quot;called uploadFile!!!&quot;);\n\n        return Mono.empty();\n    }\n\n}\n</code></pre>\n<p>Test CODE Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport java.io.FileInputStream;\nimport java.net.URI;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.mock.web.MockMultipartFile;\nimport org.springframework.mock.web.MockPart;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\npublic class FileControllerTest {\n\n    @Test\n    @DisplayName(&quot;file upload test&quot;)\n    public void uploadFileTest() throws Exception {\n\n        // given\n        String fileName = &quot;TestSample&quot;;\n        String origFilename = &quot;TestSample.md&quot;;\n\n        Path sampleFilePath = Paths.get(getClass().getResource(&quot;sample/&quot; + origFilename + &quot;&quot;).toURI());\n\n        FileInputStream fis = new FileInputStream(sampleFilePath.toFile());\n\n        MockMultipartFile sampleFile = new MockMultipartFile(fileName,\n                origFilename, MediaType.MULTIPART_FORM_DATA_VALUE, fis);\n        MockMvc mockMvc = MockMvcBuilders.standaloneSetup(new FileController()).build();\n\n        // when, then\n        mockMvc.perform(\n                multipart(new URI(&quot;/v1/file&quot;)).file(\n                        sampleFile).part(\n                                new MockPart(&quot;file&quot;,\n                                        sampleFile.getBytes())))\n                .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>Response Example\n<a href=\"https://i.stack.imgur.com/DwvU0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DwvU0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>2023-02-02T11:45:45.114+09:00  WARN 36696 --- [           main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/octet-stream' is not supported]\n</code></pre>\n"},{"tags":["java","netflix-zuul","api-gateway"],"owner":{"account_id":4755611,"reputation":5317,"user_id":3844458,"accept_rate":64,"display_name":"Pham X. Bach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675306419,"creation_date":1675306419,"question_id":75318205,"body_markdown":"I&#39;m setting up a zuul api gateway, but cannot set socket timeout\r\n\r\nThis is my application.properies file:\r\n\r\n    server.port = 8888\r\n\t#server.port = 443\r\n\t#server.port = 80\r\n\tspring.application.name = fmmm-gateway\r\n\r\n\t#Them systemlog tai thu muc logs/system\r\n\tlogging.level.com.rishabh.zuulgatewayservice.ZuulGatewayServiceApplication=INFO\r\n\tlogging.file.name=logs/system/system.log\r\n\r\n\tzuul.sslHostnameValidationEnabled=false\r\n\t \r\n\tzuul.host.connect-timeout-millis=100 #90000\r\n\tzuul.host.socket-timeout-millis=100 #90000\r\n\tzuul.host.read-timeout-millis=100 #90000\r\n\r\n\tribbon.ConnectTimeout=100 #90000\r\n\tribbon.ReadTimeout=100  #90000\r\n\tribbon.SocketTimeout=100 #90000\r\n\t \r\n\t#https://cloud.spring.io/spring-cloud-netflix/multi/multi__router_and_filter_zuul.html\r\n\tzuul.sensitiveHeaders=Cookie #Set global sensitiveHeaders de khong bi chan header Authentication\r\n\t#zuul.ignoredHeaders=true\r\n\r\n\r\n\t# routing for service 1: bbbb\r\n\tzuul.routes.service_1.path = /api/fmmm/testing/bbbb/**\r\n\tzuul.routes.service_1.url = https://www.bbbb.net/bbbbapi/common/\r\n\tzuul.routes.service_1.serviceId=bbbb\r\n\tbbbb.ribbon.ConnectTimeout=100\r\n\tbbbb.ribbon.ReadTimeout=900\r\n\tbbbb.ribbon.SocketTimeout=900\r\n\r\n\r\n\t# routing for service 2: ccc\r\n\tzuul.routes.service_2.path = /api/fmmm/testing/ccc/**\r\n\tzuul.routes.service_2.url = https://api-uat.ccc/ccc-api-uat/rp/v1/\r\n\r\nBut timeout in config not work. Tried commenting either zuul.host... or ribbon... but also not work.\r\n\r\nThe zuul API Gateway just keeps **default 10 seconds socket timeout** (logged request at 09:03:35.301, logged socket read timeout at 09:03:45.370)\r\n\r\n    2023-02-02 09:03:35.301|| request -&gt; org.springframework.cloud.netflix.zuul.filters.pre.....\r\n\r\n    2023-02-02 09:03:45.370  WARN 2692 --- [http-nio-8840-exec-2] o.s.c.n.z.filters.post.SendErrorFilter   : Error during filtering\r\n\r\n\tcom.netflix.zuul.exception.ZuulException: Forwarding error\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.handleException(SimpleHostRoutingFilter.java:261) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.run(SimpleHostRoutingFilter.java:241) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat com.netflix.zuul.ZuulFilter.runFilter(ZuulFilter.java:117) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.FilterProcessor.processZuulFilter(FilterProcessor.java:193) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.FilterProcessor.runFilters(FilterProcessor.java:157) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.FilterProcessor.route(FilterProcessor.java:118) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.ZuulRunner.route(ZuulRunner.java:96) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.http.ZuulServlet.route(ZuulServlet.java:116) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.http.ZuulServlet.service(ZuulServlet.java:81) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat org.springframework.web.servlet.mvc.ServletWrappingController.handleRequestInternal(ServletWrappingController.java:166) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.cloud.netflix.zuul.web.ZuulController.handleRequest(ZuulController.java:45) [spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.2.0.RELEASE.jar!/:2.2.0.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_341]\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_341]\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat java.lang.Thread.run(Unknown Source) [na:1.8.0_341]\r\n\tCaused by: java.net.SocketTimeoutException: Read timed out\r\n\t\tat java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_341]\r\n\t\tat java.net.SocketInputStream.socketRead(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat java.net.SocketInputStream.read(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat java.net.SocketInputStream.read(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketImpl.readApplicationRecord(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketImpl.access$300(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.forwardRequest(SimpleHostRoutingFilter.java:422) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.forward(SimpleHostRoutingFilter.java:341) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.run(SimpleHostRoutingFilter.java:236) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\t... 54 common frames omitted\r\n\r\n\t","title":"zuul api gateway cannot set socket timeout","body":"<p>I'm setting up a zuul api gateway, but cannot set socket timeout</p>\n<p>This is my application.properies file:</p>\n<pre><code>server.port = 8888\n#server.port = 443\n#server.port = 80\nspring.application.name = fmmm-gateway\n\n#Them systemlog tai thu muc logs/system\nlogging.level.com.rishabh.zuulgatewayservice.ZuulGatewayServiceApplication=INFO\nlogging.file.name=logs/system/system.log\n\nzuul.sslHostnameValidationEnabled=false\n \nzuul.host.connect-timeout-millis=100 #90000\nzuul.host.socket-timeout-millis=100 #90000\nzuul.host.read-timeout-millis=100 #90000\n\nribbon.ConnectTimeout=100 #90000\nribbon.ReadTimeout=100  #90000\nribbon.SocketTimeout=100 #90000\n \n#https://cloud.spring.io/spring-cloud-netflix/multi/multi__router_and_filter_zuul.html\nzuul.sensitiveHeaders=Cookie #Set global sensitiveHeaders de khong bi chan header Authentication\n#zuul.ignoredHeaders=true\n\n\n# routing for service 1: bbbb\nzuul.routes.service_1.path = /api/fmmm/testing/bbbb/**\nzuul.routes.service_1.url = https://www.bbbb.net/bbbbapi/common/\nzuul.routes.service_1.serviceId=bbbb\nbbbb.ribbon.ConnectTimeout=100\nbbbb.ribbon.ReadTimeout=900\nbbbb.ribbon.SocketTimeout=900\n\n\n# routing for service 2: ccc\nzuul.routes.service_2.path = /api/fmmm/testing/ccc/**\nzuul.routes.service_2.url = https://api-uat.ccc/ccc-api-uat/rp/v1/\n</code></pre>\n<p>But timeout in config not work. Tried commenting either zuul.host... or ribbon... but also not work.</p>\n<p>The zuul API Gateway just keeps <strong>default 10 seconds socket timeout</strong> (logged request at 09:03:35.301, logged socket read timeout at 09:03:45.370)</p>\n<pre><code>2023-02-02 09:03:35.301|| request -&gt; org.springframework.cloud.netflix.zuul.filters.pre.....\n\n2023-02-02 09:03:45.370  WARN 2692 --- [http-nio-8840-exec-2] o.s.c.n.z.filters.post.SendErrorFilter   : Error during filtering\n\ncom.netflix.zuul.exception.ZuulException: Forwarding error\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.handleException(SimpleHostRoutingFilter.java:261) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.run(SimpleHostRoutingFilter.java:241) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at com.netflix.zuul.ZuulFilter.runFilter(ZuulFilter.java:117) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.FilterProcessor.processZuulFilter(FilterProcessor.java:193) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.FilterProcessor.runFilters(FilterProcessor.java:157) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.FilterProcessor.route(FilterProcessor.java:118) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.ZuulRunner.route(ZuulRunner.java:96) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.http.ZuulServlet.route(ZuulServlet.java:116) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.http.ZuulServlet.service(ZuulServlet.java:81) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at org.springframework.web.servlet.mvc.ServletWrappingController.handleRequestInternal(ServletWrappingController.java:166) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.cloud.netflix.zuul.web.ZuulController.handleRequest(ZuulController.java:45) [spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.2.0.RELEASE.jar!/:2.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_341]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_341]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_341]\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_341]\n    at java.net.SocketInputStream.socketRead(Unknown Source) ~[na:1.8.0_341]\n    at java.net.SocketInputStream.read(Unknown Source) ~[na:1.8.0_341]\n    at java.net.SocketInputStream.read(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketImpl.readApplicationRecord(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketImpl.access$300(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[na:1.8.0_341]\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.forwardRequest(SimpleHostRoutingFilter.java:422) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.forward(SimpleHostRoutingFilter.java:341) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.run(SimpleHostRoutingFilter.java:236) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    ... 54 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-boot","http-headers"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1659992536,"post_id":73283772,"comment_id":129423210,"body_markdown":"The [`Content-Type` HTTP header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) denotes the content type of the request. Are you actually sending an `octet-stream` as data? And what content-type have you configured for the endpoint to consume?","body":"The <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\" rel=\"nofollow noreferrer\"><code>Content-Type</code> HTTP header</a> denotes the content type of the request. Are you actually sending an <code>octet-stream</code> as data? And what content-type have you configured for the endpoint to consume?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1659993593,"post_id":73283772,"comment_id":129423482,"body_markdown":"@Turing85 I&#39;m not sure if I get your question. I have a request body in json format which I need to transform that in a downloadable excel file, and that is I&#39;m trying to do with that code above.","body":"@Turing85 I&#39;m not sure if I get your question. I have a request body in json format which I need to transform that in a downloadable excel file, and that is I&#39;m trying to do with that code above."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1659993721,"post_id":73283772,"comment_id":129423503,"body_markdown":"If the request body is json, then you should send a `Content-Type` of `application/json`, not `application/octet-stream`.","body":"If the request body is json, then you should send a <code>Content-Type</code> of <code>application&#47;json</code>, not <code>application&#47;octet-stream</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1659994005,"post_id":73283772,"comment_id":129423574,"body_markdown":"What confuses me, though, is that postman normally sets the `Content-Type` header automatically to the content configured in the `Body` tab. Have you set the type in the `Body` tab to `json`?","body":"What confuses me, though, is that postman normally sets the <code>Content-Type</code> header automatically to the content configured in the <code>Body</code> tab. Have you set the type in the <code>Body</code> tab to <code>json</code>?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1660000830,"post_id":73283772,"comment_id":129424959,"body_markdown":"So, I did both changes for content-type and still get the same error. Also, I set the type of body as a json. And you&#39;re right, the postman automatically sets the content type but I just want to make sure that is a octet-stream. Is the request and response header &#39;Accept&#39; is needed to be changed or something?","body":"So, I did both changes for content-type and still get the same error. Also, I set the type of body as a json. And you&#39;re right, the postman automatically sets the content type but I just want to make sure that is a octet-stream. Is the request and response header &#39;Accept&#39; is needed to be changed or something?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1660018591,"post_id":73283772,"comment_id":129427225,"body_markdown":"Well, I changed the ```Content-Type``` to ```application/json``` and it worked. By the way, how can I assure that when the front-end calls the API and will get a downloadable file?","body":"Well, I changed the <code>Content-Type</code> to <code>application&#47;json</code> and it worked. By the way, how can I assure that when the front-end calls the API and will get a downloadable file?"}],"answers":[{"tags":[],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675305407,"creation_date":1660133838,"answer_id":73306189,"question_id":73283772,"body_markdown":"I found out. I had to put these both parameters inside the ```@PostMapping```: ```produces``` and ```consumes```\r\n```\r\n@PostMapping(value = &quot;/exportfile/excel&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n```","title":"Getting &quot;Unsupported Media Type&quot; error 415 (octet-stream)","body":"<p>I found out. I had to put these both parameters inside the <code>@PostMapping</code>: <code>produces</code> and <code>consumes</code></p>\n<pre><code>@PostMapping(value = &quot;/exportfile/excel&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73306189,"answer_count":1,"score":0,"last_activity_date":1675305407,"creation_date":1659991183,"question_id":73283772,"body_markdown":"I developed a controller which generates an excel file with a chart, but when I change the attribute &quot;produces&quot; from the mapping, I always get the error as mentioned in the title.  \r\nThis is the header from the postman\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7OgXW.png\r\n\r\nAnd, this is the controller code\r\n```\r\n @PostMapping(value = &quot;/exportfile/excel&quot;, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\r\n    public ResponseEntity&lt;InputStreamResource&gt; exportExcel(@RequestBody ClientDataObjectRequest clientDataObjectRequest) {\r\n\r\n        ByteArrayInputStream file = generateCSVExcelService.generateFileDetailsWithChart(clientDataObjectRequest);\r\n\r\n        String dateFile = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;).format(new java.util.Date());\r\n        String timeFile = new SimpleDateFormat(&quot;HH-mm&quot;).format(new java.util.Date());\r\n        String fileName = clientDataObjectRequest.getMetricName().replace(&quot; &quot;,&quot;_&quot;) + &quot;_&quot; + dateFile + &quot;T&quot; + timeFile;\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, fileName + &quot;.xlsx&quot;);\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        //headers.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName + &quot;.xlsx&quot;);\r\n        //headers.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM_VALUE);\r\n\r\n        return new ResponseEntity&lt;&gt;(new InputStreamResource(file), headers, HttpStatus.OK);\r\n    }\r\n```\r\nAs you can see, I&#39;m using the &quot;produces&quot; as &quot;APPLICATION_OCTET_STREAM_VALUE&quot; as well as the headers request and response.  \r\nWhat am I missing here?\r\n\r\nEDIT: I&#39;m receiving a request body in a Json format\r\n```\r\n{\r\n    &quot;metricName&quot;:&quot;Turnover Rate&quot;,\r\n    &quot;dataFormatCodeValue&quot;: &quot;currency&quot;,\r\n    &quot;clientDataRequest&quot;:[\r\n       {\r\n          &quot;clientName&quot;:&quot;client 1&quot;,\r\n          &quot;value&quot;:&quot;1&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 2&quot;,\r\n          &quot;value&quot;:&quot;2&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 3&quot;,\r\n          &quot;value&quot;:&quot;53.78&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 4&quot;,\r\n          &quot;value&quot;:&quot;3&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 5555555&quot;,\r\n          &quot;value&quot;:&quot;4&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 6&quot;,\r\n          &quot;value&quot;:&quot;33&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 7&quot;,\r\n          &quot;value&quot;:&quot;0&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 8&quot;,\r\n          &quot;value&quot;:&quot;8.5&quot;\r\n       }\r\n    ]\r\n}\r\n```","title":"Getting &quot;Unsupported Media Type&quot; error 415 (octet-stream)","body":"<p>I developed a controller which generates an excel file with a chart, but when I change the attribute &quot;produces&quot; from the mapping, I always get the error as mentioned in the title.<br />\nThis is the header from the postman\n<a href=\"https://i.stack.imgur.com/7OgXW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7OgXW.png\" alt=\"enter image description here\" /></a></p>\n<p>And, this is the controller code</p>\n<pre><code> @PostMapping(value = &quot;/exportfile/excel&quot;, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\n    public ResponseEntity&lt;InputStreamResource&gt; exportExcel(@RequestBody ClientDataObjectRequest clientDataObjectRequest) {\n\n        ByteArrayInputStream file = generateCSVExcelService.generateFileDetailsWithChart(clientDataObjectRequest);\n\n        String dateFile = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;).format(new java.util.Date());\n        String timeFile = new SimpleDateFormat(&quot;HH-mm&quot;).format(new java.util.Date());\n        String fileName = clientDataObjectRequest.getMetricName().replace(&quot; &quot;,&quot;_&quot;) + &quot;_&quot; + dateFile + &quot;T&quot; + timeFile;\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentDispositionFormData(&quot;attachment&quot;, fileName + &quot;.xlsx&quot;);\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        //headers.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName + &quot;.xlsx&quot;);\n        //headers.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM_VALUE);\n\n        return new ResponseEntity&lt;&gt;(new InputStreamResource(file), headers, HttpStatus.OK);\n    }\n</code></pre>\n<p>As you can see, I'm using the &quot;produces&quot; as &quot;APPLICATION_OCTET_STREAM_VALUE&quot; as well as the headers request and response.<br />\nWhat am I missing here?</p>\n<p>EDIT: I'm receiving a request body in a Json format</p>\n<pre><code>{\n    &quot;metricName&quot;:&quot;Turnover Rate&quot;,\n    &quot;dataFormatCodeValue&quot;: &quot;currency&quot;,\n    &quot;clientDataRequest&quot;:[\n       {\n          &quot;clientName&quot;:&quot;client 1&quot;,\n          &quot;value&quot;:&quot;1&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 2&quot;,\n          &quot;value&quot;:&quot;2&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 3&quot;,\n          &quot;value&quot;:&quot;53.78&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 4&quot;,\n          &quot;value&quot;:&quot;3&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 5555555&quot;,\n          &quot;value&quot;:&quot;4&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 6&quot;,\n          &quot;value&quot;:&quot;33&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 7&quot;,\n          &quot;value&quot;:&quot;0&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 8&quot;,\n          &quot;value&quot;:&quot;8.5&quot;\n       }\n    ]\n}\n</code></pre>\n"},{"tags":["java","glassfish"],"comments":[{"owner":{"account_id":28542,"reputation":160910,"user_id":76337,"accept_rate":70,"display_name":"John Saunders"},"score":0,"creation_date":1267560734,"post_id":2366270,"comment_id":2341873,"body_markdown":"Did you mean to tag this with &quot;j2ee&quot;?","body":"Did you mean to tag this with &quot;j2ee&quot;?"},{"owner":{"account_id":38723,"reputation":9874,"user_id":111331,"accept_rate":100,"display_name":"vkraemer"},"score":0,"creation_date":1267577315,"post_id":2366270,"comment_id":2343785,"body_markdown":"I looked up &#39;URI syntax authority component&#39; and this looks like a good reference: http://www.ietf.org/rfc/rfc2396.txt...","body":"I looked up &#39;URI syntax authority component&#39; and this looks like a good reference: <a href=\"http://www.ietf.org/rfc/rfc2396.txt\" rel=\"nofollow noreferrer\">ietf.org/rfc/rfc2396.txt</a>..."},{"owner":{"account_id":36777,"reputation":1990,"user_id":104993,"accept_rate":85,"display_name":"Kirby"},"score":0,"creation_date":1267624818,"post_id":2366270,"comment_id":2347624,"body_markdown":"do you think it has anything to do with the fact taht my netbeans workspace is over a unc connected path?","body":"do you think it has anything to do with the fact taht my netbeans workspace is over a unc connected path?"}],"answers":[{"comments":[{"owner":{"account_id":36777,"reputation":1990,"user_id":104993,"accept_rate":85,"display_name":"Kirby"},"score":0,"creation_date":1267560000,"post_id":2366294,"comment_id":2341769,"body_markdown":"i posted the glassfish error above. i&#39;ve double checked my typos and syntax.  still not sure.","body":"i posted the glassfish error above. i&#39;ve double checked my typos and syntax.  still not sure."}],"tags":[],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267559785,"creation_date":1267559785,"answer_id":2366294,"question_id":2366270,"body_markdown":"Flip over to the GlassFish output tab, it&#39;ll give you better info.  Netbeans gives you that generic error, but Glassfish gives you the details.  When I get this it&#39;s usually a typo in one of my JSP or XML files...","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>Flip over to the GlassFish output tab, it'll give you better info.  Netbeans gives you that generic error, but Glassfish gives you the details.  When I get this it's usually a typo in one of my JSP or XML files...</p>\n"},{"comments":[{"owner":{"account_id":38723,"reputation":9874,"user_id":111331,"accept_rate":100,"display_name":"vkraemer"},"score":1,"creation_date":1267631034,"post_id":2371874,"comment_id":2348536,"body_markdown":"Can you send me the complete stacktrace from the server log?  It seems like there needs to be a code fix here... or a better error message.","body":"Can you send me the complete stacktrace from the server log?  It seems like there needs to be a code fix here... or a better error message."},{"owner":{"account_id":36777,"reputation":1990,"user_id":104993,"accept_rate":85,"display_name":"Kirby"},"score":0,"creation_date":1267722264,"post_id":2371874,"comment_id":2358094,"body_markdown":"let me know where to send it? or post it in a comment?","body":"let me know where to send it? or post it in a comment?"},{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":2,"creation_date":1331578216,"post_id":2371874,"comment_id":12287242,"body_markdown":"Unfortunately, this didn&#39;t resolve anything for me.  Everything is running off of my local machine already.","body":"Unfortunately, this didn&#39;t resolve anything for me.  Everything is running off of my local machine already."}],"tags":[],"owner":{"account_id":36777,"reputation":1990,"user_id":104993,"accept_rate":85,"display_name":"Kirby"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1319276251,"creation_date":1267625124,"answer_id":2371874,"question_id":2366270,"body_markdown":"The solution was simply that the URI was malformed (because the location of my project was over a &quot;\\\\\\\\&quot; UNC path).  This issue was fixed when I used a local workspace. \r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>The solution was simply that the URI was malformed (because the location of my project was over a \"\\\\\" UNC path).  This issue was fixed when I used a local workspace. </p>\n"},{"tags":[],"owner":{"account_id":124926,"reputation":461,"user_id":320364,"accept_rate":50,"display_name":"shereifhawary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319276361,"creation_date":1285321062,"answer_id":3785823,"question_id":2366270,"body_markdown":"I had the same problem (NetBeans 6.9.1) and the fix is so simple :)\r\n\r\nI realized NetBeans didn&#39;t create a META-INF folder and thus no `context.xml` was found, so I create the META-INF folder under the main project folder and create file `context.xml` with the following content.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;Context antiJARLocking=&quot;true&quot; path=&quot;/home&quot;/&gt;\r\n\r\nAnd it runs :)\r\n\r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>I had the same problem (NetBeans 6.9.1) and the fix is so simple :)</p>\n\n<p>I realized NetBeans didn't create a META-INF folder and thus no <code>context.xml</code> was found, so I create the META-INF folder under the main project folder and create file <code>context.xml</code> with the following content.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;Context antiJARLocking=\"true\" path=\"/home\"/&gt;\n</code></pre>\n\n<p>And it runs :)</p>\n"},{"tags":[],"owner":{"account_id":99131,"reputation":367,"user_id":267929,"accept_rate":78,"display_name":"MostafaEweda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319276463,"creation_date":1285531489,"answer_id":3799572,"question_id":2366270,"body_markdown":"I found out that the URL of the application conflicted with a module in the Sun GlassFish.\r\nSo, in the file `sun-web.xml` I renamed the &amp;lt;context-root&gt;/servlets-samples&amp;lt;/context-root&gt;.\r\n\r\nIt is now working.\r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>I found out that the URL of the application conflicted with a module in the Sun GlassFish.\nSo, in the file <code>sun-web.xml</code> I renamed the &lt;context-root>/servlets-samples&lt;/context-root>.</p>\n\n<p>It is now working.</p>\n"},{"tags":[],"owner":{"account_id":79255,"reputation":293,"user_id":224906,"accept_rate":0,"display_name":"Zakir Sajib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319276590,"creation_date":1287419391,"answer_id":3961178,"question_id":2366270,"body_markdown":"I also faced similar problem while working on Affable Bean e-commerce site development. I received an error: \r\n\r\n&gt; Module has not been deployed.\r\n\r\nI checked the `sun-resources.xml` file and found the following statements which resulted in the error.\r\n\r\n    &lt;resources&gt;\r\n        &lt;jdbc-resource enabled=&quot;true&quot;\r\n                       jndi-name=&quot;jdbc/affablebean&quot;\r\n                       object-type=&quot;user&quot;\r\n                       pool-name=&quot;AffableBeanPool&quot;&gt;\r\n        &lt;/jdbc-resource&gt;\r\n\r\n        &lt;jdbc-connection-pool allow-non-component-callers=&quot;false&quot;\r\n                              associate-with-thread=&quot;false&quot;\r\n                              connection-creation-retry-attempts=&quot;0&quot;\r\n                              connection-creation-retry-interval-in-seconds=&quot;10&quot;\r\n                              connection-leak-reclaim=&quot;false&quot;\r\n                              connection-leak-timeout-in-seconds=&quot;0&quot;\r\n                              connection-validation-method=&quot;auto-commit&quot;\r\n                              datasource-classname=&quot;com.mysql.jdbc.jdbc2.optional.MysqlDataSource&quot;\r\n                              fail-all-connections=&quot;false&quot;\r\n                              idle-timeout-in-seconds=&quot;300&quot;\r\n                              is-connection-validation-required=&quot;false&quot;\r\n                              is-isolation-level-guaranteed=&quot;true&quot;\r\n                              lazy-connection-association=&quot;false&quot;\r\n                              lazy-connection-enlistment=&quot;false&quot;\r\n                              match-connections=&quot;false&quot;\r\n                              max-connection-usage-count=&quot;0&quot;\r\n                              max-pool-size=&quot;32&quot;\r\n                              max-wait-time-in-millis=&quot;60000&quot;\r\n                              name=&quot;AffableBeanPool&quot;\r\n                              non-transactional-connections=&quot;false&quot;\r\n                              pool-resize-quantity=&quot;2&quot;\r\n                              res-type=&quot;javax.sql.ConnectionPoolDataSource&quot;\r\n                              statement-timeout-in-seconds=&quot;-1&quot;\r\n                              steady-pool-size=&quot;8&quot;\r\n                              validate-atmost-once-period-in-seconds=&quot;0&quot;\r\n                              wrap-jdbc-objects=&quot;false&quot;&gt;\r\n\r\n            &lt;description&gt;Connects to the affablebean database&lt;/description&gt;\r\n            &lt;property name=&quot;URL&quot; value=&quot;jdbc:mysql://localhost:3306/affablebean&quot;/&gt;\r\n            &lt;property name=&quot;User&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;Password&quot; value=&quot;nbuser&quot;/&gt;\r\n        &lt;/jdbc-connection-pool&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen I changed the statements to the following which is simple and works. I was able to run the file successfully.\r\n\r\n    &lt;resources&gt;\r\n        &lt;jdbc-resource enabled=&quot;true&quot; jndi-name=&quot;jdbc/affablebean&quot; object-type=&quot;user&quot; pool-name=&quot;AffablebeanPool&quot;&gt;\r\n            &lt;description/&gt;\r\n        &lt;/jdbc-resource&gt;\r\n        &lt;jdbc-connection-pool allow-non-component-callers=&quot;false&quot; associate-with-thread=&quot;false&quot; connection-creation-retry-attempts=&quot;0&quot; connection-creation-retry-interval-in-seconds=&quot;10&quot; connection-leak-reclaim=&quot;false&quot; connection-leak-timeout-in-seconds=&quot;0&quot; connection-validation-method=&quot;auto-commit&quot; datasource-classname=&quot;com.mysql.jdbc.jdbc2.optional.MysqlDataSource&quot; fail-all-connections=&quot;false&quot; idle-timeout-in-seconds=&quot;300&quot; is-connection-validation-required=&quot;false&quot; is-isolation-level-guaranteed=&quot;true&quot; lazy-connection-association=&quot;false&quot; lazy-connection-enlistment=&quot;false&quot; match-connections=&quot;false&quot; max-connection-usage-count=&quot;0&quot; max-pool-size=&quot;32&quot; max-wait-time-in-millis=&quot;60000&quot; name=&quot;AffablebeanPool&quot; non-transactional-connections=&quot;false&quot; pool-resize-quantity=&quot;2&quot; res-type=&quot;javax.sql.ConnectionPoolDataSource&quot; statement-timeout-in-seconds=&quot;-1&quot; steady-pool-size=&quot;8&quot; validate-atmost-once-period-in-seconds=&quot;0&quot; wrap-jdbc-objects=&quot;false&quot;&gt;\r\n            &lt;property name=&quot;URL&quot; value=&quot;jdbc:mysql://localhost:3306/AffableBean&quot;/&gt;\r\n            &lt;property name=&quot;User&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;Password&quot; value=&quot;nbuser&quot;/&gt;\r\n        &lt;/jdbc-connection-pool&gt;\r\n    &lt;/resources&gt;\r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>I also faced similar problem while working on Affable Bean e-commerce site development. I received an error: </p>\n\n<blockquote>\n  <p>Module has not been deployed.</p>\n</blockquote>\n\n<p>I checked the <code>sun-resources.xml</code> file and found the following statements which resulted in the error.</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;jdbc-resource enabled=\"true\"\n                   jndi-name=\"jdbc/affablebean\"\n                   object-type=\"user\"\n                   pool-name=\"AffableBeanPool\"&gt;\n    &lt;/jdbc-resource&gt;\n\n    &lt;jdbc-connection-pool allow-non-component-callers=\"false\"\n                          associate-with-thread=\"false\"\n                          connection-creation-retry-attempts=\"0\"\n                          connection-creation-retry-interval-in-seconds=\"10\"\n                          connection-leak-reclaim=\"false\"\n                          connection-leak-timeout-in-seconds=\"0\"\n                          connection-validation-method=\"auto-commit\"\n                          datasource-classname=\"com.mysql.jdbc.jdbc2.optional.MysqlDataSource\"\n                          fail-all-connections=\"false\"\n                          idle-timeout-in-seconds=\"300\"\n                          is-connection-validation-required=\"false\"\n                          is-isolation-level-guaranteed=\"true\"\n                          lazy-connection-association=\"false\"\n                          lazy-connection-enlistment=\"false\"\n                          match-connections=\"false\"\n                          max-connection-usage-count=\"0\"\n                          max-pool-size=\"32\"\n                          max-wait-time-in-millis=\"60000\"\n                          name=\"AffableBeanPool\"\n                          non-transactional-connections=\"false\"\n                          pool-resize-quantity=\"2\"\n                          res-type=\"javax.sql.ConnectionPoolDataSource\"\n                          statement-timeout-in-seconds=\"-1\"\n                          steady-pool-size=\"8\"\n                          validate-atmost-once-period-in-seconds=\"0\"\n                          wrap-jdbc-objects=\"false\"&gt;\n\n        &lt;description&gt;Connects to the affablebean database&lt;/description&gt;\n        &lt;property name=\"URL\" value=\"jdbc:mysql://localhost:3306/affablebean\"/&gt;\n        &lt;property name=\"User\" value=\"root\"/&gt;\n        &lt;property name=\"Password\" value=\"nbuser\"/&gt;\n    &lt;/jdbc-connection-pool&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then I changed the statements to the following which is simple and works. I was able to run the file successfully.</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;jdbc-resource enabled=\"true\" jndi-name=\"jdbc/affablebean\" object-type=\"user\" pool-name=\"AffablebeanPool\"&gt;\n        &lt;description/&gt;\n    &lt;/jdbc-resource&gt;\n    &lt;jdbc-connection-pool allow-non-component-callers=\"false\" associate-with-thread=\"false\" connection-creation-retry-attempts=\"0\" connection-creation-retry-interval-in-seconds=\"10\" connection-leak-reclaim=\"false\" connection-leak-timeout-in-seconds=\"0\" connection-validation-method=\"auto-commit\" datasource-classname=\"com.mysql.jdbc.jdbc2.optional.MysqlDataSource\" fail-all-connections=\"false\" idle-timeout-in-seconds=\"300\" is-connection-validation-required=\"false\" is-isolation-level-guaranteed=\"true\" lazy-connection-association=\"false\" lazy-connection-enlistment=\"false\" match-connections=\"false\" max-connection-usage-count=\"0\" max-pool-size=\"32\" max-wait-time-in-millis=\"60000\" name=\"AffablebeanPool\" non-transactional-connections=\"false\" pool-resize-quantity=\"2\" res-type=\"javax.sql.ConnectionPoolDataSource\" statement-timeout-in-seconds=\"-1\" steady-pool-size=\"8\" validate-atmost-once-period-in-seconds=\"0\" wrap-jdbc-objects=\"false\"&gt;\n        &lt;property name=\"URL\" value=\"jdbc:mysql://localhost:3306/AffableBean\"/&gt;\n        &lt;property name=\"User\" value=\"root\"/&gt;\n        &lt;property name=\"Password\" value=\"nbuser\"/&gt;\n    &lt;/jdbc-connection-pool&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112417,"reputation":823,"user_id":296533,"accept_rate":50,"display_name":"Mike GH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332850781,"creation_date":1332850781,"answer_id":9889423,"question_id":2366270,"body_markdown":"After trying a skeleton project called &quot;jsf-blank&quot;, which did not demonstrate this problem with xhtml files; I concluded that there was an unknown problem in my project.  My solution may not have been too elegant, but it saved time.  I backed up the code and other files I&#39;d already developed, deleted the project, and started over - recreated the project.  So far, I&#39;ve added back most of the files and it looks pretty good.  ","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>After trying a skeleton project called \"jsf-blank\", which did not demonstrate this problem with xhtml files; I concluded that there was an unknown problem in my project.  My solution may not have been too elegant, but it saved time.  I backed up the code and other files I'd already developed, deleted the project, and started over - recreated the project.  So far, I've added back most of the files and it looks pretty good.  </p>\n"},{"tags":[],"owner":{"account_id":4429887,"reputation":8130,"user_id":3607273,"accept_rate":88,"display_name":"S Meaden"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1614188379,"creation_date":1438366541,"answer_id":31752608,"question_id":2366270,"body_markdown":"An authority is a portion of a URI.  Your error suggests that it was not expecting one.  The authority section is shown below, it is what is known as the website part of the url.\r\n\r\nFrom RFC3986 on [URIs][1]: \r\n\r\n&gt; The following is an example URI and its component parts:\r\n\r\n         foo://example.com:8042/over/there?name=ferret#nose\r\n         \\_/   \\______________/\\_________/ \\_________/ \\__/\r\n          |           |            |            |        |\r\n       scheme     authority       path        query   fragment\r\n          |   _____________________|__\r\n         / \\ /                        \\\r\n         urn:example:animal:ferret:nose\r\n\r\nSo there are two formats, one with an authority and one not.    Regarding slashes: \r\n\r\n&gt; &quot;When authority is not present, the path cannot begin with two slash  \r\n&gt; characters (&quot;//&quot;).&quot;\r\n\r\nSource: https://tools.ietf.org/rfc/rfc3986.txt  (search for text &#39;*authority is not present, the path cannot begin with two slash*&#39;)\r\n\r\n\r\n  [1]: https://tools.ietf.org/rfc/rfc3986.txt","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>An authority is a portion of a URI.  Your error suggests that it was not expecting one.  The authority section is shown below, it is what is known as the website part of the url.</p>\n<p>From RFC3986 on <a href=\"https://tools.ietf.org/rfc/rfc3986.txt\" rel=\"noreferrer\">URIs</a>:</p>\n<blockquote>\n<p>The following is an example URI and its component parts:</p>\n</blockquote>\n<pre><code>     foo://example.com:8042/over/there?name=ferret#nose\n     \\_/   \\______________/\\_________/ \\_________/ \\__/\n      |           |            |            |        |\n   scheme     authority       path        query   fragment\n      |   _____________________|__\n     / \\ /                        \\\n     urn:example:animal:ferret:nose\n</code></pre>\n<p>So there are two formats, one with an authority and one not.    Regarding slashes:</p>\n<blockquote>\n<p>&quot;When authority is not present, the path cannot begin with two slash<br />\ncharacters (&quot;//&quot;).&quot;</p>\n</blockquote>\n<p>Source: <a href=\"https://tools.ietf.org/rfc/rfc3986.txt\" rel=\"noreferrer\">https://tools.ietf.org/rfc/rfc3986.txt</a>  (search for text '<em>authority is not present, the path cannot begin with two slash</em>')</p>\n"}],"owner":{"account_id":36777,"reputation":1990,"user_id":104993,"accept_rate":85,"display_name":"Kirby"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130490,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":2371874,"answer_count":7,"score":50,"last_activity_date":1675305377,"creation_date":1267559601,"question_id":2366270,"body_markdown":"I am attempting to build a Java web project on NetBeans 6.8, but I get get the following error:\r\n\r\n&gt; The module has not been deployed.\r\n\r\nIt points to my `build-impl.xml` file, line 577:\r\n\r\n    &lt;nbdeploy clientUrlPart=&quot;${client.urlPart}&quot; debugmode=&quot;false&quot; forceRedeploy=&quot;${forceRedeploy}&quot;/&gt;\r\n\r\nThe GlassFish v3 error log says:\r\n\r\n    SEVERE: Exception in command execution : java.lang.IllegalArgumentException: URI has an authority component\r\n    java.lang.IllegalArgumentException: URI has an authority component\r\n      at java.io.File.&lt;init&gt;(File.java:368)`..., etc.\r\n\r\nWhat does *&quot;URI has an authority component&quot;* mean?\r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>I am attempting to build a Java web project on NetBeans 6.8, but I get get the following error:</p>\n\n<blockquote>\n  <p>The module has not been deployed.</p>\n</blockquote>\n\n<p>It points to my <code>build-impl.xml</code> file, line 577:</p>\n\n<pre><code>&lt;nbdeploy clientUrlPart=\"${client.urlPart}\" debugmode=\"false\" forceRedeploy=\"${forceRedeploy}\"/&gt;\n</code></pre>\n\n<p>The GlassFish v3 error log says:</p>\n\n<pre><code>SEVERE: Exception in command execution : java.lang.IllegalArgumentException: URI has an authority component\njava.lang.IllegalArgumentException: URI has an authority component\n  at java.io.File.&lt;init&gt;(File.java:368)`..., etc.\n</code></pre>\n\n<p>What does <em>\"URI has an authority component\"</em> mean?</p>\n"},{"tags":["java","encoding","utf-8","character-encoding","windows-1251"],"comments":[{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1675150264,"post_id":75293780,"comment_id":132861116,"body_markdown":"Please show your code.","body":"Please show your code."},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1675152921,"post_id":75293780,"comment_id":132861745,"body_markdown":"Is this all the code? I can&#39;t see anything related UTF-8.","body":"Is this all the code? I can&#39;t see anything related UTF-8."},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1675153077,"post_id":75293780,"comment_id":132861803,"body_markdown":"And please add the code to the question and not as a comment.","body":"And please add the code to the question and not as a comment."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1675153194,"post_id":75293780,"comment_id":132861852,"body_markdown":"[The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/)","body":"<a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156755,"post_id":75293780,"comment_id":132862874,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675186062,"post_id":75293780,"comment_id":132872819,"body_markdown":"@Codo I must assume that the [comment](https://stackoverflow.com/questions/75293780/save-cyrillic-while-change-string-encoding-from-utf-8-to-windows-1251-in-java#comment132861745_75293780) above was as reply to my comment (despite missing the `@user` annotation) I am not the author of the question, I posted a suggestion for the OP (I did not use `@Codo` in my first comment, should be implicit that it is addressed to OP [even if the site notified you]) And sure it is not all code, but the *heart* of how it can be done.","body":"@Codo I must assume that the <a href=\"https://stackoverflow.com/questions/75293780/save-cyrillic-while-change-string-encoding-from-utf-8-to-windows-1251-in-java#comment132861745_75293780\">comment</a> above was as reply to my comment (despite missing the <code>@user</code> annotation) I am not the author of the question, I posted a suggestion for the OP (I did not use <code>@Codo</code> in my first comment, should be implicit that it is addressed to OP [even if the site notified you]) And sure it is not all code, but the <i>heart</i> of how it can be done."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675269116,"post_id":75294350,"comment_id":132893349,"body_markdown":"You can use the method for writing a string in the first place, `Files.writeString(path, original, Charset.forName(&quot;windows-1251&quot;));` (since JDK&#160;11) or `Files.write(path, Collections.singleton(original), Charset.forName(&quot;windows-1251&quot;));` (since JDK&#160;7)","body":"You can use the method for writing a string in the first place, <code>Files.writeString(path, original, Charset.forName(&quot;windows-1251&quot;));</code> (since JDK 11) or <code>Files.write(path, Collections.singleton(original), Charset.forName(&quot;windows-1251&quot;));</code> (since JDK 7)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675304556,"creation_date":1675153295,"answer_id":75294350,"question_id":75293780,"body_markdown":"# Specify character encoding for writing\r\n\r\nYou can specify a character encoding with the [`CharSet`][1] class. \r\n\r\nThe [NIO.2][2] framework in modern Java makes easy work of writing text to a file. For example, [`Files.writeString`][3].\r\n\r\nThis code works for me:\r\n\r\n```java\r\nString original = &quot;Some   &quot;;\r\nbyte[] win1251Bytes = new byte[ 0 ];\r\ntry { win1251Bytes = original.getBytes( &quot;windows-1251&quot; ); } catch ( UnsupportedEncodingException e ) { throw new RuntimeException( e ); }\r\nPath path = Paths.get( &quot;/Users/whatever/bogus.txt&quot; );  // Home folder on macOS.\r\ntry { Files.write( path , win1251Bytes ); } catch ( IOException e ) { throw new RuntimeException( e ); }\r\n```\r\n\r\nOr, this briefer code works too, per the [Comment by Holger](https://stackoverflow.com/questions/75293780/save-cyrillic-while-change-string-encoding-from-utf-8-to-windows-1251-in-java/75294350?noredirect=1#comment132893349_75294350) below.\r\n\r\n```java\r\ntry\r\n{\r\n    Files.writeString(\r\n            Paths.get( &quot;/Users/whatever/bogus.txt&quot; ) ,\r\n            &quot;Some   &quot; ,\r\n            Charset.forName( &quot;windows-1251&quot; ) \r\n    );\r\n}\r\ncatch ( IOException e )\r\n{\r\n    throw new RuntimeException( e );\r\n}\r\n```\r\n\r\nI know nothing about Cyrillic text. I just read the [Oracle tutorial][4] first. Then I read [*Writing byte\\[\\] to a File in Java*][5] page at Baeldung.com. And in the Javadoc for [`Charset`][6], I found a mention that if a character set is supported in Java, we should be able to use its name as listed in [IANA Charset Registry][7]. By following that link, I found the name `&quot;windows-1251&quot;`. \r\n\r\nRun that code to create the file. \r\n\r\n\r\n# Specify character encoding for reading\r\n\r\nOpen the file in a [text editor][8] of your choice. Be sure to tell the app to &#128073; **interpret the [octets][9] in the file as Windows-1251** encoding.\r\n\r\nHere I chose to use the [*TextEdit*][10] app by Apple, bundled with [macOS][11]. In the File &gt; Open dialog box for TextEdit, notice the `Options` button used to display a list of character encodings. Choose *Cyrillic (Windows)* there, as that seems to mean [Windows-1251][12]. \r\n\r\n[![screenshot of TextEdit.app File &gt; Open &gt; Options dialog box][13]][13]\r\n\r\nIf the text is properly interpreted, we see the original Cyrillic characters.\r\n\r\n[![enter image description here][14]][14]\r\n\r\n# Defaults\r\n\r\nBe aware that until Java 17 and earlier, for most purposes the Java runtime **defaults to the character encoding native to the host OS**. This default applies to writing and reading text files, among other things.\r\n\r\nAs of Java 18 and later, the Java runtime **defaults to [UTF-8][15]** character encoding for most purposes. This default applies across all host platforms (macOS, Linux, Windows, etc.). See [*JEP 400: UTF-8 by Default*](https://openjdk.org/jeps/400). \r\n\r\nSo when you need an alternate character encoding such as *Windows 1251*, **always specify the `CharSet`** explicitly. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html\r\n  [2]: https://en.wikipedia.org/wiki/Non-blocking_I/O_(Java)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.file.OpenOption...)\r\n  [4]: https://docs.oracle.com/javase/tutorial/i18n/text/string.html\r\n  [5]: https://www.baeldung.com/java-write-byte-array-file\r\n  [6]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\r\n  [7]: http://www.iana.org/assignments/character-sets\r\n  [8]: https://en.wikipedia.org/wiki/Text_editor\r\n  [9]: https://en.wikipedia.org/wiki/Octet_(computing)\r\n  [10]: https://en.wikipedia.org/wiki/TextEdit\r\n  [11]: https://en.wikipedia.org/wiki/macOS\r\n  [12]: https://en.wikipedia.org/wiki/Windows-1251\r\n  [13]: https://i.stack.imgur.com/RlTIN.jpg\r\n  [14]: https://i.stack.imgur.com/qfFK3.jpg\r\n  [15]: https://en.wikipedia.org/wiki/UTF-8","title":"Save cyrillic while change String encoding from UTF-8 to windows-1251 in Java","body":"<h1>Specify character encoding for writing</h1>\n<p>You can specify a character encoding with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>CharSet</code></a> class.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Non-blocking_I/O_(Java)\" rel=\"nofollow noreferrer\">NIO.2</a> framework in modern Java makes easy work of writing text to a file. For example, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files.writeString</code></a>.</p>\n<p>This code works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String original = &quot;Some   &quot;;\nbyte[] win1251Bytes = new byte[ 0 ];\ntry { win1251Bytes = original.getBytes( &quot;windows-1251&quot; ); } catch ( UnsupportedEncodingException e ) { throw new RuntimeException( e ); }\nPath path = Paths.get( &quot;/Users/whatever/bogus.txt&quot; );  // Home folder on macOS.\ntry { Files.write( path , win1251Bytes ); } catch ( IOException e ) { throw new RuntimeException( e ); }\n</code></pre>\n<p>Or, this briefer code works too, per the <a href=\"https://stackoverflow.com/questions/75293780/save-cyrillic-while-change-string-encoding-from-utf-8-to-windows-1251-in-java/75294350?noredirect=1#comment132893349_75294350\">Comment by Holger</a> below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n    Files.writeString(\n            Paths.get( &quot;/Users/whatever/bogus.txt&quot; ) ,\n            &quot;Some   &quot; ,\n            Charset.forName( &quot;windows-1251&quot; ) \n    );\n}\ncatch ( IOException e )\n{\n    throw new RuntimeException( e );\n}\n</code></pre>\n<p>I know nothing about Cyrillic text. I just read the <a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/string.html\" rel=\"nofollow noreferrer\">Oracle tutorial</a> first. Then I read <a href=\"https://www.baeldung.com/java-write-byte-array-file\" rel=\"nofollow noreferrer\"><em>Writing byte[] to a File in Java</em></a> page at Baeldung.com. And in the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a>, I found a mention that if a character set is supported in Java, we should be able to use its name as listed in <a href=\"http://www.iana.org/assignments/character-sets\" rel=\"nofollow noreferrer\">IANA Charset Registry</a>. By following that link, I found the name <code>&quot;windows-1251&quot;</code>.</p>\n<p>Run that code to create the file.</p>\n<h1>Specify character encoding for reading</h1>\n<p>Open the file in a <a href=\"https://en.wikipedia.org/wiki/Text_editor\" rel=\"nofollow noreferrer\">text editor</a> of your choice. Be sure to tell the app to  <strong>interpret the <a href=\"https://en.wikipedia.org/wiki/Octet_(computing)\" rel=\"nofollow noreferrer\">octets</a> in the file as Windows-1251</strong> encoding.</p>\n<p>Here I chose to use the <a href=\"https://en.wikipedia.org/wiki/TextEdit\" rel=\"nofollow noreferrer\"><em>TextEdit</em></a> app by Apple, bundled with <a href=\"https://en.wikipedia.org/wiki/macOS\" rel=\"nofollow noreferrer\">macOS</a>. In the File &gt; Open dialog box for TextEdit, notice the <code>Options</code> button used to display a list of character encodings. Choose <em>Cyrillic (Windows)</em> there, as that seems to mean <a href=\"https://en.wikipedia.org/wiki/Windows-1251\" rel=\"nofollow noreferrer\">Windows-1251</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/RlTIN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RlTIN.jpg\" alt=\"screenshot of TextEdit.app File &gt; Open &gt; Options dialog box\" /></a></p>\n<p>If the text is properly interpreted, we see the original Cyrillic characters.</p>\n<p><a href=\"https://i.stack.imgur.com/qfFK3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qfFK3.jpg\" alt=\"enter image description here\" /></a></p>\n<h1>Defaults</h1>\n<p>Be aware that until Java 17 and earlier, for most purposes the Java runtime <strong>defaults to the character encoding native to the host OS</strong>. This default applies to writing and reading text files, among other things.</p>\n<p>As of Java 18 and later, the Java runtime <strong>defaults to <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a></strong> character encoding for most purposes. This default applies across all host platforms (macOS, Linux, Windows, etc.). See <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\"><em>JEP 400: UTF-8 by Default</em></a>.</p>\n<p>So when you need an alternate character encoding such as <em>Windows 1251</em>, <strong>always specify the <code>CharSet</code></strong> explicitly.</p>\n"}],"owner":{"account_id":18758268,"reputation":11,"user_id":13677770,"display_name":"Mark Krass"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675186526,"answer_count":1,"score":0,"last_activity_date":1675304556,"creation_date":1675149443,"question_id":75293780,"body_markdown":"I try to swap encoding from UTF-8 to windows-1251, but all my solutions works only with latin letters.\r\nSo I want to change encoding in cyrillic String. How can I do it correctly?\r\n\r\nAll solutions with creating a new String from bytes don&#39;t save [Cyrillic][1] letters.\r\n\r\nFor ex:\r\nUTF-8 - Some    and latin\r\nwindows-1251 - Some &#181;  &#187;&#187;&#181; and latin\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cyrillic_script","title":"Save cyrillic while change String encoding from UTF-8 to windows-1251 in Java","body":"<p>I try to swap encoding from UTF-8 to windows-1251, but all my solutions works only with latin letters.\nSo I want to change encoding in cyrillic String. How can I do it correctly?</p>\n<p>All solutions with creating a new String from bytes don't save <a href=\"https://en.wikipedia.org/wiki/Cyrillic_script\" rel=\"nofollow noreferrer\">Cyrillic</a> letters.</p>\n<p>For ex:\nUTF-8 - Some    and latin\nwindows-1251 - Some    and latin</p>\n"},{"tags":["java","android","react-native","rctbridge"],"comments":[{"owner":{"account_id":14842277,"reputation":4823,"user_id":10718641,"display_name":"Abe"},"score":0,"creation_date":1658707600,"post_id":73095898,"comment_id":129110920,"body_markdown":"This would be a good github issue, have you posted it to the React Native repo?","body":"This would be a good github issue, have you posted it to the React Native repo?"},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1658709646,"post_id":73095898,"comment_id":129111110,"body_markdown":"@Abe I did post it on react&#39;s working group https://github.com/reactwg/react-native-new-architecture/discussions/65. I think I might be doing something wrong and it doesn&#39;t look to me an issue from react native&#39;s side.","body":"@Abe I did post it on react&#39;s working group <a href=\"https://github.com/reactwg/react-native-new-architecture/discussions/65\" rel=\"nofollow noreferrer\">github.com/reactwg/react-native-new-architecture/discussions&zwnj;&#8203;/65</a>. I think I might be doing something wrong and it doesn&#39;t look to me an issue from react native&#39;s side."},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1674790867,"post_id":73095898,"comment_id":132793171,"body_markdown":"@Abe I posted in to react native&#39;s repo. Is been more than 6 months but no activity https://github.com/facebook/react-native/issues/34292","body":"@Abe I posted in to react native&#39;s repo. Is been more than 6 months but no activity <a href=\"https://github.com/facebook/react-native/issues/34292\" rel=\"nofollow noreferrer\">github.com/facebook/react-native/issues/34292</a>"},{"owner":{"account_id":1948645,"reputation":30116,"user_id":6877799,"accept_rate":75,"display_name":"AmerllicA"},"score":0,"creation_date":1675194376,"post_id":73095898,"comment_id":132875182,"body_markdown":"I think the only person who can help you is @SophieAlpert, Ping her.","body":"I think the only person who can help you is @SophieAlpert, Ping her."},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1675238347,"post_id":73095898,"comment_id":132883046,"body_markdown":"No one replies....","body":"No one replies...."}],"answers":[{"comments":[{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1675411070,"post_id":75318050,"comment_id":132927087,"body_markdown":"I am not sure why the guy who originally suggested this removed his comment. I did ask him to put him his comment as an answer","body":"I am not sure why the guy who originally suggested this removed his comment. I did ask him to put him his comment as an answer"}],"tags":[],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675304424,"creation_date":1675304424,"answer_id":75318050,"question_id":73095898,"body_markdown":"Commenting  `super.dispatchModern(rctEventEmitter);` from dispatchModern resolved the issue","title":"RCTModernEventEmitter fires twice for android fabric component","body":"<p>Commenting  <code>super.dispatchModern(rctEventEmitter);</code> from dispatchModern resolved the issue</p>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":75318050,"answer_count":1,"score":8,"last_activity_date":1675304424,"creation_date":1658638838,"question_id":73095898,"body_markdown":"I am trying to create a `fabric` component for `android`, specifically I want to use the `onClickHandler` of the button component and pass a callback to `react-native` side via `RCTModernEventEmitter`. It works fine for `iOS` but for android the `RCTModernEventEmitter` emits twice every time I click the `button`\r\n\r\n\r\nThis is my spec\r\n\r\n    import type {HostComponent, ViewProps} from &#39;react-native&#39;;\r\n    import type {\r\n      DirectEventHandler\r\n    } from &#39;react-native/Libraries/Types/CodegenTypes&#39;;\r\n    import codegenNativeComponent from &#39;react-native/Libraries/Utilities/codegenNativeComponent&#39;;\r\n    \r\n    type Event = Readonly&lt;{\r\n      text?: string;\r\n    }&gt;;\r\n    \r\n    interface NativeProps extends ViewProps {\r\n      text: string;\r\n      onClickHandler?: DirectEventHandler&lt;Event&gt;; ////Event name should start with on\r\n    }\r\n    \r\n    export default codegenNativeComponent&lt;NativeProps&gt;(\r\n      &#39;MyButtonView&#39;,\r\n    ) as HostComponent&lt;NativeProps&gt;;\r\n\r\n\r\nOn native side I have created following files\r\n\r\n\r\n    public class MyButtonViewManager extends SimpleViewManager&lt;MyButtonView&gt; {\r\n    \r\n        public static final String NAME = &quot;MyButtonView&quot;;\r\n        ReactApplicationContext mCallerContext;\r\n    \r\n        public MyButtonViewManager(ReactApplicationContext reactContext) {\r\n            mCallerContext = reactContext;\r\n        }\r\n     \r\n        @NonNull\r\n        @Override\r\n        public String getName() {\r\n            return NAME;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        protected MyButtonView createViewInstance(@NonNull ThemedReactContext reactContext) {\r\n            return new MyButtonView(reactContext);\r\n        }\r\n    \r\n        @ReactProp(name = &quot;text&quot;)\r\n        public void setQrCodeText(MyButtonView view, String text) {\r\n            view.setText(text);\r\n        }\r\n    \r\n    \r\n        @Nullable\r\n        @Override\r\n        public Map&lt;String, Object&gt; getExportedCustomDirectEventTypeConstants() {\r\n            return MapBuilder.of(&quot;topOnClickHandler&quot;,\r\n                    MapBuilder.of(&quot;registrationName&quot;, &quot;onClickHandler&quot;)\r\n            );\r\n        }\r\n    \r\n    }\r\n    \r\n    public class MyButtonClickEvent extends Event&lt;MyButtonClickEvent&gt; {\r\n    \r\n        public MyButtonClickEvent(int viewId) {\r\n            super(viewId);\r\n        }\r\n     \r\n        @Override\r\n        public String getEventName() {\r\n            return &quot;topOnClickHandler&quot;;\r\n        }\r\n    \r\n    //    @Override\r\n    //    public void dispatch(RCTEventEmitter rctEventEmitter) {\r\n    //        super.dispatch(rctEventEmitter);\r\n    //        rctEventEmitter.receiveEvent(getViewTag(), getEventName(), Arguments.createMap());\r\n    //    }\r\n    \r\n        @Override\r\n        public void dispatchModern(RCTModernEventEmitter rctEventEmitter) {\r\n            super.dispatchModern(rctEventEmitter);\r\n            rctEventEmitter.receiveEvent(-1,\r\n                    getViewTag(),getEventName(),\r\n                    Arguments.createMap()\r\n            );\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        protected WritableMap getEventData() {\r\n            WritableMap event = Arguments.createMap();\r\n            event.putString(&quot;message&quot;, &quot;MyMessage&quot;);\r\n            return event;\r\n        }\r\n    }\r\n    \r\n    public class MyButtonView extends androidx.appcompat.widget.AppCompatButton {\r\n    \r\n        public MyButtonView(Context context) {\r\n            super(context);\r\n            configureViews();\r\n        }\r\n    \r\n        private void configureViews(){\r\n            setBackgroundColor(Color.YELLOW);\r\n            setOnClickListener(view -&gt; {\r\n                ReactContext reactContext = (ReactContext)getContext();\r\n                EventDispatcher eventDispatcher = UIManagerHelper.getEventDispatcherForReactTag(\r\n                        reactContext ,getId()\r\n                );\r\n                eventDispatcher.dispatchEvent(new MyButtonClickEvent(getId()));\r\n            });\r\n        }\r\n    }\r\n\r\nOn `JS` side\r\n\r\n    &lt;MyButtonView\r\n      style={{height: 100, width: 100, margin: 20}}\r\n      onClickHandler={(value: any) =&gt; {\r\n        console.log(&#39;Hello ok bye&#39;, value.nativeEvent);\r\n      }}\r\n      text=&quot;Hello&quot;\r\n    /&gt;\r\n\r\nI get `value` in `onClickHandler` of `MyButtonView` twice even though I press the `button` once\r\n\r\nFullrepo is here https://github.com/PritishSawant/ReactNativeFabricEventListenerExample\r\n\r\nEdit:\r\n\r\nI have updated my code to 0.71.1 and you can find it [here][1]\r\n\r\n\r\n  [1]: https://github.com/PritishSawant/NewArchitectureReactNativeButtonClick0.71.1","title":"RCTModernEventEmitter fires twice for android fabric component","body":"<p>I am trying to create a <code>fabric</code> component for <code>android</code>, specifically I want to use the <code>onClickHandler</code> of the button component and pass a callback to <code>react-native</code> side via <code>RCTModernEventEmitter</code>. It works fine for <code>iOS</code> but for android the <code>RCTModernEventEmitter</code> emits twice every time I click the <code>button</code></p>\n<p>This is my spec</p>\n<pre><code>import type {HostComponent, ViewProps} from 'react-native';\nimport type {\n  DirectEventHandler\n} from 'react-native/Libraries/Types/CodegenTypes';\nimport codegenNativeComponent from 'react-native/Libraries/Utilities/codegenNativeComponent';\n\ntype Event = Readonly&lt;{\n  text?: string;\n}&gt;;\n\ninterface NativeProps extends ViewProps {\n  text: string;\n  onClickHandler?: DirectEventHandler&lt;Event&gt;; ////Event name should start with on\n}\n\nexport default codegenNativeComponent&lt;NativeProps&gt;(\n  'MyButtonView',\n) as HostComponent&lt;NativeProps&gt;;\n</code></pre>\n<p>On native side I have created following files</p>\n<pre><code>public class MyButtonViewManager extends SimpleViewManager&lt;MyButtonView&gt; {\n\n    public static final String NAME = &quot;MyButtonView&quot;;\n    ReactApplicationContext mCallerContext;\n\n    public MyButtonViewManager(ReactApplicationContext reactContext) {\n        mCallerContext = reactContext;\n    }\n \n    @NonNull\n    @Override\n    public String getName() {\n        return NAME;\n    }\n\n    @NonNull\n    @Override\n    protected MyButtonView createViewInstance(@NonNull ThemedReactContext reactContext) {\n        return new MyButtonView(reactContext);\n    }\n\n    @ReactProp(name = &quot;text&quot;)\n    public void setQrCodeText(MyButtonView view, String text) {\n        view.setText(text);\n    }\n\n\n    @Nullable\n    @Override\n    public Map&lt;String, Object&gt; getExportedCustomDirectEventTypeConstants() {\n        return MapBuilder.of(&quot;topOnClickHandler&quot;,\n                MapBuilder.of(&quot;registrationName&quot;, &quot;onClickHandler&quot;)\n        );\n    }\n\n}\n\npublic class MyButtonClickEvent extends Event&lt;MyButtonClickEvent&gt; {\n\n    public MyButtonClickEvent(int viewId) {\n        super(viewId);\n    }\n \n    @Override\n    public String getEventName() {\n        return &quot;topOnClickHandler&quot;;\n    }\n\n//    @Override\n//    public void dispatch(RCTEventEmitter rctEventEmitter) {\n//        super.dispatch(rctEventEmitter);\n//        rctEventEmitter.receiveEvent(getViewTag(), getEventName(), Arguments.createMap());\n//    }\n\n    @Override\n    public void dispatchModern(RCTModernEventEmitter rctEventEmitter) {\n        super.dispatchModern(rctEventEmitter);\n        rctEventEmitter.receiveEvent(-1,\n                getViewTag(),getEventName(),\n                Arguments.createMap()\n        );\n    }\n\n    @Nullable\n    @Override\n    protected WritableMap getEventData() {\n        WritableMap event = Arguments.createMap();\n        event.putString(&quot;message&quot;, &quot;MyMessage&quot;);\n        return event;\n    }\n}\n\npublic class MyButtonView extends androidx.appcompat.widget.AppCompatButton {\n\n    public MyButtonView(Context context) {\n        super(context);\n        configureViews();\n    }\n\n    private void configureViews(){\n        setBackgroundColor(Color.YELLOW);\n        setOnClickListener(view -&gt; {\n            ReactContext reactContext = (ReactContext)getContext();\n            EventDispatcher eventDispatcher = UIManagerHelper.getEventDispatcherForReactTag(\n                    reactContext ,getId()\n            );\n            eventDispatcher.dispatchEvent(new MyButtonClickEvent(getId()));\n        });\n    }\n}\n</code></pre>\n<p>On <code>JS</code> side</p>\n<pre><code>&lt;MyButtonView\n  style={{height: 100, width: 100, margin: 20}}\n  onClickHandler={(value: any) =&gt; {\n    console.log('Hello ok bye', value.nativeEvent);\n  }}\n  text=&quot;Hello&quot;\n/&gt;\n</code></pre>\n<p>I get <code>value</code> in <code>onClickHandler</code> of <code>MyButtonView</code> twice even though I press the <code>button</code> once</p>\n<p>Fullrepo is here <a href=\"https://github.com/PritishSawant/ReactNativeFabricEventListenerExample\" rel=\"noreferrer\">https://github.com/PritishSawant/ReactNativeFabricEventListenerExample</a></p>\n<p>Edit:</p>\n<p>I have updated my code to 0.71.1 and you can find it <a href=\"https://github.com/PritishSawant/NewArchitectureReactNativeButtonClick0.71.1\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java","detection","control-characters"],"comments":[{"owner":{"account_id":210048,"reputation":9082,"user_id":461444,"accept_rate":56,"display_name":"AFract"},"score":3,"creation_date":1425545457,"post_id":28873516,"comment_id":46009690,"body_markdown":"Looks like homework. What you did so far ?","body":"Looks like homework. What you did so far ?"},{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":0,"creation_date":1425545663,"post_id":28873516,"comment_id":46009804,"body_markdown":"Read the document char by char and count...","body":"Read the document char by char and count..."},{"owner":{"account_id":26827,"reputation":11952,"user_id":70149,"accept_rate":74,"display_name":"rism"},"score":1,"creation_date":1425545975,"post_id":28873516,"comment_id":46009957,"body_markdown":"I&#39;m voting to close this question as off-topic because zero effort went into   asking it.","body":"I&#39;m voting to close this question as off-topic because zero effort went into   asking it."},{"owner":{"account_id":5888604,"reputation":37,"user_id":4635858,"accept_rate":17,"display_name":"AAAAAAAAAAAA"},"score":0,"creation_date":1425573256,"post_id":28873516,"comment_id":46026960,"body_markdown":"So far I can only count the number of &quot;normal&quot; characters. (such as a, b, c...)","body":"So far I can only count the number of &quot;normal&quot; characters. (such as a, b, c...)"}],"answers":[{"comments":[{"owner":{"account_id":5888604,"reputation":37,"user_id":4635858,"accept_rate":17,"display_name":"AAAAAAAAAAAA"},"score":0,"creation_date":1425584893,"post_id":28873744,"comment_id":46034080,"body_markdown":"It seems that the major problem is that when I use s.length() (s is a String), it will only give me the number of normal characters (a,b,c...) in the String.","body":"It seems that the major problem is that when I use s.length() (s is a String), it will only give me the number of normal characters (a,b,c...) in the String."},{"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"score":0,"creation_date":1425629106,"post_id":28873744,"comment_id":46049003,"body_markdown":"That is not true. ``length()`` will also count control characters. The documentation states &quot;*Returns the length of this string. The length is equal to the number of Unicode code units in the string.*&quot; I edited my answer above, where I&#39;m matching line feeds and carriage returns only, but you can process other control characters alike.","body":"That is not true. <code>length()</code> will also count control characters. The documentation states &quot;<i>Returns the length of this string. The length is equal to the number of Unicode code units in the string.</i>&quot; I edited my answer above, where I&#39;m matching line feeds and carriage returns only, but you can process other control characters alike."}],"tags":[],"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425628980,"creation_date":1425546135,"answer_id":28873744,"question_id":28873516,"body_markdown":"Loop through your input char by char and compare the character&#39;s ordinal number with the [control characters](http://en.wikipedia.org/wiki/ASCII#ASCII_control_code_chart) defined in ASCII standard. If you have a match, increase your counter.\r\n\r\n---\r\n\r\n**Edit:**\r\n\r\n      String input = &quot;325\\nfefe\\rw2&quot;;\r\n\r\n      int normalCount = 0;\r\n      int controlCount = 0;\r\n\r\n      for (int i = 0; i &lt; input.length(); ++i) {\r\n\r\n         int characterCode = (int)input.charAt(i);\r\n\r\n         if (characterCode == 10 || characterCode == 13) { // Match \\n and \\r\r\n            ++controlCount;\r\n         }\r\n         else {\r\n            ++normalCount;\r\n         }\r\n      }\r\n\r\n      System.out.println(&quot;The input contains:&quot;);\r\n      System.out.println(&quot;\\t&quot; + normalCount + &quot; printable characters&quot;);\r\n      System.out.println(&quot;\\t&quot; + controlCount + &quot; control characters&quot;);\r\n\r\nWill give you this output:\r\n\r\n    The input contains:\r\n    \t9 printable characters\r\n    \t2 control characters","title":"How to detect control character (ex. 0x0A (line feed)) with java?","body":"<p>Loop through your input char by char and compare the character's ordinal number with the <a href=\"http://en.wikipedia.org/wiki/ASCII#ASCII_control_code_chart\" rel=\"nofollow\">control characters</a> defined in ASCII standard. If you have a match, increase your counter.</p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>  String input = \"325\\nfefe\\rw2\";\n\n  int normalCount = 0;\n  int controlCount = 0;\n\n  for (int i = 0; i &lt; input.length(); ++i) {\n\n     int characterCode = (int)input.charAt(i);\n\n     if (characterCode == 10 || characterCode == 13) { // Match \\n and \\r\n        ++controlCount;\n     }\n     else {\n        ++normalCount;\n     }\n  }\n\n  System.out.println(\"The input contains:\");\n  System.out.println(\"\\t\" + normalCount + \" printable characters\");\n  System.out.println(\"\\t\" + controlCount + \" control characters\");\n</code></pre>\n\n<p>Will give you this output:</p>\n\n<pre><code>The input contains:\n    9 printable characters\n    2 control characters\n</code></pre>\n"},{"comments":[{"owner":{"account_id":151926,"reputation":2870,"user_id":366091,"accept_rate":88,"display_name":"biasedbit"},"score":0,"creation_date":1675045986,"post_id":75236302,"comment_id":132837431,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/33706971)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/33706971\">From Review</a>"}],"tags":[],"owner":{"account_id":27572847,"reputation":13,"user_id":21043695,"display_name":"Tony Valderrama"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675303522,"creation_date":1674661126,"answer_id":75236302,"question_id":28873516,"body_markdown":"Maybe you can find [the isISOControl method][1] from the Character class useful. It returns true is the character is a control character.\r\n\r\nSupposing temp is a String and counter is an int where you want to have the total of control characters in the string, someting like this might do the trick:\r\n\r\n       for (int i=0,counter=0;i&lt;temp.length();i++) {\r\n           \tif (!Character.isISOControl(temp.charAt(i))) {\r\n           \t\tcounter++;\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Character.html#isISOControl(char)","title":"How to detect control character (ex. 0x0A (line feed)) with java?","body":"<p>Maybe you can find <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Character.html#isISOControl(char)\" rel=\"nofollow noreferrer\">the isISOControl method</a> from the Character class useful. It returns true is the character is a control character.</p>\n<p>Supposing temp is a String and counter is an int where you want to have the total of control characters in the string, someting like this might do the trick:</p>\n<pre><code>   for (int i=0,counter=0;i&lt;temp.length();i++) {\n        if (!Character.isISOControl(temp.charAt(i))) {\n            counter++;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":5888604,"reputation":37,"user_id":4635858,"accept_rate":17,"display_name":"AAAAAAAAAAAA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1391,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1675303522,"creation_date":1425545322,"question_id":28873516,"body_markdown":"I need to count the number of control characters from a text document.","title":"How to detect control character (ex. 0x0A (line feed)) with java?","body":"<p>I need to count the number of control characters from a text document.</p>\n"},{"tags":["java","web-scraping","jsoup","data-extraction"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675303412,"post_id":75317947,"comment_id":132901974,"body_markdown":"Its unlikely to be a static site.","body":"Its unlikely to be a static site."},{"owner":{"account_id":27680713,"reputation":1,"user_id":21129528,"display_name":"gBarry"},"score":0,"creation_date":1675303824,"post_id":75317947,"comment_id":132902029,"body_markdown":"@DaveNewton shouldn&#39;t I still be able to extract the html data in the moment?","body":"@DaveNewton shouldn&#39;t I still be able to extract the html data in the moment?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1675306222,"post_id":75317947,"comment_id":132902347,"body_markdown":"Not if its generated dynamically, no; IIRC JSoup doesnt do JS. For that you need to drive a full, headless or not, or reverse engineer their back end requests. *Noting that either are almost certainly against their TOS (but Im guessing).*","body":"Not if its generated dynamically, no; IIRC JSoup doesnt do JS. For that you need to drive a full, headless or not, or reverse engineer their back end requests. <i>Noting that either are almost certainly against their TOS (but Im guessing).</i>"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1675608393,"post_id":75317947,"comment_id":132961650,"body_markdown":"Does this answer your question? [Page content is loaded with JavaScript and Jsoup doesn&#39;t see it](https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it\">Page content is loaded with JavaScript and Jsoup doesn&#39;t see it</a>"}],"owner":{"account_id":27680713,"reputation":1,"user_id":21129528,"display_name":"gBarry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675303043,"creation_date":1675303043,"question_id":75317947,"body_markdown":"I&#39;ve been trying to create a program in Java that can catch the odds of a game from a sportsbook like FanDuel but I&#39;ve been running into a lot of problems. When I print the html for the site I dont get the entire html for the site so Im unable to go into the divs and retrieve the actual data I want. \r\nI used the Url https://sportsbook.fanduel.com/ . If I try and run a method like Elements element = doc.getElementByID(&quot;root&quot;); to get the data inside that div the rest of the data in that div will not appear. [enter image description here](https://i.stack.imgur.com/IFYuu.png). I specifically would just like to get the moneyline data for each game if anyone can help that would be great\r\n```\r\npublic class ExtractSportsBookData {\r\n    public static void extractData(String url){\r\n        try{\r\n            Document doc = Jsoup.connect(url).get();\r\n            String html = doc.html();\r\n            System.out.println(html);\r\n            \r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/2gy0l.png)\r\nIf you look at the image inside the li tags is where the data is stored for the moneylines for each game but I cannot seem to find a way to extract that data using Jsoup\r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ExtractSportsBookData.extractData(&quot;https://sportsbook.fanduel.com/&quot;);\r\n\r\n    }\r\n}\r\n\r\n\r\nimport java.io.IOException;\r\nimport java.io.SyncFailedException;\r\n\r\npublic class ExtractSportsBookData {\r\n    public static void extractData(String url){\r\n        try{\r\n            Document doc = Jsoup.connect(url).get();\r\n            String html = doc.html();\r\n            //System.out.println(html);\r\n            Elements element = doc.getElementsByClass(&quot;jo jp fk fe jy jz bs&quot;);\r\n            System.out.println(element.isEmpty());\r\n\r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n[enter image description here](https://i.stack.imgur.com/BVF2c.png)\r\nThe result I receive from this is true meaning that the element is empty which is not what I want. Any help on this would be appreciated","title":"Jsoup webscraping to find game odds data","body":"<p>I've been trying to create a program in Java that can catch the odds of a game from a sportsbook like FanDuel but I've been running into a lot of problems. When I print the html for the site I dont get the entire html for the site so Im unable to go into the divs and retrieve the actual data I want.\nI used the Url <a href=\"https://sportsbook.fanduel.com/\" rel=\"nofollow noreferrer\">https://sportsbook.fanduel.com/</a> . If I try and run a method like Elements element = doc.getElementByID(&quot;root&quot;); to get the data inside that div the rest of the data in that div will not appear. <a href=\"https://i.stack.imgur.com/IFYuu.png\" rel=\"nofollow noreferrer\">enter image description here</a>. I specifically would just like to get the moneyline data for each game if anyone can help that would be great</p>\n<pre><code>public class ExtractSportsBookData {\n    public static void extractData(String url){\n        try{\n            Document doc = Jsoup.connect(url).get();\n            String html = doc.html();\n            System.out.println(html);\n            \n        } catch (IOException e){\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2gy0l.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nIf you look at the image inside the li tags is where the data is stored for the moneylines for each game but I cannot seem to find a way to extract that data using Jsoup</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ExtractSportsBookData.extractData(&quot;https://sportsbook.fanduel.com/&quot;);\n\n    }\n}\n\n\nimport java.io.IOException;\nimport java.io.SyncFailedException;\n\npublic class ExtractSportsBookData {\n    public static void extractData(String url){\n        try{\n            Document doc = Jsoup.connect(url).get();\n            String html = doc.html();\n            //System.out.println(html);\n            Elements element = doc.getElementsByClass(&quot;jo jp fk fe jy jz bs&quot;);\n            System.out.println(element.isEmpty());\n\n        } catch (IOException e){\n            e.printStackTrace();\n        }\n\n    }\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BVF2c.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe result I receive from this is true meaning that the element is empty which is not what I want. Any help on this would be appreciated</p>\n"},{"tags":["javascript","java","android","vue.js","webview"],"comments":[{"owner":{"account_id":20379589,"reputation":13,"user_id":14949992,"display_name":"SungsooKim"},"score":0,"creation_date":1675308482,"post_id":75305296,"comment_id":132902665,"body_markdown":"[Solved] I found out why that error is occur.\njava and javascript have different conversion methods(encode URI).\nSo, I append some more &#39;replacedAll&#39; code in JAVA code like this.\n`URLEncoder.encode(&quot;url&quot;), &quot;UTF-8&quot;).replaceAll(&quot;\\\\+&quot;, &quot;%20&quot;).replaceAll(&quot;\\\\%21&quot;, &quot;!&quot;).replaceAll(&quot;\\\\%27&quot;, &quot;&#39;&quot;).replaceAll(&quot;\\\\%28&quot;, &quot;(&quot;).replaceAll(&quot;\\\\%29&quot;, &quot;)&quot;).replaceAll(&quot;\\\\%7E&quot;, &quot;~&quot;);`\n\nAfter add this code, &#39;atob&#39; method worked fine.","body":"[Solved] I found out why that error is occur. java and javascript have different conversion methods(encode URI). So, I append some more &#39;replacedAll&#39; code in JAVA code like this. <code>URLEncoder.encode(&quot;url&quot;), &quot;UTF-8&quot;).replaceAll(&quot;\\\\+&quot;, &quot;%20&quot;).replaceAll(&quot;\\\\%21&quot;, &quot;!&quot;).replaceAll(&quot;\\\\%27&quot;, &quot;&#39;&quot;).replaceAll(&quot;\\\\%28&quot;, &quot;(&quot;).replaceAll(&quot;\\\\%29&quot;, &quot;)&quot;).replaceAll(&quot;\\\\%7E&quot;, &quot;~&quot;);</code>  After add this code, &#39;atob&#39; method worked fine."}],"owner":{"account_id":20379589,"reputation":13,"user_id":14949992,"display_name":"SungsooKim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675301927,"creation_date":1675221252,"question_id":75305296,"body_markdown":"I&#39;d like to convert encoded base64 string uri to file in javascript.\r\n\r\nOriginal uri is posted from android local file path. (&quot;content://com.google.android.apps.docs.storage/document/*&quot;)\r\n\r\nBelow code is the progress of encoding uri and posting them written from JAVA(Android).\r\n\r\n    public static String fileUriToBase64(Uri uri, ContentResolver resolver) {\r\n\t\tString encodedBase64 = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tbyte[] bytes = readBytes(uri, resolver);\r\n\t\t\tencodedBase64 = Base64.encodeToString(bytes, 0);\r\n\t\t} catch (IOException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\treturn encodedBase64;\r\n\t}\r\n\r\n    String originalUri = &quot;content://com.google.android.apps.docs.storage/document/*&quot;;\r\n    String encodedUri = URLEncoder.encode(fileUriToBase64(originalUri, getContentResolver()));\r\n\r\n    webView.evaluateJavascript(&quot;javascript: &quot; +&quot;getCroppedImageUrl(\\&quot;&quot; + &quot;data:image/png;base64,&quot; + encodedUri +\r\n\t\t\t\t&quot;\\&quot;)&quot;,null);\r\n\r\n\r\nIn webView, I can show that image uri via below code.\r\n\r\n```\r\n&lt;img\r\n  :src=&quot;this.encodedUri&quot;\r\n  id=&quot;img-test&quot;\r\n  style=&quot;width: 150px; height: 150px&quot;\r\n/&gt;\r\n```\r\nThis webView made of Vue.JS.\r\n\r\nWhen webView receive encodedUri, I want to post this image uri to server.\r\nTo decode this uri I use below code but it return error.\r\n```\r\nfunction base64ImageToBlob(str) {\r\n  const pos = str.indexOf(&quot;;base64,&quot;);\r\n  const type = str.substring(5, pos);\r\n  let decodedUri = decodeURI(str);\r\n  decodedUri = decodedUri.substr(pos + 8);\r\n  \r\n  const imageContent = atob(decodedUri);\r\n\r\n  // create an ArrayBuffer and a view (as unsigned 8-bit)\r\n  const buffer = new ArrayBuffer(imageContent.length);\r\n  const view = new Uint8Array(buffer);\r\n\r\n  // fill the view, using the decoded base64\r\n  for (var n = 0; n &lt; imageContent.length; n++) {\r\n    view[n] = imageContent.charCodeAt(n);\r\n  }\r\n\r\n  // convert ArrayBuffer to Blob\r\n  const blob = new Blob([buffer], { type: type });\r\n  return blob;\r\n}\r\n\r\ntry {\r\n  url = base64ImageToBlob(url);\r\n  } catch (err) {\r\n  alert(err);\r\n}\r\n```\r\nerror message is &#39;InvalidCharacterError: Failed to execute &#39;atob&#39; on &#39;Window&#39;: The string to be decoded is not correctly encoded&#39;\r\n\r\nHow can I convert that uri to file?\r\n\r\nThank you for reading it.","title":"How can I convert encoded base64 string uri (from native Android) to file in javascript?","body":"<p>I'd like to convert encoded base64 string uri to file in javascript.</p>\n<p>Original uri is posted from android local file path. (&quot;content://com.google.android.apps.docs.storage/document/*&quot;)</p>\n<p>Below code is the progress of encoding uri and posting them written from JAVA(Android).</p>\n<pre><code>public static String fileUriToBase64(Uri uri, ContentResolver resolver) {\n    String encodedBase64 = &quot;&quot;;\n    try {\n        byte[] bytes = readBytes(uri, resolver);\n        encodedBase64 = Base64.encodeToString(bytes, 0);\n    } catch (IOException e1) {\n        e1.printStackTrace();\n    }\n    return encodedBase64;\n}\n\nString originalUri = &quot;content://com.google.android.apps.docs.storage/document/*&quot;;\nString encodedUri = URLEncoder.encode(fileUriToBase64(originalUri, getContentResolver()));\n\nwebView.evaluateJavascript(&quot;javascript: &quot; +&quot;getCroppedImageUrl(\\&quot;&quot; + &quot;data:image/png;base64,&quot; + encodedUri +\n            &quot;\\&quot;)&quot;,null);\n</code></pre>\n<p>In webView, I can show that image uri via below code.</p>\n<pre><code>&lt;img\n  :src=&quot;this.encodedUri&quot;\n  id=&quot;img-test&quot;\n  style=&quot;width: 150px; height: 150px&quot;\n/&gt;\n</code></pre>\n<p>This webView made of Vue.JS.</p>\n<p>When webView receive encodedUri, I want to post this image uri to server.\nTo decode this uri I use below code but it return error.</p>\n<pre><code>function base64ImageToBlob(str) {\n  const pos = str.indexOf(&quot;;base64,&quot;);\n  const type = str.substring(5, pos);\n  let decodedUri = decodeURI(str);\n  decodedUri = decodedUri.substr(pos + 8);\n  \n  const imageContent = atob(decodedUri);\n\n  // create an ArrayBuffer and a view (as unsigned 8-bit)\n  const buffer = new ArrayBuffer(imageContent.length);\n  const view = new Uint8Array(buffer);\n\n  // fill the view, using the decoded base64\n  for (var n = 0; n &lt; imageContent.length; n++) {\n    view[n] = imageContent.charCodeAt(n);\n  }\n\n  // convert ArrayBuffer to Blob\n  const blob = new Blob([buffer], { type: type });\n  return blob;\n}\n\ntry {\n  url = base64ImageToBlob(url);\n  } catch (err) {\n  alert(err);\n}\n</code></pre>\n<p>error message is 'InvalidCharacterError: Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded'</p>\n<p>How can I convert that uri to file?</p>\n<p>Thank you for reading it.</p>\n"},{"tags":["java","github"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1675302736,"post_id":75317776,"comment_id":132901894,"body_markdown":"If you are talking about Java version itself the only way is to track down the commits/PRs for that code. It is a repo, there is not a division by version the last code there is the last version. You can however check the TAGs and see which files were added to it... But direct to a file not sure if it is possible","body":"If you are talking about Java version itself the only way is to track down the commits/PRs for that code. It is a repo, there is not a division by version the last code there is the last version. You can however check the TAGs and see which files were added to it... But direct to a file not sure if it is possible"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1675303246,"post_id":75317776,"comment_id":132901962,"body_markdown":"And if you are talking about the class/methods the `@since X` in the javadoc, for example (for Java 8) `@since 1.8` tells you when the method/class was added","body":"And if you are talking about the class/methods the <code>@since X</code> in the javadoc, for example (for Java 8) <code>@since 1.8</code> tells you when the method/class was added"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1675304219,"post_id":75317776,"comment_id":132902073,"body_markdown":"GitHub lets you select a tag to browse. When youre looking at the code on the master branch, it could include unreleased changes.","body":"GitHub lets you select a tag to browse. When youre looking at the code on the master branch, it could include unreleased changes."}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675300805,"creation_date":1675300805,"question_id":75317776,"body_markdown":"How to tell while browsing the JDK source in github, which version of Java it is?\r\nFor instance, I do not see anywhere it says which version this source of `Arrays` is:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java\r\n","title":"How to tell while browsing the JDK source in github, which version of Java it is?","body":"<p>How to tell while browsing the JDK source in github, which version of Java it is?\nFor instance, I do not see anywhere it says which version this source of <code>Arrays</code> is:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java</a></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":1,"creation_date":1675187936,"post_id":75301223,"comment_id":132873407,"body_markdown":"just do not use `var`!","body":"just do not use <code>var</code>!"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1675188072,"post_id":75301223,"comment_id":132873451,"body_markdown":"`z` is an `int`. (something no wider than an int) * (something no wider than an int) is an int. So `byte*byte=int`, `byte*short=int`, `short*short=int` etc.","body":"<code>z</code> is an <code>int</code>. (something no wider than an int) * (something no wider than an int) is an int. So <code>byte*byte=int</code>, <code>byte*short=int</code>, <code>short*short=int</code> etc."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1675188957,"post_id":75301223,"comment_id":132873705,"body_markdown":"If you&#39;re using `var` then you don&#39;t care what it is.  The compiler will figure it out.","body":"If you&#39;re using <code>var</code> then you don&#39;t care what it is.  The compiler will figure it out."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1675300629,"post_id":75301223,"comment_id":132901600,"body_markdown":"@stdunbar no, I am trying to tell what the type of var is. It is a java certification question","body":"@stdunbar no, I am trying to tell what the type of var is. It is a java certification question"}],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675205056,"creation_date":1675205056,"answer_id":75303923,"question_id":75301223,"body_markdown":"You can right click on IntelliJ&#39;s debugger tool window, select &quot;Customize Data Views&quot;, and enable &quot;Declared type&quot;.\r\n\r\n[![show declared type][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bkV2W.png","title":"How can I tell the type of a local variable in IntelliJ&#39;s debugger?","body":"<p>You can right click on IntelliJ's debugger tool window, select &quot;Customize Data Views&quot;, and enable &quot;Declared type&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/bkV2W.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bkV2W.png\" alt=\"show declared type\" /></a></p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75303923,"answer_count":1,"score":1,"last_activity_date":1675300681,"creation_date":1675187838,"question_id":75301223,"body_markdown":"    // from Selikoff and Boyarsky Java 17 certification\r\n    public class Ex0 {\r\n        public static void main(String[] args) {\r\n            short x = 10;\r\n            short y = 3;\r\n            var z = x * y;\r\n        }\r\n    }\r\n\r\nI want to tell what the type of the var is but I do not see it in the debugger.\r\n\r\nEven the types of x and y are not shown.\r\n\r\n\r\n[![ide][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/coHnK.png\r\n","title":"How can I tell the type of a local variable in IntelliJ&#39;s debugger?","body":"<pre><code>// from Selikoff and Boyarsky Java 17 certification\npublic class Ex0 {\n    public static void main(String[] args) {\n        short x = 10;\n        short y = 3;\n        var z = x * y;\n    }\n}\n</code></pre>\n<p>I want to tell what the type of the var is but I do not see it in the debugger.</p>\n<p>Even the types of x and y are not shown.</p>\n<p><a href=\"https://i.stack.imgur.com/coHnK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/coHnK.png\" alt=\"ide\" /></a></p>\n"},{"tags":["java","language-design","unsigned","integer"],"comments":[{"owner":{"account_id":5533,"reputation":119461,"user_id":8954,"accept_rate":93,"display_name":"Tamas Czinege"},"score":153,"creation_date":1231565754,"post_id":430346,"comment_id":254145,"body_markdown":"I don&#39;t know but it annoys the hell out of me; for example it is much harder to write network code this way.","body":"I don&#39;t know but it annoys the hell out of me; for example it is much harder to write network code this way."},{"owner":{"account_id":46093,"reputation":1235,"user_id":136089,"accept_rate":100,"display_name":"Liao"},"score":23,"creation_date":1264567875,"post_id":430346,"comment_id":2086280,"body_markdown":"I wish there were only two types in the language/database/... world: number and string :)","body":"I wish there were only two types in the language/database/... world: number and string :)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":7,"creation_date":1282946357,"post_id":430346,"comment_id":3765088,"body_markdown":"Writing network code isn&#39;t much harder at all. BTW InputStream.read(), returns an unsigned byte, not a signed one for example so the network example is a confusion IMHO.  Its only confusing is you asume that writing a signed value is any different to writing an unsigned one. i.e. if you don&#39;t actually know what is happening at the byte level.","body":"Writing network code isn&#39;t much harder at all. BTW InputStream.read(), returns an unsigned byte, not a signed one for example so the network example is a confusion IMHO.  Its only confusing is you asume that writing a signed value is any different to writing an unsigned one. i.e. if you don&#39;t actually know what is happening at the byte level."},{"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"score":19,"creation_date":1329083909,"post_id":430346,"comment_id":11659571,"body_markdown":"@ZachSaw - I also did a double-take when I saw a language designer make that quote. There is nothing simpler than an unsigned integer. Signed integers are complicated. Particularly when you consider the bit twiddling at the transistor level. And how does a signed integer shift? I had to conclude that the designer of Java has a serious issue understanding boolean logic.","body":"@ZachSaw - I also did a double-take when I saw a language designer make that quote. There is nothing simpler than an unsigned integer. Signed integers are complicated. Particularly when you consider the bit twiddling at the transistor level. And how does a signed integer shift? I had to conclude that the designer of Java has a serious issue understanding boolean logic."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1378182390,"post_id":430346,"comment_id":27347114,"body_markdown":"@PP.: A major problem with unsigned types in C is that they represent a weird cross between integers and a cyclic groups, since uint1-uint2 is defined as the value which, when added to uint2, yields uint1.  The problem could be solved if a language allowed for implicit casts which could not participate in operator overloading (so that e.g. `someUInt32=someUInt16;` would be legal, but `if (someInt32==someInt16)` would not be legal without a typecast) but included operator overloads that made sense (e.g. adding a signed value to a uint value cycles the group by that amount).","body":"@PP.: A major problem with unsigned types in C is that they represent a weird cross between integers and a cyclic groups, since uint1-uint2 is defined as the value which, when added to uint2, yields uint1.  The problem could be solved if a language allowed for implicit casts which could not participate in operator overloading (so that e.g. <code>someUInt32=someUInt16;</code> would be legal, but <code>if (someInt32==someInt16)</code> would not be legal without a typecast) but included operator overloads that made sense (e.g. adding a signed value to a uint value cycles the group by that amount)."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":8,"creation_date":1394625178,"post_id":430346,"comment_id":33970600,"body_markdown":"To me it becomes harder to do any image processing with images `byte` not being able to give a straight `140` gray level but a `-116` that you need to `&amp; 0xff` to get the correct value.","body":"To me it becomes harder to do any image processing with images <code>byte</code> not being able to give a straight <code>140</code> gray level but a <code>-116</code> that you need to <code>&amp; 0xff</code> to get the correct value."},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":4,"creation_date":1408651266,"post_id":430346,"comment_id":39682222,"body_markdown":"While working with bytes I generally dont care about the sign, it all works out just the way it should. I would however *love* a way to use unsigned byte literals, i.e. the possibility to write `byte b = 0x99;` .","body":"While working with bytes I generally dont care about the sign, it all works out just the way it should. I would however <i>love</i> a way to use unsigned byte literals, i.e. the possibility to write <code>byte b = 0x99;</code> ."},{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":5,"creation_date":1426845816,"post_id":430346,"comment_id":46546883,"body_markdown":"FWIW, unsigned APIs finally got its presence in [Java 8](https://blogs.oracle.com/darcy/entry/unsigned_api)","body":"FWIW, unsigned APIs finally got its presence in <a href=\"https://blogs.oracle.com/darcy/entry/unsigned_api\" rel=\"nofollow noreferrer\">Java 8</a>"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":2,"creation_date":1449738749,"post_id":430346,"comment_id":56140917,"body_markdown":"@PP. You don&#39;t use int for performing boolean logic. :P","body":"@PP. You don&#39;t use int for performing boolean logic. :P"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1449739364,"post_id":430346,"comment_id":56141272,"body_markdown":"@Matthieu may be you can use int then? No?","body":"@Matthieu may be you can use int then? No?"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":2,"creation_date":1449761832,"post_id":430346,"comment_id":56156145,"body_markdown":"@djaqeel that&#39;s what&#39;s happening internally when you `&amp;0xff`. Loss of computing power...","body":"@djaqeel that&#39;s what&#39;s happening internally when you <code>&amp;0xff</code>. Loss of computing power..."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":1,"creation_date":1449818869,"post_id":430346,"comment_id":56180508,"body_markdown":"@PP and Matthieu I didn&#39;t get you at all. While using boolean logic or processing bytes, I have to deal with bits, rather than it&#39;s output integer value. And AFAK, bits behave same way and don&#39;t care about the sign. Sign and min-max byte value matters for us, humans. So if I need to show byte value(very rare case though) I just make two port-in port-out functions for int to byte and vice versa.","body":"@PP and Matthieu I didn&#39;t get you at all. While using boolean logic or processing bytes, I have to deal with bits, rather than it&#39;s output integer value. And AFAK, bits behave same way and don&#39;t care about the sign. Sign and min-max byte value matters for us, humans. So if I need to show byte value(very rare case though) I just make two port-in port-out functions for int to byte and vice versa."},{"owner":{"account_id":145178,"reputation":9444,"user_id":354803,"display_name":"ShinTakezou"},"score":0,"creation_date":1529835794,"post_id":430346,"comment_id":89010726,"body_markdown":"@PeterLawrey how can `InputStream.read()` *return* unsigned bytes if unsigned bytes don&#39;t exist in Java? Since we have everywhere just bits, not signs, we have the two complement, a special interpretation of those bits which requires special treatment; that is, also you need to know extra rules, which sometimes you don&#39;t want to have in the way. E.g., using bytes read with `InputStream.read()` to build a 32 bit value, `(b[3] &lt;&lt; 24)|(b[2] &lt;&lt; 16)|(b[1] &lt;&lt; 8)|b[0]` this works always iff you have unsigned bytes. Otherwise, sign extension gets in the way and you need masking.","body":"@PeterLawrey how can <code>InputStream.read()</code> <i>return</i> unsigned bytes if unsigned bytes don&#39;t exist in Java? Since we have everywhere just bits, not signs, we have the two complement, a special interpretation of those bits which requires special treatment; that is, also you need to know extra rules, which sometimes you don&#39;t want to have in the way. E.g., using bytes read with <code>InputStream.read()</code> to build a 32 bit value, <code>(b[3] &lt;&lt; 24)|(b[2] &lt;&lt; 16)|(b[1] &lt;&lt; 8)|b[0]</code> this works always iff you have unsigned bytes. Otherwise, sign extension gets in the way and you need masking."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1529836679,"post_id":430346,"comment_id":89010905,"body_markdown":"@ShinTakezou the `read()` returns an `int` type which has the range of an unsigned byte (0 to 255) unless the end of file is reached. A more efficient way to read an `int` is as a 32-bit value rather than byte by byte. Note: you have to handle running out of bytes e.g. there is only 2 bytes when you actually want 4.","body":"@ShinTakezou the <code>read()</code> returns an <code>int</code> type which has the range of an unsigned byte (0 to 255) unless the end of file is reached. A more efficient way to read an <code>int</code> is as a 32-bit value rather than byte by byte. Note: you have to handle running out of bytes e.g. there is only 2 bytes when you actually want 4."},{"owner":{"account_id":145178,"reputation":9444,"user_id":354803,"display_name":"ShinTakezou"},"score":1,"creation_date":1529837257,"post_id":430346,"comment_id":89011031,"body_markdown":"@PeterLawrey confused with the wrong overloaded `read`: written the previous comment with `read(byte b[], ...)` in mind. Holding unsigned values into a signed bigger container is what I currently do  except in case of `long`. Still, when converting C code into Java, you have to watch yourself more than it should be if there were unsigned types.","body":"@PeterLawrey confused with the wrong overloaded <code>read</code>: written the previous comment with <code>read(byte b[], ...)</code> in mind. Holding unsigned values into a signed bigger container is what I currently do  except in case of <code>long</code>. Still, when converting C code into Java, you have to watch yourself more than it should be if there were unsigned types."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1529913680,"post_id":430346,"comment_id":89029973,"body_markdown":"@ShinTakezou personally I think Java should have unsigned types apart from char. esp unsigned byte which is more natural than a signed one.","body":"@ShinTakezou personally I think Java should have unsigned types apart from char. esp unsigned byte which is more natural than a signed one."}],"answers":[{"comments":[{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":37,"creation_date":1313691711,"post_id":430354,"comment_id":8520114,"body_markdown":"Java signed integers roll around, too. I don&#39;t see your point.","body":"Java signed integers roll around, too. I don&#39;t see your point."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":10,"creation_date":1342456070,"post_id":430354,"comment_id":15206590,"body_markdown":"@foo: Signed integers have to get big before they cause problems.  By contrast, in C, one can have problems comparing any negative integer--even `-1`--to any unsigned quanity--even zero.","body":"@foo: Signed integers have to get big before they cause problems.  By contrast, in C, one can have problems comparing any negative integer--even <code>-1</code>--to any unsigned quanity--even zero."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1378183103,"post_id":430354,"comment_id":27347278,"body_markdown":"It&#39;s too bad Java couldn&#39;t have included unsigned types, but with a limited set of conversions and mixed operators (somewhat analogous to the way that in C one can add 5 to a pointer, but one can&#39;t compare a pointer to 5).  The idea that using an operator on mixed types when an implicit cast exist, should force the implicit use of that cast (and use the consequent type as the result type) lies at the heart of a lot of dubious design decisions in both .NET and Java.","body":"It&#39;s too bad Java couldn&#39;t have included unsigned types, but with a limited set of conversions and mixed operators (somewhat analogous to the way that in C one can add 5 to a pointer, but one can&#39;t compare a pointer to 5).  The idea that using an operator on mixed types when an implicit cast exist, should force the implicit use of that cast (and use the consequent type as the result type) lies at the heart of a lot of dubious design decisions in both .NET and Java."},{"owner":{"account_id":947951,"reputation":7596,"user_id":974789,"accept_rate":88,"display_name":"Be Brave Be Like Ukraine"},"score":5,"creation_date":1417709153,"post_id":430354,"comment_id":43061180,"body_markdown":"Not to rant on your answer, but having `-1` as &quot;unknown&quot; age (as the article suggests) is one of the **classic examples of &quot;code smell&quot;**. For instance, if you want to compute &quot;how much Alice is older than Bob?&quot;, and A=25 and B=-1, you will get an answer of `&#177;26` which is simply wrong. The proper handling of unknown values is some kind of `Option&lt;TArg&gt;` when `Some(25) - None` would return `None`.","body":"Not to rant on your answer, but having <code>-1</code> as &quot;unknown&quot; age (as the article suggests) is one of the <b>classic examples of &quot;code smell&quot;</b>. For instance, if you want to compute &quot;how much Alice is older than Bob?&quot;, and A=25 and B=-1, you will get an answer of <code>&#177;26</code> which is simply wrong. The proper handling of unknown values is some kind of <code>Option&lt;TArg&gt;</code> when <code>Some(25) - None</code> would return <code>None</code>."}],"tags":[],"owner":{"account_id":877084,"reputation":9846,"user_id":50038,"display_name":"akatakritos"},"comment_count":4,"down_vote_count":7,"up_vote_count":20,"is_accepted":false,"score":13,"last_activity_date":1231551725,"creation_date":1231551725,"answer_id":430354,"question_id":430346,"body_markdown":"http://skeletoncoder.blogspot.com/2006/09/java-tutorials-why-no-unsigned.html\r\n\r\nThis guy says because the C standard defines operations involving unsigned and signed ints to be treated as unsigned. This could cause negative signed integers to roll around into a large unsigned int, potentially causing bugs.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p><a href=\"http://skeletoncoder.blogspot.com/2006/09/java-tutorials-why-no-unsigned.html\" rel=\"noreferrer\">http://skeletoncoder.blogspot.com/2006/09/java-tutorials-why-no-unsigned.html</a></p>\n\n<p>This guy says because the C standard defines operations involving unsigned and signed ints to be treated as unsigned. This could cause negative signed integers to roll around into a large unsigned int, potentially causing bugs.</p>\n"},{"comments":[{"owner":{"account_id":11948,"reputation":737798,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"score":245,"creation_date":1231554574,"post_id":430357,"comment_id":253983,"body_markdown":"I&#39;m going to have to disagree with Gosling here with a specific example (from CLR no less).  What&#39;s more confusing giving an Array a signed integer length value or an unsigned length?  It&#39;s impossible for an Array to have negative length yet our API indicates that&#39;s possible.","body":"I&#39;m going to have to disagree with Gosling here with a specific example (from CLR no less).  What&#39;s more confusing giving an Array a signed integer length value or an unsigned length?  It&#39;s impossible for an Array to have negative length yet our API indicates that&#39;s possible."},{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":21,"creation_date":1231564335,"post_id":430357,"comment_id":254130,"body_markdown":"The argument of making Java simple is part of what got us into the whole mess with a lack of templates which they eventually brought into the language because the alternatives were so cumbersome. I do think that one could support unsigned ints with an appropriate class though, it doesn&#39;t need prims","body":"The argument of making Java simple is part of what got us into the whole mess with a lack of templates which they eventually brought into the language because the alternatives were so cumbersome. I do think that one could support unsigned ints with an appropriate class though, it doesn&#39;t need prims"},{"owner":{"account_id":11948,"reputation":737798,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"score":6,"creation_date":1231602887,"post_id":430357,"comment_id":254580,"body_markdown":"@Uri true but it will almost certainly not be as performant as a primitive implementation in the JVM.","body":"@Uri true but it will almost certainly not be as performant as a primitive implementation in the JVM."},{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":0,"creation_date":1231608869,"post_id":430357,"comment_id":254777,"body_markdown":"How often is that an issue though?\nI&#39;m also not sure about how commands and types are encoded in bytecode, perhaps adding unsigned would have also affected the instruction set?","body":"How often is that an issue though? I&#39;m also not sure about how commands and types are encoded in bytecode, perhaps adding unsigned would have also affected the instruction set?"},{"owner":{"account_id":11948,"reputation":737798,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"score":8,"creation_date":1231609910,"post_id":430357,"comment_id":254816,"body_markdown":"@Uri, it can be a large issue if you do math intensive work.  Consider the JITing of a primitive type.  Math instructions on primitives can be easily JIT&#39;d into corresponding assembly.  But if math is hand implemented it won&#39;t translate directly to assembly and hence performance will suffer.","body":"@Uri, it can be a large issue if you do math intensive work.  Consider the JITing of a primitive type.  Math instructions on primitives can be easily JIT&#39;d into corresponding assembly.  But if math is hand implemented it won&#39;t translate directly to assembly and hence performance will suffer."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":2,"creation_date":1255334719,"post_id":430357,"comment_id":1411281,"body_markdown":"@JaredPar: Well, modern (JIT) compilers are pretty clever and can optimize a lot. If guess in many case a simple Unsigned class could be optimized down to native CPU operations on unsigned ints. So I don&#39;t think it absolutely has to be a primitive. As a matter of fact many people believe that primitives are (no longer) really necessary. Smalltalk e.g. has no primitives, only objects.","body":"@JaredPar: Well, modern (JIT) compilers are pretty clever and can optimize a lot. If guess in many case a simple Unsigned class could be optimized down to native CPU operations on unsigned ints. So I don&#39;t think it absolutely has to be a primitive. As a matter of fact many people believe that primitives are (no longer) really necessary. Smalltalk e.g. has no primitives, only objects."},{"owner":{"account_id":85750,"reputation":104355,"user_id":238886,"accept_rate":90,"display_name":"Wayne Conrad"},"score":61,"creation_date":1264568709,"post_id":430357,"comment_id":2086336,"body_markdown":"If Java needs unsigned integers because Array indices can&#39;t be negative, then it also needs subranges (a la Pascal) because an array index can&#39;t be greater than the array size.","body":"If Java needs unsigned integers because Array indices can&#39;t be negative, then it also needs subranges (a la Pascal) because an array index can&#39;t be greater than the array size."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1264574339,"post_id":430357,"comment_id":2086663,"body_markdown":"@Uri I believe generics (not templates) were supposed to be in Java, it&#39;s just that getting the specification (and implementation) right is difficult. Some people might even argue that more time should have been spent.","body":"@Uri I believe generics (not templates) were supposed to be in Java, it&#39;s just that getting the specification (and implementation) right is difficult. Some people might even argue that more time should have been spent."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":3,"creation_date":1264574742,"post_id":430357,"comment_id":2086684,"body_markdown":"There is a recording of Gosling telling the story at the last Javapolis (before it became Devoxx). Bloch points out that the example given is also valid for signed ints. Gosling gets confused by ints. Sensible languages should stick to arbitrary-size integers only.","body":"There is a recording of Gosling telling the story at the last Javapolis (before it became Devoxx). Bloch points out that the example given is also valid for signed ints. Gosling gets confused by ints. Sensible languages should stick to arbitrary-size integers only."},{"owner":{"account_id":81741,"reputation":15930,"user_id":230340,"accept_rate":90,"display_name":"Zippo"},"score":91,"creation_date":1291732119,"post_id":430357,"comment_id":4767897,"body_markdown":"Okay, he just told the advantages of not having unsigned types. Now let&#39;s count the disadvantages...","body":"Okay, he just told the advantages of not having unsigned types. Now let&#39;s count the disadvantages..."},{"owner":{"account_id":266397,"reputation":11145,"user_id":553941,"accept_rate":80,"display_name":"Pijusn"},"score":96,"creation_date":1347795785,"post_id":430357,"comment_id":16736506,"body_markdown":"I prefer code simplicity over language simplicity. That&#39;s why I hate Java.","body":"I prefer code simplicity over language simplicity. That&#39;s why I hate Java."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":4,"creation_date":1378182664,"post_id":430357,"comment_id":27347182,"body_markdown":"@Pius: Worse is language simplistic-ity, where a requirement that certain rules be applicable in all contexts forces the selection of sub-optimal rules. The *only* reason I can see to allow implicit float to double conversions but not vice versa, is to allow avoid having `==` work as something other than an equivalence operator when applied to mixed floats and doubles; I would posit that a better way to avoid having `==` work as something other than an equivalence operator in such cases would be to disallow direct `float`-`double` comparisons, which are *almost always wrong*.","body":"@Pius: Worse is language simplistic-ity, where a requirement that certain rules be applicable in all contexts forces the selection of sub-optimal rules. The <i>only</i> reason I can see to allow implicit float to double conversions but not vice versa, is to allow avoid having <code>==</code> work as something other than an equivalence operator when applied to mixed floats and doubles; I would posit that a better way to avoid having <code>==</code> work as something other than an equivalence operator in such cases would be to disallow direct <code>float</code>-<code>double</code> comparisons, which are <i>almost always wrong</i>."},{"owner":{"account_id":2273307,"reputation":2281,"user_id":2000185,"accept_rate":67,"display_name":"luke1985"},"score":10,"creation_date":1395409383,"post_id":430357,"comment_id":34337532,"body_markdown":"I guess this guy doesn&#39;t realize that writing to a binary file may cause a lot of pain when somebody has only 128 as the top value for a byte.","body":"I guess this guy doesn&#39;t realize that writing to a binary file may cause a lot of pain when somebody has only 128 as the top value for a byte."},{"owner":{"account_id":1018882,"reputation":2472,"user_id":1029825,"accept_rate":91,"display_name":"Paolo"},"score":4,"creation_date":1398178700,"post_id":430357,"comment_id":35527702,"body_markdown":"IMOH Java may be simpler than C++ for certain things, but has some ugly things too. Many library classes are somewhat complex (Date and Calendar for example). And consider the funny fact that `A A(A A)` is a valid method definition :D","body":"IMOH Java may be simpler than C++ for certain things, but has some ugly things too. Many library classes are somewhat complex (Date and Calendar for example). And consider the funny fact that <code>A A(A A)</code> is a valid method definition :D"},{"owner":{"account_id":1407606,"reputation":718,"user_id":1334904,"accept_rate":77,"display_name":"ArunMKumar"},"score":6,"creation_date":1413459563,"post_id":430357,"comment_id":41455894,"body_markdown":"as a developer i would say that a language shall never dictate the way a person codes, it should provide the facilities and leave the use to the developer. and he just created a very good corner case by providing facilities for arrays with negative length","body":"as a developer i would say that a language shall never dictate the way a person codes, it should provide the facilities and leave the use to the developer. and he just created a very good corner case by providing facilities for arrays with negative length"},{"owner":{"account_id":92926,"reputation":1270,"user_id":254455,"accept_rate":90,"display_name":"Bernard Igiri"},"score":20,"creation_date":1415623939,"post_id":430357,"comment_id":42251643,"body_markdown":"As a developer I find it insulting that Gosling thinks I&#39;m not smart enough to understand signed and unsigned integers. Was Java only intended for beginners?","body":"As a developer I find it insulting that Gosling thinks I&#39;m not smart enough to understand signed and unsigned integers. Was Java only intended for beginners?"},{"owner":{"account_id":248873,"reputation":787,"user_id":524529,"display_name":"Chris Hatton"},"score":8,"creation_date":1424488795,"post_id":430357,"comment_id":45582210,"body_markdown":"Hang your head, Gosling.  This, not the Ask toolbar, is Java&#39;s deepest shame.","body":"Hang your head, Gosling.  This, not the Ask toolbar, is Java&#39;s deepest shame."},{"owner":{"account_id":166484,"reputation":4570,"user_id":390636,"accept_rate":92,"display_name":"Kris Nuttycombe"},"score":2,"creation_date":1429552481,"post_id":430357,"comment_id":47642081,"body_markdown":"@JaredPar if you want types to actually constrain semantics like this, I think Java&#39;s lack of sum types and newtypes are much larger obstacles to correctness.","body":"@JaredPar if you want types to actually constrain semantics like this, I think Java&#39;s lack of sum types and newtypes are much larger obstacles to correctness."},{"owner":{"account_id":2546833,"reputation":3087,"user_id":2211479,"accept_rate":92,"display_name":"Felype"},"score":4,"creation_date":1430184131,"post_id":430357,"comment_id":47939786,"body_markdown":"It&#39;s unfair to compare java with a language that allows and understands `unsigned long long`, Java could get their `==` to work, so far it&#39;s only slightly better than the PHP&#39;s `==`, IMO, Java is getting obsolete with all this oversimplification, C# is only expanding and destroying java each day. Now such a shame a language that doesn&#39;t know `unsigned` because its claimed &quot;simple&quot; have 800+ pages of lang spec, while C# allows for both unsigned and pointers have 511 pages of lang spec. This &quot;Simple&quot; language is much more overcomplicated than C. Yet refuses to have a simple `unsigned`","body":"It&#39;s unfair to compare java with a language that allows and understands <code>unsigned long long</code>, Java could get their <code>==</code> to work, so far it&#39;s only slightly better than the PHP&#39;s <code>==</code>, IMO, Java is getting obsolete with all this oversimplification, C# is only expanding and destroying java each day. Now such a shame a language that doesn&#39;t know <code>unsigned</code> because its claimed &quot;simple&quot; have 800+ pages of lang spec, while C# allows for both unsigned and pointers have 511 pages of lang spec. This &quot;Simple&quot; language is much more overcomplicated than C. Yet refuses to have a simple <code>unsigned</code>"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1433187097,"post_id":430357,"comment_id":49233240,"body_markdown":"@Felype: I don&#39;t mind Gosling&#39;s decision to disallow unsigned types whose values are not all representable as `int`.  I don&#39;t consider his reasons adequate to justify the lack of an unsigned 8-bit type, nor an unsigned 16-bit type whose purpose is to store numbers, since the interaction of an unsigned byte type with `int` would be no worse than that of a signed byte type with `int`: either gets promoted to `int`.","body":"@Felype: I don&#39;t mind Gosling&#39;s decision to disallow unsigned types whose values are not all representable as <code>int</code>.  I don&#39;t consider his reasons adequate to justify the lack of an unsigned 8-bit type, nor an unsigned 16-bit type whose purpose is to store numbers, since the interaction of an unsigned byte type with <code>int</code> would be no worse than that of a signed byte type with <code>int</code>: either gets promoted to <code>int</code>."},{"owner":{"account_id":3263651,"reputation":666,"user_id":2748628,"accept_rate":80,"display_name":"bit2shift"},"score":2,"creation_date":1446584948,"post_id":430357,"comment_id":54801740,"body_markdown":"@supercat When you promote a `byte` to `int` in Java, you&#39;re bound expect a negative result, so you need to trim the value to the lowest 8 bits eg. `int n = (b[0] &amp; 0xFF);`. **With unsigned types, sign extension doesn&#39;t occur.**","body":"@supercat When you promote a <code>byte</code> to <code>int</code> in Java, you&#39;re bound expect a negative result, so you need to trim the value to the lowest 8 bits eg. <code>int n = (b[0] &amp; 0xFF);</code>. <b>With unsigned types, sign extension doesn&#39;t occur.</b>"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1460059146,"post_id":430357,"comment_id":60581380,"body_markdown":"@bit2shift: The promotion is performed without sign-extension, rather than being performed with sign extension, but an expression like &quot;someUnsignedByte &gt; someSignedByte&quot; would pose no problem, since sign-extending someSignedByte, but promoting someUnsignedByte without sign-extension, would yield the arithmetically-correct result in all cases.  Such types don&#39;t have the problems of &quot;full-sized&quot; unsigned types, where interactions can only be handled sensibly by promoting to an even larger type.","body":"@bit2shift: The promotion is performed without sign-extension, rather than being performed with sign extension, but an expression like &quot;someUnsignedByte &gt; someSignedByte&quot; would pose no problem, since sign-extending someSignedByte, but promoting someUnsignedByte without sign-extension, would yield the arithmetically-correct result in all cases.  Such types don&#39;t have the problems of &quot;full-sized&quot; unsigned types, where interactions can only be handled sensibly by promoting to an even larger type."},{"owner":{"account_id":3263651,"reputation":666,"user_id":2748628,"accept_rate":80,"display_name":"bit2shift"},"score":1,"creation_date":1460218509,"post_id":430357,"comment_id":60643917,"body_markdown":"@supercat Try `byte a = (byte)0xF0; int b = a; System.out.println(b);` and come back to me with the result. I&#39;ll give you an hint, it&#39;s `-16`. Also `someUnsignedByte &gt; someSignedByte` would cause a warning `comparison between signed and unsigned integer expressions` in a language with unsigned types, eg. C++.","body":"@supercat Try <code>byte a = (byte)0xF0; int b = a; System.out.println(b);</code> and come back to me with the result. I&#39;ll give you an hint, it&#39;s <code>-16</code>. Also <code>someUnsignedByte &gt; someSignedByte</code> would cause a warning <code>comparison between signed and unsigned integer expressions</code> in a language with unsigned types, eg. C++."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1460386272,"post_id":430357,"comment_id":60704767,"body_markdown":"@bit2shift: Java&#39;s &quot;byte&quot; type is signed.  If there existed an unsigned byte type, promotion (of that type) would occur without sign extension.  As for the latter comparison, I wouldn&#39;t expect a warning, since both values would get promoted to type &quot;signed int&quot;, and the comparison would behave in the numerically-expected fashion.","body":"@bit2shift: Java&#39;s &quot;byte&quot; type is signed.  If there existed an unsigned byte type, promotion (of that type) would occur without sign extension.  As for the latter comparison, I wouldn&#39;t expect a warning, since both values would get promoted to type &quot;signed int&quot;, and the comparison would behave in the numerically-expected fashion."},{"owner":{"account_id":282472,"reputation":2355,"user_id":579381,"accept_rate":75,"display_name":"Ayub"},"score":1,"creation_date":1491996415,"post_id":430357,"comment_id":73798204,"body_markdown":"I&#39;m a C# developer, a lot of C# open source project in github that i seen don&#39;t use signed type. why my car should have feature that i maybe remember use it once at sometime!","body":"I&#39;m a C# developer, a lot of C# open source project in github that i seen don&#39;t use signed type. why my car should have feature that i maybe remember use it once at sometime!"},{"owner":{"account_id":5140045,"reputation":112686,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":3,"creation_date":1526464037,"post_id":430357,"comment_id":87751167,"body_markdown":"Quiz any developer about floating points numbers, and pretty soon you discover that many developers actually dont fully understand what goes on with floating point arithmetics...... tbh I am starting to get really annoyed by the java philosophy","body":"Quiz any developer about floating points numbers, and pretty soon you discover that many developers actually dont fully understand what goes on with floating point arithmetics...... tbh I am starting to get really annoyed by the java philosophy"},{"owner":{"account_id":14472436,"reputation":101,"user_id":16371358,"display_name":"Simon Eatwell"},"score":0,"creation_date":1672293631,"post_id":430357,"comment_id":132259999,"body_markdown":"Quiz any developer about Unicode, and pretty soon you discover that many developers actually don&#39;t fully understand what goes on with codepoints, grapheme clusters, etc... If Java really wanted to simplify things, don&#39;t introduce null and the fragile class hierarchies.","body":"Quiz any developer about Unicode, and pretty soon you discover that many developers actually don&#39;t fully understand what goes on with codepoints, grapheme clusters, etc... If Java really wanted to simplify things, don&#39;t introduce null and the fragile class hierarchies."}],"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":27,"down_vote_count":4,"up_vote_count":214,"is_accepted":true,"score":210,"last_activity_date":1381081221,"creation_date":1231551815,"answer_id":430357,"question_id":430346,"body_markdown":"This is from an [interview with Gosling and others][1], about simplicity:\r\n\r\n&gt; Gosling: For me as a language designer, which I don&#39;t really count myself as these days, what &quot;simple&quot; really ended up meaning was could I expect J. Random Developer to hold the spec in his head. That definition says that, for instance, Java isn&#39;t -- and in fact a lot of these languages end up with a lot of corner cases, things that nobody really understands. Quiz any C developer about unsigned, and pretty soon you discover that almost no C developers actually understand what goes on with unsigned, what unsigned arithmetic is. Things like that made C complex. The language part of Java is, I think, pretty simple. The libraries you have to look up.\r\n\r\n\r\n  [1]: http://www.gotw.ca/publications/c_family_interview.htm","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>This is from an <a href=\"http://www.gotw.ca/publications/c_family_interview.htm\" rel=\"noreferrer\">interview with Gosling and others</a>, about simplicity:</p>\n\n<blockquote>\n  <p>Gosling: For me as a language designer, which I don't really count myself as these days, what \"simple\" really ended up meaning was could I expect J. Random Developer to hold the spec in his head. That definition says that, for instance, Java isn't -- and in fact a lot of these languages end up with a lot of corner cases, things that nobody really understands. Quiz any C developer about unsigned, and pretty soon you discover that almost no C developers actually understand what goes on with unsigned, what unsigned arithmetic is. Things like that made C complex. The language part of Java is, I think, pretty simple. The libraries you have to look up.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1341051141,"post_id":430361,"comment_id":14823593,"body_markdown":"This would be fine ... except the evidence from the Gosling interview implies that unsigned integers (apart from `char`) were left out because the designers thought they were a bad idea ... given the goals of the language.","body":"This would be fine ... except the evidence from the Gosling interview implies that unsigned integers (apart from <code>char</code>) were left out because the designers thought they were a bad idea ... given the goals of the language."},{"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"score":0,"creation_date":1536317449,"post_id":430361,"comment_id":91390376,"body_markdown":"It is a good idea never to put too much value in eyewitness statements, if documentary evidence is also at hand.","body":"It is a good idea never to put too much value in eyewitness statements, if documentary evidence is also at hand."}],"tags":[],"owner":{"account_id":21881,"reputation":624,"user_id":53517,"display_name":"Rob Ottaway"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1231551942,"creation_date":1231551942,"answer_id":430361,"question_id":430346,"body_markdown":"I&#39;ve heard stories that they were to be included close to the orignal Java release. Oak was the precursor to Java, and in some spec documents there was mention of usigned values. Unfortunately these never made it into the Java language. As far as anyone has been able to figure out they just didn&#39;t get implemented, likely due to a time constraint.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I've heard stories that they were to be included close to the orignal Java release. Oak was the precursor to Java, and in some spec documents there was mention of usigned values. Unfortunately these never made it into the Java language. As far as anyone has been able to figure out they just didn't get implemented, likely due to a time constraint.</p>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":16,"creation_date":1255336072,"post_id":430389,"comment_id":1411382,"body_markdown":"As to mixing signed/unsigned: You could have unsigned types, but disallow the mixing (or require explicit casts). Still, not clear whether it&#39;s necessary.","body":"As to mixing signed/unsigned: You could have unsigned types, but disallow the mixing (or require explicit casts). Still, not clear whether it&#39;s necessary."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1312288802,"post_id":430389,"comment_id":8231944,"body_markdown":"In C++ you have to sprinkle `static_cast`s around much to mix them. It is indeed messy.","body":"In C++ you have to sprinkle <code>static_cast</code>s around much to mix them. It is indeed messy."},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":4,"creation_date":1354111297,"post_id":430389,"comment_id":18654282,"body_markdown":"The 8th bit is there, it just tries to hide itself as the sign.","body":"The 8th bit is there, it just tries to hide itself as the sign."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1398463592,"post_id":430389,"comment_id":35675677,"body_markdown":"Things only get messy with types 32 bits or bigger.  I see no reason Java shouldn&#39;t have had `byte` be signed as it was in Pascal.","body":"Things only get messy with types 32 bits or bigger.  I see no reason Java shouldn&#39;t have had <code>byte</code> be signed as it was in Pascal."},{"owner":{"account_id":3263651,"reputation":666,"user_id":2748628,"accept_rate":80,"display_name":"bit2shift"},"score":14,"creation_date":1446585417,"post_id":430389,"comment_id":54801984,"body_markdown":"Come see me when you&#39;re having issues with image processing in Java, where you expect bytes to be unsigned. Then you&#39;ll know that `&amp; 0xFF`&#39;ing every byte-to-int promotion makes the code even messier.","body":"Come see me when you&#39;re having issues with image processing in Java, where you expect bytes to be unsigned. Then you&#39;ll know that <code>&amp; 0xFF</code>&#39;ing every byte-to-int promotion makes the code even messier."}],"tags":[],"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"comment_count":5,"down_vote_count":5,"up_vote_count":20,"is_accepted":false,"score":15,"last_activity_date":1408461877,"creation_date":1231553131,"answer_id":430389,"question_id":430346,"body_markdown":"As soon as signed and unsigned ints are mixed in an expression things start to get messy and you probably *will* lose information. Restricting Java to signed ints only really clears things up. Im glad I dont have to worry about the whole signed/unsigned business, though I sometimes do miss the 8th bit in a byte.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>As soon as signed and unsigned ints are mixed in an expression things start to get messy and you probably <em>will</em> lose information. Restricting Java to signed ints only really clears things up. Im glad I dont have to worry about the whole signed/unsigned business, though I sometimes do miss the 8th bit in a byte.</p>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1231564076,"post_id":430553,"comment_id":254123,"body_markdown":"I agree; esp. about having and unsigned byte and tossing short.","body":"I agree; esp. about having and unsigned byte and tossing short."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":2,"creation_date":1231566459,"post_id":430553,"comment_id":254153,"body_markdown":"I would love to have unsigned bytes, too, but I suspect the advantage of complete consistency among the integer types outweighs the convenience that unsigned bytes would bring.","body":"I would love to have unsigned bytes, too, but I suspect the advantage of complete consistency among the integer types outweighs the convenience that unsigned bytes would bring."},{"owner":{"account_id":10978,"reputation":80505,"user_id":20984,"accept_rate":97,"display_name":"Luc Touraille"},"score":77,"creation_date":1309163263,"post_id":430553,"comment_id":7631430,"body_markdown":"&quot;For everyday purposes, they felt that the most common need was for signed data types&quot;. In my C++ code, I more than often find myself thinking &quot;Why on earth am I using a signed integer here instead of an unsigned one?!&quot;. I have the feeling that &quot;signed&quot; is the exception rather than the rule (of course, it depends on the domain, but there is a reason why positive integers are called *natural* numbers ;-) ).","body":"&quot;For everyday purposes, they felt that the most common need was for signed data types&quot;. In my C++ code, I more than often find myself thinking &quot;Why on earth am I using a signed integer here instead of an unsigned one?!&quot;. I have the feeling that &quot;signed&quot; is the exception rather than the rule (of course, it depends on the domain, but there is a reason why positive integers are called <i>natural</i> numbers ;-) )."},{"owner":{"account_id":8252,"reputation":41559,"user_id":14768,"accept_rate":82,"display_name":"Joshua"},"score":0,"creation_date":1312171696,"post_id":430553,"comment_id":8206963,"body_markdown":"Java is old enough that arithmetic in shorts still made sense when the first java was written.","body":"Java is old enough that arithmetic in shorts still made sense when the first java was written."},{"owner":{"account_id":97993,"reputation":90071,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"score":0,"creation_date":1326712901,"post_id":430553,"comment_id":11098739,"body_markdown":"Yeah they could have had specific types like in C99 for when you need them (file and network code): uint8, int8, uint16, int16, etc. And then an extra int type which is set to int32 or int64 depending on the platform.","body":"Yeah they could have had specific types like in C99 for when you need them (file and network code): uint8, int8, uint16, int16, etc. And then an extra int type which is set to int32 or int64 depending on the platform."},{"owner":{"account_id":454672,"reputation":4042,"user_id":852385,"accept_rate":70,"display_name":"Helin Wang"},"score":19,"creation_date":1335747310,"post_id":430553,"comment_id":13377501,"body_markdown":"thumb up for the call for unsigned bytes, when doing image processing, assuming bytes to be unsigned(as it should be), made me spent hours debugging.","body":"thumb up for the call for unsigned bytes, when doing image processing, assuming bytes to be unsigned(as it should be), made me spent hours debugging."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":10,"creation_date":1336560234,"post_id":430553,"comment_id":13595757,"body_markdown":"you&#39;d surprised how often `short` is used - defltate/gzip/inflate algorithms are 16bit and they rely heavily on shorts... or at least `short[]` [admittedly they are native - yet java impl of the algorithm carry terrabytes of data]. The latter (`short[]`) has significant advantage to `int[]` since it takes twice less memory and less memory = better caching properties, much better performance.","body":"you&#39;d surprised how often <code>short</code> is used - defltate/gzip/inflate algorithms are 16bit and they rely heavily on shorts... or at least <code>short[]</code> [admittedly they are native - yet java impl of the algorithm carry terrabytes of data]. The latter (<code>short[]</code>) has significant advantage to <code>int[]</code> since it takes twice less memory and less memory = better caching properties, much better performance."},{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":10,"creation_date":1336582057,"post_id":430553,"comment_id":13605704,"body_markdown":"Though in a particular application, you should *measure* whether using shorts gives you better performance rather than assuming it to be true. It is possible that the extra jiggery-pokery required to manipulate shorts rather than ints (which is usually the type that the processor &#39;likes to use&#39;) could actually be detrimental to performance in a particular application. Not always, but you should test, not assume.","body":"Though in a particular application, you should <i>measure</i> whether using shorts gives you better performance rather than assuming it to be true. It is possible that the extra jiggery-pokery required to manipulate shorts rather than ints (which is usually the type that the processor &#39;likes to use&#39;) could actually be detrimental to performance in a particular application. Not always, but you should test, not assume."},{"owner":{"account_id":118410,"reputation":62929,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"score":1,"creation_date":1357721707,"post_id":430553,"comment_id":19742917,"body_markdown":"@NeilCoffey: Java&#39;s int seems to be a feature that is doomed for obsolescence once 128-bit and 256-bit processors become common because Java defines int to be exactly 32-bit everywhere, while in the future that size will no longer be any processor&#39;s preferred integer size, so we all will be porting all our code to use &quot;long long long long&quot;. I believe Java should never have short in the first place, it makes no sense even back then, and even less now. In future proof cross platform language, arbitrary sized arithmetic (BigInteger) should have been the default integer and have operator support.","body":"@NeilCoffey: Java&#39;s int seems to be a feature that is doomed for obsolescence once 128-bit and 256-bit processors become common because Java defines int to be exactly 32-bit everywhere, while in the future that size will no longer be any processor&#39;s preferred integer size, so we all will be porting all our code to use &quot;long long long long&quot;. I believe Java should never have short in the first place, it makes no sense even back then, and even less now. In future proof cross platform language, arbitrary sized arithmetic (BigInteger) should have been the default integer and have operator support."},{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":2,"creation_date":1357748514,"post_id":430553,"comment_id":19759280,"body_markdown":"Lie-- what you say is true, but so far, 64 bit processors still give some kind of &quot;privileged&quot; status to the 32 bit width. If we do move to e.g. 128 bit processors, it will be interesting to see if at that point 32 bits starts to become more obsolete.","body":"Lie-- what you say is true, but so far, 64 bit processors still give some kind of &quot;privileged&quot; status to the 32 bit width. If we do move to e.g. 128 bit processors, it will be interesting to see if at that point 32 bits starts to become more obsolete."},{"owner":{"account_id":279842,"reputation":1215,"user_id":575229,"display_name":"Miles Rout"},"score":2,"creation_date":1361174829,"post_id":430553,"comment_id":20953343,"body_markdown":"128-bit and 256-bit processors won&#39;t become popular for MANY MANY years. Java will (hopefully) be long gone.","body":"128-bit and 256-bit processors won&#39;t become popular for MANY MANY years. Java will (hopefully) be long gone."},{"owner":{"account_id":470244,"reputation":6664,"user_id":877329,"accept_rate":84,"display_name":"user877329"},"score":1,"creation_date":1397211122,"post_id":430553,"comment_id":35145227,"body_markdown":"@NeilCoffey: int16_t is the native format of the CD and is thus usable in audio apps.","body":"@NeilCoffey: int16_t is the native format of the CD and is thus usable in audio apps."},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":0,"creation_date":1461368481,"post_id":430553,"comment_id":61183618,"body_markdown":"I couldn&#39;t agree more with your answer! Having a smaller set of available integer types, and making byte unsigned are both good points I wholeheartedly support.","body":"I couldn&#39;t agree more with your answer! Having a smaller set of available integer types, and making byte unsigned are both good points I wholeheartedly support."},{"owner":{"account_id":8576610,"reputation":341,"user_id":6425776,"display_name":"DragShot"},"score":0,"creation_date":1499183867,"post_id":430553,"comment_id":76796921,"body_markdown":"@LieRyan in that case, the VM will simply deal with that, like it does currently with `byte` and `short` values in 32-bit implementations, or with `int` values in 64-bit ones. The worst-case scenario here would be a performance penalty.","body":"@LieRyan in that case, the VM will simply deal with that, like it does currently with <code>byte</code> and <code>short</code> values in 32-bit implementations, or with <code>int</code> values in 64-bit ones. The worst-case scenario here would be a performance penalty."}],"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"comment_count":14,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1231561743,"creation_date":1231561743,"answer_id":430553,"question_id":430346,"body_markdown":"Reading between the lines, I think the logic was something like this:\r\n\r\n- generally, the Java designers wanted to simplify the repertoire of data types available\r\n- for everyday purposes, they felt that the most common need was for signed data types\r\n- for implementing certain algorithms, unsigned arithmetic is sometimes needed, but the kind of programmers that would be implementing such algorithms would also have the knowledge to &quot;work round&quot; doing unsigned arithmetic with signed data types\r\n\r\nMostly, I&#39;d say it was a reasonable decision. Possibly, I would have:\r\n\r\n- made byte unsigned, or at least have provided a signed/unsigned alternatives, possibly with different names, for this one data type (making it signed is good for consistency, but when do you ever need a signed byte?)\r\n- done away with &#39;short&#39; (when did you last use 16-bit signed arithmetic?)\r\n\r\nStill, with a bit of kludging, operations on unsigned values up to 32 bits aren&#39;t tooo bad, and most people don&#39;t need unsigned 64-bit division or comparison.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Reading between the lines, I think the logic was something like this:</p>\n\n<ul>\n<li>generally, the Java designers wanted to simplify the repertoire of data types available</li>\n<li>for everyday purposes, they felt that the most common need was for signed data types</li>\n<li>for implementing certain algorithms, unsigned arithmetic is sometimes needed, but the kind of programmers that would be implementing such algorithms would also have the knowledge to \"work round\" doing unsigned arithmetic with signed data types</li>\n</ul>\n\n<p>Mostly, I'd say it was a reasonable decision. Possibly, I would have:</p>\n\n<ul>\n<li>made byte unsigned, or at least have provided a signed/unsigned alternatives, possibly with different names, for this one data type (making it signed is good for consistency, but when do you ever need a signed byte?)</li>\n<li>done away with 'short' (when did you last use 16-bit signed arithmetic?)</li>\n</ul>\n\n<p>Still, with a bit of kludging, operations on unsigned values up to 32 bits aren't tooo bad, and most people don't need unsigned 64-bit division or comparison.</p>\n"},{"comments":[{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":5,"creation_date":1319093299,"post_id":430754,"comment_id":9547610,"body_markdown":"Yes, for shifting right you have to choose between `&gt;&gt;` and `&gt;&gt;&gt;` for signed and unsigned, respectively.  Shifting left is no problem.","body":"Yes, for shifting right you have to choose between <code>&gt;&gt;</code> and <code>&gt;&gt;&gt;</code> for signed and unsigned, respectively.  Shifting left is no problem."},{"owner":{"account_id":69317,"reputation":1607,"user_id":201751,"accept_rate":67,"display_name":"CITBL"},"score":1,"creation_date":1383685624,"post_id":430754,"comment_id":29433710,"body_markdown":"@starblue Actually `&gt;&gt;&gt;` doesn&#39;t work for `short` and `byte`. For example, `(byte)0xff&gt;&gt;&gt;1` yields `0x7fffffff` rather than `0x7f`. Another example: `byte b=(byte)0xff; b&gt;&gt;&gt;=1;` will result in `b==(byte)0xff`. Of course you can do `b=(byte)(b &amp; 0xff &gt;&gt; 1);` but this adds one more operation (bitwise &amp;).","body":"@starblue Actually <code>&gt;&gt;&gt;</code> doesn&#39;t work for <code>short</code> and <code>byte</code>. For example, <code>(byte)0xff&gt;&gt;&gt;1</code> yields <code>0x7fffffff</code> rather than <code>0x7f</code>. Another example: <code>byte b=(byte)0xff; b&gt;&gt;&gt;=1;</code> will result in <code>b==(byte)0xff</code>. Of course you can do <code>b=(byte)(b &amp; 0xff &gt;&gt; 1);</code> but this adds one more operation (bitwise &amp;)."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":9,"creation_date":1396285128,"post_id":430754,"comment_id":34709544,"body_markdown":"&quot;...Even with the simplified model most Java programmers don&#39;t know how the basic numeric types behave...&quot; Something in me just resents a language aimed at the lowest common denominator.","body":"&quot;...Even with the simplified model most Java programmers don&#39;t know how the basic numeric types behave...&quot; Something in me just resents a language aimed at the lowest common denominator."},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":0,"creation_date":1461368699,"post_id":430754,"comment_id":61183668,"body_markdown":"The opening line in your answer, about more complication and little gain, is precisely what I elaborated on in my article 6 years later: https://www.nayuki.io/page/unsigned-int-considered-harmful-for-java","body":"The opening line in your answer, about more complication and little gain, is precisely what I elaborated on in my article 6 years later: <a href=\"https://www.nayuki.io/page/unsigned-int-considered-harmful-for-java\" rel=\"nofollow noreferrer\">nayuki.io/page/unsigned-int-considered-harmful-for-java</a>"},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":1,"creation_date":1501675601,"post_id":430754,"comment_id":77880834,"body_markdown":"@Nayuki Your article is really nice. Only a small remark, I would use addition of 0x80000000 for comparison operators instead of XOR, because it explains why it works, it shifts the contiguous region where the comparison occurs up from -MAXINT to 0.  Bitwise its effect is exactly the same.","body":"@Nayuki Your article is really nice. Only a small remark, I would use addition of 0x80000000 for comparison operators instead of XOR, because it explains why it works, it shifts the contiguous region where the comparison occurs up from -MAXINT to 0.  Bitwise its effect is exactly the same."},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":0,"creation_date":1501687987,"post_id":430754,"comment_id":77891034,"body_markdown":"@starblue Thanks for the compliments. Btw I edited your answer a bit to improve the facts and wording, hope you like it. Regarding 0x80000000, why use addition? XOR is a simpler operation that has no carry. Also I have equivalently seen subtraction in some other code for compareUnsigned(). As for explaining, I didn&#39;t explain any of the other operators in low level detail, so for consistency I can&#39;t explain the comparison hack...","body":"@starblue Thanks for the compliments. Btw I edited your answer a bit to improve the facts and wording, hope you like it. Regarding 0x80000000, why use addition? XOR is a simpler operation that has no carry. Also I have equivalently seen subtraction in some other code for compareUnsigned(). As for explaining, I didn&#39;t explain any of the other operators in low level detail, so for consistency I can&#39;t explain the comparison hack..."}],"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"comment_count":6,"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1501687879,"creation_date":1231576760,"answer_id":430754,"question_id":430346,"body_markdown":"I think Java is fine as it is, adding unsigned would complicate it without much gain.\r\nEven with the simplified integer model, most Java programmers don&#39;t know how the basic numeric types behave - just read the book [Java Puzzlers](http://www.javapuzzlers.com/contents.html) to see what misconceptions you might hold.\r\n\r\nAs for practical advice:\r\n\r\n* If your values are somewhat arbitrary size and don&#39;t fit into `int`, use `long`.\r\nIf they don&#39;t fit into `long` use `BigInteger`.\r\n\r\n* Use the smaller types only for arrays when you need to save space.\r\n\r\n* If you need exactly 64/32/16/8 bits, use `long`/`int`/`short`/`byte` and stop worrying about the sign bit, except for division, comparison, right shift, and casting.\r\n\r\nSee also [this][1] answer about &quot;porting a random number generator from C to Java&quot;.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/397867/port-of-random-generator-from-c-to-java#397997","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I think Java is fine as it is, adding unsigned would complicate it without much gain.\nEven with the simplified integer model, most Java programmers don't know how the basic numeric types behave - just read the book <a href=\"http://www.javapuzzlers.com/contents.html\" rel=\"nofollow noreferrer\">Java Puzzlers</a> to see what misconceptions you might hold.</p>\n\n<p>As for practical advice:</p>\n\n<ul>\n<li><p>If your values are somewhat arbitrary size and don't fit into <code>int</code>, use <code>long</code>.\nIf they don't fit into <code>long</code> use <code>BigInteger</code>.</p></li>\n<li><p>Use the smaller types only for arrays when you need to save space.</p></li>\n<li><p>If you need exactly 64/32/16/8 bits, use <code>long</code>/<code>int</code>/<code>short</code>/<code>byte</code> and stop worrying about the sign bit, except for division, comparison, right shift, and casting.</p></li>\n</ul>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/397867/port-of-random-generator-from-c-to-java#397997\">this</a> answer about \"porting a random number generator from C to Java\".</p>\n"},{"comments":[{"owner":{"account_id":106337,"reputation":30941,"user_id":283311,"accept_rate":76,"display_name":"Ken"},"score":1,"creation_date":1295422584,"post_id":434067,"comment_id":5229983,"body_markdown":"He&#39;s probably thinking of arrays and not being able to use negative integers as indices. Probably.","body":"He&#39;s probably thinking of arrays and not being able to use negative integers as indices. Probably."},{"owner":{"account_id":8252,"reputation":41559,"user_id":14768,"accept_rate":82,"display_name":"Joshua"},"score":2,"creation_date":1312171801,"post_id":434067,"comment_id":8206973,"body_markdown":"When auto-increment fields in databases overflow they often go wacko.","body":"When auto-increment fields in databases overflow they often go wacko."}],"tags":[],"owner":{"account_id":21939,"reputation":1791,"user_id":53722,"accept_rate":67,"display_name":"mike g"},"comment_count":2,"down_vote_count":6,"up_vote_count":4,"is_accepted":false,"score":-2,"last_activity_date":1231718215,"creation_date":1231718215,"answer_id":434067,"question_id":430346,"body_markdown":"I can think of one unfortunate side-effect. In java embedded databases, the number of ids you can have with a 32bit id field is 2^31, not 2^32 (~2billion, not ~4billion).","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I can think of one unfortunate side-effect. In java embedded databases, the number of ids you can have with a 32bit id field is 2^31, not 2^32 (~2billion, not ~4billion).</p>\n"},{"comments":[{"owner":{"account_id":34219,"reputation":3320,"user_id":96514,"accept_rate":62,"display_name":"jakecard"},"score":43,"creation_date":1260636919,"post_id":1553151,"comment_id":1795556,"body_markdown":"Yeah, I&#39;m sure Gosling is very ignorant about Java in comparison to you.","body":"Yeah, I&#39;m sure Gosling is very ignorant about Java in comparison to you."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1342455805,"post_id":1553151,"comment_id":15206469,"body_markdown":"Does Java allow arithmetic to be performed directly on unsigned-byte quantities, or do values always get promoted?  Having an unsigned type for storage, but always performing arithmetic on a signed type which is large enough to accommodate it works out well semantically, but would cause operations on unsigned types that were the same size as &quot;normal&quot; integers to be more expensive.","body":"Does Java allow arithmetic to be performed directly on unsigned-byte quantities, or do values always get promoted?  Having an unsigned type for storage, but always performing arithmetic on a signed type which is large enough to accommodate it works out well semantically, but would cause operations on unsigned types that were the same size as &quot;normal&quot; integers to be more expensive."},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":3,"creation_date":1356338097,"post_id":1553151,"comment_id":19359728,"body_markdown":"It&#39;s bad style to use `char` for anything but characters.","body":"It&#39;s bad style to use <code>char</code> for anything but characters."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":7,"creation_date":1396299238,"post_id":1553151,"comment_id":34717479,"body_markdown":"@starblue Of course it is, but it&#39;s a hack to get around a limitation of the language","body":"@starblue Of course it is, but it&#39;s a hack to get around a limitation of the language"}],"tags":[],"owner":{"account_id":565054,"reputation":211,"user_id":188258,"display_name":"pat"},"comment_count":4,"down_vote_count":5,"up_vote_count":22,"is_accepted":false,"score":17,"last_activity_date":1255332010,"creation_date":1255332010,"answer_id":1553151,"question_id":430346,"body_markdown":"Java does have unsigned types, or at least one:  char is an unsigned short.  So whatever excuse Gosling throws up it&#39;s really just his ignorance why there are no other unsigned types.\r\n\r\nAlso Short types:  shorts are used all the time for multimedia.  The reason is you can fit 2 samples in a single 32-bit unsigned long and vectorize many operations.   Same thing with 8-bit data and unsigned byte.  You can fit 4 or 8 samples in a register for vectorizing.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Java does have unsigned types, or at least one:  char is an unsigned short.  So whatever excuse Gosling throws up it's really just his ignorance why there are no other unsigned types.</p>\n\n<p>Also Short types:  shorts are used all the time for multimedia.  The reason is you can fit 2 samples in a single 32-bit unsigned long and vectorize many operations.   Same thing with 8-bit data and unsigned byte.  You can fit 4 or 8 samples in a register for vectorizing.</p>\n"},{"comments":[{"owner":{"display_name":"user586399"},"score":2,"creation_date":1361883800,"post_id":6850755,"comment_id":21225281,"body_markdown":"But however, `char` is too small to support `long` arithmetic, for example.","body":"But however, <code>char</code> is too small to support <code>long</code> arithmetic, for example."},{"owner":{"display_name":"user586399"},"score":3,"creation_date":1361976225,"post_id":6850755,"comment_id":21269056,"body_markdown":"This could be a disadvantage of Java","body":"This could be a disadvantage of Java"},{"owner":{"account_id":2005077,"reputation":131,"user_id":1795195,"display_name":"mixturez"},"score":0,"creation_date":1495445573,"post_id":6850755,"comment_id":75238128,"body_markdown":"Hoping that they support Unsigned values for bytes.  Makes things more easy.","body":"Hoping that they support Unsigned values for bytes.  Makes things more easy."},{"owner":{"account_id":1825464,"reputation":1003,"user_id":3152516,"accept_rate":80,"display_name":"Dan Chase"},"score":2,"creation_date":1604607614,"post_id":6850755,"comment_id":114406341,"body_markdown":"I ran head into this when trying to read data from a harddrive, which was written to by a C program, which had specs in C structures. I was forced not only to deal with Endian differences, but to add insult to injury, read everything using 64 bit integers then applying shifting operations to get the correct data out, just because someone decided they didn&#39;t want to implement unsigned numbers. Sorry if they&#39;re allowed to say something like &quot;To keep java simple&quot; then I&#39;m going to say that&#39;s a lazy reason.","body":"I ran head into this when trying to read data from a harddrive, which was written to by a C program, which had specs in C structures. I was forced not only to deal with Endian differences, but to add insult to injury, read everything using 64 bit integers then applying shifting operations to get the correct data out, just because someone decided they didn&#39;t want to implement unsigned numbers. Sorry if they&#39;re allowed to say something like &quot;To keep java simple&quot; then I&#39;m going to say that&#39;s a lazy reason."}],"tags":[],"owner":{"account_id":432053,"reputation":4529,"user_id":816542,"display_name":"Jyro117"},"comment_count":4,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1444733001,"creation_date":1311798169,"answer_id":6850755,"question_id":430346,"body_markdown":"This is an older question and pat did briefly mention char, I just thought I should expand upon this for others who will look at this down the road. Let&#39;s take a closer look at the Java primitive types:\r\n\r\n`byte` - 8-bit signed integer\r\n\r\n`short` - 16-bit signed integer\r\n\r\n`int` - 32-bit signed integer\r\n\r\n`long` - 64-bit signed integer\r\n\r\n`char` - 16-bit character (unsigned integer)\r\n\r\nAlthough `char` does not support `unsigned` arithmetic, it essentially can be treated as an `unsigned` integer. You would have to explicitly cast arithmetic operations back into `char`, but it does provide you with a way to specify `unsigned` numbers.\r\n\r\n    char a = 0;\r\n    char b = 6;\r\n    a += 1;\r\n    a = (char) (a * b);\r\n    a = (char) (a + b);\r\n    a = (char) (a - 16);\r\n    b = (char) (b % 3);\r\n    b = (char) (b / a);\r\n    //a = -1; // Generates complier error, must be cast to char\r\n    System.out.println(a); // Prints ? \r\n    System.out.println((int) a); // Prints 65532\r\n    System.out.println((short) a); // Prints -4\r\n    short c = -4;\r\n    System.out.println((int) c); // Prints -4, notice the difference with char\r\n    a *= 2;\r\n    a -= 6;\r\n    a /= 3;\r\n    a %= 7;\r\n    a++;\r\n    a--;\r\n\r\nYes, there isn&#39;t direct support for unsigned integers (obviously, I wouldn&#39;t have to cast most of my operations back into char if there was direct support). However, there certainly exists an unsigned primitive data type. I would liked to have seen an unsigned byte as well, but I guess doubling the memory cost and instead use char is a viable option.\r\n\r\n---\r\n\r\n## Edit\r\n\r\nWith JDK8 there are new APIs for [`Long`][1] and [`Integer`][2] which provide helper methods when treating `long` and `int` values as unsigned values.\r\n\r\n- `compareUnsigned`\r\n- `divideUnsigned`\r\n- `parseUnsignedInt`\r\n- `parseUnsignedLong`\r\n- `remainderUnsigned`\r\n- `toUnsignedLong`\r\n- `toUnsignedString`\r\n\r\nAdditionally, [Guava][3] provides a number of helper methods to do similar things for at the integer types which helps close the gap left by the lack of native support for `unsigned` integers.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html\r\n  [3]: https://github.com/google/guava/wiki","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>This is an older question and pat did briefly mention char, I just thought I should expand upon this for others who will look at this down the road. Let's take a closer look at the Java primitive types:</p>\n\n<p><code>byte</code> - 8-bit signed integer</p>\n\n<p><code>short</code> - 16-bit signed integer</p>\n\n<p><code>int</code> - 32-bit signed integer</p>\n\n<p><code>long</code> - 64-bit signed integer</p>\n\n<p><code>char</code> - 16-bit character (unsigned integer)</p>\n\n<p>Although <code>char</code> does not support <code>unsigned</code> arithmetic, it essentially can be treated as an <code>unsigned</code> integer. You would have to explicitly cast arithmetic operations back into <code>char</code>, but it does provide you with a way to specify <code>unsigned</code> numbers.</p>\n\n<pre><code>char a = 0;\nchar b = 6;\na += 1;\na = (char) (a * b);\na = (char) (a + b);\na = (char) (a - 16);\nb = (char) (b % 3);\nb = (char) (b / a);\n//a = -1; // Generates complier error, must be cast to char\nSystem.out.println(a); // Prints ? \nSystem.out.println((int) a); // Prints 65532\nSystem.out.println((short) a); // Prints -4\nshort c = -4;\nSystem.out.println((int) c); // Prints -4, notice the difference with char\na *= 2;\na -= 6;\na /= 3;\na %= 7;\na++;\na--;\n</code></pre>\n\n<p>Yes, there isn't direct support for unsigned integers (obviously, I wouldn't have to cast most of my operations back into char if there was direct support). However, there certainly exists an unsigned primitive data type. I would liked to have seen an unsigned byte as well, but I guess doubling the memory cost and instead use char is a viable option.</p>\n\n<hr>\n\n<h2>Edit</h2>\n\n<p>With JDK8 there are new APIs for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html\" rel=\"noreferrer\"><code>Long</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html\" rel=\"noreferrer\"><code>Integer</code></a> which provide helper methods when treating <code>long</code> and <code>int</code> values as unsigned values.</p>\n\n<ul>\n<li><code>compareUnsigned</code></li>\n<li><code>divideUnsigned</code></li>\n<li><code>parseUnsignedInt</code></li>\n<li><code>parseUnsignedLong</code></li>\n<li><code>remainderUnsigned</code></li>\n<li><code>toUnsignedLong</code></li>\n<li><code>toUnsignedString</code></li>\n</ul>\n\n<p>Additionally, <a href=\"https://github.com/google/guava/wiki\" rel=\"noreferrer\">Guava</a> provides a number of helper methods to do similar things for at the integer types which helps close the gap left by the lack of native support for <code>unsigned</code> integers.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":36,"creation_date":1341051413,"post_id":9650388,"comment_id":14823617,"body_markdown":"Just for kicks, Google the phrase &quot;self rotating loop&quot;.  **Clearly**, Denis Co is the only person in the world worthy of calling himself / herself a programmer :-)","body":"Just for kicks, Google the phrase &quot;self rotating loop&quot;.  <b>Clearly</b>, Denis Co is the only person in the world worthy of calling himself / herself a programmer :-)"},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":10,"creation_date":1461368818,"post_id":9650388,"comment_id":61183691,"body_markdown":"This answer is so bad that it&#39;s funny","body":"This answer is so bad that it&#39;s funny"}],"tags":[],"owner":{"account_id":1314302,"reputation":73,"user_id":1261572,"display_name":"Denis Co"},"comment_count":2,"down_vote_count":18,"up_vote_count":9,"is_accepted":false,"score":-9,"last_activity_date":1331415476,"creation_date":1331415476,"answer_id":9650388,"question_id":430346,"body_markdown":"The reason IMHO is because they are/were too lazy to implement/correct that mistake. \r\nSuggesting that C/C++ programmers does not understand unsigned, structure, union, bit flag... Is just preposterous.\r\n\r\nEther you were talking with a basic/bash/java programmer on the verge of beginning programming a la C, without any real knowledge this language or you are just talking out of your own mind. ;)\r\n\r\nwhen you deal every day on format either from file or hardware you begin to question, what in the hell they were thinking.\r\n\r\nA good example here would be trying to use an unsigned byte as a self rotating loop. \r\nFor those of you who do not understand the last sentence, how on earth you call yourself a programmer. \r\n\r\nDC\r\n","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>The reason IMHO is because they are/were too lazy to implement/correct that mistake. \nSuggesting that C/C++ programmers does not understand unsigned, structure, union, bit flag... Is just preposterous.</p>\n\n<p>Ether you were talking with a basic/bash/java programmer on the verge of beginning programming a la C, without any real knowledge this language or you are just talking out of your own mind. ;)</p>\n\n<p>when you deal every day on format either from file or hardware you begin to question, what in the hell they were thinking.</p>\n\n<p>A good example here would be trying to use an unsigned byte as a self rotating loop. \nFor those of you who do not understand the last sentence, how on earth you call yourself a programmer. </p>\n\n<p>DC</p>\n"},{"comments":[{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":13,"creation_date":1384192178,"post_id":15053268,"comment_id":29627959,"body_markdown":"aka &quot;So people really do use it and we were wrong not to include it to start with&quot; - but we still don&#39;t quite trust Java devs to know whether a variable is signed or not - so we&#39;re not going to implement them in the VM or as types equivalent to their signed cousins.","body":"aka &quot;So people really do use it and we were wrong not to include it to start with&quot; - but we still don&#39;t quite trust Java devs to know whether a variable is signed or not - so we&#39;re not going to implement them in the VM or as types equivalent to their signed cousins."}],"tags":[],"owner":{"account_id":2326469,"reputation":9226,"user_id":2040863,"accept_rate":96,"display_name":"John Hascall"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1443798835,"creation_date":1361719809,"answer_id":15053268,"question_id":430346,"body_markdown":"With [JDK8][1] it does have some support for them.\r\n\r\nWe may yet see full support of unsigned types in Java despite Gosling&#39;s concerns.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/darcy/entry/unsigned_api","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>With <a href=\"https://blogs.oracle.com/darcy/entry/unsigned_api\" rel=\"nofollow\">JDK8</a> it does have some support for them.</p>\n\n<p>We may yet see full support of unsigned types in Java despite Gosling's concerns.</p>\n"},{"tags":[],"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1501686886,"creation_date":1391073526,"answer_id":21452192,"question_id":430346,"body_markdown":"I know this post is too old; however for your interest, in Java 8 and later, you can use the `int` data type to represent an unsigned 32-bit integer, which has a minimum value of 0 and a maximum value of 2&lt;sup&gt;32&lt;/sup&gt;1. Use the `Integer` class to use `int` data type as an unsigned integer and static methods like `compareUnsigned()`, `divideUnsigned()` etc. have been added to the `Integer` class to support the arithmetic operations for unsigned integers.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I know this post is too old; however for your interest, in Java 8 and later, you can use the <code>int</code> data type to represent an unsigned 32-bit integer, which has a minimum value of 0 and a maximum value of 2<sup>32</sup>1. Use the <code>Integer</code> class to use <code>int</code> data type as an unsigned integer and static methods like <code>compareUnsigned()</code>, <code>divideUnsigned()</code> etc. have been added to the <code>Integer</code> class to support the arithmetic operations for unsigned integers.</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1474910455,"post_id":35165138,"comment_id":66715417,"body_markdown":"Adding &quot;unsigned long&quot; to Java would be awkward.  Adding smaller unsigned types, however, should have posed no problem.  Especially types smaller than &quot;int&quot; could have been easily handled by having them promote to &quot;int&quot; in the numerically-obvious fashion, and &quot;unsigned int&quot; could have been handled by saying that operations involving a signed int and an unsigned int will promote both operands to &quot;long&quot;.  The only problem situation would be operations involving an unsigned long and a signed quantity, since there would be no type capable of representing all values of both operands.","body":"Adding &quot;unsigned long&quot; to Java would be awkward.  Adding smaller unsigned types, however, should have posed no problem.  Especially types smaller than &quot;int&quot; could have been easily handled by having them promote to &quot;int&quot; in the numerically-obvious fashion, and &quot;unsigned int&quot; could have been handled by saying that operations involving a signed int and an unsigned int will promote both operands to &quot;long&quot;.  The only problem situation would be operations involving an unsigned long and a signed quantity, since there would be no type capable of representing all values of both operands."},{"owner":{"account_id":2993324,"reputation":5785,"user_id":2540407,"accept_rate":70,"display_name":"Michael"},"score":0,"creation_date":1474923374,"post_id":35165138,"comment_id":66722557,"body_markdown":"@supercat: if `unsigned` gets converted to `int` at every operation what&#39;s the use of `unsigned`? It won&#39;t have any functionality distinguishable from `short`. And if you convert to `int` only on mixed operations, such as `unsigned+int` or `unsigned+float`, then you still have the problem of `((unsigned)25-(unsigned)30)*1.0 &gt; 0`, which is a major cause of `unsigned`-related bugs.","body":"@supercat: if <code>unsigned</code> gets converted to <code>int</code> at every operation what&#39;s the use of <code>unsigned</code>? It won&#39;t have any functionality distinguishable from <code>short</code>. And if you convert to <code>int</code> only on mixed operations, such as <code>unsigned+int</code> or <code>unsigned+float</code>, then you still have the problem of <code>((unsigned)25-(unsigned)30)*1.0 &gt; 0</code>, which is a major cause of <code>unsigned</code>-related bugs."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1474928281,"post_id":35165138,"comment_id":66724544,"body_markdown":"Many operations on unsigned types would promote to &quot;long&quot;.  Requiring explicit casts when storing the result back to unsigned types would cause much the same annoyances as exist with short and byte, but if the type is mainly a storage format rather than a computation format that shouldn&#39;t be a problem.  In any case, unsigned types shorter than &quot;int&quot; should simply be able to promote to &quot;int&quot; without difficulty.","body":"Many operations on unsigned types would promote to &quot;long&quot;.  Requiring explicit casts when storing the result back to unsigned types would cause much the same annoyances as exist with short and byte, but if the type is mainly a storage format rather than a computation format that shouldn&#39;t be a problem.  In any case, unsigned types shorter than &quot;int&quot; should simply be able to promote to &quot;int&quot; without difficulty."},{"owner":{"account_id":4708121,"reputation":1643,"user_id":3809561,"accept_rate":58,"display_name":"yyny"},"score":3,"creation_date":1476476153,"post_id":35165138,"comment_id":67378789,"body_markdown":"I dislike this answer because it uses the argument &quot;unsigned integers are evil and should not exist because they can never be signed&quot;. Anyone trying to subtract from an unsigned integer should know this already. And as for readability, C is not exactly known for being easy to follow. Furthermore, the (semi-)argument &quot;the extra bit is not worth the extra trouble&quot; is very weak as well. Is error handling instead of `exit(1);` really &#39;worth the extra trouble&#39;? Is not being able to open large files really worth the security that less experienced java programmers will not mess up using `unsigned`?","body":"I dislike this answer because it uses the argument &quot;unsigned integers are evil and should not exist because they can never be signed&quot;. Anyone trying to subtract from an unsigned integer should know this already. And as for readability, C is not exactly known for being easy to follow. Furthermore, the (semi-)argument &quot;the extra bit is not worth the extra trouble&quot; is very weak as well. Is error handling instead of <code>exit(1);</code> really &#39;worth the extra trouble&#39;? Is not being able to open large files really worth the security that less experienced java programmers will not mess up using <code>unsigned</code>?"},{"owner":{"account_id":4708121,"reputation":1643,"user_id":3809561,"accept_rate":58,"display_name":"yyny"},"score":0,"creation_date":1476476641,"post_id":35165138,"comment_id":67379000,"body_markdown":"cont. I understand why Java chose to exclude unsigned integers, but I do not think it is for one of these reasons. To improve readability, maybe, to make the JVM easier to implement, sure, but I do not think they chose to exclude them solely because they can never be unsigned (in which case they could choose to make subtractions to unsigned signed for some reason) or because the extra bit is not worth it (which it most definitely is, I have found multiple java programs crash when trying to processing large files).","body":"cont. I understand why Java chose to exclude unsigned integers, but I do not think it is for one of these reasons. To improve readability, maybe, to make the JVM easier to implement, sure, but I do not think they chose to exclude them solely because they can never be unsigned (in which case they could choose to make subtractions to unsigned signed for some reason) or because the extra bit is not worth it (which it most definitely is, I have found multiple java programs crash when trying to processing large files)."},{"owner":{"account_id":4708121,"reputation":1643,"user_id":3809561,"accept_rate":58,"display_name":"yyny"},"score":0,"creation_date":1476476807,"post_id":35165138,"comment_id":67379087,"body_markdown":"cont. Furthermore, even if the programs do not crash, they can severely restrict flexibility, as with e.g. [the Minecraft command block character limit](http://minecraft.gamepedia.com/Command_Block#History).","body":"cont. Furthermore, even if the programs do not crash, they can severely restrict flexibility, as with e.g. <a href=\"http://minecraft.gamepedia.com/Command_Block#History\" rel=\"nofollow noreferrer\">the Minecraft command block character limit</a>."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":2,"creation_date":1477861627,"post_id":35165138,"comment_id":67922265,"body_markdown":"The only evil thing I see in this code is  `n - (rays.size() - 1) / 2`. You should always bracket binary operators because the reader of the code should not need to assume anything about order of operations in a computer program. Just because we conventionally say a+b*c = a+(b*c) does not mean you can assume this when reading code. Furthermore, the computation should be defined outside the loop so that it can be tested without the loop present. This is a bug in not making sure your types line up rather than a problem of unsigned integers. In C it&#39;s up to you to make sure your types line up.","body":"The only evil thing I see in this code is  <code>n - (rays.size() - 1) &#47; 2</code>. You should always bracket binary operators because the reader of the code should not need to assume anything about order of operations in a computer program. Just because we conventionally say a+b<i>c = a+(b</i>c) does not mean you can assume this when reading code. Furthermore, the computation should be defined outside the loop so that it can be tested without the loop present. This is a bug in not making sure your types line up rather than a problem of unsigned integers. In C it&#39;s up to you to make sure your types line up."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1477861798,"post_id":35165138,"comment_id":67922329,"body_markdown":"In a C program, it is the epitome of stupidity to perform a binary operation on two things of different types. This is no different than having {int a = 2; int *b = &amp;a; int c = a + b} Then complaining that a+b does not give you 4: It&#39;s up to you to make sure that your types line up; do not rely on the compiler to coerce your types the way you want them to be coerced.","body":"In a C program, it is the epitome of stupidity to perform a binary operation on two things of different types. This is no different than having {int a = 2; int *b = &amp;a; int c = a + b} Then complaining that a+b does not give you 4: It&#39;s up to you to make sure that your types line up; do not rely on the compiler to coerce your types the way you want them to be coerced."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1477862594,"post_id":35165138,"comment_id":67922593,"body_markdown":"I repeat; it is not the compiler being evil; it is your code being disgustingly misleading. angle is a double, delta is a god knows what type, n is an unsigned int, rays.size() is god knows what type, 1 is an int, 2 is an int. fabs takes a double and returns a double. (+) takes an a =&gt; (a, a) and returns an a, (/) takes an a =&gt; (a, a) and returns an a. naturally, you have two constructs which we don&#39;t even know what types of them are, on top of that, you mix unsigned and signed without acknowledging that binary operators are polymorphic.","body":"I repeat; it is not the compiler being evil; it is your code being disgustingly misleading. angle is a double, delta is a god knows what type, n is an unsigned int, rays.size() is god knows what type, 1 is an int, 2 is an int. fabs takes a double and returns a double. (+) takes an a =&gt; (a, a) and returns an a, (/) takes an a =&gt; (a, a) and returns an a. naturally, you have two constructs which we don&#39;t even know what types of them are, on top of that, you mix unsigned and signed without acknowledging that binary operators are polymorphic."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1477862776,"post_id":35165138,"comment_id":67922679,"body_markdown":"I see this all the time in the world of &quot;Math&quot; expressions, and it disgusts me. If you don&#39;t understand basic lambda calculus/Haskell/THE IDEA THAT TYPES MUST LINE UP, you should not be writing any production code that contains chains of  transformations; Even if unsigned behaved correctly, the mental state that wrote this code would cause other bugs shortly after. You must ALWAYS be aware of the world of types you are operating in, and prefer to put them into a single world of a single type(in this case, a world of doubles).","body":"I see this all the time in the world of &quot;Math&quot; expressions, and it disgusts me. If you don&#39;t understand basic lambda calculus/Haskell/THE IDEA THAT TYPES MUST LINE UP, you should not be writing any production code that contains chains of  transformations; Even if unsigned behaved correctly, the mental state that wrote this code would cause other bugs shortly after. You must ALWAYS be aware of the world of types you are operating in, and prefer to put them into a single world of a single type(in this case, a world of doubles)."},{"owner":{"account_id":2993324,"reputation":5785,"user_id":2540407,"accept_rate":70,"display_name":"Michael"},"score":0,"creation_date":1477941762,"post_id":35165138,"comment_id":67952705,"body_markdown":"@Dmitry: the snippet is simple enough. Why don&#39;t you re-write right here in what you deem be the &quot;right way&quot;.","body":"@Dmitry: the snippet is simple enough. Why don&#39;t you re-write right here in what you deem be the &quot;right way&quot;."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1478101887,"post_id":35165138,"comment_id":68020398,"body_markdown":"@Michael it can&#39;t even be rewritten, there is information in the code sample that we don&#39;t know the implementation of. We don&#39;t know what ray is and what its&#39; size returns. We don&#39;t know what delta&#39;s type is. It is dishonest to attempt to rewrite something containing dependencies you aren&#39;t aware of.","body":"@Michael it can&#39;t even be rewritten, there is information in the code sample that we don&#39;t know the implementation of. We don&#39;t know what ray is and what its&#39; size returns. We don&#39;t know what delta&#39;s type is. It is dishonest to attempt to rewrite something containing dependencies you aren&#39;t aware of."},{"owner":{"account_id":2993324,"reputation":5785,"user_id":2540407,"accept_rate":70,"display_name":"Michael"},"score":0,"creation_date":1478104892,"post_id":35165138,"comment_id":68022293,"body_markdown":"@Dmitry, my point was that following strictly theoretical rule of how the code &quot;should be&quot; makes it inefficient in real life. If you try to implement something like that functional or OOP style you&#39;ll implicitly add a couple of unnecessary instructions. I&#39;ve seen 2x memory and runtime penalties for seemingly harmless OOP code, which of course is a tremendous marketing disadvantage for commercial code.","body":"@Dmitry, my point was that following strictly theoretical rule of how the code &quot;should be&quot; makes it inefficient in real life. If you try to implement something like that functional or OOP style you&#39;ll implicitly add a couple of unnecessary instructions. I&#39;ve seen 2x memory and runtime penalties for seemingly harmless OOP code, which of course is a tremendous marketing disadvantage for commercial code."},{"owner":{"account_id":2993324,"reputation":5785,"user_id":2540407,"accept_rate":70,"display_name":"Michael"},"score":0,"creation_date":1478105254,"post_id":35165138,"comment_id":68022503,"body_markdown":"@Dmitry: Here&#39;s one of those: `class Point { float x, y; public: virtual ~Point() {} };` Can you spot why the commercial software with that class used 2x more memory than the competitor with exactly the same functionality? That&#39;s right: making `Point::~Point()` virtual made it OOP-friendly (which was unnecessary in that context), but that also added 8 additional bytes to the 8-byte structure (which was crucial for memory footprint).","body":"@Dmitry: Here&#39;s one of those: <code>class Point { float x, y; public: virtual ~Point() {} };</code> Can you spot why the commercial software with that class used 2x more memory than the competitor with exactly the same functionality? That&#39;s right: making <code>Point::~Point()</code> virtual made it OOP-friendly (which was unnecessary in that context), but that also added 8 additional bytes to the 8-byte structure (which was crucial for memory footprint)."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1478124462,"post_id":35165138,"comment_id":68032985,"body_markdown":"@Michael I&#39;m not sure what you are talking about. I&#39;m not talking about the structure; I&#39;m talking about the fact that you are using different non explicit types in a single formula and are expecting a correct result. If you add three variables of completely different types, you can&#39;t be surprised if the result makes no sense, you must place them into the same typespace first(doubles for example). don&#39;t perform binary (a -&gt; a -&gt; a) operations on three variables of different types, first make their types the same. Even if the language does coersion, you want to be in control of this coersion.","body":"@Michael I&#39;m not sure what you are talking about. I&#39;m not talking about the structure; I&#39;m talking about the fact that you are using different non explicit types in a single formula and are expecting a correct result. If you add three variables of completely different types, you can&#39;t be surprised if the result makes no sense, you must place them into the same typespace first(doubles for example). don&#39;t perform binary (a -&gt; a -&gt; a) operations on three variables of different types, first make their types the same. Even if the language does coersion, you want to be in control of this coersion."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1478124821,"post_id":35165138,"comment_id":68033132,"body_markdown":"@Michael also I am not sure what you mean about making destructor virtual more oop friendly. OOP is not about subclassing, it&#39;s about giving you the control over the direction of dependencies by strategically placing interfaces in between source code dependencies to make the source code dependencies be plugins into your system rather than coupled to your system. You only need virtual destructors if you expect the class to be subclassed, and Point has no need to ever be subclassed by any sane system, you can delegate it if you wish though.","body":"@Michael also I am not sure what you mean about making destructor virtual more oop friendly. OOP is not about subclassing, it&#39;s about giving you the control over the direction of dependencies by strategically placing interfaces in between source code dependencies to make the source code dependencies be plugins into your system rather than coupled to your system. You only need virtual destructors if you expect the class to be subclassed, and Point has no need to ever be subclassed by any sane system, you can delegate it if you wish though."}],"tags":[],"owner":{"account_id":2993324,"reputation":5785,"user_id":2540407,"accept_rate":70,"display_name":"Michael"},"comment_count":16,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1454452616,"creation_date":1454452616,"answer_id":35165138,"question_id":430346,"body_markdown":"Because `unsigned` type is pure evil.\r\n\r\nThe fact that in C `unsigned - int` produces `unsigned` is even more evil.\r\n\r\nHere is a snapshot of the problem that burned me more than once:\r\n\r\n    // We have odd positive number of rays, \r\n    // consecutive ones at angle delta from each other.\r\n    assert( rays.size() &gt; 0 &amp;&amp; rays.size() % 2 == 1 );\r\n\r\n    // Get a set of ray at delta angle between them.\r\n    for( size_t n = 0; n &lt; rays.size(); ++n )\r\n    {\r\n        // Compute the angle between nth ray and the middle one.\r\n        // The index of the middle one is (rays.size() - 1) / 2,\r\n        // the rays are evenly spaced at angle delta, therefore\r\n        // the magnitude of the angle between nth ray and the \r\n        // middle one is: \r\n        double angle = delta * fabs( n - (rays.size() - 1) / 2 ); \r\n\r\n        // Do something else ...\r\n    }\r\n\r\nHave you noticed the bug yet? I confess I only saw it after stepping in with the debugger. \r\n\r\nBecause `n` is of unsigned type `size_t` the entire expression `n - (rays.size() - 1) / 2` evaluates as `unsigned`. That expression is intended to be a *signed* position of the `n`th ray from the middle one: the 1st ray from the middle one on the left side would have position -1, the 1st one on the right would have position +1, etc. After taking abs value and multiplying by the `delta` angle I would get the angle between `n`th ray and the middle one.\r\n\r\nUnfortunately for me the above expression contained the evil unsigned and instead of evaluating to, say, -1, it evaluated to 2^32-1. The subsequent conversion to `double` sealed the bug.\r\n\r\nAfter a bug or two caused by misuse of `unsigned` arithmetic one has to start wondering whether the extra bit one gets is worth the extra trouble. I am trying, as much as feasible, to avoid any use of `unsigned` types in arithmetic, although still use it for non-arithmetic operations such as binary masks.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Because <code>unsigned</code> type is pure evil.</p>\n\n<p>The fact that in C <code>unsigned - int</code> produces <code>unsigned</code> is even more evil.</p>\n\n<p>Here is a snapshot of the problem that burned me more than once:</p>\n\n<pre><code>// We have odd positive number of rays, \n// consecutive ones at angle delta from each other.\nassert( rays.size() &gt; 0 &amp;&amp; rays.size() % 2 == 1 );\n\n// Get a set of ray at delta angle between them.\nfor( size_t n = 0; n &lt; rays.size(); ++n )\n{\n    // Compute the angle between nth ray and the middle one.\n    // The index of the middle one is (rays.size() - 1) / 2,\n    // the rays are evenly spaced at angle delta, therefore\n    // the magnitude of the angle between nth ray and the \n    // middle one is: \n    double angle = delta * fabs( n - (rays.size() - 1) / 2 ); \n\n    // Do something else ...\n}\n</code></pre>\n\n<p>Have you noticed the bug yet? I confess I only saw it after stepping in with the debugger. </p>\n\n<p>Because <code>n</code> is of unsigned type <code>size_t</code> the entire expression <code>n - (rays.size() - 1) / 2</code> evaluates as <code>unsigned</code>. That expression is intended to be a <em>signed</em> position of the <code>n</code>th ray from the middle one: the 1st ray from the middle one on the left side would have position -1, the 1st one on the right would have position +1, etc. After taking abs value and multiplying by the <code>delta</code> angle I would get the angle between <code>n</code>th ray and the middle one.</p>\n\n<p>Unfortunately for me the above expression contained the evil unsigned and instead of evaluating to, say, -1, it evaluated to 2^32-1. The subsequent conversion to <code>double</code> sealed the bug.</p>\n\n<p>After a bug or two caused by misuse of <code>unsigned</code> arithmetic one has to start wondering whether the extra bit one gets is worth the extra trouble. I am trying, as much as feasible, to avoid any use of <code>unsigned</code> types in arithmetic, although still use it for non-arithmetic operations such as binary masks.</p>\n"},{"tags":[],"owner":{"account_id":2564596,"reputation":73,"user_id":2225010,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1478027620,"creation_date":1478027620,"answer_id":40367054,"question_id":430346,"body_markdown":"I once took a C++ course with someone on the C++ standards committee who implied that Java made the right decision to avoid having unsigned integers because (1) most programs that use unsigned integers can do just as well with signed integers and this is more natural in terms of how people think, and (2) using unsigned integers results in lots easy to create but difficult to debug issues such as integer arithmetic overflow and losing significant bits when converting between signed and unsigned types. If you mistakenly subtract 1 from 0 using signed integers it often more quickly causes your program to crash and makes it easier to find the bug than if it wraps around to 2^32 - 1, and compilers and static analysis tools and runtime checks have to assume you know what you&#39;re doing since you chose to use unsigned arithmetic. Also, negative numbers like -1 can often represent something useful, like a field being ignored/defaulted/unset while if you were using unsigned you&#39;d have to reserve a special value like 2^32 - 1 or something similar.\r\n\r\nLong ago, when memory was limited and processors did not automatically operate on 64 bits at once, every bit counted a lot more, so having signed vs unsigned bytes or shorts actually mattered a lot more often and was obviously the right design decision. Today just using a signed int is more than sufficient in almost all regular programming cases, and if your program really needs to use values bigger than 2^31 - 1, you often just want a long anyway. Once you&#39;re into the territory of using longs, it&#39;s even harder to come up with a reason why you really can&#39;t get by with 2^63 - 1 positive integers. Whenever we go to 128 bit processors it&#39;ll be even less of an issue.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I once took a C++ course with someone on the C++ standards committee who implied that Java made the right decision to avoid having unsigned integers because (1) most programs that use unsigned integers can do just as well with signed integers and this is more natural in terms of how people think, and (2) using unsigned integers results in lots easy to create but difficult to debug issues such as integer arithmetic overflow and losing significant bits when converting between signed and unsigned types. If you mistakenly subtract 1 from 0 using signed integers it often more quickly causes your program to crash and makes it easier to find the bug than if it wraps around to 2^32 - 1, and compilers and static analysis tools and runtime checks have to assume you know what you're doing since you chose to use unsigned arithmetic. Also, negative numbers like -1 can often represent something useful, like a field being ignored/defaulted/unset while if you were using unsigned you'd have to reserve a special value like 2^32 - 1 or something similar.</p>\n\n<p>Long ago, when memory was limited and processors did not automatically operate on 64 bits at once, every bit counted a lot more, so having signed vs unsigned bytes or shorts actually mattered a lot more often and was obviously the right design decision. Today just using a signed int is more than sufficient in almost all regular programming cases, and if your program really needs to use values bigger than 2^31 - 1, you often just want a long anyway. Once you're into the territory of using longs, it's even harder to come up with a reason why you really can't get by with 2^63 - 1 positive integers. Whenever we go to 128 bit processors it'll be even less of an issue.</p>\n"},{"comments":[{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":2,"creation_date":1555917671,"post_id":45536475,"comment_id":98250802,"body_markdown":"MASM (Microsoft assembler) and Windows define BYTE, WORD, DWORD, QWORD, as unsigned types.  For MASM, SBYTE, SWORD, SDWORD, SQWORD are the signed types.","body":"MASM (Microsoft assembler) and Windows define BYTE, WORD, DWORD, QWORD, as unsigned types.  For MASM, SBYTE, SWORD, SDWORD, SQWORD are the signed types."},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":2,"creation_date":1661138200,"post_id":45536475,"comment_id":129692182,"body_markdown":"This answer reads like a word soup and doesn&#39;t make any sense. For one, why do you have to bring terminology like &quot;word&quot; and &quot;dword&quot; into the discussion of Java?","body":"This answer reads like a word soup and doesn&#39;t make any sense. For one, why do you have to bring terminology like &quot;word&quot; and &quot;dword&quot; into the discussion of Java?"}],"tags":[],"owner":{"display_name":"user2133061"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1502108209,"creation_date":1502052291,"answer_id":45536475,"question_id":430346,"body_markdown":"Your question is &quot;Why doesn&#39;t Java support unsigned ints&quot;?\r\n\r\nAnd my answer to your question is that Java wants that all of it&#39;s primitive types: **byte**, **char**, **short**, **int** and **long** should be treated as **byte**, **word**, **dword** and **qword** respectively, exactly like in assembly, and the Java operators are **signed** operations on all of it&#39;s primitive types except for **char**, but only on **char** they are unsigned 16 bit only.\r\n\r\nSo static methods suppose to be the **unsigned** operations **also** for both 32 and 64 bit.\r\n\r\nYou need final class, whose static methods can be called for the **unsigned** operations.\r\n\r\nYou can create this final class, call it whatever name you want and implement it&#39;s static methods.\r\n\r\nIf you have no idea about how to implement the static methods then this &lt;a href=&quot;http://www.javamex.com/java_equivalents/unsigned.shtml&quot;&gt;link&lt;/a&gt; may help you.\r\n\r\nIn my opinion, Java is **not** similar to C++ **at all**, if it **neither** support unsigned types **nor** operator overloading, so I think that Java should be treated as completely different language from both C++ and from C.\r\n\r\nIt is also completely different in the name of the languages by the way.\r\n\r\nSo I don&#39;t recommend in Java to type code similar to C and I don&#39;t recommend to type code similar to C++ at all, because then in Java you won&#39;t be able to do what you want to do next in C++, i.e. the code won&#39;t continue to be C++ like at all and for me this is bad to code like that, to change the style in the middle.\r\n\r\nI recommend to write and use static methods also for the signed operations, so you don&#39;t see in the code mixture of operators and static methods for both signed and unsigned operations, unless you need only signed operations in the code, and it&#39;s okay to use the operators only.\r\n\r\nAlso I recommend to avoid using **short**, **int** and **long** primitive types, and use **word**, **dword** and **qword** respectively instead, and you are about call the static methods for unsigned operations and/or signed operations instead of using operators.\r\n\r\nIf you are about to do signed operations only and use the operators only in the code, then this is okay to use these primitive types **short**, **int** and **long**.\r\n\r\nActually **word**, **dword** and **qword** do**n&#39;t** exist in the language, but you can create new class for each and the implementation of each should be very easy:\r\n\r\nThe class **word** holds the primitive type **short** only, the class **dword** holds the primitive type **int** only and the class **qword** holds the primitive type **long** only. Now all the unsigned and the signed methods as static or not as your choice, you can implement in each class, i.e. all the 16 bit operations both unsigned and signed by giving meaning names on the **word** class, all the 32 bit operations both unsigned and signed by giving meaning names on the **dword** class and all the 64 bit operations both unsigned and signed by giving meaning names on the **qword** class.\r\n\r\nIf you don&#39;t like giving too many different names for each method, you can always use overloading in Java, good to read that Java did**n&#39;t** remove that too!\r\n\r\nIf you want methods rather than operators for 8 bit signed operations and methods for 8 bit unsigned operations that have no operators at all, then you can create the **Byte** class (note that the first letter &#39;B&#39; is capital, so this is not the primitive type **byte**) and implement the methods in this class.\r\n\r\nAbout passing by value and passing by reference:\r\n\r\nIf I am not wrong, like in C#, primitive objects are passed by value naturally, but class objects are passed by reference naturally, so that means that objects of type **Byte**, **word**, **dword** and **qword** will be passed by reference and not by value by default. I wish Java had **struct** objects as C# has, \r\nso all **Byte**, **word**, **dword** and **qword** could be implemented to be **struct** instead of **class**, so by default they were passed by value and not by reference by default, like any struct object in C#, like the primitive types, are passed by value and not by reference by default, but because that Java is worse than C# and we have to deal with that, then there is only classes and interfaces, that are passed by reference and not by value by default. So if you want to pass **Byte**, **word**, **dword** and **qword** objects by value and not by reference, like any other class object in Java and also in C#, you will have to simply use the copy constructor and that&#39;s it.\r\n\r\nThat&#39;s the only solution that I can think about. I just wish that I could just typedef the primitive types to word, dword and qword, but Java neither support typedef nor using at all, unlike C# that supports **using**, which is equivalent to the C&#39;s typedef.\r\n\r\nAbout output:\r\n\r\nFor the same **sequence of bits**, you can print them in many ways: As binary, as decimal (like the meaning of %u in C printf), as octal (like the meaning of %o in C printf), as hexadecimal (like the meaning of %x in C printf) and as integer (like the meaning of the %d in C printf).\r\n\r\nNote that C printf doesn&#39;t know the type of the variables being passed as parameters to the function, so printf knows the type of each variable only from the char* object passed to the first parameter of the function.\r\n\r\nSo in each of the classes: **Byte**, **word**, **dword** and **qword**, you can implement print method and get the functionality of printf, even though the primitive type of the class is signed, you still can print it as unsigned by following some algorithm involving logical and shift operations to get the digits to print to the output.\r\n\r\nUnfortunately the link I gave you doesn&#39;t show how to implement these print methods, but I am sure you can google for the algorithms you need to implement these print methods.\r\n\r\nThat&#39;s all I can answer your question and suggest you.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Your question is \"Why doesn't Java support unsigned ints\"?</p>\n\n<p>And my answer to your question is that Java wants that all of it's primitive types: <strong>byte</strong>, <strong>char</strong>, <strong>short</strong>, <strong>int</strong> and <strong>long</strong> should be treated as <strong>byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> respectively, exactly like in assembly, and the Java operators are <strong>signed</strong> operations on all of it's primitive types except for <strong>char</strong>, but only on <strong>char</strong> they are unsigned 16 bit only.</p>\n\n<p>So static methods suppose to be the <strong>unsigned</strong> operations <strong>also</strong> for both 32 and 64 bit.</p>\n\n<p>You need final class, whose static methods can be called for the <strong>unsigned</strong> operations.</p>\n\n<p>You can create this final class, call it whatever name you want and implement it's static methods.</p>\n\n<p>If you have no idea about how to implement the static methods then this <a href=\"http://www.javamex.com/java_equivalents/unsigned.shtml\" rel=\"nofollow noreferrer\">link</a> may help you.</p>\n\n<p>In my opinion, Java is <strong>not</strong> similar to C++ <strong>at all</strong>, if it <strong>neither</strong> support unsigned types <strong>nor</strong> operator overloading, so I think that Java should be treated as completely different language from both C++ and from C.</p>\n\n<p>It is also completely different in the name of the languages by the way.</p>\n\n<p>So I don't recommend in Java to type code similar to C and I don't recommend to type code similar to C++ at all, because then in Java you won't be able to do what you want to do next in C++, i.e. the code won't continue to be C++ like at all and for me this is bad to code like that, to change the style in the middle.</p>\n\n<p>I recommend to write and use static methods also for the signed operations, so you don't see in the code mixture of operators and static methods for both signed and unsigned operations, unless you need only signed operations in the code, and it's okay to use the operators only.</p>\n\n<p>Also I recommend to avoid using <strong>short</strong>, <strong>int</strong> and <strong>long</strong> primitive types, and use <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> respectively instead, and you are about call the static methods for unsigned operations and/or signed operations instead of using operators.</p>\n\n<p>If you are about to do signed operations only and use the operators only in the code, then this is okay to use these primitive types <strong>short</strong>, <strong>int</strong> and <strong>long</strong>.</p>\n\n<p>Actually <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> do<strong>n't</strong> exist in the language, but you can create new class for each and the implementation of each should be very easy:</p>\n\n<p>The class <strong>word</strong> holds the primitive type <strong>short</strong> only, the class <strong>dword</strong> holds the primitive type <strong>int</strong> only and the class <strong>qword</strong> holds the primitive type <strong>long</strong> only. Now all the unsigned and the signed methods as static or not as your choice, you can implement in each class, i.e. all the 16 bit operations both unsigned and signed by giving meaning names on the <strong>word</strong> class, all the 32 bit operations both unsigned and signed by giving meaning names on the <strong>dword</strong> class and all the 64 bit operations both unsigned and signed by giving meaning names on the <strong>qword</strong> class.</p>\n\n<p>If you don't like giving too many different names for each method, you can always use overloading in Java, good to read that Java did<strong>n't</strong> remove that too!</p>\n\n<p>If you want methods rather than operators for 8 bit signed operations and methods for 8 bit unsigned operations that have no operators at all, then you can create the <strong>Byte</strong> class (note that the first letter 'B' is capital, so this is not the primitive type <strong>byte</strong>) and implement the methods in this class.</p>\n\n<p>About passing by value and passing by reference:</p>\n\n<p>If I am not wrong, like in C#, primitive objects are passed by value naturally, but class objects are passed by reference naturally, so that means that objects of type <strong>Byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> will be passed by reference and not by value by default. I wish Java had <strong>struct</strong> objects as C# has, \nso all <strong>Byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> could be implemented to be <strong>struct</strong> instead of <strong>class</strong>, so by default they were passed by value and not by reference by default, like any struct object in C#, like the primitive types, are passed by value and not by reference by default, but because that Java is worse than C# and we have to deal with that, then there is only classes and interfaces, that are passed by reference and not by value by default. So if you want to pass <strong>Byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> objects by value and not by reference, like any other class object in Java and also in C#, you will have to simply use the copy constructor and that's it.</p>\n\n<p>That's the only solution that I can think about. I just wish that I could just typedef the primitive types to word, dword and qword, but Java neither support typedef nor using at all, unlike C# that supports <strong>using</strong>, which is equivalent to the C's typedef.</p>\n\n<p>About output:</p>\n\n<p>For the same <strong>sequence of bits</strong>, you can print them in many ways: As binary, as decimal (like the meaning of %u in C printf), as octal (like the meaning of %o in C printf), as hexadecimal (like the meaning of %x in C printf) and as integer (like the meaning of the %d in C printf).</p>\n\n<p>Note that C printf doesn't know the type of the variables being passed as parameters to the function, so printf knows the type of each variable only from the char* object passed to the first parameter of the function.</p>\n\n<p>So in each of the classes: <strong>Byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong>, you can implement print method and get the functionality of printf, even though the primitive type of the class is signed, you still can print it as unsigned by following some algorithm involving logical and shift operations to get the digits to print to the output.</p>\n\n<p>Unfortunately the link I gave you doesn't show how to implement these print methods, but I am sure you can google for the algorithms you need to implement these print methods.</p>\n\n<p>That's all I can answer your question and suggest you.</p>\n"},{"comments":[{"owner":{"account_id":1367769,"reputation":3933,"user_id":1303846,"display_name":"Remember Monica"},"score":1,"creation_date":1648278469,"post_id":56793934,"comment_id":126588471,"body_markdown":"What &quot;closures&quot; are in what &quot;C spec&quot;?","body":"What &quot;closures&quot; are in what &quot;C spec&quot;?"},{"owner":{"account_id":5361192,"reputation":179,"user_id":4272389,"display_name":"MKhomo"},"score":0,"creation_date":1648412327,"post_id":56793934,"comment_id":126611756,"body_markdown":"Sorry my shorthand was too cryptic and my unfortunate choice of example. But you&#39;re right, closures as built-ins came with object oriented descendants of C; not C. C permitted those who cared to, to build their own &#39;closures&#39;  if they so wished since a C program function and memory address namespaces can be accessed from any context. I was just giving a &#39;C&#39; example of how one could reign in malicious reference to dynamic memory where sign can be neutral and always arithmetical and offsets to it behave like an algebraic Ring. Always modulo sizeof, for example.","body":"Sorry my shorthand was too cryptic and my unfortunate choice of example. But you&#39;re right, closures as built-ins came with object oriented descendants of C; not C. C permitted those who cared to, to build their own &#39;closures&#39;  if they so wished since a C program function and memory address namespaces can be accessed from any context. I was just giving a &#39;C&#39; example of how one could reign in malicious reference to dynamic memory where sign can be neutral and always arithmetical and offsets to it behave like an algebraic Ring. Always modulo sizeof, for example."}],"tags":[],"owner":{"account_id":5361192,"reputation":179,"user_id":4272389,"display_name":"MKhomo"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1561675359,"creation_date":1561647817,"answer_id":56793934,"question_id":430346,"body_markdown":"There&#39;s a few gems in the &#39;C&#39; spec that Java dropped for pragmatic reasons but which are slowly creeping back with developer demand (closures, etc).\r\n\r\nI mention a first one because it&#39;s related to this discussion; the adherence of pointer values to unsigned integer arithmetic. And, in relation to this thread topic, the difficulty of maintaining Unsigned semantics in the Signed world of Java.\r\n\r\nI would guess if one were to get a Dennis Ritchie alter ego to advise Gosling&#39;s design team it would have suggested giving Signed&#39;s a &quot;zero at infinity&quot;, so that all address offset requests would first add their ALGEBRAIC RING SIZE to obviate negative values.\r\n\r\nThat way, any offset thrown at the array can never generate a SEGFAULT. For example in an encapsulated class which I call RingArray of doubles that needs unsigned behaviour - in &quot;self rotating loop&quot; context:\r\n\r\n    // ...\r\n    // Housekeeping state variable\r\n    long entrycount;     // A sequence number\r\n    int cycle;           // Number of loops cycled\r\n    int size;            // Active size of the array because size&lt;modulus during cycle 0\r\n    int modulus;         // Maximal size of the array\r\n\r\n    // Ring state variables\r\n    private int head;   // The &#39;head&#39; of the Ring\r\n    private int tail;   // The ring iterator &#39;cursor&#39;\r\n    // tail may get the current cursor position\r\n    // and head gets the old tail value\r\n    // there are other semantic variations possible\r\n\r\n    // The Array state variable\r\n    double [] darray;    // The array of doubles\r\n\r\n    // somewhere in constructor\r\n    public RingArray(int modulus) {\r\n        super();\r\n        this.modulus = modulus;\r\n        tail =  head =  cycle = 0;\r\n        darray = new double[modulus];\r\n    // ...\r\n    }\r\n    // ...\r\n    double getElementAt(int offset){\r\n        return darray[(tail+modulus+offset%modulus)%modulus];\r\n    }\r\n    //  remember, the above is treating steady-state where size==modulus\r\n    // ...\r\nThe above RingArray would never ever &#39;get&#39; from a negative index, even if a malicious requestor tried to. Remember, there are also many legitimate requests for asking for prior (negative) index values.\r\n\r\nNB: The outer %modulus de-references legitimate requests whereas the inner %modulus masks out blatant malice from negatives more negative than -modulus. If this were to ever appear in a Java +..+9 || 8+..+ spec, then the problem would genuinely become a &#39;programmer who cannot &quot;self rotate&quot; FAULT&#39;.\r\n\r\nI&#39;m sure the so-called Java unsigned int &#39;deficiency&#39; can be made up for with the above one-liner.\r\n\r\nPS: Just to give context to above RingArray housekeeping, here&#39;s a candidate &#39;set&#39; operation to match the above &#39;get&#39; element operation:\r\n\r\n    void addElement(long entrycount,double value){ // to be called only by the keeper of entrycount\r\n        this.entrycount= entrycount;\r\n        cycle = (int)entrycount/modulus;\r\n        if(cycle==0){                       // start-up is when the ring is being populated the first time around\r\n            size = (int)entrycount;\t        // during start-up, size is less than modulus so use modulo size arithmetic\r\n            tail = (int)entrycount%size;    //  during start-up\r\n        }\r\n        else {\r\n            size = modulus;\r\n            head = tail;\r\n            tail = (int)entrycount%modulus; //  after start-up\r\n        }\r\n        darray[head] = value;               //  always overwrite old tail\r\n    }","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>There's a few gems in the 'C' spec that Java dropped for pragmatic reasons but which are slowly creeping back with developer demand (closures, etc).</p>\n\n<p>I mention a first one because it's related to this discussion; the adherence of pointer values to unsigned integer arithmetic. And, in relation to this thread topic, the difficulty of maintaining Unsigned semantics in the Signed world of Java.</p>\n\n<p>I would guess if one were to get a Dennis Ritchie alter ego to advise Gosling's design team it would have suggested giving Signed's a \"zero at infinity\", so that all address offset requests would first add their ALGEBRAIC RING SIZE to obviate negative values.</p>\n\n<p>That way, any offset thrown at the array can never generate a SEGFAULT. For example in an encapsulated class which I call RingArray of doubles that needs unsigned behaviour - in \"self rotating loop\" context:</p>\n\n<pre><code>// ...\n// Housekeeping state variable\nlong entrycount;     // A sequence number\nint cycle;           // Number of loops cycled\nint size;            // Active size of the array because size&lt;modulus during cycle 0\nint modulus;         // Maximal size of the array\n\n// Ring state variables\nprivate int head;   // The 'head' of the Ring\nprivate int tail;   // The ring iterator 'cursor'\n// tail may get the current cursor position\n// and head gets the old tail value\n// there are other semantic variations possible\n\n// The Array state variable\ndouble [] darray;    // The array of doubles\n\n// somewhere in constructor\npublic RingArray(int modulus) {\n    super();\n    this.modulus = modulus;\n    tail =  head =  cycle = 0;\n    darray = new double[modulus];\n// ...\n}\n// ...\ndouble getElementAt(int offset){\n    return darray[(tail+modulus+offset%modulus)%modulus];\n}\n//  remember, the above is treating steady-state where size==modulus\n// ...\n</code></pre>\n\n<p>The above RingArray would never ever 'get' from a negative index, even if a malicious requestor tried to. Remember, there are also many legitimate requests for asking for prior (negative) index values.</p>\n\n<p>NB: The outer %modulus de-references legitimate requests whereas the inner %modulus masks out blatant malice from negatives more negative than -modulus. If this were to ever appear in a Java +..+9 || 8+..+ spec, then the problem would genuinely become a 'programmer who cannot \"self rotate\" FAULT'.</p>\n\n<p>I'm sure the so-called Java unsigned int 'deficiency' can be made up for with the above one-liner.</p>\n\n<p>PS: Just to give context to above RingArray housekeeping, here's a candidate 'set' operation to match the above 'get' element operation:</p>\n\n<pre><code>void addElement(long entrycount,double value){ // to be called only by the keeper of entrycount\n    this.entrycount= entrycount;\n    cycle = (int)entrycount/modulus;\n    if(cycle==0){                       // start-up is when the ring is being populated the first time around\n        size = (int)entrycount;         // during start-up, size is less than modulus so use modulo size arithmetic\n        tail = (int)entrycount%size;    //  during start-up\n    }\n    else {\n        size = modulus;\n        head = tail;\n        tail = (int)entrycount%modulus; //  after start-up\n    }\n    darray[head] = value;               //  always overwrite old tail\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673689530,"post_id":75111844,"comment_id":132557497,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75111844/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":43015,"reputation":3712,"user_id":125540,"accept_rate":75,"display_name":"Harry"},"score":0,"creation_date":1679536904,"post_id":75111844,"comment_id":133741162,"body_markdown":"Suppose, I&#39;m receiving an usigned 8-bit integer value (from network or disk). This value will naturally be in the range `[0,255]`. But I can&#39;t use the Java `byte` type to hold this value; I must use the next higher type, `short`. To hold an unsigned 64-bit integer, I must use `BigInteger`? Yuck!","body":"Suppose, I&#39;m receiving an usigned 8-bit integer value (from network or disk). This value will naturally be in the range <code>[0,255]</code>. But I can&#39;t use the Java <code>byte</code> type to hold this value; I must use the next higher type, <code>short</code>. To hold an unsigned 64-bit integer, I must use <code>BigInteger</code>? Yuck!"},{"owner":{"account_id":27297733,"reputation":43,"user_id":20815101,"display_name":"Thorfinn"},"score":0,"creation_date":1679539341,"post_id":75111844,"comment_id":133741402,"body_markdown":"If you need to hold an 8-bit integer value, you can use ```char``` datatype. Silly as it may sound, ```char``` lets you store numbers in the range 0 to 255. it might be a problem to print though. And you can also use ```byte``` to store 0 to 255 using some tricks. Since Java is OOP anyway, there&#39;s nothing wrong in using a bit of object magic there.","body":"If you need to hold an 8-bit integer value, you can use <code>char</code> datatype. Silly as it may sound, <code>char</code> lets you store numbers in the range 0 to 255. it might be a problem to print though. And you can also use <code>byte</code> to store 0 to 255 using some tricks. Since Java is OOP anyway, there&#39;s nothing wrong in using a bit of object magic there."}],"tags":[],"owner":{"account_id":27297733,"reputation":43,"user_id":20815101,"display_name":"Thorfinn"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675300380,"creation_date":1673626819,"answer_id":75111844,"question_id":430346,"body_markdown":"As someone who dealt with unsigned arithmetic, I can assure you there is really no necessity for unsigned numbers in Java. \r\n\r\nTake C for example. Let&#39;s write something like:\r\n\r\n    unsigned int num = -7;\r\n    printf(&quot;%d&quot;, num);\r\n\r\nCan you guess what&#39;s printed?\r\n\r\n    -7\r\n\r\nWow! An unsigned integer is negative! Exactly. There&#39;s no such thing as a true positive integer. An unsigned integer is just an n-byte(depends on architecture in C) value that doesn&#39;t allocate the MSB for sign. It doesn&#39;t check for the actual sign of the number assigned or read.\r\n","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>As someone who dealt with unsigned arithmetic, I can assure you there is really no necessity for unsigned numbers in Java.</p>\n<p>Take C for example. Let's write something like:</p>\n<pre><code>unsigned int num = -7;\nprintf(&quot;%d&quot;, num);\n</code></pre>\n<p>Can you guess what's printed?</p>\n<pre><code>-7\n</code></pre>\n<p>Wow! An unsigned integer is negative! Exactly. There's no such thing as a true positive integer. An unsigned integer is just an n-byte(depends on architecture in C) value that doesn't allocate the MSB for sign. It doesn't check for the actual sign of the number assigned or read.</p>\n"}],"owner":{"account_id":12204,"reputation":67782,"user_id":23903,"accept_rate":66,"display_name":"dsimcha"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125861,"favorite_count":0,"down_vote_count":1,"up_vote_count":408,"accepted_answer_id":430357,"answer_count":17,"score":407,"last_activity_date":1675300380,"creation_date":1231551333,"question_id":430346,"body_markdown":"Why doesn&#39;t Java include support for unsigned integers?  \r\n\r\nIt seems to me to be an odd omission, given that they allow one to write code that is less likely to produce overflows on unexpectedly large input.  \r\n\r\nFurthermore, using unsigned integers can be a form of self-documentation, since they indicate that the value which the unsigned int was intended to hold is never supposed to be negative.  \r\n\r\nLastly, in some cases, unsigned integers can be more efficient for certain operations, such as division.  \r\n\r\nWhat&#39;s the downside to including these?","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Why doesn't Java include support for unsigned integers?  </p>\n\n<p>It seems to me to be an odd omission, given that they allow one to write code that is less likely to produce overflows on unexpectedly large input.  </p>\n\n<p>Furthermore, using unsigned integers can be a form of self-documentation, since they indicate that the value which the unsigned int was intended to hold is never supposed to be negative.  </p>\n\n<p>Lastly, in some cases, unsigned integers can be more efficient for certain operations, such as division.  </p>\n\n<p>What's the downside to including these?</p>\n"},{"tags":["java","oracle","exception","ora-00001"],"answers":[{"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":1,"creation_date":1259085163,"post_id":1791651,"comment_id":1679130,"body_markdown":"Thanks. I think I&#39;ll go this way then. I have to do this because the cliente want to show some specific messages when the exception is caused by any problem related to the data base. When I receive the exception I don&#39;t know if it was caused by the data base since the first exception is nested inside the exception chain so I was looking for a way to solve this.","body":"Thanks. I think I&#39;ll go this way then. I have to do this because the cliente want to show some specific messages when the exception is caused by any problem related to the data base. When I receive the exception I don&#39;t know if it was caused by the data base since the first exception is nested inside the exception chain so I was looking for a way to solve this."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1259087744,"post_id":1791651,"comment_id":1679447,"body_markdown":"ehm, his method is recursive, hence he will get the root cause.","body":"ehm, his method is recursive, hence he will get the root cause."},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1259090398,"post_id":1791651,"comment_id":1679756,"body_markdown":"@Bozho - He has three if statements with returns. If he had it call itself again then it would be recursive, but, he would need to change his logic, so it will exit.","body":"@Bozho - He has three if statements with returns. If he had it call itself again then it would be recursive, but, he would need to change his logic, so it will exit."},{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":0,"creation_date":1259139691,"post_id":1791651,"comment_id":1683231,"body_markdown":"The second if statement does call itself and the logic looks right, I don&#39;t see why this would not find the right exception.","body":"The second if statement does call itself and the logic looks right, I don&#39;t see why this would not find the right exception."}],"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1259083917,"creation_date":1259083917,"answer_id":1791651,"question_id":1791610,"body_markdown":"Just traverse the exception chain until you get to an exception with no cause, and then just return that message, if you want the last one.\r\n\r\nYour function will only get the first cause, if there is one.\r\n\r\nYou may want to look at finding the first cause in your package though, as the actual deepest one may be an oracle exception, which is helpful, but unless you can see where you created the problem, you will have a hard time fixing it.","title":"Java - find the first cause of an exception","body":"<p>Just traverse the exception chain until you get to an exception with no cause, and then just return that message, if you want the last one.</p>\n\n<p>Your function will only get the first cause, if there is one.</p>\n\n<p>You may want to look at finding the first cause in your package though, as the actual deepest one may be an oracle exception, which is helpful, but unless you can see where you created the problem, you will have a hard time fixing it.</p>\n"},{"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":0,"creation_date":1259088800,"post_id":1791692,"comment_id":1679564,"body_markdown":"Yes. It seems that the exception thrown by Oracle extends SQLException. Regarding getErrorCode() this seems to return a number and I guess you&#39;re right about this. I&#39;ll check it tomorrow at work. Thanks.","body":"Yes. It seems that the exception thrown by Oracle extends SQLException. Regarding getErrorCode() this seems to return a number and I guess you&#39;re right about this. I&#39;ll check it tomorrow at work. Thanks."}],"tags":[],"owner":{"account_id":19056,"reputation":2927,"user_id":44313,"accept_rate":100,"display_name":"Karl"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259084255,"creation_date":1259084255,"answer_id":1791692,"question_id":1791610,"body_markdown":"I think that any error that is thrown by oracle will be wrapped in a SQLException (somebody please correct me if wrong). Once you have accessed the SQLException you should be able to call\r\n\r\n getErrorCode()\r\n          Retrieves the vendor-specific exception code for this SQLException object.\r\n\r\nLet me know if this works as I have never tried it :-)\r\n\r\nKarl","title":"Java - find the first cause of an exception","body":"<p>I think that any error that is thrown by oracle will be wrapped in a SQLException (somebody please correct me if wrong). Once you have accessed the SQLException you should be able to call</p>\n\n<p>getErrorCode()\n          Retrieves the vendor-specific exception code for this SQLException object.</p>\n\n<p>Let me know if this works as I have never tried it :-)</p>\n\n<p>Karl</p>\n"},{"tags":[],"owner":{"account_id":75782,"reputation":1215,"user_id":217269,"display_name":"spork"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1386991479,"creation_date":1259084430,"answer_id":1791707,"question_id":1791610,"body_markdown":"If the exception being thrown is always going to be of a specific type, like OracleException, you can catch just that exception.\r\n\r\nFor example:\r\n\r\n    try {\r\n\r\n        ...\r\n\r\n    } catch(OracleException oe) {\r\n\r\n        ...\r\n\r\n    }\r\n\r\nThis would only apply if there are specific Oracle exceptions being thrown. I don&#39;t know much about Oracle, so before attempting this you will probably want to find out if that&#39;s what&#39;s happening.","title":"Java - find the first cause of an exception","body":"<p>If the exception being thrown is always going to be of a specific type, like OracleException, you can catch just that exception.</p>\n\n<p>For example:</p>\n\n<pre><code>try {\n\n    ...\n\n} catch(OracleException oe) {\n\n    ...\n\n}\n</code></pre>\n\n<p>This would only apply if there are specific Oracle exceptions being thrown. I don't know much about Oracle, so before attempting this you will probably want to find out if that's what's happening.</p>\n"},{"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":2,"creation_date":1259088981,"post_id":1791731,"comment_id":1679586,"body_markdown":"Thanks. This help me a lot to improve the function. I just changed &quot;t.getClass().isAssignableFrom(SQLException.class)&quot; to &quot;t instaceof SQLException&quot; because the first one wasn&#39;t being evaluated true (The exception I was testing were BatchUpdateException)","body":"Thanks. This help me a lot to improve the function. I just changed &quot;t.getClass().isAssignableFrom(SQLException.class)&quot; to &quot;t instaceof SQLException&quot; because the first one wasn&#39;t being evaluated true (The exception I was testing were BatchUpdateException)"}],"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259084709,"creation_date":1259084709,"answer_id":1791731,"question_id":1791610,"body_markdown":"You could improve your code checking for [SQLException][1]\r\n\r\n    import java.sql.SQLException;\r\n    \r\n    private static final String ORACLE = &quot;ORA&quot;;\r\n    \r\n    public String doHandle(Throwable t) {\r\n    \tif (t.getClass().isAssignableFrom(SQLException.class)) {\r\n    \tSQLException e = (SQLException) t;\r\n    \tint errCode = e.getErrorCode();\r\n    \tString state = e.getSQLState();\r\n    \tString msg = e.getMessage();\r\n    \tif (msg.contains(ORACLE)) {\r\n    \t\treturn msg;\r\n    \t\t}\r\n    \t} else {\r\n    \t\tif (t.getCause() != null) {\r\n    \t\t\treturn this.doHandle(t.getCause());\r\n    \t\t\t}\r\n    \t\t}\r\n    \treturn &quot;&quot;;\r\n    }\r\n\r\nAlso, I think in Oracle &quot;errCode&quot; contains the number associated to ORA-nnnn\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/sql/SQLException.html\r\n","title":"Java - find the first cause of an exception","body":"<p>You could improve your code checking for <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/sql/SQLException.html\" rel=\"nofollow noreferrer\">SQLException</a></p>\n\n<pre><code>import java.sql.SQLException;\n\nprivate static final String ORACLE = \"ORA\";\n\npublic String doHandle(Throwable t) {\n    if (t.getClass().isAssignableFrom(SQLException.class)) {\n    SQLException e = (SQLException) t;\n    int errCode = e.getErrorCode();\n    String state = e.getSQLState();\n    String msg = e.getMessage();\n    if (msg.contains(ORACLE)) {\n        return msg;\n        }\n    } else {\n        if (t.getCause() != null) {\n            return this.doHandle(t.getCause());\n            }\n        }\n    return \"\";\n}\n</code></pre>\n\n<p>Also, I think in Oracle \"errCode\" contains the number associated to ORA-nnnn</p>\n"},{"tags":[],"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1322599987,"creation_date":1259084743,"answer_id":1791736,"question_id":1791610,"body_markdown":"Probably a bit overkill for your usage but I think it is cleaner (and reusable)\r\n\r\n    interface ThrowablePredicate {\r\n        boolean accept(Throwable t);\r\n    }\r\n    \r\n    public OracleErrorThrowablePredicate implements ThrowablePredicate {\r\n        private static final ORA_ERR = &quot;ORA&quot;;\r\n    \r\n        public boolean accept(Throwable t) {\r\n    \t\treturn t.toString().contains(ORA_ERR);\r\n        }\r\n    }\r\n    \r\n    \r\n    public class CauseFinder {\r\n      \r\n       private ThrowablePredicate predicate;\r\n    \r\n       public CauseFinder(ThrowablePredicate predicate) {\r\n          this.predicate = predicate;\r\n       }\r\n    \t\r\n       Throwable findCause(Throwable t) {\r\n          Throwable cause = t.getCause();\r\n    \r\n          return cause == null ? null \r\n             : predicate.accept(cause) ? cause : findCause(cause)\r\n       }\r\n    }\r\n    \r\n    \r\n    // Your method\r\n    private String getErrorOracle(Throwable e){\r\n    \treturn new CauseFinder(new OracleErrorThrowablePredicate()).findCause(e);\r\n    }","title":"Java - find the first cause of an exception","body":"<p>Probably a bit overkill for your usage but I think it is cleaner (and reusable)</p>\n\n<pre><code>interface ThrowablePredicate {\n    boolean accept(Throwable t);\n}\n\npublic OracleErrorThrowablePredicate implements ThrowablePredicate {\n    private static final ORA_ERR = \"ORA\";\n\n    public boolean accept(Throwable t) {\n        return t.toString().contains(ORA_ERR);\n    }\n}\n\n\npublic class CauseFinder {\n\n   private ThrowablePredicate predicate;\n\n   public CauseFinder(ThrowablePredicate predicate) {\n      this.predicate = predicate;\n   }\n\n   Throwable findCause(Throwable t) {\n      Throwable cause = t.getCause();\n\n      return cause == null ? null \n         : predicate.accept(cause) ? cause : findCause(cause)\n   }\n}\n\n\n// Your method\nprivate String getErrorOracle(Throwable e){\n    return new CauseFinder(new OracleErrorThrowablePredicate()).findCause(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"comment_count":0,"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1416245875,"creation_date":1259108425,"answer_id":1793904,"question_id":1791610,"body_markdown":"In the interests of not reinventing the wheel, if you&#39;re using [Apache Commons Lang][1], then look at [ExceptionUtils.getRootCause()][2].\r\n\r\nIs it worth including a library just for that? Maybe not. But if you already have it on your classpath, it&#39;s there for you, and note that it does some things that a &#39;naive&#39; implementation might not do (e.g. deal with cycles in the cause chain... ugh!)\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/\r\n  [2]: https://github.com/apache/commons-lang/blob/trunk/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L691","title":"Java - find the first cause of an exception","body":"<p>In the interests of not reinventing the wheel, if you're using <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons Lang</a>, then look at <a href=\"https://github.com/apache/commons-lang/blob/trunk/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L691\" rel=\"noreferrer\">ExceptionUtils.getRootCause()</a>.</p>\n\n<p>Is it worth including a library just for that? Maybe not. But if you already have it on your classpath, it's there for you, and note that it does some things that a 'naive' implementation might not do (e.g. deal with cycles in the cause chain... ugh!)</p>\n"},{"comments":[{"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"score":2,"creation_date":1424188309,"post_id":16498554,"comment_id":45441213,"body_markdown":"Guava&#39;s implementation doesn&#39;t take care of cycles in the cause chain.","body":"Guava&#39;s implementation doesn&#39;t take care of cycles in the cause chain."}],"tags":[],"owner":{"account_id":2437624,"reputation":1128,"user_id":2127103,"display_name":"N&#225;ndor Kr&#225;cser"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1675299361,"creation_date":1368285013,"answer_id":16498554,"question_id":1791610,"body_markdown":"If you are already on [Guava][1] than [Throwables.getRootCause()][2] comes to the rescue.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://guava.dev/releases/snapshot/api/docs/com/google/common/base/Throwables.html#getRootCause-java.lang.Throwable-","title":"Java - find the first cause of an exception","body":"<p>If you are already on <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> than <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/base/Throwables.html#getRootCause-java.lang.Throwable-\" rel=\"nofollow noreferrer\">Throwables.getRootCause()</a> comes to the rescue.</p>\n"},{"comments":[{"owner":{"account_id":261465,"reputation":2124,"user_id":545657,"accept_rate":85,"display_name":"pqsk"},"score":0,"creation_date":1487364222,"post_id":35054924,"comment_id":71768959,"body_markdown":".toString() is redundant besides the fact that this does not do what was requested.","body":".toString() is redundant besides the fact that this does not do what was requested."}],"tags":[],"owner":{"account_id":4103815,"reputation":488,"user_id":3368533,"display_name":"Fasiha"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1453965006,"creation_date":1453965006,"answer_id":35054924,"question_id":1791610,"body_markdown":"**on 28-01-2015** , i have unable to solve my problem with any of the above solution, so my recommendation is to use :\r\n\r\n\r\n    e.getMessage().toString();\r\n\r\n**Ps: i am using it on android.** ","title":"Java - find the first cause of an exception","body":"<p><strong>on 28-01-2015</strong> , i have unable to solve my problem with any of the above solution, so my recommendation is to use :</p>\n\n<pre><code>e.getMessage().toString();\n</code></pre>\n\n<p><strong>Ps: i am using it on android.</strong> </p>\n"},{"tags":[],"owner":{"account_id":1477288,"reputation":5052,"user_id":1387386,"display_name":"Anatolii Shuba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597722640,"creation_date":1597722640,"answer_id":63461613,"question_id":1791610,"body_markdown":"One line solution using core Java API:\r\n\r\n        try {\r\n            i = 1 / 0; \r\n        } catch (ArithmeticException e) {\r\n            System.out.println(new ArithmeticException().initCause(e).getCause());\r\n        }\r\n\r\n\r\nOne more solution below works as well:\r\n\r\n        try {\r\n            i = 1 / 0; \r\n        } catch (ArithmeticException e) {\r\n            System.out.println(new Exception().initCause(e).getCause());\r\n        }\r\n\r\nBoth of them will print\r\n\r\n**java.lang.ArithmeticException: / by zero**","title":"Java - find the first cause of an exception","body":"<p>One line solution using core Java API:</p>\n<pre><code>    try {\n        i = 1 / 0; \n    } catch (ArithmeticException e) {\n        System.out.println(new ArithmeticException().initCause(e).getCause());\n    }\n</code></pre>\n<p>One more solution below works as well:</p>\n<pre><code>    try {\n        i = 1 / 0; \n    } catch (ArithmeticException e) {\n        System.out.println(new Exception().initCause(e).getCause());\n    }\n</code></pre>\n<p>Both of them will print</p>\n<p><strong>java.lang.ArithmeticException: / by zero</strong></p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608846172,"creation_date":1608837022,"answer_id":65442410,"question_id":1791610,"body_markdown":"In my Spring Boot project for `getRootCause` IDEA suggest 3 static import:\r\n\r\nSpring Core: `org.springframework.core.NestedExceptionUtils.getRootCause`  \r\nJackson: `com.fasterxml.jackson.databind.util.ClassUtil.getRootCause`  \r\nGuava (Swagger transitive) `com.google.common.base.Throwables.getRootCause`\r\n\r\nMost smart (with cycle check) is Spring `NestedExceptionUtils.getRootCause`.\r\nBut, if your excetion has no cause, method returns `null`. \r\nIn my case it is wrong, so I&#39;ve done:\r\n\r\n    @NonNull\r\n    public static Throwable getRootCause(@NonNull Throwable t) {\r\n        Throwable rootCause = NestedExceptionUtils.getRootCause(t);\r\n        return rootCause != null ? rootCause : t;\r\n    }\r\n","title":"Java - find the first cause of an exception","body":"<p>In my Spring Boot project for <code>getRootCause</code> IDEA suggest 3 static import:</p>\n<p>Spring Core: <code>org.springframework.core.NestedExceptionUtils.getRootCause</code><br />\nJackson: <code>com.fasterxml.jackson.databind.util.ClassUtil.getRootCause</code><br />\nGuava (Swagger transitive) <code>com.google.common.base.Throwables.getRootCause</code></p>\n<p>Most smart (with cycle check) is Spring <code>NestedExceptionUtils.getRootCause</code>.\nBut, if your excetion has no cause, method returns <code>null</code>.\nIn my case it is wrong, so I've done:</p>\n<pre><code>@NonNull\npublic static Throwable getRootCause(@NonNull Throwable t) {\n    Throwable rootCause = NestedExceptionUtils.getRootCause(t);\n    return rootCause != null ? rootCause : t;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630916924,"creation_date":1630685439,"answer_id":69047864,"question_id":1791610,"body_markdown":"I want to add Kotlin extension functions to get root causes:\r\n\r\n    fun Throwable.rootCause(): Throwable {\r\n      return if (cause == null) this else cause!!.rootCause()\r\n    }\r\n\r\n    //Return null if first cause is null\r\n    fun Throwable.optRootCause(): Throwable? {\r\n      return if (cause == null) null else cause!!.rootCause()\r\n    }\r\n\r\nOr this one if need to find a cause inside the throwable chain at any points:\r\n\r\n```\r\nfun &lt;T : Throwable&gt; Throwable.isOrContainsCauseOfType(clazz: KClass&lt;T&gt;): Throwable?  {\r\n  return when {\r\n    clazz.isInstance(this) -&gt; this //remove if you want to exclude [this]\r\n    cause == null -&gt; null\r\n    clazz.isInstance(cause) -&gt; cause\r\n    else -&gt; cause!!.isOrContainsCauseOfType(clazz)\r\n  }\r\n}\r\n```","title":"Java - find the first cause of an exception","body":"<p>I want to add Kotlin extension functions to get root causes:</p>\n<pre><code>fun Throwable.rootCause(): Throwable {\n  return if (cause == null) this else cause!!.rootCause()\n}\n\n//Return null if first cause is null\nfun Throwable.optRootCause(): Throwable? {\n  return if (cause == null) null else cause!!.rootCause()\n}\n</code></pre>\n<p>Or this one if need to find a cause inside the throwable chain at any points:</p>\n<pre><code>fun &lt;T : Throwable&gt; Throwable.isOrContainsCauseOfType(clazz: KClass&lt;T&gt;): Throwable?  {\n  return when {\n    clazz.isInstance(this) -&gt; this //remove if you want to exclude [this]\n    cause == null -&gt; null\n    clazz.isInstance(cause) -&gt; cause\n    else -&gt; cause!!.isOrContainsCauseOfType(clazz)\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645083245,"creation_date":1645083245,"answer_id":71154067,"question_id":1791610,"body_markdown":"[ExceptionUtils.getRootCause()][1], and [Throwables.getRootCause()][2] returns null if the cause of the exception being passed is null.The following method will return the original throwable if an throwable without a cause is being passed as the input parameter.\r\n\r\n    /**\r\n     * @return the root cause of a given throwable.\r\n     *   If throwable without a cause is being passed, the original throwable will be returned\r\n     */\r\n    public static Throwable getRootCause(@NonNull final Throwable throwable) {\r\n        List&lt;Throwable&gt; throwableList = ExceptionUtils.getThrowableList(throwable);\r\n        return throwableList.get(throwableList.size() - 1);\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause(java.lang.Throwable)\r\n  [2]: https://guava.dev/releases/23.0/api/docs/src-html/com/google/common/base/Throwables.html#line.254","title":"Java - find the first cause of an exception","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause(java.lang.Throwable)\" rel=\"nofollow noreferrer\">ExceptionUtils.getRootCause()</a>, and <a href=\"https://guava.dev/releases/23.0/api/docs/src-html/com/google/common/base/Throwables.html#line.254\" rel=\"nofollow noreferrer\">Throwables.getRootCause()</a> returns null if the cause of the exception being passed is null.The following method will return the original throwable if an throwable without a cause is being passed as the input parameter.</p>\n<pre><code>/**\n * @return the root cause of a given throwable.\n *   If throwable without a cause is being passed, the original throwable will be returned\n */\npublic static Throwable getRootCause(@NonNull final Throwable throwable) {\n    List&lt;Throwable&gt; throwableList = ExceptionUtils.getThrowableList(throwable);\n    return throwableList.get(throwableList.size() - 1);\n}\n</code></pre>\n"}],"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51679,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":1791651,"answer_count":12,"score":39,"last_activity_date":1675299361,"creation_date":1259083412,"question_id":1791610,"body_markdown":"I need to check if an exception is caused by some database problem. I receive an Exception and check if its cause contains the &quot;ORA&quot; string and return that (something like &quot;ORA-00001&quot;). The problem here is that the exception I receive is nested inside other exceptions, so if I don&#39;t find out if it&#39;s an oracle exception, I have to check into the cause of that exception and so on.\r\nIs there a cleaner way to do this? Is there a way to know the first cause (the deep-nested exception) of a given exception?\r\n\r\nMy current code looks like this:\r\n\r\n    private String getErrorOracle(Throwable e){\r\n    \t\tfinal String ORACLE = &quot;ORA&quot;;\r\n    \t\tif (e.getCause() != null &amp;&amp; e.getCause().toString().contains(ORACLE)){\r\n    \t\t\treturn e.getCause().toString();\r\n    \t\t} else if(e.getCause() != null){\r\n    \t\t\treturn getErrorOracle(e.getCause());\r\n    \t\t} else {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n","title":"Java - find the first cause of an exception","body":"<p>I need to check if an exception is caused by some database problem. I receive an Exception and check if its cause contains the \"ORA\" string and return that (something like \"ORA-00001\"). The problem here is that the exception I receive is nested inside other exceptions, so if I don't find out if it's an oracle exception, I have to check into the cause of that exception and so on.\nIs there a cleaner way to do this? Is there a way to know the first cause (the deep-nested exception) of a given exception?</p>\n\n<p>My current code looks like this:</p>\n\n<pre><code>private String getErrorOracle(Throwable e){\n        final String ORACLE = \"ORA\";\n        if (e.getCause() != null &amp;&amp; e.getCause().toString().contains(ORACLE)){\n            return e.getCause().toString();\n        } else if(e.getCause() != null){\n            return getErrorOracle(e.getCause());\n        } else {\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin"],"owner":{"account_id":13143252,"reputation":3927,"user_id":9494140,"accept_rate":100,"display_name":"Ahmed Wagdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675296487,"creation_date":1661437617,"question_id":73489305,"body_markdown":"I&#39;m trying to call a native kotlin code inside my flutter application .. am doing it this way \r\n\r\n**flutter side**\r\n```dart\r\nclass NativeLocationServices {\r\n  static const currentLocationChannel = MethodChannel(&quot;com.deliveryrunner.driver/getCurrentLocation&quot;);\r\n\r\n  getCurrentNativeLocation() async {\r\n      // Either the permission was already granted before or the user just granted it.\r\n      final arguments = {&quot;test&quot;:&quot;it is working&quot;};\r\n      final  currentLocation = await currentLocationChannel.invokeMethod(&quot;currentLocation&quot;,arguments);\r\n      print(currentLocation);\r\n\r\n    }\r\n  }\r\n```\r\n\r\n**kotlin side**\r\n\r\n```kotlin\r\npackage xxxxxx &gt; here are my package name \r\n\r\nimport android.content.*\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport androidx.annotation.NonNull\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugin.common.MethodChannel\r\nimport android.content.Intent\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport android.location.Location\r\n\r\nclass MainActivity : FlutterActivity() {\r\n    private val LOCATION_CHANNEL = &quot;com.deliveryrunner.driver/getCurrentLocation&quot;;\r\n    private lateinit var channel: MethodChannel\r\n    private lateinit var fusedLocationClient: FusedLocationProviderClient\r\n    override fun onCreate(savedInstanceState: Bundle) {\r\n        GeneratedPluginRegistrant.registerWith(this)\r\n        MethodChannel(flutterView, CHANNEL).setMethodCallHandler {\r\n                call, result -&gt;\r\n            if (call.method == &quot;currentLocation&quot;) {\r\n                val arguments = call.arguments() as Map&lt;String, String&gt;\r\n                val test = arguments[&quot;test&quot;]\r\n                fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\r\n                fusedLocationClient.lastLocation\r\n                    .addOnSuccessListener { location: Location? -&gt;\r\n                        // Got last known location. In some rare situations this can be null.\r\n//                        result.success(location)\r\n                        result.success(&quot;got the loation&quot;)\r\n                    }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nbut I am getting this error when I try to run the app \r\n\r\n```\r\ne: D:\\Flutter\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\workmanager-0.4.1\\android\\src\\main\\kotlin\\be\\tramckrijte\\workmanager\\BackgroundWorker.kt: (132, 21): Object is not abstract and does not implement abstract member public abstract fun error(p0: String, p1: String?, p2: Any?): Unit defined in io.flutter.plugin.common.MethodChannel.Result\r\ne: D:\\Flutter\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\workmanager-0.4.1\\android\\src\\main\\kotlin\\be\\tramckrijte\\workmanager\\BackgroundWorker.kt: (137, 25): &#39;error&#39; overrides nothing\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:workmanager:compileDebugKotlin&#39;.\r\n&gt; Compilation error. See log for more details\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 14s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n```","title":"Object is not abstract and does not implement abstract member public abstract fun error in flutter with kotlin native code","body":"<p>I'm trying to call a native kotlin code inside my flutter application .. am doing it this way</p>\n<p><strong>flutter side</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>class NativeLocationServices {\n  static const currentLocationChannel = MethodChannel(&quot;com.deliveryrunner.driver/getCurrentLocation&quot;);\n\n  getCurrentNativeLocation() async {\n      // Either the permission was already granted before or the user just granted it.\n      final arguments = {&quot;test&quot;:&quot;it is working&quot;};\n      final  currentLocation = await currentLocationChannel.invokeMethod(&quot;currentLocation&quot;,arguments);\n      print(currentLocation);\n\n    }\n  }\n</code></pre>\n<p><strong>kotlin side</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package xxxxxx &gt; here are my package name \n\nimport android.content.*\nimport io.flutter.embedding.android.FlutterActivity\nimport androidx.annotation.NonNull\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.MethodChannel\nimport android.content.Intent\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport android.location.Location\n\nclass MainActivity : FlutterActivity() {\n    private val LOCATION_CHANNEL = &quot;com.deliveryrunner.driver/getCurrentLocation&quot;;\n    private lateinit var channel: MethodChannel\n    private lateinit var fusedLocationClient: FusedLocationProviderClient\n    override fun onCreate(savedInstanceState: Bundle) {\n        GeneratedPluginRegistrant.registerWith(this)\n        MethodChannel(flutterView, CHANNEL).setMethodCallHandler {\n                call, result -&gt;\n            if (call.method == &quot;currentLocation&quot;) {\n                val arguments = call.arguments() as Map&lt;String, String&gt;\n                val test = arguments[&quot;test&quot;]\n                fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n                fusedLocationClient.lastLocation\n                    .addOnSuccessListener { location: Location? -&gt;\n                        // Got last known location. In some rare situations this can be null.\n//                        result.success(location)\n                        result.success(&quot;got the loation&quot;)\n                    }\n            }\n        }\n    }\n</code></pre>\n<p>but I am getting this error when I try to run the app</p>\n<pre><code>e: D:\\Flutter\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\workmanager-0.4.1\\android\\src\\main\\kotlin\\be\\tramckrijte\\workmanager\\BackgroundWorker.kt: (132, 21): Object is not abstract and does not implement abstract member public abstract fun error(p0: String, p1: String?, p2: Any?): Unit defined in io.flutter.plugin.common.MethodChannel.Result\ne: D:\\Flutter\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\workmanager-0.4.1\\android\\src\\main\\kotlin\\be\\tramckrijte\\workmanager\\BackgroundWorker.kt: (137, 25): 'error' overrides nothing\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':workmanager:compileDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 14s\nException: Gradle task assembleDebug failed with exit code 1\n\n</code></pre>\n"},{"tags":["java","arrays","generics"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1295456535,"post_id":4737598,"comment_id":5236920,"body_markdown":"(Note, [even if non-`null`] the array could be `String[]` giving `String.class`, but `T` could be `CharSequence`. Both reference arrays and reflection is best avoided.","body":"(Note, [even if non-<code>null</code>] the array could be <code>String[]</code> giving <code>String.class</code>, but <code>T</code> could be <code>CharSequence</code>. Both reference arrays and reflection is best avoided."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1295463515,"post_id":4737598,"comment_id":5238523,"body_markdown":"&quot;reflection is best avoided&quot;: sure, but in my case T is an Enum, and I&#39;m taking in a T[], doing some calculation and returning an EnumMap&lt;&gt; which needs a Class&lt;T&gt; as a constructor parameter.","body":"&quot;reflection is best avoided&quot;: sure, but in my case T is an Enum, and I&#39;m taking in a T[], doing some calculation and returning an EnumMap&lt;&gt; which needs a Class&lt;T&gt; as a constructor parameter."}],"answers":[{"comments":[{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1295453532,"post_id":4737618,"comment_id":5236109,"body_markdown":"cool, thanks. Is there a way I can cast to Class&lt;T&gt; from Class&lt;?&gt; returned by getComponentType() without getting a compiler warning?","body":"cool, thanks. Is there a way I can cast to Class&lt;T&gt; from Class&lt;?&gt; returned by getComponentType() without getting a compiler warning?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1295453730,"post_id":4737618,"comment_id":5236167,"body_markdown":"@Jason S: I don&#39;t think there is a way to do that, because the compiler won&#39;t know what to cast to.","body":"@Jason S: I don&#39;t think there is a way to do that, because the compiler won&#39;t know what to cast to."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1295454165,"post_id":4737618,"comment_id":5236302,"body_markdown":"yes, but `Class&lt;T&gt;` is just `Class` after type erasure, I guess.","body":"yes, but <code>Class&lt;T&gt;</code> is just <code>Class</code> after type erasure, I guess."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1295455365,"post_id":4737618,"comment_id":5236629,"body_markdown":"sure, I understand the runtime issue, but the whole point of generics is that the compiler knows at compile time what types things are before the erasure step.","body":"sure, I understand the runtime issue, but the whole point of generics is that the compiler knows at compile time what types things are before the erasure step."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1295458536,"post_id":4737618,"comment_id":5237417,"body_markdown":"ahhhhhh... cool, thanks for the detailed discussion and the counterexample. I forgot arrays are covariant (? did I get the vocab right) so that a String[] is also an Object[]. lots of +1&#39;s....","body":"ahhhhhh... cool, thanks for the detailed discussion and the counterexample. I forgot arrays are covariant (? did I get the vocab right) so that a String[] is also an Object[]. lots of +1&#39;s...."},{"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"score":0,"creation_date":1422018645,"post_id":4737618,"comment_id":44595013,"body_markdown":"can you get array length somehow? if you do not have access to the original object?","body":"can you get array length somehow? if you do not have access to the original object?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1422023962,"post_id":4737618,"comment_id":44598135,"body_markdown":"@voho unfortunately not without knowing whether it&#39;s a primitive or object array. Because you need to cast it to the array type and do arr.length on that","body":"@voho unfortunately not without knowing whether it&#39;s a primitive or object array. Because you need to cast it to the array type and do arr.length on that"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":7,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1295590005,"creation_date":1295453375,"answer_id":4737618,"question_id":4737598,"body_markdown":"Component Type\r\n--------------\r\n\r\nUse this:\r\n\r\n    array.getClass().getComponentType()\r\n\r\n&gt; Returns the `Class` representing the\r\n&gt; component type of an array. If this\r\n&gt; class does not represent an array\r\n&gt; class this method returns `null`.\r\n\r\n\r\n**Reference:**\r\n\r\n - [`Class.getComponentType()`][1]\r\n\r\n\r\n----------\r\n\r\nSafe / Unsafe casting\r\n---------------------\r\n\r\n&gt; Is there a way I can cast to Class&lt;T&gt;\r\n&gt; from Class&lt;?&gt; returned by\r\n&gt; getComponentType() without getting a\r\n&gt; compiler warning?\r\n\r\ntake this method:\r\n\r\n    public &lt;T&gt; void doSomething(final T[] array) throws Exception{\r\n        final Class&lt;? extends Object[]&gt; arrayClass = array.getClass();\r\n        final Class&lt;?&gt; componentType = arrayClass.getComponentType();\r\n        final T newInstance = (T) componentType.newInstance();\r\n    }\r\n\r\nHere&#39;s the generated byte code:\r\n\r\n    public void doSomething(java.lang.Object[] array) throws java.lang.Exception;\r\n         0  aload_1 [array]\r\n         1  invokevirtual java.lang.Object.getClass() : java.lang.Class [21]\r\n         4  astore_2 [arrayClass]\r\n         5  aload_2 [arrayClass]\r\n         6  invokevirtual java.lang.Class.getComponentType() : java.lang.Class [25]\r\n         9  astore_3 [componentType]\r\n        10  aload_3 [componentType]\r\n        11  invokevirtual java.lang.Class.newInstance() : java.lang.Object [30]\r\n        14  astore 4 [newInstance]\r\n        16  return\r\n\r\nAs you can see, the parameter type is erased to Object[], so the compiler has no way to know what T is. Yes, the compiler could use `array.getClass().getComponentType()`, but that would sometimes fail miserably because you can do stuff like this:\r\n\r\n    Object[] arr = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\r\n    Integer[] integerArray = (Integer[]) arr;\r\n    doSomething(integerArray);\r\n\r\n(In this case `array.getClass().getComponentType()` returns `String.class`, but `T` stands for `Integer`. Yes, this is legal and does not generate compiler warnings.)\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getComponentType%28%29\r\n","title":"Getting the class of the components of an array","body":"<h2>Component Type</h2>\n\n<p>Use this:</p>\n\n<pre><code>array.getClass().getComponentType()\n</code></pre>\n\n<blockquote>\n  <p>Returns the <code>Class</code> representing the\n  component type of an array. If this\n  class does not represent an array\n  class this method returns <code>null</code>.</p>\n</blockquote>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getComponentType%28%29\" rel=\"noreferrer\"><code>Class.getComponentType()</code></a></li>\n</ul>\n\n<hr>\n\n<h2>Safe / Unsafe casting</h2>\n\n<blockquote>\n  <p>Is there a way I can cast to Class\n  from Class returned by\n  getComponentType() without getting a\n  compiler warning?</p>\n</blockquote>\n\n<p>take this method:</p>\n\n<pre><code>public &lt;T&gt; void doSomething(final T[] array) throws Exception{\n    final Class&lt;? extends Object[]&gt; arrayClass = array.getClass();\n    final Class&lt;?&gt; componentType = arrayClass.getComponentType();\n    final T newInstance = (T) componentType.newInstance();\n}\n</code></pre>\n\n<p>Here's the generated byte code:</p>\n\n<pre><code>public void doSomething(java.lang.Object[] array) throws java.lang.Exception;\n     0  aload_1 [array]\n     1  invokevirtual java.lang.Object.getClass() : java.lang.Class [21]\n     4  astore_2 [arrayClass]\n     5  aload_2 [arrayClass]\n     6  invokevirtual java.lang.Class.getComponentType() : java.lang.Class [25]\n     9  astore_3 [componentType]\n    10  aload_3 [componentType]\n    11  invokevirtual java.lang.Class.newInstance() : java.lang.Object [30]\n    14  astore 4 [newInstance]\n    16  return\n</code></pre>\n\n<p>As you can see, the parameter type is erased to Object[], so the compiler has no way to know what T is. Yes, the compiler could use <code>array.getClass().getComponentType()</code>, but that would sometimes fail miserably because you can do stuff like this:</p>\n\n<pre><code>Object[] arr = new String[] { \"a\", \"b\", \"c\" };\nInteger[] integerArray = (Integer[]) arr;\ndoSomething(integerArray);\n</code></pre>\n\n<p>(In this case <code>array.getClass().getComponentType()</code> returns <code>String.class</code>, but <code>T</code> stands for <code>Integer</code>. Yes, this is legal and does not generate compiler warnings.)</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652879692,"creation_date":1552082688,"answer_id":55071628,"question_id":4737598,"body_markdown":"If you want to do this for multi-dimensional arrays the following recursive code will work\r\n```\r\npublic static Class&lt;?&gt; getArrayType(Object array) {\r\n    Object element = Array.get(array, 0);\r\n    if (element.getClass().isArray()) {\r\n        return getArrayType(element);\r\n    } else {\r\n        return array.getClass().getComponentType();\r\n    }\r\n}\r\n```","title":"Getting the class of the components of an array","body":"<p>If you want to do this for multi-dimensional arrays the following recursive code will work</p>\n<pre><code>public static Class&lt;?&gt; getArrayType(Object array) {\n    Object element = Array.get(array, 0);\n    if (element.getClass().isArray()) {\n        return getArrayType(element);\n    } else {\n        return array.getClass().getComponentType();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1675296955,"post_id":75317447,"comment_id":132901017,"body_markdown":"Now try writing a method `&lt;T&gt; T get() { return coalesce(); }` and calling it like `String s = get();`. [Oops.](https://ideone.com/8Im2NB)","body":"Now try writing a method <code>&lt;T&gt; T get() { return coalesce(); }</code> and calling it like <code>String s = get();</code>. <a href=\"https://ideone.com/8Im2NB\" rel=\"nofollow noreferrer\">Oops.</a>"}],"tags":[],"owner":{"account_id":5221036,"reputation":1,"user_id":4174506,"display_name":"Bonifacio Vel&#225;zquez B&#225;rcenas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675296068,"creation_date":1675296068,"answer_id":75317447,"question_id":4737598,"body_markdown":"Maybe an old thread, but I would like to share a tested version I did with all your recomendations:\r\n\r\n```\r\n    @NotNull\r\n    @SafeVarargs\r\n    public static &lt;T&gt; T coalesce(@NotNull T ... args) {\r\n        for(T i : args) {\r\n        \tif(i != null) {\r\n        \t\treturn i;\r\n        \t}\r\n        }\r\n        T newInstance = null;\r\n        try {\r\n    \t    final Class&lt;? extends Object[]&gt; arrayClass = args.getClass();\r\n    \t    final Class&lt;?&gt; componentType = arrayClass.getComponentType();\r\n    \t    newInstance = (T) componentType.newInstance();\r\n        }catch(Exception e) {\r\n        \te.printStackTrace();\r\n        }\r\n        return newInstance;\r\n    }\r\n```\r\n\r\nHope will be usefull to you!\r\n\r\nBest regards!","title":"Getting the class of the components of an array","body":"<p>Maybe an old thread, but I would like to share a tested version I did with all your recomendations:</p>\n<pre><code>    @NotNull\n    @SafeVarargs\n    public static &lt;T&gt; T coalesce(@NotNull T ... args) {\n        for(T i : args) {\n            if(i != null) {\n                return i;\n            }\n        }\n        T newInstance = null;\n        try {\n            final Class&lt;? extends Object[]&gt; arrayClass = args.getClass();\n            final Class&lt;?&gt; componentType = arrayClass.getComponentType();\n            newInstance = (T) componentType.newInstance();\n        }catch(Exception e) {\n            e.printStackTrace();\n        }\n        return newInstance;\n    }\n</code></pre>\n<p>Hope will be usefull to you!</p>\n<p>Best regards!</p>\n"}],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23959,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":4737618,"answer_count":3,"score":34,"last_activity_date":1675296068,"creation_date":1295453298,"question_id":4737598,"body_markdown":"If I have\r\n\r\n    public &lt;T&gt; doSomething(T[] array)\r\n    {\r\n    }\r\n\r\nhow can I get `T.class` from `array`? \r\n\r\nIf I do `array.getClass()` that gets me `T[].class` instead.","title":"Getting the class of the components of an array","body":"<p>If I have</p>\n\n<pre><code>public &lt;T&gt; doSomething(T[] array)\n{\n}\n</code></pre>\n\n<p>how can I get <code>T.class</code> from <code>array</code>? </p>\n\n<p>If I do <code>array.getClass()</code> that gets me <code>T[].class</code> instead.</p>\n"},{"tags":["java","data-structures","sparse-array","bitvector"],"comments":[{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":0,"creation_date":1276550931,"post_id":3040864,"comment_id":3111601,"body_markdown":"Do you know how sparse?, and which operations you are interested in (union, intersect, and, or)?  BitSet seemed not to specify an implementation (but proably isn&#39;t too bad).","body":"Do you know how sparse?, and which operations you are interested in (union, intersect, and, or)?  BitSet seemed not to specify an implementation (but proably isn&#39;t too bad)."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1276553972,"post_id":3040864,"comment_id":3111917,"body_markdown":"unfortunately not very sparse (perhaps 20-40% at the sparsest, could be non-sparse for certain inputs)","body":"unfortunately not very sparse (perhaps 20-40% at the sparsest, could be non-sparse for certain inputs)"},{"owner":{"account_id":11817,"reputation":16579,"user_id":22979,"accept_rate":66,"display_name":"benjismith"},"score":0,"creation_date":1276555202,"post_id":3040864,"comment_id":3112039,"body_markdown":"Do you need to do any fancy linear algebra with those vectors, or do you just need insert/remove/check functionality?","body":"Do you need to do any fancy linear algebra with those vectors, or do you just need insert/remove/check functionality?"}],"answers":[{"tags":[],"owner":{"account_id":142544,"reputation":1969,"user_id":350317,"accept_rate":100,"display_name":"gilesc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276549181,"creation_date":1276549181,"answer_id":3040877,"question_id":3040864,"body_markdown":"CERN COLT is widely used for vector and matrix computation, and has sparse matrices, but isn&#39;t specifically used for bit vectors.\r\n\r\nhttp://acs.lbl.gov/software/colt/api/cern/colt/matrix/impl/SparseObjectMatrix1D.html","title":"java: sparse bit vector","body":"<p>CERN COLT is widely used for vector and matrix computation, and has sparse matrices, but isn't specifically used for bit vectors.</p>\n\n<p><a href=\"http://acs.lbl.gov/software/colt/api/cern/colt/matrix/impl/SparseObjectMatrix1D.html\" rel=\"nofollow noreferrer\">http://acs.lbl.gov/software/colt/api/cern/colt/matrix/impl/SparseObjectMatrix1D.html</a></p>\n"},{"comments":[{"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"score":0,"creation_date":1276581532,"post_id":3040910,"comment_id":3113560,"body_markdown":"`java.util.BitSet` stores 64 bit values per element in it&#39;s long array. It does not use 8-bits (boolean) to actually store those values.","body":"<code>java.util.BitSet</code> stores 64 bit values per element in it&#39;s long array. It does not use 8-bits (boolean) to actually store those values."},{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":0,"creation_date":1276581829,"post_id":3040910,"comment_id":3113583,"body_markdown":"@Kevin - thanks for that - I was thinking of a `boolean[]`. java.util.BitSet is based on `long[]`. Post updated.","body":"@Kevin - thanks for that - I was thinking of a <code>boolean[]</code>. java.util.BitSet is based on <code>long[]</code>. Post updated."}],"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1276581863,"creation_date":1276549462,"answer_id":3040910,"question_id":3040864,"body_markdown":"The [colt library][1] has sparse matrices (1D, 2D and 3D). It also has an efficient BitVector, with 1 bit per value, rather than 8-bits as `boolean[]` does.\r\n\r\nHowever, the sparse matrices do not support bits directly - only doubles and objects. You could wrap the 1D sparse double matrix by maping bit index to long indices `(bitIndex&gt;&gt;6)` since each long holds 64 bits, [convert][2] the retrieved double to a raw long value, and use bit manipulation to access the bits of the retrieved long. A little work, but nowhere near as much as implementing the sparse vector yourself. Once your wrapper is working, you might avoid converting doubles to longs, and implement a real sparse long 1d matrix using the available Colt source code for the double 1D sparse matrix as a starting point.\r\n\r\nEDIT: More info. The Colt vectors/matrices require no memory initially for storage, assuming all bits (longs) are initially 0. Setting a value to non-zero consumes memory. Setting the value back to 0 continues to consume memory, although memory for zero values is reclaimed periodically. \r\n\r\nIf the bits are truly sparse, such that each backing long value only has one bit set, then the storage overhead will be very poor, requiring 64-bits per actual bit stored. But as you mention typical case is 20-40% sparse, then the overhead will be much lower, with possibly no wasted storage if bits are clustered in ranges, e.g. bits from 0-100, then 1000-1100, and 2000-2200 (values in hex.) Overall, only 1/16 of the region is assigned to bits, but the clustering means that the bits are stored with no wasted space. \r\n\r\n\r\n  [1]: http://acs.lbl.gov/software/colt/api/index.html\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Double.html#doubleToRawLongBits(double)","title":"java: sparse bit vector","body":"<p>The <a href=\"http://acs.lbl.gov/software/colt/api/index.html\" rel=\"nofollow noreferrer\">colt library</a> has sparse matrices (1D, 2D and 3D). It also has an efficient BitVector, with 1 bit per value, rather than 8-bits as <code>boolean[]</code> does.</p>\n\n<p>However, the sparse matrices do not support bits directly - only doubles and objects. You could wrap the 1D sparse double matrix by maping bit index to long indices <code>(bitIndex&gt;&gt;6)</code> since each long holds 64 bits, <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Double.html#doubleToRawLongBits(double)\" rel=\"nofollow noreferrer\">convert</a> the retrieved double to a raw long value, and use bit manipulation to access the bits of the retrieved long. A little work, but nowhere near as much as implementing the sparse vector yourself. Once your wrapper is working, you might avoid converting doubles to longs, and implement a real sparse long 1d matrix using the available Colt source code for the double 1D sparse matrix as a starting point.</p>\n\n<p>EDIT: More info. The Colt vectors/matrices require no memory initially for storage, assuming all bits (longs) are initially 0. Setting a value to non-zero consumes memory. Setting the value back to 0 continues to consume memory, although memory for zero values is reclaimed periodically. </p>\n\n<p>If the bits are truly sparse, such that each backing long value only has one bit set, then the storage overhead will be very poor, requiring 64-bits per actual bit stored. But as you mention typical case is 20-40% sparse, then the overhead will be much lower, with possibly no wasted storage if bits are clustered in ranges, e.g. bits from 0-100, then 1000-1100, and 2000-2200 (values in hex.) Overall, only 1/16 of the region is assigned to bits, but the clustering means that the bits are stored with no wasted space. </p>\n"},{"comments":[{"owner":{"account_id":191037,"reputation":10804,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"score":0,"creation_date":1390351286,"post_id":3040969,"comment_id":32051793,"body_markdown":"This answer is not incorrect, but for a much more scalable solution see my answer below.","body":"This answer is not incorrect, but for a much more scalable solution see my answer below."}],"tags":[],"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276549845,"creation_date":1276549845,"answer_id":3040969,"question_id":3040864,"body_markdown":"If its really sparse (e.g., less than 1% loading), then using a hash table indexed by bit index is probably pretty good; mere presence or absence of the index in the table is all you need to know if the bit is one or zero respectively. \r\n\r\nIf the density is upwards of a few percent, you can use a hash table indexed by bit index divided by 64, and store **long** words in the hash table containing actual bits.   Bit *N* is set if the hash table contains value *V* for *int(N/64)* and *(V&gt;&gt;(N mod 64))&amp;1* is true.\r\n\r\nBoth of these answers assume you want to optimize random access to bits.  If you want to optimize sequential (or other access) to bits by index, then you may want a sparse matrix structure, using the same kind of low-level bit vector representation depending on expected density.  See &lt;a href=&quot;http://en.wikipedia.org/wiki/Sparse_matrix&quot;&gt;Sparse Matrices&lt;/a&gt;","title":"java: sparse bit vector","body":"<p>If its really sparse (e.g., less than 1% loading), then using a hash table indexed by bit index is probably pretty good; mere presence or absence of the index in the table is all you need to know if the bit is one or zero respectively. </p>\n\n<p>If the density is upwards of a few percent, you can use a hash table indexed by bit index divided by 64, and store <strong>long</strong> words in the hash table containing actual bits.   Bit <em>N</em> is set if the hash table contains value <em>V</em> for <em>int(N/64)</em> and <em>(V>>(N mod 64))&amp;1</em> is true.</p>\n\n<p>Both of these answers assume you want to optimize random access to bits.  If you want to optimize sequential (or other access) to bits by index, then you may want a sparse matrix structure, using the same kind of low-level bit vector representation depending on expected density.  See <a href=\"http://en.wikipedia.org/wiki/Sparse_matrix\" rel=\"noreferrer\">Sparse Matrices</a></p>\n"},{"comments":[{"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"score":1,"creation_date":1276550408,"post_id":3040987,"comment_id":3111520,"body_markdown":"Yes, but a lot of FastUtil&#39;s datastructures aren&#39;t fast. And some of them have horrible garbage problems! ;-)","body":"Yes, but a lot of FastUtil&#39;s datastructures aren&#39;t fast. And some of them have horrible garbage problems! ;-)"}],"tags":[],"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276549990,"creation_date":1276549990,"answer_id":3040987,"question_id":3040864,"body_markdown":"You could try [FastUtil&#39;s AVL Tree Map][1].  \r\n\r\n\r\n  [1]: http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/Long2BooleanAVLTreeMap.html","title":"java: sparse bit vector","body":"<p>You could try <a href=\"http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/Long2BooleanAVLTreeMap.html\" rel=\"nofollow noreferrer\">FastUtil's AVL Tree Map</a>.  </p>\n"},{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1276550518,"creation_date":1276550518,"answer_id":3041045,"question_id":3040864,"body_markdown":"A hash table where the mere presence or absence of the key tells you something? That would be a hash set then! I&#39;m skeptical of the performance of a set (even a hashed one) over the BitSet. It really depends on whether speed or memory is the primary driver.","title":"java: sparse bit vector","body":"<p>A hash table where the mere presence or absence of the key tells you something? That would be a hash set then! I'm skeptical of the performance of a set (even a hashed one) over the BitSet. It really depends on whether speed or memory is the primary driver.</p>\n"},{"comments":[{"owner":{"account_id":191037,"reputation":10804,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"score":2,"creation_date":1362361724,"post_id":8335923,"comment_id":21407339,"body_markdown":"I have preserved the code and presentation here:\nhttps://github.com/brettwooldridge/SparseBitSet","body":"I have preserved the code and presentation here: <a href=\"https://github.com/brettwooldridge/SparseBitSet\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/SparseBitSet</a>"},{"owner":{"account_id":348408,"reputation":45191,"user_id":683080,"display_name":"John Szakmeister"},"score":0,"creation_date":1390341540,"post_id":8335923,"comment_id":32047943,"body_markdown":"Thanks @brettw.  This was an extremely helpful answer.","body":"Thanks @brettw.  This was an extremely helpful answer."}],"tags":[],"owner":{"account_id":191037,"reputation":10804,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1390351178,"creation_date":1322706982,"answer_id":8335923,"question_id":3040864,"body_markdown":"TL;DR go here [Efficient Sparse BitSet implementation in Java][1]\r\n\r\nI know this is an &quot;old&quot; question, but having the same question I stumbled across this post.  While the answers are good, I was ultimately not satisfied.  After further digging, I think I&#39;ve come across the &quot;definitive&quot; answer to the question of sparse BitSets in Java.\r\n\r\nIn [this presentation][2] the author, Dr. Bruce Haddon, discusses the efforts of his researchers to create a highly memory-efficient and high-performance replacement for the standard Java BitSet.\r\n\r\nThe original links to his presentation are dead, but I contacted Dr. Haddon and have preserved both the code and presentation here:\r\n\r\nhttps://github.com/brettwooldridge/SparseBitSet\r\n\r\nI cannot recommend reading this presentation more highly. It is a fascinating read even if you have no interest in sparse bit sets, it is more about the true nature of problem solving...\r\n\r\n[Slides: Is it Computer Science, Software Engineering, or Hacking?][2]\r\n\r\n  [1]: https://github.com/brettwooldridge/SparseBitSet\r\n  [2]: https://github.com/brettwooldridge/SparseBitSet/blob/master/SparseBitSet.pdf?raw=true\r\n","title":"java: sparse bit vector","body":"<p>TL;DR go here <a href=\"https://github.com/brettwooldridge/SparseBitSet\" rel=\"noreferrer\">Efficient Sparse BitSet implementation in Java</a></p>\n\n<p>I know this is an \"old\" question, but having the same question I stumbled across this post.  While the answers are good, I was ultimately not satisfied.  After further digging, I think I've come across the \"definitive\" answer to the question of sparse BitSets in Java.</p>\n\n<p>In <a href=\"https://github.com/brettwooldridge/SparseBitSet/blob/master/SparseBitSet.pdf?raw=true\" rel=\"noreferrer\">this presentation</a> the author, Dr. Bruce Haddon, discusses the efforts of his researchers to create a highly memory-efficient and high-performance replacement for the standard Java BitSet.</p>\n\n<p>The original links to his presentation are dead, but I contacted Dr. Haddon and have preserved both the code and presentation here:</p>\n\n<p><a href=\"https://github.com/brettwooldridge/SparseBitSet\" rel=\"noreferrer\">https://github.com/brettwooldridge/SparseBitSet</a></p>\n\n<p>I cannot recommend reading this presentation more highly. It is a fascinating read even if you have no interest in sparse bit sets, it is more about the true nature of problem solving...</p>\n\n<p><a href=\"https://github.com/brettwooldridge/SparseBitSet/blob/master/SparseBitSet.pdf?raw=true\" rel=\"noreferrer\">Slides: Is it Computer Science, Software Engineering, or Hacking?</a></p>\n"},{"tags":[],"owner":{"account_id":27607,"reputation":3480,"user_id":73007,"display_name":"Daniel Lemire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379342496,"creation_date":1379342496,"answer_id":18830780,"question_id":3040864,"body_markdown":"You could try the JavaEWAH library.\r\n\r\nhttps://code.google.com/p/javaewah/\r\n\r\nDepending on your problem it may be a good fit.\r\n\r\n(It is used by Apache Hive and others.)","title":"java: sparse bit vector","body":"<p>You could try the JavaEWAH library.</p>\n\n<p><a href=\"https://code.google.com/p/javaewah/\" rel=\"nofollow\">https://code.google.com/p/javaewah/</a></p>\n\n<p>Depending on your problem it may be a good fit.</p>\n\n<p>(It is used by Apache Hive and others.)</p>\n"},{"tags":[],"owner":{"account_id":206373,"reputation":7959,"user_id":455615,"accept_rate":67,"display_name":"Alex Cruise"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675294591,"creation_date":1675294591,"answer_id":75317300,"question_id":3040864,"body_markdown":"Very late to the party here, but this question has pretty high PageRank. [Roaring Bitmap](https://roaringbitmap.org/) has eaten a lot of these use cases.","title":"java: sparse bit vector","body":"<p>Very late to the party here, but this question has pretty high PageRank. <a href=\"https://roaringbitmap.org/\" rel=\"nofollow noreferrer\">Roaring Bitmap</a> has eaten a lot of these use cases.</p>\n"}],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6134,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"closed_date":1675310700,"accepted_answer_id":3040910,"answer_count":8,"score":10,"last_activity_date":1675294591,"creation_date":1276549022,"question_id":3040864,"body_markdown":"Are there any well-known libraries in Java for sparse bit vectors?\r\n\r\n(And are there guidelines for how sparse is useful to use them vs. [java.util.BitSet][1]?)\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/BitSet.html","title":"java: sparse bit vector","body":"<p>Are there any well-known libraries in Java for sparse bit vectors?</p>\n\n<p>(And are there guidelines for how sparse is useful to use them vs. <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/BitSet.html\" rel=\"noreferrer\">java.util.BitSet</a>?)</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":1424245,"reputation":272193,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"score":1,"creation_date":1416181015,"post_id":26963361,"comment_id":42464680,"body_markdown":"It&#39;s blocked, it&#39;s waiting for the OS to wake it for I/O.","body":"It&#39;s blocked, it&#39;s waiting for the OS to wake it for I/O."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1416233333,"post_id":26963361,"comment_id":42484058,"body_markdown":"Re &quot;RUNNABLE is the state a thread is executing on JVM&quot;, True when you&#39;re talking about the Java library&#39;s Thread.getState(), but just in case you&#39;re interested; in the nomenclature of many operating systems, &quot;runnable&quot; means that the thread is _not_ &quot;running&quot; because it is waiting for an available CPU to run on.","body":"Re &quot;RUNNABLE is the state a thread is executing on JVM&quot;, True when you&#39;re talking about the Java library&#39;s Thread.getState(), but just in case you&#39;re interested; in the nomenclature of many operating systems, &quot;runnable&quot; means that the thread is <i>not</i> &quot;running&quot; because it is waiting for an available CPU to run on."}],"answers":[{"comments":[{"owner":{"account_id":2939648,"reputation":4861,"user_id":2517838,"accept_rate":56,"display_name":"Roam"},"score":1,"creation_date":1416181555,"post_id":26963416,"comment_id":42464805,"body_markdown":"thx for the useful ans. read WAITING only- passed on TIMED_WAITING all along.","body":"thx for the useful ans. read WAITING only- passed on TIMED_WAITING all along."},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1495772135,"post_id":26963416,"comment_id":75400530,"body_markdown":"exactly similar thing happened with me and it got me here at this question.","body":"exactly similar thing happened with me and it got me here at this question."}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1416181169,"creation_date":1416181169,"answer_id":26963416,"question_id":26963361,"body_markdown":"The Javadoc of Thead.State.TIMED_WAITING [reads](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.State.html#TIMED_WAITING):\n\n&gt; Thread state for a waiting thread with a specified waiting time. A thread is in the timed waiting state due to calling one of the following methods with a specified positive waiting time:\n&gt;\n&gt; * `Thread.sleep`\n&gt; * `Object.wait` with timeout\n&gt; * `Thread.join` with timeout\n&gt; * `LockSupport.parkNanos`\n&gt; * `LockSupport.parkUntil`\n\nAnd indeed, the following test program prints TIMED_WAITING:\n\n    public class Test {\n        public static void main(String[] args) throws Exception {\n            Thread t = new Thread() {\n                public void run() {\n                    try {\n                        Thread.sleep(10000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                };\n            };\n            t.start();\n            Thread.sleep(100); // make sure the other thread has started\n            System.out.println(t.getState());\n        }\n    }","title":"What state is a sleeping thread in?","body":"<p>The Javadoc of Thead.State.TIMED_WAITING <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.State.html#TIMED_WAITING\" rel=\"noreferrer\">reads</a>:</p>\n<blockquote>\n<p>Thread state for a waiting thread with a specified waiting time. A thread is in the timed waiting state due to calling one of the following methods with a specified positive waiting time:</p>\n<ul>\n<li><code>Thread.sleep</code></li>\n<li><code>Object.wait</code> with timeout</li>\n<li><code>Thread.join</code> with timeout</li>\n<li><code>LockSupport.parkNanos</code></li>\n<li><code>LockSupport.parkUntil</code></li>\n</ul>\n</blockquote>\n<p>And indeed, the following test program prints TIMED_WAITING:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) throws Exception {\n        Thread t = new Thread() {\n            public void run() {\n                try {\n                    Thread.sleep(10000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            };\n        };\n        t.start();\n        Thread.sleep(100); // make sure the other thread has started\n        System.out.println(t.getState());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675294677,"post_id":75317267,"comment_id":132900660,"body_markdown":"You are misleading yourself.  Some of the getState calls on t1 are being made by the thread itself.  Those calls will happen when the thread is running and they will show RUNNABLE ... obviously.","body":"You are misleading yourself.  Some of the getState calls on t1 are being made by the thread itself.  Those calls will happen when the thread is running and they will show RUNNABLE ... obviously."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675433663,"post_id":75317267,"comment_id":132933757,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75317267/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27680231,"reputation":1,"user_id":21129151,"display_name":"jaminyah"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675294232,"creation_date":1675294232,"answer_id":75317267,"question_id":26963361,"body_markdown":"My code shows both TIMED_WAITING AND RUNNABLE thread states. Below are classes SimpleThread.java and Concurrent.java. Compile at the command line with, javac Concurrent.java SimpleThread.java. Run with, java Concurrent\r\n\r\n### SimpleThread.java\r\n\r\n``` \r\nclass SimpleThread extends Thread {\r\n    \r\n    private int id;\r\n    \r\n    // class constructor\r\n    public SimpleThread(int id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    // function to be executed by thread\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Thread &quot; + id + &quot; is running.&quot;);\r\n        System.out.println(&quot;t&quot; + id + &quot; thread name: &quot; + Thread.currentThread().getName());\r\n        \r\n        // interrupt the thread for 2 second (2000 ms)\r\n        try {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(&quot;t&quot; + id + &quot; tick - &quot; + i);\r\n                Thread.sleep(2000);\r\n                System.out.println(&quot;t&quot; + id + &quot; &quot; + this.getState());\r\n            }\r\n        } catch(InterruptedException e){\r\n            System.out.println(&quot;Thread &quot; + id + &quot; is sleeping.&quot;);\r\n        }\r\n        \r\n        System.out.println(&quot;Thread &quot; + id + &quot; execution is complete.&quot;);\r\n    }\r\n}\r\n\r\n```\r\n### Concurrent.java\r\n\r\n```\r\nclass Concurrent {\r\n    public static void main(String[] args) {\r\n    \r\n        SimpleThread t1 = new SimpleThread(1);\r\n        SimpleThread t2 = new SimpleThread(2);\r\n        \r\n        // thread state before it is started\r\n        System.out.println(&quot;t1 thread state: &quot; + t1.getState());\r\n        System.out.println(&quot;t2 thread state: &quot; + t2.getState());\r\n        \r\n        // execute thread run method\r\n        t1.start();\r\n        t2.start();\r\n        \r\n        // put t1 to sleep for 1 second\r\n        try {\r\n            t1.sleep(1000);\r\n            System.out.println(&quot;t1 thread state &quot; + t1.getState());\r\n        } catch(InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        // finish all threads before returning to the main thread.\r\n        try {\r\n            t1.join();\r\n            t2.join();      \r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n \r\n        System.out.println(&quot;t1 thread state: &quot; + t1.getState());\r\n        System.out.println(&quot;t2 thread state: &quot; + t2.getState());\r\n    }\r\n}\r\n```\r\n\r\n### Program Output\r\n&lt;pre&gt;1 thread state: NEW\r\nt2 thread state: NEW\r\nThread 1 is running.\r\nThread 2 is running.\r\nt2 thread name: Thread-1\r\nt1 thread name: Thread-0\r\nt2 tick - 0\r\nt1 tick - 0\r\nt1 thread state TIMED_WAITING\r\nt1 RUNNABLE\r\nt1 tick - 1\r\nt2 RUNNABLE\r\nt2 tick - 1\r\nt1 RUNNABLE\r\nt1 tick - 2\r\nt2 RUNNABLE\r\nt2 tick - 2\r\nt1 RUNNABLE\r\nt2 RUNNABLE\r\nThread 1 execution is complete.\r\nThread 2 execution is complete.\r\nt1 thread state: TERMINATED\r\nt2 thread state: TERMINATED\r\n&lt;/pre&gt;\r\n","title":"What state is a sleeping thread in?","body":"<p>My code shows both TIMED_WAITING AND RUNNABLE thread states. Below are classes SimpleThread.java and Concurrent.java. Compile at the command line with, javac Concurrent.java SimpleThread.java. Run with, java Concurrent</p>\n<h3>SimpleThread.java</h3>\n<pre><code>class SimpleThread extends Thread {\n    \n    private int id;\n    \n    // class constructor\n    public SimpleThread(int id) {\n        this.id = id;\n    }\n    \n    // function to be executed by thread\n    @Override\n    public void run() {\n        System.out.println(&quot;Thread &quot; + id + &quot; is running.&quot;);\n        System.out.println(&quot;t&quot; + id + &quot; thread name: &quot; + Thread.currentThread().getName());\n        \n        // interrupt the thread for 2 second (2000 ms)\n        try {\n            for (int i = 0; i &lt; 5; i++) {\n                System.out.println(&quot;t&quot; + id + &quot; tick - &quot; + i);\n                Thread.sleep(2000);\n                System.out.println(&quot;t&quot; + id + &quot; &quot; + this.getState());\n            }\n        } catch(InterruptedException e){\n            System.out.println(&quot;Thread &quot; + id + &quot; is sleeping.&quot;);\n        }\n        \n        System.out.println(&quot;Thread &quot; + id + &quot; execution is complete.&quot;);\n    }\n}\n\n</code></pre>\n<h3>Concurrent.java</h3>\n<pre><code>class Concurrent {\n    public static void main(String[] args) {\n    \n        SimpleThread t1 = new SimpleThread(1);\n        SimpleThread t2 = new SimpleThread(2);\n        \n        // thread state before it is started\n        System.out.println(&quot;t1 thread state: &quot; + t1.getState());\n        System.out.println(&quot;t2 thread state: &quot; + t2.getState());\n        \n        // execute thread run method\n        t1.start();\n        t2.start();\n        \n        // put t1 to sleep for 1 second\n        try {\n            t1.sleep(1000);\n            System.out.println(&quot;t1 thread state &quot; + t1.getState());\n        } catch(InterruptedException e) {\n            e.printStackTrace();\n        }\n        \n        // finish all threads before returning to the main thread.\n        try {\n            t1.join();\n            t2.join();      \n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n \n        System.out.println(&quot;t1 thread state: &quot; + t1.getState());\n        System.out.println(&quot;t2 thread state: &quot; + t2.getState());\n    }\n}\n</code></pre>\n<h3>Program Output</h3>\n<pre>1 thread state: NEW\nt2 thread state: NEW\nThread 1 is running.\nThread 2 is running.\nt2 thread name: Thread-1\nt1 thread name: Thread-0\nt2 tick - 0\nt1 tick - 0\nt1 thread state TIMED_WAITING\nt1 RUNNABLE\nt1 tick - 1\nt2 RUNNABLE\nt2 tick - 1\nt1 RUNNABLE\nt1 tick - 2\nt2 RUNNABLE\nt2 tick - 2\nt1 RUNNABLE\nt2 RUNNABLE\nThread 1 execution is complete.\nThread 2 execution is complete.\nt1 thread state: TERMINATED\nt2 thread state: TERMINATED\n</pre>\n"}],"owner":{"account_id":2939648,"reputation":4861,"user_id":2517838,"accept_rate":56,"display_name":"Roam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5779,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26963416,"answer_count":2,"score":5,"last_activity_date":1675294232,"creation_date":1416180676,"question_id":26963361,"body_markdown":"I&#39;m looking for verification/arguments on the following: \r\n\r\nA thread is in exactly one of the 5 (+1 -- 2 for `WAITING`) [states][1] at any point of time.  \r\n\r\nSuppose a thread `T` calls \r\n\r\n&gt; Thread.sleep(3000);\r\n\r\nand thus puts itself into sleep for 3 secs. \r\n\r\nWhich state is it in during those 3 secs?\r\n\r\nIt&#39;s clearly `start()`-ed and is still alive, thus is neither `NEW` nor `TERMINATED`. \r\n\r\nIt isn&#39;t waiting on any lock. in fact, it hasn&#39;t released any of the locks it had just before this call, so it isn&#39;t `BLOCKED`. \r\n\r\nIt&#39;s not waiting on another thread. Is waiting on itself in some sense-- but that&#39;s not the specification of the `WAITING` state. What gets a thread into a `WAITING` state is one of the calls: `Object.wait()`, `Thread.join()` and `LockSupport.park()`. \r\n\r\nSo it should be `RUNNABLE` -- the only one left out among the thread states. \r\nHowever, `RUNNABLE` is the state a thread is executing on JVM-- is enabled for CPU time and thus for burning resources. \r\nA sleeping thread being on CPU schedule seems contradictory. \r\n\r\nAm i missing anything here?\r\n\r\nTIA. \r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html\r\n","title":"What state is a sleeping thread in?","body":"<p>I'm looking for verification/arguments on the following: </p>\n\n<p>A thread is in exactly one of the 5 (+1 -- 2 for <code>WAITING</code>) <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html\" rel=\"noreferrer\">states</a> at any point of time.  </p>\n\n<p>Suppose a thread <code>T</code> calls </p>\n\n<blockquote>\n  <p>Thread.sleep(3000);</p>\n</blockquote>\n\n<p>and thus puts itself into sleep for 3 secs. </p>\n\n<p>Which state is it in during those 3 secs?</p>\n\n<p>It's clearly <code>start()</code>-ed and is still alive, thus is neither <code>NEW</code> nor <code>TERMINATED</code>. </p>\n\n<p>It isn't waiting on any lock. in fact, it hasn't released any of the locks it had just before this call, so it isn't <code>BLOCKED</code>. </p>\n\n<p>It's not waiting on another thread. Is waiting on itself in some sense-- but that's not the specification of the <code>WAITING</code> state. What gets a thread into a <code>WAITING</code> state is one of the calls: <code>Object.wait()</code>, <code>Thread.join()</code> and <code>LockSupport.park()</code>. </p>\n\n<p>So it should be <code>RUNNABLE</code> -- the only one left out among the thread states. \nHowever, <code>RUNNABLE</code> is the state a thread is executing on JVM-- is enabled for CPU time and thus for burning resources. \nA sleeping thread being on CPU schedule seems contradictory. </p>\n\n<p>Am i missing anything here?</p>\n\n<p>TIA. </p>\n"},{"tags":["java","spring-boot","spring-data-jpa","h2","spring-boot-test"],"answers":[{"comments":[{"owner":{"account_id":3971224,"reputation":447,"user_id":3275784,"accept_rate":50,"display_name":"user3275784"},"score":0,"creation_date":1675359060,"post_id":75317257,"comment_id":132917065,"body_markdown":"Thanks for the response. I had thought of just deleting the data in a setup step before the tests, but it just didn&#39;t seem like it was the &quot;spring way&quot; to do it. I presumed there would be something clever I was missing to simply stop it using the data.sql file. I have tried your approach with the `@Sql` annotation, but this still causes 2 of my 3 tests to fail, saying the table already exists. I&#39;m presuming it is trying to execute the `schema.sql` file before each test, is that the expected behaviour of the annotation? I didn&#39;t think it was","body":"Thanks for the response. I had thought of just deleting the data in a setup step before the tests, but it just didn&#39;t seem like it was the &quot;spring way&quot; to do it. I presumed there would be something clever I was missing to simply stop it using the data.sql file. I have tried your approach with the <code>@Sql</code> annotation, but this still causes 2 of my 3 tests to fail, saying the table already exists. I&#39;m presuming it is trying to execute the <code>schema.sql</code> file before each test, is that the expected behaviour of the annotation? I didn&#39;t think it was"}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675294139,"creation_date":1675294139,"answer_id":75317257,"question_id":75314290,"body_markdown":"There are multiple ways addressing your requirement, below are approaches\r\n\r\nBy using [@Sql][1] annotation, spring also provides the @Sql annotation a declarative way to initialize and populate our test schema. [here][2]\r\n\r\n\r\n    @Sql({&quot;/schema.sql&quot;})\r\n    public class ProductRepositoryTest {\r\n       //This will execute only schema.sql\r\n \r\n    }\r\n\r\nNote : In this approach you have to disable the script-based initialization, setting `spring.sql.init.mode=never`\r\n\r\nIn the second approach you can enable the `script-based initialization` and just clean up the table before every test case execution using `@BeforeEach`.\r\n\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class ProductRepositoryTest {\r\n\r\n        @Autowired\r\n        private TestEntityManager testEntityManager;\r\n\r\n        @Autowired\r\n        private ProductRepository productRepository;\r\n\r\n        @BeforeEach\r\n        public void setup() {\r\n            productRepository.deleteAll();\r\n         }\r\n\r\n        @Test\r\n        public void should_findAllProducts() {\r\n             final Product p = new Product();\r\n             p.setName(&quot;Test&quot;);\r\n             p.setPrice(BigDecimal.TEN);\r\n             p.setStockCount(100);\r\n             p.setStockStatus(StockStatus.AVAILABLE);\r\n             testEntityManager.persist(p);\r\n             assertEquals(1, this.productRepository.findAll().size());\r\n         }\r\n      }\r\n\r\nIn the third approach you can simply call the `productRepository.deleteAll()` method inside the test case.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\r\n  [2]: https://www.baeldung.com/spring-boot-data-sql-and-schema-sql#sqlannotation","title":"Spring boot not ignoring data.sql during tests","body":"<p>There are multiple ways addressing your requirement, below are approaches</p>\n<p>By using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\" rel=\"nofollow noreferrer\">@Sql</a> annotation, spring also provides the @Sql annotation a declarative way to initialize and populate our test schema. <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql#sqlannotation\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>@Sql({&quot;/schema.sql&quot;})\npublic class ProductRepositoryTest {\n   //This will execute only schema.sql\n\n}\n</code></pre>\n<p>Note : In this approach you have to disable the script-based initialization, setting <code>spring.sql.init.mode=never</code></p>\n<p>In the second approach you can enable the <code>script-based initialization</code> and just clean up the table before every test case execution using <code>@BeforeEach</code>.</p>\n<pre><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\npublic class ProductRepositoryTest {\n\n    @Autowired\n    private TestEntityManager testEntityManager;\n\n    @Autowired\n    private ProductRepository productRepository;\n\n    @BeforeEach\n    public void setup() {\n        productRepository.deleteAll();\n     }\n\n    @Test\n    public void should_findAllProducts() {\n         final Product p = new Product();\n         p.setName(&quot;Test&quot;);\n         p.setPrice(BigDecimal.TEN);\n         p.setStockCount(100);\n         p.setStockStatus(StockStatus.AVAILABLE);\n         testEntityManager.persist(p);\n         assertEquals(1, this.productRepository.findAll().size());\n     }\n  }\n</code></pre>\n<p>In the third approach you can simply call the <code>productRepository.deleteAll()</code> method inside the test case.</p>\n"}],"owner":{"account_id":3971224,"reputation":447,"user_id":3275784,"accept_rate":50,"display_name":"user3275784"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675294139,"creation_date":1675274248,"question_id":75314290,"body_markdown":"I want my spring boot repository tests to not use the `data.sql` file defined in the `src/main/resources` when executing tests. I&#39;m running spring boot version `3.0.1`\r\n\r\nCurrently I have an `application.yaml` file defined in `src/main/resources` with the following:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:h2:mem:productdb\r\n        username: sa\r\n        password: \r\n        driverClassName: org.h2.Driver\r\n      jpa:\r\n        spring.jpa.database-platform: org.hibernate.dialect.H2Dialect\r\n        # Disable hibernate auto schema creation\r\n        hibernate:\r\n          ddl-auto: none\r\n      h2:\r\n        console.enabled: true\r\n      # Makes console log output colourful\r\n      output:\r\n        ansi:\r\n          enabled: ALWAYS\r\n    \r\n    server:\r\n      port: 8081\r\n      servlet:\r\n        context-path: &quot;/product-service&quot;\r\n\r\n\r\nand I have `data.sql` file that has 3 insert statements, just so there is some sample data when I start up the application:\r\n\r\n    INSERT INTO PRODUCT (NAME, PRICE, STOCK_STATUS, STOCK_COUNT) VALUES (&#39;PRODUCT 1&#39;, 2000, &#39;AVAILABLE&#39;, 100);\r\n    INSERT INTO PRODUCT (NAME, PRICE, STOCK_STATUS, STOCK_COUNT) VALUES (&#39;PRODUCT 2&#39;, 500.50, &#39;AVAILABLE&#39;, 47);\r\n    INSERT INTO PRODUCT (NAME, PRICE, STOCK_STATUS, STOCK_COUNT) VALUES (&#39;PRODUCT 3&#39;, 140.56, &#39;OUT_OF_STOCK&#39;, 0);\r\n\r\nI also have a `schema.sql` file in `src/main/resources`:\r\n\r\n    CREATE TABLE product (\r\n       product_id SERIAL NOT NULL,\r\n       name VARCHAR(255) NOT NULL,\r\n       price DECIMAL NOT NULL,\r\n       stock_status VARCHAR(20) NOT NULL,\r\n       stock_count INT NOT NULL,\r\n       CONSTRAINT pk_product PRIMARY KEY (product_id)\r\n    );\r\n\r\nI have a repository test class that uses `@DataJpaTest` to bootstrap the repository and entity classes defined liked so:\r\n\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class ProductRepositoryTest {\r\n    \r\n        @Autowired\r\n        private TestEntityManager testEntityManager;\r\n    \r\n        @Autowired\r\n        private ProductRepository productRepository;\r\n    \r\n        @Test\r\n        public void should_findAllProducts() {\r\n            final Product p = new Product();\r\n            p.setName(&quot;Test&quot;);\r\n            p.setPrice(BigDecimal.TEN);\r\n            p.setStockCount(100);\r\n            p.setStockStatus(StockStatus.AVAILABLE);\r\n            testEntityManager.persist(p);\r\n            assertEquals(1, this.productRepository.findAll().size());\r\n        }\r\n    }\r\n\r\nFinally, I have an `application-test.yaml` file in `src/main/resources`, which I added, as I believed it was supposed to stop spring from loading the `data.sql` file:\r\n\r\n    spring:\r\n      datasource:\r\n        initialization-mode: never\r\n\r\nHowever, this does not work as expected, and the test fails with an assertion error\r\n\r\n    org.opentest4j.AssertionFailedError: \r\n    Expected :1\r\n    Actual   :4\r\n\r\ntelling me that it is still loading the `data.sql` file. This is not the expected behaviour as far as I&#39;m aware, but appears to be the case. I originally did not have the profile `test`, and simply just had the same `application-test.yaml` but called `application.yaml` in `src/main/resources`. But I realised that his then meant that the tests would not pick up the properties present in the main properties file (since they had the same name), and therefore hiberante would auto create the schema based on how it is defined in the java class, and not use the schema.sql file, which is not what I want.\r\n\r\nWhat I want essentially, is for the tests to use the `schema.sql` file to create the schema, but not use the `data.sql` for injecting data. I want the data that is inserted to be controlled by the tests.\r\n\r\nCan someone help me understand why adding the property `spring.datasource.initialization-mode=never` does not resolve the problem? Or perhaps suggest an alternative way to achieve the same result?\r\n\r\n**EDIT:**\r\n\r\nAfter some additional research I&#39;ve found that `spring.datasource.initialization-mode` was deprecated, but the alternative solution I&#39;m seeing of `spring.sql.init.mode=never` does not work for me, as that stops the tests using the `schema.sql` file, which I *don&#39;t* want","title":"Spring boot not ignoring data.sql during tests","body":"<p>I want my spring boot repository tests to not use the <code>data.sql</code> file defined in the <code>src/main/resources</code> when executing tests. I'm running spring boot version <code>3.0.1</code></p>\n<p>Currently I have an <code>application.yaml</code> file defined in <code>src/main/resources</code> with the following:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:productdb\n    username: sa\n    password: \n    driverClassName: org.h2.Driver\n  jpa:\n    spring.jpa.database-platform: org.hibernate.dialect.H2Dialect\n    # Disable hibernate auto schema creation\n    hibernate:\n      ddl-auto: none\n  h2:\n    console.enabled: true\n  # Makes console log output colourful\n  output:\n    ansi:\n      enabled: ALWAYS\n\nserver:\n  port: 8081\n  servlet:\n    context-path: &quot;/product-service&quot;\n</code></pre>\n<p>and I have <code>data.sql</code> file that has 3 insert statements, just so there is some sample data when I start up the application:</p>\n<pre><code>INSERT INTO PRODUCT (NAME, PRICE, STOCK_STATUS, STOCK_COUNT) VALUES ('PRODUCT 1', 2000, 'AVAILABLE', 100);\nINSERT INTO PRODUCT (NAME, PRICE, STOCK_STATUS, STOCK_COUNT) VALUES ('PRODUCT 2', 500.50, 'AVAILABLE', 47);\nINSERT INTO PRODUCT (NAME, PRICE, STOCK_STATUS, STOCK_COUNT) VALUES ('PRODUCT 3', 140.56, 'OUT_OF_STOCK', 0);\n</code></pre>\n<p>I also have a <code>schema.sql</code> file in <code>src/main/resources</code>:</p>\n<pre><code>CREATE TABLE product (\n   product_id SERIAL NOT NULL,\n   name VARCHAR(255) NOT NULL,\n   price DECIMAL NOT NULL,\n   stock_status VARCHAR(20) NOT NULL,\n   stock_count INT NOT NULL,\n   CONSTRAINT pk_product PRIMARY KEY (product_id)\n);\n</code></pre>\n<p>I have a repository test class that uses <code>@DataJpaTest</code> to bootstrap the repository and entity classes defined liked so:</p>\n<pre><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\nclass ProductRepositoryTest {\n\n    @Autowired\n    private TestEntityManager testEntityManager;\n\n    @Autowired\n    private ProductRepository productRepository;\n\n    @Test\n    public void should_findAllProducts() {\n        final Product p = new Product();\n        p.setName(&quot;Test&quot;);\n        p.setPrice(BigDecimal.TEN);\n        p.setStockCount(100);\n        p.setStockStatus(StockStatus.AVAILABLE);\n        testEntityManager.persist(p);\n        assertEquals(1, this.productRepository.findAll().size());\n    }\n}\n</code></pre>\n<p>Finally, I have an <code>application-test.yaml</code> file in <code>src/main/resources</code>, which I added, as I believed it was supposed to stop spring from loading the <code>data.sql</code> file:</p>\n<pre><code>spring:\n  datasource:\n    initialization-mode: never\n</code></pre>\n<p>However, this does not work as expected, and the test fails with an assertion error</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :1\nActual   :4\n</code></pre>\n<p>telling me that it is still loading the <code>data.sql</code> file. This is not the expected behaviour as far as I'm aware, but appears to be the case. I originally did not have the profile <code>test</code>, and simply just had the same <code>application-test.yaml</code> but called <code>application.yaml</code> in <code>src/main/resources</code>. But I realised that his then meant that the tests would not pick up the properties present in the main properties file (since they had the same name), and therefore hiberante would auto create the schema based on how it is defined in the java class, and not use the schema.sql file, which is not what I want.</p>\n<p>What I want essentially, is for the tests to use the <code>schema.sql</code> file to create the schema, but not use the <code>data.sql</code> for injecting data. I want the data that is inserted to be controlled by the tests.</p>\n<p>Can someone help me understand why adding the property <code>spring.datasource.initialization-mode=never</code> does not resolve the problem? Or perhaps suggest an alternative way to achieve the same result?</p>\n<p><strong>EDIT:</strong></p>\n<p>After some additional research I've found that <code>spring.datasource.initialization-mode</code> was deprecated, but the alternative solution I'm seeing of <code>spring.sql.init.mode=never</code> does not work for me, as that stops the tests using the <code>schema.sql</code> file, which I <em>don't</em> want</p>\n"},{"tags":["java","dictionary","initialization"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659463290,"post_id":73211801,"comment_id":129299383,"body_markdown":"Possibly related: [builder for HashMap](https://stackoverflow.com/q/7345241) specifically (self promotion) https://stackoverflow.com/a/56383519","body":"Possibly related: <a href=\"https://stackoverflow.com/q/7345241\">builder for HashMap</a> specifically (self promotion) <a href=\"https://stackoverflow.com/a/56383519\">stackoverflow.com/a/56383519</a>"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1659463412,"post_id":73211801,"comment_id":129299421,"body_markdown":"This sounds like a false saving? You&#39;re using a strongly typed language, why would you want to slip in something that lets you bypasses that strong typing? While &quot;it&#39;s more writing&quot;, that&#39;s basically a nonsense argument: you know how to copy paste, you have a decent code editor or IDE that lets you optimize typing in myriad ways, it really doesn&#39;t take much longer to write the declare + init code compared to the typeless ruby or JS code.","body":"This sounds like a false saving? You&#39;re using a strongly typed language, why would you want to slip in something that lets you bypasses that strong typing? While &quot;it&#39;s more writing&quot;, that&#39;s basically a nonsense argument: you know how to copy paste, you have a decent code editor or IDE that lets you optimize typing in myriad ways, it really doesn&#39;t take much longer to write the declare + init code compared to the typeless ruby or JS code."},{"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"score":0,"creation_date":1659463817,"post_id":73211801,"comment_id":129299540,"body_markdown":"Groovy lets you do things like this.  You could work out the language diffs in your build script and resulting class can still end up in the same package.  Separates your source files but it works.  Otherwise, I agree with @Mike&#39;Pomax&#39;Kamermans.  See also: https://www.baeldung.com/groovy-maps","body":"Groovy lets you do things like this.  You could work out the language diffs in your build script and resulting class can still end up in the same package.  Separates your source files but it works.  Otherwise, I agree with @Mike&#39;Pomax&#39;Kamermans.  See also: <a href=\"https://www.baeldung.com/groovy-maps\" rel=\"nofollow noreferrer\">baeldung.com/groovy-maps</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659463932,"post_id":73211801,"comment_id":129299576,"body_markdown":"For constants (`private static final SomeField`), I&#39;ll usually make use of a `static` initializer block, in tandem with `Collections#unmodifiableMap`. There is double-brace initialization (shown below), but this comes at a cost (also shown below in @Pshemo &#39;s comments). The initializer block will allow you to create the `Map`, modify it as you like, and _then_ set the field to the value you want.","body":"For constants (<code>private static final SomeField</code>), I&#39;ll usually make use of a <code>static</code> initializer block, in tandem with <code>Collections#unmodifiableMap</code>. There is double-brace initialization (shown below), but this comes at a cost (also shown below in @Pshemo &#39;s comments). The initializer block will allow you to create the <code>Map</code>, modify it as you like, and <i>then</i> set the field to the value you want."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1659466373,"post_id":73211801,"comment_id":129300249,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans Scala, Kotlin, Groovy, Rust, C#, and D all have ways of initializing maps on one line from arguments. It has absolutely nothing to do with type safety or forfeiting guarantees and everything to do with cognitive load. A single line initializing constant data is parsed (by a human brain) as a single initializer. Ten lines to initialize one hashmap have to be parsed as an entire function, and it takes a minute to recognize that &quot;oh, it&#39;s just really long initialization code&quot;.","body":"@Mike&#39;Pomax&#39;Kamermans Scala, Kotlin, Groovy, Rust, C#, and D all have ways of initializing maps on one line from arguments. It has absolutely nothing to do with type safety or forfeiting guarantees and everything to do with cognitive load. A single line initializing constant data is parsed (by a human brain) as a single initializer. Ten lines to initialize one hashmap have to be parsed as an entire function, and it takes a minute to recognize that &quot;oh, it&#39;s just really long initialization code&quot;."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659468805,"post_id":73211801,"comment_id":129300969,"body_markdown":"Always search Stack Overflow thoroughly before posting.","body":"Always search Stack Overflow thoroughly before posting."},{"owner":{"account_id":135145,"reputation":3145,"user_id":337772,"accept_rate":73,"display_name":"eloyesp"},"score":0,"creation_date":1659479643,"post_id":73211801,"comment_id":129303905,"body_markdown":"@BasilBourque I&#39;ve searched for more than one hour before posting, I was almost sure that the question was already asked, but sadly I could not found it... it seems that I were missing some keywords.","body":"@BasilBourque I&#39;ve searched for more than one hour before posting, I was almost sure that the question was already asked, but sadly I could not found it... it seems that I were missing some keywords."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675293816,"creation_date":1659464307,"answer_id":73212021,"question_id":73211801,"body_markdown":"Firstly, you shouldn&#39;t use `Hashtable` class - it&#39;s legacy. If you need a general purpose implementation of the `Map` interface, use `HashMap` instead.\r\n\r\nIn case when you need to initialize a general purpose `Map` with a few entries, you can use one of the overloaded versions of [`Map.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V)) method which is available starting with Java 9. It allows providing up to `10` *key-value pairs*, if you need more you can use [`Map.ofEntries()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)), which takes a varargs of map entries. You can create a map entry using another Java 9 method [`Map.entry()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entry(K,V)).\r\n\r\n*Example:*\r\n```\r\npublic static final Map&lt;String, Integer&gt; numbers = \r\n    Map.of(&quot;one&quot;, 1, &quot;two&quot;, 2, &quot;three&quot;, 3);\r\n```\r\n\r\n**Note** these maps are \r\n\r\n**1.** *Immutable*, therefore it would be the right choice only if the data never change (or might change rarely, i.e. in case of very frequent reads and infrequent writes, and every write would require re-initializing the map).\r\n\r\n**2** So-called *unmodifiable maps* like `MapN` (which is an internal implementation used by `Map.ofEntries()` intended to store an arbitrary number of key-value pairs) are optimized in terms of Memory consumption, their underlying array occupies exactly as match space as match there are key-value pairs and no more, and retrieving a value from an *unmodifiable map* using `get()` might even perform slightly better (*see the quote below*) in comparison to a `HashMap`.\r\n\r\nFor more information you can refer to official documentation - [*Creating Immutable Lists, Sets, and Maps*][useCases]:\r\n\r\n&gt; **Use Cases**\r\n&gt; \r\n&gt; The common use case for the immutable methods is a collection that is\r\n&gt; initialized from known values, and that never changes. Also consider\r\n&gt; using these methods if your data changes infrequently.\r\n&gt; \r\n&gt; For optimal performance, the immutable collections store a data set\r\n&gt; that never changes. However, you may be able to take advantage of the\r\n&gt; performance and space-saving benefits even if your data is subject to\r\n&gt; change. **These collections may provide better performance than the\r\n&gt; mutable collections**, even if your data changes occasionally.\r\n&gt; \r\n&gt; If you have a large number of values, you may consider storing them in\r\n&gt; a HashMap. If you are constantly adding and removing entries, then\r\n&gt; this is a good choice. But, if you have a set of values that never\r\n&gt; change, or rarely change, and you read from that set a lot, then the\r\n&gt; immutable Map is a more efficient choice. If the data set is read\r\n&gt; frequently, and the values change only rarely, then you may find that\r\n&gt; the overall speed is faster, even when you include the performance\r\n&gt; impact of destroying and rebuilding an immutable Map when a value\r\n&gt; changes.\r\n\r\nAlso note that depending on the type of keys and the actual data (specifically on the number of collisions), an unmodifiable map might perform worse than a `HashMap` because contrary to `HashMap` unmodifiable map is incapable to store and reuse hashes of the keys and hence might perform more comparisons of keys using `equals` method. And in case of large number of collisions, unmodifiable map has no means to mitigate performance degradation, unlike `HashMap` which since would try to arrange nodes into a tree when the number of nodes in a bucket exceeds certain threshold.\r\n\r\nSpiking of other alternatives doubly-brace initialization, which creates an instance of anonymous inner class, is indisputably a discouraged practice.\r\n\r\nStatic and instance initializer blocks have no downsides from the technical point of view, they allow you to keep the variables `final` if you need that. But some might argue that from the perspective of clean coding, initializer blocks are not very great.\r\n\r\nAnother possibility you might consider is to initialize a map inline using Stream API (*for instance, when map-data can be expressed as a sequence that is easy to generate*).\r\n\r\n\r\n\r\n   [useCases]: https://docs.oracle.com/javase/9/core/creating-immutable-lists-sets-and-maps.htm#JSCOR-GUID-1222F8A3-7EC0-4E49-9B75-C3B263F9A1BB","title":"Can I declare and initialize a map in java with a literal?","body":"<p>Firstly, you shouldn't use <code>Hashtable</code> class - it's legacy. If you need a general purpose implementation of the <code>Map</code> interface, use <code>HashMap</code> instead.</p>\n<p>In case when you need to initialize a general purpose <code>Map</code> with a few entries, you can use one of the overloaded versions of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V)\" rel=\"nofollow noreferrer\"><code>Map.of()</code></a> method which is available starting with Java 9. It allows providing up to <code>10</code> <em>key-value pairs</em>, if you need more you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)\" rel=\"nofollow noreferrer\"><code>Map.ofEntries()</code></a>, which takes a varargs of map entries. You can create a map entry using another Java 9 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entry(K,V)\" rel=\"nofollow noreferrer\"><code>Map.entry()</code></a>.</p>\n<p><em>Example:</em></p>\n<pre><code>public static final Map&lt;String, Integer&gt; numbers = \n    Map.of(&quot;one&quot;, 1, &quot;two&quot;, 2, &quot;three&quot;, 3);\n</code></pre>\n<p><strong>Note</strong> these maps are</p>\n<p><strong>1.</strong> <em>Immutable</em>, therefore it would be the right choice only if the data never change (or might change rarely, i.e. in case of very frequent reads and infrequent writes, and every write would require re-initializing the map).</p>\n<p><strong>2</strong> So-called <em>unmodifiable maps</em> like <code>MapN</code> (which is an internal implementation used by <code>Map.ofEntries()</code> intended to store an arbitrary number of key-value pairs) are optimized in terms of Memory consumption, their underlying array occupies exactly as match space as match there are key-value pairs and no more, and retrieving a value from an <em>unmodifiable map</em> using <code>get()</code> might even perform slightly better (<em>see the quote below</em>) in comparison to a <code>HashMap</code>.</p>\n<p>For more information you can refer to official documentation - <a href=\"https://docs.oracle.com/javase/9/core/creating-immutable-lists-sets-and-maps.htm#JSCOR-GUID-1222F8A3-7EC0-4E49-9B75-C3B263F9A1BB\" rel=\"nofollow noreferrer\"><em>Creating Immutable Lists, Sets, and Maps</em></a>:</p>\n<blockquote>\n<p><strong>Use Cases</strong></p>\n<p>The common use case for the immutable methods is a collection that is\ninitialized from known values, and that never changes. Also consider\nusing these methods if your data changes infrequently.</p>\n<p>For optimal performance, the immutable collections store a data set\nthat never changes. However, you may be able to take advantage of the\nperformance and space-saving benefits even if your data is subject to\nchange. <strong>These collections may provide better performance than the\nmutable collections</strong>, even if your data changes occasionally.</p>\n<p>If you have a large number of values, you may consider storing them in\na HashMap. If you are constantly adding and removing entries, then\nthis is a good choice. But, if you have a set of values that never\nchange, or rarely change, and you read from that set a lot, then the\nimmutable Map is a more efficient choice. If the data set is read\nfrequently, and the values change only rarely, then you may find that\nthe overall speed is faster, even when you include the performance\nimpact of destroying and rebuilding an immutable Map when a value\nchanges.</p>\n</blockquote>\n<p>Also note that depending on the type of keys and the actual data (specifically on the number of collisions), an unmodifiable map might perform worse than a <code>HashMap</code> because contrary to <code>HashMap</code> unmodifiable map is incapable to store and reuse hashes of the keys and hence might perform more comparisons of keys using <code>equals</code> method. And in case of large number of collisions, unmodifiable map has no means to mitigate performance degradation, unlike <code>HashMap</code> which since would try to arrange nodes into a tree when the number of nodes in a bucket exceeds certain threshold.</p>\n<p>Spiking of other alternatives doubly-brace initialization, which creates an instance of anonymous inner class, is indisputably a discouraged practice.</p>\n<p>Static and instance initializer blocks have no downsides from the technical point of view, they allow you to keep the variables <code>final</code> if you need that. But some might argue that from the perspective of clean coding, initializer blocks are not very great.</p>\n<p>Another possibility you might consider is to initialize a map inline using Stream API (<em>for instance, when map-data can be expressed as a sequence that is easy to generate</em>).</p>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659701072,"creation_date":1659464485,"answer_id":73212061,"question_id":73211801,"body_markdown":"For Java 9 and beyond, you can make use of [`Map#of`](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--), as well as [`Map#ofEntries`](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-) with [`Map#entry`](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-):\r\n\r\n    Map&lt;String, String&gt; example = Map.ofEntries(\r\n        Map.entry(&quot;1&quot;, &quot;one&quot;),\r\n        Map.entry(&quot;2&quot;, &quot;two&quot;),\r\n        Map.entry(&quot;3&quot;, &quot;three&quot;),\r\n        //...\r\n    );\r\n\r\nFor shorter literals (10 or less entries), you can use `Map#of` directly (albeit with a slightly confusing syntax of `Key1, Value1, Key2, Value2, ...`):\r\n\r\n    Map&lt;String, String&gt; example = Map.of(&quot;1&quot;, &quot;one&quot;, &quot;2&quot;, &quot;two&quot;);\r\n\r\nPrior to Java 9, this would typically only be needed for initializing constant `Map` objects, for which a `static` initializer block is also useful:\r\n\r\n    private static final Map&lt;String, String&gt; MY_CONSTANT;\r\n\r\n    static {\r\n        Map&lt;String, String&gt; setup = new HashMap&lt;&gt;();\r\n        setup.put(&quot;1&quot;, &quot;one&quot;);\r\n        setup.put(&quot;2&quot;, &quot;two&quot;);\r\n        setup.put(&quot;3&quot;, &quot;three&quot;);\r\n        MY_CONSTANT = Collections.unmodifiableMap(setup);\r\n    }\r\n\r\nThis will allow you to create a constant `Map` while allowing you to modify the map before it is set.\r\n\r\nAs pointed out by [@Pshemo](https://stackoverflow.com/users/1393766/pshemo), there are [numerous reasons to avoid double-brace initialization](https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java/27521360#27521360), however the notable exception to the &quot;rule&quot; is typically in constants much like the above example (as numerous anonymous classes would not be made). However, it is still possible to work around the need for double-brace initialization even this case, so it is overall best to avoid if possible. The only case I can think of this not being possible is within the context of a constant within an `enum` class, where the double-brace init may truly be the only true way to make this work.","title":"Can I declare and initialize a map in java with a literal?","body":"<p>For Java 9 and beyond, you can make use of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\" rel=\"nofollow noreferrer\"><code>Map#of</code></a>, as well as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\" rel=\"nofollow noreferrer\"><code>Map#ofEntries</code></a> with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"nofollow noreferrer\"><code>Map#entry</code></a>:</p>\n<pre><code>Map&lt;String, String&gt; example = Map.ofEntries(\n    Map.entry(&quot;1&quot;, &quot;one&quot;),\n    Map.entry(&quot;2&quot;, &quot;two&quot;),\n    Map.entry(&quot;3&quot;, &quot;three&quot;),\n    //...\n);\n</code></pre>\n<p>For shorter literals (10 or less entries), you can use <code>Map#of</code> directly (albeit with a slightly confusing syntax of <code>Key1, Value1, Key2, Value2, ...</code>):</p>\n<pre><code>Map&lt;String, String&gt; example = Map.of(&quot;1&quot;, &quot;one&quot;, &quot;2&quot;, &quot;two&quot;);\n</code></pre>\n<p>Prior to Java 9, this would typically only be needed for initializing constant <code>Map</code> objects, for which a <code>static</code> initializer block is also useful:</p>\n<pre><code>private static final Map&lt;String, String&gt; MY_CONSTANT;\n\nstatic {\n    Map&lt;String, String&gt; setup = new HashMap&lt;&gt;();\n    setup.put(&quot;1&quot;, &quot;one&quot;);\n    setup.put(&quot;2&quot;, &quot;two&quot;);\n    setup.put(&quot;3&quot;, &quot;three&quot;);\n    MY_CONSTANT = Collections.unmodifiableMap(setup);\n}\n</code></pre>\n<p>This will allow you to create a constant <code>Map</code> while allowing you to modify the map before it is set.</p>\n<p>As pointed out by <a href=\"https://stackoverflow.com/users/1393766/pshemo\">@Pshemo</a>, there are <a href=\"https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java/27521360#27521360\">numerous reasons to avoid double-brace initialization</a>, however the notable exception to the &quot;rule&quot; is typically in constants much like the above example (as numerous anonymous classes would not be made). However, it is still possible to work around the need for double-brace initialization even this case, so it is overall best to avoid if possible. The only case I can think of this not being possible is within the context of a constant within an <code>enum</code> class, where the double-brace init may truly be the only true way to make this work.</p>\n"}],"owner":{"account_id":135145,"reputation":3145,"user_id":337772,"accept_rate":73,"display_name":"eloyesp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3800,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1659468730,"accepted_answer_id":73212061,"answer_count":2,"score":3,"last_activity_date":1675293816,"creation_date":1659463204,"question_id":73211801,"body_markdown":"Is it possible to declare and initialize a `Hashtable` or `Map`, so we don&#39;t have to declare and initialize on two different steps?\r\n\r\n```java\r\n// declare first\r\nHashtable&lt;String, Integer&gt; numbers = new Hashtable&lt;String, Integer&gt;(3);\r\n\r\n// then initialize\r\nnumbers.put(&quot;one&quot;, 1);\r\nnumbers.put(&quot;two&quot;, 2);\r\nnumbers.put(&quot;three&quot;, 3);\r\n```\r\n\r\nIn ruby and javascript, for example, there are literals to define those:\r\n\r\n```ruby\r\nnumbers = {\r\n  one: 1,\r\n  two: 2,\r\n  three: 3,\r\n}\r\n```","title":"Can I declare and initialize a map in java with a literal?","body":"<p>Is it possible to declare and initialize a <code>Hashtable</code> or <code>Map</code>, so we don't have to declare and initialize on two different steps?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// declare first\nHashtable&lt;String, Integer&gt; numbers = new Hashtable&lt;String, Integer&gt;(3);\n\n// then initialize\nnumbers.put(&quot;one&quot;, 1);\nnumbers.put(&quot;two&quot;, 2);\nnumbers.put(&quot;three&quot;, 3);\n</code></pre>\n<p>In ruby and javascript, for example, there are literals to define those:</p>\n<pre class=\"lang-rb prettyprint-override\"><code>numbers = {\n  one: 1,\n  two: 2,\n  three: 3,\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675264232,"creation_date":1675264232,"answer_id":75312263,"question_id":75309490,"body_markdown":"You should follow the identifier rules. `Crippling Teas` isn&#39;t valid as:\r\n- contains a space\r\n- with upper cases\r\n\r\nActually, identifier should only be like `crippling_teas`.","title":"Fabric instance crashing when creating custom item group","body":"<p>You should follow the identifier rules. <code>Crippling Teas</code> isn't valid as:</p>\n<ul>\n<li>contains a space</li>\n<li>with upper cases</li>\n</ul>\n<p>Actually, identifier should only be like <code>crippling_teas</code>.</p>\n"}],"owner":{"account_id":27402896,"reputation":1,"user_id":20904024,"display_name":"End3r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675293722,"creation_date":1675250748,"question_id":75309490,"body_markdown":"I tried making a custom item group for my mod but when I run the code, the game instantly crashes.\r\n\r\nfabric 1.19.2\r\n\r\n```\r\npackage com.end3r.cripplingteas.item;\r\n\r\nimport com.end3r.cripplingteas.CripplingTeasMod;\r\nimport com.end3r.cripplingteas.Registry.ModItems;\r\nimport net.fabricmc.fabric.api.client.itemgroup.FabricItemGroupBuilder;\r\nimport net.minecraft.item.ItemGroup;\r\nimport net.minecraft.item.ItemStack;\r\nimport net.minecraft.util.Identifier;\r\n\r\npublic class ModItemGroup {\r\n    public static final ItemGroup CRIPPLINGTEAS = FabricItemGroupBuilder.build(\r\n            new Identifier(CripplingTeasMod.teas, &quot;Crippling Teas&quot;), () -&gt; new ItemStack(ModItems.BASIC_TEA))\r\n            ;\r\n\r\n}\r\n```\r\n\r\ni tried writing a custom item group for my mod using FabricItemGroupBuilder\r\n\r\nlogs:\r\n\r\n```\r\nDescription: Initializing game\r\n\r\njava.lang.RuntimeException: Could not execute entrypoint stage &#39;main&#39; due to errors, provided by &#39;teas&#39;!\r\n\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.lambda$invoke0$0(EntrypointUtils.java:51)\r\n\tat net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33)\r\n\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:49)\r\n\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke(EntrypointUtils.java:35)\r\n\tat net.fabricmc.loader.impl.game.minecraft.Hooks.startClient(Hooks.java:52)\r\n\tat net.minecraft.client.MinecraftClient.&lt;init&gt;(MinecraftClient.java:523)\r\n\tat net.minecraft.client.main.Main.main(Main.java:184)\r\n\tat net.minecraft.client.main.Main.main(Main.java:56)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:461)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\r\n\tat net.fabricmc.devlaunchinjector.Main.main(Main.java:86)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat com.end3r.cripplingteas.Registry.ModItems.&lt;clinit&gt;(ModItems.java:21)\r\n\tat com.end3r.cripplingteas.CripplingTeasMod.onInitialize(CripplingTeasMod.java:12)\r\n\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\r\n\t... 9 more\r\nCaused by: net.minecraft.util.InvalidIdentifierException: Non [a-z0-9/._-] character in path of location: teas:Crippling Teas\r\n\tat net.minecraft.util.Identifier.&lt;init&gt;(Identifier.java:140)\r\n\tat net.minecraft.util.Identifier.&lt;init&gt;(Identifier.java:144)\r\n\tat com.end3r.cripplingteas.item.ModItemGroup.&lt;clinit&gt;(ModItemGroup.java:11)\r\n\t... 12 more\r\n```","title":"Fabric instance crashing when creating custom item group","body":"<p>I tried making a custom item group for my mod but when I run the code, the game instantly crashes.</p>\n<p>fabric 1.19.2</p>\n<pre><code>package com.end3r.cripplingteas.item;\n\nimport com.end3r.cripplingteas.CripplingTeasMod;\nimport com.end3r.cripplingteas.Registry.ModItems;\nimport net.fabricmc.fabric.api.client.itemgroup.FabricItemGroupBuilder;\nimport net.minecraft.item.ItemGroup;\nimport net.minecraft.item.ItemStack;\nimport net.minecraft.util.Identifier;\n\npublic class ModItemGroup {\n    public static final ItemGroup CRIPPLINGTEAS = FabricItemGroupBuilder.build(\n            new Identifier(CripplingTeasMod.teas, &quot;Crippling Teas&quot;), () -&gt; new ItemStack(ModItems.BASIC_TEA))\n            ;\n\n}\n</code></pre>\n<p>i tried writing a custom item group for my mod using FabricItemGroupBuilder</p>\n<p>logs:</p>\n<pre><code>Description: Initializing game\n\njava.lang.RuntimeException: Could not execute entrypoint stage 'main' due to errors, provided by 'teas'!\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.lambda$invoke0$0(EntrypointUtils.java:51)\n    at net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:49)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke(EntrypointUtils.java:35)\n    at net.fabricmc.loader.impl.game.minecraft.Hooks.startClient(Hooks.java:52)\n    at net.minecraft.client.MinecraftClient.&lt;init&gt;(MinecraftClient.java:523)\n    at net.minecraft.client.main.Main.main(Main.java:184)\n    at net.minecraft.client.main.Main.main(Main.java:56)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:461)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n    at net.fabricmc.devlaunchinjector.Main.main(Main.java:86)\nCaused by: java.lang.ExceptionInInitializerError\n    at com.end3r.cripplingteas.Registry.ModItems.&lt;clinit&gt;(ModItems.java:21)\n    at com.end3r.cripplingteas.CripplingTeasMod.onInitialize(CripplingTeasMod.java:12)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\n    ... 9 more\nCaused by: net.minecraft.util.InvalidIdentifierException: Non [a-z0-9/._-] character in path of location: teas:Crippling Teas\n    at net.minecraft.util.Identifier.&lt;init&gt;(Identifier.java:140)\n    at net.minecraft.util.Identifier.&lt;init&gt;(Identifier.java:144)\n    at com.end3r.cripplingteas.item.ModItemGroup.&lt;clinit&gt;(ModItemGroup.java:11)\n    ... 12 more\n</code></pre>\n"},{"tags":["java","spring-boot","authorization-server"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1675288971,"post_id":75309899,"comment_id":132899379,"body_markdown":"A [JWT](https://en.wikipedia.org/wiki/JSON_Web_Token) includes the permissions (claims) and an issud-at time. It&#39;s signed and the resource server can check the signature to know that it can trust the token. It can decide based on the issued-at claim if the token is still valid.","body":"A <a href=\"https://en.wikipedia.org/wiki/JSON_Web_Token\" rel=\"nofollow noreferrer\">JWT</a> includes the permissions (claims) and an issud-at time. It&#39;s signed and the resource server can check the signature to know that it can trust the token. It can decide based on the issued-at claim if the token is still valid."}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675292918,"creation_date":1675292918,"answer_id":75317131,"question_id":75309899,"body_markdown":"Spring Security supports protecting endpoints by using two forms of OAuth 2.0 Bearer Tokens:\r\n- JWT\r\n- Opaque Tokens\r\n\r\n--------\r\n\r\nThe behavior you experienced means that you configured JWT Authentication, by specifying the Authorization Server with an issuer URI, for example: \r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          resourceserver:\r\n            jwt:\r\n              issuer-uri: https://idp.example.com/issuer\r\n\r\n According to [Spring documentation][1]:\r\n\r\n&gt; Resource Server will use this property to further self-configure, discover the authorization servers public keys, and subsequently validate incoming JWTs.\r\n\r\nIt configures itself through the following steps:\r\n\r\n&gt; 1. Query the Provider Configuration or Authorization Server Metadata endpoint for the `jwks_url` property\r\n&gt; 2. Query the `jwks_url` endpoint for supported algorithms\r\n&gt; 3. Configure the validation strategy to query `jwks_url` for valid public keys of the algorithms found\r\n&gt; 4. Configure the validation strategy to validate each JWTs `iss` claim against `idp.example.com`.\r\n\r\nAn important note from the docs which answers one of your questions is:\r\n\r\n&gt; If the authorization server is down when Resource Server queries it\r\n&gt; (given appropriate timeouts), then startup will fail.\r\n\r\nDuring the runtime, any request containing an `Authorization: Bearer` header is processed as follows:\r\n\r\n&gt; 1. Validate its signature against a public key obtained from the `jwks_url` endpoint during startup and matched against the JWT\r\n&gt; \r\n&gt; 2. Validate the JWTs `exp` and `nbf` timestamps and the JWTs `iss` claim, and\r\n&gt; \r\n&gt; 3. Map each scope to an authority with the prefix `SCOPE_`.\r\n\r\nThere is no communication between Resource Server and Authorization Server during this process, so it doesn&#39;t have to be up after startup.\r\n\r\n-----------\r\n\r\nThe behavior you expected, in the beginning, is actually related to Opaque Token Authentication. Where Authorization Server is specified with different properties, according to [Spring documentation][2]:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          resourceserver:\r\n            opaque-token:\r\n              introspection-uri: https://idp.example.com/introspect\r\n              client-id: client\r\n              client-secret: secret\r\n\r\n&gt; This startup process is quite a bit simpler than for JWTs since no\r\n&gt; endpoints need to be discovered and no additional validation rules get\r\n&gt; added.\r\n\r\n\r\nAt the runtime, it is also processing any request containing an `Authorization: Bearer` header: \r\n&gt; 1. Query the provided introspection endpoint using the provided credentials and the token\r\n&gt; \r\n&gt; 2. Inspect the response for an `{ &#39;active&#39;: true }` attribute\r\n&gt; \r\n&gt; 3. Map each scope to an authority with the prefix `SCOPE_`\r\n\r\nThis means that the token is valid only if the Authorization Server responds that it is.\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/opaque-token.html","title":"Does Resource Server in Spring make call to Authorization Server (Spring) on every request?","body":"<p>Spring Security supports protecting endpoints by using two forms of OAuth 2.0 Bearer Tokens:</p>\n<ul>\n<li>JWT</li>\n<li>Opaque Tokens</li>\n</ul>\n<hr />\n<p>The behavior you experienced means that you configured JWT Authentication, by specifying the Authorization Server with an issuer URI, for example:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: https://idp.example.com/issuer\n</code></pre>\n<p>According to <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">Spring documentation</a>:</p>\n<blockquote>\n<p>Resource Server will use this property to further self-configure, discover the authorization servers public keys, and subsequently validate incoming JWTs.</p>\n</blockquote>\n<p>It configures itself through the following steps:</p>\n<blockquote>\n<ol>\n<li>Query the Provider Configuration or Authorization Server Metadata endpoint for the <code>jwks_url</code> property</li>\n<li>Query the <code>jwks_url</code> endpoint for supported algorithms</li>\n<li>Configure the validation strategy to query <code>jwks_url</code> for valid public keys of the algorithms found</li>\n<li>Configure the validation strategy to validate each JWTs <code>iss</code> claim against <code>idp.example.com</code>.</li>\n</ol>\n</blockquote>\n<p>An important note from the docs which answers one of your questions is:</p>\n<blockquote>\n<p>If the authorization server is down when Resource Server queries it\n(given appropriate timeouts), then startup will fail.</p>\n</blockquote>\n<p>During the runtime, any request containing an <code>Authorization: Bearer</code> header is processed as follows:</p>\n<blockquote>\n<ol>\n<li><p>Validate its signature against a public key obtained from the <code>jwks_url</code> endpoint during startup and matched against the JWT</p>\n</li>\n<li><p>Validate the JWTs <code>exp</code> and <code>nbf</code> timestamps and the JWTs <code>iss</code> claim, and</p>\n</li>\n<li><p>Map each scope to an authority with the prefix <code>SCOPE_</code>.</p>\n</li>\n</ol>\n</blockquote>\n<p>There is no communication between Resource Server and Authorization Server during this process, so it doesn't have to be up after startup.</p>\n<hr />\n<p>The behavior you expected, in the beginning, is actually related to Opaque Token Authentication. Where Authorization Server is specified with different properties, according to <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/opaque-token.html\" rel=\"nofollow noreferrer\">Spring documentation</a>:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        opaque-token:\n          introspection-uri: https://idp.example.com/introspect\n          client-id: client\n          client-secret: secret\n</code></pre>\n<blockquote>\n<p>This startup process is quite a bit simpler than for JWTs since no\nendpoints need to be discovered and no additional validation rules get\nadded.</p>\n</blockquote>\n<p>At the runtime, it is also processing any request containing an <code>Authorization: Bearer</code> header:</p>\n<blockquote>\n<ol>\n<li><p>Query the provided introspection endpoint using the provided credentials and the token</p>\n</li>\n<li><p>Inspect the response for an <code>{ 'active': true }</code> attribute</p>\n</li>\n<li><p>Map each scope to an authority with the prefix <code>SCOPE_</code></p>\n</li>\n</ol>\n</blockquote>\n<p>This means that the token is valid only if the Authorization Server responds that it is.</p>\n"}],"owner":{"account_id":23501505,"reputation":13,"user_id":17551344,"display_name":"voddy88"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75317131,"answer_count":1,"score":1,"last_activity_date":1675292918,"creation_date":1675252998,"question_id":75309899,"body_markdown":"I am new to Spring Boot and I am developing a simple API with few endpoints. Now I am implementing an Authorization Server (Oauth2AuthorizationServer) and Resource server with my endpoints. I have noticed that when AuthServer issues once a JWT token with provided credentials (I am using credential flow), Resource Server is able to verify the JWT even when the AuthServer is stopped. How that magic happens? I was thinking in the beginning that AuthServer must authorize every request made to the resource server. I can&#39;t figure it out how Resource server is able to decode the JWT even the auth server is down. Please, can somebody explain it to me how exactly things work.  \r\n\r\nWhen I try to make the first request to Resource server and AuthServer is stopped, there is an error - that there is no @Bean with decoder().","title":"Does Resource Server in Spring make call to Authorization Server (Spring) on every request?","body":"<p>I am new to Spring Boot and I am developing a simple API with few endpoints. Now I am implementing an Authorization Server (Oauth2AuthorizationServer) and Resource server with my endpoints. I have noticed that when AuthServer issues once a JWT token with provided credentials (I am using credential flow), Resource Server is able to verify the JWT even when the AuthServer is stopped. How that magic happens? I was thinking in the beginning that AuthServer must authorize every request made to the resource server. I can't figure it out how Resource server is able to decode the JWT even the auth server is down. Please, can somebody explain it to me how exactly things work.</p>\n<p>When I try to make the first request to Resource server and AuthServer is stopped, there is an error - that there is no @Bean with decoder().</p>\n"},{"tags":["java","google-bigquery"],"owner":{"account_id":26324096,"reputation":1,"user_id":19985861,"display_name":"Rafael Soares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675292848,"creation_date":1675292848,"question_id":75317124,"body_markdown":"So, i&#39;m using jobs in java to execute queries send from clients, and in cases which the client performs changes in the database, i want to return the changed data back to the client.\r\n\r\nBut unfortunaltelly i was unable to find a way to do this, and i was hopping someone had an ideia.\r\n\r\n\r\n\r\nWhat i&#39;m doing is:\r\n\r\nUpdating a row that have an specific ID using SQL statements, and now i want to return those values that have changed in the update.\r\n\r\nThen after that i tried to run a query like this: \r\n`&quot;SELECT * FROM `%s.%s` FOR SYSTEM_TIME AS OF TIMESTAMP_SUB(CURRENT_TIMESTAMP(), %s);&quot;`\r\n\r\nto if i could get the latest updated rows.\r\ni Passed an java `System.currentMilliseconds()` in the last argument but didn&#39;t worked as expected.\r\n\r\nAny ideas?\r\n","title":"How to return latest updated row in BigQuery?","body":"<p>So, i'm using jobs in java to execute queries send from clients, and in cases which the client performs changes in the database, i want to return the changed data back to the client.</p>\n<p>But unfortunaltelly i was unable to find a way to do this, and i was hopping someone had an ideia.</p>\n<p>What i'm doing is:</p>\n<p>Updating a row that have an specific ID using SQL statements, and now i want to return those values that have changed in the update.</p>\n<p>Then after that i tried to run a query like this:\n<code>&quot;SELECT * FROM </code>%s.%s<code> FOR SYSTEM_TIME AS OF TIMESTAMP_SUB(CURRENT_TIMESTAMP(), %s);&quot;</code></p>\n<p>to if i could get the latest updated rows.\ni Passed an java <code>System.currentMilliseconds()</code> in the last argument but didn't worked as expected.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","json","android-studio","response"],"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1447534093,"post_id":33712531,"comment_id":55197397,"body_markdown":"Please add some relevant code, and stacktrace..","body":"Please add some relevant code, and stacktrace.."}],"answers":[{"tags":[],"owner":{"account_id":2655079,"reputation":1862,"user_id":2295938,"display_name":"Kaamel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675292204,"creation_date":1447531253,"answer_id":33712722,"question_id":33712531,"body_markdown":"I think the error message is telling you that some servers don&#39;t return valid JSON (or at least returning something that your code/library cannot handle). You might want to add some error checking code that would address such conditions.\r\n","title":"valid JSON response issue","body":"<p>I think the error message is telling you that some servers don't return valid JSON (or at least returning something that your code/library cannot handle). You might want to add some error checking code that would address such conditions.</p>\n"}],"owner":{"account_id":7273636,"reputation":25,"user_id":5545768,"display_name":"kitus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1447575383,"accepted_answer_id":33712722,"answer_count":1,"score":0,"last_activity_date":1675292204,"creation_date":1447530079,"question_id":33712531,"body_markdown":"I have published my app on android, and now I&#39;m facing a problem with the JSON response on some devices ?!\r\n[![screen shot showing the error which says no connection][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FJCED.png","title":"valid JSON response issue","body":"<p>I have published my app on android, and now I'm facing a problem with the JSON response on some devices ?!\n<a href=\"https://i.stack.imgur.com/FJCED.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJCED.png\" alt=\"screen shot showing the error which says no connection\"></a></p>\n"},{"tags":["java","maps"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675269114,"post_id":75312891,"comment_id":132893346,"body_markdown":"Sure, it is possible. Just extract the numbers from all keys and look for the highest. The new key would then have that number + 1. What did you try so far? Your other question already covered getting all the &quot;BusDetailsX&quot; strings, now just extract and parse the &quot;X&quot;.","body":"Sure, it is possible. Just extract the numbers from all keys and look for the highest. The new key would then have that number + 1. What did you try so far? Your other question already covered getting all the &quot;BusDetailsX&quot; strings, now just extract and parse the &quot;X&quot;."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675285184,"post_id":75312891,"comment_id":132898388,"body_markdown":"Are you sure a map is the right data structure for your use case? This looks like a job for a list.","body":"Are you sure a map is the right data structure for your use case? This looks like a job for a list."},{"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"score":0,"creation_date":1675291058,"post_id":75312891,"comment_id":132899939,"body_markdown":"yes, the requirement is a map of strings of Strings","body":"yes, the requirement is a map of strings of Strings"}],"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675291868,"creation_date":1675267169,"question_id":75312891,"body_markdown":"I have a\r\n```\r\nMap&lt;String,String&gt; map = {\r\n      BusDetails.BusDetail.DriverID=1,\r\n   BusDetails.BusDetail.DriverSubID=2,\r\n   BusDetails1.BusDetail.DriverID=1,\r\n   BusDetails1.BusDetail.DriverSubID=2\r\n    }\r\n```\r\n\r\nThe datas are extracted automatically from an xml, \r\nSo if i want to add another \r\n   `BusDetails.BusDetail.DriverID`\r\nkey \r\nI need to update the map with a key like this \r\n   BusDetails2.BusDetail.DriverID etc. \r\nis it possible? \r\nSo far i tried to extract the distinct keys from the map and i got the result as a list of String \r\n\r\n[BusDetails,BusDetails1]\r\n\r\n      private static void extractNodeDataToMap(Node node, \r\n      String parentNodeName, Map&lt;String, String&gt; outputMap) {\r\n            int integer = 0;\r\n            if (!(node.getNodeType() == Node.ELEMENT_NODE))\r\n                return;\r\n            if (!parentNodeName.equals(&quot;&quot;))\r\n                parentNodeName += &quot;.&quot;;\r\n\r\n            if (node.getChildNodes().getLength() &gt; 1) {\r\n                for (int ind = 0; ind &lt; node.getChildNodes().getLength(); ind++) {\r\n                    extractNodeDataToMap(node.getChildNodes().item(ind), parentNodeName + node.getNodeName(), outputMap);\r\n                }\r\n            } else {\r\n                String key = parentNodeName + node.getNodeName();\r\n                List&lt;String&gt; list = outputMap.keySet().stream().map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).distinct().collect(Collectors.toList());\r\n                List&lt;String&gt; keyList = new ArrayList&lt;&gt;();\r\n                for (String ls : list)\r\n                    keyList.add(ls + parentNodeName.split(&quot;\\\\.&quot;, 2)[1] + node.getNodeName());\r\n\r\n\r\n                if (outputMap.containsKey(key)) {\r\n                    for (String ls : list) {\r\n                        String key1 = ls;\r\n                        if (key1.matches(&quot;.*\\\\d.*&quot;)) {\r\n                            Pattern integerPattern = Pattern.compile(&quot;-?\\\\d+&quot;);\r\n                            Matcher matcher = integerPattern.matcher(key1);\r\n                            while (matcher.find()) {\r\n                                integer = Integer.parseInt(matcher.group());\r\n\r\n                            }\r\n\r\n                            System.out.println(integer + 1);\r\n                            outputMap.put(key.replaceFirst(&quot;\\\\.&quot;, (integer + 1) + &quot;.&quot;), node.getTextContent());\r\n\r\n                        } else\r\n                            outputMap.put(key.replaceFirst(&quot;\\\\.&quot;, &quot;1.&quot;), node.getTextContent());\r\n                    }\r\n                } else {\r\n                    outputMap.put(parentNodeName + node.getNodeName(), node.getTextContent());\r\n                }\r\n            }\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nPlease help \r\nThanks","title":"How to check a map of strings for a key and increment the key value by 1 every time a key exist in the map?","body":"<p>I have a</p>\n<pre><code>Map&lt;String,String&gt; map = {\n      BusDetails.BusDetail.DriverID=1,\n   BusDetails.BusDetail.DriverSubID=2,\n   BusDetails1.BusDetail.DriverID=1,\n   BusDetails1.BusDetail.DriverSubID=2\n    }\n</code></pre>\n<p>The datas are extracted automatically from an xml,\nSo if i want to add another\n<code>BusDetails.BusDetail.DriverID</code>\nkey\nI need to update the map with a key like this\nBusDetails2.BusDetail.DriverID etc.\nis it possible?\nSo far i tried to extract the distinct keys from the map and i got the result as a list of String</p>\n<p>[BusDetails,BusDetails1]</p>\n<pre><code>  private static void extractNodeDataToMap(Node node, \n  String parentNodeName, Map&lt;String, String&gt; outputMap) {\n        int integer = 0;\n        if (!(node.getNodeType() == Node.ELEMENT_NODE))\n            return;\n        if (!parentNodeName.equals(&quot;&quot;))\n            parentNodeName += &quot;.&quot;;\n\n        if (node.getChildNodes().getLength() &gt; 1) {\n            for (int ind = 0; ind &lt; node.getChildNodes().getLength(); ind++) {\n                extractNodeDataToMap(node.getChildNodes().item(ind), parentNodeName + node.getNodeName(), outputMap);\n            }\n        } else {\n            String key = parentNodeName + node.getNodeName();\n            List&lt;String&gt; list = outputMap.keySet().stream().map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).distinct().collect(Collectors.toList());\n            List&lt;String&gt; keyList = new ArrayList&lt;&gt;();\n            for (String ls : list)\n                keyList.add(ls + parentNodeName.split(&quot;\\\\.&quot;, 2)[1] + node.getNodeName());\n\n\n            if (outputMap.containsKey(key)) {\n                for (String ls : list) {\n                    String key1 = ls;\n                    if (key1.matches(&quot;.*\\\\d.*&quot;)) {\n                        Pattern integerPattern = Pattern.compile(&quot;-?\\\\d+&quot;);\n                        Matcher matcher = integerPattern.matcher(key1);\n                        while (matcher.find()) {\n                            integer = Integer.parseInt(matcher.group());\n\n                        }\n\n                        System.out.println(integer + 1);\n                        outputMap.put(key.replaceFirst(&quot;\\\\.&quot;, (integer + 1) + &quot;.&quot;), node.getTextContent());\n\n                    } else\n                        outputMap.put(key.replaceFirst(&quot;\\\\.&quot;, &quot;1.&quot;), node.getTextContent());\n                }\n            } else {\n                outputMap.put(parentNodeName + node.getNodeName(), node.getTextContent());\n            }\n        }\n    }\n</code></pre>\n\n<p>Please help\nThanks</p>\n"},{"tags":["java","testing","automation","cucumber","testng"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668880043,"post_id":74497679,"comment_id":131515708,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":4656107,"reputation":148,"user_id":3771679,"display_name":"GrowlingBadger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675291708,"creation_date":1675291708,"answer_id":75317001,"question_id":74497679,"body_markdown":"You could probably achieve this with use of @tags above the above the line that has the Scenario keyword.  Then execute multiple test runs but using the tag options as [parameters passed to the build as mentioned here][1].\r\n\r\nHowever, this approach does seem a little odd.  If the reasons for doing this are to force an order due to tests leaving data cached in the running application that require state from the other one then this is not good practice.   Each Scenario should be completely runnable in isolation and without any prior one that might set up state.\r\n\r\n  [1]: https://stackoverflow.com/questions/37841594/cucumber-tags-options-from-command-line","title":"Can we change the order of execution of cucumber scenarios?","body":"<p>You could probably achieve this with use of @tags above the above the line that has the Scenario keyword.  Then execute multiple test runs but using the tag options as <a href=\"https://stackoverflow.com/questions/37841594/cucumber-tags-options-from-command-line\">parameters passed to the build as mentioned here</a>.</p>\n<p>However, this approach does seem a little odd.  If the reasons for doing this are to force an order due to tests leaving data cached in the running application that require state from the other one then this is not good practice.   Each Scenario should be completely runnable in isolation and without any prior one that might set up state.</p>\n"}],"owner":{"account_id":18958232,"reputation":1,"user_id":13834352,"display_name":"Mayur Deore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675291708,"creation_date":1668834286,"question_id":74497679,"body_markdown":"I want to execute testcases in below order.\r\nExample: execution starts with 3rd scenario of 2nd feature then 4th scenario of 6th feature and so on.\r\n\r\nCan we do this customization using TestNG/cucumber options/java or any other tool?\r\n\r\nIs it possible using hooks or cli options --order ? ","title":"Can we change the order of execution of cucumber scenarios?","body":"<p>I want to execute testcases in below order.\nExample: execution starts with 3rd scenario of 2nd feature then 4th scenario of 6th feature and so on.</p>\n<p>Can we do this customization using TestNG/cucumber options/java or any other tool?</p>\n<p>Is it possible using hooks or cli options --order ?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1675355009,"post_id":75316492,"comment_id":132915642,"body_markdown":"uploading a file is easy as long as you stick to the well-known recipes. Don&#39;t wrap a file inside a class (CreateReleasePackageDTO). Instead have a MutipartFile as an argument in your controller method.","body":"uploading a file is easy as long as you stick to the well-known recipes. Don&#39;t wrap a file inside a class (CreateReleasePackageDTO). Instead have a MutipartFile as an argument in your controller method."}],"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675291284,"creation_date":1675287655,"question_id":75316492,"body_markdown":"Using `@ModelAttribute` I am able to post form-data to my backend without issue, however when I try to include a multipart file the server returns a 500 error. There are no console warnings or stack traces thrown, and the POST request endpoint is never hit according to my debugger.\r\n\r\nI&#39;ve tried working backwards, and replacing the `MultiPartFile` with just a `String` and changing the file attribute in the HTML to text, and it works just find sending `String`s and `int`s to the back end, but when I add the file type back in and switch the model to `MultipartFile`, it breaks...\r\n\r\nThe html form fragment, the submit button triggers the POST request to /new:\r\n\r\n```html\r\n    &lt;form method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; th:action=&quot;@{/release/new}&quot; class=&quot;mx-auto w-50&quot; th:object=&quot;${package}&quot;&gt;\r\n        &lt;th:block th:include=&quot;fragment/error-message.html&quot;&gt;&lt;/th:block&gt;\r\n        &lt;fieldset&gt;\r\n            &lt;legend&gt;Release Package Information&lt;/legend&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-sm-6 mb-3&quot;&gt;\r\n                    &lt;label&gt;Release Package ID&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter the release package ID&quot; th:field=&quot;*{releasePackageId}&quot;&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-sm-12 mb-3&quot;&gt;\r\n                    &lt;label&gt;Nomenclature&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter the part nomenclature&quot; th:field=&quot;*{nomenclature}&quot;&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-sm-12 mb-3&quot;&gt;\r\n                    &lt;label&gt;File&lt;/label&gt;\r\n                    &lt;input type=&quot;file&quot; class=&quot;form-control&quot; placeholder=&quot;Select the part to upload&quot; th:field=&quot;*{file}&quot;&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/fieldset&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-sm-6&quot;&gt;\r\n                &lt;a th:href=&quot;@{/release}&quot; class=&quot;btn btn-outline-secondary w-100&quot;&gt;\r\n                    Back\r\n                &lt;/a&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col-sm-6&quot;&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-outline-success w-100&quot;&gt;\r\n                    Submit\r\n                &lt;/button&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n```\r\n\r\nAnd here are the controller endpoints for /release/new:\r\n\r\n```java\r\n    @GetMapping(&quot;/new&quot;)\r\n    public ModelAndView showCreateReleasePackageForm()\r\n    {\r\n        return new ModelAndView(&quot;new-release&quot;).addObject(&quot;package&quot;, new CreateReleasePackageDTO());\r\n    }\r\n    \r\n    @PostMapping(&quot;/new&quot;)\r\n    public String createReleasePackage(@ModelAttribute(&quot;package&quot;) CreateReleasePackageDTO releasePackageDTO, BindingResult result, RedirectAttributes attributes)\r\n    {\r\n        if (result.hasErrors())\r\n        {\r\n            return &quot;new-release&quot;;\r\n        }\r\n        String response = &quot;a response&quot;;\r\n        System.out.println(releasePackageDTO.getReleasePackageId() + releasePackageDTO.getNomenclature() + releasePackageDTO.getFile());\r\n        // TODO: Exception handling\r\n        //  try\r\n        //  {\r\n        //      response = this.fileService.save(ReleasePackageMapper.toEntity(releasePackageDTO));\r\n        //  } catch (JsonProcessingException e)\r\n        //  {\r\n        //      response = e.getMessage();\r\n        //      e.printStackTrace();\r\n        //  }\r\n        attributes.addFlashAttribute(&quot;message&quot;, response);\r\n        return &quot;redirect:/release&quot;;\r\n    }\r\n```\r\n\r\nHere is the DTO, the model object I am calling &quot;package&quot;:\r\n\r\n```java\r\n    @Getter\r\n    @Setter\r\n    public class CreateReleasePackageDTO\r\n    {\r\n        @NotNull(message = &quot;{NotNull.releasePackageId}&quot;)\r\n        private int releasePackageId;\r\n    \r\n        @NotEmpty(message = &quot;{NotEmpty.nomenclature}&quot;)\r\n        private String nomenclature;\r\n    \r\n        @NotEmpty(message = &quot;{NotEmpty.multipartFile}&quot;)\r\n        private MultipartFile file;\r\n    }\r\n```","title":"How do I POST a file to my backend, using Thymeleaf with Spring&#39;s @ModelAttribute?","body":"<p>Using <code>@ModelAttribute</code> I am able to post form-data to my backend without issue, however when I try to include a multipart file the server returns a 500 error. There are no console warnings or stack traces thrown, and the POST request endpoint is never hit according to my debugger.</p>\n<p>I've tried working backwards, and replacing the <code>MultiPartFile</code> with just a <code>String</code> and changing the file attribute in the HTML to text, and it works just find sending <code>String</code>s and <code>int</code>s to the back end, but when I add the file type back in and switch the model to <code>MultipartFile</code>, it breaks...</p>\n<p>The html form fragment, the submit button triggers the POST request to /new:</p>\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;form method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; th:action=&quot;@{/release/new}&quot; class=&quot;mx-auto w-50&quot; th:object=&quot;${package}&quot;&gt;\n        &lt;th:block th:include=&quot;fragment/error-message.html&quot;&gt;&lt;/th:block&gt;\n        &lt;fieldset&gt;\n            &lt;legend&gt;Release Package Information&lt;/legend&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col-sm-6 mb-3&quot;&gt;\n                    &lt;label&gt;Release Package ID&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter the release package ID&quot; th:field=&quot;*{releasePackageId}&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col-sm-12 mb-3&quot;&gt;\n                    &lt;label&gt;Nomenclature&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter the part nomenclature&quot; th:field=&quot;*{nomenclature}&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col-sm-12 mb-3&quot;&gt;\n                    &lt;label&gt;File&lt;/label&gt;\n                    &lt;input type=&quot;file&quot; class=&quot;form-control&quot; placeholder=&quot;Select the part to upload&quot; th:field=&quot;*{file}&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/fieldset&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-sm-6&quot;&gt;\n                &lt;a th:href=&quot;@{/release}&quot; class=&quot;btn btn-outline-secondary w-100&quot;&gt;\n                    Back\n                &lt;/a&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;col-sm-6&quot;&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-outline-success w-100&quot;&gt;\n                    Submit\n                &lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>And here are the controller endpoints for /release/new:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/new&quot;)\n    public ModelAndView showCreateReleasePackageForm()\n    {\n        return new ModelAndView(&quot;new-release&quot;).addObject(&quot;package&quot;, new CreateReleasePackageDTO());\n    }\n    \n    @PostMapping(&quot;/new&quot;)\n    public String createReleasePackage(@ModelAttribute(&quot;package&quot;) CreateReleasePackageDTO releasePackageDTO, BindingResult result, RedirectAttributes attributes)\n    {\n        if (result.hasErrors())\n        {\n            return &quot;new-release&quot;;\n        }\n        String response = &quot;a response&quot;;\n        System.out.println(releasePackageDTO.getReleasePackageId() + releasePackageDTO.getNomenclature() + releasePackageDTO.getFile());\n        // TODO: Exception handling\n        //  try\n        //  {\n        //      response = this.fileService.save(ReleasePackageMapper.toEntity(releasePackageDTO));\n        //  } catch (JsonProcessingException e)\n        //  {\n        //      response = e.getMessage();\n        //      e.printStackTrace();\n        //  }\n        attributes.addFlashAttribute(&quot;message&quot;, response);\n        return &quot;redirect:/release&quot;;\n    }\n</code></pre>\n<p>Here is the DTO, the model object I am calling &quot;package&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Getter\n    @Setter\n    public class CreateReleasePackageDTO\n    {\n        @NotNull(message = &quot;{NotNull.releasePackageId}&quot;)\n        private int releasePackageId;\n    \n        @NotEmpty(message = &quot;{NotEmpty.nomenclature}&quot;)\n        private String nomenclature;\n    \n        @NotEmpty(message = &quot;{NotEmpty.multipartFile}&quot;)\n        private MultipartFile file;\n    }\n</code></pre>\n"},{"tags":["java","spring","database","hikaricp"],"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675290890,"creation_date":1675280872,"question_id":75315435,"body_markdown":"Getting below error while calling SP. Coneection established after some time when calling again getting below error\r\n```none\r\nERROR 1 --- [io-20001-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper&#160;&#160; : Connection is closed\r\n ERROR 1 --- [io-20001-exec-9] o.a.c.c.C.[.[.[.[dispatcherServlet]&#160;&#160;&#160;&#160;&#160; : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not prepare statement; nested exception is org.hibernate.exception.GenericJDBCException: could not prepare statement] with root cause&#160;java.sql.SQLException: Connection is closed\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515) ~[HikariCP-4.0.3.jar!/:na]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at com.sun.proxy.$Proxy107.prepareCall(Unknown Source) ~[na:na]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at com.zaxxer.hikari.pool.ProxyConnection.prepareCall(ProxyConnection.java:316) ~[HikariCP-4.0.3.jar!/:na]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at com.zaxxer.hikari.pool.HikariProxyConnection.prepareCall(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar!/:na]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:89) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:81) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:384) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:352) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:632) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.hibernate.procedure.internal.ProcedureCallImpl.getResultList(ProcedureCallImpl.java:719) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\r\n```\r\n\r\n\r\n    public DataSource msDataSource() {\r\n        DataSource dataSourceRaw = DataSourceBuilder.create().driverClassName(this.driveClassName).url(this.url).username(this.username).password(this.password).build();\r\n        HikariConfig hikariConfig = new HikariConfig();\r\n        hikariConfig.setDataSource(dataSourceRaw);\r\n        hikariConfig.setMaximumPoolSize(this.maxActive);\r\n        hikariConfig.setMinimumIdle(this.minIdle);\r\n        hikariConfig.setConnectionTimeout((long)this.maxWait);\r\n        hikariConfig.setPoolName(this.entityManagerName);\r\n        return new HikariDataSource(hikariConfig);\r\n    }\r\n\r\n\r\n    public LocalContainerEntityManagerFactoryBean msEntityManagerFactory(@Qualifier(&quot;msDataSource&quot;) DataSource msDataSource) {\r\n        LocalContainerEntityManagerFactoryBean emFactory = new LocalContainerEntityManagerFactoryBean();\r\n        emFactory.setDataSource(msDataSource);\r\n        emFactory.setPackagesToScan(new String[]{this.packageScanDir});\r\n        HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\r\n        adapter.setDatabasePlatform(&quot;org.hibernate.dialect.SQLServer2012Dialect&quot;);\r\n        emFactory.setJpaVendorAdapter(adapter);\r\n        emFactory.setPersistenceUnitName(this.entityManagerName);\r\n        emFactory.setPersistenceProviderClass(HibernatePersistenceProvider.class);\r\n        emFactory.afterPropertiesSet();\r\n        return emFactory;\r\n    }\r\n\r\n\r\n    public EntityManager mssqlEntityManager(@Qualifier(&quot;msEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean msEntityManagerFactory) {\r\n        return msEntityManagerFactory.getObject().createEntityManager();\r\n    }\r\n```","title":"com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515) ~[HikariCP-4.0.3.jar","body":"<p>Getting below error while calling SP. Coneection established after some time when calling again getting below error</p>\n<pre class=\"lang-none prettyprint-override\"><code>ERROR 1 --- [io-20001-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper : Connection is closed\n ERROR 1 --- [io-20001-exec-9] o.a.c.c.C.[.[.[.[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not prepare statement; nested exception is org.hibernate.exception.GenericJDBCException: could not prepare statement] with root causejava.sql.SQLException: Connection is closed\n at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515) ~[HikariCP-4.0.3.jar!/:na]\n at com.sun.proxy.$Proxy107.prepareCall(Unknown Source) ~[na:na]\n at com.zaxxer.hikari.pool.ProxyConnection.prepareCall(ProxyConnection.java:316) ~[HikariCP-4.0.3.jar!/:na]\n at com.zaxxer.hikari.pool.HikariProxyConnection.prepareCall(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar!/:na]\n at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:89) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\n at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\n at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:81) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\n at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:384) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\n at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:352) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\n at org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:632) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\n at org.hibernate.procedure.internal.ProcedureCallImpl.getResultList(ProcedureCallImpl.java:719) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\n</code></pre>\n<pre><code>public DataSource msDataSource() {\n    DataSource dataSourceRaw = DataSourceBuilder.create().driverClassName(this.driveClassName).url(this.url).username(this.username).password(this.password).build();\n    HikariConfig hikariConfig = new HikariConfig();\n    hikariConfig.setDataSource(dataSourceRaw);\n    hikariConfig.setMaximumPoolSize(this.maxActive);\n    hikariConfig.setMinimumIdle(this.minIdle);\n    hikariConfig.setConnectionTimeout((long)this.maxWait);\n    hikariConfig.setPoolName(this.entityManagerName);\n    return new HikariDataSource(hikariConfig);\n}\n\n\npublic LocalContainerEntityManagerFactoryBean msEntityManagerFactory(@Qualifier(&quot;msDataSource&quot;) DataSource msDataSource) {\n    LocalContainerEntityManagerFactoryBean emFactory = new LocalContainerEntityManagerFactoryBean();\n    emFactory.setDataSource(msDataSource);\n    emFactory.setPackagesToScan(new String[]{this.packageScanDir});\n    HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\n    adapter.setDatabasePlatform(&quot;org.hibernate.dialect.SQLServer2012Dialect&quot;);\n    emFactory.setJpaVendorAdapter(adapter);\n    emFactory.setPersistenceUnitName(this.entityManagerName);\n    emFactory.setPersistenceProviderClass(HibernatePersistenceProvider.class);\n    emFactory.afterPropertiesSet();\n    return emFactory;\n}\n\n\npublic EntityManager mssqlEntityManager(@Qualifier(&quot;msEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean msEntityManagerFactory) {\n    return msEntityManagerFactory.getObject().createEntityManager();\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","ping","pingfederate","pingaccess"],"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675290870,"creation_date":1675290870,"question_id":75316912,"body_markdown":"Pingaccess configure() method in @Rule class which extends RuleInterceptor class giving error while saving from UI\r\nI can see the value for the configuration pojo coming inside the configure() method","title":"Pingaccess getting error when saving rule","body":"<p>Pingaccess configure() method in @Rule class which extends RuleInterceptor class giving error while saving from UI\nI can see the value for the configuration pojo coming inside the configure() method</p>\n"},{"tags":["java","spring-boot","spring-cloud","spring-micrometer","micrometer-tracing"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1675289071,"post_id":75316559,"comment_id":132899407,"body_markdown":"I believe this is already auto configured https://github.com/spring-projects/spring-boot/blob/26e39b26f59f77eef3c3efaaee72dd4c2505a667/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/observation/web/client/RestTemplateObservationConfiguration.java#L44","body":"I believe this is already auto configured <a href=\"https://github.com/spring-projects/spring-boot/blob/26e39b26f59f77eef3c3efaaee72dd4c2505a667/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/observation/web/client/RestTemplateObservationConfiguration.java#L44\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675289114,"creation_date":1675289114,"answer_id":75316705,"question_id":75316559,"body_markdown":"RestTemplate is natively using micrometer observation api. You don&#39;t need to add anything on RestTemplate to have observability ","title":"how to migrate usage of TracingClientHttpRequestInterceptor with RestTemplate to springboot 3 with Micrometer Tracing?","body":"<p>RestTemplate is natively using micrometer observation api. You don't need to add anything on RestTemplate to have observability</p>\n"}],"owner":{"account_id":7137213,"reputation":92,"user_id":5456355,"display_name":"Sonka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75316705,"answer_count":1,"score":0,"last_activity_date":1675289114,"creation_date":1675288178,"question_id":75316559,"body_markdown":"I started the migration of a service to SpringBoot 3 and now I have a problem code that used  `org.springframework.cloud.sleuth.instrument.web.mvc.TracingInterceptor`\r\n   \r\n\r\n     restTemplate.getInterceptors().add(0,tracingInterceptor);\r\n\r\n I didn&#39;t find the analogy of `org.springframework.cloud.sleuth.instrument.web.mvc.TracingInterceptor` in the new Micrometer Tracing API. How to propagate `traceId` and `spanId` during calls to other services with `restTemplate`?\r\n\r\n","title":"how to migrate usage of TracingClientHttpRequestInterceptor with RestTemplate to springboot 3 with Micrometer Tracing?","body":"<p>I started the migration of a service to SpringBoot 3 and now I have a problem code that used  <code>org.springframework.cloud.sleuth.instrument.web.mvc.TracingInterceptor</code></p>\n<pre><code> restTemplate.getInterceptors().add(0,tracingInterceptor);\n</code></pre>\n<p>I didn't find the analogy of <code>org.springframework.cloud.sleuth.instrument.web.mvc.TracingInterceptor</code> in the new Micrometer Tracing API. How to propagate <code>traceId</code> and <code>spanId</code> during calls to other services with <code>restTemplate</code>?</p>\n"},{"tags":["java","graalvm","jaotc"],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675289042,"creation_date":1675288690,"answer_id":75316645,"question_id":75316542,"body_markdown":"You still need the JVM, because you just compiled a small portion i.e. &quot;your HelloWorld&quot; to native code. You still require a lot of the JVM to run your program. e.g. the Java standard library (which you haven&#39;t compiled to native code), class loading, detection of the program entry point (finding your main method), and garbage collection. All of this is provided by the JVM.\r\n\r\nIn short, you just compiled a library, a small part of your program, to native code. You don&#39;t compile the complete program to native code.\r\n\r\nThis is also stated by the [summary of JEP295][1]:\r\n\r\n&gt;Summary  \r\nCompile Java classes to native code prior to launching the virtual machine.\r\n\r\n\r\nI think what you actually want to do, is to [compile a native image][2] of your program. This would include all the implications like garbage collection from the JVM into the executable.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/295\r\n  [2]: https://www.graalvm.org/22.0/reference-manual/native-image/","title":"Why do I need JVM to run an AOT compiled code?","body":"<p>You still need the JVM, because you just compiled a small portion i.e. &quot;your HelloWorld&quot; to native code. You still require a lot of the JVM to run your program. e.g. the Java standard library (which you haven't compiled to native code), class loading, detection of the program entry point (finding your main method), and garbage collection. All of this is provided by the JVM.</p>\n<p>In short, you just compiled a library, a small part of your program, to native code. You don't compile the complete program to native code.</p>\n<p>This is also stated by the <a href=\"https://openjdk.org/jeps/295\" rel=\"noreferrer\">summary of JEP295</a>:</p>\n<blockquote>\n<p>Summary<br />\nCompile Java classes to native code prior to launching the virtual machine.</p>\n</blockquote>\n<p>I think what you actually want to do, is to <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/\" rel=\"noreferrer\">compile a native image</a> of your program. This would include all the implications like garbage collection from the JVM into the executable.</p>\n"}],"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75316645,"answer_count":1,"score":3,"last_activity_date":1675289042,"creation_date":1675288016,"question_id":75316542,"body_markdown":"Im learning about GraalVM and AOT and I was reading the [spec for AOT][1] and then I got confused, if AOT compiles my code to machine code (native) why do I need a JVM?&lt;br/&gt;\r\nwhy I need this:\r\n\r\n    java -XX:AOTLibrary=./libHelloWorld.so HelloWorld\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/295","title":"Why do I need JVM to run an AOT compiled code?","body":"<p>Im learning about GraalVM and AOT and I was reading the <a href=\"https://openjdk.org/jeps/295\" rel=\"nofollow noreferrer\">spec for AOT</a> and then I got confused, if AOT compiles my code to machine code (native) why do I need a JVM?<br/>\nwhy I need this:</p>\n<pre><code>java -XX:AOTLibrary=./libHelloWorld.so HelloWorld\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":73019,"reputation":17177,"user_id":210526,"accept_rate":82,"display_name":"unholysampler"},"score":0,"creation_date":1329854633,"post_id":9384227,"comment_id":11854566,"body_markdown":"You say that you don&#39;t want to catch the exception, why? How are you going to handle the case when the type doesn&#39;t exits?","body":"You say that you don&#39;t want to catch the exception, why? How are you going to handle the case when the type doesn&#39;t exits?"},{"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"score":0,"creation_date":1329854680,"post_id":9384227,"comment_id":11854577,"body_markdown":"Because it&#39;s a runtime exception and catching runtime exceptions is a major no-no. This is my predicament","body":"Because it&#39;s a runtime exception and catching runtime exceptions is a major no-no. This is my predicament"},{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":3,"creation_date":1329854913,"post_id":9384227,"comment_id":11854669,"body_markdown":"`Animal implements Mammal`? Shouldn&#39;t this be the other way around? Mammals are a subclass of Animals...","body":"<code>Animal implements Mammal</code>? Shouldn&#39;t this be the other way around? Mammals are a subclass of Animals..."},{"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"score":0,"creation_date":1329855837,"post_id":9384227,"comment_id":11855026,"body_markdown":"Animals, humans, etc.. are all Mammals. Notwithstanding, it was just a cursory example","body":"Animals, humans, etc.. are all Mammals. Notwithstanding, it was just a cursory example"},{"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"score":0,"creation_date":1329855952,"post_id":9384227,"comment_id":11855066,"body_markdown":"@joeblackdev If I understood correctly, You cant take Mammal as an argument to search, because its not an enum its just an interface there wont be values() method in it.","body":"@joeblackdev If I understood correctly, You cant take Mammal as an argument to search, because its not an enum its just an interface there wont be values() method in it."},{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":2,"creation_date":1329855978,"post_id":9384227,"comment_id":11855081,"body_markdown":"No, they aren&#39;t. Crocodiles are animals, but not mammals.","body":"No, they aren&#39;t. Crocodiles are animals, but not mammals."},{"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"score":0,"creation_date":1329856293,"post_id":9384227,"comment_id":11855203,"body_markdown":"@SajanChandran I don&#39;t follow you. I take a string argument. Where does it mention that a Mammal argument is passed to the &#39;findMammal&#39; method?","body":"@SajanChandran I don&#39;t follow you. I take a string argument. Where does it mention that a Mammal argument is passed to the &#39;findMammal&#39; method?"},{"owner":{"account_id":73019,"reputation":17177,"user_id":210526,"accept_rate":82,"display_name":"unholysampler"},"score":7,"creation_date":1329856663,"post_id":9384227,"comment_id":11855328,"body_markdown":"@Joeblackdev: That kind of generalized rule is causing you unneeded frustration. `parseInt()` throws a runtime exception, but that doesn&#39;t mean I shouldn&#39;t catch it when validating user input. This is why I asked about how you were planning on using it. If you have a situation where you will regularly not find a result, an exception being thrown is no different than returning null. It is just an indication that no match was found and you need to properly handle that situation.","body":"@Joeblackdev: That kind of generalized rule is causing you unneeded frustration. <code>parseInt()</code> throws a runtime exception, but that doesn&#39;t mean I shouldn&#39;t catch it when validating user input. This is why I asked about how you were planning on using it. If you have a situation where you will regularly not find a result, an exception being thrown is no different than returning null. It is just an indication that no match was found and you need to properly handle that situation."}],"answers":[{"comments":[{"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"score":0,"creation_date":1329854726,"post_id":9384347,"comment_id":11854597,"body_markdown":"Can you elaborate a little on the hashmap approach? Thanks","body":"Can you elaborate a little on the hashmap approach? Thanks"},{"owner":{"account_id":33617,"reputation":1850,"user_id":94225,"display_name":"St.Shadow"},"score":0,"creation_date":1416820708,"post_id":9384347,"comment_id":42706820,"body_markdown":"Human.values() is almost equal to EnumSet.allOf(Human.class) and could be used in foreach loop.","body":"Human.values() is almost equal to EnumSet.allOf(Human.class) and could be used in foreach loop."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1329854636,"creation_date":1329854636,"answer_id":9384347,"question_id":9384227,"body_markdown":"How about creating a `HashMap&lt;String, Mammal&gt;`? You only need to do it once...\r\n\r\n    public class Foo {\r\n\r\n      private static final Map&lt;String, Mammal&gt; NAME_TO_MAMMAL_MAP;\r\n\r\n      static {\r\n        NAME_TO_MAMMAL_MAP = new HashMap&lt;String, Mammal&gt;();\r\n        for (Human human : EnumSet.allOf(Human.class)) {\r\n          NAME_TO_MAMMAL_MAP.put(human.name(), human);\r\n        }\r\n        for (Animal animal : EnumSet.allOf(Animal.class)) {\r\n          NAME_TO_MAMMAL_MAP.put(animal.name(), animal);\r\n        }\r\n      }\r\n\r\n      public static Mammal bar(final String arg) {\r\n        return NAME_TO_MAMMAL_MAP.get(arg);\r\n      }\r\n    }\r\n\r\nNotes:\r\n\r\n- This will return `null` if the name doesn&#39;t exist\r\n- This won&#39;t detect a name collision\r\n- You may want to use an immutable map of some description (e.g. via [Guava][1])\r\n- You may wish to write a utility method to create an immutable name-to-value map for a general enum, then just merge the maps :)\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<p>How about creating a <code>HashMap&lt;String, Mammal&gt;</code>? You only need to do it once...</p>\n\n<pre><code>public class Foo {\n\n  private static final Map&lt;String, Mammal&gt; NAME_TO_MAMMAL_MAP;\n\n  static {\n    NAME_TO_MAMMAL_MAP = new HashMap&lt;String, Mammal&gt;();\n    for (Human human : EnumSet.allOf(Human.class)) {\n      NAME_TO_MAMMAL_MAP.put(human.name(), human);\n    }\n    for (Animal animal : EnumSet.allOf(Animal.class)) {\n      NAME_TO_MAMMAL_MAP.put(animal.name(), animal);\n    }\n  }\n\n  public static Mammal bar(final String arg) {\n    return NAME_TO_MAMMAL_MAP.get(arg);\n  }\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>This will return <code>null</code> if the name doesn't exist</li>\n<li>This won't detect a name collision</li>\n<li>You may want to use an immutable map of some description (e.g. via <a href=\"http://guava-libraries.googlecode.com\" rel=\"noreferrer\">Guava</a>)</li>\n<li>You may wish to write a utility method to create an immutable name-to-value map for a general enum, then just merge the maps :)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"score":0,"creation_date":1329855974,"post_id":9384472,"comment_id":11855076,"body_markdown":"I should have elaborated. My apologies. The argument supplied to Animal.findMammal is dynamic. I hardcoded it for brevity","body":"I should have elaborated. My apologies. The argument supplied to Animal.findMammal is dynamic. I hardcoded it for brevity"},{"owner":{"account_id":268741,"reputation":1229,"user_id":557664,"display_name":"alex"},"score":0,"creation_date":1329856404,"post_id":9384472,"comment_id":11855237,"body_markdown":"almost thought so. My Edit shows a version that binds the find-implementation to the interface (without a need to know the enum type that implements it).","body":"almost thought so. My Edit shows a version that binds the find-implementation to the interface (without a need to know the enum type that implements it)."}],"tags":[],"owner":{"account_id":268741,"reputation":1229,"user_id":557664,"display_name":"alex"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329856227,"creation_date":1329855219,"answer_id":9384472,"question_id":9384227,"body_markdown":"If you can say\r\n\r\n    m = Animal.findMammal(&quot;CAT&quot;);\r\n\r\nWhy can&#39;t you say\r\n\r\n    m = Animal.CAT;\r\n\r\n\r\nThe &quot;CAT&quot; will have to match the enums name anyway and in your Example, &quot;CAT&quot; is not derived from a parameter but is hardcoded.\r\n\r\n**UPDATE**\r\n(perhaps more to the point of the question)\r\n\r\nIt is a bit elaborate, but...\r\n\r\n    public interface Mammal{\r\n\r\n        public void doMammalStuff();\r\n\r\n        public static interface Finder{\r\n            public Mammal find(String name, Class&lt;Enum&lt;?&gt;&gt; enumType);\r\n        }\r\n\t\r\n        public static Finder FINDER = new Finder(){\r\n            public Mammal find(String name, Class&lt;Enum&lt;?&gt;&gt; enumType) {\r\n\t            return enumType.forName( name );\r\n\t    };\r\n        };\r\n    }\r\n\r\nThen you could call\r\n\r\n    Mammal m = Mammal.FINDER.find( &quot;CAT&quot;, Animal.class );\r\n\r\nYour implementation of find() may look different (i.e. not throwing an exception).","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<p>If you can say</p>\n\n<pre><code>m = Animal.findMammal(\"CAT\");\n</code></pre>\n\n<p>Why can't you say</p>\n\n<pre><code>m = Animal.CAT;\n</code></pre>\n\n<p>The \"CAT\" will have to match the enums name anyway and in your Example, \"CAT\" is not derived from a parameter but is hardcoded.</p>\n\n<p><strong>UPDATE</strong>\n(perhaps more to the point of the question)</p>\n\n<p>It is a bit elaborate, but...</p>\n\n<pre><code>public interface Mammal{\n\n    public void doMammalStuff();\n\n    public static interface Finder{\n        public Mammal find(String name, Class&lt;Enum&lt;?&gt;&gt; enumType);\n    }\n\n    public static Finder FINDER = new Finder(){\n        public Mammal find(String name, Class&lt;Enum&lt;?&gt;&gt; enumType) {\n            return enumType.forName( name );\n    };\n    };\n}\n</code></pre>\n\n<p>Then you could call</p>\n\n<pre><code>Mammal m = Mammal.FINDER.find( \"CAT\", Animal.class );\n</code></pre>\n\n<p>Your implementation of find() may look different (i.e. not throwing an exception).</p>\n"},{"comments":[{"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"score":0,"creation_date":1329856073,"post_id":9384616,"comment_id":11855115,"body_markdown":"Hhmm, I&#39;m not happy about that though. I want to avoid catching the runtime exception. I just don&#39;t like doing that.","body":"Hhmm, I&#39;m not happy about that though. I want to avoid catching the runtime exception. I just don&#39;t like doing that."},{"owner":{"account_id":241614,"reputation":9009,"user_id":512535,"accept_rate":80,"display_name":"Dmitri"},"score":4,"creation_date":1329860827,"post_id":9384616,"comment_id":11856809,"body_markdown":"If you really don&#39;t want to catch runtime exceptions (seems pretty arbitrary, to be honest), you can always search the values, or use a backing map - similar to Jon&#39;s answer, but populated automatically and not limited to Animal enums.","body":"If you really don&#39;t want to catch runtime exceptions (seems pretty arbitrary, to be honest), you can always search the values, or use a backing map - similar to Jon&#39;s answer, but populated automatically and not limited to Animal enums."}],"tags":[],"owner":{"account_id":241614,"reputation":9009,"user_id":512535,"accept_rate":80,"display_name":"Dmitri"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1329855901,"creation_date":1329855901,"answer_id":9384616,"question_id":9384227,"body_markdown":"If you don&#39;t want to touch every Enum (understandable), a utility method is the way to go. I understand not wanting to catch the exception in your code, catching it in the method should be fine, though:\r\n\r\n    public static &lt;T extends Enum&lt;T&gt;&gt; T findEnumValue(Class&lt;T&gt; type, String name) {\r\n        if (name == null)\r\n            return null;\r\n        try {\r\n            return Enum.valueOf(type, name.toUpperCase());\r\n        } catch (IllegalArgumentException iae) {\r\n            return null;\r\n        }\r\n    }","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<p>If you don't want to touch every Enum (understandable), a utility method is the way to go. I understand not wanting to catch the exception in your code, catching it in the method should be fine, though:</p>\n\n<pre><code>public static &lt;T extends Enum&lt;T&gt;&gt; T findEnumValue(Class&lt;T&gt; type, String name) {\n    if (name == null)\n        return null;\n    try {\n        return Enum.valueOf(type, name.toUpperCase());\n    } catch (IllegalArgumentException iae) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330073038,"creation_date":1330073038,"answer_id":9427779,"question_id":9384227,"body_markdown":"You have an error in your code. If you need your function to return null when it doesn&#39;t find something, simply return it:\r\n\r\n    enum Animal implements Mammal {\r\n       CAT, DOG;\r\n    \r\n       public static Mammal findMammal(final String type) {\r\n          for (Animal a : Animal.values()) {\r\n             if (a.name().equals(type)) {\r\n                return a;\r\n    \t     }\r\n          }\r\n          return null; // this line works if nothing is found.\r\n       }\r\n    }\r\n\r\nNo technology will help if you would do the same error and forget to create some return value for every possible case. \r\n\r\n\r\nYour choose : Enum - EnumMaps - HashMap depends on the dynamics of your data. Enums constants can&#39;t be created in runtime. On the other hand, you don&#39;t need to check many things in runtime - compiler will do it. And you very probably will forget to check something. What Jon Skeet manages easily could give you a headache.","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<p>You have an error in your code. If you need your function to return null when it doesn't find something, simply return it:</p>\n\n<pre><code>enum Animal implements Mammal {\n   CAT, DOG;\n\n   public static Mammal findMammal(final String type) {\n      for (Animal a : Animal.values()) {\n         if (a.name().equals(type)) {\n            return a;\n         }\n      }\n      return null; // this line works if nothing is found.\n   }\n}\n</code></pre>\n\n<p>No technology will help if you would do the same error and forget to create some return value for every possible case. </p>\n\n<p>Your choose : Enum - EnumMaps - HashMap depends on the dynamics of your data. Enums constants can't be created in runtime. On the other hand, you don't need to check many things in runtime - compiler will do it. And you very probably will forget to check something. What Jon Skeet manages easily could give you a headache.</p>\n"},{"comments":[{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":3,"creation_date":1449850857,"post_id":15803895,"comment_id":56199878,"body_markdown":"Seems removed, probably in favor of `Enums.getIfPresent(Country.class, countryInput).or(Country.DEFAULT);`, which is nice. Link is still OK.","body":"Seems removed, probably in favor of <code>Enums.getIfPresent(Country.class, countryInput).or(Country.DEFAULT);</code>, which is nice. Link is still OK."},{"owner":{"account_id":2622630,"reputation":4796,"user_id":2270340,"accept_rate":67,"display_name":"Sayan Pal"},"score":1,"creation_date":1501593723,"post_id":15803895,"comment_id":77839020,"body_markdown":"Since `Enum` variable can be `null` in Java, `Enums.getIfPresent(Country.class, countryInput).orNull();` can also be useful.","body":"Since <code>Enum</code> variable can be <code>null</code> in Java, <code>Enums.getIfPresent(Country.class, countryInput).orNull();</code> can also be useful."}],"tags":[],"owner":{"account_id":1981205,"reputation":3263,"user_id":1777790,"display_name":"Andrzej Polis"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365056505,"creation_date":1365056505,"answer_id":15803895,"question_id":9384227,"body_markdown":"You can use guava library. [Enums][1] class allows this:\r\n\r\n    Enums.valueOfFunction(MyEnum.class).apply(id);\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Enums.html#valueOfFunction(java.lang.Class)","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<p>You can use guava library. <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Enums.html#valueOfFunction%28java.lang.Class%29\" rel=\"noreferrer\">Enums</a> class allows this:</p>\n\n<pre><code>Enums.valueOfFunction(MyEnum.class).apply(id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434753837,"creation_date":1434753837,"answer_id":30948343,"question_id":9384227,"body_markdown":"I don&#39;t get the question but I also needed a `valueOf` that returns `null` instead of throwing an exception, so I created this utility method:\r\n\r\n\tpublic static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(T[] values, String name)\r\n\t{\r\n\t\tfor (T value : values) {\r\n\t\t\tif (value.name().equals(name)) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nYou could call it like this:\r\n\r\n    Animal a = valueOf(Animal.values(), &quot;CAT&quot;);\r\n","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<p>I don't get the question but I also needed a <code>valueOf</code> that returns <code>null</code> instead of throwing an exception, so I created this utility method:</p>\n\n<pre><code>public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(T[] values, String name)\n{\n    for (T value : values) {\n        if (value.name().equals(name)) {\n            return value;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>You could call it like this:</p>\n\n<pre><code>Animal a = valueOf(Animal.values(), \"CAT\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3782994,"reputation":403,"user_id":3141881,"display_name":"Fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1444811640,"creation_date":1444811640,"answer_id":33120397,"question_id":9384227,"body_markdown":"You can use the [getEnum][1] Method vom the apache [EnumUtils][2] library. It returns the enum or `null` if not found.\r\n\r\n    EnumUtils.getEnum(Animal.class, &quot;CAT&quot;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/EnumUtils.html#getEnum(java.lang.Class,%20java.lang.String)\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/EnumUtils.html","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<p>You can use the <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/EnumUtils.html#getEnum(java.lang.Class,%20java.lang.String)\" rel=\"noreferrer\">getEnum</a> Method vom the apache <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/EnumUtils.html\" rel=\"noreferrer\">EnumUtils</a> library. It returns the enum or <code>null</code> if not found.</p>\n\n<pre><code>EnumUtils.getEnum(Animal.class, \"CAT\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8792169,"reputation":481,"user_id":6571548,"display_name":"HIMANSHU GOYAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675288736,"creation_date":1675288736,"answer_id":75316652,"question_id":9384227,"body_markdown":"    import com.google.common.base.Enums;\r\n\r\n    return Enums.getIfPresent(Animal.class, value).or(&quot;default_animal&quot;));\r\n\r\nOR\r\n\r\n    return Enums.getIfPresent(Animal.class, value).orNull());\r\n\r\nOR\r\n\r\n    if (Enums.getIfPresent(Animal.class, value).isPresent()) {\r\n        // take action\r\n    }\r\n","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<pre><code>import com.google.common.base.Enums;\n\nreturn Enums.getIfPresent(Animal.class, value).or(&quot;default_animal&quot;));\n</code></pre>\n<p>OR</p>\n<pre><code>return Enums.getIfPresent(Animal.class, value).orNull());\n</code></pre>\n<p>OR</p>\n<pre><code>if (Enums.getIfPresent(Animal.class, value).isPresent()) {\n    // take action\n}\n</code></pre>\n"}],"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50342,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":9384347,"answer_count":8,"score":14,"last_activity_date":1675288736,"creation_date":1329854111,"question_id":9384227,"body_markdown":"I have the following enum\r\n\r\n    enum Animal implements Mammal {\r\n       CAT, DOG;\r\n    \r\n       public static Mammal findMammal(final String type) {\r\n          for (Animal a : Animal.values()) {\r\n             if (a.name().equals(type)) {\r\n                return a;\r\n    \t     }\r\n          }\r\n       }\r\n    }\r\n\r\nI had originally used the `Enum.valueOf(Animal.class, &quot;DOG&quot;);` to find a particular Animal. However, I was unaware that if a match is not found, an `IllegalArgumentException` is thrown. I thought that maybe a null was returned. So this gives me a problem. I don&#39;t want to catch this `IllegalArgumentException` if a match is not found. I want to be able to search all enums of type `Mammal` and I don&#39;t want to have to implement this static &#39;`findMammal`&#39; for each enum of type `Mammal`. So my question is, what would be the most auspicious design decision to implement this behaviour? I will have calling code like this:\r\n\r\n    public class Foo {\r\n       public Mammal bar(final String arg) {\r\n          Mammal m = null;\r\n          if (arg.equals(&quot;SomeValue&quot;)) {\r\n             m = Animal.findMammal(&quot;CAT&quot;);\r\n          } else if (arg.equals(&quot;AnotherValue&quot;) {\r\n             m = Human.findMammal(&quot;BILL&quot;);\r\n          }\r\n          // ... etc\r\n       }\r\n    }\r\n\r\nAs you can see, I have different types of Mammal - &#39;Animal&#39;, &#39;Human&#39;, which are enums. I don&#39;t want to have to implement &#39;findMammal&#39; for each Mammal enum. I suppose the best bet is just create a utility class which takes a Mammal argument and searches that? Maybe there&#39;s a neater solution. ","title":"Retrieving an enum using &#39;valueOf&#39; throws RuntimeException - What to use instead?","body":"<p>I have the following enum</p>\n\n<pre><code>enum Animal implements Mammal {\n   CAT, DOG;\n\n   public static Mammal findMammal(final String type) {\n      for (Animal a : Animal.values()) {\n         if (a.name().equals(type)) {\n            return a;\n         }\n      }\n   }\n}\n</code></pre>\n\n<p>I had originally used the <code>Enum.valueOf(Animal.class, \"DOG\");</code> to find a particular Animal. However, I was unaware that if a match is not found, an <code>IllegalArgumentException</code> is thrown. I thought that maybe a null was returned. So this gives me a problem. I don't want to catch this <code>IllegalArgumentException</code> if a match is not found. I want to be able to search all enums of type <code>Mammal</code> and I don't want to have to implement this static '<code>findMammal</code>' for each enum of type <code>Mammal</code>. So my question is, what would be the most auspicious design decision to implement this behaviour? I will have calling code like this:</p>\n\n<pre><code>public class Foo {\n   public Mammal bar(final String arg) {\n      Mammal m = null;\n      if (arg.equals(\"SomeValue\")) {\n         m = Animal.findMammal(\"CAT\");\n      } else if (arg.equals(\"AnotherValue\") {\n         m = Human.findMammal(\"BILL\");\n      }\n      // ... etc\n   }\n}\n</code></pre>\n\n<p>As you can see, I have different types of Mammal - 'Animal', 'Human', which are enums. I don't want to have to implement 'findMammal' for each Mammal enum. I suppose the best bet is just create a utility class which takes a Mammal argument and searches that? Maybe there's a neater solution. </p>\n"},{"tags":["java","testing","jakarta-ee","jboss-arquillian"],"comments":[{"owner":{"account_id":1894365,"reputation":1054,"user_id":1711667,"display_name":"bartosz.majsak"},"score":0,"creation_date":1669106718,"post_id":74521223,"comment_id":131562368,"body_markdown":"Does it mean when you upgrade your dependencies to Jakarta EE 10 it is not working?","body":"Does it mean when you upgrade your dependencies to Jakarta EE 10 it is not working?"},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1669128423,"post_id":74521223,"comment_id":131570345,"body_markdown":"Yes, i get  java.lang.RuntimeException: Could not create new instance of class org.jboss.arquillian.test.impl.EventTestRunnerAdaptor and i can not find a way to resolve it.","body":"Yes, i get  java.lang.RuntimeException: Could not create new instance of class org.jboss.arquillian.test.impl.EventTestRunnerAdaptor and i can not find a way to resolve it."},{"owner":{"account_id":1894365,"reputation":1054,"user_id":1711667,"display_name":"bartosz.majsak"},"score":0,"creation_date":1669219984,"post_id":74521223,"comment_id":131596364,"body_markdown":"I would suggest opening an issue in the project if you won&#39;t get an answer here  https://github.com/arquillian/arquillian-core/issues/new","body":"I would suggest opening an issue in the project if you won&#39;t get an answer here  <a href=\"https://github.com/arquillian/arquillian-core/issues/new\" rel=\"nofollow noreferrer\">github.com/arquillian/arquillian-core/issues/new</a>"},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1698352925,"post_id":74521223,"comment_id":136398357,"body_markdown":"I&#39;ve found this : https://github.com/arquillian/arquillian-core/issues/444","body":"I&#39;ve found this : <a href=\"https://github.com/arquillian/arquillian-core/issues/444\" rel=\"nofollow noreferrer\">github.com/arquillian/arquillian-core/issues/444</a>"}],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675288616,"creation_date":1669044468,"question_id":74521223,"body_markdown":"i have search a lot about it but i couldnt find the right answer. So here is my question. Is there any instruction how to configure Arquillian with Jakarta EE 10?\r\n\r\nI have tried to find some informations and i found some articles like this : https://medium.com/swlh/testing-jakarta-ee-9-components-with-arquillian-and-weld-f9e1add08895\r\n\r\nBut its about Jakarta EE 9.\r\n\r\nIf you give me any advices i will be so grateful. Thanks.","title":"Arquillian in Jakarta EE 10","body":"<p>i have search a lot about it but i couldnt find the right answer. So here is my question. Is there any instruction how to configure Arquillian with Jakarta EE 10?</p>\n<p>I have tried to find some informations and i found some articles like this : <a href=\"https://medium.com/swlh/testing-jakarta-ee-9-components-with-arquillian-and-weld-f9e1add08895\" rel=\"nofollow noreferrer\">https://medium.com/swlh/testing-jakarta-ee-9-components-with-arquillian-and-weld-f9e1add08895</a></p>\n<p>But its about Jakarta EE 9.</p>\n<p>If you give me any advices i will be so grateful. Thanks.</p>\n"},{"tags":["java","gradle","build.gradle","artifactory"],"answers":[{"comments":[{"owner":{"account_id":1718515,"reputation":371,"user_id":1575067,"accept_rate":40,"display_name":"chivas_hvn"},"score":0,"creation_date":1628497686,"post_id":68686204,"comment_id":121426826,"body_markdown":"I have moved the dependencies clause outside of the repositories clause but still, JARs are not added to the Project and External Dependencies. Doing Gradle refresh is displaying the below output in the console. Please advise. ------\n\n\nCould not resolve: org.jfrog.example.gradle:gradle-example-ci-server:1.0\n&gt; Task :nothing UP-TO-DATE\nCould not resolve: org.jfrog.example.gradle:gradle-example-ci-server:1.0\n\nBUILD SUCCESSFUL in 8s","body":"I have moved the dependencies clause outside of the repositories clause but still, JARs are not added to the Project and External Dependencies. Doing Gradle refresh is displaying the below output in the console. Please advise. ------   Could not resolve: org.jfrog.example.gradle:gradle-example-ci-server:1.0 &gt; Task :nothing UP-TO-DATE Could not resolve: org.jfrog.example.gradle:gradle-example-ci-server:1.0  BUILD SUCCESSFUL in 8s"},{"owner":{"account_id":4172811,"reputation":5347,"user_id":4233342,"display_name":"yahavi"},"score":0,"creation_date":1628498843,"post_id":68686204,"comment_id":121427257,"body_markdown":"Do you have gradle-example-ci-server in the default-maven-local repository? Look at this path: `default-maven-local/org/jfrog/example/gradle/gradle-example-ci-server`","body":"Do you have gradle-example-ci-server in the default-maven-local repository? Look at this path: <code>default-maven-local&#47;org&#47;jfrog&#47;example&#47;gradle&#47;gradle-example-&zwnj;&#8203;ci-server</code>"},{"owner":{"account_id":1718515,"reputation":371,"user_id":1575067,"accept_rate":40,"display_name":"chivas_hvn"},"score":0,"creation_date":1628503965,"post_id":68686204,"comment_id":121429251,"body_markdown":"Yes, the gradle-example-ci-server.1.0.jar is on the correct path. I have attached the JFrog repo screenshot to the main question for reference. Look into it and advise I am missing something ??","body":"Yes, the gradle-example-ci-server.1.0.jar is on the correct path. I have attached the JFrog repo screenshot to the main question for reference. Look into it and advise I am missing something ??"}],"tags":[],"owner":{"account_id":4172811,"reputation":5347,"user_id":4233342,"display_name":"yahavi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628359139,"creation_date":1628275093,"answer_id":68686204,"question_id":68682256,"body_markdown":"The `dependencies` clause should not be in the `repositories` clause. Try to move it out:\r\n```groovy\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n        credentials {\r\n            username = &quot;${gradleUser}&quot;\r\n            password = &quot;${gradlePassword}&quot;\r\n        }\r\n        url &quot;https://leranartifactory.jfrog.io/artifactory/default-maven-local/&quot;\r\n        authentication {\r\n            basic(BasicAuthentication)\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compile(group: &#39;org.jfrog.example.gradle&#39;, name: &#39;gradle-example-ci-server&#39;, version: &#39;1.0&#39;)\r\n}\r\n```","title":"JAR from JFrog Artifactory downloading to the Gradle cache but not displaying in Project and External Dependencies","body":"<p>The <code>dependencies</code> clause should not be in the <code>repositories</code> clause. Try to move it out:</p>\n<pre><code>repositories {\n    mavenLocal()\n    maven {\n        credentials {\n            username = &quot;${gradleUser}&quot;\n            password = &quot;${gradlePassword}&quot;\n        }\n        url &quot;https://leranartifactory.jfrog.io/artifactory/default-maven-local/&quot;\n        authentication {\n            basic(BasicAuthentication)\n        }\n    }\n}\n\ndependencies {\n    compile(group: 'org.jfrog.example.gradle', name: 'gradle-example-ci-server', version: '1.0')\n}\n</code></pre>\n"}],"owner":{"account_id":1718515,"reputation":371,"user_id":1575067,"accept_rate":40,"display_name":"chivas_hvn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675288599,"creation_date":1628255913,"question_id":68682256,"body_markdown":"My Java Gradle project is not resolving JARs to the **Project and External Dependencies**. However, I have checked the **Gradle cache** location(*/Users/Name/.gradle/caches/modules-2/org.jfrog.example.gradle/gradle-example-ci-server/1.0*) and it is present there. Below is my build.gradle code. Advise what I am missing here.\r\n\r\n```groovy\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;eclipse&#39;\r\n\r\ntargetCompatibility = 10\r\nsourceCompatibility = 10\r\n\r\neclipse {\r\n    classpath {\r\n        downloadSources = true\r\n    }\r\n}\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n        credentials {\r\n            username = &quot;${gradleUser}&quot;\r\n            password = &quot;${gradlePassword}&quot;\r\n        }\r\n        url &quot;https://leranartifactory.jfrog.io/artifactory/default-maven-local/&quot;\r\n        authentication {\r\n            basic(BasicAuthentication)\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile(group: &#39;org.jfrog.example.gradle&#39;, name: &#39;gradle-example-ci-server&#39;, version: &#39;1.0&#39;)\r\n    }\r\n}\r\n\r\n```\r\n\r\nJFrog Repo Screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tCPyV.jpg","title":"JAR from JFrog Artifactory downloading to the Gradle cache but not displaying in Project and External Dependencies","body":"<p>My Java Gradle project is not resolving JARs to the <strong>Project and External Dependencies</strong>. However, I have checked the <strong>Gradle cache</strong> location(<em>/Users/Name/.gradle/caches/modules-2/org.jfrog.example.gradle/gradle-example-ci-server/1.0</em>) and it is present there. Below is my build.gradle code. Advise what I am missing here.</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\n\ntargetCompatibility = 10\nsourceCompatibility = 10\n\neclipse {\n    classpath {\n        downloadSources = true\n    }\n}\nrepositories {\n    mavenLocal()\n    maven {\n        credentials {\n            username = &quot;${gradleUser}&quot;\n            password = &quot;${gradlePassword}&quot;\n        }\n        url &quot;https://leranartifactory.jfrog.io/artifactory/default-maven-local/&quot;\n        authentication {\n            basic(BasicAuthentication)\n        }\n    }\n\n    dependencies {\n        compile(group: 'org.jfrog.example.gradle', name: 'gradle-example-ci-server', version: '1.0')\n    }\n}\n\n</code></pre>\n<p>JFrog Repo Screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/tCPyV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tCPyV.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","azure","databricks"],"answers":[{"tags":[],"owner":{"account_id":13810709,"reputation":186,"user_id":10324657,"display_name":"vindobona"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675288520,"creation_date":1675288520,"answer_id":75316614,"question_id":75313804,"body_markdown":"You can start jobs remotely by using the [Databricks Jobs REST API][1] \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/databricks/dev-tools/api/2.0/jobs#--run-now","title":"Is it possible to manage or call jobs of a Databricks cluster from Java Code?","body":"<p>You can start jobs remotely by using the <a href=\"https://learn.microsoft.com/en-us/azure/databricks/dev-tools/api/2.0/jobs#--run-now\" rel=\"nofollow noreferrer\">Databricks Jobs REST API</a></p>\n"}],"owner":{"account_id":16685430,"reputation":1,"user_id":13117046,"display_name":"Isusko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675288520,"creation_date":1675271536,"question_id":75313804,"body_markdown":"I have a succesful connection in a Java simple code using jdbc string connection. I would just want to know if calling a job of Azure Databricks cluster from Java code would be possible and how?\r\n\r\nThe only thing that seems possible to do is calling SQL Statements using this kind of connection but no calls to the databricks cluster. Any ideas?\r\n\r\nThanks beforehand","title":"Is it possible to manage or call jobs of a Databricks cluster from Java Code?","body":"<p>I have a succesful connection in a Java simple code using jdbc string connection. I would just want to know if calling a job of Azure Databricks cluster from Java code would be possible and how?</p>\n<p>The only thing that seems possible to do is calling SQL Statements using this kind of connection but no calls to the databricks cluster. Any ideas?</p>\n<p>Thanks beforehand</p>\n"},{"tags":["java","macos","terminal","java-home"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675287072,"post_id":75316306,"comment_id":132898892,"body_markdown":"What did you change? Presumably theres something in your ZSH configuration printing this.","body":"What did you change? Presumably theres something in your ZSH configuration printing this."}],"answers":[{"tags":[],"owner":{"account_id":21432702,"reputation":27,"user_id":15788753,"display_name":"adiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675288208,"creation_date":1675288208,"answer_id":75316565,"question_id":75316306,"body_markdown":"thanks to Tim Moore i remember make modification in &quot;.zshrc &quot; so i used command:\r\n\r\n&gt; nano .zshrc\r\n\r\n i delete what a did in this file.\r\nand the probleme is gone","title":"mac os Terminal name issue","body":"<p>thanks to Tim Moore i remember make modification in &quot;.zshrc &quot; so i used command:</p>\n<blockquote>\n<p>nano .zshrc</p>\n</blockquote>\n<p>i delete what a did in this file.\nand the probleme is gone</p>\n"}],"owner":{"account_id":21432702,"reputation":27,"user_id":15788753,"display_name":"adiv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675676599,"answer_count":1,"score":0,"last_activity_date":1675288208,"creation_date":1675286429,"question_id":75316306,"body_markdown":"i&#39;m new in macOs environment and after trying to set java home path a have now my terminal like that every time i launch it:\r\n\r\nLast login: Wed Feb  1 22:03:04 on ttys001\r\nexport JAVA_HOME=$(/Users/myname/libexec/java_home)\r\nmyname@157 ~ % \r\n\r\n\r\n\r\nplease someone can help me to recover my terminal to his original state.","title":"mac os Terminal name issue","body":"<p>i'm new in macOs environment and after trying to set java home path a have now my terminal like that every time i launch it:</p>\n<p>Last login: Wed Feb  1 22:03:04 on ttys001\nexport JAVA_HOME=$(/Users/myname/libexec/java_home)\nmyname@157 ~ %</p>\n<p>please someone can help me to recover my terminal to his original state.</p>\n"},{"tags":["java","spring","junit","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1445436649,"post_id":33256702,"comment_id":54324238,"body_markdown":"You are running your test case wrong. You are using Spring Boot then use the appropriate way of testing. Instead of `ContextConfiguration` use `SpringApplicationConfiguration`.","body":"You are running your test case wrong. You are using Spring Boot then use the appropriate way of testing. Instead of <code>ContextConfiguration</code> use <code>SpringApplicationConfiguration</code>."}],"answers":[{"comments":[{"owner":{"account_id":1698471,"reputation":1463,"user_id":1559249,"accept_rate":50,"display_name":""},"score":4,"creation_date":1445426770,"post_id":33257039,"comment_id":54317205,"body_markdown":"Thanks very much for your help! I add &#39;code&#39;@TestPropertySource(locations=&quot;classpath:test.properties&quot;)&#39;code&#39;, and it works. Thanks again!","body":"Thanks very much for your help! I add &#39;code&#39;@TestPropertySource(locations=&quot;classpath:test.properti&zwnj;&#8203;es&quot;)&#39;code&#39;, and it works. Thanks again!"},{"owner":{"account_id":2500687,"reputation":1634,"user_id":2175883,"display_name":"Ian Newland"},"score":2,"creation_date":1483215262,"post_id":33257039,"comment_id":70026300,"body_markdown":"Just to clarify, you need to add the &#39;@TestPropertySource...&#39; to your java class that is running the test.","body":"Just to clarify, you need to add the &#39;@TestPropertySource...&#39; to your java class that is running the test."},{"owner":{"account_id":6834220,"reputation":122,"user_id":10785002,"display_name":" "},"score":0,"creation_date":1674058450,"post_id":33257039,"comment_id":132635042,"body_markdown":"`@TestPropertySource(locations=&quot;classpath:test.properties&quot;)` was solution for my problem","body":"<code>@TestPropertySource(locations=&quot;classpath:test.properties&quot;)</code> was solution for my problem"}],"tags":[],"owner":{"account_id":430530,"reputation":13790,"user_id":814025,"accept_rate":77,"display_name":"Maleen Abewardana"},"comment_count":3,"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1445423628,"creation_date":1445423628,"answer_id":33257039,"question_id":33256702,"body_markdown":"You need to add \r\n\r\n&gt; @PropertySource(&quot;classpath:application.properties&quot;)\r\n\r\nto your class, so it will pick your normal configurations.\r\n\r\nIf you need different configurations for test you can add \r\n\r\n&gt; @TestPropertySource(locations=&quot;classpath:test.properties&quot;)\r\n\r\n**If not just copy paste your config file to** `test/resources` **folder**, then boot will pick from there.\r\n\r\nSee [this][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29669393/override-default-spring-boot-application-properties-settings-in-junit-test","title":"@Value &quot;Could not resolve placeholder&quot; in Spring Boot Test","body":"<p>You need to add </p>\n\n<blockquote>\n  <p>@PropertySource(\"classpath:application.properties\")</p>\n</blockquote>\n\n<p>to your class, so it will pick your normal configurations.</p>\n\n<p>If you need different configurations for test you can add </p>\n\n<blockquote>\n  <p>@TestPropertySource(locations=\"classpath:test.properties\")</p>\n</blockquote>\n\n<p><strong>If not just copy paste your config file to</strong> <code>test/resources</code> <strong>folder</strong>, then boot will pick from there.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/29669393/override-default-spring-boot-application-properties-settings-in-junit-test\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":344176,"reputation":2206,"user_id":676344,"accept_rate":43,"display_name":"nucatus"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1478696689,"creation_date":1478696689,"answer_id":40507726,"question_id":33256702,"body_markdown":"You can use the `@SpringBootTest` that will do create the `PropertySourcesPlaceholderConfigurer` automatically.\r\n\r\nThis is described in the Testing chapter of the Spring Boot documentation.\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility","title":"@Value &quot;Could not resolve placeholder&quot; in Spring Boot Test","body":"<p>You can use the <code>@SpringBootTest</code> that will do create the <code>PropertySourcesPlaceholderConfigurer</code> automatically.</p>\n\n<p>This is described in the Testing chapter of the Spring Boot documentation.</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility</a></p>\n"},{"tags":[],"owner":{"account_id":6084213,"reputation":1143,"user_id":4748886,"display_name":"horizon7"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1581510032,"creation_date":1579013641,"answer_id":59736272,"question_id":33256702,"body_markdown":"You have annotated your test class with `@ContextConfiguration(classes = {ApplicationTest.class})`. Wherein `ApplicationTest.class` does the component scan on a mentioned package. When you run your test it tries to find the configuration from the resources folder in &#39;main&#39; instead of &#39;test&#39;. If you annotate your class with `@SpringBootTest(classes = {ClassToBeTested.class})` or just `@SpringBootTest` in this particular case, I think (not 100% sure) it will create a limited context and pick up the properties from test/resources.\r\n\r\nIf your properties are test specific, you can name your properties/yml file as `application-test.properties` or `application-test.yml`. And use `@ActiveProfiles(&quot;test&quot;)` in your test class so that it will always read test specific properties file. \r\n\r\nI usually use this solution which works for me.","title":"@Value &quot;Could not resolve placeholder&quot; in Spring Boot Test","body":"<p>You have annotated your test class with <code>@ContextConfiguration(classes = {ApplicationTest.class})</code>. Wherein <code>ApplicationTest.class</code> does the component scan on a mentioned package. When you run your test it tries to find the configuration from the resources folder in 'main' instead of 'test'. If you annotate your class with <code>@SpringBootTest(classes = {ClassToBeTested.class})</code> or just <code>@SpringBootTest</code> in this particular case, I think (not 100% sure) it will create a limited context and pick up the properties from test/resources.</p>\n\n<p>If your properties are test specific, you can name your properties/yml file as <code>application-test.properties</code> or <code>application-test.yml</code>. And use <code>@ActiveProfiles(\"test\")</code> in your test class so that it will always read test specific properties file. </p>\n\n<p>I usually use this solution which works for me.</p>\n"},{"tags":[],"owner":{"account_id":11279763,"reputation":447,"user_id":8272661,"display_name":"S.B."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675288024,"creation_date":1675288024,"answer_id":75316543,"question_id":33256702,"body_markdown":"For me the issue was related to the profile set for the application properties. \r\n\r\n### `application.yml`:\r\n\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile: local\r\n    mongodb:\r\n      uri: mongodb+srv:/\r\n\r\n### Class with reference to value: \r\n\r\n    @Value(&quot;${mongodb.uri}&quot;)\r\n    private String uri;\r\n\r\n### Resolution in test class method:\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;local&quot;)\r\n    class myTestClass {","title":"@Value &quot;Could not resolve placeholder&quot; in Spring Boot Test","body":"<p>For me the issue was related to the profile set for the application properties.</p>\n<h3><code>application.yml</code>:</h3>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: local\nmongodb:\n  uri: mongodb+srv:/\n</code></pre>\n<h3>Class with reference to value:</h3>\n<pre><code>@Value(&quot;${mongodb.uri}&quot;)\nprivate String uri;\n</code></pre>\n<h3>Resolution in test class method:</h3>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;local&quot;)\nclass myTestClass {\n</code></pre>\n"}],"owner":{"account_id":1698471,"reputation":1463,"user_id":1559249,"accept_rate":50,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125011,"favorite_count":0,"down_vote_count":1,"up_vote_count":58,"accepted_answer_id":33257039,"answer_count":4,"score":57,"last_activity_date":1675288024,"creation_date":1445422650,"question_id":33256702,"body_markdown":"I want to take a Junit test for Spring-boot as below:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {ApplicationTest.class})\r\n    public class TestOnSpring {\r\n\t    @Value(&quot;${app.name}&quot;)\r\n\t    private String appName;\r\n\r\n\t    @Test\r\n\t    public void testValue(){\r\n\t\t    System.out.println(appName);\r\n\t    }\r\n    }\r\n\r\nand ApplicationTest.java like this\r\n\r\n    @ComponentScan(&quot;org.nerve.jiepu&quot;)\r\n    @EnableAutoConfiguration()\r\n    public class ApplicationTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ApplicationTest.class, args);\r\n    \t}\r\n    }\r\n\r\nand my POM like this:\r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\nWhen I run the test, I got below error information\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;app.name&#39; in string value &quot;${app.name}&quot;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:204)\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:178)\r\n    \tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:807)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1027)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:543)\r\n    \t... 31 more\r\n\r\nBut When I run this application as normal Java Application\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\nIt work well! \r\n\r\nWhat&#39;s wrong with it ? How should I take the junit test with Spring-boot?\r\nThanks a lot!","title":"@Value &quot;Could not resolve placeholder&quot; in Spring Boot Test","body":"<p>I want to take a Junit test for Spring-boot as below:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {ApplicationTest.class})\npublic class TestOnSpring {\n    @Value(\"${app.name}\")\n    private String appName;\n\n    @Test\n    public void testValue(){\n        System.out.println(appName);\n    }\n}\n</code></pre>\n\n<p>and ApplicationTest.java like this</p>\n\n<pre><code>@ComponentScan(\"org.nerve.jiepu\")\n@EnableAutoConfiguration()\npublic class ApplicationTest {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ApplicationTest.class, args);\n    }\n}\n</code></pre>\n\n<p>and my POM like this:</p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0.BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n\n<p>When I run the test, I got below error information</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'app.name' in string value \"${app.name}\"\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:204)\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:178)\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:807)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1027)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:543)\n    ... 31 more\n</code></pre>\n\n<p>But When I run this application as normal Java Application</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args){\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>It work well! </p>\n\n<p>What's wrong with it ? How should I take the junit test with Spring-boot?\nThanks a lot!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1675285663,"post_id":75316178,"comment_id":132898518,"body_markdown":"Have you considered having `SomeOtherFile` contain a single `private SetOfThings setOfThings`? That would be the typical way to contain one data structure in another.","body":"Have you considered having <code>SomeOtherFile</code> contain a single <code>private SetOfThings setOfThings</code>? That would be the typical way to contain one data structure in another."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675286339,"post_id":75316178,"comment_id":132898705,"body_markdown":"Being specific might improve your Question. Also, your use of the word &quot;File&quot; here is confusing, as that implies a [file system](https://en.wikipedia.org/wiki/File_system).","body":"Being specific might improve your Question. Also, your use of the word &quot;File&quot; here is confusing, as that implies a <a href=\"https://en.wikipedia.org/wiki/File_system\" rel=\"nofollow noreferrer\">file system</a>."}],"answers":[{"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1675329355,"post_id":75316469,"comment_id":132906510,"body_markdown":"Also helpful to OP would be deep/shallow copying in case he doesnt want modifying one SetOfThing to modify another if they are both given same object.","body":"Also helpful to OP would be deep/shallow copying in case he doesnt want modifying one SetOfThing to modify another if they are both given same object."}],"tags":[],"owner":{"account_id":24749609,"reputation":81,"user_id":18635297,"display_name":"Math_Guerin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675287509,"creation_date":1675287509,"answer_id":75316469,"question_id":75316178,"body_markdown":"What you could do is in your constructor of `SomeOtherFile.java`to add a private variable `SetOfThings things;` your code could look something like this\r\n\r\n**SetOfThings.java**\r\n\r\n        public class SetOfThings {\r\n       // For the sake of the question, say these can change\r\n       // from time to time\r\n       public int someNumber = 1;\r\n       public string someString = &quot;Java is kinda challenging sometimes...&quot;;\r\n       public Joystick example = new Joystick(someNumber);\r\n    }\r\n**SomeOtherFile.java**\r\n\r\n        public class SomeOtherFile {\r\n               private SetOfThings setOfThings; //this is so you can access all the SetOfThings variables\r\n               public SomeOtherFile(SetOfThings things){\r\n                    this.setOfThings=things //attribute things to the private variable\r\n               }\r\n        }\r\nlike this you have access to your `SetOfThings.java` in your `SomeOtherFile.java`.\r\nIf your values don&#39;t change you also have the option to simply declare a `SetOfThing` object in your `SomeOtherFile` \r\n\r\n    SetOfThing myObjectInOtherClass=new SetOfThing();","title":"Is there a way to declare a private object from another file?","body":"<p>What you could do is in your constructor of <code>SomeOtherFile.java</code>to add a private variable <code>SetOfThings things;</code> your code could look something like this</p>\n<p><strong>SetOfThings.java</strong></p>\n<pre><code>    public class SetOfThings {\n   // For the sake of the question, say these can change\n   // from time to time\n   public int someNumber = 1;\n   public string someString = &quot;Java is kinda challenging sometimes...&quot;;\n   public Joystick example = new Joystick(someNumber);\n}\n</code></pre>\n<p><strong>SomeOtherFile.java</strong></p>\n<pre><code>    public class SomeOtherFile {\n           private SetOfThings setOfThings; //this is so you can access all the SetOfThings variables\n           public SomeOtherFile(SetOfThings things){\n                this.setOfThings=things //attribute things to the private variable\n           }\n    }\n</code></pre>\n<p>like this you have access to your <code>SetOfThings.java</code> in your <code>SomeOtherFile.java</code>.\nIf your values don't change you also have the option to simply declare a <code>SetOfThing</code> object in your <code>SomeOtherFile</code></p>\n<pre><code>SetOfThing myObjectInOtherClass=new SetOfThing();\n</code></pre>\n"}],"owner":{"account_id":19586126,"reputation":3,"user_id":16165119,"display_name":"AGreatUsernameChoice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75316469,"answer_count":1,"score":0,"last_activity_date":1675287858,"creation_date":1675285504,"question_id":75316178,"body_markdown":"Okay, I really cannot find a good way to put this into words. Is there a way to declare all things in a public class, but privately and in another file/class **without knowing what all the objects are**? Here&#39;s an example.\r\n\r\n**SetOfThings.java**\r\n```java\r\npublic class SetOfThings {\r\n   // For the sake of the question, say these can change\r\n   // from time to time\r\n   public int someNumber = 1;\r\n   public string someString = &quot;Java is kinda challenging sometimes...&quot;;\r\n   public Joystick example = new Joystick(someNumber);\r\n}\r\n```\r\n**SomeOtherFile.java**\r\n```java\r\npublic class SomeOtherFile {\r\n   /** Some way to recreate all the public objects from \r\n    * SetOfThings with the same values, but private \r\n    * (perhaps final, too?) and without having to \r\n    * know what all the objects in SetOfThings are.\r\n    */\r\n}\r\n```\r\n\r\n\r\nI&#39;ve already searched around, but as I said, I can&#39;t figure out how to word it without being overly specific. Currently, I&#39;d have to edit each and every file to update the things I&#39;m calling that are used separately.","title":"Is there a way to declare a private object from another file?","body":"<p>Okay, I really cannot find a good way to put this into words. Is there a way to declare all things in a public class, but privately and in another file/class <strong>without knowing what all the objects are</strong>? Here's an example.</p>\n<p><strong>SetOfThings.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SetOfThings {\n   // For the sake of the question, say these can change\n   // from time to time\n   public int someNumber = 1;\n   public string someString = &quot;Java is kinda challenging sometimes...&quot;;\n   public Joystick example = new Joystick(someNumber);\n}\n</code></pre>\n<p><strong>SomeOtherFile.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeOtherFile {\n   /** Some way to recreate all the public objects from \n    * SetOfThings with the same values, but private \n    * (perhaps final, too?) and without having to \n    * know what all the objects in SetOfThings are.\n    */\n}\n</code></pre>\n<p>I've already searched around, but as I said, I can't figure out how to word it without being overly specific. Currently, I'd have to edit each and every file to update the things I'm calling that are used separately.</p>\n"},{"tags":["java","inputstream","gzipinputstream"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1675280525,"post_id":75315328,"comment_id":132896970,"body_markdown":"Compress it locally, get the size of the resulting content, and then stream the result.","body":"Compress it locally, get the size of the resulting content, and then stream the result."},{"owner":{"account_id":11604930,"reputation":36,"user_id":8500983,"display_name":"Edgar Silva"},"score":0,"creation_date":1675280628,"post_id":75315328,"comment_id":132896994,"body_markdown":"this is a option, but I cannot do that :(","body":"this is a option, but I cannot do that :("},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1675280758,"post_id":75315328,"comment_id":132897016,"body_markdown":"If you need the compressed size after streaming it, then you can just replace `copyLarge()` by a custom method (6 lines of code?) and count the bytes. If you need the compressed size in advance, then you&#39;ll need to compress the content locally first to get its compressed size.","body":"If you need the compressed size after streaming it, then you can just replace <code>copyLarge()</code> by a custom method (6 lines of code?) and count the bytes. If you need the compressed size in advance, then you&#39;ll need to compress the content locally first to get its compressed size."},{"owner":{"account_id":11604930,"reputation":36,"user_id":8500983,"display_name":"Edgar Silva"},"score":0,"creation_date":1675280985,"post_id":75315328,"comment_id":132897078,"body_markdown":"if I do a count I will be counting the uncompressed size, where I can just use the `CountingOutputStream`","body":"if I do a count I will be counting the uncompressed size, where I can just use the <code>CountingOutputStream</code>"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1675281036,"post_id":75315328,"comment_id":132897093,"body_markdown":"Pipe it! Just add another stream at the tail.","body":"Pipe it! Just add another stream at the tail."},{"owner":{"account_id":11604930,"reputation":36,"user_id":8500983,"display_name":"Edgar Silva"},"score":0,"creation_date":1675281170,"post_id":75315328,"comment_id":132897129,"body_markdown":"sorry, I am not getting","body":"sorry, I am not getting"},{"owner":{"account_id":11604930,"reputation":36,"user_id":8500983,"display_name":"Edgar Silva"},"score":0,"creation_date":1675281218,"post_id":75315328,"comment_id":132897149,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251553/discussion-between-edgar-silva-and-the-impaler).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251553/discussion-between-edgar-silva-and-the-impaler\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":11604930,"reputation":36,"user_id":8500983,"display_name":"Edgar Silva"},"score":0,"creation_date":1675281570,"post_id":75315503,"comment_id":132897260,"body_markdown":"I just tried that, it will return the byte size that was transferred, not there compressed","body":"I just tried that, it will return the byte size that was transferred, not there compressed"},{"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"score":0,"creation_date":1675281719,"post_id":75315503,"comment_id":132897314,"body_markdown":"Yeah, I was just adding a bit to my answer. Kinda figures. You will just have to use a temp file, which you&#39;d probably need anyway. I think IOUtils has routines to make all that easy, or you can use the newer style Path interface.","body":"Yeah, I was just adding a bit to my answer. Kinda figures. You will just have to use a temp file, which you&#39;d probably need anyway. I think IOUtils has routines to make all that easy, or you can use the newer style Path interface."}],"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675281635,"creation_date":1675281224,"answer_id":75315503,"question_id":75315328,"body_markdown":"CopyLarge() returns the number of bytes copied. I would assume this is true even if the output is discarded, so all you need is to capture the return value of IOUtils.copyLarge(in,out) and you should be good to go, but this does assume the return value is bytes WRITTEN and not bytes READ, which is not really documented. So it might work! \r\n\r\nIn general though, you are assuming you can turn the output stream back into an input stream, so nullOutputStream() is not going to be an option. Instead you will be creating a temp file, writing your compressed data to it, and then closing it. At that point you can simply ask the file system API how big it is, that should be iron clad. \r\n","title":"InputStream to GZIPInputStream, and I need to know the size of the GZIPInputStream","body":"<p>CopyLarge() returns the number of bytes copied. I would assume this is true even if the output is discarded, so all you need is to capture the return value of IOUtils.copyLarge(in,out) and you should be good to go, but this does assume the return value is bytes WRITTEN and not bytes READ, which is not really documented. So it might work!</p>\n<p>In general though, you are assuming you can turn the output stream back into an input stream, so nullOutputStream() is not going to be an option. Instead you will be creating a temp file, writing your compressed data to it, and then closing it. At that point you can simply ask the file system API how big it is, that should be iron clad.</p>\n"},{"tags":[],"owner":{"account_id":11604930,"reputation":36,"user_id":8500983,"display_name":"Edgar Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675287796,"creation_date":1675287796,"answer_id":75316515,"question_id":75315328,"body_markdown":"hey I think I found the solution :) \r\n\r\n\r\n\r\n```\r\n \tparam: MultipartFile file\r\n\r\n            try (InputStream inputStream = file.getInputStream()) {\r\n\r\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                GZIPOutputStream gzipOutputStream = new GZIPOutputStream(byteArrayOutputStream);\r\n\r\n                inputStream.transferTo(gzipOutputStream);\r\n                InputStream compressedInputStream = new ByteArrayInputStream(byteArrayOutputStream.toByteArray());\r\n\r\n                byteArrayOutputStream.size() // is the compressed size  \t\r\n\r\n\r\n            }\r\n```\r\n\r\nThanks guys!","title":"InputStream to GZIPInputStream, and I need to know the size of the GZIPInputStream","body":"<p>hey I think I found the solution :)</p>\n<pre><code>    param: MultipartFile file\n\n            try (InputStream inputStream = file.getInputStream()) {\n\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                GZIPOutputStream gzipOutputStream = new GZIPOutputStream(byteArrayOutputStream);\n\n                inputStream.transferTo(gzipOutputStream);\n                InputStream compressedInputStream = new ByteArrayInputStream(byteArrayOutputStream.toByteArray());\n\n                byteArrayOutputStream.size() // is the compressed size      \n\n\n            }\n</code></pre>\n<p>Thanks guys!</p>\n"}],"owner":{"account_id":11604930,"reputation":36,"user_id":8500983,"display_name":"Edgar Silva"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75316515,"answer_count":2,"score":0,"last_activity_date":1675287796,"creation_date":1675280202,"question_id":75315328,"body_markdown":"I have a `MultipartFile` and I need to compress inputStream as gzip and sent it, but I need to find a way to compress it and know the compressed size of it \r\n\r\n\r\n```\r\n\r\nparam: MultipartFile file\r\n\r\n        try(var inputStream = file.getInputStream()) {\r\n\r\n            var outputStream = new GZIPOutputStream(OutputStream.nullOutputStream());\r\n\r\n            IOUtils.copyLarge(inputStream, outputStream);\r\n\r\n           var compressedInputStream = someConvertMerthod(outputStream);\r\n\r\n\r\n            sendCompressed(compressedInputStream, compressedSize)\r\n        }\r\n```\r\nMaybe I can do something like this https://stackoverflow.com/questions/12322073/java-how-do-i-convert-inputstream-to-gzipinputstream but I am not gonna be a able to get the compressedSize\r\n\r\n\r\nI am not finding an easy way to do it :( ","title":"InputStream to GZIPInputStream, and I need to know the size of the GZIPInputStream","body":"<p>I have a <code>MultipartFile</code> and I need to compress inputStream as gzip and sent it, but I need to find a way to compress it and know the compressed size of it</p>\n<pre><code>\nparam: MultipartFile file\n\n        try(var inputStream = file.getInputStream()) {\n\n            var outputStream = new GZIPOutputStream(OutputStream.nullOutputStream());\n\n            IOUtils.copyLarge(inputStream, outputStream);\n\n           var compressedInputStream = someConvertMerthod(outputStream);\n\n\n            sendCompressed(compressedInputStream, compressedSize)\n        }\n</code></pre>\n<p>Maybe I can do something like this <a href=\"https://stackoverflow.com/questions/12322073/java-how-do-i-convert-inputstream-to-gzipinputstream\">Java: How do I convert InputStream to GZIPInputStream?</a> but I am not gonna be a able to get the compressedSize</p>\n<p>I am not finding an easy way to do it :(</p>\n"},{"tags":["java","utc","iso8601","gmt"],"comments":[{"owner":{"account_id":1020505,"reputation":16348,"user_id":1030974,"accept_rate":81,"display_name":"devnull69"},"score":1,"creation_date":1464869821,"post_id":37589693,"comment_id":62667950,"body_markdown":"1) no, as there is a summer offset. UTC doesn&#39;t change with summer offset. 2) YYYY-MM-DDTHH:MM:SS+01:00","body":"1) no, as there is a summer offset. UTC doesn&#39;t change with summer offset. 2) YYYY-MM-DDTHH:MM:SS+01:00"},{"owner":{"account_id":1460675,"reputation":1175,"user_id":1375107,"accept_rate":72,"display_name":"QVSJ"},"score":0,"creation_date":1464871813,"post_id":37589693,"comment_id":62669432,"body_markdown":"So the time given by the program for the above example should be 2016-06-01T11:33:54.000+01:00  you mean?","body":"So the time given by the program for the above example should be 2016-06-01T11:33:54.000+01:00  you mean?"},{"owner":{"account_id":1020505,"reputation":16348,"user_id":1030974,"accept_rate":81,"display_name":"devnull69"},"score":1,"creation_date":1464872184,"post_id":37589693,"comment_id":62669759,"body_markdown":"No it should be either `2016-06-01T11:33:54.000Z` or `2016-06-01T12:33:54.000+01:00` or `2016-06-01T13:33:54.000+02:00` or `2016-06-01T15:03:54.000+03:30` or or or anything","body":"No it should be either <code>2016-06-01T11:33:54.000Z</code> or <code>2016-06-01T12:33:54.000+01:00</code> or <code>2016-06-01T13:33:54.000+02:00</code> or <code>2016-06-01T15:03:54.000+03:30</code> or or or anything"},{"owner":{"account_id":1460675,"reputation":1175,"user_id":1375107,"accept_rate":72,"display_name":"QVSJ"},"score":0,"creation_date":1464872270,"post_id":37589693,"comment_id":62669838,"body_markdown":"thanks !! This helped.","body":"thanks !! This helped."}],"answers":[{"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1464870023,"post_id":37591680,"comment_id":62668094,"body_markdown":"2) No, you can&#39;t. ISO 8601 clearly says that zero offset is `Z` only.","body":"2) No, you can&#39;t. ISO 8601 clearly says that zero offset is <code>Z</code> only."},{"owner":{"account_id":1020505,"reputation":16348,"user_id":1030974,"accept_rate":81,"display_name":"devnull69"},"score":0,"creation_date":1464870098,"post_id":37591680,"comment_id":62668151,"body_markdown":"You can still use either Z or +00:00","body":"You can still use either Z or +00:00"},{"owner":{"account_id":1020505,"reputation":16348,"user_id":1030974,"accept_rate":81,"display_name":"devnull69"},"score":2,"creation_date":1464870288,"post_id":37591680,"comment_id":62668285,"body_markdown":"In your notation `SS.SSS` it&#39;s milliseconds rather than microseconds. But you can use any fraction you like","body":"In your notation <code>SS.SSS</code> it&#39;s milliseconds rather than microseconds. But you can use any fraction you like"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1464870617,"post_id":37591680,"comment_id":62668536,"body_markdown":"@vikingsteve The Wikipedia entry is either ambigiuous or false. I have just opened up ISO 8601:2006, original German version, chapter 4.2.4 (translated): &quot;Time in UTC. To express time in UTC you have to.., no space followed by UTC character [Z]...&quot;","body":"@vikingsteve The Wikipedia entry is either ambigiuous or false. I have just opened up ISO 8601:2006, original German version, chapter 4.2.4 (translated): &quot;Time in UTC. To express time in UTC you have to.., no space followed by UTC character [Z]...&quot;"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1464871008,"post_id":37591680,"comment_id":62668806,"body_markdown":"@Michael-O Fair enough, maybe it is misleading - in any case java data formats support usage of the timezone.","body":"@Michael-O Fair enough, maybe it is misleading - in any case java data formats support usage of the timezone."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1464871096,"post_id":37591680,"comment_id":62668885,"body_markdown":"@vikingsteve Parsing yes, but not printing. `XXX` will always write `Z`. I&#39;d recommend to change your answer.","body":"@vikingsteve Parsing yes, but not printing. <code>XXX</code> will always write <code>Z</code>. I&#39;d recommend to change your answer."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1464871408,"post_id":37591680,"comment_id":62669111,"body_markdown":"Printing - how... `SimpleDateFormat`? It uses the timezone of the Locale, not &#39;Z&#39;. Example: I live in Oslo, output is `2016-06-154T14:06:98.098+0200`.","body":"Printing - how... <code>SimpleDateFormat</code>? It uses the timezone of the Locale, not &#39;Z&#39;. Example: I live in Oslo, output is <code>2016-06-154T14:06:98.098+0200</code>."},{"owner":{"account_id":1460675,"reputation":1175,"user_id":1375107,"accept_rate":72,"display_name":"QVSJ"},"score":0,"creation_date":1464872207,"post_id":37591680,"comment_id":62669776,"body_markdown":"@vikingsteve After the edit it is a lot more clear. , then in the example  in question, the correct output should be 2016-06-01T12:33:54.000+01:00 right? Which means I will have to assume for 1) the program is buggy and I have to correct? I have accepted anser. You could correct the details? Thanks a lot!","body":"@vikingsteve After the edit it is a lot more clear. , then in the example  in question, the correct output should be 2016-06-01T12:33:54.000+01:00 right? Which means I will have to assume for 1) the program is buggy and I have to correct? I have accepted anser. You could correct the details? Thanks a lot!"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1464872468,"post_id":37591680,"comment_id":62669983,"body_markdown":"It depends completely on how the code in the program works. Do you have access to the program&#39;s code, can we see if it uses a `SimpleDateFormat` and if so what is the String? In any case, both `2016-06-01T11:33:54.000Z` and `2016-06-01T12:33:54.000+01:00` are correct because they are the same point in time! A preference for one or the other depends completely on your program and the problem domain you are working in (do you have a specification?).","body":"It depends completely on how the code in the program works. Do you have access to the program&#39;s code, can we see if it uses a <code>SimpleDateFormat</code> and if so what is the String? In any case, both <code>2016-06-01T11:33:54.000Z</code> and <code>2016-06-01T12:33:54.000+01:00</code> are correct because they are the same point in time! A preference for one or the other depends completely on your program and the problem domain you are working in (do you have a specification?)."},{"owner":{"account_id":1460675,"reputation":1175,"user_id":1375107,"accept_rate":72,"display_name":"QVSJ"},"score":0,"creation_date":1464873032,"post_id":37591680,"comment_id":62670450,"body_markdown":"This is an issue I faced in an application UI while testing. Since I was more familiar with Java I asked it with a java tag first. Thought this is a generic issue and I can apply the answer in the context of the application.I do not have access to the exact methods being used unfortunately.","body":"This is an issue I faced in an application UI while testing. Since I was more familiar with Java I asked it with a java tag first. Thought this is a generic issue and I can apply the answer in the context of the application.I do not have access to the exact methods being used unfortunately."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1464873299,"post_id":37591680,"comment_id":62670659,"body_markdown":"It looks like your program will always give a date/time in Zulu and that&#39;s actually the best situation from an interoperability standpoint (for example if you need to send the date/time to another program) but from a UI standpoint then the output will most possibly need to be localised somehow.","body":"It looks like your program will always give a date/time in Zulu and that&#39;s actually the best situation from an interoperability standpoint (for example if you need to send the date/time to another program) but from a UI standpoint then the output will most possibly need to be localised somehow."},{"owner":{"account_id":14647523,"reputation":1394,"user_id":10578421,"display_name":"Derryl Thomas"},"score":1,"creation_date":1582624847,"post_id":37591680,"comment_id":106832943,"body_markdown":"Random FYI - you should perhaps use yyyy instead of YYYY in the SimpleDateFormat. They don&#39;t mean the same and could break your program towards the end of the year. Learnt this the hard way. Stay safe!","body":"Random FYI - you should perhaps use yyyy instead of YYYY in the SimpleDateFormat. They don&#39;t mean the same and could break your program towards the end of the year. Learnt this the hard way. Stay safe!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1618064932,"post_id":37591680,"comment_id":118491902,"body_markdown":"Please, you shouldnt teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. We have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`. Also the java.time classes produce ISO 8601 format from `toString()`, so without any explicit formatter.","body":"Please, you shouldnt teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>. Also the java.time classes produce ISO 8601 format from <code>toString()</code>, so without any explicit formatter."}],"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":13,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1617982691,"creation_date":1464869921,"answer_id":37591680,"question_id":37589693,"body_markdown":"Firstly please have a read of the iso8601 information. It&#39;s becoming more common place to deal with times in different time zones (e.g. server time zone and client time zone) and the standard is really useful.\r\n\r\nIn particular please read about UTC or &quot;Zulu&quot; time [here][1].\r\n\r\n1) The program is correct, since the London time is one hour ahead of &quot;UTC&quot; time in summer\r\n\r\n2) The trailing &#39;Z&#39; is a short notation for UTC (Zulu). You could also write &quot;+00:00&quot; instead of &#39;Z&#39;. The SS.SSS refer to seconds and milliseconds - not related to the time zone. In devnull&#39;s comment he shows you how to apply an offset for summer.\r\n\r\n**Edit**:\r\n\r\nThere&#39;s been some discussion in the comments about whether iso8601 timezone includes timezone or not, and whether timezone will in fact be printed out.\r\n\r\nThis depends completely on the date/time implementation. If we are using `SimpleDateFormat` then timezone is supported and will be printed.\r\n\r\nHere&#39;s a code example to illustrate\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    System.out.println(formatter.format(new Date()));\r\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;Europe/London&quot;));\r\n    System.out.println(formatter.format(new Date()));\r\n\r\nOutput\r\n\r\n    2016-06-02T12:53:14.924Z\r\n    2016-06-02T13:53:14.925+01:00\r\n\r\nNaturally, if you are using a different date/time library such as `joda-time`, then the implentation details will be different.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601#UTC\r\n\r\n**Edit:** As @DerrylThomas pointed out with `SimpleDateFormat` wise to use lower case _y_ for years - unless it&#39;s intended to use week year - explained in a bit of detail in another answer to a similar question https://stackoverflow.com/a/56911450.","title":"Understanding specific UTC time format YYYY-MM-DDTHH:MM:SS.SSSZ","body":"<p>Firstly please have a read of the iso8601 information. It's becoming more common place to deal with times in different time zones (e.g. server time zone and client time zone) and the standard is really useful.</p>\n<p>In particular please read about UTC or &quot;Zulu&quot; time <a href=\"https://en.wikipedia.org/wiki/ISO_8601#UTC\" rel=\"nofollow noreferrer\">here</a>.</p>\n<ol>\n<li><p>The program is correct, since the London time is one hour ahead of &quot;UTC&quot; time in summer</p>\n</li>\n<li><p>The trailing 'Z' is a short notation for UTC (Zulu). You could also write &quot;+00:00&quot; instead of 'Z'. The SS.SSS refer to seconds and milliseconds - not related to the time zone. In devnull's comment he shows you how to apply an offset for summer.</p>\n</li>\n</ol>\n<p><strong>Edit</strong>:</p>\n<p>There's been some discussion in the comments about whether iso8601 timezone includes timezone or not, and whether timezone will in fact be printed out.</p>\n<p>This depends completely on the date/time implementation. If we are using <code>SimpleDateFormat</code> then timezone is supported and will be printed.</p>\n<p>Here's a code example to illustrate</p>\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\nformatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\nSystem.out.println(formatter.format(new Date()));\nformatter.setTimeZone(TimeZone.getTimeZone(&quot;Europe/London&quot;));\nSystem.out.println(formatter.format(new Date()));\n</code></pre>\n<p>Output</p>\n<pre><code>2016-06-02T12:53:14.924Z\n2016-06-02T13:53:14.925+01:00\n</code></pre>\n<p>Naturally, if you are using a different date/time library such as <code>joda-time</code>, then the implentation details will be different.</p>\n<p><strong>Edit:</strong> As @DerrylThomas pointed out with <code>SimpleDateFormat</code> wise to use lower case <em>y</em> for years - unless it's intended to use week year - explained in a bit of detail in another answer to a similar question <a href=\"https://stackoverflow.com/a/56911450\">https://stackoverflow.com/a/56911450</a>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618061028,"creation_date":1618060515,"answer_id":67034762,"question_id":37589693,"body_markdown":"&gt; if the current time given by the program is 2016-06-01T11:33:54.000Z ,\r\n&gt; is the program wrong?\r\n\r\nThe format is correct and conforms to [ISO 8601][1] but it does not represent Europe/London time. In London, [in 2016][2], the DST started at *Sunday, March 27, 1:00 am* and ended at *Sunday, October 30, 2:00 am* and therefore a date-time representation for Europe/London during this time should have a timezone offset of `+01:00` hours. The `Z` at the end specifies `Zulu` time which is UTC time and thus has a timezone offset of `+00:00` hours. The same instant can be represented for Europe/London as `2016-06-01T12:33:54+01:00`.\r\n\r\n## *java.time*\r\n\r\nThe `java.util` date-time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to `java.time`, the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;* &lt;/sup&gt;. \r\n\r\nEven ***Joda-Time*** should not be used anymore. Notice the following note at the [Home Page of Joda-Time](https://www.joda.org/joda-time/)\r\n\r\n&gt; Joda-Time is the de facto standard date and time library for Java\r\n&gt; prior to Java SE 8. Users are now asked to migrate to java.time\r\n&gt; (JSR-310).\r\n\r\n\r\n`java.time` API is based on `ISO 8601` and the date-time string, `2016-06-01T11:33:54.000Z` can be parsed into `java.time.ZonedDateTime` and `java.time.OffsetDateTime` without needing a date-time parsing/formatting type.\r\n\r\n**Demo:**\r\n\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tZonedDateTime zdt = ZonedDateTime.parse(&quot;2016-06-01T11:33:54.000Z&quot;);\r\n    \t\tSystem.out.println(zdt);\r\n    \r\n    \t\tZoneId zoneId = ZoneId.of(&quot;Europe/London&quot;);\r\n    \t\tZonedDateTime zdtInLondon = zdt.withZoneSameInstant(zoneId);\r\n    \t\tSystem.out.println(zdtInLondon);\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    2016-06-01T11:33:54Z\r\n    2016-06-01T12:33:54+01:00[Europe/London]\r\n\r\n## How to deal with Daylight Saving Time (DST)?\r\n\r\nAs mentioned earlier, the date-time string, `2016-06-01T11:33:54.000Z` can also be parsed into `java.time.OffsetDateTime` without needing a date-time parsing/formatting type. However, `OffsetDateTime` has been designed to deal with a fixed ***timezone offset*** whereas `ZonedDateTime` has been designed to deal with a ***timezone*** and thus it take care of DST automatically. You can convert a `ZonedDateTime` to `OffsetDateTime` using [`ZonedDateTime#toOffsetDateTime`][3] if required.\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS z&quot;, Locale.ENGLISH);\r\n    \r\n    \t\tString strDateTime = &quot;2016-03-01T11:33:54.000 Europe/London&quot;;\r\n    \t\tZonedDateTime zdt = ZonedDateTime.parse(strDateTime, dtf);\r\n    \t\tSystem.out.println(zdt);\r\n    \r\n    \t\tstrDateTime = &quot;2016-06-01T11:33:54.000 Europe/London&quot;;\r\n    \t\tzdt = ZonedDateTime.parse(strDateTime, dtf);\r\n    \t\tSystem.out.println(zdt);\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    2016-03-01T11:33:54Z[Europe/London]\r\n    2016-06-01T11:33:54+01:00[Europe/London]\r\nNotice how the timezone offset has automatically changed from `Z` to `01:00` to reflect DST change. On the other hand,\r\n\r\n    import java.time.OffsetDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDateTime = &quot;2016-03-01T11:33:54.000+01:00&quot;;\r\n    \t\tOffsetDateTime odt = OffsetDateTime.parse(strDateTime);\r\n    \t\tSystem.out.println(odt);\r\n    \r\n    \t\tstrDateTime = &quot;2016-06-01T11:33:54.000+01:00&quot;;\r\n    \t\todt = OffsetDateTime.parse(strDateTime);\r\n    \t\tSystem.out.println(odt);\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    2016-03-01T11:33:54+01:00\r\n    2016-06-01T11:33:54+01:00\r\n\r\nIn this case, you do not talk about a timezone (e.g. Europe/London); rather, you talk about a fixed timezone offset of `+01:00` hours.\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601#Dates\r\n  [2]: https://www.timeanddate.com/time/change/uk/london?year=2016\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toOffsetDateTime--","title":"Understanding specific UTC time format YYYY-MM-DDTHH:MM:SS.SSSZ","body":"<blockquote>\n<p>if the current time given by the program is 2016-06-01T11:33:54.000Z ,\nis the program wrong?</p>\n</blockquote>\n<p>The format is correct and conforms to <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Dates\" rel=\"nofollow noreferrer\">ISO 8601</a> but it does not represent Europe/London time. In London, <a href=\"https://www.timeanddate.com/time/change/uk/london?year=2016\" rel=\"nofollow noreferrer\">in 2016</a>, the DST started at <em>Sunday, March 27, 1:00 am</em> and ended at <em>Sunday, October 30, 2:00 am</em> and therefore a date-time representation for Europe/London during this time should have a timezone offset of <code>+01:00</code> hours. The <code>Z</code> at the end specifies <code>Zulu</code> time which is UTC time and thus has a timezone offset of <code>+00:00</code> hours. The same instant can be represented for Europe/London as <code>2016-06-01T12:33:54+01:00</code>.</p>\n<h2><em>java.time</em></h2>\n<p>The <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to <code>java.time</code>, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a><sup>* </sup>.</p>\n<p>Even <em><strong>Joda-Time</strong></em> should not be used anymore. Notice the following note at the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Home Page of Joda-Time</a></p>\n<blockquote>\n<p>Joda-Time is the de facto standard date and time library for Java\nprior to Java SE 8. Users are now asked to migrate to java.time\n(JSR-310).</p>\n</blockquote>\n<p><code>java.time</code> API is based on <code>ISO 8601</code> and the date-time string, <code>2016-06-01T11:33:54.000Z</code> can be parsed into <code>java.time.ZonedDateTime</code> and <code>java.time.OffsetDateTime</code> without needing a date-time parsing/formatting type.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        ZonedDateTime zdt = ZonedDateTime.parse(&quot;2016-06-01T11:33:54.000Z&quot;);\n        System.out.println(zdt);\n\n        ZoneId zoneId = ZoneId.of(&quot;Europe/London&quot;);\n        ZonedDateTime zdtInLondon = zdt.withZoneSameInstant(zoneId);\n        System.out.println(zdtInLondon);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2016-06-01T11:33:54Z\n2016-06-01T12:33:54+01:00[Europe/London]\n</code></pre>\n<h2>How to deal with Daylight Saving Time (DST)?</h2>\n<p>As mentioned earlier, the date-time string, <code>2016-06-01T11:33:54.000Z</code> can also be parsed into <code>java.time.OffsetDateTime</code> without needing a date-time parsing/formatting type. However, <code>OffsetDateTime</code> has been designed to deal with a fixed <em><strong>timezone offset</strong></em> whereas <code>ZonedDateTime</code> has been designed to deal with a <em><strong>timezone</strong></em> and thus it take care of DST automatically. You can convert a <code>ZonedDateTime</code> to <code>OffsetDateTime</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toOffsetDateTime--\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#toOffsetDateTime</code></a> if required.</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSS z&quot;, Locale.ENGLISH);\n\n        String strDateTime = &quot;2016-03-01T11:33:54.000 Europe/London&quot;;\n        ZonedDateTime zdt = ZonedDateTime.parse(strDateTime, dtf);\n        System.out.println(zdt);\n\n        strDateTime = &quot;2016-06-01T11:33:54.000 Europe/London&quot;;\n        zdt = ZonedDateTime.parse(strDateTime, dtf);\n        System.out.println(zdt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2016-03-01T11:33:54Z[Europe/London]\n2016-06-01T11:33:54+01:00[Europe/London]\n</code></pre>\n<p>Notice how the timezone offset has automatically changed from <code>Z</code> to <code>01:00</code> to reflect DST change. On the other hand,</p>\n<pre><code>import java.time.OffsetDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strDateTime = &quot;2016-03-01T11:33:54.000+01:00&quot;;\n        OffsetDateTime odt = OffsetDateTime.parse(strDateTime);\n        System.out.println(odt);\n\n        strDateTime = &quot;2016-06-01T11:33:54.000+01:00&quot;;\n        odt = OffsetDateTime.parse(strDateTime);\n        System.out.println(odt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2016-03-01T11:33:54+01:00\n2016-06-01T11:33:54+01:00\n</code></pre>\n<p>In this case, you do not talk about a timezone (e.g. Europe/London); rather, you talk about a fixed timezone offset of <code>+01:00</code> hours.</p>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":1460675,"reputation":1175,"user_id":1375107,"accept_rate":72,"display_name":"QVSJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86438,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":37591680,"answer_count":2,"score":17,"last_activity_date":1675287080,"creation_date":1464864501,"question_id":37589693,"body_markdown":"I have two related questions.\r\n\r\nAssume a program running in (British Standard Time)BST generates a date time value for current time in UTC (YYYY-MM-DDTHH:MM:SS.SSSZ) format.\r\n\r\nAlso assume current time in London is 2016-06-01 12:33:54.\r\n\r\n1) If the current time given by the program is 2016-06-01T11:33:54.000Z , is the program wrong?\r\n\r\n2) How is summertime offset for BST noted in the corresponding time format for YYYY-MM-DDTHH:MM:SS.SSSZ \r\n\r\nI assume YYYY-MM-DDTHH:MM:SS+0001. Am I correct ? \r\n\r\n","title":"Understanding specific UTC time format YYYY-MM-DDTHH:MM:SS.SSSZ","body":"<p>I have two related questions.</p>\n<p>Assume a program running in (British Standard Time)BST generates a date time value for current time in UTC (YYYY-MM-DDTHH:MM:SS.SSSZ) format.</p>\n<p>Also assume current time in London is 2016-06-01 12:33:54.</p>\n<ol>\n<li><p>If the current time given by the program is 2016-06-01T11:33:54.000Z , is the program wrong?</p>\n</li>\n<li><p>How is summertime offset for BST noted in the corresponding time format for YYYY-MM-DDTHH:MM:SS.SSSZ</p>\n</li>\n</ol>\n<p>I assume YYYY-MM-DDTHH:MM:SS+0001. Am I correct ?</p>\n"},{"tags":["java","eclipse","jmh"],"comments":[{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":1,"creation_date":1477914102,"post_id":40311990,"comment_id":67936943,"body_markdown":"running benchmark in IDE will falsify the benchmark result. Run you benchmark via command line.","body":"running benchmark in IDE will falsify the benchmark result. Run you benchmark via command line."},{"owner":{"account_id":1322637,"reputation":1597,"user_id":1268100,"accept_rate":67,"display_name":"Ian"},"score":5,"creation_date":1477932667,"post_id":40311990,"comment_id":67947999,"body_markdown":"I understand there may be some small differences.  But, for ease of **development** of the benchmarks I&#39;d like to be able to do this.","body":"I understand there may be some small differences.  But, for ease of <b>development</b> of the benchmarks I&#39;d like to be able to do this."},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":1,"creation_date":1477936856,"post_id":40311990,"comment_id":67950146,"body_markdown":"it is not easy, thats why I created a start `.cmd` file. So I just double click it to run the benchmark. https://github.com/dit-j/template-jmh-benchmark","body":"it is not easy, thats why I created a start <code>.cmd</code> file. So I just double click it to run the benchmark. <a href=\"https://github.com/dit-j/template-jmh-benchmark\" rel=\"nofollow noreferrer\">github.com/dit-j/template-jmh-benchmark</a>"},{"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"score":1,"creation_date":1479403122,"post_id":40311990,"comment_id":68553385,"body_markdown":"@dit I&#39;m not sure that &quot;falsify&quot; is the case for JMH, because anyway it will fork new JVM for the benchmark in the same way as for command-line execution.","body":"@dit I&#39;m not sure that &quot;falsify&quot; is the case for JMH, because anyway it will fork new JVM for the benchmark in the same way as for command-line execution."},{"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"score":0,"creation_date":1479403301,"post_id":40311990,"comment_id":68553488,"body_markdown":"@lan this file supposed to be generated by JMH annotation processor, so maybe you can check that Eclipse executes it? I&#39;m guessing that one in JAR is product of Maven execution, but Eclipse has &quot;target&quot; directory in classpath and not JAR.","body":"@lan this file supposed to be generated by JMH annotation processor, so maybe you can check that Eclipse executes it? I&#39;m guessing that one in JAR is product of Maven execution, but Eclipse has &quot;target&quot; directory in classpath and not JAR."}],"answers":[{"comments":[{"owner":{"account_id":175361,"reputation":3070,"user_id":405326,"accept_rate":93,"display_name":"Raffi Khatchadourian"},"score":0,"creation_date":1534521474,"post_id":40748670,"comment_id":90749079,"body_markdown":"This works for me in the (Eclipse) IDE but when I go to debug it, my breakpoints aren&#39;t catching. I&#39;m working if it has something to do with the `-server` VM arg.","body":"This works for me in the (Eclipse) IDE but when I go to debug it, my breakpoints aren&#39;t catching. I&#39;m working if it has something to do with the <code>-server</code> VM arg."},{"owner":{"account_id":175361,"reputation":3070,"user_id":405326,"accept_rate":93,"display_name":"Raffi Khatchadourian"},"score":0,"creation_date":1534521554,"post_id":40748670,"comment_id":90749130,"body_markdown":"Ah, I had to set the forks to 0 (which I thought was frowned upon but perhaps ok for development). https://github.com/artyushov/idea-jmh-plugin/issues/15#issuecomment-217297772","body":"Ah, I had to set the forks to 0 (which I thought was frowned upon but perhaps ok for development). <a href=\"https://github.com/artyushov/idea-jmh-plugin/issues/15#issuecomment-217297772\" rel=\"nofollow noreferrer\">github.com/artyushov/idea-jmh-plugin/issues/&hellip;</a>"}],"tags":[],"owner":{"account_id":6927673,"reputation":12911,"user_id":5318223,"accept_rate":92,"display_name":"timbre timbre"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1479837737,"creation_date":1479837737,"answer_id":40748670,"question_id":40311990,"body_markdown":"I run JMH tests in Eclipse all the time (for debug purposes), but I run maven build separately before running tests, while tests are executed as a Java application:\r\n\r\n**Step 1: build Maven project**\r\n\r\n 1. Right click on project, \r\n 2. Select Run As, \r\n 3. Select Maven Build and specify goals as `clean install` \r\n\r\n(this step can also be done in command line by running the same goals)\r\n\r\n**Step 2: run tests** \r\n\r\n1. Right click on project, \r\n2. Select Run As, \r\n3. Select Java Application and choose either `Main - org.openjdk.jmh` or the main you created","title":"Run JMH benchmark under Eclipse","body":"<p>I run JMH tests in Eclipse all the time (for debug purposes), but I run maven build separately before running tests, while tests are executed as a Java application:</p>\n\n<p><strong>Step 1: build Maven project</strong></p>\n\n<ol>\n<li>Right click on project, </li>\n<li>Select Run As, </li>\n<li>Select Maven Build and specify goals as <code>clean install</code> </li>\n</ol>\n\n<p>(this step can also be done in command line by running the same goals)</p>\n\n<p><strong>Step 2: run tests</strong> </p>\n\n<ol>\n<li>Right click on project, </li>\n<li>Select Run As, </li>\n<li>Select Java Application and choose either <code>Main - org.openjdk.jmh</code> or the main you created</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20607069,"reputation":11,"user_id":15127062,"display_name":"Carlos Gamboa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655707505,"creation_date":1655268651,"answer_id":72626056,"question_id":40311990,"body_markdown":"I had the same problem, so i removed the `&lt;scope&gt;` from the dependency and that was the trick!","title":"Run JMH benchmark under Eclipse","body":"<p>I had the same problem, so i removed the <code>&lt;scope&gt;</code> from the dependency and that was the trick!</p>\n"}],"owner":{"account_id":1322637,"reputation":1597,"user_id":1268100,"accept_rate":67,"display_name":"Ian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9544,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":40748670,"answer_count":2,"score":13,"last_activity_date":1675286951,"creation_date":1477682865,"question_id":40311990,"body_markdown":"I&#39;m trying to get started with JMH under Eclipse. I can build a jar to execute from the command line but would also like me be able to run it directly within Eclipse for ease of development.\r\n\r\nCurrently I&#39;m getting:\r\n\r\n    java.lang.RuntimeException: ERROR: Unable to find the resource: /META-INF/BenchmarkList\r\n\r\n\r\n\r\nI&#39;m using the simple starter case from http://nitschinger.at/Using-JMH-for-Java-Microbenchmarking/:\r\n\r\n    public class MyBenchmark {\r\n    \r\n        @Benchmark\r\n        public void testMethod() {\r\n            // This is a demo/sample template for building your JMH benchmarks. Edit as needed.\r\n            // Put your benchmark code here.\r\n        }\r\n        \r\n        public static void main(String... args) throws Exception {\r\n        \t  Options opts = new OptionsBuilder()\r\n        \t      .include(&quot;.*&quot;)\r\n        \t      .warmupIterations(10)\r\n        \t      .measurementIterations(10)\r\n    //    \t      .jvmArgs(&quot;-server&quot;)\r\n        \t      .forks(1)\r\n    //    \t      .outputFormat(OutputFormatType.TextReport)\r\n        \t      .build();\r\n        \t  \r\n        \t  new Runner(opts).run();\r\n        \t}    \r\n    }\r\n\r\nI generated the POM as specified in the JMH docs and added the exec-maven-plugin as specified in https://stackoverflow.com/questions/38056899/jmh-unable-to-find-the-resource-meta-inf-benchmarklist:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;org.sample&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;JMH benchmark sample: Java&lt;/name&gt;\r\n    \r\n    \t&lt;!-- This is the demo/sample template build script for building Java benchmarks \r\n    \t\twith JMH. Edit as needed. --&gt;\r\n    \r\n    \t&lt;prerequisites&gt;\r\n    \t\t&lt;maven&gt;3.0&lt;/maven&gt;\r\n    \t&lt;/prerequisites&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jmh.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jmh.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \r\n    \t\t&lt;!-- JMH version to use with this project. --&gt;\r\n    \t\t&lt;jmh.version&gt;1.15&lt;/jmh.version&gt;\r\n    \r\n    \t\t&lt;!-- Java source/target to use for compilation. --&gt;\r\n    \t\t&lt;javac.target&gt;1.8&lt;/javac.target&gt;\r\n    \r\n    \t\t&lt;!-- Name of the benchmark Uber-JAR to generate. --&gt;\r\n    \t\t&lt;uberjar.name&gt;benchmarks&lt;/uberjar.name&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    &lt;!-- \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;compilerVersion&gt;${javac.target}&lt;/compilerVersion&gt;\r\n    \t\t\t\t\t&lt;source&gt;${javac.target}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${javac.target}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt; --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;finalName&gt;${uberjar.name}&lt;/finalName&gt;\r\n    \t\t\t\t\t\t\t&lt;transformers&gt;\r\n    \t\t\t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;mainClass&gt;org.openjdk.jmh.Main&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t\t\t&lt;/transformers&gt;\r\n    \t\t\t\t\t\t\t&lt;filters&gt;\r\n    \t\t\t\t\t\t\t\t&lt;filter&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;!-- Shading signed JARs will fail without this. https://stackoverflow.com/questions/999489/invalid-signature-file-when-attempting-to-run-a-jar --&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n    \t\t\t\t\t\t\t&lt;/filters&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;compilerVersion&gt;${javac.target}&lt;/compilerVersion&gt;\r\n    \t\t\t\t\t&lt;source&gt;${javac.target}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${javac.target}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    &lt;!-- \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;-classpath&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;classpath /&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;com.javapapers.java.benchmark.jmh.JMHHelloWorld&lt;/argument&gt;\r\n    \t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt; --&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;run-benchmarks&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;integration-test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n    \t\t\t\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n    \t\t\t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t\t\t&lt;argument&gt;-classpath&lt;/argument&gt;\r\n    \t\t\t\t\t\t\t\t&lt;classpath /&gt;\r\n    \t\t\t\t\t\t\t\t&lt;argument&gt;org.openjdk.jmh.Main&lt;/argument&gt;\r\n    \t\t\t\t\t\t\t\t&lt;argument&gt;.*&lt;/argument&gt;\r\n    \t\t\t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.9.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.17&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;  \r\n    &lt;/project&gt;\r\n\r\nI&#39;m launching with an Eclipse Run Configuration as follows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can see that the missing resource /META-INF/BenchmarkList /is/ in the jar but /not/ in the /target directory.\r\n\r\nIs it possible to get this executing under Eclipse?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RIVR7.png","title":"Run JMH benchmark under Eclipse","body":"<p>I'm trying to get started with JMH under Eclipse. I can build a jar to execute from the command line but would also like me be able to run it directly within Eclipse for ease of development.</p>\n<p>Currently I'm getting:</p>\n<pre><code>java.lang.RuntimeException: ERROR: Unable to find the resource: /META-INF/BenchmarkList\n</code></pre>\n<p>I'm using the simple starter case from <a href=\"http://nitschinger.at/Using-JMH-for-Java-Microbenchmarking/\" rel=\"nofollow noreferrer\">http://nitschinger.at/Using-JMH-for-Java-Microbenchmarking/</a>:</p>\n<pre><code>public class MyBenchmark {\n\n    @Benchmark\n    public void testMethod() {\n        // This is a demo/sample template for building your JMH benchmarks. Edit as needed.\n        // Put your benchmark code here.\n    }\n    \n    public static void main(String... args) throws Exception {\n          Options opts = new OptionsBuilder()\n              .include(&quot;.*&quot;)\n              .warmupIterations(10)\n              .measurementIterations(10)\n//            .jvmArgs(&quot;-server&quot;)\n              .forks(1)\n//            .outputFormat(OutputFormatType.TextReport)\n              .build();\n          \n          new Runner(opts).run();\n        }    \n}\n</code></pre>\n<p>I generated the POM as specified in the JMH docs and added the exec-maven-plugin as specified in <a href=\"https://stackoverflow.com/questions/38056899/jmh-unable-to-find-the-resource-meta-inf-benchmarklist\">JMH Unable to find the resource: /META-INF/BenchmarkList</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;JMH benchmark sample: Java&lt;/name&gt;\n\n    &lt;!-- This is the demo/sample template build script for building Java benchmarks \n        with JMH. Edit as needed. --&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.0&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n            &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\n            &lt;version&gt;${jmh.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n            &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n            &lt;version&gt;${jmh.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;!-- JMH version to use with this project. --&gt;\n        &lt;jmh.version&gt;1.15&lt;/jmh.version&gt;\n\n        &lt;!-- Java source/target to use for compilation. --&gt;\n        &lt;javac.target&gt;1.8&lt;/javac.target&gt;\n\n        &lt;!-- Name of the benchmark Uber-JAR to generate. --&gt;\n        &lt;uberjar.name&gt;benchmarks&lt;/uberjar.name&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n&lt;!--            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerVersion&gt;${javac.target}&lt;/compilerVersion&gt;\n                    &lt;source&gt;${javac.target}&lt;/source&gt;\n                    &lt;target&gt;${javac.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt; --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;finalName&gt;${uberjar.name}&lt;/finalName&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;org.openjdk.jmh.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;!-- Shading signed JARs will fail without this. https://stackoverflow.com/questions/999489/invalid-signature-file-when-attempting-to-run-a-jar --&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerVersion&gt;${javac.target}&lt;/compilerVersion&gt;\n                    &lt;source&gt;${javac.target}&lt;/source&gt;\n                    &lt;target&gt;${javac.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n&lt;!--            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath /&gt;\n                        &lt;argument&gt;com.javapapers.java.benchmark.jmh.JMHHelloWorld&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt; --&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;run-benchmarks&lt;/id&gt;\n                        &lt;phase&gt;integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n                            &lt;executable&gt;java&lt;/executable&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;-classpath&lt;/argument&gt;\n                                &lt;classpath /&gt;\n                                &lt;argument&gt;org.openjdk.jmh.Main&lt;/argument&gt;\n                                &lt;argument&gt;.*&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.4&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.9.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.6&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.2.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.17&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;  \n&lt;/project&gt;\n</code></pre>\n<p>I'm launching with an Eclipse Run Configuration as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/RIVR7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RIVR7.png\" alt=\"enter image description here\" /></a></p>\n<p>I can see that the missing resource /META-INF/BenchmarkList /is/ in the jar but /not/ in the /target directory.</p>\n<p>Is it possible to get this executing under Eclipse?</p>\n"},{"tags":["java","eclipse","debugging","breakpoints"],"comments":[{"owner":{"account_id":1269092,"reputation":2862,"user_id":1225786,"accept_rate":86,"display_name":"Christophe De Troyer"},"score":0,"creation_date":1414356794,"post_id":26577809,"comment_id":41773028,"body_markdown":"Have tried restarting Eclipse? Replace your breakpoint, press the little bug to debug. Does that help? Clean project might help in those mysterious Eclipse cases as well.","body":"Have tried restarting Eclipse? Replace your breakpoint, press the little bug to debug. Does that help? Clean project might help in those mysterious Eclipse cases as well."},{"owner":{"account_id":3534634,"reputation":85,"user_id":2953258,"accept_rate":76,"display_name":"Ryan H"},"score":0,"creation_date":1414356885,"post_id":26577809,"comment_id":41773064,"body_markdown":"I restarted eclipse, switched from debug to java and back again, deleted and replaced the breakpoint.. I even restarted the PC! still nothing","body":"I restarted eclipse, switched from debug to java and back again, deleted and replaced the breakpoint.. I even restarted the PC! still nothing"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1414363727,"post_id":26577809,"comment_id":41774984,"body_markdown":"Did you code `System.exit(0);` somewhere in your test perhaps?","body":"Did you code <code>System.exit(0);</code> somewhere in your test perhaps?"}],"answers":[{"tags":[],"owner":{"account_id":26978798,"reputation":1,"user_id":20543492,"display_name":"Attila Kiss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675286527,"creation_date":1675286527,"answer_id":75316322,"question_id":26577809,"body_markdown":"Probably the debugger skips all breakpoints.\r\n\r\n - Hit the search button in the top right corner \r\n - Type skip all breakpoints\r\n - Click the result.\r\n - Debugger shall be working from now on.\r\n\r\nI had the same issue earlier, I have found the answer on youtube :)","title":"Java Eclipse Debug Terminating issue","body":"<p>Probably the debugger skips all breakpoints.</p>\n<ul>\n<li>Hit the search button in the top right corner</li>\n<li>Type skip all breakpoints</li>\n<li>Click the result.</li>\n<li>Debugger shall be working from now on.</li>\n</ul>\n<p>I had the same issue earlier, I have found the answer on youtube :)</p>\n"}],"owner":{"account_id":3534634,"reputation":85,"user_id":2953258,"accept_rate":76,"display_name":"Ryan H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675286527,"creation_date":1414356669,"question_id":26577809,"body_markdown":"Ive been debugging a project in eclipse. I inserted a breakpoint on a while statement. All was working fine, I was monitoring the variable increments. I tried to change the test class, but forgot I was still running the program, a message popped up and asked a question (I can&#39;t remember the exact phrasing) and I clicked terminate. But now when I run the debugger, it runs through the program and gives me the following\r\n\r\n    &lt;terminated, exit value: 0&gt;\r\n\r\nBut it doesn&#39;t allow me to step through the program. I tried &quot;skip all breakpoints&quot; but that isn&#39;t the answer.. It has something to do with the pop up message I&#39;m pretty sure.\r\n\r\nMany Thanks for your help","title":"Java Eclipse Debug Terminating issue","body":"<p>Ive been debugging a project in eclipse. I inserted a breakpoint on a while statement. All was working fine, I was monitoring the variable increments. I tried to change the test class, but forgot I was still running the program, a message popped up and asked a question (I can't remember the exact phrasing) and I clicked terminate. But now when I run the debugger, it runs through the program and gives me the following</p>\n\n<pre><code>&lt;terminated, exit value: 0&gt;\n</code></pre>\n\n<p>But it doesn't allow me to step through the program. I tried \"skip all breakpoints\" but that isn't the answer.. It has something to do with the pop up message I'm pretty sure.</p>\n\n<p>Many Thanks for your help</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":0,"creation_date":1675290990,"post_id":75316321,"comment_id":132899923,"body_markdown":"Judging from JUnit version 3.8.1, which is from 2007 and 1.8 compile target (which is End-of-life already), the tutorial you are trying to follow is very outdated. Also is there a reason why you&#39;re trying Spring WebMVC without Spring Boot?","body":"Judging from JUnit version 3.8.1, which is from 2007 and 1.8 compile target (which is End-of-life already), the tutorial you are trying to follow is very outdated. Also is there a reason why you&#39;re trying Spring WebMVC without Spring Boot?"},{"owner":{"account_id":17178994,"reputation":33,"user_id":19521501,"display_name":"Ihor Volkov"},"score":0,"creation_date":1675292168,"post_id":75316321,"comment_id":132900198,"body_markdown":"Thanks for replaying. \nJUnit is not used in the app, so I wasn&#39;t paying attention to that. I was trying Java11, but in vain. There is no particular reason for using only WebMVC, just wanted to figure out how it works as a part of my learning process.","body":"Thanks for replaying.  JUnit is not used in the app, so I wasn&#39;t paying attention to that. I was trying Java11, but in vain. There is no particular reason for using only WebMVC, just wanted to figure out how it works as a part of my learning process."},{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":1,"creation_date":1675293511,"post_id":75316321,"comment_id":132900454,"body_markdown":"Thanks for clarifying. If you don&#39;t have strict requirements on your stack, then I strongly suggest trying Spring Boot just to get you going. Their official documentation looks pretty bland, but it&#39;s not too bad if you actually read it: https://spring.io/guides/gs/spring-boot/\n\nSpring Boot is meant to help people start as fast as possible with the least amount of configuration, that&#39;s why it is the preferred way to start working with it. Taking each piece of the framework individually and trying to configure that can be quite challenging when just learning. Good luck!","body":"Thanks for clarifying. If you don&#39;t have strict requirements on your stack, then I strongly suggest trying Spring Boot just to get you going. Their official documentation looks pretty bland, but it&#39;s not too bad if you actually read it: <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/spring-boot</a>  Spring Boot is meant to help people start as fast as possible with the least amount of configuration, that&#39;s why it is the preferred way to start working with it. Taking each piece of the framework individually and trying to configure that can be quite challenging when just learning. Good luck!"},{"owner":{"account_id":17178994,"reputation":33,"user_id":19521501,"display_name":"Ihor Volkov"},"score":1,"creation_date":1675295295,"post_id":75316321,"comment_id":132900758,"body_markdown":"Thanks a lot. I will start from there.","body":"Thanks a lot. I will start from there."}],"owner":{"account_id":17178994,"reputation":33,"user_id":19521501,"display_name":"Ihor Volkov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675286521,"creation_date":1675286521,"question_id":75316321,"body_markdown":"I am trying to write a simple &#39;hello world&#39; application using Spring MVC. \r\nMy goal is to send a GET response and receive a text message, however it keeps returning 404 &quot;The requested resource [/api/hello] is not available&quot;. What can potentially be wrong? Below is my code:\r\n\r\n```\r\npackage org.example.rest.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MyRestController {\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;Hello&quot;;\r\n    }\r\n}\r\n```\r\nConfig\r\n```\r\npackage org.example.rest.configuration;\r\n\r\nimport com.mchange.v2.c3p0.ComboPooledDataSource;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\r\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.beans.PropertyVetoException;\r\nimport java.util.Properties;\r\n\r\n@EnableWebMvc\r\n@Configuration\r\n@EnableTransactionManagement\r\n@ComponentScan(basePackages = &quot;org.example.rest&quot;)\r\npublic class MyConfig {\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        ComboPooledDataSource dataSource = new ComboPooledDataSource();\r\n        try {\r\n            dataSource.setDriverClass(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            dataSource.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/my_db?useSSL=false&amp;amp;serverTimezone=UTC&quot;);\r\n            dataSource.setUser(&quot;bestuser&quot;);\r\n            dataSource.setPassword(&quot;bestuser&quot;);\r\n        } catch (PropertyVetoException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean\r\n    public LocalSessionFactoryBean sessionFactoryBean() {\r\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n        sessionFactoryBean.setDataSource(dataSource());\r\n        sessionFactoryBean.setPackagesToScan(&quot;org.example.rest.entity&quot;);\r\n\r\n        Properties hibernateProperties = new Properties();\r\n        hibernateProperties.setProperty(&quot;hibernate.dialect&quot;,\r\n                &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n        hibernateProperties.setProperty(&quot;hibernate.show_sql&quot;,\r\n                &quot;true&quot;);\r\n\r\n        sessionFactoryBean.setHibernateProperties(hibernateProperties);\r\n        return sessionFactoryBean;\r\n    }\r\n\r\n    @Bean\r\n    public HibernateTransactionManager hibernateTransactionManager() {\r\n        HibernateTransactionManager manager = new HibernateTransactionManager();\r\n        manager.setSessionFactory(sessionFactoryBean().getObject());\r\n        return manager;\r\n    }\r\n}\r\n```\r\n```\r\npackage org.example.rest.configuration;\r\n\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\npublic class MyWebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[]{MyConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[]{&quot;/&quot;};\r\n    }\r\n}\r\n```\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-rest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.24.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nI am using IntelliJ IDEA 2022.2.2 (Ultimate Edition).\r\nServer is Tomcat 9.0.71","title":"Spring MVC RestController 404 The requested resource is not available","body":"<p>I am trying to write a simple 'hello world' application using Spring MVC.\nMy goal is to send a GET response and receive a text message, however it keeps returning 404 &quot;The requested resource [/api/hello] is not available&quot;. What can potentially be wrong? Below is my code:</p>\n<pre><code>package org.example.rest.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyRestController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello&quot;;\n    }\n}\n</code></pre>\n<p>Config</p>\n<pre><code>package org.example.rest.configuration;\n\nimport com.mchange.v2.c3p0.ComboPooledDataSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\nimport javax.sql.DataSource;\nimport java.beans.PropertyVetoException;\nimport java.util.Properties;\n\n@EnableWebMvc\n@Configuration\n@EnableTransactionManagement\n@ComponentScan(basePackages = &quot;org.example.rest&quot;)\npublic class MyConfig {\n\n    @Bean\n    public DataSource dataSource() {\n        ComboPooledDataSource dataSource = new ComboPooledDataSource();\n        try {\n            dataSource.setDriverClass(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            dataSource.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/my_db?useSSL=false&amp;amp;serverTimezone=UTC&quot;);\n            dataSource.setUser(&quot;bestuser&quot;);\n            dataSource.setPassword(&quot;bestuser&quot;);\n        } catch (PropertyVetoException e) {\n            throw new RuntimeException(e);\n        }\n        return dataSource;\n    }\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactoryBean() {\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(dataSource());\n        sessionFactoryBean.setPackagesToScan(&quot;org.example.rest.entity&quot;);\n\n        Properties hibernateProperties = new Properties();\n        hibernateProperties.setProperty(&quot;hibernate.dialect&quot;,\n                &quot;org.hibernate.dialect.MySQLDialect&quot;);\n        hibernateProperties.setProperty(&quot;hibernate.show_sql&quot;,\n                &quot;true&quot;);\n\n        sessionFactoryBean.setHibernateProperties(hibernateProperties);\n        return sessionFactoryBean;\n    }\n\n    @Bean\n    public HibernateTransactionManager hibernateTransactionManager() {\n        HibernateTransactionManager manager = new HibernateTransactionManager();\n        manager.setSessionFactory(sessionFactoryBean().getObject());\n        return manager;\n    }\n}\n</code></pre>\n<pre><code>package org.example.rest.configuration;\n\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class MyWebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[]{MyConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{&quot;/&quot;};\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-rest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.24.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I am using IntelliJ IDEA 2022.2.2 (Ultimate Edition).\nServer is Tomcat 9.0.71</p>\n"},{"tags":["java","arrays","sorting","date","datetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675283331,"post_id":75315665,"comment_id":132897842,"body_markdown":"I strongly recommend you dont use `Date`. That class is poorly designed and long outdated. Instead use `LocalDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you dont use <code>Date</code>. That class is poorly designed and long outdated. Instead use <code>LocalDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675283706,"post_id":75315665,"comment_id":132897956,"body_markdown":"Model your data properly. Design and code a class with three instance variables for ID, date and time, and score. If you like, add a convenience constructor that accepts a line from your inout and assigns values to the three variables. Write a `Comparator` for sorting the objects chronologically. Counting scores above 20 per OD may require some code. A stream operation is one option if you know those.","body":"Model your data properly. Design and code a class with three instance variables for ID, date and time, and score. If you like, add a convenience constructor that accepts a line from your inout and assigns values to the three variables. Write a <code>Comparator</code> for sorting the objects chronologically. Counting scores above 20 per OD may require some code. A stream operation is one option if you know those."}],"answers":[{"comments":[{"owner":{"account_id":25937004,"reputation":15,"user_id":19657086,"display_name":"PillagingProgrammer"},"score":0,"creation_date":1675374155,"post_id":75315953,"comment_id":132921324,"body_markdown":"Thank you for answering Basil. Here is where I am with the problem:\n\nI have parsed the Data into records, and they are now pushed into a List. Here is where I&#39;m having further issues:\n\nI want to create a List for each unique ID. While I know of a way to get the number of unique IDs (pass each Arcade ID into a HashSet, which only keeps the unique values, and then I can .size() the HashSet), I don&#39;t know how to dynamically create the Lists based on the Number of IDs. Any ideas?\n\nOnce I figure that out, I then need to push the records that both match the Arcade ID AND have scores above 20.","body":"Thank you for answering Basil. Here is where I am with the problem:  I have parsed the Data into records, and they are now pushed into a List. Here is where I&#39;m having further issues:  I want to create a List for each unique ID. While I know of a way to get the number of unique IDs (pass each Arcade ID into a HashSet, which only keeps the unique values, and then I can .size() the HashSet), I don&#39;t know how to dynamically create the Lists based on the Number of IDs. Any ideas?  Once I figure that out, I then need to push the records that both match the Arcade ID AND have scores above 20."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675381336,"post_id":75315953,"comment_id":132922797,"body_markdown":"@PillagingProgrammer Implementations of `List` such as `ArrayList` &amp; `LinkedList` **automatically grow** to accommodate additional elements. No need for you to calculate expected size. If you want to avoid wasting memory, call [`ArrayList#trimToSize`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#trimToSize()) to delete any extra empty slots. In Java, an array has a fixed size, but not `ArrayList` &amp; `LinkedList`. Under the covers, `ArrayList` copies to a new backing array as needed. So setting initial capacity is more efficient, but *not* required.","body":"@PillagingProgrammer Implementations of <code>List</code> such as <code>ArrayList</code> &amp; <code>LinkedList</code> <b>automatically grow</b> to accommodate additional elements. No need for you to calculate expected size. If you want to avoid wasting memory, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#trimToSize()\" rel=\"nofollow noreferrer\"><code>ArrayList#trimToSize</code></a> to delete any extra empty slots. In Java, an array has a fixed size, but not <code>ArrayList</code> &amp; <code>LinkedList</code>. Under the covers, <code>ArrayList</code> copies to a new backing array as needed. So setting initial capacity is more efficient, but <i>not</i> required."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675381889,"post_id":75315953,"comment_id":132922904,"body_markdown":"@PillagingProgrammer Regarding &quot;a List for each unique ID&quot;, you may want to learn about [`Map`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html).","body":"@PillagingProgrammer Regarding &quot;a List for each unique ID&quot;, you may want to learn about <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675286455,"creation_date":1675284003,"answer_id":75315953,"question_id":75315665,"body_markdown":"Define a class, a [record][1] specifically, to represent each row of data.\r\n\r\n    record Score( int id , LocalDateTime when , int score ) { }\r\n\r\nNever use either of the legacy `Date` classes. For date-time handling, use only the modern *java.time* classes defined in JSR 310. \r\n\r\nDefine a formatter to parse your date-time string.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern( &quot;uuuuMMdd HH:mm:ss.SSS&quot; );\r\n\r\nParse as a [`LocalDateTime`][2] object, a date with time-of-day but lacking the context of a time zone or offset-from-UTC.\r\n\r\nAfter parsing each of the three input fields, instantiate a record. \r\n\r\n    Score s = new Score( id , when , score );\r\n\r\nAdd that object to a list.\r\n\r\n    List &lt; Score &gt; scores = new ArrayList &lt;&gt;( lines.size() );\r\n\r\nWhen done, you should have a list like this one:\r\n\r\n&gt;scores.toString() = [Score[id=501, when=2022-01-04T13:12:07.005, score=25], Score[id=501, when=2022-01-04T13:12:07.002, score=25], Score[id=500, when=2022-01-06T09:04:10.013, score=10], Score[id=501, when=2022-01-04T13:12:07.001, score=25], Score[id=501, when=2022-01-04T13:12:07.003, score=25], Score[id=501, when=2022-01-04T13:12:07.004, score=25], Score[id=501, when=2022-01-04T15:20:50.011, score=25]]\r\n\r\n```java\r\nString input =\r\n        &quot;&quot;&quot;\r\n        501,20220104 13:12:07.005,25\r\n        501,20220104 13:12:07.002,25\r\n        500,20220106 09:04:10.013,10\r\n        501,20220104 13:12:07.001,25\r\n        501,20220104 13:12:07.003,25\r\n        501,20220104 13:12:07.004,25\r\n        501,20220104 15:20:50.011,25\r\n        &quot;&quot;&quot;;\r\nList &lt; String &gt; lines = input.lines().toList();\r\n\r\nrecord Score( int id , LocalDateTime when , int score ) { }\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern( &quot;uuuuMMdd HH:mm:ss.SSS&quot; );\r\nList &lt; Score &gt; scores = new ArrayList &lt;&gt;( lines.size() );\r\nfor ( String line : lines )\r\n{\r\n    String[] fields = line.split( &quot;,&quot; );\r\n    if ( fields.length != 3 ) { throw new IllegalStateException( &quot;Did not find three fields.&quot; ); }\r\n    int id = Integer.parseInt( fields[ 0 ] );\r\n    LocalDateTime when = LocalDateTime.parse( fields[ 1 ] , formatter );\r\n    int score = Integer.parseInt( fields[ 2 ] );\r\n    Score s = new Score( id , when , score );\r\n    scores.add( s );\r\n}\r\nSystem.out.println( &quot;scores = &quot; + scores );\r\n```\r\n\r\nNow you have some objects on which you can apply your business logic, as stated in your 1-2-3 items. \r\n\r\nIll not do your entire schoolwork assignment for you, and I have probably done too much. So I will leave you with this key point for performing that logic: To check for which items are in a two minute period, Use the `LocalDateTime` methods `isEqual`, `isBefore`, `isAfter`, to compare. \r\n\r\nI recommend using the Half-Open approach to defining a span of time. This means the beginning is *inclusive* while the ending is *exclusive*. So you will be checking if the score&#39;s date-time is equal to or after the beginning *and* the score&#39;s date-time is before the end. Tip: A shorter way of asking &quot;is equal to or after&quot; is to ask &quot;is not before&quot;. \r\n\r\n\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html","title":"Check times within an Array and Print the latest in a Time Range","body":"<p>Define a class, a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> specifically, to represent each row of data.</p>\n<pre><code>record Score( int id , LocalDateTime when , int score ) { }\n</code></pre>\n<p>Never use either of the legacy <code>Date</code> classes. For date-time handling, use only the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Define a formatter to parse your date-time string.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern( &quot;uuuuMMdd HH:mm:ss.SSS&quot; );\n</code></pre>\n<p>Parse as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> object, a date with time-of-day but lacking the context of a time zone or offset-from-UTC.</p>\n<p>After parsing each of the three input fields, instantiate a record.</p>\n<pre><code>Score s = new Score( id , when , score );\n</code></pre>\n<p>Add that object to a list.</p>\n<pre><code>List &lt; Score &gt; scores = new ArrayList &lt;&gt;( lines.size() );\n</code></pre>\n<p>When done, you should have a list like this one:</p>\n<blockquote>\n<p>scores.toString() = [Score[id=501, when=2022-01-04T13:12:07.005, score=25], Score[id=501, when=2022-01-04T13:12:07.002, score=25], Score[id=500, when=2022-01-06T09:04:10.013, score=10], Score[id=501, when=2022-01-04T13:12:07.001, score=25], Score[id=501, when=2022-01-04T13:12:07.003, score=25], Score[id=501, when=2022-01-04T13:12:07.004, score=25], Score[id=501, when=2022-01-04T15:20:50.011, score=25]]</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String input =\n        &quot;&quot;&quot;\n        501,20220104 13:12:07.005,25\n        501,20220104 13:12:07.002,25\n        500,20220106 09:04:10.013,10\n        501,20220104 13:12:07.001,25\n        501,20220104 13:12:07.003,25\n        501,20220104 13:12:07.004,25\n        501,20220104 15:20:50.011,25\n        &quot;&quot;&quot;;\nList &lt; String &gt; lines = input.lines().toList();\n\nrecord Score( int id , LocalDateTime when , int score ) { }\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern( &quot;uuuuMMdd HH:mm:ss.SSS&quot; );\nList &lt; Score &gt; scores = new ArrayList &lt;&gt;( lines.size() );\nfor ( String line : lines )\n{\n    String[] fields = line.split( &quot;,&quot; );\n    if ( fields.length != 3 ) { throw new IllegalStateException( &quot;Did not find three fields.&quot; ); }\n    int id = Integer.parseInt( fields[ 0 ] );\n    LocalDateTime when = LocalDateTime.parse( fields[ 1 ] , formatter );\n    int score = Integer.parseInt( fields[ 2 ] );\n    Score s = new Score( id , when , score );\n    scores.add( s );\n}\nSystem.out.println( &quot;scores = &quot; + scores );\n</code></pre>\n<p>Now you have some objects on which you can apply your business logic, as stated in your 1-2-3 items.</p>\n<p>Ill not do your entire schoolwork assignment for you, and I have probably done too much. So I will leave you with this key point for performing that logic: To check for which items are in a two minute period, Use the <code>LocalDateTime</code> methods <code>isEqual</code>, <code>isBefore</code>, <code>isAfter</code>, to compare.</p>\n<p>I recommend using the Half-Open approach to defining a span of time. This means the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So you will be checking if the score's date-time is equal to or after the beginning <em>and</em> the score's date-time is before the end. Tip: A shorter way of asking &quot;is equal to or after&quot; is to ask &quot;is not before&quot;.</p>\n"}],"owner":{"account_id":25937004,"reputation":15,"user_id":19657086,"display_name":"PillagingProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75315953,"answer_count":1,"score":0,"last_activity_date":1675286455,"creation_date":1675282238,"question_id":75315665,"body_markdown":"Let&#39;s say I have a list of data in the following format:\r\n\r\n    ID#,YYYYMMDD HH:MM:SS.sss,score\r\n\r\nSo the data could look like this:\r\n\r\n```none\r\n501,20220104 13:12:07.005,25\r\n501,20220104 13:12:07.002,25\r\n500,20220106 09:04:10.013,10\r\n501,20220104 13:12:07.001,25\r\n501,20220104 13:12:07.003,25\r\n501,20220104 13:12:07.004,25\r\n501,20220104 15:20:50.011,25\r\n```\r\nI want to program the following in **Java**:\r\n\r\n1. Submit data to an Array only if the Score is above 20 (in this example list, 6 out of 7 are).\r\n2. Order the submitted list in descending order from earliest to latest (current listed items aren&#39;t in descending order)\r\n3. From there, determine if a single ID (for an arcade system) has more than 5 scores above 20 (True, 6 for Arcade ID 501 in the example) *and* if 5 scores exactly are within a 2 minute period (which there are 5) *and* print the earliest Date-Time and Arcade ID with a score above 20 points (`20220104 13:12:07.001`).\r\n4. I also need to reformat the Date-Time, but that&#39;s another issue I&#39;d rather tackle later.\r\n\r\n---------------------\r\n\r\nI think I already know how to split up the data:\r\n\r\n    ArrayList&lt;String&gt; scoreData = new ArrayList&lt;&gt;(Arrays.asList(data.split(&quot;,&quot;)));\r\n    String arcadeID = scoreData.get(0);\r\n    Date dateTime = scoreData.get(1);\r\n    int score = scoreData.get(2);\r\n\r\nAnd then how to pass that data to a new Array and sort it afterwards in descending order:\r\n\r\n    Date[] scoresAbove20;\r\n\r\n    if (score &gt; 20) {\r\n        scoresAbove20.push(dateTime);\r\n        Arrays.sort(scoresAbove20);\r\n    }\r\n\r\nFrom the `scoresAbove20` Array, I am not sure how to:\r\n\r\n1. Check that at least 5 times in the Array are within a 2 minute period\r\n2. Print the earliest Date-Time within the 2 minute period\r\n3. Printing out the Arcade ID with at least 5 times in the Array within a 2 minute period","title":"Check times within an Array and Print the latest in a Time Range","body":"<p>Let's say I have a list of data in the following format:</p>\n<pre><code>ID#,YYYYMMDD HH:MM:SS.sss,score\n</code></pre>\n<p>So the data could look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>501,20220104 13:12:07.005,25\n501,20220104 13:12:07.002,25\n500,20220106 09:04:10.013,10\n501,20220104 13:12:07.001,25\n501,20220104 13:12:07.003,25\n501,20220104 13:12:07.004,25\n501,20220104 15:20:50.011,25\n</code></pre>\n<p>I want to program the following in <strong>Java</strong>:</p>\n<ol>\n<li>Submit data to an Array only if the Score is above 20 (in this example list, 6 out of 7 are).</li>\n<li>Order the submitted list in descending order from earliest to latest (current listed items aren't in descending order)</li>\n<li>From there, determine if a single ID (for an arcade system) has more than 5 scores above 20 (True, 6 for Arcade ID 501 in the example) <em>and</em> if 5 scores exactly are within a 2 minute period (which there are 5) <em>and</em> print the earliest Date-Time and Arcade ID with a score above 20 points (<code>20220104 13:12:07.001</code>).</li>\n<li>I also need to reformat the Date-Time, but that's another issue I'd rather tackle later.</li>\n</ol>\n<hr />\n<p>I think I already know how to split up the data:</p>\n<pre><code>ArrayList&lt;String&gt; scoreData = new ArrayList&lt;&gt;(Arrays.asList(data.split(&quot;,&quot;)));\nString arcadeID = scoreData.get(0);\nDate dateTime = scoreData.get(1);\nint score = scoreData.get(2);\n</code></pre>\n<p>And then how to pass that data to a new Array and sort it afterwards in descending order:</p>\n<pre><code>Date[] scoresAbove20;\n\nif (score &gt; 20) {\n    scoresAbove20.push(dateTime);\n    Arrays.sort(scoresAbove20);\n}\n</code></pre>\n<p>From the <code>scoresAbove20</code> Array, I am not sure how to:</p>\n<ol>\n<li>Check that at least 5 times in the Array are within a 2 minute period</li>\n<li>Print the earliest Date-Time within the 2 minute period</li>\n<li>Printing out the Arcade ID with at least 5 times in the Array within a 2 minute period</li>\n</ol>\n"},{"tags":["java","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1675286481,"post_id":75314688,"comment_id":132898736,"body_markdown":"If you need a read-only filesystem, then you must mount _something_ if you need any writable space, even in `/tmp`.  An `emptyDir` volume with a `medium: Memory` setting would be the default choice to create a tmpfs; also see the [`emptyDir` volume type documentation](https://kubernetes.io/docs/concepts/storage/volumes/#emptydir).","body":"If you need a read-only filesystem, then you must mount <i>something</i> if you need any writable space, even in <code>&#47;tmp</code>.  An <code>emptyDir</code> volume with a <code>medium: Memory</code> setting would be the default choice to create a tmpfs; also see the <a href=\"https://kubernetes.io/docs/concepts/storage/volumes/#emptydir\" rel=\"nofollow noreferrer\"><code>emptyDir</code> volume type documentation</a>."},{"owner":{"account_id":1704336,"reputation":1405,"user_id":1563721,"accept_rate":42,"display_name":"user1563721"},"score":0,"creation_date":1675323249,"post_id":75314688,"comment_id":132904957,"body_markdown":"I cannot mount `emptyDir`, it is disallowed by the security policy. And I do not want to mount anything, because I do not need it, I do not want to do it just because Spring Boot needs it, does not make sense for me, not a good solution.","body":"I cannot mount <code>emptyDir</code>, it is disallowed by the security policy. And I do not want to mount anything, because I do not need it, I do not want to do it just because Spring Boot needs it, does not make sense for me, not a good solution."}],"owner":{"account_id":1704336,"reputation":1405,"user_id":1563721,"accept_rate":42,"display_name":"user1563721"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1253,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1675286386,"creation_date":1675276523,"question_id":75314688,"body_markdown":"I have a Docker container with Spring Boot 3.0.0 application running in the Kubernetes Deployment.\r\n\r\nI have received a number of hardening rules that are required to be implemented, such as:\r\n- do not mount `emptyDir` volumes to pods\r\n- define `runAsNonRoot` in `securityContext` of pods\r\n- pods must define, that their filesystem is mounted readonly using `readOnlyRootFilesystem: true` in `securityContext`\r\n\r\nMy application stores data in the database and does not need any write permissions to the filesystem, so I have tried to define `securityContext` in my Deployment using:\r\n```yaml\r\nsecurityContext:\r\n  runAsNonRoot: true\r\n  readOnlyRootFilesystem: true\r\n```\r\n\r\nHowever, running the Deployment failed, and it seems that the Spring Boot is trying to create some temporary directory, which of course is not allowed:\r\n```\r\n[2023-02-01 15:12:31.762] ERROR [main] [org.springframework.boot.SpringApplication - 820]: Application run failed\r\norg.springframework.context.ApplicationContextException: Unable to start web server\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\r\n\tat org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:208)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:194)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\r\n\t... 16 common frames omitted\r\nCaused by: java.nio.file.FileSystemException: /tmp/tomcat.8080.8311954706877871713: Read-only file system\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(Unknown Source)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(Unknown Source)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(Unknown Source)\r\n\tat java.base/sun.nio.fs.UnixFileSystemProvider.createDirectory(Unknown Source)\r\n\tat java.base/java.nio.file.Files.createDirectory(Unknown Source)\r\n\tat java.base/java.nio.file.TempFileHelper.create(Unknown Source)\r\n\tat java.base/java.nio.file.TempFileHelper.createTempDirectory(Unknown Source)\r\n\tat java.base/java.nio.file.Files.createTempDirectory(Unknown Source)\r\n\tat org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:202)\r\n\t... 19 common frames omitted\r\n```\r\n\r\nI was trying to find some relevant information on the web and this tells me that read-only containers are not supported in Spring Boot: https://github.com/spring-projects/spring-boot/issues/8578.\r\n\r\nThere are some proposed solutions, which I cannot apply, for example to use `emptyDir` mount, or `pvc`. It does not make sense for me to mount something just because Spring Boot needs to create temporary directory.\r\n\r\nDoes anyone has experience with that and can suggest a good solution how to create Deployment with Spring Boot pod that works when `readOnlyRootFilesystem: true`?","title":"Read-only filesystem pod with Spring Boot application on Kubernetes","body":"<p>I have a Docker container with Spring Boot 3.0.0 application running in the Kubernetes Deployment.</p>\n<p>I have received a number of hardening rules that are required to be implemented, such as:</p>\n<ul>\n<li>do not mount <code>emptyDir</code> volumes to pods</li>\n<li>define <code>runAsNonRoot</code> in <code>securityContext</code> of pods</li>\n<li>pods must define, that their filesystem is mounted readonly using <code>readOnlyRootFilesystem: true</code> in <code>securityContext</code></li>\n</ul>\n<p>My application stores data in the database and does not need any write permissions to the filesystem, so I have tried to define <code>securityContext</code> in my Deployment using:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>securityContext:\n  runAsNonRoot: true\n  readOnlyRootFilesystem: true\n</code></pre>\n<p>However, running the Deployment failed, and it seems that the Spring Boot is trying to create some temporary directory, which of course is not allowed:</p>\n<pre><code>[2023-02-01 15:12:31.762] ERROR [main] [org.springframework.boot.SpringApplication - 820]: Application run failed\norg.springframework.context.ApplicationContextException: Unable to start web server\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\n    at org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:208)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:194)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\n    ... 16 common frames omitted\nCaused by: java.nio.file.FileSystemException: /tmp/tomcat.8080.8311954706877871713: Read-only file system\n    at java.base/sun.nio.fs.UnixException.translateToIOException(Unknown Source)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(Unknown Source)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(Unknown Source)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.createDirectory(Unknown Source)\n    at java.base/java.nio.file.Files.createDirectory(Unknown Source)\n    at java.base/java.nio.file.TempFileHelper.create(Unknown Source)\n    at java.base/java.nio.file.TempFileHelper.createTempDirectory(Unknown Source)\n    at java.base/java.nio.file.Files.createTempDirectory(Unknown Source)\n    at org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:202)\n    ... 19 common frames omitted\n</code></pre>\n<p>I was trying to find some relevant information on the web and this tells me that read-only containers are not supported in Spring Boot: <a href=\"https://github.com/spring-projects/spring-boot/issues/8578\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/8578</a>.</p>\n<p>There are some proposed solutions, which I cannot apply, for example to use <code>emptyDir</code> mount, or <code>pvc</code>. It does not make sense for me to mount something just because Spring Boot needs to create temporary directory.</p>\n<p>Does anyone has experience with that and can suggest a good solution how to create Deployment with Spring Boot pod that works when <code>readOnlyRootFilesystem: true</code>?</p>\n"},{"tags":["java","sql-server","spring","jpa","transactions"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1675284363,"post_id":75315902,"comment_id":132898139,"body_markdown":"What you can do it have some state that says &quot;inProcess&quot;. When you fetch next 10 cars, you first update them to this flag in a transaction, and then fetch them. Then another process can&#39;t &quot;steal&quot; your cars. Important is that your endpoint / something releases these cars in case some error occurs, otherwise the cars will be stuck inProcess forever","body":"What you can do it have some state that says &quot;inProcess&quot;. When you fetch next 10 cars, you first update them to this flag in a transaction, and then fetch them. Then another process can&#39;t &quot;steal&quot; your cars. Important is that your endpoint / something releases these cars in case some error occurs, otherwise the cars will be stuck inProcess forever"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1675284960,"post_id":75315902,"comment_id":132898315,"body_markdown":"Use of a status flag should require using optimistic locking so that if two concurrent processes take overlapping cars and both try mark them as inProgress, the second to commit will detect the overlap and fail. Your process needs to expect such an error and requiry to get the &#39;latest&#39; X dirty cars and retry (or tell the caller to do so). What issue did you have with pessimistic locking? Locking upfront (select for update)  is certainly one way to prevent another process from getting the next set of cars while the transaction is in progress, but it slows things down to operating sequentially.","body":"Use of a status flag should require using optimistic locking so that if two concurrent processes take overlapping cars and both try mark them as inProgress, the second to commit will detect the overlap and fail. Your process needs to expect such an error and requiry to get the &#39;latest&#39; X dirty cars and retry (or tell the caller to do so). What issue did you have with pessimistic locking? Locking upfront (select for update)  is certainly one way to prevent another process from getting the next set of cars while the transaction is in progress, but it slows things down to operating sequentially."}],"answers":[{"tags":[],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675286179,"creation_date":1675286179,"answer_id":75316273,"question_id":75315902,"body_markdown":"Try with UPDLOCK:\r\n\r\n    SELECT ... FROM tab1 WITH (UPDLOCK) WHERE ...\r\n\r\n\r\nSomething similar to \r\n\r\n&gt; SELECT FOR UPDATE\r\n\r\n in Oracle.","title":"Synchronize concurrent batch updates with JPA","body":"<p>Try with UPDLOCK:</p>\n<pre><code>SELECT ... FROM tab1 WITH (UPDLOCK) WHERE ...\n</code></pre>\n<p>Something similar to</p>\n<blockquote>\n<p>SELECT FOR UPDATE</p>\n</blockquote>\n<p>in Oracle.</p>\n"}],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675286179,"creation_date":1675283663,"question_id":75315902,"body_markdown":"This example is modified and simplified, but resembles a real problem I have with legacy code that I am trying to fix.\r\n\r\nI have a MSSQL `CAR` table (where `id` is the primary key)\r\n\r\n\r\n| id | make | status |\r\n| -------- | -------- | -------- |\r\n| 1  | BMW   | WASHED   |\r\n| 2  | BMW   | DIRTY   |\r\n| 3  | BMW   | DIRTY   |\r\n| 4  | Ford   | DIRTY   |\r\n| ...  | ...   | ...   |\r\n\r\n\r\nand a `/washNextCars` endpoint.\r\n\r\n```\r\n@PatchMapping(&quot;/washNextCars&quot;)\r\npublic ResponseEntity&lt;List&lt;Car&gt;&gt; washNextCars(\r\n      @RequestBody WashCarBody body,\r\n      @RequestParam String status,\r\n      @RequestParam String make,\r\n      @RequestParam Integer limit) {\r\n  ...\r\n}\r\n```\r\n\r\n\r\nThe following request changes the state of the next `10` cars from `DIRTY` to `WASHED`\r\n\r\n```\r\nPATCH /washNextCars?status=DIRTY&amp;make=BMW&amp;limit=10\r\n{\r\n\t&quot;status&quot;: &quot;WASHED&quot;\r\n}\r\n```\r\n\r\nThis is the rough business logic:\r\n\r\n```\r\n  @Transactional\r\n  public List&lt;Car&gt; washNextCars(WashCarDTO dto) {\r\n\r\n    // SELECT TOP ? * FROM CAR WHERE make=? AND status=&#39;DIRTY&#39; ORDER BY id ASC \r\n  \tList&lt;Car&gt; nextCars = carRepository.findNextCars(limit, make, status);\r\n\r\n  \t// do some complex validation on every car if it can be washed, therefore can&#39;t do everything in one single UPDATE query\r\n\r\n  \tcars.forEach(car -&gt; {\r\n  \t  car.setStatus(&quot;WASHED&quot;);\r\n  \t});\r\n  \tcarRepository.saveAll(nextCars);\r\n  }\r\n```\r\n\r\n\r\n\r\n\r\nThis endpoint works fine when called in sequence, but when called in parallel, it tries to perform the update to the same set of cars at the same time, not the next batch of cars.\r\n\r\n**Questions:**\r\n- How can I synchronize the calls until the first one is done?\r\n  - Note this has to be achieved on the database level, because the API is deployed as multiple replicas\r\n- I found the following options:\r\n  - `@Transactional(isolation = READ_UNCOMMITED)`\r\n    - This would require to update the cars to `WASHED` before any other statement in the business logic is executed, is that correct?\r\n  - `@Lock(PESSIMISTIC_WRITE_LOCK)` - Did not provide the desired effect\r\n- What is the right way to achieve this?","title":"Synchronize concurrent batch updates with JPA","body":"<p>This example is modified and simplified, but resembles a real problem I have with legacy code that I am trying to fix.</p>\n<p>I have a MSSQL <code>CAR</code> table (where <code>id</code> is the primary key)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>make</th>\n<th>status</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>BMW</td>\n<td>WASHED</td>\n</tr>\n<tr>\n<td>2</td>\n<td>BMW</td>\n<td>DIRTY</td>\n</tr>\n<tr>\n<td>3</td>\n<td>BMW</td>\n<td>DIRTY</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Ford</td>\n<td>DIRTY</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>and a <code>/washNextCars</code> endpoint.</p>\n<pre><code>@PatchMapping(&quot;/washNextCars&quot;)\npublic ResponseEntity&lt;List&lt;Car&gt;&gt; washNextCars(\n      @RequestBody WashCarBody body,\n      @RequestParam String status,\n      @RequestParam String make,\n      @RequestParam Integer limit) {\n  ...\n}\n</code></pre>\n<p>The following request changes the state of the next <code>10</code> cars from <code>DIRTY</code> to <code>WASHED</code></p>\n<pre><code>PATCH /washNextCars?status=DIRTY&amp;make=BMW&amp;limit=10\n{\n    &quot;status&quot;: &quot;WASHED&quot;\n}\n</code></pre>\n<p>This is the rough business logic:</p>\n<pre><code>  @Transactional\n  public List&lt;Car&gt; washNextCars(WashCarDTO dto) {\n\n    // SELECT TOP ? * FROM CAR WHERE make=? AND status='DIRTY' ORDER BY id ASC \n    List&lt;Car&gt; nextCars = carRepository.findNextCars(limit, make, status);\n\n    // do some complex validation on every car if it can be washed, therefore can't do everything in one single UPDATE query\n\n    cars.forEach(car -&gt; {\n      car.setStatus(&quot;WASHED&quot;);\n    });\n    carRepository.saveAll(nextCars);\n  }\n</code></pre>\n<p>This endpoint works fine when called in sequence, but when called in parallel, it tries to perform the update to the same set of cars at the same time, not the next batch of cars.</p>\n<p><strong>Questions:</strong></p>\n<ul>\n<li>How can I synchronize the calls until the first one is done?\n<ul>\n<li>Note this has to be achieved on the database level, because the API is deployed as multiple replicas</li>\n</ul>\n</li>\n<li>I found the following options:\n<ul>\n<li><code>@Transactional(isolation = READ_UNCOMMITED)</code>\n<ul>\n<li>This would require to update the cars to <code>WASHED</code> before any other statement in the business logic is executed, is that correct?</li>\n</ul>\n</li>\n<li><code>@Lock(PESSIMISTIC_WRITE_LOCK)</code> - Did not provide the desired effect</li>\n</ul>\n</li>\n<li>What is the right way to achieve this?</li>\n</ul>\n"},{"tags":["java","spring","concurrency","executorservice","forkjoinpool"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1675287412,"post_id":75316259,"comment_id":132898982,"body_markdown":"Hm ... an HTTP request taking 15 minutes before returning a response is a rather uncommon use of HTTP. Might some network intermediary silently drop &quot;idle&quot; connections after X minutes of inactivity, causing the response to be lost in transit?","body":"Hm ... an HTTP request taking 15 minutes before returning a response is a rather uncommon use of HTTP. Might some network intermediary silently drop &quot;idle&quot; connections after X minutes of inactivity, causing the response to be lost in transit?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1675318786,"post_id":75316259,"comment_id":132904050,"body_markdown":"also I think that create pool for every request - is not a good idea","body":"also I think that create pool for every request - is not a good idea"}],"owner":{"account_id":8732642,"reputation":135,"user_id":6532188,"display_name":"valeesi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675286046,"creation_date":1675286046,"question_id":75316259,"body_markdown":"I am trying to figure out why my Microservice A get stuck at a POST call `restTemplate.postForEntity` whenever that request takes longer than 10-15 minutes and never proceeds further to `LOG.info`.\r\n\r\nThis happens even though it seems that all jobs have been completed in Microservice B, by first confirming all jobs have been run inside `jobService::executeJob`, and also that all of the `LOG.info` code have been reached. But then it hangs somewhere and prevents Microservice A from going further. \r\n\r\nSince this only happens to heavy POST calls, I haven&#39;t been able to recreate this problem in the debugger.\r\n\r\n - I use a default RestTemplate with an infinite timeout\r\n - This works completely fine for lighter POST calls under a few minutes\r\n\r\n\r\n**Microservice A**\r\n\r\n    public void doJobs(Collection&lt;Job&gt; jobs) {\r\n        restTemplate.postForEntity(&quot;http://localhost:8080/jobs&quot;, jobs, Void.class);\r\n        LOG.info(&quot;Jobs done&quot;);\r\n    }\r\n    \r\n**Microservice B**\r\n\r\n    @PostMapping(value = &quot;/jobs&quot;)\r\n    public void post(@RequestBody Collection&lt;Job&gt; jobs) {\r\n        ForkJoinPool forkJoinPool = null;\r\n        try {\r\n            forkJoinPool = new ForkJoinPool(3);\r\n            forkJoinPool.submit(() -&gt; jobs.parallelStream().forEach(jobService::executeJob)).get()\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            LOG.error(&quot;Error doing jobs&quot;, e);\r\n            throw new RuntimeException(e);\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Unknown error occurred&quot;, e);\r\n            throw e;\r\n        } finally {\r\n            LOG.info(&quot;Checking if fork join pool still active, shutting down if yes&quot;);\r\n            if (forkJoinPool != null) {\r\n                LOG.info(&quot;Shutting down fork join pool...&quot;);\r\n                forkJoinPool.shutdown();\r\n            }\r\n        }\r\n        LOG.info(&quot;Jobs completed, fork join pool successfully shut down&quot;);\r\n    }\r\n\r\nAny idea what has gone wrong here?\r\n","title":"Could ExecutorService prevent Spring RestController from responding to REST calls?","body":"<p>I am trying to figure out why my Microservice A get stuck at a POST call <code>restTemplate.postForEntity</code> whenever that request takes longer than 10-15 minutes and never proceeds further to <code>LOG.info</code>.</p>\n<p>This happens even though it seems that all jobs have been completed in Microservice B, by first confirming all jobs have been run inside <code>jobService::executeJob</code>, and also that all of the <code>LOG.info</code> code have been reached. But then it hangs somewhere and prevents Microservice A from going further.</p>\n<p>Since this only happens to heavy POST calls, I haven't been able to recreate this problem in the debugger.</p>\n<ul>\n<li>I use a default RestTemplate with an infinite timeout</li>\n<li>This works completely fine for lighter POST calls under a few minutes</li>\n</ul>\n<p><strong>Microservice A</strong></p>\n<pre><code>public void doJobs(Collection&lt;Job&gt; jobs) {\n    restTemplate.postForEntity(&quot;http://localhost:8080/jobs&quot;, jobs, Void.class);\n    LOG.info(&quot;Jobs done&quot;);\n}\n</code></pre>\n<p><strong>Microservice B</strong></p>\n<pre><code>@PostMapping(value = &quot;/jobs&quot;)\npublic void post(@RequestBody Collection&lt;Job&gt; jobs) {\n    ForkJoinPool forkJoinPool = null;\n    try {\n        forkJoinPool = new ForkJoinPool(3);\n        forkJoinPool.submit(() -&gt; jobs.parallelStream().forEach(jobService::executeJob)).get()\n    } catch (InterruptedException | ExecutionException e) {\n        LOG.error(&quot;Error doing jobs&quot;, e);\n        throw new RuntimeException(e);\n    } catch (Exception e) {\n        LOG.error(&quot;Unknown error occurred&quot;, e);\n        throw e;\n    } finally {\n        LOG.info(&quot;Checking if fork join pool still active, shutting down if yes&quot;);\n        if (forkJoinPool != null) {\n            LOG.info(&quot;Shutting down fork join pool...&quot;);\n            forkJoinPool.shutdown();\n        }\n    }\n    LOG.info(&quot;Jobs completed, fork join pool successfully shut down&quot;);\n}\n</code></pre>\n<p>Any idea what has gone wrong here?</p>\n"},{"tags":["java","memory","garbage-collection","mina"],"answers":[{"comments":[{"owner":{"account_id":2070667,"reputation":1073,"user_id":1845238,"accept_rate":24,"display_name":"anL"},"score":0,"creation_date":1354713850,"post_id":13720852,"comment_id":18852763,"body_markdown":"I have monitored the system using VisualVM and let it run for couple of minutes. As I expected, used memory value increased then the app throws OutOfMemory exception. Server sends strings to Client, I saw that char[] variables are the reason of increasing. Both of Client and Server has threads that listening each other. Maybe GC does not collect the chars (I dont know why) in threads ? I really need help in this situation","body":"I have monitored the system using VisualVM and let it run for couple of minutes. As I expected, used memory value increased then the app throws OutOfMemory exception. Server sends strings to Client, I saw that char[] variables are the reason of increasing. Both of Client and Server has threads that listening each other. Maybe GC does not collect the chars (I dont know why) in threads ? I really need help in this situation"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1354714084,"post_id":13720852,"comment_id":18852864,"body_markdown":"The GC won&#39;t clean up anything you are retaining.  You should look for *what is referencing the char[]* as this is what is preventing it from being cleaned up.  BTW I suspect your program is actually retaining `String` unless you know otherwise. ;)","body":"The GC won&#39;t clean up anything you are retaining.  You should look for <i>what is referencing the char[]</i> as this is what is preventing it from being cleaned up.  BTW I suspect your program is actually retaining <code>String</code> unless you know otherwise. ;)"},{"owner":{"account_id":2070667,"reputation":1073,"user_id":1845238,"accept_rate":24,"display_name":"anL"},"score":1,"creation_date":1354714126,"post_id":13720852,"comment_id":18852894,"body_markdown":"And I saw that, if I create a new Client object which means a new connection for each time, used mem does not increase. It means if I kill the thread and its variables the used memory is released.","body":"And I saw that, if I create a new Client object which means a new connection for each time, used mem does not increase. It means if I kill the thread and its variables the used memory is released."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354702617,"creation_date":1354702617,"answer_id":13720852,"question_id":13720637,"body_markdown":"If it never decreases, enable `-XX:+HeapDumpOnOutOfMemoryError` and you will get a heap dump on an out of memory error.\r\n\r\nThe amount of memory used is not important, only how much is retained after a full GC.  I suggest you run VisualVM and tirgger a full GC periodically and see how much free after this.","title":"Apache MINA does not remove unused data","body":"<p>If it never decreases, enable <code>-XX:+HeapDumpOnOutOfMemoryError</code> and you will get a heap dump on an out of memory error.</p>\n\n<p>The amount of memory used is not important, only how much is retained after a full GC.  I suggest you run VisualVM and tirgger a full GC periodically and see how much free after this.</p>\n"},{"comments":[{"owner":{"account_id":2070667,"reputation":1073,"user_id":1845238,"accept_rate":24,"display_name":"anL"},"score":0,"creation_date":1357717767,"post_id":14210174,"comment_id":19741400,"body_markdown":"I&#39;ve solved this problem by using a connection pool which refreshes socket sessions according to their usage. For example, if a socket and its session is used for 50 time (50 transactions), its thread is killed, refreshed and reconnected. By using this method, I can release used memory. not the best solution, but its work ! :)","body":"I&#39;ve solved this problem by using a connection pool which refreshes socket sessions according to their usage. For example, if a socket and its session is used for 50 time (50 transactions), its thread is killed, refreshed and reconnected. By using this method, I can release used memory. not the best solution, but its work ! :)"},{"owner":{"account_id":1725694,"reputation":1064,"user_id":1580426,"accept_rate":33,"display_name":"bond"},"score":0,"creation_date":1377965028,"post_id":14210174,"comment_id":27287230,"body_markdown":"I did go ahead and build everything myself.  A single socket can process 100MB/s each direction and the server never uses more than 3mb of memory.  It will generate up to 50mb of GC that is collected every so often.","body":"I did go ahead and build everything myself.  A single socket can process 100MB/s each direction and the server never uses more than 3mb of memory.  It will generate up to 50mb of GC that is collected every so often."}],"tags":[],"owner":{"account_id":1725694,"reputation":1064,"user_id":1580426,"accept_rate":33,"display_name":"bond"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357630355,"creation_date":1357630355,"answer_id":14210174,"question_id":13720637,"body_markdown":"VisualVM itself causes a lot of garbage.  You can start an empty application and sleep the thread, enable VisualVM and watch the garbage start to collect. WITH NO CODE.\r\n\r\nI am however, seeing a similar issue where mina is not retaining but generating long run items that are never garbage collected (unless you run a Full GC).  This problem can cause an application with real memory of 4mb to show up as 80mb over an hour.  It never gets collected.\r\n\r\nI am about to build my own framework to wrap NIO because I could never keep a server online for long periods without restarts like this.","title":"Apache MINA does not remove unused data","body":"<p>VisualVM itself causes a lot of garbage.  You can start an empty application and sleep the thread, enable VisualVM and watch the garbage start to collect. WITH NO CODE.</p>\n\n<p>I am however, seeing a similar issue where mina is not retaining but generating long run items that are never garbage collected (unless you run a Full GC).  This problem can cause an application with real memory of 4mb to show up as 80mb over an hour.  It never gets collected.</p>\n\n<p>I am about to build my own framework to wrap NIO because I could never keep a server online for long periods without restarts like this.</p>\n"},{"tags":[],"owner":{"account_id":8329740,"reputation":44,"user_id":6258585,"accept_rate":75,"display_name":"Travis Whitten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675285977,"creation_date":1675285977,"answer_id":75316248,"question_id":13720637,"body_markdown":"Here we are in 2023 with Apache Mina 2.2.1 and I ran into the same issue! Deployed software as a service and looked this morning to see it was using 9.6GB of memory after running for about a week! \r\n\r\nI profiled it with VisualVM to find that the Objects being decoded were never being garbage collected! Turns out there&#39;s two fixes to this problem:\r\n1. You have your IoSession set to use the read operation but you don&#39;t actually need it:\r\n```\r\n// Set this to false if you don&#39;t require ReadFuture!\r\nsession.getConfig().setUseReadOperation(false);\r\n```\r\n\r\n2. If you require asynchronous reading then you must call read on your session or it will cache all inbound messages until they are &quot;read&quot;:\r\n```\r\npublic void messageReceived(IoSession ioSession, Object message) { \r\n   ReadFuture future = ioSession.read();\r\n        future.awaitUninterruptibly();\r\n        future.getMessage();\r\n\r\n}\r\n```\r\n\r\nIn the Javadocs found [here][1], under the read method, they state:\r\n\r\n*a ReadFuture which is notified when a new message is received, the connection is closed or an exception is caught. This operation is especially useful when you implement a client application. TODO : Describe here how we enable this feature. However, please note that this operation is disabled by default and throw IllegalStateException because all received events must be queued somewhere to support this operation, possibly leading to memory leak. This means you have to keep calling read() once you enabled this operation. To enable this operation, please call IoSessionConfig.setUseReadOperation(boolean) with true.*\r\n\r\n\r\n  [1]: https://nightlies.apache.org/mina/mina/2.2.1/apidocs/index.html","title":"Apache MINA does not remove unused data","body":"<p>Here we are in 2023 with Apache Mina 2.2.1 and I ran into the same issue! Deployed software as a service and looked this morning to see it was using 9.6GB of memory after running for about a week!</p>\n<p>I profiled it with VisualVM to find that the Objects being decoded were never being garbage collected! Turns out there's two fixes to this problem:</p>\n<ol>\n<li>You have your IoSession set to use the read operation but you don't actually need it:</li>\n</ol>\n<pre><code>// Set this to false if you don't require ReadFuture!\nsession.getConfig().setUseReadOperation(false);\n</code></pre>\n<ol start=\"2\">\n<li>If you require asynchronous reading then you must call read on your session or it will cache all inbound messages until they are &quot;read&quot;:</li>\n</ol>\n<pre><code>public void messageReceived(IoSession ioSession, Object message) { \n   ReadFuture future = ioSession.read();\n        future.awaitUninterruptibly();\n        future.getMessage();\n\n}\n</code></pre>\n<p>In the Javadocs found <a href=\"https://nightlies.apache.org/mina/mina/2.2.1/apidocs/index.html\" rel=\"nofollow noreferrer\">here</a>, under the read method, they state:</p>\n<p><em>a ReadFuture which is notified when a new message is received, the connection is closed or an exception is caught. This operation is especially useful when you implement a client application. TODO : Describe here how we enable this feature. However, please note that this operation is disabled by default and throw IllegalStateException because all received events must be queued somewhere to support this operation, possibly leading to memory leak. This means you have to keep calling read() once you enabled this operation. To enable this operation, please call IoSessionConfig.setUseReadOperation(boolean) with true.</em></p>\n"}],"owner":{"account_id":2070667,"reputation":1073,"user_id":1845238,"accept_rate":24,"display_name":"anL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675285977,"creation_date":1354701974,"question_id":13720637,"body_markdown":"I have a little problem about my MINA client.\r\n\r\nI create only one connection to server, then the server sends some sort of data in every second periodically.\r\n\r\nIn short, client connects to the server; server sends back a string to the client and all those steps use the same opened connection (same client object and client handler). \r\n\r\nBut the problem is, I think, the old data is not collected by GC. The used heap is getting larger in seconds and never decreases. My messageReceived method is empty ! \r\n\r\n    public void messageReceived(IoSession session, Object message) { }\r\n\r\nAny idea ?\r\n","title":"Apache MINA does not remove unused data","body":"<p>I have a little problem about my MINA client.</p>\n\n<p>I create only one connection to server, then the server sends some sort of data in every second periodically.</p>\n\n<p>In short, client connects to the server; server sends back a string to the client and all those steps use the same opened connection (same client object and client handler). </p>\n\n<p>But the problem is, I think, the old data is not collected by GC. The used heap is getting larger in seconds and never decreases. My messageReceived method is empty ! </p>\n\n<pre><code>public void messageReceived(IoSession session, Object message) { }\n</code></pre>\n\n<p>Any idea ?</p>\n"},{"tags":["java","java-8","timezone","simpledateformat","datetime-parsing"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":4,"creation_date":1675108924,"post_id":75289522,"comment_id":132854020,"body_markdown":"The &#39;Z&#39; at the end means Zulu or UTC - It can&#39;t be parsed as PST because it&#39;s not in PST.","body":"The &#39;Z&#39; at the end means Zulu or UTC - It can&#39;t be parsed as PST because it&#39;s not in PST."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1675110578,"post_id":75289522,"comment_id":132854518,"body_markdown":"I strongly recommend that you do not use `Date`, `SimpleDateformat` and `TimeZone`. Those classes are poorly designed, `SimpleDateFormat` in praticulat notoriously troublesome, and all are fortunately long outdated. Use `Instant`, `ZoneId` and `ZonedDateTime`, all from [java.time, the modern java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I strongly recommend that you do not use <code>Date</code>, <code>SimpleDateformat</code> and <code>TimeZone</code>. Those classes are poorly designed, <code>SimpleDateFormat</code> in praticulat notoriously troublesome, and all are fortunately long outdated. Use <code>Instant</code>, <code>ZoneId</code> and <code>ZonedDateTime</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675111120,"post_id":75289522,"comment_id":132854676,"body_markdown":"The time 2013-03-10T02:59:059 did not exist in PST because of transition to summer time (DST). I know, that time is in UTC (denoted by the trailing `Z`), and UTC hasnt got summer time, so it should not matter. But you told your formatter a lie, you told it it was in PST, and it believed you and therefore threw the exception.","body":"The time 2013-03-10T02:59:059 did not exist in PST because of transition to summer time (DST). I know, that time is in UTC (denoted by the trailing <code>Z</code>), and UTC hasnt got summer time, so it should not matter. But you told your formatter a lie, you told it it was in PST, and it believed you and therefore threw the exception."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675111260,"post_id":75289522,"comment_id":132854714,"body_markdown":"Whatever PST is, Pitcairn Standard Time, Philippine Standard Time or Pacific Standard Time. Three letter time zone abbreviations are most often ambiguous, so do not use them in your code. Use for example America/Vancouver for Canadian Pacific Time.","body":"Whatever PST is, Pitcairn Standard Time, Philippine Standard Time or Pacific Standard Time. Three letter time zone abbreviations are most often ambiguous, so do not use them in your code. Use for example America/Vancouver for Canadian Pacific Time."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675111514,"post_id":75289522,"comment_id":132854769,"body_markdown":"Use `Instant.parse(&quot;2013-03-10T02:59:59Z&quot;)` to parse your string. After that you may convert it to any time zone you like. See the link in my first comment for how, and/or search. And I repeat: that string is *not* in PST, no matter which of the mentioned interpretations of PST you go by.","body":"Use <code>Instant.parse(&quot;2013-03-10T02:59:59Z&quot;)</code> to parse your string. After that you may convert it to any time zone you like. See the link in my first comment for how, and/or search. And I repeat: that string is <i>not</i> in PST, no matter which of the mentioned interpretations of PST you go by."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1675113192,"post_id":75289522,"comment_id":132855216,"body_markdown":"Also, [&#39;Z&#39; is not the same as Z](https://stackoverflow.com/a/67953075/10819573).","body":"Also, <a href=\"https://stackoverflow.com/a/67953075/10819573\">&#39;Z&#39; is not the same as Z</a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675156923,"post_id":75289522,"comment_id":132862955,"body_markdown":"If you really need a `Date`, use `new Date(Instant.parse(&quot;2013-03-10T02:59:59Z&quot;) .toEpochMilli())`. In the unlikely case that you really need to support Java&#160;7, use `new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)`. This works for your use case, i.e. `new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;).parse(&quot;2013-03-10T02:59:59Z&quot;) .equals(new Date(Instant.parse(&quot;2013-03-10T02:59:59Z&quot;).toEpochMilli()))` is `true`.","body":"If you really need a <code>Date</code>, use <code>new Date(Instant.parse(&quot;2013-03-10T02:59:59Z&quot;) .toEpochMilli())</code>. In the unlikely case that you really need to support Java 7, use <code>new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)</code>. This works for your use case, i.e. <code>new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;).parse(&quot;2013-03-&zwnj;&#8203;10T02:59:59Z&quot;) .equals(new Date(Instant.parse(&quot;2013-03-10T02:59:59Z&quot;).toEpochMilli()))</code> is <code>true</code>."}],"answers":[{"comments":[{"owner":{"account_id":7448938,"reputation":9,"user_id":5664335,"display_name":"Risabh Gupta"},"score":1,"creation_date":1675150495,"post_id":75290919,"comment_id":132861165,"body_markdown":"I agree that java Instant&#160;class will work, but why am I getting an issue with current code? It should work ideally. Is it true that one of the above comments states, _&quot;It&#39;s transition time, thus it won&#39;t work&quot;_? or is it the misfortune of being a legacy / obsolete class?","body":"I agree that java Instant class will work, but why am I getting an issue with current code? It should work ideally. Is it true that one of the above comments states, <i>&quot;It&#39;s transition time, thus it won&#39;t work&quot;</i>? or is it the misfortune of being a legacy / obsolete class?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1675285678,"post_id":75290919,"comment_id":132898523,"body_markdown":"@RisabhGupta See revised explanation of why your code failed in its parse attempt.","body":"@RisabhGupta See revised explanation of why your code failed in its parse attempt."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675285971,"creation_date":1675118507,"answer_id":75290919,"question_id":75289522,"body_markdown":"# tl;dr\r\n\r\nYour parse attempt failed because you misinterpreted the input text. The resulting erroneous value represented a date and time in a particular time zone that never existed. \r\n\r\nInstead, correctly parse your input, and adjust into a time zone,  using *java.time* classes. \r\n\r\n    Instant\r\n    .parse( &quot;2013-03-10T02:00:00Z&quot; )\r\n    .atZone( ZoneId.of( &quot;America/Los_Angeles&quot; ) )\r\n    .toString()\r\n\r\nSee [Ideone.com][1].\r\n\r\n&gt;2013-03-09T18:00-08:00[America/Los_Angeles]\r\n\r\n# Your code\r\n\r\nNever put quotes around the `Z` in a date-time formatting pattern. That says to expect but ignore vital information: an offset from UTC of zero hours-minutes-seconds. \r\n\r\nYou asked:\r\n\r\n&gt;why am I getting an issue with current code?\r\n\r\nAs other commented, I assume the legacy date-time classes attempted to parse your input of xx while guessing the value `PST` meant the time zone `America/Los_Angeles`. This would have happened because (a) you told the formatter to ignore the actual intended offset of zero represented by that `Z`, and then you (b) told the formatter to assume a default zone of PST. \r\n\r\nSo your code defies the intentions of whomever sent you that input data. Instead of 2013-03-10 02:59:59 in UTC, you tried to parse a value of 2013-03-10 02:59:59 in America/Los_Angeles. \r\n\r\nAs others have commented, **that moment never existed**. [At 2 AM on March 13, 2013 all the people using time zone *America/Los_Angeles* jumped their clocks forward to 3 AM.][2] This jump is the Spring Ahead cutover for [Daylight Saving Time (DST)][3]. That day of March 13th was only 23 hours long, not 24 hours. The 02:00-03:00 hour was excised. \r\n\r\n&#128073;&#127997; So your parse attempted failed because your misinterpreted input was coincidentally found to be senseless.\r\n\r\n# Revised code\r\n\r\nUse modern *java.time* classes. Never use the terrible legacy classes. \r\n\r\nYour input is in standard ISO 8601 format.  No need to define a formatting pattern. \r\n\r\n    Instant instant = Instant.parse( &quot;2013-03-10T02:59:059Z&quot; ) ;\r\n\r\n&gt;instant.toString() = 2013-03-10T02:59:59Z\r\n\r\nAdjust to a desired time zone. \r\n\r\n`PST` is not a real time zone. Perhaps you meant the time zone used by much of the west coast of the United States mainland. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Los_Angeles&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\n&gt;zdt.toString() = 2013-03-09T18:59:59-08:00[America/Los_Angeles]\r\n\r\nNote the change in date as well as time-of-day. \r\n\r\n[See that code run][4]. \r\n\r\nIf you must have a `java.util.Date` to interoperate with code not yet updated to *java.time*, use new conversion methods added to the old classes.\r\n\r\n    java.util.Date d = Date.from( instant ) ;  // A date-time as seen in UTC, an offset of zero hours-minutes-seconds. \r\n\r\n\r\n----------\r\n\r\n\r\nAlways search Stack Overflow before posting. All this has been covered many times before. Search to learn more. \r\n\r\n\r\n  [1]: https://ideone.com/QOBGdY\r\n  [2]: https://www.timeanddate.com/time/change/@z-us-90064?year=2013\r\n  [3]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [4]: https://ideone.com/jY4HgU","title":"Why I am not able to parse 2013-03-10T02:59:59Z from PST in Java using parse method of java.text.SimpleDateFormat?","body":"<h1>tl;dr</h1>\n<p>Your parse attempt failed because you misinterpreted the input text. The resulting erroneous value represented a date and time in a particular time zone that never existed.</p>\n<p>Instead, correctly parse your input, and adjust into a time zone,  using <em>java.time</em> classes.</p>\n<pre><code>Instant\n.parse( &quot;2013-03-10T02:00:00Z&quot; )\n.atZone( ZoneId.of( &quot;America/Los_Angeles&quot; ) )\n.toString()\n</code></pre>\n<p>See <a href=\"https://ideone.com/QOBGdY\" rel=\"nofollow noreferrer\">Ideone.com</a>.</p>\n<blockquote>\n<p>2013-03-09T18:00-08:00[America/Los_Angeles]</p>\n</blockquote>\n<h1>Your code</h1>\n<p>Never put quotes around the <code>Z</code> in a date-time formatting pattern. That says to expect but ignore vital information: an offset from UTC of zero hours-minutes-seconds.</p>\n<p>You asked:</p>\n<blockquote>\n<p>why am I getting an issue with current code?</p>\n</blockquote>\n<p>As other commented, I assume the legacy date-time classes attempted to parse your input of xx while guessing the value <code>PST</code> meant the time zone <code>America/Los_Angeles</code>. This would have happened because (a) you told the formatter to ignore the actual intended offset of zero represented by that <code>Z</code>, and then you (b) told the formatter to assume a default zone of PST.</p>\n<p>So your code defies the intentions of whomever sent you that input data. Instead of 2013-03-10 02:59:59 in UTC, you tried to parse a value of 2013-03-10 02:59:59 in America/Los_Angeles.</p>\n<p>As others have commented, <strong>that moment never existed</strong>. <a href=\"https://www.timeanddate.com/time/change/@z-us-90064?year=2013\" rel=\"nofollow noreferrer\">At 2 AM on March 13, 2013 all the people using time zone <em>America/Los_Angeles</em> jumped their clocks forward to 3 AM.</a> This jump is the Spring Ahead cutover for <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>. That day of March 13th was only 23 hours long, not 24 hours. The 02:00-03:00 hour was excised.</p>\n<p> So your parse attempted failed because your misinterpreted input was coincidentally found to be senseless.</p>\n<h1>Revised code</h1>\n<p>Use modern <em>java.time</em> classes. Never use the terrible legacy classes.</p>\n<p>Your input is in standard ISO 8601 format.  No need to define a formatting pattern.</p>\n<pre><code>Instant instant = Instant.parse( &quot;2013-03-10T02:59:059Z&quot; ) ;\n</code></pre>\n<blockquote>\n<p>instant.toString() = 2013-03-10T02:59:59Z</p>\n</blockquote>\n<p>Adjust to a desired time zone.</p>\n<p><code>PST</code> is not a real time zone. Perhaps you meant the time zone used by much of the west coast of the United States mainland.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Los_Angeles&quot; ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<blockquote>\n<p>zdt.toString() = 2013-03-09T18:59:59-08:00[America/Los_Angeles]</p>\n</blockquote>\n<p>Note the change in date as well as time-of-day.</p>\n<p><a href=\"https://ideone.com/jY4HgU\" rel=\"nofollow noreferrer\">See that code run</a>.</p>\n<p>If you must have a <code>java.util.Date</code> to interoperate with code not yet updated to <em>java.time</em>, use new conversion methods added to the old classes.</p>\n<pre><code>java.util.Date d = Date.from( instant ) ;  // A date-time as seen in UTC, an offset of zero hours-minutes-seconds. \n</code></pre>\n<hr />\n<p>Always search Stack Overflow before posting. All this has been covered many times before. Search to learn more.</p>\n"}],"owner":{"account_id":7448938,"reputation":9,"user_id":5664335,"display_name":"Risabh Gupta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1675285971,"creation_date":1675108809,"question_id":75289522,"body_markdown":"For certain input values though format and all things are correct, I am getting ParseException from  SimpleDateFormat.parse(String input) method.\r\n\r\nI&#39;m in a scenario where I need to convert time from&#160;PST timezone&#160;to local timezone; it works almost all of the time for acceptable input except for 2013-03-10T02:00:00Z to 2013-03-10T02:59:59Z.\r\nIt seems strange; I tried several JDKs&#160;and machines, but the result is the same, it throws\r\n\r\n```\r\nMethod threw &#39;java.text.ParseException&#39; exception.\r\n```\r\n\r\nMy expectation is to parse this date properly and return non null date object instead of throwing exception.\r\n\r\nSnippet to test this:\r\n\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(getDateFromString(&quot;2013-03-10T02:59:59Z&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;, Locale.ENGLISH));\r\n    }\r\n\r\n    public static Date getDateFromString(String dateText, String format, Locale locale) {\r\n        Date date = null;\r\n        SimpleDateFormat simpleDateFormat = null;\r\n        try {\r\n            simpleDateFormat = new SimpleDateFormat(format, locale);\r\n            simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n            //Supporting strict validation of date format\r\n            simpleDateFormat.setLenient(false);\r\n            date = simpleDateFormat.parse(dateText);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return date;\r\n    }\r\n```","title":"Why I am not able to parse 2013-03-10T02:59:59Z from PST in Java using parse method of java.text.SimpleDateFormat?","body":"<p>For certain input values though format and all things are correct, I am getting ParseException from  SimpleDateFormat.parse(String input) method.</p>\n<p>I'm in a scenario where I need to convert time fromPST timezoneto local timezone; it works almost all of the time for acceptable input except for 2013-03-10T02:00:00Z to 2013-03-10T02:59:59Z.\nIt seems strange; I tried several JDKsand machines, but the result is the same, it throws</p>\n<pre><code>Method threw 'java.text.ParseException' exception.\n</code></pre>\n<p>My expectation is to parse this date properly and return non null date object instead of throwing exception.</p>\n<p>Snippet to test this:</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        System.out.println(getDateFromString(&quot;2013-03-10T02:59:59Z&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;, Locale.ENGLISH));\n    }\n\n    public static Date getDateFromString(String dateText, String format, Locale locale) {\n        Date date = null;\n        SimpleDateFormat simpleDateFormat = null;\n        try {\n            simpleDateFormat = new SimpleDateFormat(format, locale);\n            simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\n            //Supporting strict validation of date format\n            simpleDateFormat.setLenient(false);\n            date = simpleDateFormat.parse(dateText);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return date;\n    }\n</code></pre>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":1,"creation_date":1557056654,"post_id":55984756,"comment_id":98630917,"body_markdown":"Add a custom `AggregationStrategy` to the splitter where you propagate the properties you want to keep","body":"Add a custom <code>AggregationStrategy</code> to the splitter where you propagate the properties you want to keep"},{"owner":{"account_id":10015599,"reputation":1,"user_id":7407001,"display_name":"Thomas"},"score":0,"creation_date":1557094162,"post_id":55984756,"comment_id":98640628,"body_markdown":"So I understand that if I create my own class that extends `AggregationStrategy` and I `@Override` method `aggregate`, I should set new property on newExchange with the values from oldExchange?\nAnd when/where should I use that `.aggregate()` in route? Right after `.streaming()`?","body":"So I understand that if I create my own class that extends <code>AggregationStrategy</code> and I <code>@Override</code> method <code>aggregate</code>, I should set new property on newExchange with the values from oldExchange? And when/where should I use that <code>.aggregate()</code> in route? Right after <code>.streaming()</code>?"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1557123933,"post_id":55984756,"comment_id":98646126,"body_markdown":"Yeah see the splitter documentation, it shows how to use a custom agg strategy: https://github.com/apache/camel/blob/master/core/camel-core/src/main/docs/eips/split-eip.adoc#split-aggregate-requestreply-sample","body":"Yeah see the splitter documentation, it shows how to use a custom agg strategy: <a href=\"https://github.com/apache/camel/blob/master/core/camel-core/src/main/docs/eips/split-eip.adoc#split-aggregate-requestreply-sample\" rel=\"nofollow noreferrer\">github.com/apache/camel/blob/master/core/camel-core/src/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":10015599,"reputation":1,"user_id":7407001,"display_name":"Thomas"},"score":0,"creation_date":1557182407,"post_id":55984756,"comment_id":98671350,"body_markdown":"Hi Claus, thank you so much, it was really helpful.\nAt the beginning I was trying to put somewhere `.aggregate()`, but then saw an example provided by you on github and putting `AggregationStrategy` inside `.split()` brackets (as an argument) solved the problem (so `.split(several_elements_to_split, new MyCustomAggregationStrategy())`.","body":"Hi Claus, thank you so much, it was really helpful. At the beginning I was trying to put somewhere <code>.aggregate()</code>, but then saw an example provided by you on github and putting <code>AggregationStrategy</code> inside <code>.split()</code> brackets (as an argument) solved the problem (so <code>.split(several_elements_to_split, new MyCustomAggregationStrategy())</code>."}],"answers":[{"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675272142,"creation_date":1675272142,"answer_id":75313921,"question_id":55984756,"body_markdown":"Like mentioned in the comments, you would need to use an Aggregator.  When splitting, Camel basically creates new messages and new exchanges, so setting properties or headers inside your split wouldn&#39;t carry over as the Unit of Work terminates when the split ends.","title":"Apache Camel: properties created during the split are lost after the split","body":"<p>Like mentioned in the comments, you would need to use an Aggregator.  When splitting, Camel basically creates new messages and new exchanges, so setting properties or headers inside your split wouldn't carry over as the Unit of Work terminates when the split ends.</p>\n"}],"owner":{"account_id":10015599,"reputation":1,"user_id":7407001,"display_name":"Thomas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675285686,"creation_date":1556988531,"question_id":55984756,"body_markdown":"I&#39;m kinda struggling with lost exchange properties that are created during the split phase (I need to use them after split).\r\n\r\n\r\nSo basically:\r\n```\r\nfrom(MY_ROUTE)\r\n    .routeId(MY_ROUTE_ID)\r\n    .to(PREPARE_ADDITIONAL_PROPERTIES_ROUTE)\r\n    .process(myProcessor)\r\n    ...\r\n\r\nfrom(PREPARE_ADDITIONAL_PROPERTIES_ROUTE)\r\n    .routeId(PREPARE_ADDITIONAL_PROPERTIES_ROUTE_ID)\r\n    .split(several_elements_to_split).streaming()\r\n        .to(CREATE_SOME_PROPERTIES_ROUTE)\r\n    .end();\r\n```\r\n\r\nWhat I&#39;m trying to achieve is to process the data (some Objects) that I&#39;ve set to properties of exchange in route `CREATE_SOME_PROPERTIES_ROUTE` in `myProcessor`, but these properties are lost/missing after getting out of split phase.\r\n\r\nIs there any way to recover the properties in `myProcessor`? Or to avoid losing them after split?\r\n\r\nThanks in advance.","title":"Apache Camel: properties created during the split are lost after the split","body":"<p>I'm kinda struggling with lost exchange properties that are created during the split phase (I need to use them after split).</p>\n\n<p>So basically:</p>\n\n<pre><code>from(MY_ROUTE)\n    .routeId(MY_ROUTE_ID)\n    .to(PREPARE_ADDITIONAL_PROPERTIES_ROUTE)\n    .process(myProcessor)\n    ...\n\nfrom(PREPARE_ADDITIONAL_PROPERTIES_ROUTE)\n    .routeId(PREPARE_ADDITIONAL_PROPERTIES_ROUTE_ID)\n    .split(several_elements_to_split).streaming()\n        .to(CREATE_SOME_PROPERTIES_ROUTE)\n    .end();\n</code></pre>\n\n<p>What I'm trying to achieve is to process the data (some Objects) that I've set to properties of exchange in route <code>CREATE_SOME_PROPERTIES_ROUTE</code> in <code>myProcessor</code>, but these properties are lost/missing after getting out of split phase.</p>\n\n<p>Is there any way to recover the properties in <code>myProcessor</code>? Or to avoid losing them after split?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","sorting","ip-address"],"comments":[{"owner":{"account_id":260566,"reputation":39118,"user_id":544198,"accept_rate":89,"display_name":"PearsonArtPhoto"},"score":0,"creation_date":1354848831,"post_id":13756235,"comment_id":18906911,"body_markdown":"Splitting it up is the way to go.","body":"Splitting it up is the way to go."},{"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"score":1,"creation_date":1354848857,"post_id":13756235,"comment_id":18906914,"body_markdown":"are your IP&#39;s String type??","body":"are your IP&#39;s String type??"},{"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"score":1,"creation_date":1354849048,"post_id":13756235,"comment_id":18906944,"body_markdown":"you can make Comparator and then use Collections.sort using your own Comparator","body":"you can make Comparator and then use Collections.sort using your own Comparator"},{"owner":{"account_id":1888569,"reputation":827,"user_id":1707266,"accept_rate":57,"display_name":"John"},"score":0,"creation_date":1354849106,"post_id":13756235,"comment_id":18906954,"body_markdown":"Yeah. So I need to convert it to integer first.","body":"Yeah. So I need to convert it to integer first."},{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":0,"creation_date":1354849175,"post_id":13756235,"comment_id":18906966,"body_markdown":"Create a comparator that splits the string and compares each of the 4 parts as ints.  Should be pretty straightforward.","body":"Create a comparator that splits the string and compares each of the 4 parts as ints.  Should be pretty straightforward."},{"owner":{"account_id":1479742,"reputation":14305,"user_id":1389394,"accept_rate":58,"display_name":"bonCodigo"},"score":0,"creation_date":1354849441,"post_id":13756235,"comment_id":18907020,"body_markdown":"Convert, store in a two D array with original one and converted one without dots. Then sort ascending and pull out originals to match. May be a long way but works ;-)","body":"Convert, store in a two D array with original one and converted one without dots. Then sort ascending and pull out originals to match. May be a long way but works ;-)"},{"owner":{"account_id":2845447,"reputation":1487,"user_id":2443988,"accept_rate":50,"display_name":"Sumit Ramteke"},"score":0,"creation_date":1394445669,"post_id":13756235,"comment_id":33876400,"body_markdown":"Here in [Thilo&#39;s Dev-Blog](http://thilosdevblog.wordpress.com/2010/09/15/sorting-ip-addresses-in-java/) is solution. Now work is left with converting your ip type to `InetAddress` Object.","body":"Here in <a href=\"http://thilosdevblog.wordpress.com/2010/09/15/sorting-ip-addresses-in-java/\" rel=\"nofollow noreferrer\">Thilo&#39;s Dev-Blog</a> is solution. Now work is left with converting your ip type to <code>InetAddress</code> Object."}],"answers":[{"comments":[{"owner":{"account_id":900623,"reputation":14220,"user_id":936869,"accept_rate":81,"display_name":"theon"},"score":0,"creation_date":1452593075,"post_id":13756288,"comment_id":57226874,"body_markdown":"@AlexWien Could you elaborate as to why it is not a good example?","body":"@AlexWien Could you elaborate as to why it is not a good example?"},{"owner":{"account_id":900623,"reputation":14220,"user_id":936869,"accept_rate":81,"display_name":"theon"},"score":0,"creation_date":1452593117,"post_id":13756288,"comment_id":57226900,"body_markdown":"Ah I see you were commenting on a forum link that has since been removed.","body":"Ah I see you were commenting on a forum link that has since been removed."},{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1452619397,"post_id":13756288,"comment_id":57245713,"body_markdown":"Thanks theon,I could not remember why i wrote this., The current link looks good.","body":"Thanks theon,I could not remember why i wrote this., The current link looks good."}],"tags":[],"owner":{"account_id":1617062,"reputation":29979,"user_id":1494454,"accept_rate":86,"display_name":"totymedli"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1354849932,"creation_date":1354849256,"answer_id":13756288,"question_id":13756235,"body_markdown":"I would suggest to implement your own Comparator. See this post: [Sorting IP addresses in Java][1]  \r\n\r\nCopy paste only for you:\r\n\r\n    /**\r\n     * LGPL\r\n     */\r\n    public class InetAddressComparator implements Comparator {\r\n        @Override\r\n        public int compare(InetAddress adr1, InetAddress adr2) {\r\n            byte[] ba1 = adr1.getAddress();\r\n            byte[] ba2 = adr2.getAddress();\r\n    \r\n            // general ordering: ipv4 before ipv6\r\n            if(ba1.length &lt; ba2.length) return -1;\r\n            if(ba1.length &gt; ba2.length) return 1;\r\n    \r\n            // we have 2 ips of the same type, so we have to compare each byte\r\n            for(int i = 0; i &lt; ba1.length; i++) {\r\n                int b1 = unsignedByteToInt(ba1[i]);\r\n                int b2 = unsignedByteToInt(ba2[i]);\r\n                if(b1 == b2)\r\n                    continue;\r\n                if(b1 &lt; b2)\r\n                    return -1;\r\n                else\r\n                    return 1;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        private int unsignedByteToInt(byte b) {\r\n            return (int) b &amp; 0xFF;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://thilosdevblog.wordpress.com/2010/09/15/sorting-ip-addresses-in-java/","title":"How to sort ip address in ascending order","body":"<p>I would suggest to implement your own Comparator. See this post: <a href=\"http://thilosdevblog.wordpress.com/2010/09/15/sorting-ip-addresses-in-java/\">Sorting IP addresses in Java</a>  </p>\n\n<p>Copy paste only for you:</p>\n\n<pre><code>/**\n * LGPL\n */\npublic class InetAddressComparator implements Comparator {\n    @Override\n    public int compare(InetAddress adr1, InetAddress adr2) {\n        byte[] ba1 = adr1.getAddress();\n        byte[] ba2 = adr2.getAddress();\n\n        // general ordering: ipv4 before ipv6\n        if(ba1.length &lt; ba2.length) return -1;\n        if(ba1.length &gt; ba2.length) return 1;\n\n        // we have 2 ips of the same type, so we have to compare each byte\n        for(int i = 0; i &lt; ba1.length; i++) {\n            int b1 = unsignedByteToInt(ba1[i]);\n            int b2 = unsignedByteToInt(ba2[i]);\n            if(b1 == b2)\n                continue;\n            if(b1 &lt; b2)\n                return -1;\n            else\n                return 1;\n        }\n        return 0;\n    }\n\n    private int unsignedByteToInt(byte b) {\n        return (int) b &amp; 0xFF;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1436540122,"creation_date":1354849317,"answer_id":13756297,"question_id":13756235,"body_markdown":"For the ip4 adresses you showed you just\r\nneed to split it up. then i would convert it to a long value, and sort by that.\r\n\r\n    long value = f3 + f2*256 + f1 * 256^2 + f0 * 256^3\r\n\r\nwhere f0 - f3 are the splitted values.","title":"How to sort ip address in ascending order","body":"<p>For the ip4 adresses you showed you just\nneed to split it up. then i would convert it to a long value, and sort by that.</p>\n\n<pre><code>long value = f3 + f2*256 + f1 * 256^2 + f0 * 256^3\n</code></pre>\n\n<p>where f0 - f3 are the splitted values.</p>\n"},{"comments":[{"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"score":0,"creation_date":1354850251,"post_id":13756353,"comment_id":18907155,"body_markdown":"@AlexWien Try is out and let me know. I did the padding just to take care that limitation.","body":"@AlexWien Try is out and let me know. I did the padding just to take care that limitation."},{"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"score":1,"creation_date":1354850685,"post_id":13756353,"comment_id":18907256,"body_markdown":"@AlexWien It took end-to-end 0.016 seconds.","body":"@AlexWien It took end-to-end 0.016 seconds."},{"owner":{"account_id":1888569,"reputation":827,"user_id":1707266,"accept_rate":57,"display_name":"John"},"score":1,"creation_date":1354852170,"post_id":13756353,"comment_id":18907532,"body_markdown":"I have hashMap that stored the ip address as the key. any suggestions? Should I change it to other data structure?","body":"I have hashMap that stored the ip address as the key. any suggestions? Should I change it to other data structure?"},{"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"score":0,"creation_date":1354857607,"post_id":13756353,"comment_id":18908633,"body_markdown":"@John: Ip Address as String, right? What are maintaining as value for the key? Answer depends on your usage.","body":"@John: Ip Address as String, right? What are maintaining as value for the key? Answer depends on your usage."},{"owner":{"account_id":2535499,"reputation":11020,"user_id":2202732,"accept_rate":87,"display_name":"akinuri"},"score":0,"creation_date":1547735694,"post_id":13756353,"comment_id":95300855,"body_markdown":"I came here for a quick solution, but saw complicated ones. I went with padding. Later, I wanted to check the rest of the answers and found this one. This approach is better, imo. If you&#39;re having performance issue, just map the array once and sort the mapped array. For explanation: [Sorting_with_map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Sorting_with_map).","body":"I came here for a quick solution, but saw complicated ones. I went with padding. Later, I wanted to check the rest of the answers and found this one. This approach is better, imo. If you&#39;re having performance issue, just map the array once and sort the mapped array. For explanation: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Sorting_with_map\" rel=\"nofollow noreferrer\">Sorting_with_map</a>."}],"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1354850116,"creation_date":1354849806,"answer_id":13756353,"question_id":13756235,"body_markdown":"Pad each fragment in `IP` to length `3` and then `sort` e.g. below:\r\n\r\n\t\tList&lt;String&gt; ipList = new ArrayList&lt;String&gt;();\r\n\t\tipList.add(&quot;123.4.245.23&quot;);\r\n\t\tipList.add(&quot;104.244.253.29&quot;);\r\n\t\tipList.add(&quot;1.198.3.93&quot;);\r\n\t\tipList.add(&quot;32.183.93.40&quot;);\r\n\t\tipList.add(&quot;104.30.244.2&quot;);\r\n\t\tipList.add(&quot;104.244.4.1&quot;);\r\n\t\tCollections.sort(ipList, new Comparator&lt;String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(String o1, String o2) {\r\n\t\t\t\tString[] ips1 = o1.split(&quot;\\\\.&quot;);\r\n\t\t\t\tString updatedIp1 = String.format(&quot;%3s.%3s.%3s.%3s&quot;,\r\n                                                      ips1[0],ips1[1],ips1[2],ips1[3]);\r\n\t\t\t\tString[] ips2 = o2.split(&quot;\\\\.&quot;);\r\n\t\t\t\tString updatedIp2 = String.format(&quot;%3s.%3s.%3s.%3s&quot;,\r\n                                                      ips2[0],ips2[1],ips2[2],ips2[3]);\r\n\t\t\t\treturn updatedIp1.compareTo(updatedIp2);\r\n\t\t\t}\r\n\t\t});\r\n\t\t//print the sorted IP\r\n\t\tfor(String ip: ipList){\r\n\t\t\tSystem.out.println(ip);\r\n\t\t}\r\n\r\n\r\n----------\r\n\r\nIt prints:\r\n\r\n&gt; 1.198.3.93 &lt;br/&gt;\r\n&gt; 32.183.93.40&lt;br/&gt;\r\n&gt; 104.30.244.2&lt;br/&gt;\r\n&gt; 104.244.4.1&lt;br/&gt;\r\n&gt; 104.244.253.29&lt;br/&gt;\r\n&gt; 123.4.245.23&lt;br/&gt;","title":"How to sort ip address in ascending order","body":"<p>Pad each fragment in <code>IP</code> to length <code>3</code> and then <code>sort</code> e.g. below:</p>\n\n<pre><code>    List&lt;String&gt; ipList = new ArrayList&lt;String&gt;();\n    ipList.add(\"123.4.245.23\");\n    ipList.add(\"104.244.253.29\");\n    ipList.add(\"1.198.3.93\");\n    ipList.add(\"32.183.93.40\");\n    ipList.add(\"104.30.244.2\");\n    ipList.add(\"104.244.4.1\");\n    Collections.sort(ipList, new Comparator&lt;String&gt;() {\n        @Override\n        public int compare(String o1, String o2) {\n            String[] ips1 = o1.split(\"\\\\.\");\n            String updatedIp1 = String.format(\"%3s.%3s.%3s.%3s\",\n                                                  ips1[0],ips1[1],ips1[2],ips1[3]);\n            String[] ips2 = o2.split(\"\\\\.\");\n            String updatedIp2 = String.format(\"%3s.%3s.%3s.%3s\",\n                                                  ips2[0],ips2[1],ips2[2],ips2[3]);\n            return updatedIp1.compareTo(updatedIp2);\n        }\n    });\n    //print the sorted IP\n    for(String ip: ipList){\n        System.out.println(ip);\n    }\n</code></pre>\n\n<hr>\n\n<p>It prints:</p>\n\n<blockquote>\n  <p>1.198.3.93 <br/>\n  32.183.93.40<br/>\n  104.30.244.2<br/>\n  104.244.4.1<br/>\n  104.244.253.29<br/>\n  123.4.245.23<br/></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3476721,"reputation":11,"user_id":2909715,"display_name":"shashidhar kache"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382500649,"creation_date":1382500649,"answer_id":19532488,"question_id":13756235,"body_markdown":"    public class IpSort {  \r\n        public static void main(String[] args) {  \r\n            // TODO Auto-generated method stub  \r\n            String[] arr = {&quot;192.168.1.1&quot;,  \r\n                &quot;191.122.123.112&quot;,  \r\n                &quot;192.161.1.1&quot;,  \r\n                &quot;191.122.123.1&quot;,  \r\n                &quot;123.24.5.78&quot;,  \r\n                &quot;121.24.5.78&quot;,  \r\n                &quot;123.24.4.78&quot;,  \r\n                &quot;123.2.5.78&quot;,  \r\n                &quot;192.1.1.1&quot;,  \r\n                &quot;125.45.67.89&quot;,  \r\n                &quot;1.1.1.1&quot;,  \r\n                &quot;3.4.5.6&quot;,  \r\n                &quot;2.2.2.2&quot;,  \r\n                &quot;6.6.6.7&quot;,  \r\n                &quot;155.155.23.0&quot;};  \r\n            String tmp;  \r\n            for(int i=0;i&lt;arr.length;i++)  \r\n            {  \r\n                      for(int j=1;j&lt;arr.length-i;j++)  \r\n                      {  \r\n                          String[] instr1 = arr[j-1].split(&quot;\\\\.&quot;);  \r\n                          String[] instr2 = arr[j].split(&quot;\\\\.&quot;);  \r\n                               if(Integer.parseInt(instr1[0]) &gt; Integer.parseInt(instr2[0]))  \r\n                               {  \r\n                                   tmp=arr[j-1];  \r\n                                   arr[j-1]=arr[j];  \r\n                                   arr[j]=tmp;  \r\n                               }else if(Integer.parseInt(instr1[0]) == Integer.parseInt(instr2[0])  \r\n                             &amp;&amp; Integer.parseInt(instr1[1]) &gt; Integer.parseInt(instr2[1]) )  \r\n                               {  \r\n                                    tmp=arr[j-1];  \r\n                                    arr[j-1]=arr[j];  \r\n                                    arr[j]=tmp;  \r\n                               } else if(Integer.parseInt(instr1[0]) == Integer.parseInt(instr2[0])  \r\n                             &amp;&amp; Integer.parseInt(instr1[1]) == Integer.parseInt(instr2[1])  \r\n                             &amp;&amp; Integer.parseInt(instr1[2]) &gt; Integer.parseInt(instr2[2]) )  \r\n                               {  \r\n                                    tmp=arr[j-1];  \r\n                                    arr[j-1]=arr[j];  \r\n                                    arr[j]=tmp;  \r\n                               } else if(Integer.parseInt(instr1[0]) == Integer.parseInt(instr2[0])  \r\n                             &amp;&amp; Integer.parseInt(instr1[1]) == Integer.parseInt(instr2[1])  \r\n                             &amp;&amp; Integer.parseInt(instr1[2]) == Integer.parseInt(instr2[2])  \r\n                             &amp;&amp; Integer.parseInt(instr1[3]) &gt; Integer.parseInt(instr2[3]) )  \r\n                               {  \r\n                                   tmp=arr[j-1];  \r\n                                   arr[j-1]=arr[j];  \r\n                                   arr[j]=tmp;  \r\n                               }  \r\n                      }  \r\n                      \r\n            }  \r\n            System.out.println(&quot;final sorted list of ips :\\n&quot;);  \r\n            for(int k=0;k&lt;arr.length;k++){  \r\n                System.out.println(arr[k]);  \r\n            }  \r\n        }  \r\n    }  ","title":"How to sort ip address in ascending order","body":"<pre><code>public class IpSort {  \n    public static void main(String[] args) {  \n        // TODO Auto-generated method stub  \n        String[] arr = {\"192.168.1.1\",  \n            \"191.122.123.112\",  \n            \"192.161.1.1\",  \n            \"191.122.123.1\",  \n            \"123.24.5.78\",  \n            \"121.24.5.78\",  \n            \"123.24.4.78\",  \n            \"123.2.5.78\",  \n            \"192.1.1.1\",  \n            \"125.45.67.89\",  \n            \"1.1.1.1\",  \n            \"3.4.5.6\",  \n            \"2.2.2.2\",  \n            \"6.6.6.7\",  \n            \"155.155.23.0\"};  \n        String tmp;  \n        for(int i=0;i&lt;arr.length;i++)  \n        {  \n                  for(int j=1;j&lt;arr.length-i;j++)  \n                  {  \n                      String[] instr1 = arr[j-1].split(\"\\\\.\");  \n                      String[] instr2 = arr[j].split(\"\\\\.\");  \n                           if(Integer.parseInt(instr1[0]) &gt; Integer.parseInt(instr2[0]))  \n                           {  \n                               tmp=arr[j-1];  \n                               arr[j-1]=arr[j];  \n                               arr[j]=tmp;  \n                           }else if(Integer.parseInt(instr1[0]) == Integer.parseInt(instr2[0])  \n                         &amp;&amp; Integer.parseInt(instr1[1]) &gt; Integer.parseInt(instr2[1]) )  \n                           {  \n                                tmp=arr[j-1];  \n                                arr[j-1]=arr[j];  \n                                arr[j]=tmp;  \n                           } else if(Integer.parseInt(instr1[0]) == Integer.parseInt(instr2[0])  \n                         &amp;&amp; Integer.parseInt(instr1[1]) == Integer.parseInt(instr2[1])  \n                         &amp;&amp; Integer.parseInt(instr1[2]) &gt; Integer.parseInt(instr2[2]) )  \n                           {  \n                                tmp=arr[j-1];  \n                                arr[j-1]=arr[j];  \n                                arr[j]=tmp;  \n                           } else if(Integer.parseInt(instr1[0]) == Integer.parseInt(instr2[0])  \n                         &amp;&amp; Integer.parseInt(instr1[1]) == Integer.parseInt(instr2[1])  \n                         &amp;&amp; Integer.parseInt(instr1[2]) == Integer.parseInt(instr2[2])  \n                         &amp;&amp; Integer.parseInt(instr1[3]) &gt; Integer.parseInt(instr2[3]) )  \n                           {  \n                               tmp=arr[j-1];  \n                               arr[j-1]=arr[j];  \n                               arr[j]=tmp;  \n                           }  \n                  }  \n\n        }  \n        System.out.println(\"final sorted list of ips :\\n\");  \n        for(int k=0;k&lt;arr.length;k++){  \n            System.out.println(arr[k]);  \n        }  \n    }  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5379259,"reputation":7396,"user_id":4601149,"accept_rate":88,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1675284811,"creation_date":1450896806,"answer_id":34441987,"question_id":13756235,"body_markdown":"**TLDR**\r\n\r\nDon&#39;t rewrite the wheel like I tried too, use the `InetAddress` class in a `Comparator`.\r\n\r\n**Edit**\r\n\r\nA more efficient and accurate way to do it is with the [`InetAddress` class](https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html) mentioned above. Credits to [200_success](https://stackoverflow.com/users/1157100/200-success) for code.\r\n\r\n\timport java.net.InetAddress;\r\n\timport java.net.Inet4Address;\r\n\timport java.net.Inet6Address;\r\n\timport java.net.UnknownHostException;\r\n\timport java.util.Arrays;\r\n\timport java.util.Collections;\r\n\timport java.util.Comparator;\r\n\timport java.util.Optional;\r\n\timport java.util.stream.Stream;\r\n\r\n\tpublic class IPSort {\r\n\t\tprivate static String[] TESTS = {&quot;0:0:0:0:0:0:fff:ffff&quot;,&quot;::FFFF:222.1.41.90&quot;,&quot;:8:&quot;,&quot;::::5:6::8&quot;,&quot;::::5:6::7&quot;,&quot;::::5:6::8&quot;,&quot;123..245.23&quot;,&quot;1...&quot;,&quot;..1.&quot;,&quot;123...23&quot;,&quot;.1..&quot;,&quot;123..245.23&quot;, &quot;123..245.23&quot;, &quot;104.244.253.29&quot;, &quot;1.198.3.93&quot;, &quot;32.183.93.40&quot;, &quot;32.183.93.40&quot;, &quot;104.30.244.2&quot;, &quot;104.244.4.1&quot;,&quot;0.0.0.1&quot;,&quot;:a:&quot;,&quot;::5:3:4:5:6:78&quot;,&quot;1::2:3&quot;,&quot;1::2:3:4&quot;,&quot;1::5:256.2.3.4&quot;,&quot;1:1:3000.30.30.30&quot;,&quot;ae80::217:f2ff:254:7:237:98&quot;,&quot;::2:3:4:5:6:7&quot;,&quot;2:3:4:5:6:7&quot;,&quot;::5:3:4:5:6:7:8&quot;,&quot;::5:3:4:5:6:7:8:9:0&quot;,&quot;1::8&quot;,&quot;1::2:3&quot;,&quot;1::2:3:4&quot;,&quot;1::5:256.2.3.4&quot;,&quot;1:1:3000.30.30.30&quot;,&quot;ae80::217:f2ff:254.7.237.98&quot;,&quot;1:2:3:4::5:1.2.3.4&quot;,&quot;2001:0000:1234:0000:0000:C1C0:ABCD:0876&quot;,&quot;12345::6:7:8&quot;,&quot;1::1.2.900.4&quot;,&quot;fe80::&quot;,&quot;::ffff:0:0&quot;};\r\n\t\t\r\n\t\tpublic static class InetAddressComparator implements Comparator&lt;InetAddress&gt; {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(InetAddress a, InetAddress b) {\r\n\t\t\t\tbyte[] aOctets = a.getAddress(),\r\n\t\t\t\t\t   bOctets = b.getAddress();\r\n\t\t\t\tint len = Math.max(aOctets.length, bOctets.length);\r\n\t\t\t\tfor (int i = 0; i &lt; len; i++) {\r\n\t\t\t\t\tbyte aOctet = (i &gt;= len - aOctets.length) ?\r\n\t\t\t\t\t\taOctets[i - (len - aOctets.length)] : 0;\r\n\t\t\t\t\tbyte bOctet = (i &gt;= len - bOctets.length) ?\r\n\t\t\t\t\t\tbOctets[i - (len - bOctets.length)] : 0;\r\n\t\t\t\t\tif (aOctet != bOctet) return (0xff &amp; aOctet) - (0xff &amp; bOctet);\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static Optional&lt;InetAddress&gt; toInetAddress(String s) {\r\n\t\t\ttry {\r\n\t\t\t\treturn Optional.of(InetAddress.getByName(s));\r\n\t\t\t} catch (UnknownHostException badAddress) {\r\n\t\t\t\treturn Optional.empty();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tSystem.out.println(&quot;Valid 32-bit addresses&quot;);\r\n\t\t\tArrays.stream(TESTS)\r\n\t\t\t\t  .map(IPSort::toInetAddress)\r\n\t\t\t\t  .filter(Optional::isPresent)\r\n\t\t\t\t  .map(Optional::get)\r\n\t\t\t\t  .filter((addr) -&gt; addr instanceof Inet4Address)\r\n\t\t\t\t  .map(InetAddress::getHostAddress)\r\n\t\t\t\t  .forEach(System.out::println);\r\n\r\n\t\t\tSystem.out.println(&quot;\\nValid 128-bit addresses&quot;);\r\n\t\t\tArrays.stream(TESTS)\r\n\t\t\t\t  .map(IPSort::toInetAddress)\r\n\t\t\t\t  .filter(Optional::isPresent)\r\n\t\t\t\t  .map(Optional::get)\r\n\t\t\t\t  .filter((addr) -&gt; addr instanceof Inet6Address)\r\n\t\t\t\t  .map(InetAddress::getHostAddress)\r\n\t\t\t\t  .forEach(System.out::println);\r\n\r\n\t\t\tSystem.out.println(&quot;\\nInvalid addresses&quot;);\r\n\t\t\tArrays.stream(TESTS)\r\n\t\t\t\t  .filter((s) -&gt; !toInetAddress(s).isPresent())\r\n\t\t\t\t  .forEach(System.out::println);\r\n\r\n\t\t\tSystem.out.println(&quot;\\nSorted addresses&quot;);\r\n\t\t\tArrays.stream(TESTS)\r\n\t\t\t\t  .map(IPSort::toInetAddress)\r\n\t\t\t\t  .filter(Optional::isPresent)\r\n\t\t\t\t  .map(Optional::get)\r\n\t\t\t\t  .sorted(new InetAddressComparator())\r\n\t\t\t\t  .map(InetAddress::getHostAddress)\r\n\t\t\t\t  .forEach(System.out::println);\r\n\t\t}\r\n\t}\r\n\r\n---\r\n**Original Answer**\r\n\r\nIn order to sort IPs you first need to know a bit about them. There are two types of IPs; `32 Bit` and `128 Bit`.\r\n\r\n**32 Bit** [Source](https://upload.wikimedia.org/wikipedia/commons/7/74/Ipv4_address.svg)\r\n\r\n[![32 Bit][2]][2]\r\n\r\n - The `32 bit IP` is split into 4 groups of numbers between `0` and `255`. These groups are seperated via a `.`\r\n - A single group, as shown above, is 8 bits of data. This is the reason the numbers in a group are limited between `0` and `255`.\r\n - For a `32 bit IP` to be formatted correctly it should be `int.int.int.int`. Even if the int is a `0` it must be shown in the IP address. This is different to a `128 bit IP` which may omit `0`s. For example `::5:` which is the same as `0:0:5:0:0:0:0:0`.\r\n\r\n**128 Bit** [Source](https://upload.wikimedia.org/wikipedia/commons/7/70/Ipv6_address_leading_zeros.svg)\r\n\r\n[![128 Bit][3]][3]\r\n\r\n - The `128 bit IP` is split into 8 groups of numbers between `0` and `FFFF` (which is equivalent to `65535`). Unlike a `32 bit IPs` group, these groups are separated buy a `:`.\r\n - A single group, as show above, is 16 bits of data. This is the reason the numbers in the groups are limited between `0` and `FFFF`.\r\n - To format a `128 bit IP` properly there are several rules you have to follow. `0`s may be omitted from groups and if the remaining groups all are `0` then the groups may also be omitted. The groups have to be separated by a `:`. If you are omitting groups the last group which isn&#39;t a `0` has to be followed by a `:`. These rules leave us with a format `int:int:int:int:int:int:int:int`. An example of `0`s and groups being omitted would be `58f:::fff:2:`. This is the same as `58f:0:0:fff:2:0:0:0`.\r\n\r\n**Sorting**\r\n\r\nOnce the IPs have been sorted into their respective groups they can be sorted. To sort an IP you need to use a method called weighting. This is because simply adding or multiplying different groups together wouldn&#39;t work. For example take the these two IPs; `192.5.48.198` and `198.48.5.192`. If you add or multiply the values of the groups together you get the same answer. So there is no way to accurately compare them using addition and multiplication. If you use weighting you get something like this.\r\n\r\n**32 Bit Weighting**\r\n\r\n    Value of IP = (Group one value * 256^4) + (Group two value * 256^3) +\r\n                  (Group three value * 256^2) + (Group four value * 256)\r\n\r\n**128 Bit Weighting**\r\n\r\n    Value of IP = (Group one value * 65536^8) + (Group two value * 65536^7) +\r\n                  (Group three value * 65536^6) + (Group four value * 65536^5) +\r\n                  (Group five value * 65536^4) + (Group six value * 65536^3) +\r\n                  (Group seven value * 65536^2) + (Group eight value * 65536)\r\n\r\n**The Code in Java**\r\n\r\nAs long as the IP is formatted reasonably correctly this code will separate the two kinds of IP and then sort them.\r\n\r\n\timport java.util.*;\r\n\timport java.math.*; //For BigInteger\r\n\timport java.util.regex.*;\r\n\timport java.lang.*;\r\n\r\n\tpublic class IPSort\r\n\t{\r\n\t\tString[] tests = {&quot;:8:&quot;,&quot;::::5:6::8&quot;,&quot;::::5:6::7&quot;,&quot;::::5:6::8&quot;,&quot;123..245.23&quot;,&quot;1...&quot;,&quot;..1.&quot;,&quot;123...23&quot;,&quot;.1..&quot;,&quot;123..245.23&quot;, &quot;123..245.23&quot;, &quot;104.244.253.29&quot;, &quot;1.198.3.93&quot;, &quot;32.183.93.40&quot;, &quot;32.183.93.40&quot;, &quot;104.30.244.2&quot;, &quot;104.244.4.1&quot;,&quot;0.0.0.1&quot;,&quot;:a:&quot;,&quot;::5:3:4:5:6:78&quot;,&quot;1::2:3&quot;,&quot;1::2:3:4&quot;,&quot;1::5:256.2.3.4&quot;,&quot;1:1:3000.30.30.30&quot;,&quot;ae80::217:f2ff:254:7:237:98&quot;};\r\n\t\tArrayList&lt;String&gt; bit32 = new ArrayList&lt;String&gt;();\r\n\t\tArrayList&lt;String&gt; bit128 = new ArrayList&lt;String&gt;();\r\n\t\tArrayList&lt;String&gt; cleanBit32 = new ArrayList&lt;String&gt;();\r\n\t\tArrayList&lt;String&gt; cleanBit128 = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tboolean myMatcher32Bit(String s)\r\n\t\t{\r\n\t\t\tPattern patter32Bit = Pattern.compile(&quot;^(?=(?:[^.]*\\\\.){3}[^.]*$)(?=(?:[^:]*:){0}[^:]*$)(?=(?:[^a-zA-Z]*[^a-zA-Z])*$)&quot;);\r\n\t\t\tMatcher matcher32Bit = patter32Bit.matcher(s);\r\n\t\t\treturn matcher32Bit.find();\r\n\t\t}\r\n\t\t\r\n\t\tboolean myMatcher128Bit(String s)\r\n\t\t{\r\n\t\t\tPattern patter128Bit = Pattern.compile(&quot;^(?=(?:[^.]*\\\\.){0}[^.]*$)(?=(?:[^:]*:){1,7}[^:]*$)&quot;);\r\n\t\t\tMatcher matcher128Bit = patter128Bit.matcher(s);\r\n\t\t\treturn matcher128Bit.find();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void sortIntoRespectiveIPTypes()\r\n\t\t{\r\n\t\t\tfor(String s: tests)\r\n\t\t\t{\r\n\t\t\t\tif(myMatcher32Bit(s))\r\n\t\t\t\t{\r\n\t\t\t\t\tbit32.add(s);\r\n\t\t\t\t}\r\n\t\t\t\telse if(myMatcher128Bit(s))\r\n\t\t\t\t{\r\n\t\t\t\t\tbit128.add(s);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;32 bit IPs&quot;);\r\n\t\t\tfor(String ip: bit32)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;  &quot;+ip);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\n128 bit IPs&quot;);\r\n\t\t\tfor(String ip: bit128)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;  &quot;+ip);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tint count = 0;\r\n\t\t\tfor(String ip: tests)\r\n\t\t\t{\r\n\t\t\t\tif(myMatcher32Bit(ip)==false &amp;&amp; myMatcher128Bit(ip)==false)\r\n\t\t\t\t{\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(count != 0)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;\\nDidn&#39;t match an IP format&quot;);\r\n\t\t\t\tfor(String ip: tests)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(myMatcher32Bit(ip)==false &amp;&amp; myMatcher128Bit(ip)==false)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;  &quot;+ip);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic void sort32BitIPs(ArrayList&lt;String&gt; bit32, ArrayList&lt;String&gt; newBit32)\r\n\t\t{\r\n\t\t\tArrayList&lt;BigInteger&gt; bigInt32Bit = new ArrayList&lt;BigInteger&gt;();\r\n\t\t\tfor(String ip:bit32)\r\n\t\t\t{\r\n\t\t\t\tString[] tempArray = ip.split(&quot;\\\\.&quot;);\r\n\t\t\t\tint i=0;\r\n\t\t\t\tfor(String s:tempArray)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(s.equals(&quot;&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttempArray[i]=&quot;0&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\tbigInt32Bit.add(convert32Bit(tempArray));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tCollections.sort(bigInt32Bit);\r\n\t\t\t\r\n\t\t\tArrayList&lt;String&gt; fixFormat = new ArrayList&lt;String&gt;();\r\n\t\t\tfor(String ip:bit32)\r\n\t\t\t{\r\n\t\t\t\tString[] fixArray = ip.split(&quot;\\\\.&quot;);\r\n\t\t\t\tint i=0;\r\n\t\t\t\tfor(String s:fixArray)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(s.equals(&quot;&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfixArray[i]=&quot;0&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tStringBuilder strBuilder = new StringBuilder();\r\n\t\t\t\tfor(int i2 = 0; i2 &lt; 4; i2++) \r\n\t\t\t\t{\r\n\t\t\t\t\tif(i2&lt;3)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(!fixArray[i2].equals(&quot;&quot;))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstrBuilder.append(fixArray[i2]+&quot;.&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstrBuilder.append(&quot;.&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch(Exception e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstrBuilder.append(&quot;0.&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstrBuilder.append(fixArray[i2]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch(Exception e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstrBuilder.append(&quot;0&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tString newString = strBuilder.toString();\r\n\t\t\t\tfixFormat.add(newString);\r\n\t\t\t\tbit32=fixFormat;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor(BigInteger finalValue:bigInt32Bit)\r\n\t\t\t{\r\n\t\t\t\tfor(String ip:bit32)\r\n\t\t\t\t{\r\n\t\t\t\t\tString[] tempArray = ip.split(&quot;\\\\.&quot;);\r\n\t\t\t\t\tint i=0;\r\n\t\t\t\t\tfor(String s:tempArray)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(s.equals(&quot;&quot;))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttempArray[i]=&quot;0&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(finalValue.equals(convert32Bit(tempArray)))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(!newBit32.contains(ip))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tString str = bit32.toString();\r\n\t\t\t\t\t\t\tString findStr = ip;\r\n\t\t\t\t\t\t\tint lastIndex = 0;\r\n\t\t\t\t\t\t\tint count = 0;\r\n\r\n\t\t\t\t\t\t\twhile(lastIndex != -1){\r\n\r\n\t\t\t\t\t\t\t\tlastIndex = str.indexOf(findStr,lastIndex);\r\n\r\n\t\t\t\t\t\t\t\tif(lastIndex != -1){\r\n\t\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\t\tlastIndex += findStr.length();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor(int k = 0; k&lt;count;k++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tnewBit32.add(ip);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tBigInteger convert32Bit(String[] array)\r\n\t\t{\r\n\t\t\tint[] tempArray = new int[array.length];\r\n\t\t\tArrayList&lt;BigInteger&gt; tempBigIntList = new ArrayList&lt;BigInteger&gt;();\r\n\t\t\tint i = 0;\r\n\t\t\tfor(String s:array)\r\n\t\t\t{\r\n\t\t\t\tint power = 4-i;\r\n\t\t\t\ttempArray[i]= Integer.parseInt(s);\r\n\t\t\t\tString string = Integer.toString(tempArray[i]);\r\n\t\t\t\tBigInteger myBigInt = new BigInteger(string);\r\n\t\t\t\tBigInteger num2 = myBigInt.multiply(new BigInteger(&quot;256&quot;).pow(power));\r\n\t\t\t\ttempBigIntList.add(num2);\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tBigInteger bigInt32Bit = new BigInteger(&quot;0&quot;);\r\n\t\t\tfor(BigInteger bI:tempBigIntList)\r\n\t\t\t{\r\n\t\t\t\tbigInt32Bit = bigInt32Bit.add(bI);\r\n\t\t\t}\r\n\t\t\treturn bigInt32Bit;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void sort128BitIPs(ArrayList&lt;String&gt; bit128,ArrayList&lt;String&gt; newBit128)\r\n\t\t{\r\n\t\t\tArrayList&lt;BigInteger&gt; bigInt128Bit = new ArrayList&lt;BigInteger&gt;();\r\n\t\t\tfor(String ip:bit128)\r\n\t\t\t{\r\n\t\t\t\tString[] tempArray = ip.split(&quot;:&quot;);\r\n\t\t\t\tint i=0;\r\n\t\t\t\tfor(String s:tempArray)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(s.equals(&quot;&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttempArray[i]=&quot;0&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\tbigInt128Bit.add(convert128Bit(tempArray));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tCollections.sort(bigInt128Bit);\r\n\t\t\t\r\n\t\t\tfor(BigInteger finalValue:bigInt128Bit)\r\n\t\t\t{\r\n\t\t\t\tfor(String ip:bit128)\r\n\t\t\t\t{\r\n\t\t\t\t\tString[] tempArray = ip.split(&quot;:&quot;);\r\n\t\t\t\t\tint i=0;\r\n\t\t\t\t\tfor(String s:tempArray)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(s.equals(&quot;&quot;))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttempArray[i]=&quot;0&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(finalValue.equals(convert128Bit(tempArray)))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(!newBit128.contains(ip))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tString str = bit128.toString();\r\n\t\t\t\t\t\t\tString findStr = ip;\r\n\t\t\t\t\t\t\tint lastIndex = 0;\r\n\t\t\t\t\t\t\tint count = 0;\r\n\r\n\t\t\t\t\t\t\twhile(lastIndex != -1){\r\n\r\n\t\t\t\t\t\t\t\tlastIndex = str.indexOf(findStr,lastIndex);\r\n\r\n\t\t\t\t\t\t\t\tif(lastIndex != -1){\r\n\t\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\t\tlastIndex += findStr.length();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor(int k = 0; k&lt;count;k++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tnewBit128.add(ip);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tBigInteger convert128Bit(String[] array)\r\n\t\t{\r\n\t\t\tint[] tempArray = new int[array.length];\r\n\t\t\tArrayList&lt;BigInteger&gt; tempBigIntList = new ArrayList&lt;BigInteger&gt;();\r\n\t\t\tint i = 0;\r\n\t\t\tfor(String s:array)\r\n\t\t\t{\r\n\t\t\t\tint power = 8-i;\r\n\t\t\t\ttempArray[i]= Integer.parseInt(s,16);\r\n\t\t\t\tString string = Integer.toString(tempArray[i]);\r\n\t\t\t\tBigInteger myBigInt = new BigInteger(string);\r\n\t\t\t\tBigInteger num2 = myBigInt.multiply(new BigInteger(&quot;65536&quot;).pow(power));\r\n\t\t\t\ttempBigIntList.add(num2);\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tBigInteger bigInt128Bit = new BigInteger(&quot;0&quot;);\r\n\t\t\tfor(BigInteger bI:tempBigIntList)\r\n\t\t\t{\r\n\t\t\t\tbigInt128Bit = bigInt128Bit.add(bI);\r\n\t\t\t}\r\n\t\t\treturn bigInt128Bit;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void printInOrder(ArrayList&lt;String&gt; bit32,ArrayList&lt;String&gt; bit128)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;\\nSorted IPs&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Sorted 32 bit IPs - Ascending&quot;);\r\n\t\t\tfor(String ip: bit32)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;  &quot;+ip);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tCollections.reverse(bit32);\r\n\t\t\tSystem.out.println(&quot;\\nSorted 32 bit IPs - Descending&quot;);\r\n\t\t\tfor(String ip: bit32)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;  &quot;+ip);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\nSorted 128 bit IPs - Ascending&quot;);\r\n\t\t\tfor(String ip: bit128)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;  &quot;+ip);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tCollections.reverse(bit128);\r\n\t\t\tSystem.out.println(&quot;\\nSorted 128 bit IPs - Descending&quot;);\r\n\t\t\tfor(String ip: bit128)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;  &quot;+ip);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic void run(ArrayList&lt;String&gt; bit32,ArrayList&lt;String&gt; bit128,ArrayList&lt;String&gt; newBit32,ArrayList&lt;String&gt; newBit128)\r\n\t\t{\r\n\t\t\tsortIntoRespectiveIPTypes();\r\n\t\t\tsort32BitIPs(bit32,newBit32);\r\n\t\t\tsort128BitIPs(bit128,newBit128);\r\n\t\t\tprintInOrder(newBit32,newBit128);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args)\r\n\t\t{\r\n\t\t\tIPSort ipS = new IPSort();\r\n\t\t\tipS.run(ipS.bit32,ipS.bit128,ipS.cleanBit32,ipS.cleanBit128);\r\n\t\t}\r\n\t}\r\n\r\n*As a note it is possible to use [this class](https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html) to sort IPs but my code does not use it* \r\n\r\n*This code also sorts the list into an ascending order, then into a descending order. This is printed out in the command console when the code is run*\r\n\r\n**Output**\r\n\r\n[![Output][4]][4]\r\n\r\n  [1]: https://stackoverflow.com/a/34441987#Edit\r\n  [2]: http://i.stack.imgur.com/TDeU3.png\r\n  [3]: http://i.stack.imgur.com/R8RUt.png\r\n  [4]: http://i.stack.imgur.com/JutJ3.png","title":"How to sort ip address in ascending order","body":"<p><strong>TLDR</strong></p>\n<p>Don't rewrite the wheel like I tried too, use the <code>InetAddress</code> class in a <code>Comparator</code>.</p>\n<p><strong>Edit</strong></p>\n<p>A more efficient and accurate way to do it is with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html\" rel=\"nofollow noreferrer\"><code>InetAddress</code> class</a> mentioned above. Credits to <a href=\"https://stackoverflow.com/users/1157100/200-success\">200_success</a> for code.</p>\n<pre><code>import java.net.InetAddress;\nimport java.net.Inet4Address;\nimport java.net.Inet6Address;\nimport java.net.UnknownHostException;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Optional;\nimport java.util.stream.Stream;\n\npublic class IPSort {\n    private static String[] TESTS = {&quot;0:0:0:0:0:0:fff:ffff&quot;,&quot;::FFFF:222.1.41.90&quot;,&quot;:8:&quot;,&quot;::::5:6::8&quot;,&quot;::::5:6::7&quot;,&quot;::::5:6::8&quot;,&quot;123..245.23&quot;,&quot;1...&quot;,&quot;..1.&quot;,&quot;123...23&quot;,&quot;.1..&quot;,&quot;123..245.23&quot;, &quot;123..245.23&quot;, &quot;104.244.253.29&quot;, &quot;1.198.3.93&quot;, &quot;32.183.93.40&quot;, &quot;32.183.93.40&quot;, &quot;104.30.244.2&quot;, &quot;104.244.4.1&quot;,&quot;0.0.0.1&quot;,&quot;:a:&quot;,&quot;::5:3:4:5:6:78&quot;,&quot;1::2:3&quot;,&quot;1::2:3:4&quot;,&quot;1::5:256.2.3.4&quot;,&quot;1:1:3000.30.30.30&quot;,&quot;ae80::217:f2ff:254:7:237:98&quot;,&quot;::2:3:4:5:6:7&quot;,&quot;2:3:4:5:6:7&quot;,&quot;::5:3:4:5:6:7:8&quot;,&quot;::5:3:4:5:6:7:8:9:0&quot;,&quot;1::8&quot;,&quot;1::2:3&quot;,&quot;1::2:3:4&quot;,&quot;1::5:256.2.3.4&quot;,&quot;1:1:3000.30.30.30&quot;,&quot;ae80::217:f2ff:254.7.237.98&quot;,&quot;1:2:3:4::5:1.2.3.4&quot;,&quot;2001:0000:1234:0000:0000:C1C0:ABCD:0876&quot;,&quot;12345::6:7:8&quot;,&quot;1::1.2.900.4&quot;,&quot;fe80::&quot;,&quot;::ffff:0:0&quot;};\n    \n    public static class InetAddressComparator implements Comparator&lt;InetAddress&gt; {\n        @Override\n        public int compare(InetAddress a, InetAddress b) {\n            byte[] aOctets = a.getAddress(),\n                   bOctets = b.getAddress();\n            int len = Math.max(aOctets.length, bOctets.length);\n            for (int i = 0; i &lt; len; i++) {\n                byte aOctet = (i &gt;= len - aOctets.length) ?\n                    aOctets[i - (len - aOctets.length)] : 0;\n                byte bOctet = (i &gt;= len - bOctets.length) ?\n                    bOctets[i - (len - bOctets.length)] : 0;\n                if (aOctet != bOctet) return (0xff &amp; aOctet) - (0xff &amp; bOctet);\n            }\n            return 0;\n        }\n    }\n\n    public static Optional&lt;InetAddress&gt; toInetAddress(String s) {\n        try {\n            return Optional.of(InetAddress.getByName(s));\n        } catch (UnknownHostException badAddress) {\n            return Optional.empty();\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;Valid 32-bit addresses&quot;);\n        Arrays.stream(TESTS)\n              .map(IPSort::toInetAddress)\n              .filter(Optional::isPresent)\n              .map(Optional::get)\n              .filter((addr) -&gt; addr instanceof Inet4Address)\n              .map(InetAddress::getHostAddress)\n              .forEach(System.out::println);\n\n        System.out.println(&quot;\\nValid 128-bit addresses&quot;);\n        Arrays.stream(TESTS)\n              .map(IPSort::toInetAddress)\n              .filter(Optional::isPresent)\n              .map(Optional::get)\n              .filter((addr) -&gt; addr instanceof Inet6Address)\n              .map(InetAddress::getHostAddress)\n              .forEach(System.out::println);\n\n        System.out.println(&quot;\\nInvalid addresses&quot;);\n        Arrays.stream(TESTS)\n              .filter((s) -&gt; !toInetAddress(s).isPresent())\n              .forEach(System.out::println);\n\n        System.out.println(&quot;\\nSorted addresses&quot;);\n        Arrays.stream(TESTS)\n              .map(IPSort::toInetAddress)\n              .filter(Optional::isPresent)\n              .map(Optional::get)\n              .sorted(new InetAddressComparator())\n              .map(InetAddress::getHostAddress)\n              .forEach(System.out::println);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Original Answer</strong></p>\n<p>In order to sort IPs you first need to know a bit about them. There are two types of IPs; <code>32 Bit</code> and <code>128 Bit</code>.</p>\n<p><strong>32 Bit</strong> <a href=\"https://upload.wikimedia.org/wikipedia/commons/7/74/Ipv4_address.svg\" rel=\"nofollow noreferrer\">Source</a></p>\n<p><a href=\"https://i.stack.imgur.com/TDeU3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TDeU3.png\" alt=\"32 Bit\" /></a></p>\n<ul>\n<li>The <code>32 bit IP</code> is split into 4 groups of numbers between <code>0</code> and <code>255</code>. These groups are seperated via a <code>.</code></li>\n<li>A single group, as shown above, is 8 bits of data. This is the reason the numbers in a group are limited between <code>0</code> and <code>255</code>.</li>\n<li>For a <code>32 bit IP</code> to be formatted correctly it should be <code>int.int.int.int</code>. Even if the int is a <code>0</code> it must be shown in the IP address. This is different to a <code>128 bit IP</code> which may omit <code>0</code>s. For example <code>::5:</code> which is the same as <code>0:0:5:0:0:0:0:0</code>.</li>\n</ul>\n<p><strong>128 Bit</strong> <a href=\"https://upload.wikimedia.org/wikipedia/commons/7/70/Ipv6_address_leading_zeros.svg\" rel=\"nofollow noreferrer\">Source</a></p>\n<p><a href=\"https://i.stack.imgur.com/R8RUt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R8RUt.png\" alt=\"128 Bit\" /></a></p>\n<ul>\n<li>The <code>128 bit IP</code> is split into 8 groups of numbers between <code>0</code> and <code>FFFF</code> (which is equivalent to <code>65535</code>). Unlike a <code>32 bit IPs</code> group, these groups are separated buy a <code>:</code>.</li>\n<li>A single group, as show above, is 16 bits of data. This is the reason the numbers in the groups are limited between <code>0</code> and <code>FFFF</code>.</li>\n<li>To format a <code>128 bit IP</code> properly there are several rules you have to follow. <code>0</code>s may be omitted from groups and if the remaining groups all are <code>0</code> then the groups may also be omitted. The groups have to be separated by a <code>:</code>. If you are omitting groups the last group which isn't a <code>0</code> has to be followed by a <code>:</code>. These rules leave us with a format <code>int:int:int:int:int:int:int:int</code>. An example of <code>0</code>s and groups being omitted would be <code>58f:::fff:2:</code>. This is the same as <code>58f:0:0:fff:2:0:0:0</code>.</li>\n</ul>\n<p><strong>Sorting</strong></p>\n<p>Once the IPs have been sorted into their respective groups they can be sorted. To sort an IP you need to use a method called weighting. This is because simply adding or multiplying different groups together wouldn't work. For example take the these two IPs; <code>192.5.48.198</code> and <code>198.48.5.192</code>. If you add or multiply the values of the groups together you get the same answer. So there is no way to accurately compare them using addition and multiplication. If you use weighting you get something like this.</p>\n<p><strong>32 Bit Weighting</strong></p>\n<pre><code>Value of IP = (Group one value * 256^4) + (Group two value * 256^3) +\n              (Group three value * 256^2) + (Group four value * 256)\n</code></pre>\n<p><strong>128 Bit Weighting</strong></p>\n<pre><code>Value of IP = (Group one value * 65536^8) + (Group two value * 65536^7) +\n              (Group three value * 65536^6) + (Group four value * 65536^5) +\n              (Group five value * 65536^4) + (Group six value * 65536^3) +\n              (Group seven value * 65536^2) + (Group eight value * 65536)\n</code></pre>\n<p><strong>The Code in Java</strong></p>\n<p>As long as the IP is formatted reasonably correctly this code will separate the two kinds of IP and then sort them.</p>\n<pre><code>import java.util.*;\nimport java.math.*; //For BigInteger\nimport java.util.regex.*;\nimport java.lang.*;\n\npublic class IPSort\n{\n    String[] tests = {&quot;:8:&quot;,&quot;::::5:6::8&quot;,&quot;::::5:6::7&quot;,&quot;::::5:6::8&quot;,&quot;123..245.23&quot;,&quot;1...&quot;,&quot;..1.&quot;,&quot;123...23&quot;,&quot;.1..&quot;,&quot;123..245.23&quot;, &quot;123..245.23&quot;, &quot;104.244.253.29&quot;, &quot;1.198.3.93&quot;, &quot;32.183.93.40&quot;, &quot;32.183.93.40&quot;, &quot;104.30.244.2&quot;, &quot;104.244.4.1&quot;,&quot;0.0.0.1&quot;,&quot;:a:&quot;,&quot;::5:3:4:5:6:78&quot;,&quot;1::2:3&quot;,&quot;1::2:3:4&quot;,&quot;1::5:256.2.3.4&quot;,&quot;1:1:3000.30.30.30&quot;,&quot;ae80::217:f2ff:254:7:237:98&quot;};\n    ArrayList&lt;String&gt; bit32 = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; bit128 = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; cleanBit32 = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; cleanBit128 = new ArrayList&lt;String&gt;();\n    \n    boolean myMatcher32Bit(String s)\n    {\n        Pattern patter32Bit = Pattern.compile(&quot;^(?=(?:[^.]*\\\\.){3}[^.]*$)(?=(?:[^:]*:){0}[^:]*$)(?=(?:[^a-zA-Z]*[^a-zA-Z])*$)&quot;);\n        Matcher matcher32Bit = patter32Bit.matcher(s);\n        return matcher32Bit.find();\n    }\n    \n    boolean myMatcher128Bit(String s)\n    {\n        Pattern patter128Bit = Pattern.compile(&quot;^(?=(?:[^.]*\\\\.){0}[^.]*$)(?=(?:[^:]*:){1,7}[^:]*$)&quot;);\n        Matcher matcher128Bit = patter128Bit.matcher(s);\n        return matcher128Bit.find();\n    }\n    \n    public void sortIntoRespectiveIPTypes()\n    {\n        for(String s: tests)\n        {\n            if(myMatcher32Bit(s))\n            {\n                bit32.add(s);\n            }\n            else if(myMatcher128Bit(s))\n            {\n                bit128.add(s);\n            }\n        }\n        \n        System.out.println(&quot;32 bit IPs&quot;);\n        for(String ip: bit32)\n        {\n            System.out.println(&quot;  &quot;+ip);\n        }\n        \n        System.out.println(&quot;\\n128 bit IPs&quot;);\n        for(String ip: bit128)\n        {\n            System.out.println(&quot;  &quot;+ip);\n        }\n        \n        int count = 0;\n        for(String ip: tests)\n        {\n            if(myMatcher32Bit(ip)==false &amp;&amp; myMatcher128Bit(ip)==false)\n            {\n                count++;\n            }\n        }\n        \n        if(count != 0)\n        {\n            System.out.println(&quot;\\nDidn't match an IP format&quot;);\n            for(String ip: tests)\n            {\n                if(myMatcher32Bit(ip)==false &amp;&amp; myMatcher128Bit(ip)==false)\n                {\n                    System.out.println(&quot;  &quot;+ip);\n                }\n            }\n        }\n        \n    }\n    \n    public void sort32BitIPs(ArrayList&lt;String&gt; bit32, ArrayList&lt;String&gt; newBit32)\n    {\n        ArrayList&lt;BigInteger&gt; bigInt32Bit = new ArrayList&lt;BigInteger&gt;();\n        for(String ip:bit32)\n        {\n            String[] tempArray = ip.split(&quot;\\\\.&quot;);\n            int i=0;\n            for(String s:tempArray)\n            {\n                if(s.equals(&quot;&quot;))\n                {\n                    tempArray[i]=&quot;0&quot;;\n                }\n                i++;\n            }\n            bigInt32Bit.add(convert32Bit(tempArray));\n        }\n        \n        Collections.sort(bigInt32Bit);\n        \n        ArrayList&lt;String&gt; fixFormat = new ArrayList&lt;String&gt;();\n        for(String ip:bit32)\n        {\n            String[] fixArray = ip.split(&quot;\\\\.&quot;);\n            int i=0;\n            for(String s:fixArray)\n            {\n                if(s.equals(&quot;&quot;))\n                {\n                    fixArray[i]=&quot;0&quot;;\n                }\n                i++;\n            }\n            \n            StringBuilder strBuilder = new StringBuilder();\n            for(int i2 = 0; i2 &lt; 4; i2++) \n            {\n                if(i2&lt;3)\n                {\n                    try\n                    {\n                        if(!fixArray[i2].equals(&quot;&quot;))\n                        {\n                            strBuilder.append(fixArray[i2]+&quot;.&quot;);\n                        }\n                        else\n                        {\n                            strBuilder.append(&quot;.&quot;);\n                        }\n                    }\n                    catch(Exception e)\n                    {\n                        strBuilder.append(&quot;0.&quot;);\n                    }\n                }\n                else\n                {\n                    try\n                    {\n                        strBuilder.append(fixArray[i2]);\n                    }\n                    catch(Exception e)\n                    {\n                        strBuilder.append(&quot;0&quot;);\n                    }\n                }\n            }\n            String newString = strBuilder.toString();\n            fixFormat.add(newString);\n            bit32=fixFormat;\n        }\n        \n        for(BigInteger finalValue:bigInt32Bit)\n        {\n            for(String ip:bit32)\n            {\n                String[] tempArray = ip.split(&quot;\\\\.&quot;);\n                int i=0;\n                for(String s:tempArray)\n                {\n                    if(s.equals(&quot;&quot;))\n                    {\n                        tempArray[i]=&quot;0&quot;;\n                    }\n                    i++;\n                }\n                if(finalValue.equals(convert32Bit(tempArray)))\n                {\n                    if(!newBit32.contains(ip))\n                    {\n                        String str = bit32.toString();\n                        String findStr = ip;\n                        int lastIndex = 0;\n                        int count = 0;\n\n                        while(lastIndex != -1){\n\n                            lastIndex = str.indexOf(findStr,lastIndex);\n\n                            if(lastIndex != -1){\n                                count++;\n                                lastIndex += findStr.length();\n                            }\n                        }\n                        \n                        for(int k = 0; k&lt;count;k++)\n                        {\n                            newBit32.add(ip);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    BigInteger convert32Bit(String[] array)\n    {\n        int[] tempArray = new int[array.length];\n        ArrayList&lt;BigInteger&gt; tempBigIntList = new ArrayList&lt;BigInteger&gt;();\n        int i = 0;\n        for(String s:array)\n        {\n            int power = 4-i;\n            tempArray[i]= Integer.parseInt(s);\n            String string = Integer.toString(tempArray[i]);\n            BigInteger myBigInt = new BigInteger(string);\n            BigInteger num2 = myBigInt.multiply(new BigInteger(&quot;256&quot;).pow(power));\n            tempBigIntList.add(num2);\n            i++;\n        }\n        BigInteger bigInt32Bit = new BigInteger(&quot;0&quot;);\n        for(BigInteger bI:tempBigIntList)\n        {\n            bigInt32Bit = bigInt32Bit.add(bI);\n        }\n        return bigInt32Bit;\n    }\n    \n    public void sort128BitIPs(ArrayList&lt;String&gt; bit128,ArrayList&lt;String&gt; newBit128)\n    {\n        ArrayList&lt;BigInteger&gt; bigInt128Bit = new ArrayList&lt;BigInteger&gt;();\n        for(String ip:bit128)\n        {\n            String[] tempArray = ip.split(&quot;:&quot;);\n            int i=0;\n            for(String s:tempArray)\n            {\n                if(s.equals(&quot;&quot;))\n                {\n                    tempArray[i]=&quot;0&quot;;\n                }\n                i++;\n            }\n            bigInt128Bit.add(convert128Bit(tempArray));\n        }\n        \n        Collections.sort(bigInt128Bit);\n        \n        for(BigInteger finalValue:bigInt128Bit)\n        {\n            for(String ip:bit128)\n            {\n                String[] tempArray = ip.split(&quot;:&quot;);\n                int i=0;\n                for(String s:tempArray)\n                {\n                    if(s.equals(&quot;&quot;))\n                    {\n                        tempArray[i]=&quot;0&quot;;\n                    }\n                    i++;\n                }\n                if(finalValue.equals(convert128Bit(tempArray)))\n                {\n                    if(!newBit128.contains(ip))\n                    {\n                        String str = bit128.toString();\n                        String findStr = ip;\n                        int lastIndex = 0;\n                        int count = 0;\n\n                        while(lastIndex != -1){\n\n                            lastIndex = str.indexOf(findStr,lastIndex);\n\n                            if(lastIndex != -1){\n                                count++;\n                                lastIndex += findStr.length();\n                            }\n                        }\n                        \n                        for(int k = 0; k&lt;count;k++)\n                        {\n                            newBit128.add(ip);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    BigInteger convert128Bit(String[] array)\n    {\n        int[] tempArray = new int[array.length];\n        ArrayList&lt;BigInteger&gt; tempBigIntList = new ArrayList&lt;BigInteger&gt;();\n        int i = 0;\n        for(String s:array)\n        {\n            int power = 8-i;\n            tempArray[i]= Integer.parseInt(s,16);\n            String string = Integer.toString(tempArray[i]);\n            BigInteger myBigInt = new BigInteger(string);\n            BigInteger num2 = myBigInt.multiply(new BigInteger(&quot;65536&quot;).pow(power));\n            tempBigIntList.add(num2);\n            i++;\n        }\n        BigInteger bigInt128Bit = new BigInteger(&quot;0&quot;);\n        for(BigInteger bI:tempBigIntList)\n        {\n            bigInt128Bit = bigInt128Bit.add(bI);\n        }\n        return bigInt128Bit;\n    }\n    \n    public void printInOrder(ArrayList&lt;String&gt; bit32,ArrayList&lt;String&gt; bit128)\n    {\n        System.out.println(&quot;\\nSorted IPs&quot;);\n        \n        System.out.println(&quot;Sorted 32 bit IPs - Ascending&quot;);\n        for(String ip: bit32)\n        {\n            System.out.println(&quot;  &quot;+ip);\n        }\n        \n        Collections.reverse(bit32);\n        System.out.println(&quot;\\nSorted 32 bit IPs - Descending&quot;);\n        for(String ip: bit32)\n        {\n            System.out.println(&quot;  &quot;+ip);\n        }\n        \n        System.out.println(&quot;\\nSorted 128 bit IPs - Ascending&quot;);\n        for(String ip: bit128)\n        {\n            System.out.println(&quot;  &quot;+ip);\n        }\n        \n        Collections.reverse(bit128);\n        System.out.println(&quot;\\nSorted 128 bit IPs - Descending&quot;);\n        for(String ip: bit128)\n        {\n            System.out.println(&quot;  &quot;+ip);\n        }\n    }\n    \n    public void run(ArrayList&lt;String&gt; bit32,ArrayList&lt;String&gt; bit128,ArrayList&lt;String&gt; newBit32,ArrayList&lt;String&gt; newBit128)\n    {\n        sortIntoRespectiveIPTypes();\n        sort32BitIPs(bit32,newBit32);\n        sort128BitIPs(bit128,newBit128);\n        printInOrder(newBit32,newBit128);\n    }\n    \n    public static void main(String[] args)\n    {\n        IPSort ipS = new IPSort();\n        ipS.run(ipS.bit32,ipS.bit128,ipS.cleanBit32,ipS.cleanBit128);\n    }\n}\n</code></pre>\n<p><em>As a note it is possible to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html\" rel=\"nofollow noreferrer\">this class</a> to sort IPs but my code does not use it</em></p>\n<p><em>This code also sorts the list into an ascending order, then into a descending order. This is printed out in the command console when the code is run</em></p>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/JutJ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JutJ3.png\" alt=\"Output\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2369464,"reputation":175,"user_id":2226354,"accept_rate":33,"display_name":"sandy.sm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481804122,"creation_date":1481804122,"answer_id":41163954,"question_id":13756235,"body_markdown":"How about this plain logic:\r\n\r\nIp Address: \r\n    [10.1.1.2, 10.22.33.11, 10.12.23.12]\r\n\r\n \r\n\r\n1) Fill in the IP to complete 12 digits format with prefix 0:\r\nlike\r\n    [010.001.001.002, 010.022.033.011, 010.012.023,012]\r\n\r\n\r\n2) Remove &quot;.&quot;s to make it complete string of digits:\r\n    [010001001002, 010022033011, 010012023012]\r\n\r\n3) Apply Sort\r\n    [010001001002, 010012023012, 010022033011]\r\n\r\n4) Retain dots after every 3 digits:\r\n    [010.001.001.002, 010.012.023.012, 010.022.033.011]\r\n\r\n5) Remove prefix 0&#39;s\r\n    [10.1.1.2, 10.12.23.12, 10.22.33.11]\r\n\r\n6) Sorted!\r\n\r\n","title":"How to sort ip address in ascending order","body":"<p>How about this plain logic:</p>\n\n<p>Ip Address: \n    [10.1.1.2, 10.22.33.11, 10.12.23.12]</p>\n\n<p>1) Fill in the IP to complete 12 digits format with prefix 0:\nlike\n    [010.001.001.002, 010.022.033.011, 010.012.023,012]</p>\n\n<p>2) Remove \".\"s to make it complete string of digits:\n    [010001001002, 010022033011, 010012023012]</p>\n\n<p>3) Apply Sort\n    [010001001002, 010012023012, 010022033011]</p>\n\n<p>4) Retain dots after every 3 digits:\n    [010.001.001.002, 010.012.023.012, 010.022.033.011]</p>\n\n<p>5) Remove prefix 0's\n    [10.1.1.2, 10.12.23.12, 10.22.33.11]</p>\n\n<p>6) Sorted!</p>\n"},{"tags":[],"owner":{"account_id":10501649,"reputation":1,"user_id":7740192,"display_name":"sunny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502041629,"creation_date":1502035998,"answer_id":45534001,"question_id":13756235,"body_markdown":"    public class SortIP\r\n    {\r\n    \r\n    \tpublic static String getFormattedIP(String ip)\r\n    \t{\r\n    \t\tString arg[] = new String[4];\r\n    \t\targ = (ip).split(&quot;\\\\.&quot;);\r\n    \t\t\r\n    \t\tint i=0;\r\n    \t\twhile(i&lt;=3)\r\n    \t\t{\r\n    \t\t\tif(arg[i].length()==1)\r\n    \t\t\t{\r\n    \t\t\t\targ[i]=&quot;00&quot;+arg[i];\r\n    \t\t\t}\r\n    \t\t\telse if(arg[i].length()==2)\r\n    \t\t\t{\r\n    \t\t\t\targ[i]=&quot;0&quot;+arg[i];\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn arg[0]+arg[1]+arg[2]+arg[3];\r\n    \t}\r\n    \t\r\n    \tpublic static ArrayList&lt;Integer&gt; sortedList(Object[] obj,String order)\r\n    \t{\r\n    \t\tif(order.equalsIgnoreCase(&quot;Ascending&quot;))\r\n    \t\t{\r\n    \t\t\tArrays.sort(obj, new Comparator() {\r\n    \t\t\t    public int compare(Object o1, Object o2) {\r\n    \t\t\t        return ((Map.Entry&lt;Integer, Long&gt;) o1).getValue()\r\n    \t\t\t                   .compareTo(((Map.Entry&lt;Integer, Long&gt;) o2).getValue());\r\n    \t\t\t    }\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tArrays.sort(obj, new Comparator() {\r\n    \t\t\t    public int compare(Object o1, Object o2) {\r\n    \t\t\t        return ((Map.Entry&lt;Integer, Long&gt;) o2).getValue()\r\n    \t\t\t                   .compareTo(((Map.Entry&lt;Integer, Long&gt;) o1).getValue());\r\n    \t\t\t    }\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\t\r\n    \t\tint counter=0;\r\n    \t\tArrayList&lt;Integer&gt; key = new ArrayList&lt;Integer&gt;();\r\n    \t\t//int key[] = new int[ipRange.size()];\r\n\r\n    \t\tfor (Object e : obj) {\r\n    \t\t\tkey.add(((Map.Entry&lt;Integer, Long&gt;) e).getKey());\r\n    \t\t\t//key[counter++]=((Map.Entry&lt;Integer, Long&gt;) e).getKey();\r\n    \t\t\t\t\t\t\r\n    \t\t    System.out.println(((Map.Entry&lt;Integer, Long&gt;) e).getKey() + &quot; : &quot; + ((Map.Entry&lt;Integer, Long&gt;) e).getValue());\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn key;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tMap&lt;Integer,String&gt; ipRange= new TreeMap&lt;Integer,String&gt;();\r\n    \t\tMap&lt;Integer,Long&gt; formatedIpRange= new TreeMap&lt;Integer,Long&gt;();\r\n    \t\t\r\n    \t\tipRange.put(1, &quot;10.1.4.100&quot;);\r\n    \t\tipRange.put(2, &quot;1.10.400.10&quot;);\r\n    \t\tipRange.put(3, &quot;196.0.14.15&quot;);\r\n    \t\tipRange.put(4, &quot;196.70.5.1&quot;);\r\n    \t\tipRange.put(5, &quot;196.70.7.3&quot;);\r\n    \t\tipRange.put(6, &quot;153.70.7.0&quot;);\r\n    \t\t\r\n    \t\tfor(int j=1;j&lt;=ipRange.size();j++)\r\n    \t\t{\r\n    \t\t\tformatedIpRange.put(j, Long.parseLong(getFormattedIP(ipRange.get(j))));\r\n    \t\t}\r\n    \t\t\r\n    \t\tObject[] a = formatedIpRange.entrySet().toArray();\r\n    \t\t\r\n    \t\tArrayList&lt;Integer&gt; key = sortedList(a,&quot;descending&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;ordered list &quot;);\r\n    \t\t\r\n    \t\tfor (Integer integer : key) \r\n    \t\t{\r\n    \t\t\tSystem.out.println(ipRange.get(integer));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to sort ip address in ascending order","body":"<pre><code>public class SortIP\n{\n\n    public static String getFormattedIP(String ip)\n    {\n        String arg[] = new String[4];\n        arg = (ip).split(\"\\\\.\");\n\n        int i=0;\n        while(i&lt;=3)\n        {\n            if(arg[i].length()==1)\n            {\n                arg[i]=\"00\"+arg[i];\n            }\n            else if(arg[i].length()==2)\n            {\n                arg[i]=\"0\"+arg[i];\n            }\n\n            i++;\n        }\n\n        return arg[0]+arg[1]+arg[2]+arg[3];\n    }\n\n    public static ArrayList&lt;Integer&gt; sortedList(Object[] obj,String order)\n    {\n        if(order.equalsIgnoreCase(\"Ascending\"))\n        {\n            Arrays.sort(obj, new Comparator() {\n                public int compare(Object o1, Object o2) {\n                    return ((Map.Entry&lt;Integer, Long&gt;) o1).getValue()\n                               .compareTo(((Map.Entry&lt;Integer, Long&gt;) o2).getValue());\n                }\n            });\n        }\n        else\n        {\n            Arrays.sort(obj, new Comparator() {\n                public int compare(Object o1, Object o2) {\n                    return ((Map.Entry&lt;Integer, Long&gt;) o2).getValue()\n                               .compareTo(((Map.Entry&lt;Integer, Long&gt;) o1).getValue());\n                }\n            });\n        }\n\n        int counter=0;\n        ArrayList&lt;Integer&gt; key = new ArrayList&lt;Integer&gt;();\n        //int key[] = new int[ipRange.size()];\n\n        for (Object e : obj) {\n            key.add(((Map.Entry&lt;Integer, Long&gt;) e).getKey());\n            //key[counter++]=((Map.Entry&lt;Integer, Long&gt;) e).getKey();\n\n            System.out.println(((Map.Entry&lt;Integer, Long&gt;) e).getKey() + \" : \" + ((Map.Entry&lt;Integer, Long&gt;) e).getValue());\n        }\n\n        return key;\n    }\n\n    public static void main(String[] args) \n    {\n        Map&lt;Integer,String&gt; ipRange= new TreeMap&lt;Integer,String&gt;();\n        Map&lt;Integer,Long&gt; formatedIpRange= new TreeMap&lt;Integer,Long&gt;();\n\n        ipRange.put(1, \"10.1.4.100\");\n        ipRange.put(2, \"1.10.400.10\");\n        ipRange.put(3, \"196.0.14.15\");\n        ipRange.put(4, \"196.70.5.1\");\n        ipRange.put(5, \"196.70.7.3\");\n        ipRange.put(6, \"153.70.7.0\");\n\n        for(int j=1;j&lt;=ipRange.size();j++)\n        {\n            formatedIpRange.put(j, Long.parseLong(getFormattedIP(ipRange.get(j))));\n        }\n\n        Object[] a = formatedIpRange.entrySet().toArray();\n\n        ArrayList&lt;Integer&gt; key = sortedList(a,\"descending\");\n\n        System.out.println(\"ordered list \");\n\n        for (Integer integer : key) \n        {\n            System.out.println(ipRange.get(integer));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12273240,"reputation":239,"user_id":8957848,"display_name":"otamega"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510988182,"creation_date":1510967031,"answer_id":47361417,"question_id":13756235,"body_markdown":"In Java8\r\n\r\n    import java.math.BigInteger;\r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    import java.util.AbstractMap;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.Map;\r\n    \r\n    class Test {\r\n        private static final Comparator&lt;InetAddress&gt; COMPARATOR = Comparator\r\n                .comparing(InetAddress::getAddress,\r\n                        Comparator.comparingInt((byte[] b) -&gt; b.length)\r\n                        .thenComparing(b -&gt; new BigInteger(1, b)));\r\n    \r\n        public static void main(String[] args) {\r\n            final String[] addresses = {\r\n                    &quot;123.4.245.23&quot;,\r\n                    &quot;104.244.253.29&quot;,\r\n                    &quot;1.198.3.93&quot;,\r\n                    &quot;32.183.93.40&quot;,\r\n                    &quot;104.30.244.2&quot;,\r\n                    &quot;104.244.4.1&quot;\r\n            };\r\n    \r\n            for (final String address : sort(addresses)) {\r\n                System.out.println(address);\r\n            }\r\n        }\r\n    \r\n        public static String[] sort(final String[] addresses) {\r\n            return Arrays.stream(addresses)\r\n                    .map(s -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(toInetAddress(s), s))\r\n                    .sorted(Comparator.comparing(Map.Entry::getKey, Comparator.nullsLast(COMPARATOR)))\r\n                    .map(Map.Entry::getValue)\r\n                    .toArray(String[]::new);\r\n        }\r\n    \r\n        private static InetAddress toInetAddress(final String address) {\r\n            try {\r\n                return InetAddress.getByName(address);\r\n            } catch (final UnknownHostException | SecurityException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n&lt;pre&gt;\r\n1.198.3.93\r\n32.183.93.40\r\n104.30.244.2\r\n104.244.4.1\r\n104.244.253.29\r\n123.4.245.23\r\n\r\n&lt;/pre&gt;","title":"How to sort ip address in ascending order","body":"<p>In Java8</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.util.AbstractMap;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Map;\n\nclass Test {\n    private static final Comparator&lt;InetAddress&gt; COMPARATOR = Comparator\n            .comparing(InetAddress::getAddress,\n                    Comparator.comparingInt((byte[] b) -&gt; b.length)\n                    .thenComparing(b -&gt; new BigInteger(1, b)));\n\n    public static void main(String[] args) {\n        final String[] addresses = {\n                \"123.4.245.23\",\n                \"104.244.253.29\",\n                \"1.198.3.93\",\n                \"32.183.93.40\",\n                \"104.30.244.2\",\n                \"104.244.4.1\"\n        };\n\n        for (final String address : sort(addresses)) {\n            System.out.println(address);\n        }\n    }\n\n    public static String[] sort(final String[] addresses) {\n        return Arrays.stream(addresses)\n                .map(s -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(toInetAddress(s), s))\n                .sorted(Comparator.comparing(Map.Entry::getKey, Comparator.nullsLast(COMPARATOR)))\n                .map(Map.Entry::getValue)\n                .toArray(String[]::new);\n    }\n\n    private static InetAddress toInetAddress(final String address) {\n        try {\n            return InetAddress.getByName(address);\n        } catch (final UnknownHostException | SecurityException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>\n1.198.3.93\n32.183.93.40\n104.30.244.2\n104.244.4.1\n104.244.253.29\n123.4.245.23\n\n</pre>\n"},{"tags":[],"owner":{"account_id":399239,"reputation":10891,"user_id":764446,"accept_rate":69,"display_name":"junaidp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585376241,"creation_date":1585375469,"answer_id":60897828,"question_id":13756235,"body_markdown":"Try this one \r\n\r\n    @Override\r\n\tpublic int compare(Object adr1, Object adr2) {\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif(adr1 == null || adr1.toString().isEmpty()) return -1;\r\n\t\t\tif(adr2 == null || adr2.toString().isEmpty()) return 1;\r\n\t\t\tString[] ba1 = adr1.toString().split( &quot;\\\\.&quot; );\r\n\t\t\tString[] ba2 = adr2.toString().split( &quot;\\\\.&quot; );\r\n\r\n\t\t\tfor ( int i = 0; i &lt; ba1.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tint b1 = Integer.parseInt( ba1[ i ] );\r\n\t\t\t\tint b2 = Integer.parseInt( ba2[ i ] );\r\n\r\n\t\t\t\tif (b1 == b2)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tif (b1 &lt; b2)\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\telse\r\n\t\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tcatch ( Exception ex )\r\n\t\t{\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t}","title":"How to sort ip address in ascending order","body":"<p>Try this one </p>\n\n<pre><code>@Override\npublic int compare(Object adr1, Object adr2) {\n    try\n    {\n        if(adr1 == null || adr1.toString().isEmpty()) return -1;\n        if(adr2 == null || adr2.toString().isEmpty()) return 1;\n        String[] ba1 = adr1.toString().split( \"\\\\.\" );\n        String[] ba2 = adr2.toString().split( \"\\\\.\" );\n\n        for ( int i = 0; i &lt; ba1.length; i++ )\n        {\n            int b1 = Integer.parseInt( ba1[ i ] );\n            int b2 = Integer.parseInt( ba2[ i ] );\n\n            if (b1 == b2)\n                continue;\n            if (b1 &lt; b2)\n                return -1;\n            else\n                return 1;\n        }\n        return 0;\n    }\n    catch ( Exception ex )\n    {\n        return 0;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19050771,"reputation":11,"user_id":16484383,"display_name":"Mark Hedges"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667415940,"creation_date":1667415940,"answer_id":74294460,"question_id":13756235,"body_markdown":"This is an implementation in Perl, but it demonstrates the need to precompute the splits or factorings instead of computing them again and again for each comparison.  I haven&#39;t tested it on mixed ipv4 &amp; ipv6 but I think it should work.  I just used the example.  It seems like precomputing split values is the winner, then comparing the quads separately, instead of exponentiating and adding them all up.\r\n\r\n    2022-11-02 11:58:42 Wed $ cat | /tmp/foo.pl \r\n    123.4.245.23\r\n    104.244.253.29\r\n    1.198.3.93\r\n    32.183.93.40\r\n    104.30.244.2\r\n    104.244.4.1\r\n    Benchmark: timing 10000 iterations of factor_each_time, factor_precompute, split_each_time, split_precompute...\r\n    factor_each_time:  3 wallclock secs ( 2.94 usr +  0.00 sys =  2.94 CPU) @ 3401.36/s (n=10000)\r\n    factor_precompute:  1 wallclock secs ( 1.03 usr +  0.00 sys =  1.03 CPU) @ 9708.74/s (n=10000)\r\n    split_each_time:  3 wallclock secs ( 3.01 usr +  0.00 sys =  3.01 CPU) @ 3322.26/s (n=10000)\r\n    split_precompute:  1 wallclock secs ( 1.00 usr +  0.00 sys =  1.00 CPU) @ 10000.00/s (n=10000)\r\n\r\n\r\nCode:\r\n\r\n    #!/usr/bin/perl\r\n    \r\n    use strict;\r\n    use warnings FATAL =&gt; &#39;all&#39;;\r\n    use English &#39;-no_match_vars&#39;;\r\n    \r\n    use Regexp::Common;\r\n    use Benchmark qw(:all);\r\n    #use YAML;\r\n    \r\n    my @lines = &lt;STDIN&gt;;\r\n    chomp $_ for @lines;\r\n    \r\n    timethese( 10000, {\r\n        split_each_time =&gt; sub {\r\n            my @sorted = sort ip_each_time_split_sorter @lines;\r\n            #warn &quot;split_each_time:\\n&quot;.Dump(\\@sorted);\r\n        },\r\n        split_precompute =&gt; sub {\r\n            my @sorted =\r\n                map $_-&gt;{num},\r\n                sort ip_precompute_split_sorter\r\n                map split_vals($_),\r\n                @lines\r\n                ;\r\n            #warn &quot;split_precompute:\\n&quot;.Dump(\\@sorted);\r\n        },\r\n        factor_each_time =&gt; sub {\r\n            my @sorted = sort ip_each_time_factor_sorter @lines;\r\n            #warn &quot;factor_each_time:\\n&quot;.Dump(\\@sorted);\r\n        },\r\n        factor_precompute =&gt; sub {\r\n            my @sorted =\r\n                map $_-&gt;{num},\r\n                sort ip_precompute_factor_sorter\r\n                map factor_vals($_),\r\n                @lines\r\n                ;\r\n            #warn &quot;factor_precompute:\\n&quot;.Dump(\\@sorted);\r\n        },\r\n    } );\r\n    \r\n    sub ip_each_time_factor_sorter {\r\n        our ($a, $b);\r\n        my $a_factor = factor_vals($a);\r\n        my $b_factor = factor_vals($b);\r\n        return -1 if exists $a_factor-&gt;{ipv4} &amp;&amp; exists $b_factor-&gt;{ipv6};\r\n        return  1 if exists $a_factor-&gt;{ipv6} &amp;&amp; exists $b_factor-&gt;{ipv4};\r\n        return $a_factor-&gt;{val} &lt;=&gt; $b_factor-&gt;{val};\r\n    }\r\n    \r\n    sub ip_precompute_factor_sorter {\r\n        our ($a, $b);\r\n        return -1 if exists $a-&gt;{ipv4} &amp;&amp; exists $b-&gt;{ipv6};\r\n        return  1 if exists $a-&gt;{ipv6} &amp;&amp; exists $b-&gt;{ipv4};\r\n        return $a-&gt;{val} &lt;=&gt; $b-&gt;{val};\r\n    }\r\n    \r\n    sub factor_vals {\r\n        my ($ip) = @_;\r\n        my $xform;\r\n        if ($ip =~ m{ \\A $RE{net}{IPv4}{-keep} \\z }mxs) {\r\n            $xform = {\r\n                ipv4 =&gt; 1,\r\n                num  =&gt; $1,\r\n                val  =&gt; (\r\n                    ($2 || 0) * 256 ** 4\r\n                +   ($3 || 0) * 256 ** 3\r\n                +   ($4 || 0) * 256 ** 2\r\n                +   ($5 || 0) * 256 ** 1\r\n                ),\r\n            };\r\n        }\r\n        elsif ($ip =~ m{ \\A $RE{net}{IPv6}{-keep} \\z }mxs) {\r\n            $xform = {\r\n                ipv6 =&gt; 1,\r\n                num  =&gt; $1,\r\n                val  =&gt; (\r\n                    ($2 || 0) * 65536 ** 8\r\n                +   ($3 || 0) * 65536 ** 7\r\n                +   ($4 || 0) * 65536 ** 6\r\n                +   ($5 || 0) * 65536 ** 5\r\n                +   ($6 || 0) * 65536 ** 4\r\n                +   ($7 || 0) * 65536 ** 3\r\n                +   ($8 || 0) * 65536 ** 2\r\n                +   ($9 || 0) * 65536 ** 1\r\n                ),\r\n            };\r\n        }\r\n        else {\r\n            warn &quot;skipping bad entry: $_\\n&quot;;\r\n        }\r\n        return $xform;\r\n    }\r\n    \r\n    \r\n    sub split_vals {\r\n        my ($ip) = @_;\r\n        my $xform;\r\n        if ($ip =~ m{ \\A $RE{net}{IPv4}{-keep} \\z }mxs) {\r\n            $xform = {\r\n                ipv4 =&gt; 1,\r\n                num  =&gt; $1,\r\n                vals =&gt; [\r\n                    $2 || 0,\r\n                    $3 || 0,\r\n                    $4 || 0,\r\n                    $5 || 0,\r\n                ],\r\n            };\r\n        }\r\n        elsif ($ip =~ m{ \\A $RE{net}{IPv6}{-keep} \\z }mxs) {\r\n            $xform = {\r\n                ipv6 =&gt; 1,\r\n                num  =&gt; $1,\r\n                vals =&gt; [\r\n                    $2 || 0,\r\n                    $3 || 0,\r\n                    $4 || 0,\r\n                    $5 || 0,\r\n                    $6 || 0,\r\n                    $7 || 0,\r\n                    $8 || 0,\r\n                    $9 || 0,\r\n                ],\r\n            };\r\n        }\r\n        else {\r\n            warn &quot;skipping bad entry: $_\\n&quot;;\r\n        }\r\n        return $xform;\r\n    }\r\n    \r\n    sub ip_precompute_split_sorter {\r\n        our ($a, $b);\r\n        return -1 if exists $a-&gt;{ipv4} &amp;&amp; exists $b-&gt;{ipv6};\r\n        return  1 if exists $a-&gt;{ipv6} &amp;&amp; exists $b-&gt;{ipv4};\r\n        my $a_vals = $a-&gt;{vals};\r\n        my $b_vals = $b-&gt;{vals};\r\n        for my $i (0..$#{$a_vals}) {\r\n            my $sortval = $a_vals-&gt;[$i] &lt;=&gt; $b_vals-&gt;[$i];\r\n            return $sortval if $sortval != 0;\r\n        }\r\n        return 0;\r\n    }\r\n    \r\n    sub ip_each_time_split_sorter {\r\n        our ($a, $b);\r\n        my $a_split = split_vals($a);\r\n        my $b_split = split_vals($b);\r\n        return -1 if exists $a_split-&gt;{ipv4} &amp;&amp; exists $b_split-&gt;{ipv6};\r\n        return  1 if exists $a_split-&gt;{ipv6} &amp;&amp; exists $b_split-&gt;{ipv4};\r\n        my $a_vals = $a_split-&gt;{vals};\r\n        my $b_vals = $b_split-&gt;{vals};\r\n        for my $i (0..$#{$a_vals}) {\r\n            my $sortval = $a_vals-&gt;[$i] &lt;=&gt; $b_vals-&gt;[$i];\r\n            return $sortval if $sortval != 0;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n","title":"How to sort ip address in ascending order","body":"<p>This is an implementation in Perl, but it demonstrates the need to precompute the splits or factorings instead of computing them again and again for each comparison.  I haven't tested it on mixed ipv4 &amp; ipv6 but I think it should work.  I just used the example.  It seems like precomputing split values is the winner, then comparing the quads separately, instead of exponentiating and adding them all up.</p>\n<pre><code>2022-11-02 11:58:42 Wed $ cat | /tmp/foo.pl \n123.4.245.23\n104.244.253.29\n1.198.3.93\n32.183.93.40\n104.30.244.2\n104.244.4.1\nBenchmark: timing 10000 iterations of factor_each_time, factor_precompute, split_each_time, split_precompute...\nfactor_each_time:  3 wallclock secs ( 2.94 usr +  0.00 sys =  2.94 CPU) @ 3401.36/s (n=10000)\nfactor_precompute:  1 wallclock secs ( 1.03 usr +  0.00 sys =  1.03 CPU) @ 9708.74/s (n=10000)\nsplit_each_time:  3 wallclock secs ( 3.01 usr +  0.00 sys =  3.01 CPU) @ 3322.26/s (n=10000)\nsplit_precompute:  1 wallclock secs ( 1.00 usr +  0.00 sys =  1.00 CPU) @ 10000.00/s (n=10000)\n</code></pre>\n<p>Code:</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings FATAL =&gt; 'all';\nuse English '-no_match_vars';\n\nuse Regexp::Common;\nuse Benchmark qw(:all);\n#use YAML;\n\nmy @lines = &lt;STDIN&gt;;\nchomp $_ for @lines;\n\ntimethese( 10000, {\n    split_each_time =&gt; sub {\n        my @sorted = sort ip_each_time_split_sorter @lines;\n        #warn &quot;split_each_time:\\n&quot;.Dump(\\@sorted);\n    },\n    split_precompute =&gt; sub {\n        my @sorted =\n            map $_-&gt;{num},\n            sort ip_precompute_split_sorter\n            map split_vals($_),\n            @lines\n            ;\n        #warn &quot;split_precompute:\\n&quot;.Dump(\\@sorted);\n    },\n    factor_each_time =&gt; sub {\n        my @sorted = sort ip_each_time_factor_sorter @lines;\n        #warn &quot;factor_each_time:\\n&quot;.Dump(\\@sorted);\n    },\n    factor_precompute =&gt; sub {\n        my @sorted =\n            map $_-&gt;{num},\n            sort ip_precompute_factor_sorter\n            map factor_vals($_),\n            @lines\n            ;\n        #warn &quot;factor_precompute:\\n&quot;.Dump(\\@sorted);\n    },\n} );\n\nsub ip_each_time_factor_sorter {\n    our ($a, $b);\n    my $a_factor = factor_vals($a);\n    my $b_factor = factor_vals($b);\n    return -1 if exists $a_factor-&gt;{ipv4} &amp;&amp; exists $b_factor-&gt;{ipv6};\n    return  1 if exists $a_factor-&gt;{ipv6} &amp;&amp; exists $b_factor-&gt;{ipv4};\n    return $a_factor-&gt;{val} &lt;=&gt; $b_factor-&gt;{val};\n}\n\nsub ip_precompute_factor_sorter {\n    our ($a, $b);\n    return -1 if exists $a-&gt;{ipv4} &amp;&amp; exists $b-&gt;{ipv6};\n    return  1 if exists $a-&gt;{ipv6} &amp;&amp; exists $b-&gt;{ipv4};\n    return $a-&gt;{val} &lt;=&gt; $b-&gt;{val};\n}\n\nsub factor_vals {\n    my ($ip) = @_;\n    my $xform;\n    if ($ip =~ m{ \\A $RE{net}{IPv4}{-keep} \\z }mxs) {\n        $xform = {\n            ipv4 =&gt; 1,\n            num  =&gt; $1,\n            val  =&gt; (\n                ($2 || 0) * 256 ** 4\n            +   ($3 || 0) * 256 ** 3\n            +   ($4 || 0) * 256 ** 2\n            +   ($5 || 0) * 256 ** 1\n            ),\n        };\n    }\n    elsif ($ip =~ m{ \\A $RE{net}{IPv6}{-keep} \\z }mxs) {\n        $xform = {\n            ipv6 =&gt; 1,\n            num  =&gt; $1,\n            val  =&gt; (\n                ($2 || 0) * 65536 ** 8\n            +   ($3 || 0) * 65536 ** 7\n            +   ($4 || 0) * 65536 ** 6\n            +   ($5 || 0) * 65536 ** 5\n            +   ($6 || 0) * 65536 ** 4\n            +   ($7 || 0) * 65536 ** 3\n            +   ($8 || 0) * 65536 ** 2\n            +   ($9 || 0) * 65536 ** 1\n            ),\n        };\n    }\n    else {\n        warn &quot;skipping bad entry: $_\\n&quot;;\n    }\n    return $xform;\n}\n\n\nsub split_vals {\n    my ($ip) = @_;\n    my $xform;\n    if ($ip =~ m{ \\A $RE{net}{IPv4}{-keep} \\z }mxs) {\n        $xform = {\n            ipv4 =&gt; 1,\n            num  =&gt; $1,\n            vals =&gt; [\n                $2 || 0,\n                $3 || 0,\n                $4 || 0,\n                $5 || 0,\n            ],\n        };\n    }\n    elsif ($ip =~ m{ \\A $RE{net}{IPv6}{-keep} \\z }mxs) {\n        $xform = {\n            ipv6 =&gt; 1,\n            num  =&gt; $1,\n            vals =&gt; [\n                $2 || 0,\n                $3 || 0,\n                $4 || 0,\n                $5 || 0,\n                $6 || 0,\n                $7 || 0,\n                $8 || 0,\n                $9 || 0,\n            ],\n        };\n    }\n    else {\n        warn &quot;skipping bad entry: $_\\n&quot;;\n    }\n    return $xform;\n}\n\nsub ip_precompute_split_sorter {\n    our ($a, $b);\n    return -1 if exists $a-&gt;{ipv4} &amp;&amp; exists $b-&gt;{ipv6};\n    return  1 if exists $a-&gt;{ipv6} &amp;&amp; exists $b-&gt;{ipv4};\n    my $a_vals = $a-&gt;{vals};\n    my $b_vals = $b-&gt;{vals};\n    for my $i (0..$#{$a_vals}) {\n        my $sortval = $a_vals-&gt;[$i] &lt;=&gt; $b_vals-&gt;[$i];\n        return $sortval if $sortval != 0;\n    }\n    return 0;\n}\n\nsub ip_each_time_split_sorter {\n    our ($a, $b);\n    my $a_split = split_vals($a);\n    my $b_split = split_vals($b);\n    return -1 if exists $a_split-&gt;{ipv4} &amp;&amp; exists $b_split-&gt;{ipv6};\n    return  1 if exists $a_split-&gt;{ipv6} &amp;&amp; exists $b_split-&gt;{ipv4};\n    my $a_vals = $a_split-&gt;{vals};\n    my $b_vals = $b_split-&gt;{vals};\n    for my $i (0..$#{$a_vals}) {\n        my $sortval = $a_vals-&gt;[$i] &lt;=&gt; $b_vals-&gt;[$i];\n        return $sortval if $sortval != 0;\n    }\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":1888569,"reputation":827,"user_id":1707266,"accept_rate":57,"display_name":"John"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24348,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":10,"score":13,"last_activity_date":1675284811,"creation_date":1354848717,"question_id":13756235,"body_markdown":"Is there any method to sort this? Or do I just need to split it and use a loop to compare?\r\nInput\r\n\r\n    123.4.245.23\r\n    104.244.253.29\r\n    1.198.3.93\r\n    32.183.93.40\r\n    104.30.244.2\r\n    104.244.4.1\r\n\r\nOutput\r\n\r\n    1.198.3.93\r\n    32.183.93.40\r\n    104.30.244.2\r\n    104.244.4.1\r\n    104.244.253.29\r\n    123.4.245.23\r\n\r\nSo far I use HashMap&lt;String(Ip address), integer(value)&gt; to stored my data. I want sort the value by the  Ip address in ascending order. Seems TreeMap is better choice?","title":"How to sort ip address in ascending order","body":"<p>Is there any method to sort this? Or do I just need to split it and use a loop to compare?\nInput</p>\n\n<pre><code>123.4.245.23\n104.244.253.29\n1.198.3.93\n32.183.93.40\n104.30.244.2\n104.244.4.1\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>1.198.3.93\n32.183.93.40\n104.30.244.2\n104.244.4.1\n104.244.253.29\n123.4.245.23\n</code></pre>\n\n<p>So far I use HashMap to stored my data. I want sort the value by the  Ip address in ascending order. Seems TreeMap is better choice?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1394542431,"post_id":22326177,"comment_id":33928449,"body_markdown":"As the exception is thrown by Eclipse itself, that would indicate a bug in Eclipse or one of its plug-ins. Therefore all you can do is upgrade your Eclipse and its plug-ins.","body":"As the exception is thrown by Eclipse itself, that would indicate a bug in Eclipse or one of its plug-ins. Therefore all you can do is upgrade your Eclipse and its plug-ins."},{"owner":{"account_id":1229115,"reputation":303,"user_id":1194068,"accept_rate":71,"display_name":"Diana Amza"},"score":0,"creation_date":1394542671,"post_id":22326177,"comment_id":33928623,"body_markdown":"Thanks. I&#39;m updating it now, hopefully that will fix it.","body":"Thanks. I&#39;m updating it now, hopefully that will fix it."},{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":1,"creation_date":1394544142,"post_id":22326177,"comment_id":33929706,"body_markdown":"As I usually suggest in these situations -&gt; **create new empty workspace**. The issue usually resides in workspace `.metadata`.","body":"As I usually suggest in these situations -&gt; <b>create new empty workspace</b>. The issue usually resides in workspace <code>.metadata</code>."},{"owner":{"account_id":1229115,"reputation":303,"user_id":1194068,"accept_rate":71,"display_name":"Diana Amza"},"score":0,"creation_date":1394549014,"post_id":22326177,"comment_id":33933388,"body_markdown":"Good hint! I made a backup and removed everything in my .metadata folder, then launched eclipse and re-imported all my projects. Works now.","body":"Good hint! I made a backup and removed everything in my .metadata folder, then launched eclipse and re-imported all my projects. Works now."}],"answers":[{"comments":[{"owner":{"account_id":1156814,"reputation":33824,"user_id":1137199,"accept_rate":70,"display_name":"dotNET"},"score":2,"creation_date":1532153823,"post_id":22329710,"comment_id":89876341,"body_markdown":"A word of caution. This folder may contain some of your personal stuff, so move it to a temporary location instead of deleting. In my case, I lost my &quot;Tasks List&quot; which was stored in this folder.","body":"A word of caution. This folder may contain some of your personal stuff, so move it to a temporary location instead of deleting. In my case, I lost my &quot;Tasks List&quot; which was stored in this folder."}],"tags":[],"owner":{"account_id":1229115,"reputation":303,"user_id":1194068,"accept_rate":71,"display_name":"Diana Amza"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1394550592,"creation_date":1394550592,"answer_id":22329710,"question_id":22326177,"body_markdown":"Solved: cleaned up my .metadata folder and re-imported projects in eclipse","title":"java.lang.NullPointerException when launching Eclipse","body":"<p>Solved: cleaned up my .metadata folder and re-imported projects in eclipse</p>\n"},{"tags":[],"owner":{"account_id":2887765,"reputation":913,"user_id":2477203,"accept_rate":17,"display_name":"MansoorShaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429335276,"creation_date":1429335276,"answer_id":29713366,"question_id":22326177,"body_markdown":"For me, the below steps works.\r\n\r\nRight click on project &gt; Select Run As &gt; Run Configurations\r\nClick on Select Other link next to Using VisualVM Launcher\r\nSelect Eclipse EDT launcher\r\nClick ok","title":"java.lang.NullPointerException when launching Eclipse","body":"<p>For me, the below steps works.</p>\n\n<p>Right click on project > Select Run As > Run Configurations\nClick on Select Other link next to Using VisualVM Launcher\nSelect Eclipse EDT launcher\nClick ok</p>\n"},{"tags":[],"owner":{"account_id":13401141,"reputation":1,"user_id":9670644,"display_name":"Sarmon bin hashem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524151657,"creation_date":1524151657,"answer_id":49924838,"question_id":22326177,"body_markdown":"If you are installed Hiber object in your eclipse and when you are creating a new project as like vaadin 8 project then showing that notification.\r\ngo to your eclipse market place search hiber object and expand the update/installed button then click uninstall and follow that instruction.","title":"java.lang.NullPointerException when launching Eclipse","body":"<p>If you are installed Hiber object in your eclipse and when you are creating a new project as like vaadin 8 project then showing that notification.\ngo to your eclipse market place search hiber object and expand the update/installed button then click uninstall and follow that instruction.</p>\n"},{"tags":[],"owner":{"account_id":20401009,"reputation":1,"user_id":14966727,"display_name":"Amar Aggoun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675284672,"creation_date":1674835452,"answer_id":75260545,"question_id":22326177,"body_markdown":"For me I changed the system variable ***&quot;java_home&quot;*** to work with other software and that caused eclipse to show that error.\r\nafter changing it back to the original directory I was able to launch eclipse without any issues. \r\n\r\n&gt;***so for those who don&#39;t want to take risk losing something I would recommend checking if the &quot;java_home&quot; variable didn&#39;t change or even got deleted.***\r\n\r\nsimply do the following:\r\n - click on the window logo or search bar if it is enabled.\r\n - write _&quot;variable&quot;_.\r\n - you see _&quot;Edit the system environment variables&quot;_.\r\n - click on _&quot;system variables&quot;_ and if you don&#39;t see it check if you are in _&quot;advanced&quot;_ tab.\r\n - you can see two spaces &quot;user variables&quot; and &quot;system variables&quot; check if you can see ***&quot;java_home&quot;*** or ***&quot;JAVA_HOME&quot;***.\r\n - if you don&#39;t then just add it and if you do see it check the value if it points to the right directory of your ***JDK***.","title":"java.lang.NullPointerException when launching Eclipse","body":"<p>For me I changed the system variable <em><strong>&quot;java_home&quot;</strong></em> to work with other software and that caused eclipse to show that error.\nafter changing it back to the original directory I was able to launch eclipse without any issues.</p>\n<blockquote>\n<p><em><strong>so for those who don't want to take risk losing something I would recommend checking if the &quot;java_home&quot; variable didn't change or even got deleted.</strong></em></p>\n</blockquote>\n<p>simply do the following:</p>\n<ul>\n<li>click on the window logo or search bar if it is enabled.</li>\n<li>write <em>&quot;variable&quot;</em>.</li>\n<li>you see <em>&quot;Edit the system environment variables&quot;</em>.</li>\n<li>click on <em>&quot;system variables&quot;</em> and if you don't see it check if you are in <em>&quot;advanced&quot;</em> tab.</li>\n<li>you can see two spaces &quot;user variables&quot; and &quot;system variables&quot; check if you can see <em><strong>&quot;java_home&quot;</strong></em> or <em><strong>&quot;JAVA_HOME&quot;</strong></em>.</li>\n<li>if you don't then just add it and if you do see it check the value if it points to the right directory of your <em><strong>JDK</strong></em>.</li>\n</ul>\n"}],"owner":{"account_id":1229115,"reputation":303,"user_id":1194068,"accept_rate":71,"display_name":"Diana Amza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32372,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":22329710,"answer_count":4,"score":3,"last_activity_date":1675284672,"creation_date":1394541962,"question_id":22326177,"body_markdown":"I&#39;m using Eclipse Juno and I get this error when I launch it on a certain workspace:\r\n \r\n&gt;An error has occurred. See error log for more details.\r\n\r\n&gt;java.lang.NullPointerException\r\n\r\nOther workspaces that are checked out from the same SVN repository work well. Does anyone know why this might happen?\r\n\r\nIn the workspace log, I get the following exception:\r\n\r\n&gt; !ENTRY org.eclipse.m2e.logback.appender 4 0 2014-03-11 13:26:25.798\r\n!MESSAGE Could not add repository index\r\n\r\n&gt; !ENTRY org.eclipse.ui.workbench 4 2 2014-03-11 13:26:37.470\r\n!MESSAGE Problems occurred when invoking code from plug-in: &quot;org.eclipse.ui.workbench&quot;.\r\n!STACK 0\r\njava.lang.NullPointerException\r\n\tat org.tigris.subversion.subclipse.ui.history.SVNHistoryPage$2.getElements(SVNHistoryPage.java:631)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.getRawChildren(StructuredViewer.java:1010)\r\n\tat org.eclipse.jface.viewers.ColumnViewer.getRawChildren(ColumnViewer.java:703)\r\n\tat org.eclipse.jface.viewers.AbstractTableViewer.getRawChildren(AbstractTableViewer.java:1087)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java:917)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.getSortedChildren(StructuredViewer.java:1067)\r\n\tat org.eclipse.jface.viewers.AbstractTableViewer.internalRefreshAll(AbstractTableViewer.java:701)\r\n\tat org.eclipse.jface.viewers.AbstractTableViewer.internalRefresh(AbstractTableViewer.java:649)\r\n\tat org.eclipse.jface.viewers.AbstractTableViewer.internalRefresh(AbstractTableViewer.java:636)\r\n\tat org.eclipse.jface.viewers.AbstractTableViewer$2.run(AbstractTableViewer.java:592)\r\norg.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1438)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1414)\r\n\r\n","title":"java.lang.NullPointerException when launching Eclipse","body":"<p>I'm using Eclipse Juno and I get this error when I launch it on a certain workspace:</p>\n\n<blockquote>\n  <p>An error has occurred. See error log for more details.</p>\n  \n  <p>java.lang.NullPointerException</p>\n</blockquote>\n\n<p>Other workspaces that are checked out from the same SVN repository work well. Does anyone know why this might happen?</p>\n\n<p>In the workspace log, I get the following exception:</p>\n\n<blockquote>\n  <p>!ENTRY org.eclipse.m2e.logback.appender 4 0 2014-03-11 13:26:25.798\n  !MESSAGE Could not add repository index</p>\n  \n  <p>!ENTRY org.eclipse.ui.workbench 4 2 2014-03-11 13:26:37.470\n  !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench\".\n  !STACK 0\n  java.lang.NullPointerException\n      at org.tigris.subversion.subclipse.ui.history.SVNHistoryPage$2.getElements(SVNHistoryPage.java:631)\n      at org.eclipse.jface.viewers.StructuredViewer.getRawChildren(StructuredViewer.java:1010)\n      at org.eclipse.jface.viewers.ColumnViewer.getRawChildren(ColumnViewer.java:703)\n      at org.eclipse.jface.viewers.AbstractTableViewer.getRawChildren(AbstractTableViewer.java:1087)\n      at org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java:917)\n      at org.eclipse.jface.viewers.StructuredViewer.getSortedChildren(StructuredViewer.java:1067)\n      at org.eclipse.jface.viewers.AbstractTableViewer.internalRefreshAll(AbstractTableViewer.java:701)\n      at org.eclipse.jface.viewers.AbstractTableViewer.internalRefresh(AbstractTableViewer.java:649)\n      at org.eclipse.jface.viewers.AbstractTableViewer.internalRefresh(AbstractTableViewer.java:636)\n      at org.eclipse.jface.viewers.AbstractTableViewer$2.run(AbstractTableViewer.java:592)\n  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\n      at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n      at java.lang.reflect.Method.invoke(Method.java:597)\n      at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\n      at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\n      at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n      at org.eclipse.equinox.launcher.Main.main(Main.java:1414)</p>\n</blockquote>\n"},{"tags":["java","spring","oracle","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1674663275,"post_id":75236228,"comment_id":132763603,"body_markdown":"I would like to help you with this one, but I can&#39;t because the critical code which actually sets the query parameter is hidden from me. I have no clue what `findAllByTimestamp()` does.  So if you can reproduce the problem *with just Hibernate* and no Spring repository, I&#39;ll be able to help.","body":"I would like to help you with this one, but I can&#39;t because the critical code which actually sets the query parameter is hidden from me. I have no clue what <code>findAllByTimestamp()</code> does.  So if you can reproduce the problem <i>with just Hibernate</i> and no Spring repository, I&#39;ll be able to help."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1674676100,"post_id":75236228,"comment_id":132767811,"body_markdown":"You should look at the Hibernate generated SQL and the values passed, and at the presentation from Oracle Office Hours: https://asktom.oracle.com/pls/apex/asktom.search?oh=19484 from time 53:00, it&#39;s about DATE and TIMESTAMP and how ORACLE is handling TZ and daylight saving.","body":"You should look at the Hibernate generated SQL and the values passed, and at the presentation from Oracle Office Hours: <a href=\"https://asktom.oracle.com/pls/apex/asktom.search?oh=19484\" rel=\"nofollow noreferrer\">asktom.oracle.com/pls/apex/asktom.search?oh=19484</a> from time 53:00, it&#39;s about DATE and TIMESTAMP and how ORACLE is handling TZ and daylight saving."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1674690949,"post_id":75236228,"comment_id":132771272,"body_markdown":"FTR I just wrote and tested some code which does what you want to do in pure Hibernate, and it worked with no issues. So the problem would seem to be in whatever Spring is doing that is hidden from me.","body":"FTR I just wrote and tested some code which does what you want to do in pure Hibernate, and it worked with no issues. So the problem would seem to be in whatever Spring is doing that is hidden from me."},{"owner":{"account_id":7959705,"reputation":333,"user_id":6663100,"accept_rate":75,"display_name":"TobsenB"},"score":0,"creation_date":1674715235,"post_id":75236228,"comment_id":132773972,"body_markdown":"Thank you for your input. I updated the question to include some screenshots of the DB table and the associated log statements that contain the generated sql and parameter bindings.\n\n@p3consulting since no changes were made to the database itself or the way we handle time zones I suspect that the issue resides somewehere in the Spring/Hibernate layer. Thank you anyway for sharing the video, it gave some interesting insights into Oracle&#39;s timestamp handling.","body":"Thank you for your input. I updated the question to include some screenshots of the DB table and the associated log statements that contain the generated sql and parameter bindings.  @p3consulting since no changes were made to the database itself or the way we handle time zones I suspect that the issue resides somewehere in the Spring/Hibernate layer. Thank you anyway for sharing the video, it gave some interesting insights into Oracle&#39;s timestamp handling."},{"owner":{"account_id":7959705,"reputation":333,"user_id":6663100,"accept_rate":75,"display_name":"TobsenB"},"score":0,"creation_date":1674715858,"post_id":75236228,"comment_id":132774065,"body_markdown":"@Gavin Basically, `findAllByTimestamp` uses Spring&#39;s aut-generation mechanism for creating the SQL query provided by the logs. However, I also tried explicitly defining a native query (`select * from entity where demo_timestamp = :timestamp`) which caused no differences. Thanks for your input using plain Hibernate, maybe there is an issue with Spring&#39;s communication with JPA/Hibernate. I&#39;ll have a shot at this for myself to gain more insights!","body":"@Gavin Basically, <code>findAllByTimestamp</code> uses Spring&#39;s aut-generation mechanism for creating the SQL query provided by the logs. However, I also tried explicitly defining a native query (<code>select * from entity where demo_timestamp = :timestamp</code>) which caused no differences. Thanks for your input using plain Hibernate, maybe there is an issue with Spring&#39;s communication with JPA/Hibernate. I&#39;ll have a shot at this for myself to gain more insights!"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674728274,"post_id":75236228,"comment_id":132777372,"body_markdown":"@TobsenB what is the version of JDBC driver? Does annotating timestamp field by `@JdbcType(InstantAsTimestampJdbcType.class)` change behaviour?","body":"@TobsenB what is the version of JDBC driver? Does annotating timestamp field by <code>@JdbcType(InstantAsTimestampJdbcType.class)</code> change behaviour?"},{"owner":{"account_id":7959705,"reputation":333,"user_id":6663100,"accept_rate":75,"display_name":"TobsenB"},"score":0,"creation_date":1674741775,"post_id":75236228,"comment_id":132781467,"body_markdown":"@Andrey We&#39;re using ojdbc10@19.16.0.0. Adding `@JdbcType(InstantAsTimestampJdbcType.class)` to the field actually fixes the behaviour. Unfortunately, although this would fix the symptoms for every field using the annotation it would not resolve the problem itself.","body":"@Andrey We&#39;re using ojdbc10@19.16.0.0. Adding <code>@JdbcType(InstantAsTimestampJdbcType.class)</code> to the field actually fixes the behaviour. Unfortunately, although this would fix the symptoms for every field using the annotation it would not resolve the problem itself."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674744667,"post_id":75236228,"comment_id":132782635,"body_markdown":"@TobsenB `InstantAsTimestampJdbcType` behaves like HBN5 did: it converts `Instant` to `Timestamp` prior sending data to JDBC driver, `InstantAsTimestampWithTimeZoneJdbcType` type, which is default for HBN6/Oracle, works differently: it converts `Instant` to `OffsetDateTime` (there are some issues on JDBC 4.2 spec side related to `Instant` type) prior sending data to JDBC driver. As I can see ojdbc versions `19.16.0.0` and `21.8.0.0` handle `OffsetDateTime` differently, that could be a reason.","body":"@TobsenB <code>InstantAsTimestampJdbcType</code> behaves like HBN5 did: it converts <code>Instant</code> to <code>Timestamp</code> prior sending data to JDBC driver, <code>InstantAsTimestampWithTimeZoneJdbcType</code> type, which is default for HBN6/Oracle, works differently: it converts <code>Instant</code> to <code>OffsetDateTime</code> (there are some issues on JDBC 4.2 spec side related to <code>Instant</code> type) prior sending data to JDBC driver. As I can see ojdbc versions <code>19.16.0.0</code> and <code>21.8.0.0</code> handle <code>OffsetDateTime</code> differently, that could be a reason."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1674745083,"post_id":75236228,"comment_id":132782750,"body_markdown":"so, you have three options: 1. place `@JdbcType(InstantAsTimestampJdbcType.class)` over `Instant` fields. 2. Tune dialect in HBN: I believe that is enough to implement SPI `org.hibernate.boot.model.TypeContributor` with smth. like `typeContributions.contributeJdbcType(InstantAsTimestampJdbcType.class)`. 3. Try newer version of JDBC driver.","body":"so, you have three options: 1. place <code>@JdbcType(InstantAsTimestampJdbcType.class)</code> over <code>Instant</code> fields. 2. Tune dialect in HBN: I believe that is enough to implement SPI <code>org.hibernate.boot.model.TypeContributor</code> with smth. like <code>typeContributions.contributeJdbcType(InstantAsTimestampJdbcT&zwnj;&#8203;ype.class)</code>. 3. Try newer version of JDBC driver."},{"owner":{"account_id":7959705,"reputation":333,"user_id":6663100,"accept_rate":75,"display_name":"TobsenB"},"score":0,"creation_date":1674804175,"post_id":75236228,"comment_id":132795035,"body_markdown":"@Andrey Thank you for your contributions, I&#39;ll check the provided solutions!","body":"@Andrey Thank you for your contributions, I&#39;ll check the provided solutions!"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675184647,"creation_date":1675181316,"answer_id":75299931,"question_id":75236228,"body_markdown":"`Hibernate 5` was using [following method](https://github.com/hibernate/hibernate-orm/blob/49fbe84dde773de84ea704bb10193c4c581d34b8/hibernate-core/src/main/java/org/hibernate/type/descriptor/sql/TimestampTypeDescriptor.java#L81) to perform all date/time related calculations:\r\n\r\n\r\n```java\r\n@Override\r\nprotected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\r\n  return options.getJdbcTimeZone() != null ?\r\n   javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance( options.getJdbcTimeZone() ) ), options ) :\r\n   javaTypeDescriptor.wrap( rs.getTimestamp( name ), options );\r\n}\r\n```\r\n\r\nNow, for your &quot;Instant case&quot;, `Hibernate 6` uses [following method](https://github.com/hibernate/hibernate-orm/blob/cc42864351ab571cd1b85347fdc323764a35fa30/hibernate-core/src/main/java/org/hibernate/type/descriptor/jdbc/InstantAsTimestampWithTimeZoneJdbcType.java#L88):\r\n\r\n```java\r\nprotected void doBind(\r\n\t\tPreparedStatement st,\r\n\t\tX value,\r\n\t\tint index,\r\n\t\tWrapperOptions wrapperOptions) throws SQLException {\r\n\tfinal OffsetDateTime dateTime = javaType.unwrap( value, OffsetDateTime.class, wrapperOptions );\r\n\t// supposed to be supported in JDBC 4.2\r\n\tst.setObject( index, dateTime.withOffsetSameInstant( ZoneOffset.UTC ), Types.TIMESTAMP_WITH_TIMEZONE );\r\n}\r\n```\r\n\r\nwhich actually looks weird because HBN binds timezone-aware data-type to non-timezone-aware column and the question is: what does the expression `st.setObject(index, odt, 2014)` really mean and what actual value will DB engine use when selecting rows? \r\n\r\nAnswer:\r\n- JDBC driver sends &quot;expected&quot; value\r\n- DB engine adjusts both date/time data stored in table and query parameters to UTC timezone (for stored data it uses [session timezone](https://docs.oracle.com/database/121/SQLRF/functions176.htm#SQLRF06105) as a baseline - `ALTER SESSION SET TIME_ZONE=&#39;UTC&#39;` solve the issue as well as setting JDK timezone to `UTC`) prior doing any comparisons (that is the reason why your select statement does not return data) - that actually becomes clear if we take a look at execution plan:\r\n\r\n```\r\nexplain plan for\r\nselect * from entity\r\nwhere &quot;demo_timestamp&quot; = to_timestamp_tz(:1);\r\n\r\nselect plan_table_output\r\nfrom table(dbms_xplan.display(&#39;plan_table&#39;,null,&#39;basic +predicate&#39;));\r\n```\r\n\r\n```\r\nExplained.\r\n\r\n\r\nPLAN_TABLE_OUTPUT                                           \r\n------------------------------------------------------------\r\nPlan hash value: 92196100\r\n \r\n------------------------------------\r\n| Id  | Operation         | Name   |\r\n------------------------------------\r\n|   0 | SELECT STATEMENT  |        |\r\n|*  1 |  TABLE ACCESS FULL| ENTITY |\r\n------------------------------------\r\n \r\nPredicate Information (identified by operation id):\r\n---------------------------------------------------\r\n\r\nPLAN_TABLE_OUTPUT                                           \r\n------------------------------------------------------------\r\n \r\n   1 - filter(SYS_EXTRACT_UTC(INTERNAL_FUNCTION(&quot;demo_timest\r\namp&quot;))=SYS_EXTRACT_UTC(TO_TIMESTAMP_TZ(:1)))\r\n\r\n14 rows selected. \r\n```\r\n\r\nSo, yes, there are &quot;breaking changes&quot; (or a bug) in `Hibernate 6` and now storing timezone-aware data in non-timezone-aware columns may cause a plenty of issues (wrong results, slow queries, etc)","title":"How to properly configure timestamp handling for TIMESTAMP columns in Hibernate6/Spring Boot 3.0?","body":"<p><code>Hibernate 5</code> was using <a href=\"https://github.com/hibernate/hibernate-orm/blob/49fbe84dde773de84ea704bb10193c4c581d34b8/hibernate-core/src/main/java/org/hibernate/type/descriptor/sql/TimestampTypeDescriptor.java#L81\" rel=\"nofollow noreferrer\">following method</a> to perform all date/time related calculations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\n  return options.getJdbcTimeZone() != null ?\n   javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance( options.getJdbcTimeZone() ) ), options ) :\n   javaTypeDescriptor.wrap( rs.getTimestamp( name ), options );\n}\n</code></pre>\n<p>Now, for your &quot;Instant case&quot;, <code>Hibernate 6</code> uses <a href=\"https://github.com/hibernate/hibernate-orm/blob/cc42864351ab571cd1b85347fdc323764a35fa30/hibernate-core/src/main/java/org/hibernate/type/descriptor/jdbc/InstantAsTimestampWithTimeZoneJdbcType.java#L88\" rel=\"nofollow noreferrer\">following method</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void doBind(\n        PreparedStatement st,\n        X value,\n        int index,\n        WrapperOptions wrapperOptions) throws SQLException {\n    final OffsetDateTime dateTime = javaType.unwrap( value, OffsetDateTime.class, wrapperOptions );\n    // supposed to be supported in JDBC 4.2\n    st.setObject( index, dateTime.withOffsetSameInstant( ZoneOffset.UTC ), Types.TIMESTAMP_WITH_TIMEZONE );\n}\n</code></pre>\n<p>which actually looks weird because HBN binds timezone-aware data-type to non-timezone-aware column and the question is: what does the expression <code>st.setObject(index, odt, 2014)</code> really mean and what actual value will DB engine use when selecting rows?</p>\n<p>Answer:</p>\n<ul>\n<li>JDBC driver sends &quot;expected&quot; value</li>\n<li>DB engine adjusts both date/time data stored in table and query parameters to UTC timezone (for stored data it uses <a href=\"https://docs.oracle.com/database/121/SQLRF/functions176.htm#SQLRF06105\" rel=\"nofollow noreferrer\">session timezone</a> as a baseline - <code>ALTER SESSION SET TIME_ZONE='UTC'</code> solve the issue as well as setting JDK timezone to <code>UTC</code>) prior doing any comparisons (that is the reason why your select statement does not return data) - that actually becomes clear if we take a look at execution plan:</li>\n</ul>\n<pre><code>explain plan for\nselect * from entity\nwhere &quot;demo_timestamp&quot; = to_timestamp_tz(:1);\n\nselect plan_table_output\nfrom table(dbms_xplan.display('plan_table',null,'basic +predicate'));\n</code></pre>\n<pre><code>Explained.\n\n\nPLAN_TABLE_OUTPUT                                           \n------------------------------------------------------------\nPlan hash value: 92196100\n \n------------------------------------\n| Id  | Operation         | Name   |\n------------------------------------\n|   0 | SELECT STATEMENT  |        |\n|*  1 |  TABLE ACCESS FULL| ENTITY |\n------------------------------------\n \nPredicate Information (identified by operation id):\n---------------------------------------------------\n\nPLAN_TABLE_OUTPUT                                           \n------------------------------------------------------------\n \n   1 - filter(SYS_EXTRACT_UTC(INTERNAL_FUNCTION(&quot;demo_timest\namp&quot;))=SYS_EXTRACT_UTC(TO_TIMESTAMP_TZ(:1)))\n\n14 rows selected. \n</code></pre>\n<p>So, yes, there are &quot;breaking changes&quot; (or a bug) in <code>Hibernate 6</code> and now storing timezone-aware data in non-timezone-aware columns may cause a plenty of issues (wrong results, slow queries, etc)</p>\n"},{"comments":[{"owner":{"account_id":7959705,"reputation":333,"user_id":6663100,"accept_rate":75,"display_name":"TobsenB"},"score":0,"creation_date":1675421304,"post_id":75315752,"comment_id":132930012,"body_markdown":"Actually, I did and also found that the issue is not present when using hibernate only. Thank you for your investigation on the topic. What I read from your description is that it should work with the configuration we use since we set `hibernate.jdbc.time_zone` in the `application.yaml`. However, I agree with you that this configuration property (which formerly used to work) seems not to be applied properly on our Spring Boot 3.0 branch. Since we didn&#39;t change the configuration  and it should be still valid according to the Spring documentation there might be an issue in Spring","body":"Actually, I did and also found that the issue is not present when using hibernate only. Thank you for your investigation on the topic. What I read from your description is that it should work with the configuration we use since we set <code>hibernate.jdbc.time_zone</code> in the <code>application.yaml</code>. However, I agree with you that this configuration property (which formerly used to work) seems not to be applied properly on our Spring Boot 3.0 branch. Since we didn&#39;t change the configuration  and it should be still valid according to the Spring documentation there might be an issue in Spring"},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1675434950,"post_id":75315752,"comment_id":132934205,"body_markdown":"Well, before blaming Spring, I think you should debug the code to see exactly whats happening. I tried as many permutations of everything as I could think of, but its always possible I missed something.","body":"Well, before blaming Spring, I think you should debug the code to see exactly whats happening. I tried as many permutations of everything as I could think of, but its always possible I missed something."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1675284178,"creation_date":1675282736,"answer_id":75315752,"question_id":75236228,"body_markdown":"OK, so, look, after my comment I was really hoping that you would make an attempt to reproduce the problem outside of Spring, so that we could establish what the cause of it is.\r\n\r\nBut anyway, I have now I&#39;ve managed to reproduce it with the following setup:\r\n\r\n1. set the JVM timezone to `EST` and the Oracle server timezone to `UTC`\r\n2. *do not set* `hibernate.jdbc.time_zone`, so that Hibernate doesn&#39;t know there&#39;s a mismatch between the timezones\r\n3. manually override the default column type generated by Hibernate&#39;s schema export from `timestamp with time zone` to `timestamp`, using the JPA `@Column` annotation\r\n4. *do not set* `hibernate.type.preferred_instant_jdbc_type`, nor use `@JdbcTypeCode(TIMESTAMP)`, so that Hibernate doesn&#39;t know you&#39;re using a local `timestamp` as your column type\r\n5. finally, *and most importantly*, use `setParameter(&quot;timestamp&quot;, Timestamp.from(instant))` when binding the parameter of the query, instead of just passing the `Instant` object\r\n\r\nFTR, the test code I have used is the following:\r\n\r\n```java\r\n@DomainModel(annotatedClasses = UTCNormalizedInstantTest.Instantaneous.class)\r\n@SessionFactory\r\n@ServiceRegistry(settings = {@Setting(name = AvailableSettings.TIMEZONE_DEFAULT_STORAGE, value = &quot;NORMALIZE_UTC&quot;),\r\n//\t\t@Setting(name = AvailableSettings.JDBC_TIME_ZONE, value=&quot;UTC&quot;),\r\n//\t\t@Setting(name = AvailableSettings.PREFERRED_INSTANT_JDBC_TYPE, value=&quot;TIMESTAMP&quot;)\r\n})\r\npublic class UTCNormalizedInstantTest {\r\n\r\n\t@Test\r\n\tvoid test(SessionFactoryScope scope) {\r\n\t\tTimeZone.setDefault(TimeZone.getTimeZone(&quot;EST&quot;));\r\n\t\tInstant timestamp = Instant.parse(&quot;2022-12-31T23:00:00Z&quot;);\r\n\t\tUUID id = scope.fromTransaction( s-&gt; {\r\n\t\t\tInstantaneous z = new Instantaneous();\r\n\t\t\tz.instant = timestamp;\r\n\t\t\ts.persist(z);\r\n\t\t\treturn z.id;\r\n\t\t});\r\n\t\tscope.inSession( s-&gt; {\r\n\t\t\tInstantaneous z = s.find(Instantaneous.class, id);\r\n\t\t\tassertEquals( timestamp, z.instant );\r\n\t\t});\r\n\t\tscope.inSession( s-&gt; {\r\n\t\t\tInstant i = s.createQuery(&quot;select i.instant from Instantaneous i&quot;, Instant.class)\r\n\t\t\t\t\t.getSingleResult();\r\n\t\t\tassertEquals( timestamp, i );\r\n\t\t\tInstantaneous a = s.createQuery(&quot;from Instantaneous i where i.instant=:timestamp&quot;, Instantaneous.class)\r\n\t\t\t\t\t.setParameter(&quot;timestamp&quot;, timestamp )\r\n\t\t\t\t\t.getSingleResult();\r\n\t\t\tassertEquals( timestamp, a.instant );\r\n\t\t\tInstantaneous b = s.createQuery(&quot;from Instantaneous i where cast(i.instant as Timestamp)=:timestamp&quot;, Instantaneous.class)\r\n\t\t\t\t\t.setParameter(&quot;timestamp&quot;, Timestamp.from(timestamp) )\r\n\t\t\t\t\t.getSingleResult();\r\n\t\t\tassertEquals( timestamp, b.instant );\r\n\t\t});\r\n\t}\r\n\r\n\t@Entity(name = &quot;Instantaneous&quot;)\r\n\tpublic static class Instantaneous {\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\tUUID id;\r\n//\t\t@JdbcTypeCode(Types.TIMESTAMP)\r\n\t\t@Column(columnDefinition = &quot;timestamp&quot;)\r\n\t\tInstant instant;\r\n\t}\r\n}\r\n```\r\n\r\nNow, uncommenting _any one_ of the three commented lines, or removing the `@Column` annotation makes this test pass.\r\n\r\nSo the solution is, either:\r\n\r\n- set `hibernate.type.preferred_instant_jdbc_type=TIMESTAMP`,\r\n- annotate the field `@JdbcTypeCode(TIMESTAMP)`, or\r\n- set `hibernate.jdbc.time_zone` to the server time zone (you say you tried this but I&#39;m willing to bet that if you debug you&#39;ll find it didn&#39;t stick).\r\n\r\nNote that I was _only_ able to eventually reproduce the problem by using `setParameter(&quot;timestamp&quot;, Timestamp.from(instant))`. It does not appear to occur if I use `setParameter(&quot;timestamp&quot;, instant)`, which of course better and more natural. This makes sense. I suppose (but do not know) that if you debug the code generated by Spring, you will find that it is (incorrectly) converting your `Instant` to a `Timestamp` before passing it to `setParameter()`.\r\n\r\nFTR, the difference between H5 and H6 is that by default H6 uses a `timestamp with time zone` to store `Instant`s, rather than a `timestamp`, since a `timestamp` with no time zone is more like a Java `LocalDateTime`. Since you&#39;re using `timestamp` to store your `Instant`, you need to let Hibernate know about that, or, at the very least, let it know about the mismatch between the JVM and Oracle time zones.","title":"How to properly configure timestamp handling for TIMESTAMP columns in Hibernate6/Spring Boot 3.0?","body":"<p>OK, so, look, after my comment I was really hoping that you would make an attempt to reproduce the problem outside of Spring, so that we could establish what the cause of it is.</p>\n<p>But anyway, I have now I've managed to reproduce it with the following setup:</p>\n<ol>\n<li>set the JVM timezone to <code>EST</code> and the Oracle server timezone to <code>UTC</code></li>\n<li><em>do not set</em> <code>hibernate.jdbc.time_zone</code>, so that Hibernate doesn't know there's a mismatch between the timezones</li>\n<li>manually override the default column type generated by Hibernate's schema export from <code>timestamp with time zone</code> to <code>timestamp</code>, using the JPA <code>@Column</code> annotation</li>\n<li><em>do not set</em> <code>hibernate.type.preferred_instant_jdbc_type</code>, nor use <code>@JdbcTypeCode(TIMESTAMP)</code>, so that Hibernate doesn't know you're using a local <code>timestamp</code> as your column type</li>\n<li>finally, <em>and most importantly</em>, use <code>setParameter(&quot;timestamp&quot;, Timestamp.from(instant))</code> when binding the parameter of the query, instead of just passing the <code>Instant</code> object</li>\n</ol>\n<p>FTR, the test code I have used is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DomainModel(annotatedClasses = UTCNormalizedInstantTest.Instantaneous.class)\n@SessionFactory\n@ServiceRegistry(settings = {@Setting(name = AvailableSettings.TIMEZONE_DEFAULT_STORAGE, value = &quot;NORMALIZE_UTC&quot;),\n//      @Setting(name = AvailableSettings.JDBC_TIME_ZONE, value=&quot;UTC&quot;),\n//      @Setting(name = AvailableSettings.PREFERRED_INSTANT_JDBC_TYPE, value=&quot;TIMESTAMP&quot;)\n})\npublic class UTCNormalizedInstantTest {\n\n    @Test\n    void test(SessionFactoryScope scope) {\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;EST&quot;));\n        Instant timestamp = Instant.parse(&quot;2022-12-31T23:00:00Z&quot;);\n        UUID id = scope.fromTransaction( s-&gt; {\n            Instantaneous z = new Instantaneous();\n            z.instant = timestamp;\n            s.persist(z);\n            return z.id;\n        });\n        scope.inSession( s-&gt; {\n            Instantaneous z = s.find(Instantaneous.class, id);\n            assertEquals( timestamp, z.instant );\n        });\n        scope.inSession( s-&gt; {\n            Instant i = s.createQuery(&quot;select i.instant from Instantaneous i&quot;, Instant.class)\n                    .getSingleResult();\n            assertEquals( timestamp, i );\n            Instantaneous a = s.createQuery(&quot;from Instantaneous i where i.instant=:timestamp&quot;, Instantaneous.class)\n                    .setParameter(&quot;timestamp&quot;, timestamp )\n                    .getSingleResult();\n            assertEquals( timestamp, a.instant );\n            Instantaneous b = s.createQuery(&quot;from Instantaneous i where cast(i.instant as Timestamp)=:timestamp&quot;, Instantaneous.class)\n                    .setParameter(&quot;timestamp&quot;, Timestamp.from(timestamp) )\n                    .getSingleResult();\n            assertEquals( timestamp, b.instant );\n        });\n    }\n\n    @Entity(name = &quot;Instantaneous&quot;)\n    public static class Instantaneous {\n        @Id\n        @GeneratedValue\n        UUID id;\n//      @JdbcTypeCode(Types.TIMESTAMP)\n        @Column(columnDefinition = &quot;timestamp&quot;)\n        Instant instant;\n    }\n}\n</code></pre>\n<p>Now, uncommenting <em>any one</em> of the three commented lines, or removing the <code>@Column</code> annotation makes this test pass.</p>\n<p>So the solution is, either:</p>\n<ul>\n<li>set <code>hibernate.type.preferred_instant_jdbc_type=TIMESTAMP</code>,</li>\n<li>annotate the field <code>@JdbcTypeCode(TIMESTAMP)</code>, or</li>\n<li>set <code>hibernate.jdbc.time_zone</code> to the server time zone (you say you tried this but I'm willing to bet that if you debug you'll find it didn't stick).</li>\n</ul>\n<p>Note that I was <em>only</em> able to eventually reproduce the problem by using <code>setParameter(&quot;timestamp&quot;, Timestamp.from(instant))</code>. It does not appear to occur if I use <code>setParameter(&quot;timestamp&quot;, instant)</code>, which of course better and more natural. This makes sense. I suppose (but do not know) that if you debug the code generated by Spring, you will find that it is (incorrectly) converting your <code>Instant</code> to a <code>Timestamp</code> before passing it to <code>setParameter()</code>.</p>\n<p>FTR, the difference between H5 and H6 is that by default H6 uses a <code>timestamp with time zone</code> to store <code>Instant</code>s, rather than a <code>timestamp</code>, since a <code>timestamp</code> with no time zone is more like a Java <code>LocalDateTime</code>. Since you're using <code>timestamp</code> to store your <code>Instant</code>, you need to let Hibernate know about that, or, at the very least, let it know about the mismatch between the JVM and Oracle time zones.</p>\n"}],"owner":{"account_id":7959705,"reputation":333,"user_id":6663100,"accept_rate":75,"display_name":"TobsenB"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1924,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675284178,"creation_date":1674660733,"question_id":75236228,"body_markdown":"We&#39;re currently migrating a Spring Boot 2 application to Spring Boot 3 (`3.0.2`) which includes moving to Hibernate 6 (`6.1.6`).\r\n\r\nAll Timestamps are normalized to UTC and saved to the underlying OracleDB using columns of the TIMESTAMP data type (without timezones). To make Hibernate use UTC we set the `jpa.properties.hibernate.jdbc.time_zone` configuration property to `true` within our `application.yaml`. \r\n\r\nAfter moving to Spring Boot 3 and Hibernate 6 (which introduces a more specific configuration for timestamp conversion) the migration of timestamps doesn&#39;t work as expected anymore:\r\n\r\nWhen looking up entities by timestamp attributes, they won&#39;t be found. \r\n\r\n**A short example:**  \r\nSaving an entity with a `java.time.Instant` timestamp of `2023-12-13T00:00:00Z` to the database creates a new record as expected.   \r\nHowever, when trying to retrieve the record using the same timestamp the data repository will return an empty result. It therefore seems that the timestamp conversion differs between saving and querying. \r\n\r\nWe tried to adjust this behaviour using the configuration property `spring.jpa.properties.hibernate.timezone.default_storage` but no matter what value we set, the behaviour kept being the same. We also tried different combinations of the `jdbc.time_zone` and `timezone.default_storage` config properties without recognizing any effects on the application&#39;s behaviour. We initially thought that the properties for whatever reason wouldn&#39;t be applied, but assigning invalid values raised exceptions on application startup. \r\n\r\nThe same code works like a charm when using a H2 database. \r\n\r\nThe relevant part of the `application.yaml` we&#39;re using is as follows:\r\n```\r\nspring:\r\n  datasource:\r\n    driverClassName: oracle.jdbc.OracleDriver\r\n    url: jdbc:oracle:thin:@localhost:1521:xe\r\n    username: [dbuser]\r\n    password: [dbpassword]\r\n    type: org.springframework.jdbc.datasource.SimpleDriverDataSource\r\n  jpa:\r\n    show-sql: false\r\n    generate-ddl: true\r\n    hibernate.ddl-auto: none\r\n    task:\r\n    scheduling:\r\n      pool:\r\n        size: 10\r\n    properties:\r\n      hibernate:\r\n        jdbc:\r\n          time_zone: UTC\r\n        timezone:\r\n          default_storage: NORMALIZE_UTC\r\n```\r\n\r\nAn example entity:\r\n```\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport java.time.Instant;\r\nimport java.util.UUID;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name =&quot;entity&quot;)\r\npublic class DemoEntity {\r\n\r\n  @Id\r\n  @Column(name = &quot;`id`&quot;)\r\n  UUID id;\r\n\r\n  @Column(name = &quot;`demo_timestamp`&quot; ,columnDefinition = &quot;TIMESTAMP&quot;)\r\n  private Instant timestamp;\r\n\r\n  public DemoEntity() {\r\n    this.id = UUID.randomUUID();\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe repository:\r\n```\r\nimport java.time.Instant;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface EntityRepository extends JpaRepository&lt;DemoEntity, UUID&gt;, JpaSpecificationExecutor&lt;DemoEntity&gt; {\r\n\r\n  Optional&lt;DemoEntity&gt; findAllByTimestamp(Instant timestamp);\r\n}\r\n```\r\n\r\nThe service showcasing the observed behaviour:\r\n```\r\nimport java.time.Instant;\r\nimport java.util.Optional;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.event.ContextRefreshedEvent;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Service\r\n@Slf4j\r\npublic class EntityService {\r\n\r\n  private final EntityRepository repository;\r\n\r\n  @Autowired\r\n  public EntityService(EntityRepository repository) {\r\n    this.repository = repository;\r\n  }\r\n\r\n  @EventListener(ContextRefreshedEvent.class)\r\n  @Transactional\r\n  public void init() {\r\n    Instant timestamp = Instant.parse(&quot;2022-12-31T23:00:00Z&quot;);\r\n\r\n    Optional&lt;DemoEntity&gt; findResult = repository.findAllByTimestamp(timestamp);\r\n\r\n    if(findResult.isPresent()) {\r\n      log.info(&quot;Entity was found for timestamp {}&quot;, timestamp);\r\n      return;\r\n    }\r\n\r\n    log.info(&quot;No entity was found for timestamp {}, creating one&quot;, timestamp);\r\n\r\n    DemoEntity demoEntity = new DemoEntity();\r\n    demoEntity.setTimestamp(timestamp);\r\n\r\n    this.repository.save(demoEntity);\r\n  }\r\n}\r\n```\r\n\r\nThe service keeps creating new records with correct timestamps since it fails to look up the persisted timestamps:\r\n\r\n 1. **The entity is created properly...**\r\n[![enter image description here][1]][1]\r\n 2. **...but not found by the SQL query afterwards...**\r\n```\r\n2023-01-26T07:20:47.986+01:00  INFO 1274 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-01-26T07:20:48.105+01:00 DEBUG 1274 --- [  restartedMain] org.hibernate.SQL                        : select d1_0.&quot;id&quot;,d1_0.&quot;demo_timestamp&quot; from entity d1_0 where d1_0.&quot;demo_timestamp&quot;=?\r\n2023-01-26T07:20:48.106+01:00 TRACE 1274 --- [  restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [TIMESTAMP_UTC] - [2022-12-31T23:00:00Z]\r\n2023-01-26T07:20:48.130+01:00  INFO 1274 --- [  restartedMain] com.example.demo.EntityService           : No entity was found for timestamp 2022-12-31T23:00:00Z, creating one\r\n2023-01-26T07:20:48.138+01:00 DEBUG 1274 --- [  restartedMain] org.hibernate.SQL                        : select d1_0.&quot;id&quot;,d1_0.&quot;demo_timestamp&quot; from entity d1_0 where d1_0.&quot;id&quot;=?\r\n2023-01-26T07:20:48.138+01:00 TRACE 1274 --- [  restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BINARY] - [1ccd9b88-4d18-416a-938d-d8c3fb6dac7d]\r\n2023-01-26T07:20:48.150+01:00 DEBUG 1274 --- [  restartedMain] org.hibernate.SQL                        : insert into entity (&quot;demo_timestamp&quot;, &quot;id&quot;) values (?, ?)\r\n2023-01-26T07:20:48.150+01:00 TRACE 1274 --- [  restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [TIMESTAMP_UTC] - [2022-12-31T23:00:00Z]\r\n2023-01-26T07:20:48.150+01:00 TRACE 1274 --- [  restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [BINARY] - [1ccd9b88-4d18-416a-938d-d8c3fb6dac7d]\r\n```\r\n 3. **...resulting in another entity being created**\r\n[![enter image description here][2]][2]\r\n\r\nWe also found, that looking up the entities as if they were in fact using not UTC but our local timezone CET, i.e. UTC+1, delivered the expected results. More specifically, looking up records for an Instant of `2022-31-12T22:00:00Z` returned the entities having a timestamp of `2022-31-12T23:00:00Z`. Moreover everything works fine when setting the JVM timezone using `TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));` or `-Duser.timezone=UTC`.\r\n\r\nIt seems that UTC timestamps represented as Instants are actually converted to local time when being queried but are handled properly when being written to the database.\r\n\r\nDo we miss anything in our configuration or is there a bug in Spring/Hibernate that causes this odd behaviour? \r\n\r\nAs far as I know the default behaviour of Hibernate 6 should match the one provided by version 5 so that no configuration changes should be required at all to preserve the previous behaviour.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QIdc5.png\r\n  [2]: https://i.stack.imgur.com/BsjkI.png","title":"How to properly configure timestamp handling for TIMESTAMP columns in Hibernate6/Spring Boot 3.0?","body":"<p>We're currently migrating a Spring Boot 2 application to Spring Boot 3 (<code>3.0.2</code>) which includes moving to Hibernate 6 (<code>6.1.6</code>).</p>\n<p>All Timestamps are normalized to UTC and saved to the underlying OracleDB using columns of the TIMESTAMP data type (without timezones). To make Hibernate use UTC we set the <code>jpa.properties.hibernate.jdbc.time_zone</code> configuration property to <code>true</code> within our <code>application.yaml</code>.</p>\n<p>After moving to Spring Boot 3 and Hibernate 6 (which introduces a more specific configuration for timestamp conversion) the migration of timestamps doesn't work as expected anymore:</p>\n<p>When looking up entities by timestamp attributes, they won't be found.</p>\n<p><strong>A short example:</strong><br />\nSaving an entity with a <code>java.time.Instant</code> timestamp of <code>2023-12-13T00:00:00Z</code> to the database creates a new record as expected.<br />\nHowever, when trying to retrieve the record using the same timestamp the data repository will return an empty result. It therefore seems that the timestamp conversion differs between saving and querying.</p>\n<p>We tried to adjust this behaviour using the configuration property <code>spring.jpa.properties.hibernate.timezone.default_storage</code> but no matter what value we set, the behaviour kept being the same. We also tried different combinations of the <code>jdbc.time_zone</code> and <code>timezone.default_storage</code> config properties without recognizing any effects on the application's behaviour. We initially thought that the properties for whatever reason wouldn't be applied, but assigning invalid values raised exceptions on application startup.</p>\n<p>The same code works like a charm when using a H2 database.</p>\n<p>The relevant part of the <code>application.yaml</code> we're using is as follows:</p>\n<pre><code>spring:\n  datasource:\n    driverClassName: oracle.jdbc.OracleDriver\n    url: jdbc:oracle:thin:@localhost:1521:xe\n    username: [dbuser]\n    password: [dbpassword]\n    type: org.springframework.jdbc.datasource.SimpleDriverDataSource\n  jpa:\n    show-sql: false\n    generate-ddl: true\n    hibernate.ddl-auto: none\n    task:\n    scheduling:\n      pool:\n        size: 10\n    properties:\n      hibernate:\n        jdbc:\n          time_zone: UTC\n        timezone:\n          default_storage: NORMALIZE_UTC\n</code></pre>\n<p>An example entity:</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport java.time.Instant;\nimport java.util.UUID;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Setter\n@Getter\n@Entity\n@Table(name =&quot;entity&quot;)\npublic class DemoEntity {\n\n  @Id\n  @Column(name = &quot;`id`&quot;)\n  UUID id;\n\n  @Column(name = &quot;`demo_timestamp`&quot; ,columnDefinition = &quot;TIMESTAMP&quot;)\n  private Instant timestamp;\n\n  public DemoEntity() {\n    this.id = UUID.randomUUID();\n  }\n\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>import java.time.Instant;\nimport java.util.Optional;\nimport java.util.UUID;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface EntityRepository extends JpaRepository&lt;DemoEntity, UUID&gt;, JpaSpecificationExecutor&lt;DemoEntity&gt; {\n\n  Optional&lt;DemoEntity&gt; findAllByTimestamp(Instant timestamp);\n}\n</code></pre>\n<p>The service showcasing the observed behaviour:</p>\n<pre><code>import java.time.Instant;\nimport java.util.Optional;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.event.ContextRefreshedEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Slf4j\npublic class EntityService {\n\n  private final EntityRepository repository;\n\n  @Autowired\n  public EntityService(EntityRepository repository) {\n    this.repository = repository;\n  }\n\n  @EventListener(ContextRefreshedEvent.class)\n  @Transactional\n  public void init() {\n    Instant timestamp = Instant.parse(&quot;2022-12-31T23:00:00Z&quot;);\n\n    Optional&lt;DemoEntity&gt; findResult = repository.findAllByTimestamp(timestamp);\n\n    if(findResult.isPresent()) {\n      log.info(&quot;Entity was found for timestamp {}&quot;, timestamp);\n      return;\n    }\n\n    log.info(&quot;No entity was found for timestamp {}, creating one&quot;, timestamp);\n\n    DemoEntity demoEntity = new DemoEntity();\n    demoEntity.setTimestamp(timestamp);\n\n    this.repository.save(demoEntity);\n  }\n}\n</code></pre>\n<p>The service keeps creating new records with correct timestamps since it fails to look up the persisted timestamps:</p>\n<ol>\n<li><strong>The entity is created properly...</strong>\n<a href=\"https://i.stack.imgur.com/QIdc5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QIdc5.png\" alt=\"enter image description here\" /></a></li>\n<li><strong>...but not found by the SQL query afterwards...</strong></li>\n</ol>\n<pre><code>2023-01-26T07:20:47.986+01:00  INFO 1274 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-01-26T07:20:48.105+01:00 DEBUG 1274 --- [  restartedMain] org.hibernate.SQL                        : select d1_0.&quot;id&quot;,d1_0.&quot;demo_timestamp&quot; from entity d1_0 where d1_0.&quot;demo_timestamp&quot;=?\n2023-01-26T07:20:48.106+01:00 TRACE 1274 --- [  restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [TIMESTAMP_UTC] - [2022-12-31T23:00:00Z]\n2023-01-26T07:20:48.130+01:00  INFO 1274 --- [  restartedMain] com.example.demo.EntityService           : No entity was found for timestamp 2022-12-31T23:00:00Z, creating one\n2023-01-26T07:20:48.138+01:00 DEBUG 1274 --- [  restartedMain] org.hibernate.SQL                        : select d1_0.&quot;id&quot;,d1_0.&quot;demo_timestamp&quot; from entity d1_0 where d1_0.&quot;id&quot;=?\n2023-01-26T07:20:48.138+01:00 TRACE 1274 --- [  restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BINARY] - [1ccd9b88-4d18-416a-938d-d8c3fb6dac7d]\n2023-01-26T07:20:48.150+01:00 DEBUG 1274 --- [  restartedMain] org.hibernate.SQL                        : insert into entity (&quot;demo_timestamp&quot;, &quot;id&quot;) values (?, ?)\n2023-01-26T07:20:48.150+01:00 TRACE 1274 --- [  restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [TIMESTAMP_UTC] - [2022-12-31T23:00:00Z]\n2023-01-26T07:20:48.150+01:00 TRACE 1274 --- [  restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [BINARY] - [1ccd9b88-4d18-416a-938d-d8c3fb6dac7d]\n</code></pre>\n<ol start=\"3\">\n<li><strong>...resulting in another entity being created</strong>\n<a href=\"https://i.stack.imgur.com/BsjkI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BsjkI.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>We also found, that looking up the entities as if they were in fact using not UTC but our local timezone CET, i.e. UTC+1, delivered the expected results. More specifically, looking up records for an Instant of <code>2022-31-12T22:00:00Z</code> returned the entities having a timestamp of <code>2022-31-12T23:00:00Z</code>. Moreover everything works fine when setting the JVM timezone using <code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));</code> or <code>-Duser.timezone=UTC</code>.</p>\n<p>It seems that UTC timestamps represented as Instants are actually converted to local time when being queried but are handled properly when being written to the database.</p>\n<p>Do we miss anything in our configuration or is there a bug in Spring/Hibernate that causes this odd behaviour?</p>\n<p>As far as I know the default behaviour of Hibernate 6 should match the one provided by version 5 so that no configuration changes should be required at all to preserve the previous behaviour.</p>\n"},{"tags":["java","constructor","anylogic"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655228025,"post_id":72621120,"comment_id":128280960,"body_markdown":"Please provide the code of your attempt, and the error as code-formatted text in your question. Don&#39;t rely on external source, nor use images for things that are text. In any case, the error suggest you&#39;re trying to call a **method** `CustomDistributionOfOptions_Distribution()` on the class `Main` instead of invoking a constructor (e.g. using `new Distribution(...)`)","body":"Please provide the code of your attempt, and the error as code-formatted text in your question. Don&#39;t rely on external source, nor use images for things that are text. In any case, the error suggest you&#39;re trying to call a <b>method</b> <code>CustomDistributionOfOptions_Distribution()</code> on the class <code>Main</code> instead of invoking a constructor (e.g. using <code>new Distribution(...)</code>)"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1655271972,"post_id":72621120,"comment_id":128290017,"body_markdown":"Well, you seem to use `CustomDistributionOfOptions_Distribution()` instead of `CustomDistributionOfOptions()`. The former is not known to AL, hence the error. You must use the constructor exactly as defined in the help. If that is too confusing, study some base materials on Java constructors, this is all Java stuff in the end :)","body":"Well, you seem to use <code>CustomDistributionOfOptions_Distribution()</code> instead of <code>CustomDistributionOfOptions()</code>. The former is not known to AL, hence the error. You must use the constructor exactly as defined in the help. If that is too confusing, study some base materials on Java constructors, this is all Java stuff in the end :)"},{"owner":{"account_id":24834038,"reputation":11,"user_id":18712894,"display_name":"IE_programmer"},"score":0,"creation_date":1655296167,"post_id":72621120,"comment_id":128298067,"body_markdown":"@MarkRotteveel The code that Ia m using is as follows: \n&#39;CustomDistributionOfOptions();&#39;\n\nAnd the error it is giving me is as follows:\n&quot;Description: The method CustomDistributionOfOptions() is undefined for the type Main. Location: ####### - Agent Type&quot;","body":"@MarkRotteveel The code that Ia m using is as follows:  &#39;CustomDistributionOfOptions();&#39;  And the error it is giving me is as follows: &quot;Description: The method CustomDistributionOfOptions() is undefined for the type Main. Location: ####### - Agent Type&quot;"},{"owner":{"account_id":24834038,"reputation":11,"user_id":18712894,"display_name":"IE_programmer"},"score":0,"creation_date":1655296480,"post_id":72621120,"comment_id":128298190,"body_markdown":"@Benjamin Thanks for your reply. I just realized I made that syntax error, however, I still seem to be getting the same error... I think you might be correct about my lack of knowledge on Java constructors, is there any specific source material that you could recommend?","body":"@Benjamin Thanks for your reply. I just realized I made that syntax error, however, I still seem to be getting the same error... I think you might be correct about my lack of knowledge on Java constructors, is there any specific source material that you could recommend?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655300857,"post_id":72621120,"comment_id":128300097,"body_markdown":"Invoking a constructor requires using the keyword `new`. Please show a [mre].","body":"Invoking a constructor requires using the keyword <code>new</code>. Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":24834038,"reputation":11,"user_id":18712894,"display_name":"IE_programmer"},"score":0,"creation_date":1655453212,"post_id":72621120,"comment_id":128340705,"body_markdown":"@MarkRotteveel the minimal reproducible example is: `new CustomDistributionOfOptions();` which I have implemented in the &quot;On startup&quot; field in the &quot;Main - Agent Type&quot; properties window. This, however, still gives the following error:  *Description: The constructor CustomDistributionOfOptions() is undefined. Location: #### Main - Agent Type*","body":"@MarkRotteveel the minimal reproducible example is: <code>new CustomDistributionOfOptions();</code> which I have implemented in the &quot;On startup&quot; field in the &quot;Main - Agent Type&quot; properties window. This, however, still gives the following error:  <i>Description: The constructor CustomDistributionOfOptions() is undefined. Location: #### Main - Agent Type</i>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655453347,"post_id":72621120,"comment_id":128340745,"body_markdown":"The question you link (and the [documentation linked](https://anylogic.help/api/com/anylogic/engine/CustomDistribution.html?resultof=%22custom%22%20%22distribution%22%20%22distribut%22%20) from the answer to that question) indicate the class is called `CustomDistribution`, so the constructor is called `CustomDistribution` (refer to the link to see which constructors are available). I&#39;m not sure why you insist on trying to use `CustomDistributionOfOptions`... (but to be clear, I don&#39;t know AnyLogic).","body":"The question you link (and the <a href=\"https://anylogic.help/api/com/anylogic/engine/CustomDistribution.html?resultof=%22custom%22%20%22distribution%22%20%22distribut%22%20\" rel=\"nofollow noreferrer\">documentation linked</a> from the answer to that question) indicate the class is called <code>CustomDistribution</code>, so the constructor is called <code>CustomDistribution</code> (refer to the link to see which constructors are available). I&#39;m not sure why you insist on trying to use <code>CustomDistributionOfOptions</code>... (but to be clear, I don&#39;t know AnyLogic)."}],"answers":[{"tags":[],"owner":{"account_id":15154033,"reputation":1,"user_id":10935499,"display_name":"Wade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675284176,"creation_date":1675284176,"answer_id":75315977,"question_id":72621120,"body_markdown":"Here is an example of initializing a Custom Distribution from one of my models:\r\n\r\n    CustomDistributionOfOptions&lt;VaccineAttitude&gt; customDistributionVaccineAttitude = \r\n\tnew CustomDistributionOfOptions(\r\n\t\tVaccineAttitude.values(),\r\n\t\tnew double[]{\r\n\t\t\tweight_vacc_acceptor,\r\n\t\t\tweight_vacc_hesitator,\r\n\t\t\tweight_vacc_rejector\r\n\t\t},\r\n\t\tthis\r\n\t);\r\n\r\nWhat it is doing is declaring a new variable of type `CustomDistributionOfOptions&lt;VaccineAttitude&gt;`, where `VaccineAttitude` is the Option List that lists the options for the distribution. The name of the variable is `customDistributionVaccineAttitude`. As per the AnyLogic [documentation](https://anylogic.help/api/com/anylogic/engine/CustomDistributionOfOptions.html), the constructor takes the values of the Option List, `VaccineAttitude.values()`, an array of weights of type `double`, and the agent that owns the variable. In this example, the code is located in Main, so `this` refers to Main.\r\n\r\nYou may query the distribution as follows:\r\n\t\r\n\r\n    VaccineAttitude result = customDistributionVaccineAttitude.get();\r\n\r\n`result` will contain random value from the Option List `VaccineAttitude` drawn from the distribution according to the weights specified in the constructor.","title":"How to use the &quot;CustomDistributionOfOptions&quot; constructor in Anylogic","body":"<p>Here is an example of initializing a Custom Distribution from one of my models:</p>\n<pre><code>CustomDistributionOfOptions&lt;VaccineAttitude&gt; customDistributionVaccineAttitude = \nnew CustomDistributionOfOptions(\n    VaccineAttitude.values(),\n    new double[]{\n        weight_vacc_acceptor,\n        weight_vacc_hesitator,\n        weight_vacc_rejector\n    },\n    this\n);\n</code></pre>\n<p>What it is doing is declaring a new variable of type <code>CustomDistributionOfOptions&lt;VaccineAttitude&gt;</code>, where <code>VaccineAttitude</code> is the Option List that lists the options for the distribution. The name of the variable is <code>customDistributionVaccineAttitude</code>. As per the AnyLogic <a href=\"https://anylogic.help/api/com/anylogic/engine/CustomDistributionOfOptions.html\" rel=\"nofollow noreferrer\">documentation</a>, the constructor takes the values of the Option List, <code>VaccineAttitude.values()</code>, an array of weights of type <code>double</code>, and the agent that owns the variable. In this example, the code is located in Main, so <code>this</code> refers to Main.</p>\n<p>You may query the distribution as follows:</p>\n<pre><code>VaccineAttitude result = customDistributionVaccineAttitude.get();\n</code></pre>\n<p><code>result</code> will contain random value from the Option List <code>VaccineAttitude</code> drawn from the distribution according to the weights specified in the constructor.</p>\n"}],"owner":{"account_id":24834038,"reputation":11,"user_id":18712894,"display_name":"IE_programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675284176,"creation_date":1655227623,"question_id":72621120,"body_markdown":"I am fairly new to Anylogic and I am trying to figure out how to use the &quot;CustomDistributionOfOptions&quot; constructor to manually create a random distribution of items defined in an &quot;Options list&quot;. My goal is to dynamically define the custom distribution of the options-list-items based on a user input. After researching solutions online on how to dynamically define a custom distribution, I came upon this solution: https://stackoverflow.com/questions/41372732/dynamically-changing-distribution-in-anylogic. In this post, the user uses a constructor to create a custom distribution, which is what I want to do as well. However, every single time I try and initialize the constructor in my &quot;Main&quot; agent as an action on startup, I keep getting an\r\n[error][1] that states that that method is undefined for the type Main.\r\n\r\nI do not understand why this error keeps popping up, as the documentation states that I can just use the function &quot;CustomDistributionOfOptions()&quot; as a constructor. Please let me know what I am not understanding and/or missing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ieQoO.png","title":"How to use the &quot;CustomDistributionOfOptions&quot; constructor in Anylogic","body":"<p>I am fairly new to Anylogic and I am trying to figure out how to use the &quot;CustomDistributionOfOptions&quot; constructor to manually create a random distribution of items defined in an &quot;Options list&quot;. My goal is to dynamically define the custom distribution of the options-list-items based on a user input. After researching solutions online on how to dynamically define a custom distribution, I came upon this solution: <a href=\"https://stackoverflow.com/questions/41372732/dynamically-changing-distribution-in-anylogic\">Dynamically Changing Distribution in AnyLogic</a>. In this post, the user uses a constructor to create a custom distribution, which is what I want to do as well. However, every single time I try and initialize the constructor in my &quot;Main&quot; agent as an action on startup, I keep getting an\n<a href=\"https://i.stack.imgur.com/ieQoO.png\" rel=\"nofollow noreferrer\">error</a> that states that that method is undefined for the type Main.</p>\n<p>I do not understand why this error keeps popping up, as the documentation states that I can just use the function &quot;CustomDistributionOfOptions()&quot; as a constructor. Please let me know what I am not understanding and/or missing.</p>\n"},{"tags":["java","mysql","spring-boot","repository"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675283500,"creation_date":1675283500,"answer_id":75315882,"question_id":75314450,"body_markdown":"spring-data treats the underscore as a special character, see [this](https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.query-methods.query-property-expressions).\r\n\r\nYour best solution is to follow the naming conventions and rename your variables `flightTo` and `flightFrom`.","title":"Repository method findById with underscore Spring Boot","body":"<p>spring-data treats the underscore as a special character, see <a href=\"https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>Your best solution is to follow the naming conventions and rename your variables <code>flightTo</code> and <code>flightFrom</code>.</p>\n"}],"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75315882,"answer_count":1,"score":0,"last_activity_date":1675283500,"creation_date":1675275117,"question_id":75314450,"body_markdown":"In entity class Flights I have fields private City flight_from and private City flight_to and I need repository method to return flights by id of flight_from. I am trying to do like this:\r\n\r\n    List&lt;Flights&gt; findByFlight_toId(Integer id);\r\nI have tried findByFlightToId, findByFlight_to_id, findByFlight__toId with double underscore and other, still can&#39;t find it. Is there any solution for that?","title":"Repository method findById with underscore Spring Boot","body":"<p>In entity class Flights I have fields private City flight_from and private City flight_to and I need repository method to return flights by id of flight_from. I am trying to do like this:</p>\n<pre><code>List&lt;Flights&gt; findByFlight_toId(Integer id);\n</code></pre>\n<p>I have tried findByFlightToId, findByFlight_to_id, findByFlight__toId with double underscore and other, still can't find it. Is there any solution for that?</p>\n"},{"tags":["java","spring-webflux","stomp","spring-websocket"],"owner":{"account_id":4324621,"reputation":863,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675283286,"creation_date":1675155395,"question_id":75294692,"body_markdown":"I am working on a brownfield project.\r\nIt is a websocket server that allows clients to subscribe to desired topics. When an event happens related to a topic, our server will send notification message to all subscribed clients of the topic.\r\nIt seems that STOMP is very appliable to our case. So Spring Websocket is already used. \r\n\r\nBut there was a problem that our client isn&#39;t STOMP. So we extend `TextWebSocketHandler` and in it&#39;s `afterConnectionEstablished` method, create a new `WebSocketStompClient` and bind it to the websocket session, for each clients. Then we convert any received messages from STOMP session and send it to the corresponding websocket session. They are implemented in `handleTextMessage` method. Indeed, we are connecting a STOMP connection to ourself in the server-side to simulate STOMP client. We have to do so just because our client isn&#39;t STOMP.\r\n\r\nOur code is like this:\r\n```\r\n@Component\r\nclass MyWebSocketHandler : TextWebSocketHandler() {\r\n    private val sessions = mutableMapOf&lt;String, WebSocketSession&gt;()\r\n\r\n    override fun afterConnectionEstablished(session: WebSocketSession) {\r\n        val webSocketStompClient = createWebSocketStompClient()\r\n\r\n        val stompSession =\r\n            webSocketStompClient.connect(\r\n                &quot;ws://$host:$port/stomp&quot;,\r\n                /* some headers and a StompSessionHandler */\r\n            ).get()\r\n\r\n        sessions[session.principal] =\r\n            ConcurrentWebSocketSessionDecorator(session, 20_000, 10_000_000).also {\r\n                it.attributes[&quot;STOMP_SESSION&quot;] = stompSession\r\n            }\r\n    }\r\n\r\n    override fun handleTextMessage(session0: WebSocketSession, message: TextMessage) {\r\n        if (isSubscribeMessage(message.payload)) {\r\n            val stompSession = findStompSessionByWebSocketSessionId(session.id)\r\n            val topicId = extractTopicIdSubscribeMessage(message.payload)\r\n            val subscription = stompSession.subscribe(\r\n                &quot;/topic/${topicId}&quot;,\r\n                object : StompFrameHandler {\r\n                    override fun getPayloadType(headers: StompHeaders): Type = String::class.java\r\n\r\n                    override fun handleFrame(headers: StompHeaders, payload: Any?) =\r\n                        session.sendMessage(TextMessage(payload as String))\r\n                }\r\n            )\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen we simply use `SimpMessagingTemplate.convertAndSend` to send notifications in our event handler.\r\n\r\n```\r\nclass MyEventHandler(\r\n    private val topic: String,\r\n    private val simpMessagingTemplate: SimpMessagingTemplate\r\n) {\r\n\r\n   fun handle(event: Event) {\r\n        simpMessagingTemplate.convertAndSend(&quot;/topic/${event.topic}&quot;, &quot;Some notification message&quot;)\r\n    }\r\n}\r\n``` \r\n\r\nNow I have the following questions:\r\n1. First of all, I think that our approach is not good. Am I right? Is there any better way to benefit Spring Websocket without STOMP client?\r\n\r\n2. Another problem is we use default spring in-memory broker rather than RabbitMQ or ActiveMQ. What are it&#39;s pros and cons? In my opinion, using in-memory broker is better in context of performance because there is no network call. But the huge number of concurrent clients may cuase some resource issues.  \r\n3. I am asked to make the application reactive and adapt with Spring Webflux. How should I do so such that still benefit STOMP? I am new to reactive programming and AFAIK there is no support for STOMP. I think that there is an architectural gap between reactive programming and STOMP protocol that I cannot understand.\r\n\r\nAny advice would be much appreciated!","title":"Using Spring Websocket without STOMP client","body":"<p>I am working on a brownfield project.\nIt is a websocket server that allows clients to subscribe to desired topics. When an event happens related to a topic, our server will send notification message to all subscribed clients of the topic.\nIt seems that STOMP is very appliable to our case. So Spring Websocket is already used.</p>\n<p>But there was a problem that our client isn't STOMP. So we extend <code>TextWebSocketHandler</code> and in it's <code>afterConnectionEstablished</code> method, create a new <code>WebSocketStompClient</code> and bind it to the websocket session, for each clients. Then we convert any received messages from STOMP session and send it to the corresponding websocket session. They are implemented in <code>handleTextMessage</code> method. Indeed, we are connecting a STOMP connection to ourself in the server-side to simulate STOMP client. We have to do so just because our client isn't STOMP.</p>\n<p>Our code is like this:</p>\n<pre><code>@Component\nclass MyWebSocketHandler : TextWebSocketHandler() {\n    private val sessions = mutableMapOf&lt;String, WebSocketSession&gt;()\n\n    override fun afterConnectionEstablished(session: WebSocketSession) {\n        val webSocketStompClient = createWebSocketStompClient()\n\n        val stompSession =\n            webSocketStompClient.connect(\n                &quot;ws://$host:$port/stomp&quot;,\n                /* some headers and a StompSessionHandler */\n            ).get()\n\n        sessions[session.principal] =\n            ConcurrentWebSocketSessionDecorator(session, 20_000, 10_000_000).also {\n                it.attributes[&quot;STOMP_SESSION&quot;] = stompSession\n            }\n    }\n\n    override fun handleTextMessage(session0: WebSocketSession, message: TextMessage) {\n        if (isSubscribeMessage(message.payload)) {\n            val stompSession = findStompSessionByWebSocketSessionId(session.id)\n            val topicId = extractTopicIdSubscribeMessage(message.payload)\n            val subscription = stompSession.subscribe(\n                &quot;/topic/${topicId}&quot;,\n                object : StompFrameHandler {\n                    override fun getPayloadType(headers: StompHeaders): Type = String::class.java\n\n                    override fun handleFrame(headers: StompHeaders, payload: Any?) =\n                        session.sendMessage(TextMessage(payload as String))\n                }\n            )\n        }\n    }\n}\n</code></pre>\n<p>Then we simply use <code>SimpMessagingTemplate.convertAndSend</code> to send notifications in our event handler.</p>\n<pre><code>class MyEventHandler(\n    private val topic: String,\n    private val simpMessagingTemplate: SimpMessagingTemplate\n) {\n\n   fun handle(event: Event) {\n        simpMessagingTemplate.convertAndSend(&quot;/topic/${event.topic}&quot;, &quot;Some notification message&quot;)\n    }\n}\n</code></pre>\n<p>Now I have the following questions:</p>\n<ol>\n<li><p>First of all, I think that our approach is not good. Am I right? Is there any better way to benefit Spring Websocket without STOMP client?</p>\n</li>\n<li><p>Another problem is we use default spring in-memory broker rather than RabbitMQ or ActiveMQ. What are it's pros and cons? In my opinion, using in-memory broker is better in context of performance because there is no network call. But the huge number of concurrent clients may cuase some resource issues.</p>\n</li>\n<li><p>I am asked to make the application reactive and adapt with Spring Webflux. How should I do so such that still benefit STOMP? I am new to reactive programming and AFAIK there is no support for STOMP. I think that there is an architectural gap between reactive programming and STOMP protocol that I cannot understand.</p>\n</li>\n</ol>\n<p>Any advice would be much appreciated!</p>\n"},{"tags":["java","linked-list","queue"],"comments":[{"owner":{"account_id":19766135,"reputation":21,"user_id":14474136,"display_name":"Dexter M."},"score":0,"creation_date":1675284436,"post_id":75315830,"comment_id":132898154,"body_markdown":"It thinks the date is the same","body":"It thinks the date is the same"}],"owner":{"account_id":19766135,"reputation":21,"user_id":14474136,"display_name":"Dexter M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675283256,"creation_date":1675283147,"question_id":75315830,"body_markdown":"So the prompt for this question is a popular one. It is as follows:\r\n\r\nAn animal shelter holds only dogs and cats, and operates on a strictly &quot;first in, first out&quot; basis. People must adopt either the &quot;oldest&quot; (based on arrival time) of all animals at the shelter, or they can select whether they would prefer a dog or a cat (and will receive the oldest animal of that type). They cannot select which specific animal they would like. Create the data structures to maintain this system and implement operations such as enqueue, dequeueAny, dequeueDog and dequeueCat.\r\n\r\nFor some reason, my dequeue any isn&#39;t working, specifically where I am comparing the date of the animal in the cat queue compared to the one in the dog queue. It only works when I start with adding a dog first in my array list but doesn&#39;t work when I add a cat first...\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n        AnimalShelter as = new AnimalShelter();\r\n        List&lt;Animal&gt; animals = Arrays.asList(new Cat(),new Dog(),new Cat(),new Dog(),new Cat(),\r\n        new Dog(),new Cat(),new Dog(),new Cat());\r\n\r\n        for (Animal animal : animals) {\r\n            as.enqueue(animal);\r\n        }\r\n        \r\n        System.out.println(as.cats.peek().dateArrived.compareTo(as.dogs.peek().dateArrived));\r\n        as.dequeueAny();\r\n        System.out.println(as.cats.size());\r\n        System.out.println(as.dogs.size());\r\n    }\r\n\r\npublic Animal dequeueAny() throws Exception {\r\n            boolean noCat = cats.isEmpty();\r\n            boolean noDog = dogs.isEmpty();\r\n            if (noCat &amp;&amp; noDog)\r\n                throw new Exception(&quot;There are no more animals!&quot;);\r\n            if (noCat)\r\n                return dogs.poll();\r\n            else if (noDog)\r\n                return cats.poll();\r\n            else\r\n                return cats.peek().dateArrived.compareTo(dogs.peek().dateArrived) &lt; 0 ? cats.poll(): dogs.poll();`\r\n        }\r\n\r\n```\r\n\r\nFor some reason the peek().compareTo() returns 0.","title":"DeQueueAny function not working as it&#39;s supposed to","body":"<p>So the prompt for this question is a popular one. It is as follows:</p>\n<p>An animal shelter holds only dogs and cats, and operates on a strictly &quot;first in, first out&quot; basis. People must adopt either the &quot;oldest&quot; (based on arrival time) of all animals at the shelter, or they can select whether they would prefer a dog or a cat (and will receive the oldest animal of that type). They cannot select which specific animal they would like. Create the data structures to maintain this system and implement operations such as enqueue, dequeueAny, dequeueDog and dequeueCat.</p>\n<p>For some reason, my dequeue any isn't working, specifically where I am comparing the date of the animal in the cat queue compared to the one in the dog queue. It only works when I start with adding a dog first in my array list but doesn't work when I add a cat first...</p>\n<pre><code>public static void main(String[] args) throws Exception {\n        AnimalShelter as = new AnimalShelter();\n        List&lt;Animal&gt; animals = Arrays.asList(new Cat(),new Dog(),new Cat(),new Dog(),new Cat(),\n        new Dog(),new Cat(),new Dog(),new Cat());\n\n        for (Animal animal : animals) {\n            as.enqueue(animal);\n        }\n        \n        System.out.println(as.cats.peek().dateArrived.compareTo(as.dogs.peek().dateArrived));\n        as.dequeueAny();\n        System.out.println(as.cats.size());\n        System.out.println(as.dogs.size());\n    }\n\npublic Animal dequeueAny() throws Exception {\n            boolean noCat = cats.isEmpty();\n            boolean noDog = dogs.isEmpty();\n            if (noCat &amp;&amp; noDog)\n                throw new Exception(&quot;There are no more animals!&quot;);\n            if (noCat)\n                return dogs.poll();\n            else if (noDog)\n                return cats.poll();\n            else\n                return cats.peek().dateArrived.compareTo(dogs.peek().dateArrived) &lt; 0 ? cats.poll(): dogs.poll();`\n        }\n\n</code></pre>\n<p>For some reason the peek().compareTo() returns 0.</p>\n"},{"tags":["java","android","soap","httpclient"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675196907,"post_id":75302656,"comment_id":132875855,"body_markdown":"SOAP is old and quite an exercise in Java, eg wsdl2java to create numerous client classes. If you are Spring competent then try https://www.baeldung.com/spring-soap-web-service.","body":"SOAP is old and quite an exercise in Java, eg wsdl2java to create numerous client classes. If you are Spring competent then try <a href=\"https://www.baeldung.com/spring-soap-web-service\" rel=\"nofollow noreferrer\">baeldung.com/spring-soap-web-service</a>."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675433781,"post_id":75315821,"comment_id":132933800,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75315821/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21007611,"reputation":27,"user_id":15437005,"display_name":"Pierre Tremblay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675283098,"creation_date":1675283098,"answer_id":75315821,"question_id":75302656,"body_markdown":"Well, I finally found the perfect &amp; simple solution at [https://technology.amis.nl/soa/how-to-call-a-call-a-webservice-directly-from-java-without-webservice-library/][1]\r\n\r\nOnly had to solve the &quot;Cleartext HTTP traffic to eero.lan not permitted&quot; because the equipment doesn&#39;t support HTTPS. Added this line to AndroidManifest.xml in the application tag: Android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n\r\n  [1]: https://technology.amis.nl/soa/how-to-call-a-call-a-webservice-directly-from-java-without-webservice-library","title":"SOAP to configure Wifi device","body":"<p>Well, I finally found the perfect &amp; simple solution at <a href=\"https://technology.amis.nl/soa/how-to-call-a-call-a-webservice-directly-from-java-without-webservice-library\" rel=\"nofollow noreferrer\">https://technology.amis.nl/soa/how-to-call-a-call-a-webservice-directly-from-java-without-webservice-library/</a></p>\n<p>Only had to solve the &quot;Cleartext HTTP traffic to eero.lan not permitted&quot; because the equipment doesn't support HTTPS. Added this line to AndroidManifest.xml in the application tag: Android:usesCleartextTraffic=&quot;true&quot;</p>\n"}],"owner":{"account_id":21007611,"reputation":27,"user_id":15437005,"display_name":"Pierre Tremblay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75315821,"answer_count":1,"score":0,"last_activity_date":1675283098,"creation_date":1675196112,"question_id":75302656,"body_markdown":"Using SoapUI, I send requests to a local Wifi device and get responses just fine. I would like to add a few of these to my Java/Android app just to do a simple check in the responses. For example, does the request below returns the string &quot;apiVersion&gt;1.1.4&lt;&quot; in the response? Everything I found so far is very old and I&#39;m having a difficult time figuring it out. Any help is much appreciated!\r\n\r\n\r\n```xml\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:sdk=&quot;http://eero.lan/sdk/&quot;&gt;\r\n   &lt;soapenv:Header/&gt;\r\n   &lt;soapenv:Body&gt;\r\n      &lt;sdk:getVersion/&gt;\r\n   &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\nResponse:\r\n\r\n```xml\r\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ns1=&quot;http://eero.lan/sdk/&quot;&gt;\r\n   &lt;SOAP-ENV:Body&gt;\r\n      &lt;ns1:getVersionResponse&gt;\r\n         &lt;versionNumber&gt;\r\n            &lt;apiVersion&gt;1.1.4&lt;/apiVersion&gt;\r\n            &lt;firmwareVersion&gt;2.1.8&lt;/firmwareVersion&gt;\r\n         &lt;/versionNumber&gt;\r\n      &lt;/ns1:getVersionResponse&gt;\r\n   &lt;/SOAP-ENV:Body&gt;\r\n&lt;/SOAP-ENV:Envelope&gt;\r\n```\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"SOAP to configure Wifi device","body":"<p>Using SoapUI, I send requests to a local Wifi device and get responses just fine. I would like to add a few of these to my Java/Android app just to do a simple check in the responses. For example, does the request below returns the string &quot;apiVersion&gt;1.1.4&lt;&quot; in the response? Everything I found so far is very old and I'm having a difficult time figuring it out. Any help is much appreciated!</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:sdk=&quot;http://eero.lan/sdk/&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;sdk:getVersion/&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Response:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ns1=&quot;http://eero.lan/sdk/&quot;&gt;\n   &lt;SOAP-ENV:Body&gt;\n      &lt;ns1:getVersionResponse&gt;\n         &lt;versionNumber&gt;\n            &lt;apiVersion&gt;1.1.4&lt;/apiVersion&gt;\n            &lt;firmwareVersion&gt;2.1.8&lt;/firmwareVersion&gt;\n         &lt;/versionNumber&gt;\n      &lt;/ns1:getVersionResponse&gt;\n   &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n"},{"tags":["java","tomcat","servlets","system-properties","servletcontextlistener"],"answers":[{"tags":[],"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675283055,"creation_date":1675283055,"answer_id":75315806,"question_id":75270549,"body_markdown":"Putting the configuration into the Context is probably your best option. Note that Contexts can be defined in various ways, not just in `server.xml`.\r\n\r\nSee the [Defining a context][1] in the Tomcat 10.1 docs for details.\r\n\r\nFor our product, the same war file is deployed to the staging environment and the production environment. The differences between the environments are exhaustively described by the two Context descriptors (one for each environment).\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-10.1-doc/config/context.html#Defining_a_context","title":"Define environment variable for app in Tomcat, outside of deployment","body":"<p>Putting the configuration into the Context is probably your best option. Note that Contexts can be defined in various ways, not just in <code>server.xml</code>.</p>\n<p>See the <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/config/context.html#Defining_a_context\" rel=\"nofollow noreferrer\">Defining a context</a> in the Tomcat 10.1 docs for details.</p>\n<p>For our product, the same war file is deployed to the staging environment and the production environment. The differences between the environments are exhaustively described by the two Context descriptors (one for each environment).</p>\n"}],"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675283055,"creation_date":1674936604,"question_id":75270549,"body_markdown":"I need to provide a **config file path** to my Java web application that runs in Apache Tomcat 10.1. \r\n\r\nThe config path must be set **outside of the deployment**. It&#39;s a property of the machine / stage on which the application is deployed. And not an attribute of the application. So it **must not be set in the `web.xml`**.\r\n\r\nFor example `/srv/myapp/prod/config.ini` or `C:\\EclipseDeveloperOnWindows\\config.ini`. \r\n\r\nI&#39;ve thought about multiple options:\r\n\r\n* Operating system environment variable `MYAPPCONFIG`, like `PATH` or `JAVA_HOME`: Independent of my application and even independent of the Tomcat container. Downside: May become error-prone if I want to run multiple distributions / Tomcats with different configurations as the same system user. \r\n* Java system property as a command line option for Tomcat in `CATALINA_OPTS`, e.g. `-DmyApp.config=/some/path.ini` \r\n* [Tomcat **context parameter**][2] in `&lt;CATALINA_BASE&gt;\\conf\\server.xml`. This way, each Tomcat instance (one `CATALINA_HOME`, multiple `CATALINA_BASE`) could define a *different* value for the config path property. (Do I have to include a reference to the `server.xml` context parameter in the `web.xml`? And can I look it up from [`ServletContext`][1]?)\r\n* [Tomcat **environment entry**][3] in `&lt;CATALINA_BASE&gt;\\conf\\server.xml` - what are the differences / pros and cons of Tomcat context parameters vs. Tomcat environment entries? (Can I look it up from [`ServletContext`][1]?)\r\n* Something else, that maybe can be looked up using JNDI? \r\n\r\nDid I miss some options? And which one is recommended? Which approach do you use for what reason? \r\n\r\n[1]: https://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\r\n[2]: https://tomcat.apache.org/tomcat-10.0-doc/config/context.html#Context_Parameters \r\n[3]: https://tomcat.apache.org/tomcat-10.0-doc/config/context.html#Environment_Entries ","title":"Define environment variable for app in Tomcat, outside of deployment","body":"<p>I need to provide a <strong>config file path</strong> to my Java web application that runs in Apache Tomcat 10.1.</p>\n<p>The config path must be set <strong>outside of the deployment</strong>. It's a property of the machine / stage on which the application is deployed. And not an attribute of the application. So it <strong>must not be set in the <code>web.xml</code></strong>.</p>\n<p>For example <code>/srv/myapp/prod/config.ini</code> or <code>C:\\EclipseDeveloperOnWindows\\config.ini</code>.</p>\n<p>I've thought about multiple options:</p>\n<ul>\n<li>Operating system environment variable <code>MYAPPCONFIG</code>, like <code>PATH</code> or <code>JAVA_HOME</code>: Independent of my application and even independent of the Tomcat container. Downside: May become error-prone if I want to run multiple distributions / Tomcats with different configurations as the same system user.</li>\n<li>Java system property as a command line option for Tomcat in <code>CATALINA_OPTS</code>, e.g. <code>-DmyApp.config=/some/path.ini</code></li>\n<li><a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/context.html#Context_Parameters\" rel=\"nofollow noreferrer\">Tomcat <strong>context parameter</strong></a> in <code>&lt;CATALINA_BASE&gt;\\conf\\server.xml</code>. This way, each Tomcat instance (one <code>CATALINA_HOME</code>, multiple <code>CATALINA_BASE</code>) could define a <em>different</em> value for the config path property. (Do I have to include a reference to the <code>server.xml</code> context parameter in the <code>web.xml</code>? And can I look it up from <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\" rel=\"nofollow noreferrer\"><code>ServletContext</code></a>?)</li>\n<li><a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/context.html#Environment_Entries\" rel=\"nofollow noreferrer\">Tomcat <strong>environment entry</strong></a> in <code>&lt;CATALINA_BASE&gt;\\conf\\server.xml</code> - what are the differences / pros and cons of Tomcat context parameters vs. Tomcat environment entries? (Can I look it up from <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\" rel=\"nofollow noreferrer\"><code>ServletContext</code></a>?)</li>\n<li>Something else, that maybe can be looked up using JNDI?</li>\n</ul>\n<p>Did I miss some options? And which one is recommended? Which approach do you use for what reason?</p>\n"},{"tags":["java","spring","hibernate","jpa","database-design"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1672414180,"post_id":74962868,"comment_id":132286166,"body_markdown":"instead of many to many relation you can create your own many to many entity and had the extra isactivated there the relations then have to be many to one on that particular entity. basicly you are just creating by hand the extra table that is created but with  extra colums","body":"instead of many to many relation you can create your own many to many entity and had the extra isactivated there the relations then have to be many to one on that particular entity. basicly you are just creating by hand the extra table that is created but with  extra colums"},{"owner":{"account_id":3775685,"reputation":27,"user_id":3136586,"display_name":"steeve"},"score":0,"creation_date":1672414355,"post_id":74962868,"comment_id":132286226,"body_markdown":"@Anon so just create a new class (entity) UserDiscount with fields user_id and list of discounts?","body":"@Anon so just create a new class (entity) UserDiscount with fields user_id and list of discounts?"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1672414404,"post_id":74962868,"comment_id":132286239,"body_markdown":"more or less but no lists just ids and the boolean to activate and diactivate this should help you more then just a comment https://www.codejava.net/frameworks/hibernate/hibernate-many-to-many-association-with-extra-columns-in-join-table-example","body":"more or less but no lists just ids and the boolean to activate and diactivate this should help you more then just a comment <a href=\"https://www.codejava.net/frameworks/hibernate/hibernate-many-to-many-association-with-extra-columns-in-join-table-example\" rel=\"nofollow noreferrer\">codejava.net/frameworks/hibernate/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26484472,"reputation":26,"user_id":20123279,"display_name":"Flmzor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675282827,"creation_date":1675282827,"answer_id":75315771,"question_id":74962868,"body_markdown":"You need to create an entity class for your User_Discount table and add the additional fields you want to it. Get a User_Discount entity by user and change the flag in it.\r\n[check out this article.][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-many-to-many-association-with-extra-columns-when-using-jpa-and-hibernate/","title":"In what structure should I keep pair values from both hibernate entities","body":"<p>You need to create an entity class for your User_Discount table and add the additional fields you want to it. Get a User_Discount entity by user and change the flag in it.\n<a href=\"https://vladmihalcea.com/the-best-way-to-map-a-many-to-many-association-with-extra-columns-when-using-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">check out this article.</a></p>\n"}],"owner":{"account_id":3775685,"reputation":27,"user_id":3136586,"display_name":"steeve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75315771,"answer_count":1,"score":0,"last_activity_date":1675282827,"creation_date":1672412251,"question_id":74962868,"body_markdown":"I have two entities User and Discount.\r\nUser can have many discounts (bonuses, extra points whatever) and a discount can be applied to many users.\r\n\r\nWith these relational mappings I get three tables: User, Discount and User_Discount.\r\n\r\nI create public Discount (for all users), set isActivated = true and save the discount object in every user (not sure if it&#39;s good for performance).\r\n\r\nMy problem is, when I want to deactivate discount for one user -&gt; I get user by id, get discount object and set field isActivated to false and after that operation every user has this discount field set to false. So it&#39;s one shared object for every user. I want activate/deactivate separately for users. How to resolve that? In what structure should I keep this flag activated/deactivated?\r\n\r\nUser_Discount table I actually need to get info if a specific discount is assigned to any user and if I can delete it. Maybe I don&#39;t need this mapping?\r\n\r\n    @Data\r\n    @Entity\r\n    public class Discount {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String name;\r\n        private boolean isActivated;\r\n        private BigDecimal value;\r\n        private String discount_group;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(name = &quot;user_discount&quot;, joinColumns = @JoinColumn(name = &quot;discount_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n        @JsonIgnore\r\n        private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n    }\r\n    \r\n    @Data\r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long user_id;\r\n        private String firstName;\r\n        private String lastName;\r\n    \r\n        @ManyToMany(mappedBy = &quot;users&quot;)\r\n        private Set&lt;Discount&gt; discounts = new HashSet&lt;&gt;();\r\n    \r\n    }","title":"In what structure should I keep pair values from both hibernate entities","body":"<p>I have two entities User and Discount.\nUser can have many discounts (bonuses, extra points whatever) and a discount can be applied to many users.</p>\n<p>With these relational mappings I get three tables: User, Discount and User_Discount.</p>\n<p>I create public Discount (for all users), set isActivated = true and save the discount object in every user (not sure if it's good for performance).</p>\n<p>My problem is, when I want to deactivate discount for one user -&gt; I get user by id, get discount object and set field isActivated to false and after that operation every user has this discount field set to false. So it's one shared object for every user. I want activate/deactivate separately for users. How to resolve that? In what structure should I keep this flag activated/deactivated?</p>\n<p>User_Discount table I actually need to get info if a specific discount is assigned to any user and if I can delete it. Maybe I don't need this mapping?</p>\n<pre><code>@Data\n@Entity\npublic class Discount {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    private boolean isActivated;\n    private BigDecimal value;\n    private String discount_group;\n\n    @ManyToMany\n    @JoinTable(name = &quot;user_discount&quot;, joinColumns = @JoinColumn(name = &quot;discount_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    @JsonIgnore\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n}\n\n@Data\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long user_id;\n    private String firstName;\n    private String lastName;\n\n    @ManyToMany(mappedBy = &quot;users&quot;)\n    private Set&lt;Discount&gt; discounts = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n"},{"tags":["java","spring","logging","log4j","slf4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1675170022,"post_id":75296958,"comment_id":132867106,"body_markdown":"And what makes you think `org.springframework.boot:spring-boot-starter-logging` is for `log4j`? log4j support has been dropped some time ago, log4j2 support is still there however that requires an XML file to configure.","body":"And what makes you think <code>org.springframework.boot:spring-boot-starter-logging</code> is for <code>log4j</code>? log4j support has been dropped some time ago, log4j2 support is still there however that requires an XML file to configure."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1675170102,"post_id":75296958,"comment_id":132867135,"body_markdown":"By default, Spring Boot uses logback, not log4j.","body":"By default, Spring Boot uses logback, not log4j."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1675170701,"post_id":75296958,"comment_id":132867327,"body_markdown":"@RobSpoor so, do I need to include log4j dependency? I did it, but nothing changed. And in addition - it seems the Slf4j doesn&#39;t read log4j.properties. So, I agree with you, but how to solve this issue? Can I use Slf4j annotation instead Logger class for logging into the file?","body":"@RobSpoor so, do I need to include log4j dependency? I did it, but nothing changed. And in addition - it seems the Slf4j doesn&#39;t read log4j.properties. So, I agree with you, but how to solve this issue? Can I use Slf4j annotation instead Logger class for logging into the file?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1675179513,"post_id":75296958,"comment_id":132870576,"body_markdown":"If you want to use log4j 1.x, I&#39;d go for reload4j. It&#39;s a fork that fixes some bugs, and is still maintained unlike log4j 1.x itself. I think you can add `slf4j-reload4j` as dependency, but you must also exclude any logback dependency, which probably is a transitive dependency. Otherwise you have two different SLF4J bindings which also won&#39;t work.","body":"If you want to use log4j 1.x, I&#39;d go for reload4j. It&#39;s a fork that fixes some bugs, and is still maintained unlike log4j 1.x itself. I think you can add <code>slf4j-reload4j</code> as dependency, but you must also exclude any logback dependency, which probably is a transitive dependency. Otherwise you have two different SLF4J bindings which also won&#39;t work."}],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1675285521,"post_id":75315753,"comment_id":132898482,"body_markdown":"To remove all &quot;x to Logback&quot; bridges: 1. add [`spring-boot-starter`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter) explicitly (it is a common dependency of most starters), 2. exclude `spring-boot-starter-logging` from `spring-boot-starter`. This should cut the dependency paths to all Logback-related artifacts.","body":"To remove all &quot;x to Logback&quot; bridges: 1. add <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter\" rel=\"nofollow noreferrer\"><code>spring-boot-starter</code></a> explicitly (it is a common dependency of most starters), 2. exclude <code>spring-boot-starter-logging</code> from <code>spring-boot-starter</code>. This should cut the dependency paths to all Logback-related artifacts."}],"tags":[],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675282737,"creation_date":1675282737,"answer_id":75315753,"question_id":75296958,"body_markdown":"I found a solution:\r\n\r\n1.\r\n\r\nFirst of all, we need to exclude logback from the dependencies.\r\nLockback is included in the `spring-boot-starter-web` and we can do it with gradle in the following way:\r\n\r\n```groovy\r\n    implementation (&quot;org.springframework.boot:spring-boot-starter-web:${spring_boot_version}&quot;){\r\n        exclude group:&quot;org.apache.logging.log4j&quot;, module:&quot;log4j-to-slf4j&quot;\r\n    }\r\n```\r\n\r\nIn my case, the `logback` also supplied with `spring-boot-starter-validation` and in some reason gradle doesn&#39;t want to exclude `logback` from the both dependenisies. The working solution in this case is adding exclusion in the `configurations` block:\r\n\r\n```groovy\r\nconfigurations {\r\n    all {\r\n        exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n    }\r\n}\r\n```\r\n\r\n2. \r\n\r\nI added `spring-boot-starter-log4j2` dependency:\r\n\r\n```groovy\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-log4j2&quot;\r\n```\r\n\r\n3.\r\n\r\nI created `log4j2-spring.xml` file in resources directory:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout\r\n                    pattern=&quot;%style{%d{ISO8601}}{black} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow}: %msg%n%throwable&quot; /&gt;\r\n        &lt;/Console&gt;\r\n\r\n        &lt;RollingFile name=&quot;RollingFile&quot;\r\n                     fileName=&quot;./logs/spring-boot-logger-log4j2.log&quot;\r\n                     filePattern=&quot;./logs/$${date:yyyy-MM}/spring-boot-logger-log4j2-%d{-dd-MMMM-yyyy}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;!-- rollover on startup, daily and when the file reaches\r\n                    10 MegaBytes --&gt;\r\n                &lt;OnStartupTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy\r\n                        size=&quot;10 MB&quot; /&gt;\r\n                &lt;TimeBasedTriggeringPolicy /&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;/Root&gt;\r\n\r\n        &lt;!-- LOG &quot;com.proxy*&quot; at TRACE level --&gt;\r\n        &lt;Logger name=&quot;com.proxy&quot; level=&quot;trace&quot;&gt;&lt;/Logger&gt;\r\n    &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n---\r\n\r\nPS. This solution tested with `spring_boot_version = &#39;2.6.6&#39;`","title":"Save logs to file with Spring Boot. Issue: Log4j do not log to file when I use @Slf4j","body":"<p>I found a solution:</p>\n<p>1.</p>\n<p>First of all, we need to exclude logback from the dependencies.\nLockback is included in the <code>spring-boot-starter-web</code> and we can do it with gradle in the following way:</p>\n<pre><code>    implementation (&quot;org.springframework.boot:spring-boot-starter-web:${spring_boot_version}&quot;){\n        exclude group:&quot;org.apache.logging.log4j&quot;, module:&quot;log4j-to-slf4j&quot;\n    }\n</code></pre>\n<p>In my case, the <code>logback</code> also supplied with <code>spring-boot-starter-validation</code> and in some reason gradle doesn't want to exclude <code>logback</code> from the both dependenisies. The working solution in this case is adding exclusion in the <code>configurations</code> block:</p>\n<pre><code>configurations {\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p>I added <code>spring-boot-starter-log4j2</code> dependency:</p>\n<pre><code>    implementation &quot;org.springframework.boot:spring-boot-starter-log4j2&quot;\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p>I created <code>log4j2-spring.xml</code> file in resources directory:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout\n                    pattern=&quot;%style{%d{ISO8601}}{black} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow}: %msg%n%throwable&quot; /&gt;\n        &lt;/Console&gt;\n\n        &lt;RollingFile name=&quot;RollingFile&quot;\n                     fileName=&quot;./logs/spring-boot-logger-log4j2.log&quot;\n                     filePattern=&quot;./logs/$${date:yyyy-MM}/spring-boot-logger-log4j2-%d{-dd-MMMM-yyyy}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;!-- rollover on startup, daily and when the file reaches\n                    10 MegaBytes --&gt;\n                &lt;OnStartupTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy\n                        size=&quot;10 MB&quot; /&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\n        &lt;/Root&gt;\n\n        &lt;!-- LOG &quot;com.proxy*&quot; at TRACE level --&gt;\n        &lt;Logger name=&quot;com.proxy&quot; level=&quot;trace&quot;&gt;&lt;/Logger&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<hr />\n<p>PS. This solution tested with <code>spring_boot_version = '2.6.6'</code></p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75315753,"answer_count":1,"score":1,"last_activity_date":1675282804,"creation_date":1675167190,"question_id":75296958,"body_markdown":"I use Slf4j with the spring boot project. I managed log4j.properties, and have logs in the console, but can&#39;t implement logging to the file.\r\n\r\n`log4j.properties`:\r\n\r\n```\r\n# Root logger option\r\nlog4j.rootLogger=INFO, ERROR, file, stdout\r\n\r\n# Direct log messages to a log file\r\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.file.File=${user.dir}/Log4j/log4j-test.log\r\nlog4j.appender.file.MaxFileSize=10MB\r\nlog4j.appender.file.MaxBackupIndex=10\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n#do not append the old file. Create a new log file everytime\r\nlog4j.appender.dest1.Append=false\r\n\r\n# Direct log messages to stdout\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.Target=System.out\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.layout.ConversionPattern=[%-4p] %d{dd-MM-yy HH:mm:ss} %t | %m%n\r\n\r\nlog4j2.formatMsgNoLookups=true\r\ncom.sun.jndi.rmi.object.trustURLCodebase=false\r\ncom.sun.jndi.cosnaming.object.trustURLCodebase=false\r\n\r\n```\r\n\r\nAlso, I tried such options:\r\n```\r\nlog4j.appender.NotConsole=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.NotConsole.fileName=Log4j/log4j-test.log\r\nlog4j.appender.NotConsole.maxFileSize=20MB\r\n```\r\n\r\nLogging example:\r\n```\r\n@Slf4j\r\npublic class A{\r\n    public void m(){\r\n        log.info(&quot;log&quot;);\r\n    }\r\n}\r\n```\r\n\r\n- Dependency supplied with `org.springframework.boot:spring-boot-starter-logging:jar:2.6.6:`\r\n\r\n\r\nIn any case, I haven&#39;t a file in the result.\r\n\r\nHow to correctly create logging to the file with this solution?","title":"Save logs to file with Spring Boot. Issue: Log4j do not log to file when I use @Slf4j","body":"<p>I use Slf4j with the spring boot project. I managed log4j.properties, and have logs in the console, but can't implement logging to the file.</p>\n<p><code>log4j.properties</code>:</p>\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, ERROR, file, stdout\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=${user.dir}/Log4j/log4j-test.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n#do not append the old file. Create a new log file everytime\nlog4j.appender.dest1.Append=false\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=[%-4p] %d{dd-MM-yy HH:mm:ss} %t | %m%n\n\nlog4j2.formatMsgNoLookups=true\ncom.sun.jndi.rmi.object.trustURLCodebase=false\ncom.sun.jndi.cosnaming.object.trustURLCodebase=false\n\n</code></pre>\n<p>Also, I tried such options:</p>\n<pre><code>log4j.appender.NotConsole=org.apache.log4j.RollingFileAppender\nlog4j.appender.NotConsole.fileName=Log4j/log4j-test.log\nlog4j.appender.NotConsole.maxFileSize=20MB\n</code></pre>\n<p>Logging example:</p>\n<pre><code>@Slf4j\npublic class A{\n    public void m(){\n        log.info(&quot;log&quot;);\n    }\n}\n</code></pre>\n<ul>\n<li>Dependency supplied with <code>org.springframework.boot:spring-boot-starter-logging:jar:2.6.6:</code></li>\n</ul>\n<p>In any case, I haven't a file in the result.</p>\n<p>How to correctly create logging to the file with this solution?</p>\n"},{"tags":["java","htmlunit-driver"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1516085186,"post_id":48275216,"comment_id":83534290,"body_markdown":"Those are not warnings, they are errors.","body":"Those are not warnings, they are errors."},{"owner":{"account_id":2717220,"reputation":977,"user_id":2344323,"accept_rate":67,"display_name":"Febian Shah"},"score":1,"creation_date":1516121300,"post_id":48275216,"comment_id":83556662,"body_markdown":"Is there a way to avoid them?","body":"Is there a way to avoid them?"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1675289256,"post_id":48275216,"comment_id":132899463,"body_markdown":"Do you own the code for the website you are loading with HTMLUnit? If so, then maybe you can figure out what is causing the errors on in the web site&#39;s code and fix it there.","body":"Do you own the code for the website you are loading with HTMLUnit? If so, then maybe you can figure out what is causing the errors on in the web site&#39;s code and fix it there."}],"answers":[{"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1675282864,"post_id":75315675,"comment_id":132897699,"body_markdown":"Turning off logging just hides the actual problem and doesn&#39;t solve it.","body":"Turning off logging just hides the actual problem and doesn&#39;t solve it."},{"owner":{"account_id":2137582,"reputation":11,"user_id":1896964,"display_name":"zviad"},"score":0,"creation_date":1675284386,"post_id":75315675,"comment_id":132898144,"body_markdown":"in that case, the task is turn off logging, you can&#39;t fix the javascript error for an external web page from the HTTP client, sometimes you just need to ignore them","body":"in that case, the task is turn off logging, you can&#39;t fix the javascript error for an external web page from the HTTP client, sometimes you just need to ignore them"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1675289187,"post_id":75315675,"comment_id":132899441,"body_markdown":"ok, I see what you mean. I didn&#39;t look closely enough at what the code is doing and assumed these were errors from the OP&#39;s own code.","body":"ok, I see what you mean. I didn&#39;t look closely enough at what the code is doing and assumed these were errors from the OP&#39;s own code."}],"tags":[],"owner":{"account_id":2137582,"reputation":11,"user_id":1896964,"display_name":"zviad"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675282706,"creation_date":1675282297,"answer_id":75315675,"question_id":48275216,"body_markdown":"you need to Disable logging from logback XML \r\nthis kind of deactivation \r\n\r\n\r\n    java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF);\r\n\r\nnot working, I think they using locgback and it can&#39;t be disabled from the log4j config too\r\n \r\n    com.gargoylesoftware.htmlunit.level = WARNING\r\n    com.gargoylesoftware.htmlunit.javascript.StrictErrorReporter.level = OFF \r\n\r\nyou need something like that in your logback.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n        &lt;logger name=&quot;com.gargoylesoftware.htmlunit.javascript.StrictErrorReporter&quot; level=&quot;OFF&quot; /&gt;\r\n    &lt;/configuration&gt; \r\n\r\n","title":"Cannot get HTMLUnitDriver Warnings Off","body":"<p>you need to Disable logging from logback XML\nthis kind of deactivation</p>\n<pre><code>java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF);\n</code></pre>\n<p>not working, I think they using locgback and it can't be disabled from the log4j config too</p>\n<pre><code>com.gargoylesoftware.htmlunit.level = WARNING\ncom.gargoylesoftware.htmlunit.javascript.StrictErrorReporter.level = OFF \n</code></pre>\n<p>you need something like that in your logback.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n    &lt;logger name=&quot;com.gargoylesoftware.htmlunit.javascript.StrictErrorReporter&quot; level=&quot;OFF&quot; /&gt;\n&lt;/configuration&gt; \n</code></pre>\n"}],"owner":{"account_id":2717220,"reputation":977,"user_id":2344323,"accept_rate":67,"display_name":"Febian Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675282706,"creation_date":1516084023,"question_id":48275216,"body_markdown":"I cannot get the HTML Unit Driver warnings to turn off. The code below reduced the original amount of warnings. Cannot get the last bit to turn off. \r\n\r\nI cannot get the HTML Unit Driver warnings to turn off. The code below reduced the original amount of warnings. Cannot get the last bit to turn off. \r\n\r\nMy code: \r\n\r\n      LogFactory.getFactory().setAttribute(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\r\n    \r\n      java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\r\n      java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\r\n      java.util.logging.Logger.getLogger(&quot;org.apache.http&quot;).setLevel(java.util.logging.Level.OFF);\r\n      java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF); \r\n    \r\n      htmlDriver = new HtmlUnitDriver(browserVersion, isJavaScriptEnabled) {\r\n        @Override\r\n        protected WebClient modifyWebClient(WebClient client) {\r\n          WebClient modifiedClient = super.modifyWebClient(client);\r\n    \r\n          modifiedClient.getOptions().setThrowExceptionOnScriptError(false); // see here\r\n          modifiedClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n          modifiedClient.getOptions().setJavaScriptEnabled(isJavaScriptEnabled);\r\n          modifiedClient.setCssErrorHandler(new SilentCssErrorHandler());\r\n          modifiedClient.getOptions().setCssEnabled(false);\r\n          modifiedClient.getOptions().setPrintContentOnFailingStatusCode(false);\r\n    \r\n          modifiedClient.getOptions().setTimeout(10000);\r\n    \r\n          modifiedClient.setIncorrectnessListener(new IncorrectnessListener() {\r\n    \r\n            @Override\r\n            public void notify(String arg0, Object arg1) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n          });\r\n    \r\n          modifiedClient.setJavaScriptErrorListener(new JavaScriptErrorListener() {\r\n            @Override\r\n            public void timeoutError(HtmlPage arg0, long arg1, long arg2) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n    \r\n            @Override\r\n            public void scriptException(HtmlPage arg0, ScriptException arg1) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n    \r\n            @Override\r\n            public void malformedScriptURL(HtmlPage arg0, String arg1, MalformedURLException arg2) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n    \r\n            @Override\r\n            public void loadScriptError(HtmlPage page, java.net.URL scriptUrl,\r\n                                        Exception exception) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n          });\r\n          modifiedClient.setHTMLParserListener(new HTMLParserListener() {\r\n    \r\n            @Override\r\n            public void error(String message, java.net.URL url, String html, int line, int column,\r\n                              String key) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n    \r\n            @Override\r\n            public void warning(String message, java.net.URL url, String html, int line, int column,\r\n                                String key) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n          });\r\n    \r\n          modifiedClient.setHTMLParserListener(new HTMLParserListener() {\r\n            @Override\r\n            public void error(String message, URL url, String html, int line, int column,\r\n                              String key) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n    \r\n            @Override\r\n            public void warning(String message, URL url, String html, int line, int column,\r\n                                String key) {\r\n              // TODO Auto-generated method stub\r\n            }\r\n          });\r\n          modifiedClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n          modifiedClient.getOptions().setThrowExceptionOnScriptError(false);\r\n    \r\n    \r\n          return modifiedClient;\r\n        }\r\n      };\r\n\r\nBut I still get: \r\n\r\n    01:12:36.667 [Thread-10] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: \r\n    01:12:37.264 [Thread-10] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: &#39;*,:x&#39; error: Invalid selector: :x).] sourceName=[http://code.jquery.com/jquery-1.9.1.js] line=[4224] lineSource=[null] lineOffset=[0]\r\n    01:12:38.393 [JS executor for com.gargoylesoftware.htmlunit.WebClient@4c085759] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: &#39;*,:x&#39; error: Invalid selector: :x).] sourceName=[http://code.jquery.com/jquery-1.9.1.js] line=[4224] lineSource=[null] lineOffset=[0]\r\n    01:12:41.251 [JS executor for com.gargoylesoftware.htmlunit.WebClient@4c085759] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: &#39;:text&#39; error: Invalid selector: :text).] sourceName=[http://code.jquery.com/jquery-1.9.1.js] line=[3983] lineSource=[null] lineOffset=[0]\r\n    01:12:41.256 [JS executor for com.gargoylesoftware.htmlunit.WebClient@4c085759] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: &#39;:text&#39; error: Invalid selector: :text).] sourceName=[http://code.jquery.com/jquery-1.9.1.js] line=[3983] lineSource=[null] lineOffset=[0]\r\n\r\nHow do you turn off these messages completely? \r\n","title":"Cannot get HTMLUnitDriver Warnings Off","body":"<p>I cannot get the HTML Unit Driver warnings to turn off. The code below reduced the original amount of warnings. Cannot get the last bit to turn off. </p>\n\n<p>I cannot get the HTML Unit Driver warnings to turn off. The code below reduced the original amount of warnings. Cannot get the last bit to turn off. </p>\n\n<p>My code: </p>\n\n<pre><code>  LogFactory.getFactory().setAttribute(\"org.apache.commons.logging.Log\", \"org.apache.commons.logging.impl.NoOpLog\");\n\n  java.util.logging.Logger.getLogger(\"org.apache.commons.httpclient\").setLevel(Level.OFF);\n  java.util.logging.Logger.getLogger(\"com.gargoylesoftware.htmlunit\").setLevel(java.util.logging.Level.OFF);\n  java.util.logging.Logger.getLogger(\"org.apache.http\").setLevel(java.util.logging.Level.OFF);\n  java.util.logging.Logger.getLogger(\"com.gargoylesoftware\").setLevel(Level.OFF); \n\n  htmlDriver = new HtmlUnitDriver(browserVersion, isJavaScriptEnabled) {\n    @Override\n    protected WebClient modifyWebClient(WebClient client) {\n      WebClient modifiedClient = super.modifyWebClient(client);\n\n      modifiedClient.getOptions().setThrowExceptionOnScriptError(false); // see here\n      modifiedClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n      modifiedClient.getOptions().setJavaScriptEnabled(isJavaScriptEnabled);\n      modifiedClient.setCssErrorHandler(new SilentCssErrorHandler());\n      modifiedClient.getOptions().setCssEnabled(false);\n      modifiedClient.getOptions().setPrintContentOnFailingStatusCode(false);\n\n      modifiedClient.getOptions().setTimeout(10000);\n\n      modifiedClient.setIncorrectnessListener(new IncorrectnessListener() {\n\n        @Override\n        public void notify(String arg0, Object arg1) {\n          // TODO Auto-generated method stub\n        }\n      });\n\n      modifiedClient.setJavaScriptErrorListener(new JavaScriptErrorListener() {\n        @Override\n        public void timeoutError(HtmlPage arg0, long arg1, long arg2) {\n          // TODO Auto-generated method stub\n        }\n\n        @Override\n        public void scriptException(HtmlPage arg0, ScriptException arg1) {\n          // TODO Auto-generated method stub\n        }\n\n        @Override\n        public void malformedScriptURL(HtmlPage arg0, String arg1, MalformedURLException arg2) {\n          // TODO Auto-generated method stub\n        }\n\n        @Override\n        public void loadScriptError(HtmlPage page, java.net.URL scriptUrl,\n                                    Exception exception) {\n          // TODO Auto-generated method stub\n        }\n      });\n      modifiedClient.setHTMLParserListener(new HTMLParserListener() {\n\n        @Override\n        public void error(String message, java.net.URL url, String html, int line, int column,\n                          String key) {\n          // TODO Auto-generated method stub\n        }\n\n        @Override\n        public void warning(String message, java.net.URL url, String html, int line, int column,\n                            String key) {\n          // TODO Auto-generated method stub\n        }\n      });\n\n      modifiedClient.setHTMLParserListener(new HTMLParserListener() {\n        @Override\n        public void error(String message, URL url, String html, int line, int column,\n                          String key) {\n          // TODO Auto-generated method stub\n        }\n\n        @Override\n        public void warning(String message, URL url, String html, int line, int column,\n                            String key) {\n          // TODO Auto-generated method stub\n        }\n      });\n      modifiedClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n      modifiedClient.getOptions().setThrowExceptionOnScriptError(false);\n\n\n      return modifiedClient;\n    }\n  };\n</code></pre>\n\n<p>But I still get: </p>\n\n<pre><code>01:12:36.667 [Thread-10] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: \n01:12:37.264 [Thread-10] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: '*,:x' error: Invalid selector: :x).] sourceName=[http://code.jquery.com/jquery-1.9.1.js] line=[4224] lineSource=[null] lineOffset=[0]\n01:12:38.393 [JS executor for com.gargoylesoftware.htmlunit.WebClient@4c085759] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: '*,:x' error: Invalid selector: :x).] sourceName=[http://code.jquery.com/jquery-1.9.1.js] line=[4224] lineSource=[null] lineOffset=[0]\n01:12:41.251 [JS executor for com.gargoylesoftware.htmlunit.WebClient@4c085759] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: ':text' error: Invalid selector: :text).] sourceName=[http://code.jquery.com/jquery-1.9.1.js] line=[3983] lineSource=[null] lineOffset=[0]\n01:12:41.256 [JS executor for com.gargoylesoftware.htmlunit.WebClient@4c085759] ERROR c.g.h.javascript.StrictErrorReporter - runtimeError: message=[An invalid or illegal selector was specified (selector: ':text' error: Invalid selector: :text).] sourceName=[http://code.jquery.com/jquery-1.9.1.js] line=[3983] lineSource=[null] lineOffset=[0]\n</code></pre>\n\n<p>How do you turn off these messages completely? </p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1430724750,"post_id":30024813,"comment_id":48166752,"body_markdown":"Next time you come across a question like this, I recommend you try it out first.","body":"Next time you come across a question like this, I recommend you try it out first."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1430724756,"post_id":30024813,"comment_id":48166758,"body_markdown":"Not sure why this is posted as a question when you can try it out yourself?","body":"Not sure why this is posted as a question when you can try it out yourself?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1430724814,"post_id":30024813,"comment_id":48166789,"body_markdown":"The JLS does not put any restriction where to put the `default` case as it&#39;s a `SwitchLabel` like any other. The only restriction is that you cannot have more than 1 `default` case in the same switch statement.","body":"The JLS does not put any restriction where to put the <code>default</code> case as it&#39;s a <code>SwitchLabel</code> like any other. The only restriction is that you cannot have more than 1 <code>default</code> case in the same switch statement."},{"owner":{"account_id":168481,"reputation":4079,"user_id":393965,"accept_rate":74,"display_name":"Kricket"},"score":10,"creation_date":1430725752,"post_id":30024813,"comment_id":48167259,"body_markdown":"Of course I could try it out. I posted it as a question for the community. Geez.","body":"Of course I could try it out. I posted it as a question for the community. Geez."},{"owner":{"account_id":1006766,"reputation":2409,"user_id":1020311,"accept_rate":55,"display_name":"zundi"},"score":7,"creation_date":1438105267,"post_id":30024813,"comment_id":51308612,"body_markdown":"Arrived here by Googling this question. Thanks @KelseyRider","body":"Arrived here by Googling this question. Thanks @KelseyRider"},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":1,"creation_date":1545003898,"post_id":30024813,"comment_id":94463528,"body_markdown":"I tried it myself but still googled this to see what others have to say about this.. Thank you @Kricket","body":"I tried it myself but still googled this to see what others have to say about this.. Thank you @Kricket"}],"answers":[{"tags":[],"owner":{"account_id":1437345,"reputation":3698,"user_id":1358430,"display_name":"duffy356"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1430724677,"creation_date":1430724677,"answer_id":30024834,"question_id":30024813,"body_markdown":"no, the default statement could also be the first one.","title":"Must the &quot;default&quot; case come last in a switch?","body":"<p>no, the default statement could also be the first one.</p>\n"},{"comments":[{"owner":{"account_id":2195588,"reputation":1361,"user_id":1941359,"display_name":"AlexO"},"score":0,"creation_date":1663855421,"post_id":30024851,"comment_id":130341594,"body_markdown":"in some rare cases it could be more readable to place it first (or not last), e.g. if you have lots of switch statements that return a boolean (true/false) where you want the 1st return to be false and the 2nd true for consistency across all statements","body":"in some rare cases it could be more readable to place it first (or not last), e.g. if you have lots of switch statements that return a boolean (true/false) where you want the 1st return to be false and the 2nd true for consistency across all statements"}],"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1430724761,"creation_date":1430724761,"answer_id":30024851,"question_id":30024813,"body_markdown":"No.. But it is suggested to put it at the end to make the code more readable. The code shown below works fine.\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint i = 5;\r\n\t\tswitch (i) {\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;hi&quot;);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 0:\r\n\t\t\tSystem.out.println(&quot;0&quot;);\r\n\t\t\tbreak;\r\n\t\tcase 5:\r\n\t\t\tSystem.out.println(&quot;5&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n    O/P : 5","title":"Must the &quot;default&quot; case come last in a switch?","body":"<p>No.. But it is suggested to put it at the end to make the code more readable. The code shown below works fine.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    int i = 5;\n    switch (i) {\n    default:\n        System.out.println(\"hi\");\n        break;\n\n    case 0:\n        System.out.println(\"0\");\n        break;\n    case 5:\n        System.out.println(\"5\");\n        break;\n    }\n}\n\nO/P : 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1588796698,"creation_date":1588796698,"answer_id":61644703,"question_id":30024813,"body_markdown":"The *default* statement can be placed anywhere inside switch statement body   \r\n \r\n       switch (i) {\r\n\r\n              // the default statement can be placed anywhere inside the switch statement body\r\n\r\n        }","title":"Must the &quot;default&quot; case come last in a switch?","body":"<p>The <em>default</em> statement can be placed anywhere inside switch statement body   </p>\n\n<pre><code>   switch (i) {\n\n          // the default statement can be placed anywhere inside the switch statement body\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675282285,"creation_date":1668083200,"answer_id":74388992,"question_id":30024813,"body_markdown":"It surely is not necessary, but beware it will behave a lot differently in case fall-through is used.\r\n\r\n```java\r\nint[] test = {0,1,5,23,24};\r\nfor (int t: test) {\r\n\tSystem.out.println(String.format(&quot;Running test: %s&quot;, t));\r\n\tswitch(t) {\r\n\tcase 0:\r\n\t\tSystem.out.println(String.format(&quot;Match: %s&quot;, 0));\r\n\tdefault:\r\n\t\tSystem.out.println(String.format(&quot;Match: %s&quot;, &quot;default&quot;));\r\n\tcase 23:\r\n\t\tSystem.out.println(String.format(&quot;Match: %s&quot;, 23));\r\n\t}\r\n}\r\n```\r\nPrints:\r\n```\r\nRunning test: 0\r\nMatch: 0\r\nMatch: default\r\nMatch: 23\r\nRunning test: 1\r\nMatch: default\r\nMatch: 23\r\nRunning test: 5\r\nMatch: default\r\nMatch: 23\r\nRunning test: 23\r\nMatch: 23\r\nRunning test: 24\r\nMatch: default\r\nMatch: 23\r\n```\r\n\r\nThis simply speaking means:\r\n - if there is an exact (non-default) `case` defined **after** `default` case it is matched first instead of the `default` one\r\n - if there is not, then the `default` case understandably makes all tested values fall through from itself down\r\n\r\nObserve especially the test for `23` - the result would be different if `case 23` and `default` was swapped (both will be matched then).\r\n\r\nDemo: https://ideone.com/LyvjXQ","title":"Must the &quot;default&quot; case come last in a switch?","body":"<p>It surely is not necessary, but beware it will behave a lot differently in case fall-through is used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] test = {0,1,5,23,24};\nfor (int t: test) {\n    System.out.println(String.format(&quot;Running test: %s&quot;, t));\n    switch(t) {\n    case 0:\n        System.out.println(String.format(&quot;Match: %s&quot;, 0));\n    default:\n        System.out.println(String.format(&quot;Match: %s&quot;, &quot;default&quot;));\n    case 23:\n        System.out.println(String.format(&quot;Match: %s&quot;, 23));\n    }\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>Running test: 0\nMatch: 0\nMatch: default\nMatch: 23\nRunning test: 1\nMatch: default\nMatch: 23\nRunning test: 5\nMatch: default\nMatch: 23\nRunning test: 23\nMatch: 23\nRunning test: 24\nMatch: default\nMatch: 23\n</code></pre>\n<p>This simply speaking means:</p>\n<ul>\n<li>if there is an exact (non-default) <code>case</code> defined <strong>after</strong> <code>default</code> case it is matched first instead of the <code>default</code> one</li>\n<li>if there is not, then the <code>default</code> case understandably makes all tested values fall through from itself down</li>\n</ul>\n<p>Observe especially the test for <code>23</code> - the result would be different if <code>case 23</code> and <code>default</code> was swapped (both will be matched then).</p>\n<p>Demo: <a href=\"https://ideone.com/LyvjXQ\" rel=\"nofollow noreferrer\">https://ideone.com/LyvjXQ</a></p>\n"}],"owner":{"account_id":168481,"reputation":4079,"user_id":393965,"accept_rate":74,"display_name":"Kricket"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11363,"favorite_count":0,"down_vote_count":8,"up_vote_count":25,"accepted_answer_id":30024851,"answer_count":4,"score":17,"last_activity_date":1675282285,"creation_date":1430724606,"question_id":30024813,"body_markdown":"In a switch statement in java, is it necessary that the &quot;default&quot; case be the last one? For example, can I do something like the following:\r\n\r\n    switch(x) {\r\n    case A: ....;\r\n    default: ....;\r\n    case B: ....;\r\n    }","title":"Must the &quot;default&quot; case come last in a switch?","body":"<p>In a switch statement in java, is it necessary that the \"default\" case be the last one? For example, can I do something like the following:</p>\n\n<pre><code>switch(x) {\ncase A: ....;\ndefault: ....;\ncase B: ....;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","graphql","graphql-java"],"answers":[{"comments":[{"owner":{"account_id":379932,"reputation":126,"user_id":733639,"accept_rate":100,"display_name":"juggernaut"},"score":0,"creation_date":1675103635,"post_id":75266625,"comment_id":132852545,"body_markdown":"This did not work. my object i flux of flux of Scala maps, when i am trying to map it to my GQL schema, its throwing cannot cast scala map.","body":"This did not work. my object i flux of flux of Scala maps, when i am trying to map it to my GQL schema, its throwing cannot cast scala map."},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1675130451,"post_id":75266625,"comment_id":132858421,"body_markdown":"Not sure the certain problem in your case, my example is a complete application and working well. From your log, the `data` in response is a Map, it is same as my case. And your `log.info(d.toString());` line is also problematic.","body":"Not sure the certain problem in your case, my example is a complete application and working well. From your log, the <code>data</code> in response is a Map, it is same as my case. And your <code>log.info(d.toString());</code> line is also problematic."},{"owner":{"account_id":379932,"reputation":126,"user_id":733639,"accept_rate":100,"display_name":"juggernaut"},"score":0,"creation_date":1675213455,"post_id":75266625,"comment_id":132879369,"body_markdown":"log.info(d.toString());, was using this just to see whats there and to break points so you can ignore that. THe problem is my subscription is a Flux&lt;Flux&lt;Type&gt;&gt; not Flux&lt;Type&gt; this is because my data resolver returns a flux from upstream. So flux of flux needs to be flatmapped","body":"log.info(d.toString());, was using this just to see whats there and to break points so you can ignore that. THe problem is my subscription is a Flux&lt;Flux&lt;Type&gt;&gt; not Flux&lt;Type&gt; this is because my data resolver returns a flux from upstream. So flux of flux needs to be flatmapped"},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1675217148,"post_id":75266625,"comment_id":132879861,"body_markdown":"I do not think Flux&lt;Flux&gt;is correct  for a subscription.  If you want to log the data in the Mono/Flux,  add a `log()` to it and see the details directly.  log.info( a flux/mono.tostring) is wired,  I do not check the toString impl, it could be a blocking.","body":"I do not think Flux&lt;Flux&gt;is correct  for a subscription.  If you want to log the data in the Mono/Flux,  add a <code>log()</code> to it and see the details directly.  log.info( a flux/mono.tostring) is wired,  I do not check the toString impl, it could be a blocking."},{"owner":{"account_id":379932,"reputation":126,"user_id":733639,"accept_rate":100,"display_name":"juggernaut"},"score":0,"creation_date":1675282127,"post_id":75266625,"comment_id":132897444,"body_markdown":"unfortunately, my upstream provides a flux as return type and it gets wrapped in another flux by default by the subscription. Not sure how to faltten it or just return the orginal flux as that does not seem to work","body":"unfortunately, my upstream provides a flux as return type and it gets wrapped in another flux by default by the subscription. Not sure how to faltten it or just return the orginal flux as that does not seem to work"},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1675302638,"post_id":75266625,"comment_id":132901867,"body_markdown":"Flux `concat` and `concatMap` can concat multi fluxs into one flux, but the subscription publisher requires a connectable flux, a generic flux will not work.","body":"Flux <code>concat</code> and <code>concatMap</code> can concat multi fluxs into one flux, but the subscription publisher requires a connectable flux, a generic flux will not work."},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1675303117,"post_id":75266625,"comment_id":132901945,"body_markdown":"But your case, create a flux based on an existing flux, use a Flux.from is ok.","body":"But your case, create a flux based on an existing flux, use a Flux.from is ok."}],"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674960031,"creation_date":1674897871,"answer_id":75266625,"question_id":75214290,"body_markdown":"It is easy to map the result to your gql types.\r\n\r\n1. Inject a `objectMapper`. \r\n2. convert the `data` value(in the response map) to your gql types.\r\n\r\nThere is an example from my Spring Graphql Sample project(written in Kotlin).\r\n\r\n```kotlin \r\nclient.document(subscriptionQuery)\r\n    .executeSubscription()\r\n    .map { response: ClientGraphQlResponse -&gt;\r\n         objectMapper.convertValue(\r\n             response.getData&lt;Map&lt;String, Any&gt;&gt;()!![&quot;commentAdded&quot;],\r\n             Comment::class.java\r\n         )\r\n     }\r\n     .subscribe { comments.add(it) }\r\n```\r\n\r\nCheck [the complete integration tests in my example project](https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql-rsocket-kotlin-co/src/test/kotlin/com/example/demo/IntegrationTests.kt) which uses `RSocketGraphQlClient`.","title":"Graphql Spring boot subscription client","body":"<p>It is easy to map the result to your gql types.</p>\n<ol>\n<li>Inject a <code>objectMapper</code>.</li>\n<li>convert the <code>data</code> value(in the response map) to your gql types.</li>\n</ol>\n<p>There is an example from my Spring Graphql Sample project(written in Kotlin).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>client.document(subscriptionQuery)\n    .executeSubscription()\n    .map { response: ClientGraphQlResponse -&gt;\n         objectMapper.convertValue(\n             response.getData&lt;Map&lt;String, Any&gt;&gt;()!![&quot;commentAdded&quot;],\n             Comment::class.java\n         )\n     }\n     .subscribe { comments.add(it) }\n</code></pre>\n<p>Check <a href=\"https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql-rsocket-kotlin-co/src/test/kotlin/com/example/demo/IntegrationTests.kt\" rel=\"nofollow noreferrer\">the complete integration tests in my example project</a> which uses <code>RSocketGraphQlClient</code>.</p>\n"}],"owner":{"account_id":379932,"reputation":126,"user_id":733639,"accept_rate":100,"display_name":"juggernaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675282017,"creation_date":1674502933,"question_id":75214290,"body_markdown":"I am trying to implement a simple subscription client for graphql using Rsocket and spring boot. My Service works fine and I know my subscription mapping works as I am able to retrieve it from the command line using rsc. But when I try to fetch the subscription and use RSocketGraphQlClient, it&#39;s unable to map the field from the response. It returns Scala Map.Map1 object which it cannot caste to Entity of My Object(Simple Pojo to map response). All examples I can find work with a return type of String and are very simple, so I cannot find anything more comprehensive. Any help would be appreciated, or if you can point me to a good reference document to write a rsocket subscription client for Graphql? As I understand, I may be not coercing schema on my return object but I cant figure out if thats the case. Below is the relevant code:\r\n\r\n```\r\nvar rsocketDoc = &quot;&quot;&quot;\r\n                subscription {\r\n                    getSecuritiesSubscription {\r\n                        secId\r\n                        rowStatusType\r\n                        label\r\n                    }\r\n                }\r\n                &quot;&quot;&quot;;\r\nvar d = rSocketGraphQlClient\r\n            .document(rsocketDoc)\r\n            .executeSubscription()\r\n            .mapNotNull(response -&gt; {\r\n                if (!response.isValid()) {\r\n                    log.info(response.getData());\r\n                    throw new RuntimeException(response.getErrors().toString());\r\n                }\r\n                final SecurityQl data1 = response.field(&quot;getSecuritiesSubscription&quot;).toEntity(SecurityQl.class);\r\n                    log.info(&quot;data &quot; + data1);\r\n                    return data1;\r\n                });\r\nlog.info(d.toString());\r\nd.subscribe(System.out::println);\r\n```\r\n\r\nstack trace:\r\n\r\n```\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.IllegalArgumentException: Invalid path [getSecuritiesSubscription], data: Map(getSecuritiesSubscription -&gt; Map(secId -&gt; 111111, rowStatusType -&gt; null, label -&gt; Blah Blah Blah))\r\nCaused by: java.lang.IllegalArgumentException: Invalid path [getSecuritiesSubscription], data: Map(getSecuritiesSubscription -&gt; Map(secId -&gt; 111111, rowStatusType -&gt; null, label -&gt; Blah Blah Blah))\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:140) ~[spring-core-6.0.2.jar:6.0.2]\r\n\tat org.springframework.graphql.support.AbstractGraphQlResponse$DefaultResponseField.initFieldValue(AbstractGraphQlResponse.java:123) ~[spring-graphql-1.1.0.jar:1.1.0]\r\n\tat org.springframework.graphql.support.AbstractGraphQlResponse$DefaultResponseField.&lt;init&gt;(AbstractGraphQlResponse.java:71) ~[spring-graphql-1.1.0.jar:1.1.0]\r\n\tat org.springframework.graphql.support.AbstractGraphQlResponse.field(AbstractGraphQlResponse.java:46) ~[spring-graphql-1.1.0.jar:1.1.0]\r\n\tat org.springframework.graphql.client.DefaultClientGraphQlResponse.field(DefaultClientGraphQlResponse.java:66) ~[spring-graphql-1.1.0.jar:1.1.0]\r\n\tat com.tfgam.stream.processor.controller.SecurityController.lambda$getSecuritySub$2(SecurityController.java:141) ~[classes/:na]\r\n\tat reactor.core.publisher.Flux.lambda$mapNotNull$24(Flux.java:6428) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:112) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat io.rsocket.core.ResolvingOperator$DeferredResolution.onNext(ResolvingOperator.java:513) ~[rsocket-core-1.1.3.jar:na]\r\n\tat io.rsocket.core.RequestStreamRequesterFlux.handlePayload(RequestStreamRequesterFlux.java:330) ~[rsocket-core-1.1.3.jar:na]\r\n\tat io.rsocket.core.ReassemblyUtils.handleNextSupport(ReassemblyUtils.java:94) ~[rsocket-core-1.1.3.jar:na]\r\n\tat io.rsocket.core.RequestStreamRequesterFlux.handleNext(RequestStreamRequesterFlux.java:407) ~[rsocket-core-1.1.3.jar:na]\r\n\tat io.rsocket.core.RSocketRequester.handleFrame(RSocketRequester.java:255) ~[rsocket-core-1.1.3.jar:na]\r\n\tat io.rsocket.core.RSocketRequester.handleIncomingFrames(RSocketRequester.java:211) ~[rsocket-core-1.1.3.jar:na]\r\n\tat reactor.core.publisher.LambdaSubscriber.onNext(LambdaSubscriber.java:160) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat io.rsocket.core.ClientServerInputMultiplexer$InternalDuplexConnection.onNext(ClientServerInputMultiplexer.java:248) ~[rsocket-core-1.1.3.jar:na]\r\n\tat io.rsocket.core.ClientServerInputMultiplexer.onNext(ClientServerInputMultiplexer.java:129) ~[rsocket-core-1.1.3.jar:na]\r\n\tat io.rsocket.core.ClientServerInputMultiplexer.onNext(ClientServerInputMultiplexer.java:48) ~[rsocket-core-1.1.3.jar:na]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\r\n\tat reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:377) ~[reactor-netty-core-1.1.0.jar:1.1.0]\r\n\tat reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411) ~[reactor-netty-core-1.1.0.jar:1.1.0]\r\n\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.0.jar:1.1.0]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333) ~[netty-codec-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454) ~[netty-codec-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n```\r\n","title":"Graphql Spring boot subscription client","body":"<p>I am trying to implement a simple subscription client for graphql using Rsocket and spring boot. My Service works fine and I know my subscription mapping works as I am able to retrieve it from the command line using rsc. But when I try to fetch the subscription and use RSocketGraphQlClient, it's unable to map the field from the response. It returns Scala Map.Map1 object which it cannot caste to Entity of My Object(Simple Pojo to map response). All examples I can find work with a return type of String and are very simple, so I cannot find anything more comprehensive. Any help would be appreciated, or if you can point me to a good reference document to write a rsocket subscription client for Graphql? As I understand, I may be not coercing schema on my return object but I cant figure out if thats the case. Below is the relevant code:</p>\n<pre><code>var rsocketDoc = &quot;&quot;&quot;\n                subscription {\n                    getSecuritiesSubscription {\n                        secId\n                        rowStatusType\n                        label\n                    }\n                }\n                &quot;&quot;&quot;;\nvar d = rSocketGraphQlClient\n            .document(rsocketDoc)\n            .executeSubscription()\n            .mapNotNull(response -&gt; {\n                if (!response.isValid()) {\n                    log.info(response.getData());\n                    throw new RuntimeException(response.getErrors().toString());\n                }\n                final SecurityQl data1 = response.field(&quot;getSecuritiesSubscription&quot;).toEntity(SecurityQl.class);\n                    log.info(&quot;data &quot; + data1);\n                    return data1;\n                });\nlog.info(d.toString());\nd.subscribe(System.out::println);\n</code></pre>\n<p>stack trace:</p>\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.IllegalArgumentException: Invalid path [getSecuritiesSubscription], data: Map(getSecuritiesSubscription -&gt; Map(secId -&gt; 111111, rowStatusType -&gt; null, label -&gt; Blah Blah Blah))\nCaused by: java.lang.IllegalArgumentException: Invalid path [getSecuritiesSubscription], data: Map(getSecuritiesSubscription -&gt; Map(secId -&gt; 111111, rowStatusType -&gt; null, label -&gt; Blah Blah Blah))\n    at org.springframework.util.Assert.isTrue(Assert.java:140) ~[spring-core-6.0.2.jar:6.0.2]\n    at org.springframework.graphql.support.AbstractGraphQlResponse$DefaultResponseField.initFieldValue(AbstractGraphQlResponse.java:123) ~[spring-graphql-1.1.0.jar:1.1.0]\n    at org.springframework.graphql.support.AbstractGraphQlResponse$DefaultResponseField.&lt;init&gt;(AbstractGraphQlResponse.java:71) ~[spring-graphql-1.1.0.jar:1.1.0]\n    at org.springframework.graphql.support.AbstractGraphQlResponse.field(AbstractGraphQlResponse.java:46) ~[spring-graphql-1.1.0.jar:1.1.0]\n    at org.springframework.graphql.client.DefaultClientGraphQlResponse.field(DefaultClientGraphQlResponse.java:66) ~[spring-graphql-1.1.0.jar:1.1.0]\n    at com.tfgam.stream.processor.controller.SecurityController.lambda$getSecuritySub$2(SecurityController.java:141) ~[classes/:na]\n    at reactor.core.publisher.Flux.lambda$mapNotNull$24(Flux.java:6428) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:112) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\n    at io.rsocket.core.ResolvingOperator$DeferredResolution.onNext(ResolvingOperator.java:513) ~[rsocket-core-1.1.3.jar:na]\n    at io.rsocket.core.RequestStreamRequesterFlux.handlePayload(RequestStreamRequesterFlux.java:330) ~[rsocket-core-1.1.3.jar:na]\n    at io.rsocket.core.ReassemblyUtils.handleNextSupport(ReassemblyUtils.java:94) ~[rsocket-core-1.1.3.jar:na]\n    at io.rsocket.core.RequestStreamRequesterFlux.handleNext(RequestStreamRequesterFlux.java:407) ~[rsocket-core-1.1.3.jar:na]\n    at io.rsocket.core.RSocketRequester.handleFrame(RSocketRequester.java:255) ~[rsocket-core-1.1.3.jar:na]\n    at io.rsocket.core.RSocketRequester.handleIncomingFrames(RSocketRequester.java:211) ~[rsocket-core-1.1.3.jar:na]\n    at reactor.core.publisher.LambdaSubscriber.onNext(LambdaSubscriber.java:160) ~[reactor-core-3.5.0.jar:3.5.0]\n    at io.rsocket.core.ClientServerInputMultiplexer$InternalDuplexConnection.onNext(ClientServerInputMultiplexer.java:248) ~[rsocket-core-1.1.3.jar:na]\n    at io.rsocket.core.ClientServerInputMultiplexer.onNext(ClientServerInputMultiplexer.java:129) ~[rsocket-core-1.1.3.jar:na]\n    at io.rsocket.core.ClientServerInputMultiplexer.onNext(ClientServerInputMultiplexer.java:48) ~[rsocket-core-1.1.3.jar:na]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:377) ~[reactor-netty-core-1.1.0.jar:1.1.0]\n    at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411) ~[reactor-netty-core-1.1.0.jar:1.1.0]\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.0.jar:1.1.0]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333) ~[netty-codec-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454) ~[netty-codec-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","soap","apache-axis"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1675281698,"post_id":75315546,"comment_id":132897304,"body_markdown":"Just use tomcat 9. Or use `jakarta.servlet.*` on tomcat 10.","body":"Just use tomcat 9. Or use <code>jakarta.servlet.*</code> on tomcat 10."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1675282371,"post_id":75315546,"comment_id":132897516,"body_markdown":"See this Tomcat 10 [documentation](https://tomcat.apache.org/migration-10.html#Specification_APIs): &quot;_There is a significant breaking change between Tomcat 9.0.x and Tomcat 10.0.x. The Java package used by the specification APIs has changed from javax... to jakarta...._&quot;. Simple example: You now need to refer to [`jakarta-servlet`](https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api) instead of [`javax-servlet`](https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api/4.0.1) in your `import` statements. I expect the same applies to other packages you may be using.","body":"See this Tomcat 10 <a href=\"https://tomcat.apache.org/migration-10.html#Specification_APIs\" rel=\"nofollow noreferrer\">documentation</a>: &quot;<i>There is a significant breaking change between Tomcat 9.0.x and Tomcat 10.0.x. The Java package used by the specification APIs has changed from javax... to jakarta....</i>&quot;. Simple example: You now need to refer to <a href=\"https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api\" rel=\"nofollow noreferrer\"><code>jakarta-servlet</code></a> instead of <a href=\"https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api/4.0.1\" rel=\"nofollow noreferrer\"><code>javax-servlet</code></a> in your <code>import</code> statements. I expect the same applies to other packages you may be using."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675282394,"post_id":75315546,"comment_id":132897530,"body_markdown":"Also: [Updating &quot;web.xml&quot; when transitioning from Java Servlet 4 to Jakarta Servlet 5](https://stackoverflow.com/q/71544097/12567365)","body":"Also: <a href=\"https://stackoverflow.com/q/71544097/12567365\">Updating &quot;web.xml&quot; when transitioning from Java Servlet 4 to Jakarta Servlet 5</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675314226,"post_id":75315546,"comment_id":132903330,"body_markdown":"[*Transition from Java EE to Jakarta EE*](https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee) by Arjan Tijms, in Java Magazine, 2020-02.","body":"<a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"nofollow noreferrer\"><i>Transition from Java EE to Jakarta EE</i></a> by Arjan Tijms, in Java Magazine, 2020-02."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675314291,"post_id":75315546,"comment_id":132903342,"body_markdown":"[*Tomcat  Which version?*](https://tomcat.apache.org/whichversion.html)","body":"<a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\"><i>Tomcat  Which version?</i></a>"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675314122,"answer_count":0,"score":0,"last_activity_date":1675281450,"creation_date":1675281450,"question_id":75315546,"body_markdown":"I have created very basic SOAP server with Java in my Eclipse and trying to run on Tomcat 10 with Axis2. Got exception:\r\n\r\n    ...\r\n    INFO: Marking servlet [AdminServlet] as unavailable\r\n    Feb 01, 2023 6:41:21 PM org.apache.catalina.core.StandardContext loadOnStartup\r\n    SEVERE: Servlet [AdminServlet] in web application [/SOAPExample_Axis2] threw load() exception\r\n    java.lang.ClassNotFoundException: javax.servlet.http.HttpServlet\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437)\r\n    ..\r\n\r\nI suppose Tomcat need javax library. What is the best place to download this library I where I should place it in Tomcat?\r\n\r\n","title":"Javax is missing in Tomcat 10","body":"<p>I have created very basic SOAP server with Java in my Eclipse and trying to run on Tomcat 10 with Axis2. Got exception:</p>\n<pre><code>...\nINFO: Marking servlet [AdminServlet] as unavailable\nFeb 01, 2023 6:41:21 PM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet [AdminServlet] in web application [/SOAPExample_Axis2] threw load() exception\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServlet\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437)\n..\n</code></pre>\n<p>I suppose Tomcat need javax library. What is the best place to download this library I where I should place it in Tomcat?</p>\n"},{"tags":["java","classpath"],"answers":[{"comments":[{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1512561784,"post_id":6409545,"comment_id":82306457,"body_markdown":"Is `-cp` a short form for `-classpath`?","body":"Is <code>-cp</code> a short form for <code>-classpath</code>?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1512561838,"post_id":6409545,"comment_id":82306499,"body_markdown":"@overexchange: Yes. (Running `java -?` would have told you that.)","body":"@overexchange: Yes. (Running <code>java -?</code> would have told you that.)"},{"owner":{"account_id":2752614,"reputation":69,"user_id":2371652,"display_name":"rica01"},"score":0,"creation_date":1633038936,"post_id":6409545,"comment_id":122662736,"body_markdown":"this is not working for me....\n```java -cp argparse4j-0.9.0.jar:. Demo\nError: Could not find or load main class Demo\nCaused by: java.lang.ClassNotFoundException: Demo```","body":"this is not working for me.... <code>java -cp argparse4j-0.9.0.jar:. Demo Error: Could not find or load main class Demo Caused by: java.lang.ClassNotFoundException: Demo</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1633066895,"post_id":6409545,"comment_id":122665779,"body_markdown":"@rica01: Well is `Demo.class` in the current directory? We can&#39;t really tell much just from that. (And what operating system are you using?)","body":"@rica01: Well is <code>Demo.class</code> in the current directory? We can&#39;t really tell much just from that. (And what operating system are you using?)"},{"owner":{"account_id":2752614,"reputation":69,"user_id":2371652,"display_name":"rica01"},"score":0,"creation_date":1633079080,"post_id":6409545,"comment_id":122669739,"body_markdown":"it was. I honestly gave up on this, it was taking tooooooo much time for something that should be extrasimple. thanks anyways jon!","body":"it was. I honestly gave up on this, it was taking tooooooo much time for something that should be extrasimple. thanks anyways jon!"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":5,"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1308563845,"creation_date":1308563845,"answer_id":6409545,"question_id":6409510,"body_markdown":"Possibly :)\r\n\r\n    # On Unix\r\n    java -cp utilities.jar:. mypackage.MyClass\r\n\r\n    # On Windows\r\n    java -cp utilities.jar;. mypackage.MyClass\r\n\r\nBasically that&#39;s just including `.` (the current directory) on the classpath as well as the jar file.","title":"How to run a java class with a jar in the classpath?","body":"<p>Possibly :)</p>\n\n<pre><code># On Unix\njava -cp utilities.jar:. mypackage.MyClass\n\n# On Windows\njava -cp utilities.jar;. mypackage.MyClass\n</code></pre>\n\n<p>Basically that's just including <code>.</code> (the current directory) on the classpath as well as the jar file.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1308564415,"post_id":6409560,"comment_id":7516454,"body_markdown":"No, the current directory *is* the classpath by default; it&#39;s only when you specify a *different* classpath that you get problems.","body":"No, the current directory <i>is</i> the classpath by default; it&#39;s only when you specify a <i>different</i> classpath that you get problems."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1308564764,"post_id":6409560,"comment_id":7516524,"body_markdown":"@Vuntic: That would certainly be accurate. Maybe @duffymo would like to edit to that wording :)","body":"@Vuntic: That would certainly be accurate. Maybe @duffymo would like to edit to that wording :)"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634296825,"creation_date":1308563931,"answer_id":6409560,"question_id":6409510,"body_markdown":"Try this if you&#39;re on Windows:\r\n\r\n    java -cp .;utilities.jar mypackage.MyClass\r\n\r\nOr this if you&#39;re on Linux:\r\n\r\n    java -cp .:utilities.jar mypackage.MyClass\r\n\r\nThe current directory is not in the &lt;code&gt;CLASSPATH&lt;/code&gt; by default when you specify a value for `-cp`.\r\n","title":"How to run a java class with a jar in the classpath?","body":"<p>Try this if you're on Windows:</p>\n<pre><code>java -cp .;utilities.jar mypackage.MyClass\n</code></pre>\n<p>Or this if you're on Linux:</p>\n<pre><code>java -cp .:utilities.jar mypackage.MyClass\n</code></pre>\n<p>The current directory is not in the <code>CLASSPATH</code> by default when you specify a value for <code>-cp</code>.</p>\n"},{"comments":[{"owner":{"account_id":126393,"reputation":2246,"user_id":322866,"accept_rate":87,"display_name":"amara"},"score":0,"creation_date":1308564041,"post_id":6409566,"comment_id":7516371,"body_markdown":"that I can do just fine; MyClass is in a standalone class file, not myjar.jar","body":"that I can do just fine; MyClass is in a standalone class file, not myjar.jar"}],"tags":[],"owner":{"account_id":425346,"reputation":309,"user_id":805901,"display_name":"YODA"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634289990,"creation_date":1308563948,"answer_id":6409566,"question_id":6409510,"body_markdown":"You should include the `mypackage.MyClass` into the `CLASSPATH` or the `-cp` parameter.\r\nFor example:\r\n\r\n    java -cp utilities.jar;myjar.jar mypackage.MyClass\r\n\r\nThe path separator is `;` on windows and `:` on Unix/Linux","title":"How to run a java class with a jar in the classpath?","body":"<p>You should include the <code>mypackage.MyClass</code> into the <code>CLASSPATH</code> or the <code>-cp</code> parameter.\nFor example:</p>\n<pre><code>java -cp utilities.jar;myjar.jar mypackage.MyClass\n</code></pre>\n<p>The path separator is <code>;</code> on windows and <code>:</code> on Unix/Linux</p>\n"},{"tags":[],"owner":{"account_id":1082198,"reputation":65,"user_id":1078867,"display_name":"Hossain Cyrus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675281247,"creation_date":1675281247,"answer_id":75315507,"question_id":6409510,"body_markdown":"The question seems dated. But there is no answer mentioning the feature of running source file directly without using `javac` first, applicable for JDK 11+. \r\n\r\nOn linux:\r\n\r\n    java -cp some-library.jar:some-other-library.jar AClassName.java\r\n\r\nOn windows:\r\n\r\n    java -cp &quot;some-library.jar;some-other-library.jar&quot; AClassName.java","title":"How to run a java class with a jar in the classpath?","body":"<p>The question seems dated. But there is no answer mentioning the feature of running source file directly without using <code>javac</code> first, applicable for JDK 11+.</p>\n<p>On linux:</p>\n<pre><code>java -cp some-library.jar:some-other-library.jar AClassName.java\n</code></pre>\n<p>On windows:</p>\n<pre><code>java -cp &quot;some-library.jar;some-other-library.jar&quot; AClassName.java\n</code></pre>\n"}],"owner":{"account_id":126393,"reputation":2246,"user_id":322866,"accept_rate":87,"display_name":"amara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53094,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":6409545,"answer_count":4,"score":30,"last_activity_date":1675281247,"creation_date":1308563693,"question_id":6409510,"body_markdown":"So, I can do this very well:\r\n\r\n    java mypackage.MyClass\r\n\r\nif `./mypackage/MyClass.class` exists. I can also happily do this:\r\n\r\n    java -cp myjar.jar mypackage.MyClass\r\n\r\nif the class file exists in the appropriate part of the jar. Easy stuff. But I can&#39;t for the life of me manage to do something like this:\r\n\r\n    java -cp utilities.jar mypackage.MyClass\r\n\r\nwhere `./mypackage/MyClass.class` exists, and where `./utilities.jar` exists (not containing MyClass, of course).\r\n\r\nAm I about to feel stupid?","title":"How to run a java class with a jar in the classpath?","body":"<p>So, I can do this very well:</p>\n\n<pre><code>java mypackage.MyClass\n</code></pre>\n\n<p>if <code>./mypackage/MyClass.class</code> exists. I can also happily do this:</p>\n\n<pre><code>java -cp myjar.jar mypackage.MyClass\n</code></pre>\n\n<p>if the class file exists in the appropriate part of the jar. Easy stuff. But I can't for the life of me manage to do something like this:</p>\n\n<pre><code>java -cp utilities.jar mypackage.MyClass\n</code></pre>\n\n<p>where <code>./mypackage/MyClass.class</code> exists, and where <code>./utilities.jar</code> exists (not containing MyClass, of course).</p>\n\n<p>Am I about to feel stupid?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1605406560,"post_id":64840109,"comment_id":114640007,"body_markdown":"You&#39;d probably need to make a new Item class that stores cart as an int","body":"You&#39;d probably need to make a new Item class that stores cart as an int"},{"owner":{"account_id":3401908,"reputation":431,"user_id":2853874,"accept_rate":86,"display_name":"ibrahim demir"},"score":0,"creation_date":1605451179,"post_id":64840109,"comment_id":114647910,"body_markdown":"@OneCricketeer Is there a way to do it simpler with a single annotation that has already been implemented?","body":"@OneCricketeer Is there a way to do it simpler with a single annotation that has already been implemented?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1605546330,"post_id":64840109,"comment_id":114676969,"body_markdown":"Not sure how an annotation would help convert an Object to a primitive","body":"Not sure how an annotation would help convert an Object to a primitive"}],"answers":[{"tags":[],"owner":{"account_id":1562540,"reputation":891,"user_id":1452089,"accept_rate":25,"display_name":"cane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675281035,"creation_date":1675281035,"answer_id":75315466,"question_id":64840109,"body_markdown":"one possible way is to use custom Serialize/Deserialize\r\n\r\n    \r\n    public class Cart{\r\n       private int id;\r\n       private String cartName;\r\n       private String color;\r\n    \r\n    }\r\n    \r\n    public class Item{\r\n       @ManyToOne\r\n       @JoinColumn(nullable = false)\r\n       @JsonUnwrapped\r\n       @JsonSerialize(using = CartSerializer.class)\r\n       @JsonDeserialize(using = CartDeserializer.class)\r\n       @JsonProperty(&quot;cart_id&quot;)\r\n       private Cart cart;\r\n       private int id;\r\n       private String itemName;\r\n       private double weight;\r\n    }\r\n    \r\n    public class CartSerializer extends StdSerializer&lt;Cart&gt; {\r\n    \r\n      public CartSerializer() {\r\n        super(Cart.class);\r\n      }\r\n    \r\n      @Override\r\n      public void serialize(Cart value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        gen.writeString(value.getCartId());\r\n      }\r\n    }\r\n    \r\n    @Component\r\n    public class CartDeserializer extends StdDeserializer&lt;Cart&gt; {\r\n    \r\n      @Autowired\r\n      private CartRepository cartRepository;\r\n    \r\n      protected CartDeserializer(CartRepository cartRepository) {\r\n        super(Cart.class);\r\n        this.cartRepository = cartRepository;\r\n      }\r\n    \r\n      @Override\r\n      public Cart deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\r\n        JsonNode node = p.getCodec().readTree(p);\r\n        var cartId = node.get(&quot;cart_id&quot;).asText();\r\n    \r\n        return cartRepository.findById(cartId)\r\n            .orElseThrow(() -&gt; new JsonParseException(p, &quot;cart_id does not exist&quot;));\r\n      }\r\n    }\r\n\r\n","title":"How to Unwrap only id parameter in Json","body":"<p>one possible way is to use custom Serialize/Deserialize</p>\n<pre><code>public class Cart{\n   private int id;\n   private String cartName;\n   private String color;\n\n}\n\npublic class Item{\n   @ManyToOne\n   @JoinColumn(nullable = false)\n   @JsonUnwrapped\n   @JsonSerialize(using = CartSerializer.class)\n   @JsonDeserialize(using = CartDeserializer.class)\n   @JsonProperty(&quot;cart_id&quot;)\n   private Cart cart;\n   private int id;\n   private String itemName;\n   private double weight;\n}\n\npublic class CartSerializer extends StdSerializer&lt;Cart&gt; {\n\n  public CartSerializer() {\n    super(Cart.class);\n  }\n\n  @Override\n  public void serialize(Cart value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n    gen.writeString(value.getCartId());\n  }\n}\n\n@Component\npublic class CartDeserializer extends StdDeserializer&lt;Cart&gt; {\n\n  @Autowired\n  private CartRepository cartRepository;\n\n  protected CartDeserializer(CartRepository cartRepository) {\n    super(Cart.class);\n    this.cartRepository = cartRepository;\n  }\n\n  @Override\n  public Cart deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\n    JsonNode node = p.getCodec().readTree(p);\n    var cartId = node.get(&quot;cart_id&quot;).asText();\n\n    return cartRepository.findById(cartId)\n        .orElseThrow(() -&gt; new JsonParseException(p, &quot;cart_id does not exist&quot;));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3401908,"reputation":431,"user_id":2853874,"accept_rate":86,"display_name":"ibrahim demir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675281035,"creation_date":1605400297,"question_id":64840109,"body_markdown":"Suppose We have such classes:\r\n\r\n```\r\npublic class Cart{\r\n   private int id;\r\n   private String cartName;\r\n   private String color;\r\n   @JsonIgnore\r\n   @OneToMany(mappedBy = &quot;cart&quot;)\r\n   private List&lt;Item&gt; items;\r\n}\r\n```\r\n\r\n```\r\npublic class Item{\r\n   @ManyToOne\r\n   @JoinColumn(nullable = false)\r\n   private Cart cart;\r\n   private int id;\r\n   private String itemName;\r\n   private double weight;\r\n}\r\n```\r\nNormally, when you serialize Item class you will see this:\r\n```\r\n{ \r\n   &quot;id&quot; : 1,\r\n   &quot;itemName&quot; : &quot;NiceItem&quot;,\r\n   &quot;weight&quot; : 5.2,\r\n   &quot;cart&quot; : {\r\n      &quot;id&quot; : 3,\r\n      &quot;cartName&quot; : &quot;NiceCart&quot;,\r\n      &quot;color&quot; : &quot;Red&quot;\r\n   }\r\n}\r\n```\r\n**My question** is how can I make Cart to get serialized by its id like this:\r\n\r\n```\r\n{ \r\n   &quot;id&quot; : 1,\r\n   &quot;itemName&quot; : &quot;NiceItem&quot;,\r\n   &quot;weight&quot; : 5.2,\r\n   &quot;cart_id&quot; : 3\r\n}\r\n```\r\n","title":"How to Unwrap only id parameter in Json","body":"<p>Suppose We have such classes:</p>\n<pre><code>public class Cart{\n   private int id;\n   private String cartName;\n   private String color;\n   @JsonIgnore\n   @OneToMany(mappedBy = &quot;cart&quot;)\n   private List&lt;Item&gt; items;\n}\n</code></pre>\n<pre><code>public class Item{\n   @ManyToOne\n   @JoinColumn(nullable = false)\n   private Cart cart;\n   private int id;\n   private String itemName;\n   private double weight;\n}\n</code></pre>\n<p>Normally, when you serialize Item class you will see this:</p>\n<pre><code>{ \n   &quot;id&quot; : 1,\n   &quot;itemName&quot; : &quot;NiceItem&quot;,\n   &quot;weight&quot; : 5.2,\n   &quot;cart&quot; : {\n      &quot;id&quot; : 3,\n      &quot;cartName&quot; : &quot;NiceCart&quot;,\n      &quot;color&quot; : &quot;Red&quot;\n   }\n}\n</code></pre>\n<p><strong>My question</strong> is how can I make Cart to get serialized by its id like this:</p>\n<pre><code>{ \n   &quot;id&quot; : 1,\n   &quot;itemName&quot; : &quot;NiceItem&quot;,\n   &quot;weight&quot; : 5.2,\n   &quot;cart_id&quot; : 3\n}\n</code></pre>\n"},{"tags":["java","powershell","cmd"],"comments":[{"owner":{"account_id":20318457,"reputation":4566,"user_id":14903754,"display_name":"Abraham Zinala"},"score":0,"creation_date":1654719306,"post_id":72551411,"comment_id":128161738,"body_markdown":"Well, you should really be using `-Filter`. Also, PowerShell will tend to be slower as there isn&#39;t so much overhead when working with text shells. You&#39;re also not excluding in your cmd call which will be faster overall.","body":"Well, you should really be using <code>-Filter</code>. Also, PowerShell will tend to be slower as there isn&#39;t so much overhead when working with text shells. You&#39;re also not excluding in your cmd call which will be faster overall."},{"owner":{"account_id":22446178,"reputation":84,"user_id":16650069,"display_name":"yehsuf"},"score":1,"creation_date":1654720368,"post_id":72551411,"comment_id":128162063,"body_markdown":"thanks @AbrahamZinala it looks like the exclusions were the main fault.\nactually, after I changed to filter and removed the asterisks it wasn&#39;t needed anymore.","body":"thanks @AbrahamZinala it looks like the exclusions were the main fault. actually, after I changed to filter and removed the asterisks it wasn&#39;t needed anymore."}],"answers":[{"comments":[{"owner":{"account_id":9885468,"reputation":52,"user_id":7320109,"display_name":"Dee Ess"},"score":0,"creation_date":1654799124,"post_id":72552092,"comment_id":128184499,"body_markdown":"If so then you may want to mark this as the answer.","body":"If so then you may want to mark this as the answer."},{"owner":{"account_id":22446178,"reputation":84,"user_id":16650069,"display_name":"yehsuf"},"score":0,"creation_date":1654802485,"post_id":72552092,"comment_id":128185432,"body_markdown":"I have to wait two days for that (those are the rules for self answers)","body":"I have to wait two days for that (those are the rules for self answers)"}],"tags":[],"owner":{"account_id":22446178,"reputation":84,"user_id":16650069,"display_name":"yehsuf"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654722044,"creation_date":1654721717,"answer_id":72552092,"question_id":72551411,"body_markdown":"I post here my script updated after the comments I got on my question I checked it on my pc and it worked perfectly. \r\n\r\n    $certs = @(Get-Childitem Path &quot;C:\\Program files&quot;, &quot;C:\\Program Files (x86)&quot; -Filter cacerts -Recurse -ErrorAction SilentlyContinue);$keytool = Get-Childitem -Path &quot;C:\\Program files&quot;, &quot;C:\\Program Files (x86)&quot; -Filter keytool.exe -Recurse -ErrorAction SilentlyContinue | Select -First 1; foreach ( $cert in $certs ){&amp; &quot;$keytool&quot; -import -trustcacerts -alias myCert$(date -format dMyyhm) -file C:\\Path\\to\\CA\\myCertificate.crt -keystore $cert -storepass changeit -noprompt}\r\n\r\nmake sure to change the `-file C:\\Path\\to\\CA\\myCertificate.crt` to your certificate path. and the `-alias myCert$(date -format dMyyhm)` to a name of your choice.\r\n\r\nThe `$(date -format dMyyhm)` is there in case you want to have an option to update the certificate without deleting the old on, if that is not the case you can remove this part.\r\n\r\nin the enclosed version I was searching only in the two program files directories because as far as I know, that&#39;s where all Java containing files are located but you can change the -path flag to point to &quot;C:\\\\&quot; or even &quot;\\\\&quot; for me it took 2 minutes on a 1TB entire drive.\r\n\r\n","title":"Adding local user SSL certificate (.crt) to all Java stores on Windows PC","body":"<p>I post here my script updated after the comments I got on my question I checked it on my pc and it worked perfectly.</p>\n<pre><code>$certs = @(Get-Childitem Path &quot;C:\\Program files&quot;, &quot;C:\\Program Files (x86)&quot; -Filter cacerts -Recurse -ErrorAction SilentlyContinue);$keytool = Get-Childitem -Path &quot;C:\\Program files&quot;, &quot;C:\\Program Files (x86)&quot; -Filter keytool.exe -Recurse -ErrorAction SilentlyContinue | Select -First 1; foreach ( $cert in $certs ){&amp; &quot;$keytool&quot; -import -trustcacerts -alias myCert$(date -format dMyyhm) -file C:\\Path\\to\\CA\\myCertificate.crt -keystore $cert -storepass changeit -noprompt}\n</code></pre>\n<p>make sure to change the <code>-file C:\\Path\\to\\CA\\myCertificate.crt</code> to your certificate path. and the <code>-alias myCert$(date -format dMyyhm)</code> to a name of your choice.</p>\n<p>The <code>$(date -format dMyyhm)</code> is there in case you want to have an option to update the certificate without deleting the old on, if that is not the case you can remove this part.</p>\n<p>in the enclosed version I was searching only in the two program files directories because as far as I know, that's where all Java containing files are located but you can change the -path flag to point to &quot;C:\\&quot; or even &quot;\\&quot; for me it took 2 minutes on a 1TB entire drive.</p>\n"}],"owner":{"account_id":22446178,"reputation":84,"user_id":16650069,"display_name":"yehsuf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72552092,"answer_count":1,"score":1,"last_activity_date":1675281031,"creation_date":1654717642,"question_id":72551411,"body_markdown":"I wrote the following windows power shell script in order to add my crt SSL certificate to all java cacert stores\r\n\r\n    $certs = @(Get-Childitem -Path &quot;C:\\Program files&quot; -Include *cacerts* -Exclude *.pem -File -Recurse -ErrorAction SilentlyContinue);$keytool = Get-Childitem -Path &quot;C:\\Program files&quot; -filter keytool.exe -Recurse -ErrorAction SilentlyContinue | Select -First 1; foreach ( $cert in $certs ){&amp; &quot;$keytool&quot; -import -trustcacerts -alias mycert-ca$(date -format dMyyhm) -file C:\\Path\\to\\my-crt.crt -keystore $cert -storepass changeit -noprompt}\r\n\r\nthe problem is that when I try to run it on anything more than program files the search takes a very long time.\r\nwhen I am searching in the command prompt with the following command `dir c:\\ /s /b | findstr -i cacerts` I get results for the whole c drive within a minute.\r\n\r\nis there any equivalent command for ps?\r\n\r\n ","title":"Adding local user SSL certificate (.crt) to all Java stores on Windows PC","body":"<p>I wrote the following windows power shell script in order to add my crt SSL certificate to all java cacert stores</p>\n<pre><code>$certs = @(Get-Childitem -Path &quot;C:\\Program files&quot; -Include *cacerts* -Exclude *.pem -File -Recurse -ErrorAction SilentlyContinue);$keytool = Get-Childitem -Path &quot;C:\\Program files&quot; -filter keytool.exe -Recurse -ErrorAction SilentlyContinue | Select -First 1; foreach ( $cert in $certs ){&amp; &quot;$keytool&quot; -import -trustcacerts -alias mycert-ca$(date -format dMyyhm) -file C:\\Path\\to\\my-crt.crt -keystore $cert -storepass changeit -noprompt}\n</code></pre>\n<p>the problem is that when I try to run it on anything more than program files the search takes a very long time.\nwhen I am searching in the command prompt with the following command <code>dir c:\\ /s /b | findstr -i cacerts</code> I get results for the whole c drive within a minute.</p>\n<p>is there any equivalent command for ps?</p>\n"},{"tags":["java","spring","firebase","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1676216491,"post_id":75314348,"comment_id":133088611,"body_markdown":"Hey @JakeMaxwell, did you have the time to look at the proposed solution?","body":"Hey @JakeMaxwell, did you have the time to look at the proposed solution?"}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675280622,"creation_date":1675274560,"answer_id":75314348,"question_id":75314222,"body_markdown":"There is no Firebase Client SDK for Java. \r\n\r\nHowever, if your Java Application is based on a three tiers architecture with an Application server (I guess this is the case since you use Spring Boot) you can use the [Admin SDK for Java][1] to interact with the Authentication service (and if necessary the other Firebase services) from this server.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/admin/setup","title":"Does Firebase SDK Authentication support Java/Sprint boot development?","body":"<p>There is no Firebase Client SDK for Java.</p>\n<p>However, if your Java Application is based on a three tiers architecture with an Application server (I guess this is the case since you use Spring Boot) you can use the <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"nofollow noreferrer\">Admin SDK for Java</a> to interact with the Authentication service (and if necessary the other Firebase services) from this server.</p>\n"}],"owner":{"account_id":27435065,"reputation":11,"user_id":20931099,"display_name":"Jake Maxwell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675280622,"creation_date":1675273840,"question_id":75314222,"body_markdown":"We have a Google Admin account and manage users via that console. I am building an application and would like to manage user logins through that application via a User Authentication service. I am doing some research into Firebase Auth and I think I found exactly what I need, but it does not seem to readily state that it supports Java Development. Does anyone know if this is in fact the case?\r\n\r\n![enter image description here](https://i.stack.imgur.com/hxmxy.png)\r\n\r\nI have not tried anything yet. I have simply been researching.","title":"Does Firebase SDK Authentication support Java/Sprint boot development?","body":"<p>We have a Google Admin account and manage users via that console. I am building an application and would like to manage user logins through that application via a User Authentication service. I am doing some research into Firebase Auth and I think I found exactly what I need, but it does not seem to readily state that it supports Java Development. Does anyone know if this is in fact the case?</p>\n<p><img src=\"https://i.stack.imgur.com/hxmxy.png\" alt=\"enter image description here\" /></p>\n<p>I have not tried anything yet. I have simply been researching.</p>\n"},{"tags":["java","sql","spring"],"answers":[{"comments":[{"owner":{"account_id":27638783,"reputation":1,"user_id":21096168,"display_name":"kale19"},"score":0,"creation_date":1675283601,"post_id":75315377,"comment_id":132897929,"body_markdown":"this checks value on the same row right? I am looking for something which checks the value on the whole column.","body":"this checks value on the same row right? I am looking for something which checks the value on the whole column."},{"owner":{"account_id":19843337,"reputation":4752,"user_id":14535517,"display_name":"Sergey"},"score":0,"creation_date":1675283729,"post_id":75315377,"comment_id":132897958,"body_markdown":"strange requirement. Looks like you can try some kind of tirgger","body":"strange requirement. Looks like you can try some kind of tirgger"}],"tags":[],"owner":{"account_id":19843337,"reputation":4752,"user_id":14535517,"display_name":"Sergey"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675280523,"creation_date":1675280523,"answer_id":75315377,"question_id":75315293,"body_markdown":"    DROP TABLE IF EXISTS dbo.Person;\r\n    CREATE TABLE dbo.Person\r\n    (\r\n      PERSON_ID INT NOT NULL PRIMARY KEY,\r\n      PERSON_NAME VARCHAR(50)NOT NULL,\r\n      PERSON_NAME_COPY VARCHAR(50)NOT NULL,\r\n        CONSTRAINT CHK_PERSON_NAME_PERSON_NAME_COPY CHECK (PERSON_NAME=PERSON_NAME_COPY)\r\n    )\r\n    GO\r\n    \r\n    INSERT dbo.Person(PERSON_ID,PERSON_NAME,PERSON_NAME_COPY)\r\n       VALUES(1,&#39;KUMAR&#39;,&#39;KUMAR&#39;)\r\n\r\n    --THIS ROW IS TO BE REJECTED\r\n     INSERT dbo.Person(PERSON_ID,PERSON_NAME,PERSON_NAME_COPY)\r\n        VALUES(2,&#39;JOHN&#39;,&#39;KUMAR&#39;)\r\n\r\n    SELECT *FROM DBO.Person;\r\n\r\nif I understand your question correctly you can implement check constraint (example is above)\r\nPlease also have look https://learn.microsoft.com/en-us/sql/relational-databases/tables/create-check-constraints?view=sql-server-ver16 ","title":"How do I add a constraint to check if value is present in another column within the same table?","body":"<pre><code>DROP TABLE IF EXISTS dbo.Person;\nCREATE TABLE dbo.Person\n(\n  PERSON_ID INT NOT NULL PRIMARY KEY,\n  PERSON_NAME VARCHAR(50)NOT NULL,\n  PERSON_NAME_COPY VARCHAR(50)NOT NULL,\n    CONSTRAINT CHK_PERSON_NAME_PERSON_NAME_COPY CHECK (PERSON_NAME=PERSON_NAME_COPY)\n)\nGO\n\nINSERT dbo.Person(PERSON_ID,PERSON_NAME,PERSON_NAME_COPY)\n   VALUES(1,'KUMAR','KUMAR')\n\n--THIS ROW IS TO BE REJECTED\n INSERT dbo.Person(PERSON_ID,PERSON_NAME,PERSON_NAME_COPY)\n    VALUES(2,'JOHN','KUMAR')\n\nSELECT *FROM DBO.Person;\n</code></pre>\n<p>if I understand your question correctly you can implement check constraint (example is above)\nPlease also have look <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/tables/create-check-constraints?view=sql-server-ver16\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/relational-databases/tables/create-check-constraints?view=sql-server-ver16</a></p>\n"}],"owner":{"account_id":27638783,"reputation":1,"user_id":21096168,"display_name":"kale19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675280523,"creation_date":1675279917,"question_id":75315293,"body_markdown":"I have an entity like this,\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Persons&quot;, schema=&quot;PU&quot;)\r\npublic class Persons {\r\n  @Basic\r\n  @Column(name = &quot;PERSON_ID&quot;)\r\n  private String personId\r\n\r\n  @Basic\r\n  @Column(name = &quot;PERSON_NAME&quot;)\r\n  private String personName\r\n\r\n  @Basic\r\n  @Column(name = &quot;PERSON_NAME_COPY&quot;)\r\n  private String personNameCopy\r\n}\r\n```\r\n\r\nI want to add a constraint in the personNameCopy column such that whatever value is being inserted in that column should be present in the personName column.\r\n\r\nIs there any way to achieve this?","title":"How do I add a constraint to check if value is present in another column within the same table?","body":"<p>I have an entity like this,</p>\n<pre><code>@Entity\n@Table(name = &quot;Persons&quot;, schema=&quot;PU&quot;)\npublic class Persons {\n  @Basic\n  @Column(name = &quot;PERSON_ID&quot;)\n  private String personId\n\n  @Basic\n  @Column(name = &quot;PERSON_NAME&quot;)\n  private String personName\n\n  @Basic\n  @Column(name = &quot;PERSON_NAME_COPY&quot;)\n  private String personNameCopy\n}\n</code></pre>\n<p>I want to add a constraint in the personNameCopy column such that whatever value is being inserted in that column should be present in the personName column.</p>\n<p>Is there any way to achieve this?</p>\n"},{"tags":["java","string","character"],"comments":[{"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"score":0,"creation_date":1393109757,"post_id":21961729,"comment_id":33275541,"body_markdown":"What if the string is `&quot;AABB&quot;`. What&#39;s the expected output?","body":"What if the string is <code>&quot;AABB&quot;</code>. What&#39;s the expected output?"},{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":0,"creation_date":1393109782,"post_id":21961729,"comment_id":33275546,"body_markdown":"`AABB`. The repeat has to go all the way from the start to end, otherwise, return the whole string.","body":"<code>AABB</code>. The repeat has to go all the way from the start to end, otherwise, return the whole string."},{"owner":{"account_id":4007415,"reputation":723,"user_id":3301760,"display_name":"korhner"},"score":2,"creation_date":1393109911,"post_id":21961729,"comment_id":33275590,"body_markdown":"@BelgianMyWaffle I don&#39;t think this is a duplicate. If I understood the question well, its about repeated pattern in string, not character.","body":"@BelgianMyWaffle I don&#39;t think this is a duplicate. If I understood the question well, its about repeated pattern in string, not character."},{"owner":{"account_id":3830343,"reputation":65,"user_id":3176041,"display_name":"jwaang"},"score":0,"creation_date":1393110051,"post_id":21961729,"comment_id":33275632,"body_markdown":"If the string is AABB, then the output would be AABB","body":"If the string is AABB, then the output would be AABB"}],"answers":[{"comments":[{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1506535583,"post_id":21961802,"comment_id":79864463,"body_markdown":"@Bohemian Can someone please explain me the regex part alone? (&quot;(.+)\\\\1&quot;, &quot;$1&quot;)","body":"@Bohemian Can someone please explain me the regex part alone? (&quot;(.+)\\\\1&quot;, &quot;$1&quot;)"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1506536345,"post_id":21961802,"comment_id":79864856,"body_markdown":"@santhoshkumar see [my answer](https://stackoverflow.com/a/21962028/256196) for an explanation of the regex","body":"@santhoshkumar see <a href=\"https://stackoverflow.com/a/21962028/256196\">my answer</a> for an explanation of the regex"}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1393110401,"creation_date":1393110086,"answer_id":21961802,"question_id":21961729,"body_markdown":"This outputs what you ask for - the regex can probably be improved to avoid the loop but I can&#39;t manage to fix it...\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; inputs = Arrays.asList(&quot;AAAAAAAAA&quot;, &quot;ABABAB&quot;, &quot;ABCAB&quot;, &quot;ABAb&quot;);\r\n        for (String s : inputs) System.out.println(findPattern(s));\r\n    }\r\n\r\n    private static String findPattern(String s) {\r\n        String output = s;\r\n        String temp;\r\n        while (true) {\r\n            temp = output.replaceAll(&quot;(.+)\\\\1&quot;, &quot;$1&quot;);\r\n            if (temp.equals(output)) break;\r\n            output = temp;\r\n        }\r\n        return output;\r\n    }","title":"Finding a repeated pattern in a string","body":"<p>This outputs what you ask for - the regex can probably be improved to avoid the loop but I can't manage to fix it...</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; inputs = Arrays.asList(\"AAAAAAAAA\", \"ABABAB\", \"ABCAB\", \"ABAb\");\n    for (String s : inputs) System.out.println(findPattern(s));\n}\n\nprivate static String findPattern(String s) {\n    String output = s;\n    String temp;\n    while (true) {\n        temp = output.replaceAll(\"(.+)\\\\1\", \"$1\");\n        if (temp.equals(output)) break;\n        output = temp;\n    }\n    return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215219,"reputation":11965,"user_id":469708,"accept_rate":75,"display_name":"Sebastian Negraszus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393110920,"creation_date":1393110920,"answer_id":21961935,"question_id":21961729,"body_markdown":"Written in C#, but translation should be trivial.\r\n\r\n    public static string FindPattern(string s)\r\n    {\r\n        for (int length = 1; length &lt;= s.Length / 2; length++)\r\n        {\r\n            string pattern = s.Substring(0, length);\r\n            if(MatchesPattern(s, pattern))\r\n            {\r\n                return pattern;\r\n            }\r\n        }\r\n        return s;\r\n    }\r\n\r\n    public static bool MatchesPattern(string s, string pattern)\r\n    {\r\n        for (int i = 0; i &lt; s.Length; i++)\r\n        {\r\n            if(!s[i].Equals(pattern[i%pattern.Length]))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n","title":"Finding a repeated pattern in a string","body":"<p>Written in C#, but translation should be trivial.</p>\n\n<pre><code>public static string FindPattern(string s)\n{\n    for (int length = 1; length &lt;= s.Length / 2; length++)\n    {\n        string pattern = s.Substring(0, length);\n        if(MatchesPattern(s, pattern))\n        {\n            return pattern;\n        }\n    }\n    return s;\n}\n\npublic static bool MatchesPattern(string s, string pattern)\n{\n    for (int i = 0; i &lt; s.Length; i++)\n    {\n        if(!s[i].Equals(pattern[i%pattern.Length]))\n        {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1506559087,"post_id":21962028,"comment_id":79873696,"body_markdown":"@santhoshkumar depends what you mean by &quot;works&quot;. What result do you expect from `AAAAAAB`?","body":"@santhoshkumar depends what you mean by &quot;works&quot;. What result do you expect from <code>AAAAAAB</code>?"},{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1506563411,"post_id":21962028,"comment_id":79874667,"body_markdown":"Oops.., Sorry for not being clear. For example.., &quot;AAAAAAB&quot; i need output as &quot;AAAAAAB&quot; but this is returning &quot;AB&quot;. How i can tweak this?","body":"Oops.., Sorry for not being clear. For example.., &quot;AAAAAAB&quot; i need output as &quot;AAAAAAB&quot; but this is returning &quot;AB&quot;. How i can tweak this?"},{"owner":{"account_id":1386383,"reputation":7652,"user_id":2023745,"accept_rate":61,"display_name":"TheRealFakeNews"},"score":0,"creation_date":1655533279,"post_id":21962028,"comment_id":128359082,"body_markdown":"@Bohemian What would be the time complexity of this? Not sure how regex works with something like this, but I imagine multiple scans?","body":"@Bohemian What would be the time complexity of this? Not sure how regex works with something like this, but I imagine multiple scans?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1655564001,"post_id":21962028,"comment_id":128364063,"body_markdown":"@TheRealFakeNews time complexity is approx O(n log n): There is only one pass, but there is some re-checking of following chars along the way as the quantity of `.+?` grows. If long sequences were expected to be repeated, the greedier `.+` may be faster.","body":"@TheRealFakeNews time complexity is approx O(n log n): There is only one pass, but there is some re-checking of following chars along the way as the quantity of <code>.+?</code> grows. If long sequences were expected to be repeated, the greedier <code>.+</code> may be faster."},{"owner":{"account_id":1386383,"reputation":7652,"user_id":2023745,"accept_rate":61,"display_name":"TheRealFakeNews"},"score":0,"creation_date":1655619905,"post_id":21962028,"comment_id":128371779,"body_markdown":"@Bohemian How is it you came to nlogn?","body":"@Bohemian How is it you came to nlogn?"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":5,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1506536291,"creation_date":1393111496,"answer_id":21962028,"question_id":21961729,"body_markdown":"If you use regex, you only need one line:\r\n\r\n    String repeated = str.replaceAll(&quot;(.+?)\\\\1+&quot;, &quot;$1&quot;);\r\n\r\nBreaking down the regex `(.+?)\\1`:\r\n\r\n- `(.+?)` means &quot;at least one character, but as few as possible, captured as group 1&quot;\r\n- `\\1` means &quot;the same character(s) as group 1\r\n\r\n---\r\n\r\nHere&#39;s some test code:\r\n\r\n    String[] strs = {&quot;AAAAAAAAA&quot;, &quot;ABABAB&quot;, &quot;ABCAB&quot;, &quot;ABAb&quot;};\r\n    for (String str : strs) {\r\n        String repeated = str.replaceAll(&quot;(.+?)\\\\1+&quot;, &quot;$1&quot;);\r\n        System.out.println(repeated);\r\n    }\r\n\r\nOutput:\r\n\r\n    A\r\n    AB\r\n    ABCAB\r\n    ABAb\r\n","title":"Finding a repeated pattern in a string","body":"<p>If you use regex, you only need one line:</p>\n\n<pre><code>String repeated = str.replaceAll(\"(.+?)\\\\1+\", \"$1\");\n</code></pre>\n\n<p>Breaking down the regex <code>(.+?)\\1</code>:</p>\n\n<ul>\n<li><code>(.+?)</code> means \"at least one character, but as few as possible, captured as group 1\"</li>\n<li><code>\\1</code> means \"the same character(s) as group 1</li>\n</ul>\n\n<hr>\n\n<p>Here's some test code:</p>\n\n<pre><code>String[] strs = {\"AAAAAAAAA\", \"ABABAB\", \"ABCAB\", \"ABAb\"};\nfor (String str : strs) {\n    String repeated = str.replaceAll(\"(.+?)\\\\1+\", \"$1\");\n    System.out.println(repeated);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>A\nAB\nABCAB\nABAb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3781487,"reputation":1,"user_id":3140831,"display_name":"ctrl-open-bracket"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508867765,"creation_date":1508867765,"answer_id":46917067,"question_id":21961729,"body_markdown":"If you might have spaces between the repeated segment:\r\n\r\n    (.+?)(\\\\ ?\\\\1)+","title":"Finding a repeated pattern in a string","body":"<p>If you might have spaces between the repeated segment:</p>\n\n<pre><code>(.+?)(\\\\ ?\\\\1)+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":950155,"reputation":93,"user_id":976473,"accept_rate":0,"display_name":"PARUS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675280454,"creation_date":1675280454,"answer_id":75315367,"question_id":21961729,"body_markdown":"Yon don&#39;t need reexp to find pattern.  Knuth-Morris-Pratt KMP Algorithm can do this much faster.\r\n\r\n    func getPattern(s string) string {\r\n\t   res := make([]int, len(s)+1)\r\n\r\n\t   i := 0\r\n\t   j := -1\r\n\t   res[0] = -1\r\n\r\n\t   var patternLength int\r\n\t   for i &lt; len(s) {\r\n\t\t   if j == -1 || s[i] == s[j] {\r\n\t\t\t   i++\r\n\t\t\t   j++\r\n\t\t\t   res[i] = j\r\n\t\t\t   if res[i] == 0 {\r\n\t\t\t\t   patternLength++\r\n\t\t\t   } else {\r\n\t\t\t\t   break\r\n\t\t\t   }\r\n\t\t   } else {\r\n\t\t\t   j = res[j]\r\n\t\t   }\r\n\t   }\r\n\t   if patternLength == len(s) {\r\n\t\t   patternLength = 0\r\n\t   }\r\n\t   return s[:patternLength]\r\n    }\r\n\r\n\r\n**Unit Tests**\r\n\r\n    func Test_getPattern(t *testing.T) {\r\n\t\ttestCases := []struct {\r\n\t\t\tstr1     string\r\n\t\t\texpected string\r\n\t\t}{\r\n\t\t\t{&quot;AAAAAAAAA&quot;, &quot;A&quot;},\r\n\t\t\t{&quot;ABCABC&quot;, &quot;ABC&quot;},\r\n\t\t\t{&quot;ABABAB&quot;, &quot;AB&quot;},\r\n\t\t\t{&quot;LEET&quot;, &quot;&quot;},\r\n\t\t}\r\n\t\r\n\t\tfor _, tc := range testCases {\r\n\t\t\tactual := getPattern(tc.str1)\r\n\t\t\tif tc.expected != actual {\r\n\t\t\t\tt.Errorf(&quot;Source: s1:%s\\n   Expected:%s\\n   Actual:  %s&quot;,\r\n\t\t\t\t\ttc.str1,\r\n\t\t\t\t\ttc.expected,\r\n\t\t\t\t\tactual)\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Finding a repeated pattern in a string","body":"<p>Yon don't need reexp to find pattern.  Knuth-Morris-Pratt KMP Algorithm can do this much faster.</p>\n<pre><code>func getPattern(s string) string {\n   res := make([]int, len(s)+1)\n\n   i := 0\n   j := -1\n   res[0] = -1\n\n   var patternLength int\n   for i &lt; len(s) {\n       if j == -1 || s[i] == s[j] {\n           i++\n           j++\n           res[i] = j\n           if res[i] == 0 {\n               patternLength++\n           } else {\n               break\n           }\n       } else {\n           j = res[j]\n       }\n   }\n   if patternLength == len(s) {\n       patternLength = 0\n   }\n   return s[:patternLength]\n}\n</code></pre>\n<p><strong>Unit Tests</strong></p>\n<pre><code>func Test_getPattern(t *testing.T) {\n    testCases := []struct {\n        str1     string\n        expected string\n    }{\n        {&quot;AAAAAAAAA&quot;, &quot;A&quot;},\n        {&quot;ABCABC&quot;, &quot;ABC&quot;},\n        {&quot;ABABAB&quot;, &quot;AB&quot;},\n        {&quot;LEET&quot;, &quot;&quot;},\n    }\n\n    for _, tc := range testCases {\n        actual := getPattern(tc.str1)\n        if tc.expected != actual {\n            t.Errorf(&quot;Source: s1:%s\\n   Expected:%s\\n   Actual:  %s&quot;,\n                tc.str1,\n                tc.expected,\n                actual)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3830343,"reputation":65,"user_id":3176041,"display_name":"jwaang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14934,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":21961802,"answer_count":5,"score":6,"last_activity_date":1675280454,"creation_date":1393109556,"question_id":21961729,"body_markdown":"How can I find a repeated pattern in a string? For example, if the input file were\r\n\r\n    AAAAAAAAA\r\n    ABABAB\r\n    ABCAB\r\n    ABAb\r\n\r\nit would output:\r\n\r\n    A\r\n    AB\r\n    ABCAB\r\n    ABAb","title":"Finding a repeated pattern in a string","body":"<p>How can I find a repeated pattern in a string? For example, if the input file were</p>\n\n<pre><code>AAAAAAAAA\nABABAB\nABCAB\nABAb\n</code></pre>\n\n<p>it would output:</p>\n\n<pre><code>A\nAB\nABCAB\nABAb\n</code></pre>\n"},{"tags":["java","maven","junit","jar","m2eclipse"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1675280062,"post_id":75315285,"comment_id":132896855,"body_markdown":"Picking up files from a target folder of a different project is the wrong approach.","body":"Picking up files from a target folder of a different project is the wrong approach."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675284916,"post_id":75315285,"comment_id":132898305,"body_markdown":"Accessing a resource via `File` is simply wrong.. use `this.getClass().getResourceAsStream(...)`...","body":"Accessing a resource via <code>File</code> is simply wrong.. use <code>this.getClass().getResourceAsStream(...)</code>..."},{"owner":{"account_id":13752617,"reputation":89,"user_id":9924341,"display_name":"Subhranil Sengupta"},"score":0,"creation_date":1675319790,"post_id":75315285,"comment_id":132904242,"body_markdown":"This is a legacy code and this util class is used all over our code. Changing to inputStream won&#39;t work. Is there any other alternative?","body":"This is a legacy code and this util class is used all over our code. Changing to inputStream won&#39;t work. Is there any other alternative?"}],"owner":{"account_id":13752617,"reputation":89,"user_id":9924341,"display_name":"Subhranil Sengupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675279852,"creation_date":1675279852,"question_id":75315285,"body_markdown":"I have a maven Project A which has Project B in its dependencies.\r\nNow, the Project A has few test cases which refers to a xml file inside Project B.\r\n\r\nWhen I run this test cases in Project A, through Eclipse, the test case passes. \r\nBut when I try to run the same test case using Command line, it fails with nullpointer exception.\r\n\r\nThe Exception comes as JVM is unable to get Java.net.URI.getPath() for the same resource. When running from CMD, the jvm gets the URI of the jar and not the Project and hence it fails to read the content.\r\nWhen running from Eclipse, Eclipse automatically resolves the workspace project from the Project B and get the XML file from its target folder.\r\n\r\nI was able to reproduce the same issue in Eclipse by switching off the workspace resolution.\r\n\r\n**Project B code :**\r\n\r\n    static {\r\n    \t\tmedRefFileUri = ResourceUtil.getResourceURI(MedRefPDO.class, MEDREF_FILE);\r\n    \t\tif (medRefFileUri != null) {\r\n    \t\t\tresourceMgrInstance = new MedRefSourceFileManager();\r\n    \t\t\tregStatus = ResourceMonitor.getInstance().register(resourceMgrInstance, medRefFileUri);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    public ResourceManager.RegistrationStatus register(ResourceManager resourceManager, URI uri) {\r\n    \t\tif (uri == null) {\r\n    \t\t\tlog.error(&quot;error registering uri -  null uri&quot;);\r\n    \t\t\treturn RegistrationStatus.ERROR_NULL_URI;\r\n    \t\t}\r\n    \t\tString fileName = uri.getPath().replaceAll(&quot;%20&quot;, &quot; &quot;);\r\n    \t\tFile configFile = new File(fileName);\r\n\t\t\r\nWe are getting null pointer exception on the last second line. Upon debugging, found the URI to be \r\n\r\n    jar:file:/C:/Users/susengupta/.m2/repository/com/gehcit/cp/ProjectB/1.0/ProjectB-1.0.jar!/com/gehcit/cp/medref/pdo/MedRef.xml\r\n\r\nand that is the exact location of the resource file.\r\n\r\nAs we just want to run Junits, we can easily refer the resource files from Project B&#39;s target folder but I am not able to find a way how to configure maven so that it picks up the URI from Project B&#39;s target folder without using any IDE. Earlier when we used to run the junits using ANT, we were able to run this test case successfully.","title":"How to refer to a project and not jar while running test cases in Maven","body":"<p>I have a maven Project A which has Project B in its dependencies.\nNow, the Project A has few test cases which refers to a xml file inside Project B.</p>\n<p>When I run this test cases in Project A, through Eclipse, the test case passes.\nBut when I try to run the same test case using Command line, it fails with nullpointer exception.</p>\n<p>The Exception comes as JVM is unable to get Java.net.URI.getPath() for the same resource. When running from CMD, the jvm gets the URI of the jar and not the Project and hence it fails to read the content.\nWhen running from Eclipse, Eclipse automatically resolves the workspace project from the Project B and get the XML file from its target folder.</p>\n<p>I was able to reproduce the same issue in Eclipse by switching off the workspace resolution.</p>\n<p><strong>Project B code :</strong></p>\n<pre><code>static {\n        medRefFileUri = ResourceUtil.getResourceURI(MedRefPDO.class, MEDREF_FILE);\n        if (medRefFileUri != null) {\n            resourceMgrInstance = new MedRefSourceFileManager();\n            regStatus = ResourceMonitor.getInstance().register(resourceMgrInstance, medRefFileUri);\n        }\n    }\n\n\npublic ResourceManager.RegistrationStatus register(ResourceManager resourceManager, URI uri) {\n        if (uri == null) {\n            log.error(&quot;error registering uri -  null uri&quot;);\n            return RegistrationStatus.ERROR_NULL_URI;\n        }\n        String fileName = uri.getPath().replaceAll(&quot;%20&quot;, &quot; &quot;);\n        File configFile = new File(fileName);\n    \n</code></pre>\n<p>We are getting null pointer exception on the last second line. Upon debugging, found the URI to be</p>\n<pre><code>jar:file:/C:/Users/susengupta/.m2/repository/com/gehcit/cp/ProjectB/1.0/ProjectB-1.0.jar!/com/gehcit/cp/medref/pdo/MedRef.xml\n</code></pre>\n<p>and that is the exact location of the resource file.</p>\n<p>As we just want to run Junits, we can easily refer the resource files from Project B's target folder but I am not able to find a way how to configure maven so that it picks up the URI from Project B's target folder without using any IDE. Earlier when we used to run the junits using ANT, we were able to run this test case successfully.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1675441029,"post_id":75315221,"comment_id":132936327,"body_markdown":"Have you tried this and got some errors? The same Spring Kafka properties you use for mapping can also be used here. However, you need to put them under `spring.cloud.sream.kafka.streams.binder.configuration.spring.json.....`. If things are still not working, please put together a small sample app and we can look into it further.","body":"Have you tried this and got some errors? The same Spring Kafka properties you use for mapping can also be used here. However, you need to put them under <code>spring.cloud.sream.kafka.streams.binder.configuration.spring&zwnj;&#8203;.json.....</code>. If things are still not working, please put together a small sample app and we can look into it further."}],"owner":{"account_id":27678873,"reputation":11,"user_id":21128090,"display_name":"Adam Thompson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675279540,"creation_date":1675279540,"question_id":75315221,"body_markdown":"I have a Kafka consumer that is implemented using Spring&#39;s Kafka Streams API. The consumer looks something like this:\r\n\r\n```java\r\n@Bean\r\npublic Consumer&lt;KStream&lt;String, Foo&gt;&gt; fooProcess() {\r\n    return input -&gt; input\r\n        .foreach((key, value) -&gt; {\r\n            processFoo(value);\r\n         });\r\n}\r\n```\r\n\r\nThe problem I&#39;m having is that messages consumed from this topic are serialized as type `some.package.foo`, but my application uses `some.other.package.foo`. I know it&#39;s possible to map these two types using standard Spring Kafka, but I can&#39;t for the life of me figure out how to specify this mapping when using the streams API.\r\n\r\nAny guidance would be greatly appreciated!\r\n\r\n","title":"Spring Cloud Stream Kafka: Specify JSON Type Mappings","body":"<p>I have a Kafka consumer that is implemented using Spring's Kafka Streams API. The consumer looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Consumer&lt;KStream&lt;String, Foo&gt;&gt; fooProcess() {\n    return input -&gt; input\n        .foreach((key, value) -&gt; {\n            processFoo(value);\n         });\n}\n</code></pre>\n<p>The problem I'm having is that messages consumed from this topic are serialized as type <code>some.package.foo</code>, but my application uses <code>some.other.package.foo</code>. I know it's possible to map these two types using standard Spring Kafka, but I can't for the life of me figure out how to specify this mapping when using the streams API.</p>\n<p>Any guidance would be greatly appreciated!</p>\n"},{"tags":["java","spring","spring-boot","grpc","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":0,"creation_date":1676898436,"post_id":75315075,"comment_id":133224256,"body_markdown":"In the first approach so do I need to detach the context in the finally block? as callable throws an exception. or is it taken care by the grpc-java implementation?","body":"In the first approach so do I need to detach the context in the finally block? as callable throws an exception. or is it taken care by the grpc-java implementation?"},{"owner":{"account_id":14947494,"reputation":521,"user_id":10792320,"display_name":"San P"},"score":1,"creation_date":1678171682,"post_id":75315075,"comment_id":133476959,"body_markdown":"In the first approach i.e. using `io.grpc.Context.call()` if you look at the implementation it already calls `detach()` inside `finally`. So no you don&#39;t need to detach","body":"In the first approach i.e. using <code>io.grpc.Context.call()</code> if you look at the implementation it already calls <code>detach()</code> inside <code>finally</code>. So no you don&#39;t need to detach"}],"tags":[],"owner":{"account_id":14947494,"reputation":521,"user_id":10792320,"display_name":"San P"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675279408,"creation_date":1675278669,"answer_id":75315075,"question_id":75306507,"body_markdown":"The context you created needs to be used when you make the call. So your code should be:\r\n\r\n```\r\nreturn Context.current()\r\n   .withValue(ContextKeyHolder.USER_INFO, currentUser.getUsername())\r\n   .withValue(ContextKeyHolder.BEARER, currentUser.getBearerToken())\r\n   .call(() -&gt; { return grpcClient.getEmployee(...);});\r\n```\r\n\r\nAlternatively:\r\n\r\n```\r\n  Context oldContext = \r\n   Context.current()\r\n     .withValue(ContextKeyHolder.USER_INFO, currentUser.getUsername())\r\n     .withValue(ContextKeyHolder.BEARER, currentUser.getBearerToken())\r\n     .attach();\r\n  \r\n  Employee valueToReturn = grpcClient.getEmployee(...);\r\n  Context.current().detach(oldContext);\r\n  return valueToReturn;\r\n```\r\n","title":"How do I pass bearer token and other info from Spring Service to Grpc Interceptor?","body":"<p>The context you created needs to be used when you make the call. So your code should be:</p>\n<pre><code>return Context.current()\n   .withValue(ContextKeyHolder.USER_INFO, currentUser.getUsername())\n   .withValue(ContextKeyHolder.BEARER, currentUser.getBearerToken())\n   .call(() -&gt; { return grpcClient.getEmployee(...);});\n</code></pre>\n<p>Alternatively:</p>\n<pre><code>  Context oldContext = \n   Context.current()\n     .withValue(ContextKeyHolder.USER_INFO, currentUser.getUsername())\n     .withValue(ContextKeyHolder.BEARER, currentUser.getBearerToken())\n     .attach();\n  \n  Employee valueToReturn = grpcClient.getEmployee(...);\n  Context.current().detach(oldContext);\n  return valueToReturn;\n</code></pre>\n"}],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75315075,"answer_count":1,"score":0,"last_activity_date":1675279408,"creation_date":1675233864,"question_id":75306507,"body_markdown":"I have a Spring GraphQL application that calls the other internal microservice using the gRPC protocol. I need to set the bearer token and other information to the gRPC header, I believe we can set it up using the gRPC interceptor (`ClientInterceptor` implementation).\r\n\r\nI tried the below approach:\r\n\r\nBased on https://stackoverflow.com/questions/57098288/how-to-access-attributes-from-grpc-context-current I created a key so that we can refer it in spring-service and interceptor\r\n\r\n```\r\npublic class ContextKeyHolder {\r\n  public static Context.Key&lt;String&gt; USER_INFO = Context.key(&quot;USER&quot;);\r\n  public static Context.Key&lt;String&gt; BEARER = Context.key(&quot;BEARER&quot;);\r\n}\r\n\r\n// spring-service method\r\npublic Employee getEmployee() {\r\n  ...\r\n  Context.current().withValue(ContextKeyHolder.USER_INFO, currentUser.getUsername());\r\n  Context.current().withValue(ContextKeyHolder.BEARER, currentUser.getBearerToken());\r\n  return grpcClient.getEmployee(...);\r\n}\r\n\r\n// interceptCall implementation\r\npublic &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(MethodDescriptor&lt;ReqT, RespT&gt; methodDescriptor,\r\n    CallOptions callOptions, Channel channel) {\r\n    return new ForwardingClientCall.SimpleForwardingClientCall&lt;&gt;(\r\n      channel.newCall(methodDescriptor, callOptions)) {\r\n     \r\n      @Override\r\n      public void start(Listener&lt;RespT&gt; responseListener, Metadata headers) {\r\n        ...\r\n        \r\n        String userInfo = ContextKeyHolder.USER_INFO.get(Context.current());\r\n        System.out.println(&quot;user =&gt; &quot; + userInfo);\r\n        \r\n        ...\r\n        super.start(responseListener, headers);\r\n      }\r\n    };\r\n  }\r\n\r\n```\r\n\r\nHere I am getting `null` userInfo in the interceptor method. am I missing something here?\r\n\r\nThe other option is to use ThreadLocal to hold the context but I am kind of not sure if it&#39;s the right choice here.","title":"How do I pass bearer token and other info from Spring Service to Grpc Interceptor?","body":"<p>I have a Spring GraphQL application that calls the other internal microservice using the gRPC protocol. I need to set the bearer token and other information to the gRPC header, I believe we can set it up using the gRPC interceptor (<code>ClientInterceptor</code> implementation).</p>\n<p>I tried the below approach:</p>\n<p>Based on <a href=\"https://stackoverflow.com/questions/57098288/how-to-access-attributes-from-grpc-context-current\">How to Access attributes from grpc Context.current()?</a> I created a key so that we can refer it in spring-service and interceptor</p>\n<pre><code>public class ContextKeyHolder {\n  public static Context.Key&lt;String&gt; USER_INFO = Context.key(&quot;USER&quot;);\n  public static Context.Key&lt;String&gt; BEARER = Context.key(&quot;BEARER&quot;);\n}\n\n// spring-service method\npublic Employee getEmployee() {\n  ...\n  Context.current().withValue(ContextKeyHolder.USER_INFO, currentUser.getUsername());\n  Context.current().withValue(ContextKeyHolder.BEARER, currentUser.getBearerToken());\n  return grpcClient.getEmployee(...);\n}\n\n// interceptCall implementation\npublic &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(MethodDescriptor&lt;ReqT, RespT&gt; methodDescriptor,\n    CallOptions callOptions, Channel channel) {\n    return new ForwardingClientCall.SimpleForwardingClientCall&lt;&gt;(\n      channel.newCall(methodDescriptor, callOptions)) {\n     \n      @Override\n      public void start(Listener&lt;RespT&gt; responseListener, Metadata headers) {\n        ...\n        \n        String userInfo = ContextKeyHolder.USER_INFO.get(Context.current());\n        System.out.println(&quot;user =&gt; &quot; + userInfo);\n        \n        ...\n        super.start(responseListener, headers);\n      }\n    };\n  }\n\n</code></pre>\n<p>Here I am getting <code>null</code> userInfo in the interceptor method. am I missing something here?</p>\n<p>The other option is to use ThreadLocal to hold the context but I am kind of not sure if it's the right choice here.</p>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1675250985,"post_id":75309461,"comment_id":132886990,"body_markdown":"In your pom.xml or gradle build file, the version of `Guava` is v26_0_jre ?","body":"In your pom.xml or gradle build file, the version of <code>Guava</code> is v26_0_jre ?"}],"answers":[{"comments":[{"owner":{"account_id":10374943,"reputation":1044,"user_id":7651397,"accept_rate":34,"display_name":"rish0097"},"score":0,"creation_date":1675273787,"post_id":75309680,"comment_id":132895001,"body_markdown":"Actually the error I see is from org-apache-beam.beam-vendor-guava-26_0-jre. That i think is being used internally by beam and apparently it seems to be the only version available.","body":"Actually the error I see is from org-apache-beam.beam-vendor-guava-26_0-jre. That i think is being used internally by beam and apparently it seems to be the only version available."},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1675297390,"post_id":75309680,"comment_id":132901090,"body_markdown":"In my example, there are many dependencies where an old Guava version was excluded. Can you share your build file (pom) in your question ?","body":"In my example, there are many dependencies where an old Guava version was excluded. Can you share your build file (pom) in your question ?"}],"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675251785,"creation_date":1675251785,"answer_id":75309680,"question_id":75309461,"body_markdown":"I think you have a dependency conflict with `Guava` in your `Maven` `pom` or `Gradle` build file. I share with you the `Guava` version I used in my pom file for `Beam` 2.43.0 or 2.44.0 version : \r\n\r\n```xml\r\n&lt;guava.version&gt;31.0.1-jre&lt;/guava.version&gt;\r\n``` \r\n\r\nIf you use the following dependencies, you have to exclude an old version of `Guava` : \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n    &lt;version&gt;${google-api-client.version}&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;!-- Exclude an old version of guava that is being pulled\r\n             in by a transitive dependency of google-api-client --&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-api-services-bigquery&lt;/artifactId&gt;\r\n    &lt;version&gt;${bigquery.version}&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;!-- Exclude an old version of guava that is being pulled\r\n             in by a transitive dependency of google-api-client --&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;!-- Exclude an old version of guava that is being pulled\r\n             in by a transitive dependency of google-api-client --&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-api-services-pubsub&lt;/artifactId&gt;\r\n    &lt;version&gt;${pubsub.version}&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;!-- Exclude an old version of guava that is being pulled\r\n             in by a transitive dependency of google-api-client --&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI hope it can help.","title":"Apache Beam Java (SDK versions 2.43.0 - 2.44.0) batch loads to BigQuery fail using Storage Write API","body":"<p>I think you have a dependency conflict with <code>Guava</code> in your <code>Maven</code> <code>pom</code> or <code>Gradle</code> build file. I share with you the <code>Guava</code> version I used in my pom file for <code>Beam</code> 2.43.0 or 2.44.0 version :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;guava.version&gt;31.0.1-jre&lt;/guava.version&gt;\n</code></pre>\n<p>If you use the following dependencies, you have to exclude an old version of <code>Guava</code> :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;${google-api-client.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;!-- Exclude an old version of guava that is being pulled\n             in by a transitive dependency of google-api-client --&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-services-bigquery&lt;/artifactId&gt;\n    &lt;version&gt;${bigquery.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;!-- Exclude an old version of guava that is being pulled\n             in by a transitive dependency of google-api-client --&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;!-- Exclude an old version of guava that is being pulled\n             in by a transitive dependency of google-api-client --&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-services-pubsub&lt;/artifactId&gt;\n    &lt;version&gt;${pubsub.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;!-- Exclude an old version of guava that is being pulled\n             in by a transitive dependency of google-api-client --&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I hope it can help.</p>\n"}],"owner":{"account_id":10374943,"reputation":1044,"user_id":7651397,"accept_rate":34,"display_name":"rish0097"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675279167,"creation_date":1675250616,"question_id":75309461,"body_markdown":"I have a batch Apache Beam pipeline that worked successfully until I upgraded from version 2.42 to 2.43 and above. The pipeline uses Storage Write API to write to Biguery and it now fails with the error: `&quot;Error message from worker: org.apache.beam.vendor.guava.v26_0_jre.com.google.common.util.concurrent.ExecutionError:java.lang.NoSuchMethodError: &#39;com.google.cloud.biguery.storage.v1.StreamWriter$Builder com.google.cloud.biguery.storage.v1.StreamWriter$Builder.setEnableConnectionPool(bool)&#39;&quot;`.\r\n\r\nWhen I switched to FileLoads method instead of StorageWriteAPI it works again. But wondering what&#39;s wrong with StorageWriteAPI now. Tried checking the release notes but couldn&#39;t find anything helpful (https://github.com/apache/beam/releases). Can I please get some help here?","title":"Apache Beam Java (SDK versions 2.43.0 - 2.44.0) batch loads to BigQuery fail using Storage Write API","body":"<p>I have a batch Apache Beam pipeline that worked successfully until I upgraded from version 2.42 to 2.43 and above. The pipeline uses Storage Write API to write to Biguery and it now fails with the error: <code>&quot;Error message from worker: org.apache.beam.vendor.guava.v26_0_jre.com.google.common.util.concurrent.ExecutionError:java.lang.NoSuchMethodError: 'com.google.cloud.biguery.storage.v1.StreamWriter$Builder com.google.cloud.biguery.storage.v1.StreamWriter$Builder.setEnableConnectionPool(bool)'&quot;</code>.</p>\n<p>When I switched to FileLoads method instead of StorageWriteAPI it works again. But wondering what's wrong with StorageWriteAPI now. Tried checking the release notes but couldn't find anything helpful (<a href=\"https://github.com/apache/beam/releases\" rel=\"nofollow noreferrer\">https://github.com/apache/beam/releases</a>). Can I please get some help here?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1410529253,"post_id":22936009,"comment_id":40372139,"body_markdown":"possible duplicate of [replace special characters in string in java](http://stackoverflow.com/questions/2608205/replace-special-characters-in-string-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2608205/replace-special-characters-in-string-in-java\">replace special characters in string in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":3534754,"reputation":38579,"user_id":2953344,"accept_rate":75,"display_name":"Sabuj Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396957668,"creation_date":1396957668,"answer_id":22936086,"question_id":22936009,"body_markdown":"Try this:\r\n\r\n    str.replaceAll(&quot;[\\\\p{Punct}\\\\s\\\\d]+&quot;, &quot; &quot;);\r\n\r\nReplacing punctuation, digits and white spaces with a single space.","title":"Remove white space and special characters in Java","body":"<p>Try this:</p>\n\n<pre><code>str.replaceAll(\"[\\\\p{Punct}\\\\s\\\\d]+\", \" \");\n</code></pre>\n\n<p>Replacing punctuation, digits and white spaces with a single space.</p>\n"},{"comments":[{"owner":{"account_id":4259399,"reputation":8159,"user_id":3484146,"display_name":"ifloop"},"score":0,"creation_date":1396957954,"post_id":22936099,"comment_id":35012992,"body_markdown":"@Dev are your sure you added the `(` and `)` in the regex as shown above?  This solution works!","body":"@Dev are your sure you added the <code>(</code> and <code>)</code> in the regex as shown above?  This solution works!"},{"owner":{"account_id":4136270,"reputation":459,"user_id":3392874,"display_name":"TomasZ."},"score":0,"creation_date":1396959667,"post_id":22936099,"comment_id":35014200,"body_markdown":"I think you should accept @Arian &#39;s answer to close the thread.","body":"I think you should accept @Arian &#39;s answer to close the thread."}],"tags":[],"owner":{"account_id":4136270,"reputation":459,"user_id":3392874,"display_name":"TomasZ."},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675278915,"creation_date":1396957699,"answer_id":22936099,"question_id":22936009,"body_markdown":"The OR operator (`|`) should work:\r\n\r\n    System.out.println(str.replaceAll(&quot;([^a-zA-Z]|\\\\s)+&quot;, &quot; &quot;));\r\n\r\nActually, the space doesn&#39;t have to be there at all:\r\n\r\n    System.out.println(str.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot; &quot;));\r\n","title":"Remove white space and special characters in Java","body":"<p>The OR operator (<code>|</code>) should work:</p>\n<pre><code>System.out.println(str.replaceAll(&quot;([^a-zA-Z]|\\\\s)+&quot;, &quot; &quot;));\n</code></pre>\n<p>Actually, the space doesn't have to be there at all:</p>\n<pre><code>System.out.println(str.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot; &quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1396958071,"post_id":22936215,"comment_id":35013074,"body_markdown":"This does not solve the OP&#39;s problem of reducing the spaces to one signle space. &quot;# &quot; should be replaced by &quot; &quot;, not 2 spaces.","body":"This does not solve the OP&#39;s problem of reducing the spaces to one signle space. &quot;# &quot; should be replaced by &quot; &quot;, not 2 spaces."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1396958240,"post_id":22936215,"comment_id":35013218,"body_markdown":"Nevermind, I had been misleaded by the previous post including \\\\s, forgetting the negation included the spaces ^^","body":"Nevermind, I had been misleaded by the previous post including \\\\s, forgetting the negation included the spaces ^^"},{"owner":{"account_id":2113659,"reputation":974,"user_id":1879395,"display_name":"ssssteffff"},"score":2,"creation_date":1396958310,"post_id":22936215,"comment_id":35013256,"body_markdown":"I was about to write the same answer. Working code here: http://ideone.com/QbszDu","body":"I was about to write the same answer. Working code here: <a href=\"http://ideone.com/QbszDu\" rel=\"nofollow noreferrer\">ideone.com/QbszDu</a>"},{"owner":{"account_id":1319604,"reputation":1864,"user_id":1265684,"accept_rate":65,"display_name":"Devendra"},"score":0,"creation_date":1396959958,"post_id":22936215,"comment_id":35014414,"body_markdown":"I am not able to understand the &quot;+&quot; in the  [^a-zA-Z]+. please explain the work of plus(+).","body":"I am not able to understand the &quot;+&quot; in the  [^a-zA-Z]+. please explain the work of plus(+)."},{"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"score":0,"creation_date":1396960654,"post_id":22936215,"comment_id":35014933,"body_markdown":"In [regexes](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html), `+` is a quantifier that means that the pattern is repeated one or more times. (`*` means any number of times, including zero; `?` means optional)","body":"In <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">regexes</a>, <code>+</code> is a quantifier that means that the pattern is repeated one or more times. (<code>*</code> means any number of times, including zero; <code>?</code> means optional)"},{"owner":{"account_id":1319604,"reputation":1864,"user_id":1265684,"accept_rate":65,"display_name":"Devendra"},"score":0,"creation_date":1396963852,"post_id":22936215,"comment_id":35017591,"body_markdown":"thanks Arian,I know that but here i am not able to recognize how it is removing spaces.","body":"thanks Arian,I know that but here i am not able to recognize how it is removing spaces."},{"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"score":0,"creation_date":1396964260,"post_id":22936215,"comment_id":35017914,"body_markdown":"`[^a-zA-Z]` matches any character that is not a letter, including spaces. The `+` makes that that the hole sequence is matched at once (Look [here](http://regexpal.com/?flags=g&amp;regex=[^a-zA-Z]%2B&amp;input=45%2C%25%24^%20Sharma%25%24%26^%2Cis%2C46%26*%20a%24%23%20java%23%2443%20Developer%24%23%24^%20in%23%24^%20CST%26^*%20web*%26%28%2Cbut%20He%25^%26^%25%20want%20to%20move%40!%24%40%23%20in%20another%20team) for a visualization). The sequence is then replaced with a single space.","body":"<code>[^a-zA-Z]</code> matches any character that is not a letter, including spaces. The <code>+</code> makes that that the hole sequence is matched at once (Look <a href=\"http://regexpal.com/?flags=g&amp;regex=%5B%5Ea-zA-Z%5D%2B&amp;input=45%2C%25%24%5E%20Sharma%25%24%26%5E%2Cis%2C46%26%2A%20a%24%23%20java%23%2443%20Developer%24%23%24%5E%20in%23%24%5E%20CST%26%5E%2A%20web%2A%26%28%2Cbut%20He%25%5E%26%5E%25%20want%20to%20move%40!%24%40%23%20in%20another%20team\" rel=\"nofollow noreferrer\">here</a> for a visualization). The sequence is then replaced with a single space."},{"owner":{"account_id":1066386,"reputation":8876,"user_id":1066839,"accept_rate":59,"display_name":"John"},"score":0,"creation_date":1475588543,"post_id":22936215,"comment_id":66995623,"body_markdown":"he did not asked even a single space, why are you adding single space. It should be str.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;&quot;)","body":"he did not asked even a single space, why are you adding single space. It should be str.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;&quot;)"}],"tags":[],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"comment_count":8,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1675278496,"creation_date":1396958015,"answer_id":22936215,"question_id":22936009,"body_markdown":"Replace any sequence of non-letters with a single white space:\r\n\r\n    str.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot; &quot;)\r\n\r\nYou also might want to apply [trim()][1] after the replace.\r\n\r\nIf you want to support languages other than English, use `&quot;[^\\\\p{IsAlphabetic}]+&quot;` or `&quot;[^\\\\p{IsLetter}]+&quot;`. See [this question][2] about the differences.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--\r\n  [2]: https://stackoverflow.com/questions/18304804/what-is-the-difference-between-character-isalphabetic-and-character-isletter-in\r\n","title":"Remove white space and special characters in Java","body":"<p>Replace any sequence of non-letters with a single white space:</p>\n<pre><code>str.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot; &quot;)\n</code></pre>\n<p>You also might want to apply <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--\" rel=\"nofollow noreferrer\">trim()</a> after the replace.</p>\n<p>If you want to support languages other than English, use <code>&quot;[^\\\\p{IsAlphabetic}]+&quot;</code> or <code>&quot;[^\\\\p{IsLetter}]+&quot;</code>. See <a href=\"https://stackoverflow.com/questions/18304804/what-is-the-difference-between-character-isalphabetic-and-character-isletter-in\">this question</a> about the differences.</p>\n"},{"tags":[],"owner":{"account_id":5438682,"reputation":850,"user_id":4327319,"accept_rate":100,"display_name":"Almustafa Azhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675278942,"creation_date":1588356967,"answer_id":61548279,"question_id":22936009,"body_markdown":"You can use the below to remove anything that is not a character (A-Z or a-z). \r\n\r\n    str.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;);\r\n","title":"Remove white space and special characters in Java","body":"<p>You can use the below to remove anything that is not a character (A-Z or a-z).</p>\n<pre><code>str.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":1319604,"reputation":1864,"user_id":1265684,"accept_rate":65,"display_name":"Devendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41044,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":22936215,"answer_count":4,"score":4,"last_activity_date":1675278942,"creation_date":1396957474,"question_id":22936009,"body_markdown":"I have a String which contains some special characters and white spaces as well. I want to remove white spaces and special character. I am doing it as:\r\n\r\n    String str = &quot;45,%$^ Sharma%$&amp;^,is,46&amp;* a$# Java#$43 Developer$#$^ in#$^ CST&amp;^* web*&amp;(,but he%^&amp;^% wants to move@!$@# to another team&quot;;\r\n    System.out.println(str.replaceAll(&quot;[^a-zA-Z]&quot;, &quot; &quot;).replaceAll(&quot;\\\\s+&quot;, &quot; &quot;));\r\n\r\nOutput:\r\n\r\n    sharma is a Java Developer in CST web but he wants to move to another team\r\n\r\nCan I do this using single operation? How?\r\n","title":"Remove white space and special characters in Java","body":"<p>I have a String which contains some special characters and white spaces as well. I want to remove white spaces and special character. I am doing it as:</p>\n<pre><code>String str = &quot;45,%$^ Sharma%$&amp;^,is,46&amp;* a$# Java#$43 Developer$#$^ in#$^ CST&amp;^* web*&amp;(,but he%^&amp;^% wants to move@!$@# to another team&quot;;\nSystem.out.println(str.replaceAll(&quot;[^a-zA-Z]&quot;, &quot; &quot;).replaceAll(&quot;\\\\s+&quot;, &quot; &quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>sharma is a Java Developer in CST web but he wants to move to another team\n</code></pre>\n<p>Can I do this using single operation? How?</p>\n"},{"tags":["java","selenium","generics"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1675279800,"post_id":75315109,"comment_id":132896790,"body_markdown":"usually page objects extend a base class.  So you can just pass in each as a base class type and create an arraylist or a hashtable for all those objects.  Hard to answer this without understanding the whole architecture though.","body":"usually page objects extend a base class.  So you can just pass in each as a base class type and create an arraylist or a hashtable for all those objects.  Hard to answer this without understanding the whole architecture though."}],"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675278869,"creation_date":1675278869,"question_id":75315109,"body_markdown":"In Selenium I have created a page object manager, so when a new page is created then the class needs to be added in Page Object Manager class, so that object of the page will be created only if calling Page is null else already created object will be returned.\r\n\r\nExample:\r\n\r\n    public class PageObjectManager {\r\n        private DatePicker datePicker;\r\n        public DatePicker getDatePicker(){\r\n            return (datePicker == null) ? datePicker = new DatePicker() : datePicker;\r\n        }         \r\n    }\r\n\r\nBut if there are more Pages then we have to create private fields and getter for each. So how to overcome with this.\r\n\r\nCan I use Generic here like \r\n\r\n    public class PageObjectManager&lt;T&gt; {\r\n    \r\n        private Class&lt;T&gt; pageClass;\r\n        public PageObjectManager(Class&lt;T&gt; pageClass) {\r\n        this.pageClass= pageClass;\r\n        }\r\n    }\r\n\r\n Thanks","title":"need to convert PageManager into Generic","body":"<p>In Selenium I have created a page object manager, so when a new page is created then the class needs to be added in Page Object Manager class, so that object of the page will be created only if calling Page is null else already created object will be returned.</p>\n<p>Example:</p>\n<pre><code>public class PageObjectManager {\n    private DatePicker datePicker;\n    public DatePicker getDatePicker(){\n        return (datePicker == null) ? datePicker = new DatePicker() : datePicker;\n    }         \n}\n</code></pre>\n<p>But if there are more Pages then we have to create private fields and getter for each. So how to overcome with this.</p>\n<p>Can I use Generic here like</p>\n<pre><code>public class PageObjectManager&lt;T&gt; {\n\n    private Class&lt;T&gt; pageClass;\n    public PageObjectManager(Class&lt;T&gt; pageClass) {\n    this.pageClass= pageClass;\n    }\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":3,"creation_date":1270823073,"post_id":2608205,"comment_id":2618419,"body_markdown":"Welcome to SO, zahir!  Where are you getting your strings from?  Random users?  A web service?  Are you trying to replace something with that string, or use that string to replace something else?","body":"Welcome to SO, zahir!  Where are you getting your strings from?  Random users?  A web service?  Are you trying to replace something with that string, or use that string to replace something else?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1675278212,"post_id":2608205,"comment_id":132896355,"body_markdown":"It looks like [Mojibake](https://en.wikipedia.org/wiki/Mojibake) - *&quot;...the garbled text that is the result of text being decoded using an unintended character encoding.&quot;*","body":"It looks like <a href=\"https://en.wikipedia.org/wiki/Mojibake\" rel=\"nofollow noreferrer\">Mojibake</a> - <i>&quot;...the garbled text that is the result of text being decoded using an unintended character encoding.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":11983,"reputation":71675,"user_id":23368,"accept_rate":92,"display_name":"Daniel Rikowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270823080,"creation_date":1270823080,"answer_id":2608231,"question_id":2608205,"body_markdown":"It is hard to answer the question without knowing more of the context.\r\n\r\nIn general you might have an encoding problem. See **[The Absolute Minimum Every Software Developer (...) Must Know About Unicode and Character Sets][1]** for an overview about character encodings.\r\n\r\n\r\n\r\n  [1]: http://www.joelonsoftware.com/articles/Unicode.html","title":"Replace special characters in string in Java","body":"<p>It is hard to answer the question without knowing more of the context.</p>\n\n<p>In general you might have an encoding problem. See <strong><a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">The Absolute Minimum Every Software Developer (...) Must Know About Unicode and Character Sets</a></strong> for an overview about character encodings.</p>\n"},{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1270823548,"post_id":2608241,"comment_id":2618489,"body_markdown":"source file encoding defaults to the platform default encoding, i.e. usually not UTF-8.","body":"source file encoding defaults to the platform default encoding, i.e. usually not UTF-8."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1270825945,"post_id":2608241,"comment_id":2618818,"body_markdown":"@Michael: Thanks, fixed. I wasn&#39;t just inventing that, I wonder what language/environment it actually related to? ;-) Or was it true in 1996 or something...","body":"@Michael: Thanks, fixed. I wasn&#39;t just inventing that, I wonder what language/environment it actually related to? ;-) Or was it true in 1996 or something..."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1270827398,"post_id":2608241,"comment_id":2619048,"body_markdown":"I doubt that, since UTF-8 wasn&#39;t specified until 1993, and Java instead used to have the recommendation to use native2ascii before distributing source code. I&#39;d expect UTF-8 to be the default in some newer systems, though.","body":"I doubt that, since UTF-8 wasn&#39;t specified until 1993, and Java instead used to have the recommendation to use native2ascii before distributing source code. I&#39;d expect UTF-8 to be the default in some newer systems, though."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1270827675,"post_id":2608241,"comment_id":2619103,"body_markdown":"@Michael: 1993 is earlier than 1996, and I remember it being all nifty and cool that Java supported these weird Unicode things, so it&#39;s *possible*, though not likely. ;-) (`native2ascii`, crikey, that&#39;s a blast from the past) Thanks, though, the info pre-edit was clearly wrong in 2010 regardless!","body":"@Michael: 1993 is earlier than 1996, and I remember it being all nifty and cool that Java supported these weird Unicode things, so it&#39;s <i>possible</i>, though not likely. ;-) (<code>native2ascii</code>, crikey, that&#39;s a blast from the past) Thanks, though, the info pre-edit was clearly wrong in 2010 regardless!"}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675278331,"creation_date":1270823127,"answer_id":2608241,"question_id":2608205,"body_markdown":"You can use Unicode escape sequences (such as `\\u201c` [an opening curly quote]) to &quot;avoid&quot; characters that can&#39;t be directly used in your source file encoding (which defaults to the default encoding for your platform, but you can change it with the `-encoding` parameter to `javac`).\r\n\r\n","title":"Replace special characters in string in Java","body":"<p>You can use Unicode escape sequences (such as <code>\\u201c</code> [an opening curly quote]) to &quot;avoid&quot; characters that can't be directly used in your source file encoding (which defaults to the default encoding for your platform, but you can change it with the <code>-encoding</code> parameter to <code>javac</code>).</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1270823319,"post_id":2608252,"comment_id":2618457,"body_markdown":"Hmm, there seems to be a markdown bug (link 2 isn&#39;t correctly parsed), but I can&#39;t seem to locate/fix it?","body":"Hmm, there seems to be a markdown bug (link 2 isn&#39;t correctly parsed), but I can&#39;t seem to locate/fix it?"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1270823412,"post_id":2608252,"comment_id":2618468,"body_markdown":"@BalusC: Happens to me all the time (since I link to the Java6 docs a lot), you want to replace the space near the end with `%20`.","body":"@BalusC: Happens to me all the time (since I link to the Java6 docs a lot), you want to replace the space near the end with <code>%20</code>."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1270823470,"post_id":2608252,"comment_id":2618476,"body_markdown":"@T.J. yes, that was it, thanks :) BTW: Firefox normally escapes them before pasting, but it didn&#39;t happen correctly for some odd reason. I re-created the link and the problem went away.","body":"@T.J. yes, that was it, thanks :) BTW: Firefox normally escapes them before pasting, but it didn&#39;t happen correctly for some odd reason. I re-created the link and the problem went away."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1270825879,"post_id":2608252,"comment_id":2618806,"body_markdown":"@BalusC: I find very ironic that you point out a Joel article... His first article on Unicode was full of errors and misunderstanding: I remember him posting it and thinking &quot;WTF!?&quot;. It was a &quot;ah ah I got it&quot; memorable moment from Joel, that was *full* of errors. It&#39;s actually since he posted his first article on Unicode that I started taking *everything* he ever said and keeps saying with a huge grain of salt ;)","body":"@BalusC: I find very ironic that you point out a Joel article... His first article on Unicode was full of errors and misunderstanding: I remember him posting it and thinking &quot;WTF!?&quot;. It was a &quot;ah ah I got it&quot; memorable moment from Joel, that was <i>full</i> of errors. It&#39;s actually since he posted his first article on Unicode that I started taking <i>everything</i> he ever said and keeps saying with a huge grain of salt ;)"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1270826528,"post_id":2608252,"comment_id":2618907,"body_markdown":"@Wiz: That was also one of the reasons I wrote another one myself to clarify the one and other more, even in simple terms and with practical examples and solutions. But.. It are really not that *much* errors in Joel&#39;s article as you seem to insinuate?","body":"@Wiz: That was also one of the reasons I wrote another one myself to clarify the one and other more, even in simple terms and with practical examples and solutions. But.. It are really not that <i>much</i> errors in Joel&#39;s article as you seem to insinuate?"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1270868972,"post_id":2608252,"comment_id":2622797,"body_markdown":"The only significant errors I see are (1) he says UTF-8 uses up to six bytes per character (which was true when he wrote the article, but was changed a month later), and (2) he implies that UTF-16 and UCS-2 are equivalent (which was never true).","body":"The only significant errors I see are (1) he says UTF-8 uses up to six bytes per character (which was true when he wrote the article, but was changed a month later), and (2) he implies that UTF-16 and UCS-2 are equivalent (which was never true)."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":6,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1270824526,"creation_date":1270823201,"answer_id":2608252,"question_id":2608205,"body_markdown":"You can get rid of all characters outside the [printable ASCII range][1] using [`String#replaceAll()`][2] by replacing the pattern `[^\\\\x20-\\\\x7e]` with an empty string:\r\n\r\n    a = a.replaceAll(&quot;[^\\\\x20-\\\\x7e]&quot;, &quot;&quot;);\r\n\r\nBut this actually doesn&#39;t *solve* your **actual** problem. It&#39;s more a workaround. With the given information it&#39;s hard to nail down the root cause of this problem, but reading either of those articles must help a lot:\r\n\r\n- [The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)][3]\r\n- [Unicode - How to get the characters right?][4]\r\n    \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/ASCII#ASCII_printable_characters\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\r\n  [3]: http://www.joelonsoftware.com/articles/Unicode.html\r\n  [4]: http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html","title":"Replace special characters in string in Java","body":"<p>You can get rid of all characters outside the <a href=\"http://en.wikipedia.org/wiki/ASCII#ASCII_printable_characters\" rel=\"noreferrer\">printable ASCII range</a> using <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\"><code>String#replaceAll()</code></a> by replacing the pattern <code>[^\\\\x20-\\\\x7e]</code> with an empty string:</p>\n\n<pre><code>a = a.replaceAll(\"[^\\\\x20-\\\\x7e]\", \"\");\n</code></pre>\n\n<p>But this actually doesn't <em>solve</em> your <strong>actual</strong> problem. It's more a workaround. With the given information it's hard to nail down the root cause of this problem, but reading either of those articles must help a lot:</p>\n\n<ul>\n<li><a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"noreferrer\">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a></li>\n<li><a href=\"http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html\" rel=\"noreferrer\">Unicode - How to get the characters right?</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1273000377,"post_id":2767253,"comment_id":2801046,"body_markdown":"That works if you assume &quot;special characters&quot; means ASCII control characters.  In my experience it usually means punctuation, but in this case it&#39;s anyone&#39;s guess.","body":"That works if you assume &quot;special characters&quot; means ASCII control characters.  In my experience it usually means punctuation, but in this case it&#39;s anyone&#39;s guess."}],"tags":[],"owner":{"account_id":131531,"reputation":2748,"user_id":331618,"display_name":"ablaeul"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675278399,"creation_date":1272991933,"answer_id":2767253,"question_id":2608205,"body_markdown":"Assuming that you want to remove all special characters, you can use the character class [`\\p{Cntrl}`][1]. Then you only need to use the following code:\r\n\r\n    stringWithSpecialCharcters.replaceAll(&quot;\\\\p{Cntrl}&quot;, replacement);\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\r\n","title":"Replace special characters in string in Java","body":"<p>Assuming that you want to remove all special characters, you can use the character class <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>\\p{Cntrl}</code></a>. Then you only need to use the following code:</p>\n<pre><code>stringWithSpecialCharcters.replaceAll(&quot;\\\\p{Cntrl}&quot;, replacement);\n</code></pre>\n"}],"owner":{"account_id":606643,"reputation":51,"user_id":312878,"display_name":"zahir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22437,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1675278399,"creation_date":1270822857,"question_id":2608205,"body_markdown":"How can I replace the string in Java?\r\n\r\nE.g.,\r\n\r\n    String a = &quot;adfsdf&quot;;\r\n\r\nHow can I replace and avoid special characters?\r\n","title":"Replace special characters in string in Java","body":"<p>How can I replace the string in Java?</p>\n<p>E.g.,</p>\n<pre><code>String a = &quot;adfsdf&quot;;\n</code></pre>\n<p>How can I replace and avoid special characters?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9540,"page":683,"page_size":100}
