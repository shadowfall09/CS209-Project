{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"score":1,"creation_date":1675173539,"post_id":75297365,"comment_id":132868315,"body_markdown":"Did you check your logcat ? no error printed ?","body":"Did you check your logcat ? no error printed ?"},{"owner":{"account_id":18503295,"reputation":53,"user_id":13480123,"display_name":"User"},"score":0,"creation_date":1675180690,"post_id":75297365,"comment_id":132871029,"body_markdown":"I checked logcat no error is shown","body":"I checked logcat no error is shown"},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675234727,"post_id":75297365,"comment_id":132882192,"body_markdown":"can you add your manifest file here","body":"can you add your manifest file here"},{"owner":{"account_id":18503295,"reputation":53,"user_id":13480123,"display_name":"User"},"score":0,"creation_date":1675267799,"post_id":75297365,"comment_id":132892877,"body_markdown":"I updated my question and added `AndroidManifest.xml`","body":"I updated my question and added <code>AndroidManifest.xml</code>"}],"owner":{"account_id":18503295,"reputation":53,"user_id":13480123,"display_name":"User"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675267753,"creation_date":1675169130,"question_id":75297365,"body_markdown":"I am trying to read csv file from storage but when file chooser dialog opens and I select file my app automatically closes, I am running android 11 and I have `READ_EXTERNAL_STORAGE` permission in `AndroidManifest.xml` file also I ask user for runtime permission. No exception or error is shown when my app closes.\r\n\r\nEdit: It seems that `activityResultLauncher` is not getting called\r\n\r\nBelow is my code:\r\n\r\n    package com.suyogbauskar.attenteachers;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.graphics.Typeface;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.Gravity;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TableLayout;\r\n    import android.widget.TableRow;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.activity.result.ActivityResultLauncher;\r\n    import androidx.activity.result.contract.ActivityResultContracts;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.PopupMenu;\r\n    \r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    import com.suyogbauskar.attenteachers.pojos.StudentData;\r\n    import com.suyogbauskar.attenteachers.pojos.UnitTestMarks;\r\n    \r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    import java.util.TreeMap;\r\n    \r\n    import cn.pedant.SweetAlert.SweetAlertDialog;\r\n    \r\n    public class UnitTestMarksActivity extends AppCompatActivity {\r\n\r\n    private Button uploadBtn;\r\n    private int selectedSemester;\r\n    private FirebaseUser user;\r\n    private TableLayout table;\r\n    private boolean isFirstRow;\r\n    private String subjectCodeTeacher;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_unit_test_marks);\r\n        setTitle(&quot;Unit Test Marks&quot;);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        init();\r\n    }\r\n\r\n    private void init() {\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        findAllViews();\r\n        uploadBtn.setOnClickListener(view -&gt; uploadFile());\r\n    }\r\n\r\n    private void findAllViews() {\r\n        uploadBtn = findViewById(R.id.uploadBtn);\r\n    }\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -&gt; {\r\n                if (result.getResultCode() == Activity.RESULT_OK) {\r\n                    Toast.makeText(UnitTestMarksActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n    );\r\n\r\n    private void uploadFile() {\r\n        Intent data = new Intent(Intent.ACTION_GET_CONTENT);\r\n        Uri uri = Uri.parse(Environment.getExternalStorageDirectory().getPath());\r\n        data.setDataAndType(uri, &quot;text/csv&quot;);\r\n        data = Intent.createChooser(data, &quot;Choose unit test marks&quot;);\r\n        activityResultLauncher.launch(data);\r\n    }\r\n    }\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;com.google.android.gms.permission.AD_ID&quot;\r\n            tools:node=&quot;remove&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:requestLegacyExternalStorage=&quot;true&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AttenTeachers&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.UnitTestMarksActivity&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:noHistory=&quot;true&quot;/&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:noHistory=&quot;true&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nBelow gif shows how my app closes:\r\n\r\n[![Gif showing how my app closes][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QMRGg.gif","title":"Android after selecting file from storage my app closes automatically","body":"<p>I am trying to read csv file from storage but when file chooser dialog opens and I select file my app automatically closes, I am running android 11 and I have <code>READ_EXTERNAL_STORAGE</code> permission in <code>AndroidManifest.xml</code> file also I ask user for runtime permission. No exception or error is shown when my app closes.</p>\n<p>Edit: It seems that <code>activityResultLauncher</code> is not getting called</p>\n<p>Below is my code:</p>\n<pre><code>package com.suyogbauskar.attenteachers;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.graphics.Typeface;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.Gravity;\nimport android.view.Menu;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TableLayout;\nimport android.widget.TableRow;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.PopupMenu;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.suyogbauskar.attenteachers.pojos.StudentData;\nimport com.suyogbauskar.attenteachers.pojos.UnitTestMarks;\n\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.TreeMap;\n\nimport cn.pedant.SweetAlert.SweetAlertDialog;\n\npublic class UnitTestMarksActivity extends AppCompatActivity {\n\nprivate Button uploadBtn;\nprivate int selectedSemester;\nprivate FirebaseUser user;\nprivate TableLayout table;\nprivate boolean isFirstRow;\nprivate String subjectCodeTeacher;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_unit_test_marks);\n    setTitle(&quot;Unit Test Marks&quot;);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n    init();\n}\n\nprivate void init() {\n    user = FirebaseAuth.getInstance().getCurrentUser();\n    findAllViews();\n    uploadBtn.setOnClickListener(view -&gt; uploadFile());\n}\n\nprivate void findAllViews() {\n    uploadBtn = findViewById(R.id.uploadBtn);\n}\n\nActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        result -&gt; {\n            if (result.getResultCode() == Activity.RESULT_OK) {\n                Toast.makeText(UnitTestMarksActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n);\n\nprivate void uploadFile() {\n    Intent data = new Intent(Intent.ACTION_GET_CONTENT);\n    Uri uri = Uri.parse(Environment.getExternalStorageDirectory().getPath());\n    data.setDataAndType(uri, &quot;text/csv&quot;);\n    data = Intent.createChooser(data, &quot;Choose unit test marks&quot;);\n    activityResultLauncher.launch(data);\n}\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;com.google.android.gms.permission.AD_ID&quot;\n        tools:node=&quot;remove&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AttenTeachers&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.UnitTestMarksActivity&quot;\n            android:exported=&quot;false&quot;\n            android:noHistory=&quot;true&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:noHistory=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Below gif shows how my app closes:</p>\n<p><a href=\"https://i.stack.imgur.com/QMRGg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QMRGg.gif\" alt=\"Gif showing how my app closes\" /></a></p>\n"},{"tags":["java","hibernate","fuzzy-search","hibernate-search-6"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675267743,"creation_date":1674811271,"answer_id":75256111,"question_id":75254515,"body_markdown":"Highlighting is not yet implemented in Hibernate Search, see [HSEARCH-2192](https://hibernate.atlassian.net/browse/HSEARCH-2192).\r\n\r\nThat being said, you can leverage native Elasticsearch / Lucene APIs.\r\n\r\nWith Elasticsearch it&#39;s relatively easy: you can use a [request transformer](https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#search-dsl-query-elasticsearch-json) to add a [`highlight` element](https://www.elastic.co/guide/en/elasticsearch/reference/7.5/search-request-body.html#request-body-search-highlighting) to the HTTP request, then use the [`jsonHit` projection](https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#search-dsl-projection-extensions-elasticsearch-jsonHit) to retrieve the JSON for each hit, which contains a `highlight` element that includes the highlighted fields and the highlighted fragments.\r\n\r\n\r\nWith Lucene it would be more complex and you&#39;ll have to rely on unsupported features, but that&#39;s doable. \r\n\r\nRetrieve the Lucene `Query` from your Hibernate Search predicate:\r\n\r\n```java\r\nSearchPredicate predicate = ...;\r\nQuery query = LuceneMigrationUtils.toLuceneQuery(predicate);\r\n```\r\n\r\nThen do the highlighting: https://stackoverflow.com/questions/47673242/hibernate-search-highlighting-not-analyzed-fields/47679943#47679943 may help with that, so that code uses an older version of Lucene and you might have to adapt it:\r\n\r\n```java\r\nString highlightText(Query query, Analyzer analyzer, String fieldName, String text) {\r\n    QueryScorer queryScorer = new QueryScorer(query);\r\n    SimpleHTMLFormatter formatter = new SimpleHTMLFormatter(&quot;&lt;span&gt;&quot;, &quot;&lt;/span&gt;&quot;);\r\n    Highlighter highlighter = new Highlighter(formatter, queryScorer);\r\n    return highlighter.getBestFragment(analyzer, fieldName, text);\r\n}\r\n```\r\n\r\nYou&#39;ll need to add a depdency to `org.apache.lucene:lucene-highlighter`.\r\n\r\nTo retrieve the analyzer, use the Hibernate Search metadata: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-access-analyzers\r\n\r\nSo, connecting the dots... something like that?\r\n\r\n\r\n```java\r\nHighlighter createHighlighter(SearchPredicate predicate, SearchScope&lt;?&gt; scope) {\r\n    // Taking a shortcut here to retrieve the index manager,\r\n    // since we already have the scope\r\n    // WARNING: This only works when searching a single index\r\n    Analyzer analyzer = scope.includedTypes().iterator().next().indexManager()\r\n            .unwrap( LuceneIndexManager.class )\r\n            .searchAnalyzer(); \r\n\r\n    // WARNING: this method is not supported and might disappear in future versions of HSearch\r\n    Query query = LuceneMigrationUtils.toLuceneQuery(predicate);\r\n    QueryScorer queryScorer = new QueryScorer(query);\r\n    SimpleHTMLFormatter formatter = new SimpleHTMLFormatter(&quot;&lt;span&gt;&quot;, &quot;&lt;/span&gt;&quot;);\r\n    return new Highlighter(formatter, queryScorer);\r\n}\r\n```\r\n\r\n```java\r\nSearchSession searchSession = Search.session( entityManager ); \r\n\r\nSearchScope&lt;Book&gt; scope = searchSession.scope( Book.class ); \r\nSearchPredicate predicate = scope.predicate().match() \r\n                .fields( &quot;title&quot;, &quot;authors.name&quot; )\r\n                .matching( &quot;refactoring&quot; )\r\n                .toPredicate();\r\n\r\nHighlighter highlighter = createHighlighter(predicate, scope);\r\n\r\n// Using Pair from Apache Commons, but others would work just as well\r\nList&lt;Pair&lt;Book, String&gt;&gt; hits = searchSession.search( scope )\r\n        .select( select( f -&gt; f.composite(\r\n                // Highlighting the title only, but you can do the same for other fields\r\n                book -&gt; Pair.of( book, highlighter.getBestFragment(analyzer, &quot;title&quot;, book.getTitle()))\r\n                f.entity()\r\n        ) )\r\n        .where( predicate )\r\n        .fetch( 20 );\r\n```\r\n\r\nNot sure this compiles, but that should get you started.\r\n\r\n---\r\n\r\nRelatedly, but not exactly what you&#39;re asking for, there&#39;s an `explain` feature to get a sense of why a given hit has a given score: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-query-explain","title":"How can I get the highlights of my result set in Hibernate search 6?","body":"<p>Highlighting is not yet implemented in Hibernate Search, see <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-2192\" rel=\"nofollow noreferrer\">HSEARCH-2192</a>.</p>\n<p>That being said, you can leverage native Elasticsearch / Lucene APIs.</p>\n<p>With Elasticsearch it's relatively easy: you can use a <a href=\"https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#search-dsl-query-elasticsearch-json\" rel=\"nofollow noreferrer\">request transformer</a> to add a <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.5/search-request-body.html#request-body-search-highlighting\" rel=\"nofollow noreferrer\"><code>highlight</code> element</a> to the HTTP request, then use the <a href=\"https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#search-dsl-projection-extensions-elasticsearch-jsonHit\" rel=\"nofollow noreferrer\"><code>jsonHit</code> projection</a> to retrieve the JSON for each hit, which contains a <code>highlight</code> element that includes the highlighted fields and the highlighted fragments.</p>\n<p>With Lucene it would be more complex and you'll have to rely on unsupported features, but that's doable.</p>\n<p>Retrieve the Lucene <code>Query</code> from your Hibernate Search predicate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchPredicate predicate = ...;\nQuery query = LuceneMigrationUtils.toLuceneQuery(predicate);\n</code></pre>\n<p>Then do the highlighting: <a href=\"https://stackoverflow.com/questions/47673242/hibernate-search-highlighting-not-analyzed-fields/47679943#47679943\">Hibernate search highlighting not analyzed fields</a> may help with that, so that code uses an older version of Lucene and you might have to adapt it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String highlightText(Query query, Analyzer analyzer, String fieldName, String text) {\n    QueryScorer queryScorer = new QueryScorer(query);\n    SimpleHTMLFormatter formatter = new SimpleHTMLFormatter(&quot;&lt;span&gt;&quot;, &quot;&lt;/span&gt;&quot;);\n    Highlighter highlighter = new Highlighter(formatter, queryScorer);\n    return highlighter.getBestFragment(analyzer, fieldName, text);\n}\n</code></pre>\n<p>You'll need to add a depdency to <code>org.apache.lucene:lucene-highlighter</code>.</p>\n<p>To retrieve the analyzer, use the Hibernate Search metadata: <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-access-analyzers\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-access-analyzers</a></p>\n<p>So, connecting the dots... something like that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Highlighter createHighlighter(SearchPredicate predicate, SearchScope&lt;?&gt; scope) {\n    // Taking a shortcut here to retrieve the index manager,\n    // since we already have the scope\n    // WARNING: This only works when searching a single index\n    Analyzer analyzer = scope.includedTypes().iterator().next().indexManager()\n            .unwrap( LuceneIndexManager.class )\n            .searchAnalyzer(); \n\n    // WARNING: this method is not supported and might disappear in future versions of HSearch\n    Query query = LuceneMigrationUtils.toLuceneQuery(predicate);\n    QueryScorer queryScorer = new QueryScorer(query);\n    SimpleHTMLFormatter formatter = new SimpleHTMLFormatter(&quot;&lt;span&gt;&quot;, &quot;&lt;/span&gt;&quot;);\n    return new Highlighter(formatter, queryScorer);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>SearchSession searchSession = Search.session( entityManager ); \n\nSearchScope&lt;Book&gt; scope = searchSession.scope( Book.class ); \nSearchPredicate predicate = scope.predicate().match() \n                .fields( &quot;title&quot;, &quot;authors.name&quot; )\n                .matching( &quot;refactoring&quot; )\n                .toPredicate();\n\nHighlighter highlighter = createHighlighter(predicate, scope);\n\n// Using Pair from Apache Commons, but others would work just as well\nList&lt;Pair&lt;Book, String&gt;&gt; hits = searchSession.search( scope )\n        .select( select( f -&gt; f.composite(\n                // Highlighting the title only, but you can do the same for other fields\n                book -&gt; Pair.of( book, highlighter.getBestFragment(analyzer, &quot;title&quot;, book.getTitle()))\n                f.entity()\n        ) )\n        .where( predicate )\n        .fetch( 20 );\n</code></pre>\n<p>Not sure this compiles, but that should get you started.</p>\n<hr />\n<p>Relatedly, but not exactly what you're asking for, there's an <code>explain</code> feature to get a sense of why a given hit has a given score: <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-query-explain\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-query-explain</a></p>\n"}],"owner":{"account_id":11978145,"reputation":23,"user_id":8764721,"display_name":"Gadreel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75256111,"answer_count":1,"score":0,"last_activity_date":1675267743,"creation_date":1674798718,"question_id":75254515,"body_markdown":"I am using Hibernate search 6 Lucne backend in my java application. \r\n\r\nThere are various search operations I am performing including a fuzzy search. \r\n\r\nI get search results without any issues.\r\n\r\nNow I want to show what are the causes to pick each result in my result list. \r\n\r\nLet&#39;s say the search keyword is &quot;test&quot;, and the fuzzy search is performed in the fields &quot;name&quot;, &quot;description&quot;, &quot;Id&quot; etc. And I get 10 results in a List. Now I want to highlight the values in the fields of each result which caused that result to be a matching result.\r\n\r\neg: Consider the below to be one of the items in the search result List object. (for clarity I have written it in JSON format)\r\n\r\n```\r\n {  \r\n    name:&quot;ABC some test name&quot;,\r\n    description: &quot;this is a test element&quot;,\r\n    id: &quot;abc123&quot;\r\n}\r\n```\r\n\r\nAs the result suggests it&#39;s been picked as a search result because the keyword &quot;test&quot; is there in both the fields &quot;name&quot; and the &quot;description&quot;. I want to highlight those specific fields in the frontend when I show the search results.\r\n\r\nCurrently, I am retrieving search results through a java REST API to my Angular frontend. How can I get those specific fields and their values using Hibernate search 6 in my java application?\r\n\r\nSo far I have gone through Hibernate search 6 documentation and found nothing. (https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#preface) Also looked at what seemed to be related issues on the web over the past week and got nothing so far. It seems like m requirement is a little specific and that&#39;s why I need your help here.","title":"How can I get the highlights of my result set in Hibernate search 6?","body":"<p>I am using Hibernate search 6 Lucne backend in my java application.</p>\n<p>There are various search operations I am performing including a fuzzy search.</p>\n<p>I get search results without any issues.</p>\n<p>Now I want to show what are the causes to pick each result in my result list.</p>\n<p>Let's say the search keyword is &quot;test&quot;, and the fuzzy search is performed in the fields &quot;name&quot;, &quot;description&quot;, &quot;Id&quot; etc. And I get 10 results in a List. Now I want to highlight the values in the fields of each result which caused that result to be a matching result.</p>\n<p>eg: Consider the below to be one of the items in the search result List object. (for clarity I have written it in JSON format)</p>\n<pre><code> {  \n    name:&quot;ABC some test name&quot;,\n    description: &quot;this is a test element&quot;,\n    id: &quot;abc123&quot;\n}\n</code></pre>\n<p>As the result suggests it's been picked as a search result because the keyword &quot;test&quot; is there in both the fields &quot;name&quot; and the &quot;description&quot;. I want to highlight those specific fields in the frontend when I show the search results.</p>\n<p>Currently, I am retrieving search results through a java REST API to my Angular frontend. How can I get those specific fields and their values using Hibernate search 6 in my java application?</p>\n<p>So far I have gone through Hibernate search 6 documentation and found nothing. (<a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#preface\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#preface</a>) Also looked at what seemed to be related issues on the web over the past week and got nothing so far. It seems like m requirement is a little specific and that's why I need your help here.</p>\n"},{"tags":["java","maven","avro"],"comments":[{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":3,"creation_date":1675265045,"post_id":75312380,"comment_id":132891764,"body_markdown":"What makes you think the `toString()` method should return valid JSON?","body":"What makes you think the <code>toString()</code> method should return valid JSON?"},{"owner":{"account_id":6714274,"reputation":35,"user_id":5176576,"display_name":"Javier Est&#233;vez"},"score":0,"creation_date":1675268094,"post_id":75312380,"comment_id":132892995,"body_markdown":"The Javadoc of the method `GenericData#toString` that the generated code uses says so: Renders a Java datum as JSON.","body":"The Javadoc of the method <code>GenericData#toString</code> that the generated code uses says so: Renders a Java datum as JSON."},{"owner":{"account_id":6714274,"reputation":35,"user_id":5176576,"display_name":"Javier Est&#233;vez"},"score":0,"creation_date":1675327642,"post_id":75312380,"comment_id":132906012,"body_markdown":"I have also used Avro&#39;s `JsonEncoder` class and there I get the following error: `java.lang.ClassCastException: class java.util.UUID cannot be cast to class java.lang.CharSequence`.","body":"I have also used Avro&#39;s <code>JsonEncoder</code> class and there I get the following error: <code>java.lang.ClassCastException: class java.util.UUID cannot be cast to class java.lang.CharSequence</code>."}],"owner":{"account_id":6714274,"reputation":35,"user_id":5176576,"display_name":"Javier Est&#233;vez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675267689,"creation_date":1675264741,"question_id":75312380,"body_markdown":"I use the Apache Avro Maven Plugin to generate my Java classes from my .avsc definitions. I have some fields that are declared as UUID strings as follows:\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;fieldName&quot;,\r\n  &quot;type&quot;: {\r\n    &quot;type&quot;: &quot;string&quot;,\r\n    &quot;logicalType&quot;: &quot;uuid&quot;\r\n  }\r\n}\r\n```\r\n\r\nIn Avro 1.11.0 these fields were mapped as properties of type `String` by the generator.\r\n\r\nStarting with Apache Avro 1.11.1, the generator maps these fields as properties of type `java.util.UUID`, which is an improvement imo. However, when calling the `toString` method of a generated class with one of such fields, the output is not a valid JSON since the UUID field is not surrounded by quotes.\r\n\r\nI have looked into the `toString` generated code, and indeed, UUID fields are not serialized with surrounding quotes.\r\n\r\nAm I missing something or is this a bug?","title":"Missing quotes on UUID when using Apache Avro","body":"<p>I use the Apache Avro Maven Plugin to generate my Java classes from my .avsc definitions. I have some fields that are declared as UUID strings as follows:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;fieldName&quot;,\n  &quot;type&quot;: {\n    &quot;type&quot;: &quot;string&quot;,\n    &quot;logicalType&quot;: &quot;uuid&quot;\n  }\n}\n</code></pre>\n<p>In Avro 1.11.0 these fields were mapped as properties of type <code>String</code> by the generator.</p>\n<p>Starting with Apache Avro 1.11.1, the generator maps these fields as properties of type <code>java.util.UUID</code>, which is an improvement imo. However, when calling the <code>toString</code> method of a generated class with one of such fields, the output is not a valid JSON since the UUID field is not surrounded by quotes.</p>\n<p>I have looked into the <code>toString</code> generated code, and indeed, UUID fields are not serialized with surrounding quotes.</p>\n<p>Am I missing something or is this a bug?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":11126320,"reputation":31,"user_id":8669726,"display_name":"GeckoOBac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675267601,"creation_date":1675267601,"answer_id":75313003,"question_id":75312778,"body_markdown":"At a glance the problem seems to be that you&#39;re reading and changing the same file, which you have open in append mode:\r\n\r\n```\r\nPrintStream printStream = new PrintStream(new FileOutputStream(&quot;data.json&quot;,true));\r\n```\r\n\r\nThe `true` parameter there means whatever you write on that file will be appended at the end when you write to it, which seems compatible with the behaviour you&#39;re seeing.\r\n\r\nDepending on what you need to achieve, you might prefer to just write on a different file as output.","title":"Java Json Repeating the key","body":"<p>At a glance the problem seems to be that you're reading and changing the same file, which you have open in append mode:</p>\n<pre><code>PrintStream printStream = new PrintStream(new FileOutputStream(&quot;data.json&quot;,true));\n</code></pre>\n<p>The <code>true</code> parameter there means whatever you write on that file will be appended at the end when you write to it, which seems compatible with the behaviour you're seeing.</p>\n<p>Depending on what you need to achieve, you might prefer to just write on a different file as output.</p>\n"}],"owner":{"account_id":20324058,"reputation":25,"user_id":14907969,"display_name":"Nicolas Sousa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675267601,"creation_date":1675266617,"question_id":75312778,"body_markdown":"I have a problem always i call the method addplayers he inserts into the jsonfile the array required, but, he always create new key , so, i&#39;m trying to insert a new player in the key Players always i create a new player.\r\nI created some conditions for that but is not working, like parsing the file and check the key.\r\n\r\n the **expecteded result**:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n        &quot;players&quot;: [\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            },\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            },\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**the result at moment:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n        &quot;players&quot;: [\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            },\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            },\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            }\r\n        ]\r\n    }\r\n    {\r\n        &quot;players&quot;: [\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            },\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            },\r\n            {\r\n                &quot;current_Energy&quot;: 100,\r\n                &quot;level&quot;: 1,\r\n                &quot;name&quot;: &quot;tenente&quot;,\r\n                &quot;experiencePoints&quot;: 0,\r\n                &quot;team&quot;: &quot;Giants&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**The Method**\r\n\r\n     public void addPlayer(PlayerManager playerManager) {\r\n        if (file.exists()) {\r\n            System.out.println(&quot;FODASEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE&quot;);\r\n            try {\r\n                PrintStream printStream = new PrintStream(new FileOutputStream(&quot;data.json&quot;,true));\r\n                JSONObject jsonObject = new JSONObject();\r\n                JSONArray jsonArray;\r\n                ArrayUnorderedList&lt;Players&gt; dataplayer = playerManager.getPlayersList();\r\n\r\n                try {\r\n                    jsonObject = (JSONObject) new JSONParser().parse(new FileReader(file));\r\n                    jsonArray = (JSONArray) jsonObject.get(&quot;players&quot;);\r\n                } catch (ParseException e) {\r\n                    // Caso n&#227;o exista, cria um novo objeto JSON com a chave &quot;players&quot;\r\n                    jsonArray = new JSONArray();\r\n                }\r\n                Set&lt;String&gt; keys = new HashSet&lt;&gt;();\r\n                if (jsonObject.containsKey(&quot;players&quot;)) {\r\n                    keys.add(&quot;players&quot;);\r\n                }\r\n\r\n                if (!keys.contains(&quot;players&quot;)) {\r\n                    jsonArray = new JSONArray();\r\n                    jsonObject.put(&quot;players&quot;, jsonArray);\r\n                } else {\r\n                    jsonArray = (JSONArray) jsonObject.get(&quot;players&quot;);\r\n                }\r\n\r\n                for (Players player : dataplayer) {\r\n                    JSONObject playerObject = new JSONObject();\r\n                    playerObject.put(&quot;name&quot;, player.getName());\r\n                    playerObject.put(&quot;team&quot;, player.getTeam().toString());\r\n                    playerObject.put(&quot;level&quot;, player.getLevel());\r\n                    playerObject.put(&quot;experiencePoints&quot;, player.getExperiencePoints());\r\n                    playerObject.put(&quot;current_Energy&quot;, player.getCurrentEnergy());\r\n                    jsonArray.add(playerObject);\r\n                }\r\n\r\n\r\n                printStream.println(jsonObject);\r\n                printStream.flush();\r\n                printStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n","title":"Java Json Repeating the key","body":"<p>I have a problem always i call the method addplayers he inserts into the jsonfile the array required, but, he always create new key , so, i'm trying to insert a new player in the key Players always i create a new player.\nI created some conditions for that but is not working, like parsing the file and check the key.</p>\n<p>the <strong>expecteded result</strong>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n    \"players\": [\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        },\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        },\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        }\n    ]\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>the result at moment:</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n    \"players\": [\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        },\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        },\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        }\n    ]\n}\n{\n    \"players\": [\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        },\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        },\n        {\n            \"current_Energy\": 100,\n            \"level\": 1,\n            \"name\": \"tenente\",\n            \"experiencePoints\": 0,\n            \"team\": \"Giants\"\n        }\n    ]\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>The Method</strong></p>\n<pre><code> public void addPlayer(PlayerManager playerManager) {\n    if (file.exists()) {\n        System.out.println(&quot;FODASEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE&quot;);\n        try {\n            PrintStream printStream = new PrintStream(new FileOutputStream(&quot;data.json&quot;,true));\n            JSONObject jsonObject = new JSONObject();\n            JSONArray jsonArray;\n            ArrayUnorderedList&lt;Players&gt; dataplayer = playerManager.getPlayersList();\n\n            try {\n                jsonObject = (JSONObject) new JSONParser().parse(new FileReader(file));\n                jsonArray = (JSONArray) jsonObject.get(&quot;players&quot;);\n            } catch (ParseException e) {\n                // Caso não exista, cria um novo objeto JSON com a chave &quot;players&quot;\n                jsonArray = new JSONArray();\n            }\n            Set&lt;String&gt; keys = new HashSet&lt;&gt;();\n            if (jsonObject.containsKey(&quot;players&quot;)) {\n                keys.add(&quot;players&quot;);\n            }\n\n            if (!keys.contains(&quot;players&quot;)) {\n                jsonArray = new JSONArray();\n                jsonObject.put(&quot;players&quot;, jsonArray);\n            } else {\n                jsonArray = (JSONArray) jsonObject.get(&quot;players&quot;);\n            }\n\n            for (Players player : dataplayer) {\n                JSONObject playerObject = new JSONObject();\n                playerObject.put(&quot;name&quot;, player.getName());\n                playerObject.put(&quot;team&quot;, player.getTeam().toString());\n                playerObject.put(&quot;level&quot;, player.getLevel());\n                playerObject.put(&quot;experiencePoints&quot;, player.getExperiencePoints());\n                playerObject.put(&quot;current_Energy&quot;, player.getCurrentEnergy());\n                jsonArray.add(playerObject);\n            }\n\n\n            printStream.println(jsonObject);\n            printStream.flush();\n            printStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","spring-data-mongodb","querydsl"],"answers":[{"tags":[],"owner":{"account_id":2970719,"reputation":2977,"user_id":2522819,"accept_rate":18,"display_name":"KCS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675267402,"creation_date":1675267402,"answer_id":75312953,"question_id":75311076,"body_markdown":"I found this thread https://stackoverflow.com/questions/41391206/querydsl-4-stringexpression-of-a-field-inside-a-simplepath\r\nThis solves theproblem, but I am still confused with the concept, how @QueryEmbeddable works","title":"Q class not generating by query-dsl for nested embedded objects inside document class in spring data","body":"<p>I found this thread <a href=\"https://stackoverflow.com/questions/41391206/querydsl-4-stringexpression-of-a-field-inside-a-simplepath\">Querydsl 4 StringExpression of a field inside a SimplePath</a>\nThis solves theproblem, but I am still confused with the concept, how @QueryEmbeddable works</p>\n"}],"owner":{"account_id":2970719,"reputation":2977,"user_id":2522819,"accept_rate":18,"display_name":"KCS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675267402,"creation_date":1675258980,"question_id":75311076,"body_markdown":"I have below collection and embedded documents\r\n\r\n        @Data\r\n        @Builder\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        @Document(collection = &quot;person_details&quot;)\r\n        public class PersonDetails {\r\n        \r\n            @MongoId(FieldType.OBJECT_ID)\r\n            private String managerId;\r\n            .\r\n            .\r\n            @QueryInit(&quot;addressDetails.*&quot;)\r\n            private List&lt;ContactDetails&gt; contactDetails;\r\n            .\r\n     }\r\n\r\nAnd ContactDetails.java looks like below:\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class ContactDetails {\r\n        private AddressDetails addressDetails;\r\n       \r\n        private StateDetails stateDetails;\r\n    }\r\n\r\nStateDetails look like below:\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @Document(collection = &quot;statedetails&quot;)\r\n    public class StateDetails {\r\n        @MongoId(FieldType.OBJECT_ID)\r\n        private String stateId;\r\n        private String stateName;\r\n    }\r\n\r\nAnd AddressDetails look like below:\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class AddressDetails {\r\n        private String address;\r\n        @Field(targetType = FieldType.STRING)\r\n        private AddressTypeEnum addressType;\r\n    }\r\n\r\n\r\nAfter building , I am not getting Q class for AddressDetails, due to which I am facing issues in building Predicate. Below is my generated QPersonDetail class\r\n\r\n    @Generated(&quot;com.querydsl.codegen.DefaultEntitySerializer&quot;)\r\n    public class QPersonDetails extends EntityPathBase&lt;PersonDetails&gt; {\r\n    \r\n        private static final long serialVersionUID = 184263140L;\r\n    \r\n        private static final PathInits INITS = new PathInits(&quot;*&quot;, &quot;contactDetails.addressDetails.*&quot;);\r\n    \r\n        public static final QPersonDetails managerDetails = new QPersonDetails(&quot;managerDetails&quot;);\r\n    \r\n       \r\n        public final ListPath&lt;ContactDetails, QContactDetails&gt; contactDetails = this.&lt;ContactDetails, QContactDetails&gt;createList(&quot;contactDetails&quot;, ContactDetails.class, QContactDetails.class, INITS.get(&quot;contactDetails&quot;));\r\n    \r\n        \r\n        public QPersonDetails(String variable) {\r\n            this(PersonDetails.class, forVariable(variable), INITS);\r\n        }\r\n    \r\n        public QPersonDetails(Path&lt;? extends PersonDetails&gt; path) {\r\n            this(path.getType(), path.getMetadata(), PathInits.getFor(path.getMetadata(), INITS));\r\n        }\r\n    \r\n        public QPersonDetails(PathMetadata metadata) {\r\n            this(metadata, PathInits.getFor(metadata, INITS));\r\n        }\r\n    \r\n        public QPersonDetails(PathMetadata metadata, PathInits inits) {\r\n            this(PersonDetails.class, metadata, inits);\r\n        }\r\n    }\r\n\r\nAnd below is generated QContactDetails:\r\n\r\n    @Generated(&quot;com.querydsl.codegen.DefaultEmbeddableSerializer&quot;)\r\n    public class QContactDetails extends BeanPath&lt;ContactDetails&gt; {\r\n    \r\n        private static final long serialVersionUID = 1039545873L;\r\n    \r\n        private static final PathInits INITS = PathInits.DIRECT2;\r\n    \r\n        public static final QContactDetails contactDetails = new QContactDetails(&quot;contactDetails&quot;);\r\n    \r\n        public final SimplePath&lt;AddressDetails&gt; addressDetails = createSimple(&quot;addressDetails&quot;, AddressDetails.class);\r\n    \r\n       \r\n        public QContactDetails(String variable) {\r\n            this(ContactDetails.class, forVariable(variable), INITS);\r\n        }\r\n    \r\n        public QContactDetails(Path&lt;? extends ContactDetails&gt; path) {\r\n            this(path.getType(), path.getMetadata(), PathInits.getFor(path.getMetadata(), INITS));\r\n        }\r\n    \r\n        public QContactDetails(PathMetadata metadata) {\r\n            this(metadata, PathInits.getFor(metadata, INITS));\r\n        }\r\n    \r\n        public QContactDetails(PathMetadata metadata, PathInits inits) {\r\n            this(ContactDetails.class, metadata, inits);\r\n        }\r\n    }\r\n\r\nI referred many threads including \r\nhttps://querydsl.com/static/querydsl/5.0.0/reference/html/ch03s03.html but still not able to figure out issue. Even i tried with \r\n\r\n    @QueryInit(&quot;*.*&quot;)\r\n\r\n annotation on contactDetails, above. Any idea, where I am missing. I dont want AddressDetails to be annotated as @Document.","title":"Q class not generating by query-dsl for nested embedded objects inside document class in spring data","body":"<p>I have below collection and embedded documents</p>\n<pre><code>    @Data\n    @Builder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    @Document(collection = &quot;person_details&quot;)\n    public class PersonDetails {\n    \n        @MongoId(FieldType.OBJECT_ID)\n        private String managerId;\n        .\n        .\n        @QueryInit(&quot;addressDetails.*&quot;)\n        private List&lt;ContactDetails&gt; contactDetails;\n        .\n }\n</code></pre>\n<p>And ContactDetails.java looks like below:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ContactDetails {\n    private AddressDetails addressDetails;\n   \n    private StateDetails stateDetails;\n}\n</code></pre>\n<p>StateDetails look like below:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@Document(collection = &quot;statedetails&quot;)\npublic class StateDetails {\n    @MongoId(FieldType.OBJECT_ID)\n    private String stateId;\n    private String stateName;\n}\n</code></pre>\n<p>And AddressDetails look like below:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class AddressDetails {\n    private String address;\n    @Field(targetType = FieldType.STRING)\n    private AddressTypeEnum addressType;\n}\n</code></pre>\n<p>After building , I am not getting Q class for AddressDetails, due to which I am facing issues in building Predicate. Below is my generated QPersonDetail class</p>\n<pre><code>@Generated(&quot;com.querydsl.codegen.DefaultEntitySerializer&quot;)\npublic class QPersonDetails extends EntityPathBase&lt;PersonDetails&gt; {\n\n    private static final long serialVersionUID = 184263140L;\n\n    private static final PathInits INITS = new PathInits(&quot;*&quot;, &quot;contactDetails.addressDetails.*&quot;);\n\n    public static final QPersonDetails managerDetails = new QPersonDetails(&quot;managerDetails&quot;);\n\n   \n    public final ListPath&lt;ContactDetails, QContactDetails&gt; contactDetails = this.&lt;ContactDetails, QContactDetails&gt;createList(&quot;contactDetails&quot;, ContactDetails.class, QContactDetails.class, INITS.get(&quot;contactDetails&quot;));\n\n    \n    public QPersonDetails(String variable) {\n        this(PersonDetails.class, forVariable(variable), INITS);\n    }\n\n    public QPersonDetails(Path&lt;? extends PersonDetails&gt; path) {\n        this(path.getType(), path.getMetadata(), PathInits.getFor(path.getMetadata(), INITS));\n    }\n\n    public QPersonDetails(PathMetadata metadata) {\n        this(metadata, PathInits.getFor(metadata, INITS));\n    }\n\n    public QPersonDetails(PathMetadata metadata, PathInits inits) {\n        this(PersonDetails.class, metadata, inits);\n    }\n}\n</code></pre>\n<p>And below is generated QContactDetails:</p>\n<pre><code>@Generated(&quot;com.querydsl.codegen.DefaultEmbeddableSerializer&quot;)\npublic class QContactDetails extends BeanPath&lt;ContactDetails&gt; {\n\n    private static final long serialVersionUID = 1039545873L;\n\n    private static final PathInits INITS = PathInits.DIRECT2;\n\n    public static final QContactDetails contactDetails = new QContactDetails(&quot;contactDetails&quot;);\n\n    public final SimplePath&lt;AddressDetails&gt; addressDetails = createSimple(&quot;addressDetails&quot;, AddressDetails.class);\n\n   \n    public QContactDetails(String variable) {\n        this(ContactDetails.class, forVariable(variable), INITS);\n    }\n\n    public QContactDetails(Path&lt;? extends ContactDetails&gt; path) {\n        this(path.getType(), path.getMetadata(), PathInits.getFor(path.getMetadata(), INITS));\n    }\n\n    public QContactDetails(PathMetadata metadata) {\n        this(metadata, PathInits.getFor(metadata, INITS));\n    }\n\n    public QContactDetails(PathMetadata metadata, PathInits inits) {\n        this(ContactDetails.class, metadata, inits);\n    }\n}\n</code></pre>\n<p>I referred many threads including\n<a href=\"https://querydsl.com/static/querydsl/5.0.0/reference/html/ch03s03.html\" rel=\"nofollow noreferrer\">https://querydsl.com/static/querydsl/5.0.0/reference/html/ch03s03.html</a> but still not able to figure out issue. Even i tried with</p>\n<pre><code>@QueryInit(&quot;*.*&quot;)\n</code></pre>\n<p>annotation on contactDetails, above. Any idea, where I am missing. I dont want AddressDetails to be annotated as @Document.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1675120875,"post_id":75290970,"comment_id":132856945,"body_markdown":"This means that `txtName` is not initialized in the ViewHolder","body":"This means that <code>txtName</code> is not initialized in the ViewHolder"},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1675121918,"post_id":75290970,"comment_id":132857131,"body_markdown":"This is where I create my ViewHolder:\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_book, parent, false);\n        return new ViewHolder(view);\n\n    }\n...so *where* does txtName get initialized","body":"This is where I create my ViewHolder:     @Override     public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {         View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.li&zwnj;&#8203;st_item_book, parent, false);         return new ViewHolder(view);      } ...so <i>where</i> does txtName get initialized"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1675123654,"post_id":75290970,"comment_id":132857415,"body_markdown":"Not in onCreateViewHolder, but in the `ViewHolder` class itself; in its constructor specifically","body":"Not in onCreateViewHolder, but in the <code>ViewHolder</code> class itself; in its constructor specifically"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1675142095,"post_id":75290970,"comment_id":132859829,"body_markdown":"have you init your textview?","body":"have you init your textview?"},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1675267572,"post_id":75290970,"comment_id":132892771,"body_markdown":"Thank you again Zain (and Urvish) - I&#39;ve adjusted my main query to provide more information see above `[2/1/2023 UPDATE]`","body":"Thank you again Zain (and Urvish) - I&#39;ve adjusted my main query to provide more information see above <code>[2&#47;1&#47;2023 UPDATE]</code>"}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675164984,"creation_date":1675164984,"answer_id":75296542,"question_id":75290970,"body_markdown":"In your viewHolder, initialize textView as follow:\r\n\r\n    txtName = itemView.findViewById(R.id.txtBookName);","title":"NullPointerException error while trying to display TextView within MaterialCardView xml object","body":"<p>In your viewHolder, initialize textView as follow:</p>\n<pre><code>txtName = itemView.findViewById(R.id.txtBookName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23883416,"reputation":134,"user_id":17883851,"display_name":"TG. Kahsay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675189571,"creation_date":1675189571,"answer_id":75301583,"question_id":75290970,"body_markdown":"you should have a class the extends ViewHolder inside your adapter. that is where you initiate your Views.\r\n\r\na simple example\r\n\r\n```Java\r\n// this can reside inside your Adapter class\r\nclass VHolder extends RecyclerView.ViewHolder{\r\n        \r\n        // declare it\r\n        TextView txtName;\r\n\r\n        public vHolder(View item){\r\n         // you initiate your views here.\r\n         txtName = item.findViewById(R.id.txtBookName);\r\n\r\n        }\r\n\r\n} \r\n```","title":"NullPointerException error while trying to display TextView within MaterialCardView xml object","body":"<p>you should have a class the extends ViewHolder inside your adapter. that is where you initiate your Views.</p>\n<p>a simple example</p>\n<pre><code>// this can reside inside your Adapter class\nclass VHolder extends RecyclerView.ViewHolder{\n        \n        // declare it\n        TextView txtName;\n\n        public vHolder(View item){\n         // you initiate your views here.\n         txtName = item.findViewById(R.id.txtBookName);\n\n        }\n\n} \n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75301583,"answer_count":2,"score":1,"last_activity_date":1675267377,"creation_date":1675118926,"question_id":75290970,"body_markdown":"I am working through an Android Studio tutorial and get stuck at this line in my `BookRecViewAdaptor.java` file:\r\n\r\n```    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        Log.d(TAG, &quot;onVBindViewHolder: Called&quot;);\r\n        holder.txtName.setText(books.get(position).getName());\r\n        ...\r\n```\r\nBelow is the error I am receiving on the 3rd line - btw I know that I am inside the code as in the Logcat, directly above the error I see &quot;`onVBindViewHolder: Called`&quot; (from line 2 above)\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.mylibrary, PID: 12001\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n        at com.example.mylibrary.BookRecViewAdaptor.onBindViewHolder(BookRecViewAdaptor.java:42)\r\n        at com.example.mylibrary.BookRecViewAdaptor.onBindViewHolder(BookRecViewAdaptor.java:21)\r\n        ...\r\n```\r\n\r\nI have looked through many postings and most point towards trying a access a Null pointer - the textview is null\r\n\r\nThe `list_item_books.xml` xml file is a `MaterialCardView` with this TextView contained:\r\n```\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Book Name&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:layout_below=&quot;@+id/imgBook&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;7dp&quot;\r\n            android:id=&quot;@+id/txtBookName&quot; /&gt;\r\n```\r\nThe input for the program: is pulling data from an `ArrayList` which is coded in `AllBooksActivity.java` here:\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_all_books2);\r\n\r\n        adaptor = new BookRecViewAdaptor(this);\r\n        booksRecView = findViewById(R.id.booksRecView);\r\n\r\n        booksRecView.setAdapter(adaptor);\r\n        booksRecView.setLayoutManager(new GridLayoutManager(this, 2));\r\n\r\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n        books.add(new Book(1, &quot;IQ84&quot;, &quot;Haruki Murakami&quot;, 1350, &quot;https://img1.od-cdn.com/ImageType-100/0111-1/%7B2B3729CD-27EC-42E1-BC51-298AAEE0AF7D%7DImg100.jpg&quot;,\r\n        &quot;A Work of maddening brilliance&quot;, &quot;Long Description&quot;));\r\n        adaptor.setBooks(books);\r\n\r\n    }\r\n}\r\n```\r\n[2/1/2023 UPDATE] thank you for your comments/suggestions, I am finding it easier to post code in the original query format.\r\n\r\nI am declaring `txtName` here:\r\n```\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        private CardView parent;\r\n        private ImageView imgBook;\r\n        private TextView txtName;\r\n        ...\r\n```\r\nI am initializing `txtName` here:\r\n\r\n```\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            parent = itemView.findViewById(R.id.parent);\r\n            imgBook = itemView.findViewById(R.id.imgBook);\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n\r\n        }\r\n```\r\n\r\nThe `txtName` value is coming from the arrayList (`ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();`)\r\nIf I rem out this line of code:\r\n```holder.txtName.setText(books.get(position).getName());```\r\nNo error is thrown however the value of `txtName` is not being set.","title":"NullPointerException error while trying to display TextView within MaterialCardView xml object","body":"<p>I am working through an Android Studio tutorial and get stuck at this line in my <code>BookRecViewAdaptor.java</code> file:</p>\n<pre><code>    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        Log.d(TAG, &quot;onVBindViewHolder: Called&quot;);\n        holder.txtName.setText(books.get(position).getName());\n        ...\n</code></pre>\n<p>Below is the error I am receiving on the 3rd line - btw I know that I am inside the code as in the Logcat, directly above the error I see &quot;<code>onVBindViewHolder: Called</code>&quot; (from line 2 above)</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.mylibrary, PID: 12001\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at com.example.mylibrary.BookRecViewAdaptor.onBindViewHolder(BookRecViewAdaptor.java:42)\n        at com.example.mylibrary.BookRecViewAdaptor.onBindViewHolder(BookRecViewAdaptor.java:21)\n        ...\n</code></pre>\n<p>I have looked through many postings and most point towards trying a access a Null pointer - the textview is null</p>\n<p>The <code>list_item_books.xml</code> xml file is a <code>MaterialCardView</code> with this TextView contained:</p>\n<pre><code>        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Book Name&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textSize=&quot;16sp&quot;\n            android:layout_below=&quot;@+id/imgBook&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_marginTop=&quot;7dp&quot;\n            android:id=&quot;@+id/txtBookName&quot; /&gt;\n</code></pre>\n<p>The input for the program: is pulling data from an <code>ArrayList</code> which is coded in <code>AllBooksActivity.java</code> here:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_all_books2);\n\n        adaptor = new BookRecViewAdaptor(this);\n        booksRecView = findViewById(R.id.booksRecView);\n\n        booksRecView.setAdapter(adaptor);\n        booksRecView.setLayoutManager(new GridLayoutManager(this, 2));\n\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();\n        books.add(new Book(1, &quot;IQ84&quot;, &quot;Haruki Murakami&quot;, 1350, &quot;https://img1.od-cdn.com/ImageType-100/0111-1/%7B2B3729CD-27EC-42E1-BC51-298AAEE0AF7D%7DImg100.jpg&quot;,\n        &quot;A Work of maddening brilliance&quot;, &quot;Long Description&quot;));\n        adaptor.setBooks(books);\n\n    }\n}\n</code></pre>\n<p>[2/1/2023 UPDATE] thank you for your comments/suggestions, I am finding it easier to post code in the original query format.</p>\n<p>I am declaring <code>txtName</code> here:</p>\n<pre><code>    public class ViewHolder extends RecyclerView.ViewHolder {\n        private CardView parent;\n        private ImageView imgBook;\n        private TextView txtName;\n        ...\n</code></pre>\n<p>I am initializing <code>txtName</code> here:</p>\n<pre><code>        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            parent = itemView.findViewById(R.id.parent);\n            imgBook = itemView.findViewById(R.id.imgBook);\n            txtName = itemView.findViewById(R.id.txtName);\n\n        }\n</code></pre>\n<p>The <code>txtName</code> value is coming from the arrayList (<code>ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();</code>)\nIf I rem out this line of code:\n<code>holder.txtName.setText(books.get(position).getName());</code>\nNo error is thrown however the value of <code>txtName</code> is not being set.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux","spring-authorization-server"],"answers":[{"tags":[],"owner":{"account_id":7938134,"reputation":173,"user_id":5995606,"display_name":"ahgpoug"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675267343,"creation_date":1675267343,"answer_id":75312940,"question_id":75301931,"body_markdown":"Official answer:\r\n\r\n&gt; We are strictly focusing on a Servlet implementation for the initial set of features that would qualify for a MVP version. We haven&#39;t decided whether we&#39;ll provide a WebFlux version at this point.\r\n&gt;\r\n&gt;Quite honestly, I&#39;m not convinced it&#39;s needed. The client and resource server(s) are the most active, whereas, the authorization server is not as active as it simply issues a token and may validate a token, which is limited activity between the many interactions that follow between a client and resource server after a token is issued.\r\n&gt;\r\n&gt;Either way, I&#39;m going to close this issue as WebFlux is not on the roadmap as of now.\r\n\r\nSource - &lt;https://github.com/spring-projects/spring-authorization-server/issues/152&gt;","title":"Spring OAuth2 Authorization Server + Spring WebFlux","body":"<p>Official answer:</p>\n<blockquote>\n<p>We are strictly focusing on a Servlet implementation for the initial set of features that would qualify for a MVP version. We haven't decided whether we'll provide a WebFlux version at this point.</p>\n<p>Quite honestly, I'm not convinced it's needed. The client and resource server(s) are the most active, whereas, the authorization server is not as active as it simply issues a token and may validate a token, which is limited activity between the many interactions that follow between a client and resource server after a token is issued.</p>\n<p>Either way, I'm going to close this issue as WebFlux is not on the roadmap as of now.</p>\n</blockquote>\n<p>Source - <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/152\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-authorization-server/issues/152</a></p>\n"}],"owner":{"account_id":7938134,"reputation":173,"user_id":5995606,"display_name":"ahgpoug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75312940,"answer_count":1,"score":0,"last_activity_date":1675267343,"creation_date":1675191521,"question_id":75301931,"body_markdown":"I&#39;m trying to rewrite existing OAuth2 authorization service using `Spring Boot 3.0.2` and newly released `Spring OAuth2 Authorization Server 1.0.0`.\r\nFaced a trouble combing objects from Reactive Security and Standard Security libraries: unable to apply default security to `OAuth2AuthorizationServerConfiguration` class, because it&#39;s not applicable to reactive `ServerHttpSecurity`. \r\n\r\nCode part\r\n\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public SecurityWebFilterChain authServerSecurityFilterChain(ServerHttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http\r\n            .formLogin()\r\n            ...;\r\n\r\n        return http.build();\r\n    }\r\n\r\nCan&#39;t pass `HttpSecurity` to `applyDefaultSecurity()` method.\r\nTried to find any reactive implementations of `OAuth2AuthorizationServerConfiguration` class but found nothing.\r\n\r\nIs there any way to convert `ServerHttpSecurity` to `HttpSecurity`? Or Spring OAuth2 Authorization Server is completely incompatible with reactive approach?\r\n\r\nMain dependencies of Maven pom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThanks is advance.\r\n\r\n**UPD**\r\n\r\nSearched badly. Seems like it&#39;s not supported yet: \r\n\r\n&lt;https://github.com/spring-projects/spring-authorization-server/issues/152&gt;\r\n\r\nOr there are still some ways make it work?","title":"Spring OAuth2 Authorization Server + Spring WebFlux","body":"<p>I'm trying to rewrite existing OAuth2 authorization service using <code>Spring Boot 3.0.2</code> and newly released <code>Spring OAuth2 Authorization Server 1.0.0</code>.\nFaced a trouble combing objects from Reactive Security and Standard Security libraries: unable to apply default security to <code>OAuth2AuthorizationServerConfiguration</code> class, because it's not applicable to reactive <code>ServerHttpSecurity</code>.</p>\n<p>Code part</p>\n<pre><code>@Bean\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic SecurityWebFilterChain authServerSecurityFilterChain(ServerHttpSecurity http) throws Exception {\n    OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n    http\n        .formLogin()\n        ...;\n\n    return http.build();\n}\n</code></pre>\n<p>Can't pass <code>HttpSecurity</code> to <code>applyDefaultSecurity()</code> method.\nTried to find any reactive implementations of <code>OAuth2AuthorizationServerConfiguration</code> class but found nothing.</p>\n<p>Is there any way to convert <code>ServerHttpSecurity</code> to <code>HttpSecurity</code>? Or Spring OAuth2 Authorization Server is completely incompatible with reactive approach?</p>\n<p>Main dependencies of Maven pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thanks is advance.</p>\n<p><strong>UPD</strong></p>\n<p>Searched badly. Seems like it's not supported yet:</p>\n<p><a href=\"https://github.com/spring-projects/spring-authorization-server/issues/152\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-authorization-server/issues/152</a></p>\n<p>Or there are still some ways make it work?</p>\n"},{"tags":["java","time","game-development"],"answers":[{"tags":[],"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675267268,"creation_date":1675267268,"answer_id":75312923,"question_id":75312661,"body_markdown":"Your problem is that you are calculating your elapsed time forever since the first `startTime`.\r\n\r\nOne of the solution would be to calculate a delta (difference) time between loop iterations.\r\n\r\nHere some very primitive code that should get you started:\r\n\r\n    public static void main(String[] args) {\r\n        boolean paused = false;\r\n        long lastRun = System.currentTimeMillis();\r\n        long elapsed = 0;\r\n\r\n        System.out.println(&quot;Game start&quot;);\r\n\r\n        while (true) {\r\n            long now = System.currentTimeMillis();\r\n            long delta = now - lastRun;\r\n\r\n            if (!paused &amp;&amp; delta &gt; 0) {\r\n                elapsed += delta;\r\n\r\n                // Do game stuff\r\n                System.out.println(&quot;Elapsed: &quot; + elapsed);\r\n                if (elapsed &gt;= 5000) return;\r\n                lastRun = now;\r\n            }\r\n        }\r\n    }","title":"How do I stop the timer from counting down when I switch to pause state?","body":"<p>Your problem is that you are calculating your elapsed time forever since the first <code>startTime</code>.</p>\n<p>One of the solution would be to calculate a delta (difference) time between loop iterations.</p>\n<p>Here some very primitive code that should get you started:</p>\n<pre><code>public static void main(String[] args) {\n    boolean paused = false;\n    long lastRun = System.currentTimeMillis();\n    long elapsed = 0;\n\n    System.out.println(&quot;Game start&quot;);\n\n    while (true) {\n        long now = System.currentTimeMillis();\n        long delta = now - lastRun;\n\n        if (!paused &amp;&amp; delta &gt; 0) {\n            elapsed += delta;\n\n            // Do game stuff\n            System.out.println(&quot;Elapsed: &quot; + elapsed);\n            if (elapsed &gt;= 5000) return;\n            lastRun = now;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27677094,"reputation":3,"user_id":21126672,"display_name":"numbsku1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75312923,"answer_count":1,"score":0,"last_activity_date":1675267268,"creation_date":1675266046,"question_id":75312661,"body_markdown":"I have a java game wherein there is a countdown timer from 60 secs. It works fine, but when I pause the game and return back to play state. the original time is now reduced because I found out that the timer still keeps running from the system no matter what gameState I&#39;m in. How do I fix this?\r\n\r\nI tried storing the remainingTime to a pauseTime variable whenever I switch states, and just subtract it and stuff. But my efforts seem to failed.\r\n\r\n\r\n```\r\n// GET ELAPSED TIME\r\n\t\tif(gp.gameState == gp.playState &amp;&amp; remainingTime &gt;= 0) {\r\n\t\t\tsoundCounter--;\r\n\t\t\telapsedTime = System.currentTimeMillis() - startTime;\r\n\t\t\tremainingTime = totalTime - elapsedTime;\r\n\t\t\tif(remainingTime &lt;= 0) {\r\n\t\t\t\tremainingMilliseconds = 0;\r\n\t\t\t\tremainingSeconds = 0;\r\n\t\t\t\tremainingMinutes = 0;\r\n\t\t\t\t// GAME OVER\r\n\t\t\t\tgp.gameOver();\r\n\t\t\t} else {\r\n\t\t\t\tremainingMilliseconds = remainingTime % 1000;\r\n\t\t\t\tremainingSeconds = (remainingTime / 1000) % 60;\r\n\t\t\t\tremainingMinutes = (remainingTime / 1000) / 60;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// DRAW TIMER\r\n\t\ttimeString = String.format(&quot;%02d:%02d:%03d&quot;, remainingMinutes, remainingSeconds, remainingMilliseconds);\r\n```\r\n","title":"How do I stop the timer from counting down when I switch to pause state?","body":"<p>I have a java game wherein there is a countdown timer from 60 secs. It works fine, but when I pause the game and return back to play state. the original time is now reduced because I found out that the timer still keeps running from the system no matter what gameState I'm in. How do I fix this?</p>\n<p>I tried storing the remainingTime to a pauseTime variable whenever I switch states, and just subtract it and stuff. But my efforts seem to failed.</p>\n<pre><code>// GET ELAPSED TIME\n        if(gp.gameState == gp.playState &amp;&amp; remainingTime &gt;= 0) {\n            soundCounter--;\n            elapsedTime = System.currentTimeMillis() - startTime;\n            remainingTime = totalTime - elapsedTime;\n            if(remainingTime &lt;= 0) {\n                remainingMilliseconds = 0;\n                remainingSeconds = 0;\n                remainingMinutes = 0;\n                // GAME OVER\n                gp.gameOver();\n            } else {\n                remainingMilliseconds = remainingTime % 1000;\n                remainingSeconds = (remainingTime / 1000) % 60;\n                remainingMinutes = (remainingTime / 1000) / 60;\n            }\n        }\n        // DRAW TIMER\n        timeString = String.format(&quot;%02d:%02d:%03d&quot;, remainingMinutes, remainingSeconds, remainingMilliseconds);\n</code></pre>\n"},{"tags":["java","arrays","if-statement"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":4,"creation_date":1675262177,"post_id":75311746,"comment_id":132890731,"body_markdown":"&quot;In the attached pic, the input was index 0.&quot; I can&#39;t understand what you mean. There is nothing in the input that says which index to look at, and the **purpose of** the loop is to look at every index. You see a separate result for each element of the array because **the loop runs multiple times (that&#39;s what a loop is for)**, and each time prints something.","body":"&quot;In the attached pic, the input was index 0.&quot; I can&#39;t understand what you mean. There is nothing in the input that says which index to look at, and the <b>purpose of</b> the loop is to look at every index. You see a separate result for each element of the array because <b>the loop runs multiple times (that&#39;s what a loop is for)</b>, and each time prints something."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1675262228,"post_id":75311746,"comment_id":132890751,"body_markdown":"Hint: on the first iteration of the loop, you really can&#39;t say &quot;Sorry, we do not have that product&quot;. You can only accurately say that after checking *every* aisle.","body":"Hint: on the first iteration of the loop, you really can&#39;t say &quot;Sorry, we do not have that product&quot;. You can only accurately say that after checking <i>every</i> aisle."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1675262233,"post_id":75311746,"comment_id":132890755,"body_markdown":"&quot;Trainers have simply said it is impossible to for a for loop to print of which I understand&quot; This doesn&#39;t make any sense at all. Please try to write more clearly. Start by thinking about the problem, and clearly explaining: **what kinds of inputs** could we have, that are meaningfully different from each other? For each of those cases, **exactly what should happen** when the code runs?","body":"&quot;Trainers have simply said it is impossible to for a for loop to print of which I understand&quot; This doesn&#39;t make any sense at all. Please try to write more clearly. Start by thinking about the problem, and clearly explaining: <b>what kinds of inputs</b> could we have, that are meaningfully different from each other? For each of those cases, <b>exactly what should happen</b> when the code runs?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675262281,"post_id":75311746,"comment_id":132890771,"body_markdown":"One option is to use special value, let&#39;s say `-1`, if product is found, assign index and break loop. Do the if-else check outside the loop.","body":"One option is to use special value, let&#39;s say <code>-1</code>, if product is found, assign index and break loop. Do the if-else check outside the loop."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1675262320,"post_id":75311746,"comment_id":132890784,"body_markdown":"@JonSkeet if I correctly guessed the (very vaguely described) problem, then it&#39;s one that huge amounts of beginners have in every programming language. We really should have some kind of language-agnostic canonical for it.","body":"@JonSkeet if I correctly guessed the (very vaguely described) problem, then it&#39;s one that huge amounts of beginners have in every programming language. We really should have some kind of language-agnostic canonical for it."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675267213,"creation_date":1675263605,"answer_id":75312124,"question_id":75311746,"body_markdown":"Here is a suggestion.\r\n\r\n- Change your method to return an int (`aisle` if the product exists or `-1` if not).\r\n- Don&#39;t do any I/O in the method.  Just pass the target of the search as an argument.\r\n\r\n```\r\nString[] aisles = {\r\n        &quot;apples&quot;,&quot;bananas&quot;,&quot;candy&quot;,&quot;chocolate&quot;,&quot;coffee&quot;,&quot;tea&quot;\r\n};\r\nSystem.out.println(&quot;What are you looking for? &quot;);\r\nString product = scan.nextLine();\r\n\r\nint aisle = searchProduct(product, aisles);\r\nif (aisle &gt;= 0) {\r\n    System.out.println(&quot;We have &quot; + product + &quot; in aisle &quot; + aisle);\r\n} else {\r\n    System.out.println(&quot;Sorry we do not have that product&quot;);\r\n}\r\n    \r\n\r\npublic static int searchProduct(String product, String[] aisles) {\r\n    for (int aisle = 0; aisle &lt; aisles.length; aisle++) {\r\n        if (product.equals(aisles[aisle])) {\r\n            return aisle;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n```\r\n","title":"Java for loop running both true and false conditions","body":"<p>Here is a suggestion.</p>\n<ul>\n<li>Change your method to return an int (<code>aisle</code> if the product exists or <code>-1</code> if not).</li>\n<li>Don't do any I/O in the method.  Just pass the target of the search as an argument.</li>\n</ul>\n<pre><code>String[] aisles = {\n        &quot;apples&quot;,&quot;bananas&quot;,&quot;candy&quot;,&quot;chocolate&quot;,&quot;coffee&quot;,&quot;tea&quot;\n};\nSystem.out.println(&quot;What are you looking for? &quot;);\nString product = scan.nextLine();\n\nint aisle = searchProduct(product, aisles);\nif (aisle &gt;= 0) {\n    System.out.println(&quot;We have &quot; + product + &quot; in aisle &quot; + aisle);\n} else {\n    System.out.println(&quot;Sorry we do not have that product&quot;);\n}\n    \n\npublic static int searchProduct(String product, String[] aisles) {\n    for (int aisle = 0; aisle &lt; aisles.length; aisle++) {\n        if (product.equals(aisles[aisle])) {\n            return aisle;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":23808353,"reputation":9,"user_id":17817519,"display_name":"Gregory Banks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1675267213,"creation_date":1675261909,"question_id":75311746,"body_markdown":"I refactored a working project to practice creating callable methods when I broke the app. This app includes a simple String array with a method that matches user input with the array and prints the element name and index.\r\n\r\nIf I don&#39;t include a break at the end of the if else statements the app can match valid input but runs both if and else statements. It actually prints the if statement in the order of the index and prints the else output the number of times as the length of the array. In the attached pic, the input was index 0. [if statement output](https://i.stack.imgur.com/WSU1w.png) In the pic index 0 was matched and printed with the number of else outputs as in the array. It seems the else statement is reading the array length.\r\n\r\nIf I add the break, the app only recognizes index 0 and will run the if statement as expected, but also runs the else statement. But only prints out if else output once. I hope this is clear.  Trainers have simply said it is impossible to for a for loop to print of which I understand, yet I&#39;m having a different experience.\r\n\r\nHere is the code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n  static Scanner scan = new Scanner(System.in);\r\n\r\n  public static void main(String[] args) {\r\n\r\n    System.out.println(&quot;What are you looking for? &quot;);\r\n    //String product = scan.nextLine();\r\n    String[] aisles = {&quot;apples&quot;, &quot;bananas&quot;, &quot;candy&quot;, &quot;chocolate&quot;, &quot;coffee&quot;, &quot;tea&quot;};\r\n    searchProduct(aisles);\r\n  }\r\n\r\n  public static void searchProduct(String[] aisles) {\r\n    String product = scan.nextLine();\r\n    for (int i = 0; i &lt; aisles.length; i++) {\r\n      if (product.equals(aisles[i])) {\r\n        System.out.println(&quot;We have &quot; + aisles[i] + &quot; in aisle &quot; + i);\r\n\r\n      } else {\r\n        System.out.println(&quot;Sorry we do not have that product&quot;);\r\n\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI expect to match valid user input and run the if statement or run the else statement.","title":"Java for loop running both true and false conditions","body":"<p>I refactored a working project to practice creating callable methods when I broke the app. This app includes a simple String array with a method that matches user input with the array and prints the element name and index.</p>\n<p>If I don't include a break at the end of the if else statements the app can match valid input but runs both if and else statements. It actually prints the if statement in the order of the index and prints the else output the number of times as the length of the array. In the attached pic, the input was index 0. <a href=\"https://i.stack.imgur.com/WSU1w.png\" rel=\"nofollow noreferrer\">if statement output</a> In the pic index 0 was matched and printed with the number of else outputs as in the array. It seems the else statement is reading the array length.</p>\n<p>If I add the break, the app only recognizes index 0 and will run the if statement as expected, but also runs the else statement. But only prints out if else output once. I hope this is clear.  Trainers have simply said it is impossible to for a for loop to print of which I understand, yet I'm having a different experience.</p>\n<p>Here is the code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n  static Scanner scan = new Scanner(System.in);\n\n  public static void main(String[] args) {\n\n    System.out.println(&quot;What are you looking for? &quot;);\n    //String product = scan.nextLine();\n    String[] aisles = {&quot;apples&quot;, &quot;bananas&quot;, &quot;candy&quot;, &quot;chocolate&quot;, &quot;coffee&quot;, &quot;tea&quot;};\n    searchProduct(aisles);\n  }\n\n  public static void searchProduct(String[] aisles) {\n    String product = scan.nextLine();\n    for (int i = 0; i &lt; aisles.length; i++) {\n      if (product.equals(aisles[i])) {\n        System.out.println(&quot;We have &quot; + aisles[i] + &quot; in aisle &quot; + i);\n\n      } else {\n        System.out.println(&quot;Sorry we do not have that product&quot;);\n\n      }\n    }\n  }\n}\n</code></pre>\n<p>I expect to match valid user input and run the if statement or run the else statement.</p>\n"},{"tags":["java","maven","spring-boot","datasource"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1544612535,"post_id":53741514,"comment_id":94335671,"body_markdown":"See https://stackoverflow.com/questions/50213381/how-do-i-configure-hikaricp-for-postgresql","body":"See <a href=\"https://stackoverflow.com/questions/50213381/how-do-i-configure-hikaricp-for-postgresql\" title=\"how do i configure hikaricp for postgresql\">stackoverflow.com/questions/50213381/&hellip;</a>"},{"owner":{"account_id":8064739,"reputation":533,"user_id":6079278,"display_name":"vanillaSugar"},"score":0,"creation_date":1544612729,"post_id":53741514,"comment_id":94335776,"body_markdown":"try to rewrite your application.yml to have this structure : spring:datasource:id: and after this properties like jdbcUrl and driverClassName .. and also try to add this dependency : &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;","body":"try to rewrite your application.yml to have this structure : spring:datasource:id: and after this properties like jdbcUrl and driverClassName .. and also try to add this dependency : &lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"score":0,"creation_date":1544613037,"post_id":53741514,"comment_id":94335953,"body_markdown":"@vanillaSugar I have spring-boot-starter-jpa (which adds the jdbc dependency), and I tried the camelCase approach, but I got the same error.","body":"@vanillaSugar I have spring-boot-starter-jpa (which adds the jdbc dependency), and I tried the camelCase approach, but I got the same error."},{"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"score":0,"creation_date":1544613849,"post_id":53741514,"comment_id":94336387,"body_markdown":"Root cause found, thanks for the comments anyway","body":"Root cause found, thanks for the comments anyway"},{"owner":{"account_id":9758900,"reputation":487,"user_id":7234608,"display_name":"Ray"},"score":0,"creation_date":1590399185,"post_id":53741514,"comment_id":109655387,"body_markdown":"Hi@PabloLozano What&#39;s the root cause? I got the same error","body":"Hi@PabloLozano What&#39;s the root cause? I got the same error"},{"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"score":0,"creation_date":1590411652,"post_id":53741514,"comment_id":109661399,"body_markdown":"I wrote an answer, see below","body":"I wrote an answer, see below"}],"answers":[{"tags":[],"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1544625179,"creation_date":1544613727,"answer_id":53741962,"question_id":53741514,"body_markdown":"I found the problem: Eclipse showed the dependencies properly, but as it seemed the class was not really present, I tried to run it manually, so when I executed:\r\n\r\n    mvn clean install\r\n\r\nI got this error from Maven\r\n\r\n    error reading /home/pablo/.m2/repository/org/postgresql/postgresql/42.2.5/postgresql-42.2.5.jar; invalid LOC header (bad signature)\r\n\r\nSo the error was caused by Maven downloading a corrupt version of the jar. \r\n\r\nDeleting it to force a new download fixed the issue.","title":"Exception when creating datasource with PostgreSQL driver in Spring Boot","body":"<p>I found the problem: Eclipse showed the dependencies properly, but as it seemed the class was not really present, I tried to run it manually, so when I executed:</p>\n\n<pre><code>mvn clean install\n</code></pre>\n\n<p>I got this error from Maven</p>\n\n<pre><code>error reading /home/pablo/.m2/repository/org/postgresql/postgresql/42.2.5/postgresql-42.2.5.jar; invalid LOC header (bad signature)\n</code></pre>\n\n<p>So the error was caused by Maven downloading a corrupt version of the jar. </p>\n\n<p>Deleting it to force a new download fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":16980421,"reputation":515,"user_id":12282542,"display_name":"Kirill Parfenov"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1632851453,"creation_date":1632851453,"answer_id":69366358,"question_id":53741514,"body_markdown":"add next code to pom.xml:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Exception when creating datasource with PostgreSQL driver in Spring Boot","body":"<p>add next code to pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20636796,"reputation":91,"user_id":15150284,"display_name":"Tegveer Singh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1644740306,"creation_date":1644740306,"answer_id":71098991,"question_id":53741514,"body_markdown":"Make sure you have both JDBC driver and PostgreSQL dependencies in pom.xml as follows:\r\n\t\t\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; ","title":"Exception when creating datasource with PostgreSQL driver in Spring Boot","body":"<p>Make sure you have both JDBC driver and PostgreSQL dependencies in pom.xml as follows:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675012725,"creation_date":1675012725,"answer_id":75276848,"question_id":53741514,"body_markdown":"In my case the pom.xml was missing below dependency. Add below code and should work fine:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Exception when creating datasource with PostgreSQL driver in Spring Boot","body":"<p>In my case the pom.xml was missing below dependency. Add below code and should work fine:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4901491,"reputation":1100,"user_id":3949569,"accept_rate":100,"display_name":"Rohit Funde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675267071,"creation_date":1675267071,"answer_id":75312864,"question_id":53741514,"body_markdown":"if you are using IntelliJ Idea then restart your IDE","title":"Exception when creating datasource with PostgreSQL driver in Spring Boot","body":"<p>if you are using IntelliJ Idea then restart your IDE</p>\n"}],"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64274,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":53741962,"answer_count":5,"score":37,"last_activity_date":1675267071,"creation_date":1544612307,"question_id":53741514,"body_markdown":"I&#39;m trying to create a non-web application using Spring Boot following a [MKyong&#39;s example][1], but I got the following error:\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.0.5.RELEASE)\r\n    \r\n    (...) Several not relevant INFO log lines\r\n\r\n    2018-12-12 11:45:29.420 ERROR 30866 --- [ main] com.zaxxer.hikari.HikariConfig           : Failed to load driver class org.postgresql.Driver from HikariConfig class classloader sun.misc.Launcher$AppClassLoader@18b4aac2\r\n    2018-12-12 11:45:29.423  WARN 30866 --- [ main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name &#39;ldConfiguration&#39;: Could not bind properties to &#39;LdConfiguration&#39; : prefix=datasources.ld, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;datasources.ld&#39; to es.ortoplus.LdConfiguration$$EnhancerBySpringCGLIB$$625f0f64\r\n    2018-12-12 11:45:29.435  INFO 30866 --- [ main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-12-12 11:45:29.440 ERROR 30866 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to bind properties under &#39;datasources.ld&#39; to es.oplus.LdConfiguration$$EnhancerBySpringCGLIB$$625f0f64:\r\n    \r\n        Property: datasources.ld.driverclassname\r\n        Value: org.postgresql.Driver\r\n        Origin: class path resource [application.yml]:3:22\r\n        Reason: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader\r\n    \r\n    Action:\r\n    \r\n    Update your application&#39;s configuration\r\n\r\nMy conf file (application.yml) is\r\n\r\n    datasources:\r\n      ld:\r\n        driverClassName: org.postgresql.Driver\r\n        jdbc-url: jdbc:postgresql://localhost:5432/oplus\r\n        username: user123\r\n        password: 123456\r\n        connection-test-query: SELECT 1\r\n\r\nAnd in my Maven pom.xml file I added:\r\n\r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;!--&lt;version&gt; (managed by Spring Boot)42.2.5 &lt;/version&gt; --&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nMy entry point class:\r\n\r\n    @SpringBootApplication\r\n    public class App implements CommandLineRunner {\r\n    \r\n    \t@Autowired private UsuarioRepository usuarioRep;\r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tApp app = new App();\r\n    \t\tSystem.out.printf(&quot;Users: %1d&quot;, app.usuarioRep.count());\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws ClassNotFoundException {\r\n    \t\t//Class.forName(&quot;org.postgresql.Driver&quot;);\r\n    \t\tSpringApplication.run(App.class, args);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nAs you can see, I&#39;ve tried to check if the class is already in the classpath. If I uncomment that line I got a ClassNotFoundException, so it seems the error is caused because Maven is not including the dependency. I&#39;ve tried to set the scope as `runtime`, but it fails anyway.\r\n\r\nAnyway, here is my Configuration class:\r\n\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;datasources.ld&quot;)\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;postgreEntityManagerFactory&quot;, transactionManagerRef = &quot;postgreTransactionManager&quot;,\r\n    \t\tbasePackages = &quot;es.plus.l.dao&quot;)\r\n    public class LdConfiguration extends HikariConfig {\r\n    \r\n    \t@Bean(name = &quot;postgreDataSource&quot;)\r\n    \t@Primary\r\n    \tpublic DataSource dataSource() {\r\n    \t\treturn new HikariDataSource(this);\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;postgreEntityManagerFactory&quot;)\r\n    \t@Primary\r\n    \tpublic LocalContainerEntityManagerFactoryBean postgreEntityManagerFactory(\r\n                final EntityManagerFactoryBuilder builder,\r\n    \t\t\t@Qualifier(&quot;postgreDataSource&quot;) final DataSource dataSource) {\r\n    \t\tfinal LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n    \t\tentityManagerFactoryBean.setJpaVendorAdapter(this.vendorAdaptor());\r\n    \t\tentityManagerFactoryBean.setDataSource(dataSource);\r\n    \t\tentityManagerFactoryBean.setPersistenceProviderClass(HibernatePersistenceProvider.class);\r\n    \t\tentityManagerFactoryBean.setPersistenceUnitName(&quot;postgre&quot;);\r\n    \t\tentityManagerFactoryBean.setPackagesToScan(&quot;es.oplus.ld.model&quot;);\r\n    \t\tentityManagerFactoryBean.setJpaProperties(this.jpaHibernateProperties());\r\n    \t\tentityManagerFactoryBean.afterPropertiesSet();\r\n    \t\treturn entityManagerFactoryBean;\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;postgreTransactionManager&quot;)\r\n    \t@Primary\r\n    \tpublic PlatformTransactionManager postgreTransactionManager(\r\n              @Qualifier(&quot;postgreEntityManagerFactory&quot;) final EntityManagerFactory emf) {\r\n    \t\treturn new JpaTransactionManager(emf);\r\n    \t}\r\n    \r\n    \tprivate HibernateJpaVendorAdapter vendorAdaptor() {\r\n    \t\tfinal HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n    \t\t// put all the adapter properties here, such as show sql\r\n    \t\treturn vendorAdapter;\r\n    \t}\r\n    \r\n    \tprivate Properties jpaHibernateProperties() {\r\n    \t\tfinal Properties properties = new Properties();\r\n    \t\t// put all required jpa propeties here\r\n    \t\treturn properties;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.mkyong.com/spring-boot/spring-boot-non-web-application-example/","title":"Exception when creating datasource with PostgreSQL driver in Spring Boot","body":"<p>I'm trying to create a non-web application using Spring Boot following a <a href=\"https://www.mkyong.com/spring-boot/spring-boot-non-web-application-example/\" rel=\"noreferrer\">MKyong's example</a>, but I got the following error:</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.0.5.RELEASE)\n\n(...) Several not relevant INFO log lines\n\n2018-12-12 11:45:29.420 ERROR 30866 --- [ main] com.zaxxer.hikari.HikariConfig           : Failed to load driver class org.postgresql.Driver from HikariConfig class classloader sun.misc.Launcher$AppClassLoader@18b4aac2\n2018-12-12 11:45:29.423  WARN 30866 --- [ main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'ldConfiguration': Could not bind properties to 'LdConfiguration' : prefix=datasources.ld, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'datasources.ld' to es.ortoplus.LdConfiguration$$EnhancerBySpringCGLIB$$625f0f64\n2018-12-12 11:45:29.435  INFO 30866 --- [ main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-12-12 11:45:29.440 ERROR 30866 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to bind properties under 'datasources.ld' to es.oplus.LdConfiguration$$EnhancerBySpringCGLIB$$625f0f64:\n\n    Property: datasources.ld.driverclassname\n    Value: org.postgresql.Driver\n    Origin: class path resource [application.yml]:3:22\n    Reason: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader\n\nAction:\n\nUpdate your application's configuration\n</code></pre>\n\n<p>My conf file (application.yml) is</p>\n\n<pre><code>datasources:\n  ld:\n    driverClassName: org.postgresql.Driver\n    jdbc-url: jdbc:postgresql://localhost:5432/oplus\n    username: user123\n    password: 123456\n    connection-test-query: SELECT 1\n</code></pre>\n\n<p>And in my Maven pom.xml file I added:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n  &lt;!--&lt;version&gt; (managed by Spring Boot)42.2.5 &lt;/version&gt; --&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>My entry point class:</p>\n\n<pre><code>@SpringBootApplication\npublic class App implements CommandLineRunner {\n\n    @Autowired private UsuarioRepository usuarioRep;\n    @Override\n    public void run(String... args) throws Exception {\n        App app = new App();\n        System.out.printf(\"Users: %1d\", app.usuarioRep.count());\n\n    }\n\n    public static void main(String[] args) throws ClassNotFoundException {\n        //Class.forName(\"org.postgresql.Driver\");\n        SpringApplication.run(App.class, args);\n\n    }\n\n}\n</code></pre>\n\n<p>As you can see, I've tried to check if the class is already in the classpath. If I uncomment that line I got a ClassNotFoundException, so it seems the error is caused because Maven is not including the dependency. I've tried to set the scope as <code>runtime</code>, but it fails anyway.</p>\n\n<p>Anyway, here is my Configuration class:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"datasources.ld\")\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = \"postgreEntityManagerFactory\", transactionManagerRef = \"postgreTransactionManager\",\n        basePackages = \"es.plus.l.dao\")\npublic class LdConfiguration extends HikariConfig {\n\n    @Bean(name = \"postgreDataSource\")\n    @Primary\n    public DataSource dataSource() {\n        return new HikariDataSource(this);\n    }\n\n    @Bean(name = \"postgreEntityManagerFactory\")\n    @Primary\n    public LocalContainerEntityManagerFactoryBean postgreEntityManagerFactory(\n            final EntityManagerFactoryBuilder builder,\n            @Qualifier(\"postgreDataSource\") final DataSource dataSource) {\n        final LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setJpaVendorAdapter(this.vendorAdaptor());\n        entityManagerFactoryBean.setDataSource(dataSource);\n        entityManagerFactoryBean.setPersistenceProviderClass(HibernatePersistenceProvider.class);\n        entityManagerFactoryBean.setPersistenceUnitName(\"postgre\");\n        entityManagerFactoryBean.setPackagesToScan(\"es.oplus.ld.model\");\n        entityManagerFactoryBean.setJpaProperties(this.jpaHibernateProperties());\n        entityManagerFactoryBean.afterPropertiesSet();\n        return entityManagerFactoryBean;\n    }\n\n    @Bean(name = \"postgreTransactionManager\")\n    @Primary\n    public PlatformTransactionManager postgreTransactionManager(\n          @Qualifier(\"postgreEntityManagerFactory\") final EntityManagerFactory emf) {\n        return new JpaTransactionManager(emf);\n    }\n\n    private HibernateJpaVendorAdapter vendorAdaptor() {\n        final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        // put all the adapter properties here, such as show sql\n        return vendorAdapter;\n    }\n\n    private Properties jpaHibernateProperties() {\n        final Properties properties = new Properties();\n        // put all required jpa propeties here\n        return properties;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-9","java-module"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1675266913,"post_id":75312804,"comment_id":132892499,"body_markdown":"No. All classes of `greetings` will be exposed. If you want to not expose some of them, divide them into different modules, like `greetings-api` and `greetings-impl` module.","body":"No. All classes of <code>greetings</code> will be exposed. If you want to not expose some of them, divide them into different modules, like <code>greetings-api</code> and <code>greetings-impl</code> module."},{"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"score":0,"creation_date":1675267003,"post_id":75312804,"comment_id":132892540,"body_markdown":"Yes, indeed but what about third party dependencies ? we may end up with a client module using the API `greetings`, that we did not intend to leak, making so refactoring a bit more difficult.","body":"Yes, indeed but what about third party dependencies ? we may end up with a client module using the API <code>greetings</code>, that we did not intend to leak, making so refactoring a bit more difficult."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675267116,"post_id":75312804,"comment_id":132892581,"body_markdown":"@GionJh: if a third party made a module it&#39;s not up to you to sub-divide that module further. Expose all or nothing. What if yet another module on the module path depends on the whole module?","body":"@GionJh: if a third party made a module it&#39;s not up to you to sub-divide that module further. Expose all or nothing. What if yet another module on the module path depends on the whole module?"},{"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"score":0,"creation_date":1675267250,"post_id":75312804,"comment_id":132892641,"body_markdown":"Yes agred, was just thinking that this, deciding what to expose, would be a nice feature, if other modues need the whole module they would require it explicitely.","body":"Yes agred, was just thinking that this, deciding what to expose, would be a nice feature, if other modues need the whole module they would require it explicitely."}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675266780,"creation_date":1675266780,"question_id":75312804,"body_markdown":"In java module system, we can have:\r\n\r\n```\r\nmodule hellomodule {\r\n    exports com.name.hello;\r\n    requires transitive greetings;\r\n}\r\n```\r\nby doing this the packages exposed by `greetings` module will effectively become part of the API exposed by the `hellomodue`.\r\n\r\nWe may want to avoid this to a certain degree, would be nice, for example, to allow only visibility on certain classes,  the ones used by `hellomodule` in the signature of the methods it contains perhaps.\r\n\r\nIs there any way to do this, i.e. allow only certain classes or packages to be leaked ?\r\n","title":"Java module system: how to avoid leaking all packages of transitive modules","body":"<p>In java module system, we can have:</p>\n<pre><code>module hellomodule {\n    exports com.name.hello;\n    requires transitive greetings;\n}\n</code></pre>\n<p>by doing this the packages exposed by <code>greetings</code> module will effectively become part of the API exposed by the <code>hellomodue</code>.</p>\n<p>We may want to avoid this to a certain degree, would be nice, for example, to allow only visibility on certain classes,  the ones used by <code>hellomodule</code> in the signature of the methods it contains perhaps.</p>\n<p>Is there any way to do this, i.e. allow only certain classes or packages to be leaked ?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675259601,"post_id":75311178,"comment_id":132889743,"body_markdown":"Because you can interrupt after the `!Thread.interrupted()` but before the `Thread.sleep(100);`. The exact timing of the interrupt is effectively random.","body":"Because you can interrupt after the <code>!Thread.interrupted()</code> but before the <code>Thread.sleep(100);</code>. The exact timing of the interrupt is effectively random."},{"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"score":0,"creation_date":1675260380,"post_id":75311178,"comment_id":132890050,"body_markdown":"@Michael Ohh, thanks, I didn&#39;t know that interrupt is random…","body":"@Michael Ohh, thanks, I didn&#39;t know that interrupt is random…"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1675260438,"post_id":75311178,"comment_id":132890071,"body_markdown":"With these sleep timings, the loop will be entered 20 times, possibly 21 - is that what you observe?","body":"With these sleep timings, the loop will be entered 20 times, possibly 21 - is that what you observe?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1675261438,"post_id":75311178,"comment_id":132890491,"body_markdown":"The interrupt is not random, it is just not deterministic when it happens. For example, the new thread might not yet have entered `run()` when you interrupt (although extremely unlikely with a sleep of 2 seconds), or it might have already entered the while loop (it takes some time to spin up and launch a thread, but the main thread might also have been paused to let a different thread/application run on the CPU, etc).","body":"The interrupt is not random, it is just not deterministic when it happens. For example, the new thread might not yet have entered <code>run()</code> when you interrupt (although extremely unlikely with a sleep of 2 seconds), or it might have already entered the while loop (it takes some time to spin up and launch a thread, but the main thread might also have been paused to let a different thread/application run on the CPU, etc)."},{"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"score":0,"creation_date":1675262602,"post_id":75311178,"comment_id":132890879,"body_markdown":"@f1sh The loop enter 19 times","body":"@f1sh The loop enter 19 times"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1675265519,"post_id":75311178,"comment_id":132891928,"body_markdown":"Sleep resets the interrupt flag so if you don&#39;t use break  the while test never detects it. Add a call to Thread.currentThread.interrupt in the catch block.","body":"Sleep resets the interrupt flag so if you don&#39;t use break  the while test never detects it. Add a call to Thread.currentThread.interrupt in the catch block."},{"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"score":0,"creation_date":1675265900,"post_id":75311178,"comment_id":132892088,"body_markdown":"@NathanHughes Yes, I think your answer the most accurate","body":"@NathanHughes Yes, I think your answer the most accurate"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675266604,"creation_date":1675266180,"answer_id":75312691,"question_id":75311178,"body_markdown":"Whenever the sleep method detects an interruption it resets the interrupt flag before throwing an InterruptedException. So if you don&#39;t use break then the interrupt flag is set to false by the time the exception is caught and the while loop test never detects the interruption. \r\n\r\nThe recommended practice is to add a line to your catch block like this\r\n\r\n    Thread.currentThread.interrupt();\r\n\r\nif you want to keep the interrupt status. \r\n\r\nIt&#39;s not a problem here but be aware that Thread.interrupted() resets the interrupt flag. It&#39;s a convenience method used by some JDK code so that resetting the interrupt flag and throwing the exception takes less code.\r\n","title":"Thread with interruption in java","body":"<p>Whenever the sleep method detects an interruption it resets the interrupt flag before throwing an InterruptedException. So if you don't use break then the interrupt flag is set to false by the time the exception is caught and the while loop test never detects the interruption.</p>\n<p>The recommended practice is to add a line to your catch block like this</p>\n<pre><code>Thread.currentThread.interrupt();\n</code></pre>\n<p>if you want to keep the interrupt status.</p>\n<p>It's not a problem here but be aware that Thread.interrupted() resets the interrupt flag. It's a convenience method used by some JDK code so that resetting the interrupt flag and throwing the exception takes less code.</p>\n"}],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75312691,"answer_count":1,"score":2,"last_activity_date":1675266604,"creation_date":1675259450,"question_id":75311178,"body_markdown":"I have a question about threads in Java.\r\n\r\nI have the following code:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tRunnable r = () -&gt; {\r\n\t\t\twhile (!Thread.interrupted()) {\r\n\t\t\t\tSystem.out.println(&quot;Hola&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;interrupted&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tThread t = new Thread(r);\r\n\t\tt.start();\r\n\r\n\t\ttry {\r\n\t\t\tThread.sleep(2000);\r\n\t\t} catch (InterruptedException ie) {\r\n\t\t\tie.printStackTrace();\r\n\t\t}\r\n\r\n\t\tt.interrupt();\r\n\t}\r\n\r\nWhy if I introduce an interrupt does it still enter the loop? (without break).\r\n\r\nI understand the operation of the thread when there is an exception.","title":"Thread with interruption in java","body":"<p>I have a question about threads in Java.</p>\n<p>I have the following code:</p>\n<pre><code>public static void main(String[] args) {\n    Runnable r = () -&gt; {\n        while (!Thread.interrupted()) {\n            System.out.println(&quot;Hola&quot;);\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                System.out.println(&quot;interrupted&quot;);\n                break;\n            }\n        }\n    };\n\n    Thread t = new Thread(r);\n    t.start();\n\n    try {\n        Thread.sleep(2000);\n    } catch (InterruptedException ie) {\n        ie.printStackTrace();\n    }\n\n    t.interrupt();\n}\n</code></pre>\n<p>Why if I introduce an interrupt does it still enter the loop? (without break).</p>\n<p>I understand the operation of the thread when there is an exception.</p>\n"},{"tags":["java","android","flutter","android-studio","sdk"],"comments":[{"owner":{"account_id":18160851,"reputation":1046,"user_id":13212264,"display_name":"Benyamin"},"score":0,"creation_date":1630248294,"post_id":68973723,"comment_id":121899291,"body_markdown":"refer to my answer here: https://stackoverflow.com/questions/68729690/how-i-can-fix-android-license-status-unknown-in-flutter/68730152#68730152","body":"refer to my answer here: <a href=\"https://stackoverflow.com/questions/68729690/how-i-can-fix-android-license-status-unknown-in-flutter/68730152#68730152\" title=\"how i can fix android license status unknown in flutter\">stackoverflow.com/questions/68729690/&hellip;</a>"},{"owner":{"account_id":19816486,"reputation":955,"user_id":14514052,"display_name":"Da2ny"},"score":0,"creation_date":1630254179,"post_id":68973723,"comment_id":121900855,"body_markdown":"Well, C:\\Users\\[my_user]\\.jdks\\openjdk-16.0.2 (updated in the SDKs), path set in the env variables : JAVA_HOME C:\\Program Files\\Java\\jdk-16.0.2, I don&#39;t know how can I check for the build gradle but gradle is up to date, SDK Tools up to date (but I can&#39;t install : Android Emmulator Hypervisor Driver for AMD Processor (probably because I don&#39;t have AMD), and Intel x86 Emulator Accelerator. So it hasn&#39;t not resolved the problem :/","body":"Well, C:\\Users&#91;my_user]\\.jdks\\openjdk-16.0.2 (updated in the SDKs), path set in the env variables : JAVA_HOME C:\\Program Files\\Java\\jdk-16.0.2, I don&#39;t know how can I check for the build gradle but gradle is up to date, SDK Tools up to date (but I can&#39;t install : Android Emmulator Hypervisor Driver for AMD Processor (probably because I don&#39;t have AMD), and Intel x86 Emulator Accelerator. So it hasn&#39;t not resolved the problem :/"},{"owner":{"account_id":18160851,"reputation":1046,"user_id":13212264,"display_name":"Benyamin"},"score":0,"creation_date":1630258632,"post_id":68973723,"comment_id":121901962,"body_markdown":"in windows cmd type java -version. what is the results","body":"in windows cmd type java -version. what is the results"}],"answers":[{"tags":[],"owner":{"account_id":19661010,"reputation":548,"user_id":14392430,"display_name":"Alexander Farkas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630247892,"creation_date":1630247892,"answer_id":68973957,"question_id":68973723,"body_markdown":"Is `JAVA_HOME` env variable set? If not, add it","title":"Flutter 2: Unable to determine bundled Java version","body":"<p>Is <code>JAVA_HOME</code> env variable set? If not, add it</p>\n"},{"tags":[],"owner":{"account_id":22556644,"reputation":56,"user_id":16744905,"display_name":"Tanguy Palmie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630291016,"creation_date":1630290021,"answer_id":68978359,"question_id":68973723,"body_markdown":"Have you select your jdk in files android?\r\nElse, I recommand you to watch this post: https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter?rq=1\r\n\r\nCordially","title":"Flutter 2: Unable to determine bundled Java version","body":"<p>Have you select your jdk in files android?\nElse, I recommand you to watch this post: <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter?rq=1\">Unable to find bundled Java version on Flutter</a></p>\n<p>Cordially</p>\n"},{"tags":[],"owner":{"account_id":19816486,"reputation":955,"user_id":14514052,"display_name":"Da2ny"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1630295289,"creation_date":1630295289,"answer_id":68978737,"question_id":68973723,"body_markdown":"So here the action I have done:\r\nInstall latest version of jdk: https://www.oracle.com/java/technologies/javase-downloads.html\r\n\r\nInstall latest version of jre: https://www.oracle.com/java/technologies/javase-jre8-downloads.html\r\n\r\nGo to: C:\\Program Files\\Android and remove all version of Android Studio\r\n\r\nGo to Windows search: Environement Variables &gt; Environement Variables &gt; System Variables and add JAVA_HOME with value the path to your jdk (C:\\Program Files\\Java\\jdk-16.0.2)\r\n\r\nInstall Android Studio again\r\n\r\nGo to file &gt; Project Structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nPut your JDK path:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nGo to file &gt; Settings\r\n\r\n[![enter image description here][4]][4]\r\n\r\nClick on Show Package Details and retrograde to 20.1 or 22.2 (not sur for 22.2 but read that for some it works)\r\n\r\n[![enter image description here][5]][5]\r\n\r\nVerify you&#39;re on a stable version:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nflutter pub get\r\nflutter pub upgrade\r\nflutter pub outdated\r\nflutter doctor -v\r\n\r\nand it should be good: • Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7249189)\r\n\r\n  [1]: https://i.stack.imgur.com/5gA5h.png\r\n  [2]: https://i.stack.imgur.com/8NBA8.png\r\n  [3]: https://i.stack.imgur.com/TvK6M.png\r\n  [4]: https://i.stack.imgur.com/egV1h.png\r\n  [5]: https://i.stack.imgur.com/HTCXf.png\r\n  [6]: https://i.stack.imgur.com/lUWCE.png","title":"Flutter 2: Unable to determine bundled Java version","body":"<p>So here the action I have done:\nInstall latest version of jdk: <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase-downloads.html</a></p>\n<p>Install latest version of jre: <a href=\"https://www.oracle.com/java/technologies/javase-jre8-downloads.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase-jre8-downloads.html</a></p>\n<p>Go to: C:\\Program Files\\Android and remove all version of Android Studio</p>\n<p>Go to Windows search: Environement Variables &gt; Environement Variables &gt; System Variables and add JAVA_HOME with value the path to your jdk (C:\\Program Files\\Java\\jdk-16.0.2)</p>\n<p>Install Android Studio again</p>\n<p>Go to file &gt; Project Structure</p>\n<p><a href=\"https://i.stack.imgur.com/5gA5h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5gA5h.png\" alt=\"enter image description here\" /></a></p>\n<p>Put your JDK path:</p>\n<p><a href=\"https://i.stack.imgur.com/8NBA8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8NBA8.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/TvK6M.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TvK6M.png\" alt=\"enter image description here\" /></a></p>\n<p>Go to file &gt; Settings</p>\n<p><a href=\"https://i.stack.imgur.com/egV1h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/egV1h.png\" alt=\"enter image description here\" /></a></p>\n<p>Click on Show Package Details and retrograde to 20.1 or 22.2 (not sur for 22.2 but read that for some it works)</p>\n<p><a href=\"https://i.stack.imgur.com/HTCXf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HTCXf.png\" alt=\"enter image description here\" /></a></p>\n<p>Verify you're on a stable version:</p>\n<p><a href=\"https://i.stack.imgur.com/lUWCE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lUWCE.png\" alt=\"enter image description here\" /></a></p>\n<p>flutter pub get\nflutter pub upgrade\nflutter pub outdated\nflutter doctor -v</p>\n<p>and it should be good: • Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7249189)</p>\n"},{"tags":[],"owner":{"account_id":26916657,"reputation":19,"user_id":20491344,"display_name":"Oluwafemi Olawale Durodola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673758801,"creation_date":1673758801,"answer_id":75123031,"question_id":68973723,"body_markdown":"Solution for windows user\r\n\r\n - Download and install Java ([https://www.java.com/download/ie_manual.jsp][1])\r\n[![enter image description here][2]][2]\r\n\r\n\r\n - After installation finished, Go to : C:\\Program Files (x86)\\Java\\jre1.8.0_351 and copy everything inside this folder and paste it to this folder : C:\\Program Files\\Android\\Android Studio\\jre\r\n\r\n - Run flutter doctor again\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.java.com/download/ie_manual.jsp\r\n  [2]: https://i.stack.imgur.com/UHqBO.png\r\n  [3]: https://i.stack.imgur.com/lWeKl.png","title":"Flutter 2: Unable to determine bundled Java version","body":"<p>Solution for windows user</p>\n<ul>\n<li><p>Download and install Java (<a href=\"https://www.java.com/download/ie_manual.jsp\" rel=\"nofollow noreferrer\">https://www.java.com/download/ie_manual.jsp</a>)\n<a href=\"https://i.stack.imgur.com/UHqBO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHqBO.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>After installation finished, Go to : C:\\Program Files (x86)\\Java\\jre1.8.0_351 and copy everything inside this folder and paste it to this folder : C:\\Program Files\\Android\\Android Studio\\jre</p>\n</li>\n<li><p>Run flutter doctor again</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/lWeKl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWeKl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25419628,"reputation":357,"user_id":19225883,"display_name":"mohammed gamal"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1674016413,"creation_date":1674016413,"answer_id":75154711,"question_id":68973723,"body_markdown":"**Easy Solution**\r\n\r\n*For Windows*\r\n 1. Go to `C:\\Program Files\\Android\\Android Studio` \r\n 2. Copy the content of jbr\r\n 3. Paste it into jre\r\n\r\nThen run `flutter doctor`\r\nYou will find the **problem is sloved**","title":"Flutter 2: Unable to determine bundled Java version","body":"<p><strong>Easy Solution</strong></p>\n<p><em>For Windows</em></p>\n<ol>\n<li>Go to <code>C:\\Program Files\\Android\\Android Studio</code></li>\n<li>Copy the content of jbr</li>\n<li>Paste it into jre</li>\n</ol>\n<p>Then run <code>flutter doctor</code>\nYou will find the <strong>problem is sloved</strong></p>\n"},{"tags":[],"owner":{"account_id":214637,"reputation":39598,"user_id":468724,"accept_rate":92,"display_name":"Inder Kumar Rathore"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675266602,"creation_date":1674890586,"answer_id":75266038,"question_id":68973723,"body_markdown":"For macOS users,\r\n\r\nOpen the folder\r\n\r\n    open &quot;/Applications/Android Studio.app/Contents&quot;\r\n\r\ncreate the copy of `jbr` and rename it to `jre`. Both `jbr` and `jre` should be in same location\r\n\r\nThen run `flutter doctor` and it should work fine\r\n\r\n&lt;kbd&gt;\r\n&lt;img src=&quot;https://i.stack.imgur.com/nBi2c.png&quot; width=&quot;300&quot; /&gt;\r\n&lt;/kbd&gt;\r\n","title":"Flutter 2: Unable to determine bundled Java version","body":"<p>For macOS users,</p>\n<p>Open the folder</p>\n<pre><code>open &quot;/Applications/Android Studio.app/Contents&quot;\n</code></pre>\n<p>create the copy of <code>jbr</code> and rename it to <code>jre</code>. Both <code>jbr</code> and <code>jre</code> should be in same location</p>\n<p>Then run <code>flutter doctor</code> and it should work fine</p>\n<kbd>\n<img src=\"https://i.stack.imgur.com/nBi2c.png\" width=\"300\" />\n</kbd>\n"}],"owner":{"account_id":19816486,"reputation":955,"user_id":14514052,"display_name":"Da2ny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27212,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":68978737,"answer_count":6,"score":8,"last_activity_date":1675266602,"creation_date":1630246142,"question_id":68973723,"body_markdown":"I am using Android Studio under Windows 10 to make run a flutter project, however I have this warning I would like to fix :\r\n\r\n    X Unable to determine bundled Java version.\r\n        • Try updating or re-installing Android Studio.\r\n\r\nI have already try multiple solutions exposed on Stackoverflow / Git but no ones worked.\r\n\r\nHere the settings of my project :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHere my flutter doctor :\r\n\r\n    C:\\lib\\flutter\\bin\\flutter.bat doctor --verbose\r\n    [√] Flutter (Channel stable, 2.2.3, on Microsoft Windows [version 10.0.19042.1165], locale fr-FR)\r\n        • Flutter version 2.2.3 at C:\\lib\\flutter\r\n        • Framework revision f4abaa0735 (8 weeks ago), 2021-07-01 12:46:11 -0700\r\n        • Engine revision 241c87ad80\r\n        • Dart version 2.13.4\r\n    \r\n    [√] Android toolchain - develop for Android devices (Android SDK version 30.0.2)\r\n        • Android SDK at C:/Users/[MY_USER]/AppData/Local/Android/Sdk\r\n        • Platform android-30, build-tools 30.0.2\r\n        • ANDROID_HOME = C:/Users/[MY_USER]/AppData/Local/Android/Sdk\r\n        • Java binary at: C:\\Program Files\\Java\\jdk1.8.0_291\\bin\\java\r\n        • Java version Java(TM) SE Runtime Environment (build 1.8.0_291-b10)\r\n        • All Android licenses accepted.\r\n    \r\n    [√] Chrome - develop for the web\r\n        • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\r\n    \r\n    [!] Android Studio (version 4.1.0)\r\n        • Android Studio at C:\\Program Files\\Android\\Android Studio\r\n        • Flutter plugin can be installed from:\r\n           https://plugins.jetbrains.com/plugin/9212-flutter\r\n        • Dart plugin can be installed from:\r\n           https://plugins.jetbrains.com/plugin/6351-dart\r\n        X Unable to determine bundled Java version.\r\n        • Try updating or re-installing Android Studio.\r\n    \r\n    [√] VS Code (version 1.59.1)\r\n        • VS Code at C:\\Users\\[MY_USER]\\AppData\\Local\\Programs\\Microsoft VS Code\r\n        • Flutter extension can be installed from:\r\n           https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\r\n    \r\n    [√] Connected device (3 available)\r\n        • Android SDK built for x86 (mobile) • emulator-5554 • android-x86    • Android 11 (API 30) (emulator)\r\n        • Chrome (web)                       • chrome        • web-javascript • Google Chrome 92.0.4515.159\r\n        • Edge (web)                         • edge          • web-javascript • Microsoft Edge 92.0.902.84\r\n    \r\n    ! Doctor found issues in 1 category.\r\n    Process finished with exit code 0\r\n\r\nCould you provide help please ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/94hRh.png\r\n  [2]: https://i.stack.imgur.com/Gm5FT.png\r\n  [3]: https://i.stack.imgur.com/dMV44.png","title":"Flutter 2: Unable to determine bundled Java version","body":"<p>I am using Android Studio under Windows 10 to make run a flutter project, however I have this warning I would like to fix :</p>\n<pre><code>X Unable to determine bundled Java version.\n    • Try updating or re-installing Android Studio.\n</code></pre>\n<p>I have already try multiple solutions exposed on Stackoverflow / Git but no ones worked.</p>\n<p>Here the settings of my project :</p>\n<p><a href=\"https://i.stack.imgur.com/94hRh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/94hRh.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Gm5FT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Gm5FT.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dMV44.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dMV44.png\" alt=\"enter image description here\" /></a></p>\n<p>Here my flutter doctor :</p>\n<pre><code>C:\\lib\\flutter\\bin\\flutter.bat doctor --verbose\n[√] Flutter (Channel stable, 2.2.3, on Microsoft Windows [version 10.0.19042.1165], locale fr-FR)\n    • Flutter version 2.2.3 at C:\\lib\\flutter\n    • Framework revision f4abaa0735 (8 weeks ago), 2021-07-01 12:46:11 -0700\n    • Engine revision 241c87ad80\n    • Dart version 2.13.4\n\n[√] Android toolchain - develop for Android devices (Android SDK version 30.0.2)\n    • Android SDK at C:/Users/[MY_USER]/AppData/Local/Android/Sdk\n    • Platform android-30, build-tools 30.0.2\n    • ANDROID_HOME = C:/Users/[MY_USER]/AppData/Local/Android/Sdk\n    • Java binary at: C:\\Program Files\\Java\\jdk1.8.0_291\\bin\\java\n    • Java version Java(TM) SE Runtime Environment (build 1.8.0_291-b10)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[!] Android Studio (version 4.1.0)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    X Unable to determine bundled Java version.\n    • Try updating or re-installing Android Studio.\n\n[√] VS Code (version 1.59.1)\n    • VS Code at C:\\Users\\[MY_USER]\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension can be installed from:\n       https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\n\n[√] Connected device (3 available)\n    • Android SDK built for x86 (mobile) • emulator-5554 • android-x86    • Android 11 (API 30) (emulator)\n    • Chrome (web)                       • chrome        • web-javascript • Google Chrome 92.0.4515.159\n    • Edge (web)                         • edge          • web-javascript • Microsoft Edge 92.0.902.84\n\n! Doctor found issues in 1 category.\nProcess finished with exit code 0\n</code></pre>\n<p>Could you provide help please ?</p>\n"},{"tags":["java","spring","spring-boot","vaadin","vaadin14"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1580948000,"post_id":60084612,"comment_id":106269720,"body_markdown":"Perhaps a duplicate of: [*Vaadin onbeforeunload event*](https://stackoverflow.com/q/56651887/642706).","body":"Perhaps a duplicate of: <a href=\"https://stackoverflow.com/q/56651887/642706\"><i>Vaadin onbeforeunload event</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580970108,"creation_date":1580970108,"answer_id":60088823,"question_id":60084612,"body_markdown":"The JavaScript approach to detect closing still works.\r\n\r\nThe syntax just has changed a little\r\n\r\n    UI.getCurrent().getPage().executeJs(&quot;function closeListener() { $0.$server.windowClosed(); } &quot; +\r\n            &quot;window.addEventListener(&#39;beforeunload&#39;, closeListener); &quot; +\r\n            &quot;window.addEventListener(&#39;unload&#39;, closeListener);&quot;,getElement());\r\n\r\n\r\n    @ClientCallable\r\n    public void windowClosed() {\r\n    \tSystem.out.println(&quot;Window closed&quot;);\r\n    }\r\nAlthough this is not 100% bullet proof way, since I think not the all browsers work the same way. For example the above code triggers twice with Chrome, where listening just `beforeunload` is enough.\r\n\r\nThis allows to simplify the JavaScript to\r\n\r\n        UI.getCurrent().getPage().executeJs(\r\n    &quot;window.addEventListener(&#39;beforeunload&#39;, () =&gt; $0.$server.windowClosed()); &quot;,getElement());\r\n\r\n\r\n**BeforeLeaveObserver** works with navigation. So if you use **RouterLink** or call `ui.navigate(&quot;route&quot;)` then **BeforeLeaveEvent** is dispatched, but not when you call `page.setLocation()`.\r\n\r\nBrowser can close due crash, or lost due other reasons, then `beforeunload` naturally does not happen. The last resort is the heart beat based detection mechanism. I.e. after three lost heart beats Vaadin server will conclude that Browser was lost. There is naturally a delay in this, which simply cannot be avoided.","title":"{Java} Vaadin 14 - Detect user leave (closes tab, f5, etc)","body":"<p>The JavaScript approach to detect closing still works.</p>\n\n<p>The syntax just has changed a little</p>\n\n<pre><code>UI.getCurrent().getPage().executeJs(\"function closeListener() { $0.$server.windowClosed(); } \" +\n        \"window.addEventListener('beforeunload', closeListener); \" +\n        \"window.addEventListener('unload', closeListener);\",getElement());\n\n\n@ClientCallable\npublic void windowClosed() {\n    System.out.println(\"Window closed\");\n}\n</code></pre>\n\n<p>Although this is not 100% bullet proof way, since I think not the all browsers work the same way. For example the above code triggers twice with Chrome, where listening just <code>beforeunload</code> is enough.</p>\n\n<p>This allows to simplify the JavaScript to</p>\n\n<pre><code>    UI.getCurrent().getPage().executeJs(\n\"window.addEventListener('beforeunload', () =&gt; $0.$server.windowClosed()); \",getElement());\n</code></pre>\n\n<p><strong>BeforeLeaveObserver</strong> works with navigation. So if you use <strong>RouterLink</strong> or call <code>ui.navigate(\"route\")</code> then <strong>BeforeLeaveEvent</strong> is dispatched, but not when you call <code>page.setLocation()</code>.</p>\n\n<p>Browser can close due crash, or lost due other reasons, then <code>beforeunload</code> naturally does not happen. The last resort is the heart beat based detection mechanism. I.e. after three lost heart beats Vaadin server will conclude that Browser was lost. There is naturally a delay in this, which simply cannot be avoided.</p>\n"},{"tags":[],"owner":{"account_id":4089654,"reputation":5242,"user_id":3358029,"accept_rate":83,"display_name":"Erik Lumme"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580975033,"creation_date":1580970895,"answer_id":60089014,"question_id":60084612,"body_markdown":"Depending on which browsers you need to support, you might also want to take a look at the [Beacon API](https://developer.mozilla.org/en-US/docs/Web/API/Beacon_API), which is supported by all modern browsers, but not IE11.\r\n\r\nThe Beacon API has the benefit of being non-blocking. With the unload listener, the client waits for a response before closing the tab, which might be bad user experience.\r\n\r\nStill, as Tatu mentioned, if the browser crashes or the user loses internet connection, all you can do is wait for the session to time out.","title":"{Java} Vaadin 14 - Detect user leave (closes tab, f5, etc)","body":"<p>Depending on which browsers you need to support, you might also want to take a look at the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Beacon_API\" rel=\"nofollow noreferrer\">Beacon API</a>, which is supported by all modern browsers, but not IE11.</p>\n\n<p>The Beacon API has the benefit of being non-blocking. With the unload listener, the client waits for a response before closing the tab, which might be bad user experience.</p>\n\n<p>Still, as Tatu mentioned, if the browser crashes or the user loses internet connection, all you can do is wait for the session to time out.</p>\n"},{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675266567,"creation_date":1675266567,"answer_id":75312774,"question_id":60084612,"body_markdown":"Solution for Vaadin Flow 22.\r\nI placed into index.html a section right after &amp;lt;/style&amp;gt; closing tag:\r\n     \r\n      &lt;script&gt;\r\n          window.addEventListener(&#39;beforeunload&#39;, function (event) {\r\n           event.returnValue = &#39;Are you sure you want to close the application?&#39;;\r\n          });\r\n      &lt;/script&gt;\r\n\r\nMost likely, you won&#39;t see your custom message in the dialog window - you&#39;ll see the default one. I didn&#39;t see it either, but still apply it ;) \r\n","title":"{Java} Vaadin 14 - Detect user leave (closes tab, f5, etc)","body":"<p>Solution for Vaadin Flow 22.\nI placed into index.html a section right after &lt;/style&gt; closing tag:</p>\n<pre><code>  &lt;script&gt;\n      window.addEventListener('beforeunload', function (event) {\n       event.returnValue = 'Are you sure you want to close the application?';\n      });\n  &lt;/script&gt;\n</code></pre>\n<p>Most likely, you won't see your custom message in the dialog window - you'll see the default one. I didn't see it either, but still apply it ;)</p>\n"}],"owner":{"account_id":3031113,"reputation":65,"user_id":2570103,"accept_rate":100,"display_name":"HoverCatz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1675266567,"creation_date":1580939345,"question_id":60084612,"body_markdown":"I&#39;m currently using **Vaadin Flow version 14** (https://github.com/vaadin/platform/releases/tag/14.0.0)  \r\nI run Java version 1.8.0_231, 64 bit.\r\n\r\nI simply want to be able to detect (in java!) whenever a user does either of these actions: \r\n \r\n - Closes the current browser tab (or their browser)  \r\n - Clicks F5 on their keyboard, or pressed the Refresh button in their browser  \r\n - Clicks a link (or anything else), which redirects them away from my website\r\n\r\nI&#39;ve tried lots of different things to detect this. The only thing I have been able to detect so far, is whenever the current VaadinSession expires (which I can change by doing ```VaadinSession.getCurrent().getSession().setMaxInactiveInterval(15)```). This makes every session expire after 15 seconds (15 is just a testing number in my case).\r\n\r\n&lt;br&gt;  \r\nWith **Vaadin 8**, I believe you can just do this and it will work out of the box:\r\n```Java\r\n        JavaScript.getCurrent().execute(\r\n            &quot;function closeListener() { catchClose(); } &quot; +\r\n                    &quot;window.addEventListener(&#39;beforeunload&#39;, closeListener); &quot; +\r\n                    &quot;window.addEventListener(&#39;unload&#39;, closeListener);&quot;\r\n        );\r\n        JavaScript.getCurrent().addFunction(&quot;catchClose&quot;, arguments -&gt;\r\n        {\r\n            System.out.println(&quot;user has quit :o&quot;);\r\n        });\r\n```\r\nI can&#39;t use this tho, since I use **Vaadin 14**, not **8**.\r\n&lt;br&gt;&lt;br&gt;  \r\nI have tried adding this to my View class:\r\n```Java\r\n    @Override\r\n    protected void onDetach(DetachEvent detachEvent)\r\n    {\r\n        System.out.println(&quot;onDetach &quot; + detachEvent);\r\n    }\r\n```\r\nIt only prints this message when the session expires (15 seconds in my case). Even if I don&#39;t close the page.\r\n&lt;br&gt;&lt;br&gt;  \r\nI have tried implementing **BeforeLeaveObserver** / **BeforeLeaveListener** and overridding this:\r\n```Java\r\n    @Override\r\n    public void beforeLeave(BeforeLeaveEvent beforeLeaveEvent)\r\n    {\r\n        System.out.println(&quot;beforeLeave&quot;);\r\n    }\r\n```\r\nThis never prints.  \r\n&lt;br&gt;&lt;br&gt;\r\nI&#39;ve also tried all of these, but they do not do what I need:\r\n```Java\r\n        VaadinResponse.getCurrent().getService().addUIInitListener(e -&gt;\r\n        {\r\n            System.out.println(&quot;1 addUIInitListener : &quot; + e);\r\n            e.getUI().addBeforeLeaveListener(e2 -&gt;\r\n            {\r\n                System.out.println(&quot;1.1 addBeforeLeaveListener : &quot; + e2);\r\n            });\r\n            e.getUI().addDetachListener(e2 -&gt;\r\n            {\r\n                System.out.println(&quot;1.2 addDetachListener : &quot; + e2);\r\n            });\r\n        });\r\n        VaadinResponse.getCurrent().getService().addServiceDestroyListener(e -&gt;\r\n        {\r\n            System.out.println(&quot;2 addServiceDestroyListener : &quot; + e);\r\n        });\r\n        VaadinResponse.getCurrent().getService().addSessionDestroyListener(e -&gt;\r\n        {\r\n            System.out.println(&quot;3 addSessionDestroyListener : &quot; + e);\r\n        });\r\n```\r\n`1 addUIInitListener` gets printed when the user loads the page.  \r\n`1.1 addBeforeLeaveListener` never prints.  \r\n`2 addServiceDestroyListener` never prints. A Service isn&#39;t the same as a Session. Makes sense tho.  \r\n`1.2` and `3 addSessionDestroyListener` prints wafter awhile. Takes like 15-30 seconds tho.  \r\n&lt;br&gt;&lt;br&gt;\r\nIs there not a way to detect this basically instantly? :/ ","title":"{Java} Vaadin 14 - Detect user leave (closes tab, f5, etc)","body":"<p>I'm currently using <strong>Vaadin Flow version 14</strong> (<a href=\"https://github.com/vaadin/platform/releases/tag/14.0.0\" rel=\"nofollow noreferrer\">https://github.com/vaadin/platform/releases/tag/14.0.0</a>)<br>\nI run Java version 1.8.0_231, 64 bit.</p>\n\n<p>I simply want to be able to detect (in java!) whenever a user does either of these actions: </p>\n\n<ul>\n<li>Closes the current browser tab (or their browser)  </li>\n<li>Clicks F5 on their keyboard, or pressed the Refresh button in their browser  </li>\n<li>Clicks a link (or anything else), which redirects them away from my website</li>\n</ul>\n\n<p>I've tried lots of different things to detect this. The only thing I have been able to detect so far, is whenever the current VaadinSession expires (which I can change by doing <code>VaadinSession.getCurrent().getSession().setMaxInactiveInterval(15)</code>). This makes every session expire after 15 seconds (15 is just a testing number in my case).</p>\n\n<p><br><br>\nWith <strong>Vaadin 8</strong>, I believe you can just do this and it will work out of the box:</p>\n\n<pre><code>        JavaScript.getCurrent().execute(\n            \"function closeListener() { catchClose(); } \" +\n                    \"window.addEventListener('beforeunload', closeListener); \" +\n                    \"window.addEventListener('unload', closeListener);\"\n        );\n        JavaScript.getCurrent().addFunction(\"catchClose\", arguments -&gt;\n        {\n            System.out.println(\"user has quit :o\");\n        });\n</code></pre>\n\n<p>I can't use this tho, since I use <strong>Vaadin 14</strong>, not <strong>8</strong>.\n<br><br><br>\nI have tried adding this to my View class:</p>\n\n<pre><code>    @Override\n    protected void onDetach(DetachEvent detachEvent)\n    {\n        System.out.println(\"onDetach \" + detachEvent);\n    }\n</code></pre>\n\n<p>It only prints this message when the session expires (15 seconds in my case). Even if I don't close the page.\n<br><br><br>\nI have tried implementing <strong>BeforeLeaveObserver</strong> / <strong>BeforeLeaveListener</strong> and overridding this:</p>\n\n<pre><code>    @Override\n    public void beforeLeave(BeforeLeaveEvent beforeLeaveEvent)\n    {\n        System.out.println(\"beforeLeave\");\n    }\n</code></pre>\n\n<p>This never prints.<br>\n<br><br>\nI've also tried all of these, but they do not do what I need:</p>\n\n<pre><code>        VaadinResponse.getCurrent().getService().addUIInitListener(e -&gt;\n        {\n            System.out.println(\"1 addUIInitListener : \" + e);\n            e.getUI().addBeforeLeaveListener(e2 -&gt;\n            {\n                System.out.println(\"1.1 addBeforeLeaveListener : \" + e2);\n            });\n            e.getUI().addDetachListener(e2 -&gt;\n            {\n                System.out.println(\"1.2 addDetachListener : \" + e2);\n            });\n        });\n        VaadinResponse.getCurrent().getService().addServiceDestroyListener(e -&gt;\n        {\n            System.out.println(\"2 addServiceDestroyListener : \" + e);\n        });\n        VaadinResponse.getCurrent().getService().addSessionDestroyListener(e -&gt;\n        {\n            System.out.println(\"3 addSessionDestroyListener : \" + e);\n        });\n</code></pre>\n\n<p><code>1 addUIInitListener</code> gets printed when the user loads the page.<br>\n<code>1.1 addBeforeLeaveListener</code> never prints.<br>\n<code>2 addServiceDestroyListener</code> never prints. A Service isn't the same as a Session. Makes sense tho.<br>\n<code>1.2</code> and <code>3 addSessionDestroyListener</code> prints wafter awhile. Takes like 15-30 seconds tho.<br>\n<br><br>\nIs there not a way to detect this basically instantly? :/ </p>\n"},{"tags":["java","spring-boot","jboss","wildfly"],"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675266141,"creation_date":1675266141,"question_id":75312679,"body_markdown":"I&#39;m trying to deploy my spring boot application to Wildfly server hosted in AliBaba Cloud. But I keep recivivg the following error: \r\n\r\n    {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;teamSehha-0.0.1-SNAPSHOT.war\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;teamSehha-0.0.1-SNAPSHOT.war\\&quot;\r\n    Caused by: java.lang.OutOfMemoryError: Metaspace&quot;}}\r\n\r\n\r\n\r\nhere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.hackaton&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;teamSehha&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;teamSehha&lt;/name&gt;\r\n\t&lt;description&gt;teamSehha&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n    &lt;!--\t\t&lt;dependency&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;--&gt;\r\n\r\n    &lt;!--\t\t\t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;--&gt;\r\n\r\n    &lt;!--\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;--&gt;\r\n    &lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;!--\t\t\t&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        &lt;!--\t\t&lt;dependency&gt;--&gt;\r\n        &lt;!--\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\r\n    \r\n    &lt;!--\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;version&gt;4.3.8.Final&lt;/version&gt;--&gt;\r\n    &lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n    &lt;!--\t\t&lt;dependency&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;--&gt;\r\n    &lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n","title":"Failed to process phase POST_MODULE of deployment &quot;my application&quot; Caused by: java.lang.OutOfMemoryError: Metaspace&quot;}}","body":"<p>I'm trying to deploy my spring boot application to Wildfly server hosted in AliBaba Cloud. But I keep recivivg the following error:</p>\n<pre><code>{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;teamSehha-0.0.1-SNAPSHOT.war\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;teamSehha-0.0.1-SNAPSHOT.war\\&quot;\nCaused by: java.lang.OutOfMemoryError: Metaspace&quot;}}\n</code></pre>\n<p>here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.7.4\n \n\ncom.hackaton\nteamSehha\n0.0.1-SNAPSHOT\nwar\nteamSehha\nteamSehha\n\n&lt;java.version&gt;18&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;--&gt;\n\n&lt;!--            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;--&gt;\n\n&lt;!--            &lt;version&gt;6.4.0&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;!--            &lt;scope&gt;provided&lt;/scope&gt;--&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    &lt;!--        &lt;dependency&gt;--&gt;\n    &lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\n\n&lt;!--            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;4.3.8.Final&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n    &lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675265735,"creation_date":1675263381,"answer_id":75312060,"question_id":75311889,"body_markdown":"Hibernate supports four inheritance mapping strategies. If you don&#39;t specify any (like in your example), [the `SINGLE_TABLE` strategy is used][1]. This means all your entities end up in the `BaseDoc` table (which is what you observed).\r\n\r\nSee this article to see how to use a different mapping strategy: [Inheritance Strategies with JPA and Hibernate – The Complete Guide][2]. \r\n\r\nIn your case, you might need `@MappedSuperclass` or `@Inheritance(strategy = InheritanceType.JOINED)`. The first maps every concrete (non-abstract) class to its own table that includes all the information of its superclass(es). The second maps _all_ classes, including the abstract ones, to their own tables, but requires joins.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#entity-inheritance-single-table\r\n  [2]: https://thorben-janssen.com/complete-guide-inheritance-strategies-jpa-hibernate/","title":"Hibernate inserts child into parent table","body":"<p>Hibernate supports four inheritance mapping strategies. If you don't specify any (like in your example), <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#entity-inheritance-single-table\" rel=\"nofollow noreferrer\">the <code>SINGLE_TABLE</code> strategy is used</a>. This means all your entities end up in the <code>BaseDoc</code> table (which is what you observed).</p>\n<p>See this article to see how to use a different mapping strategy: <a href=\"https://thorben-janssen.com/complete-guide-inheritance-strategies-jpa-hibernate/\" rel=\"nofollow noreferrer\">Inheritance Strategies with JPA and Hibernate – The Complete Guide</a>.</p>\n<p>In your case, you might need <code>@MappedSuperclass</code> or <code>@Inheritance(strategy = InheritanceType.JOINED)</code>. The first maps every concrete (non-abstract) class to its own table that includes all the information of its superclass(es). The second maps <em>all</em> classes, including the abstract ones, to their own tables, but requires joins.</p>\n"}],"owner":{"account_id":3002442,"reputation":517,"user_id":6036363,"accept_rate":88,"display_name":"tmsblgh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675265735,"creation_date":1675262584,"question_id":75311889,"body_markdown":"I have the followings at Java level:\r\n\r\n    @Entity\r\n    @Table(name = &quot;WORD_DOC&quot;)\r\n    public class WordDoc extends Doc {}\r\n\r\n    @Entity\r\n    public class Doc extends BaseDoc {}\r\n\r\n    @Entity\r\n    public abstract class BaseDoc {}\r\n\r\nAnd the following tables in the DB:\r\n\r\n    WORD_DOC\r\n    id         int8\r\n    version    int8\r\n    ...\r\n\r\n    BASEDOC\r\n    id         int8\r\n    ...\r\n\r\nWhen I try to save a WordDoc, the Hibernate fails with the following error:\r\n\r\n    STATEMENT: insert into BaseDoc (..., ..., .....) values (..., ..., .....)\r\n    ERROR: column &quot;version&quot; of relation &quot;basedoc&quot; does not exist at character 40\r\n\r\nWhy it tries to persist the WordDoc into the parent class&#39;s table? It has several additional attributes so it not fit into that.\r\n","title":"Hibernate inserts child into parent table","body":"<p>I have the followings at Java level:</p>\n<pre><code>@Entity\n@Table(name = &quot;WORD_DOC&quot;)\npublic class WordDoc extends Doc {}\n\n@Entity\npublic class Doc extends BaseDoc {}\n\n@Entity\npublic abstract class BaseDoc {}\n</code></pre>\n<p>And the following tables in the DB:</p>\n<pre><code>WORD_DOC\nid         int8\nversion    int8\n...\n\nBASEDOC\nid         int8\n...\n</code></pre>\n<p>When I try to save a WordDoc, the Hibernate fails with the following error:</p>\n<pre><code>STATEMENT: insert into BaseDoc (..., ..., .....) values (..., ..., .....)\nERROR: column &quot;version&quot; of relation &quot;basedoc&quot; does not exist at character 40\n</code></pre>\n<p>Why it tries to persist the WordDoc into the parent class's table? It has several additional attributes so it not fit into that.</p>\n"},{"tags":["java","eclipse","styles","formatter"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1675083454,"post_id":75283548,"comment_id":132845534,"body_markdown":"You can configure this in _Line Wrapping &gt; Wrapping settings &gt; Other expressions &gt; Array initializers_. By the way `... = new String[] { ...` can be shorten here to `... = { ...` (Eclipse provides a clean-up for that).","body":"You can configure this in <i>Line Wrapping &gt; Wrapping settings &gt; Other expressions &gt; Array initializers</i>. By the way <code>... = new String[] { ...</code> can be shorten here to <code>... = { ...</code> (Eclipse provides a clean-up for that)."},{"owner":{"account_id":6788459,"reputation":1126,"user_id":5226331,"accept_rate":85,"display_name":"iibrahimbakr"},"score":0,"creation_date":1675084747,"post_id":75283548,"comment_id":132845961,"body_markdown":"@howlger thanks a lot. you can post this answer to accept it!","body":"@howlger thanks a lot. you can post this answer to accept it!"}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675265499,"creation_date":1675088674,"answer_id":75285775,"question_id":75283548,"body_markdown":"You can configure this in ***Line Wrapping &gt; Wrapping settings &gt; Other expressions &gt; Array initializers***.\r\n\r\nBy the way, `... = new String[] { ...` can be shorten here to `... = { ...` (Eclipse provides a clean-up for that: *Unnecessary Code &gt; Create array with curly when possible*).\r\n\r\nAs the following image shown:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kSxtJ.png","title":"How can I keep array elements with specific arrangement in formatter style [eclipse]","body":"<p>You can configure this in <em><strong>Line Wrapping &gt; Wrapping settings &gt; Other expressions &gt; Array initializers</strong></em>.</p>\n<p>By the way, <code>... = new String[] { ...</code> can be shorten here to <code>... = { ...</code> (Eclipse provides a clean-up for that: <em>Unnecessary Code &gt; Create array with curly when possible</em>).</p>\n<p>As the following image shown:\n<a href=\"https://i.stack.imgur.com/kSxtJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSxtJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6788459,"reputation":1126,"user_id":5226331,"accept_rate":85,"display_name":"iibrahimbakr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75285775,"answer_count":1,"score":1,"last_activity_date":1675265499,"creation_date":1675076852,"question_id":75283548,"body_markdown":"I tried to find in formatter style preferences on eclipse to keep my array elements like that image :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhere can I find that style to modify it?\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kONMt.png\r\n  [2]: https://i.stack.imgur.com/UODjX.png","title":"How can I keep array elements with specific arrangement in formatter style [eclipse]","body":"<p>I tried to find in formatter style preferences on eclipse to keep my array elements like that image :</p>\n<p><a href=\"https://i.stack.imgur.com/kONMt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kONMt.png\" alt=\"enter image description here\" /></a></p>\n<p>Where can I find that style to modify it?\n<a href=\"https://i.stack.imgur.com/UODjX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UODjX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675265533,"post_id":75312495,"comment_id":132891934,"body_markdown":"`f -&gt; m.test(x.name())` f.name, right?","body":"<code>f -&gt; m.test(x.name())</code> f.name, right?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675265655,"post_id":75312495,"comment_id":132891989,"body_markdown":"There is no such method, but you could write your own in ~3 lines. I fail to see how the `Predicates.testField` version is better, though. It&#39;s both longer and adds unnecessary indirection.","body":"There is no such method, but you could write your own in ~3 lines. I fail to see how the <code>Predicates.testField</code> version is better, though. It&#39;s both longer and adds unnecessary indirection."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675265978,"post_id":75312495,"comment_id":132892123,"body_markdown":"The reason Comparable.comparing is good, and your suggestion is (IMO) not, is because the former forces the supplied type to be an implementer of Comparable. That type narrowing is where the value comes from. It&#39;s converting a `Supplier&lt;Comparable&gt;` to a `Comparator`. Your version is just calling `test` indirectly rather than directly, so isn&#39;t generating any value.","body":"The reason Comparable.comparing is good, and your suggestion is (IMO) not, is because the former forces the supplied type to be an implementer of Comparable. That type narrowing is where the value comes from. It&#39;s converting a <code>Supplier&lt;Comparable&gt;</code> to a <code>Comparator</code>. Your version is just calling <code>test</code> indirectly rather than directly, so isn&#39;t generating any value."}],"owner":{"account_id":123781,"reputation":516,"user_id":318457,"accept_rate":20,"display_name":"hibbelig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675265305,"creation_date":1675265305,"question_id":75312495,"body_markdown":"Inspired by the Stream API&#39;s way of composing small functions, and by `Comparator.comparing` which allows me to create comparators that compare certain fields, I&#39;m looking for a similar style to create predicates that test certain fields.\r\n\r\nGiven this `record Foo(String id, String name) { }` and given a collection `x` of `Foo`, I want to compute a smaller collection `y` of `Foo` where the name matches a certain regular expression.  It is very convenient to convert a regular expression into a predicate, let&#39;s say `m = Pattern.compile(...).asMatchPredicate()`.\r\n\r\nNow, of course `y = x.stream().filter(f -&gt; m.test(x.name())).toList()` will do the trick.  But I&#39;m looking for convenience methods in a style similar to `Comparator.comparing`...\r\n\r\n`y = x.stream().filter(Predicates.testField(Foo::name, m)).toList()` -- something like this, perhaps?\r\n\r\nIs this in the JDK?  Is this worth having, do you think?  Does a library exist that does this?\r\n\r\n(Of course, I can&#39;t do `x.stream().map(Foo::name).filter(m).toList()` because that gives me a list of names, not a list of `Foo`.)\r\n","title":"Java Streams API: Apply a filter to a field of the objects to be filtered","body":"<p>Inspired by the Stream API's way of composing small functions, and by <code>Comparator.comparing</code> which allows me to create comparators that compare certain fields, I'm looking for a similar style to create predicates that test certain fields.</p>\n<p>Given this <code>record Foo(String id, String name) { }</code> and given a collection <code>x</code> of <code>Foo</code>, I want to compute a smaller collection <code>y</code> of <code>Foo</code> where the name matches a certain regular expression.  It is very convenient to convert a regular expression into a predicate, let's say <code>m = Pattern.compile(...).asMatchPredicate()</code>.</p>\n<p>Now, of course <code>y = x.stream().filter(f -&gt; m.test(x.name())).toList()</code> will do the trick.  But I'm looking for convenience methods in a style similar to <code>Comparator.comparing</code>...</p>\n<p><code>y = x.stream().filter(Predicates.testField(Foo::name, m)).toList()</code> -- something like this, perhaps?</p>\n<p>Is this in the JDK?  Is this worth having, do you think?  Does a library exist that does this?</p>\n<p>(Of course, I can't do <code>x.stream().map(Foo::name).filter(m).toList()</code> because that gives me a list of names, not a list of <code>Foo</code>.)</p>\n"},{"tags":["java","swing","gridbaglayout"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":2,"creation_date":1675251555,"post_id":75309399,"comment_id":132887124,"body_markdown":"`lblImage.setHorizontalAlignment(JLabel.CENTER); lblResult.setHorizontalAlignment(JLabel.CENTER);`","body":"<code>lblImage.setHorizontalAlignment(JLabel.CENTER); lblResult.setHorizontalAlignment(JLabel.CENTER);</code>"}],"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675265244,"creation_date":1675250282,"question_id":75309399,"body_markdown":"Using a GridBagLayout, I&#39;m having a hard time centering the icon and the green label in the middle of the window:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve tried with `gbc.anchor = GridBagConstraints.CENTER;` but it doesn&#39;t seem to do anything.\r\n\r\nMy code is this:\r\n\r\n```java\r\n/*** Shuffled Image Note *************************************/\r\nlblImage.setIcon(shuffleImage());\r\ngbc.anchor = GridBagConstraints.CENTER;\r\ngbc.gridwidth = 3;\r\ngbc.gridx = 1;\r\ngbc.gridy = 0;\r\ngbc.insets = new Insets(topPadding, leftRightPadding, bottomPadding, leftRightPadding);\r\npanel.add(lblImage, gbc);\r\n\r\n// DEBUG\r\nSystem.out.println(&quot;Selected Note: &quot; + selImageIdx);\r\n\r\n/*** Results *************************************************/\r\nlblResults.setForeground(new Color(9, 130, 0));\r\ngbc.fill = GridBagConstraints.HORIZONTAL;\r\ngbc.anchor = GridBagConstraints.CENTER;\r\ngbc.gridwidth = 5;\r\ngbc.gridx = 0;\r\ngbc.gridy = 1;\r\ngbc.insets = new Insets(0, leftRightPadding, bottomPadding, leftRightPadding);\r\npanel.add(lblResults, gbc);\r\n```\r\n\r\nWhat am I doing wrong please?\r\n\r\nThank you.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g1bNj.png","title":"Centering labels within GridBagLayout","body":"<p>Using a GridBagLayout, I'm having a hard time centering the icon and the green label in the middle of the window:</p>\n<p><a href=\"https://i.stack.imgur.com/g1bNj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g1bNj.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried with <code>gbc.anchor = GridBagConstraints.CENTER;</code> but it doesn't seem to do anything.</p>\n<p>My code is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*** Shuffled Image Note *************************************/\nlblImage.setIcon(shuffleImage());\ngbc.anchor = GridBagConstraints.CENTER;\ngbc.gridwidth = 3;\ngbc.gridx = 1;\ngbc.gridy = 0;\ngbc.insets = new Insets(topPadding, leftRightPadding, bottomPadding, leftRightPadding);\npanel.add(lblImage, gbc);\n\n// DEBUG\nSystem.out.println(&quot;Selected Note: &quot; + selImageIdx);\n\n/*** Results *************************************************/\nlblResults.setForeground(new Color(9, 130, 0));\ngbc.fill = GridBagConstraints.HORIZONTAL;\ngbc.anchor = GridBagConstraints.CENTER;\ngbc.gridwidth = 5;\ngbc.gridx = 0;\ngbc.gridy = 1;\ngbc.insets = new Insets(0, leftRightPadding, bottomPadding, leftRightPadding);\npanel.add(lblResults, gbc);\n</code></pre>\n<p>What am I doing wrong please?</p>\n<p>Thank you.</p>\n"},{"tags":["java","testing","integration-testing","ibm-mq"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675154796,"post_id":75294485,"comment_id":132862309,"body_markdown":"You can setup test queues to be used for integration tests, you don&#39;t test against prod stuff. Or you mock the queues and write unit tests.","body":"You can setup test queues to be used for integration tests, you don&#39;t test against prod stuff. Or you mock the queues and write unit tests."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1675156957,"post_id":75294485,"comment_id":132862969,"body_markdown":"Install a developer edition queue manager?","body":"Install a developer edition queue manager?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1675174722,"post_id":75294485,"comment_id":132868756,"body_markdown":"If you have Docker installed, you can use [Testcontainers](https://www.testcontainers.org/) and start an [IBM MQ container](https://github.com/ibm-messaging/mq-container).","body":"If you have Docker installed, you can use <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Testcontainers</a> and start an <a href=\"https://github.com/ibm-messaging/mq-container\" rel=\"nofollow noreferrer\">IBM MQ container</a>."}],"answers":[{"tags":[],"owner":{"account_id":10979267,"reputation":537,"user_id":8066954,"display_name":"Kailash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675265113,"creation_date":1675265113,"answer_id":75312449,"question_id":75294485,"body_markdown":"There are multiple approaches that I can think of regarding writing Integration tests against queues.\r\n\r\n - Setup test queues and then have your code post messages to it which will return a correlationId when successful. Then you have a test consumer within the test consume it using correlationId. This will help you assert specific messages vs getting a random message. We use this mechanism for tests as well as for synthetic monitoring.\r\n - If you are using the REST API provided by IBM MQ beginning V 9.X to interact with queues, you can use a mock service like http://www.mbtest.org/ to mock out the target endpoint and then that can be used within an Integration test.\r\n - Alternatively you can use the combination of the about two options by using the API to actually post and consumer messages using the correlationId\r\n\r\n-  https://www.ibm.com/docs/en/ibm-mq/9.2?topic=messagingqmgrqmgrnamequeuequeuenamemessage-post\r\n- https://www.ibm.com/docs/en/ibm-mq/9.2?topic=messagingqmgrqmgrnamequeuequeuenamemessage-get\r\n","title":"How to perform Integration Test on Queues","body":"<p>There are multiple approaches that I can think of regarding writing Integration tests against queues.</p>\n<ul>\n<li><p>Setup test queues and then have your code post messages to it which will return a correlationId when successful. Then you have a test consumer within the test consume it using correlationId. This will help you assert specific messages vs getting a random message. We use this mechanism for tests as well as for synthetic monitoring.</p>\n</li>\n<li><p>If you are using the REST API provided by IBM MQ beginning V 9.X to interact with queues, you can use a mock service like <a href=\"http://www.mbtest.org/\" rel=\"nofollow noreferrer\">http://www.mbtest.org/</a> to mock out the target endpoint and then that can be used within an Integration test.</p>\n</li>\n<li><p>Alternatively you can use the combination of the about two options by using the API to actually post and consumer messages using the correlationId</p>\n</li>\n<li><p><a href=\"https://www.ibm.com/docs/en/ibm-mq/9.2?topic=messagingqmgrqmgrnamequeuequeuenamemessage-post\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.2?topic=messagingqmgrqmgrnamequeuequeuenamemessage-post</a></p>\n</li>\n<li><p><a href=\"https://www.ibm.com/docs/en/ibm-mq/9.2?topic=messagingqmgrqmgrnamequeuequeuenamemessage-get\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.2?topic=messagingqmgrqmgrnamequeuequeuenamemessage-get</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":27043667,"reputation":3,"user_id":20598157,"display_name":"TwiKKz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675265113,"creation_date":1675154101,"question_id":75294485,"body_markdown":"How do I write Integration Tests for my Java Services, which do actions against a real Queue. My classes do connections, deletes etc. ?\r\n\r\nIs there any way to test these services without performing actions against the productive Queues?\r\n\r\nI searched the net for while but didn&#39;t come up with a solution.","title":"How to perform Integration Test on Queues","body":"<p>How do I write Integration Tests for my Java Services, which do actions against a real Queue. My classes do connections, deletes etc. ?</p>\n<p>Is there any way to test these services without performing actions against the productive Queues?</p>\n<p>I searched the net for while but didn't come up with a solution.</p>\n"},{"tags":["java","user-input"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1674999349,"post_id":75275263,"comment_id":132829642,"body_markdown":"How do you distinguish between the user thinking about what the second input should be and the user deciding not to enter a second value? Unless you develop some mind-reading technology, I&#39;m afraid you&#39;ll have to give them some active choice (like ask &quot;want to enter a second value&quot; or something like that).","body":"How do you distinguish between the user thinking about what the second input should be and the user deciding not to enter a second value? Unless you develop some mind-reading technology, I&#39;m afraid you&#39;ll have to give them some active choice (like ask &quot;want to enter a second value&quot; or something like that)."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1674999841,"post_id":75275263,"comment_id":132829724,"body_markdown":"Also note that your question and problem have *nothing* to do with the Java compiler.","body":"Also note that your question and problem have <i>nothing</i> to do with the Java compiler."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675000881,"post_id":75275263,"comment_id":132829898,"body_markdown":"Yup.  The compiler doesn&#39;t execute anything!","body":"Yup.  The compiler doesn&#39;t execute anything!"}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675000550,"creation_date":1675000550,"answer_id":75275438,"question_id":75275263,"body_markdown":"What you could do is to require the user to enter both numbers _on the same line_. That way you could use `myObj.nextLine()` and check if it contains one or two numbers. (I would rename `myObj` to `scanner` or something similar.)\r\n\r\nTo check if the line contains one or two numbers, you could create a second `Scanner` with the line as the source: `Scanner lineScanner = new Scanner(line);`, then use `lineScanner.nextInt()` to read the first number and `lineScanner.hasNextInt()` to check if there is a second one.","title":"How can I check if the user has input one or two values?","body":"<p>What you could do is to require the user to enter both numbers <em>on the same line</em>. That way you could use <code>myObj.nextLine()</code> and check if it contains one or two numbers. (I would rename <code>myObj</code> to <code>scanner</code> or something similar.)</p>\n<p>To check if the line contains one or two numbers, you could create a second <code>Scanner</code> with the line as the source: <code>Scanner lineScanner = new Scanner(line);</code>, then use <code>lineScanner.nextInt()</code> to read the first number and <code>lineScanner.hasNextInt()</code> to check if there is a second one.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675000771,"creation_date":1675000771,"answer_id":75275466,"question_id":75275263,"body_markdown":"Your input values look like command line arguments so you don&#39;t need to use Scanner. Try this:\r\n\r\n    public static void main(String[] args) {\r\n        ValueM array_gen;\r\n        if (args.length == 1) {\r\n            array_gen=new ValueM(Integer.parseInt(args[0]));\r\n        } else if (args.length == 2) {\r\n            array_gen=new ValueM(Integer.parseInt(args[1]),Integer.parseInt(args[0]));\r\n        } else {\r\n            // message user about bad input\r\n        }\r\n    }\r\n\r\n\r\n","title":"How can I check if the user has input one or two values?","body":"<p>Your input values look like command line arguments so you don't need to use Scanner. Try this:</p>\n<pre><code>public static void main(String[] args) {\n    ValueM array_gen;\n    if (args.length == 1) {\n        array_gen=new ValueM(Integer.parseInt(args[0]));\n    } else if (args.length == 2) {\n        array_gen=new ValueM(Integer.parseInt(args[1]),Integer.parseInt(args[0]));\n    } else {\n        // message user about bad input\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27642443,"reputation":51,"user_id":21104539,"display_name":"roblov Cave"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1675265043,"creation_date":1674998984,"question_id":75275263,"body_markdown":"I am writing a program where the user can input up to two values, so if the user inputs one value, it calls the first constructor and if the user inputs 2 values the second constructor is called, but the issue is when the user inputs one value and press enter, the program will be waiting for the second value.\r\n\r\nBasically, I want the program to execute the function based on the number of inputs. Also, I can&#39;t ask the user how many inputs he wants to add before either.\r\n\r\nBasically, I&#39;m trying to see if writing java ValuM 5 or java ValuM 5 6  in the command line and get the right function executed.\r\n\r\nSomeone said it to use the timer Class, to put it in a timeout, but I&#39;m not sure how it works, or if there is an easier way to do this.\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Timer;\r\npublic class ValueM {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner myObj = new Scanner(System.in);\r\n\t\tint first_Input=myObj.nextInt();\r\n\t\tint Second_Input=myObj.nextInt();\r\n\t\r\n\t\tValueM array_gen=new ValueM(first_Input);\r\n\t\tarray_gen=new ValueM(Second_Input,first_Input);\r\n\t}\r\n}\r\n```\r\n","title":"How can I check if the user has input one or two values?","body":"<p>I am writing a program where the user can input up to two values, so if the user inputs one value, it calls the first constructor and if the user inputs 2 values the second constructor is called, but the issue is when the user inputs one value and press enter, the program will be waiting for the second value.</p>\n<p>Basically, I want the program to execute the function based on the number of inputs. Also, I can't ask the user how many inputs he wants to add before either.</p>\n<p>Basically, I'm trying to see if writing java ValuM 5 or java ValuM 5 6  in the command line and get the right function executed.</p>\n<p>Someone said it to use the timer Class, to put it in a timeout, but I'm not sure how it works, or if there is an easier way to do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Timer;\npublic class ValueM {\n    public static void main(String[] args) {\n        Scanner myObj = new Scanner(System.in);\n        int first_Input=myObj.nextInt();\n        int Second_Input=myObj.nextInt();\n    \n        ValueM array_gen=new ValueM(first_Input);\n        array_gen=new ValueM(Second_Input,first_Input);\n    }\n}\n</code></pre>\n"},{"tags":["java","service","controller"],"answers":[{"tags":[],"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675264971,"creation_date":1675264971,"answer_id":75312421,"question_id":75312132,"body_markdown":"You will probably get a lot of different opinions on how it should be done. I would personally create two different endpoints for user and admin functionality:\r\n\r\n`/resources/my` and `/admin/resources/{userId}`\r\n\r\nThink about the case where some admin (your client) might also use the system as a simple user. System admining and normal usage are two different usecases, so I wouldn&#39;t mix them together.\r\n\r\nPlus you also have more predictable responses from your endpoints that are independent of user roles.\r\n\r\nPrefixing `/admin` endpoints may also allow for easier configuration, depending on the Access Control granularity you might need.","title":"Behaviour should change due to authorization at service or controller level?","body":"<p>You will probably get a lot of different opinions on how it should be done. I would personally create two different endpoints for user and admin functionality:</p>\n<p><code>/resources/my</code> and <code>/admin/resources/{userId}</code></p>\n<p>Think about the case where some admin (your client) might also use the system as a simple user. System admining and normal usage are two different usecases, so I wouldn't mix them together.</p>\n<p>Plus you also have more predictable responses from your endpoints that are independent of user roles.</p>\n<p>Prefixing <code>/admin</code> endpoints may also allow for easier configuration, depending on the Access Control granularity you might need.</p>\n"}],"owner":{"account_id":8038625,"reputation":449,"user_id":6061004,"accept_rate":70,"display_name":"Pierre GUILLAUME"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675264971,"creation_date":1675263655,"question_id":75312132,"body_markdown":"I want to fetch some resources and I expect 2 different behaviours depending on the connected user.\r\nIf the user is an admin, he retrieves all the resources, otherwise he only retrieves the resources he can access.\r\n\r\nAre there some recommendations about such a case? What is the best way to do this and why?\r\n\r\nHere are the different options I found :\r\n\r\n 1. At the controller level :\r\n```\r\n@GetMapping(value = &quot;/myresources&quot;)\r\npublic void exportKdSchema(HttpServletResponse response) {\r\n    User user = getConnectedUser();\r\n    if(user.isAdmin()) {\r\n        resourceService.getAllResources();\r\n    }\r\n    else {\r\n        resourceService.getAllResourcesByUser(user);\r\n    }\r\n}\r\n```\r\n\r\n 2. At the service level :\r\n```\r\n@GetMapping(value = &quot;/myresources&quot;)\r\npublic void exportKdSchema(HttpServletResponse response) {\r\n    User user = getConnectedUser();\r\n    resourceService.getResourcesByUser(user)\r\n}\r\n\r\n@Service \r\npublic class ResourceService{\r\n    public List&lt;Resource&gt; getResourcesByUser(User user) {\r\n        if(user.isAdmin()) {\r\n            resourceRepository.findAll()\r\n        }\r\n        else {\r\n            resourceRepository.findAllByUserId(user.getId())\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n 3. Should I create 2 controllers :\r\n```\r\n@PreAuthorize(&quot;hasRole(&#39;RESOURCES_ALL&#39;)&quot;)\r\n@GetMapping(value = &quot;/myresources&quot;)\r\npublic void exportKdSchema(HttpServletResponse response) {\r\n    resourceService.getAllResources();        \r\n}\r\n\r\n@GetMapping(value = &quot;/myresources/{userId}&quot;)\r\npublic void exportKdSchema(@PathVariable(&quot;userId&quot;) Long userId) {\r\n    resourceService.getAllResourcesByUser(user);\r\n}\r\n```\r\n\r\n\r\n","title":"Behaviour should change due to authorization at service or controller level?","body":"<p>I want to fetch some resources and I expect 2 different behaviours depending on the connected user.\nIf the user is an admin, he retrieves all the resources, otherwise he only retrieves the resources he can access.</p>\n<p>Are there some recommendations about such a case? What is the best way to do this and why?</p>\n<p>Here are the different options I found :</p>\n<ol>\n<li>At the controller level :</li>\n</ol>\n<pre><code>@GetMapping(value = &quot;/myresources&quot;)\npublic void exportKdSchema(HttpServletResponse response) {\n    User user = getConnectedUser();\n    if(user.isAdmin()) {\n        resourceService.getAllResources();\n    }\n    else {\n        resourceService.getAllResourcesByUser(user);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>At the service level :</li>\n</ol>\n<pre><code>@GetMapping(value = &quot;/myresources&quot;)\npublic void exportKdSchema(HttpServletResponse response) {\n    User user = getConnectedUser();\n    resourceService.getResourcesByUser(user)\n}\n\n@Service \npublic class ResourceService{\n    public List&lt;Resource&gt; getResourcesByUser(User user) {\n        if(user.isAdmin()) {\n            resourceRepository.findAll()\n        }\n        else {\n            resourceRepository.findAllByUserId(user.getId())\n        }\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Should I create 2 controllers :</li>\n</ol>\n<pre><code>@PreAuthorize(&quot;hasRole('RESOURCES_ALL')&quot;)\n@GetMapping(value = &quot;/myresources&quot;)\npublic void exportKdSchema(HttpServletResponse response) {\n    resourceService.getAllResources();        \n}\n\n@GetMapping(value = &quot;/myresources/{userId}&quot;)\npublic void exportKdSchema(@PathVariable(&quot;userId&quot;) Long userId) {\n    resourceService.getAllResourcesByUser(user);\n}\n</code></pre>\n"},{"tags":["java","final"],"comments":[{"owner":{"account_id":439601,"reputation":6406,"user_id":828638,"accept_rate":73,"display_name":"jordanpg"},"score":3,"creation_date":1439592493,"post_id":10690440,"comment_id":51941769,"body_markdown":"The idea of optional code that may or may not express developer intent and that may or may not lead to compiler optimizations sounds like something out of an XKCD comic.","body":"The idea of optional code that may or may not express developer intent and that may or may not lead to compiler optimizations sounds like something out of an XKCD comic."},{"owner":{"account_id":482697,"reputation":6106,"user_id":897272,"accept_rate":90,"display_name":"dsollen"},"score":0,"creation_date":1466192569,"post_id":10690440,"comment_id":63232963,"body_markdown":"Big thing is to be very careful with what you mean by final.  final mutable objects can still be modified, which some newbies forget.  This is the big problem I have with final really, any time I&#39;m working with a mutable object the *intent* of final gets muddy, I know the literal meaning, but does the person using final really okay with me modifying the object&#39;s contents even though it&#39;s final or not?","body":"Big thing is to be very careful with what you mean by final.  final mutable objects can still be modified, which some newbies forget.  This is the big problem I have with final really, any time I&#39;m working with a mutable object the <i>intent</i> of final gets muddy, I know the literal meaning, but does the person using final really okay with me modifying the object&#39;s contents even though it&#39;s final or not?"}],"answers":[{"tags":[],"owner":{"account_id":420150,"reputation":1063,"user_id":797704,"accept_rate":100,"display_name":"richarbernal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337624950,"creation_date":1337624584,"answer_id":10690524,"question_id":10690440,"body_markdown":"Some good analysis tools, like PMD, advices to put always `final` unless necessary. So the convention in that tools says it&#39;s a good practice \r\n\r\nBut I think that so many final tokens in code may get it less human-friendly.\r\n","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<p>Some good analysis tools, like PMD, advices to put always <code>final</code> unless necessary. So the convention in that tools says it's a good practice </p>\n\n<p>But I think that so many final tokens in code may get it less human-friendly.</p>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1337624593,"creation_date":1337624593,"answer_id":10690529,"question_id":10690440,"body_markdown":"I consider it good practice, more for maintenance programmers (including me!) than for the compiler.  It&#39;s easier to think about a method if I don&#39;t need to worry about which variables might be changing inside it.","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<p>I consider it good practice, more for maintenance programmers (including me!) than for the compiler.  It's easier to think about a method if I don't need to worry about which variables might be changing inside it.</p>\n"},{"tags":[],"owner":{"account_id":1013036,"reputation":20197,"user_id":1025201,"display_name":"mprabhat"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1337624691,"creation_date":1337624691,"answer_id":10690551,"question_id":10690440,"body_markdown":"It definitely gives you a better code, easy to see which all variables are going to be changed.\r\n\r\nIt also informs the compiler that it is not going to change which can result to better optimization.\r\n\r\nAlong side it allows your IDE to give you compile time notification if you tend to do any mistake.","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<p>It definitely gives you a better code, easy to see which all variables are going to be changed.</p>\n\n<p>It also informs the compiler that it is not going to change which can result to better optimization.</p>\n\n<p>Along side it allows your IDE to give you compile time notification if you tend to do any mistake.</p>\n"},{"tags":[],"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1337624762,"creation_date":1337624762,"answer_id":10690566,"question_id":10690440,"body_markdown":"You pretty much summed up the pros and cons...\r\n\r\nI can just add another con:\r\n\r\nthe reader of the code need not to reason at all about the value of a final variable (except for rare bad-code cases).\r\n\r\nSo, yes, it&#39;s a good practice.\r\n\r\nAnd the clutter isn&#39;t that bad, after you get used to it (like unix :-P). Plus, typical IDEs do it automatically for ya...","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<p>You pretty much summed up the pros and cons...</p>\n\n<p>I can just add another con:</p>\n\n<p>the reader of the code need not to reason at all about the value of a final variable (except for rare bad-code cases).</p>\n\n<p>So, yes, it's a good practice.</p>\n\n<p>And the clutter isn't that bad, after you get used to it (like unix :-P). Plus, typical IDEs do it automatically for ya...</p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1337624835,"creation_date":1337624835,"answer_id":10690581,"question_id":10690440,"body_markdown":"The\t&quot;Java way&quot; is inherently, intrinsically cluttery. \r\n\r\nI say it&#39;s a good practice, but not one I follow. \r\n\r\nTests generally ensure I&#39;m doing what I intend, and it&#39;s *too* cluttery for my aesthetics.","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<p>The \"Java way\" is inherently, intrinsically cluttery. </p>\n\n<p>I say it's a good practice, but not one I follow. </p>\n\n<p>Tests generally ensure I'm doing what I intend, and it's <em>too</em> cluttery for my aesthetics.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1337625253,"creation_date":1337624838,"answer_id":10690583,"question_id":10690440,"body_markdown":"Yes, it&#39;s a very good idea, because it clearly shows what fields must be provided at object construction.\r\n\r\nI strongly disagree that it creates &quot;code clutter&quot;; it&#39;s a good and powerful aspect of the language.\r\n\r\nAs a design principle, you should make your classes [immutable][1] (all final fields) if you can, because they may be safely published (ie freely passed around without fear they will be corrupted). Although note that the fields themselves need to be immutable objects too.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Immutable_object","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<p>Yes, it's a very good idea, because it clearly shows what fields must be provided at object construction.</p>\n\n<p>I strongly disagree that it creates \"code clutter\"; it's a good and powerful aspect of the language.</p>\n\n<p>As a design principle, you should make your classes <a href=\"http://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow\">immutable</a> (all final fields) if you can, because they may be safely published (ie freely passed around without fear they will be corrupted). Although note that the fields themselves need to be immutable objects too.</p>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337625037,"creation_date":1337625037,"answer_id":10690620,"question_id":10690440,"body_markdown":"I would say yes, not so much for the compiler optimisation, but rather for readibility.\r\n\r\nBut personally I don&#39;t use it. Java is quite verbose by itself, and if we followed everything considered &quot;good practice&quot;, the code would be unredable from all the boilerplate. It&#39;s a matter of preference, though.","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<p>I would say yes, not so much for the compiler optimisation, but rather for readibility.</p>\n\n<p>But personally I don't use it. Java is quite verbose by itself, and if we followed everything considered \"good practice\", the code would be unredable from all the boilerplate. It's a matter of preference, though.</p>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1675264960,"creation_date":1337625149,"answer_id":10690646,"question_id":10690440,"body_markdown":"Some projects routinely apply `final` to all _effectively final_ local variables. I personally find reading such code much easier, due to the lessened cognitive load. A non-final variable could be reassigned anywhere, and it&#39;s especially problematic in code with multiple levels of nested `if`s and `for`s. You never know what code path may have reassigned it.\r\n\r\nAs for the concern of code clutter, when applied to local variables I don&#39;t find it damaging&amp;mdash;in fact it makes me spot all declarations more easily due to syntax coloring. \r\n\r\nUnfortunately, when `final` is used on parameters, catch blocks, enhanced-for loops and all other places except local variables in the narrow sense, the code does tend to become cluttered. This is quite unfortunate because a reassignment in these cases is even more confusing and they should really have been final by default.\r\n\r\nThere are code linting tools that will flag the reassignment of these variables, and that helps.","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<p>Some projects routinely apply <code>final</code> to all <em>effectively final</em> local variables. I personally find reading such code much easier, due to the lessened cognitive load. A non-final variable could be reassigned anywhere, and it's especially problematic in code with multiple levels of nested <code>if</code>s and <code>for</code>s. You never know what code path may have reassigned it.</p>\n<p>As for the concern of code clutter, when applied to local variables I don't find it damaging—in fact it makes me spot all declarations more easily due to syntax coloring.</p>\n<p>Unfortunately, when <code>final</code> is used on parameters, catch blocks, enhanced-for loops and all other places except local variables in the narrow sense, the code does tend to become cluttered. This is quite unfortunate because a reassignment in these cases is even more confusing and they should really have been final by default.</p>\n<p>There are code linting tools that will flag the reassignment of these variables, and that helps.</p>\n"}],"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24470,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"closed_date":1337625252,"answer_count":8,"score":35,"last_activity_date":1675264960,"creation_date":1337624182,"question_id":10690440,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [When should one use final?](https://stackoverflow.com/questions/154314/when-should-one-use-final)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nI tend to declare all variables `final` unless necessary. I consider this to be a good practice because it allows the compiler to check that the identifier is used as I expect (e.g. it is not mutated). On the other hand it clutters up the code, and perhaps this is not &quot;the Java way&quot;.\r\n\r\nI am wondering if there is a generally accepted best practice regarding the non-required use of final variables, and if there are other tradeoffs or aspects to this discussion that should be made aware of.","title":"Is it a good practice to declare variables &quot;final&quot; wherever possible?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/154314/when-should-one-use-final\">When should one use final?</a>  </p>\n</blockquote>\n\n\n\n<p>I tend to declare all variables <code>final</code> unless necessary. I consider this to be a good practice because it allows the compiler to check that the identifier is used as I expect (e.g. it is not mutated). On the other hand it clutters up the code, and perhaps this is not \"the Java way\".</p>\n\n<p>I am wondering if there is a generally accepted best practice regarding the non-required use of final variables, and if there are other tradeoffs or aspects to this discussion that should be made aware of.</p>\n"},{"tags":["java","android","animation","onbackpressed"],"comments":[{"owner":{"account_id":6024742,"reputation":19213,"user_id":4730812,"accept_rate":100,"display_name":"piotrek1543"},"score":0,"creation_date":1450958007,"post_id":34452179,"comment_id":56646203,"body_markdown":"Check this; http://programmerguru.com/android-tutorial/how-to-change-the-back-button-behaviour/","body":"Check this; <a href=\"http://programmerguru.com/android-tutorial/how-to-change-the-back-button-behaviour/\" rel=\"nofollow noreferrer\">programmerguru.com/android-tutorial/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4727789,"reputation":1448,"user_id":3824194,"accept_rate":75,"display_name":"Abhinav singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450959112,"creation_date":1450957285,"answer_id":34452257,"question_id":34452179,"body_markdown":"`super.onBackPressed();` delete this line and then work\r\n\r\n\r\nthis is translate **slide_in_from_left**\r\n\r\n       &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shareInterpolator=&quot;false&quot;&gt;\r\n    &lt;translate\r\n        android:duration=&quot;500&quot;\r\n        android:fromXDelta=&quot;-300%&quot;\r\n        android:fromYDelta=&quot;0%&quot;\r\n        android:toXDelta=&quot;0%&quot;\r\n        android:toYDelta=&quot;0%&quot; /&gt;\r\n      &lt;/set&gt;\r\n\r\n\r\n**slide_in_from_right**\r\n\r\n     &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shareInterpolator=&quot;false&quot;&gt;\r\n    &lt;translate\r\n        android:duration=&quot;500&quot;\r\n        android:fromXDelta=&quot;300%&quot;\r\n        android:fromYDelta=&quot;0%&quot;\r\n        android:toXDelta=&quot;0%&quot;\r\n        android:toYDelta=&quot;0%&quot; /&gt;\r\n      &lt;/set&gt;\r\n\r\n\r\n**slide_out_to_left**\r\n\r\n\r\n     &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shareInterpolator=&quot;false&quot;&gt;\r\n    &lt;translate\r\n        android:duration=&quot;500&quot;\r\n        android:fromXDelta=&quot;0%&quot;\r\n        android:fromYDelta=&quot;0%&quot;\r\n        android:toXDelta=&quot;-300%&quot;\r\n        android:toYDelta=&quot;0%&quot; /&gt;\r\n      &lt;/set&gt;\r\n\r\n**slide_out_to_right**\r\n\r\n     &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shareInterpolator=&quot;false&quot;&gt;\r\n    &lt;translate\r\n        android:duration=&quot;500&quot;\r\n        android:fromXDelta=&quot;0%&quot;\r\n        android:fromYDelta=&quot;0%&quot;\r\n        android:toXDelta=&quot;300%&quot;\r\n        android:toYDelta=&quot;0%&quot; /&gt;\r\n      &lt;/set&gt;\r\n\r\n/\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        \r\n        overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\r\n       // add which work after you back.\r\n    }\r\n\r\nand add function which are you work in press back.","title":"onBackPressed() animation issue","body":"<p><code>super.onBackPressed();</code> delete this line and then work</p>\n\n<p>this is translate <strong>slide_in_from_left</strong></p>\n\n<pre><code>   &lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shareInterpolator=\"false\"&gt;\n&lt;translate\n    android:duration=\"500\"\n    android:fromXDelta=\"-300%\"\n    android:fromYDelta=\"0%\"\n    android:toXDelta=\"0%\"\n    android:toYDelta=\"0%\" /&gt;\n  &lt;/set&gt;\n</code></pre>\n\n<p><strong>slide_in_from_right</strong></p>\n\n<pre><code> &lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shareInterpolator=\"false\"&gt;\n&lt;translate\n    android:duration=\"500\"\n    android:fromXDelta=\"300%\"\n    android:fromYDelta=\"0%\"\n    android:toXDelta=\"0%\"\n    android:toYDelta=\"0%\" /&gt;\n  &lt;/set&gt;\n</code></pre>\n\n<p><strong>slide_out_to_left</strong></p>\n\n<pre><code> &lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shareInterpolator=\"false\"&gt;\n&lt;translate\n    android:duration=\"500\"\n    android:fromXDelta=\"0%\"\n    android:fromYDelta=\"0%\"\n    android:toXDelta=\"-300%\"\n    android:toYDelta=\"0%\" /&gt;\n  &lt;/set&gt;\n</code></pre>\n\n<p><strong>slide_out_to_right</strong></p>\n\n<pre><code> &lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shareInterpolator=\"false\"&gt;\n&lt;translate\n    android:duration=\"500\"\n    android:fromXDelta=\"0%\"\n    android:fromYDelta=\"0%\"\n    android:toXDelta=\"300%\"\n    android:toYDelta=\"0%\" /&gt;\n  &lt;/set&gt;\n</code></pre>\n\n<p>/</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n\n    overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\n   // add which work after you back.\n}\n</code></pre>\n\n<p>and add function which are you work in press back.</p>\n"},{"tags":[],"owner":{"account_id":2461247,"reputation":1909,"user_id":2145383,"accept_rate":30,"display_name":"Ram Mandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450961285,"creation_date":1450958259,"answer_id":34452453,"question_id":34452179,"body_markdown":"Here is what you can try to solve it:\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        finish();\r\n        overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\r\n    \r\n       \r\n    }","title":"onBackPressed() animation issue","body":"<p>Here is what you can try to solve it:</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n    finish();\n    overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6024742,"reputation":19213,"user_id":4730812,"accept_rate":100,"display_name":"piotrek1543"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450960069,"creation_date":1450958558,"answer_id":34452523,"question_id":34452179,"body_markdown":"EDIT: Here is an answer from [Android Developers Blog - Back and other hard keys: three stories](http://android-developers.blogspot.com/2009/12/back-and-other-hard-keys-three-stories.html)\r\n\r\n&gt; If you were to survey the base applications in the Android platform,\r\n&gt; you would notice a fairly common pattern: add a little bit of magic to\r\n&gt; intercept the BACK key and do something different. To do this right,\r\n&gt; the magic needs to look something like this:\r\n&gt; \r\n&gt;     @Override\r\n&gt;     public boolean onKeyDown(int keyCode, KeyEvent event)  {\r\n&gt;         if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getRepeatCount() == 0) {\r\n&gt;             // do something on back.\r\n&gt;             return true;\r\n&gt;         }\r\n&gt;     \r\n&gt;         return super.onKeyDown(keyCode, event);\r\n&gt;     }\r\n&gt; \r\n&gt; How to intercept the BACK key in an Activity is also one of the common\r\n&gt; questions we see developers ask, so as of 2.0 we have a new little API\r\n&gt; to make this more simple and easier to discover and get right:\r\n&gt; \r\n&gt;     @Override\r\n&gt;     public void onBackPressed() {\r\n&gt;     // do something on back.\r\n&gt;     return;\r\n&gt;     }\r\n&gt; \r\n&gt; If this is all you care about doing, and you&#39;re not worried about\r\n&gt; supporting versions of the platform before 2.0, then you can stop\r\n&gt; here. Otherwise, read on.\r\n\r\nSo your code should look like this\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n    \r\n       overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\r\n       finish();\r\n    }\r\n\r\nand\r\n\r\n     @Override\r\n        public boolean onKeyDown(int keyCode, KeyEvent event)  {\r\n            if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getRepeatCount() == 0) {\r\n                overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\r\n                finish();\r\n                return true;\r\n            }\r\n        \r\n            return super.onKeyDown(keyCode, event);\r\n        }","title":"onBackPressed() animation issue","body":"<p>EDIT: Here is an answer from <a href=\"http://android-developers.blogspot.com/2009/12/back-and-other-hard-keys-three-stories.html\" rel=\"nofollow\">Android Developers Blog - Back and other hard keys: three stories</a></p>\n\n<blockquote>\n  <p>If you were to survey the base applications in the Android platform,\n  you would notice a fairly common pattern: add a little bit of magic to\n  intercept the BACK key and do something different. To do this right,\n  the magic needs to look something like this:</p>\n\n<pre><code>@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event)  {\n    if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getRepeatCount() == 0) {\n        // do something on back.\n        return true;\n    }\n\n    return super.onKeyDown(keyCode, event);\n}\n</code></pre>\n  \n  <p>How to intercept the BACK key in an Activity is also one of the common\n  questions we see developers ask, so as of 2.0 we have a new little API\n  to make this more simple and easier to discover and get right:</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n// do something on back.\nreturn;\n}\n</code></pre>\n  \n  <p>If this is all you care about doing, and you're not worried about\n  supporting versions of the platform before 2.0, then you can stop\n  here. Otherwise, read on.</p>\n</blockquote>\n\n<p>So your code should look like this</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n\n   overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\n   finish();\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code> @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event)  {\n        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getRepeatCount() == 0) {\n            overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\n            finish();\n            return true;\n        }\n\n        return super.onKeyDown(keyCode, event);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2461247,"reputation":1909,"user_id":2145383,"accept_rate":30,"display_name":"Ram Mandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450958988,"creation_date":1450958988,"answer_id":34452602,"question_id":34452179,"body_markdown":"try this once if this works fine to you then you might have some problem with some other section \r\n\r\n**slide_out_down.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;translate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:duration=&quot;@android:integer/config_longAnimTime&quot;\r\n        android:fromYDelta=&quot;0%p&quot;\r\n        android:toYDelta=&quot;100%p&quot; /&gt;\r\n\r\n**slide_up_dialog.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;translate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:duration=&quot;@android:integer/config_longAnimTime&quot;\r\n        android:fromYDelta=&quot;100%p&quot;\r\n        android:toYDelta=&quot;0%p&quot; /&gt;\r\n\r\n and in your activity add this\r\n\r\n    @Override\r\n        public void onBackPressed() {\r\n            finish();\r\n            overridePendingTransition(R.anim.slide_up_dialog, R.anim.slide_out_down);\r\n        }\r\n\r\n","title":"onBackPressed() animation issue","body":"<p>try this once if this works fine to you then you might have some problem with some other section </p>\n\n<p><strong>slide_out_down.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;translate xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:duration=\"@android:integer/config_longAnimTime\"\n    android:fromYDelta=\"0%p\"\n    android:toYDelta=\"100%p\" /&gt;\n</code></pre>\n\n<p><strong>slide_up_dialog.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;translate xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:duration=\"@android:integer/config_longAnimTime\"\n    android:fromYDelta=\"100%p\"\n    android:toYDelta=\"0%p\" /&gt;\n</code></pre>\n\n<p>and in your activity add this</p>\n\n<pre><code>@Override\n    public void onBackPressed() {\n        finish();\n        overridePendingTransition(R.anim.slide_up_dialog, R.anim.slide_out_down);\n    }\n</code></pre>\n"}],"owner":{"account_id":5973835,"reputation":385,"user_id":4695385,"display_name":"Prima&#235;l Qu&#233;merais"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1675264753,"creation_date":1450956910,"question_id":34452179,"body_markdown":"I&#39;m trying to override the onBackPressed() method to set my own animation but what&#39;s happening is it actually slides from my activity to the same one and then show the new activity.\r\n\r\nHere&#39;s my code:\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        super.onBackPressed();\r\n        overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\r\n    }\r\n\r\nAnd here are the animations:\r\n\r\nSlide out right:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shareInterpolator=&quot;false&quot;&gt;\r\n    &lt;translate android:duration=&quot;400&quot; android:fromXDelta=&quot;0%&quot; android:toXDelta=&quot;100%&quot; /&gt;\r\n    &lt;alpha android:duration=&quot;400&quot; android:fromAlpha=&quot;1.0&quot; android:toAlpha=&quot;0.0&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\nSlide in left:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shareInterpolator= &quot;false&quot; &gt;\r\n    &lt;translate android:duration = &quot;400&quot; android:fromXDelta = &quot;-100%&quot; android:toXDelta = &quot;0%&quot; /&gt;\r\n    &lt;alpha android:duration = &quot;400&quot; android:fromAlpha = &quot;0.0&quot; android:toAlpha = &quot;1.0&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\nThanks for your help guys.","title":"onBackPressed() animation issue","body":"<p>I'm trying to override the onBackPressed() method to set my own animation but what's happening is it actually slides from my activity to the same one and then show the new activity.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n    super.onBackPressed();\n    overridePendingTransition(R.anim.slide_out_right, R.anim.slide_in_left);\n}\n</code></pre>\n\n<p>And here are the animations:</p>\n\n<p>Slide out right:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shareInterpolator=\"false\"&gt;\n&lt;translate android:duration=\"400\" android:fromXDelta=\"0%\" android:toXDelta=\"100%\" /&gt;\n&lt;alpha android:duration=\"400\" android:fromAlpha=\"1.0\" android:toAlpha=\"0.0\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>Slide in left:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shareInterpolator= \"false\" &gt;\n&lt;translate android:duration = \"400\" android:fromXDelta = \"-100%\" android:toXDelta = \"0%\" /&gt;\n&lt;alpha android:duration = \"400\" android:fromAlpha = \"0.0\" android:toAlpha = \"1.0\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>Thanks for your help guys.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"score":0,"creation_date":1516033631,"post_id":48251804,"comment_id":83517043,"body_markdown":"loader.properties is in the standard /src/main/resources.   I did not comfigure loader.home.  I will give that a try.","body":"loader.properties is in the standard /src/main/resources.   I did not comfigure loader.home.  I will give that a try."},{"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"score":0,"creation_date":1516034665,"post_id":48251804,"comment_id":83517643,"body_markdown":"I can confirm that the loader.properties is in the /BOOT-INF/classes directory in the jar file.","body":"I can confirm that the loader.properties is in the /BOOT-INF/classes directory in the jar file."},{"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"score":0,"creation_date":1516035396,"post_id":48251804,"comment_id":83518052,"body_markdown":"none.  I just did a &quot;find / -name loader.properties&quot;  and the only one was for this project.","body":"none.  I just did a &quot;find / -name loader.properties&quot;  and the only one was for this project."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1516038557,"post_id":48251804,"comment_id":83519581,"body_markdown":"Have a look into the log file. `PropertiesLauncher` is logging the location and the properties.","body":"Have a look into the log file. <code>PropertiesLauncher</code> is logging the location and the properties."}],"answers":[{"tags":[],"owner":{"account_id":19562034,"reputation":3,"user_id":14315059,"display_name":"Javistik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675264125,"creation_date":1675264125,"answer_id":75312232,"question_id":48251804,"body_markdown":"You can load external jars with following command\r\n\r\n    java -cp your.jar -Dloader.path=/home/user/lib org.springframework.boot.loader.PropertiesLauncher\r\n\r\njars that you wan&#39;t to add should be compiled as non-executable, without BOOT-INF\r\n\r\nand add dependency\r\n\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"Load External Jar in Spring Boot","body":"<p>You can load external jars with following command</p>\n<pre><code>java -cp your.jar -Dloader.path=/home/user/lib org.springframework.boot.loader.PropertiesLauncher\n</code></pre>\n<p>jars that you wan't to add should be compiled as non-executable, without BOOT-INF</p>\n<p>and add dependency</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675264125,"creation_date":1515948161,"question_id":48251804,"body_markdown":"I have a jar file that contains this class:\r\n\r\n    @Configuration\r\n    public class ExternalConfiguration {\r\n\t\r\n\t  @Bean(name = &quot;tab&quot;)\r\n\t  public Tab getTab() {\r\n\t\treturn new Tab();\r\n\t  }\r\n    }\r\n\r\nMy Spring boot Application looks like this:\r\n\r\n    @EnableAutoConfiguration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    @ComponentScan(&quot;com.xxx&quot;)\r\n    public class Application implements CommandLineRunner {\r\n\t\r\n\t  @Autowired\r\n\t  private ApplicationContext context;\r\n\t\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n\r\n\t  @Override\r\n\t  public void run(String... arg0) throws Exception {\r\n\t\tObject o1 = context.getBean(&quot;tab&quot;);\r\n\t  }\r\n\r\n    }\r\n\r\nI am getting this when running:\r\n\r\n    A component required a bean named &#39;tab&#39; that could not be found.\r\n\r\nI have tried every combination of loader.path that I could think of like this:\r\n\r\n    loader.path=/opt/lib\r\n    loader.path=/opt/lib/\r\n    loader.path=/opt/lib/external.jar\r\n\r\nI put those in application.properties and tried it in loader.properties. \r\nI can also confirm that the package for ExternalConfiguration falls under com.xxx   -- so it should be scanned for components correct?\r\n\r\nWhat am I doing wrong?  How do I load an external jar and get Spring to load it like normal.  I do NOT want to add it to my pom.xml.  \r\n*EDIT*  When I do add it in my pom, it works as expected.\r\n\r\nWhat I really want is to tell Spring  &quot;load everything in this directory&quot;\r\n\r\nAny ideas?\r\n\r\n","title":"Load External Jar in Spring Boot","body":"<p>I have a jar file that contains this class:</p>\n\n<pre><code>@Configuration\npublic class ExternalConfiguration {\n\n  @Bean(name = \"tab\")\n  public Tab getTab() {\n    return new Tab();\n  }\n}\n</code></pre>\n\n<p>My Spring boot Application looks like this:</p>\n\n<pre><code>@EnableAutoConfiguration\n@PropertySource(\"classpath:application.properties\")\n@ComponentScan(\"com.xxx\")\npublic class Application implements CommandLineRunner {\n\n  @Autowired\n  private ApplicationContext context;\n\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n\n  @Override\n  public void run(String... arg0) throws Exception {\n    Object o1 = context.getBean(\"tab\");\n  }\n\n}\n</code></pre>\n\n<p>I am getting this when running:</p>\n\n<pre><code>A component required a bean named 'tab' that could not be found.\n</code></pre>\n\n<p>I have tried every combination of loader.path that I could think of like this:</p>\n\n<pre><code>loader.path=/opt/lib\nloader.path=/opt/lib/\nloader.path=/opt/lib/external.jar\n</code></pre>\n\n<p>I put those in application.properties and tried it in loader.properties. \nI can also confirm that the package for ExternalConfiguration falls under com.xxx   -- so it should be scanned for components correct?</p>\n\n<p>What am I doing wrong?  How do I load an external jar and get Spring to load it like normal.  I do NOT want to add it to my pom.xml.<br>\n<em>EDIT</em>  When I do add it in my pom, it works as expected.</p>\n\n<p>What I really want is to tell Spring  \"load everything in this directory\"</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","junit","mockito","spy","junit-jupiter"],"comments":[{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":1,"creation_date":1675265552,"post_id":75312118,"comment_id":132891944,"body_markdown":"I would think really really hard if you REALLY need to use Mockito. Most of the cases that I&#39;ve seen online can be made testable by using the correct architecture and decomposing large services with the help of interfaces. Could you share why you think Mockito is necessary in your case? Is it a 3rd party library you&#39;re trying to test that you don&#39;t have access to?","body":"I would think really really hard if you REALLY need to use Mockito. Most of the cases that I&#39;ve seen online can be made testable by using the correct architecture and decomposing large services with the help of interfaces. Could you share why you think Mockito is necessary in your case? Is it a 3rd party library you&#39;re trying to test that you don&#39;t have access to?"},{"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1675267711,"post_id":75312118,"comment_id":132892837,"body_markdown":"No, I am doing unit test for individual tests, so want to only test a small block at a time. Since I will be testing MethodC separately, I did not want to include it here","body":"No, I am doing unit test for individual tests, so want to only test a small block at a time. Since I will be testing MethodC separately, I did not want to include it here"},{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":0,"creation_date":1675268519,"post_id":75312118,"comment_id":132893145,"body_markdown":"If this is a unit test, then I would strongly advise against using Mockito. It tends to get very messy, and people end up only testing their mocks instead of the actual functionality. May I suggest you watch the following short video that gets my point across: https://www.youtube.com/watch?v=DVjTMOVHgVU\n\nAnd my point is: think of your class as a set of inputs and a single output, what happens inside is a black box that test should know about. If you provide a known input and know what to expect - that is a unit test.","body":"If this is a unit test, then I would strongly advise against using Mockito. It tends to get very messy, and people end up only testing their mocks instead of the actual functionality. May I suggest you watch the following short video that gets my point across: <a href=\"https://www.youtube.com/watch?v=DVjTMOVHgVU\" rel=\"nofollow noreferrer\">youtube.com/watch?v=DVjTMOVHgVU</a>  And my point is: think of your class as a set of inputs and a single output, what happens inside is a black box that test should know about. If you provide a known input and know what to expect - that is a unit test."}],"answers":[{"tags":[],"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675263994,"creation_date":1675263994,"answer_id":75312203,"question_id":75312118,"body_markdown":"You are not mocking `ClassB`, you are using the real implementation:\r\n\r\n```java\r\n@Spy\r\n@InjectMocks\r\nClassB classB;\r\n```\r\n\r\nIf you want to mock it, you need to remove those two annotations and have `@Mock` instead:\r\n\r\n```java\r\n@Mock\r\nClassB classB;\r\n```","title":"How to mock a method in Java for testing","body":"<p>You are not mocking <code>ClassB</code>, you are using the real implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Spy\n@InjectMocks\nClassB classB;\n</code></pre>\n<p>If you want to mock it, you need to remove those two annotations and have <code>@Mock</code> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nClassB classB;\n</code></pre>\n"}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675263994,"creation_date":1675263590,"question_id":75312118,"body_markdown":"I have a class A which has a `methodA` calling a `methodB` in class B.\r\n\r\nIn class B `methodB` is calling `methodC` in class C.\r\n\r\nClass C implements `methodC`.\r\n\r\n\r\nI am trying to test `methodA` in class A using junit, mockito.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ClassATest {\r\n\r\n    @Mock\r\n    APIGatewayProxyRequestEvent event;\r\n\r\n    @Mock\r\n    Context context;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    ClassB classB;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    ClassA classA;\r\n\r\n    @Test\r\n    @DisplayName(&quot;everything should pass&quot;)\r\n    public void testMethodA() throws Exception {\r\n \r\n        Person p = new Person(&quot;xyz&quot;, &quot;abc&quot;, 12345, true);\r\n        when(classB.methodB(any(Molecule.class), eq(&quot;abc&quot;), eq(12345), eq(null))).thenReturn(p);\r\n\r\n\r\n        Map&lt;String, String&gt; headerMap = new HashMap&lt;&gt;();\r\n        headerMap.put(&quot;id&quot;, &quot;12345&quot;);\r\n        when(event.getHeaders()).thenReturn(headerMap);\r\n        when(event.getBody()).thenReturn(&quot;{name:hello}&quot;);\r\n        assertEquals(classA.methodA(event, context).getStatusCode(), 500);\r\n \r\n    }\r\n```\r\n\r\nI am getting an error of null pointer exception for class C `methodC`. Do I need to mock that as well? Is there a way I can mock `methodB` so that the test does reply on the implementation in `methodB`? As my aim is to test `methodA`, I am fine mocking other methods. ","title":"How to mock a method in Java for testing","body":"<p>I have a class A which has a <code>methodA</code> calling a <code>methodB</code> in class B.</p>\n<p>In class B <code>methodB</code> is calling <code>methodC</code> in class C.</p>\n<p>Class C implements <code>methodC</code>.</p>\n<p>I am trying to test <code>methodA</code> in class A using junit, mockito.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ClassATest {\n\n    @Mock\n    APIGatewayProxyRequestEvent event;\n\n    @Mock\n    Context context;\n\n    @Spy\n    @InjectMocks\n    ClassB classB;\n\n    @Spy\n    @InjectMocks\n    ClassA classA;\n\n    @Test\n    @DisplayName(&quot;everything should pass&quot;)\n    public void testMethodA() throws Exception {\n \n        Person p = new Person(&quot;xyz&quot;, &quot;abc&quot;, 12345, true);\n        when(classB.methodB(any(Molecule.class), eq(&quot;abc&quot;), eq(12345), eq(null))).thenReturn(p);\n\n\n        Map&lt;String, String&gt; headerMap = new HashMap&lt;&gt;();\n        headerMap.put(&quot;id&quot;, &quot;12345&quot;);\n        when(event.getHeaders()).thenReturn(headerMap);\n        when(event.getBody()).thenReturn(&quot;{name:hello}&quot;);\n        assertEquals(classA.methodA(event, context).getStatusCode(), 500);\n \n    }\n</code></pre>\n<p>I am getting an error of null pointer exception for class C <code>methodC</code>. Do I need to mock that as well? Is there a way I can mock <code>methodB</code> so that the test does reply on the implementation in <code>methodB</code>? As my aim is to test <code>methodA</code>, I am fine mocking other methods.</p>\n"},{"tags":["java","static","abstract-class","parametrize"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675255859,"post_id":75310435,"comment_id":132888418,"body_markdown":"&quot;without changing every line of code where i initialize my itemIDs&quot; Then you don&#39;t. This is screaming for polymorphism, but if you&#39;re unwilling to change your existing code then you&#39;re stuck.","body":"&quot;without changing every line of code where i initialize my itemIDs&quot; Then you don&#39;t. This is screaming for polymorphism, but if you&#39;re unwilling to change your existing code then you&#39;re stuck."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":5,"creation_date":1675256127,"post_id":75310435,"comment_id":132888503,"body_markdown":"The longer I look at this question the more I wonder why it is designed that way and not with a DB and matching entities? But anyway, if you need different values for all the variables you have, then you have to touch all the variables.","body":"The longer I look at this question the more I wonder why it is designed that way and not with a DB and matching entities? But anyway, if you need different values for all the variables you have, then you have to touch all the variables."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1675256194,"post_id":75310435,"comment_id":132888531,"body_markdown":"Would a `Map` (or base class with child classes) solve your problem? Still requires changes to your code, but well, this is what software development is about. If the requirements change, the code has to change too (most of the time)","body":"Would a <code>Map</code> (or base class with child classes) solve your problem? Still requires changes to your code, but well, this is what software development is about. If the requirements change, the code has to change too (most of the time)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1675256381,"post_id":75310435,"comment_id":132888600,"body_markdown":"This feels incredibly cumbersome, both in terms of scaling the number of items and the number of products.","body":"This feels incredibly cumbersome, both in terms of scaling the number of items and the number of products."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675256395,"post_id":75310435,"comment_id":132888609,"body_markdown":"If those variables are just numbered and have the same types an array might be sufficient. If the names/keys are different I&#39;d suggest a map too.","body":"If those variables are just numbered and have the same types an array might be sufficient. If the names/keys are different I&#39;d suggest a map too."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1675256588,"post_id":75310435,"comment_id":132888679,"body_markdown":"Map, or a class w/ polymorphism as suggested already.  Either way I&#39;d populate the data from a configuration file rather than trying to hard code the data inside the app.  Then you can add more items just by adding a data file, code changes can be avoided.","body":"Map, or a class w/ polymorphism as suggested already.  Either way I&#39;d populate the data from a configuration file rather than trying to hard code the data inside the app.  Then you can add more items just by adding a data file, code changes can be avoided."}],"answers":[{"tags":[],"owner":{"account_id":26973585,"reputation":117,"user_id":20539215,"display_name":"VicenteJankowski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675263484,"creation_date":1675262117,"answer_id":75311788,"question_id":75310435,"body_markdown":"I think you should try Java Reflections: ```java.lang.reflect```\r\n\r\nTo not to interrupt the existing classes source code, I would create a method which will return ```HashMap``` with all field&#39;s name as a ```key``` and its int values as ```value```, using provided class name as a parameter:\r\n```java\r\npublic static Map&lt;String, Integer&gt; getStaticVariablesValue(Class givenClass) {\r\n    \r\n    Field[] fields = givenClass.getDeclaredFields();\r\n    Map&lt;String, Integer&gt; resultValues = new HashMap&lt;&gt;();\r\n    \r\n    for (int i = 0; i &lt; fields.length; i++)\r\n        if (fields[i].getType() == int.class)\r\n            try {\r\n                resultValues.put(fields[i].getName(), fields[i].getInt(null));\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace(System.out);\r\n            }\r\n            \r\n    return resultValues;\r\n    \r\n}\r\n```\r\n\r\n\r\nHere is simple example, which will print you all fields with values for provided Class:\r\n```java\r\nimport java.util.*;\r\nimport java.lang.reflect.*;\r\n\r\nclass Main {\r\n    public static void main(String args[]) {\r\n        \r\n        Map&lt;String, Integer&gt; customer_ItemIDsValues = new HashMap&lt;&gt;();\r\n        Map&lt;String, Integer&gt; customerB_ItemIDsValues = new HashMap&lt;&gt;();\r\n\r\n        customer_ItemIDsValues = getStaticVariablesValue(Customer_ItemIDs.class);\r\n        customerB_ItemIDsValues = getStaticVariablesValue(CustomerB_ItemIDs.class);\r\n        \r\n        //Output values to console\r\n        for (Map.Entry&lt;String, Integer&gt; entry : customer_ItemIDsValues.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot; = &quot; + entry.getValue());\r\n        }\r\n            \r\n        for (Map.Entry&lt;String, Integer&gt; entry : customerB_ItemIDsValues.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot; = &quot; + entry.getValue());\r\n        }\r\n    }\r\n    \r\n    public static Map&lt;String, Integer&gt; getStaticVariablesValue(Class givenClass) {\r\n        \r\n        Field[] fields = givenClass.getDeclaredFields();\r\n        Map&lt;String, Integer&gt; resultValues = new HashMap&lt;&gt;();\r\n        \r\n        for (int i = 0; i &lt; fields.length; i++)\r\n            if (fields[i].getType() == int.class)\r\n                try {\r\n                    resultValues.put(fields[i].getName(), fields[i].getInt(null));\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace(System.out);\r\n                }\r\n                \r\n        return resultValues;\r\n    }\r\n\r\n    abstract class CustomerB_ItemIDs {\r\n       public static final int item_001 = 17538;\r\n       public static final int item_002 = 56756;\r\n       public static final int item_003 = 94445;\r\n       public static final int item_004 = 93757;\r\n       public static final int item_122 = 69483;\r\n    }\r\n\r\n    class Customer_ItemIDs {\r\n       public static final int item_001 = 34535;\r\n       public static final int item_002 = 23455;\r\n       public static final int item_003 = 74565;\r\n       public static final int item_004 = 83480;\r\n       public static final int item_122 = 65487;\r\n    }\r\n}\r\n```","title":"Parametrize the usage of static variables in an abstract class","body":"<p>I think you should try Java Reflections: <code>java.lang.reflect</code></p>\n<p>To not to interrupt the existing classes source code, I would create a method which will return <code>HashMap</code> with all field's name as a <code>key</code> and its int values as <code>value</code>, using provided class name as a parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, Integer&gt; getStaticVariablesValue(Class givenClass) {\n    \n    Field[] fields = givenClass.getDeclaredFields();\n    Map&lt;String, Integer&gt; resultValues = new HashMap&lt;&gt;();\n    \n    for (int i = 0; i &lt; fields.length; i++)\n        if (fields[i].getType() == int.class)\n            try {\n                resultValues.put(fields[i].getName(), fields[i].getInt(null));\n            } catch (IllegalAccessException e) {\n                e.printStackTrace(System.out);\n            }\n            \n    return resultValues;\n    \n}\n</code></pre>\n<p>Here is simple example, which will print you all fields with values for provided Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.lang.reflect.*;\n\nclass Main {\n    public static void main(String args[]) {\n        \n        Map&lt;String, Integer&gt; customer_ItemIDsValues = new HashMap&lt;&gt;();\n        Map&lt;String, Integer&gt; customerB_ItemIDsValues = new HashMap&lt;&gt;();\n\n        customer_ItemIDsValues = getStaticVariablesValue(Customer_ItemIDs.class);\n        customerB_ItemIDsValues = getStaticVariablesValue(CustomerB_ItemIDs.class);\n        \n        //Output values to console\n        for (Map.Entry&lt;String, Integer&gt; entry : customer_ItemIDsValues.entrySet()) {\n            System.out.println(entry.getKey() + &quot; = &quot; + entry.getValue());\n        }\n            \n        for (Map.Entry&lt;String, Integer&gt; entry : customerB_ItemIDsValues.entrySet()) {\n            System.out.println(entry.getKey() + &quot; = &quot; + entry.getValue());\n        }\n    }\n    \n    public static Map&lt;String, Integer&gt; getStaticVariablesValue(Class givenClass) {\n        \n        Field[] fields = givenClass.getDeclaredFields();\n        Map&lt;String, Integer&gt; resultValues = new HashMap&lt;&gt;();\n        \n        for (int i = 0; i &lt; fields.length; i++)\n            if (fields[i].getType() == int.class)\n                try {\n                    resultValues.put(fields[i].getName(), fields[i].getInt(null));\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace(System.out);\n                }\n                \n        return resultValues;\n    }\n\n    abstract class CustomerB_ItemIDs {\n       public static final int item_001 = 17538;\n       public static final int item_002 = 56756;\n       public static final int item_003 = 94445;\n       public static final int item_004 = 93757;\n       public static final int item_122 = 69483;\n    }\n\n    class Customer_ItemIDs {\n       public static final int item_001 = 34535;\n       public static final int item_002 = 23455;\n       public static final int item_003 = 74565;\n       public static final int item_004 = 83480;\n       public static final int item_122 = 65487;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10921980,"reputation":77,"user_id":8027961,"display_name":"Josef"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675263655,"creation_date":1675255776,"question_id":75310435,"body_markdown":"I am generating a report for a customer of our company.\r\n\r\nI have a abstract class with lots of static final int members:\r\n    \r\n    public abstract class Customer_ItemIDs {\r\n       public static final int item_001 = 34535;\r\n       public static final int item_002 = 23455;\r\n       public static final int item_003 = 74565;\r\n       public static final int item_004 = 83480;\r\n       ...\r\n       public static final int item_122 = 65487;\r\n    \r\n    }\r\n    \r\nIn my class where I generate my report I use them like this (simplified a bit):\r\n\r\n    int itemID_004;\r\n    itemID_004 = Customer_ItemIDs.item_004;\r\n\r\nNow there is a change in the requirement.\r\n\r\nI need to support another Customer with totally different ItemIDs which i want to put in another static class. The name of the items stay the same, just the values are different.\r\n\r\n    public abstract class CustomerB_ItemIDs {\r\n       public static final int item_001 = 17538;\r\n       public static final int item_002 = 56756;\r\n       public static final int item_003 = 94445;\r\n       public static final int item_004 = 93757;\r\n       ...\r\n       public static final int item_122 = 69483;\r\n    \r\n    }\r\n\r\nHow do I properly parametrize this, without changing every line of code where I initialize my itemIDs? I don&#39;t want to initialize the itemIDs like this:\r\n\r\n    int itemID_004;\r\n    if (customer == customerA) {\r\n       itemID_004 = CustomerA_itemIDs.item_004;\r\n    }\r\n    else if (customer == customerB) {\r\n       itemID_004 = CustomerB_itemIDs.item_004;\r\n    }\r\n\r\nI would like to change as little as possible.","title":"Parametrize the usage of static variables in an abstract class","body":"<p>I am generating a report for a customer of our company.</p>\n<p>I have a abstract class with lots of static final int members:</p>\n<pre><code>public abstract class Customer_ItemIDs {\n   public static final int item_001 = 34535;\n   public static final int item_002 = 23455;\n   public static final int item_003 = 74565;\n   public static final int item_004 = 83480;\n   ...\n   public static final int item_122 = 65487;\n\n}\n</code></pre>\n<p>In my class where I generate my report I use them like this (simplified a bit):</p>\n<pre><code>int itemID_004;\nitemID_004 = Customer_ItemIDs.item_004;\n</code></pre>\n<p>Now there is a change in the requirement.</p>\n<p>I need to support another Customer with totally different ItemIDs which i want to put in another static class. The name of the items stay the same, just the values are different.</p>\n<pre><code>public abstract class CustomerB_ItemIDs {\n   public static final int item_001 = 17538;\n   public static final int item_002 = 56756;\n   public static final int item_003 = 94445;\n   public static final int item_004 = 93757;\n   ...\n   public static final int item_122 = 69483;\n\n}\n</code></pre>\n<p>How do I properly parametrize this, without changing every line of code where I initialize my itemIDs? I don't want to initialize the itemIDs like this:</p>\n<pre><code>int itemID_004;\nif (customer == customerA) {\n   itemID_004 = CustomerA_itemIDs.item_004;\n}\nelse if (customer == customerB) {\n   itemID_004 = CustomerB_itemIDs.item_004;\n}\n</code></pre>\n<p>I would like to change as little as possible.</p>\n"},{"tags":["java","eclipse","ant"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1402303671,"post_id":24116082,"comment_id":37205169,"body_markdown":"what &quot;ant -diagnostic &quot; result?","body":"what &quot;ant -diagnostic &quot; result?"}],"answers":[{"tags":[],"owner":{"account_id":3047096,"reputation":1339,"user_id":2582437,"accept_rate":100,"display_name":"Kasper Ziemianek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402301648,"creation_date":1402301196,"answer_id":24116115,"question_id":24116082,"body_markdown":"Ant uses `JAVA_HOME`. Try echo $JAVA_HOME in shell to see where it&#39;s pointing and point it to jdk 7.\r\n\r\nPoint 4 in following manual : &lt;br/&gt;\r\nhttp://ant.apache.org/manual/install.html\r\n\r\nNice explanation can be found here : \r\nhttps://unix.stackexchange.com/questions/123412/what-is-the-difference-between-java-home-and-update-alternatives","title":"Ant use old jdk - how to change it?","body":"<p>Ant uses <code>JAVA_HOME</code>. Try echo $JAVA_HOME in shell to see where it's pointing and point it to jdk 7.</p>\n\n<p>Point 4 in following manual : <br/>\n<a href=\"http://ant.apache.org/manual/install.html\" rel=\"nofollow noreferrer\">http://ant.apache.org/manual/install.html</a></p>\n\n<p>Nice explanation can be found here : \n<a href=\"https://unix.stackexchange.com/questions/123412/what-is-the-difference-between-java-home-and-update-alternatives\">https://unix.stackexchange.com/questions/123412/what-is-the-difference-between-java-home-and-update-alternatives</a></p>\n"},{"tags":[],"owner":{"account_id":2855107,"reputation":1111,"user_id":2451524,"accept_rate":40,"display_name":"VikramV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402301333,"creation_date":1402301333,"answer_id":24116149,"question_id":24116082,"body_markdown":"In the `javac` task, try specifying the Java compiler by setting the executable attribute as follows:\r\n\r\n    &lt;property name=&quot;JDK1.7.dir&quot; location=&quot;/usr/lib/jvm/java-7&quot; /&gt;\r\n    &lt;property name=&quot;javac1.7&quot; location=&quot;${JDK1.7.dir}/bin/javac&quot; /&gt;\r\n    \r\n    &lt;target name=&quot;compile-tests&quot;&gt;\r\n      &lt;javac executable=&quot;${javac1.7}&quot; \r\n          fork=&quot;yes&quot;\r\n          includeantruntime=&quot;false&quot; \r\n          srcdir=&quot;${test.dir}&quot;\r\n          destdir=&quot;${build.dir}&quot; &gt;\r\n        &lt;classpath refid=&quot;class.path&quot; /&gt;\r\n      &lt;/javac&gt;\r\n    &lt;/target&gt;","title":"Ant use old jdk - how to change it?","body":"<p>In the <code>javac</code> task, try specifying the Java compiler by setting the executable attribute as follows:</p>\n\n<pre><code>&lt;property name=\"JDK1.7.dir\" location=\"/usr/lib/jvm/java-7\" /&gt;\n&lt;property name=\"javac1.7\" location=\"${JDK1.7.dir}/bin/javac\" /&gt;\n\n&lt;target name=\"compile-tests\"&gt;\n  &lt;javac executable=\"${javac1.7}\" \n      fork=\"yes\"\n      includeantruntime=\"false\" \n      srcdir=\"${test.dir}\"\n      destdir=\"${build.dir}\" &gt;\n    &lt;classpath refid=\"class.path\" /&gt;\n  &lt;/javac&gt;\n&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005001,"reputation":821,"user_id":1795145,"display_name":"indika"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1402303166,"creation_date":1402303166,"answer_id":24116557,"question_id":24116082,"body_markdown":"This occurs when you run ant via eclipse. You can set JDK using External tools configuration in Eclipse. See the attachment. \r\n\r\n![External tools configuration in eclipse][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/L9zgF.png","title":"Ant use old jdk - how to change it?","body":"<p>This occurs when you run ant via eclipse. You can set JDK using External tools configuration in Eclipse. See the attachment. </p>\n\n<p><img src=\"https://i.stack.imgur.com/L9zgF.png\" alt=\"External tools configuration in eclipse\"></p>\n"},{"tags":[],"owner":{"account_id":7173090,"reputation":62,"user_id":5479961,"display_name":"Impresi MLine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675263560,"creation_date":1563363091,"answer_id":57074838,"question_id":24116082,"body_markdown":"Another way to set this, is to use in your build.xml:\r\n    \r\n    &lt;project name=&quot;xyz&quot; default=&quot;all&quot;&gt;\r\n    &lt;property name=&quot;ant.build.javac.target&quot; value=&quot;1.7&quot; /&gt;\r\n    ...\r\nThis global parameter (`ant.build.javac.target`) specifies the project target to be compatible with JDK 7.","title":"Ant use old jdk - how to change it?","body":"<p>Another way to set this, is to use in your build.xml:</p>\n<pre><code>&lt;project name=&quot;xyz&quot; default=&quot;all&quot;&gt;\n&lt;property name=&quot;ant.build.javac.target&quot; value=&quot;1.7&quot; /&gt;\n...\n</code></pre>\n<p>This global parameter (<code>ant.build.javac.target</code>) specifies the project target to be compatible with JDK 7.</p>\n"}],"owner":{"account_id":1352239,"reputation":2434,"user_id":1291544,"accept_rate":59,"display_name":"Prokop Hapala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7899,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24116557,"answer_count":4,"score":3,"last_activity_date":1675263560,"creation_date":1402300989,"question_id":24116082,"body_markdown":"I have eclipse indigo (3.7.2) on Ubuntu 12.04 64 bit and I try to compile project using java 1.7. I think I have installed java 1.7 properly because, I can run [processing 2.0][1] (which use java 1.7) and I get correct version message:\r\n\r\n    prokop@prokop-Precision-T1500:~$ java -version\r\n    java version &quot;1.7.0_21&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_21-b11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 23.21-b01, mixed mode)\r\n\r\nhowever, when hit &quot;play&quot; in Ant in eclipse I get following message:  \r\n\r\n     Unsupported major.minor version 51.0\r\n\r\nalso in header caption of &quot;Console&quot; window of ant build output is :\r\n\r\n    [Ant Build] /usr/lib/jvm/java-6-openjdk/bin/java\r\n\r\nI tried to modify environment settings of eclipse:\r\n\r\n - Project &gt; Properties &gt; Java Compiler to 1.7\r\n - Window &gt; Prefferences &gt; Java &gt; Installed JREs to jdk1.7._60 which I downloaded to my home `/home/prokop/SW/jdk1.7.0_60`\r\n\r\nbut it does not help - ant is oviously still using `java-6-openjdk`\r\n\r\n - Is there any other setting how to say Ant to use jdk1.7 ?\r\n - Is it possible at all to make eclipse indigo (3.7.2) on Ubuntu 12.04 64 bit force to compile with java 1.7 ?\r\n\r\n\r\n  [1]: http://processing.org/","title":"Ant use old jdk - how to change it?","body":"<p>I have eclipse indigo (3.7.2) on Ubuntu 12.04 64 bit and I try to compile project using java 1.7. I think I have installed java 1.7 properly because, I can run <a href=\"http://processing.org/\" rel=\"nofollow\">processing 2.0</a> (which use java 1.7) and I get correct version message:</p>\n\n<pre><code>prokop@prokop-Precision-T1500:~$ java -version\njava version \"1.7.0_21\"\nJava(TM) SE Runtime Environment (build 1.7.0_21-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 23.21-b01, mixed mode)\n</code></pre>\n\n<p>however, when hit \"play\" in Ant in eclipse I get following message:  </p>\n\n<pre><code> Unsupported major.minor version 51.0\n</code></pre>\n\n<p>also in header caption of \"Console\" window of ant build output is :</p>\n\n<pre><code>[Ant Build] /usr/lib/jvm/java-6-openjdk/bin/java\n</code></pre>\n\n<p>I tried to modify environment settings of eclipse:</p>\n\n<ul>\n<li>Project > Properties > Java Compiler to 1.7</li>\n<li>Window > Prefferences > Java > Installed JREs to jdk1.7._60 which I downloaded to my home <code>/home/prokop/SW/jdk1.7.0_60</code></li>\n</ul>\n\n<p>but it does not help - ant is oviously still using <code>java-6-openjdk</code></p>\n\n<ul>\n<li>Is there any other setting how to say Ant to use jdk1.7 ?</li>\n<li>Is it possible at all to make eclipse indigo (3.7.2) on Ubuntu 12.04 64 bit force to compile with java 1.7 ?</li>\n</ul>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":176242,"reputation":787,"user_id":406804,"accept_rate":70,"display_name":"ehsan"},"score":0,"creation_date":1606975916,"post_id":10079415,"comment_id":115127787,"body_markdown":"YOURSTRING.split(/\\s+/ig)","body":"YOURSTRING.split(/\\s+/ig)"}],"answers":[{"tags":[],"owner":{"account_id":379130,"reputation":61727,"user_id":732284,"accept_rate":95,"display_name":"rid"},"down_vote_count":0,"up_vote_count":148,"is_accepted":true,"score":148,"last_activity_date":1334003926,"creation_date":1334003601,"answer_id":10079478,"question_id":10079415,"body_markdown":"Since the argument to [`split()`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split(java.lang.String)) is a [regular expression](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum), you can look for one or more spaces (`&quot; +&quot;`) instead of just one space (`&quot; &quot;`).\r\n\r\n    String[] array = s.split(&quot; +&quot;);","title":"Splitting a string with multiple spaces","body":"<p>Since the argument to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\"><code>split()</code></a> is a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\">regular expression</a>, you can look for one or more spaces (<code>\" +\"</code>) instead of just one space (<code>\" \"</code>).</p>\n\n<pre><code>String[] array = s.split(\" +\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1148764,"reputation":16208,"user_id":1130930,"display_name":"Russell Zahniser"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334003633,"creation_date":1334003633,"answer_id":10079489,"question_id":10079415,"body_markdown":"Since `split()` uses [regular expressions][1], you can do something like `s.split(&quot;\\\\s+&quot;)` to set the split delimiter to be any number of whitespace characters.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"Splitting a string with multiple spaces","body":"<p>Since <code>split()</code> uses <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">regular expressions</a>, you can do something like <code>s.split(\"\\\\s+\")</code> to set the split delimiter to be any number of whitespace characters.</p>\n"},{"tags":[],"owner":{"account_id":1315764,"reputation":4209,"user_id":1262686,"accept_rate":88,"display_name":"Anurag Ramdasan"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1334003684,"creation_date":1334003684,"answer_id":10079499,"question_id":10079415,"body_markdown":"try using this `s.split(&quot;\\\\s+&quot;);`","title":"Splitting a string with multiple spaces","body":"<p>try using this <code>s.split(\"\\\\s+\");</code></p>\n"},{"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1381492514,"creation_date":1381492514,"answer_id":19317542,"question_id":10079415,"body_markdown":"if you have a string like \r\n\r\n    String s = &quot;This is a test string  This is the next part    This is the third part&quot;;\r\n\r\nand want to get an array like \r\n\r\n    String[] sArray = { &quot;This is a test string&quot;, &quot;This is the next part&quot;, &quot;This is the third part&quot; }\r\n\r\nyou should try \r\n\r\n    String[] sArray = s.split(&quot;\\\\s{2,}&quot;);\r\nThe `{2,}` part defines that at least 2 and up to almost infinity whitespace characters are needed for the split to occur.","title":"Splitting a string with multiple spaces","body":"<p>if you have a string like </p>\n\n<pre><code>String s = \"This is a test string  This is the next part    This is the third part\";\n</code></pre>\n\n<p>and want to get an array like </p>\n\n<pre><code>String[] sArray = { \"This is a test string\", \"This is the next part\", \"This is the third part\" }\n</code></pre>\n\n<p>you should try </p>\n\n<pre><code>String[] sArray = s.split(\"\\\\s{2,}\");\n</code></pre>\n\n<p>The <code>{2,}</code> part defines that at least 2 and up to almost infinity whitespace characters are needed for the split to occur.</p>\n"},{"tags":[],"owner":{"account_id":204343,"reputation":3257,"user_id":452487,"accept_rate":0,"display_name":"JaydeepW"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1437714068,"creation_date":1437714068,"answer_id":31602525,"question_id":10079415,"body_markdown":"How about using something that is provided out of the box by Android SDK.\r\n\r\n    TextUtils.split(stringToSplit, &quot; +&quot;);","title":"Splitting a string with multiple spaces","body":"<p>How about using something that is provided out of the box by Android SDK.</p>\n\n<pre><code>TextUtils.split(stringToSplit, \" +\");\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5613691"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1505998435,"creation_date":1505998435,"answer_id":46344500,"question_id":10079415,"body_markdown":"This worked for me.\r\n\r\n    s.split(/\\s+/)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var foo = &quot;first     middle  last&quot;;\r\n\r\n    console.log(foo.split(/\\s+/));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Splitting a string with multiple spaces","body":"<p>This worked for me.</p>\n\n<pre><code>s.split(/\\s+/)\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var foo = \"first     middle  last\";\r\n\r\nconsole.log(foo.split(/\\s+/));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":26373180,"reputation":1,"user_id":20027547,"display_name":"Anurag Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675263546,"creation_date":1675263546,"answer_id":75312103,"question_id":10079415,"body_markdown":"If someone is looking for koltin code \r\n\r\n    val str = &quot;   fly me   to   the moon  &quot;\r\n    println(str.trim().split(&quot; +&quot;.toRegex()))\r\n\r\n    // output - [fly, me, to, the, moon]","title":"Splitting a string with multiple spaces","body":"<p>If someone is looking for koltin code</p>\n<pre><code>val str = &quot;   fly me   to   the moon  &quot;\nprintln(str.trim().split(&quot; +&quot;.toRegex()))\n\n// output - [fly, me, to, the, moon]\n</code></pre>\n"}],"owner":{"account_id":1392083,"reputation":643,"user_id":1322663,"display_name":"smarti02"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107780,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":10079478,"answer_count":7,"score":63,"last_activity_date":1675263546,"creation_date":1334003347,"question_id":10079415,"body_markdown":"I want to split a string like \r\n\r\n    &quot;first     middle  last&quot; \r\n\r\nwith `String.split()`. But when i try to split it I get \r\n\r\n    String[] array = {&quot;first&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;middle&quot;,&quot;&quot;,&quot;last&quot;}\r\n\r\nI tried using `String.isEmpty()` to check for empty strings after I split them but I it doesn&#39;t work in android.  Here is my code:\r\n\r\n    String s = &quot;First  Middle Last&quot;;\r\n    String[] array = s.split(&quot; &quot;);\r\n    for(int i=0; i&lt;array.length; i++) {\r\n      //displays segmented strings here\r\n    }\r\n\r\nI think there is a way to split it like this: `{&quot;first&quot;,&quot;middle&quot;,&quot;last&quot;}` but can&#39;t figure out how.\r\n\r\nThanks for the help!","title":"Splitting a string with multiple spaces","body":"<p>I want to split a string like </p>\n\n<pre><code>\"first     middle  last\" \n</code></pre>\n\n<p>with <code>String.split()</code>. But when i try to split it I get </p>\n\n<pre><code>String[] array = {\"first\",\"\",\"\",\"\",\"middle\",\"\",\"last\"}\n</code></pre>\n\n<p>I tried using <code>String.isEmpty()</code> to check for empty strings after I split them but I it doesn't work in android.  Here is my code:</p>\n\n<pre><code>String s = \"First  Middle Last\";\nString[] array = s.split(\" \");\nfor(int i=0; i&lt;array.length; i++) {\n  //displays segmented strings here\n}\n</code></pre>\n\n<p>I think there is a way to split it like this: <code>{\"first\",\"middle\",\"last\"}</code> but can't figure out how.</p>\n\n<p>Thanks for the help!</p>\n"},{"tags":["java","nullpointerexception"],"answers":[{"tags":[],"owner":{"display_name":"user159088"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1277734958,"creation_date":1277734069,"answer_id":3133071,"question_id":3133006,"body_markdown":"You have the exception because `a.json` can&#39;t be found by your [Class.getResourceAsStream()][1] in which case this returns null instead of the stream.\r\n\r\nYour `a.json` file should be in the same package as the `JSONParser` class the way you have it now. Is that one of your classes or is a utils from an external library?\r\n\r\nIf it is a library, maybe you can retrieve the stream from a class that is in the same package as `a.json` and then pass it as parameter:\r\n\r\n    InputStream is = YourClassBesidesTheFile.class.getResourceAsStream(&quot;a.json&quot;);\r\n    String jsonTxt = IOUtils.toString( is );\r\n\r\nor maybe use a full path for the file, something like `&quot;/some/package/etc/etc/a.json&quot;`:\r\n\r\n    InputStream is = JSONParser.class.getResourceAsStream(&quot;/some/package/etc/etc/a.json&quot;);\r\n    String jsonTxt = IOUtils.toString( is );\r\n\r\nTo solve the issue, your file must be found by the `Class.getResourceAsStream()` method although the real issue is in fact retrieving the file content as a stream, no matter how you do that.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html#getResourceAsStream%28java.lang.String%29\r\n","title":"JSONParser getResourceAsStream","body":"<p>You have the exception because <code>a.json</code> can't be found by your <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html#getResourceAsStream%28java.lang.String%29\" rel=\"nofollow noreferrer\">Class.getResourceAsStream()</a> in which case this returns null instead of the stream.</p>\n\n<p>Your <code>a.json</code> file should be in the same package as the <code>JSONParser</code> class the way you have it now. Is that one of your classes or is a utils from an external library?</p>\n\n<p>If it is a library, maybe you can retrieve the stream from a class that is in the same package as <code>a.json</code> and then pass it as parameter:</p>\n\n<pre><code>InputStream is = YourClassBesidesTheFile.class.getResourceAsStream(\"a.json\");\nString jsonTxt = IOUtils.toString( is );\n</code></pre>\n\n<p>or maybe use a full path for the file, something like <code>\"/some/package/etc/etc/a.json\"</code>:</p>\n\n<pre><code>InputStream is = JSONParser.class.getResourceAsStream(\"/some/package/etc/etc/a.json\");\nString jsonTxt = IOUtils.toString( is );\n</code></pre>\n\n<p>To solve the issue, your file must be found by the <code>Class.getResourceAsStream()</code> method although the real issue is in fact retrieving the file content as a stream, no matter how you do that.</p>\n"},{"tags":[],"owner":{"account_id":207386,"reputation":3523,"user_id":457208,"accept_rate":90,"display_name":"Blanca Hdez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1277736809,"creation_date":1277736809,"answer_id":3133444,"question_id":3133006,"body_markdown":"Finally I found my problem and I solved it.  \r\nIt was related with my Eclipse configuration: \r\n\r\nProject - propperties - Source\r\n\r\nThere I had in Myproject/src/main/resources Exclude **.\r\n\r\nSo the files in that directory wasn&#39;t in classes. I solved it just putting Exclude (None).\r\n\r\nNow everything is ok.\r\nThank you anyway!","title":"JSONParser getResourceAsStream","body":"<p>Finally I found my problem and I solved it.<br>\nIt was related with my Eclipse configuration: </p>\n\n<p>Project - propperties - Source</p>\n\n<p>There I had in Myproject/src/main/resources Exclude **.</p>\n\n<p>So the files in that directory wasn't in classes. I solved it just putting Exclude (None).</p>\n\n<p>Now everything is ok.\nThank you anyway!</p>\n"}],"owner":{"account_id":207386,"reputation":3523,"user_id":457208,"accept_rate":90,"display_name":"Blanca Hdez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7974,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3133444,"answer_count":2,"score":1,"last_activity_date":1675263503,"creation_date":1277733717,"question_id":3133006,"body_markdown":"I am working in a project and I need a resource in it. I am trying to get it using this code:\r\n\r\n&gt; InputStream is =\r\n&gt; JSONParser.class.getResourceAsStream(&quot;a.json&quot;);  \r\n&gt; \t        String jsonTxt = IOUtils.toString( is );\r\n\r\nThe file a.json is located in the main file of the project.\r\n\r\nThe exact problem is: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException  \r\n    \tat java.io.Reader.&lt;init&gt;(Reader.java:61)  \r\n    \tat java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:55)  \r\n    \tat org.apache.commons.io.IOUtils.copy(IOUtils.java:1049)  \r\n    \tat org.apache.commons.io.IOUtils.toString(IOUtils.java:359)  \r\n    \tat com.playence.parser.JSon.main(JSon.java:28) \r\n\r\n \r\n\r\nDebugging, I saw that variable &#39;is&#39; is null, and I guess that is why NullPointException, bugt I don&#39;t know how to solve it.\r\n\r\nAny help?\r\n\r\nThans in advance.\r\n\r\n","title":"JSONParser getResourceAsStream","body":"<p>I am working in a project and I need a resource in it. I am trying to get it using this code:</p>\n<blockquote>\n<p>InputStream is =\nJSONParser.class.getResourceAsStream(&quot;a.json&quot;);<br />\nString jsonTxt = IOUtils.toString( is );</p>\n</blockquote>\n<p>The file a.json is located in the main file of the project.</p>\n<p>The exact problem is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException  \n    at java.io.Reader.&lt;init&gt;(Reader.java:61)  \n    at java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:55)  \n    at org.apache.commons.io.IOUtils.copy(IOUtils.java:1049)  \n    at org.apache.commons.io.IOUtils.toString(IOUtils.java:359)  \n    at com.playence.parser.JSon.main(JSon.java:28) \n</code></pre>\n<p>Debugging, I saw that variable 'is' is null, and I guess that is why NullPointException, bugt I don't know how to solve it.</p>\n<p>Any help?</p>\n<p>Thans in advance.</p>\n"},{"tags":["java","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1675262161,"post_id":75311704,"comment_id":132890722,"body_markdown":"So the input for second processor should be the output of first one in chain? Or how should it work?","body":"So the input for second processor should be the output of first one in chain? Or how should it work?"},{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1675262260,"post_id":75311704,"comment_id":132890761,"body_markdown":"@MichałKrzywański  first part of your question yes. second part, do you mean make the input of processor Mono?","body":"@MichałKrzywański  first part of your question yes. second part, do you mean make the input of processor Mono?"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1675262598,"post_id":75311704,"comment_id":132890877,"body_markdown":"why not simply `        var initial = new PreProcessorDocument(url);\n        Mono&lt;PreProcessorDocument&gt; m = Mono.just(initial);\n        for(SeedPreProcessor&lt;PreProcessorDocument&gt; p : allProcessors) {\n            m = m.flatMap(p::process);\n        }\n        return m;`","body":"why not simply `        var initial = new PreProcessorDocument(url);         Mono&lt;PreProcessorDocument&gt; m = Mono.just(initial);         for(SeedPreProcessor&lt;PreProcessorDocument&gt; p : allProcessors) {             m = m.flatMap(p::process);         }         return m;`"},{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1675263145,"post_id":75311704,"comment_id":132891084,"body_markdown":"@MichałKrzywański thank you so much! you are hero, Michal please at least post your answer.","body":"@MichałKrzywański thank you so much! you are hero, Michal please at least post your answer."}],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675263298,"creation_date":1675263298,"answer_id":75312057,"question_id":75311704,"body_markdown":"Simple `foreach` loop and `flatMap` operator will do the trick :\r\n````\r\npublic Mono&lt;PreProcessorDocument&gt; execute(String url) {\r\n    var initial = new PreProcessorDocument(url);\r\n    Mono&lt;PreProcessorDocument&gt; m = Mono.just(initial);\r\n\r\n    for (SeedPreProcessor&lt;PreProcessorDocument&gt; p : allProcessors) {\r\n        m = m.flatMap(p::process);\r\n    }\r\n    return m;\r\n}\r\n````","title":"How to implement pipeline design pattern using reactive webflux?","body":"<p>Simple <code>foreach</code> loop and <code>flatMap</code> operator will do the trick :</p>\n<pre><code>public Mono&lt;PreProcessorDocument&gt; execute(String url) {\n    var initial = new PreProcessorDocument(url);\n    Mono&lt;PreProcessorDocument&gt; m = Mono.just(initial);\n\n    for (SeedPreProcessor&lt;PreProcessorDocument&gt; p : allProcessors) {\n        m = m.flatMap(p::process);\n    }\n    return m;\n}\n</code></pre>\n"}],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75312057,"answer_count":1,"score":0,"last_activity_date":1675263298,"creation_date":1675261701,"question_id":75311704,"body_markdown":"I have two simple interfaces called `Processor` and `SeedPreProcessor` and they are defined like:\r\n\r\nProcessor:\r\n\r\n    public interface Processor&lt;I, O&gt; {\r\n    \r\n        Mono&lt;O&gt; process(I input);\r\n    }\r\n\r\nSeedPreProcessor:\r\n\r\n    public interface SeedPreProcessor&lt;D&gt; extends Processor&lt;D, D&gt; {\r\n    \r\n        /**\r\n         * Specify the location of this processor in the pipeline.\r\n         *\r\n         * @return the order\r\n         */\r\n        Integer order();\r\n    \r\n        String name();\r\n    }\r\n\r\nand a `PipeLine` defined like:\r\n\r\n    public class PipeLine {\r\n    \r\n        private final List&lt;SeedPreProcessor&lt;PreProcessorDocument&gt;&gt; allProcessors;\r\n    \r\n        public PipeLine(List&lt;SeedPreProcessor&lt;PreProcessorDocument&gt;&gt; allProcessors) {\r\n            this.allProcessors = new ArrayList&lt;&gt;(allProcessors);\r\n            this.allProcessors.sort(comparingInt(SeedPreProcessor::order));\r\n        }\r\n    \r\n        public Mono&lt;PreProcessorDocument&gt; execute(String url) {\r\n            log.info(&quot;Start processing URL = {}&quot;, url);\r\n            var initial = new PreProcessorDocument(url);\r\n            return Flux\r\n                    .fromIterable(allProcessors)\r\n                    .map(proc -&gt; proc.process(initial).t) // my problem is here\r\n        }\r\n    }\r\n\r\nI want to for a `inital PreProcessorDocument` to execute all the `SeedPreProcessor` in the \r\nlist `allProcessors` one by one. \r\n\r\nHow can I achieve this?","title":"How to implement pipeline design pattern using reactive webflux?","body":"<p>I have two simple interfaces called <code>Processor</code> and <code>SeedPreProcessor</code> and they are defined like:</p>\n<p>Processor:</p>\n<pre><code>public interface Processor&lt;I, O&gt; {\n\n    Mono&lt;O&gt; process(I input);\n}\n</code></pre>\n<p>SeedPreProcessor:</p>\n<pre><code>public interface SeedPreProcessor&lt;D&gt; extends Processor&lt;D, D&gt; {\n\n    /**\n     * Specify the location of this processor in the pipeline.\n     *\n     * @return the order\n     */\n    Integer order();\n\n    String name();\n}\n</code></pre>\n<p>and a <code>PipeLine</code> defined like:</p>\n<pre><code>public class PipeLine {\n\n    private final List&lt;SeedPreProcessor&lt;PreProcessorDocument&gt;&gt; allProcessors;\n\n    public PipeLine(List&lt;SeedPreProcessor&lt;PreProcessorDocument&gt;&gt; allProcessors) {\n        this.allProcessors = new ArrayList&lt;&gt;(allProcessors);\n        this.allProcessors.sort(comparingInt(SeedPreProcessor::order));\n    }\n\n    public Mono&lt;PreProcessorDocument&gt; execute(String url) {\n        log.info(&quot;Start processing URL = {}&quot;, url);\n        var initial = new PreProcessorDocument(url);\n        return Flux\n                .fromIterable(allProcessors)\n                .map(proc -&gt; proc.process(initial).t) // my problem is here\n    }\n}\n</code></pre>\n<p>I want to for a <code>inital PreProcessorDocument</code> to execute all the <code>SeedPreProcessor</code> in the\nlist <code>allProcessors</code> one by one.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","sql","spring"],"comments":[{"owner":{"account_id":2847683,"reputation":4674,"user_id":2445629,"display_name":"Jon Armstrong"},"score":0,"creation_date":1677104883,"post_id":75311777,"comment_id":133274480,"body_markdown":"See the `MERGE` statement.","body":"See the <code>MERGE</code> statement."}],"owner":{"account_id":15254316,"reputation":1,"user_id":16007661,"display_name":"Serhio Duran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675262591,"creation_date":1675262090,"question_id":75311777,"body_markdown":"    select new mvp.backend.finance.dto.projection.SplitShipDto(spl.id, spl.promoVolume, spl.baselineVolumeProportion) from SplitShipment spl inner join DateDay spd on spl.dateDay.id = spd.id &quot; +\r\n            &quot;where spl.sku.id =:sku_id and spd.day &gt; cast(:date as string)\r\n\r\n                    skuIdAndDates.parallelStream().forEach(spl -&gt; {\r\n                    float rcpPromo = priceFromSap.getBasePrice() * spl.getPromoVolume();\r\n                    float rcpBaseline = priceFromSap.getBasePrice() * spl.getBaselineVolumeProportion();\r\n                    RequestSplitShipmentRCP requestSplitShipmentRCP = RequestSplitShipmentRCP.builder().id(spl.getId()).rcpPromo(rcpPromo).rcpBaseline(rcpBaseline).build();\r\n                    splitShipmentRCP.add(requestSplitShipmentRCP);\r\n                });\r\n\r\n    update split_shipments set &quot; +\r\n            &quot;rcp_promo =:rcpPromo, rcp_baseline =:rcpBaseline &quot; +\r\n            &quot;where id =:id\r\n\r\n\r\nGuys help me. I must use this 2 queries in one query. In first query i select spl.id, spl.promoVolume, spl.baselineVolumeProportion from table split_shipments.  How I can creat this? Sorry for my eng...","title":"Problem with query update and select with where and join","body":"<pre><code>select new mvp.backend.finance.dto.projection.SplitShipDto(spl.id, spl.promoVolume, spl.baselineVolumeProportion) from SplitShipment spl inner join DateDay spd on spl.dateDay.id = spd.id &quot; +\n        &quot;where spl.sku.id =:sku_id and spd.day &gt; cast(:date as string)\n\n                skuIdAndDates.parallelStream().forEach(spl -&gt; {\n                float rcpPromo = priceFromSap.getBasePrice() * spl.getPromoVolume();\n                float rcpBaseline = priceFromSap.getBasePrice() * spl.getBaselineVolumeProportion();\n                RequestSplitShipmentRCP requestSplitShipmentRCP = RequestSplitShipmentRCP.builder().id(spl.getId()).rcpPromo(rcpPromo).rcpBaseline(rcpBaseline).build();\n                splitShipmentRCP.add(requestSplitShipmentRCP);\n            });\n\nupdate split_shipments set &quot; +\n        &quot;rcp_promo =:rcpPromo, rcp_baseline =:rcpBaseline &quot; +\n        &quot;where id =:id\n</code></pre>\n<p>Guys help me. I must use this 2 queries in one query. In first query i select spl.id, spl.promoVolume, spl.baselineVolumeProportion from table split_shipments.  How I can creat this? Sorry for my eng...</p>\n"},{"tags":["java","ms-word","formatting","apache-poi","xwpf"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1675334347,"post_id":75311751,"comment_id":132908101,"body_markdown":"This question has been asked and answered before - eg https://stackoverflow.com/questions/57614276/how-do-i-add-bullet-points-to-a-word-document-using-apache-poi-in-java","body":"This question has been asked and answered before - eg <a href=\"https://stackoverflow.com/questions/57614276/how-do-i-add-bullet-points-to-a-word-document-using-apache-poi-in-java\" title=\"how do i add bullet points to a word document using apache poi in java\">stackoverflow.com/questions/57614276/&hellip;</a>"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1675340074,"post_id":75311751,"comment_id":132910039,"body_markdown":"I checked the question you referred to. That does not answer my question here.","body":"I checked the question you referred to. That does not answer my question here."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1675360474,"post_id":75311751,"comment_id":132917548,"body_markdown":"&quot;The whole document has only 1 paragraph.&quot;: That&#39;s not how word processing works. Paragraphs are elementary for word processing. &quot;I have to create a seperate runner (XWPFRun) and add the bullet points.&quot;: Not possible. Numbering settings are paragraph settings.","body":"&quot;The whole document has only 1 paragraph.&quot;: That&#39;s not how word processing works. Paragraphs are elementary for word processing. &quot;I have to create a seperate runner (XWPFRun) and add the bullet points.&quot;: Not possible. Numbering settings are paragraph settings."}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675261937,"creation_date":1675261937,"question_id":75311751,"body_markdown":"I am creating a Word document with Apache poi library. The whole document has only 1 paragraph. The styles and fonts are implemented with the help of different runs (XWPFRun). Things were all okay until I encountered a requirement with bullet points. Under a header I need to write few points with bullets. The problem is if I create a new paragraph for the bullets then the format of the document will be affected. Therefore I am not able to use `paragraph.setNumID(numID)` for the bullet points. I have to create a seperate runner (XWPFRun) and add the bullet points. In the picture below the same requirement has been shown.[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5oK5k.png\r\n\r\nI did the following but I could not implement the bullet points :-\r\n\r\n    XWPFRun run38=paragraph.createRun();\r\n    run38.setText(&quot;Same paragraph different run:&quot;);\r\n    run38.setBold(true);\r\n    run38.addBreak();\r\n    \r\n    XWPFRun run39=paragraph.createRun();\r\n    for(int u=0;u&lt;array.getArrayValue().length;u++){\r\n      run39.setText(array.getArrayValue()[u]);\r\n      run39.addBreak();\r\n\r\nThe array contains the values - *XWPFRun run1* and *XWPFRun run2*","title":"How to create bullet points in the WXPFRun level in a word document with apache poi?","body":"<p>I am creating a Word document with Apache poi library. The whole document has only 1 paragraph. The styles and fonts are implemented with the help of different runs (XWPFRun). Things were all okay until I encountered a requirement with bullet points. Under a header I need to write few points with bullets. The problem is if I create a new paragraph for the bullets then the format of the document will be affected. Therefore I am not able to use <code>paragraph.setNumID(numID)</code> for the bullet points. I have to create a seperate runner (XWPFRun) and add the bullet points. In the picture below the same requirement has been shown.<a href=\"https://i.stack.imgur.com/5oK5k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5oK5k.png\" alt=\"enter image description here\" /></a></p>\n<p>I did the following but I could not implement the bullet points :-</p>\n<pre><code>XWPFRun run38=paragraph.createRun();\nrun38.setText(&quot;Same paragraph different run:&quot;);\nrun38.setBold(true);\nrun38.addBreak();\n\nXWPFRun run39=paragraph.createRun();\nfor(int u=0;u&lt;array.getArrayValue().length;u++){\n  run39.setText(array.getArrayValue()[u]);\n  run39.addBreak();\n</code></pre>\n<p>The array contains the values - <em>XWPFRun run1</em> and <em>XWPFRun run2</em></p>\n"},{"tags":["java","geometry","awt"],"comments":[{"owner":{"account_id":218461,"reputation":5787,"user_id":2093077,"accept_rate":82,"display_name":"saastn"},"score":1,"creation_date":1674755249,"post_id":75244055,"comment_id":132786362,"body_markdown":"What you are trying to get is called [offset or buffer of the curve](https://en.wikipedia.org/wiki/Parallel_curve). Clipper2 is a good library that does that. It also has a java port: https://github.com/micycle1/Clipper2-java/","body":"What you are trying to get is called <a href=\"https://en.wikipedia.org/wiki/Parallel_curve\" rel=\"nofollow noreferrer\">offset or buffer of the curve</a>. Clipper2 is a good library that does that. It also has a java port: <a href=\"https://github.com/micycle1/Clipper2-java/\" rel=\"nofollow noreferrer\">github.com/micycle1/Clipper2-java</a>"},{"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"score":0,"creation_date":1674824437,"post_id":75244055,"comment_id":132800678,"body_markdown":"Ok. I taked the time to read about Clipper2 for java. I understand the mecanism, but it doesn&#39;t fit to my usage. My starting shape are `java.awt.Shape` or its `PathIterator`.\nBut this lib can be usefull. Event though you&#39;ve put words on what I looking for!","body":"Ok. I taked the time to read about Clipper2 for java. I understand the mecanism, but it doesn&#39;t fit to my usage. My starting shape are <code>java.awt.Shape</code> or its <code>PathIterator</code>. But this lib can be usefull. Event though you&#39;ve put words on what I looking for!"},{"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"score":0,"creation_date":1674826023,"post_id":75244055,"comment_id":132801237,"body_markdown":"I find this: [Expand shape in all direction by a defined offset](http://www.java2s.com/example/java/java.lang/expand-or-shrink-a-shape-in-all-directions-by-a-defined-offset.html) It&#39;s minimalist, maybe not very accurate but it&#39;s very simple and fit to my usage. Waiting for other proposals.","body":"I find this: <a href=\"http://www.java2s.com/example/java/java.lang/expand-or-shrink-a-shape-in-all-directions-by-a-defined-offset.html\" rel=\"nofollow noreferrer\">Expand shape in all direction by a defined offset</a> It&#39;s minimalist, maybe not very accurate but it&#39;s very simple and fit to my usage. Waiting for other proposals."},{"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"score":0,"creation_date":1674837747,"post_id":75244055,"comment_id":132805281,"body_markdown":"I&#39;ve got an emotional rollercoaster... It works with circle ... but not with rectangle :D I keep looking for","body":"I&#39;ve got an emotional rollercoaster... It works with circle ... but not with rectangle :D I keep looking for"}],"answers":[{"tags":[],"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675261921,"creation_date":1675261047,"answer_id":75311560,"question_id":75244055,"body_markdown":"http://www.java2s.com/example/java/java.lang/expand-or-shrink-a-shape-in-all-directions-by-a-defined-offset.html\r\n\r\nThis site describe how to use stroke to get the offset area.\r\n\r\nThere is just a single modification to solve my problem ; I have to use `BasicStroke.JOIN_ROUND` to get the good rectangular Shape.\r\n\r\nThen I get:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XGFjV.png\r\n  [2]: https://i.stack.imgur.com/CM5I9.png\r\n  [3]: https://i.stack.imgur.com/qctCD.png","title":"How to draw the area around a shape","body":"<p><a href=\"http://www.java2s.com/example/java/java.lang/expand-or-shrink-a-shape-in-all-directions-by-a-defined-offset.html\" rel=\"nofollow noreferrer\">http://www.java2s.com/example/java/java.lang/expand-or-shrink-a-shape-in-all-directions-by-a-defined-offset.html</a></p>\n<p>This site describe how to use stroke to get the offset area.</p>\n<p>There is just a single modification to solve my problem ; I have to use <code>BasicStroke.JOIN_ROUND</code> to get the good rectangular Shape.</p>\n<p>Then I get:</p>\n<p><a href=\"https://i.stack.imgur.com/XGFjV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGFjV.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CM5I9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CM5I9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qctCD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qctCD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75311560,"answer_count":1,"score":2,"last_activity_date":1675261921,"creation_date":1674723947,"question_id":75244055,"body_markdown":"I worked on a very simple map editor phase for a game in java. The goal is to put some islands with different shape on the map. But there is some constraints:\r\n- islands must not be a specific distance far from another island (lets call it L)\r\n- islands must not be a specific distance close from another island (lets call it S)\r\n\r\nIn the game, the island is place with the mouse. The gamer can see areas where the island can be place or not as you can see.\r\n\r\n[![Allowed and dissallowed areas][1]][1]\r\n\r\nMy problem is that I realize my disalow area is not good. For example, the rectangle island have a rectangle disallow area (my first naive attempt) but in fact I must draw area of S around the rectangle ; that leads to a shape like this:\r\n\r\n[![rectangle with real disallow area][2]][2]\r\n\r\nI&#39;m able to draw these kind of areas as long as my shapes are just composed of lines. But my island can have cubic or quadratic curve (and even though i&#39;ll need this kind of area for other shapes later).\r\nThe closer I manage to do is that:\r\n\r\n[![disallow area for a circle][3]][3]\r\n\r\nIn this case, the disallow area around the circle must be ... a circle (simple geometry). But as you can see, I have a weird rounded rectangle.\r\n\r\nI currently try to transform each segment of the pathiterator of a Shape to get the area. It&#39;s not as simple as scaling a shape (remember the rectangle case). I&#39;ve allready try many ways to transform the shape and get the area.\r\n\r\n**Question:**\r\n\r\nDoes someone have information, formula, clues, algorithms, libs to get this area from any java.awt.Shape (or PathIterator) and a distance?\r\n\r\n  [1]: https://i.stack.imgur.com/LN5LV.png\r\n  [2]: https://i.stack.imgur.com/A1y29.png\r\n  [3]: https://i.stack.imgur.com/RkqDK.png","title":"How to draw the area around a shape","body":"<p>I worked on a very simple map editor phase for a game in java. The goal is to put some islands with different shape on the map. But there is some constraints:</p>\n<ul>\n<li>islands must not be a specific distance far from another island (lets call it L)</li>\n<li>islands must not be a specific distance close from another island (lets call it S)</li>\n</ul>\n<p>In the game, the island is place with the mouse. The gamer can see areas where the island can be place or not as you can see.</p>\n<p><a href=\"https://i.stack.imgur.com/LN5LV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LN5LV.png\" alt=\"Allowed and dissallowed areas\" /></a></p>\n<p>My problem is that I realize my disalow area is not good. For example, the rectangle island have a rectangle disallow area (my first naive attempt) but in fact I must draw area of S around the rectangle ; that leads to a shape like this:</p>\n<p><a href=\"https://i.stack.imgur.com/A1y29.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A1y29.png\" alt=\"rectangle with real disallow area\" /></a></p>\n<p>I'm able to draw these kind of areas as long as my shapes are just composed of lines. But my island can have cubic or quadratic curve (and even though i'll need this kind of area for other shapes later).\nThe closer I manage to do is that:</p>\n<p><a href=\"https://i.stack.imgur.com/RkqDK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RkqDK.png\" alt=\"disallow area for a circle\" /></a></p>\n<p>In this case, the disallow area around the circle must be ... a circle (simple geometry). But as you can see, I have a weird rounded rectangle.</p>\n<p>I currently try to transform each segment of the pathiterator of a Shape to get the area. It's not as simple as scaling a shape (remember the rectangle case). I've allready try many ways to transform the shape and get the area.</p>\n<p><strong>Question:</strong></p>\n<p>Does someone have information, formula, clues, algorithms, libs to get this area from any java.awt.Shape (or PathIterator) and a distance?</p>\n"},{"tags":["java","multithreading","exception"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675260298,"post_id":75311217,"comment_id":132890018,"body_markdown":"It says in the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html#newCondition()) *&quot;If this lock is not held when any of the Condition waiting or signalling methods are called, then an IllegalMonitorStateException is thrown.&quot;*","body":"It says in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html#newCondition()\" rel=\"nofollow noreferrer\">documentation</a> <i>&quot;If this lock is not held when any of the Condition waiting or signalling methods are called, then an IllegalMonitorStateException is thrown.&quot;</i>"},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1675260541,"post_id":75311217,"comment_id":132890106,"body_markdown":"&quot;Since I have made proper lock on the shared resource why still its throwing the exception ?&quot; because you need to own the lock in order to call signal(), or signalAll() (per documentation).\n&quot;How come there is a clash as I am signaling only after changing the shared resource and printing sysout statement?&quot; same reason.\n&quot;Why do I need to put signalAll inside lock? &quot; now, that&#39;s an intersesting question. May I suggest you rephrase your question something like &quot;The documentation says I need to own the lock, but why does it puts this restriction?&quot;","body":"&quot;Since I have made proper lock on the shared resource why still its throwing the exception ?&quot; because you need to own the lock in order to call signal(), or signalAll() (per documentation). &quot;How come there is a clash as I am signaling only after changing the shared resource and printing sysout statement?&quot; same reason. &quot;Why do I need to put signalAll inside lock? &quot; now, that&#39;s an intersesting question. May I suggest you rephrase your question something like &quot;The documentation says I need to own the lock, but why does it puts this restriction?&quot;"},{"owner":{"account_id":11490612,"reputation":963,"user_id":8549273,"accept_rate":100,"display_name":"Suvam Roy"},"score":0,"creation_date":1675260805,"post_id":75311217,"comment_id":132890204,"body_markdown":"@&#201;tienneMiret Yes please rephrase I would like to know why so?","body":"@&#201;tienneMiret Yes please rephrase I would like to know why so?"},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1675261181,"post_id":75311217,"comment_id":132890370,"body_markdown":"@SuvamRoy I edited your question. Feel free to revert my edit if the new phrasing doesn&#39;t suits you.","body":"@SuvamRoy I edited your question. Feel free to revert my edit if the new phrasing doesn&#39;t suits you."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1675261387,"post_id":75311217,"comment_id":132890459,"body_markdown":"If you&#39;re not holding the lock when notifying, there is no guarantee of the visibility of changes to the recipient. Requiring you to hold the lock when notifying ensures correctness, removing or reducing the chance of buggy code (e.g. code notifying without ever holding the lock).","body":"If you&#39;re not holding the lock when notifying, there is no guarantee of the visibility of changes to the recipient. Requiring you to hold the lock when notifying ensures correctness, removing or reducing the chance of buggy code (e.g. code notifying without ever holding the lock)."},{"owner":{"account_id":11490612,"reputation":963,"user_id":8549273,"accept_rate":100,"display_name":"Suvam Roy"},"score":0,"creation_date":1675263554,"post_id":75311217,"comment_id":132891213,"body_markdown":"@MarkRotteveel Thanks. Your comment clears my doubt. If you don&#39;t mind please give a full answer so that I can accept it.","body":"@MarkRotteveel Thanks. Your comment clears my doubt. If you don&#39;t mind please give a full answer so that I can accept it."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1675271885,"post_id":75311217,"comment_id":132894321,"body_markdown":"Re, &quot;why do this restriction exists...?&quot; It&#39;s for the same reason that `object.wait()` and `object.notify()` may only be used inside a `synchronized(object)` block. It&#39;s meant to help you to avoid making a bad mistake, which you can read about here: https://stackoverflow.com/a/26593239/801894","body":"Re, &quot;why do this restriction exists...?&quot; It&#39;s for the same reason that <code>object.wait()</code> and <code>object.notify()</code> may only be used inside a <code>synchronized(object)</code> block. It&#39;s meant to help you to avoid making a bad mistake, which you can read about here: <a href=\"https://stackoverflow.com/a/26593239/801894\">stackoverflow.com/a/26593239/801894</a>"}],"answers":[{"tags":[],"owner":{"account_id":12379838,"reputation":551,"user_id":9025960,"display_name":"rgnt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675261827,"creation_date":1675261078,"answer_id":75311566,"question_id":75311217,"body_markdown":"**Answer to original question**\r\n\r\nYou&#39;re unlocking a lock associated with the condition before signaling it. \r\n[From documentation:](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html#signalAll())\r\n\r\n&gt; An implementation may (and typically does) require that the current thread hold the lock associated with this Condition when this method is called. Implementations must document this precondition and any actions taken if the lock is not held. Typically, an exception such as IllegalMonitorStateException will be thrown.\r\n\r\nAlso, only lock for the time required to modify the value you are conditioning for. \r\n```java\r\nvoid printPong() throws Exception {\r\n\r\n  // wait for pong condition\r\n  while (isPing) {\r\n    blockPong.await();\r\n  }\r\n\r\n  rlock.lock();\r\n  isPing = true; // modify value\r\n  blockPing.signalAll(); // signal ping\r\n  rlock.unlock();\r\n  \r\n  System.out.println(&quot;Pong&quot;);\r\n}\r\n\r\nvoid printPing() throws Exception {\r\n\r\n  // wait for ping condition\r\n  while (!isPing) {\r\n    blockPing.await();\r\n  }\r\n\r\n  rlock.lock();\r\n  isPing = false; // modify value\r\n  blockPong.signalAll(); // signal pong\r\n  rlock.unlock();\r\n\r\n  System.out.println(&quot;Ping&quot;);\r\n\r\n}\r\n```\r\n\r\n**Answer to modified question**\r\n\r\n&gt; So why do this restriction exists in java.util.concurrent.locks.ReentrantLock? I believe there is no such restriction in C++.\r\n\r\nBecause `ReentrantLock` is mutually exclusive. It provides access to one single thread at any given time. That&#39;s a design choice. \r\n\r\nIn C++ the `std::condition_variable` also requires you to own a mutex to the resource in order to signal.","title":"Can&#39;t understand this multi-threading exception behavior","body":"<p><strong>Answer to original question</strong></p>\n<p>You're unlocking a lock associated with the condition before signaling it.\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html#signalAll()\" rel=\"nofollow noreferrer\">From documentation:</a></p>\n<blockquote>\n<p>An implementation may (and typically does) require that the current thread hold the lock associated with this Condition when this method is called. Implementations must document this precondition and any actions taken if the lock is not held. Typically, an exception such as IllegalMonitorStateException will be thrown.</p>\n</blockquote>\n<p>Also, only lock for the time required to modify the value you are conditioning for.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void printPong() throws Exception {\n\n  // wait for pong condition\n  while (isPing) {\n    blockPong.await();\n  }\n\n  rlock.lock();\n  isPing = true; // modify value\n  blockPing.signalAll(); // signal ping\n  rlock.unlock();\n  \n  System.out.println(&quot;Pong&quot;);\n}\n\nvoid printPing() throws Exception {\n\n  // wait for ping condition\n  while (!isPing) {\n    blockPing.await();\n  }\n\n  rlock.lock();\n  isPing = false; // modify value\n  blockPong.signalAll(); // signal pong\n  rlock.unlock();\n\n  System.out.println(&quot;Ping&quot;);\n\n}\n</code></pre>\n<p><strong>Answer to modified question</strong></p>\n<blockquote>\n<p>So why do this restriction exists in java.util.concurrent.locks.ReentrantLock? I believe there is no such restriction in C++.</p>\n</blockquote>\n<p>Because <code>ReentrantLock</code> is mutually exclusive. It provides access to one single thread at any given time. That's a design choice.</p>\n<p>In C++ the <code>std::condition_variable</code> also requires you to own a mutex to the resource in order to signal.</p>\n"}],"owner":{"account_id":11490612,"reputation":963,"user_id":8549273,"accept_rate":100,"display_name":"Suvam Roy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675261827,"creation_date":1675259643,"question_id":75311217,"body_markdown":"According to the documentation for [ReentrantLock.newCondition()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html#newCondition()), the calling thread needs to own a lock before calling a signaling method:\r\n\r\n&gt; If this lock is not held when any of the Condition waiting or signalling methods are called, then an IllegalMonitorStateException is thrown.\r\n\r\nIndeed, this is what I see when I try it:\r\n\r\n```\r\njava.lang.IllegalMonitorStateException\r\n \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.signalAll(AbstractQueuedSynchronizer.java:1954)\r\n \tat PingPongPrinter_.printPing(PingPong2.java:35)\r\n \tat WorkerPing.run(PingPong2.java:53)\r\n \tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nSo why do this restriction exists in `java.util.concurrent.locks.ReentrantLock`? I believe there is [no such restriction in C++](https://stackoverflow.com/questions/21439359/signal-on-condition-variable-without-holding-lock).","title":"Can&#39;t understand this multi-threading exception behavior","body":"<p>According to the documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html#newCondition()\" rel=\"nofollow noreferrer\">ReentrantLock.newCondition()</a>, the calling thread needs to own a lock before calling a signaling method:</p>\n<blockquote>\n<p>If this lock is not held when any of the Condition waiting or signalling methods are called, then an IllegalMonitorStateException is thrown.</p>\n</blockquote>\n<p>Indeed, this is what I see when I try it:</p>\n<pre><code>java.lang.IllegalMonitorStateException\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.signalAll(AbstractQueuedSynchronizer.java:1954)\n    at PingPongPrinter_.printPing(PingPong2.java:35)\n    at WorkerPing.run(PingPong2.java:53)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>So why do this restriction exists in <code>java.util.concurrent.locks.ReentrantLock</code>? I believe there is <a href=\"https://stackoverflow.com/questions/21439359/signal-on-condition-variable-without-holding-lock\">no such restriction in C++</a>.</p>\n"},{"tags":["java","maven","mojo"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1675164831,"post_id":75292021,"comment_id":132865395,"body_markdown":"You have dependencies which require JDK17 (file verison 61) but you have JDK8... It looks like a mixup between spring boot versions because Spring Boot 3.X requires JDK17... but without your pom file it&#39;s hard to guess...","body":"You have dependencies which require JDK17 (file verison 61) but you have JDK8... It looks like a mixup between spring boot versions because Spring Boot 3.X requires JDK17... but without your pom file it&#39;s hard to guess..."},{"owner":{"account_id":9690916,"reputation":105,"user_id":7189021,"accept_rate":60,"display_name":"sr123"},"score":1,"creation_date":1675179242,"post_id":75292021,"comment_id":132870466,"body_markdown":"thank your your comment, yes it was related to springBoot version, i updated my springBoot from 2.6.6 to 2.1\nthe fix is specifying the Maven pluging build version in the pom","body":"thank your your comment, yes it was related to springBoot version, i updated my springBoot from 2.6.6 to 2.1 the fix is specifying the Maven pluging build version in the pom"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675344484,"post_id":75292021,"comment_id":132911611,"body_markdown":"As others already wrote there are other issues in your pom but as mentioned earlier without the full pom it&#39;s impossible... even to guess..","body":"As others already wrote there are other issues in your pom but as mentioned earlier without the full pom it&#39;s impossible... even to guess.."}],"answers":[{"tags":[],"owner":{"account_id":9690916,"reputation":105,"user_id":7189021,"accept_rate":60,"display_name":"sr123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675261751,"creation_date":1675179279,"answer_id":75299461,"question_id":75292021,"body_markdown":"it was related to springBoot version, i updated my springBoot from 2.6.6 to 2.1 the fix is specifying the springBoot maven pluging version in the pom ","title":"org/springframework/boot/maven/BuildInfoMojo has been compiled by a more recent version of the Java Runtime","body":"<p>it was related to springBoot version, i updated my springBoot from 2.6.6 to 2.1 the fix is specifying the springBoot maven pluging version in the pom</p>\n"}],"owner":{"account_id":9690916,"reputation":105,"user_id":7189021,"accept_rate":60,"display_name":"sr123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675261751,"creation_date":1675130722,"question_id":75292021,"body_markdown":"i&#39;m getting this error when i mvn clean install my project:\r\n\r\n    org/springframework/boot/maven/BuildInfoMojo has been compiled by a more recent \r\n    version of the Java Runtime (class file version 61.0), this version of the Java \r\n    Runtime only recognizes class file versions up to 52.0\r\n\r\ni checked the used java version, it&#39;s then right one.\r\n\r\nspringBoot version: 2.1.2\r\njava version: 1.8.0_121\r\n\r\nany solution please ?","title":"org/springframework/boot/maven/BuildInfoMojo has been compiled by a more recent version of the Java Runtime","body":"<p>i'm getting this error when i mvn clean install my project:</p>\n<pre><code>org/springframework/boot/maven/BuildInfoMojo has been compiled by a more recent \nversion of the Java Runtime (class file version 61.0), this version of the Java \nRuntime only recognizes class file versions up to 52.0\n</code></pre>\n<p>i checked the used java version, it's then right one.</p>\n<p>springBoot version: 2.1.2\njava version: 1.8.0_121</p>\n<p>any solution please ?</p>\n"},{"tags":["java","multithreading","threadpool"],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675253432,"creation_date":1675253082,"answer_id":75309920,"question_id":75309684,"body_markdown":"it is working as expected. you&#39;re just expecting the wrong outcome ;)\r\n\r\nThread2 finishes it&#39;s work once the executor starts working, and frankly, its a miracle you get to see &quot;inside someTask&quot; at all, as the executor and it tasks will be garbage collected once &quot;someMethod&quot; finishes working. (i.e. the Executor doesn&#39;t stay alive outside of someMethod, and there is no blocking operation at the end of someMethod that waits for the executor to finish).\r\n\r\ni would even wager that if you run this code enough times, there will be instances when you won&#39;t see the line &quot;inside someTask&quot; because of random OS/process scheduling.\r\n\r\nthere is no line that makes &quot;someMethod&quot; wait, and so Thread2 finishes its work and it passes .join() and you see the print out &quot;after thread2&quot;.\r\n\r\nalso, remember that the Console is not a synchronic output service. when multiple threads send output to the console, its not guaranteed to appear in the same order. so it is not a good indication of the order of events in a multithreaded environment.\r\n","title":"Thread Join + ScheduledExecutorService not working as expected","body":"<p>it is working as expected. you're just expecting the wrong outcome ;)</p>\n<p>Thread2 finishes it's work once the executor starts working, and frankly, its a miracle you get to see &quot;inside someTask&quot; at all, as the executor and it tasks will be garbage collected once &quot;someMethod&quot; finishes working. (i.e. the Executor doesn't stay alive outside of someMethod, and there is no blocking operation at the end of someMethod that waits for the executor to finish).</p>\n<p>i would even wager that if you run this code enough times, there will be instances when you won't see the line &quot;inside someTask&quot; because of random OS/process scheduling.</p>\n<p>there is no line that makes &quot;someMethod&quot; wait, and so Thread2 finishes its work and it passes .join() and you see the print out &quot;after thread2&quot;.</p>\n<p>also, remember that the Console is not a synchronic output service. when multiple threads send output to the console, its not guaranteed to appear in the same order. so it is not a good indication of the order of events in a multithreaded environment.</p>\n"},{"tags":[],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675261718,"creation_date":1675261718,"answer_id":75311707,"question_id":75309684,"body_markdown":"I found the solution and actually its pretty simple, checking the condition **while(!executor.isTerminated())** does the job. It ensures the next statements are executed only after the executor has done its job.","title":"Thread Join + ScheduledExecutorService not working as expected","body":"<p>I found the solution and actually its pretty simple, checking the condition <strong>while(!executor.isTerminated())</strong> does the job. It ensures the next statements are executed only after the executor has done its job.</p>\n"}],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675261718,"creation_date":1675251809,"question_id":75309684,"body_markdown":"In the below code snippet, I notice the following sequence of execution. Why is the control going back to the flow outside the **someMethod()** before completing the activity in the **someTask** block? Shouldn&#39;t it complete everything inside thread2 before moving to the next line of code as **thread2.join()** has been invoked?\r\n\r\n```\r\nSystem.out.prinltn(&quot;inside someMethod...&quot;);\r\nSystem.out.println(&quot;after thread2 .....&quot;);\r\nSystem.out.prinltn(&quot;inside someTask......&quot;);\r\n```\r\n\r\n```\r\npublic static void main(String args[]) {\r\n        Thread thread1 = new Thread(new someclassimplementingRunnable());\r\n        thread1.start();\r\n        try {\r\n            thread1.join();\r\n            Thread thread2 = new Thread(new Runnable() {\r\n                public void run() {\r\n                    someMethod();\r\n\r\n                }\r\n            });\r\n            thread2.start();\r\n            thread2.join();\r\n            System.out.println(&quot;after thread2 .....&quot;);\r\n        } catch (InterruptedException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;outside try-catch&quot;);\r\n    }\r\n```\r\n```\r\npublic static synchronized void someMethod(){\r\nSystem.out.prinltn(&quot;inside someMethod...&quot;);\r\nScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\nRunnable someTask = () -&gt; {\r\nSystem.out.prinltn(&quot;inside someTask......&quot;);\r\n};\r\nexecutor.scheduleAtFixedRate(someTask , 0, 2, TimeUnit.SECONDS);\r\n}\r\n```","title":"Thread Join + ScheduledExecutorService not working as expected","body":"<p>In the below code snippet, I notice the following sequence of execution. Why is the control going back to the flow outside the <strong>someMethod()</strong> before completing the activity in the <strong>someTask</strong> block? Shouldn't it complete everything inside thread2 before moving to the next line of code as <strong>thread2.join()</strong> has been invoked?</p>\n<pre><code>System.out.prinltn(&quot;inside someMethod...&quot;);\nSystem.out.println(&quot;after thread2 .....&quot;);\nSystem.out.prinltn(&quot;inside someTask......&quot;);\n</code></pre>\n<pre><code>public static void main(String args[]) {\n        Thread thread1 = new Thread(new someclassimplementingRunnable());\n        thread1.start();\n        try {\n            thread1.join();\n            Thread thread2 = new Thread(new Runnable() {\n                public void run() {\n                    someMethod();\n\n                }\n            });\n            thread2.start();\n            thread2.join();\n            System.out.println(&quot;after thread2 .....&quot;);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;outside try-catch&quot;);\n    }\n</code></pre>\n<pre><code>public static synchronized void someMethod(){\nSystem.out.prinltn(&quot;inside someMethod...&quot;);\nScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\nRunnable someTask = () -&gt; {\nSystem.out.prinltn(&quot;inside someTask......&quot;);\n};\nexecutor.scheduleAtFixedRate(someTask , 0, 2, TimeUnit.SECONDS);\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675256717,"post_id":75310207,"comment_id":132888730,"body_markdown":"Which version of Apache POI are you using? Asking because newer versions support java.time, the modern Java date and time API, and you should not use `Date`, which is an old, poorly designed and outdated class (and even if you insisted on `Date`, you should still stay far away from the deprecated and confusing constructors; they have been deprecated for over 25 years for a reason).","body":"Which version of Apache POI are you using? Asking because newer versions support java.time, the modern Java date and time API, and you should not use <code>Date</code>, which is an old, poorly designed and outdated class (and even if you insisted on <code>Date</code>, you should still stay far away from the deprecated and confusing constructors; they have been deprecated for over 25 years for a reason)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675257006,"post_id":75310207,"comment_id":132888835,"body_markdown":"I read that the Excel epoch/baseline is 1899-12-30. And `ChronoUnit.DAYS.between(LocalDate.of(1899, Month.DECEMBER, 30), LocalDate.of(2022, Month.DECEMBER, 31))` does yield your expected 44926. So there is no reason to make it more complicated than this.","body":"I read that the Excel epoch/baseline is 1899-12-30. And <code>ChronoUnit.DAYS.between(LocalDate.of(1899, Month.DECEMBER, 30), LocalDate.of(2022, Month.DECEMBER, 31))</code> does yield your expected 44926. So there is no reason to make it more complicated than this."},{"owner":{"account_id":27675397,"reputation":1,"user_id":21125328,"display_name":"Cruftlords"},"score":1,"creation_date":1675257734,"post_id":75310207,"comment_id":132889060,"body_markdown":"Wow that works. Thank you so much. you said that Date is outdated what shall i use instead?","body":"Wow that works. Thank you so much. you said that Date is outdated what shall i use instead?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675258623,"post_id":75310207,"comment_id":132889358,"body_markdown":"For a date without time of day use [`LocalDate`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/LocalDate.html) from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). For other date and time purposes use other classes from the same API.","body":"For a date without time of day use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. For other date and time purposes use other classes from the same API."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675260174,"post_id":75310207,"comment_id":132889973,"body_markdown":"Also there doesn’t seem to be any reason for you to perform the conversion yourself. An Apache POI `Cell` has [a `setCellValue` method](https://poi.apache.org/apidocs/5.0/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDate-) that acepts a `LocalDate` and performs the conversion for you.","body":"Also there doesn’t seem to be any reason for you to perform the conversion yourself. An Apache POI <code>Cell</code> has <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDate-\" rel=\"nofollow noreferrer\">a <code>setCellValue</code> method</a> that acepts a <code>LocalDate</code> and performs the conversion for you."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1675293937,"post_id":75310207,"comment_id":132900533,"body_markdown":"Apache POI has a util class for doing the conversion - https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/DateUtil.html - but it isn&#39;t clear why you aren&#39;t just using eg `cell.setCellValue(LocalDate)`","body":"Apache POI has a util class for doing the conversion - <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/DateUtil.html\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/&hellip;</a> - but it isn&#39;t clear why you aren&#39;t just using eg <code>cell.setCellValue(LocalDate)</code>"}],"owner":{"account_id":27675397,"reputation":1,"user_id":21125328,"display_name":"Cruftlords"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675261572,"creation_date":1675254539,"question_id":75310207,"body_markdown":"I&#39;m trying to do automations in Java with Apache POI and I need to convert a date dd-MM-yyyy into the format that Excel saves dates. like 31.12.2022 equals to 44926 in Excel. so I searched a bit and discovered that the number equals the days that have passed between 1.1.1900 and in this example 31.12.2022 so i searched for a function that calculates this but only got some that have irregular differences than from excel. I also tried with ChatGPT but no luck.\r\n\r\n\t\tDate date1 = new Date(year, month, day);// some date\r\n\t\tDate date2 = new Date(1900,1,1); // some other date\r\n\t\tlong difference = date1.getTime() - date2.getTime();\r\n\t\tint differenceDays = (int) (difference / (1000 * 60 * 60 * 24));\r\n\t\treturn differenceDays;\r\n\t\t\r\nI used this code and as I said earlier it&#39;ss not the same result I get in Excel at first I thought it was just a difference of 4 that is always the same so I just added +4 but then I realized that this doesnt work because sometimes its 3 or smth else.","title":"Apache POI Excel Date","body":"<p>I'm trying to do automations in Java with Apache POI and I need to convert a date dd-MM-yyyy into the format that Excel saves dates. like 31.12.2022 equals to 44926 in Excel. so I searched a bit and discovered that the number equals the days that have passed between 1.1.1900 and in this example 31.12.2022 so i searched for a function that calculates this but only got some that have irregular differences than from excel. I also tried with ChatGPT but no luck.</p>\n<pre><code>    Date date1 = new Date(year, month, day);// some date\n    Date date2 = new Date(1900,1,1); // some other date\n    long difference = date1.getTime() - date2.getTime();\n    int differenceDays = (int) (difference / (1000 * 60 * 60 * 24));\n    return differenceDays;\n    \n</code></pre>\n<p>I used this code and as I said earlier it'ss not the same result I get in Excel at first I thought it was just a difference of 4 that is always the same so I just added +4 but then I realized that this doesnt work because sometimes its 3 or smth else.</p>\n"},{"tags":["java","spring-boot","web","zk"],"comments":[{"owner":{"account_id":9093156,"reputation":381,"user_id":8235572,"display_name":"Col"},"score":1,"creation_date":1574655312,"post_id":59024258,"comment_id":104295039,"body_markdown":"If you haven&#39;t already please check out [how to ask a good question](https://stackoverflow.com/help/how-to-ask). What have you tried so far? If you have followed any tutorials where did you get stuck?","body":"If you haven&#39;t already please check out <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>. What have you tried so far? If you have followed any tutorials where did you get stuck?"}],"answers":[{"tags":[],"owner":{"account_id":6072320,"reputation":936,"user_id":4740707,"display_name":"cor3000"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574736398,"creation_date":1574736398,"answer_id":59042977,"question_id":59024258,"body_markdown":"Spring boot itself is a convention based framework to setup/configure an application(-server). It has examples for many ways to load/store data, each with their own tutorials, so you have to at least choose the persistence technology most suitable for your scenario ... be it spring data, jdbc, restful or nosql or webservice based ... you name it. Then someone might be able to point you to a dedicated tutorial.\r\n\r\nFrom the ZK perspective all that doesn&#39;t really matter. Being a front end framework it doesn&#39;t make any persistence assumptions. I.e. you can load/save data from/to any source in your controller/viewmodel code (delegating to your spring-services / repositories). Here [an example project][1], demonstrating how a spring service can be wired and used [inside MainViewModel][2]. \r\n\r\nNow it&#39;s up to you to decide and implement what the spring service will do, when its methods are called. For your CRUD scenario you&#39;ll most likely need methods to create, read, update and delete your data objects. \r\nE.g. Spring data provides standard interfaces for that [e.g. CrudRepository][3]\r\n\r\nBefore you decide to use [spring-data][4] you should definitely read and understand the common concepts first. After that the integration into spring-boot should *feel* less *mystical* (we&#39;ve all been there), and you can pick the options you want, instead of a tutorial someone put together - most likely under different assumptions unsuitable to your situation.\r\n\r\n  [1]: https://github.com/zkoss/zkspringboot/tree/master/zkspringboot-demos/zkspringboot-demo-jar\r\n  [2]: https://github.com/zkoss/zkspringboot/blob/master/zkspringboot-demos/zkspringboot-demo-jar/src/main/java/org/zkoss/zkspringboot/demo/viewmodel/MainViewModel.java#L19-L20\r\n  [3]: https://docs.spring.io/spring-data/data-commons/docs/2.2.2.RELEASE/reference/html/#repositories.core-concepts\r\n  [4]: https://docs.spring.io/spring-data/data-commons/docs/2.2.2.RELEASE/reference/html/#reference","title":"CRUD Spring-Boot with ZK?","body":"<p>Spring boot itself is a convention based framework to setup/configure an application(-server). It has examples for many ways to load/store data, each with their own tutorials, so you have to at least choose the persistence technology most suitable for your scenario ... be it spring data, jdbc, restful or nosql or webservice based ... you name it. Then someone might be able to point you to a dedicated tutorial.</p>\n\n<p>From the ZK perspective all that doesn't really matter. Being a front end framework it doesn't make any persistence assumptions. I.e. you can load/save data from/to any source in your controller/viewmodel code (delegating to your spring-services / repositories). Here <a href=\"https://github.com/zkoss/zkspringboot/tree/master/zkspringboot-demos/zkspringboot-demo-jar\" rel=\"nofollow noreferrer\">an example project</a>, demonstrating how a spring service can be wired and used <a href=\"https://github.com/zkoss/zkspringboot/blob/master/zkspringboot-demos/zkspringboot-demo-jar/src/main/java/org/zkoss/zkspringboot/demo/viewmodel/MainViewModel.java#L19-L20\" rel=\"nofollow noreferrer\">inside MainViewModel</a>. </p>\n\n<p>Now it's up to you to decide and implement what the spring service will do, when its methods are called. For your CRUD scenario you'll most likely need methods to create, read, update and delete your data objects. \nE.g. Spring data provides standard interfaces for that <a href=\"https://docs.spring.io/spring-data/data-commons/docs/2.2.2.RELEASE/reference/html/#repositories.core-concepts\" rel=\"nofollow noreferrer\">e.g. CrudRepository</a></p>\n\n<p>Before you decide to use <a href=\"https://docs.spring.io/spring-data/data-commons/docs/2.2.2.RELEASE/reference/html/#reference\" rel=\"nofollow noreferrer\">spring-data</a> you should definitely read and understand the common concepts first. After that the integration into spring-boot should <em>feel</em> less <em>mystical</em> (we've all been there), and you can pick the options you want, instead of a tutorial someone put together - most likely under different assumptions unsuitable to your situation.</p>\n"},{"tags":[],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675261269,"creation_date":1675261269,"answer_id":75311611,"question_id":59024258,"body_markdown":"I suppose that you have fundamental skills in Java and in web development. If you do, but you are starting with spring boot I recommend starting with spring boot by reading articles in baeldung.com and mkyong.com for specific things.\r\n\r\nTo get a general perspective of spring boot I recommend that you read the book &quot;spring boot in action&quot; by Craig Walls:\r\n\r\n[![enter image description here][1]][1] \r\n\r\nYou can purchase it online or find it in [here](https://doc.lagout.org/programmation/Spring%20Boot%20in%20Action.pdf).\r\n\r\n  [1]: https://i.stack.imgur.com/Y6CNd.png","title":"CRUD Spring-Boot with ZK?","body":"<p>I suppose that you have fundamental skills in Java and in web development. If you do, but you are starting with spring boot I recommend starting with spring boot by reading articles in baeldung.com and mkyong.com for specific things.</p>\n<p>To get a general perspective of spring boot I recommend that you read the book &quot;spring boot in action&quot; by Craig Walls:</p>\n<p><a href=\"https://i.stack.imgur.com/Y6CNd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y6CNd.png\" alt=\"enter image description here\" /></a></p>\n<p>You can purchase it online or find it in <a href=\"https://doc.lagout.org/programmation/Spring%20Boot%20in%20Action.pdf\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":16794052,"reputation":41,"user_id":12140900,"display_name":"Riski galang saputro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1380,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675261269,"creation_date":1574646939,"question_id":59024258,"body_markdown":"I want to make a web-based application using spring-boot with zk as backend and frontend, but I still haven&#39;t found a good tutorial.","title":"CRUD Spring-Boot with ZK?","body":"<p>I want to make a web-based application using spring-boot with zk as backend and frontend, but I still haven't found a good tutorial.</p>\n"},{"tags":["java","option-type"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1675200304,"post_id":75303267,"comment_id":132876756,"body_markdown":"That first line is setting the field at numerical index `JsonNode` on a local array variable called `Optional`. It has no relationship to the `Optional` *type* built-in to Java since Java 8. I&#39;m guessing that&#39;s not what you *meant* to write, but I&#39;m having trouble filling in the blanks on what was intended there.","body":"That first line is setting the field at numerical index <code>JsonNode</code> on a local array variable called <code>Optional</code>. It has no relationship to the <code>Optional</code> <i>type</i> built-in to Java since Java 8. I&#39;m guessing that&#39;s not what you <i>meant</i> to write, but I&#39;m having trouble filling in the blanks on what was intended there."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1675200349,"post_id":75303267,"comment_id":132876769,"body_markdown":"That&#39;s not Java.","body":"That&#39;s not Java."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675200432,"post_id":75303267,"comment_id":132876783,"body_markdown":"`Optional[JsonNode]` is not valid Java, unless `Optional` is an array and `JsonNode` is an int variable. (You are not using the array in your next statement, so it is irrelevant to the question). Also, in Java `Optional.of(&quot;something&quot;).map(s -&gt; null)` already _is_ an `Optional.empty()` instance.","body":"<code>Optional[JsonNode]</code> is not valid Java, unless <code>Optional</code> is an array and <code>JsonNode</code> is an int variable. (You are not using the array in your next statement, so it is irrelevant to the question). Also, in Java <code>Optional.of(&quot;something&quot;).map(s -&gt; null)</code> already <i>is</i> an <code>Optional.empty()</code> instance."},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1675200938,"post_id":75303267,"comment_id":132876906,"body_markdown":"Sorry, I accidentally mistyped it!When I executed `orderData.map(data -&gt; data.get(&quot;customerInfo&quot;))`, I saw Optional[null] in my debugger where null was referencing to NullNode object.","body":"Sorry, I accidentally mistyped it!When I executed <code>orderData.map(data -&gt; data.get(&quot;customerInfo&quot;))</code>, I saw Optional[null] in my debugger where null was referencing to NullNode object."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1675200976,"post_id":75303267,"comment_id":132876917,"body_markdown":"I thought so. `Optional.ofNullable(null).equals(Optional.empty())` returns `true`.","body":"I thought so. <code>Optional.ofNullable(null).equals(Optional.empty())</code> returns <code>true</code>."},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1675201072,"post_id":75303267,"comment_id":132876937,"body_markdown":"@MCEmperor. When I ran Optional.ofNullable(orderData.map(data -&gt; data.get(&quot;customerInfo&quot;))) , I see `Optional[Optional[null]]`.","body":"@MCEmperor. When I ran Optional.ofNullable(orderData.map(data -&gt; data.get(&quot;customerInfo&quot;))) , I see <code>Optional[Optional[null]]</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1675201192,"post_id":75303267,"comment_id":132876964,"body_markdown":"@ruakh Fixed now.","body":"@ruakh Fixed now."}],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675201430,"creation_date":1675201430,"answer_id":75303455,"question_id":75303267,"body_markdown":"You seem to be misinterpreting the problem you&#39;re having. The NullPointerException occurs because `customerInfo.get(name)` is null, so `customerInfo.get(name).textValue()` is trying to call the `textValue()` method on a null reference.\r\n\r\nTo fix this, you can split that call to `map` into *two* calls, like so:\r\n\r\n```\r\norderData.map(data -&gt; data.get(&quot;customerInfo&quot;))\r\n  .map(customerInfo -&gt; customerInfo.get(name))\r\n  .map(customer -&gt; customer.textValue());\r\n```\r\n\r\nThis way, if `customerInfo.get(name)` is null, then the resulting Optional will be empty, and that last lambda won&#39;t be executed.","title":"Return Optional.empty instead of Optional[null] in Optional.map","body":"<p>You seem to be misinterpreting the problem you're having. The NullPointerException occurs because <code>customerInfo.get(name)</code> is null, so <code>customerInfo.get(name).textValue()</code> is trying to call the <code>textValue()</code> method on a null reference.</p>\n<p>To fix this, you can split that call to <code>map</code> into <em>two</em> calls, like so:</p>\n<pre><code>orderData.map(data -&gt; data.get(&quot;customerInfo&quot;))\n  .map(customerInfo -&gt; customerInfo.get(name))\n  .map(customer -&gt; customer.textValue());\n</code></pre>\n<p>This way, if <code>customerInfo.get(name)</code> is null, then the resulting Optional will be empty, and that last lambda won't be executed.</p>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75303455,"answer_count":1,"score":-1,"last_activity_date":1675261164,"creation_date":1675199958,"question_id":75303267,"body_markdown":"In the below code, if `customerInfo` is not present, it returns Optional[null] and hence `customerInfo.get(name).textValue()` returns a NPE. Is there a way to make `map(data -&gt; data.get(&quot;customerInfo&quot;))` return `Optional.empty()` instead of `Optional[null]`? Here the null within `Optional[null]` is a NullNode object.\r\n \r\n```java\r\n  Optional&lt;JsonNode&gt; orderData = getOrderData() // API Call\r\n\r\n  orderData.map(data -&gt; data.get(&quot;customerInfo&quot;))\r\n  .map(customerInfo -&gt; customerInfo.get(name).textValue());\r\n```","title":"Return Optional.empty instead of Optional[null] in Optional.map","body":"<p>In the below code, if <code>customerInfo</code> is not present, it returns Optional[null] and hence <code>customerInfo.get(name).textValue()</code> returns a NPE. Is there a way to make <code>map(data -&gt; data.get(&quot;customerInfo&quot;))</code> return <code>Optional.empty()</code> instead of <code>Optional[null]</code>? Here the null within <code>Optional[null]</code> is a NullNode object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  Optional&lt;JsonNode&gt; orderData = getOrderData() // API Call\n\n  orderData.map(data -&gt; data.get(&quot;customerInfo&quot;))\n  .map(customerInfo -&gt; customerInfo.get(name).textValue());\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":22488356,"reputation":93,"user_id":16686416,"display_name":"Curry"},"score":2,"creation_date":1672824409,"post_id":75001946,"comment_id":132358073,"body_markdown":"Since requests is not sortable (because it is a list), maybe exclude it from the dto during the query and then fetch and set requests for each victimDTO that is in the Page by victim id would be a better solution?\n\nfindByVictimIdIn(List&lt;Long&gt; victimIds) in request repository to get all the requests related to the page and distrubute them to each DTO in java","body":"Since requests is not sortable (because it is a list), maybe exclude it from the dto during the query and then fetch and set requests for each victimDTO that is in the Page by victim id would be a better solution?  findByVictimIdIn(List&lt;Long&gt; victimIds) in request repository to get all the requests related to the page and distrubute them to each DTO in java"},{"owner":{"account_id":25181007,"reputation":81,"user_id":19022508,"display_name":"Mykhailo Pavliuk"},"score":0,"creation_date":1672898985,"post_id":75001946,"comment_id":132377944,"body_markdown":"@Curry, yes, your workaround sounds great and accomplish the goal! Thank you","body":"@Curry, yes, your workaround sounds great and accomplish the goal! Thank you"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675261106,"creation_date":1675261106,"answer_id":75311575,"question_id":75001946,"body_markdown":"That&#39;s not possible because DTO projections in JPQL are inherently scalar. I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Victim.class)\r\n    public interface VictimDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getEmail();\r\n        String getPassword();\r\n        String getName();\r\n        String getSurname();\r\n        String getNameOfOrganization();\r\n        String getPhoneNumber();\r\n        UserStatus getUserStatus();\r\n        Collection&lt;RequestDto&gt; getRequests();\r\n\r\n        @EntityView(Request.class)\r\n        interface RequestDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`VictimDto a = entityViewManager.find(entityManager, VictimDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;VictimDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"How to use &quot;select new Dto(...)...&quot; construction with @OneToMany relationship in Spring Data JPA @Query?","body":"<p>That's not possible because DTO projections in JPQL are inherently scalar. I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Victim.class)\npublic interface VictimDto {\n    @IdMapping\n    Long getId();\n    String getEmail();\n    String getPassword();\n    String getName();\n    String getSurname();\n    String getNameOfOrganization();\n    String getPhoneNumber();\n    UserStatus getUserStatus();\n    Collection&lt;RequestDto&gt; getRequests();\n\n    @EntityView(Request.class)\n    interface RequestDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>VictimDto a = entityViewManager.find(entityManager, VictimDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;VictimDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":25181007,"reputation":81,"user_id":19022508,"display_name":"Mykhailo Pavliuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675261106,"creation_date":1672815874,"question_id":75001946,"body_markdown":"I need to use &quot;`select new ...`&quot; to construct DTO object in my repository.\r\n\r\nI have following classes:\r\n\r\nEntity class `Victim`:\r\n\r\n   \r\n\r\n    @Entity\r\n    @Table(name = &quot;victims&quot;)\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Victim extends User {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n    \r\n      @Column(nullable = false, length = 13)\r\n      private String phoneNumber;\r\n    \r\n      @Enumerated(EnumType.STRING)\r\n      @Column(nullable = false)\r\n      private UserStatus userStatus = UserStatus.ACTIVE;\r\n    \r\n      @JsonManagedReference\r\n      @Setter(AccessLevel.PRIVATE)\r\n      @BatchSize(size = 100)\r\n      @OneToMany(mappedBy = &quot;victim&quot;, cascade = CascadeType.ALL)\r\n      @Exclude\r\n      private List&lt;Request&gt; requests = new ArrayList&lt;&gt;();\r\n    \r\n      @JsonManagedReference\r\n      @OneToOne(mappedBy = &quot;victim&quot;, cascade = CascadeType.ALL)\r\n      private LegalEntityVictim legalEntityVictim;\r\n    \r\n      @JsonManagedReference\r\n      @OneToOne(mappedBy = &quot;victim&quot;, cascade = CascadeType.ALL)\r\n      private NaturalPersonVictim naturalPersonVictim;\r\n    \r\n    }\r\n\r\n\r\nAlso assume, that Request is the object, which has its own relationship with another object and contains it as well - probably that is the problem, because without using that field in DTO everything works - so the possible question is: “How to construct DTO with inner one-to-many dependency (which could have its own dependencies as well)?”\r\n\r\nDTO class `VictimDTO`:\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public class VictimDto {\r\n    \r\n      private Long id;\r\n    \r\n      private String email;\r\n    \r\n      private String password;\r\n    \r\n      private String name;\r\n\r\n      private String surname;\r\n    \r\n      private String nameOfOrganization;\r\n    \r\n      private String phoneNumber;\r\n    \r\n      private UserStatus userStatus;\r\n    \r\n      private Collection&lt;Request&gt; requests = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nRepository `VictimRepository`:\r\n\r\n    public interface VictimRepository extends JpaRepository&lt;Victim, Long&gt; {\r\n    \r\n      @Query(&quot;select new com.pavliuk.dto.VictimDto(v.id, v.email, v.password, v.naturalPersonVictim.name, v.naturalPersonVictim.surname, v.legalEntityVictim.nameOfOrganization, v.phoneNumber, v.userStatus, v.requests) from Victim v &quot;)\r\n      Page&lt;VictimDto&gt; findAllDto(Pageable pageable);\r\n    \r\n    }\r\n\r\nThe following hierarchy of SQL tables are defined:\r\n[![Diagram of SQL table relationship][1]][1]\r\n\r\nAnd as result I got following logs (I have turned on show-sql ability, so you can inspect also generated query):\r\n\r\n    Hibernate: select victim0_.id as col_0_0_, victim0_.email as col_1_0_, victim0_.password as col_2_0_, naturalper1_.name as col_3_0_, naturalper1_.surname as col_4_0_, legalentit3_.name_of_organization as col_5_0_, victim0_.phone_number as col_6_0_, victim0_.user_status as col_7_0_, . as col_8_0_ from victims victim0_ cross join natural_person_victims naturalper1_ cross join legal_entity_victims legalentit3_ inner join requests requests4_ on victim0_.id=requests4_.victim_id where victim0_.id=naturalper1_.victim_id and victim0_.id=legalentit3_.victim_id limit ?\r\n    2023-01-04 08:54:22.282  WARN 37428 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42601\r\n    2023-01-04 08:54:22.282 ERROR 37428 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: syntax error at or near &quot;.&quot;\r\n      Position: 273\r\n    2023-01-04 08:54:22.293 ERROR 37428 --- [nio-8080-exec-1] c.p.controller.ErrorHandlingController   : handleException: message: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet, method: getAll\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yk23S.png","title":"How to use &quot;select new Dto(...)...&quot; construction with @OneToMany relationship in Spring Data JPA @Query?","body":"<p>I need to use &quot;<code>select new ...</code>&quot; to construct DTO object in my repository.</p>\n<p>I have following classes:</p>\n<p>Entity class <code>Victim</code>:</p>\n<pre><code>@Entity\n@Table(name = &quot;victims&quot;)\n@Getter\n@Setter\n@ToString\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Victim extends User {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Column(nullable = false, length = 13)\n  private String phoneNumber;\n\n  @Enumerated(EnumType.STRING)\n  @Column(nullable = false)\n  private UserStatus userStatus = UserStatus.ACTIVE;\n\n  @JsonManagedReference\n  @Setter(AccessLevel.PRIVATE)\n  @BatchSize(size = 100)\n  @OneToMany(mappedBy = &quot;victim&quot;, cascade = CascadeType.ALL)\n  @Exclude\n  private List&lt;Request&gt; requests = new ArrayList&lt;&gt;();\n\n  @JsonManagedReference\n  @OneToOne(mappedBy = &quot;victim&quot;, cascade = CascadeType.ALL)\n  private LegalEntityVictim legalEntityVictim;\n\n  @JsonManagedReference\n  @OneToOne(mappedBy = &quot;victim&quot;, cascade = CascadeType.ALL)\n  private NaturalPersonVictim naturalPersonVictim;\n\n}\n</code></pre>\n<p>Also assume, that Request is the object, which has its own relationship with another object and contains it as well - probably that is the problem, because without using that field in DTO everything works - so the possible question is: “How to construct DTO with inner one-to-many dependency (which could have its own dependencies as well)?”</p>\n<p>DTO class <code>VictimDTO</code>:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class VictimDto {\n\n  private Long id;\n\n  private String email;\n\n  private String password;\n\n  private String name;\n\n  private String surname;\n\n  private String nameOfOrganization;\n\n  private String phoneNumber;\n\n  private UserStatus userStatus;\n\n  private Collection&lt;Request&gt; requests = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Repository <code>VictimRepository</code>:</p>\n<pre><code>public interface VictimRepository extends JpaRepository&lt;Victim, Long&gt; {\n\n  @Query(&quot;select new com.pavliuk.dto.VictimDto(v.id, v.email, v.password, v.naturalPersonVictim.name, v.naturalPersonVictim.surname, v.legalEntityVictim.nameOfOrganization, v.phoneNumber, v.userStatus, v.requests) from Victim v &quot;)\n  Page&lt;VictimDto&gt; findAllDto(Pageable pageable);\n\n}\n</code></pre>\n<p>The following hierarchy of SQL tables are defined:\n<a href=\"https://i.stack.imgur.com/yk23S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yk23S.png\" alt=\"Diagram of SQL table relationship\" /></a></p>\n<p>And as result I got following logs (I have turned on show-sql ability, so you can inspect also generated query):</p>\n<pre><code>Hibernate: select victim0_.id as col_0_0_, victim0_.email as col_1_0_, victim0_.password as col_2_0_, naturalper1_.name as col_3_0_, naturalper1_.surname as col_4_0_, legalentit3_.name_of_organization as col_5_0_, victim0_.phone_number as col_6_0_, victim0_.user_status as col_7_0_, . as col_8_0_ from victims victim0_ cross join natural_person_victims naturalper1_ cross join legal_entity_victims legalentit3_ inner join requests requests4_ on victim0_.id=requests4_.victim_id where victim0_.id=naturalper1_.victim_id and victim0_.id=legalentit3_.victim_id limit ?\n2023-01-04 08:54:22.282  WARN 37428 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42601\n2023-01-04 08:54:22.282 ERROR 37428 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: syntax error at or near &quot;.&quot;\n  Position: 273\n2023-01-04 08:54:22.293 ERROR 37428 --- [nio-8080-exec-1] c.p.controller.ErrorHandlingController   : handleException: message: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet, method: getAll\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":3330082,"reputation":275,"user_id":2799226,"accept_rate":23,"display_name":"IKane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675260958,"creation_date":1675260958,"answer_id":75311539,"question_id":75274144,"body_markdown":"Was able to fix the issue adding this config:\r\n\r\n    @Primary\r\n    @Bean(name = &quot;productdbMongoTemplate&quot;)\r\n    public MongoTemplate productdbMongoTemplate(ApplicationContext appContext, MongoCustomConversions customConversions) {\r\n        MongoDatabaseFactory dbFactory = productdbMongoDatabaseFactory(getProductDbProps());\r\n\r\n        MongoTemplate mongoTemplate = new MongoTemplate(dbFactory);\r\n        MongoMappingContext mappingContext = (MongoMappingContext) mongoTemplate.getConverter().getMappingContext();\r\n        mappingContext.setApplicationContext(appContext);\r\n\r\n        MappingMongoConverter mmc = (MappingMongoConverter)mongoTemplate.getConverter();\r\n        mmc.setCustomConversions(customConversions);\r\n        mmc.afterPropertiesSet();\r\n\r\n        return mongoTemplate;\r\n    }","title":"multiple spring boot mongo connectors SpelEvaluationException error","body":"<p>Was able to fix the issue adding this config:</p>\n<pre><code>@Primary\n@Bean(name = &quot;productdbMongoTemplate&quot;)\npublic MongoTemplate productdbMongoTemplate(ApplicationContext appContext, MongoCustomConversions customConversions) {\n    MongoDatabaseFactory dbFactory = productdbMongoDatabaseFactory(getProductDbProps());\n\n    MongoTemplate mongoTemplate = new MongoTemplate(dbFactory);\n    MongoMappingContext mappingContext = (MongoMappingContext) mongoTemplate.getConverter().getMappingContext();\n    mappingContext.setApplicationContext(appContext);\n\n    MappingMongoConverter mmc = (MappingMongoConverter)mongoTemplate.getConverter();\n    mmc.setCustomConversions(customConversions);\n    mmc.afterPropertiesSet();\n\n    return mongoTemplate;\n}\n</code></pre>\n"}],"owner":{"account_id":3330082,"reputation":275,"user_id":2799226,"accept_rate":23,"display_name":"IKane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75311539,"answer_count":1,"score":0,"last_activity_date":1675260958,"creation_date":1674987684,"question_id":75274144,"body_markdown":"I&#39;m get this error while setting up a spring boot connecting to multiple mongo database (so custom mongoTemplate config). I&#39;m using SpelExpression in document to dynamically determine collection name at runtime.\r\n\r\n```\r\norg.springframework.expression.spel.SpelEvaluationException: EL1057E: No bean resolver registered in the context to resolve access to bean &#39;prefixSupplier&#39;\r\n```\r\nHere&#39;s my config:\r\n```\r\n@SpringBootApplication(exclude = {\r\n        MongoReactiveAutoConfiguration.class,\r\n        MongoReactiveDataAutoConfiguration.class})\r\npublic class MyApp {...}\r\n\r\n@Configuration\r\npublic class MultipleMongoConfiguration {\r\n\r\n    @Primary\r\n    @Bean(name = &quot;db1Properties&quot;)\r\n    @ConfigurationProperties(prefix = &quot;mongodb.db1&quot;)\r\n    public MongoProperties getDb1Props() {\r\n        return new MongoProperties();\r\n    }\r\n\r\n    @Bean(name = &quot;db2Properties&quot;)\r\n    @ConfigurationProperties(prefix = &quot;mongodb.db2&quot;)\r\n    public MongoProperties getDb2Props() {\r\n        return new MongoProperties();\r\n    }\r\n\r\n\r\n    @Primary\r\n    @Bean\r\n    public ReactiveMongoDatabaseFactory db1MongoDatabaseFactory(@Qualifier(&quot;db1Properties&quot;) MongoProperties mongo) {\r\n        return new SimpleReactiveMongoDatabaseFactory(\r\n                MongoClients.create(mongo.getUri()), mongo.getDatabase()\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    public ReactiveMongoDatabaseFactory db2MongoDatabaseFactory(@Qualifier(&quot;db2Properties&quot;) MongoProperties mongo) {\r\n        return new SimpleReactiveMongoDatabaseFactory(\r\n                MongoClients.create(mongo.getUri()), mongo.getDatabase()\r\n        );\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;db1MongoTemplate&quot;)\r\n    public ReactiveMongoTemplate db1MongoTemplate() {\r\n        return new ReactiveMongoTemplate(db1MongoDatabaseFactory(getDb1Props()));\r\n    }\r\n\r\n    @Bean(name =&quot;db2MongoTemplate&quot;)\r\n    public ReactiveMongoTemplate db2MongoTemplate() {\r\n        return new ReactiveMongoTemplate(db2MongoDatabaseFactory(getDb2Props()));\r\n    }\r\n}\r\n\r\n@Configuration\r\n@EnableReactiveMongoRepositories(basePackages = {\r\n        &quot;com.demo.database.repository.db1&quot;,\r\n        &quot;com.demo.entity.db1&quot;\r\n}, reactiveMongoTemplateRef = &quot;db1MongoTemplate&quot;)\r\npublic class Db1Configuration {\r\n}\r\n\r\n@Value\r\n@Builder\r\n@AllArgsConstructor(access = PRIVATE)\r\n@Document(collection = &quot;#{@prefixSupplier.get().getIdInLowerCase()}_collection&quot;)\r\npublic class Entity1 {...}\r\n\r\n```\r\nAny idea what i&#39;m missing?\r\n\r\nthanks","title":"multiple spring boot mongo connectors SpelEvaluationException error","body":"<p>I'm get this error while setting up a spring boot connecting to multiple mongo database (so custom mongoTemplate config). I'm using SpelExpression in document to dynamically determine collection name at runtime.</p>\n<pre><code>org.springframework.expression.spel.SpelEvaluationException: EL1057E: No bean resolver registered in the context to resolve access to bean 'prefixSupplier'\n</code></pre>\n<p>Here's my config:</p>\n<pre><code>@SpringBootApplication(exclude = {\n        MongoReactiveAutoConfiguration.class,\n        MongoReactiveDataAutoConfiguration.class})\npublic class MyApp {...}\n\n@Configuration\npublic class MultipleMongoConfiguration {\n\n    @Primary\n    @Bean(name = &quot;db1Properties&quot;)\n    @ConfigurationProperties(prefix = &quot;mongodb.db1&quot;)\n    public MongoProperties getDb1Props() {\n        return new MongoProperties();\n    }\n\n    @Bean(name = &quot;db2Properties&quot;)\n    @ConfigurationProperties(prefix = &quot;mongodb.db2&quot;)\n    public MongoProperties getDb2Props() {\n        return new MongoProperties();\n    }\n\n\n    @Primary\n    @Bean\n    public ReactiveMongoDatabaseFactory db1MongoDatabaseFactory(@Qualifier(&quot;db1Properties&quot;) MongoProperties mongo) {\n        return new SimpleReactiveMongoDatabaseFactory(\n                MongoClients.create(mongo.getUri()), mongo.getDatabase()\n        );\n    }\n\n    @Bean\n    public ReactiveMongoDatabaseFactory db2MongoDatabaseFactory(@Qualifier(&quot;db2Properties&quot;) MongoProperties mongo) {\n        return new SimpleReactiveMongoDatabaseFactory(\n                MongoClients.create(mongo.getUri()), mongo.getDatabase()\n        );\n    }\n\n    @Primary\n    @Bean(name = &quot;db1MongoTemplate&quot;)\n    public ReactiveMongoTemplate db1MongoTemplate() {\n        return new ReactiveMongoTemplate(db1MongoDatabaseFactory(getDb1Props()));\n    }\n\n    @Bean(name =&quot;db2MongoTemplate&quot;)\n    public ReactiveMongoTemplate db2MongoTemplate() {\n        return new ReactiveMongoTemplate(db2MongoDatabaseFactory(getDb2Props()));\n    }\n}\n\n@Configuration\n@EnableReactiveMongoRepositories(basePackages = {\n        &quot;com.demo.database.repository.db1&quot;,\n        &quot;com.demo.entity.db1&quot;\n}, reactiveMongoTemplateRef = &quot;db1MongoTemplate&quot;)\npublic class Db1Configuration {\n}\n\n@Value\n@Builder\n@AllArgsConstructor(access = PRIVATE)\n@Document(collection = &quot;#{@prefixSupplier.get().getIdInLowerCase()}_collection&quot;)\npublic class Entity1 {...}\n\n</code></pre>\n<p>Any idea what i'm missing?</p>\n<p>thanks</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","data-access-layer"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672936671,"post_id":75021588,"comment_id":132390239,"body_markdown":"if you perform save within `@Transactional(propagation=Propagation.REQUIRES_NEW)` that is expected transaction manager creates new session","body":"if you perform save within <code>@Transactional(propagation=Propagation.REQUIRES_NEW)</code> that is expected transaction manager creates new session"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675260927,"creation_date":1675260927,"answer_id":75311529,"question_id":75021588,"body_markdown":"Switching to a transaction scoped `EntityManger`/`Session` would help. It seems like you are sharing entity objects between threads and while one thread tries to save such a shared entity, the other thread still has an open session to which the collection of the object is connected.\r\n\r\nDon&#39;t share entity objects between threads, especially not entities that are still managed i.e. attached to their session.","title":"Spring JPA with hibernate: Illegal attempt to associate a collection with two open sessions","body":"<p>Switching to a transaction scoped <code>EntityManger</code>/<code>Session</code> would help. It seems like you are sharing entity objects between threads and while one thread tries to save such a shared entity, the other thread still has an open session to which the collection of the object is connected.</p>\n<p>Don't share entity objects between threads, especially not entities that are still managed i.e. attached to their session.</p>\n"}],"owner":{"account_id":6530447,"reputation":314,"user_id":5051733,"accept_rate":50,"display_name":"John Marshall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675260927,"creation_date":1672936344,"question_id":75021588,"body_markdown":"I&#39;ve seen several different architectural approaches to implementing spring jpa with hibernate. At a high level something that we have in place right now is the following:\r\n\r\n\r\nService layer\r\n\r\n    @Service(&quot;personService&quot;)\r\n    public class PersonServiceImpl implements PersonService {\r\n    \r\n    \t@Autowired\r\n    \tprivate PersonDao personDao\r\n    \t\r\n    \t@Override\r\n    \t@Transactional(readOnly=false, propagation=Propagation.REQUIRES_NEW)\r\n    \tpublic void save(Person person){\r\n    \t\tpersonDao.save(person);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Person findPerson(BigDecimal id){\r\n    \t\treturn personDao.findPerson(id);\r\n    \t}\r\n    \r\n    \t...\r\n    }\r\n    \r\n\r\nDAO / Repository\r\n\r\n    import ...\r\n    \r\n    @Repository(&quot;personRepository&quot;)\r\n    public class PersonDaoImpl implements PersonDao {\r\n    \r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \r\n    \t@Override\r\n    \tpublic void save(Person person){\r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \t\tsession.saveOrUpdate(person);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Person findPerson(BigDecimal id){\r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \t    return session.get(Person.class, id);\r\n    \t}\r\n    \t\r\n    \t...\r\n    }\r\n\r\nPOJO / Entity\r\n\r\n    \r\n    import ...\r\n    \r\n    @Entity\r\n    @Table(name=&quot;PERSON&quot;\r\n    )\r\n    @Getter\r\n    @Setter\r\n    public class Person {\r\n    \r\n        @Id\r\n        @SequenceGenerator(name=&quot;PersonSeq&quot;, sequenceName=&quot;PERSON_SEQ&quot;)\r\n        @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;PersonSeq&quot;)\r\n        @Column(name=&quot;PERSON_ID&quot;, nullable=false, precision=22, scale=0)\r\n        private BigDecimal id;\r\n    \r\n       ...\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nHowever I&#39;ve noticed that on rare occasions (hard to reproduce) we get the hibernate exception for an &quot;Illegal attempt to associate a collection with two open sessions&quot;. I believe this is happening because we have entities with collections (e.g. ManyToOne mappings) that we retrieve from the db, modify, and later try to call saveOrUpdate but the session we retrieved them from is not the same one as the session we are trying to save them to. Which in the above architecture it seems like we find entities with one session but save them in another even though we make the same call to getCurrentSession. \r\n\r\nIs this the best pattern to use with these libraries or is another recommended? What could I do to avoid the hibernate exception? \r\n\r\nWould switching to using JPA EntityManager be better than just plain hibernate? ","title":"Spring JPA with hibernate: Illegal attempt to associate a collection with two open sessions","body":"<p>I've seen several different architectural approaches to implementing spring jpa with hibernate. At a high level something that we have in place right now is the following:</p>\n<p>Service layer</p>\n<pre><code>@Service(&quot;personService&quot;)\npublic class PersonServiceImpl implements PersonService {\n\n    @Autowired\n    private PersonDao personDao\n    \n    @Override\n    @Transactional(readOnly=false, propagation=Propagation.REQUIRES_NEW)\n    public void save(Person person){\n        personDao.save(person);\n    }\n    \n    @Override\n    public Person findPerson(BigDecimal id){\n        return personDao.findPerson(id);\n    }\n\n    ...\n}\n</code></pre>\n<p>DAO / Repository</p>\n<pre><code>import ...\n\n@Repository(&quot;personRepository&quot;)\npublic class PersonDaoImpl implements PersonDao {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    @Override\n    public void save(Person person){\n        Session session = sessionFactory.getCurrentSession();\n        session.saveOrUpdate(person);\n    }\n    \n    @Override\n    public Person findPerson(BigDecimal id){\n        Session session = sessionFactory.getCurrentSession();\n        return session.get(Person.class, id);\n    }\n    \n    ...\n}\n</code></pre>\n<p>POJO / Entity</p>\n<pre><code>import ...\n\n@Entity\n@Table(name=&quot;PERSON&quot;\n)\n@Getter\n@Setter\npublic class Person {\n\n    @Id\n    @SequenceGenerator(name=&quot;PersonSeq&quot;, sequenceName=&quot;PERSON_SEQ&quot;)\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;PersonSeq&quot;)\n    @Column(name=&quot;PERSON_ID&quot;, nullable=false, precision=22, scale=0)\n    private BigDecimal id;\n\n   ...\n\n}\n</code></pre>\n<p>However I've noticed that on rare occasions (hard to reproduce) we get the hibernate exception for an &quot;Illegal attempt to associate a collection with two open sessions&quot;. I believe this is happening because we have entities with collections (e.g. ManyToOne mappings) that we retrieve from the db, modify, and later try to call saveOrUpdate but the session we retrieved them from is not the same one as the session we are trying to save them to. Which in the above architecture it seems like we find entities with one session but save them in another even though we make the same call to getCurrentSession.</p>\n<p>Is this the best pattern to use with these libraries or is another recommended? What could I do to avoid the hibernate exception?</p>\n<p>Would switching to using JPA EntityManager be better than just plain hibernate?</p>\n"},{"tags":["java","parameter-passing"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675168653,"post_id":75297198,"comment_id":132866625,"body_markdown":"Your &#39;adjustDistance&#39; method updates the member variables of the TwoFlows object.  It has no effect on the similarly-named local variables of main(). Is that what you were expecting?","body":"Your &#39;adjustDistance&#39; method updates the member variables of the TwoFlows object.  It has no effect on the similarly-named local variables of main(). Is that what you were expecting?"},{"owner":{"account_id":19032648,"reputation":1,"user_id":13894409,"display_name":"Chelsea"},"score":0,"creation_date":1675168874,"post_id":75297198,"comment_id":132866689,"body_markdown":"Yes, I think I understand that. The main() method is to change the f1, f2, and f3 variable values using the TwoFlows() and adjustDistance() methods. I&#39;m trying to pass them in a TwoFlows and then adjust the distance, to update the values.","body":"Yes, I think I understand that. The main() method is to change the f1, f2, and f3 variable values using the TwoFlows() and adjustDistance() methods. I&#39;m trying to pass them in a TwoFlows and then adjust the distance, to update the values."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1675173870,"post_id":75297198,"comment_id":132868426,"body_markdown":"The fields of `TwoFlows` stay in `TwoFlows`. To print the results, do something like this: `System.out.println(formatF1F2F3(f1,twoFa.flow1,twoFa.flow2));`, etc...","body":"The fields of <code>TwoFlows</code> stay in <code>TwoFlows</code>. To print the results, do something like this: <code>System.out.println(formatF1F2F3(f1,twoFa.flow1,twoFa.flow2))&zwnj;&#8203;;</code>, etc..."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675207292,"post_id":75297198,"comment_id":132878401,"body_markdown":"*Yes, I think I understand that.*  Let me rephrase - you set main&#39;s f1,f2,f3 once at initialization and **there is no code to change their values** and therefore every time you process those same values with formatf1f2f3, you must and will get the same result.","body":"<i>Yes, I think I understand that.</i>  Let me rephrase - you set main&#39;s f1,f2,f3 once at initialization and <b>there is no code to change their values</b> and therefore every time you process those same values with formatf1f2f3, you must and will get the same result."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675170100,"creation_date":1675169350,"answer_id":75297418,"question_id":75297198,"body_markdown":"&gt; I&#39;m struggling to fully understand copy-in / copy-out passing in Java.\r\n\r\nI didn&#39;t know the terms copy-in and copy-out but I assume they refer to &quot;pass-by-value&quot;. This basically means the value of a parameter or return type is copied, i.e. if you change a variable later this isn&#39;t reflected on the other side. \r\n\r\nConsider the following: \r\n\r\n    int someMethod(int param) { \r\n      try {\r\n\t\t\tparam++;\r\n\t\t\treturn param;\r\n\t\t} finally {\r\n\t\t\tparam--;\r\n\t\t\tparam--;\r\n\t\t}\r\n    }\r\n\r\n    void test() {\r\n      int a = 2; \r\n      int b = someMethod(a);\r\n    }\r\n\r\nHere `param` is a copy of `a` which means the increment only affects `param` but not `a`. When you return `param` the value is copied to `b` so the decrement is only applied to `param`. This means `b` will have the value 3 while `a` will keep its value 2 even though `param` is incremented to 3 first and decremented to 1 after defining the return value. - In your example this means the values of `f1`, `f2` and `f3` are _copied_ to `TwoFlows(...)` but the variables themselves are never changed.\r\n\r\nNote that if your variables and parameters are object references the values that are copied are the references(think of them as the object&#39;s address) and not the objects themselves.\r\n\r\nSo let&#39;s change the example to use `AtomicInteger` which let&#39;s us change the value of the object:\r\n\r\n    AtomicInteger someMethod(AtomicInteger param) {\r\n\t\ttry {\r\n\t\t\tparam.incrementAndGet();\r\n\t\t\treturn param;\r\n\t\t} finally {\r\n            //decrement twice after &quot;copying&quot; the return value\r\n\t\t\tparam.decrementAndGet();\r\n            param.decrementAndGet();\r\n\t\t}\r\n\t}\r\n\r\n    void test() {\r\n      AtomicInteger a = new AtomicInteger(2);\r\n      AtomicInteger b = someMethod(a);\r\n    }\r\n\r\nNow `param` will be a copy of the reference `a` and `b` will be a copy of the reference `param`. In the end, all 3 references &quot;point&quot; to the _same_ instance of `AtomicInteger`. Thus, the increment and decrement operations affect them all which means they all return the same value - 1.\r\n\r\n*So how do I fix my code?*\r\n\r\nTo fix your code you&#39;d need to get the values of `flow1` and `flow2`, e.g. like this:\r\n\r\n    TwoFlows twoFa = new TwoFlows(f2, f3);\r\n    twoFa.adjustDistance();\r\n    System.out.println(formatF1F2F3(f1,twoFa.flow1,twoFa.flow2));\r\n","title":"Using copy-in / copy-out passing in Java","body":"<blockquote>\n<p>I'm struggling to fully understand copy-in / copy-out passing in Java.</p>\n</blockquote>\n<p>I didn't know the terms copy-in and copy-out but I assume they refer to &quot;pass-by-value&quot;. This basically means the value of a parameter or return type is copied, i.e. if you change a variable later this isn't reflected on the other side.</p>\n<p>Consider the following:</p>\n<pre><code>int someMethod(int param) { \n  try {\n        param++;\n        return param;\n    } finally {\n        param--;\n        param--;\n    }\n}\n\nvoid test() {\n  int a = 2; \n  int b = someMethod(a);\n}\n</code></pre>\n<p>Here <code>param</code> is a copy of <code>a</code> which means the increment only affects <code>param</code> but not <code>a</code>. When you return <code>param</code> the value is copied to <code>b</code> so the decrement is only applied to <code>param</code>. This means <code>b</code> will have the value 3 while <code>a</code> will keep its value 2 even though <code>param</code> is incremented to 3 first and decremented to 1 after defining the return value. - In your example this means the values of <code>f1</code>, <code>f2</code> and <code>f3</code> are <em>copied</em> to <code>TwoFlows(...)</code> but the variables themselves are never changed.</p>\n<p>Note that if your variables and parameters are object references the values that are copied are the references(think of them as the object's address) and not the objects themselves.</p>\n<p>So let's change the example to use <code>AtomicInteger</code> which let's us change the value of the object:</p>\n<pre><code>AtomicInteger someMethod(AtomicInteger param) {\n    try {\n        param.incrementAndGet();\n        return param;\n    } finally {\n        //decrement twice after &quot;copying&quot; the return value\n        param.decrementAndGet();\n        param.decrementAndGet();\n    }\n}\n\nvoid test() {\n  AtomicInteger a = new AtomicInteger(2);\n  AtomicInteger b = someMethod(a);\n}\n</code></pre>\n<p>Now <code>param</code> will be a copy of the reference <code>a</code> and <code>b</code> will be a copy of the reference <code>param</code>. In the end, all 3 references &quot;point&quot; to the <em>same</em> instance of <code>AtomicInteger</code>. Thus, the increment and decrement operations affect them all which means they all return the same value - 1.</p>\n<p><em>So how do I fix my code?</em></p>\n<p>To fix your code you'd need to get the values of <code>flow1</code> and <code>flow2</code>, e.g. like this:</p>\n<pre><code>TwoFlows twoFa = new TwoFlows(f2, f3);\ntwoFa.adjustDistance();\nSystem.out.println(formatF1F2F3(f1,twoFa.flow1,twoFa.flow2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4890517,"reputation":85,"user_id":3941789,"display_name":"Evangelos Englezakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675173287,"creation_date":1675173287,"answer_id":75298222,"question_id":75297198,"body_markdown":"Float variables are primitive Java types so when you pass them in a method or constructor, they are passed by value, not by reference. This means that whatever changes happen to the variables f1, f2, f3 inside your static class and method `adjustDistance()`, they are only &#39;visible&#39; inside that class. When you try to print the values in your main method, you are just printing the original float values which have not been changed.\r\nIf you want print the changed values, I propose the following:\r\n\r\n    System.out.println(formatF1F2F3(f1,f2,f3));\r\n    System.out.println(formatF1F2F3(f1,twoFa.flow1,twoFa.flow2));\r\n    System.out.println(formatF1F2F3(twoFb.flow1,twoFb.flow2,f3));\t  \r\n    System.out.println(formatF1F2F3(f1,twoFc.flow1,twoFc.flow2));","title":"Using copy-in / copy-out passing in Java","body":"<p>Float variables are primitive Java types so when you pass them in a method or constructor, they are passed by value, not by reference. This means that whatever changes happen to the variables f1, f2, f3 inside your static class and method <code>adjustDistance()</code>, they are only 'visible' inside that class. When you try to print the values in your main method, you are just printing the original float values which have not been changed.\nIf you want print the changed values, I propose the following:</p>\n<pre><code>System.out.println(formatF1F2F3(f1,f2,f3));\nSystem.out.println(formatF1F2F3(f1,twoFa.flow1,twoFa.flow2));\nSystem.out.println(formatF1F2F3(twoFb.flow1,twoFb.flow2,f3));     \nSystem.out.println(formatF1F2F3(f1,twoFc.flow1,twoFc.flow2));\n</code></pre>\n"}],"owner":{"account_id":19032648,"reputation":1,"user_id":13894409,"display_name":"Chelsea"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675175927,"accepted_answer_id":75297418,"answer_count":2,"score":-2,"last_activity_date":1675260841,"creation_date":1675168352,"question_id":75297198,"body_markdown":"I&#39;m struggling to fully understand copy-in / copy-out passing in Java. I&#39;m not asking if Java is pass-by-value or pass-by-reference, I&#39;m just having trouble understanding it in this scenario.\r\n\r\nI need to update the floats (f1, f2, and f3) in the main method, adjusting the distance using the adjustDistance() method. This is for a homework quiz, so what I can/can&#39;t change is limited. Looking for a bit of info as to what I need to do and why.\r\n\r\nThis is the code:\r\n\r\n    public class Flow {\r\n    public static String formatF1F2F3(float f1, float f2, float f3)\r\n    {\r\n        return\r\n          &quot;f1 = &quot; + f1 + &quot;, f2 = &quot; + f2 + &quot;, f3 = &quot; + f3;\r\n    }\r\n\r\n    //      The new record type is needed to\r\n    //      so that the two results\r\n    //      of adjustDistance can be returned together.\r\n    //\r\n    //      adjustDistance is a method inside this\r\n    //      class so that parameter passing is simpler\r\n    private static class TwoFlows\r\n    {\r\n        public float flow1;\r\n        public float flow2;\r\n\r\n        public TwoFlows(float flow1, float flow2)\r\n        {\r\n            this.flow1 = flow1;\r\n            this.flow2 = flow2;\r\n        }\r\n\r\n        public void adjustDistance()\r\n        {\r\n            if ( Math.abs(flow1 - flow2) &lt; 10 )\r\n            {\r\n                if(flow1 &gt; flow2)\r\n                {\r\n                    flow2 = flow2 / 3;\r\n                    flow1 = flow1 + flow2;\r\n                    flow1 = flow1 + flow2;\r\n                }\r\n                else\r\n                {\r\n                    flow1 = flow1 / 3;\r\n                    flow2 = flow2 + flow1;\r\n                    flow2 = flow2 + flow1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        float f1, f2, f3;\r\n        f1 = 3; f2 = 3; f3 = 4;\r\n        \r\n        System.out.println(formatF1F2F3(f1,f2,f3));\r\n\r\n        //    TASK:\r\n        //    Write code that it simulates *copy-in copy-out* passing\r\n        //    of formal parameters flow1 and flow2 to method adjustDistance.\r\n        //    only alter code below this comment\r\n\r\n        // my attempt:\r\n\r\n        TwoFlows twoFa = new TwoFlows(f2, f3);\r\n        twoFa.adjustDistance();\r\n        System.out.println(formatF1F2F3(f1,f2,f3));\r\n        TwoFlows twoFb = new TwoFlows(f1,f2);\r\n        twoFb.adjustDistance();\r\n        System.out.println(formatF1F2F3(f1,f2,f3));\r\n        TwoFlows twoFc = new TwoFlows(f3,f3);\r\n        twoFc.adjustDistance();\r\n        System.out.println(formatF1F2F3(f1,f2,f3));\r\n    } }\r\n\r\n\r\nOUTPUT:\r\n\r\nf1 = 3.0, f2 = 3.0, f3 = 4.0\r\n\r\nf1 = 3.0, f2 = 3.0, f3 = 4.0\r\n\r\nf1 = 3.0, f2 = 3.0, f3 = 4.0\r\n\r\nf1 = 3.0, f2 = 3.0, f3 = 4.0\r\n\r\n\r\n\r\nIf I don&#39;t initialise new TwoFlows() each time, I get an error. I don&#39;t think the flow1 and flow2 update as I&#39;m expecting them to.\r\n\r\nThe expected output I believe is:\r\n\r\nf1 = 3.00, f2 = 3.00, f3 = 4.00\r\n\r\nf1 = 3.00, f2 = 1.00, f3 = 6.00\r\n\r\nf1 = 3.67, f2 = 0.33, f3 = 6.00\r\n\r\nf1 = 3.67, f2 = 0.33, f3 = 10.00","title":"Using copy-in / copy-out passing in Java","body":"<p>I'm struggling to fully understand copy-in / copy-out passing in Java. I'm not asking if Java is pass-by-value or pass-by-reference, I'm just having trouble understanding it in this scenario.</p>\n<p>I need to update the floats (f1, f2, and f3) in the main method, adjusting the distance using the adjustDistance() method. This is for a homework quiz, so what I can/can't change is limited. Looking for a bit of info as to what I need to do and why.</p>\n<p>This is the code:</p>\n<pre><code>public class Flow {\npublic static String formatF1F2F3(float f1, float f2, float f3)\n{\n    return\n      &quot;f1 = &quot; + f1 + &quot;, f2 = &quot; + f2 + &quot;, f3 = &quot; + f3;\n}\n\n//      The new record type is needed to\n//      so that the two results\n//      of adjustDistance can be returned together.\n//\n//      adjustDistance is a method inside this\n//      class so that parameter passing is simpler\nprivate static class TwoFlows\n{\n    public float flow1;\n    public float flow2;\n\n    public TwoFlows(float flow1, float flow2)\n    {\n        this.flow1 = flow1;\n        this.flow2 = flow2;\n    }\n\n    public void adjustDistance()\n    {\n        if ( Math.abs(flow1 - flow2) &lt; 10 )\n        {\n            if(flow1 &gt; flow2)\n            {\n                flow2 = flow2 / 3;\n                flow1 = flow1 + flow2;\n                flow1 = flow1 + flow2;\n            }\n            else\n            {\n                flow1 = flow1 / 3;\n                flow2 = flow2 + flow1;\n                flow2 = flow2 + flow1;\n            }\n        }\n    }\n}\n\npublic static void main(String[] args)\n{\n    float f1, f2, f3;\n    f1 = 3; f2 = 3; f3 = 4;\n    \n    System.out.println(formatF1F2F3(f1,f2,f3));\n\n    //    TASK:\n    //    Write code that it simulates *copy-in copy-out* passing\n    //    of formal parameters flow1 and flow2 to method adjustDistance.\n    //    only alter code below this comment\n\n    // my attempt:\n\n    TwoFlows twoFa = new TwoFlows(f2, f3);\n    twoFa.adjustDistance();\n    System.out.println(formatF1F2F3(f1,f2,f3));\n    TwoFlows twoFb = new TwoFlows(f1,f2);\n    twoFb.adjustDistance();\n    System.out.println(formatF1F2F3(f1,f2,f3));\n    TwoFlows twoFc = new TwoFlows(f3,f3);\n    twoFc.adjustDistance();\n    System.out.println(formatF1F2F3(f1,f2,f3));\n} }\n</code></pre>\n<p>OUTPUT:</p>\n<p>f1 = 3.0, f2 = 3.0, f3 = 4.0</p>\n<p>f1 = 3.0, f2 = 3.0, f3 = 4.0</p>\n<p>f1 = 3.0, f2 = 3.0, f3 = 4.0</p>\n<p>f1 = 3.0, f2 = 3.0, f3 = 4.0</p>\n<p>If I don't initialise new TwoFlows() each time, I get an error. I don't think the flow1 and flow2 update as I'm expecting them to.</p>\n<p>The expected output I believe is:</p>\n<p>f1 = 3.00, f2 = 3.00, f3 = 4.00</p>\n<p>f1 = 3.00, f2 = 1.00, f3 = 6.00</p>\n<p>f1 = 3.67, f2 = 0.33, f3 = 6.00</p>\n<p>f1 = 3.67, f2 = 0.33, f3 = 10.00</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1675257270,"post_id":75309495,"comment_id":132888908,"body_markdown":"This should be achievable via GraphQL with fields duplicated across the domain model.","body":"This should be achievable via GraphQL with fields duplicated across the domain model."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1675257820,"post_id":75309495,"comment_id":132889092,"body_markdown":"How are your users expected to specify wanted layout?","body":"How are your users expected to specify wanted layout?"}],"owner":{"account_id":27673260,"reputation":1,"user_id":21123615,"display_name":"Sandeep Matolia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675260661,"creation_date":1675250772,"question_id":75309495,"body_markdown":"Do we have any tools or technologies where I can pass a layout as input and get layout in different format based on my requirement. I have one REST end point and it is being used by 2 different user and in future there will be multiple users.\r\n\r\nFirst user wants response in below format.\r\nlayout1:\r\n```\r\n{\r\n  user2: &quot;user1&quot;,\t\r\n  eligibileCount:&quot;5&quot;,\r\n  business:&quot;FI&quot;,\r\n  metalLevel:&quot;Gold&quot;,\r\n  productType:&quot;Balanced&quot;,\r\n  planCode:&quot;GDFT&quot;,\r\n  planType:&quot;INS&quot;,\r\n  nationalAccess:&quot;No&quot;,\r\n  metalTier:&quot;Gold&quot;,\r\n  licenseType:&quot;INS&quot;\r\n  pcpRequired:&quot;Y&quot;,\r\n  packageInd:&quot;K8472&quot;\r\n}\r\n```\r\n\r\nSecond user wants response in below format. This layout will be complex but I am using a simple example.\r\nlayout2:\r\n```\r\n{\r\n  user2: &quot;user2&quot;,\r\n  eligibileCount: &quot;5&quot;,\r\n  business: &quot;FI&quot;,\r\n  productType: &quot;Balanced&quot;,\r\n  nationalAccess: &quot;No&quot;,\r\n  licenseType: &quot;INS&quot;\r\n  pcpRequired: &quot;Y&quot;,\r\n  packageIndicator: &quot;test&quot;\r\n  metalInfo: {\r\n    level: &quot;Gold&quot;,\r\n    tier: &quot;Gold&quot;\r\n  }\r\n  planInfo: {\r\n    code: &quot;sdkj&quot;,\r\n    type: &quot;cv&quot;\r\n  }\r\n}\r\n```\r\n\r\nI am able to resolve this issue using java and spring boot but it required coding effort once a new user comes and wants a new layout.","title":"How to convert one json layout to different layout","body":"<p>Do we have any tools or technologies where I can pass a layout as input and get layout in different format based on my requirement. I have one REST end point and it is being used by 2 different user and in future there will be multiple users.</p>\n<p>First user wants response in below format.\nlayout1:</p>\n<pre><code>{\n  user2: &quot;user1&quot;,   \n  eligibileCount:&quot;5&quot;,\n  business:&quot;FI&quot;,\n  metalLevel:&quot;Gold&quot;,\n  productType:&quot;Balanced&quot;,\n  planCode:&quot;GDFT&quot;,\n  planType:&quot;INS&quot;,\n  nationalAccess:&quot;No&quot;,\n  metalTier:&quot;Gold&quot;,\n  licenseType:&quot;INS&quot;\n  pcpRequired:&quot;Y&quot;,\n  packageInd:&quot;K8472&quot;\n}\n</code></pre>\n<p>Second user wants response in below format. This layout will be complex but I am using a simple example.\nlayout2:</p>\n<pre><code>{\n  user2: &quot;user2&quot;,\n  eligibileCount: &quot;5&quot;,\n  business: &quot;FI&quot;,\n  productType: &quot;Balanced&quot;,\n  nationalAccess: &quot;No&quot;,\n  licenseType: &quot;INS&quot;\n  pcpRequired: &quot;Y&quot;,\n  packageIndicator: &quot;test&quot;\n  metalInfo: {\n    level: &quot;Gold&quot;,\n    tier: &quot;Gold&quot;\n  }\n  planInfo: {\n    code: &quot;sdkj&quot;,\n    type: &quot;cv&quot;\n  }\n}\n</code></pre>\n<p>I am able to resolve this issue using java and spring boot but it required coding effort once a new user comes and wants a new layout.</p>\n"},{"tags":["java","unit-testing","groovy","mocking","soapui"],"owner":{"account_id":27675394,"reputation":11,"user_id":21125327,"display_name":"Luiz Henrique Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675260423,"creation_date":1675254665,"question_id":75310227,"body_markdown":"I created a mock service in SoapUI, with the following code:\r\n\r\n```\r\ndef requestMethod = mockRequest.getMethod()\r\nlog.info &quot;mockRequest.method: &quot; + requestMethod\r\n\r\nif (requestMethod.toString() != &quot;GET&quot;)\r\n{\r\nlog.info &quot;dispatch:Status 405&quot;\r\nreturn &quot;405 - Method Not Alowed&quot;\r\n}\r\n\r\ndef acceptEncodingHeaderList = mockRequest.getRequestHeaders().get(&quot;Accept-Encoding&quot;)\r\nlog.info &quot;AcceptEncoding Header List: &quot; + acceptEncodingHeaderList\r\n\r\nif(!acceptEncodingHeaderList.contains(&quot;gzip, deflate, br&quot;) ) {\r\nlog.info &quot;dispatch:Status 406&quot;\r\nreturn &quot;406 - Not Acceptable&quot;\r\n}\r\n\r\ndef data = setData()\r\nlog.info &quot;data:&quot; + data\r\n\r\nif(!data.contains(&quot;bscs&quot;) )\r\n{\r\nlog.info &quot;dispatch:Status 400&quot;\r\nreturn &quot;400 -Bad Request&quot;\r\n}\r\nlog.info &quot;dispatch:ok &quot;\r\nreturn &quot;200 - OK&quot;\r\n\r\ndef setData() {\r\ndef request = mockRequest.getHttpRequest()\r\ndef buffer = new StringWriter()\r\ndef reader = new LineNumberReader(request.getReader())\r\ndef line\r\nwhile ((line = reader.readLine()) != null) {buffer.append(line)\r\nbuffer.append(System.getProperty(&quot;line.separator&quot;))}\r\ndef data = buffer.toString()\r\nreturn data\r\n}\r\n```\r\n\r\nThe method `reader.readLine()` is returning a null value on the requests after the first one. The other variables and methods in `setData()` are returning values normally.\r\n\r\nI tried using `read(char[] cbuf, int off, int len)` instead of `readLine()` and `BufferedReader` in `LineNumberReader` place.","title":"Mock Service with SoapUI","body":"<p>I created a mock service in SoapUI, with the following code:</p>\n<pre><code>def requestMethod = mockRequest.getMethod()\nlog.info &quot;mockRequest.method: &quot; + requestMethod\n\nif (requestMethod.toString() != &quot;GET&quot;)\n{\nlog.info &quot;dispatch:Status 405&quot;\nreturn &quot;405 - Method Not Alowed&quot;\n}\n\ndef acceptEncodingHeaderList = mockRequest.getRequestHeaders().get(&quot;Accept-Encoding&quot;)\nlog.info &quot;AcceptEncoding Header List: &quot; + acceptEncodingHeaderList\n\nif(!acceptEncodingHeaderList.contains(&quot;gzip, deflate, br&quot;) ) {\nlog.info &quot;dispatch:Status 406&quot;\nreturn &quot;406 - Not Acceptable&quot;\n}\n\ndef data = setData()\nlog.info &quot;data:&quot; + data\n\nif(!data.contains(&quot;bscs&quot;) )\n{\nlog.info &quot;dispatch:Status 400&quot;\nreturn &quot;400 -Bad Request&quot;\n}\nlog.info &quot;dispatch:ok &quot;\nreturn &quot;200 - OK&quot;\n\ndef setData() {\ndef request = mockRequest.getHttpRequest()\ndef buffer = new StringWriter()\ndef reader = new LineNumberReader(request.getReader())\ndef line\nwhile ((line = reader.readLine()) != null) {buffer.append(line)\nbuffer.append(System.getProperty(&quot;line.separator&quot;))}\ndef data = buffer.toString()\nreturn data\n}\n</code></pre>\n<p>The method <code>reader.readLine()</code> is returning a null value on the requests after the first one. The other variables and methods in <code>setData()</code> are returning values normally.</p>\n<p>I tried using <code>read(char[] cbuf, int off, int len)</code> instead of <code>readLine()</code> and <code>BufferedReader</code> in <code>LineNumberReader</code> place.</p>\n"},{"tags":["java","servlets","https","roles","user-roles"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1450214631,"post_id":34185313,"comment_id":56341188,"body_markdown":"Why? You have trouble spelling your role names consistently?","body":"Why? You have trouble spelling your role names consistently?"},{"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"score":0,"creation_date":1450286481,"post_id":34185313,"comment_id":56378170,"body_markdown":"There are multiple versions of a third party authentication service that I am using in different environments, one of which lowercases role names, while the other preserves case.","body":"There are multiple versions of a third party authentication service that I am using in different environments, one of which lowercases role names, while the other preserves case."}],"answers":[{"tags":[],"owner":{"account_id":1632105,"reputation":6968,"user_id":1506440,"display_name":"MattR"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1675260182,"creation_date":1450214126,"answer_id":34299527,"question_id":34185313,"body_markdown":"You could implement a filter that wraps requests using a `HttpServletRequestWrapper` - implement your `HttpServletRequestWrapper` to override the `isUserInRole()` method to make it case-insensitive (eg, configure all roles in upper-case, test role params by converting to upper-case).\r\n\r\nA quick search will find plenty of `HTTPServletRequestWrapper` examples...","title":"Case insensitive check for role in HttpServletRequest","body":"<p>You could implement a filter that wraps requests using a <code>HttpServletRequestWrapper</code> - implement your <code>HttpServletRequestWrapper</code> to override the <code>isUserInRole()</code> method to make it case-insensitive (eg, configure all roles in upper-case, test role params by converting to upper-case).</p>\n<p>A quick search will find plenty of <code>HTTPServletRequestWrapper</code> examples...</p>\n"},{"tags":[],"owner":{"account_id":4163517,"reputation":2571,"user_id":3413036,"display_name":"isak gilbert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450783507,"creation_date":1450783507,"answer_id":34414825,"question_id":34185313,"body_markdown":"http://docs.oracle.com/javaee/6/tutorial/doc/gjiie.html\r\n\r\nJust map multiple role names to the admin role:\r\n\r\n    &lt;servlet&gt;\r\n        &lt;security-role-ref&gt;\r\n            &lt;role-name&gt;admin&lt;/role-name&gt;\r\n            &lt;role-link&gt;admin&lt;/role-link&gt;\r\n        &lt;/security-role-ref&gt;\r\n        &lt;security-role-ref&gt;\r\n            &lt;role-name&gt;Admin&lt;/role-name&gt;\r\n            &lt;role-link&gt;admin&lt;/role-link&gt;\r\n        &lt;/security-role-ref&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;security-role&gt;\r\n        &lt;role-name&gt;admin&lt;/role-name&gt;\r\n    &lt;/security-role&gt;","title":"Case insensitive check for role in HttpServletRequest","body":"<p><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gjiie.html\" rel=\"nofollow\">http://docs.oracle.com/javaee/6/tutorial/doc/gjiie.html</a></p>\n\n<p>Just map multiple role names to the admin role:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;security-role-ref&gt;\n        &lt;role-name&gt;admin&lt;/role-name&gt;\n        &lt;role-link&gt;admin&lt;/role-link&gt;\n    &lt;/security-role-ref&gt;\n    &lt;security-role-ref&gt;\n        &lt;role-name&gt;Admin&lt;/role-name&gt;\n        &lt;role-link&gt;admin&lt;/role-link&gt;\n    &lt;/security-role-ref&gt;\n&lt;/servlet&gt;\n\n&lt;security-role&gt;\n    &lt;role-name&gt;admin&lt;/role-name&gt;\n&lt;/security-role&gt;\n</code></pre>\n"}],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":34299527,"answer_count":2,"score":10,"last_activity_date":1675260182,"creation_date":1449682492,"question_id":34185313,"body_markdown":"The `javax.servlet.http.HttpServletRequest` class has a method called `isUserInRole`. I use this to check if a user has, for example, the `admin` role. However, that method is case sensitive. So, if the role in the request was `Admin` or `ADMIN`, then `isUserInRole(&quot;admin&quot;)` would be false. I use the `isUserInRole` method in a number of places accross multiple applications to check for a number of different roles. \r\n\r\nIs there a way to achieve the `isUserInRole` functionality case-insensitively that does not require checking each different possible case combination with `isUserInRole`?","title":"Case insensitive check for role in HttpServletRequest","body":"<p>The <code>javax.servlet.http.HttpServletRequest</code> class has a method called <code>isUserInRole</code>. I use this to check if a user has, for example, the <code>admin</code> role. However, that method is case sensitive. So, if the role in the request was <code>Admin</code> or <code>ADMIN</code>, then <code>isUserInRole(\"admin\")</code> would be false. I use the <code>isUserInRole</code> method in a number of places accross multiple applications to check for a number of different roles. </p>\n\n<p>Is there a way to achieve the <code>isUserInRole</code> functionality case-insensitively that does not require checking each different possible case combination with <code>isUserInRole</code>?</p>\n"},{"tags":["java","mapstruct","mapper"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1662982539,"post_id":73688367,"comment_id":130124403,"body_markdown":"And what is it you don&#39;t understand? Declare a method that maps from a `String` to a `UUID`.","body":"And what is it you don&#39;t understand? Declare a method that maps from a <code>String</code> to a <code>UUID</code>."},{"owner":{"account_id":10146437,"reputation":471,"user_id":7494459,"display_name":"Saiprashanth"},"score":0,"creation_date":1662982820,"post_id":73688367,"comment_id":130124521,"body_markdown":"@M.Deinum yes, but how. Even if i declare it with @Named() it is not working.","body":"@M.Deinum yes, but how. Even if i declare it with @Named() it is not working."},{"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"score":2,"creation_date":1662982875,"post_id":73688367,"comment_id":130124543,"body_markdown":"I think the error message itself is pretty self-explanatory. Did you try to go through MapStruct [documentation](https://mapstruct.org/documentation/stable/reference/html/) or some [articles](https://www.baeldung.com/mapstruct-custom-mapper)","body":"I think the error message itself is pretty self-explanatory. Did you try to go through MapStruct <a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"nofollow noreferrer\">documentation</a> or some <a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">articles</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1662983074,"post_id":73688367,"comment_id":130124634,"body_markdown":"You already have a mapper (class anotated with `@Mapper`) just add that method in there.","body":"You already have a mapper (class anotated with <code>@Mapper</code>) just add that method in there."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662983403,"post_id":73688367,"comment_id":130124768,"body_markdown":"Which version of MapStruct are you using, recent versions should support this out-of-the-box (IIRC).","body":"Which version of MapStruct are you using, recent versions should support this out-of-the-box (IIRC)."},{"owner":{"account_id":10146437,"reputation":471,"user_id":7494459,"display_name":"Saiprashanth"},"score":0,"creation_date":1662986007,"post_id":73688367,"comment_id":130125654,"body_markdown":"I am using 1.5.2 version","body":"I am using 1.5.2 version"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662986317,"post_id":73688367,"comment_id":130125754,"body_markdown":"Are you sure that is the version you are using? As it was added in 1.5.0 (one of the miltestones).","body":"Are you sure that is the version you are using? As it was added in 1.5.0 (one of the miltestones)."}],"answers":[{"tags":[],"owner":{"account_id":10146437,"reputation":471,"user_id":7494459,"display_name":"Saiprashanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662986177,"creation_date":1662986177,"answer_id":73689372,"question_id":73688367,"body_markdown":"I tried this and it worked for me.\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface SourceToTargetMapper {\r\n\r\n    SourceToTargetMapper INSTANCE = Mappers.getMapper( SourceToTargetMapper.class );\r\n\r\n    @Mapping(target=&quot;buyerInfo.id&quot;, expression = &quot;java(mapToBuyerInfoId(buyerMetaData))&quot;)\r\n    Order sourceOrderList(SourceOrder.Order sourceOrder);\r\n\r\n    default UUID mapToBuyerInfoId(BuyerMetaData buyerInfo){\r\n        return UUID.fromString(buyerInfo.getPrimaryMembershipID());\r\n    }\r\n}\r\n```","title":"How to map the source object of type String to target UUID in MapStruct?","body":"<p>I tried this and it worked for me.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface SourceToTargetMapper {\n\n    SourceToTargetMapper INSTANCE = Mappers.getMapper( SourceToTargetMapper.class );\n\n    @Mapping(target=&quot;buyerInfo.id&quot;, expression = &quot;java(mapToBuyerInfoId(buyerMetaData))&quot;)\n    Order sourceOrderList(SourceOrder.Order sourceOrder);\n\n    default UUID mapToBuyerInfoId(BuyerMetaData buyerInfo){\n        return UUID.fromString(buyerInfo.getPrimaryMembershipID());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10146437,"reputation":471,"user_id":7494459,"display_name":"Saiprashanth"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675260177,"creation_date":1662981115,"question_id":73688367,"body_markdown":"Here is a code snippet:\r\n\r\n**Source:**\r\n\r\n```\r\npublic class BuyerInfo {\r\n   String membershipID;\r\n}\r\n```\r\n**Target:**\r\n\r\n```\r\npublic class BuyerInfo {\r\n   UUID membershipID;\r\n}\r\n```\r\n**Error in console:**\r\n\r\n\r\nCan&#39;t map property &quot;String buyerInfo.primaryMembershipID&quot; to &quot;UUID buyerInfo.id&quot;. Consider to declare/implement a mapping method: &quot;UUID map(String value)&quot;.\r\n","title":"How to map the source object of type String to target UUID in MapStruct?","body":"<p>Here is a code snippet:</p>\n<p><strong>Source:</strong></p>\n<pre><code>public class BuyerInfo {\n   String membershipID;\n}\n</code></pre>\n<p><strong>Target:</strong></p>\n<pre><code>public class BuyerInfo {\n   UUID membershipID;\n}\n</code></pre>\n<p><strong>Error in console:</strong></p>\n<p>Can't map property &quot;String buyerInfo.primaryMembershipID&quot; to &quot;UUID buyerInfo.id&quot;. Consider to declare/implement a mapping method: &quot;UUID map(String value)&quot;.</p>\n"},{"tags":["java","spring-boot","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675260118,"creation_date":1675260118,"answer_id":75311323,"question_id":75307260,"body_markdown":"The Inbound Channel Adapter is a thing by itself and it does its work via constant polling cycle. It just does not fit to your requirement. \r\n\r\nSince you say you&#39;d like to do something via REST call, then it is an event-driven by end-user action. Therefore you need to look into a `&lt;int-jdbc:outbound-gateway&gt;` instead which is going to receive a message via its `input-channel` and do some DB action and produce a reply for you. \r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway.\r\n\r\nIn addition you may look into a `@MessagingGateway` contract to not deal with channels in your REST controller: https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway","title":"How to invoke Spring channel adapter from rest api?","body":"<p>The Inbound Channel Adapter is a thing by itself and it does its work via constant polling cycle. It just does not fit to your requirement.</p>\n<p>Since you say you'd like to do something via REST call, then it is an event-driven by end-user action. Therefore you need to look into a <code>&lt;int-jdbc:outbound-gateway&gt;</code> instead which is going to receive a message via its <code>input-channel</code> and do some DB action and produce a reply for you.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway</a>.</p>\n<p>In addition you may look into a <code>@MessagingGateway</code> contract to not deal with channels in your REST controller: <a href=\"https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway</a></p>\n"}],"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675260118,"creation_date":1675239534,"question_id":75307260,"body_markdown":"I am new to Spring integration. I have a JDBC inbound channel adapter as below. When the spring boot application starts below adapater is invoked and starts reading from DB. But i want below to be invoked only after REST API is called\r\n\r\n    &lt;int-jdbc:inbound-channel-adapter query=&quot;select * from accounts&quot; data-source=&quot;dataSource&quot; max-rows-per-poll=&quot;100&quot; row-mapper=&quot;AccountsRowMapper&quot; channel=&quot;Accountchannel&quot;&gt;\r\n    \r\n    and below rest api as below\r\n    \r\n    @GetMapping(value = &quot;/generateFile&quot;)  \r\n    public void generateFile(String region)   \r\n    {  \r\n    // invoked above adapater only after this API is called\r\n    }  \r\n\r\nI am unable to understand how to start reading from DB only after generateFile API is invoked\r\nI am not sure how to \r\n","title":"How to invoke Spring channel adapter from rest api?","body":"<p>I am new to Spring integration. I have a JDBC inbound channel adapter as below. When the spring boot application starts below adapater is invoked and starts reading from DB. But i want below to be invoked only after REST API is called</p>\n<pre><code>&lt;int-jdbc:inbound-channel-adapter query=&quot;select * from accounts&quot; data-source=&quot;dataSource&quot; max-rows-per-poll=&quot;100&quot; row-mapper=&quot;AccountsRowMapper&quot; channel=&quot;Accountchannel&quot;&gt;\n\nand below rest api as below\n\n@GetMapping(value = &quot;/generateFile&quot;)  \npublic void generateFile(String region)   \n{  \n// invoked above adapater only after this API is called\n}  \n</code></pre>\n<p>I am unable to understand how to start reading from DB only after generateFile API is invoked\nI am not sure how to</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":3116878,"reputation":15093,"user_id":2637449,"display_name":"Md. Asaduzzaman"},"score":0,"creation_date":1580814737,"post_id":60055447,"comment_id":106213653,"body_markdown":"Have you checked that: https://stackoverflow.com/a/43308666/2637449","body":"Have you checked that: <a href=\"https://stackoverflow.com/a/43308666/2637449\">stackoverflow.com/a/43308666/2637449</a>"},{"owner":{"account_id":2074120,"reputation":53,"user_id":1847964,"display_name":"RuudJ"},"score":0,"creation_date":1580818626,"post_id":60055447,"comment_id":106215734,"body_markdown":"@Skizo-ozᴉʞS Wow, it seems like this is the case, thanks! But I think it is still really weird. Because I tried a simple Picasso call which doesn&#39;t convert, a very simple switch statement with one case. Doesn&#39;t work either. But a SOPLN does work! So did this functionality just got a lot worse then?","body":"@Skizo-ozᴉʞS Wow, it seems like this is the case, thanks! But I think it is still really weird. Because I tried a simple Picasso call which doesn&#39;t convert, a very simple switch statement with one case. Doesn&#39;t work either. But a SOPLN does work! So did this functionality just got a lot worse then?"}],"answers":[{"tags":[],"owner":{"account_id":11098590,"reputation":1075,"user_id":9290612,"display_name":"A.R.B.N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675259964,"creation_date":1580814509,"answer_id":60056048,"question_id":60055447,"body_markdown":"sometimes, it won&#39;t work correctly. try `invalidate caches / restart` once.\r\n\r\n\r\n**Edit:\r\nThe online tools has been shutdown**. ","title":"In Android Studio, pasting Java code into a Kotlin file doesn&#39;t convert to Kotlin anymore","body":"<p>sometimes, it won't work correctly. try <code>invalidate caches / restart</code> once.</p>\n<p><strong>Edit:\nThe online tools has been shutdown</strong>.</p>\n"},{"tags":[],"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1580820537,"creation_date":1580820537,"answer_id":60057811,"question_id":60055447,"body_markdown":"Sometimes the IDE it does not convert because its complexity, just try to convert a simple method with a SOPLN and check if it works.\r\n\r\nBy the way if you want to convert a Java file to a Kotlin one remember that you have the Action of : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pi3nx.png","title":"In Android Studio, pasting Java code into a Kotlin file doesn&#39;t convert to Kotlin anymore","body":"<p>Sometimes the IDE it does not convert because its complexity, just try to convert a simple method with a SOPLN and check if it works.</p>\n\n<p>By the way if you want to convert a Java file to a Kotlin one remember that you have the Action of : </p>\n\n<p><a href=\"https://i.stack.imgur.com/Pi3nx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pi3nx.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":2074120,"reputation":53,"user_id":1847964,"display_name":"RuudJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60057811,"answer_count":2,"score":2,"last_activity_date":1675259964,"creation_date":1580812355,"question_id":60055447,"body_markdown":"When you paste Java code into a Kotlin file in Android Studio, you will get a dialog to convert the Java to Kotlin. When I press &quot;yes&quot; the IDE thinks for a few seconds but nothing happens.\r\n\r\n- I tried turning that functionality off and on in the settings.\r\n- I upgraded the Kotlin extension to version 1.3.61.\r\n- I completely reinstalled Android Studio (version 3.5.3).\r\n- I tried removing all the Android Studio directories containing cache and settings.\r\n\r\nNothing helps. Does anybody know how to fix this? I really loved this feature.","title":"In Android Studio, pasting Java code into a Kotlin file doesn&#39;t convert to Kotlin anymore","body":"<p>When you paste Java code into a Kotlin file in Android Studio, you will get a dialog to convert the Java to Kotlin. When I press \"yes\" the IDE thinks for a few seconds but nothing happens.</p>\n\n<ul>\n<li>I tried turning that functionality off and on in the settings.</li>\n<li>I upgraded the Kotlin extension to version 1.3.61.</li>\n<li>I completely reinstalled Android Studio (version 3.5.3).</li>\n<li>I tried removing all the Android Studio directories containing cache and settings.</li>\n</ul>\n\n<p>Nothing helps. Does anybody know how to fix this? I really loved this feature.</p>\n"},{"tags":["java","flutter","dart","sensors","movesense"],"answers":[{"tags":[],"owner":{"account_id":2255897,"reputation":1231,"user_id":1987093,"display_name":"PetriL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675259576,"creation_date":1675259576,"answer_id":75311206,"question_id":65953640,"body_markdown":"First, the GET &amp; PUT are not HTTP calls (so no HTTP plugin), but calls in MDS library. Please check the latest [mdsflutter plugin][1] and the example within.\r\n\r\n*Full disclosure: I work for the Movesense team*\r\n\r\n  [1]: https://pub.dev/packages/mdsflutter","title":"Flutter How to call PUT GET API for Sensor","body":"<p>First, the GET &amp; PUT are not HTTP calls (so no HTTP plugin), but calls in MDS library. Please check the latest <a href=\"https://pub.dev/packages/mdsflutter\" rel=\"nofollow noreferrer\">mdsflutter plugin</a> and the example within.</p>\n<p><em>Full disclosure: I work for the Movesense team</em></p>\n"}],"owner":{"account_id":18485860,"reputation":509,"user_id":13466852,"display_name":"Tempelritter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675259576,"creation_date":1611919822,"question_id":65953640,"body_markdown":"I have Sensors from them i want to Display the Data of the Sensor(Accelorometer, Gyroscope, Magnetometer) and log that recorded data.\r\n\r\nFrom the Documentation I see following PUT and GET Requests that I need to perform. I also have a [Example][1] but that is written in java but I&#39;m not familiar with Java. \r\n\r\nPUT /Mem/DataLogger/Config that lists paths that you want to log.\r\nIn my case they would be /Meas/IMU9/104 and /Meas/Temp.\r\n\r\n    PUT /Mem/DataLogger/State to 3 (=LOGGING)\r\n    PUT /Mem/DataLogger/State to 2 (=READY)\r\n    GET &quot;suunto:/MDS/Logbook/{serial}/Entries&quot; on mobile to have a list of entries on the sensors datamemory. The one with biggest LogID is the one you just recorded\r\n    GET &quot;suunto:/MDS/Logbook/{serial}/byId/{LogId}/Data&quot; on mobile to get the recording as JSON.\r\n\r\n\r\nFor all that i need the http Plugin. I started with creating Final String&#39;s for the Entries.\r\n\r\n\r\nMy current Code looks like:\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:http/http.dart&#39;;\r\nimport &#39;package:mdsflutter/Mds.dart&#39;;\r\n\r\nclass DataLoggerActivity extends StatefulWidget {\r\n  final String URI_MDS_LOGBOOK_ENTRIES = &quot;suunto://MDS/Logbook/{0}/Entries&quot;;\r\n  final String URI_MDS_LOGBOOK_DATA = &quot;suunto://MDS/Logbook/{0}/ById/{1}/Data&quot;;\r\n\r\n  final String URI_LOGBOOK_ENTRIES = &quot;suunto://{0}/Mem/Logbook/Entries&quot;;\r\n  final String URI_DATALOGGER_STATE = &quot;suunto://{0}/Mem/DataLogger/State&quot;;\r\n  final String URI_DATALOGGER_CONFIG = &quot;suunto://{0}/Mem/DataLogger/Config&quot;;\r\n\r\n\r\n  @override\r\n  _DataLoggerActivityState createState() =&gt; _DataLoggerActivityState();\r\n}\r\n\r\nclass _DataLoggerActivityState extends State&lt;DataLoggerActivity&gt; {\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Container();\r\n  }\r\n}\r\n\r\n```\r\n  [1]: https://bitbucket.org/suunto/movesense-mobile-lib/src/master/android/samples/DataLoggerSample/app/src/main/java/com/movesense/samples/dataloggersample/DataLoggerActivity.java","title":"Flutter How to call PUT GET API for Sensor","body":"<p>I have Sensors from them i want to Display the Data of the Sensor(Accelorometer, Gyroscope, Magnetometer) and log that recorded data.</p>\n<p>From the Documentation I see following PUT and GET Requests that I need to perform. I also have a <a href=\"https://bitbucket.org/suunto/movesense-mobile-lib/src/master/android/samples/DataLoggerSample/app/src/main/java/com/movesense/samples/dataloggersample/DataLoggerActivity.java\" rel=\"nofollow noreferrer\">Example</a> but that is written in java but I'm not familiar with Java.</p>\n<p>PUT /Mem/DataLogger/Config that lists paths that you want to log.\nIn my case they would be /Meas/IMU9/104 and /Meas/Temp.</p>\n<pre><code>PUT /Mem/DataLogger/State to 3 (=LOGGING)\nPUT /Mem/DataLogger/State to 2 (=READY)\nGET &quot;suunto:/MDS/Logbook/{serial}/Entries&quot; on mobile to have a list of entries on the sensors datamemory. The one with biggest LogID is the one you just recorded\nGET &quot;suunto:/MDS/Logbook/{serial}/byId/{LogId}/Data&quot; on mobile to get the recording as JSON.\n</code></pre>\n<p>For all that i need the http Plugin. I started with creating Final String's for the Entries.</p>\n<p>My current Code looks like:</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:http/http.dart';\nimport 'package:mdsflutter/Mds.dart';\n\nclass DataLoggerActivity extends StatefulWidget {\n  final String URI_MDS_LOGBOOK_ENTRIES = &quot;suunto://MDS/Logbook/{0}/Entries&quot;;\n  final String URI_MDS_LOGBOOK_DATA = &quot;suunto://MDS/Logbook/{0}/ById/{1}/Data&quot;;\n\n  final String URI_LOGBOOK_ENTRIES = &quot;suunto://{0}/Mem/Logbook/Entries&quot;;\n  final String URI_DATALOGGER_STATE = &quot;suunto://{0}/Mem/DataLogger/State&quot;;\n  final String URI_DATALOGGER_CONFIG = &quot;suunto://{0}/Mem/DataLogger/Config&quot;;\n\n\n  @override\n  _DataLoggerActivityState createState() =&gt; _DataLoggerActivityState();\n}\n\nclass _DataLoggerActivityState extends State&lt;DataLoggerActivity&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Container();\n  }\n}\n\n</code></pre>\n"},{"tags":["java","apache-flink","flinkml"],"answers":[{"tags":[],"owner":{"account_id":1984244,"reputation":76,"user_id":1780007,"display_name":"lindong28"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675259497,"creation_date":1675259497,"answer_id":75311191,"question_id":75116997,"body_markdown":"the first link https://nightlies.apache.org/flink/flink-docs-release-1.12/api/java/org/apache/flink/ml/common/linalg/DenseVector.html which you found is related based on flink-1.12. Flink 1.12 is kind of outdated as it was released in Dec 2020.\r\n\r\nThe latest Flink ML related code has been moved from apache/flink into apache/flink-ml repo. The latest DenseVector source code can be found at https://github.com/apache/flink-ml/blob/master/flink-ml-core/src/main/java/org/apache/flink/ml/linalg/DenseVector.java. And the up-to-date Java doc can be found at https://nightlies.apache.org/flink/flink-ml-docs-master/api/java/.\r\n\r\nAlso, the latest Flink ML website can be found at https://nightlies.apache.org/flink/flink-ml-docs-master/docs/try-flink-ml/java/quick-start/. The website provides Python and Java example code for all the algorithms.\r\n\r\nAnd the API for doing linear algebra can be found at https://github.com/apache/flink-ml/blob/master/flink-ml-core/src/main/java/org/apache/flink/ml/linalg/BLAS.java.\r\n\r\nHope it helps!\r\n\r\n","title":"Flink ML DenseVector API missing functionality","body":"<p>the first link <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.12/api/java/org/apache/flink/ml/common/linalg/DenseVector.html\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.12/api/java/org/apache/flink/ml/common/linalg/DenseVector.html</a> which you found is related based on flink-1.12. Flink 1.12 is kind of outdated as it was released in Dec 2020.</p>\n<p>The latest Flink ML related code has been moved from apache/flink into apache/flink-ml repo. The latest DenseVector source code can be found at <a href=\"https://github.com/apache/flink-ml/blob/master/flink-ml-core/src/main/java/org/apache/flink/ml/linalg/DenseVector.java\" rel=\"nofollow noreferrer\">https://github.com/apache/flink-ml/blob/master/flink-ml-core/src/main/java/org/apache/flink/ml/linalg/DenseVector.java</a>. And the up-to-date Java doc can be found at <a href=\"https://nightlies.apache.org/flink/flink-ml-docs-master/api/java/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-ml-docs-master/api/java/</a>.</p>\n<p>Also, the latest Flink ML website can be found at <a href=\"https://nightlies.apache.org/flink/flink-ml-docs-master/docs/try-flink-ml/java/quick-start/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-ml-docs-master/docs/try-flink-ml/java/quick-start/</a>. The website provides Python and Java example code for all the algorithms.</p>\n<p>And the API for doing linear algebra can be found at <a href=\"https://github.com/apache/flink-ml/blob/master/flink-ml-core/src/main/java/org/apache/flink/ml/linalg/BLAS.java\" rel=\"nofollow noreferrer\">https://github.com/apache/flink-ml/blob/master/flink-ml-core/src/main/java/org/apache/flink/ml/linalg/BLAS.java</a>.</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":2202171,"reputation":2291,"user_id":1946300,"accept_rate":55,"display_name":"drsealks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75311191,"answer_count":1,"score":0,"last_activity_date":1675259497,"creation_date":1673688956,"question_id":75116997,"body_markdown":"I’m new to Flink(and to Java) and I come from ML/DS background, so decided to implement something related to what I know - a linear regression learner. For that I figured I’d use DenseVector primitives available in flink.ml.*.\r\n\r\nThis is where I’m seriously confused, so would appreciate if anyone could help me here. Anyway, I started googling and found this\r\nhttps://nightlies.apache.org/flink/flink-docs-release-1.12/api/java/org/apache/flink/ml/common/linalg/DenseVector.html\r\n\r\nThis implementation have all the methods one would need to implement anything from linear algebra - dot product, summation, norm, etc.\r\nHowever, with this dependency\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flink-ml-lib_2.12&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nthe only DenseVector I get installed is this one\r\nhttps://nightlies.apache.org/flink/flink-docs-release-1.3/api/java/org/apache/flink/ml/math/DenseVector.html\r\n\r\nThis API is a very slim version of the first one, and I’m confused why? If I want to use the latest version of the Flink ML lib, how do I get the API that is comparable with the first link in terms of feature set? For example, this API has the dot product, but not summation, which is confusing. \r\n\r\nI also found this API, that practically has not linear algebra related methods\r\nhttps://nightlies.apache.org/flink/flink-ml-docs-master/api/java/org/apache/flink/ml/linalg/DenseVector.html\r\n\r\nHow does it fit into the picture?\r\n\r\nI also noticed that all these APIs implement a different set of interfaces.\r\n\r\nBasically, the final question is: how do I get the API from the first link?","title":"Flink ML DenseVector API missing functionality","body":"<p>I’m new to Flink(and to Java) and I come from ML/DS background, so decided to implement something related to what I know - a linear regression learner. For that I figured I’d use DenseVector primitives available in flink.ml.*.</p>\n<p>This is where I’m seriously confused, so would appreciate if anyone could help me here. Anyway, I started googling and found this\n<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.12/api/java/org/apache/flink/ml/common/linalg/DenseVector.html\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.12/api/java/org/apache/flink/ml/common/linalg/DenseVector.html</a></p>\n<p>This implementation have all the methods one would need to implement anything from linear algebra - dot product, summation, norm, etc.\nHowever, with this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n    &lt;artifactId&gt;flink-ml-lib_2.12&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the only DenseVector I get installed is this one\n<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.3/api/java/org/apache/flink/ml/math/DenseVector.html\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.3/api/java/org/apache/flink/ml/math/DenseVector.html</a></p>\n<p>This API is a very slim version of the first one, and I’m confused why? If I want to use the latest version of the Flink ML lib, how do I get the API that is comparable with the first link in terms of feature set? For example, this API has the dot product, but not summation, which is confusing.</p>\n<p>I also found this API, that practically has not linear algebra related methods\n<a href=\"https://nightlies.apache.org/flink/flink-ml-docs-master/api/java/org/apache/flink/ml/linalg/DenseVector.html\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-ml-docs-master/api/java/org/apache/flink/ml/linalg/DenseVector.html</a></p>\n<p>How does it fit into the picture?</p>\n<p>I also noticed that all these APIs implement a different set of interfaces.</p>\n<p>Basically, the final question is: how do I get the API from the first link?</p>\n"},{"tags":["java","selenide"],"answers":[{"tags":[],"owner":{"account_id":27675579,"reputation":26,"user_id":21125474,"display_name":"Flipparex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675257014,"creation_date":1675257014,"answer_id":75310661,"question_id":75310558,"body_markdown":"You can count the number of rows in the table using Selenide by finding all elements with the class &quot;srringtable&quot; and then using the .size() method.\r\n\r\n    int rowCount = $$(&quot;.srringtable&quot;).size();\r\n\r\n","title":"Getting the count of rows from a web table -SELENID","body":"<p>You can count the number of rows in the table using Selenide by finding all elements with the class &quot;srringtable&quot; and then using the .size() method.</p>\n<pre><code>int rowCount = $$(&quot;.srringtable&quot;).size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22309150,"reputation":358,"user_id":16533364,"display_name":"bluestar0505"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675259388,"creation_date":1675259388,"answer_id":75311159,"question_id":75310558,"body_markdown":"```JQuery``` will be easy.\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let rowCount = $(&quot;.srringtable&quot;).length;\r\n    $(&quot;input#count&quot;).val(rowCount);\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;table class=&quot;table_pay&quot;&gt;\r\n        &lt;tbody&gt;\r\n            &lt;div class=&quot;srringtable&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;srringtable&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;srringtable&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;srringtable&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;srringtable&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;srringtable&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;srringtable&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;srringtable&quot;&gt;&lt;/div&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n    &lt;input id=&quot;count&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;","title":"Getting the count of rows from a web table -SELENID","body":"<p><code>JQuery</code> will be easy.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let rowCount = $(\".srringtable\").length;\n$(\"input#count\").val(rowCount);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script type=\"text/javascript\" src=\"//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js\"&gt;&lt;/script&gt;\n\n&lt;table class=\"table_pay\"&gt;\n    &lt;tbody&gt;\n        &lt;div class=\"srringtable\"&gt;&lt;/div&gt;\n        &lt;div class=\"srringtable\"&gt;&lt;/div&gt;\n        &lt;div class=\"srringtable\"&gt;&lt;/div&gt;\n        &lt;div class=\"srringtable\"&gt;&lt;/div&gt;\n        &lt;div class=\"srringtable\"&gt;&lt;/div&gt;\n        &lt;div class=\"srringtable\"&gt;&lt;/div&gt;\n        &lt;div class=\"srringtable\"&gt;&lt;/div&gt;\n        &lt;div class=\"srringtable\"&gt;&lt;/div&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;input id=\"count\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75310661,"answer_count":2,"score":0,"last_activity_date":1675259388,"creation_date":1675256441,"question_id":75310558,"body_markdown":"I am working with Selenide, however, I need to count the number of rows in the table to write tests. The table has the functionality of displaying the number of rows, I want to check that when selecting, for example, 15 rows, 15 is displayed in the table. However, I do not understand exactly how to count them using selenide.\r\n\r\n```\r\n&lt;table class=&quot;table_pay&quot;&gt;\r\n    &lt;tbody&gt;\r\n        &lt;div class=&quot;srringtable&quot;&gt;\r\n        &lt;div class=&quot;srringtable&quot;&gt;\r\n        &lt;div class=&quot;srringtable&quot;&gt;\r\n        &lt;div class=&quot;srringtable&quot;&gt;\r\n        &lt;div class=&quot;srringtable&quot;&gt;\r\n        &lt;div class=&quot;srringtable&quot;&gt;\r\n        &lt;div class=&quot;srringtable&quot;&gt;\r\n        &lt;div class=&quot;srringtable&quot;&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```","title":"Getting the count of rows from a web table -SELENID","body":"<p>I am working with Selenide, however, I need to count the number of rows in the table to write tests. The table has the functionality of displaying the number of rows, I want to check that when selecting, for example, 15 rows, 15 is displayed in the table. However, I do not understand exactly how to count them using selenide.</p>\n<pre><code>&lt;table class=&quot;table_pay&quot;&gt;\n    &lt;tbody&gt;\n        &lt;div class=&quot;srringtable&quot;&gt;\n        &lt;div class=&quot;srringtable&quot;&gt;\n        &lt;div class=&quot;srringtable&quot;&gt;\n        &lt;div class=&quot;srringtable&quot;&gt;\n        &lt;div class=&quot;srringtable&quot;&gt;\n        &lt;div class=&quot;srringtable&quot;&gt;\n        &lt;div class=&quot;srringtable&quot;&gt;\n        &lt;div class=&quot;srringtable&quot;&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"tags":["java","firebase","spring-boot","firebase-cloud-messaging"],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675258964,"creation_date":1675257617,"question_id":75310792,"body_markdown":"I would like to know how I should store the FCM Firebase Admin SDK key.\r\n \r\nI have, let&#39;s assume, 20 servers to which clients have access, there is also a compiled service in Spring boot. Each server should have possibility to send FCM messages. \r\n\r\n - I have a feeling that storing keys in application.properties is not very safe, right?\r\n - Is it better to have one global server that processes signals, or is it better to have an FCM service set up on each server?\r\n - Or is it enough for the client server to query my main server, which would provide it with the access key? \r\n - If I have 20 servers that can generate FCM, should I have 20 different projects in Google Console? Should it just be separated by topics only? \r\n\r\n\r\nWhat should such a structure look like and how I should store (and where) access key? \r\n\r\n\r\n","title":"Firebase Spring Boot multiple servers","body":"<p>I would like to know how I should store the FCM Firebase Admin SDK key.</p>\n<p>I have, let's assume, 20 servers to which clients have access, there is also a compiled service in Spring boot. Each server should have possibility to send FCM messages.</p>\n<ul>\n<li>I have a feeling that storing keys in application.properties is not very safe, right?</li>\n<li>Is it better to have one global server that processes signals, or is it better to have an FCM service set up on each server?</li>\n<li>Or is it enough for the client server to query my main server, which would provide it with the access key?</li>\n<li>If I have 20 servers that can generate FCM, should I have 20 different projects in Google Console? Should it just be separated by topics only?</li>\n</ul>\n<p>What should such a structure look like and how I should store (and where) access key?</p>\n"},{"tags":["java","multithreading","spring-boot","java-8","spring-data-jpa"],"owner":{"account_id":27666830,"reputation":1,"user_id":21118489,"display_name":"Java solution"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675258925,"creation_date":1675174039,"question_id":75298375,"body_markdown":"I was trying to implement CompletableFuture of java 8 in my code using Spring boot JPA.\r\nWhen i was running the code i ended up with exception below\r\n[enter image description here](https://i.stack.imgur.com/UbFt8.png)\r\n\r\n\r\nCan anyone help me for their suggestion. I had used @Transaction annotation also but its not worked for me.\r\n\r\n\r\n```\r\n@Transactional\r\n\tprivate RiskStatement insertData(RiskDto dto, Date currentDate, String userId,\r\n\t\t\tString userRole) {\r\n\t\tlogger.info(&quot;Thread MAIN : {}&quot;, Thread.currentThread().getName());\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\tlogger.info(&quot;Start Time : {}&quot;, startTime);\r\n\t\tList&lt;CompletableFuture&lt;Void&gt;&gt;  completablelist=new ArrayList&lt;CompletableFuture&lt;Void&gt;&gt;();\r\n\t\tRiskStatementB batch = getBatchId(dto.getBatchId());\r\n\r\n\t\tStmtBatchMap batchMap = insertNewSBatch(currentDate, userId, batch);\r\n\t\tif (null != batch &amp;&amp; null != batch.getRiskSegmentCd()) {\r\n\t\t\tString mriLevel = getSegmentTypeByCd(batch.getRiskSegmentCd());\r\n\t\t\tvar riskStatement = insertNewStmt(dto, currentDate, userId, batchMap, batch.getTimeId(), batch,\r\n\t\t\t\t\tmriLevel);\r\n\t\t\tbatchMap.setRiskStatement(riskStatement);\r\n\t\t\triskStatementRepository.persist(riskStatement);\r\n\t\t\tsetTriRiskCode(dto, riskStatement);\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt; insertNewContact(currentDate, userId, userRole, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt;insertNewRiskAttribute(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt;insertNewRiskMitigent(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt;\tinsertNewRelatedVariable(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt;insertNewActiveMonitoring(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt;insertNewComment(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt;insertNewCountryList(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt;\tinsertNewRiskStmtTaxonomy(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\tcompletablelist.add(CompletableFuture.runAsync(() -&gt;insertNewRiskStmtQuantification(dto.getQuantificationSection(), currentDate, userId, riskStatement)\r\n\t\t\t\t\t));\r\n\t\t\t\r\n\t\t\tlogger.info(&quot;Thread MAIN : {}&quot;, Thread.currentThread().getName());\r\n\t\t\tCompletableFuture.allOf(completablelist.toArray(new CompletableFuture[0])).join();\r\n\t\t\tlogger.info(&quot;Thread MAIN : {}&quot;, Thread.currentThread().getName());\r\n\t\t\triskStatementRepository.merge(riskStatement);\r\n\t\t\tlong endTime = System.currentTimeMillis();\r\n\t\t\tlogger.info(&quot;End Time : {}&quot;, endTime);\r\n\t\t\tlong totalTime = endTime - startTime;\r\n\t\t\tlogger.info(&quot;Total Time : {}&quot;, totalTime);\r\n\t\t\tlogger.info(&quot;The program was running: &quot;, TimeUnit.MILLISECONDS.toSeconds(totalTime));\r\n\t\t\treturn riskStatement;\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n```\r\n\r\n\r\nI was using CompletableFuture for multi threading\r\n\r\nException:\r\n\r\n&gt; Exception in\r\n&gt; com.citi.mri.services.RiskStatementService.individualRiskSubmit() with\r\n&gt; cause = org.springframework.dao.InvalidDataAccessApiUsageException: No\r\n&gt; EntityManager with actual transaction available for current thread -\r\n&gt; cannot reliably process &#39;merge&#39; call; nested exception is\r\n&gt; javax.persistence.TransactionRequiredException: No EntityManager with\r\n&gt; actual transaction available for current thread - cannot reliably\r\n&gt; process &#39;merge&#39; call\r\n&gt; \r\n&gt; Exception in\r\n&gt; com.citi.mri.interfaces.facade.impl.RiskStmtFacadw.submit() with cause\r\n&gt; = org.springframework.dao.InvalidDataAccessApiUsageException: No EntityManager with actual transaction available for current thread -\r\n&gt; cannot reliably process &#39;merge&#39; call; nested exception is\r\n&gt; javax.persistence.TransactionRequiredException: No EntityManager with\r\n&gt; actual transaction available for current thread - cannot reliably\r\n&gt; process &#39;merge&#39; call","title":"CompletableFuture No EntityManager is available for current thread - cannot reliably process &#39;merge&#39; call","body":"<p>I was trying to implement CompletableFuture of java 8 in my code using Spring boot JPA.\nWhen i was running the code i ended up with exception below\n<a href=\"https://i.stack.imgur.com/UbFt8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Can anyone help me for their suggestion. I had used @Transaction annotation also but its not worked for me.</p>\n<pre><code>@Transactional\n    private RiskStatement insertData(RiskDto dto, Date currentDate, String userId,\n            String userRole) {\n        logger.info(&quot;Thread MAIN : {}&quot;, Thread.currentThread().getName());\n        long startTime = System.currentTimeMillis();\n        logger.info(&quot;Start Time : {}&quot;, startTime);\n        List&lt;CompletableFuture&lt;Void&gt;&gt;  completablelist=new ArrayList&lt;CompletableFuture&lt;Void&gt;&gt;();\n        RiskStatementB batch = getBatchId(dto.getBatchId());\n\n        StmtBatchMap batchMap = insertNewSBatch(currentDate, userId, batch);\n        if (null != batch &amp;&amp; null != batch.getRiskSegmentCd()) {\n            String mriLevel = getSegmentTypeByCd(batch.getRiskSegmentCd());\n            var riskStatement = insertNewStmt(dto, currentDate, userId, batchMap, batch.getTimeId(), batch,\n                    mriLevel);\n            batchMap.setRiskStatement(riskStatement);\n            riskStatementRepository.persist(riskStatement);\n            setTriRiskCode(dto, riskStatement);\n            completablelist.add(CompletableFuture.runAsync(() -&gt; insertNewContact(currentDate, userId, userRole, riskStatement)\n                    ));\n            completablelist.add(CompletableFuture.runAsync(() -&gt;insertNewRiskAttribute(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\n                    ));\n            completablelist.add(CompletableFuture.runAsync(() -&gt;insertNewRiskMitigent(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\n                    ));\n            completablelist.add(CompletableFuture.runAsync(() -&gt;    insertNewRelatedVariable(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\n                    ));\n            completablelist.add(CompletableFuture.runAsync(() -&gt;insertNewActiveMonitoring(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\n                    ));\n            completablelist.add(CompletableFuture.runAsync(() -&gt;insertNewComment(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\n                    ));\n            completablelist.add(CompletableFuture.runAsync(() -&gt;insertNewCountryList(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\n                    ));\n            completablelist.add(CompletableFuture.runAsync(() -&gt;    insertNewRiskStmtTaxonomy(dto.getKeyAttributeSectionDto(), currentDate, userId, riskStatement)\n                    ));\n            completablelist.add(CompletableFuture.runAsync(() -&gt;insertNewRiskStmtQuantification(dto.getQuantificationSection(), currentDate, userId, riskStatement)\n                    ));\n            \n            logger.info(&quot;Thread MAIN : {}&quot;, Thread.currentThread().getName());\n            CompletableFuture.allOf(completablelist.toArray(new CompletableFuture[0])).join();\n            logger.info(&quot;Thread MAIN : {}&quot;, Thread.currentThread().getName());\n            riskStatementRepository.merge(riskStatement);\n            long endTime = System.currentTimeMillis();\n            logger.info(&quot;End Time : {}&quot;, endTime);\n            long totalTime = endTime - startTime;\n            logger.info(&quot;Total Time : {}&quot;, totalTime);\n            logger.info(&quot;The program was running: &quot;, TimeUnit.MILLISECONDS.toSeconds(totalTime));\n            return riskStatement;\n        }\n        return null;\n\n    }\n</code></pre>\n<p>I was using CompletableFuture for multi threading</p>\n<p>Exception:</p>\n<blockquote>\n<p>Exception in\ncom.citi.mri.services.RiskStatementService.individualRiskSubmit() with\ncause = org.springframework.dao.InvalidDataAccessApiUsageException: No\nEntityManager with actual transaction available for current thread -\ncannot reliably process 'merge' call; nested exception is\njavax.persistence.TransactionRequiredException: No EntityManager with\nactual transaction available for current thread - cannot reliably\nprocess 'merge' call</p>\n<p>Exception in\ncom.citi.mri.interfaces.facade.impl.RiskStmtFacadw.submit() with cause\n= org.springframework.dao.InvalidDataAccessApiUsageException: No EntityManager with actual transaction available for current thread -\ncannot reliably process 'merge' call; nested exception is\njavax.persistence.TransactionRequiredException: No EntityManager with\nactual transaction available for current thread - cannot reliably\nprocess 'merge' call</p>\n</blockquote>\n"},{"tags":["java","arraylist","depth-first-search","breadth-first-search","undirected-graph"],"owner":{"account_id":25268359,"reputation":1,"user_id":19098080,"display_name":"suffering_from_java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675258913,"creation_date":1675257912,"question_id":75310855,"body_markdown":"I&#39;ve been stuck in the addEdge method of my Graph class where instead of having only one &quot;A&quot; Vertex in my Arraylist, it creates a new one for another edge.\r\n\r\nFor example here is my text file:\r\n\r\n```none\r\nA,F,2\r\nA,C,6\r\nB,G,4\r\nB,H,5\r\nC,D,8\r\nC,F,5\r\nD,A,1\r\n```\r\n\r\nSo instead of storing it as A-\\&gt;\\[F, C\\], it&#39;s A-\\&gt;F and A-\\&gt;C\r\n\r\nHere is my Graph class\r\n\r\n```java\r\nimport Queue.Queue;\r\nimport Stack.Stack;\r\nimport java.util.ArrayList;\r\n\r\npublic class Graph&lt;T&gt;{\r\n public ArrayList&lt;Vertex&lt;T&gt;&gt; vertexList= new ArrayList&lt;Vertex&lt;T&gt;&gt;();\r\n  public ArrayList&lt;Edge&lt;T&gt;&gt; edgeList= new ArrayList&lt;Edge&lt;T&gt;&gt;();\r\n\r\n public void addEdge( T source, T destination, T weight){\r\n  Vertex&lt;T&gt;VertexA=new Vertex&lt;T&gt;(source);\r\n  Vertex&lt;T&gt; VertexB= new Vertex&lt;T&gt;(destination);\r\n\r\n  if (vertexList.contains(source)){\r\n   VertexA= vertexList.get(vertexList.indexOf(VertexA));\r\n  }else{\r\n   vertexList.add(VertexA);\r\n  }\r\n  if (vertexList.contains(VertexB)){\r\n   VertexB= vertexList.get(vertexList.indexOf(VertexB));\r\n  }else {\r\n   vertexList.add(VertexB);\r\n  }\r\n\r\n  VertexA.addNeighbor(VertexB);\r\n  VertexB.addNeighbor(VertexA);\r\n\r\n  edgeList.add(new Edge&lt;T&gt;(VertexA,VertexB,weight));\r\n }\r\n\r\n public void BFS(Vertex&lt;T&gt; startingVertex) {\r\n  startingVertex=vertexList.get(vertexList.indexOf(startingVertex));\r\n  Vertex&lt;T&gt; current;\r\n  Queue&lt;Vertex&lt;T&gt;&gt; myQueue= new Queue&lt;Vertex&lt;T&gt;&gt;();\r\n  ArrayList&lt;Vertex&lt;T&gt;&gt; visitedList = new ArrayList&lt;&gt;();\r\n  Vertex&lt;T&gt; startingV= vertexList.get(vertexList.indexOf(startingVertex)); // get starting vertex from vertices list\\\r\n  myQueue.enqueue(startingV); // adds the starting vertex into the queue\r\n  while (!( myQueue.isEmpty())){\r\n   current =  myQueue.dequeue();//removes the first element of the queue\r\n   if (!(current.isVisited())) // sets the current vertex as visited if it is not visited\r\n    current.setVisited(true);\r\n    visitedList.add(current);\r\n   // gets all the neighbors of the current vertex and adds it into the queue\r\n   for (int i=0; i&lt;current.getNeighbors().size(); i++){\r\n    Vertex&lt;T&gt; neighbor = current.getNeighbors().get(i);\r\n    neighbor.getVertex();\r\n    myQueue.enqueue(neighbor);\r\n   }\r\n\r\n  }\r\n  for (int i=0; i&lt;visitedList.size(); i++){\r\n   System.out.println(visitedList.get(i));\r\n  }\r\n }\r\n public void DFS(T startingVertex){\r\n  Vertex&lt;T&gt; startingV= vertexList.get(vertexList.indexOf(startingVertex));\r\n  Stack&lt;Vertex&lt;T&gt;&gt; myStack= new Stack&lt;Vertex&lt;T&gt;&gt;();\r\n  myStack.push(startingV);\r\n  while(! myStack.isEmpty()){\r\n   Vertex&lt;T&gt; current = myStack.pop();\r\n   if (!current.isVisited()){\r\n    current.setVisited(true);\r\n    System.out.println(current);\r\n   }\r\n   for(int i=0; i&lt;current.getNeighbors().size(); i++){\r\n    myStack.push(current.getNeighbors().get(i));\r\n   }\r\n  }\r\n }\r\n\r\n public String toString(){\r\n  System.out.println(&quot;The Graph Contains: &quot;);\r\n  System.out.println();\r\n  final StringBuilder builder= new StringBuilder();\r\n  for (int i=0; i&lt;edgeList.size(); i++) {\r\n   Vertex&lt;T&gt; source = edgeList.get(i).getSource();\r\n   Vertex&lt;T&gt; destination= edgeList.get(i).getDestination();\r\n   T weight= edgeList.get(i).getWeight();\r\n   builder.append(source).append(&quot;--&quot;).append(weight).append(&quot;--&quot;).append(destination).append(&quot;\\n&quot;);\r\n  }\r\n  return builder.toString();\r\n }\r\n public Vertex&lt;T&gt;getVertex(T data){\r\n  Vertex&lt;T&gt; vertex = new Vertex&lt;T&gt;(data);\r\n  return vertexList.get(vertexList.indexOf(vertex));\r\n }\r\n\r\n}\r\n```\r\n\r\nIn the addEdge method I also tried using for loops instead of if statements, but the output is still the same.\r\n\r\n```java\r\n  for (int i=0; i&lt;vertexList.size(); i++) {\r\n   if (vertexList.get(i).equals(source)) {\r\n    VertexA= vertexList.get(i);\r\n   } else {\r\n     VertexA=new Vertex&lt;T&gt;(source);\r\n    vertexList.add(VertexA);\r\n   }\r\n  }\r\n   for (int i=0; i&lt;vertexList.size(); i++){\r\n    if (vertexList.get(i).equals(destination)) {\r\n     VertexB = vertexList.get(i);\r\n    } else {\r\n     VertexB=new Vertex&lt;T&gt;(destination);\r\n     vertexList.add(VertexB);\r\n    }\r\n   }\r\n\r\n// I also tried using this however it results to IndexOutOfBounds \r\nverexList.get(vertexList.indexOf(VertexA)).addNeighbor(VertexB);\r\nverexList.get(vertexList.indexOf(VertexB)).addNeighbor(VertexB);\r\n```\r\n\r\nHere is how I read my text file in my main class using a readFile method\r\n\r\n```java\r\npublic static Graph&lt;String&gt; readFile(){\r\n    Scanner sc= new Scanner(System.in);\r\n    boolean validFile=false;\r\n    String fileName;\r\n    String fileContent=&quot;&quot;;\r\n    while (!validFile) {\r\n        try {\r\n            System.out.print(&quot;Enter the file path of the file: &quot;);\r\n            fileName = sc.nextLine();\r\n\r\n           BufferedReader reader = new BufferedReader(new FileReader(fileName));\r\n            validFile = true;\r\n            System.out.println(fileName + &quot; exists! &quot;);\r\n            System.out.println();\r\n\r\n            while((fileContent=reader.readLine())!=null){\r\n                String[] row= fileContent.split(&quot;,&quot;);\r\n                graph.addEdge(row[0], row[1], row[2]);\r\n            }\r\n        } catch (FileNotFoundException exception) {\r\n            System.out.println(&quot;File does not exist&quot;);\r\n            System.out.println(&quot;Please try again.  &quot;);\r\n        } catch (IOException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n    return graph;\r\n}\r\n```\r\n\r\n","title":"Read a text file which consists of the edges of the Graph and perform BFS, DFS, and Shortest Path Algorithm (Dijkstra) in Java","body":"<p>I've been stuck in the addEdge method of my Graph class where instead of having only one &quot;A&quot; Vertex in my Arraylist, it creates a new one for another edge.</p>\n<p>For example here is my text file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A,F,2\nA,C,6\nB,G,4\nB,H,5\nC,D,8\nC,F,5\nD,A,1\n</code></pre>\n<p>So instead of storing it as A-&gt;[F, C], it's A-&gt;F and A-&gt;C</p>\n<p>Here is my Graph class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import Queue.Queue;\nimport Stack.Stack;\nimport java.util.ArrayList;\n\npublic class Graph&lt;T&gt;{\n public ArrayList&lt;Vertex&lt;T&gt;&gt; vertexList= new ArrayList&lt;Vertex&lt;T&gt;&gt;();\n  public ArrayList&lt;Edge&lt;T&gt;&gt; edgeList= new ArrayList&lt;Edge&lt;T&gt;&gt;();\n\n public void addEdge( T source, T destination, T weight){\n  Vertex&lt;T&gt;VertexA=new Vertex&lt;T&gt;(source);\n  Vertex&lt;T&gt; VertexB= new Vertex&lt;T&gt;(destination);\n\n  if (vertexList.contains(source)){\n   VertexA= vertexList.get(vertexList.indexOf(VertexA));\n  }else{\n   vertexList.add(VertexA);\n  }\n  if (vertexList.contains(VertexB)){\n   VertexB= vertexList.get(vertexList.indexOf(VertexB));\n  }else {\n   vertexList.add(VertexB);\n  }\n\n  VertexA.addNeighbor(VertexB);\n  VertexB.addNeighbor(VertexA);\n\n  edgeList.add(new Edge&lt;T&gt;(VertexA,VertexB,weight));\n }\n\n public void BFS(Vertex&lt;T&gt; startingVertex) {\n  startingVertex=vertexList.get(vertexList.indexOf(startingVertex));\n  Vertex&lt;T&gt; current;\n  Queue&lt;Vertex&lt;T&gt;&gt; myQueue= new Queue&lt;Vertex&lt;T&gt;&gt;();\n  ArrayList&lt;Vertex&lt;T&gt;&gt; visitedList = new ArrayList&lt;&gt;();\n  Vertex&lt;T&gt; startingV= vertexList.get(vertexList.indexOf(startingVertex)); // get starting vertex from vertices list\\\n  myQueue.enqueue(startingV); // adds the starting vertex into the queue\n  while (!( myQueue.isEmpty())){\n   current =  myQueue.dequeue();//removes the first element of the queue\n   if (!(current.isVisited())) // sets the current vertex as visited if it is not visited\n    current.setVisited(true);\n    visitedList.add(current);\n   // gets all the neighbors of the current vertex and adds it into the queue\n   for (int i=0; i&lt;current.getNeighbors().size(); i++){\n    Vertex&lt;T&gt; neighbor = current.getNeighbors().get(i);\n    neighbor.getVertex();\n    myQueue.enqueue(neighbor);\n   }\n\n  }\n  for (int i=0; i&lt;visitedList.size(); i++){\n   System.out.println(visitedList.get(i));\n  }\n }\n public void DFS(T startingVertex){\n  Vertex&lt;T&gt; startingV= vertexList.get(vertexList.indexOf(startingVertex));\n  Stack&lt;Vertex&lt;T&gt;&gt; myStack= new Stack&lt;Vertex&lt;T&gt;&gt;();\n  myStack.push(startingV);\n  while(! myStack.isEmpty()){\n   Vertex&lt;T&gt; current = myStack.pop();\n   if (!current.isVisited()){\n    current.setVisited(true);\n    System.out.println(current);\n   }\n   for(int i=0; i&lt;current.getNeighbors().size(); i++){\n    myStack.push(current.getNeighbors().get(i));\n   }\n  }\n }\n\n public String toString(){\n  System.out.println(&quot;The Graph Contains: &quot;);\n  System.out.println();\n  final StringBuilder builder= new StringBuilder();\n  for (int i=0; i&lt;edgeList.size(); i++) {\n   Vertex&lt;T&gt; source = edgeList.get(i).getSource();\n   Vertex&lt;T&gt; destination= edgeList.get(i).getDestination();\n   T weight= edgeList.get(i).getWeight();\n   builder.append(source).append(&quot;--&quot;).append(weight).append(&quot;--&quot;).append(destination).append(&quot;\\n&quot;);\n  }\n  return builder.toString();\n }\n public Vertex&lt;T&gt;getVertex(T data){\n  Vertex&lt;T&gt; vertex = new Vertex&lt;T&gt;(data);\n  return vertexList.get(vertexList.indexOf(vertex));\n }\n\n}\n</code></pre>\n<p>In the addEdge method I also tried using for loops instead of if statements, but the output is still the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  for (int i=0; i&lt;vertexList.size(); i++) {\n   if (vertexList.get(i).equals(source)) {\n    VertexA= vertexList.get(i);\n   } else {\n     VertexA=new Vertex&lt;T&gt;(source);\n    vertexList.add(VertexA);\n   }\n  }\n   for (int i=0; i&lt;vertexList.size(); i++){\n    if (vertexList.get(i).equals(destination)) {\n     VertexB = vertexList.get(i);\n    } else {\n     VertexB=new Vertex&lt;T&gt;(destination);\n     vertexList.add(VertexB);\n    }\n   }\n\n// I also tried using this however it results to IndexOutOfBounds \nverexList.get(vertexList.indexOf(VertexA)).addNeighbor(VertexB);\nverexList.get(vertexList.indexOf(VertexB)).addNeighbor(VertexB);\n</code></pre>\n<p>Here is how I read my text file in my main class using a readFile method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Graph&lt;String&gt; readFile(){\n    Scanner sc= new Scanner(System.in);\n    boolean validFile=false;\n    String fileName;\n    String fileContent=&quot;&quot;;\n    while (!validFile) {\n        try {\n            System.out.print(&quot;Enter the file path of the file: &quot;);\n            fileName = sc.nextLine();\n\n           BufferedReader reader = new BufferedReader(new FileReader(fileName));\n            validFile = true;\n            System.out.println(fileName + &quot; exists! &quot;);\n            System.out.println();\n\n            while((fileContent=reader.readLine())!=null){\n                String[] row= fileContent.split(&quot;,&quot;);\n                graph.addEdge(row[0], row[1], row[2]);\n            }\n        } catch (FileNotFoundException exception) {\n            System.out.println(&quot;File does not exist&quot;);\n            System.out.println(&quot;Please try again.  &quot;);\n        } catch (IOException exception) {\n            exception.printStackTrace();\n        }\n    }\n    return graph;\n}\n</code></pre>\n"},{"tags":["java","concurrency"],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675258744,"creation_date":1675258744,"question_id":75311024,"body_markdown":"For the following flow\r\n\r\n```\r\nSplitter -- [subtasks] --&gt; Executor -- [subtask results] --&gt; Aggregator\r\n```\r\n\r\nI need `Aggregator` to process subtask results in order of subtasks, as they arrive. For example, if for 4 subtasks results are returned in order `2, 3, 1, 4`, I need\r\naggregator to wait before processing `2`, `3`, process `1`, then immediately process\r\n`2`, `3`, then process `4`, once it becomes available.\r\n\r\nWhile it can be easily encoded, I&#39;d like to know if there&#39;s well-known Java implementation?\r\n\r\nTo me, it looks like [Java structured concurreny](https://openjdk.org/jeps/428) is close,\r\nbut looks like it doesn&#39;t allow to process results as they arrive, it enforces waiting for all subtasks.\r\n","title":"Ready solution for task results aggregation in order of submission","body":"<p>For the following flow</p>\n<pre><code>Splitter -- [subtasks] --&gt; Executor -- [subtask results] --&gt; Aggregator\n</code></pre>\n<p>I need <code>Aggregator</code> to process subtask results in order of subtasks, as they arrive. For example, if for 4 subtasks results are returned in order <code>2, 3, 1, 4</code>, I need\naggregator to wait before processing <code>2</code>, <code>3</code>, process <code>1</code>, then immediately process\n<code>2</code>, <code>3</code>, then process <code>4</code>, once it becomes available.</p>\n<p>While it can be easily encoded, I'd like to know if there's well-known Java implementation?</p>\n<p>To me, it looks like <a href=\"https://openjdk.org/jeps/428\" rel=\"nofollow noreferrer\">Java structured concurreny</a> is close,\nbut looks like it doesn't allow to process results as they arrive, it enforces waiting for all subtasks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1340345815,"post_id":11151002,"comment_id":14620777,"body_markdown":"Do you have files like `namename.ext1.ext2`?","body":"Do you have files like <code>namename.ext1.ext2</code>?"},{"owner":{"account_id":1559266,"reputation":5,"user_id":1449547,"display_name":"user1449547"},"score":0,"creation_date":1340346744,"post_id":11151002,"comment_id":14621046,"body_markdown":"the programs works. here is an example of how I need it to change. say the file name is july1234.jpg, I want to rename the file but keep july in the new name, without having to specify july. since the first 4 characters will not be the same for each file.","body":"the programs works. here is an example of how I need it to change. say the file name is july1234.jpg, I want to rename the file but keep july in the new name, without having to specify july. since the first 4 characters will not be the same for each file."},{"owner":{"account_id":1207003,"reputation":1936,"user_id":1176394,"display_name":"prajeesh kumar"},"score":0,"creation_date":1340347417,"post_id":11151002,"comment_id":14621235,"body_markdown":"Just change the `filename = filename + generatedSequence;` to  `filename = filename.substring(0,4)+ generatedSequence;` It will take the first four letters + generated sequence","body":"Just change the <code>filename = filename + generatedSequence;</code> to  <code>filename = filename.substring(0,4)+ generatedSequence;</code> It will take the first four letters + generated sequence"}],"answers":[{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675258459,"creation_date":1675258459,"answer_id":75310961,"question_id":11151002,"body_markdown":"Part of String can be selected via [String.substring(start, end) method][1]:\r\n\r\n    filename = filename.substring(0, 4) + generatedSequence;\r\n\r\nIn general you should not use constant end parameter since original String may be shorter so it is good idea to limit it to length of String:\r\n\r\n    filename = filename.substring(0, Math.min(4, filename.length())) + generatedSequence;\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#substring(int,int)","title":"Batch rename files while keeping part of the name?","body":"<p>Part of String can be selected via <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\">String.substring(start, end) method</a>:</p>\n<pre><code>filename = filename.substring(0, 4) + generatedSequence;\n</code></pre>\n<p>In general you should not use constant end parameter since original String may be shorter so it is good idea to limit it to length of String:</p>\n<pre><code>filename = filename.substring(0, Math.min(4, filename.length())) + generatedSequence;\n</code></pre>\n"}],"owner":{"account_id":1559266,"reputation":5,"user_id":1449547,"display_name":"user1449547"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675258459,"creation_date":1340345739,"question_id":11151002,"body_markdown":"Like the title suggests I want to batch rename files but keep the first 4 characters of the file name.\r\n\r\nTrying to modify this open source [batchfilerenametool](http://code.google.com/p/batchfilerenametool/) for personal use. Any suggestions?\r\n\r\nI added the code that renames the file. Where it says `filename = filename + generatedSequence;` pretty sure that is where I need to add it, but what would specify just the first 4 characters of the file name?\r\n\r\n    //this is affected by the RenameOption, if Rename has something then only we RENAME\r\n    if(cbxRename.isSelected() == true){\r\n       fileName = Rename + generatedSequence;   //the fileName will change.\r\n    }\r\n    else {\r\n       //if Rename has nothing, but the txtSequence has some Value, we take it to the naming too\r\n       fileName = fileName + generatedSequence;\r\n    }\r\n\r\nBelow is the rename part of the code. \r\n\r\n    private void renameFile(){\r\n        \t\r\n        \tboolean operationResult = false;\r\n        \tboolean overallResult = true;\r\n        \tint failCount = 0;\r\n        \t\r\n        \t/* the operation of this part is ensured by the chooseDirectory()\r\n        \t * WE get the list of files in the directory\r\n        \t * get the conditions set by users\r\n        \t * and perform the file rename operation.\r\n        \t */\r\n        \t \r\n        \t//Let&#39;s get all the information from user\r\n        \tString[] fileList = directory.list();  //the list of files in the directory\r\n        \tString Prefix = txtPrefix.getText();\r\n        \tString Rename = txtRename.getText();\r\n        \tString Suffix = txtSuffix.getText();\r\n        \tString digits = (String) cboSequence.getSelectedItem();\r\n        \tint StartingNum;\r\n        \tString generatedSequence;\r\n        \tFile oldFile;\r\n        \t \r\n        \t//let&#39;s call the output frame\r\n        \tif(cbxOutput.isSelected() &amp;&amp; OUTPUT_ON == false){\r\n        \t\tbuildOutput();\r\n        \t\tOUTPUT_ON = true;\r\n        \t}\r\n        \t\t\r\n        \t\r\n        \t\r\n        \t\r\n        \t//display the list of files and readability of each file\r\n        \tfor(int i = 0; i &lt; fileList.length; i++){\t\r\n        \t\toldFile = new File(directory.getPath()+&quot;/&quot;+ fileList[i]);\r\n        \t\tString readability = fileList[i] +&quot; - readable?: &quot;+oldFile.canRead();\r\n        \t\tSystem.out.println(readability);\r\n        \t\t\r\n        \t\tif(OUTPUT_ON)\r\n        \t\t\ttxaOutput.append(&quot;\\n&quot;+readability);\r\n        \t}\r\n        \t  \t\r\n        \tfor(int i = 0; i &lt; fileList.length; i++){\r\n        \t\t\r\n        \t\t/* get the file extension that we need, and form a new name, \r\n        \t\t * we would check if the Ignore File Extension is selected\r\n        \t\t */\r\n        \t\toldFile = new File(directory.getPath()+&quot;/&quot;+ fileList[i]);\r\n        \t\t\r\n        \t\tString fileExtension;\r\n        \t\t\r\n        \t\tif(cbxIgnoreExtension.isSelected() == true ){\r\n        \t\t\tfileExtension = &quot;&quot;;\r\n        \t\t}\r\n        \t\telse\r\n        \t\t\tfileExtension = getFileExtension(fileList[i]);\r\n        \t\t\t\r\n        \t\t//this part get the original filename\t\t\r\n        \t\tString fileName = getFileName(fileList[i]);\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\tString inputInfo = &quot;The input filename-&gt;&quot;+ fileList[i] + &quot;\\nfile name-&gt;&quot; + fileName + &quot;\\nextension-&gt;&quot; + fileExtension;\t \r\n        \t\tSystem.out.println(inputInfo);\r\n        \t\t\t \r\n        \t\tif(OUTPUT_ON)\r\n        \t\t\ttxaOutput.append(&quot;\\n&quot;+inputInfo);\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\t/* generate sequence for the Name\r\n        \t\t *if the digits selection is NONE, we ignore it\r\n        \t\t */\r\n        \t\tif(digits.equals(&quot;None&quot;) == true){\r\n        \t\t\tgeneratedSequence = &quot;&quot;;\r\n    \t    \t}\r\n    \t    \telse{\r\n    \t    \t\tStartingNum = Integer.parseInt(txtSequence.getText());\r\n    \t    \t\tgeneratedSequence = nameSequence(StartingNum + i, digits);\r\n    \t    \t}\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\t//this is affected by the RenameOption, if Rename has something then only we RENAME\r\n        \t\tif(cbxRename.isSelected() == true){\r\n        \t\t\tfileName = Rename + generatedSequence;   //the fileName will change.\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\t//if Rename has nothing, but the txtSequence has some Value, we take it to the naming too\r\n        \t\t\tfileName = fileName + generatedSequence;\r\n        \t\t}\r\n        \t\t\r\n        \t\t\r\n        \t\t//the New File Name\r\n        \t\tString newFileName = Prefix + fileName + Suffix + fileExtension;\r\n        \t\tString tentativeName = &quot;new Filename will be -&gt;&quot;+newFileName+&quot;\\n&quot;;\r\n        \t\tSystem.out.println(tentativeName);\r\n        \t\t\r\n        \t\tif(OUTPUT_ON)\r\n        \t\t\ttxaOutput.append(&quot;\\n&quot;+tentativeName);\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n    \t\t    // ! Perform the file rename, if the Experimental Mode is not selected\r\n    \t\t    if(cbxExperiment.isSelected() == false){\r\n    \t\t    \t\r\n    \t\t    \toperationResult = oldFile.renameTo(new File(directory.getPath()+&quot;/&quot;+newFileName));\r\n    \t\t    \tString renameResult = &quot;\\t*Rename successfully?: &quot; + operationResult+&quot;\\n\\n&quot;;\r\n    \t\t    \tSystem.out.println(renameResult);\r\n    \t\t    \t\tif(operationResult == false)\r\n    \t\t    \t\t\tfailCount++;\r\n    \t\t    \t\t\t\r\n    \t\t\t\t\tif(OUTPUT_ON)\r\n        \t\t\t\t\ttxaOutput.append(&quot;\\n&quot;+renameResult);\r\n    \t\t    \t\t\r\n    \t\t    \t//make up the overall result\r\n    \t\t    \toverallResult = (operationResult &amp;&amp; overallResult);\r\n    \t\t    }\r\n    \t\t    \t\t\r\n        \t}\r\n        \t\r\n        \tif(cbxExperiment.isSelected() == false){\r\n    \t    \tSystem.out.println(&quot;Overall Result: &quot;+overallResult);\r\n    \t    \tif(overallResult)\r\n    \t    \t\tJOptionPane.showMessageDialog(null, &quot;All files renamed successfully!&quot;);\r\n    \t    \telse\r\n    \t    \t\tJOptionPane.showMessageDialog(null, &quot;File renamed with &quot;+ failCount+ &quot; failure(s)&quot;);\r\n        \t}//end if\r\n        \t\t\t\r\n        }//end renameFile\r\n","title":"Batch rename files while keeping part of the name?","body":"<p>Like the title suggests I want to batch rename files but keep the first 4 characters of the file name.</p>\n\n<p>Trying to modify this open source <a href=\"http://code.google.com/p/batchfilerenametool/\" rel=\"nofollow\">batchfilerenametool</a> for personal use. Any suggestions?</p>\n\n<p>I added the code that renames the file. Where it says <code>filename = filename + generatedSequence;</code> pretty sure that is where I need to add it, but what would specify just the first 4 characters of the file name?</p>\n\n<pre><code>//this is affected by the RenameOption, if Rename has something then only we RENAME\nif(cbxRename.isSelected() == true){\n   fileName = Rename + generatedSequence;   //the fileName will change.\n}\nelse {\n   //if Rename has nothing, but the txtSequence has some Value, we take it to the naming too\n   fileName = fileName + generatedSequence;\n}\n</code></pre>\n\n<p>Below is the rename part of the code. </p>\n\n<pre><code>private void renameFile(){\n\n        boolean operationResult = false;\n        boolean overallResult = true;\n        int failCount = 0;\n\n        /* the operation of this part is ensured by the chooseDirectory()\n         * WE get the list of files in the directory\n         * get the conditions set by users\n         * and perform the file rename operation.\n         */\n\n        //Let's get all the information from user\n        String[] fileList = directory.list();  //the list of files in the directory\n        String Prefix = txtPrefix.getText();\n        String Rename = txtRename.getText();\n        String Suffix = txtSuffix.getText();\n        String digits = (String) cboSequence.getSelectedItem();\n        int StartingNum;\n        String generatedSequence;\n        File oldFile;\n\n        //let's call the output frame\n        if(cbxOutput.isSelected() &amp;&amp; OUTPUT_ON == false){\n            buildOutput();\n            OUTPUT_ON = true;\n        }\n\n\n\n\n        //display the list of files and readability of each file\n        for(int i = 0; i &lt; fileList.length; i++){   \n            oldFile = new File(directory.getPath()+\"/\"+ fileList[i]);\n            String readability = fileList[i] +\" - readable?: \"+oldFile.canRead();\n            System.out.println(readability);\n\n            if(OUTPUT_ON)\n                txaOutput.append(\"\\n\"+readability);\n        }\n\n        for(int i = 0; i &lt; fileList.length; i++){\n\n            /* get the file extension that we need, and form a new name, \n             * we would check if the Ignore File Extension is selected\n             */\n            oldFile = new File(directory.getPath()+\"/\"+ fileList[i]);\n\n            String fileExtension;\n\n            if(cbxIgnoreExtension.isSelected() == true ){\n                fileExtension = \"\";\n            }\n            else\n                fileExtension = getFileExtension(fileList[i]);\n\n            //this part get the original filename       \n            String fileName = getFileName(fileList[i]);\n\n\n\n            String inputInfo = \"The input filename-&gt;\"+ fileList[i] + \"\\nfile name-&gt;\" + fileName + \"\\nextension-&gt;\" + fileExtension;   \n            System.out.println(inputInfo);\n\n            if(OUTPUT_ON)\n                txaOutput.append(\"\\n\"+inputInfo);\n\n\n\n            /* generate sequence for the Name\n             *if the digits selection is NONE, we ignore it\n             */\n            if(digits.equals(\"None\") == true){\n                generatedSequence = \"\";\n            }\n            else{\n                StartingNum = Integer.parseInt(txtSequence.getText());\n                generatedSequence = nameSequence(StartingNum + i, digits);\n            }\n\n\n\n\n            //this is affected by the RenameOption, if Rename has something then only we RENAME\n            if(cbxRename.isSelected() == true){\n                fileName = Rename + generatedSequence;   //the fileName will change.\n            }\n            else{\n                //if Rename has nothing, but the txtSequence has some Value, we take it to the naming too\n                fileName = fileName + generatedSequence;\n            }\n\n\n            //the New File Name\n            String newFileName = Prefix + fileName + Suffix + fileExtension;\n            String tentativeName = \"new Filename will be -&gt;\"+newFileName+\"\\n\";\n            System.out.println(tentativeName);\n\n            if(OUTPUT_ON)\n                txaOutput.append(\"\\n\"+tentativeName);\n\n\n\n\n            // ! Perform the file rename, if the Experimental Mode is not selected\n            if(cbxExperiment.isSelected() == false){\n\n                operationResult = oldFile.renameTo(new File(directory.getPath()+\"/\"+newFileName));\n                String renameResult = \"\\t*Rename successfully?: \" + operationResult+\"\\n\\n\";\n                System.out.println(renameResult);\n                    if(operationResult == false)\n                        failCount++;\n\n                    if(OUTPUT_ON)\n                        txaOutput.append(\"\\n\"+renameResult);\n\n                //make up the overall result\n                overallResult = (operationResult &amp;&amp; overallResult);\n            }\n\n        }\n\n        if(cbxExperiment.isSelected() == false){\n            System.out.println(\"Overall Result: \"+overallResult);\n            if(overallResult)\n                JOptionPane.showMessageDialog(null, \"All files renamed successfully!\");\n            else\n                JOptionPane.showMessageDialog(null, \"File renamed with \"+ failCount+ \" failure(s)\");\n        }//end if\n\n    }//end renameFile\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670353687,"post_id":74707708,"comment_id":131855809,"body_markdown":"If you want to continue with your current approach, see [nested controllers](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers) in the documentation.  With fx:include, a controller (GraphPaneController) is created and its reference can be injected via @FXML into the containing controller (GamemodeSelectController), but just one, not multiple.  You can use the injected reference from a click handler in GamemodeSelectController rather than loading new fxml (which will create a new controller for a view unattached to the scene graph).","body":"If you want to continue with your current approach, see <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\" rel=\"nofollow noreferrer\">nested controllers</a> in the documentation.  With fx:include, a controller (GraphPaneController) is created and its reference can be injected via @FXML into the containing controller (GamemodeSelectController), but just one, not multiple.  You can use the injected reference from a click handler in GamemodeSelectController rather than loading new fxml (which will create a new controller for a view unattached to the scene graph)."},{"owner":{"account_id":6794254,"reputation":1,"user_id":5230199,"display_name":"Nate Macdonald"},"score":0,"creation_date":1670353728,"post_id":74707708,"comment_id":131855829,"body_markdown":"Thanks @trashgod - I like that idea. Could you give me an idea of what this `GraphView` class would look like? What functionality do I need to implement for this viewer to display the graph from `GraphModel`?","body":"Thanks @trashgod - I like that idea. Could you give me an idea of what this <code>GraphView</code> class would look like? What functionality do I need to implement for this viewer to display the graph from <code>GraphModel</code>?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670354558,"post_id":74707708,"comment_id":131856094,"body_markdown":"Reviewing your code, probably, if you add the following lines to GamemodeSelectController, you will see a circle display `@FXML private GraphPaneController graphPaneController;` and in the `initialize` function `graphPaneController.addCircle()`, while also removing all code but `Frontend.setRoot(&quot;gamemode_select&quot;);` from `startButtonClicked`.","body":"Reviewing your code, probably, if you add the following lines to GamemodeSelectController, you will see a circle display <code>@FXML private GraphPaneController graphPaneController;</code> and in the <code>initialize</code> function <code>graphPaneController.addCircle()</code>, while also removing all code but <code>Frontend.setRoot(&quot;gamemode_select&quot;);</code> from <code>startButtonClicked</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670354585,"post_id":74707708,"comment_id":131856095,"body_markdown":"Note that all I am doing is trying to work out untested patches to your code snippets to make it do something (which may not actually be what you ultimately want), on the other hand, trashgod is trying to provide a more fundamental potential solution to your underlying requirements.","body":"Note that all I am doing is trying to work out untested patches to your code snippets to make it do something (which may not actually be what you ultimately want), on the other hand, trashgod is trying to provide a more fundamental potential solution to your underlying requirements."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1670355096,"post_id":74707708,"comment_id":131856239,"body_markdown":"You&#39;re loading `graph_pane.fxml` twice. You load it once, explicitly, in `startButtonClicked()`, and you modify the `AnchorPane` that&#39;s created when it&#39;s loaded that time via the call to the controller. So that `AnchorPane` will contain a circle. However, you never actually display that `AnchorPane` anywhere. Then you load `gamemode_select.fxml`, which loads another copy of `graph_pane.fxml` via the `&lt;fx:include&gt;`. At no point do you call `addCircle()` on the controller that is created the second time you load `graph_pane.fxml`, so no circle is displayed in that instance of the `AnchorPane`.","body":"You&#39;re loading <code>graph_pane.fxml</code> twice. You load it once, explicitly, in <code>startButtonClicked()</code>, and you modify the <code>AnchorPane</code> that&#39;s created when it&#39;s loaded that time via the call to the controller. So that <code>AnchorPane</code> will contain a circle. However, you never actually display that <code>AnchorPane</code> anywhere. Then you load <code>gamemode_select.fxml</code>, which loads another copy of <code>graph_pane.fxml</code> via the <code>&lt;fx:include&gt;</code>. At no point do you call <code>addCircle()</code> on the controller that is created the second time you load <code>graph_pane.fxml</code>, so no circle is displayed in that instance of the <code>AnchorPane</code>."},{"owner":{"account_id":6794254,"reputation":1,"user_id":5230199,"display_name":"Nate Macdonald"},"score":2,"creation_date":1670363849,"post_id":74707708,"comment_id":131858888,"body_markdown":"@trashgod thanks for your help, I got it to work using a model class and a viewer class","body":"@trashgod thanks for your help, I got it to work using a model class and a viewer class"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1670365895,"post_id":74707708,"comment_id":131859346,"body_markdown":"You can [answer your own question](http://meta.stackoverflow.com/q/17463/163188).","body":"You can <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>."}],"answers":[{"tags":[],"owner":{"account_id":6794254,"reputation":1,"user_id":5230199,"display_name":"Nate Macdonald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675258303,"creation_date":1675258303,"answer_id":75310941,"question_id":74707708,"body_markdown":"So I got this to work by creating a model class (```GraphModel```) and a viewer class (```GraphView```) for the graph. The model class handles creating the vertices and edges, and the viewer class is reponsible for displaying the graph.\r\n\r\n```GraphView``` extends ```javafx.scene.layout.Pane``` and contains an ```AnchorPane``` attribute, containing the elements of the graph to be displayed, which can be added to scenes by calling a ```getAnchorPane``` method on the ```GraphView``` object. ","title":"How do I dynamically add javaFX shapes to a shared pane through its controller class?","body":"<p>So I got this to work by creating a model class (<code>GraphModel</code>) and a viewer class (<code>GraphView</code>) for the graph. The model class handles creating the vertices and edges, and the viewer class is reponsible for displaying the graph.</p>\n<p><code>GraphView</code> extends <code>javafx.scene.layout.Pane</code> and contains an <code>AnchorPane</code> attribute, containing the elements of the graph to be displayed, which can be added to scenes by calling a <code>getAnchorPane</code> method on the <code>GraphView</code> object.</p>\n"}],"owner":{"account_id":6794254,"reputation":1,"user_id":5230199,"display_name":"Nate Macdonald"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75310941,"answer_count":1,"score":0,"last_activity_date":1675258303,"creation_date":1670352585,"question_id":74707708,"body_markdown":"I am creating an application which requires a graph consisting of nodes and edges to be displayed. Each node is represented by a Circle object and each edge is a Line.\r\n\r\nI have multiple scenes in the application, but the graph needs to be displayed in more than one of these scenes. So, I have created a fxml file using scene builder which only consists of an anchor pane which I want to be able to display my graph on. I have included this fxml file in the other scenes that require the graph to be displayed, so that I can use one controller to add the graph to a single anchor pane which will be shared across many scenes. \r\n\r\nHowever, when I add my circles and lines as children to the anchor pane using the controller, they are not visible. Using the debug tool I can see that they are indeed children of the anchor pane, but they are not being displayed. I can see objects that I add to the anchor pane using scene builder (for example, I used scene builder to add a circle to the anchor pane and I could see that when running my GUI, but none of the other children which I added via code).\r\n\r\n\r\n\r\n\r\n\r\n\r\nTo reduce the scope of the problem, I attempted to create a single circle and add it to the anchor pane through my controller class. Despite being a child of the anchor pane, this circle was not visible when running the GUI.\r\n\r\nGraphPaneController.java\r\n```\r\npublic class GraphPaneController {\r\n    @FXML Pane paneGraph;\r\n    public void addCircle() {\r\n        \r\n        Circle circle = new Circle();\r\n        circle.setFill(Color.RED);\r\n        circle.setRadius(50);\r\n        circle.setCenterX(0);\r\n        circle.setCenterY(0);\r\n        \r\n        paneGraph.getChildren().add(circle);\r\n\r\n    }\r\n}\r\n```\r\n\r\nMainMenuController.java\r\n```\r\npublic class MainMenuController {\r\n    public void startButtonClicked() {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;graph_pane.fxml&quot;));\r\n        Parent root = loader.load();\r\n        GraphPaneController gpController = loader.getController();\r\n        controller.addCircle();\r\n        Frontend.setRoot(&quot;gamemode_select&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFrontend.java\r\n```\r\npublic class Frontend extends Application {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage mainStage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;mainmenu.fxml&quot;));\r\n        Scene scene = new Scene(root, 600, 400);\r\n        mainStage.setScene(scene);\r\n        mainStage.show();\r\n    }\r\n    \r\n    public static void setRoot(String fxml) throws IOException {\r\n        newScene.setRoot(loadFXML(fxml));\r\n    }\r\n\r\n    public static Parent loadFXML(String fxml) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(Frontend.class.getResource(fxml + &quot;.fxml&quot;));\r\n        return fxmlLoader.load();\r\n    }\r\n\r\n}\r\n```\r\n\r\nmainmenu.fxml\r\n```\r\n&lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;graphvis.group30.MainMenuController&quot;&gt;\r\n  &lt;children&gt;\r\n    &lt;AnchorPane id=&quot;ap&quot; maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;ImageView fitHeight=&quot;400.0&quot; fitWidth=&quot;640.0&quot; opacity=&quot;0.19&quot; pickOnBounds=&quot;true&quot; /&gt;\r\n            &lt;Label layoutX=&quot;198.0&quot; layoutY=&quot;112.0&quot; text=&quot;Graph Colouring Game&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;24.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button id=&quot;btnInputGraphFromFile&quot; layoutX=&quot;255.0&quot; layoutY=&quot;200.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnInputGraphFromFileClicked&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;130.0&quot; text=&quot;Input graph from file&quot; /&gt;\r\n            &lt;Button id=&quot;btnCreateRandomGraph&quot; layoutX=&quot;255.0&quot; layoutY=&quot;235.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnCreateRandomGraphClicked&quot; text=&quot;Create random graph&quot; /&gt;\r\n            &lt;Label layoutX=&quot;197.0&quot; layoutY=&quot;138.0&quot; prefHeight=&quot;61.0&quot; prefWidth=&quot;245.0&quot; text=&quot;Made by Nathan Macdonald, Kasper van der Horst, Oguz Kagan Yarim, Miriam Espinosa, Dorina Sili&quot; textAlignment=&quot;CENTER&quot; wrapText=&quot;true&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;10.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button layoutX=&quot;255.0&quot; layoutY=&quot;269.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnQuitClicked&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;130.0&quot; text=&quot;Quit&quot; /&gt;\r\n         &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n  &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\ngraph_pane.fxml\r\n```\r\n&lt;AnchorPane fx:id=&quot;paneGraph&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;graphvis.group30.GraphPaneController&quot; /&gt;\r\n```\r\n\r\ngamemode_select.fxml\r\n```\r\n&lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;graphvis.group30.GamemodeSelectController&quot;&gt;\r\n  &lt;children&gt;\r\n    &lt;AnchorPane maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n      &lt;children&gt;\r\n            &lt;fx:include source=&quot;graph_pane.fxml&quot; /&gt;\r\n            &lt;Label layoutX=&quot;139.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Select Gamemode:&quot; wrapText=&quot;true&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;18.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button fx:id=&quot;btnGamemode1&quot; layoutX=&quot;299.0&quot; layoutY=&quot;33.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnGamemode1Clicked&quot; text=&quot;untill death&quot; /&gt;\r\n            &lt;Button fx:id=&quot;btnGamemode2&quot; layoutX=&quot;384.0&quot; layoutY=&quot;33.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnGamemode2Clicked&quot; text=&quot;timed&quot; /&gt;\r\n            &lt;Button fx:id=&quot;btnGamemode3&quot; layoutX=&quot;440.0&quot; layoutY=&quot;33.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnGamemode3Clicked&quot; text=&quot;random &quot; /&gt;\r\n            &lt;Button fx:id=&quot;btnBack&quot; layoutX=&quot;14.0&quot; layoutY=&quot;360.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnBackClicked&quot; text=&quot;back&quot; /&gt;\r\n      &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n  &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\nWhen viewing the gamemode select screen, I expect to see the circle that I added to the graph pane through the GraphPaneController, but it is not there. What do I do so that I can add visual components to a pane which is shared across multiple scenes?\r\n\r\n","title":"How do I dynamically add javaFX shapes to a shared pane through its controller class?","body":"<p>I am creating an application which requires a graph consisting of nodes and edges to be displayed. Each node is represented by a Circle object and each edge is a Line.</p>\n<p>I have multiple scenes in the application, but the graph needs to be displayed in more than one of these scenes. So, I have created a fxml file using scene builder which only consists of an anchor pane which I want to be able to display my graph on. I have included this fxml file in the other scenes that require the graph to be displayed, so that I can use one controller to add the graph to a single anchor pane which will be shared across many scenes.</p>\n<p>However, when I add my circles and lines as children to the anchor pane using the controller, they are not visible. Using the debug tool I can see that they are indeed children of the anchor pane, but they are not being displayed. I can see objects that I add to the anchor pane using scene builder (for example, I used scene builder to add a circle to the anchor pane and I could see that when running my GUI, but none of the other children which I added via code).</p>\n<p>To reduce the scope of the problem, I attempted to create a single circle and add it to the anchor pane through my controller class. Despite being a child of the anchor pane, this circle was not visible when running the GUI.</p>\n<p>GraphPaneController.java</p>\n<pre><code>public class GraphPaneController {\n    @FXML Pane paneGraph;\n    public void addCircle() {\n        \n        Circle circle = new Circle();\n        circle.setFill(Color.RED);\n        circle.setRadius(50);\n        circle.setCenterX(0);\n        circle.setCenterY(0);\n        \n        paneGraph.getChildren().add(circle);\n\n    }\n}\n</code></pre>\n<p>MainMenuController.java</p>\n<pre><code>public class MainMenuController {\n    public void startButtonClicked() {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;graph_pane.fxml&quot;));\n        Parent root = loader.load();\n        GraphPaneController gpController = loader.getController();\n        controller.addCircle();\n        Frontend.setRoot(&quot;gamemode_select&quot;);\n    }\n}\n</code></pre>\n<p>Frontend.java</p>\n<pre><code>public class Frontend extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage mainStage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;mainmenu.fxml&quot;));\n        Scene scene = new Scene(root, 600, 400);\n        mainStage.setScene(scene);\n        mainStage.show();\n    }\n    \n    public static void setRoot(String fxml) throws IOException {\n        newScene.setRoot(loadFXML(fxml));\n    }\n\n    public static Parent loadFXML(String fxml) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(Frontend.class.getResource(fxml + &quot;.fxml&quot;));\n        return fxmlLoader.load();\n    }\n\n}\n</code></pre>\n<p>mainmenu.fxml</p>\n<pre><code>&lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;graphvis.group30.MainMenuController&quot;&gt;\n  &lt;children&gt;\n    &lt;AnchorPane id=&quot;ap&quot; maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n         &lt;children&gt;\n            &lt;ImageView fitHeight=&quot;400.0&quot; fitWidth=&quot;640.0&quot; opacity=&quot;0.19&quot; pickOnBounds=&quot;true&quot; /&gt;\n            &lt;Label layoutX=&quot;198.0&quot; layoutY=&quot;112.0&quot; text=&quot;Graph Colouring Game&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;24.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button id=&quot;btnInputGraphFromFile&quot; layoutX=&quot;255.0&quot; layoutY=&quot;200.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnInputGraphFromFileClicked&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;130.0&quot; text=&quot;Input graph from file&quot; /&gt;\n            &lt;Button id=&quot;btnCreateRandomGraph&quot; layoutX=&quot;255.0&quot; layoutY=&quot;235.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnCreateRandomGraphClicked&quot; text=&quot;Create random graph&quot; /&gt;\n            &lt;Label layoutX=&quot;197.0&quot; layoutY=&quot;138.0&quot; prefHeight=&quot;61.0&quot; prefWidth=&quot;245.0&quot; text=&quot;Made by Nathan Macdonald, Kasper van der Horst, Oguz Kagan Yarim, Miriam Espinosa, Dorina Sili&quot; textAlignment=&quot;CENTER&quot; wrapText=&quot;true&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;10.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button layoutX=&quot;255.0&quot; layoutY=&quot;269.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnQuitClicked&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;130.0&quot; text=&quot;Quit&quot; /&gt;\n         &lt;/children&gt;\n    &lt;/AnchorPane&gt;\n  &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>graph_pane.fxml</p>\n<pre><code>&lt;AnchorPane fx:id=&quot;paneGraph&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;graphvis.group30.GraphPaneController&quot; /&gt;\n</code></pre>\n<p>gamemode_select.fxml</p>\n<pre><code>&lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;graphvis.group30.GamemodeSelectController&quot;&gt;\n  &lt;children&gt;\n    &lt;AnchorPane maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n      &lt;children&gt;\n            &lt;fx:include source=&quot;graph_pane.fxml&quot; /&gt;\n            &lt;Label layoutX=&quot;139.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Select Gamemode:&quot; wrapText=&quot;true&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;18.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button fx:id=&quot;btnGamemode1&quot; layoutX=&quot;299.0&quot; layoutY=&quot;33.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnGamemode1Clicked&quot; text=&quot;untill death&quot; /&gt;\n            &lt;Button fx:id=&quot;btnGamemode2&quot; layoutX=&quot;384.0&quot; layoutY=&quot;33.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnGamemode2Clicked&quot; text=&quot;timed&quot; /&gt;\n            &lt;Button fx:id=&quot;btnGamemode3&quot; layoutX=&quot;440.0&quot; layoutY=&quot;33.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnGamemode3Clicked&quot; text=&quot;random &quot; /&gt;\n            &lt;Button fx:id=&quot;btnBack&quot; layoutX=&quot;14.0&quot; layoutY=&quot;360.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#btnBackClicked&quot; text=&quot;back&quot; /&gt;\n      &lt;/children&gt;\n    &lt;/AnchorPane&gt;\n  &lt;/children&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p>When viewing the gamemode select screen, I expect to see the circle that I added to the graph pane through the GraphPaneController, but it is not there. What do I do so that I can add visual components to a pane which is shared across multiple scenes?</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1675176372,"post_id":75298846,"comment_id":132869379,"body_markdown":"What *do* you know about calculating the slope of a line?","body":"What <i>do</i> you know about calculating the slope of a line?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1675177813,"post_id":75298846,"comment_id":132869912,"body_markdown":"Why is &quot;getScope&quot; declared as static? If it is non-static you can write a formula using p1 and p2 to get the slope. Same with your other static &quot;getPointOne&quot; make it non-static and return p1.","body":"Why is &quot;getScope&quot; declared as static? If it is non-static you can write a formula using p1 and p2 to get the slope. Same with your other static &quot;getPointOne&quot; make it non-static and return p1."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675185883,"post_id":75298846,"comment_id":132872774,"body_markdown":"Why are you calling a double field `xint` or `yint`?  How about just `x and y`?  And as @matt said, make you getters instance methods (i.e. non-static).","body":"Why are you calling a double field <code>xint</code> or <code>yint</code>?  How about just <code>x and y</code>?  And as @matt said, make you getters instance methods (i.e. non-static)."},{"owner":{"account_id":27667233,"reputation":1,"user_id":21118819,"display_name":"Evan Miller"},"score":0,"creation_date":1675254526,"post_id":75298846,"comment_id":132887979,"body_markdown":"@WJS sorry I’m brand new to Java and I don’t know much about programming. This is a lab for a CS class, and my other programming comes from Python (which I never got into classes with). This is new to me","body":"@WJS sorry I’m brand new to Java and I don’t know much about programming. This is a lab for a CS class, and my other programming comes from Python (which I never got into classes with). This is new to me"},{"owner":{"account_id":27667233,"reputation":1,"user_id":21118819,"display_name":"Evan Miller"},"score":0,"creation_date":1675254599,"post_id":75298846,"comment_id":132887992,"body_markdown":"@ScottHunter I do know about slope, just I’m not very knowledgeable on Java in the slightest. I just started learning","body":"@ScottHunter I do know about slope, just I’m not very knowledgeable on Java in the slightest. I just started learning"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675254980,"post_id":75298846,"comment_id":132888135,"body_markdown":"@EvanMiller Welcome to StackOverflow.  Please take the [tour] to see what this site is about.  And also read [ask].  Regarding `xint` and `yint` what I meant was they aren&#39;t `ints` but `doubles`.  Usually one names variables something meaningful.  Since `x` and `y` are meaningful in an algebraic context, they could be used without including the type as part of the name.  But that is your decision.","body":"@EvanMiller Welcome to StackOverflow.  Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to see what this site is about.  And also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  Regarding <code>xint</code> and <code>yint</code> what I meant was they aren&#39;t <code>ints</code> but <code>doubles</code>.  Usually one names variables something meaningful.  Since <code>x</code> and <code>y</code> are meaningful in an algebraic context, they could be used without including the type as part of the name.  But that is your decision."},{"owner":{"account_id":27667233,"reputation":1,"user_id":21118819,"display_name":"Evan Miller"},"score":0,"creation_date":1675261010,"post_id":75298846,"comment_id":132890298,"body_markdown":"@WJS ohh those are going to reference the x intercept and y intercept. Would it be better practice to change the name?","body":"@WJS ohh those are going to reference the x intercept and y intercept. Would it be better practice to change the name?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675262060,"post_id":75298846,"comment_id":132890693,"body_markdown":"Well chosen names contribute to code documentation.   So one might find `double xInt` confusing or misleading further in the code.   Check out the [Java Naming Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) for more information.","body":"Well chosen names contribute to code documentation.   So one might find <code>double xInt</code> confusing or misleading further in the code.   Check out the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a> for more information."}],"answers":[{"tags":[],"owner":{"account_id":4292723,"reputation":16,"user_id":3508630,"display_name":"Sakuragi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675258143,"creation_date":1675177541,"answer_id":75299109,"question_id":75298846,"body_markdown":"A common slope calculation between 2 points would be:\r\n\r\n        slope = DeltaY / DeltaX = (y2 - y1) / (x2 - x1)\r\n\r\nSo in your getSlope() method you&#39;d use:\r\n\r\n        double slope = (p2.getY() - p1.getY()) / (p2.getX() - p1.getX());\r\n\r\nBy the way I think there are a couple of mistakes in your code:\r\n1) your getX() and getY() don&#39;t need to have &#39;x&#39; and &#39;y&#39; respectively as parameters. The x and y values are inside the MyPoint class&#39; p1 and p2 instances.\r\n2) On the other hand, the MyPoint constructor needs to receive the &#39;x&#39; and &#39;y&#39; parameters, in order to assign them to the inner xP and yP variables respectively.\r\n\r\n","title":"Find the slope using variables from another file in Java","body":"<p>A common slope calculation between 2 points would be:</p>\n<pre><code>    slope = DeltaY / DeltaX = (y2 - y1) / (x2 - x1)\n</code></pre>\n<p>So in your getSlope() method you'd use:</p>\n<pre><code>    double slope = (p2.getY() - p1.getY()) / (p2.getX() - p1.getX());\n</code></pre>\n<p>By the way I think there are a couple of mistakes in your code:</p>\n<ol>\n<li>your getX() and getY() don't need to have 'x' and 'y' respectively as parameters. The x and y values are inside the MyPoint class' p1 and p2 instances.</li>\n<li>On the other hand, the MyPoint constructor needs to receive the 'x' and 'y' parameters, in order to assign them to the inner xP and yP variables respectively.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675184706,"creation_date":1675184706,"answer_id":75300606,"question_id":75298846,"body_markdown":"The slope is calculated as `rise/run` which means `delta Y` divided by `delta X`.\r\n\r\n```\r\ndouble slope = (p1.getY() - p2.getY())/(p1.getX() - p2.getX());\r\n```\r\nand the equation of the line is `y = slope*x + b` where `b` is the `y-intercept` (where the line crosses the `y-axis` if extended that far).\r\n```\r\ndouble b = y - slope*x;  // use either point for x,y\r\n","title":"Find the slope using variables from another file in Java","body":"<p>The slope is calculated as <code>rise/run</code> which means <code>delta Y</code> divided by <code>delta X</code>.</p>\n<pre><code>double slope = (p1.getY() - p2.getY())/(p1.getX() - p2.getX());\n</code></pre>\n<p>and the equation of the line is <code>y = slope*x + b</code> where <code>b</code> is the <code>y-intercept</code> (where the line crosses the <code>y-axis</code> if extended that far).</p>\n<pre><code>double b = y - slope*x;  // use either point for x,y\n</code></pre>\n"}],"owner":{"account_id":27667233,"reputation":1,"user_id":21118819,"display_name":"Evan Miller"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675258143,"creation_date":1675176264,"question_id":75298846,"body_markdown":"I&#39;m doing this project where I need to have this specific class structure and find the slope. I need to somehow find the slope using points 1  and 2 (p1, p2). \r\n```\r\n//file MyPoint\r\n\r\nimport java.text.DecimalFormat;\r\n\r\npublic class MyPoint {\r\n\r\n    private double x;\r\n    private double y;\r\n\r\n    public MyPoint() {\r\n        double xP = x;\r\n        double yP = y;\r\n    }\r\n\r\n    public double getX(double x) {\r\n        return x;\r\n    }\r\n\r\n    public double getY(double y) {\r\n        return y;\r\n    }\r\n\r\n    public String toString() {\r\n        DecimalFormat df_obj = new DecimalFormat(&quot;#.###&quot;);\r\n        return &quot;(&quot; + df_obj.format(getX(x)) + &quot;,&quot; + df_obj.format(getY(y)) + &quot;)&quot;;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n//file MyLine\r\n\r\npublic class MyLine {\r\n\r\n    private MyPoint p1;\r\n    private MyPoint p2;\r\n    private double slope;\r\n    private double xint;\r\n    private double yint;\r\n\r\n    public MyLine(MyPoint p1, MyPoint p2) {\r\n        p1 = new MyPoint();\r\n        p2 = new MyPoint();\r\n    }\r\n\r\n    public static MyPoint getPointOne(MyPoint p1) {\r\n        return p1;\r\n    }\r\n\r\n    public static MyPoint getPointTwo(MyPoint p2) {\r\n        return p2;\r\n    }\r\n\r\n    public static double getSlope() {\r\n        double slope = //don&#39;t know what to put here in order to get the slope from p1 and p2;\r\n        return slope;\r\n    }\r\n\r\n}\r\n```","title":"Find the slope using variables from another file in Java","body":"<p>I'm doing this project where I need to have this specific class structure and find the slope. I need to somehow find the slope using points 1  and 2 (p1, p2).</p>\n<pre><code>//file MyPoint\n\nimport java.text.DecimalFormat;\n\npublic class MyPoint {\n\n    private double x;\n    private double y;\n\n    public MyPoint() {\n        double xP = x;\n        double yP = y;\n    }\n\n    public double getX(double x) {\n        return x;\n    }\n\n    public double getY(double y) {\n        return y;\n    }\n\n    public String toString() {\n        DecimalFormat df_obj = new DecimalFormat(&quot;#.###&quot;);\n        return &quot;(&quot; + df_obj.format(getX(x)) + &quot;,&quot; + df_obj.format(getY(y)) + &quot;)&quot;;\n    }\n\n}\n\n\n\n//file MyLine\n\npublic class MyLine {\n\n    private MyPoint p1;\n    private MyPoint p2;\n    private double slope;\n    private double xint;\n    private double yint;\n\n    public MyLine(MyPoint p1, MyPoint p2) {\n        p1 = new MyPoint();\n        p2 = new MyPoint();\n    }\n\n    public static MyPoint getPointOne(MyPoint p1) {\n        return p1;\n    }\n\n    public static MyPoint getPointTwo(MyPoint p2) {\n        return p2;\n    }\n\n    public static double getSlope() {\n        double slope = //don't know what to put here in order to get the slope from p1 and p2;\n        return slope;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1675225119,"post_id":75305134,"comment_id":132880774,"body_markdown":"Try `mvn package spring-boot:repackage` the run the jar file.","body":"Try <code>mvn package spring-boot:repackage</code> the run the jar file."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675236485,"post_id":75305134,"comment_id":132882566,"body_markdown":"And how are you building the jar? Please show your full pom and not jut random snippets.","body":"And how are you building the jar? Please show your full pom and not jut random snippets."},{"owner":{"account_id":10076777,"reputation":213,"user_id":7448604,"display_name":"KJ0797"},"score":0,"creation_date":1675258048,"post_id":75305134,"comment_id":132889166,"body_markdown":"Added to my post how the jar was built with `mvn clean install`. I also added some of the generated MANIFEST file. Running `mvn package spring-boot:repackage` made no difference","body":"Added to my post how the jar was built with <code>mvn clean install</code>. I also added some of the generated MANIFEST file. Running <code>mvn package spring-boot:repackage</code> made no difference"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675320237,"post_id":75305134,"comment_id":132904322,"body_markdown":"Please add your full `pom.xml`, you shouldn&#39;t need the jar plugin. So are you really creating the jar the way you are stating or are you using (in addition) the export function of your IDE?","body":"Please add your full <code>pom.xml</code>, you shouldn&#39;t need the jar plugin. So are you really creating the jar the way you are stating or are you using (in addition) the export function of your IDE?"}],"answers":[{"tags":[],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675222776,"creation_date":1675222776,"answer_id":75305420,"question_id":75305134,"body_markdown":"I&#39;m guessing you didn&#39;t add the dependency to your POM, although I can&#39;t know without seeing it.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Spring Boot app runs through the spring-boot-maven-plugin, but not the jar","body":"<p>I'm guessing you didn't add the dependency to your POM, although I can't know without seeing it.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10076777,"reputation":213,"user_id":7448604,"display_name":"KJ0797"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675258011,"creation_date":1675219362,"question_id":75305134,"body_markdown":"I have a Spring Boot application that builds a jar successfully. However, when I run this jar, I receive an error:\r\n```sh\r\nmvn clean install\r\n```\r\n```sh\r\n&gt; java -jar target/my-app-api-0.0.local.jar\r\n\r\nException&#160;in&#160;thread&#160;&quot;main&quot;&#160;java.lang.NoClassDefFoundError:&#160;org/springframework/boot/SpringApplication\r\n```\r\nHowever, I am able to run the app through the `spring-boot-maven-plugin` via IntelliJ maven tab or through the `mvn spring-boot:run command`. The plugin is included in the pom:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&lt;/plugin&gt;\r\n```\r\nWhat could be a reason for this difference? I had previously received an error for not having a `main` method declared in the generated manifest, but added the maven-jar-plugin to specify this\r\n```txt\r\nMain-Class: org.springframework.boot.loader.JarLauncher\r\nStart-Class: com.proofpoint.app.MyAppApiApplication\r\nSpring-Boot-Version: 3.0.2\r\nSpring-Boot-Classes: BOOT-INF/classes/\r\nSpring-Boot-Lib: BOOT-INF/lib/\r\nSpring-Boot-Classpath-Index: BOOT-INF/classpath.idx\r\nSpring-Boot-Layers-Index: BOOT-INF/layers.idx\r\n```","title":"Spring Boot app runs through the spring-boot-maven-plugin, but not the jar","body":"<p>I have a Spring Boot application that builds a jar successfully. However, when I run this jar, I receive an error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean install\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; java -jar target/my-app-api-0.0.local.jar\n\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\n</code></pre>\n<p>However, I am able to run the app through the <code>spring-boot-maven-plugin</code> via IntelliJ maven tab or through the <code>mvn spring-boot:run command</code>. The plugin is included in the pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>What could be a reason for this difference? I had previously received an error for not having a <code>main</code> method declared in the generated manifest, but added the maven-jar-plugin to specify this</p>\n<pre><code>Main-Class: org.springframework.boot.loader.JarLauncher\nStart-Class: com.proofpoint.app.MyAppApiApplication\nSpring-Boot-Version: 3.0.2\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nSpring-Boot-Classpath-Index: BOOT-INF/classpath.idx\nSpring-Boot-Layers-Index: BOOT-INF/layers.idx\n</code></pre>\n"},{"tags":["java","spring-boot","logback","spring-logback"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1648537194,"post_id":71656353,"comment_id":126642146,"body_markdown":"Do you have additional Logback configurations, where you e.g. restrict the log level for specific appenders?","body":"Do you have additional Logback configurations, where you e.g. restrict the log level for specific appenders?"}],"answers":[{"tags":[],"owner":{"account_id":6969304,"reputation":547,"user_id":5346203,"display_name":"Alex Cumarav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648547083,"creation_date":1648547083,"answer_id":71659763,"question_id":71656353,"body_markdown":"You probably need to configure logging appenders. Setting log levels is not enough.\r\nPlease check out this article [spring-boot-logging][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-logging","title":"Logback and logging specific package in Spring Boot","body":"<p>You probably need to configure logging appenders. Setting log levels is not enough.\nPlease check out this article <a href=\"https://www.baeldung.com/spring-boot-logging\" rel=\"nofollow noreferrer\">spring-boot-logging</a></p>\n"}],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1754,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675257850,"creation_date":1648527138,"question_id":71656353,"body_markdown":"I&#39;m using Spring Boot v2.3.9.RELEASE with the Logback framework.\r\n\r\nI want Spring/Logback to log debug messages, but it refuses to do so. The application.yml has multiple ways to plead with it to log DEBUG messages. I saw multiple ways of doing a specific package. I my attempts for application.yml below:\r\n```\r\nspring:\r\n  logging:\r\n    level:\r\n        com.mycompany.mypackage: DEBUG\r\nlogging:\r\n  level:\r\n    com.mycompany.mypackage: DEBUG\r\n```\r\n\r\nI&#39;m not sure if it matters, but the YAML indentation above is 2 spaces per level.\r\n\r\nInvoked using:\r\n```\r\n    ...\r\n    protected static final Logger log = LoggerFactory.getLogger(ToolClient.class);\r\n    ...\r\n    log.debug(&quot;My debugging statement&quot;);\r\n\r\n```\r\n\r\nHad I chosen log.info(&quot;...&quot;), it would have worked.\r\n\r\nWhich incantation of application.yml do I need to do to get Logback to work?\r\n","title":"Logback and logging specific package in Spring Boot","body":"<p>I'm using Spring Boot v2.3.9.RELEASE with the Logback framework.</p>\n<p>I want Spring/Logback to log debug messages, but it refuses to do so. The application.yml has multiple ways to plead with it to log DEBUG messages. I saw multiple ways of doing a specific package. I my attempts for application.yml below:</p>\n<pre><code>spring:\n  logging:\n    level:\n        com.mycompany.mypackage: DEBUG\nlogging:\n  level:\n    com.mycompany.mypackage: DEBUG\n</code></pre>\n<p>I'm not sure if it matters, but the YAML indentation above is 2 spaces per level.</p>\n<p>Invoked using:</p>\n<pre><code>    ...\n    protected static final Logger log = LoggerFactory.getLogger(ToolClient.class);\n    ...\n    log.debug(&quot;My debugging statement&quot;);\n\n</code></pre>\n<p>Had I chosen log.info(&quot;...&quot;), it would have worked.</p>\n<p>Which incantation of application.yml do I need to do to get Logback to work?</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1675260885,"post_id":75310831,"comment_id":132890243,"body_markdown":"That WidgetProperties class is no longer included with Eclipse, the code trying to use it needs to be updated.","body":"That WidgetProperties class is no longer included with Eclipse, the code trying to use it needs to be updated."},{"owner":{"account_id":6794254,"reputation":1,"user_id":5230199,"display_name":"Nate Macdonald"},"score":1,"creation_date":1675263027,"post_id":75310831,"comment_id":132891031,"body_markdown":"@greg-449 I think the e(fx)clipse plugin is trying to use WidgetProperties when opening the file. I&#39;ve installed the latest version of the plugin (3.8.0), so I can&#39;t update that. Should I install an older version of eclipse?","body":"@greg-449 I think the e(fx)clipse plugin is trying to use WidgetProperties when opening the file. I&#39;ve installed the latest version of the plugin (3.8.0), so I can&#39;t update that. Should I install an older version of eclipse?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1675267759,"post_id":75310831,"comment_id":132892861,"body_markdown":"Sounds like the same cause as https://stackoverflow.com/questions/74758570/cant-create-new-fxml-file-in-eclipse/74758879#74758879 --2022-12 isn&#39;t yet supported.","body":"Sounds like the same cause as <a href=\"https://stackoverflow.com/questions/74758570/cant-create-new-fxml-file-in-eclipse/74758879#74758879\" title=\"cant create new fxml file in eclipse\">stackoverflow.com/questions/74758570/&hellip;</a> --2022-12 isn&#39;t yet supported."}],"owner":{"account_id":6794254,"reputation":1,"user_id":5230199,"display_name":"Nate Macdonald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675272373,"answer_count":0,"score":0,"last_activity_date":1675257807,"creation_date":1675257807,"question_id":75310831,"body_markdown":"I created a javafx project using the e(fx)clipse plugin, and I&#39;m trying to open the ```build.fxbuild``` file, but whenever I do I get the error: &quot;Failed to create the part&#39;s control&quot;. The details drop down tells me I ran into the following error: ```java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties```. I&#39;ve tried to download some jface jar files and add it to the build path of the project to try fix the issue, but nothing works - maybe I&#39;m adding the wrong jar files. Any help fixing this issue would be appreciated.\r\n\r\nHere are the error details provided by eclipse:\r\n```\r\neclipse.buildId=4.26.0.20221201-1200\r\njava.version=17.0.5\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_ZA\r\nFramework arguments:  -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -data file:/C:/Users/natem/eclipse-workspace/ -product org.eclipse.epp.package.java.product\r\n\r\norg.eclipse.e4.ui.workbench\r\nError\r\nWed Feb 01 14:06:38 CET 2023\r\norg/eclipse/jface/databinding/swt/WidgetProperties\r\n\r\njava.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\r\n\tat org.eclipse.fx.ide.jdt.ui.internal.editors.JFXBuildConfigurationEditor.createPageOverview(JFXBuildConfigurationEditor.java:803)\r\n\tat org.eclipse.fx.ide.jdt.ui.internal.editors.JFXBuildConfigurationEditor.createPages(JFXBuildConfigurationEditor.java:658)\r\n\tat org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:333)\r\n\tat org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.createPartControl(CompatibilityPart.java:158)\r\n\tat org.eclipse.ui.internal.e4.compatibility.CompatibilityEditor.createPartControl(CompatibilityEditor.java:96)\r\n\tat org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.create(CompatibilityPart.java:365)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:995)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:960)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:403)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:330)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\r\n\tat org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.createWidget(ContributedPartRenderer.java:132)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createWidget(PartRenderingEngine.java:995)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:659)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:763)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$2.run(PartRenderingEngine.java:728)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:712)\r\n\tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.lambda$0(PartServiceImpl.java:105)\r\n\tat org.eclipse.e4.ui.services.internal.events.UIEventHandler.lambda$0(UIEventHandler.java:38)\r\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:183)\r\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:133)\r\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:4785)\r\n\tat org.eclipse.e4.ui.workbench.swt.DisplayUISynchronize.syncExec(DisplayUISynchronize.java:34)\r\n\tat org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:38)\r\n\tat org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:205)\r\n\tat org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:203)\r\n\tat org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n\tat org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)\r\n\tat org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:133)\r\n\tat org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:75)\r\n\tat org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:44)\r\n\tat org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:55)\r\n\tat org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:63)\r\n\tat org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:424)\r\n\tat org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElementGen(ElementContainerImpl.java:170)\r\n\tat org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElement(ElementContainerImpl.java:188)\r\n\tat org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.showElementInWindow(ModelServiceImpl.java:660)\r\n\tat org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.bringToTop(ModelServiceImpl.java:624)\r\n\tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.delegateBringToTop(PartServiceImpl.java:790)\r\n\tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:401)\r\n\tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:1264)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3210)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.lambda$9(WorkbenchPage.java:3100)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3098)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3068)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3059)\r\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:548)\r\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:508)\r\n\tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:367)\r\n\tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:172)\r\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:288)\r\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:254)\r\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274)\r\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:252)\r\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:366)\r\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$3.open(PackageExplorerPart.java:545)\r\n\tat org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:800)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:797)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1116)\r\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:296)\r\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:331)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.jdt.ui_3.8.0.202204150904\r\n\t... 102 more\r\n\r\n\r\n```","title":"&quot;Failed to create the part&#39;s control&quot; when opening build.fxbuild file. NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties","body":"<p>I created a javafx project using the e(fx)clipse plugin, and I'm trying to open the <code>build.fxbuild</code> file, but whenever I do I get the error: &quot;Failed to create the part's control&quot;. The details drop down tells me I ran into the following error: <code>java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties</code>. I've tried to download some jface jar files and add it to the build path of the project to try fix the issue, but nothing works - maybe I'm adding the wrong jar files. Any help fixing this issue would be appreciated.</p>\n<p>Here are the error details provided by eclipse:</p>\n<pre><code>eclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.5\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_ZA\nFramework arguments:  -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -data file:/C:/Users/natem/eclipse-workspace/ -product org.eclipse.epp.package.java.product\n\norg.eclipse.e4.ui.workbench\nError\nWed Feb 01 14:06:38 CET 2023\norg/eclipse/jface/databinding/swt/WidgetProperties\n\njava.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\n    at org.eclipse.fx.ide.jdt.ui.internal.editors.JFXBuildConfigurationEditor.createPageOverview(JFXBuildConfigurationEditor.java:803)\n    at org.eclipse.fx.ide.jdt.ui.internal.editors.JFXBuildConfigurationEditor.createPages(JFXBuildConfigurationEditor.java:658)\n    at org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:333)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.createPartControl(CompatibilityPart.java:158)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityEditor.createPartControl(CompatibilityEditor.java:96)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.create(CompatibilityPart.java:365)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:995)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:960)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:403)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:330)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\n    at org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.createWidget(ContributedPartRenderer.java:132)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createWidget(PartRenderingEngine.java:995)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:659)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:763)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$2.run(PartRenderingEngine.java:728)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:712)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.lambda$0(PartServiceImpl.java:105)\n    at org.eclipse.e4.ui.services.internal.events.UIEventHandler.lambda$0(UIEventHandler.java:38)\n    at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:183)\n    at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:133)\n    at org.eclipse.swt.widgets.Display.syncExec(Display.java:4785)\n    at org.eclipse.e4.ui.workbench.swt.DisplayUISynchronize.syncExec(DisplayUISynchronize.java:34)\n    at org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:38)\n    at org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:205)\n    at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:203)\n    at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)\n    at org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:133)\n    at org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:75)\n    at org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:44)\n    at org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:55)\n    at org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:63)\n    at org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:424)\n    at org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElementGen(ElementContainerImpl.java:170)\n    at org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElement(ElementContainerImpl.java:188)\n    at org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.showElementInWindow(ModelServiceImpl.java:660)\n    at org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.bringToTop(ModelServiceImpl.java:624)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.delegateBringToTop(PartServiceImpl.java:790)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:401)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:1264)\n    at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3210)\n    at org.eclipse.ui.internal.WorkbenchPage.lambda$9(WorkbenchPage.java:3100)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3098)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3068)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3059)\n    at org.eclipse.ui.ide.IDE.openEditor(IDE.java:548)\n    at org.eclipse.ui.ide.IDE.openEditor(IDE.java:508)\n    at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:367)\n    at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:172)\n    at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:288)\n    at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:254)\n    at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274)\n    at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:252)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:366)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$3.open(PackageExplorerPart.java:545)\n    at org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48)\n    at org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:800)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:797)\n    at org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1116)\n    at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:296)\n    at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:331)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.jdt.ui_3.8.0.202204150904\n    ... 102 more\n\n\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":48093,"reputation":2175,"user_id":142716,"display_name":"Raze"},"score":1,"creation_date":1305664445,"post_id":6036462,"comment_id":6981940,"body_markdown":"Looks like your JVM got corrupt, or your PATH is polluted. The JVM you think you are running might not be the JVM you should be running. try running java -version to find out if it is 1.6.0_xx.","body":"Looks like your JVM got corrupt, or your PATH is polluted. The JVM you think you are running might not be the JVM you should be running. try running java -version to find out if it is 1.6.0_xx."},{"owner":{"account_id":37575,"reputation":2652,"user_id":107444,"accept_rate":80,"display_name":"Rodney Gitzel"},"score":3,"creation_date":1305664924,"post_id":6036462,"comment_id":6982078,"body_markdown":"How is this related to Scala?","body":"How is this related to Scala?"},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":4,"creation_date":1305665737,"post_id":6036462,"comment_id":6982341,"body_markdown":"I can&#39;t even do java -version without getting the message!","body":"I can&#39;t even do java -version without getting the message!"},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":0,"creation_date":1305665784,"post_id":6036462,"comment_id":6982362,"body_markdown":"It&#39;s related to scala in that scala fails too.  Both occurred at the same time.","body":"It&#39;s related to scala in that scala fails too.  Both occurred at the same time."},{"owner":{"account_id":359371,"reputation":403,"user_id":700744,"display_name":"tonek"},"score":1,"creation_date":1305666376,"post_id":6036462,"comment_id":6982535,"body_markdown":"here is what i&#39;ve found in google. Maybe it will help: [link](http://www.rune-server.org/runescape-development/rs2-server/help/239746-weird-thing-w-java-windows-7-a.html)","body":"here is what i&#39;ve found in google. Maybe it will help: <a href=\"http://www.rune-server.org/runescape-development/rs2-server/help/239746-weird-thing-w-java-windows-7-a.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":0,"creation_date":1305670652,"post_id":6036462,"comment_id":6983556,"body_markdown":"Seems like the same problem, but I don&#39;t know what the fix was.","body":"Seems like the same problem, but I don&#39;t know what the fix was."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305828677,"creation_date":1305692266,"answer_id":6039818,"question_id":6036462,"body_markdown":"If this was working before, it means the `PATH` isn&#39;t correct anymore.\r\n\r\nThat can happen when the `PATH` becomes too long and gets truncated.  \r\nAll posts (like [this one][1]) suggest [updating the `PATH`][2], which you can test first in a separate DOS session, by setting a minimal path and see if java works again there.\r\n\r\n----\r\n\r\nFinally the [OP Highland Mark][3] concludes:\r\n\r\n&gt; Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing. \r\n\r\nscary ;)\r\n\r\n\r\n  [1]: http://www.rune-server.org/runescape-development/rs2-server/help/284879-error-could-not-open-c-program-files-java-jre6-lib-amd64-jvm-cfg.html\r\n  [2]: http://www.java.com/en/download/help/path.xml\r\n  [3]: https://stackoverflow.com/users/559426/highland-mark","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>If this was working before, it means the <code>PATH</code> isn't correct anymore.</p>\n\n<p>That can happen when the <code>PATH</code> becomes too long and gets truncated.<br>\nAll posts (like <a href=\"http://www.rune-server.org/runescape-development/rs2-server/help/284879-error-could-not-open-c-program-files-java-jre6-lib-amd64-jvm-cfg.html\" rel=\"nofollow noreferrer\">this one</a>) suggest <a href=\"http://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">updating the <code>PATH</code></a>, which you can test first in a separate DOS session, by setting a minimal path and see if java works again there.</p>\n\n<hr>\n\n<p>Finally the <a href=\"https://stackoverflow.com/users/559426/highland-mark\">OP Highland Mark</a> concludes:</p>\n\n<blockquote>\n  <p>Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing. </p>\n</blockquote>\n\n<p>scary ;)</p>\n"},{"tags":[],"owner":{"account_id":727,"reputation":2797,"user_id":950,"display_name":"Clinton"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1402062415,"creation_date":1307024155,"answer_id":6215741,"question_id":6036462,"body_markdown":"Might be a slightly different cause, but that second issue occurs for me in scala 2.9.0.1 on Win7 (x64), though scala-2.9.1.final has already resolved this issue mentioned here:\r\n\r\n    \\Java\\jdk1.6.0_25\\bin\\java.exe was unexpected at this time.\r\n\r\nMy `%JAVA_HOME%` set to a path like this: `c:\\program files `**(x86)**`\\Java\\jdk...`\r\n\r\nNote the space and the parentheses.\r\n\r\nIf you change line 24 in `%SCALA_HOME%\\bin\\scala.bat` from:\r\n\r\n    if exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; set _JAVACMD=%JAVA_HOME%\\bin\\java.exe\r\n\r\nto\r\n\r\n    if exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; set &quot;_JAVACMD=%JAVA_HOME%\\bin\\java.exe&quot;\r\n\r\nIt works fine. Note the quotes around the set command parameters, this will properly enclose any spaces and &#39;special&#39; characters (eg: spaces and parentheses) in the variable&#39;s value.\r\n\r\nHope this helps someone else searching for an answer.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Might be a slightly different cause, but that second issue occurs for me in scala 2.9.0.1 on Win7 (x64), though scala-2.9.1.final has already resolved this issue mentioned here:</p>\n\n<pre><code>\\Java\\jdk1.6.0_25\\bin\\java.exe was unexpected at this time.\n</code></pre>\n\n<p>My <code>%JAVA_HOME%</code> set to a path like this: <code>c:\\program files</code><strong>(x86)</strong><code>\\Java\\jdk...</code></p>\n\n<p>Note the space and the parentheses.</p>\n\n<p>If you change line 24 in <code>%SCALA_HOME%\\bin\\scala.bat</code> from:</p>\n\n<pre><code>if exist \"%JAVA_HOME%\\bin\\java.exe\" set _JAVACMD=%JAVA_HOME%\\bin\\java.exe\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if exist \"%JAVA_HOME%\\bin\\java.exe\" set \"_JAVACMD=%JAVA_HOME%\\bin\\java.exe\"\n</code></pre>\n\n<p>It works fine. Note the quotes around the set command parameters, this will properly enclose any spaces and 'special' characters (eg: spaces and parentheses) in the variable's value.</p>\n\n<p>Hope this helps someone else searching for an answer.</p>\n"},{"tags":[],"owner":{"account_id":873498,"reputation":528,"user_id":923826,"display_name":"deskmore"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1320752213,"creation_date":1320752213,"answer_id":8049779,"question_id":6036462,"body_markdown":"put  %JAVA_HOME%\\bin   at the begin of PATH.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>put  %JAVA_HOME%\\bin   at the begin of PATH.</p>\n"},{"tags":[],"owner":{"account_id":1440386,"reputation":91,"user_id":1360697,"display_name":"serganm"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1335532333,"creation_date":1335516598,"answer_id":10347628,"question_id":6036462,"body_markdown":"I had the same problem: I have a 64 bit Windows and when I typed &quot;java -version&quot; in CMD-Console i received the same Error message.\r\nTry to start a 64bit-cmd(C:\\Windows\\SysWOW64\\cmd.exe) and you will see, it works there ;)","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I had the same problem: I have a 64 bit Windows and when I typed \"java -version\" in CMD-Console i received the same Error message.\nTry to start a 64bit-cmd(C:\\Windows\\SysWOW64\\cmd.exe) and you will see, it works there ;)</p>\n"},{"tags":[],"owner":{"account_id":2015074,"reputation":59,"user_id":1802592,"display_name":"m_c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360668040,"creation_date":1360666834,"answer_id":14830965,"question_id":6036462,"body_markdown":"Reinstalling java didn&#39;t help me. But the trick to put the JAVA_HOME variable at the beginning of the env-vars. The problem occoured after an upgrade from jdk1.7.0_11 to jdk1.7.0_13","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Reinstalling java didn't help me. But the trick to put the JAVA_HOME variable at the beginning of the env-vars. The problem occoured after an upgrade from jdk1.7.0_11 to jdk1.7.0_13</p>\n"},{"tags":[],"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544874726,"creation_date":1363179312,"answer_id":15385949,"question_id":6036462,"body_markdown":"- I had a similar problem (trying to start a Jenkins slave agent on Windows) on `Windows 2008R2`, `Java 1.7.0_15`\r\n\r\n- I had two situations that contributed to the problem and that changing both of them fixed it:\r\n\r\n 1) Installing `Java` in a `unix`-compatible path (changing from `c:\\Program Files\\... to c:\\Software\\...`); I don&#39;t think this directly affected the problem described in this thread, but noting the change;\r\n\r\n 2) Running `Java` not through a shortcut. It originally failed with a shortcut, but `re-running` from the direct executable (`C:\\Software\\Java...\\bin\\java`) worked.\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<ul>\n<li><p>I had a similar problem (trying to start a Jenkins slave agent on Windows) on <code>Windows 2008R2</code>, <code>Java 1.7.0_15</code></p></li>\n<li><p>I had two situations that contributed to the problem and that changing both of them fixed it:</p>\n\n<p>1) Installing <code>Java</code> in a <code>unix</code>-compatible path (changing from <code>c:\\Program Files\\... to c:\\Software\\...</code>); I don't think this directly affected the problem described in this thread, but noting the change;</p>\n\n<p>2) Running <code>Java</code> not through a shortcut. It originally failed with a shortcut, but <code>re-running</code> from the direct executable (<code>C:\\Software\\Java...\\bin\\java</code>) worked.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1185157,"reputation":1238,"user_id":1159285,"display_name":"Full-Stack Software Engineer"},"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1519988680,"creation_date":1366297390,"answer_id":16086496,"question_id":6036462,"body_markdown":"I checked my environment variables - JAVA_HOME &amp; PATH and they all refer to C:\\java. So this was bit frustrating. After sometime I found that the default installation also copied java.exe, javaw.exe and javaws.exe to C:\\Windows\\System32 (i.e. uninstall of JRE didn&#39;t go well). I just removed them and voila, I&#39;m back on track. That annoying error is no longer popping.\r\n\r\nThis works for me\r\n\r\n\r\n**So, If exists, remove java.exe, javaw.exe and javaws.exe from System32**","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I checked my environment variables - JAVA_HOME &amp; PATH and they all refer to C:\\java. So this was bit frustrating. After sometime I found that the default installation also copied java.exe, javaw.exe and javaws.exe to C:\\Windows\\System32 (i.e. uninstall of JRE didn't go well). I just removed them and voila, I'm back on track. That annoying error is no longer popping.</p>\n\n<p>This works for me</p>\n\n<p><strong>So, If exists, remove java.exe, javaw.exe and javaws.exe from System32</strong></p>\n"},{"tags":[],"owner":{"account_id":2888693,"reputation":11,"user_id":2477962,"display_name":"Rudra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371035259,"creation_date":1371033909,"answer_id":17063511,"question_id":6036462,"body_markdown":"Another workaround is using shortpath in windows:\r\n\r\n1. open windows command console using cmd.exe\r\n2. goto `c:\\`\r\n3. type command&gt; `dir program* /x`\r\n4. it should display as short path like: `PROGRA~2`\r\n5. so `C:\\PROGRA~2` is same as `C:\\Program Files (x86)`\r\n6. in your `JAVA_HOME` replace path to :\r\n    `C:\\PROGRA~2\\Java\\jre7`\r\n\r\nThis should work in windows 64 environment as it worked for me in win7 64bit version.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Another workaround is using shortpath in windows:</p>\n\n<ol>\n<li>open windows command console using cmd.exe</li>\n<li>goto <code>c:\\</code></li>\n<li>type command> <code>dir program* /x</code></li>\n<li>it should display as short path like: <code>PROGRA~2</code></li>\n<li>so <code>C:\\PROGRA~2</code> is same as <code>C:\\Program Files (x86)</code></li>\n<li>in your <code>JAVA_HOME</code> replace path to :\n<code>C:\\PROGRA~2\\Java\\jre7</code></li>\n</ol>\n\n<p>This should work in windows 64 environment as it worked for me in win7 64bit version.</p>\n"},{"tags":[],"owner":{"account_id":3156430,"reputation":31,"user_id":2668741,"display_name":"user2668741"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376069777,"creation_date":1376069777,"answer_id":18152487,"question_id":6036462,"body_markdown":"I thought I will share how I resolved the same issue &quot;Error Could not open lib\\amd64\\jvm.cfg&quot;. I found the Java run time Jre7 is missing amd64 folder under lib. However, I have 1.7.0_25 JDK which is having jre folder and also having amd64.\r\n\r\nI moved the original contents of jre7 folder to a backup file and copied everything from 1.7.0_25\\jre.\r\n\r\nNow I am not getting this error anymore and able to proceed with scene builder.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I thought I will share how I resolved the same issue \"Error Could not open lib\\amd64\\jvm.cfg\". I found the Java run time Jre7 is missing amd64 folder under lib. However, I have 1.7.0_25 JDK which is having jre folder and also having amd64.</p>\n\n<p>I moved the original contents of jre7 folder to a backup file and copied everything from 1.7.0_25\\jre.</p>\n\n<p>Now I am not getting this error anymore and able to proceed with scene builder.</p>\n"},{"tags":[],"owner":{"account_id":3347359,"reputation":59,"user_id":2812263,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380045268,"creation_date":1380045268,"answer_id":18988657,"question_id":6036462,"body_markdown":"The Java 7 install on my work PC broke after a patch was forced out to us, giving this error any time you tried to run a Java program.  Somehow the entire &#39;lib&#39; subdirectory of the Java 7 install vanished!  Might have been related to having both Java 6 and Java 7 installed -- the &#39;jre6&#39; directory still had everything there.\r\n\r\nIn any case, I fixed it by uninstalling both Java 6 and Java 7 and reinstalling just Java 7.  But if the file it&#39;s complaining about is actually there, then you&#39;re likely having a path issue as described in some of the other answers here.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>The Java 7 install on my work PC broke after a patch was forced out to us, giving this error any time you tried to run a Java program.  Somehow the entire 'lib' subdirectory of the Java 7 install vanished!  Might have been related to having both Java 6 and Java 7 installed -- the 'jre6' directory still had everything there.</p>\n\n<p>In any case, I fixed it by uninstalling both Java 6 and Java 7 and reinstalling just Java 7.  But if the file it's complaining about is actually there, then you're likely having a path issue as described in some of the other answers here.</p>\n"},{"tags":[],"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397979113,"creation_date":1397979113,"answer_id":23179624,"question_id":6036462,"body_markdown":"Had suddenly the same Problem, from one day to another eclipse said\r\n  \r\n    Failed to load the JNI shared library &quot;C:/JDK/bin/client/jvm.dll&quot;`.\r\n\r\nafter trying to run java on the console\r\n\r\n    Error: could not open `C:\\WINDOWS\\jre\\lib\\amd64\\jvm.cfg&#39; \r\n\r\nnow i just deleted the whole directory \r\n\r\n    C:\\WINDOWS\\jre\r\n\r\nand everything worked again... i don&#39;t know there this jre came from, i hope it was not a virus","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Had suddenly the same Problem, from one day to another eclipse said</p>\n\n<pre><code>Failed to load the JNI shared library \"C:/JDK/bin/client/jvm.dll\"`.\n</code></pre>\n\n<p>after trying to run java on the console</p>\n\n<pre><code>Error: could not open `C:\\WINDOWS\\jre\\lib\\amd64\\jvm.cfg' \n</code></pre>\n\n<p>now i just deleted the whole directory </p>\n\n<pre><code>C:\\WINDOWS\\jre\n</code></pre>\n\n<p>and everything worked again... i don't know there this jre came from, i hope it was not a virus</p>\n"},{"tags":[],"owner":{"account_id":5223866,"reputation":11,"user_id":4176442,"display_name":"sivasubramanian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414126695,"creation_date":1414125607,"answer_id":26541593,"question_id":6036462,"body_markdown":"I have changed the java installation path from `c:\\Program Files (x86)\\java` to another folder like `c:\\java\\jdk1.7` and updated the `%Java_HOME%` and path values accordingly,it worked.\r\n\r\nexample\r\n\r\n    %JAVA_HOME% = C:\\java\\JDK1.7\r\n    \r\n    path-C:\\java\\JDK1.7\\bin; \r\n\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I have changed the java installation path from <code>c:\\Program Files (x86)\\java</code> to another folder like <code>c:\\java\\jdk1.7</code> and updated the <code>%Java_HOME%</code> and path values accordingly,it worked.</p>\n\n<p>example</p>\n\n<pre><code>%JAVA_HOME% = C:\\java\\JDK1.7\n\npath-C:\\java\\JDK1.7\\bin; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445845838,"creation_date":1445845838,"answer_id":33340858,"question_id":6036462,"body_markdown":"I had the same problem in **Eclipse** and I fixed it by changing the **JRE** from 64 bit to **32 bit**:\r\n\r\nWindow &gt; Preferences &gt; Java &gt; Installed JREs &gt; Add... &gt; Next &gt; Directory &gt; select &quot;C:\\Program Files (x86)\\Java\\jre1.8.0_65&quot; instead of &quot;C:\\Program Files\\Java\\jre1.8.0_60&quot;","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I had the same problem in <strong>Eclipse</strong> and I fixed it by changing the <strong>JRE</strong> from 64 bit to <strong>32 bit</strong>:</p>\n\n<p>Window > Preferences > Java > Installed JREs > Add... > Next > Directory > select \"C:\\Program Files (x86)\\Java\\jre1.8.0_65\" instead of \"C:\\Program Files\\Java\\jre1.8.0_60\"</p>\n"},{"tags":[],"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446186135,"creation_date":1446186135,"answer_id":33429890,"question_id":6036462,"body_markdown":"I had this problem after updating your java. The best way to solve this problem is just go to your `c:/ProgramFiles/Java` folder. There you will find two jre folders one is as jre.your version and other with exactly like jdk folder. Try to remove jre.1.your version folder. There you go your problem is solved. Hope this might help. It&#39;s worked for me.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I had this problem after updating your java. The best way to solve this problem is just go to your <code>c:/ProgramFiles/Java</code> folder. There you will find two jre folders one is as jre.your version and other with exactly like jdk folder. Try to remove jre.1.your version folder. There you go your problem is solved. Hope this might help. It's worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6505061,"reputation":82,"user_id":5034326,"accept_rate":0,"display_name":"Rookie_Guy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1461304524,"creation_date":1461304524,"answer_id":36785953,"question_id":6036462,"body_markdown":"It wasn&#39;t in the path. Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing. None the wiser, but back working again. Thanks all @Highland Mark- Can you tell me the process to removing references from registry. I tried all possible way people mentioned here, nothing worked.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>It wasn't in the path. Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing. None the wiser, but back working again. Thanks all @Highland Mark- Can you tell me the process to removing references from registry. I tried all possible way people mentioned here, nothing worked.</p>\n"},{"tags":[],"owner":{"account_id":2468836,"reputation":968,"user_id":2151251,"display_name":"beloblotskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477346144,"creation_date":1477346144,"answer_id":40228156,"question_id":6036462,"body_markdown":"Typically it because of upgrading JRE.\r\n\r\nIt changes symlinks into C:\\ProgramData\\Oracle\\Java\\javapath\\\r\n\r\nIntall JDK - it will fix this.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Typically it because of upgrading JRE.</p>\n\n<p>It changes symlinks into C:\\ProgramData\\Oracle\\Java\\javapath\\</p>\n\n<p>Intall JDK - it will fix this.</p>\n"},{"tags":[],"owner":{"account_id":2332857,"reputation":486,"user_id":2045810,"accept_rate":20,"display_name":"Sudhakar Kummarasetty"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1592467321,"creation_date":1495686810,"answer_id":44172328,"question_id":6036462,"body_markdown":"    C:\\ProgramData\\Oracle\\Java\\javapath\r\n\r\nI took a back up of the files in it and removed those files from there. Then I opened a new cmd prompt and it works like a charm.\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<pre><code>C:\\ProgramData\\Oracle\\Java\\javapath\n</code></pre>\n\n<p>I took a back up of the files in it and removed those files from there. Then I opened a new cmd prompt and it works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":7381042,"reputation":337,"user_id":5617742,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542304157,"creation_date":1542304157,"answer_id":53325233,"question_id":6036462,"body_markdown":"    Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;\r\n\r\nLooking @ it the issue of post install script is there and getting propagated since I am using update jdk8 1.8.0_191 since issue occurred with me after installing update of java and which was happened automatically. \r\n \r\n\r\n    Error: could not open `C:\\Program Files\\Java\\jre1.8.0_191\\lib\\amd64\\jvm.cfg&#39;\r\nThis will be never ending in this case and need to do workaround like changing path&#39;s manually.\r\n\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<pre><code>Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg'\n</code></pre>\n\n<p>Looking @ it the issue of post install script is there and getting propagated since I am using update jdk8 1.8.0_191 since issue occurred with me after installing update of java and which was happened automatically. </p>\n\n<pre><code>Error: could not open `C:\\Program Files\\Java\\jre1.8.0_191\\lib\\amd64\\jvm.cfg'\n</code></pre>\n\n<p>This will be never ending in this case and need to do workaround like changing path's manually.</p>\n"},{"tags":[],"owner":{"account_id":994403,"reputation":1345,"user_id":1010724,"accept_rate":90,"display_name":"Eogcloud"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1566141462,"creation_date":1566127333,"answer_id":57544050,"question_id":6036462,"body_markdown":"I had a slight different solution to this problem. my PATH and JAVA_HOME were pointing to JDK12 in \r\n\r\n    C:\\Program Files\\Java\r\n\r\nbut execution of the command: \r\n\r\n    Java -version\r\n\r\n \r\n\r\ngave the error:\r\n\r\n    Error: could not open `C:\\ProgramFiles\\Java\\jre1.8.0_212\\lib\\amd64\\jvm.cfg&#39;\r\n\r\n\r\n \r\nI had to delete a folder of executables (Java.exe, javaw.exe etc.) in a different directory than System32, as other answers here and blog posts have suggested. Instead I found the problem lied with executables found in:\r\n\r\n    C:\\Program Files\\Common Files\\Oracle \r\n\r\nas there was nothing Java related in \r\n\r\n    C:\\Windows\\System32\r\n\r\nIf you&#39;re having this issue and nothing is in System32, check this &quot;common files&quot; directory mentioned above for an oracle directory and delete it. \r\n\r\nAfter, your PATH references should work fine!\r\n\r\n ","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I had a slight different solution to this problem. my PATH and JAVA_HOME were pointing to JDK12 in </p>\n\n<pre><code>C:\\Program Files\\Java\n</code></pre>\n\n<p>but execution of the command: </p>\n\n<pre><code>Java -version\n</code></pre>\n\n<p>gave the error:</p>\n\n<pre><code>Error: could not open `C:\\ProgramFiles\\Java\\jre1.8.0_212\\lib\\amd64\\jvm.cfg'\n</code></pre>\n\n<p>I had to delete a folder of executables (Java.exe, javaw.exe etc.) in a different directory than System32, as other answers here and blog posts have suggested. Instead I found the problem lied with executables found in:</p>\n\n<pre><code>C:\\Program Files\\Common Files\\Oracle \n</code></pre>\n\n<p>as there was nothing Java related in </p>\n\n<pre><code>C:\\Windows\\System32\n</code></pre>\n\n<p>If you're having this issue and nothing is in System32, check this \"common files\" directory mentioned above for an oracle directory and delete it. </p>\n\n<p>After, your PATH references should work fine!</p>\n"},{"tags":[],"owner":{"account_id":17823001,"reputation":345,"user_id":12944935,"display_name":"Disembleergon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596186780,"creation_date":1596186780,"answer_id":63188977,"question_id":6036462,"body_markdown":"If you have downloaded several Jdks you have to delete all except of the JDK you want to use!\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>If you have downloaded several Jdks you have to delete all except of the JDK you want to use!</p>\n"},{"tags":[],"owner":{"account_id":17928204,"reputation":769,"user_id":13026255,"display_name":"Jainender Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605424310,"creation_date":1605424310,"answer_id":64842002,"question_id":6036462,"body_markdown":"Delete the jars under system32 for windows. \r\nDelete the jars under C:\\Program Files\\Common Files\\Oracle \r\n\r\nEdit the environment variable set JAVA_HOME and SET PATH to bin","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Delete the jars under system32 for windows.\nDelete the jars under C:\\Program Files\\Common Files\\Oracle</p>\n<p>Edit the environment variable set JAVA_HOME and SET PATH to bin</p>\n"},{"tags":[],"owner":{"account_id":9978628,"reputation":508,"user_id":7382297,"accept_rate":70,"display_name":"Suraj Khanal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659114992,"creation_date":1659114992,"answer_id":73168916,"question_id":6036462,"body_markdown":"I have solved this issue by deleting the Oracle folder from Program Data. And also delete the oracle java path associated with that folder from environment variables.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I have solved this issue by deleting the Oracle folder from Program Data. And also delete the oracle java path associated with that folder from environment variables.</p>\n"},{"tags":[],"owner":{"account_id":6762145,"reputation":14229,"user_id":5208491,"display_name":"saigopi.me"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675257774,"creation_date":1675257774,"answer_id":75310822,"question_id":6036462,"body_markdown":"I kept **variable name** as &quot;Path&quot; but it did not work **after changing it to** &quot;**PATH**&quot;\r\nstarted working for me.\r\n\r\n**variable name:** PATH\r\n\r\n**variable value:** C:\\Program Files\\Java\\jdk-19\\bin\r\n\r\nthis will work.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I kept <strong>variable name</strong> as &quot;Path&quot; but it did not work <strong>after changing it to</strong> &quot;<strong>PATH</strong>&quot;\nstarted working for me.</p>\n<p><strong>variable name:</strong> PATH</p>\n<p><strong>variable value:</strong> C:\\Program Files\\Java\\jdk-19\\bin</p>\n<p>this will work.</p>\n"}],"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256728,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":6215741,"answer_count":23,"score":51,"last_activity_date":1675257774,"creation_date":1305662859,"question_id":6036462,"body_markdown":"After years of working OK, I&#39;m suddenly getting this message when trying to start the JVM:\r\n\r\n    Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;\r\n\r\nI tried uninstalling, and got a message saying a DLL was missing (unspecified)\r\nTried re-installing, all to no avail.\r\n\r\nAt the same time, when trying to start Scala I get:\r\n\r\n    \\Java\\jdk1.6.0_25\\bin\\java.exe was unexpected at this time.\r\n\r\nChecked `%JAVA_HOME%` and `%path%` - both OK\r\n\r\nCan anyone help?","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>After years of working OK, I'm suddenly getting this message when trying to start the JVM:</p>\n\n<pre><code>Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg'\n</code></pre>\n\n<p>I tried uninstalling, and got a message saying a DLL was missing (unspecified)\nTried re-installing, all to no avail.</p>\n\n<p>At the same time, when trying to start Scala I get:</p>\n\n<pre><code>\\Java\\jdk1.6.0_25\\bin\\java.exe was unexpected at this time.\n</code></pre>\n\n<p>Checked <code>%JAVA_HOME%</code> and <code>%path%</code> - both OK</p>\n\n<p>Can anyone help?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1631537997,"post_id":69149100,"comment_id":122241172,"body_markdown":"Is there a need for two steps for that? Where is step1 writing items to and where is step2 reading items from? Why not using a single chunk-oriented step instead of two steps?","body":"Is there a need for two steps for that? Where is step1 writing items to and where is step2 reading items from? Why not using a single chunk-oriented step instead of two steps?"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631527453,"creation_date":1631527453,"answer_id":69160808,"question_id":69149100,"body_markdown":"The `CompositeItemWriter` calls delegate writers is sequence, not in parallel. So creating 10 `JpaItemWriter`s as delegates in the composite writer won&#39;t make your step multi-threaded.\r\n\r\nIf you want the step to become multi-threaded, you need to add a `TaskExecutor` to it, something like:\r\n\r\n```\r\n@Bean\r\npublic TaskExecutor taskExecutor() {\r\n    return new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;);\r\n}\r\n\r\n@Bean\r\npublic Step sampleStep(TaskExecutor taskExecutor) {\r\n\treturn this.stepBuilderFactory.get(&quot;sampleStep&quot;)\r\n\t\t\t\t.&lt;String, String&gt;chunk(10)\r\n\t\t\t\t.reader(itemReader())\r\n\t\t\t\t.writer(itemWriter())\r\n\t\t\t\t.taskExecutor(taskExecutor)\r\n\t\t\t\t.build();\r\n}\r\n```\r\n\r\nPlease refer to [Multi-Threaded step](https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/scalability.html#multithreadedStep).\r\n\r\nNow your issue is that you are creating a `JpaItemWriter` with the `new` operator, so the `afterPropertiesSet` method is not called by Spring to check mandatory properties. You need to set an `EntityManagerFactory` on this writer. ","title":"Multiple threads for ItemWriter","body":"<p>The <code>CompositeItemWriter</code> calls delegate writers is sequence, not in parallel. So creating 10 <code>JpaItemWriter</code>s as delegates in the composite writer won't make your step multi-threaded.</p>\n<p>If you want the step to become multi-threaded, you need to add a <code>TaskExecutor</code> to it, something like:</p>\n<pre><code>@Bean\npublic TaskExecutor taskExecutor() {\n    return new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;);\n}\n\n@Bean\npublic Step sampleStep(TaskExecutor taskExecutor) {\n    return this.stepBuilderFactory.get(&quot;sampleStep&quot;)\n                .&lt;String, String&gt;chunk(10)\n                .reader(itemReader())\n                .writer(itemWriter())\n                .taskExecutor(taskExecutor)\n                .build();\n}\n</code></pre>\n<p>Please refer to <a href=\"https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/scalability.html#multithreadedStep\" rel=\"nofollow noreferrer\">Multi-Threaded step</a>.</p>\n<p>Now your issue is that you are creating a <code>JpaItemWriter</code> with the <code>new</code> operator, so the <code>afterPropertiesSet</code> method is not called by Spring to check mandatory properties. You need to set an <code>EntityManagerFactory</code> on this writer.</p>\n"}],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675257760,"creation_date":1631429193,"question_id":69149100,"body_markdown":"I have a Spring Boot Batch job with two primary steps, the first reads a bunch of rows from a spreadsheet. The second writes to a database. Right now, it&#39;s set up to write serially to the database.\r\n\r\n```java\r\npublic CompositeItemWriter&lt;SoftLayerData&gt; compositeSoftlayerDataWriter(\r\n    JpaItemWriter&lt;SoftLayerData&gt; softlayerDataWriter) {\r\n  CompositeItemWriter&lt;SoftLayerData&gt; compositeWriter = new CompositeItemWriter&lt;&gt;();\r\n  compositeWriter.setDelegates(asList(softlayerDataWriter));\r\n  return compositeWriter;\r\n}\r\n```\r\nThe problem is the volume is large. Since there&#39;s no reason to maintain any order, I&#39;d like to have multiple writers. I tried this:\r\n\r\n```java\r\nfinal int writerCount = 10;\r\nList&lt;ItemWriter&lt;? super SoftLayerData&gt;&gt; writers = new ArrayList&lt;&gt;(writerCount);\r\nfor(int counter=0;counter&lt;writerCount;counter++) {\r\n  writers.add(new JpaItemWriter&lt;SoftLayerData&gt;());\r\n}\r\nCompositeItemWriter&lt;SoftLayerData&gt; result = new CompositeItemWriter&lt;&gt;();\r\nresult.setDelegates(writers);\r\nreturn result;\r\n```\r\nBut I&#39;m getting an `IllegalArgumentException: No EntityManagerFactory specified`.\r\n\r\nI like the approach, but I suspect there&#39;s some really complex Spring Boot way that I have to follow. What&#39;s the best approach to doing multiple writers?\r\n","title":"Multiple threads for ItemWriter","body":"<p>I have a Spring Boot Batch job with two primary steps, the first reads a bunch of rows from a spreadsheet. The second writes to a database. Right now, it's set up to write serially to the database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompositeItemWriter&lt;SoftLayerData&gt; compositeSoftlayerDataWriter(\n    JpaItemWriter&lt;SoftLayerData&gt; softlayerDataWriter) {\n  CompositeItemWriter&lt;SoftLayerData&gt; compositeWriter = new CompositeItemWriter&lt;&gt;();\n  compositeWriter.setDelegates(asList(softlayerDataWriter));\n  return compositeWriter;\n}\n</code></pre>\n<p>The problem is the volume is large. Since there's no reason to maintain any order, I'd like to have multiple writers. I tried this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int writerCount = 10;\nList&lt;ItemWriter&lt;? super SoftLayerData&gt;&gt; writers = new ArrayList&lt;&gt;(writerCount);\nfor(int counter=0;counter&lt;writerCount;counter++) {\n  writers.add(new JpaItemWriter&lt;SoftLayerData&gt;());\n}\nCompositeItemWriter&lt;SoftLayerData&gt; result = new CompositeItemWriter&lt;&gt;();\nresult.setDelegates(writers);\nreturn result;\n</code></pre>\n<p>But I'm getting an <code>IllegalArgumentException: No EntityManagerFactory specified</code>.</p>\n<p>I like the approach, but I suspect there's some really complex Spring Boot way that I have to follow. What's the best approach to doing multiple writers?</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675257466,"post_id":75310663,"comment_id":132888964,"body_markdown":"In general you can&#39;t query a map based on a partial key so you&#39;d have to iterate over all the entries and compare the keys one by one. However, if you&#39;d be using a `SortedMap` (`TreeMap` being one of the most common implementations) you could implement some &quot;starts with&quot; logic using `subMap(fromKey, toKey)`, e.g. `subMap(&quot;BusDetails0&quot;, &quot;BusDetails0\\uFFFF&quot;)` to get all entries where the key starts with &quot;BusDetails0&quot; (the end key would need to just be outside the intended range that&#39;s why I added `&quot;\\uFFFF&quot;` instead of using &quot;BusDetails1&quot; as the &quot;to key&quot;).","body":"In general you can&#39;t query a map based on a partial key so you&#39;d have to iterate over all the entries and compare the keys one by one. However, if you&#39;d be using a <code>SortedMap</code> (<code>TreeMap</code> being one of the most common implementations) you could implement some &quot;starts with&quot; logic using <code>subMap(fromKey, toKey)</code>, e.g. <code>subMap(&quot;BusDetails0&quot;, &quot;BusDetails0\\uFFFF&quot;)</code> to get all entries where the key starts with &quot;BusDetails0&quot; (the end key would need to just be outside the intended range that&#39;s why I added <code>&quot;\\uFFFF&quot;</code> instead of using &quot;BusDetails1&quot; as the &quot;to key&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":10761678,"reputation":194,"user_id":7917890,"display_name":"Zhuragat Bolatkhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675257757,"creation_date":1675257757,"answer_id":75310819,"question_id":75310663,"body_markdown":"You can get a set of keys:\r\n\r\n    map.keySet()\r\n   \r\nIn your case, if I understand correctly, you want to get a list of transformed keys (all characters before the first dot symbol) \r\n\r\n    List&lt;String&gt; list = map.keySet().stream().map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).collect(Collectors.toList());\r\n","title":"How to filter out a particular keyword(part/Substring) which is unique from a map key?","body":"<p>You can get a set of keys:</p>\n<pre><code>map.keySet()\n</code></pre>\n<p>In your case, if I understand correctly, you want to get a list of transformed keys (all characters before the first dot symbol)</p>\n<pre><code>List&lt;String&gt; list = map.keySet().stream().map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75310819,"answer_count":1,"score":0,"last_activity_date":1675257757,"creation_date":1675257031,"question_id":75310663,"body_markdown":"I have a Map&lt;String,String&gt;  \r\n```\r\n{\r\n  BusDetails0.BusDetail.DriverID=1,\r\n  BusDetails0.BusDetail.DriverSubID=2,\r\n  BusDetails1.BusDetail.DriverID=1,\r\n  BusDetails1.BusDetail.DriverSubID=2\r\n}\r\n```\r\n\r\nfrom this map is it possible to extract keys in a list of Strings {&quot;BusDetails0&quot;,&quot;BusDetails1&quot;}? \r\n\r\nplease help thanks  ","title":"How to filter out a particular keyword(part/Substring) which is unique from a map key?","body":"<p>I have a Map&lt;String,String&gt;</p>\n<pre><code>{\n  BusDetails0.BusDetail.DriverID=1,\n  BusDetails0.BusDetail.DriverSubID=2,\n  BusDetails1.BusDetail.DriverID=1,\n  BusDetails1.BusDetail.DriverSubID=2\n}\n</code></pre>\n<p>from this map is it possible to extract keys in a list of Strings {&quot;BusDetails0&quot;,&quot;BusDetails1&quot;}?</p>\n<p>please help thanks</p>\n"},{"tags":["java","encoding","bouncycastle","asn.1","ber"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1672019732,"post_id":74914313,"comment_id":132208601,"body_markdown":"Which version of BouncyCastle?  The Javadoc for 1.70 does not seem to include the `Asn1ObjectIdentifier(int[])` constructor.","body":"Which version of BouncyCastle?  The Javadoc for 1.70 does not seem to include the <code>Asn1ObjectIdentifier(int[])</code> constructor."},{"owner":{"account_id":2198949,"reputation":94,"user_id":1943902,"display_name":"Okan Konur"},"score":0,"creation_date":1672035474,"post_id":74914313,"comment_id":132209914,"body_markdown":"The library I am trying to use for initializing Asn1ObjectIdentifier is NOT BouncyCastle. It is Obj-Sys Asn1j Runtime. (Asn1rt.jar) I have linked it in the post. I just tried BouncyCastle as a workaround for encoding. If anything is still not clear please let me know, I will update the question.","body":"The library I am trying to use for initializing Asn1ObjectIdentifier is NOT BouncyCastle. It is Obj-Sys Asn1j Runtime. (Asn1rt.jar) I have linked it in the post. I just tried BouncyCastle as a workaround for encoding. If anything is still not clear please let me know, I will update the question."},{"owner":{"account_id":99958,"reputation":1918,"user_id":269722,"display_name":"Kevin"},"score":0,"creation_date":1673386124,"post_id":74914313,"comment_id":132486309,"body_markdown":"I&#39;m curious if there is a new/existing standard that is using the UUID arc?  Or, are you inventing something of your own?","body":"I&#39;m curious if there is a new/existing standard that is using the UUID arc?  Or, are you inventing something of your own?"},{"owner":{"account_id":2198949,"reputation":94,"user_id":1943902,"display_name":"Okan Konur"},"score":0,"creation_date":1673499442,"post_id":74914313,"comment_id":132514188,"body_markdown":"@Kevin I was trying to define a new OID for my personal project. And the simplest way to define an OID seems to be the unregistered UUID using `{joint-iso-itu-t(2) uuid(25)}`","body":"@Kevin I was trying to define a new OID for my personal project. And the simplest way to define an OID seems to be the unregistered UUID using <code>{joint-iso-itu-t(2) uuid(25)}</code>"}],"answers":[{"tags":[],"owner":{"account_id":3195751,"reputation":9753,"user_id":2876830,"accept_rate":71,"display_name":"YaFred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672047490,"creation_date":1672047490,"answer_id":74919027,"question_id":74914313,"body_markdown":"[Obj-sys documentation][1] shows that the java mapping for OBJECT IDENTIFIER is an array of int (so it&#39;s a limitation)\r\n\r\nI&#39;m surprised you ask the question here, they have a [contact form][2]\r\n\r\n\r\n\r\n  [1]: https://obj-sys.com/docs/acv76/JavaHTML/ch05s08.html\r\n  [2]: https://obj-sys.com/about/contact.php","title":"How to initialize ASN1ObjectIdentifier from an OID string which contains components larger than int max value?","body":"<p><a href=\"https://obj-sys.com/docs/acv76/JavaHTML/ch05s08.html\" rel=\"nofollow noreferrer\">Obj-sys documentation</a> shows that the java mapping for OBJECT IDENTIFIER is an array of int (so it's a limitation)</p>\n<p>I'm surprised you ask the question here, they have a <a href=\"https://obj-sys.com/about/contact.php\" rel=\"nofollow noreferrer\">contact form</a></p>\n"}],"owner":{"account_id":2198949,"reputation":94,"user_id":1943902,"display_name":"Okan Konur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675257493,"creation_date":1671983275,"question_id":74914313,"body_markdown":"I am trying to reference an unregistered ASN.1 Object Identifier which is compliant with the `{joint-iso-itu-t(2) uuid(25)}` arc. I am using the [com.objsys.asn1j.runtime](https://obj-sys.com/docs/acv63/JavaRunTime/com/objsys/asn1j/runtime/Asn1ObjectIdentifier.html) package. \r\n\r\nBut it seems that the asn1rt library only accepts int[] as identifier. I can&#39;t pass the value of the UUID component of the OID string as int as such:\r\n\r\n```\r\n    public Asn1ObjectIdentifier getAttributeOID() {\r\n        \r\n        int[] identifierValue = { 2, 25, singleIntegerValue}; // last part is greater than int max\r\n        return new Asn1ObjectIdentifier(identifierValue);\r\n    }\r\n```\r\n\r\nI have tried to use the decode method as explained in the objsys.com docs as following:\r\n\r\n```\r\n    public Asn1ObjectIdentifier getAttributeOID() {\r\n\r\n        //uuid part is converted to integer value from uuid according to ITU-T X.667 Section 6.3 using \r\n\r\n        String oid = &quot;2.25.142312163956071652603888631318689442116&quot;; \r\n        Asn1BerDecodeBuffer decodeBuffer = new Asn1BerDecodeBuffer(oid.getBytes(StandardCharsets.UTF_8));\r\n        Asn1ObjectIdentifier asn1ObjectIdentifier = new Asn1ObjectIdentifier();\r\n\r\n        try {\r\n            asn1ObjectIdentifier.decode(decodeBuffer, false, oid.length());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        return asn1ObjectIdentifier;\r\n    }\r\n```\r\n\r\nHowever this approach also does not get me the correct identifier value in the resulting object. It outputs something like this:\r\n```\r\n  1.10.46.50.53.46.49.52.50.51.49.50.49.54.51.57.53.54.48.55.49.54.53.50.54.48.51.…\r\n```\r\n\r\nI have also failed when trying BouncyCastle to encode the object identifier and then tried to decode it with the api from the `com.objsys.asn1j.runtime` package. Didn&#39;t work.\r\n\r\n\r\n\r\n\r\n","title":"How to initialize ASN1ObjectIdentifier from an OID string which contains components larger than int max value?","body":"<p>I am trying to reference an unregistered ASN.1 Object Identifier which is compliant with the <code>{joint-iso-itu-t(2) uuid(25)}</code> arc. I am using the <a href=\"https://obj-sys.com/docs/acv63/JavaRunTime/com/objsys/asn1j/runtime/Asn1ObjectIdentifier.html\" rel=\"nofollow noreferrer\">com.objsys.asn1j.runtime</a> package.</p>\n<p>But it seems that the asn1rt library only accepts int[] as identifier. I can't pass the value of the UUID component of the OID string as int as such:</p>\n<pre><code>    public Asn1ObjectIdentifier getAttributeOID() {\n        \n        int[] identifierValue = { 2, 25, singleIntegerValue}; // last part is greater than int max\n        return new Asn1ObjectIdentifier(identifierValue);\n    }\n</code></pre>\n<p>I have tried to use the decode method as explained in the objsys.com docs as following:</p>\n<pre><code>    public Asn1ObjectIdentifier getAttributeOID() {\n\n        //uuid part is converted to integer value from uuid according to ITU-T X.667 Section 6.3 using \n\n        String oid = &quot;2.25.142312163956071652603888631318689442116&quot;; \n        Asn1BerDecodeBuffer decodeBuffer = new Asn1BerDecodeBuffer(oid.getBytes(StandardCharsets.UTF_8));\n        Asn1ObjectIdentifier asn1ObjectIdentifier = new Asn1ObjectIdentifier();\n\n        try {\n            asn1ObjectIdentifier.decode(decodeBuffer, false, oid.length());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        return asn1ObjectIdentifier;\n    }\n</code></pre>\n<p>However this approach also does not get me the correct identifier value in the resulting object. It outputs something like this:</p>\n<pre><code>  1.10.46.50.53.46.49.52.50.51.49.50.49.54.51.57.53.54.48.55.49.54.53.50.54.48.51.…\n</code></pre>\n<p>I have also failed when trying BouncyCastle to encode the object identifier and then tried to decode it with the api from the <code>com.objsys.asn1j.runtime</code> package. Didn't work.</p>\n"},{"tags":["java","json","spring","hibernate","spring-data-jpa"],"owner":{"account_id":9911493,"reputation":38,"user_id":7338044,"display_name":"Vova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675257269,"creation_date":1675257269,"question_id":75310720,"body_markdown":"I am trying to learn Spring framework and I have an idea to create REST API service, then REST client to perform REST request to my REST service and then to create Web service which will use my REST API. So for now I have done simple CRUD methods in controller class:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/games&quot;)\r\npublic class ApiGamesController {\r\n    private static final String ENDPOINT_WITH_PLATFORM_AND_GAME_NAME = &quot;/{platformName}/{gameName}&quot;;\r\n    private final GameService gameService;\r\n    private final ModelMapper modelMapper;\r\n    private final PlatformService platformService;\r\n    private final GameGenreService genreService;\r\n    private final DeveloperStudioService developerStudioService;\r\n    private final GameInfoService gameInfoService;\r\n\r\n    @Autowired\r\n    public ApiGamesController(GameService gameService, ModelMapper modelMapper,\r\n                              PlatformService platformService, GameGenreService genreService,\r\n                              DeveloperStudioService developerStudioService,\r\n                              GameInfoService gameInfoService) {\r\n        this.gameService = gameService;\r\n        this.modelMapper = modelMapper;\r\n        this.platformService = platformService;\r\n        this.genreService = genreService;\r\n        this.developerStudioService = developerStudioService;\r\n        this.gameInfoService = gameInfoService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;BaseResponse&gt; addGame(@RequestBody GameInfoDto gameInfoDto) {\r\n        return Utils.createResponse(createGameFromGameInfoDto(gameInfoDto), HttpStatus.CREATED);\r\n    }\r\n\r\n    @DeleteMapping(ENDPOINT_WITH_PLATFORM_AND_GAME_NAME)\r\n    public ResponseEntity&lt;BaseResponse&gt; deleteGame(@PathVariable String gameName,\r\n                                                   @PathVariable String platformName) {\r\n        Game gameToDelete = gameService.getGameByPlatformAndName(platformName, gameName);\r\n        GameInfo gameInfo = gameToDelete.getGameInfo();\r\n        Set&lt;Game&gt; games = gameInfo.getGames();\r\n        games.remove(gameToDelete);\r\n        if (games.isEmpty()) {\r\n            gameInfoService.deleteEntity(gameInfo);\r\n        }\r\n        String responseMessage = String.format(&quot;Game -- %s has been deleted.&quot;, gameName);\r\n        return Utils.createResponse(responseMessage, HttpStatus.OK);\r\n    }\r\n\r\n    @PatchMapping(&quot;/{gameName}&quot;)\r\n    public ResponseEntity&lt;BaseResponse&gt; updateGame(@PathVariable String gameName,\r\n                                                   @RequestBody GameInfoDto gameInfoDto) {\r\n        GameInfo gameInfo = findAndUpdateGameInfo(gameName, gameInfoDto);\r\n        Set&lt;Game&gt; gamesFromResponse = gameInfoDto.getPlatforms().stream()\r\n                .map(platform -&gt; new Game(gameInfo, platformService\r\n                        .findPlatformByName(platform.getPlatformName())))\r\n                .collect(Collectors.toSet());\r\n        Set&lt;Game&gt; gamesToSave = Utils.findNewAndExisted(gameInfo.getGames(), gamesFromResponse);\r\n        if (!gamesToSave.isEmpty()) {\r\n            gameInfo.setGames(gamesToSave);\r\n        }\r\n        gameInfoService.save(gameInfo);\r\n        return Utils.createResponse(new GameInfoDto(gameInfo), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;BaseResponse&gt; getAllGames() {\r\n        return Utils.createResponse(convertGameCollectionToDto(gameService.getAll()),\r\n                HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(ENDPOINT_WITH_PLATFORM_AND_GAME_NAME)\r\n    public ResponseEntity&lt;BaseResponse&gt; getGame(@PathVariable String gameName,\r\n                                                @PathVariable String platformName) {\r\n        Game game = gameService.getGameByPlatformAndName(platformName, gameName);\r\n        return Utils.createResponse(convertGameToGameDto(game), HttpStatus.OK);\r\n    }\r\n\r\n    @ExceptionHandler\r\n    private ResponseEntity&lt;GameNotFoundResponse&gt; handleGameNotFoundException(\r\n            GameNotFoundException exception) {\r\n        GameNotFoundResponse response = new GameNotFoundResponse(exception.getMessage());\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    @ExceptionHandler\r\n    private ResponseEntity&lt;PlatformNotFoundResponse&gt; handlePlatformNotFoundException(\r\n            PlatformNotFoundException exception) {\r\n        PlatformNotFoundResponse response = new PlatformNotFoundResponse(exception.getMessage());\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    private GameDto convertGameToGameDto(Game game) {\r\n        GameDto dto = modelMapper.map(game, GameDto.class);\r\n        dto.setAverageRating(game.getAverageRating());\r\n        Set&lt;PlatformDto&gt; platforms = game.getOtherPlatforms()\r\n                .stream()\r\n                .map(platform -&gt; new PlatformDto(platform.getPlatformName()))\r\n                .collect(Collectors.toSet());\r\n        dto.getGameInfo().setPlatforms(platforms);\r\n        return dto;\r\n    }\r\n\r\n    private Set&lt;GameDto&gt; convertGameCollectionToDto(Collection&lt;Game&gt; games) {\r\n        return games.stream()\r\n                .map(this::convertGameToGameDto)\r\n                .collect(Collectors.toSet());\r\n    }\r\n\r\n    private Set&lt;Game&gt; createGameFromGameInfoDto(GameInfoDto gameInfoDto) {\r\n        GameGenre genre = genreService.findGameGenreByGenreName(\r\n                gameInfoDto.getGameGenre().getGenreName());\r\n        DeveloperStudio developerStudio = developerStudioService\r\n                .findDeveloperStudioByStudioName(gameInfoDto.getGameDeveloperStudio()\r\n                        .getStudioName());\r\n        Set&lt;Platform&gt; platforms = gameInfoDto.getPlatforms()\r\n                .stream()\r\n                .map(platformDto -&gt; platformService\r\n                        .findPlatformByName(platformDto.getPlatformName()))\r\n                .collect(Collectors.toSet());\r\n\r\n        GameInfo gameInfo = new GameInfo(gameInfoDto.getName(),\r\n                gameInfoDto.getGameDescription(), gameInfoDto.getGameReleaseDate(),\r\n                genre, developerStudio);\r\n        Set&lt;Game&gt; gamesToSave = platforms.stream()\r\n                .map(platform -&gt; new Game(gameInfo, platform))\r\n                .collect(Collectors.toSet());\r\n\r\n        gameInfo.setGames(gamesToSave);\r\n        gameInfoService.save(gameInfo);\r\n        return gamesToSave;\r\n    }\r\n\r\n    private GameInfo findAndUpdateGameInfo(String gameName, GameInfoDto gameInfoDto) {\r\n        GameInfo gameInfo = gameInfoService.findGameInfoByName(gameName);\r\n        gameInfo.setGameName(gameInfoDto.getName());\r\n        gameInfo.setGameDescription(gameInfoDto.getGameDescription());\r\n        gameInfo.setGameReleaseDate(gameInfoDto.getGameReleaseDate());\r\n        GameGenre genre = genreService.findGameGenreByGenreName(\r\n                gameInfoDto.getGameGenre().getGenreName());\r\n        DeveloperStudio developerStudio = developerStudioService\r\n                .findDeveloperStudioByStudioName(gameInfoDto.getGameDeveloperStudio()\r\n                        .getStudioName());\r\n        gameInfo.setGameGenre(genre);\r\n        gameInfo.setGameDeveloperStudio(developerStudio);\r\n        return gameInfo;\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere are my models classes:\r\n\r\n**Game**\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;game&quot;)\r\npublic class Game {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;base_game_info_id&quot;, nullable = false)\r\n    @JsonManagedReference\r\n    private GameInfo gameInfo;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;platform_id&quot;, nullable = false)\r\n    @JsonManagedReference\r\n    private Platform platform;\r\n\r\n    @OneToMany(mappedBy = &quot;game&quot;, cascade = CascadeType.PERSIST)\r\n    @ToString.Exclude\r\n    @JsonManagedReference\r\n    private Set&lt;GameRating&gt; gameRatings = new HashSet&lt;&gt;();\r\n\r\n    public Game(GameInfo gameInfo, Platform platform) {\r\n        this.gameInfo = gameInfo;\r\n        this.platform = platform;\r\n    }\r\n\r\n    public Set&lt;Platform&gt; getOtherPlatforms() {\r\n        return gameInfo.getAllPlatforms().stream()\r\n                .filter(gamePlatform -&gt; !gamePlatform.equals(this.platform))\r\n                .collect(Collectors.toSet());\r\n    }\r\n\r\n    public double getAverageRating() {\r\n        return gameRatings.stream()\r\n                .flatMapToInt(gameRating -&gt; IntStream.of(gameRating.getRating()))\r\n                .average()\r\n                .orElse(0.0);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**DeveloperStudio**\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;developer_studio&quot;)\r\npublic class DeveloperStudio {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;studio_id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;studio_name&quot;, nullable = false, length = Integer.MAX_VALUE)\r\n    private String studioName;\r\n\r\n    @OneToMany(mappedBy = &quot;gameDeveloperStudio&quot;)\r\n    @ToString.Exclude\r\n    @JsonBackReference\r\n    private Set&lt;GameInfo&gt; gameInfos;\r\n}\r\n```\r\n\r\n**Game Genre**\r\n\r\n```\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;game_genre&quot;)\r\npublic class GameGenre {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;genre_id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;genre_name&quot;, nullable = false, length = Integer.MAX_VALUE)\r\n    private String genreName;\r\n\r\n    @OneToMany(mappedBy = &quot;gameGenre&quot;)\r\n    @ToString.Exclude\r\n    @JsonBackReference\r\n    private Set&lt;GameInfo&gt; gameInfos = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nand all other models which are made with same template, nothing specials.\r\n\r\nSo for now I have made those Dto classes, which are transform it. But is there some way to handle it? Because its ok to return this class as JSON but if i need to take it as response body it throws me error something like this:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference &#39;defaultReference&#39;: back reference type (`java.util.Set&lt;org.jcd2052.api.models.GameInfo&gt;`) not compatible with managed type (org.jcd2052.api.models.GameInfo)\r\n at [Source: (String)&quot;[{&quot;gameInfo&quot;:{&quot;name&quot;:&quot;test game sadsad&quot;,&quot;gameDescription&quot;:&quot;some game 7 description&quot;,&quot;gameReleaseDate&quot;:2022,&quot;gameGenre&quot;:{&quot;genreName&quot;:&quot;Studio 2&quot;},&quot;gameDeveloperStudio&quot;:{&quot;studioName&quot;:&quot;Studio 1&quot;},&quot;platforms&quot;:[{&quot;platformName&quot;:&quot;Playstation&quot;},{&quot;platformName&quot;:&quot;Playstation 3&quot;}]},&quot;platform&quot;:{&quot;id&quot;:5,&quot;platformName&quot;:&quot;Playstation 2&quot;},&quot;averageRating&quot;:0.0,&quot;gameRatings&quot;:[]},{&quot;gameInfo&quot;:{&quot;name&quot;:&quot;test game3213&quot;,&quot;gameDescription&quot;:&quot;some game 7 description&quot;,&quot;gameReleaseDate&quot;:2000,&quot;gameGenre&quot;:{&quot;genreName&quot;:&quot;Shooter&quot;},&quot;&quot;[truncated 5357 chars]; line: 1, column: 1]\r\n```\r\n\r\n\r\nSo my main question how to transform json body from request into my jpa entity? or I need to transform every class to dto and then use find to every field from Dto?\r\n\r\nThanks.\r\n\r\n\r\n\r\nSome answers how to handle in this situation.How to build system in right way?","title":"Hibernate transform entity class to JSON and vice versa","body":"<p>I am trying to learn Spring framework and I have an idea to create REST API service, then REST client to perform REST request to my REST service and then to create Web service which will use my REST API. So for now I have done simple CRUD methods in controller class:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/games&quot;)\npublic class ApiGamesController {\n    private static final String ENDPOINT_WITH_PLATFORM_AND_GAME_NAME = &quot;/{platformName}/{gameName}&quot;;\n    private final GameService gameService;\n    private final ModelMapper modelMapper;\n    private final PlatformService platformService;\n    private final GameGenreService genreService;\n    private final DeveloperStudioService developerStudioService;\n    private final GameInfoService gameInfoService;\n\n    @Autowired\n    public ApiGamesController(GameService gameService, ModelMapper modelMapper,\n                              PlatformService platformService, GameGenreService genreService,\n                              DeveloperStudioService developerStudioService,\n                              GameInfoService gameInfoService) {\n        this.gameService = gameService;\n        this.modelMapper = modelMapper;\n        this.platformService = platformService;\n        this.genreService = genreService;\n        this.developerStudioService = developerStudioService;\n        this.gameInfoService = gameInfoService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;BaseResponse&gt; addGame(@RequestBody GameInfoDto gameInfoDto) {\n        return Utils.createResponse(createGameFromGameInfoDto(gameInfoDto), HttpStatus.CREATED);\n    }\n\n    @DeleteMapping(ENDPOINT_WITH_PLATFORM_AND_GAME_NAME)\n    public ResponseEntity&lt;BaseResponse&gt; deleteGame(@PathVariable String gameName,\n                                                   @PathVariable String platformName) {\n        Game gameToDelete = gameService.getGameByPlatformAndName(platformName, gameName);\n        GameInfo gameInfo = gameToDelete.getGameInfo();\n        Set&lt;Game&gt; games = gameInfo.getGames();\n        games.remove(gameToDelete);\n        if (games.isEmpty()) {\n            gameInfoService.deleteEntity(gameInfo);\n        }\n        String responseMessage = String.format(&quot;Game -- %s has been deleted.&quot;, gameName);\n        return Utils.createResponse(responseMessage, HttpStatus.OK);\n    }\n\n    @PatchMapping(&quot;/{gameName}&quot;)\n    public ResponseEntity&lt;BaseResponse&gt; updateGame(@PathVariable String gameName,\n                                                   @RequestBody GameInfoDto gameInfoDto) {\n        GameInfo gameInfo = findAndUpdateGameInfo(gameName, gameInfoDto);\n        Set&lt;Game&gt; gamesFromResponse = gameInfoDto.getPlatforms().stream()\n                .map(platform -&gt; new Game(gameInfo, platformService\n                        .findPlatformByName(platform.getPlatformName())))\n                .collect(Collectors.toSet());\n        Set&lt;Game&gt; gamesToSave = Utils.findNewAndExisted(gameInfo.getGames(), gamesFromResponse);\n        if (!gamesToSave.isEmpty()) {\n            gameInfo.setGames(gamesToSave);\n        }\n        gameInfoService.save(gameInfo);\n        return Utils.createResponse(new GameInfoDto(gameInfo), HttpStatus.OK);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;BaseResponse&gt; getAllGames() {\n        return Utils.createResponse(convertGameCollectionToDto(gameService.getAll()),\n                HttpStatus.OK);\n    }\n\n    @GetMapping(ENDPOINT_WITH_PLATFORM_AND_GAME_NAME)\n    public ResponseEntity&lt;BaseResponse&gt; getGame(@PathVariable String gameName,\n                                                @PathVariable String platformName) {\n        Game game = gameService.getGameByPlatformAndName(platformName, gameName);\n        return Utils.createResponse(convertGameToGameDto(game), HttpStatus.OK);\n    }\n\n    @ExceptionHandler\n    private ResponseEntity&lt;GameNotFoundResponse&gt; handleGameNotFoundException(\n            GameNotFoundException exception) {\n        GameNotFoundResponse response = new GameNotFoundResponse(exception.getMessage());\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler\n    private ResponseEntity&lt;PlatformNotFoundResponse&gt; handlePlatformNotFoundException(\n            PlatformNotFoundException exception) {\n        PlatformNotFoundResponse response = new PlatformNotFoundResponse(exception.getMessage());\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\n    }\n\n    private GameDto convertGameToGameDto(Game game) {\n        GameDto dto = modelMapper.map(game, GameDto.class);\n        dto.setAverageRating(game.getAverageRating());\n        Set&lt;PlatformDto&gt; platforms = game.getOtherPlatforms()\n                .stream()\n                .map(platform -&gt; new PlatformDto(platform.getPlatformName()))\n                .collect(Collectors.toSet());\n        dto.getGameInfo().setPlatforms(platforms);\n        return dto;\n    }\n\n    private Set&lt;GameDto&gt; convertGameCollectionToDto(Collection&lt;Game&gt; games) {\n        return games.stream()\n                .map(this::convertGameToGameDto)\n                .collect(Collectors.toSet());\n    }\n\n    private Set&lt;Game&gt; createGameFromGameInfoDto(GameInfoDto gameInfoDto) {\n        GameGenre genre = genreService.findGameGenreByGenreName(\n                gameInfoDto.getGameGenre().getGenreName());\n        DeveloperStudio developerStudio = developerStudioService\n                .findDeveloperStudioByStudioName(gameInfoDto.getGameDeveloperStudio()\n                        .getStudioName());\n        Set&lt;Platform&gt; platforms = gameInfoDto.getPlatforms()\n                .stream()\n                .map(platformDto -&gt; platformService\n                        .findPlatformByName(platformDto.getPlatformName()))\n                .collect(Collectors.toSet());\n\n        GameInfo gameInfo = new GameInfo(gameInfoDto.getName(),\n                gameInfoDto.getGameDescription(), gameInfoDto.getGameReleaseDate(),\n                genre, developerStudio);\n        Set&lt;Game&gt; gamesToSave = platforms.stream()\n                .map(platform -&gt; new Game(gameInfo, platform))\n                .collect(Collectors.toSet());\n\n        gameInfo.setGames(gamesToSave);\n        gameInfoService.save(gameInfo);\n        return gamesToSave;\n    }\n\n    private GameInfo findAndUpdateGameInfo(String gameName, GameInfoDto gameInfoDto) {\n        GameInfo gameInfo = gameInfoService.findGameInfoByName(gameName);\n        gameInfo.setGameName(gameInfoDto.getName());\n        gameInfo.setGameDescription(gameInfoDto.getGameDescription());\n        gameInfo.setGameReleaseDate(gameInfoDto.getGameReleaseDate());\n        GameGenre genre = genreService.findGameGenreByGenreName(\n                gameInfoDto.getGameGenre().getGenreName());\n        DeveloperStudio developerStudio = developerStudioService\n                .findDeveloperStudioByStudioName(gameInfoDto.getGameDeveloperStudio()\n                        .getStudioName());\n        gameInfo.setGameGenre(genre);\n        gameInfo.setGameDeveloperStudio(developerStudio);\n        return gameInfo;\n    }\n}\n</code></pre>\n<p>Here are my models classes:</p>\n<p><strong>Game</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;game&quot;)\npublic class Game {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;base_game_info_id&quot;, nullable = false)\n    @JsonManagedReference\n    private GameInfo gameInfo;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;platform_id&quot;, nullable = false)\n    @JsonManagedReference\n    private Platform platform;\n\n    @OneToMany(mappedBy = &quot;game&quot;, cascade = CascadeType.PERSIST)\n    @ToString.Exclude\n    @JsonManagedReference\n    private Set&lt;GameRating&gt; gameRatings = new HashSet&lt;&gt;();\n\n    public Game(GameInfo gameInfo, Platform platform) {\n        this.gameInfo = gameInfo;\n        this.platform = platform;\n    }\n\n    public Set&lt;Platform&gt; getOtherPlatforms() {\n        return gameInfo.getAllPlatforms().stream()\n                .filter(gamePlatform -&gt; !gamePlatform.equals(this.platform))\n                .collect(Collectors.toSet());\n    }\n\n    public double getAverageRating() {\n        return gameRatings.stream()\n                .flatMapToInt(gameRating -&gt; IntStream.of(gameRating.getRating()))\n                .average()\n                .orElse(0.0);\n    }\n}\n</code></pre>\n<p><strong>DeveloperStudio</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;developer_studio&quot;)\npublic class DeveloperStudio {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;studio_id&quot;, nullable = false)\n    private Integer id;\n\n    @NotNull\n    @Column(name = &quot;studio_name&quot;, nullable = false, length = Integer.MAX_VALUE)\n    private String studioName;\n\n    @OneToMany(mappedBy = &quot;gameDeveloperStudio&quot;)\n    @ToString.Exclude\n    @JsonBackReference\n    private Set&lt;GameInfo&gt; gameInfos;\n}\n</code></pre>\n<p><strong>Game Genre</strong></p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;game_genre&quot;)\npublic class GameGenre {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;genre_id&quot;, nullable = false)\n    private Integer id;\n\n    @NotNull\n    @Column(name = &quot;genre_name&quot;, nullable = false, length = Integer.MAX_VALUE)\n    private String genreName;\n\n    @OneToMany(mappedBy = &quot;gameGenre&quot;)\n    @ToString.Exclude\n    @JsonBackReference\n    private Set&lt;GameInfo&gt; gameInfos = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and all other models which are made with same template, nothing specials.</p>\n<p>So for now I have made those Dto classes, which are transform it. But is there some way to handle it? Because its ok to return this class as JSON but if i need to take it as response body it throws me error something like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`java.util.Set&lt;org.jcd2052.api.models.GameInfo&gt;`) not compatible with managed type (org.jcd2052.api.models.GameInfo)\n at [Source: (String)&quot;[{&quot;gameInfo&quot;:{&quot;name&quot;:&quot;test game sadsad&quot;,&quot;gameDescription&quot;:&quot;some game 7 description&quot;,&quot;gameReleaseDate&quot;:2022,&quot;gameGenre&quot;:{&quot;genreName&quot;:&quot;Studio 2&quot;},&quot;gameDeveloperStudio&quot;:{&quot;studioName&quot;:&quot;Studio 1&quot;},&quot;platforms&quot;:[{&quot;platformName&quot;:&quot;Playstation&quot;},{&quot;platformName&quot;:&quot;Playstation 3&quot;}]},&quot;platform&quot;:{&quot;id&quot;:5,&quot;platformName&quot;:&quot;Playstation 2&quot;},&quot;averageRating&quot;:0.0,&quot;gameRatings&quot;:[]},{&quot;gameInfo&quot;:{&quot;name&quot;:&quot;test game3213&quot;,&quot;gameDescription&quot;:&quot;some game 7 description&quot;,&quot;gameReleaseDate&quot;:2000,&quot;gameGenre&quot;:{&quot;genreName&quot;:&quot;Shooter&quot;},&quot;&quot;[truncated 5357 chars]; line: 1, column: 1]\n</code></pre>\n<p>So my main question how to transform json body from request into my jpa entity? or I need to transform every class to dto and then use find to every field from Dto?</p>\n<p>Thanks.</p>\n<p>Some answers how to handle in this situation.How to build system in right way?</p>\n"},{"tags":["java","docker","micronaut"],"answers":[{"tags":[],"owner":{"account_id":27632871,"reputation":21,"user_id":21091381,"display_name":"BigBunTea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675257072,"creation_date":1675051901,"answer_id":75280192,"question_id":75254702,"body_markdown":"I found that value of\r\n`io.airbyte.config.helpers.LogConfigs.getStorageConfigs()` is read from `WORKER_LOGS_STORAGE_TYPE`.\r\nSo, when I define `WORKER_LOGS_STORAGE_TYPE` variable worker is working now.","title":"Try to start my airbyte worker image and it doesn&#39;t works","body":"<p>I found that value of\n<code>io.airbyte.config.helpers.LogConfigs.getStorageConfigs()</code> is read from <code>WORKER_LOGS_STORAGE_TYPE</code>.\nSo, when I define <code>WORKER_LOGS_STORAGE_TYPE</code> variable worker is working now.</p>\n"}],"owner":{"account_id":27632871,"reputation":21,"user_id":21091381,"display_name":"BigBunTea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675257072,"creation_date":1674800715,"question_id":75254702,"body_markdown":"I&#39;m trying to deploy airbyte into k8 as a docker image.\r\nand I build it from this compose\r\n[https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml](https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml)\r\n\r\nOther images are working fine but only worker image that can&#39;t start.\r\nIt shows error like this.\r\n\r\n```\r\n2023-01-27 05:06:47 [1;31mERROR[m i.m.r.Micronaut(handleStartupException):338 - Error starting Micronaut server: Cannot invoke &quot;io.airbyte.config.storage.CloudStorageConfigs.getType()&quot; because the return value of &quot;io.airbyte.config.helpers.LogConfigs.getStorageConfigs()&quot; is null\r\n```\r\n\r\n\r\nI&#39;m tried to adjust environment variables but it still show the error.\r\nAnyone know how to fix this?","title":"Try to start my airbyte worker image and it doesn&#39;t works","body":"<p>I'm trying to deploy airbyte into k8 as a docker image.\nand I build it from this compose\n<a href=\"https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml\" rel=\"nofollow noreferrer\">https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml</a></p>\n<p>Other images are working fine but only worker image that can't start.\nIt shows error like this.</p>\n<pre><code>2023-01-27 05:06:47 [1;31mERROR[m i.m.r.Micronaut(handleStartupException):338 - Error starting Micronaut server: Cannot invoke &quot;io.airbyte.config.storage.CloudStorageConfigs.getType()&quot; because the return value of &quot;io.airbyte.config.helpers.LogConfigs.getStorageConfigs()&quot; is null\n</code></pre>\n<p>I'm tried to adjust environment variables but it still show the error.\nAnyone know how to fix this?</p>\n"},{"tags":["java","netbeans","inputstream","java-io"],"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":2,"creation_date":1362736648,"post_id":15291079,"comment_id":21577776,"body_markdown":"When You write code like above, netbeans does not mark it in red?","body":"When You write code like above, netbeans does not mark it in red?"},{"owner":{"account_id":1064256,"reputation":882,"user_id":1065207,"accept_rate":84,"display_name":"Pantaziu Cristian"},"score":0,"creation_date":1692210627,"post_id":15291079,"comment_id":135594066,"body_markdown":"Wow, who uses NetBeans these days :)","body":"Wow, who uses NetBeans these days :)"},{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":0,"creation_date":1692256544,"post_id":15291079,"comment_id":135599239,"body_markdown":"who uses jdk 1.6? ;)","body":"who uses jdk 1.6? ;)"}],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362736399,"creation_date":1362736399,"answer_id":15291121,"question_id":15291079,"body_markdown":"you have to assign a  **reference variable**:\r\n\r\n\tInputStream ref= this.getClass().getResourceAsStream(&quot;users.xml&quot;);\r\n","title":"Netbeans cannot find java.io.InputStream","body":"<p>you have to assign a  <strong>reference variable</strong>:</p>\n\n<pre><code>InputStream ref= this.getClass().getResourceAsStream(\"users.xml\");\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1907906"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362737067,"creation_date":1362736410,"answer_id":15291126,"question_id":15291079,"body_markdown":"You must name a variable:\r\n\r\n    InputStream is = this.getClas()...","title":"Netbeans cannot find java.io.InputStream","body":"<p>You must name a variable:</p>\n\n<pre><code>InputStream is = this.getClas()...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27675787,"reputation":1,"user_id":21125640,"display_name":"Mathew Barber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675256865,"creation_date":1675256865,"answer_id":75310633,"question_id":15291079,"body_markdown":" \r\n\r\n    import java.awt.image.BufferedImage;\r\n        import java.io.IOException;\r\n        import java.io.InputStream;\r\n        import javax.imageio.ImageIO;\r\n    \r\n        /**\r\n         *\r\n         * @author mbarb\r\n         */\r\n        public class LoadSave {\r\n        \r\n            public static BufferedImage GetPlayerAtlas(){\r\n                BufferedImage img = null;\r\n                InputStream is = \r\n        LoadSave.class.getResourceAsStream(&quot;Res/player2.png&quot;);\r\n            try {\r\n                img = ImageIO.read(is);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }//try catch .close() \r\n            return img;\r\n    \r\n            }\r\n         }\r\n\r\n  \r\n\r\n     \r\n    \r\nI&#39;m have the same issue here in the code above.\r\n    \r\ni just get this:\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n    \t    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1358)\r\n    \t    at Utilities.LoadSave.GetPlayerAtlas(LoadSave.java:19)\r\n    \t    at Entities.Player.loadAnimations(Player.java:102)\r\n    \t    at Entities.Player.&lt;init&gt;(Player.java:29)\r\n    \t    at com.mycompany.platformgame.Game.initClasses(Game.java:32)\r\n    \t    at com.mycompany.platformgame.Game.&lt;init&gt;(Game.java:21)\r\n    \t    at com.mycompany.platformgame.PlatformGame.main(PlatformGame.java:7)\r\n    Command execution failed.","title":"Netbeans cannot find java.io.InputStream","body":"<pre><code>import java.awt.image.BufferedImage;\n    import java.io.IOException;\n    import java.io.InputStream;\n    import javax.imageio.ImageIO;\n\n    /**\n     *\n     * @author mbarb\n     */\n    public class LoadSave {\n    \n        public static BufferedImage GetPlayerAtlas(){\n            BufferedImage img = null;\n            InputStream is = \n    LoadSave.class.getResourceAsStream(&quot;Res/player2.png&quot;);\n        try {\n            img = ImageIO.read(is);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }//try catch .close() \n        return img;\n\n        }\n     }\n\n\n\n \n</code></pre>\n<p>I'm have the same issue here in the code above.</p>\n<p>i just get this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\n        at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1358)\n        at Utilities.LoadSave.GetPlayerAtlas(LoadSave.java:19)\n        at Entities.Player.loadAnimations(Player.java:102)\n        at Entities.Player.&lt;init&gt;(Player.java:29)\n        at com.mycompany.platformgame.Game.initClasses(Game.java:32)\n        at com.mycompany.platformgame.Game.&lt;init&gt;(Game.java:21)\n        at com.mycompany.platformgame.PlatformGame.main(PlatformGame.java:7)\nCommand execution failed.\n</code></pre>\n"}],"owner":{"account_id":1064256,"reputation":882,"user_id":1065207,"accept_rate":84,"display_name":"Pantaziu Cristian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15291121,"answer_count":3,"score":0,"last_activity_date":1675256865,"creation_date":1362736251,"question_id":15291079,"body_markdown":"Actually, he cannot find java.io.\r\n\r\nIt recognizes `import java.io.*;\r\nimport java.io.IOException;`\r\n\r\nbut when I try `InputStream = this.getClass().getResourceAsStream(&quot;users.xml&quot;);`, i get the following error: \r\n\r\n&gt; C:\\Users\\cpantaziu\\Documents\\NetBeansProjects\\url\\src\\main\\java\\com\\mkyong\\common\\controller\\FailRegisterController.java:[120,12] cannot find symbol\r\nsymbol  : variable InputStream.\r\n\r\nTools -&gt; Java Platforms ses my jdk 1.6.\r\n\r\nWhy am I getting this?\r\n","title":"Netbeans cannot find java.io.InputStream","body":"<p>Actually, he cannot find java.io.</p>\n\n<p>It recognizes <code>import java.io.*;\nimport java.io.IOException;</code></p>\n\n<p>but when I try <code>InputStream = this.getClass().getResourceAsStream(\"users.xml\");</code>, i get the following error: </p>\n\n<blockquote>\n  <p>C:\\Users\\cpantaziu\\Documents\\NetBeansProjects\\url\\src\\main\\java\\com\\mkyong\\common\\controller\\FailRegisterController.java:[120,12] cannot find symbol\n  symbol  : variable InputStream.</p>\n</blockquote>\n\n<p>Tools -> Java Platforms ses my jdk 1.6.</p>\n\n<p>Why am I getting this?</p>\n"},{"tags":["java","css","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":124904,"reputation":1492,"user_id":320322,"accept_rate":46,"display_name":"Jonathan Lebrun"},"score":0,"creation_date":1392812628,"post_id":21879824,"comment_id":33129433,"body_markdown":"May be that&#39;s help you :\nhttp://stackoverflow.com/questions/16476004/unable-to-allow-static-resources-in-spring-security-3","body":"May be that&#39;s help you : <a href=\"http://stackoverflow.com/questions/16476004/unable-to-allow-static-resources-in-spring-security-3\" title=\"unable to allow static resources in spring security 3\">stackoverflow.com/questions/16476004/&hellip;</a>"},{"owner":{"account_id":3935201,"reputation":17,"user_id":3251824,"display_name":"user3251824"},"score":0,"creation_date":1392813312,"post_id":21879824,"comment_id":33129877,"body_markdown":"i tried this one ..but did not get ..the access of static resource..sorry","body":"i tried this one ..but did not get ..the access of static resource..sorry"}],"answers":[{"tags":[],"owner":{"account_id":1601535,"reputation":1,"user_id":1482474,"display_name":"an9l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392835939,"creation_date":1392835568,"answer_id":21889571,"question_id":21879824,"body_markdown":"In dispatcher-servlet, add resources using `&lt;mvc:resources&gt;`, e.g.:&lt;br&gt;\r\n`&lt;mvc:resources mapping=&quot;/css/**&quot; location=&quot;/css/&quot;&gt;` &lt;br&gt;&lt;br&gt;\r\nAnd also don&#39;t forget to add these lines in top `&lt;bean: ...&gt;` :&lt;br&gt;\r\nxmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;&lt;br&gt;\r\n...&lt;br&gt;\r\nhttp://www.springframework.org/schema/mvc&lt;br&gt;\r\nhttp://www.springframework.org/schema/mvc/spring-mvc.xsd","title":"my spring security code is not using the static resources like css,js and images folder","body":"<p>In dispatcher-servlet, add resources using <code>&lt;mvc:resources&gt;</code>, e.g.:<br>\n<code>&lt;mvc:resources mapping=\"/css/**\" location=\"/css/\"&gt;</code> <br><br>\nAnd also don't forget to add these lines in top <code>&lt;bean: ...&gt;</code> :<br>\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"<br>\n...<br>\n<a href=\"http://www.springframework.org/schema/mvc\" rel=\"nofollow\">http://www.springframework.org/schema/mvc</a><br>\n<a href=\"http://www.springframework.org/schema/mvc/spring-mvc.xsd\" rel=\"nofollow\">http://www.springframework.org/schema/mvc/spring-mvc.xsd</a></p>\n"},{"tags":[],"owner":{"account_id":1327847,"reputation":5665,"user_id":1272318,"accept_rate":48,"display_name":"Touchstone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392975333,"creation_date":1392975333,"answer_id":21930444,"question_id":21879824,"body_markdown":"Refer this [How to use static resources like js, css?][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/spring-mvc/spring-mvc-how-to-include-js-or-css-files-in-a-jsp-page/","title":"my spring security code is not using the static resources like css,js and images folder","body":"<p>Refer this <a href=\"http://www.mkyong.com/spring-mvc/spring-mvc-how-to-include-js-or-css-files-in-a-jsp-page/\" rel=\"nofollow\">How to use static resources like js, css?</a></p>\n"},{"tags":[],"owner":{"account_id":27675711,"reputation":1,"user_id":21125575,"display_name":"Семён Жуков"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675256288,"creation_date":1675256102,"answer_id":75310495,"question_id":21879824,"body_markdown":"    Откройте доступ к папкам всех статических ресурсов в моём случае это &quot;/assets/**&quot;, &quot;/fragments/**&quot;, &quot;/node_modules/**&quot;, &quot;/stylus/**&quot;\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .antMatchers(&quot;/signin&quot;, &quot;/assets/**&quot;, &quot;/fragments/**&quot;, &quot;/node_modules/**&quot;, &quot;/stylus/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/signin&quot;).defaultSuccessUrl(&quot;/&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n        return http.build();\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fm0l1.jpg","title":"my spring security code is not using the static resources like css,js and images folder","body":"<pre><code>Откройте доступ к папкам всех статических ресурсов в моём случае это &quot;/assets/**&quot;, &quot;/fragments/**&quot;, &quot;/node_modules/**&quot;, &quot;/stylus/**&quot;\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests((requests) -&gt; requests\n                    .antMatchers(&quot;/signin&quot;, &quot;/assets/**&quot;, &quot;/fragments/**&quot;, &quot;/node_modules/**&quot;, &quot;/stylus/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .formLogin((form) -&gt; form\n                    .loginPage(&quot;/signin&quot;).defaultSuccessUrl(&quot;/&quot;)\n                    .permitAll()\n            )\n            .logout((logout) -&gt; logout.permitAll());\n    return http.build();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Fm0l1.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":3935201,"reputation":17,"user_id":3251824,"display_name":"user3251824"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675256288,"creation_date":1392811152,"question_id":21879824,"body_markdown":"I am trying to access static resource in jsp that i am using in spring security...but it is not accessing those static resources need your ..valuable suggestions ..i am new in springs security ....\r\n\r\nmy dispacher-servlet is...\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;\r\n    http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    http://www.springframework.org/schema/tx\r\n    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n    http://www.springframework.org/schema/mvc\r\n         http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n\t&lt;context:property-placeholder location=&quot;classpath:resources/database.properties&quot; /&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.nufame&quot; /&gt;\r\n\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;hibernateTransactionManager&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;jspViewResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;viewClass&quot;\r\n\t\t\tvalue=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${database.driver}&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;${database.user}&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${database.password}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;${hibernate.hbm2ddl.auto}    \r\n    &lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n  \r\n\r\nmy security.xml is..\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n\txmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                           http://www.springframework.org/schema/beans/spring-beans.xsd\r\n                           http://www.springframework.org/schema/security\r\n                           http://www.springframework.org/schema/security/spring-security-3.1.xsd\r\n                           http://www.springframework.org/schema/mvc\r\n         http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n         http://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd&quot;&gt;\r\n\t &lt;!-- Non secure URLs --&gt;\r\n\t&lt;security:http auto-config=&quot;true&quot;&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/index*&quot; access=&quot;ROLE_USER&quot; /&gt;\r\n\t\t&lt;security:form-login login-page=&quot;/login&quot; default-target-url=&quot;/index&quot; \r\n\t\tauthentication-failure-url=&quot;/fail2login&quot; /&gt;\r\n\t\t&lt;security:logout invalidate-session=&quot;true&quot;\r\n\t\t\tlogout-success-url=&quot;/logout&quot; /&gt;\r\n\r\n\r\n\t\t&lt;security:access-denied-handler\r\n\t\t\terror-page=&quot;/403&quot; /&gt;\r\n\t&lt;/security:http&gt;\r\n\t&lt;security:http pattern=&quot;/css/**&quot; security=&quot;none&quot; /&gt;\r\n\t\r\n\r\n\t&lt;security:authentication-manager&gt;\r\n\t\t&lt;security:authentication-provider&gt;\r\n\r\n\t\t\t&lt;!-- &lt;security:user-service&gt; &lt;security:user name=&quot;dineshonjava&quot; password=&quot;sweety&quot; \r\n\t\t\t\tauthorities=&quot;ROLE_USER&quot; /&gt; &lt;/security:user-service&gt; --&gt;\r\n\t\t\t&lt;security:jdbc-user-service\r\n\t\t\t\tdata-source-ref=&quot;dataSource&quot;\r\n\t\t\t\tusers-by-username-query=&quot;select username, password, active from users where username=?&quot;\r\n\t\t\t\tauthorities-by-username-query=&quot;select us.username, ur.authority from users us, user_roles ur \r\n\t\t      where us.user_id = ur.user_id and us.username =?  &quot; /&gt;\r\n\t\t&lt;/security:authentication-provider&gt;\r\n\t&lt;/security:authentication-manager&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\n\r\nmy web.xml is...\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;     xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;2.5&quot;&gt;\r\n     &lt;servlet&gt;\r\n    &lt;servlet-name&gt;sdnext&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;sdnext&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;listener&gt;\r\n    &lt;listener-class&gt;\r\n                  org.springframework.web.context.ContextLoaderListener\r\n        &lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    &lt;param-value&gt;\r\n\t\t\t/WEB-INF/sdnext-*.xml,\r\n\t\t&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n  \r\n     &lt;filter&gt;\r\n     &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n     &lt;filter-class&gt;\r\n                  org.springframework.web.filter.DelegatingFilterProxy\r\n                &lt;/filter-class&gt;\r\n     &lt;/filter&gt;\r\n     &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n     &lt;/filter-mapping&gt;\r\n    &lt;welcome-file-list&gt;\r\n      &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\nplease help i AM new in spring security ..\r\n\r\nthanks in advance....","title":"my spring security code is not using the static resources like css,js and images folder","body":"<p>I am trying to access static resource in jsp that i am using in spring security...but it is not accessing those static resources need your ..valuable suggestions ..i am new in springs security ....</p>\n\n<p>my dispacher-servlet is...</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"\nhttp://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-3.0.xsd\nhttp://www.springframework.org/schema/tx\nhttp://www.springframework.org/schema/tx/spring-tx-3.0.xsd\nhttp://www.springframework.org/schema/mvc\n     http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n&lt;context:property-placeholder location=\"classpath:resources/database.properties\" /&gt;\n&lt;context:component-scan base-package=\"com.nufame\" /&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"hibernateTransactionManager\" /&gt;\n\n&lt;bean id=\"jspViewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n        value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"prefix\" value=\"WEB-INF/views/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${database.driver}\" /&gt;\n    &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n    &lt;property name=\"username\" value=\"${database.user}\" /&gt;\n    &lt;property name=\"password\" value=\"${database.password}\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;${hibernate.hbm2ddl.auto}    \n&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>my security.xml is..</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"   xmlns:security=\"http://www.springframework.org/schema/security\"\nxmlns:p=\"http://www.springframework.org/schema/p\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\n                       http://www.springframework.org/schema/beans/spring-beans.xsd\n                       http://www.springframework.org/schema/security\n                       http://www.springframework.org/schema/security/spring-security-3.1.xsd\n                       http://www.springframework.org/schema/mvc\n     http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n     http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd\"&gt;\n &lt;!-- Non secure URLs --&gt;\n&lt;security:http auto-config=\"true\"&gt;\n    &lt;security:intercept-url pattern=\"/index*\" access=\"ROLE_USER\" /&gt;\n    &lt;security:form-login login-page=\"/login\" default-target-url=\"/index\" \n    authentication-failure-url=\"/fail2login\" /&gt;\n    &lt;security:logout invalidate-session=\"true\"\n        logout-success-url=\"/logout\" /&gt;\n\n\n    &lt;security:access-denied-handler\n        error-page=\"/403\" /&gt;\n&lt;/security:http&gt;\n&lt;security:http pattern=\"/css/**\" security=\"none\" /&gt;\n\n\n&lt;security:authentication-manager&gt;\n    &lt;security:authentication-provider&gt;\n\n        &lt;!-- &lt;security:user-service&gt; &lt;security:user name=\"dineshonjava\" password=\"sweety\" \n            authorities=\"ROLE_USER\" /&gt; &lt;/security:user-service&gt; --&gt;\n        &lt;security:jdbc-user-service\n            data-source-ref=\"dataSource\"\n            users-by-username-query=\"select username, password, active from users where username=?\"\n            authorities-by-username-query=\"select us.username, ur.authority from users us, user_roles ur \n          where us.user_id = ur.user_id and us.username =?  \" /&gt;\n    &lt;/security:authentication-provider&gt;\n&lt;/security:authentication-manager&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>my web.xml is...</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"     xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" version=\"2.5\"&gt;\n &lt;servlet&gt;\n&lt;servlet-name&gt;sdnext&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;sdnext&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;listener&gt;\n&lt;listener-class&gt;\n              org.springframework.web.context.ContextLoaderListener\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;context-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;\n        /WEB-INF/sdnext-*.xml,\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;welcome-file-list&gt;\n&lt;welcome-file&gt;index&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n\n &lt;filter&gt;\n &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n &lt;filter-class&gt;\n              org.springframework.web.filter.DelegatingFilterProxy\n            &lt;/filter-class&gt;\n &lt;/filter&gt;\n &lt;filter-mapping&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n&lt;welcome-file-list&gt;\n  &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>please help i AM new in spring security ..</p>\n\n<p>thanks in advance....</p>\n"},{"tags":["java","modelmapper"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1675250605,"post_id":75309051,"comment_id":132886890,"body_markdown":"you need to configure AutoMapping in your mapper configuration. With AutoMapping, the mapper will attempt to map all known types automatically,","body":"you need to configure AutoMapping in your mapper configuration. With AutoMapping, the mapper will attempt to map all known types automatically,"},{"owner":{"account_id":1149353,"reputation":4547,"user_id":1131384,"accept_rate":65,"display_name":"Chillax"},"score":0,"creation_date":1675250796,"post_id":75309051,"comment_id":132886935,"body_markdown":"@RaushanKumar Can you please point me to any doc\\reference where I can check what this automapping is for a model mapper? I am unable to find anything","body":"@RaushanKumar Can you please point me to any doc\\reference where I can check what this automapping is for a model mapper? I am unable to find anything"}],"owner":{"account_id":1149353,"reputation":4547,"user_id":1131384,"accept_rate":65,"display_name":"Chillax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675256158,"creation_date":1675248454,"question_id":75309051,"body_markdown":"I am trying to use model mapper to map to an interface, and I am able to do it if I add this type map and converter to the mapper:\r\n\r\n    mapper.createTypeMap( ConcreteADomain.class, InterfaceApi.class )\r\n    \t\t\t\t.setConverter( mappingContext -&gt; mapper.map( mappingContext.getSource(), ConcreteAApi.class ) );\r\n\t\t\t\t\r\nI hope the names are self-explanatory on what type of beans they are. With this, I need to do this for every new implementation.\r\n\r\n\r\nIf I do not add the mapping, I get an error:\r\n\r\n    Caused by: java.lang.NoSuchMethodException\r\n\r\n\r\nHow do I let the mapper take care of mapping between the implementation and the interfaces? Is this even possible?\r\n","title":"How to map to interfaces using Model mapper?","body":"<p>I am trying to use model mapper to map to an interface, and I am able to do it if I add this type map and converter to the mapper:</p>\n<pre><code>mapper.createTypeMap( ConcreteADomain.class, InterfaceApi.class )\n                .setConverter( mappingContext -&gt; mapper.map( mappingContext.getSource(), ConcreteAApi.class ) );\n            \n</code></pre>\n<p>I hope the names are self-explanatory on what type of beans they are. With this, I need to do this for every new implementation.</p>\n<p>If I do not add the mapping, I get an error:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodException\n</code></pre>\n<p>How do I let the mapper take care of mapping between the implementation and the interfaces? Is this even possible?</p>\n"},{"tags":["java","spring-boot","configuration"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675256130,"creation_date":1675229915,"answer_id":75306065,"question_id":75305972,"body_markdown":"Maven by default will package all files in the `src/test/resources/` folder to the classpath. So to refer it by the classpath , it should be :  \r\n\r\n``` java\r\n@TestPropertySource(locations = &quot;classpath:test.properties&quot;) \r\n```\r\n\r\nAlternatively, if you want to refer it by the system file path , you can change it to :\r\n\r\n```\r\n@TestPropertySource(locations = &quot;file:src/test/resources/test.properties&quot;) \r\n```\r\n\r\nUnder the cover , its uses `ResourceLoader` to load the file. See [this][1] for more details.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#resources-resourceloader","title":"Spring Boot `TestPropertySource` not Working","body":"<p>Maven by default will package all files in the <code>src/test/resources/</code> folder to the classpath. So to refer it by the classpath , it should be :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestPropertySource(locations = &quot;classpath:test.properties&quot;) \n</code></pre>\n<p>Alternatively, if you want to refer it by the system file path , you can change it to :</p>\n<pre><code>@TestPropertySource(locations = &quot;file:src/test/resources/test.properties&quot;) \n</code></pre>\n<p>Under the cover , its uses <code>ResourceLoader</code> to load the file. See <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#resources-resourceloader\" rel=\"nofollow noreferrer\">this</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":20993600,"reputation":232,"user_id":15425970,"display_name":"Prachi Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675249544,"creation_date":1675231557,"answer_id":75306231,"question_id":75305972,"body_markdown":"In pom.xml add a **profiles tag** which specifies which properties file should the program choose when it runs.\r\n\r\n     &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;test&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;activatedProperties&gt;test&lt;/activatedProperties&gt;\r\n            &lt;/properties&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nNote: name of your properties file must be **application-test.properties**.\r\n\r\nThis will make your test properties active but to access it you need to configure your test resource folder and let the intellij know &#39;use this when running.\r\n\r\nIn Intellij, you can change your resource folder with which you run your project, so you need to....\r\n\r\n1. Select test resource folder.\r\n2. Right click on it. In the opened menu, select **Modify Run Configuration** and create a new configuration.\r\n\r\nThis means a new **Run Configuration** is created for running test resource folder.\r\n\r\n3. Run the configuration.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot `TestPropertySource` not Working","body":"<p>In pom.xml add a <strong>profiles tag</strong> which specifies which properties file should the program choose when it runs.</p>\n<pre><code> &lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;test&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;activatedProperties&gt;test&lt;/activatedProperties&gt;\n        &lt;/properties&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>Note: name of your properties file must be <strong>application-test.properties</strong>.</p>\n<p>This will make your test properties active but to access it you need to configure your test resource folder and let the intellij know 'use this when running.</p>\n<p>In Intellij, you can change your resource folder with which you run your project, so you need to....</p>\n<ol>\n<li>Select test resource folder.</li>\n<li>Right click on it. In the opened menu, select <strong>Modify Run Configuration</strong> and create a new configuration.</li>\n</ol>\n<p>This means a new <strong>Run Configuration</strong> is created for running test resource folder.</p>\n<ol start=\"3\">\n<li>Run the configuration.</li>\n</ol>\n"}],"owner":{"account_id":11286781,"reputation":683,"user_id":8277437,"display_name":"Vismark Juarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675256130,"creation_date":1675228789,"question_id":75305972,"body_markdown":"I have a simple unit test, and I&#39;d like for the unit tests to load up a test property file that I&#39;ve placed in `src/test/resources/test.properties` instead of the property file in `src/main/resources/application.properties`.  \r\n\r\nMy test class is set up as follows:\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureMockMvc\r\n@TestPropertySource(locations = &quot;classpath:src/test/resources/properties-test.yml&quot;)\r\npublic class SecurityConfigurationTest {\r\n    @MockBean\r\n    KafkaConfiguration kafkaConfiguration;\r\n\r\n    @MockBean\r\n    KafkaMonitor kafkaMonitor;\r\n\r\n    @MockBean\r\n    BuildProperties buildProperties;\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void unauthorizedUser_shouldNotAccessHomePage() throws Exception{\r\n        mockMvc\r\n                .perform(get(&quot;/&quot;))\r\n                .andExpect(status().isUnauthorized());\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy project file structure is as shown below:\r\n[![enter image description here][1]][1]\r\n\r\nBut I am getting the following error, suggesting I&#39;m not specifying this property file correctly:\r\n\r\n`Caused by: java.io.FileNotFoundException: class path resource [src/test/resources/test.properties] cannot be opened because it does not exist`\r\n\r\nHow do can I manage to get the `test.properties` file to be used instead of the `application.properties` file for my unit tests?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KkY7h.png","title":"Spring Boot `TestPropertySource` not Working","body":"<p>I have a simple unit test, and I'd like for the unit tests to load up a test property file that I've placed in <code>src/test/resources/test.properties</code> instead of the property file in <code>src/main/resources/application.properties</code>.</p>\n<p>My test class is set up as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\n@TestPropertySource(locations = &quot;classpath:src/test/resources/properties-test.yml&quot;)\npublic class SecurityConfigurationTest {\n    @MockBean\n    KafkaConfiguration kafkaConfiguration;\n\n    @MockBean\n    KafkaMonitor kafkaMonitor;\n\n    @MockBean\n    BuildProperties buildProperties;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    public void unauthorizedUser_shouldNotAccessHomePage() throws Exception{\n        mockMvc\n                .perform(get(&quot;/&quot;))\n                .andExpect(status().isUnauthorized());\n    }\n\n}\n</code></pre>\n<p>My project file structure is as shown below:\n<a href=\"https://i.stack.imgur.com/KkY7h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KkY7h.png\" alt=\"enter image description here\" /></a></p>\n<p>But I am getting the following error, suggesting I'm not specifying this property file correctly:</p>\n<p><code>Caused by: java.io.FileNotFoundException: class path resource [src/test/resources/test.properties] cannot be opened because it does not exist</code></p>\n<p>How do can I manage to get the <code>test.properties</code> file to be used instead of the <code>application.properties</code> file for my unit tests?</p>\n"},{"tags":["java","loops","for-loop","infinity"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1675240846,"post_id":75307425,"comment_id":132883721,"body_markdown":"Why is this not the correct test output? The sample output from the formula states that H(3,2) is **approximately** equal to `1.361111`. Your program&#39;s output matches that.","body":"Why is this not the correct test output? The sample output from the formula states that H(3,2) is <b>approximately</b> equal to <code>1.361111</code>. Your program&#39;s output matches that."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1675240846,"post_id":75307425,"comment_id":132883722,"body_markdown":"Please copy the formula and your expected output as text directly into your question. I&#39;m not gonna click your links.","body":"Please copy the formula and your expected output as text directly into your question. I&#39;m not gonna click your links."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675240907,"post_id":75307425,"comment_id":132883738,"body_markdown":"But we don&#39;t know what is &#39;generalized harmonic number&#39;!","body":"But we don&#39;t know what is &#39;generalized harmonic number&#39;!"}],"answers":[{"tags":[],"owner":{"account_id":26973585,"reputation":117,"user_id":20539215,"display_name":"VicenteJankowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675241904,"creation_date":1675241400,"answer_id":75307593,"question_id":75307425,"body_markdown":"You have initliazed ```int i = 0``` in for-loop ```for (i = 0; i &lt;= a; i++)``` and so the first element of your harmonic number isn&#39;t [![\\frac{1}{1^{b}}][1]][1], but [![!\\[\\frac{1}{0^{b}}][2]][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9suxU.gif\r\n  [2]: https://i.stack.imgur.com/zbIcA.gif\r\n\r\nThe code that works:\r\n```java\r\npublic class GeneralizedHarmonic {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int a = Integer.parseInt(args[0]);\r\n        int b = Integer.parseInt(args[1]);\r\n        double sum = 0;\r\n        for (int i = 1; i &lt;= a; i++) {\r\n            sum += 1 / Math.pow(i, b);\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```","title":"For-loop returning wrong results","body":"<p>You have initliazed <code>int i = 0</code> in for-loop <code>for (i = 0; i &lt;= a; i++)</code> and so the first element of your harmonic number isn't <a href=\"https://i.stack.imgur.com/9suxU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9suxU.gif\" alt=\"\\frac{1}{1^{b}}\" /></a>, but <a href=\"https://i.stack.imgur.com/zbIcA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zbIcA.gif\" alt=\"![\\frac{1}{0^{b}}\" /></a>.</p>\n<p>The code that works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GeneralizedHarmonic {\n\n    public static void main(String[] args) {\n\n        int a = Integer.parseInt(args[0]);\n        int b = Integer.parseInt(args[1]);\n        double sum = 0;\n        for (int i = 1; i &lt;= a; i++) {\n            sum += 1 / Math.pow(i, b);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27673578,"reputation":13,"user_id":21123874,"display_name":"lklk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75307593,"answer_count":1,"score":0,"last_activity_date":1675256004,"creation_date":1675240443,"question_id":75307425,"body_markdown":"I am getting wrong results resolving below task:\r\n\r\nGeneralized harmonic numbers. Write a program GeneralizedHarmonic.java that takes two integer command-line arguments n and r and uses a for loop to compute the nth generalized harmonic number of order r, which is defined by the following formula:\r\n[formula](https://i.stack.imgur.com/bBk9e.png)\r\n\r\n```\r\n\r\npublic class GeneralizedHarmonic {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int a = Integer.parseInt(args[0]);\r\n        int b = Integer.parseInt(args[1]);\r\n        int i;\r\n        double sum = 0;\r\n        for (i = 0; i &lt;= a; i++) {\r\n            sum += 1 / Math.pow(i, b);\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\nThis is my code but I could not get the correct test output.The output result is always ```Infinity```.\r\n[test outputs](https://i.stack.imgur.com/J3Qq6.png)","title":"For-loop returning wrong results","body":"<p>I am getting wrong results resolving below task:</p>\n<p>Generalized harmonic numbers. Write a program GeneralizedHarmonic.java that takes two integer command-line arguments n and r and uses a for loop to compute the nth generalized harmonic number of order r, which is defined by the following formula:\n<a href=\"https://i.stack.imgur.com/bBk9e.png\" rel=\"nofollow noreferrer\">formula</a></p>\n<pre><code>\npublic class GeneralizedHarmonic {\n\n    public static void main(String[] args) {\n\n        int a = Integer.parseInt(args[0]);\n        int b = Integer.parseInt(args[1]);\n        int i;\n        double sum = 0;\n        for (i = 0; i &lt;= a; i++) {\n            sum += 1 / Math.pow(i, b);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p>This is my code but I could not get the correct test output.The output result is always <code>Infinity</code>.\n<a href=\"https://i.stack.imgur.com/J3Qq6.png\" rel=\"nofollow noreferrer\">test outputs</a></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":10046863,"reputation":581,"user_id":7790545,"accept_rate":100,"display_name":"John Katsantas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675255708,"creation_date":1675255400,"question_id":75310369,"body_markdown":"Say I have a column `books` in table `authors` that contains a list of book ids and some description in jsonb type. \r\nI&#39;ve managed to deserialize this and place it in an `Author` instance by defining the following classes:\r\n```\r\n@Entity\r\n@Table(name = &quot;authors&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\npublic class Author {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(name = &quot;books&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    private List&lt;TestObject&gt; testObjectList;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class TestObject {\r\n\r\n    @JsonProperty(&quot;book_id&quot;)\r\n    private Long id;\r\n\r\n    @JsonProperty(&quot;book_description&quot;)\r\n    private String bookDescription;\r\n}\r\n```\r\n\r\nHowever, instead of the `Long id` field, I&#39;d like to fetch the whole `Book` entity inside `TestBook` class. How can I achieve this? This would be easier if the `book_id` field was inside the `Author` class, but here it is nested.\r\n  \r\n \r\n","title":"Map id contained in a json to the entity field of a class","body":"<p>Say I have a column <code>books</code> in table <code>authors</code> that contains a list of book ids and some description in jsonb type.\nI've managed to deserialize this and place it in an <code>Author</code> instance by defining the following classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;authors&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\npublic class Author {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(name = &quot;books&quot;, columnDefinition = &quot;jsonb&quot;)\n    private List&lt;TestObject&gt; testObjectList;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TestObject {\n\n    @JsonProperty(&quot;book_id&quot;)\n    private Long id;\n\n    @JsonProperty(&quot;book_description&quot;)\n    private String bookDescription;\n}\n</code></pre>\n<p>However, instead of the <code>Long id</code> field, I'd like to fetch the whole <code>Book</code> entity inside <code>TestBook</code> class. How can I achieve this? This would be easier if the <code>book_id</code> field was inside the <code>Author</code> class, but here it is nested.</p>\n"},{"tags":["java","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675247433,"post_id":75308687,"comment_id":132885869,"body_markdown":"I think English doesn&#39;t fully express your question.","body":"I think English doesn&#39;t fully express your question."},{"owner":{"account_id":17383208,"reputation":11,"user_id":12595039,"display_name":"lehaifeng000"},"score":0,"creation_date":1675247771,"post_id":75308687,"comment_id":132885978,"body_markdown":"我想用@NotNull来检查参数是否为null，当检查到null的时候会匹配到@RestControllerAdvice自定义处理类的一个处理方法。\n但是因为要改参数的名字keywords-&gt; keyWords，所以用了@RequestParam(&quot;keywords&quot;)注解，这时候参数为null的时候不会触发@NotNull的检查，而是触发了@RequestParam的require=true，没法到我写的处理方法，直接返回400给前端了。\n写成@RequestParam(&quot;keywords&quot;,required = false) @NotNull可以达到我需要的效果，但是这样写感觉很怪，想知道有没有更好的解决办法","body":"我想用@NotNull来检查参数是否为null，当检查到null的时候会匹配到@RestControllerAdvice&zwnj;&#8203;自定义处理类的一个处理方法。 但是因为要改参数的名字keywords-&gt; keyWords，所以用了@RequestParam(&quot;keywords&quot;)注解，这时候参数为null的时候不会触发@N&zwnj;&#8203;otNull的检查，而是触发了@Requ&zwnj;&#8203;estParam的require=tru&zwnj;&#8203;e，没法到我写的处理方法，直接返回400&zwnj;&#8203;给前端了。 写成@RequestParam(&quot;keywords&quot;,required = false) @NotNull可以达到我需要的效果，但是这样写感觉很怪，想知道有没有更好的解决办法"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675248513,"post_id":75308687,"comment_id":132886218,"body_markdown":"Does this answer your question? [Convert @RequestParam to lower-case](https://stackoverflow.com/questions/61611568/convert-requestparam-to-lower-case)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61611568/convert-requestparam-to-lower-case\">Convert @RequestParam to lower-case</a>"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675248611,"post_id":75308687,"comment_id":132886249,"body_markdown":"and here https://stackoverflow.com/questions/8922371/requestparam-value-in-spring-mvc-to-be-case-insensitive","body":"and here <a href=\"https://stackoverflow.com/questions/8922371/requestparam-value-in-spring-mvc-to-be-case-insensitive\" title=\"requestparam value in spring mvc to be case insensitive\">stackoverflow.com/questions/8922371/&hellip;</a>"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675248745,"post_id":75308687,"comment_id":132886302,"body_markdown":"In fact, the best way is to use lowercase letters directly","body":"In fact, the best way is to use lowercase letters directly"},{"owner":{"account_id":17383208,"reputation":11,"user_id":12595039,"display_name":"lehaifeng000"},"score":0,"creation_date":1675249039,"post_id":75308687,"comment_id":132886388,"body_markdown":"对我好像都不适用，实际上前端传给我的是template_id这样的下划线形式，但是java里用下划线形式的变量不合适，所以希望能改名","body":"对我好像都不适用，实际上前端传给我的是template_id这样的下划线形式，但是java里用下划线形式的变量不合适，所&zwnj;&#8203;以希望能改名"}],"owner":{"account_id":17383208,"reputation":11,"user_id":12595039,"display_name":"lehaifeng000"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675255431,"creation_date":1675246810,"question_id":75308687,"body_markdown":"my code is like this\r\n\r\n```java\r\n@PostMapping(&quot;/search/get_search_tips&quot;)\r\npublic String get_search_tips( @RequestParam(&quot;keywords&quot;) @NotNull String keyWords) {\r\n    return templateService.getSearchTips(keyWords).toJSONString();\r\n}\r\n```\r\n\r\nThen when I miss the param keywords, it would return\r\n\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-02-01T10:09:16.283+00:00&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;path&quot;: &quot;/template/search/get_search_tips&quot;\r\n}\r\n```\r\n\r\nI have written a handle to match @NotNull, when the code is\r\n\r\n```java\r\n@PostMapping(&quot;/search/get_search_tips&quot;)\r\npublic String get_search_tips( @RequestParam(&quot;keywords&quot;,required = false) @NotNull String keyWords) {\r\n    return templateService.getSearchTips(keyWords).toJSONString();\r\n}\r\n```\r\n\r\nThen when I miss the param keywords, it would return\r\n\r\n```json\r\n{\r\n    &quot;code&quot;: 1080,\r\n    &quot;msg&quot;: &quot;error param&quot;,\r\n    &quot;result&quot;: [\r\n        {\r\n            &quot;key&quot;: &quot;keyWords&quot;,\r\n            &quot;msg&quot;: &quot;不能为null&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI need the rename param like `keywords` match to `keyWords` and want to get the second result, but I didn&#39;t want to write the code like\r\n\r\n```java\r\n@RequestParam(&quot;keywords&quot;,required = false) @NotNull\r\n```\r\n\r\nWhat should I do?","title":"Spring Boot @RequestParam and @NotNull order","body":"<p>my code is like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/search/get_search_tips&quot;)\npublic String get_search_tips( @RequestParam(&quot;keywords&quot;) @NotNull String keyWords) {\n    return templateService.getSearchTips(keyWords).toJSONString();\n}\n</code></pre>\n<p>Then when I miss the param keywords, it would return</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2023-02-01T10:09:16.283+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;path&quot;: &quot;/template/search/get_search_tips&quot;\n}\n</code></pre>\n<p>I have written a handle to match @NotNull, when the code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/search/get_search_tips&quot;)\npublic String get_search_tips( @RequestParam(&quot;keywords&quot;,required = false) @NotNull String keyWords) {\n    return templateService.getSearchTips(keyWords).toJSONString();\n}\n</code></pre>\n<p>Then when I miss the param keywords, it would return</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;code&quot;: 1080,\n    &quot;msg&quot;: &quot;error param&quot;,\n    &quot;result&quot;: [\n        {\n            &quot;key&quot;: &quot;keyWords&quot;,\n            &quot;msg&quot;: &quot;不能为null&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I need the rename param like <code>keywords</code> match to <code>keyWords</code> and want to get the second result, but I didn't want to write the code like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestParam(&quot;keywords&quot;,required = false) @NotNull\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1675255883,"post_id":75310303,"comment_id":132888426,"body_markdown":"This can be answered without posting a question by 1. running the code with the most basic set of examples 2. reading the documentation `atLeastOnce` (what could *that* mean / do??)  3. just reading the english words, there are few methods with more precise names.","body":"This can be answered without posting a question by 1. running the code with the most basic set of examples 2. reading the documentation <code>atLeastOnce</code> (what could <i>that</i> mean / do??)  3. just reading the english words, there are few methods with more precise names."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675255286,"creation_date":1675255286,"answer_id":75310343,"question_id":75310303,"body_markdown":"It&#39;s the difference between `==` and `&lt;=`:\r\n\r\n* `times(1)` must happen exactly one time.\r\n* `atMost(1)` can happen zero or one time.","title":"difference between times(1) and atMostOnce() in mockito","body":"<p>It's the difference between <code>==</code> and <code>&lt;=</code>:</p>\n<ul>\n<li><code>times(1)</code> must happen exactly one time.</li>\n<li><code>atMost(1)</code> can happen zero or one time.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8728469,"reputation":784,"user_id":6529383,"display_name":"river"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675255328,"creation_date":1675255328,"answer_id":75310351,"question_id":75310303,"body_markdown":"From what I recall, it should be as follows:\r\n\r\n- `times(1)` -&gt; will assert that your code called mocked method exactly once\r\n- `atMost(1)` -&gt; asserts that your code hasn&#39;t called method more than one - note that even if you don&#39;t call method (0), the assertion should pass.","title":"difference between times(1) and atMostOnce() in mockito","body":"<p>From what I recall, it should be as follows:</p>\n<ul>\n<li><code>times(1)</code> -&gt; will assert that your code called mocked method exactly once</li>\n<li><code>atMost(1)</code> -&gt; asserts that your code hasn't called method more than one - note that even if you don't call method (0), the assertion should pass.</li>\n</ul>\n"}],"owner":{"account_id":27509855,"reputation":1,"user_id":20991976,"display_name":"Krutik Gadhiya"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1675256776,"answer_count":2,"score":-4,"last_activity_date":1675255328,"creation_date":1675255086,"question_id":75310303,"body_markdown":"what is the difference between `times(1)` and `atMostOnce()` in Mockito verify method?\r\nas both will result in same behavior so what is the difference between them?\r\nis their any difference in their internal working?\r\n\r\n`verify(calculatorService, times(1)).add(10.0, 20.0);`&lt;br/&gt;\r\n`verify(calculatorService, atMost(1)).add(10.0, 20.0);`","title":"difference between times(1) and atMostOnce() in mockito","body":"<p>what is the difference between <code>times(1)</code> and <code>atMostOnce()</code> in Mockito verify method?\nas both will result in same behavior so what is the difference between them?\nis their any difference in their internal working?</p>\n<p><code>verify(calculatorService, times(1)).add(10.0, 20.0);</code><br/>\n<code>verify(calculatorService, atMost(1)).add(10.0, 20.0);</code></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675255317,"creation_date":1675255317,"answer_id":75310349,"question_id":75306593,"body_markdown":"This is due to missing metadata for the Jakarta Servlet API; the native image is trying to load a resource bundle that was not included in the native image at build time.\r\n\r\nI&#39;ve submitted [a PR to fix that in the GraalVM metadata repository][1].\r\n\r\nIn the meantime, you can add the following content to a new file `src/main/resources/META-INF/native-image/jakarta.servlet/jakarta.servlet-api/resource-config.json` in your project:\r\n\r\n\r\n```json\r\n{\r\n  &quot;bundles&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;jakarta.servlet.LocalStrings&quot;,\r\n      &quot;locales&quot;: [\r\n        &quot;und&quot;\r\n      ],\r\n      &quot;condition&quot;: {\r\n        &quot;typeReachable&quot;: &quot;jakarta.servlet.GenericServlet&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;jakarta.servlet.http.LocalStrings&quot;,\r\n      &quot;locales&quot;: [\r\n        &quot;und&quot;\r\n      ],\r\n      &quot;condition&quot;: {\r\n        &quot;typeReachable&quot;: &quot;jakarta.servlet.http.HttpServlet&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/oracle/graalvm-reachability-metadata/pull/213","title":"Run gradle bootBuildImage Error:Can&#39;t find bundle for base name jakarta.servlet.LocalStrings, locale en_US","body":"<p>This is due to missing metadata for the Jakarta Servlet API; the native image is trying to load a resource bundle that was not included in the native image at build time.</p>\n<p>I've submitted <a href=\"https://github.com/oracle/graalvm-reachability-metadata/pull/213\" rel=\"nofollow noreferrer\">a PR to fix that in the GraalVM metadata repository</a>.</p>\n<p>In the meantime, you can add the following content to a new file <code>src/main/resources/META-INF/native-image/jakarta.servlet/jakarta.servlet-api/resource-config.json</code> in your project:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;bundles&quot;: [\n    {\n      &quot;name&quot;: &quot;jakarta.servlet.LocalStrings&quot;,\n      &quot;locales&quot;: [\n        &quot;und&quot;\n      ],\n      &quot;condition&quot;: {\n        &quot;typeReachable&quot;: &quot;jakarta.servlet.GenericServlet&quot;\n      }\n    },\n    {\n      &quot;name&quot;: &quot;jakarta.servlet.http.LocalStrings&quot;,\n      &quot;locales&quot;: [\n        &quot;und&quot;\n      ],\n      &quot;condition&quot;: {\n        &quot;typeReachable&quot;: &quot;jakarta.servlet.http.HttpServlet&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":26094780,"reputation":13,"user_id":19791046,"display_name":"C Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75310349,"answer_count":1,"score":1,"last_activity_date":1675255317,"creation_date":1675234407,"question_id":75306593,"body_markdown":"I cant run gradle&#160;bootBuildImage in rocty&#160;linux&#160;9.1 with a Springboot project.\r\n\r\n```\r\nCaused by: java.util.MissingResourceException: Can&#39;t find bundle for base name jakarta.servlet.LocalStrings, locale en_US\r\n        at java.base@17.0.6/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2045) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1549) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at java.base@17.0.6/java.util.ResourceBundle.getBundle(ResourceBundle.java:858) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at jakarta.servlet.GenericServlet.\\&lt;clinit\\&gt;(GenericServlet.java:51) \\~\\[com.unimet.test.graalvm.GraalvmApplication:6.0.0\\]\r\n        ... 75 common frames omitted\r\n```\r\n\r\n```\r\nsystem:rocty linux 9.1\r\nbuild:gradle 7.6\r\nrun:gradle bootBuildImage\r\n```\r\n\r\nbuild.gradle:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.2&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &#39;org.graalvm.buildtools.native&#39; version &#39;0.9.18&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-undertow&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n        exclude module: &#39;spring-boot-starter-tomcat&#39;\r\n    }\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```","title":"Run gradle bootBuildImage Error:Can&#39;t find bundle for base name jakarta.servlet.LocalStrings, locale en_US","body":"<p>I cant run gradle bootBuildImage in rocty linux 9.1 with a Springboot project.</p>\n<pre><code>Caused by: java.util.MissingResourceException: Can't find bundle for base name jakarta.servlet.LocalStrings, locale en_US\n        at java.base@17.0.6/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2045) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1549) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at java.base@17.0.6/java.util.ResourceBundle.getBundle(ResourceBundle.java:858) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at jakarta.servlet.GenericServlet.\\&lt;clinit\\&gt;(GenericServlet.java:51) \\~\\[com.unimet.test.graalvm.GraalvmApplication:6.0.0\\]\n        ... 75 common frames omitted\n</code></pre>\n<pre><code>system:rocty linux 9.1\nbuild:gradle 7.6\nrun:gradle bootBuildImage\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.2'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'org.graalvm.buildtools.native' version '0.9.18'\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-undertow&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\n        exclude module: 'spring-boot-starter-tomcat'\n    }\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","interface","data-transfer"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":1,"creation_date":1675228365,"post_id":75304061,"comment_id":132881190,"body_markdown":"Can you add code of ```MainActivity```","body":"Can you add code of <code>MainActivity</code>"},{"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"score":0,"creation_date":1675253680,"post_id":75304061,"comment_id":132887704,"body_markdown":"@jayeshgurudayalani I added my MainActivity.java code","body":"@jayeshgurudayalani I added my MainActivity.java code"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675254962,"creation_date":1675254962,"answer_id":75310280,"question_id":75304061,"body_markdown":"Got the issue .\r\nIssue is at below mentioned line in ```AltBolumNumericTablo``` class\r\n\r\n```\r\ngameInterface = (GameInterface) activity;\r\n```\r\n\r\nyou just need to change as mentioned below\r\n\r\nFrom\r\n```\r\npublic AltBolumNumericTablo(int value, Context THIS, Activity activity)\r\n```\r\n\r\nTo\r\n```\r\npublic AltBolumNumericTablo(int value, Context THIS, GameInterface gameInterfaceParam){\r\n  gameInterface = gameInterfaceParam\r\n   .. existing code\r\n}\r\n```","title":"I am unable to transfer data between two classes using interface in Android Studio with Java","body":"<p>Got the issue .\nIssue is at below mentioned line in <code>AltBolumNumericTablo</code> class</p>\n<pre><code>gameInterface = (GameInterface) activity;\n</code></pre>\n<p>you just need to change as mentioned below</p>\n<p>From</p>\n<pre><code>public AltBolumNumericTablo(int value, Context THIS, Activity activity)\n</code></pre>\n<p>To</p>\n<pre><code>public AltBolumNumericTablo(int value, Context THIS, GameInterface gameInterfaceParam){\n  gameInterface = gameInterfaceParam\n   .. existing code\n}\n</code></pre>\n"}],"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675254962,"creation_date":1675206327,"question_id":75304061,"body_markdown":"I have an application where I set up the user interface completely programmatically, meaning I didn&#39;t draw the objects in XML. It works perfectly fine, but since I drew the objects in the content with different classes, I need to establish communication between the two classes. For example, if I press a button in Class1, I want to write the text on the button in Class2 and trigger the button in Class2 based on that. I think using an interface is the most logical solution for this, but I&#39;m unable to transfer the data from Class1 to Class2 using the interface. I&#39;m getting an error saying &#39;cannot be cast to...&#39;\r\n\r\nMy GameInterface:\r\n\r\n    public interface GameInterface {\r\n\r\n    void seciliHucreyiDoldur(String seciliHucreyiDoldur);\r\n    }\r\n\r\n\r\nClass1:\r\n\r\n    \r\n    private class Cell implements GameInterface {\r\n        int value;\r\n        boolean fixed;\r\n        Button btn;\r\n        String hucreyiDolduracakVeri;\r\n        Context THIS;\r\n\r\n        public Cell(int initValue, Context THIS) {\r\n            this.THIS = THIS;\r\n            value = initValue;\r\n            if (value != 0) {\r\n                fixed = true;\r\n            } else {\r\n                fixed = false;\r\n            }\r\n\r\n            btn = new Button(THIS);\r\n            btn.setTextSize(16);\r\n\r\n            if (fixed) {\r\n                btn.setText(String.valueOf(value));\r\n            }\r\n\r\n            txtSayac.setGravity(Gravity.CENTER);\r\n\r\n\r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (fixed) {\r\n                        Toast.makeText(THIS, &quot;Bu h&#252;creyi değiştiremezsiniz!&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n                    /*value++;\r\n                    if (value &gt; 9) {\r\n                        value = 1;\r\n                    }*/\r\n                    btn.setBackgroundResource(R.drawable.hucre_arkaplani_kirmizimsi);\r\n                    btn.setTextColor(Color.BLACK);\r\n                    btn.setText(hucreyiDolduracakVeri);\r\n\r\n                    btn.setTextColor(Color.RED);\r\n\r\n                    if (correct()) {\r\n                        textView.setText(&quot;&quot;);\r\n                    } else {\r\n                        textView.setText(&quot;Tekrar eden rakamlar var, kontrol etmelisin!&quot;);\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        @Override\r\n        public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\r\n            this.hucreyiDolduracakVeri = seciliHucreyiDoldur;\r\n            Toast.makeText(THIS, hucreyiDolduracakVeri, Toast.LENGTH_SHORT).show();\r\n            if (fixed) {\r\n                //Toast.makeText(THIS, &quot;Bu h&#252;creyi değiştiremezsiniz!&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n                    /*value++;\r\n                    if (value &gt; 9) {\r\n                        value = 1;\r\n                    }*/\r\n            btn.setTextColor(Color.BLACK);\r\n            btn.setText(seciliHucreyiDoldur);\r\n\r\n            btn.setTextColor(Color.RED);\r\n            btn.setBackgroundResource(R.drawable.hucre_arkaplani_mavi_acik);\r\n\r\n            if (correct()) {\r\n                textView.setText(&quot;&quot;);\r\n            } else {\r\n                textView.setText(&quot;Tekrar eden rakamlar var, kontrol etmelisin!&quot;);\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void hucreSeciliMi(boolean hucreSecilimi) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nClass2:\r\n\r\n    public class AltBolumNumericTablo implements GameInterface{\r\n\r\n        Button btnClick;\r\n        boolean onClicked;\r\n        int value;\r\n        Activity activity;\r\n        GameInterface gameInterface;\r\n\r\n        public AltBolumNumericTablo(int value, Context THIS, Activity activity) {\r\n            this.activity = activity;\r\n            this.value = value;\r\n            btnClick = new Button(THIS);\r\n            btnClick.setTextSize(24f);\r\n\r\n            gameInterface = (GameInterface) activity;\r\n\r\n            switch (value) {\r\n                case 0:\r\n                    btnClick.setText(&quot;1&quot;);\r\n                    break;\r\n                case 1:\r\n                    btnClick.setText(&quot;2&quot;);\r\n\r\n                    break;\r\n                case 2:\r\n                    btnClick.setText(&quot;3&quot;);\r\n\r\n                    break;\r\n                case 3:\r\n                    btnClick.setText(&quot;4&quot;);\r\n\r\n                    break;\r\n                case 4:\r\n                    btnClick.setText(&quot;5&quot;);\r\n\r\n                    break;\r\n                case 5:\r\n                    btnClick.setText(&quot;6&quot;);\r\n\r\n                    break;\r\n                case 6:\r\n                    btnClick.setText(&quot;7&quot;);\r\n\r\n                    break;\r\n                case 7:\r\n                    btnClick.setText(&quot;8&quot;);\r\n\r\n                    break;\r\n                case 8:\r\n                    btnClick.setText(&quot;9&quot;);\r\n\r\n                    break;\r\n                case 9:\r\n                    btnClick.setBackgroundResource(R.drawable.sil_icon);\r\n                    break;\r\n            }\r\n\r\n            btnClick.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    clickIslemleri(value);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public void clickIslemleri(int value) {\r\n\r\n            switch (value) {\r\n                case 0:\r\n                case 1:\r\n                case 2:\r\n                case 3:\r\n                case 4:\r\n                case 5:\r\n                case 6:\r\n                case 7:\r\n                case 8:\r\n            gameInterface.seciliHucreyiDoldur(String.valueOf(value+1));\r\n                    break;\r\n                case 9:\r\n                    gameInterface.seciliHucreyiDoldur(&quot;&quot;);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        public void kayitliOyunuGuncelle() {\r\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n            new MisafirGirisliOyunKaydiDAO().misafirgirisiKaydiGuncelle(misafirOyunKaydiDB,\r\n                    1, input + &quot; s&quot;, 0, &quot;00:45&quot;, kayitZamanini());\r\n            misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\r\n            for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\r\n                Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getTimestamp());\r\n            }\r\n        }\r\n\r\n        public void gecmisOyunlarGuest() {\r\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n            misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\r\n            for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\r\n                Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getId() + &quot;&quot;);\r\n\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void hucreSeciliMi(Boolean hucreSecilimi) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nError:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.devapost.mysudoku, PID: 4945\r\n    java.lang.ClassCastException: com.devapost.mysudoku.MainActivity cannot be cast to com.devapost.mysudoku.utils.GameInterface\r\n        at com.devapost.mysudoku.MainActivity$AltBolumNumericTablo.&lt;init&gt;(MainActivity.java:514)\r\n        at com.devapost.mysudoku.MainActivity.altNumericDoldur(MainActivity.java:297)\r\n\r\n\r\nMainActivity.java:\r\n\r\n    public class MainActivity extends AppCompatActivity implements GameInterface{\r\n    Cell[][] table;\r\n    AltBolumNumericTablo[][] tableAltNumeric;\r\n    MisafirGirisEkrani[] tableMisafir;\r\n    UyeMenuEkrani[] tableUyeMenusu;\r\n    String input;\r\n    TableLayout tableLayout;\r\n    TextView textView, txtSayac;\r\n    Button buttonGenerate;\r\n    LinearLayout linearLayout;\r\n    Button btnGoogleLoginMainScreen, btnMisafirMainScreen;\r\n    int hangiEkranda = 0;\r\n    MisafirOyunKaydiDB misafirOyunKaydiDB;\r\n    ArrayList&lt;MisafirGirisliOyunKaydiModel&gt; misafirKaydiListesi;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //setContentView(R.layout.activity_main);\r\n\r\n        girisSecenekleriEkrani();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        \r\n        switch (hangiEkranda) {\r\n            case 0:\r\n            case 2://&#252;ye menusundeyse\r\n                super.onBackPressed();\r\n                linearLayout.removeAllViews();\r\n                onBackPressed();\r\n                break;\r\n            case 1://misafir menusundeyse\r\n                girisSecenekleriEkrani();\r\n                break;\r\n            case 3://misafir oyun ekranındaysa\r\n                misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n                new MisafirGirisliOyunKaydiDAO().saveGame(misafirOyunKaydiDB, input, input, 5, txtSayac.getText().toString(), 1, kayitZamanini());\r\n                misafirEkraniniDoldur();\r\n                break;\r\n            case 4://misafir ayarlardaysa\r\n            case 5://misafirden nasıl oynanıra gittiyse\r\n                misafirEkraniniDoldur();\r\n                break;\r\n            case 6://ser&#252;vene gittiyse\r\n            case 7://rastgele oyun kurma ekranına gittiyse\r\n            case 8://skorboard ekranına gittiyse\r\n            case 9://&#252;ye ekranından ayarlara gittiyse\r\n            case 10://&#252;ye ekranından nasıl oynanır ekranına gittiyse\r\n                uyelerinMenusu();\r\n                break;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public String kayitZamanini() {\r\n        Calendar anlikSaatDakika = Calendar.getInstance();\r\n        int yil = anlikSaatDakika.get(Calendar.HOUR_OF_DAY);\r\n        int ay = anlikSaatDakika.get(Calendar.MINUTE);\r\n        int gun = anlikSaatDakika.get(Calendar.SECOND);\r\n        int saat = anlikSaatDakika.get(Calendar.HOUR_OF_DAY);\r\n        int dakika = anlikSaatDakika.get(Calendar.MINUTE);\r\n        int saniye = anlikSaatDakika.get(Calendar.SECOND);\r\n        return gun + &quot;.&quot; + ay + &quot;.&quot; + yil + &quot; - &quot; + saat + &quot;:&quot; + dakika + &quot;:&quot; + saniye;\r\n    }\r\n\r\n    public void girisSecenekleriEkrani() {//giriş se&#231;enekleri ekranı\r\n        hangiEkranda = 0;\r\n        linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        btnGoogleLoginMainScreen = new Button(MainActivity.this);\r\n        btnMisafirMainScreen = new Button(MainActivity.this);\r\n\r\n        btnGoogleLoginMainScreen.setText(&quot;Google İle Giriş Yap&quot;);\r\n        btnMisafirMainScreen.setText(&quot;Misafir Girişi&quot;);\r\n        btnGoogleLoginMainScreen.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                uyelerinMenusu();\r\n            }\r\n        });\r\n\r\n        btnMisafirMainScreen.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                linearLayout.removeAllViews();\r\n                misafirEkraniniDoldur();\r\n            }\r\n        });\r\n        linearLayout.addView(btnGoogleLoginMainScreen);\r\n        linearLayout.addView(btnMisafirMainScreen);\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT\r\n        );\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n        linearLayout.setGravity(Gravity.CENTER);\r\n        linearLayout.setLayoutParams(layoutParams);\r\n        setContentView(linearLayout);\r\n    }\r\n\r\n    public void yeniOyunMisafirIcin() {\r\n        hangiEkranda = 3;\r\n        linearLayout.removeAllViews();\r\n        int N = 9, K = 25;\r\n        Sudoku sudoku = new Sudoku(N, K);\r\n        sudoku.fillValues();\r\n\r\n        txtSayac = new TextView(MainActivity.this);\r\n\r\n        input = sudoku.printSudoku();\r\n        String[] split = input.split(&quot; &quot;);\r\n        table = new Cell[9][9];\r\n        tableLayout = new TableLayout(MainActivity.this);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            TableRow tableRow = new TableRow(MainActivity.this);\r\n\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                String s = split[i * 9 + j];\r\n                char c = s.charAt(0);\r\n                table[i][j] = new Cell(c == &#39;?&#39; ? 0 : c - &#39;0&#39;, MainActivity.this);\r\n\r\n                paintCellBackground(i, j, table[i][j].btn);\r\n                tableRow.addView(table[i][j].btn);\r\n            }\r\n            tableLayout.addView(tableRow);\r\n        }\r\n        tableLayout.setShrinkAllColumns(true);\r\n        tableLayout.setStretchAllColumns(true);\r\n        textView = new TextView(MainActivity.this);\r\n        buttonGenerate = new Button(MainActivity.this);\r\n        linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        linearLayout.addView(txtSayac);\r\n\r\n        LinearLayout linearLayoutEkMetin = new LinearLayout(MainActivity.this);\r\n        linearLayoutEkMetin.setLayoutParams(\r\n                new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));\r\n        linearLayoutEkMetin.setOrientation(LinearLayout.VERTICAL);\r\n        linearLayoutEkMetin.setGravity(Gravity.CENTER_HORIZONTAL);\r\n        buttonGenerate.setText(&quot;Generate&quot;);\r\n        buttonGenerate.setVisibility(View.GONE);\r\n        buttonGenerate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                misafirEkraniniDoldur();\r\n                progressDialog.dismiss();\r\n            }\r\n        });\r\n\r\n        linearLayoutEkMetin.addView(buttonGenerate);\r\n        linearLayout.addView(tableLayout);\r\n        linearLayout.addView(textView);\r\n        linearLayout.addView(linearLayoutEkMetin);\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n\r\n        altNumericDoldur();\r\n        setContentView(linearLayout);\r\n\r\n\r\n    }\r\n\r\n    public void paintCellBackground(int i, int j, Button button) {\r\n\r\n        switch (i) {\r\n            case 0:\r\n            case 1:\r\n            case 2:\r\n            case 6:\r\n            case 7:\r\n            case 8:\r\n                switch (j) {\r\n                    case 0:\r\n                    case 1:\r\n                    case 2:\r\n                    case 6:\r\n                    case 7:\r\n                    case 8:\r\n                        button.setBackgroundResource(R.drawable.hucre_arkaplani_gri);\r\n                        break;\r\n                    case 3:\r\n                    case 4:\r\n                    case 5:\r\n                        button.setBackgroundResource(R.drawable.hucre_arkaplani_beyaz);\r\n                        break;\r\n                }\r\n                break;\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n                switch (j) {\r\n                    case 0:\r\n                    case 1:\r\n                    case 2:\r\n                    case 6:\r\n                    case 7:\r\n                    case 8:\r\n                        button.setBackgroundResource(R.drawable.hucre_arkaplani_beyaz);\r\n                        break;\r\n                    case 3:\r\n                    case 4:\r\n                    case 5:\r\n                        button.setBackgroundResource(R.drawable.hucre_arkaplani_gri);\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    public void misafirEkraniniDoldur() {//misafir ekranını doldurur\r\n        hangiEkranda = 1;\r\n        tableMisafir = new MisafirGirisEkrani[5];\r\n        tableLayout = new TableLayout(MainActivity.this);\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            TableRow tableRow = new TableRow(MainActivity.this);\r\n            tableMisafir[i] = new MisafirGirisEkrani(i, MainActivity.this);\r\n\r\n            tableRow.addView(tableMisafir[i].btnClick);\r\n            tableLayout.addView(tableRow);\r\n        }\r\n        tableLayout.setShrinkAllColumns(true);\r\n        tableLayout.setStretchAllColumns(true);\r\n        linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        layoutParams.setMarginStart(16);\r\n        layoutParams.setMarginEnd(16);\r\n\r\n        tableLayout.setLayoutParams(layoutParams);\r\n\r\n        linearLayout.setGravity(Gravity.CENTER);\r\n\r\n        linearLayout.addView(tableLayout);\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n        setContentView(linearLayout);\r\n    }\r\n\r\n    public void altNumericDoldur() {//alt numerik tabloyu doldurur\r\n        tableAltNumeric = new AltBolumNumericTablo[2][5];\r\n        tableLayout = new TableLayout(MainActivity.this);\r\n\r\n        int butonID = 0;\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            TableRow tableRow = new TableRow(MainActivity.this);\r\n            for (int j = 0; j &lt; 5; j++) {\r\n\r\n                tableAltNumeric[i][j] = new AltBolumNumericTablo(butonID, MainActivity.this,MainActivity.this);\r\n\r\n                tableRow.addView(tableAltNumeric[i][j].btnClick);\r\n                butonID++;\r\n            }\r\n\r\n            tableLayout.addView(tableRow);\r\n        }\r\n        tableLayout.setShrinkAllColumns(true);\r\n        tableLayout.setStretchAllColumns(true);\r\n        //linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        layoutParams.setMarginStart(16);\r\n        layoutParams.setMarginEnd(16);\r\n\r\n        tableLayout.setLayoutParams(layoutParams);\r\n\r\n        linearLayout.addView(tableLayout);\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n        setContentView(linearLayout);\r\n    }\r\n\r\n    private void uyelerinMenusu() {//google ile giriş yapanlar i&#231;in ser&#252;ven ekranı\r\n        hangiEkranda = 2;\r\n        tableUyeMenusu = new UyeMenuEkrani[5];\r\n        tableLayout = new TableLayout(MainActivity.this);\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            TableRow tableRow = new TableRow(MainActivity.this);\r\n            tableUyeMenusu[i] = new UyeMenuEkrani(i, MainActivity.this);\r\n\r\n            tableRow.addView(tableUyeMenusu[i].btnClick);\r\n            tableLayout.addView(tableRow);\r\n        }\r\n        tableLayout.setShrinkAllColumns(true);\r\n        tableLayout.setStretchAllColumns(true);\r\n        linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        layoutParams.setMarginStart(16);\r\n        layoutParams.setMarginEnd(16);\r\n\r\n        tableLayout.setLayoutParams(layoutParams);\r\n\r\n        linearLayout.setGravity(Gravity.CENTER);\r\n\r\n        linearLayout.addView(tableLayout);\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n        setContentView(linearLayout);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void hucreSeciliMi(boolean hucreSecilimi) {\r\n\r\n    }\r\n\r\n    public class UyeMenuEkrani {\r\n\r\n        Button btnClick;\r\n        boolean onClicked;\r\n        int value;\r\n\r\n        public UyeMenuEkrani(int value, Context THIS) {\r\n            this.value = value;\r\n            btnClick = new Button(THIS);\r\n            switch (value) {\r\n                case 0:\r\n                    btnClick.setText(&quot;Ser&#252;ven&quot;);\r\n                    break;\r\n                case 1:\r\n                    btnClick.setText(&quot;Rastgele Oyna&quot;);\r\n                    break;\r\n                case 2:\r\n                    btnClick.setText(&quot;Skor Tablosu&quot;);\r\n                    break;\r\n                case 3:\r\n                    btnClick.setText(&quot;Ayarlar&quot;);\r\n                    break;\r\n                case 4:\r\n                    btnClick.setText(&quot;Nasıl Oynanır&quot;);\r\n                    break;\r\n            }\r\n\r\n            btnClick.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    clickIslemleri(value);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public void clickIslemleri(int value) {\r\n            switch (value) {\r\n                case 0://seruven\r\n                    Toast.makeText(MainActivity.this, &quot;ser&#252;vene gider&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 1://rastgele\r\n                    yeniOyunMisafirIcin();//rastgele ekranı misafir giriş ekranına gider, &#231;ok benzer zaten\r\n                    break;\r\n                case 2://skorboard\r\n                    Toast.makeText(MainActivity.this, &quot;skorboard&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 3://ayarlar\r\n                    Toast.makeText(MainActivity.this, &quot;ayarlar&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 4://nasıl oynanır\r\n                    Toast.makeText(MainActivity.this, &quot;nasıl oynanır&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 5:\r\n\r\n                    break;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public class MisafirGirisEkrani {\r\n\r\n        Button btnClick;\r\n        boolean onClicked;\r\n        int value;\r\n\r\n        public MisafirGirisEkrani(int value, Context THIS) {\r\n            this.value = value;\r\n            btnClick = new Button(THIS);\r\n\r\n\r\n            switch (value) {\r\n                case 0:\r\n                    btnClick.setText(&quot;Yeni Oyun&quot;);\r\n                    break;\r\n                case 1:\r\n                    btnClick.setText(&quot;Devam Et&quot;);\r\n\r\n                    break;\r\n                case 2:\r\n                    btnClick.setText(&quot;Ayarlar&quot;);\r\n\r\n                    break;\r\n                case 3:\r\n                    btnClick.setText(&quot;Giriş Yap&quot;);\r\n\r\n                    break;\r\n                case 4:\r\n                    btnClick.setText(&quot;Nasıl Oynanır&quot;);\r\n\r\n                    break;\r\n            }\r\n\r\n            btnClick.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    clickIslemleri(value);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public void clickIslemleri(int value) {\r\n            switch (value) {\r\n                case 0:\r\n                    yeniOyunMisafirIcin();\r\n                    break;\r\n                case 1://eski oyunları listele ve onlardan se&#231;ip devam et\r\n                    gecmisOyunlarGuest();\r\n\r\n                    break;\r\n                case 2:\r\n                    kayitliOyunuGuncelle();\r\n                    Toast.makeText(MainActivity.this, &quot;ayarlar&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 3:\r\n                    girisSecenekleriEkrani();\r\n                    break;\r\n                case 4:\r\n                    Toast.makeText(MainActivity.this, &quot;nasıl oynanır&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n            }\r\n\r\n        }\r\n\r\n        public void kayitliOyunuGuncelle() {\r\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n            new MisafirGirisliOyunKaydiDAO().misafirgirisiKaydiGuncelle(misafirOyunKaydiDB,\r\n                    1, input + &quot; s&quot;, 0, &quot;00:45&quot;, kayitZamanini());\r\n            misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\r\n            for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\r\n                Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getTimestamp());\r\n            }\r\n        }\r\n\r\n        public void gecmisOyunlarGuest() {\r\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n            misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\r\n            for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\r\n                Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getId() + &quot;&quot;);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    boolean complated() {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                if (table[i][j].value == 0) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    boolean correct(int i1, int j1, int i2, int j2) {\r\n        boolean[] seen = new boolean[10];\r\n        for (int i = 1; i &lt;= 9; i++) {\r\n            seen[i] = false;\r\n        }\r\n        for (int i = i1; i &lt; i2; i++) {\r\n            for (int j = j1; j &lt; j2; j++) {\r\n                int value = table[i][j].value;\r\n                if (value != 0) {\r\n                    if (seen[value]) {\r\n                        return false;\r\n                    }\r\n                    seen[value] = true;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    boolean correct() {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            if (!correct(i, 0, i + 1, 9)) {\r\n                return false;\r\n            }\r\n        }\r\n        for (int j = 0; j &lt; 9; j++) {\r\n            if (!correct(0, j, 9, j + 1)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                if (!correct(3 * i, 3 * j, 3 * i + 3, 3 * j + 3)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n}","title":"I am unable to transfer data between two classes using interface in Android Studio with Java","body":"<p>I have an application where I set up the user interface completely programmatically, meaning I didn't draw the objects in XML. It works perfectly fine, but since I drew the objects in the content with different classes, I need to establish communication between the two classes. For example, if I press a button in Class1, I want to write the text on the button in Class2 and trigger the button in Class2 based on that. I think using an interface is the most logical solution for this, but I'm unable to transfer the data from Class1 to Class2 using the interface. I'm getting an error saying 'cannot be cast to...'</p>\n<p>My GameInterface:</p>\n<pre><code>public interface GameInterface {\n\nvoid seciliHucreyiDoldur(String seciliHucreyiDoldur);\n}\n</code></pre>\n<p>Class1:</p>\n<pre><code>private class Cell implements GameInterface {\n    int value;\n    boolean fixed;\n    Button btn;\n    String hucreyiDolduracakVeri;\n    Context THIS;\n\n    public Cell(int initValue, Context THIS) {\n        this.THIS = THIS;\n        value = initValue;\n        if (value != 0) {\n            fixed = true;\n        } else {\n            fixed = false;\n        }\n\n        btn = new Button(THIS);\n        btn.setTextSize(16);\n\n        if (fixed) {\n            btn.setText(String.valueOf(value));\n        }\n\n        txtSayac.setGravity(Gravity.CENTER);\n\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (fixed) {\n                    Toast.makeText(THIS, &quot;Bu hücreyi değiştiremezsiniz!&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                /*value++;\n                if (value &gt; 9) {\n                    value = 1;\n                }*/\n                btn.setBackgroundResource(R.drawable.hucre_arkaplani_kirmizimsi);\n                btn.setTextColor(Color.BLACK);\n                btn.setText(hucreyiDolduracakVeri);\n\n                btn.setTextColor(Color.RED);\n\n                if (correct()) {\n                    textView.setText(&quot;&quot;);\n                } else {\n                    textView.setText(&quot;Tekrar eden rakamlar var, kontrol etmelisin!&quot;);\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\n        this.hucreyiDolduracakVeri = seciliHucreyiDoldur;\n        Toast.makeText(THIS, hucreyiDolduracakVeri, Toast.LENGTH_SHORT).show();\n        if (fixed) {\n            //Toast.makeText(THIS, &quot;Bu hücreyi değiştiremezsiniz!&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n                /*value++;\n                if (value &gt; 9) {\n                    value = 1;\n                }*/\n        btn.setTextColor(Color.BLACK);\n        btn.setText(seciliHucreyiDoldur);\n\n        btn.setTextColor(Color.RED);\n        btn.setBackgroundResource(R.drawable.hucre_arkaplani_mavi_acik);\n\n        if (correct()) {\n            textView.setText(&quot;&quot;);\n        } else {\n            textView.setText(&quot;Tekrar eden rakamlar var, kontrol etmelisin!&quot;);\n        }\n\n    }\n\n    @Override\n    public void hucreSeciliMi(boolean hucreSecilimi) {\n\n    }\n}\n</code></pre>\n<p>Class2:</p>\n<pre><code>public class AltBolumNumericTablo implements GameInterface{\n\n    Button btnClick;\n    boolean onClicked;\n    int value;\n    Activity activity;\n    GameInterface gameInterface;\n\n    public AltBolumNumericTablo(int value, Context THIS, Activity activity) {\n        this.activity = activity;\n        this.value = value;\n        btnClick = new Button(THIS);\n        btnClick.setTextSize(24f);\n\n        gameInterface = (GameInterface) activity;\n\n        switch (value) {\n            case 0:\n                btnClick.setText(&quot;1&quot;);\n                break;\n            case 1:\n                btnClick.setText(&quot;2&quot;);\n\n                break;\n            case 2:\n                btnClick.setText(&quot;3&quot;);\n\n                break;\n            case 3:\n                btnClick.setText(&quot;4&quot;);\n\n                break;\n            case 4:\n                btnClick.setText(&quot;5&quot;);\n\n                break;\n            case 5:\n                btnClick.setText(&quot;6&quot;);\n\n                break;\n            case 6:\n                btnClick.setText(&quot;7&quot;);\n\n                break;\n            case 7:\n                btnClick.setText(&quot;8&quot;);\n\n                break;\n            case 8:\n                btnClick.setText(&quot;9&quot;);\n\n                break;\n            case 9:\n                btnClick.setBackgroundResource(R.drawable.sil_icon);\n                break;\n        }\n\n        btnClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                clickIslemleri(value);\n            }\n        });\n\n    }\n\n    public void clickIslemleri(int value) {\n\n        switch (value) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n            case 4:\n            case 5:\n            case 6:\n            case 7:\n            case 8:\n        gameInterface.seciliHucreyiDoldur(String.valueOf(value+1));\n                break;\n            case 9:\n                gameInterface.seciliHucreyiDoldur(&quot;&quot;);\n                break;\n        }\n    }\n\n    public void kayitliOyunuGuncelle() {\n        misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n        new MisafirGirisliOyunKaydiDAO().misafirgirisiKaydiGuncelle(misafirOyunKaydiDB,\n                1, input + &quot; s&quot;, 0, &quot;00:45&quot;, kayitZamanini());\n        misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\n        for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\n            Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getTimestamp());\n        }\n    }\n\n    public void gecmisOyunlarGuest() {\n        misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n        misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\n        for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\n            Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getId() + &quot;&quot;);\n\n        }\n    }\n\n    @Override\n    public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\n\n    }\n\n    @Override\n    public void hucreSeciliMi(Boolean hucreSecilimi) {\n\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.devapost.mysudoku, PID: 4945\njava.lang.ClassCastException: com.devapost.mysudoku.MainActivity cannot be cast to com.devapost.mysudoku.utils.GameInterface\n    at com.devapost.mysudoku.MainActivity$AltBolumNumericTablo.&lt;init&gt;(MainActivity.java:514)\n    at com.devapost.mysudoku.MainActivity.altNumericDoldur(MainActivity.java:297)\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements GameInterface{\nCell[][] table;\nAltBolumNumericTablo[][] tableAltNumeric;\nMisafirGirisEkrani[] tableMisafir;\nUyeMenuEkrani[] tableUyeMenusu;\nString input;\nTableLayout tableLayout;\nTextView textView, txtSayac;\nButton buttonGenerate;\nLinearLayout linearLayout;\nButton btnGoogleLoginMainScreen, btnMisafirMainScreen;\nint hangiEkranda = 0;\nMisafirOyunKaydiDB misafirOyunKaydiDB;\nArrayList&lt;MisafirGirisliOyunKaydiModel&gt; misafirKaydiListesi;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    //setContentView(R.layout.activity_main);\n\n    girisSecenekleriEkrani();\n}\n\n@Override\npublic void onBackPressed() {\n    \n    switch (hangiEkranda) {\n        case 0:\n        case 2://üye menusundeyse\n            super.onBackPressed();\n            linearLayout.removeAllViews();\n            onBackPressed();\n            break;\n        case 1://misafir menusundeyse\n            girisSecenekleriEkrani();\n            break;\n        case 3://misafir oyun ekranındaysa\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n            new MisafirGirisliOyunKaydiDAO().saveGame(misafirOyunKaydiDB, input, input, 5, txtSayac.getText().toString(), 1, kayitZamanini());\n            misafirEkraniniDoldur();\n            break;\n        case 4://misafir ayarlardaysa\n        case 5://misafirden nasıl oynanıra gittiyse\n            misafirEkraniniDoldur();\n            break;\n        case 6://serüvene gittiyse\n        case 7://rastgele oyun kurma ekranına gittiyse\n        case 8://skorboard ekranına gittiyse\n        case 9://üye ekranından ayarlara gittiyse\n        case 10://üye ekranından nasıl oynanır ekranına gittiyse\n            uyelerinMenusu();\n            break;\n    }\n\n\n}\n\npublic String kayitZamanini() {\n    Calendar anlikSaatDakika = Calendar.getInstance();\n    int yil = anlikSaatDakika.get(Calendar.HOUR_OF_DAY);\n    int ay = anlikSaatDakika.get(Calendar.MINUTE);\n    int gun = anlikSaatDakika.get(Calendar.SECOND);\n    int saat = anlikSaatDakika.get(Calendar.HOUR_OF_DAY);\n    int dakika = anlikSaatDakika.get(Calendar.MINUTE);\n    int saniye = anlikSaatDakika.get(Calendar.SECOND);\n    return gun + &quot;.&quot; + ay + &quot;.&quot; + yil + &quot; - &quot; + saat + &quot;:&quot; + dakika + &quot;:&quot; + saniye;\n}\n\npublic void girisSecenekleriEkrani() {//giriş seçenekleri ekranı\n    hangiEkranda = 0;\n    linearLayout = new LinearLayout(MainActivity.this);\n\n    btnGoogleLoginMainScreen = new Button(MainActivity.this);\n    btnMisafirMainScreen = new Button(MainActivity.this);\n\n    btnGoogleLoginMainScreen.setText(&quot;Google İle Giriş Yap&quot;);\n    btnMisafirMainScreen.setText(&quot;Misafir Girişi&quot;);\n    btnGoogleLoginMainScreen.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            uyelerinMenusu();\n        }\n    });\n\n    btnMisafirMainScreen.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            linearLayout.removeAllViews();\n            misafirEkraniniDoldur();\n        }\n    });\n    linearLayout.addView(btnGoogleLoginMainScreen);\n    linearLayout.addView(btnMisafirMainScreen);\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT\n    );\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n    linearLayout.setGravity(Gravity.CENTER);\n    linearLayout.setLayoutParams(layoutParams);\n    setContentView(linearLayout);\n}\n\npublic void yeniOyunMisafirIcin() {\n    hangiEkranda = 3;\n    linearLayout.removeAllViews();\n    int N = 9, K = 25;\n    Sudoku sudoku = new Sudoku(N, K);\n    sudoku.fillValues();\n\n    txtSayac = new TextView(MainActivity.this);\n\n    input = sudoku.printSudoku();\n    String[] split = input.split(&quot; &quot;);\n    table = new Cell[9][9];\n    tableLayout = new TableLayout(MainActivity.this);\n    for (int i = 0; i &lt; 9; i++) {\n        TableRow tableRow = new TableRow(MainActivity.this);\n\n        for (int j = 0; j &lt; 9; j++) {\n            String s = split[i * 9 + j];\n            char c = s.charAt(0);\n            table[i][j] = new Cell(c == '?' ? 0 : c - '0', MainActivity.this);\n\n            paintCellBackground(i, j, table[i][j].btn);\n            tableRow.addView(table[i][j].btn);\n        }\n        tableLayout.addView(tableRow);\n    }\n    tableLayout.setShrinkAllColumns(true);\n    tableLayout.setStretchAllColumns(true);\n    textView = new TextView(MainActivity.this);\n    buttonGenerate = new Button(MainActivity.this);\n    linearLayout = new LinearLayout(MainActivity.this);\n\n    linearLayout.addView(txtSayac);\n\n    LinearLayout linearLayoutEkMetin = new LinearLayout(MainActivity.this);\n    linearLayoutEkMetin.setLayoutParams(\n            new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));\n    linearLayoutEkMetin.setOrientation(LinearLayout.VERTICAL);\n    linearLayoutEkMetin.setGravity(Gravity.CENTER_HORIZONTAL);\n    buttonGenerate.setText(&quot;Generate&quot;);\n    buttonGenerate.setVisibility(View.GONE);\n    buttonGenerate.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            misafirEkraniniDoldur();\n            progressDialog.dismiss();\n        }\n    });\n\n    linearLayoutEkMetin.addView(buttonGenerate);\n    linearLayout.addView(tableLayout);\n    linearLayout.addView(textView);\n    linearLayout.addView(linearLayoutEkMetin);\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n\n    altNumericDoldur();\n    setContentView(linearLayout);\n\n\n}\n\npublic void paintCellBackground(int i, int j, Button button) {\n\n    switch (i) {\n        case 0:\n        case 1:\n        case 2:\n        case 6:\n        case 7:\n        case 8:\n            switch (j) {\n                case 0:\n                case 1:\n                case 2:\n                case 6:\n                case 7:\n                case 8:\n                    button.setBackgroundResource(R.drawable.hucre_arkaplani_gri);\n                    break;\n                case 3:\n                case 4:\n                case 5:\n                    button.setBackgroundResource(R.drawable.hucre_arkaplani_beyaz);\n                    break;\n            }\n            break;\n        case 3:\n        case 4:\n        case 5:\n            switch (j) {\n                case 0:\n                case 1:\n                case 2:\n                case 6:\n                case 7:\n                case 8:\n                    button.setBackgroundResource(R.drawable.hucre_arkaplani_beyaz);\n                    break;\n                case 3:\n                case 4:\n                case 5:\n                    button.setBackgroundResource(R.drawable.hucre_arkaplani_gri);\n                    break;\n            }\n            break;\n    }\n\n}\n\npublic void misafirEkraniniDoldur() {//misafir ekranını doldurur\n    hangiEkranda = 1;\n    tableMisafir = new MisafirGirisEkrani[5];\n    tableLayout = new TableLayout(MainActivity.this);\n\n    for (int i = 0; i &lt; 5; i++) {\n        TableRow tableRow = new TableRow(MainActivity.this);\n        tableMisafir[i] = new MisafirGirisEkrani(i, MainActivity.this);\n\n        tableRow.addView(tableMisafir[i].btnClick);\n        tableLayout.addView(tableRow);\n    }\n    tableLayout.setShrinkAllColumns(true);\n    tableLayout.setStretchAllColumns(true);\n    linearLayout = new LinearLayout(MainActivity.this);\n\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\n    );\n    layoutParams.setMarginStart(16);\n    layoutParams.setMarginEnd(16);\n\n    tableLayout.setLayoutParams(layoutParams);\n\n    linearLayout.setGravity(Gravity.CENTER);\n\n    linearLayout.addView(tableLayout);\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n    setContentView(linearLayout);\n}\n\npublic void altNumericDoldur() {//alt numerik tabloyu doldurur\n    tableAltNumeric = new AltBolumNumericTablo[2][5];\n    tableLayout = new TableLayout(MainActivity.this);\n\n    int butonID = 0;\n    for (int i = 0; i &lt; 2; i++) {\n        TableRow tableRow = new TableRow(MainActivity.this);\n        for (int j = 0; j &lt; 5; j++) {\n\n            tableAltNumeric[i][j] = new AltBolumNumericTablo(butonID, MainActivity.this,MainActivity.this);\n\n            tableRow.addView(tableAltNumeric[i][j].btnClick);\n            butonID++;\n        }\n\n        tableLayout.addView(tableRow);\n    }\n    tableLayout.setShrinkAllColumns(true);\n    tableLayout.setStretchAllColumns(true);\n    //linearLayout = new LinearLayout(MainActivity.this);\n\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\n    );\n    layoutParams.setMarginStart(16);\n    layoutParams.setMarginEnd(16);\n\n    tableLayout.setLayoutParams(layoutParams);\n\n    linearLayout.addView(tableLayout);\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n    setContentView(linearLayout);\n}\n\nprivate void uyelerinMenusu() {//google ile giriş yapanlar için serüven ekranı\n    hangiEkranda = 2;\n    tableUyeMenusu = new UyeMenuEkrani[5];\n    tableLayout = new TableLayout(MainActivity.this);\n\n    for (int i = 0; i &lt; 5; i++) {\n        TableRow tableRow = new TableRow(MainActivity.this);\n        tableUyeMenusu[i] = new UyeMenuEkrani(i, MainActivity.this);\n\n        tableRow.addView(tableUyeMenusu[i].btnClick);\n        tableLayout.addView(tableRow);\n    }\n    tableLayout.setShrinkAllColumns(true);\n    tableLayout.setStretchAllColumns(true);\n    linearLayout = new LinearLayout(MainActivity.this);\n\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\n    );\n    layoutParams.setMarginStart(16);\n    layoutParams.setMarginEnd(16);\n\n    tableLayout.setLayoutParams(layoutParams);\n\n    linearLayout.setGravity(Gravity.CENTER);\n\n    linearLayout.addView(tableLayout);\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n    setContentView(linearLayout);\n\n}\n\n@Override\npublic void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\n\n}\n\n@Override\npublic void hucreSeciliMi(boolean hucreSecilimi) {\n\n}\n\npublic class UyeMenuEkrani {\n\n    Button btnClick;\n    boolean onClicked;\n    int value;\n\n    public UyeMenuEkrani(int value, Context THIS) {\n        this.value = value;\n        btnClick = new Button(THIS);\n        switch (value) {\n            case 0:\n                btnClick.setText(&quot;Serüven&quot;);\n                break;\n            case 1:\n                btnClick.setText(&quot;Rastgele Oyna&quot;);\n                break;\n            case 2:\n                btnClick.setText(&quot;Skor Tablosu&quot;);\n                break;\n            case 3:\n                btnClick.setText(&quot;Ayarlar&quot;);\n                break;\n            case 4:\n                btnClick.setText(&quot;Nasıl Oynanır&quot;);\n                break;\n        }\n\n        btnClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                clickIslemleri(value);\n            }\n        });\n\n    }\n\n    public void clickIslemleri(int value) {\n        switch (value) {\n            case 0://seruven\n                Toast.makeText(MainActivity.this, &quot;serüvene gider&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 1://rastgele\n                yeniOyunMisafirIcin();//rastgele ekranı misafir giriş ekranına gider, çok benzer zaten\n                break;\n            case 2://skorboard\n                Toast.makeText(MainActivity.this, &quot;skorboard&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 3://ayarlar\n                Toast.makeText(MainActivity.this, &quot;ayarlar&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 4://nasıl oynanır\n                Toast.makeText(MainActivity.this, &quot;nasıl oynanır&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 5:\n\n                break;\n        }\n\n    }\n}\n\npublic class MisafirGirisEkrani {\n\n    Button btnClick;\n    boolean onClicked;\n    int value;\n\n    public MisafirGirisEkrani(int value, Context THIS) {\n        this.value = value;\n        btnClick = new Button(THIS);\n\n\n        switch (value) {\n            case 0:\n                btnClick.setText(&quot;Yeni Oyun&quot;);\n                break;\n            case 1:\n                btnClick.setText(&quot;Devam Et&quot;);\n\n                break;\n            case 2:\n                btnClick.setText(&quot;Ayarlar&quot;);\n\n                break;\n            case 3:\n                btnClick.setText(&quot;Giriş Yap&quot;);\n\n                break;\n            case 4:\n                btnClick.setText(&quot;Nasıl Oynanır&quot;);\n\n                break;\n        }\n\n        btnClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                clickIslemleri(value);\n            }\n        });\n\n    }\n\n    public void clickIslemleri(int value) {\n        switch (value) {\n            case 0:\n                yeniOyunMisafirIcin();\n                break;\n            case 1://eski oyunları listele ve onlardan seçip devam et\n                gecmisOyunlarGuest();\n\n                break;\n            case 2:\n                kayitliOyunuGuncelle();\n                Toast.makeText(MainActivity.this, &quot;ayarlar&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 3:\n                girisSecenekleriEkrani();\n                break;\n            case 4:\n                Toast.makeText(MainActivity.this, &quot;nasıl oynanır&quot;, Toast.LENGTH_SHORT).show();\n                break;\n        }\n\n    }\n\n    public void kayitliOyunuGuncelle() {\n        misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n        new MisafirGirisliOyunKaydiDAO().misafirgirisiKaydiGuncelle(misafirOyunKaydiDB,\n                1, input + &quot; s&quot;, 0, &quot;00:45&quot;, kayitZamanini());\n        misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\n        for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\n            Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getTimestamp());\n        }\n    }\n\n    public void gecmisOyunlarGuest() {\n        misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n        misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\n        for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\n            Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getId() + &quot;&quot;);\n\n        }\n    }\n}\n\nboolean complated() {\n    for (int i = 0; i &lt; 9; i++) {\n        for (int j = 0; j &lt; 9; j++) {\n            if (table[i][j].value == 0) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nboolean correct(int i1, int j1, int i2, int j2) {\n    boolean[] seen = new boolean[10];\n    for (int i = 1; i &lt;= 9; i++) {\n        seen[i] = false;\n    }\n    for (int i = i1; i &lt; i2; i++) {\n        for (int j = j1; j &lt; j2; j++) {\n            int value = table[i][j].value;\n            if (value != 0) {\n                if (seen[value]) {\n                    return false;\n                }\n                seen[value] = true;\n            }\n        }\n    }\n    return true;\n}\n\nboolean correct() {\n    for (int i = 0; i &lt; 9; i++) {\n        if (!correct(i, 0, i + 1, 9)) {\n            return false;\n        }\n    }\n    for (int j = 0; j &lt; 9; j++) {\n        if (!correct(0, j, 9, j + 1)) {\n            return false;\n        }\n    }\n\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            if (!correct(3 * i, 3 * j, 3 * i + 3, 3 * j + 3)) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","decimal"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1458264328,"post_id":36074502,"comment_id":59795006,"body_markdown":"Sometimes you can multiply a `double` by 100, cast it to an `int` then back to a `double` and divide by 100.","body":"Sometimes you can multiply a <code>double</code> by 100, cast it to an <code>int</code> then back to a <code>double</code> and divide by 100."},{"owner":{"account_id":8000543,"reputation":1155,"user_id":6047952,"accept_rate":100,"display_name":"infixed"},"score":0,"creation_date":1458264508,"post_id":36074502,"comment_id":59795044,"body_markdown":"convert to cents, do your math in cents, convert back to dollars at output time","body":"convert to cents, do your math in cents, convert back to dollars at output time"},{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":0,"creation_date":1458264774,"post_id":36074502,"comment_id":59795129,"body_markdown":"@infixed Not a good idea. Read the answer below to find out why. int [32 bits], double[64 bits] among other things.","body":"@infixed Not a good idea. Read the answer below to find out why. int [32 bits], double[64 bits] among other things."},{"owner":{"account_id":8000543,"reputation":1155,"user_id":6047952,"accept_rate":100,"display_name":"infixed"},"score":0,"creation_date":1458265144,"post_id":36074502,"comment_id":59795227,"body_markdown":"were you under the impression that a double couldn&#39;t be used in units of cents as well as dollars?  `dollars = int(cents)/100.0`","body":"were you under the impression that a double couldn&#39;t be used in units of cents as well as dollars?  <code>dollars = int(cents)&#47;100.0</code>"},{"owner":{"account_id":8000543,"reputation":1155,"user_id":6047952,"accept_rate":100,"display_name":"infixed"},"score":0,"creation_date":1458265560,"post_id":36074502,"comment_id":59795330,"body_markdown":"sorry, wrong language   `dollars = floor(cents)/100.0.  Unless you deal with negatives","body":"sorry, wrong language   `dollars = floor(cents)/100.0.  Unless you deal with negatives"}],"answers":[{"tags":[],"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1458264612,"creation_date":1458264407,"answer_id":36074568,"question_id":36074502,"body_markdown":"Use [DecimalFormat](https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html).\r\n\r\n    DecimalFormatt df = new DecimalFormat( &quot;#.00&quot; );\r\n    df.format(1.478569); // 1.48\r\n\r\nDon&#39;t want the rounding up?\r\n\r\n    double c = 1.478569d;\r\n    c = (double)((long)(c*100))/100;    // 1.47 \r\n\r\nThe double casting way might overflow [[Jonny Henly](https://stackoverflow.com/users/1241334/jonny-henly) noted below]. Beware. :)\r\n\r\nThere are numerous ways of doing this. Alternatively, \r\n\r\n    df = new DecimalFormat( &quot;#.000&quot; );\r\n    String num = df.format(1.478569);\r\n    num = num.substring(0, num.length()-1);    // 1.47\r\n\r\n\r\nDoes it help?","title":"Looking for a way to keep two decimal places without rounding up","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a>.</p>\n\n<pre><code>DecimalFormatt df = new DecimalFormat( \"#.00\" );\ndf.format(1.478569); // 1.48\n</code></pre>\n\n<p>Don't want the rounding up?</p>\n\n<pre><code>double c = 1.478569d;\nc = (double)((long)(c*100))/100;    // 1.47 \n</code></pre>\n\n<p>The double casting way might overflow [<a href=\"https://stackoverflow.com/users/1241334/jonny-henly\">Jonny Henly</a> noted below]. Beware. :)</p>\n\n<p>There are numerous ways of doing this. Alternatively, </p>\n\n<pre><code>df = new DecimalFormat( \"#.000\" );\nString num = df.format(1.478569);\nnum = num.substring(0, num.length()-1);    // 1.47\n</code></pre>\n\n<p>Does it help?</p>\n"},{"tags":[],"owner":{"account_id":11944704,"reputation":114,"user_id":8740314,"display_name":"Noah Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675254786,"creation_date":1675254786,"answer_id":75310246,"question_id":36074502,"body_markdown":"You can use RoundingMode.FLOOR like that \r\n\r\nfor Kotlin \r\n\r\n    number.toBigDecimal().setScale(2,RoundingMode.FLOOR).toDouble()\r\n\r\nfor JAVA\r\n\r\n                new BigDecimal(&quot;1.555&quot;).setScale(2, RoundingMode.FLOOR);\r\n","title":"Looking for a way to keep two decimal places without rounding up","body":"<p>You can use RoundingMode.FLOOR like that</p>\n<p>for Kotlin</p>\n<pre><code>number.toBigDecimal().setScale(2,RoundingMode.FLOOR).toDouble()\n</code></pre>\n<p>for JAVA</p>\n<pre><code>            new BigDecimal(&quot;1.555&quot;).setScale(2, RoundingMode.FLOOR);\n</code></pre>\n"}],"owner":{"account_id":8065373,"reputation":11,"user_id":6079706,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675254786,"creation_date":1458263878,"question_id":36074502,"body_markdown":"I have to display my outputs with two decimal places and the program outputs should be 205.16 for monthly payment and 12309.91 for total payment. Before using decimal format to round the answers where correct but after rounding to two decimal places the outputs are now .01 to high. What can I do to remove the extra decimal places without rounding up .01?\r\n\r\n\timport javax.swing.*;\r\n\timport java.text.*;\r\n\t\r\n\t\r\n\t/**\r\n\t *DriverMortgageClass\r\n\t */\r\n\t\r\n\tpublic class DriverMortgageClass\r\n\t{\r\n\t\tpublic double annualInterestRate;\r\n\t\tpublic int    numberOfYears;\r\n\t\tpublic double loanAmount;\r\n\t\tpublic double monthlyPayment;\r\n\t\tpublic double totalPayment;\r\n\t\tpublic double monthlyInterestRate;\r\n\t\r\n\t\tDecimalFormat fmt = new    DecimalFormat (&quot;0.00&quot;);\r\n\t\r\n\t\t//main method\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew DriverMortgageClass().start();\r\n\t\t}\r\n\t\r\n\t\t//declare private mortgage object\r\n\t\tprivate Mortgage mortgage;\r\n\t\r\n\t\tpublic DriverMortgageClass()\r\n\t\r\n\t\t{   \r\n\t\t\tmortgage = new Mortgage();\r\n\t\t}\r\n\t\tpublic void start()\r\n\t\t{\r\n\t\r\n\t\t\t//get input for interest rate\r\n\t\t\tString annualInterestRateString = JOptionPane.showInputDialog(null,&quot;Enter yearly interest rate, for example 8.5&quot;,JOptionPane.QUESTION_MESSAGE);\r\n\t\t\tannualInterestRate=Double.parseDouble(annualInterestRateString);\r\n\t\t\tmortgage.setAnnualInterestRate(annualInterestRate);\r\n\t\r\n\t\r\n\t\t\t//get input for number of years\r\n\t\t\tString numberOfYearsString = JOptionPane.showInputDialog(null,&quot;Enter number of years as an integer, for example 5&quot;,JOptionPane.QUESTION_MESSAGE);\r\n\t\t\tnumberOfYears= Integer.parseInt(numberOfYearsString);\r\n\t\t\tmortgage.setNumberOfYears(numberOfYears);\r\n\t\r\n\t\r\n\t\t\t//set loan amount\r\n\t\t\tString loanAmountString = JOptionPane.showInputDialog(null,&quot;Enter loan amount, for example 10000.00&quot;,JOptionPane.QUESTION_MESSAGE);\r\n\t\t\tloanAmount= Double.parseDouble(loanAmountString);\r\n\t\t\tmortgage.setLoanAmount(loanAmount);\r\n\t\r\n\t\r\n\t\t\t//Invoke monthly and total payment\r\n\t\t\tmonthlyInterestRate=annualInterestRate/1200;\r\n\t\t\tmonthlyPayment=loanAmount*monthlyInterestRate /(1-(Math.pow(1/(1+monthlyInterestRate),numberOfYears*12)));\r\n\t\t\ttotalPayment=monthlyPayment*numberOfYears*12;\r\n\t\r\n\t\t\t//display monthly and total payment\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;The monthly payment is&quot;+ &quot; &quot; + fmt.format(monthlyPayment)+&#39;\\n&#39;\r\n\t\t\t\t\t+&quot;The total payment is&quot;+ &quot; &quot; + fmt.format(totalPayment));  \r\n\t\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\r\n","title":"Looking for a way to keep two decimal places without rounding up","body":"<p>I have to display my outputs with two decimal places and the program outputs should be 205.16 for monthly payment and 12309.91 for total payment. Before using decimal format to round the answers where correct but after rounding to two decimal places the outputs are now .01 to high. What can I do to remove the extra decimal places without rounding up .01?</p>\n\n<pre><code>import javax.swing.*;\nimport java.text.*;\n\n\n/**\n *DriverMortgageClass\n */\n\npublic class DriverMortgageClass\n{\n    public double annualInterestRate;\n    public int    numberOfYears;\n    public double loanAmount;\n    public double monthlyPayment;\n    public double totalPayment;\n    public double monthlyInterestRate;\n\n    DecimalFormat fmt = new    DecimalFormat (\"0.00\");\n\n    //main method\n    public static void main(String[] args) {\n        new DriverMortgageClass().start();\n    }\n\n    //declare private mortgage object\n    private Mortgage mortgage;\n\n    public DriverMortgageClass()\n\n    {   \n        mortgage = new Mortgage();\n    }\n    public void start()\n    {\n\n        //get input for interest rate\n        String annualInterestRateString = JOptionPane.showInputDialog(null,\"Enter yearly interest rate, for example 8.5\",JOptionPane.QUESTION_MESSAGE);\n        annualInterestRate=Double.parseDouble(annualInterestRateString);\n        mortgage.setAnnualInterestRate(annualInterestRate);\n\n\n        //get input for number of years\n        String numberOfYearsString = JOptionPane.showInputDialog(null,\"Enter number of years as an integer, for example 5\",JOptionPane.QUESTION_MESSAGE);\n        numberOfYears= Integer.parseInt(numberOfYearsString);\n        mortgage.setNumberOfYears(numberOfYears);\n\n\n        //set loan amount\n        String loanAmountString = JOptionPane.showInputDialog(null,\"Enter loan amount, for example 10000.00\",JOptionPane.QUESTION_MESSAGE);\n        loanAmount= Double.parseDouble(loanAmountString);\n        mortgage.setLoanAmount(loanAmount);\n\n\n        //Invoke monthly and total payment\n        monthlyInterestRate=annualInterestRate/1200;\n        monthlyPayment=loanAmount*monthlyInterestRate /(1-(Math.pow(1/(1+monthlyInterestRate),numberOfYears*12)));\n        totalPayment=monthlyPayment*numberOfYears*12;\n\n        //display monthly and total payment\n        JOptionPane.showMessageDialog(null,\"The monthly payment is\"+ \" \" + fmt.format(monthlyPayment)+'\\n'\n                +\"The total payment is\"+ \" \" + fmt.format(totalPayment));  \n\n        System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","extjs"],"comments":[{"owner":{"account_id":4643497,"reputation":545,"user_id":4065407,"accept_rate":56,"display_name":"leonard.javiniar"},"score":0,"creation_date":1677251341,"post_id":75053114,"comment_id":133306619,"body_markdown":"How is this an extjs question?","body":"How is this an extjs question?"}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673243168,"creation_date":1673243168,"answer_id":75053575,"question_id":75053114,"body_markdown":"Hope this helps. All the necessary information is mentioned inside the code itself.\r\n\r\n    import java.util.Iterator;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString inputString = &quot;{&#39;a&#39;: 100, &#39;b&#39;: 200, &#39;c&#39;: 300, &#39;d&#39;: &#39;calc(a+c)&#39;, &#39;f&#39;: {&#39;g&#39;: 100, &#39;h&#39;: 200, &#39;i&#39;: &#39;calc(g+h)&#39;} }&quot;;\r\n    \r\n    \t\tJSONObject newJSON = parseJSONValue(inputString, new JSONObject());\r\n    \r\n    \t\tSystem.out.println(newJSON.toString());\r\n    \t\t// {&quot;a&quot;:100,&quot;b&quot;:200,&quot;c&quot;:300,&quot;d&quot;:400,&quot;f&quot;:{&quot;g&quot;:100,&quot;h&quot;:200,&quot;i&quot;:300}}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static JSONObject parseJSONValue(String inputString, JSONObject resultJSON) {\r\n    \r\n    \t\t// Parse your string as JSONObject\r\n    \t\tJSONObject jsonObject = new JSONObject(inputString);\r\n    \t\tIterator&lt;String&gt; keys = jsonObject.keys();\r\n    \r\n    \t\t// Iterate through your keys\r\n    \t\twhile (keys.hasNext()) {\r\n    \r\n    \t\t\tString key = keys.next();\r\n    \t\t\tObject value = jsonObject.get(key);\r\n    \r\n    \t\t\tif (value instanceof Integer) {\r\n    \r\n    \t\t\t\t// Your normal values\r\n    \r\n    \t\t\t} else if (value instanceof String) {\r\n    \r\n    \t\t\t\t// Your &#39;calc(x+y)&#39; strings\r\n    \r\n    \t\t\t\t// Extract everything between &quot;(&quot; and &quot;)&quot; from calc(a+c)\r\n    \t\t\t\tPattern pattern = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;);\r\n    \t\t\t\tMatcher m = pattern.matcher(value.toString());\r\n    \r\n    \t\t\t\twhile (m.find()) {\r\n    \r\n    \t\t\t\t\t// a+c\r\n    \t\t\t\t\tString evalString = m.group(1);\r\n    \r\n    \t\t\t\t\t// Split by &#39;+&#39;\r\n    \t\t\t\t\tString[] splitEvalString = evalString.split(&quot;\\\\+&quot;);\r\n    \r\n    \t\t\t\t\t// Check if exactly 2 values are found\r\n    \t\t\t\t\tif (splitEvalString.length == 2) {\r\n    \t\t\t\t\t\tvalue = (Integer) jsonObject.get(splitEvalString[0])\r\n    \t\t\t\t\t\t\t\t+ (Integer) jsonObject.get(splitEvalString[1]);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} else if (value instanceof JSONObject) {\r\n    \t\t\t\t// Your nested JSONObjects\r\n    \t\t\t\t// Recursively call this method\r\n    \t\t\t\tvalue = parseJSONValue(value.toString(), new JSONObject());\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Add to your new JSON Object\r\n    \t\t\tresultJSON.put(key, value);\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn resultJSON;\r\n    \r\n    \t}\r\n    \r\n    }","title":"Evaluate JSON object with expression with variable name, Josson","body":"<p>Hope this helps. All the necessary information is mentioned inside the code itself.</p>\n<pre><code>import java.util.Iterator;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport org.json.JSONObject;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        String inputString = &quot;{'a': 100, 'b': 200, 'c': 300, 'd': 'calc(a+c)', 'f': {'g': 100, 'h': 200, 'i': 'calc(g+h)'} }&quot;;\n\n        JSONObject newJSON = parseJSONValue(inputString, new JSONObject());\n\n        System.out.println(newJSON.toString());\n        // {&quot;a&quot;:100,&quot;b&quot;:200,&quot;c&quot;:300,&quot;d&quot;:400,&quot;f&quot;:{&quot;g&quot;:100,&quot;h&quot;:200,&quot;i&quot;:300}}\n\n    }\n\n    public static JSONObject parseJSONValue(String inputString, JSONObject resultJSON) {\n\n        // Parse your string as JSONObject\n        JSONObject jsonObject = new JSONObject(inputString);\n        Iterator&lt;String&gt; keys = jsonObject.keys();\n\n        // Iterate through your keys\n        while (keys.hasNext()) {\n\n            String key = keys.next();\n            Object value = jsonObject.get(key);\n\n            if (value instanceof Integer) {\n\n                // Your normal values\n\n            } else if (value instanceof String) {\n\n                // Your 'calc(x+y)' strings\n\n                // Extract everything between &quot;(&quot; and &quot;)&quot; from calc(a+c)\n                Pattern pattern = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;);\n                Matcher m = pattern.matcher(value.toString());\n\n                while (m.find()) {\n\n                    // a+c\n                    String evalString = m.group(1);\n\n                    // Split by '+'\n                    String[] splitEvalString = evalString.split(&quot;\\\\+&quot;);\n\n                    // Check if exactly 2 values are found\n                    if (splitEvalString.length == 2) {\n                        value = (Integer) jsonObject.get(splitEvalString[0])\n                                + (Integer) jsonObject.get(splitEvalString[1]);\n                    }\n\n                }\n\n            } else if (value instanceof JSONObject) {\n                // Your nested JSONObjects\n                // Recursively call this method\n                value = parseJSONValue(value.toString(), new JSONObject());\n            }\n\n            // Add to your new JSON Object\n            resultJSON.put(key, value);\n\n        }\n\n        return resultJSON;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673360101,"creation_date":1673245151,"answer_id":75053760,"question_id":75053114,"body_markdown":"    Josson josson = Josson.fromJsonString(jsonString);\r\n    JsonNode node = josson.getNode(&quot;field(d:eval(d), f.field(i:eval(i)))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n_Output_\r\n\r\n    {\r\n      &quot;a&quot; : 100,\r\n      &quot;b&quot; : 200,\r\n      &quot;c&quot; : 300,\r\n      &quot;d&quot; : 400.0,\r\n      &quot;f&quot; : {\r\n        &quot;g&quot; : 100,\r\n        &quot;h&quot; : 200,\r\n        &quot;i&quot; : 300.0\r\n      }\r\n    }\r\n\r\n__For unknown structure__\r\n\r\n_This solution assumes_\r\n\r\n- the evaluation statement contains `()`\r\n- there is only one evaluation statement in each level\r\n- you need to know the next level child name (`f` in this example)\r\n\r\n_Transformation_\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;let($p: &#39;.+\\\\(.*\\\\).*&#39;)&quot; +\r\n        &quot;.field(entries().[value =~ $p].key :: eval(*[value =~ $p]),&quot; +\r\n        &quot;       f.field(entries().[value =~ $p].key :: eval(*[value =~ $p]))&quot; +\r\n        &quot;)&quot;);\r\n\r\n__Suggest to group all the expressions in a pre-defined array__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;a\\&quot;: 100,&quot; +\r\n        &quot;  \\&quot;b\\&quot;: 200,&quot; +\r\n        &quot;  \\&quot;c\\&quot;: 300,&quot; +\r\n        &quot;  \\&quot;f\\&quot;: {&quot; +\r\n        &quot;    \\&quot;g\\&quot;: 100,&quot; +\r\n        &quot;    \\&quot;h\\&quot;: 200&quot; +\r\n        &quot;  },&quot; +\r\n        &quot;  \\&quot;exp\\&quot;: [\\&quot;$.calc(a+c)\\&quot;,&quot; +\r\n        &quot;            \\&quot;$.calc(g+h, g:f.g, h:f.h)\\&quot;,&quot; +\r\n        &quot;            \\&quot;$.concat(a, &#39;+&#39;, c, &#39;=&#39;, calc(a+c))\\&quot;,&quot; +\r\n        &quot;            \\&quot;$.concat(f.g, &#39;+&#39;, f.h, &#39;=&#39;, calc(g+h, g:f.g, h:f.h))\\&quot;&quot; +\r\n        &quot;           ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;field(exp@.eval())&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n_Output_\r\n\r\n    {\r\n      &quot;a&quot; : 100,\r\n      &quot;b&quot; : 200,\r\n      &quot;c&quot; : 300,\r\n      &quot;f&quot; : {\r\n        &quot;g&quot; : 100,\r\n        &quot;h&quot; : 200\r\n      },\r\n      &quot;exp&quot; : [ 400.0, 300.0, &quot;100+300=400.0&quot;, &quot;100+200=300.0&quot; ]\r\n    }","title":"Evaluate JSON object with expression with variable name, Josson","body":"<pre><code>Josson josson = Josson.fromJsonString(jsonString);\nJsonNode node = josson.getNode(&quot;field(d:eval(d), f.field(i:eval(i)))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>{\n  &quot;a&quot; : 100,\n  &quot;b&quot; : 200,\n  &quot;c&quot; : 300,\n  &quot;d&quot; : 400.0,\n  &quot;f&quot; : {\n    &quot;g&quot; : 100,\n    &quot;h&quot; : 200,\n    &quot;i&quot; : 300.0\n  }\n}\n</code></pre>\n<p><strong>For unknown structure</strong></p>\n<p><em>This solution assumes</em></p>\n<ul>\n<li>the evaluation statement contains <code>()</code></li>\n<li>there is only one evaluation statement in each level</li>\n<li>you need to know the next level child name (<code>f</code> in this example)</li>\n</ul>\n<p><em>Transformation</em></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;let($p: '.+\\\\(.*\\\\).*')&quot; +\n    &quot;.field(entries().[value =~ $p].key :: eval(*[value =~ $p]),&quot; +\n    &quot;       f.field(entries().[value =~ $p].key :: eval(*[value =~ $p]))&quot; +\n    &quot;)&quot;);\n</code></pre>\n<p><strong>Suggest to group all the expressions in a pre-defined array</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;a\\&quot;: 100,&quot; +\n    &quot;  \\&quot;b\\&quot;: 200,&quot; +\n    &quot;  \\&quot;c\\&quot;: 300,&quot; +\n    &quot;  \\&quot;f\\&quot;: {&quot; +\n    &quot;    \\&quot;g\\&quot;: 100,&quot; +\n    &quot;    \\&quot;h\\&quot;: 200&quot; +\n    &quot;  },&quot; +\n    &quot;  \\&quot;exp\\&quot;: [\\&quot;$.calc(a+c)\\&quot;,&quot; +\n    &quot;            \\&quot;$.calc(g+h, g:f.g, h:f.h)\\&quot;,&quot; +\n    &quot;            \\&quot;$.concat(a, '+', c, '=', calc(a+c))\\&quot;,&quot; +\n    &quot;            \\&quot;$.concat(f.g, '+', f.h, '=', calc(g+h, g:f.g, h:f.h))\\&quot;&quot; +\n    &quot;           ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;field(exp@.eval())&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>{\n  &quot;a&quot; : 100,\n  &quot;b&quot; : 200,\n  &quot;c&quot; : 300,\n  &quot;f&quot; : {\n    &quot;g&quot; : 100,\n    &quot;h&quot; : 200\n  },\n  &quot;exp&quot; : [ 400.0, 300.0, &quot;100+300=400.0&quot;, &quot;100+200=300.0&quot; ]\n}\n</code></pre>\n"}],"owner":{"account_id":27473411,"reputation":59,"user_id":20961840,"display_name":"dattam katore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1675254473,"creation_date":1673237476,"question_id":75053114,"body_markdown":"We need to evaluate JSON object expressions in java.\r\n\r\nWe have the following source JSON object\r\n\r\n```javascript\r\n{\r\n  &quot;a&quot;: 100,\r\n  &quot;b&quot;: 200,\r\n  &quot;c&quot;: 300,\r\n  &quot;d&quot;: &quot;calc(a+c)&quot;,\r\n  &quot;f&quot;: {\r\n    &quot;g&quot;: 100,\r\n    &quot;h&quot;: 200,\r\n    &quot;i&quot;: &quot;calc(g+h)&quot;\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwe need output this format\r\n\r\n```javascript\r\n{\r\n  &quot;a&quot;: 100,\r\n  &quot;b&quot;: 200,\r\n  &quot;c&quot;: 300,\r\n  &quot;d&quot;: 400,\r\n   &quot;f&quot;: {\r\n    &quot;g&quot;: 100,\r\n    &quot;h&quot;: 200,\r\n    &quot;i&quot;: 300\r\n  }\r\n}\r\n```\r\n\r\nWe tried \r\n\r\nwe tried https://github.com/octomix/josson but that is more of a filtering JSON.","title":"Evaluate JSON object with expression with variable name, Josson","body":"<p>We need to evaluate JSON object expressions in java.</p>\n<p>We have the following source JSON object</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;a&quot;: 100,\n  &quot;b&quot;: 200,\n  &quot;c&quot;: 300,\n  &quot;d&quot;: &quot;calc(a+c)&quot;,\n  &quot;f&quot;: {\n    &quot;g&quot;: 100,\n    &quot;h&quot;: 200,\n    &quot;i&quot;: &quot;calc(g+h)&quot;\n  }\n}\n</code></pre>\n<p>we need output this format</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;a&quot;: 100,\n  &quot;b&quot;: 200,\n  &quot;c&quot;: 300,\n  &quot;d&quot;: 400,\n   &quot;f&quot;: {\n    &quot;g&quot;: 100,\n    &quot;h&quot;: 200,\n    &quot;i&quot;: 300\n  }\n}\n</code></pre>\n<p>We tried</p>\n<p>we tried <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a> but that is more of a filtering JSON.</p>\n"},{"tags":["java","gradle","ant"],"owner":{"account_id":1592013,"reputation":829,"user_id":1475135,"accept_rate":100,"display_name":"chriskilding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675254016,"creation_date":1675254016,"question_id":75310101,"body_markdown":"I am migrating a legacy Ant/Ivy project to Gradle. I am doing this in incremental stages per the recommendations in the Gradle docs. I have started by simply wrapping the Ant build wholesale in Gradle with `ant.importBuild(&#39;/path/to/build.xml&#39;)`. The future aim is to replace the Ant build, but this is the first step.\r\n\r\nThe extra complication is that I cannot modify the legacy project at this time; it&#39;s in a couple of upstream repositories (think `github.com/example/foo.git` and `github.com/example/bar.git`). I am therefore importing them from Git as Gradle source dependencies, and am using Gradle plugin injection to &#39;inject&#39; a Gradle build into them. (It&#39;s possible that the source dependency aspect is an orthogonal detail that does not have a bearing on the solution, but I have mentioned it for completeness.)\r\n\r\nThe Ant portion of the injected build works: it gets as far as generating the .jar under the respective module&#39;s `dist/jar` folder.\r\n\r\nHowever, because this happens within Ant&#39;s world, this .jar does not seem to be exported for consumers of the Gradle module to see. So when the downstream project builds (which depends on the Gradle source dependencies), you see an error like this:\r\n\r\n&gt; Git repository at ssh://git@github.com/example/foo.git did not contain a project publishing the specified dependency.\r\n\r\nSo the question is, how do I mark the .jar file(s) built by Ant to be exported from Gradle? (Effectively, so that consumers of the dependency recognise it as the module output.)\r\n\r\n---\r\n\r\nSome more details...\r\n\r\nMy project structure looks like this:\r\n\r\n```\r\n/\r\n  plugins/\r\n    src/\r\n      main/\r\n        groovy/\r\n          FooBuildPlugin   # injects Gradle build into github.com/example/foo.git\r\n          BarBuildPlugin   # likewise for bar.git\r\n    build.gradle\r\n  src/\r\n    main/\r\n      java/\r\n        # ...code that uses foo and bar\r\n  build.gradle\r\n  settings.gradle   # defines the Gradle source dependencies for foo and bar\r\n```\r\n\r\nI have extensively read around the Gradle Ant integration docs at &lt;https://docs.gradle.org/current/userguide/ant.html&gt;, and although it is pretty comprehensive at covering most steps of using Ant from Gradle, it does not seem to cover the final step of including Ant&#39;s output in the Gradle module.","title":"How to export the output of an Ant build within a Gradle build","body":"<p>I am migrating a legacy Ant/Ivy project to Gradle. I am doing this in incremental stages per the recommendations in the Gradle docs. I have started by simply wrapping the Ant build wholesale in Gradle with <code>ant.importBuild('/path/to/build.xml')</code>. The future aim is to replace the Ant build, but this is the first step.</p>\n<p>The extra complication is that I cannot modify the legacy project at this time; it's in a couple of upstream repositories (think <code>github.com/example/foo.git</code> and <code>github.com/example/bar.git</code>). I am therefore importing them from Git as Gradle source dependencies, and am using Gradle plugin injection to 'inject' a Gradle build into them. (It's possible that the source dependency aspect is an orthogonal detail that does not have a bearing on the solution, but I have mentioned it for completeness.)</p>\n<p>The Ant portion of the injected build works: it gets as far as generating the .jar under the respective module's <code>dist/jar</code> folder.</p>\n<p>However, because this happens within Ant's world, this .jar does not seem to be exported for consumers of the Gradle module to see. So when the downstream project builds (which depends on the Gradle source dependencies), you see an error like this:</p>\n<blockquote>\n<p>Git repository at ssh://git@github.com/example/foo.git did not contain a project publishing the specified dependency.</p>\n</blockquote>\n<p>So the question is, how do I mark the .jar file(s) built by Ant to be exported from Gradle? (Effectively, so that consumers of the dependency recognise it as the module output.)</p>\n<hr />\n<p>Some more details...</p>\n<p>My project structure looks like this:</p>\n<pre><code>/\n  plugins/\n    src/\n      main/\n        groovy/\n          FooBuildPlugin   # injects Gradle build into github.com/example/foo.git\n          BarBuildPlugin   # likewise for bar.git\n    build.gradle\n  src/\n    main/\n      java/\n        # ...code that uses foo and bar\n  build.gradle\n  settings.gradle   # defines the Gradle source dependencies for foo and bar\n</code></pre>\n<p>I have extensively read around the Gradle Ant integration docs at <a href=\"https://docs.gradle.org/current/userguide/ant.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/ant.html</a>, and although it is pretty comprehensive at covering most steps of using Ant from Gradle, it does not seem to cover the final step of including Ant's output in the Gradle module.</p>\n"},{"tags":["java","android","thermal-printer","escpos","usbmanager"],"owner":{"account_id":27023557,"reputation":23,"user_id":20581197,"display_name":"Dani Puente"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675253740,"creation_date":1675253740,"question_id":75310051,"body_markdown":"The printer uses USB connection and ESC/POS commands, I can send commands with BulkTransfer:\r\n\r\n```\r\n        val usbManager = context.getSystemService(Context.USB_SERVICE) as UsbManager\r\n        val device: UsbDevice? =\r\n            usbManager.deviceList.values.firstOrNull { it.vendorId == vid &amp;&amp; it.productId == pid }\r\n        if (device != null) {\r\n            var textToPrint = text(&quot;Prueba&quot;)\r\n            textToPrint = appendCommands(textToPrint, printAndNLinesFeedForward(&quot;6&quot;))\r\n            textToPrint = appendCommands(textToPrint, paperCut(&quot;0&quot;))\r\n            val connection: UsbDeviceConnection = usbManager.openDevice(device)\r\n            connection.claimInterface(device.getInterface(0), true)\r\n            val con = connection.bulkTransfer(\r\n                device.getInterface(0).getEndpoint(0),\r\n                textToPrint.toByteArray(),\r\n                textToPrint.size,\r\n                0\r\n            )\r\n            println(con)\r\n            connection.releaseInterface(device.getInterface(0))\r\n            connection.close()\r\n\r\n\r\n        } else {\r\n            Log.e(&quot;errores&quot;, &quot;device=null&quot;)\r\n        }\r\n\r\n```\r\n\r\ntextToprint has the commands to send, appendCommands is a function that add commands and returns an array with the added command\r\n\r\n```\r\n    private fun appendCommands(byteArray1: UByteArray, byteArray2: UByteArray): UByteArray {\r\n        var byteArray = byteArray1\r\n        for (byte in byteArray2) {\r\n            byteArray += byte\r\n        }\r\n        return byteArray\r\n\r\n    }\r\n\r\n    private fun text(text: String): UByteArray {\r\n        val charset = Charsets.UTF_8\r\n        return text.toByteArray(charset).toUByteArray()\r\n    }\r\n\r\n    private fun printAndNLinesFeedForward(linesToFeed: String): UByteArray {\r\n        return ubyteArrayOf(&quot;1B&quot;.hexAsUByte, &quot;64&quot;.hexAsUByte, linesToFeed.hexAsUByte)\r\n    }\r\n\r\n    private fun paperCut(typeCut: String): UByteArray {\r\n        return ubyteArrayOf(&quot;1D&quot;.hexAsUByte, &quot;56&quot;.hexAsUByte, typeCut.hexAsUByte)\r\n    }\r\n```\r\nthis those commands in each function have hexadecimal codes provided by the printer manual\r\n[![Function printAndNLinesFeedForward example](https://i.stack.imgur.com/yC4Le.png)](https://i.stack.imgur.com/yC4Le.png)\r\n\r\n\r\n\r\nHowever, I don&#39;t know how to listen to the printer&#39;s response in the event that it doesn&#39;t have paper, for example, because the functions that I issue to listen do not return anything or I don&#39;t know where to pick it up\r\n\r\n```\r\n    private fun receiveData(pid: Int, vid: Int, context: Context) {\r\n        val usbManager = context.getSystemService(Context.USB_SERVICE) as UsbManager\r\n        val device: UsbDevice? =\r\n            usbManager.deviceList.values.firstOrNull { it.vendorId == vid &amp;&amp; it.productId == pid }\r\n        if (device != null) {\r\n            val buffer = byteArrayOf(&quot;1D&quot;.hexAsByte, &quot;72&quot;.hexAsByte, &quot;1&quot;.hexAsByte)\r\n            val connection: UsbDeviceConnection = usbManager.openDevice(device)\r\n            connection.claimInterface(device.getInterface(0), true)\r\n            connection.bulkTransfer(\r\n                device.getInterface(0).getEndpoint(1),\r\n                buffer,\r\n                buffer.size,\r\n                0\r\n            )\r\n            connection.releaseInterface(device.getInterface(0))\r\n            connection.close()\r\n\r\n\r\n        } else {\r\n            Log.e(&quot;errores&quot;, &quot;device=null&quot;)\r\n        }\r\n    }\r\n```\r\nhere i connect another endpoint, this endpoint is to receive data, and the command in buffer is this:\r\n[![variable buffer](https://i.stack.imgur.com/RMKnA.png)](https://i.stack.imgur.com/RMKnA.png)\r\nI dont know how to receive code errors from the printer","title":"&#191;How can i receive Status from a thermal printer with Android managerUsb?","body":"<p>The printer uses USB connection and ESC/POS commands, I can send commands with BulkTransfer:</p>\n<pre><code>        val usbManager = context.getSystemService(Context.USB_SERVICE) as UsbManager\n        val device: UsbDevice? =\n            usbManager.deviceList.values.firstOrNull { it.vendorId == vid &amp;&amp; it.productId == pid }\n        if (device != null) {\n            var textToPrint = text(&quot;Prueba&quot;)\n            textToPrint = appendCommands(textToPrint, printAndNLinesFeedForward(&quot;6&quot;))\n            textToPrint = appendCommands(textToPrint, paperCut(&quot;0&quot;))\n            val connection: UsbDeviceConnection = usbManager.openDevice(device)\n            connection.claimInterface(device.getInterface(0), true)\n            val con = connection.bulkTransfer(\n                device.getInterface(0).getEndpoint(0),\n                textToPrint.toByteArray(),\n                textToPrint.size,\n                0\n            )\n            println(con)\n            connection.releaseInterface(device.getInterface(0))\n            connection.close()\n\n\n        } else {\n            Log.e(&quot;errores&quot;, &quot;device=null&quot;)\n        }\n\n</code></pre>\n<p>textToprint has the commands to send, appendCommands is a function that add commands and returns an array with the added command</p>\n<pre><code>    private fun appendCommands(byteArray1: UByteArray, byteArray2: UByteArray): UByteArray {\n        var byteArray = byteArray1\n        for (byte in byteArray2) {\n            byteArray += byte\n        }\n        return byteArray\n\n    }\n\n    private fun text(text: String): UByteArray {\n        val charset = Charsets.UTF_8\n        return text.toByteArray(charset).toUByteArray()\n    }\n\n    private fun printAndNLinesFeedForward(linesToFeed: String): UByteArray {\n        return ubyteArrayOf(&quot;1B&quot;.hexAsUByte, &quot;64&quot;.hexAsUByte, linesToFeed.hexAsUByte)\n    }\n\n    private fun paperCut(typeCut: String): UByteArray {\n        return ubyteArrayOf(&quot;1D&quot;.hexAsUByte, &quot;56&quot;.hexAsUByte, typeCut.hexAsUByte)\n    }\n</code></pre>\n<p>this those commands in each function have hexadecimal codes provided by the printer manual\n<a href=\"https://i.stack.imgur.com/yC4Le.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yC4Le.png\" alt=\"Function printAndNLinesFeedForward example\" /></a></p>\n<p>However, I don't know how to listen to the printer's response in the event that it doesn't have paper, for example, because the functions that I issue to listen do not return anything or I don't know where to pick it up</p>\n<pre><code>    private fun receiveData(pid: Int, vid: Int, context: Context) {\n        val usbManager = context.getSystemService(Context.USB_SERVICE) as UsbManager\n        val device: UsbDevice? =\n            usbManager.deviceList.values.firstOrNull { it.vendorId == vid &amp;&amp; it.productId == pid }\n        if (device != null) {\n            val buffer = byteArrayOf(&quot;1D&quot;.hexAsByte, &quot;72&quot;.hexAsByte, &quot;1&quot;.hexAsByte)\n            val connection: UsbDeviceConnection = usbManager.openDevice(device)\n            connection.claimInterface(device.getInterface(0), true)\n            connection.bulkTransfer(\n                device.getInterface(0).getEndpoint(1),\n                buffer,\n                buffer.size,\n                0\n            )\n            connection.releaseInterface(device.getInterface(0))\n            connection.close()\n\n\n        } else {\n            Log.e(&quot;errores&quot;, &quot;device=null&quot;)\n        }\n    }\n</code></pre>\n<p>here i connect another endpoint, this endpoint is to receive data, and the command in buffer is this:\n<a href=\"https://i.stack.imgur.com/RMKnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RMKnA.png\" alt=\"variable buffer\" /></a>\nI dont know how to receive code errors from the printer</p>\n"},{"tags":["java","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":9487799,"reputation":16379,"user_id":7635569,"display_name":"JGH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675190128,"creation_date":1675190128,"answer_id":75301695,"question_id":75301310,"body_markdown":"When selecting just a few rows, you can join the table to itself and keep the data in the first available language\r\n\r\n```sql\r\nSELECT \r\n     coalesce(l1.food_property_id,l2.food_property_id) food_property_id,\r\n     coalesce(l1.food_id, l2.food_id) food_id,    \r\n     coalesce(l1.property_id, l2.property_id) property_id,         \r\n     coalesce(l1.value, l2.value) value,              \r\n     coalesce(l1.language_id, l2.language_id) language_id\r\nFROM food_properties l1\r\n LEFT JOIN food_properties l2 \r\n  ON l1.food_id = l2.food_id \r\n  AND l1.property_id = l2.property_id\r\n  AND l2.language_id = 999 --default_language_id\r\nWHERE l1.language_id = 1   --ideal_language_id\r\n```\r\n\r\nNote that this approach is simpler if you have two tables, one for the generic attributes and one for the localized attributes.","title":"fetch properties in preferred language if doesn&#39;t exist fetch in default language","body":"<p>When selecting just a few rows, you can join the table to itself and keep the data in the first available language</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n     coalesce(l1.food_property_id,l2.food_property_id) food_property_id,\n     coalesce(l1.food_id, l2.food_id) food_id,    \n     coalesce(l1.property_id, l2.property_id) property_id,         \n     coalesce(l1.value, l2.value) value,              \n     coalesce(l1.language_id, l2.language_id) language_id\nFROM food_properties l1\n LEFT JOIN food_properties l2 \n  ON l1.food_id = l2.food_id \n  AND l1.property_id = l2.property_id\n  AND l2.language_id = 999 --default_language_id\nWHERE l1.language_id = 1   --ideal_language_id\n</code></pre>\n<p>Note that this approach is simpler if you have two tables, one for the generic attributes and one for the localized attributes.</p>\n"}],"owner":{"account_id":26786514,"reputation":33,"user_id":20380620,"display_name":"Ketan Upase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675253667,"creation_date":1675188239,"question_id":75301310,"body_markdown":"I have food table having number of foods, each food can have specific properties in multiple languages (en, es) like name, description etc. But it is not sure if all of the properties are always present for preferred language of that user, so if they are not present for preferred language we can pick the properties from default language, So that we can be sure that we have data all the time to show on our app,\r\n\r\nHere is my PostgreSQL table structure\r\n\r\nFood Table:\r\n\r\n| food_id | visibility |\r\n| ------- | ---------- |\r\n|       1 |       true |\r\n\r\n\r\nProperties Table:\r\n\r\n| property_id | property_code |\r\n| ----------- | ------------- |\r\n|           1 |          name |\r\n|           2 |   description |\r\n|           3 |    short desc |\r\n\r\n\r\nFood Properties Table:\r\n\r\n| food_property_id | food_id | property_id | value           | language_id |\r\n| ---------------- | ------- | ----------- | --------------- | ----------- |\r\n|                1 |       1 |           1 | food name in en |\t        en |\r\n|                2 |       1 |\t         1 | food name in es |\t        es |\r\n|                3 |\t   1 |\t         2 | food description in en |    en |\r\n|                4 |       1 |\t         2 | food description in es\t|   es |\r\n|                5 |       1 |\t         3 | food short desc in en  |   en |\r\n|                6 |       1 |           3 | food short desc in es  |   es |\r\n\r\n\r\nCase 1:\r\n\r\nPreferred language - es || Default language - en\r\n\r\nAll es properties are exists - fetch them all\r\n\r\nResult:\r\n\r\nFood Properties Table:\r\n\r\n| food_property_id | food_id | property_id | value | language id |\r\n| ---------------- | ------- | ----------- | ----- | ----------- | \r\n|                2 |       1 |           1 | food name in es  |       es |\r\n|                4 |\t   1 |           2 | food description in es | es |\r\n|                6 |       1 |\t         3 | food short desc in es | es |\r\n\r\nCase 2:\r\n\r\nPreferred language - es || Default language - en\r\n\r\nProperty Id 2 (description) and 3 (short desc) are missing for es, fetch from default language (en)\r\n\r\nFood Properties Table:\r\n\r\n| food_property_id | food_id | property_id | value | language_id |\r\n| ---------------- | ------- | ----------- | ----- | ----------- |\r\n|                2 |       1 |           1 | food name in es | es |\r\n|                3 |       1 |\t         2 | food description in en | en |\r\n|                5 |       1 |           3 | food short desc in en | en |\r\n\r\nI hope the idea is clear to you now: We want to ensure that if specific property does not exists look for that property in default language, I \r\nhave to show this food list in app to multiple users with different languages, and it is not guaranteed that all the properties are present for that food. So its ok that we can show properties from default language, just to ensure that all the data on app always looks filled and not empty.\r\n\r\nI am using PostgreSQL as database and Java for programming, I am open to solution on both languages, Java preferred as I have used caching layer and filtering properties at that level, I tried a lot but used too many loops to compare each item with each other, so looking for optimized one. \r\n\r\n\r\n```\r\npublic class FoodTest {\r\n\tclass FoodProperties {\r\n\t\tprivate String propertyCode;\r\n\t\tprivate String value;\r\n\t\tprivate String languageId;\r\n\t\t// getters, setters, constructors\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;FoodProperties&gt; foodProperties = new ArrayList&lt;&gt;();\r\n\t\tFoodProperties p1 = new FoodProperties(&quot;1&quot;, &quot;food name in en&quot;, &quot;en&quot;);\r\n\t\tFoodProperties p2 = new FoodProperties(&quot;1&quot;, &quot;food name in es&quot;, &quot;es&quot;);\r\n\t\tFoodProperties p3 = new FoodProperties(&quot;2&quot;, &quot;description in en&quot;, &quot;en&quot;);\r\n\t\tFoodProperties p4 = new FoodProperties(&quot;2&quot;, &quot;description in es&quot;, &quot;es&quot;);\r\n\t\tFoodProperties p5 = new FoodProperties(&quot;3&quot;, &quot;short desc in en&quot;, &quot;en&quot;);\r\n\r\n\t\tfoodProperties.add(p1);\r\n\t\tfoodProperties.add(p2);\r\n\t\tfoodProperties.add(p3);\r\n\t\tfoodProperties.add(p4);\r\n\t\tfoodProperties.add(p5);\r\n\r\n\t\tString preferredLanguage = &quot;es&quot;;\r\n\t\tString defaultLanguage = &quot;en&quot;;\r\n\r\n\t\tList&lt;FoodProperties&gt; result = new ArrayList&lt;&gt;();\r\n\t\tfor (FoodProperties foodProperty : foodProperties) {\r\n\t\t\tString propertyCode = foodProperty.getPropertyCode();\r\n\t\t\tOptional&lt;FoodProperties&gt; food = foodProperties.stream()\r\n\t\t\t\t\t.filter(f -&gt; f.getLanguageId().equals(preferredLanguage)\r\n\t\t\t\t\t\t\t&amp;&amp; f.getPropertyCode().equals(propertyCode))\r\n\t\t\t\t\t.findFirst();\r\n\t\t\tif (food.isPresent()) {\r\n\t\t\t\tresult.add(food.get());\r\n\t\t\t} else {\r\n\t\t\t\tOptional&lt;FoodProperties&gt; foodDef = foodProperties.stream()\r\n\t\t\t\t\t\t.filter(f -&gt; f.getLanguageId().equals(defaultLanguage)\r\n\t\t\t\t\t\t\t\t&amp;&amp; f.getPropertyCode().equals(propertyCode))\r\n\t\t\t\t\t\t.findFirst();\r\n\t\t\t\tif (foodDef.isPresent()) {\r\n\t\t\t\t\tresult.add(foodDef.get());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (FoodProperties foodPropertiesData : result) {\r\n\t\t\tSystem.out.println(foodPropertiesData);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"fetch properties in preferred language if doesn&#39;t exist fetch in default language","body":"<p>I have food table having number of foods, each food can have specific properties in multiple languages (en, es) like name, description etc. But it is not sure if all of the properties are always present for preferred language of that user, so if they are not present for preferred language we can pick the properties from default language, So that we can be sure that we have data all the time to show on our app,</p>\n<p>Here is my PostgreSQL table structure</p>\n<p>Food Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>food_id</th>\n<th>visibility</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>true</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Properties Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>property_id</th>\n<th>property_code</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>name</td>\n</tr>\n<tr>\n<td>2</td>\n<td>description</td>\n</tr>\n<tr>\n<td>3</td>\n<td>short desc</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Food Properties Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>food_property_id</th>\n<th>food_id</th>\n<th>property_id</th>\n<th>value</th>\n<th>language_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>food name in en</td>\n<td>en</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td>food name in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>2</td>\n<td>food description in en</td>\n<td>en</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>2</td>\n<td>food description in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1</td>\n<td>3</td>\n<td>food short desc in en</td>\n<td>en</td>\n</tr>\n<tr>\n<td>6</td>\n<td>1</td>\n<td>3</td>\n<td>food short desc in es</td>\n<td>es</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Case 1:</p>\n<p>Preferred language - es || Default language - en</p>\n<p>All es properties are exists - fetch them all</p>\n<p>Result:</p>\n<p>Food Properties Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>food_property_id</th>\n<th>food_id</th>\n<th>property_id</th>\n<th>value</th>\n<th>language id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td>food name in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>2</td>\n<td>food description in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>6</td>\n<td>1</td>\n<td>3</td>\n<td>food short desc in es</td>\n<td>es</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Case 2:</p>\n<p>Preferred language - es || Default language - en</p>\n<p>Property Id 2 (description) and 3 (short desc) are missing for es, fetch from default language (en)</p>\n<p>Food Properties Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>food_property_id</th>\n<th>food_id</th>\n<th>property_id</th>\n<th>value</th>\n<th>language_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td>food name in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>2</td>\n<td>food description in en</td>\n<td>en</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1</td>\n<td>3</td>\n<td>food short desc in en</td>\n<td>en</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I hope the idea is clear to you now: We want to ensure that if specific property does not exists look for that property in default language, I\nhave to show this food list in app to multiple users with different languages, and it is not guaranteed that all the properties are present for that food. So its ok that we can show properties from default language, just to ensure that all the data on app always looks filled and not empty.</p>\n<p>I am using PostgreSQL as database and Java for programming, I am open to solution on both languages, Java preferred as I have used caching layer and filtering properties at that level, I tried a lot but used too many loops to compare each item with each other, so looking for optimized one.</p>\n<pre><code>public class FoodTest {\n    class FoodProperties {\n        private String propertyCode;\n        private String value;\n        private String languageId;\n        // getters, setters, constructors\n    }\n\n    public static void main(String[] args) {\n        List&lt;FoodProperties&gt; foodProperties = new ArrayList&lt;&gt;();\n        FoodProperties p1 = new FoodProperties(&quot;1&quot;, &quot;food name in en&quot;, &quot;en&quot;);\n        FoodProperties p2 = new FoodProperties(&quot;1&quot;, &quot;food name in es&quot;, &quot;es&quot;);\n        FoodProperties p3 = new FoodProperties(&quot;2&quot;, &quot;description in en&quot;, &quot;en&quot;);\n        FoodProperties p4 = new FoodProperties(&quot;2&quot;, &quot;description in es&quot;, &quot;es&quot;);\n        FoodProperties p5 = new FoodProperties(&quot;3&quot;, &quot;short desc in en&quot;, &quot;en&quot;);\n\n        foodProperties.add(p1);\n        foodProperties.add(p2);\n        foodProperties.add(p3);\n        foodProperties.add(p4);\n        foodProperties.add(p5);\n\n        String preferredLanguage = &quot;es&quot;;\n        String defaultLanguage = &quot;en&quot;;\n\n        List&lt;FoodProperties&gt; result = new ArrayList&lt;&gt;();\n        for (FoodProperties foodProperty : foodProperties) {\n            String propertyCode = foodProperty.getPropertyCode();\n            Optional&lt;FoodProperties&gt; food = foodProperties.stream()\n                    .filter(f -&gt; f.getLanguageId().equals(preferredLanguage)\n                            &amp;&amp; f.getPropertyCode().equals(propertyCode))\n                    .findFirst();\n            if (food.isPresent()) {\n                result.add(food.get());\n            } else {\n                Optional&lt;FoodProperties&gt; foodDef = foodProperties.stream()\n                        .filter(f -&gt; f.getLanguageId().equals(defaultLanguage)\n                                &amp;&amp; f.getPropertyCode().equals(propertyCode))\n                        .findFirst();\n                if (foodDef.isPresent()) {\n                    result.add(foodDef.get());\n                }\n            }\n        }\n        for (FoodProperties foodPropertiesData : result) {\n            System.out.println(foodPropertiesData);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","dictionary","collections"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1675185749,"post_id":75300691,"comment_id":132872742,"body_markdown":"Why did you try `stream.collect(Collectors.toMap())`? What was wrong with your attempt?","body":"Why did you try <code>stream.collect(Collectors.toMap())</code>? What was wrong with your attempt?"},{"owner":{"account_id":27668254,"reputation":11,"user_id":21119632,"display_name":"Devang Patel"},"score":0,"creation_date":1675187980,"post_id":75300691,"comment_id":132873420,"body_markdown":"I cannot figure out a way to map the 2nd element of the String[]","body":"I cannot figure out a way to map the 2nd element of the String[]"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675196600,"post_id":75300691,"comment_id":132875781,"body_markdown":"By the way, in real work it would likely make more sense to define a [record](https://openjdk.org/jeps/395) to hold the elements of each array as fields in an object. A `record` can be defined locally, within a method.","body":"By the way, in real work it would likely make more sense to define a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> to hold the elements of each array as fields in an object. A <code>record</code> can be defined locally, within a method."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675199496,"creation_date":1675185351,"answer_id":75300732,"question_id":75300691,"body_markdown":"Streams and collectors are not always the best option:\r\n\r\n    Map&lt;String, List&lt;String[]&gt;&gt; map = new HashMap&lt;&gt;();\r\n    myListOfArrays.forEach(arr -&gt; map.computeIfAbsent(arr[1], x -&gt; new ArrayList&lt;&gt;()).add(arr));\r\n\r\nIf the key can be null and you want to store it under a blank, use the expression `arr[1] == null ? &quot;&quot; : arr[1]` instead:\r\n\r\n    myListOfArrays.forEach(arr -&gt; map.computeIfAbsent(arr[1] == null ? &quot;&quot; : arr[1], x -&gt; new ArrayList&lt;&gt;()).add(arr));","title":"Creating a Map&lt;String, ArrayList&lt;String[]&gt;&gt; from ArrayList&lt;String[]&gt; in Java","body":"<p>Streams and collectors are not always the best option:</p>\n<pre><code>Map&lt;String, List&lt;String[]&gt;&gt; map = new HashMap&lt;&gt;();\nmyListOfArrays.forEach(arr -&gt; map.computeIfAbsent(arr[1], x -&gt; new ArrayList&lt;&gt;()).add(arr));\n</code></pre>\n<p>If the key can be null and you want to store it under a blank, use the expression <code>arr[1] == null ? &quot;&quot; : arr[1]</code> instead:</p>\n<pre><code>myListOfArrays.forEach(arr -&gt; map.computeIfAbsent(arr[1] == null ? &quot;&quot; : arr[1], x -&gt; new ArrayList&lt;&gt;()).add(arr));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8253571,"reputation":154,"user_id":6207389,"display_name":"Madhuri Kadam"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675253618,"creation_date":1675189115,"answer_id":75301493,"question_id":75300691,"body_markdown":"Try this - \r\n\r\n    List&lt;String[]&gt; l1 = new ArrayList&lt;&gt;();\r\n\t\tl1.add(new String[]{&quot;1&quot;, &quot;NameABC&quot;, &quot;somestring&quot;});\r\n\t\tl1.add(new String[]{&quot;2&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;});\r\n\t\tl1.add(new String[]{&quot;3&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;});\r\n\t\tl1.add(new String[]{&quot;4&quot;, &quot;NameABC&quot;, &quot;somestring&quot;});\r\n\t\tl1.add(new String[]{&quot;5&quot;, &quot;NameXYZ&quot;, &quot;somestring&quot;});\r\n\t\t\r\n\t\tMap&lt;String, List&lt;String[]&gt;&gt; map = l1.stream().collect(Collectors.groupingBy(arr -&gt; arr[1]));\r\n\t\t\r\n\t\tfor (Map.Entry&lt;String, List&lt;String[]&gt;&gt; entry : map.entrySet()) {\r\n\t\t\tString key = entry.getKey();\r\n\t\t\tList&lt;String[]&gt; val = entry.getValue();\r\n\t\t\t\r\n\t\t\tSystem.out.println(key + &quot; -- &quot;+ val);\r\n\t\t}","title":"Creating a Map&lt;String, ArrayList&lt;String[]&gt;&gt; from ArrayList&lt;String[]&gt; in Java","body":"<p>Try this -</p>\n<pre><code>List&lt;String[]&gt; l1 = new ArrayList&lt;&gt;();\n    l1.add(new String[]{&quot;1&quot;, &quot;NameABC&quot;, &quot;somestring&quot;});\n    l1.add(new String[]{&quot;2&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;});\n    l1.add(new String[]{&quot;3&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;});\n    l1.add(new String[]{&quot;4&quot;, &quot;NameABC&quot;, &quot;somestring&quot;});\n    l1.add(new String[]{&quot;5&quot;, &quot;NameXYZ&quot;, &quot;somestring&quot;});\n    \n    Map&lt;String, List&lt;String[]&gt;&gt; map = l1.stream().collect(Collectors.groupingBy(arr -&gt; arr[1]));\n    \n    for (Map.Entry&lt;String, List&lt;String[]&gt;&gt; entry : map.entrySet()) {\n        String key = entry.getKey();\n        List&lt;String[]&gt; val = entry.getValue();\n        \n        System.out.println(key + &quot; -- &quot;+ val);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675199857,"creation_date":1675199857,"answer_id":75303242,"question_id":75300691,"body_markdown":"You can use `Stream` with `groupingBy()`:\r\n\r\n```java\r\npublic static Map&lt;String, List&lt;String[]&gt;&gt; convert(List&lt;String[]&gt; data) {\r\n    return data.stream().collect(Collectors.groupingBy(arr -&gt; arr[1]));\r\n}\r\n```","title":"Creating a Map&lt;String, ArrayList&lt;String[]&gt;&gt; from ArrayList&lt;String[]&gt; in Java","body":"<p>You can use <code>Stream</code> with <code>groupingBy()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, List&lt;String[]&gt;&gt; convert(List&lt;String[]&gt; data) {\n    return data.stream().collect(Collectors.groupingBy(arr -&gt; arr[1]));\n}\n</code></pre>\n"}],"owner":{"account_id":27668254,"reputation":11,"user_id":21119632,"display_name":"Devang Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1675253618,"creation_date":1675185087,"question_id":75300691,"body_markdown":"I have an ArrayList of String Array and the 2nd element of every String Array contains a name. I want to create a Map where it&#39;s Key is the name and Value is an ArrayList of all String Array which has the name.\r\n\r\nHow can I achive this in Java?\r\n\r\nInput: ArrayList&lt;String[]&gt;\r\n\r\n```\r\n{&quot;1&quot;, &quot;NameABC&quot;, &quot;somestring&quot;}\r\n{&quot;2&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;}\r\n{&quot;3&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;}\r\n{&quot;4&quot;, &quot;NameABC&quot;, &quot;somestring&quot;}\r\n{&quot;5&quot;, &quot;NameXYZ&quot;, &quot;somestring&quot;}\r\n```\r\n\r\n\r\nOutput: Map&lt;String, ArrayList&lt;String[]&gt;\r\n\r\nKey = NameABC, Value = ArrayList of String[] where every String[] has NameABC\r\n\r\nKey = NameXYZ, Value = ArrayList of String[] where every String[] has NameXYZ\r\n\r\nI&#39;ve tried using `stream.collect(Collectors.toMap())` but I can&#39;t figure out how to achieve the proper output.\r\n","title":"Creating a Map&lt;String, ArrayList&lt;String[]&gt;&gt; from ArrayList&lt;String[]&gt; in Java","body":"<p>I have an ArrayList of String Array and the 2nd element of every String Array contains a name. I want to create a Map where it's Key is the name and Value is an ArrayList of all String Array which has the name.</p>\n<p>How can I achive this in Java?</p>\n<p>Input: ArrayList&lt;String[]&gt;</p>\n<pre><code>{&quot;1&quot;, &quot;NameABC&quot;, &quot;somestring&quot;}\n{&quot;2&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;}\n{&quot;3&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;}\n{&quot;4&quot;, &quot;NameABC&quot;, &quot;somestring&quot;}\n{&quot;5&quot;, &quot;NameXYZ&quot;, &quot;somestring&quot;}\n</code></pre>\n<p>Output: Map&lt;String, ArrayList&lt;String[]&gt;</p>\n<p>Key = NameABC, Value = ArrayList of String[] where every String[] has NameABC</p>\n<p>Key = NameXYZ, Value = ArrayList of String[] where every String[] has NameXYZ</p>\n<p>I've tried using <code>stream.collect(Collectors.toMap())</code> but I can't figure out how to achieve the proper output.</p>\n"},{"tags":["java","resultset"],"comments":[{"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"score":0,"creation_date":1370929636,"post_id":17037239,"comment_id":24628254,"body_markdown":"are you sure table contains two rows?","body":"are you sure table contains two rows?"}],"answers":[{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1370930048,"creation_date":1370929615,"answer_id":17037263,"question_id":17037239,"body_markdown":"It is because you are calling `rs.next()` before the loop. It returns a boolean and one row is loses its chance to be printed because of this statement.\r\n\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@host:1521:DB&quot;, &quot;User&quot;,&quot;pass_01&quot;);\r\n    Statement statement = connection.createStatement();   \r\n    resultset = statement.executeQuery(&quot;select * from employee&quot;); \r\n    while (resultset.next()) {\r\n    \tSystem.out.println(resultset.getInt(1) + &quot; &quot; +\r\n    \tresultset.getInt(2) + &quot; &quot; + \r\n    \tresultset.getInt(3) + &quot; &quot; + \r\n    \tresultset.getString(4));\r\n    }","title":"Not getting all rows in resultset","body":"<p>It is because you are calling <code>rs.next()</code> before the loop. It returns a boolean and one row is loses its chance to be printed because of this statement.</p>\n\n<pre><code>Connection connection = DriverManager.getConnection(\"jdbc:oracle:thin:@host:1521:DB\", \"User\",\"pass_01\");\nStatement statement = connection.createStatement();   \nresultset = statement.executeQuery(\"select * from employee\"); \nwhile (resultset.next()) {\n    System.out.println(resultset.getInt(1) + \" \" +\n    resultset.getInt(2) + \" \" + \n    resultset.getInt(3) + \" \" + \n    resultset.getString(4));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784074,"reputation":1439,"user_id":2395943,"accept_rate":50,"display_name":"sadhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370929661,"creation_date":1370929661,"answer_id":17037274,"question_id":17037239,"body_markdown":"Take off the ResultSet.next() while printing. This makes the RS cursor to point to a new row","title":"Not getting all rows in resultset","body":"<p>Take off the ResultSet.next() while printing. This makes the RS cursor to point to a new row</p>\n"},{"tags":[],"owner":{"account_id":19887552,"reputation":1,"user_id":14570262,"display_name":"nabinghatani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675253395,"creation_date":1617729996,"answer_id":66973543,"question_id":17037239,"body_markdown":"I had the same problem and fixed it by using the &#39;do...while&#39; loop instead of while. You can use the following approach.\r\n\r\n    ResultSet rs = statement.executeQuery(&quot;SELECT * from employee&quot;);\r\n    \r\n    if (!rs.next()) {\r\n     \tSystem.out.println(&quot;ResultSet is empty....&quot;); \r\n    } else { \r\n    \tdo { \r\n    \t\tString record = rs.getString(&quot;emp_name&quot;);\r\n    \t\tSystem.out.println(record); \r\n    \t   } while (rs.next());\r\n    \t}","title":"Not getting all rows in resultset","body":"<p>I had the same problem and fixed it by using the 'do...while' loop instead of while. You can use the following approach.</p>\n<pre><code>ResultSet rs = statement.executeQuery(&quot;SELECT * from employee&quot;);\n\nif (!rs.next()) {\n    System.out.println(&quot;ResultSet is empty....&quot;); \n} else { \n    do { \n        String record = rs.getString(&quot;emp_name&quot;);\n        System.out.println(record); \n       } while (rs.next());\n    }\n</code></pre>\n"}],"owner":{"account_id":1453627,"reputation":1816,"user_id":1369851,"accept_rate":67,"display_name":"Aquarius24"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4606,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":17037263,"answer_count":3,"score":0,"last_activity_date":1675253395,"creation_date":1370929507,"question_id":17037239,"body_markdown":"I am using the following code to get the data from the database in a resultset:\r\n\r\n    DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());   \r\n\t               \r\n    Connection connection = DriverManager.getConnection(\r\n\t\t\t\t\t\t&quot;jdbc:oracle:thin:@host:1521:DB&quot;, &quot;User&quot;,&quot;pass_01&quot;);\r\n    Statement statement = connection.createStatement();   \r\n    resultset = statement.executeQuery(&quot;select * from employee&quot;); \r\n    System.out.println(&quot;Records Exist &quot;+resultset.next()); \r\n    System.out.println(resultset.getRow());\r\n    while (resultset.next()) {\r\n        System.out.println(resultset.getInt(1) + &quot; &quot; +\r\n        resultset.getInt(2) + &quot; &quot; + \r\n        resultset.getInt(3) + &quot; &quot; + \r\n        resultset.getString(4));\r\n    }\r\n\r\nBut I am getting only one row though there are two rows in the database table. What am I missing here?","title":"Not getting all rows in resultset","body":"<p>I am using the following code to get the data from the database in a resultset:</p>\n\n<pre><code>DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());   \n\nConnection connection = DriverManager.getConnection(\n                    \"jdbc:oracle:thin:@host:1521:DB\", \"User\",\"pass_01\");\nStatement statement = connection.createStatement();   \nresultset = statement.executeQuery(\"select * from employee\"); \nSystem.out.println(\"Records Exist \"+resultset.next()); \nSystem.out.println(resultset.getRow());\nwhile (resultset.next()) {\n    System.out.println(resultset.getInt(1) + \" \" +\n    resultset.getInt(2) + \" \" + \n    resultset.getInt(3) + \" \" + \n    resultset.getString(4));\n}\n</code></pre>\n\n<p>But I am getting only one row though there are two rows in the database table. What am I missing here?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1580370493,"post_id":59981181,"comment_id":106076921,"body_markdown":"You replace the String your variable points to, you don&#39;t change the String itself","body":"You replace the String your variable points to, you don&#39;t change the String itself"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1580370903,"post_id":59981181,"comment_id":106077073,"body_markdown":"Does anybody know of a more specific dupe for this question? This &quot;how can I reassign a string variable if string is immutable&quot;-type question seems to come up a lot.","body":"Does anybody know of a more specific dupe for this question? This &quot;how can I reassign a string variable if string is immutable&quot;-type question seems to come up a lot."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1580371057,"post_id":59981181,"comment_id":106077140,"body_markdown":"I would liken this to having friends&#39; numbers stored in your phone: if you change the number you have stored, it doesn&#39;t change your friend&#39;s phone number (which is immutable), it just calls a different phone.","body":"I would liken this to having friends&#39; numbers stored in your phone: if you change the number you have stored, it doesn&#39;t change your friend&#39;s phone number (which is immutable), it just calls a different phone."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580370639,"creation_date":1580370392,"answer_id":59981205,"question_id":59981181,"body_markdown":"You have **two** `String` objects in that code: `&quot;java&quot;` and `&quot;world&quot;`. Each of them is immutable (unless you use reflection and rely on JDK internals). The `s` variable first points to the first one, then to the second one, but they&#39;re separate objects.\r\n\r\nAfter this:\r\n\r\n    String s=&quot;java&quot;;\r\n\r\nyou have something like this in memory:\r\n\r\n&lt;pre&gt;\r\n               +−−−−−−−−−−+\r\ns:Ref3243−−−−−&gt;| (string) |\r\n               +−−−−−−−−−−+      +−−−−−−−−−+\r\n               | value:   |−−−−−&gt;| (array) |\r\n               | ...      |      +−−−−−−−−−+\r\n               +−−−−−−−−−−+      | 0: &#39;j&#39;  |\r\n                                 | 1: &#39;a&#39;  |\r\n                                 | 2: &#39;v&#39;  |\r\n                                 | 3: &#39;a&#39;  |\r\n                                 +−−−−−−−−−+\r\n&lt;/pre&gt;\r\n\r\nThen after\r\n\r\n    s=&quot;world&quot;;\r\n\r\nyou have:\r\n\r\n&lt;pre&gt;\r\n               +−−−−−−−−−−+\r\n               | (string) |\r\n               +−−−−−−−−−−+      +−−−−−−−−−+\r\n               | value:   |−−−−−&gt;| (array) |\r\n               | ...      |      +−−−−−−−−−+\r\n               +−−−−−−−−−−+      | 0: &#39;j&#39;  |\r\n                                 | 1: &#39;a&#39;  |\r\n                                 | 2: &#39;v&#39;  |\r\n                                 | 3: &#39;a&#39;  |\r\n                                 +−−−−−−−−−+\r\n               +−−−−−−−−−−+   \r\ns:Ref6449−−−−−&gt;| (string) |   \r\n               +−−−−−−−−−−+      +−−−−−−−−−+\r\n               | value:   |−−−−−&gt;| (array) |\r\n               | ...      |      +−−−−−−−−−+\r\n               +−−−−−−−−−−+      | 0: &#39;w&#39;  |\r\n                                 | 1: &#39;o&#39;  |\r\n                                 | 2: &#39;r&#39;  |\r\n                                 | 3: &#39;l&#39;  |\r\n                                 | 4: &#39;d&#39;  |\r\n                                 +−−−−−−−−−+\r\n&lt;/pre&gt;\r\n\r\nSo the `println` at the end shows the contents of the second string.\r\n\r\n----\r\n\r\nThe `value` member shown above may or may not be called `value` in any given JDK implementation. It&#39;s a private data member.\r\n","title":"If String Objects are Immutable then why the content is changing?","body":"<p>You have <strong>two</strong> <code>String</code> objects in that code: <code>\"java\"</code> and <code>\"world\"</code>. Each of them is immutable (unless you use reflection and rely on JDK internals). The <code>s</code> variable first points to the first one, then to the second one, but they're separate objects.</p>\n\n<p>After this:</p>\n\n<pre><code>String s=\"java\";\n</code></pre>\n\n<p>you have something like this in memory:</p>\n\n<pre>\n               +−−−−−−−−−−+\ns:Ref3243−−−−−>| (string) |\n               +−−−−−−−−−−+      +−−−−−−−−−+\n               | value:   |−−−−−>| (array) |\n               | ...      |      +−−−−−−−−−+\n               +−−−−−−−−−−+      | 0: 'j'  |\n                                 | 1: 'a'  |\n                                 | 2: 'v'  |\n                                 | 3: 'a'  |\n                                 +−−−−−−−−−+\n</pre>\n\n<p>Then after</p>\n\n<pre><code>s=\"world\";\n</code></pre>\n\n<p>you have:</p>\n\n<pre>\n               +−−−−−−−−−−+\n               | (string) |\n               +−−−−−−−−−−+      +−−−−−−−−−+\n               | value:   |−−−−−>| (array) |\n               | ...      |      +−−−−−−−−−+\n               +−−−−−−−−−−+      | 0: 'j'  |\n                                 | 1: 'a'  |\n                                 | 2: 'v'  |\n                                 | 3: 'a'  |\n                                 +−−−−−−−−−+\n               +−−−−−−−−−−+   \ns:Ref6449−−−−−>| (string) |   \n               +−−−−−−−−−−+      +−−−−−−−−−+\n               | value:   |−−−−−>| (array) |\n               | ...      |      +−−−−−−−−−+\n               +−−−−−−−−−−+      | 0: 'w'  |\n                                 | 1: 'o'  |\n                                 | 2: 'r'  |\n                                 | 3: 'l'  |\n                                 | 4: 'd'  |\n                                 +−−−−−−−−−+\n</pre>\n\n<p>So the <code>println</code> at the end shows the contents of the second string.</p>\n\n<hr>\n\n<p>The <code>value</code> member shown above may or may not be called <code>value</code> in any given JDK implementation. It's a private data member.</p>\n"}],"owner":{"account_id":16764553,"reputation":1,"user_id":12118524,"display_name":"Firoz Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1580370755,"answer_count":1,"score":-2,"last_activity_date":1675253306,"creation_date":1580370306,"question_id":59981181,"body_markdown":"```\r\npublic class HelloWorld{\r\n\r\n     public static void main(String []args){\r\n         \r\n        String s=&quot;java&quot;;\r\n         s=&quot;world&quot;;\r\n         \r\n        System.out.println(s);\r\n     }\r\n}\r\n```\r\nOutput:\r\n&gt;world","title":"If String Objects are Immutable then why the content is changing?","body":"<pre><code>public class HelloWorld{\n\n     public static void main(String []args){\n         \n        String s=&quot;java&quot;;\n         s=&quot;world&quot;;\n         \n        System.out.println(s);\n     }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>world</p>\n</blockquote>\n"},{"tags":["java","spring-boot","hibernate","bytecode-manipulation"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1672664539,"post_id":74982566,"comment_id":132322147,"body_markdown":"you can check use properties like -&gt;  `lazy=&quot;proxy|no-proxy|false&quot;`","body":"you can check use properties like -&gt;  <code>lazy=&quot;proxy|no-proxy|false&quot;</code>"},{"owner":{"account_id":4518266,"reputation":513,"user_id":3672398,"display_name":"Blockost"},"score":0,"creation_date":1672667752,"post_id":74982566,"comment_id":132323051,"body_markdown":"Can you please indicate where I should set this property ? Also, I tried setting `spring.jpa.hibernate.bytecode.allow_enhancement_as_proxy: true` in application.yml, but it didn&#39;t work","body":"Can you please indicate where I should set this property ? Also, I tried setting <code>spring.jpa.hibernate.bytecode.allow_enhancement_as_proxy: true</code> in application.yml, but it didn&#39;t work"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672668563,"post_id":74982566,"comment_id":132323299,"body_markdown":"@Blockost have you checked `org.hibernate.Hibernate#isPropertyInitialized` method?","body":"@Blockost have you checked <code>org.hibernate.Hibernate#isPropertyInitialized</code> method?"},{"owner":{"account_id":4518266,"reputation":513,"user_id":3672398,"display_name":"Blockost"},"score":0,"creation_date":1672695169,"post_id":74982566,"comment_id":132330056,"body_markdown":"I did not know about this method, thank you for pointing that out. It will definitely help me at some point! \n\nHowever, my problem is that property getters are called in the mapper and it&#39;s not always guaranteed that a Hibernate session is available. So I get a `LazyInitializationException` there. Mappers are generated at build time by Mapstruct so I don&#39;t  have full control over them (and I don&#39;t want to add too much logic on Mapstruct side anyway)","body":"I did not know about this method, thank you for pointing that out. It will definitely help me at some point!   However, my problem is that property getters are called in the mapper and it&#39;s not always guaranteed that a Hibernate session is available. So I get a <code>LazyInitializationException</code> there. Mappers are generated at build time by Mapstruct so I don&#39;t  have full control over them (and I don&#39;t want to add too much logic on Mapstruct side anyway)"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1675252961,"post_id":74982566,"comment_id":132887499,"body_markdown":"Just to expand on @muhammedozbilici&#39;s suggestion, [the docs](https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/bytecode/BytecodeEnhancement.html) actually show you the way in which you can opt-out of each particular enhancement. And, since you&#39;re using compile-time enhancement with the Maven plugin, spring properties obviously won&#39;t work","body":"Just to expand on @muhammedozbilici&#39;s suggestion, <a href=\"https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/bytecode/BytecodeEnhancement.html\" rel=\"nofollow noreferrer\">the docs</a> actually show you the way in which you can opt-out of each particular enhancement. And, since you&#39;re using compile-time enhancement with the Maven plugin, spring properties obviously won&#39;t work"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1675253202,"post_id":74982566,"comment_id":132887561,"body_markdown":"Alternatively, [see here](https://medium.com/cloud-workers/mapstruct-and-hibernate-jpa-lazy-loading-1c1c6f416e) for making MapStruct work with Hibernate&#39;s lazy associations - in short, you *do* have some control over the mappers, just enough to make it work","body":"Alternatively, <a href=\"https://medium.com/cloud-workers/mapstruct-and-hibernate-jpa-lazy-loading-1c1c6f416e\" rel=\"nofollow noreferrer\">see here</a> for making MapStruct work with Hibernate&#39;s lazy associations - in short, you <i>do</i> have some control over the mappers, just enough to make it work"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675252805,"creation_date":1675252805,"answer_id":75309867,"question_id":74982566,"body_markdown":"If you want to avoid `LazyInitializationException` for your DTO mapping, you should rather try to avoid doing the mapping in Java code and instead use a solution that can take the mapping down to the HQL/SQL level.\r\n\r\nI think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for a possible use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(User.class)\r\n    public interface UserDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        Set&lt;RoleDto&gt; getRoles();\r\n\r\n        @EntityView(Role.class)\r\n        interface RoleDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`UserDto a = entityViewManager.find(entityManager, UserDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;UserDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Use proxies with Hibernate runtime bytecode enhancement","body":"<p>If you want to avoid <code>LazyInitializationException</code> for your DTO mapping, you should rather try to avoid doing the mapping in Java code and instead use a solution that can take the mapping down to the HQL/SQL level.</p>\n<p>I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for a possible use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(User.class)\npublic interface UserDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    Set&lt;RoleDto&gt; getRoles();\n\n    @EntityView(Role.class)\n    interface RoleDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>UserDto a = entityViewManager.find(entityManager, UserDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;UserDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":4518266,"reputation":513,"user_id":3672398,"display_name":"Blockost"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675252805,"creation_date":1672663314,"question_id":74982566,"body_markdown":"\r\nI&#39;m using Spring Boot 2.7.5 with Hibernate 5.6.12.Final and apply bytecode enhancement at build-time via `hibernate-enhance-maven-plugin`. It works great and prevents eagerly fetching `@OneToOne` relationships, as described here https://vladmihalcea.com/hibernate-lazytoone-annotation/. \r\n\r\nHowever, I found that all lazy relationships do not use proxies anymore but are fetched from the database when I use the getter (which has been instrumented by the maven plugin at build time). Basically, what I would like to do is to still use proxies with bytecode enhancement. Something similar is available at runtime https://in.relation.to/2019/07/30/bytecode-proxy/, but I can&#39;t find a way to do it at build-time.\r\n\r\nFor a bit of context, I need proxies for lazy-loaded properties because it allows me to apply custom logic in entity-&gt;dto mapper (using Mapstruct) based on whether the proxy has been initialized or not. In some cases, I must trigger an initialization manually if a Hibernate session is available (and prevent `LazyInitializationException`).\r\n\r\nAny suggestion is greatly appreciated!","title":"Use proxies with Hibernate runtime bytecode enhancement","body":"<p>I'm using Spring Boot 2.7.5 with Hibernate 5.6.12.Final and apply bytecode enhancement at build-time via <code>hibernate-enhance-maven-plugin</code>. It works great and prevents eagerly fetching <code>@OneToOne</code> relationships, as described here <a href=\"https://vladmihalcea.com/hibernate-lazytoone-annotation/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-lazytoone-annotation/</a>.</p>\n<p>However, I found that all lazy relationships do not use proxies anymore but are fetched from the database when I use the getter (which has been instrumented by the maven plugin at build time). Basically, what I would like to do is to still use proxies with bytecode enhancement. Something similar is available at runtime <a href=\"https://in.relation.to/2019/07/30/bytecode-proxy/\" rel=\"nofollow noreferrer\">https://in.relation.to/2019/07/30/bytecode-proxy/</a>, but I can't find a way to do it at build-time.</p>\n<p>For a bit of context, I need proxies for lazy-loaded properties because it allows me to apply custom logic in entity-&gt;dto mapper (using Mapstruct) based on whether the proxy has been initialized or not. In some cases, I must trigger an initialization manually if a Hibernate session is available (and prevent <code>LazyInitializationException</code>).</p>\n<p>Any suggestion is greatly appreciated!</p>\n"},{"tags":["java","spring","tomcat","jdbc","spring-jdbc"],"owner":{"account_id":27673274,"reputation":11,"user_id":21123629,"display_name":"Jan Mich&#225;lek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675252659,"creation_date":1675239128,"question_id":75307193,"body_markdown":"I&#39;m getting weird behavior of Spring JDBC with Tomcat and Oracle db. During initializing of db connection (from pool which is configured in Tomcat) the `driverClassName` is empty, so I get `ClassNotFoundException`. I&#39;m not sure why it is empty, the initialization during Tomcat startup looks OK. All ten connection have been initialized OK, but then a few hours later, the `driverClassName` is empty. Well, even the URL is empty.\r\n\r\nI enabled debugging of &#39;org.apache.tomcat.jdbc.pool&#39; to FINE to get more info, but no luck.\r\n\r\n```none\r\norg.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver Instantiating driver using class:  [url=]\r\norg.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass Attempting to load class[] from java.net.URLClassLoader@10bbd20a\r\norg.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass Attempting to load class[] from ParallelWebappClassLoader\r\n\r\norg.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver Unable to instantiate JDBC driver.\r\n\tjava.lang.ClassNotFoundException: Unable to load class:  from ClassLoader:java.net.URLClassLoader@10bbd20a;ClassLoader:ParallelWebappClassLoader\r\n  context: told-integration-tool\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10bbd20a\r\n```\r\n\r\nI&#39;m using:\r\n- Tomcat: 9.0.69\r\n- Spring JDBC: 5.3.22\r\n- ojdbc: 12.1.0.2.0\r\n\r\nWhat do you think? Where could a problem?\r\n","title":"Empty driverClassName in pool properties during initializing","body":"<p>I'm getting weird behavior of Spring JDBC with Tomcat and Oracle db. During initializing of db connection (from pool which is configured in Tomcat) the <code>driverClassName</code> is empty, so I get <code>ClassNotFoundException</code>. I'm not sure why it is empty, the initialization during Tomcat startup looks OK. All ten connection have been initialized OK, but then a few hours later, the <code>driverClassName</code> is empty. Well, even the URL is empty.</p>\n<p>I enabled debugging of 'org.apache.tomcat.jdbc.pool' to FINE to get more info, but no luck.</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver Instantiating driver using class:  [url=]\norg.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass Attempting to load class[] from java.net.URLClassLoader@10bbd20a\norg.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass Attempting to load class[] from ParallelWebappClassLoader\n\norg.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver Unable to instantiate JDBC driver.\n    java.lang.ClassNotFoundException: Unable to load class:  from ClassLoader:java.net.URLClassLoader@10bbd20a;ClassLoader:ParallelWebappClassLoader\n  context: told-integration-tool\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10bbd20a\n</code></pre>\n<p>I'm using:</p>\n<ul>\n<li>Tomcat: 9.0.69</li>\n<li>Spring JDBC: 5.3.22</li>\n<li>ojdbc: 12.1.0.2.0</li>\n</ul>\n<p>What do you think? Where could a problem?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1524373606,"post_id":5453263,"comment_id":86941354,"body_markdown":"check this answer https://stackoverflow.com/questions/32090921/deploying-maven-project-throws-java-util-zip-zipexception-invalid-loc-header-b/49962580#49962580","body":"check this answer <a href=\"https://stackoverflow.com/questions/32090921/deploying-maven-project-throws-java-util-zip-zipexception-invalid-loc-header-b/49962580#49962580\" title=\"deploying maven project throws java util zip zipexception invalid loc header b\">stackoverflow.com/questions/32090921/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1301269561,"creation_date":1301269561,"answer_id":5453293,"question_id":5453263,"body_markdown":"This means that javolution-5.4.2 jar in your local repository is corrupt. I checked the maven repo for the 5.4.2 version on this [link][1]. You can manually copy the jar from there to your local repository to see if that helps. \r\n\r\nYou can also try the following steps:-\r\n\r\n1. Delete the jar from your local repository `C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\\r\njavolution\\5.4.2\\javolution-5.4.2.jar`. Then maven will download it again for you.\r\n2. If the 5.4.2 version still has some issues after re-download then try the following [version][2].\r\n\r\n\r\n    `&lt;dependency&gt;\r\n              &lt;groupId&gt;javolution&lt;/groupId&gt;\r\n              &lt;artifactId&gt;javolution&lt;/artifactId&gt;\r\n              &lt;version&gt;5.5.1&lt;/version&gt;\r\n     &lt;/dependency&gt;`  \r\n\r\n\r\n  [1]: http://download.java.net/maven/2/javolution/javolution/5.4.2/\r\n  [2]: http://javolution.org/","title":"Compilation failure: error reading JAR file in ~/.m2/repository; invalid CEN header (bad signature)","body":"<p>This means that javolution-5.4.2 jar in your local repository is corrupt. I checked the maven repo for the 5.4.2 version on this <a href=\"http://download.java.net/maven/2/javolution/javolution/5.4.2/\" rel=\"noreferrer\">link</a>. You can manually copy the jar from there to your local repository to see if that helps. </p>\n\n<p>You can also try the following steps:-</p>\n\n<ol>\n<li>Delete the jar from your local repository <code>C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\\njavolution\\5.4.2\\javolution-5.4.2.jar</code>. Then maven will download it again for you.</li>\n<li><p>If the 5.4.2 version still has some issues after re-download then try the following <a href=\"http://javolution.org/\" rel=\"noreferrer\">version</a>.</p>\n\n<p><code>&lt;dependency&gt;\n          &lt;groupId&gt;javolution&lt;/groupId&gt;\n          &lt;artifactId&gt;javolution&lt;/artifactId&gt;\n          &lt;version&gt;5.5.1&lt;/version&gt;\n &lt;/dependency&gt;</code>  </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6231063,"reputation":41,"user_id":4847840,"display_name":"bhagyac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618748211,"creation_date":1618748211,"answer_id":67148416,"question_id":5453263,"body_markdown":"Steps that I had followed to resolved this issue:\r\n\r\n**STEP 1** : Deleted the jar from .m2-&gt;repository folder\r\n\r\n**STEP 2** : Deleted maven dependencies from Java Build Path-&gt;Libraries\r\n\r\n**STEP 3** : Right click on Project-&gt;Maven-&gt;Update Project","title":"Compilation failure: error reading JAR file in ~/.m2/repository; invalid CEN header (bad signature)","body":"<p>Steps that I had followed to resolved this issue:</p>\n<p><strong>STEP 1</strong> : Deleted the jar from .m2-&gt;repository folder</p>\n<p><strong>STEP 2</strong> : Deleted maven dependencies from Java Build Path-&gt;Libraries</p>\n<p><strong>STEP 3</strong> : Right click on Project-&gt;Maven-&gt;Update Project</p>\n"},{"tags":[],"owner":{"account_id":20976365,"reputation":11,"user_id":15412243,"display_name":"PriyankaSharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675224633,"creation_date":1675224633,"answer_id":75305566,"question_id":5453263,"body_markdown":"Faced the same issue while deploying the war on Apache Tomcat 10 + JDK 1.8 (same war worked fine with Tomcat 9+ JDK 1.8), could resolve the issue by changing JDK version to 17 (tomcat 10+ JDK 17)","title":"Compilation failure: error reading JAR file in ~/.m2/repository; invalid CEN header (bad signature)","body":"<p>Faced the same issue while deploying the war on Apache Tomcat 10 + JDK 1.8 (same war worked fine with Tomcat 9+ JDK 1.8), could resolve the issue by changing JDK version to 17 (tomcat 10+ JDK 17)</p>\n"}],"owner":{"account_id":208173,"reputation":1906,"user_id":458493,"accept_rate":67,"display_name":"Croydon Dias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84279,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":5453293,"answer_count":3,"score":31,"last_activity_date":1675252176,"creation_date":1301269090,"question_id":5453263,"body_markdown":"I&#39;m migrating our Java EE project to use Maven instead of Ant.\r\n\r\nFor the following dependency\r\n\r\n        &lt;dependency&gt;\r\n    \t  &lt;groupId&gt;javolution&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;javolution&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;5.4.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nI get the following error when trying to compile\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.\r\n    3.2:compile (default-compile) on project JAdaptiv: Compilation failure\r\n    [ERROR] error: error reading C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\\r\n    javolution\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\r\n    rg.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on\r\n     project JAdaptiv: Compilation failure\r\n    error: error reading C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\javoluti\r\n    on\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\r\n    \r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n    .java:213)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n    .java:153)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n    .java:145)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\r\n    ct(LifecycleModuleBuilder.java:84)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\r\n    ct(LifecycleModuleBuilder.java:59)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBu\r\n    ild(LifecycleStarter.java:183)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(Lifecycl\r\n    eStarter.java:161)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Laun\r\n    cher.java:290)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.jav\r\n    a:230)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(La\r\n    uncher.java:409)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:\r\n    352)\r\n    Caused by: org.apache.maven.plugin.CompilationFailureException: Compilation fail\r\n    ure\r\n    error: error reading C:\\Users\\Croydon.IVSTEL1\\.m2\\repository\\javolution\\javoluti\r\n    on\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\r\n    \r\n            at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompiler\r\n    Mojo.java:656)\r\n            at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(Default\r\n    BuildPluginManager.java:101)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n    .java:209)\r\n            ... 19 more\r\n    [ERROR]\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please rea\r\n    d the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureExc\r\n    eption\r\n\r\n","title":"Compilation failure: error reading JAR file in ~/.m2/repository; invalid CEN header (bad signature)","body":"<p>I'm migrating our Java EE project to use Maven instead of Ant.</p>\n<p>For the following dependency</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;javolution&lt;/groupId&gt;\n      &lt;artifactId&gt;javolution&lt;/artifactId&gt;\n      &lt;version&gt;5.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I get the following error when trying to compile</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.\n3.2:compile (default-compile) on project JAdaptiv: Compilation failure\n[ERROR] error: error reading C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\\njavolution\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\nrg.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on\n project JAdaptiv: Compilation failure\nerror: error reading C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\javoluti\non\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\n\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:213)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\nct(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\nct(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBu\nild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(Lifecycl\neStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Laun\ncher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.jav\na:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(La\nuncher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:\n352)\nCaused by: org.apache.maven.plugin.CompilationFailureException: Compilation fail\nure\nerror: error reading C:\\Users\\Croydon.IVSTEL1\\.m2\\repository\\javolution\\javoluti\non\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\n\n        at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompiler\nMojo.java:656)\n        at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(Default\nBuildPluginManager.java:101)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:209)\n        ... 19 more\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please rea\nd the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureExc\neption\n</code></pre>\n"},{"tags":["java","sql","database","spring-data-jpa","relational-database"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1675098570,"post_id":75287573,"comment_id":132850883,"body_markdown":"Is the `0` default value for the `owner` field in the JDBC example an id to a real person record? Or is that being used as a &quot;null&quot; or &quot;no-owner&quot; value?","body":"Is the <code>0</code> default value for the <code>owner</code> field in the JDBC example an id to a real person record? Or is that being used as a &quot;null&quot; or &quot;no-owner&quot; value?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675098785,"post_id":75287573,"comment_id":132850974,"body_markdown":"You can just assign the default values of your choice in the no-arg constructor.","body":"You can just assign the default values of your choice in the no-arg constructor."},{"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"score":0,"creation_date":1675160677,"post_id":75287573,"comment_id":132864118,"body_markdown":"@egeorge 0 in owner column indicates that the book is free, by default","body":"@egeorge 0 in owner column indicates that the book is free, by default"},{"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"score":0,"creation_date":1675162205,"post_id":75287573,"comment_id":132864614,"body_markdown":"@Chaosfire i can&#39;t make owner to zero by default it has Person type.","body":"@Chaosfire i can&#39;t make owner to zero by default it has Person type."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675167788,"post_id":75287573,"comment_id":132866305,"body_markdown":"You can set person with id 0 and use that for default. If not applicable you can change owner column to use `null` value as indication for free, then there is no need to set default value, since null is default.","body":"You can set person with id 0 and use that for default. If not applicable you can change owner column to use <code>null</code> value as indication for free, then there is no need to set default value, since null is default."},{"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"score":0,"creation_date":1675170140,"post_id":75287573,"comment_id":132867150,"body_markdown":"@Chaosfire Trick with 0 Person.id, i&#39;ve tryed. getting error\n`public Person() {\n        id = 0;\n    }\n    @Transactional\n    public void save(Book book)\n    {\n        bookRepository.save(book);\n        book.setOwner(new Person());\n    }\n`","body":"@Chaosfire Trick with 0 Person.id, i&#39;ve tryed. getting error <code>public Person() {         id = 0;     }     @Transactional     public void save(Book book)     {         bookRepository.save(book);         book.setOwner(new Person());     } </code>"},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1675174609,"post_id":75287573,"comment_id":132868706,"body_markdown":"Since `0` has a special value, and is not a real person record, there should not be any value in that field. `null` is the appropriate value for a join column that is not joined to an actual record. You will need to change the logic that interprets `0` as &quot;free&quot; to check for `null` instead. (I am surprised your database let you do that to begin with. Foreign key constraints will normally reject a value that is not present in the referred table.)","body":"Since <code>0</code> has a special value, and is not a real person record, there should not be any value in that field. <code>null</code> is the appropriate value for a join column that is not joined to an actual record. You will need to change the logic that interprets <code>0</code> as &quot;free&quot; to check for <code>null</code> instead. (I am surprised your database let you do that to begin with. Foreign key constraints will normally reject a value that is not present in the referred table.)"}],"answers":[{"tags":[],"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675252072,"creation_date":1675252072,"answer_id":75309726,"question_id":75287573,"body_markdown":"@egeorge answered my question. It is impossible to input 0 into owner table.\r\n\r\nSince 0 has a special value, and is not a real person record, there should not be any value in that field. null is the appropriate value for a join column that is not joined to an actual record. You will need to change the logic that interprets 0 as &quot;free&quot; to check for null instead. (I am surprised your database let you do that to begin with. Foreign key constraints will normally reject a value that is not present in the referred table.)","title":"How to save with default value using Spring JPA?","body":"<p>@egeorge answered my question. It is impossible to input 0 into owner table.</p>\n<p>Since 0 has a special value, and is not a real person record, there should not be any value in that field. null is the appropriate value for a join column that is not joined to an actual record. You will need to change the logic that interprets 0 as &quot;free&quot; to check for null instead. (I am surprised your database let you do that to begin with. Foreign key constraints will normally reject a value that is not present in the referred table.)</p>\n"}],"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75309726,"answer_count":1,"score":0,"last_activity_date":1675252072,"creation_date":1675097356,"question_id":75287573,"body_markdown":"Recently I switched into Spring Data JPA and I am wondering how is it possible to save a new object into the database with some default values.\r\n\r\nIn my example I have to save a book into my database, but, in the owner column, I need to put the value 0.\r\nSo, this how I did that with JDBC, and it works amazingly well.\r\n```\r\n   public void save(Book book){\r\n        jdbcTemplate.update(&quot;INSERT INTO book(name,author,yearOfProduction,owner) VALUES (?, ?, ?, 0)&quot;,\r\n                book.getName(),book.getAuthor(),book.getYearOfProduction());\r\n    }\r\n```\r\nNow I want to do the same with Spring Data JPA. Here is my save function:\r\n\r\n\r\n**BookService**\r\n```\r\n    @Transactional\r\n    public void save(Book book)\r\n    {\r\n        bookRepository.save(book);\r\n    }\r\n```\r\nI have two objects: Person and Book. The relationships are: one person can have many books and one book has one owner. Here are my `Person` and `Book` classes:\r\n\r\n**Book**\r\n```\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;,nullable = false)\r\n    private int id;\r\n    @Column(name=&quot;name&quot;)\r\n    @NotEmpty(message = &quot;Book name can&#39;t bee empty&quot;)\r\n    private String name;\r\n    @Column(name=&quot;author&quot;)\r\n    @NotEmpty(message = &quot;Author name can&#39;t bee empty&quot;)\r\n    private String author;\r\n    @Column(name=&quot;yearOfProduction&quot;)\r\n    @NotNull(message = &quot;Year of production can&#39;t bee empty&quot;)\r\n    @Min(value = 0,message = &quot;year must be more than 1900&quot;)\r\n    private int yearOfProduction;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;owner_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Person owner;\r\n\r\n    public Book(String name, String author, int yearOfProduction) {\r\n        this.name = name;\r\n        this.author = author;\r\n        this.yearOfProduction = yearOfProduction;\r\n    }\r\n    public Book(){\r\n\r\n    }\r\n\r\n    public Person getOwner() {\r\n        return owner;\r\n    }\r\n\r\n    public void setOwner(Person owner) {\r\n        this.owner = owner;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n\r\n    public int getYearOfProduction() {\r\n        return yearOfProduction;\r\n    }\r\n\r\n    public void setYearOfProduction(int yearOfProduction) {\r\n        this.yearOfProduction = yearOfProduction;\r\n    }\r\n}\r\n\r\n```\r\n**Person|**\r\n```\r\n@Entity\r\n@Table(name = &quot;person&quot;)\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n    @Column(name = &quot;name&quot;)\r\n    @NotEmpty(message = &quot;Please enter the name&quot;)\r\n    @Size(min = 1, max = 30, message = &quot;Length must be 2-30 symbols&quot;)\r\n    //make regex with ФИО;\r\n    private String name;\r\n    @Column(name = &quot;ageOfBirth&quot;)\r\n    @Min(value = 0, message = &quot;age of birth must be more than 0&quot;)\r\n    private int ageOfBirth;\r\n\r\n    @OneToMany(mappedBy = &quot;owner&quot;)\r\n    private List&lt;Book&gt; books;\r\n\r\n\r\n    public Person() {\r\n\r\n    }\r\n    public Person(String name, int ageOfBirth) {\r\n        this.name = name;\r\n        this.ageOfBirth = ageOfBirth;\r\n    }\r\n\r\n    public List&lt;Book&gt; getBooks() {\r\n        return books;\r\n    }\r\n\r\n    public void setBooks(List&lt;Book&gt; books) {\r\n        this.books = books;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getAgeOfBirth() {\r\n        return ageOfBirth;\r\n    }\r\n\r\n    public void setAgeOfBirth(int ageOfBirth) {\r\n        this.ageOfBirth = ageOfBirth;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI guess this is impossible to make with Spring Data JPA? So, I made it with by adding `JdbcTemplate` and I definitely think it is a hard-coding approach to use Spring DATA and `JdbcTemplate` together.\r\n\r\nIt&#39;s also unable to make with database. Down below i am using the default definition of postgres and still get null&#39;s when create a new book.\r\nhttps://www.baeldung.com/jpa-default-column-values\r\n```\r\ncreate table book(\r\n                     id int primary key generated by default as identity,\r\n                     name varchar(250) not null,\r\n                     author varchar(250) not null,\r\n                     yearOfProduction int not null,\r\n                     owner_id int default 0 references person(id)\r\n)\r\n\r\n```\r\n","title":"How to save with default value using Spring JPA?","body":"<p>Recently I switched into Spring Data JPA and I am wondering how is it possible to save a new object into the database with some default values.</p>\n<p>In my example I have to save a book into my database, but, in the owner column, I need to put the value 0.\nSo, this how I did that with JDBC, and it works amazingly well.</p>\n<pre><code>   public void save(Book book){\n        jdbcTemplate.update(&quot;INSERT INTO book(name,author,yearOfProduction,owner) VALUES (?, ?, ?, 0)&quot;,\n                book.getName(),book.getAuthor(),book.getYearOfProduction());\n    }\n</code></pre>\n<p>Now I want to do the same with Spring Data JPA. Here is my save function:</p>\n<p><strong>BookService</strong></p>\n<pre><code>    @Transactional\n    public void save(Book book)\n    {\n        bookRepository.save(book);\n    }\n</code></pre>\n<p>I have two objects: Person and Book. The relationships are: one person can have many books and one book has one owner. Here are my <code>Person</code> and <code>Book</code> classes:</p>\n<p><strong>Book</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;book&quot;)\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;,nullable = false)\n    private int id;\n    @Column(name=&quot;name&quot;)\n    @NotEmpty(message = &quot;Book name can't bee empty&quot;)\n    private String name;\n    @Column(name=&quot;author&quot;)\n    @NotEmpty(message = &quot;Author name can't bee empty&quot;)\n    private String author;\n    @Column(name=&quot;yearOfProduction&quot;)\n    @NotNull(message = &quot;Year of production can't bee empty&quot;)\n    @Min(value = 0,message = &quot;year must be more than 1900&quot;)\n    private int yearOfProduction;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;owner_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Person owner;\n\n    public Book(String name, String author, int yearOfProduction) {\n        this.name = name;\n        this.author = author;\n        this.yearOfProduction = yearOfProduction;\n    }\n    public Book(){\n\n    }\n\n    public Person getOwner() {\n        return owner;\n    }\n\n    public void setOwner(Person owner) {\n        this.owner = owner;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public int getYearOfProduction() {\n        return yearOfProduction;\n    }\n\n    public void setYearOfProduction(int yearOfProduction) {\n        this.yearOfProduction = yearOfProduction;\n    }\n}\n\n</code></pre>\n<p><strong>Person|</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;person&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n    @Column(name = &quot;name&quot;)\n    @NotEmpty(message = &quot;Please enter the name&quot;)\n    @Size(min = 1, max = 30, message = &quot;Length must be 2-30 symbols&quot;)\n    //make regex with ФИО;\n    private String name;\n    @Column(name = &quot;ageOfBirth&quot;)\n    @Min(value = 0, message = &quot;age of birth must be more than 0&quot;)\n    private int ageOfBirth;\n\n    @OneToMany(mappedBy = &quot;owner&quot;)\n    private List&lt;Book&gt; books;\n\n\n    public Person() {\n\n    }\n    public Person(String name, int ageOfBirth) {\n        this.name = name;\n        this.ageOfBirth = ageOfBirth;\n    }\n\n    public List&lt;Book&gt; getBooks() {\n        return books;\n    }\n\n    public void setBooks(List&lt;Book&gt; books) {\n        this.books = books;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAgeOfBirth() {\n        return ageOfBirth;\n    }\n\n    public void setAgeOfBirth(int ageOfBirth) {\n        this.ageOfBirth = ageOfBirth;\n    }\n}\n</code></pre>\n<p>I guess this is impossible to make with Spring Data JPA? So, I made it with by adding <code>JdbcTemplate</code> and I definitely think it is a hard-coding approach to use Spring DATA and <code>JdbcTemplate</code> together.</p>\n<p>It's also unable to make with database. Down below i am using the default definition of postgres and still get null's when create a new book.\n<a href=\"https://www.baeldung.com/jpa-default-column-values\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-default-column-values</a></p>\n<pre><code>create table book(\n                     id int primary key generated by default as identity,\n                     name varchar(250) not null,\n                     author varchar(250) not null,\n                     yearOfProduction int not null,\n                     owner_id int default 0 references person(id)\n)\n\n</code></pre>\n"},{"tags":["java","java-8","stringbuilder"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":3,"creation_date":1675228008,"post_id":75305882,"comment_id":132881131,"body_markdown":"Because your threads are adding data between printing out the length and printing out the content? Also, `StringBuilder` is not thread-safe, as you probably know.","body":"Because your threads are adding data between printing out the length and printing out the content? Also, <code>StringBuilder</code> is not thread-safe, as you probably know."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1675228128,"post_id":75305882,"comment_id":132881150,"body_markdown":"`StringBuffer` is thread-safe while `StringBuilder` is not. Also, you are printing the values of `sb` and `sbf` **before** the othr threads have terminated.","body":"<code>StringBuffer</code> is thread-safe while <code>StringBuilder</code> is not. Also, you are printing the values of <code>sb</code> and <code>sbf</code> <b>before</b> the othr threads have terminated."},{"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"score":0,"creation_date":1675228205,"post_id":75305882,"comment_id":132881164,"body_markdown":"Sorry, I did not understand first line. And yeah, I know it is not thread safe, but what is its relevance to length?","body":"Sorry, I did not understand first line. And yeah, I know it is not thread safe, but what is its relevance to length?"},{"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"score":0,"creation_date":1675228463,"post_id":75305882,"comment_id":132881202,"body_markdown":"@Abra if threads are not terminated, then why is it not giving its length? I mean how is it related to length? Sorry if it is dumb question, but I am just learning it now.","body":"@Abra if threads are not terminated, then why is it not giving its length? I mean how is it related to length? Sorry if it is dumb question, but I am just learning it now."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1675228521,"post_id":75305882,"comment_id":132881208,"body_markdown":"You are getting its length, and that length is zero at the moment you&#39;re printing it. Content gets added *after* you print the length. Multi-threading at work.","body":"You are getting its length, and that length is zero at the moment you&#39;re printing it. Content gets added <i>after</i> you print the length. Multi-threading at work."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1675236549,"post_id":75305882,"comment_id":132882584,"body_markdown":"Fundamentally: if you use a type that isn&#39;t thread safe across multiple threads, you shouldn&#39;t be surprised when the behavior is hard to understand or predict.","body":"Fundamentally: if you use a type that isn&#39;t thread safe across multiple threads, you shouldn&#39;t be surprised when the behavior is hard to understand or predict."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675245332,"post_id":75305882,"comment_id":132885162,"body_markdown":"As said by others, this code is not thread safe, so accessing an object modified by another thread can give you arbitrary inconsistent results. However, in this specific case, it’s (very likely) much simpler. The first string concatenation (`&quot;StringBuilder: &quot; + sb.length()`) is performed when the other threads have not even started their work, so the length predictably is zero. But `println` is a very expensive operation, slowing down the main thread enough, so the other threads make progress. You can change the first line to `System.out.println(&quot;StringBuilder: &quot; + sb.length() + &quot; &quot; + sb);`…","body":"As said by others, this code is not thread safe, so accessing an object modified by another thread can give you arbitrary inconsistent results. However, in this specific case, it’s (very likely) much simpler. The first string concatenation (<code>&quot;StringBuilder: &quot; + sb.length()</code>) is performed when the other threads have not even started their work, so the length predictably is zero. But <code>println</code> is a very expensive operation, slowing down the main thread enough, so the other threads make progress. You can change the first line to <code>System.out.println(&quot;StringBuilder: &quot; + sb.length() + &quot; &quot; + sb);</code>…"},{"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"score":0,"creation_date":1675248405,"post_id":75305882,"comment_id":132886185,"body_markdown":"@Holger If I do so, then length is still zero, but this time value is null, may you please explain what that means","body":"@Holger If I do so, then length is still zero, but this time value is null, may you please explain what that means"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675249304,"post_id":75305882,"comment_id":132886464,"body_markdown":"As said, this is the first thing the main thread does after starting the background threads and at this point of time, the background threads have not done anything yet. You get the same result if you replace `StringBuffer` with `StringBuilder`. It’s just a matter of timing. The first execution of `println` takes long enough for the background threads to do something.","body":"As said, this is the first thing the main thread does after starting the background threads and at this point of time, the background threads have not done anything yet. You get the same result if you replace <code>StringBuffer</code> with <code>StringBuilder</code>. It’s just a matter of timing. The first execution of <code>println</code> takes long enough for the background threads to do something."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675250343,"post_id":75305882,"comment_id":132886820,"body_markdown":"I mean, replace `StringBuilder` with `StringBuffer`, to demonstrate that it doesn’t matter that `StringBuilder` is not thread safe.","body":"I mean, replace <code>StringBuilder</code> with <code>StringBuffer</code>, to demonstrate that it doesn’t matter that <code>StringBuilder</code> is not thread safe."},{"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"score":0,"creation_date":1675250786,"post_id":75305882,"comment_id":132886933,"body_markdown":"@Holger Thanks, now picture is getting clearer","body":"@Holger Thanks, now picture is getting clearer"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1675252340,"post_id":75305882,"comment_id":132887324,"body_markdown":"I think you could see a difference between StringBuilder and StringBuffer if you let t1 and t2 finish (ie call t1.join() and t2.join()). StringBuffer will have all of the characters, with a different order for multiple runs, while StringBuilder will miss characters sometimes. It&#39;s pretty rare to miss characters with such small strings getting added though, so the upperlimit of your for loops needs to be higher to see the effect.","body":"I think you could see a difference between StringBuilder and StringBuffer if you let t1 and t2 finish (ie call t1.join() and t2.join()). StringBuffer will have all of the characters, with a different order for multiple runs, while StringBuilder will miss characters sometimes. It&#39;s pretty rare to miss characters with such small strings getting added though, so the upperlimit of your for loops needs to be higher to see the effect."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675251788,"creation_date":1675251788,"answer_id":75309681,"question_id":75305882,"body_markdown":"This is mainly a matter of timing. You can replace `StringBuilder` with `StringBuffer` and get a similar result.\r\n\r\nFor example, when I run the following program on my machine\r\n\r\n```java\r\npublic class ThreadStart {\r\n  static StringBuilder sb = new StringBuilder();\r\n\r\n  static long firstAction;\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    \r\n      Thread t1 = new Thread(() -&gt; firstAction = System.nanoTime());\r\n      long starting = System.nanoTime();\r\n      t1.start();\r\n      int length = sb.length();\r\n      long afterReadingLength = System.nanoTime();\r\n      String s = &quot;StringBuilder: &quot; + length;\r\n      long afterConcatenation = System.nanoTime();\r\n      System.out.println(s);\r\n      long andPrintln = System.nanoTime();\r\n      t1.join();\r\n\r\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\r\n                        &quot;thread&#39;s 1st action&quot;, firstAction - starting);\r\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\r\n                        &quot;reading sb.length()&quot;, afterReadingLength - starting);\r\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\r\n                        &quot;string concatenation&quot;, afterConcatenation - starting);\r\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\r\n                        &quot;println completion&quot;, andPrintln - starting);\r\n  }\r\n}\r\n```\r\n\r\nI get results similar to\r\n\r\n```lang-none\r\nStringBuilder: 0\r\ntime until thread&#39;s 1st action  399.000 ns\r\ntime until reading sb.length()  181.300 ns\r\ntime until string concatenation 195.300 ns\r\ntime until println completion   392.800 ns\r\n```\r\n\r\nthough numbers can vary significantly between runs. It demonstrates the *order of magnitude* of the operations involved.\r\n\r\nStarting a thread takes a significant amount of time. That’s one of the reasons  why we use thread pools; handing a task over to an already running worker thread is significantly faster than starting a new thread.\r\n\r\nSome of the work has been done within the `start()` method execution in the main thread. I did not try to separate it from the execution of `sb.length()` here, as the time measurement wouldn’t be precise enough. It’s clearly visible that the background thread is far away from doing anything by the time, `sb.length()` returned. Even the string concatenation is not expensive enough.\r\n\r\nBut after the execution of the first `println` call, we get into the same order of magnitude, so overlapping of the background thread’s activity with the main thread may happen after that.\r\n\r\n---\r\n\r\nIt’s still important to emphasize that you *must not* rely on any assumed timing and changing an object from multiple threads can give you unpredictable results.","title":"Why String Builder is returning its length zero, while returning some value of it","body":"<p>This is mainly a matter of timing. You can replace <code>StringBuilder</code> with <code>StringBuffer</code> and get a similar result.</p>\n<p>For example, when I run the following program on my machine</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadStart {\n  static StringBuilder sb = new StringBuilder();\n\n  static long firstAction;\n\n  public static void main(String[] args) throws InterruptedException {\n    \n      Thread t1 = new Thread(() -&gt; firstAction = System.nanoTime());\n      long starting = System.nanoTime();\n      t1.start();\n      int length = sb.length();\n      long afterReadingLength = System.nanoTime();\n      String s = &quot;StringBuilder: &quot; + length;\n      long afterConcatenation = System.nanoTime();\n      System.out.println(s);\n      long andPrintln = System.nanoTime();\n      t1.join();\n\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\n                        &quot;thread's 1st action&quot;, firstAction - starting);\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\n                        &quot;reading sb.length()&quot;, afterReadingLength - starting);\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\n                        &quot;string concatenation&quot;, afterConcatenation - starting);\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\n                        &quot;println completion&quot;, andPrintln - starting);\n  }\n}\n</code></pre>\n<p>I get results similar to</p>\n<pre class=\"lang-none prettyprint-override\"><code>StringBuilder: 0\ntime until thread's 1st action  399.000 ns\ntime until reading sb.length()  181.300 ns\ntime until string concatenation 195.300 ns\ntime until println completion   392.800 ns\n</code></pre>\n<p>though numbers can vary significantly between runs. It demonstrates the <em>order of magnitude</em> of the operations involved.</p>\n<p>Starting a thread takes a significant amount of time. That’s one of the reasons  why we use thread pools; handing a task over to an already running worker thread is significantly faster than starting a new thread.</p>\n<p>Some of the work has been done within the <code>start()</code> method execution in the main thread. I did not try to separate it from the execution of <code>sb.length()</code> here, as the time measurement wouldn’t be precise enough. It’s clearly visible that the background thread is far away from doing anything by the time, <code>sb.length()</code> returned. Even the string concatenation is not expensive enough.</p>\n<p>But after the execution of the first <code>println</code> call, we get into the same order of magnitude, so overlapping of the background thread’s activity with the main thread may happen after that.</p>\n<hr />\n<p>It’s still important to emphasize that you <em>must not</em> rely on any assumed timing and changing an object from multiple threads can give you unpredictable results.</p>\n"}],"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75309681,"answer_count":1,"score":-1,"last_activity_date":1675251788,"creation_date":1675227896,"question_id":75305882,"body_markdown":"In below program, String buffer is working as expected, but in case of string builder, the length of String builder is zero, while it&#39;s giving me some data. So my question is, if string builder has some value, how can it return its length zero?\r\n\r\n    public class SbVsSbf2 {\r\n    \r\n        static StringBuilder sb = new StringBuilder();\r\n        static StringBuffer sbf = new StringBuffer();\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            // Thread 1\r\n            Thread t1 = new Thread(() -&gt; {\r\n                for (int i = 0; i &lt;= 23; i++) {\r\n                    sb.append(i);\r\n                    sbf.append(i);\r\n                }\r\n            });\r\n    \r\n            // Thread 2\r\n            Thread t2 = new Thread(() -&gt; {\r\n                for (int i = 0; i &lt;= 23; i++) {\r\n                    sb.append(i);\r\n                    sbf.append(i);\r\n                }\r\n            });\r\n    \r\n            t1.start();\r\n            t2.start();\r\n    \r\n            System.out.println(&quot;StringBuilder: &quot; + sb.length());\r\n            System.out.println(&quot;StringBuffer: &quot; + sbf.length());\r\n            System.out.println(&quot;StringBuilder: &quot; + sb);\r\n            System.out.println(&quot;StringBuffer : &quot; + sbf);\r\n    \r\n        }\r\n    }","title":"Why String Builder is returning its length zero, while returning some value of it","body":"<p>In below program, String buffer is working as expected, but in case of string builder, the length of String builder is zero, while it's giving me some data. So my question is, if string builder has some value, how can it return its length zero?</p>\n<pre><code>public class SbVsSbf2 {\n\n    static StringBuilder sb = new StringBuilder();\n    static StringBuffer sbf = new StringBuffer();\n\n    public static void main(String[] args) throws InterruptedException {\n        // Thread 1\n        Thread t1 = new Thread(() -&gt; {\n            for (int i = 0; i &lt;= 23; i++) {\n                sb.append(i);\n                sbf.append(i);\n            }\n        });\n\n        // Thread 2\n        Thread t2 = new Thread(() -&gt; {\n            for (int i = 0; i &lt;= 23; i++) {\n                sb.append(i);\n                sbf.append(i);\n            }\n        });\n\n        t1.start();\n        t2.start();\n\n        System.out.println(&quot;StringBuilder: &quot; + sb.length());\n        System.out.println(&quot;StringBuffer: &quot; + sbf.length());\n        System.out.println(&quot;StringBuilder: &quot; + sb);\n        System.out.println(&quot;StringBuffer : &quot; + sbf);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","pre-signed-url"],"owner":{"account_id":15704117,"reputation":83,"user_id":11916606,"display_name":"Artem Causelove"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675251659,"creation_date":1675251659,"question_id":75309650,"body_markdown":"I want to create a signed request for external users so they can upload a file to my s3 bucket. I want to have the following limitations \r\n - URL expiration time\r\n - limit size range\r\n - content type\r\n\r\nI did some research and found out that there are 2 main ways to achieve this:\r\n1. Presigned URL(PutObject API) https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\r\n2. Post object(post policy with limitations specified)\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\r\n\r\nbut unfortunately, neither of these 2 ways supports all the limitations I need. To be precise, presigned URL doesn&#39;t allow to limit file range(only exact number of bytes to be uploaded), on the other hand, Post object doesn&#39;t support multipart upload(as far as I understood). \r\n\r\nSo the question is how can I achieve all the limitations and still be able to upload file in parallel(multipart) ?\r\n\r\nI&#39;m using java language and checked minio already, but didn&#39;t find anything. Maybe there is some API that is not supported in AWS SDK or minio implementations that allows doing this? ","title":"How to upload file in parallel to s3 bucket with size limitation using signed request","body":"<p>I want to create a signed request for external users so they can upload a file to my s3 bucket. I want to have the following limitations</p>\n<ul>\n<li>URL expiration time</li>\n<li>limit size range</li>\n<li>content type</li>\n</ul>\n<p>I did some research and found out that there are 2 main ways to achieve this:</p>\n<ol>\n<li>Presigned URL(PutObject API) <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html</a></li>\n<li>Post object(post policy with limitations specified)\n<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html</a></li>\n</ol>\n<p>but unfortunately, neither of these 2 ways supports all the limitations I need. To be precise, presigned URL doesn't allow to limit file range(only exact number of bytes to be uploaded), on the other hand, Post object doesn't support multipart upload(as far as I understood).</p>\n<p>So the question is how can I achieve all the limitations and still be able to upload file in parallel(multipart) ?</p>\n<p>I'm using java language and checked minio already, but didn't find anything. Maybe there is some API that is not supported in AWS SDK or minio implementations that allows doing this?</p>\n"},{"tags":["java","firebase","oauth","shopify"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675364116,"post_id":75307095,"comment_id":132918659,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":8110544,"reputation":1237,"user_id":6110804,"accept_rate":57,"display_name":"TwistedOwl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675251497,"creation_date":1675251497,"answer_id":75309615,"question_id":75307095,"body_markdown":"If you are on the Shopify Plus plan, you can auth user on your app backend using [Multipass][1]\r\n\r\nDocumentation starts with the description of the very similar problem to yours:\r\n\r\n&gt; You&#39;re the owner of a successful website forum. All of your users must log in to the forum to contribute. Members of your forum can then purchase a forum t-shirt through your Shopify store. Unfortunately, your users have to log in to the forum first and then log in to your Shopify store before they can purchase a t-shirt.\r\n\r\n&gt; Multipass login is for store owners who have a separate website and a Shopify store. It redirects users from the website to the Shopify store and seamlessly logs them in with the same email address they used to sign up for the original website. If no account with that email address exists yet, one is created. There is no need to synchronize any customer databases.\r\n\r\nBy the way, storing e-commerce data outside Shopify is not the cheapest thing to do so I would reconsider the requirements.\r\n\r\n  [1]: https://shopify.dev/api/multipass","title":"shopify authentication with firebase","body":"<p>If you are on the Shopify Plus plan, you can auth user on your app backend using <a href=\"https://shopify.dev/api/multipass\" rel=\"nofollow noreferrer\">Multipass</a></p>\n<p>Documentation starts with the description of the very similar problem to yours:</p>\n<blockquote>\n<p>You're the owner of a successful website forum. All of your users must log in to the forum to contribute. Members of your forum can then purchase a forum t-shirt through your Shopify store. Unfortunately, your users have to log in to the forum first and then log in to your Shopify store before they can purchase a t-shirt.</p>\n</blockquote>\n<blockquote>\n<p>Multipass login is for store owners who have a separate website and a Shopify store. It redirects users from the website to the Shopify store and seamlessly logs them in with the same email address they used to sign up for the original website. If no account with that email address exists yet, one is created. There is no need to synchronize any customer databases.</p>\n</blockquote>\n<p>By the way, storing e-commerce data outside Shopify is not the cheapest thing to do so I would reconsider the requirements.</p>\n"}],"owner":{"account_id":27673310,"reputation":1,"user_id":21123654,"display_name":"Aayush Mittal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675251497,"creation_date":1675238341,"question_id":75307095,"body_markdown":"I have been working on a project where I have to develop an android web application of a website that&#39;s made with Shopify. I used java for the purpose and in my app, I used firebase authentication because the client wants to store data in firebase. Now the problem is when the user logs in through my app, he gets to see the website view but needs to log in again since the website is on Shopify. Is there any way by which Shopify authenticates the user data from firebase data so the user doesn&#39;t have to provide details again?  \r\n\r\nI searched a lot about it and its something to do with OAuth and access tokens, but I have no clue how to integrate it. Someone, please help me with a solution.","title":"shopify authentication with firebase","body":"<p>I have been working on a project where I have to develop an android web application of a website that's made with Shopify. I used java for the purpose and in my app, I used firebase authentication because the client wants to store data in firebase. Now the problem is when the user logs in through my app, he gets to see the website view but needs to log in again since the website is on Shopify. Is there any way by which Shopify authenticates the user data from firebase data so the user doesn't have to provide details again?</p>\n<p>I searched a lot about it and its something to do with OAuth and access tokens, but I have no clue how to integrate it. Someone, please help me with a solution.</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1674143467,"post_id":75162525,"comment_id":132656162,"body_markdown":"When you create mocks with mockito it creates a dummy class which always returns null for all methods. You also need to mock the actual method calls so they return something useful (usually mocks as well). Something like:\n\nMockito.when(s3AsyncClient.selectObjectContent(any()).thenReturn(&lt;the future you wanna do work with&gt;);","body":"When you create mocks with mockito it creates a dummy class which always returns null for all methods. You also need to mock the actual method calls so they return something useful (usually mocks as well). Something like:  Mockito.when(s3AsyncClient.selectObjectContent(any()).thenRe&zwnj;&#8203;turn(&lt;the future you wanna do work with&gt;);"}],"answers":[{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675251302,"creation_date":1675251302,"answer_id":75309582,"question_id":75162525,"body_markdown":"I will share unit test for similar functionality and show you how to work with completable future when your code has `.join()` to continue the execution\r\n\r\n**Code under test**\r\n\r\n    private final S3AsyncClient s3AsyncClient;\r\n    \r\n    public long getSize(final S3AsyncClient client, final String bucket, final String key) {\r\n        return client.headObject(HeadObjectRequest.builder().bucket(bucket).key(key).build()).join().contentLength();\r\n      }\r\n\r\nand in this code the `client.headObject()` returns the `CompletableFuture&lt;HeadObjectResponse&gt;` which we are going to mock and test in **Unit Test as shown below**\r\n\r\n    @Test\r\n    @DisplayName(&quot;Verify getSize returns the size of the given key in the bucket&quot;)\r\n    void verifyGetSizeRetunsSizeOfFileInS3() {\r\n    CompletableFuture&lt;HeadObjectResponse&gt; headObjectResponseCompletableFuture =\r\n            CompletableFuture.completedFuture(HeadObjectResponse.builder().contentLength(20000L).build());\r\n    \r\n    when(s3AsyncClient.headObject(headObjectRequestArgumentCaptor.capture()))\r\n            .thenReturn(headObjectResponseCompletableFuture);\r\n    \r\n      long size = s3Service.getSize(s3AsyncClient, &quot;somebucket&quot;, &quot;someFile&quot;);\r\n    \r\n    assertThat(headObjectRequestArgumentCaptor.getValue()).hasFieldOrPropertyWithValue(&quot;bucket&quot;, &quot;somebucket&quot;)\r\n            .hasFieldOrPropertyWithValue(&quot;key&quot;, &quot;someFile&quot;);\r\n    \r\n    assertThat(size).isEqualTo(20000L);\r\n    }","title":"Mocking completable future","body":"<p>I will share unit test for similar functionality and show you how to work with completable future when your code has <code>.join()</code> to continue the execution</p>\n<p><strong>Code under test</strong></p>\n<pre><code>private final S3AsyncClient s3AsyncClient;\n\npublic long getSize(final S3AsyncClient client, final String bucket, final String key) {\n    return client.headObject(HeadObjectRequest.builder().bucket(bucket).key(key).build()).join().contentLength();\n  }\n</code></pre>\n<p>and in this code the <code>client.headObject()</code> returns the <code>CompletableFuture&lt;HeadObjectResponse&gt;</code> which we are going to mock and test in <strong>Unit Test as shown below</strong></p>\n<pre><code>@Test\n@DisplayName(&quot;Verify getSize returns the size of the given key in the bucket&quot;)\nvoid verifyGetSizeRetunsSizeOfFileInS3() {\nCompletableFuture&lt;HeadObjectResponse&gt; headObjectResponseCompletableFuture =\n        CompletableFuture.completedFuture(HeadObjectResponse.builder().contentLength(20000L).build());\n\nwhen(s3AsyncClient.headObject(headObjectRequestArgumentCaptor.capture()))\n        .thenReturn(headObjectResponseCompletableFuture);\n\n  long size = s3Service.getSize(s3AsyncClient, &quot;somebucket&quot;, &quot;someFile&quot;);\n\nassertThat(headObjectRequestArgumentCaptor.getValue()).hasFieldOrPropertyWithValue(&quot;bucket&quot;, &quot;somebucket&quot;)\n        .hasFieldOrPropertyWithValue(&quot;key&quot;, &quot;someFile&quot;);\n\nassertThat(size).isEqualTo(20000L);\n}\n</code></pre>\n"}],"owner":{"account_id":27565287,"reputation":11,"user_id":21037585,"display_name":"bostonjava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675251302,"creation_date":1674060241,"question_id":75162525,"body_markdown":"I am trying to create unit test for the following code.  The code utilizes AWS Java 2 SDK.  The code calls selectObjectContent in S3AsyncClient class which returns a CompletableFuture  (https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html). My test is returning null pointer exception while invoking future.get()\r\n\r\n\r\nHere is the method I want to unit test.\r\n\r\n```\r\n    public &lt;T&gt; Collection&lt;T&gt; queryWithS3Select(\r\n        List&lt;String&gt; s3Keys,\r\n        String s3SelectQuery,\r\n        InputSerialization inputSerialization,\r\n        Class&lt;T&gt; modelObject,\r\n        Comparator&lt;T&gt; comparator\r\n    ) throws ExecutionException, InterruptedException, IOException {\r\n        TreeSet&lt;T&gt; collection = new TreeSet&lt;&gt;(comparator);\r\n\r\n        List&lt;SelectObjectContentRequest&gt; selectObjectContentRequest =\r\n            buildS3SelectRequests(s3Keys, s3SelectQuery, inputSerialization);\r\n\r\n        S3SelectContentHandler s3SelectContentHandler = new S3SelectContentHandler();\r\n\r\n        StringBuilder selectionResult = new StringBuilder();\r\n\r\n        for (SelectObjectContentRequest socr : selectObjectContentRequest) {\r\n            CompletableFuture&lt;Void&gt; future = s3AsyncClient.selectObjectContent(socr, s3SelectContentHandler);\r\n            future.get();\r\n\r\n            s3SelectContentHandler.getReceivedEvents().forEach(e -&gt; {\r\n                if (e.sdkEventType() == SelectObjectContentEventStream.EventType.RECORDS) {\r\n                    RecordsEvent response = (RecordsEvent) e;\r\n                    selectionResult.append(response.payload().asUtf8String());\r\n                }\r\n            });\r\n        }\r\n\r\n        JsonParser parser = objectMapper.createParser(selectionResult.toString());\r\n        collection.addAll(Lists.newArrayList(objectMapper.readValues(parser, modelObject)));\r\n        return collection;\r\n    }\r\n\r\n```\r\n\r\nMy unit test so far.  Running this code I get null pointer exception at future.get() line above.  How can I use the mock s3AsyncClient to return a valid future?\r\n\r\n```\r\n    @Mock\r\n    private S3AsyncClient s3AsyncClient;\r\n\r\n    @Test\r\n    public void itShouldReturnQueryResults() throws IOException, ExecutionException, InterruptedException {\r\n        List&lt;String&gt; keysToQuery = List.of(&quot;key1&quot;, &quot;key2&quot;);\r\n\r\n        InputSerialization inputSerialization = InputSerialization.builder()\r\n                .json(JSONInput.builder().type(JSONType.DOCUMENT).build())\r\n                .compressionType(String.valueOf(CompressionType.GZIP))\r\n                .build();\r\n\r\n        Comparator&lt;S3SelectObject&gt; comparator =\r\n                Comparator.comparing((S3SelectObject e) -&gt; e.getStartTime());\r\n\r\n\r\n        underTest.queryWithS3Select(keysToQuery, S3_SELECT_QUERY, inputSerialization, S3SelectObject.class, comparator );\r\n\r\n    }\r\n\r\n```\r\n\r\nHere is the S3SelectContentHandler\r\n```\r\npublic class S3SelectContentHandler implements SelectObjectContentResponseHandler {\r\n\r\n    private SelectObjectContentResponse response;\r\n    private List&lt;SelectObjectContentEventStream&gt; receivedEvents = new ArrayList&lt;&gt;();\r\n    private Throwable exception;\r\n\r\n    @Override\r\n    public void responseReceived(SelectObjectContentResponse response) {\r\n        this.response = response;\r\n    }\r\n\r\n    @Override\r\n    public void onEventStream(SdkPublisher&lt;SelectObjectContentEventStream&gt; publisher) {\r\n        publisher.subscribe(receivedEvents::add);\r\n    }\r\n\r\n    @Override\r\n    public void exceptionOccurred(Throwable throwable) {\r\n        exception = throwable;\r\n    }\r\n\r\n    @Override\r\n    public void complete() {}\r\n\r\n    public List&lt;SelectObjectContentEventStream&gt; getReceivedEvents() {\r\n        return receivedEvents;\r\n    }\r\n}\r\n```","title":"Mocking completable future","body":"<p>I am trying to create unit test for the following code.  The code utilizes AWS Java 2 SDK.  The code calls selectObjectContent in S3AsyncClient class which returns a CompletableFuture  (<a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html</a>). My test is returning null pointer exception while invoking future.get()</p>\n<p>Here is the method I want to unit test.</p>\n<pre><code>    public &lt;T&gt; Collection&lt;T&gt; queryWithS3Select(\n        List&lt;String&gt; s3Keys,\n        String s3SelectQuery,\n        InputSerialization inputSerialization,\n        Class&lt;T&gt; modelObject,\n        Comparator&lt;T&gt; comparator\n    ) throws ExecutionException, InterruptedException, IOException {\n        TreeSet&lt;T&gt; collection = new TreeSet&lt;&gt;(comparator);\n\n        List&lt;SelectObjectContentRequest&gt; selectObjectContentRequest =\n            buildS3SelectRequests(s3Keys, s3SelectQuery, inputSerialization);\n\n        S3SelectContentHandler s3SelectContentHandler = new S3SelectContentHandler();\n\n        StringBuilder selectionResult = new StringBuilder();\n\n        for (SelectObjectContentRequest socr : selectObjectContentRequest) {\n            CompletableFuture&lt;Void&gt; future = s3AsyncClient.selectObjectContent(socr, s3SelectContentHandler);\n            future.get();\n\n            s3SelectContentHandler.getReceivedEvents().forEach(e -&gt; {\n                if (e.sdkEventType() == SelectObjectContentEventStream.EventType.RECORDS) {\n                    RecordsEvent response = (RecordsEvent) e;\n                    selectionResult.append(response.payload().asUtf8String());\n                }\n            });\n        }\n\n        JsonParser parser = objectMapper.createParser(selectionResult.toString());\n        collection.addAll(Lists.newArrayList(objectMapper.readValues(parser, modelObject)));\n        return collection;\n    }\n\n</code></pre>\n<p>My unit test so far.  Running this code I get null pointer exception at future.get() line above.  How can I use the mock s3AsyncClient to return a valid future?</p>\n<pre><code>    @Mock\n    private S3AsyncClient s3AsyncClient;\n\n    @Test\n    public void itShouldReturnQueryResults() throws IOException, ExecutionException, InterruptedException {\n        List&lt;String&gt; keysToQuery = List.of(&quot;key1&quot;, &quot;key2&quot;);\n\n        InputSerialization inputSerialization = InputSerialization.builder()\n                .json(JSONInput.builder().type(JSONType.DOCUMENT).build())\n                .compressionType(String.valueOf(CompressionType.GZIP))\n                .build();\n\n        Comparator&lt;S3SelectObject&gt; comparator =\n                Comparator.comparing((S3SelectObject e) -&gt; e.getStartTime());\n\n\n        underTest.queryWithS3Select(keysToQuery, S3_SELECT_QUERY, inputSerialization, S3SelectObject.class, comparator );\n\n    }\n\n</code></pre>\n<p>Here is the S3SelectContentHandler</p>\n<pre><code>public class S3SelectContentHandler implements SelectObjectContentResponseHandler {\n\n    private SelectObjectContentResponse response;\n    private List&lt;SelectObjectContentEventStream&gt; receivedEvents = new ArrayList&lt;&gt;();\n    private Throwable exception;\n\n    @Override\n    public void responseReceived(SelectObjectContentResponse response) {\n        this.response = response;\n    }\n\n    @Override\n    public void onEventStream(SdkPublisher&lt;SelectObjectContentEventStream&gt; publisher) {\n        publisher.subscribe(receivedEvents::add);\n    }\n\n    @Override\n    public void exceptionOccurred(Throwable throwable) {\n        exception = throwable;\n    }\n\n    @Override\n    public void complete() {}\n\n    public List&lt;SelectObjectContentEventStream&gt; getReceivedEvents() {\n        return receivedEvents;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","json","try-catch"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668165033,"post_id":74401014,"comment_id":131344853,"body_markdown":"Please be more explicit about what &quot;does not work&quot; mean: what behaviour *do* you observe and what do you want to happen instead? [Edit] your question to include that information.","body":"Please be more explicit about what &quot;does not work&quot; mean: what behaviour <i>do</i> you observe and what do you want to happen instead? <a href=\"https://stackoverflow.com/posts/74401014/edit\">Edit</a> your question to include that information."},{"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"score":0,"creation_date":1668165559,"post_id":74401014,"comment_id":131344997,"body_markdown":"@JoachimSauer I have updated the question to make it more clear","body":"@JoachimSauer I have updated the question to make it more clear"}],"answers":[{"tags":[],"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675165834,"creation_date":1675165834,"answer_id":75296717,"question_id":74401014,"body_markdown":"After too much trouble, the following worked\r\n\r\n          StringRequest productRateStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_PRODUCT_RATINGS,\r\n                response -&gt; {\r\n                    try{\r\n                        JSONObject ratingObject = new JSONObject(response);\r\n                        oneStar = Integer.parseInt(ratingObject.getString(&quot;oneStar&quot;));\r\n                        twoStars = Integer.parseInt(ratingObject.getString(&quot;twoStar&quot;));\r\n                        threeStars = Integer.parseInt(ratingObject.getString(&quot;threeStar&quot;));\r\n                        fourStars = Integer.parseInt(ratingObject.getString(&quot;fourStar&quot;));\r\n                        fiveStars = Integer.parseInt(ratingObject.getString(&quot;fiveStar&quot;));\r\n                        totalRating = Integer.parseInt(ratingObject.getString(&quot;totalRatings&quot;));\r\n\r\n                        averageRating.setText(String.format(&quot;%s/5&quot;, ratingObject.getString(&quot;averageRating&quot;)));\r\n                        oneStarCount.setText(String.format(&quot;(%s)&quot;, oneStar));\r\n                        twoStarCount.setText(String.format(&quot;(%s)&quot;, twoStars));\r\n                        threeStarCount.setText(String.format(&quot;(%s)&quot;, threeStars));\r\n                        fourStarCount.setText(String.format(&quot;(%s)&quot;, fourStars));\r\n                        fiveStarCount.setText(String.format(&quot;(%s)&quot;, fiveStars));\r\n\r\n                        productRatingBar.setRating((float) ratingObject.getDouble(&quot;averageRating&quot;));\r\n                        oneStarProgress.setProgress(calculateRatingPercentage(oneStar, totalRating));\r\n                        twoStarProgress.setProgress(calculateRatingPercentage(twoStars, totalRating));\r\n                        threeStarProgress.setProgress(calculateRatingPercentage(threeStars, totalRating));\r\n                        fourStarProgress.setProgress(calculateRatingPercentage(fourStars, totalRating));\r\n                        fiveStarProgress.setProgress(calculateRatingPercentage(fiveStars, totalRating));\r\n                        if(totalRating &lt; 1){\r\n                            productRateCount.setVisibility(View.GONE);\r\n                        }else if(totalRating &gt; 1){\r\n                            productRateCount.setVisibility(View.VISIBLE);\r\n                            productRateCount.setText(String.format(&quot;( %s ratings )&quot;, totalRating));\r\n                        }else{\r\n                            productRateCount.setVisibility(View.VISIBLE);\r\n                            productRateCount.setText(String.format(&quot;( %s rating )&quot;, totalRating));\r\n                        }\r\n                    }catch (JSONException e){\r\n                        e.printStackTrace();\r\n                    }\r\n                },\r\n                error -&gt; {\r\n                    Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\r\n                    Log.d(&quot;An Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\r\n                    try {\r\n                        byte[] htmlBodyBytes = error.networkResponse.data;\r\n                        Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\r\n                    } catch (NullPointerException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }){\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;id&quot;, id);\r\n                params.put(&quot;api_token&quot;, token);\r\n                return params;\r\n            }\r\n        };\r\n        productRateStringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                1000*5,\r\n                3,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        RequestQueue productRequestQue = Volley.newRequestQueue(this);\r\n        productRequestQue.add(productRateStringRequest);\r\n    }\r\nThe method called to calculate the percentage rating is implemented as follows\r\n\r\n          public int calculateRatingPercentage(int rating, int total){\r\n        int percentage = (int) (((float)(rating) / total) * 100);\r\n        return percentage;\r\n\r\n    }\r\nBasically what was happening is that the ratings were being returned as strings cast to floating points. the calculation was thus returning NAN as it was difficult converting the ratings to double. In my solution, I did the casting myself and then cast the result back to integer as that was what is needed ","title":"Calculating percentage within a try catch block","body":"<p>After too much trouble, the following worked</p>\n<pre><code>      StringRequest productRateStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_PRODUCT_RATINGS,\n            response -&gt; {\n                try{\n                    JSONObject ratingObject = new JSONObject(response);\n                    oneStar = Integer.parseInt(ratingObject.getString(&quot;oneStar&quot;));\n                    twoStars = Integer.parseInt(ratingObject.getString(&quot;twoStar&quot;));\n                    threeStars = Integer.parseInt(ratingObject.getString(&quot;threeStar&quot;));\n                    fourStars = Integer.parseInt(ratingObject.getString(&quot;fourStar&quot;));\n                    fiveStars = Integer.parseInt(ratingObject.getString(&quot;fiveStar&quot;));\n                    totalRating = Integer.parseInt(ratingObject.getString(&quot;totalRatings&quot;));\n\n                    averageRating.setText(String.format(&quot;%s/5&quot;, ratingObject.getString(&quot;averageRating&quot;)));\n                    oneStarCount.setText(String.format(&quot;(%s)&quot;, oneStar));\n                    twoStarCount.setText(String.format(&quot;(%s)&quot;, twoStars));\n                    threeStarCount.setText(String.format(&quot;(%s)&quot;, threeStars));\n                    fourStarCount.setText(String.format(&quot;(%s)&quot;, fourStars));\n                    fiveStarCount.setText(String.format(&quot;(%s)&quot;, fiveStars));\n\n                    productRatingBar.setRating((float) ratingObject.getDouble(&quot;averageRating&quot;));\n                    oneStarProgress.setProgress(calculateRatingPercentage(oneStar, totalRating));\n                    twoStarProgress.setProgress(calculateRatingPercentage(twoStars, totalRating));\n                    threeStarProgress.setProgress(calculateRatingPercentage(threeStars, totalRating));\n                    fourStarProgress.setProgress(calculateRatingPercentage(fourStars, totalRating));\n                    fiveStarProgress.setProgress(calculateRatingPercentage(fiveStars, totalRating));\n                    if(totalRating &lt; 1){\n                        productRateCount.setVisibility(View.GONE);\n                    }else if(totalRating &gt; 1){\n                        productRateCount.setVisibility(View.VISIBLE);\n                        productRateCount.setText(String.format(&quot;( %s ratings )&quot;, totalRating));\n                    }else{\n                        productRateCount.setVisibility(View.VISIBLE);\n                        productRateCount.setText(String.format(&quot;( %s rating )&quot;, totalRating));\n                    }\n                }catch (JSONException e){\n                    e.printStackTrace();\n                }\n            },\n            error -&gt; {\n                Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\n                Log.d(&quot;An Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\n                try {\n                    byte[] htmlBodyBytes = error.networkResponse.data;\n                    Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\n                } catch (NullPointerException e) {\n                    e.printStackTrace();\n                }\n            }){\n        protected Map&lt;String, String&gt; getParams() {\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;id&quot;, id);\n            params.put(&quot;api_token&quot;, token);\n            return params;\n        }\n    };\n    productRateStringRequest.setRetryPolicy(new DefaultRetryPolicy(\n            1000*5,\n            3,\n            DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n    RequestQueue productRequestQue = Volley.newRequestQueue(this);\n    productRequestQue.add(productRateStringRequest);\n}\n</code></pre>\n<p>The method called to calculate the percentage rating is implemented as follows</p>\n<pre><code>      public int calculateRatingPercentage(int rating, int total){\n    int percentage = (int) (((float)(rating) / total) * 100);\n    return percentage;\n\n}\n</code></pre>\n<p>Basically what was happening is that the ratings were being returned as strings cast to floating points. the calculation was thus returning NAN as it was difficult converting the ratings to double. In my solution, I did the casting myself and then cast the result back to integer as that was what is needed</p>\n"}],"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75296717,"answer_count":1,"score":0,"last_activity_date":1675251122,"creation_date":1668161905,"question_id":74401014,"body_markdown":"I&#39;m trying to calculate the percentage rating for products to use in updating a Bootstrap progress bar but my issue is that it only works when only one rating category returns a none zero value and does not work of more than one rating category returns a none zero value.\r\n\r\nHere is what I have tried so far:\r\n\r\n```java\r\nStringRequest productRateStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_PRODUCT_RATINGS,\r\n        response -&gt; {\r\n            try{\r\n                JSONObject ratingObject = new JSONObject(response);\r\n                oneStar = ratingObject.getInt(&quot;oneStar&quot;);\r\n                twoStars = ratingObject.getInt(&quot;twoStar&quot;);\r\n                threeStars = ratingObject.getInt(&quot;threeStar&quot;);\r\n                fourStars = ratingObject.getInt(&quot;fourStar&quot;);\r\n                fiveStars = ratingObject.getInt(&quot;fiveStar&quot;);\r\n                totalRating = ratingObject.getInt(&quot;totalRatings&quot;);\r\n\r\n                averageRating.setText(String.format(&quot;%s/5&quot;, ratingObject.getString(&quot;averageRating&quot;)));\r\n                oneStarCount.setText(String.format(&quot;(%s)&quot;, oneStar));\r\n                twoStarCount.setText(String.format(&quot;(%s)&quot;, twoStars));\r\n                threeStarCount.setText(String.format(&quot;(%s)&quot;, threeStars));\r\n                fourStarCount.setText(String.format(&quot;(%s)&quot;, fourStars));\r\n                fiveStarCount.setText(String.format(&quot;(%s)&quot;, fiveStars));\r\n                \r\n\r\n                productRatingBar.setRating((float) ratingObject.getDouble(&quot;averageRating&quot;));\r\n\r\n/*this is the part that is giving abnormal outputs when more than one non-zero value is returned( i.e oneStar and any other variable is none zero) and works well only when only one none-zero value is set (i.e only oneStar is none zero)*/\r\n                Log.d(&quot;Progress&quot;, &quot;inflateRating: &quot;+ fourStars / totalRating * 100); /* used this to test and it confirms what I thought. This line returns zero if more than one variable has a none zero value. in this case, the value for fourStars and fiveStars is 2*/\r\n                oneStarProgress.setProgress((oneStar / totalRating) * 100);\r\n                twoStarProgress.setProgress((twoStars / totalRating) * 100);\r\n                threeStarProgress.setProgress((threeStars / totalRating) * 100);\r\n                fourStarProgress.setProgress((fourStars / totalRating) * 100);\r\n                fiveStarProgress.setProgress((fiveStars / totalRating) * 100);\r\n                \r\n            }catch (JSONException e){\r\n                e.printStackTrace();\r\n            }\r\n        },\r\n        error -&gt; {\r\n            Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\r\n            Log.d(&quot;An Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\r\n            try {\r\n                byte[] htmlBodyBytes = error.networkResponse.data;\r\n                Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\r\n            } catch (NullPointerException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }){\r\n    protected Map&lt;String, String&gt; getParams() {\r\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;id&quot;, id);\r\n        params.put(&quot;api_token&quot;, token);\r\n        return params;\r\n    }\r\n};\r\nproductRateStringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n        1000*5,\r\n        3,\r\n        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\nRequestQueue productRequestQue = Volley.newRequestQueue(this);\r\nproductRequestQue.add(productRateStringRequest);\r\n```","title":"Calculating percentage within a try catch block","body":"<p>I'm trying to calculate the percentage rating for products to use in updating a Bootstrap progress bar but my issue is that it only works when only one rating category returns a none zero value and does not work of more than one rating category returns a none zero value.</p>\n<p>Here is what I have tried so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringRequest productRateStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_PRODUCT_RATINGS,\n        response -&gt; {\n            try{\n                JSONObject ratingObject = new JSONObject(response);\n                oneStar = ratingObject.getInt(&quot;oneStar&quot;);\n                twoStars = ratingObject.getInt(&quot;twoStar&quot;);\n                threeStars = ratingObject.getInt(&quot;threeStar&quot;);\n                fourStars = ratingObject.getInt(&quot;fourStar&quot;);\n                fiveStars = ratingObject.getInt(&quot;fiveStar&quot;);\n                totalRating = ratingObject.getInt(&quot;totalRatings&quot;);\n\n                averageRating.setText(String.format(&quot;%s/5&quot;, ratingObject.getString(&quot;averageRating&quot;)));\n                oneStarCount.setText(String.format(&quot;(%s)&quot;, oneStar));\n                twoStarCount.setText(String.format(&quot;(%s)&quot;, twoStars));\n                threeStarCount.setText(String.format(&quot;(%s)&quot;, threeStars));\n                fourStarCount.setText(String.format(&quot;(%s)&quot;, fourStars));\n                fiveStarCount.setText(String.format(&quot;(%s)&quot;, fiveStars));\n                \n\n                productRatingBar.setRating((float) ratingObject.getDouble(&quot;averageRating&quot;));\n\n/*this is the part that is giving abnormal outputs when more than one non-zero value is returned( i.e oneStar and any other variable is none zero) and works well only when only one none-zero value is set (i.e only oneStar is none zero)*/\n                Log.d(&quot;Progress&quot;, &quot;inflateRating: &quot;+ fourStars / totalRating * 100); /* used this to test and it confirms what I thought. This line returns zero if more than one variable has a none zero value. in this case, the value for fourStars and fiveStars is 2*/\n                oneStarProgress.setProgress((oneStar / totalRating) * 100);\n                twoStarProgress.setProgress((twoStars / totalRating) * 100);\n                threeStarProgress.setProgress((threeStars / totalRating) * 100);\n                fourStarProgress.setProgress((fourStars / totalRating) * 100);\n                fiveStarProgress.setProgress((fiveStars / totalRating) * 100);\n                \n            }catch (JSONException e){\n                e.printStackTrace();\n            }\n        },\n        error -&gt; {\n            Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\n            Log.d(&quot;An Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\n            try {\n                byte[] htmlBodyBytes = error.networkResponse.data;\n                Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\n            } catch (NullPointerException e) {\n                e.printStackTrace();\n            }\n        }){\n    protected Map&lt;String, String&gt; getParams() {\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;id&quot;, id);\n        params.put(&quot;api_token&quot;, token);\n        return params;\n    }\n};\nproductRateStringRequest.setRetryPolicy(new DefaultRetryPolicy(\n        1000*5,\n        3,\n        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\nRequestQueue productRequestQue = Volley.newRequestQueue(this);\nproductRequestQue.add(productRateStringRequest);\n</code></pre>\n"},{"tags":["java","android","google-maps"],"owner":{"account_id":27674805,"reputation":21,"user_id":21124854,"display_name":"mr_dark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675250909,"creation_date":1675250909,"question_id":75309519,"body_markdown":"It is drawing a polyline based on where the user was and now is but for some reason it creates another line which points from the new LatLng to the Origin(Where the user started) LatLng\r\n\r\nI am trying to figure out why but I am struggling to find the problem in my code\r\n[As you can see it draws a line as the user moves but on each new latlng it draws this really straight line to the latlng](https://i.stack.imgur.com/lxuYc.jpg)\r\n\r\n***Please Note: Yes I know some of the code I am using in LocationRequest is deprecated I will update it in the final version*** \r\n```\r\n\r\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private PolylineOptions polylineOptions;\r\n    private Polyline polyline;\r\n    private List&lt;LatLng&gt; points;\r\n    private LocationCallback locationCallback;\r\n    private FusedLocationProviderClient mFusedLocationClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                    .findFragmentById(R.id.map);\r\n            mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mFusedLocationClient.getLastLocation()\r\n                .addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Location location) {\r\n                        if (location != null) {\r\n                            LatLng currentLocation = new LatLng(location.getLatitude(), location.getLongitude());\r\n                            mMap.moveCamera(CameraUpdateFactory.newLatLng(currentLocation));\r\n                            mMap.setMyLocationEnabled(true);\r\n                            mFusedLocationClient.requestLocationUpdates(getLocationRequest(), locationCallback, Looper.myLooper());\r\n                        }\r\n                    }\r\n                });\r\n        points = new ArrayList&lt;&gt;();\r\n        polylineOptions = new PolylineOptions();\r\n        polylineOptions.color(Color.BLUE);\r\n        polylineOptions.width(5);\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                super.onLocationResult(locationResult);\r\n                if (locationResult != null) {\r\n                    Location location = locationResult.getLastLocation();\r\n                    LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n                    points.add(latLng);\r\n                    polylineOptions.addAll(points);\r\n                    if (polyline != null) {\r\n                        polyline.remove();\r\n                    }\r\n                    polyline = mMap.addPolyline(polylineOptions);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    private LocationRequest getLocationRequest() {\r\n        LocationRequest locationRequest = new LocationRequest();\r\n        locationRequest.setInterval(10);\r\n        locationRequest.setFastestInterval(3000);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        return locationRequest;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn Theory: \r\nThe app should draw a simple polyline based on where the user was and where they are now(simple right?)\r\n\r\nReality: \r\nIt is drawing a polyline based on where the user was and now is but for some reason it creates another line which points from the new LatLng to the Origin(Where the user started) LatLng\r\n\r\nTried: \r\nTried to find anything on the google docs even tried ChatGPT(not going to lie) but I can&#39;t find a solution.","title":"Android App that draws a path as user moves(Using Google Maps SDK)","body":"<p>It is drawing a polyline based on where the user was and now is but for some reason it creates another line which points from the new LatLng to the Origin(Where the user started) LatLng</p>\n<p>I am trying to figure out why but I am struggling to find the problem in my code\n<a href=\"https://i.stack.imgur.com/lxuYc.jpg\" rel=\"nofollow noreferrer\">As you can see it draws a line as the user moves but on each new latlng it draws this really straight line to the latlng</a></p>\n<p><em><strong>Please Note: Yes I know some of the code I am using in LocationRequest is deprecated I will update it in the final version</strong></em></p>\n<pre><code>\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    private PolylineOptions polylineOptions;\n    private Polyline polyline;\n    private List&lt;LatLng&gt; points;\n    private LocationCallback locationCallback;\n    private FusedLocationProviderClient mFusedLocationClient;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                    .findFragmentById(R.id.map);\n            mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mFusedLocationClient.getLastLocation()\n                .addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n                    @Override\n                    public void onSuccess(Location location) {\n                        if (location != null) {\n                            LatLng currentLocation = new LatLng(location.getLatitude(), location.getLongitude());\n                            mMap.moveCamera(CameraUpdateFactory.newLatLng(currentLocation));\n                            mMap.setMyLocationEnabled(true);\n                            mFusedLocationClient.requestLocationUpdates(getLocationRequest(), locationCallback, Looper.myLooper());\n                        }\n                    }\n                });\n        points = new ArrayList&lt;&gt;();\n        polylineOptions = new PolylineOptions();\n        polylineOptions.color(Color.BLUE);\n        polylineOptions.width(5);\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(LocationResult locationResult) {\n                super.onLocationResult(locationResult);\n                if (locationResult != null) {\n                    Location location = locationResult.getLastLocation();\n                    LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\n                    points.add(latLng);\n                    polylineOptions.addAll(points);\n                    if (polyline != null) {\n                        polyline.remove();\n                    }\n                    polyline = mMap.addPolyline(polylineOptions);\n                }\n            }\n        };\n    }\n\n    private LocationRequest getLocationRequest() {\n        LocationRequest locationRequest = new LocationRequest();\n        locationRequest.setInterval(10);\n        locationRequest.setFastestInterval(3000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        return locationRequest;\n    }\n\n}\n</code></pre>\n<p>In Theory:\nThe app should draw a simple polyline based on where the user was and where they are now(simple right?)</p>\n<p>Reality:\nIt is drawing a polyline based on where the user was and now is but for some reason it creates another line which points from the new LatLng to the Origin(Where the user started) LatLng</p>\n<p>Tried:\nTried to find anything on the google docs even tried ChatGPT(not going to lie) but I can't find a solution.</p>\n"},{"tags":["java","c#","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1675259142,"post_id":75280567,"comment_id":132889569,"body_markdown":"Duplicate of a couple of other SO posts, e.g. [Rfc2898DeriveBytes in java](https://stackoverflow.com/q/24405731), [Converting .Net decryption to Java](https://stackoverflow.com/questions/60387628/converting-net-decryption-to-java). *...The &quot;duplicate&quot; answer shows how to write the decrypt method, but I need the encrypt method, as I wrote above....*: Note that key derivation via `Rfc2898DeriveBytes` is the same for encryption and decryption.","body":"Duplicate of a couple of other SO posts, e.g. <a href=\"https://stackoverflow.com/q/24405731\">Rfc2898DeriveBytes in java</a>, <a href=\"https://stackoverflow.com/questions/60387628/converting-net-decryption-to-java\">Converting .Net decryption to Java</a>. <i>...The &quot;duplicate&quot; answer shows how to write the decrypt method, but I need the encrypt method, as I wrote above....</i>: Note that key derivation via <code>Rfc2898DeriveBytes</code> is the same for encryption and decryption."}],"owner":{"account_id":25887243,"reputation":9,"user_id":19615137,"display_name":"dobtyimolodec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675250706,"creation_date":1675056836,"question_id":75280567,"body_markdown":"I am trying to reproduce the following encryption/decryption algorithm in Java, but I can&#39;t find the alternatives for multiple methods such as `Rfc2898DeriveBytes()`.  \r\nHow do I do this?  \r\nCode in c#:\r\n```\r\nusing System;\r\nusing System.IO;\r\nusing System.Security.Cryptography;\r\nusing System.Text;\r\n\r\nnamespace myCompany.Entities.Configuration\r\n{\r\n    public static class VideoSourceCryptoHelper\r\n    {\r\n        private const string EncryptionKey = &quot;MyWord&quot;;\r\n        private static readonly byte[] Salt = {0x49, 0x76, 0x61, 0x6e, 0x20, 0x4d, 0x65, 0x64, 0x76, 0x65, 0x64, 0x65, 0x76};\r\n        private const string ErrorText = &quot;***ERROR***&quot;;\r\n\r\n        **public static string Encrypt(string encryptString, bool suppressException = false)**\r\n        {\r\n            if (string.IsNullOrEmpty(encryptString))\r\n            {\r\n                return string.Empty;\r\n            }\r\n            try\r\n            {\r\n                var clearBytes = Encoding.Unicode.GetBytes(encryptString);\r\n                using (var encryption = Aes.Create())\r\n                {\r\n                    var pdb = new Rfc2898DeriveBytes(EncryptionKey, Salt);\r\n                    encryption.Key = pdb.GetBytes(32);\r\n                    encryption.IV = pdb.GetBytes(16);\r\n                    using (var ms = new MemoryStream())\r\n                    {\r\n                        using (var cs = new CryptoStream(ms, encryption.CreateEncryptor(), CryptoStreamMode.Write))\r\n                        {\r\n                            cs.Write(clearBytes, 0, clearBytes.Length);\r\n                        }\r\n\r\n                        encryptString = Convert.ToBase64String(ms.ToArray());\r\n                    }\r\n                }\r\n            }\r\n            catch(Exception)\r\n            {\r\n                if (suppressException)\r\n                    return ErrorText;\r\n                else\r\n                    throw;\r\n            }\r\n            return encryptString;\r\n        }\r\n```\r\n\r\nCan anyone give similar code in java that will do what C# does?\r\n\r\nThe &quot;duplicate&quot; answer shows how to write the decrypt method, but I need the encrypt method, as I wrote above.\r\n\r\n","title":"Convert c# Rfc2898DeriveBytes code in java","body":"<p>I am trying to reproduce the following encryption/decryption algorithm in Java, but I can't find the alternatives for multiple methods such as <code>Rfc2898DeriveBytes()</code>.<br />\nHow do I do this?<br />\nCode in c#:</p>\n<pre><code>using System;\nusing System.IO;\nusing System.Security.Cryptography;\nusing System.Text;\n\nnamespace myCompany.Entities.Configuration\n{\n    public static class VideoSourceCryptoHelper\n    {\n        private const string EncryptionKey = &quot;MyWord&quot;;\n        private static readonly byte[] Salt = {0x49, 0x76, 0x61, 0x6e, 0x20, 0x4d, 0x65, 0x64, 0x76, 0x65, 0x64, 0x65, 0x76};\n        private const string ErrorText = &quot;***ERROR***&quot;;\n\n        **public static string Encrypt(string encryptString, bool suppressException = false)**\n        {\n            if (string.IsNullOrEmpty(encryptString))\n            {\n                return string.Empty;\n            }\n            try\n            {\n                var clearBytes = Encoding.Unicode.GetBytes(encryptString);\n                using (var encryption = Aes.Create())\n                {\n                    var pdb = new Rfc2898DeriveBytes(EncryptionKey, Salt);\n                    encryption.Key = pdb.GetBytes(32);\n                    encryption.IV = pdb.GetBytes(16);\n                    using (var ms = new MemoryStream())\n                    {\n                        using (var cs = new CryptoStream(ms, encryption.CreateEncryptor(), CryptoStreamMode.Write))\n                        {\n                            cs.Write(clearBytes, 0, clearBytes.Length);\n                        }\n\n                        encryptString = Convert.ToBase64String(ms.ToArray());\n                    }\n                }\n            }\n            catch(Exception)\n            {\n                if (suppressException)\n                    return ErrorText;\n                else\n                    throw;\n            }\n            return encryptString;\n        }\n</code></pre>\n<p>Can anyone give similar code in java that will do what C# does?</p>\n<p>The &quot;duplicate&quot; answer shows how to write the decrypt method, but I need the encrypt method, as I wrote above.</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648909660,"creation_date":1648908985,"answer_id":71718306,"question_id":71717976,"body_markdown":"You have no JUNIT test code. You should have code that uses **org.junit.jupiter.api.*** \r\n\r\nInstead of using a MOCK, call the actual **S3 Async code** in a **@TestInstance** integration test to make sure it works. For example, here is my test in IntelliJ.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, my test passed and I Know my code works -- which is the point of this AWS integration test.\r\n\r\nIf my code failed or threw an exception for some reason, my test would fail. For example, if I passed a bucket name that does not exist, I would get: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is my Java Amazon S3 Async code: \r\n\r\n    package com.example.s3.async;\r\n    \r\n    import software.amazon.awssdk.core.async.AsyncRequestBody;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3AsyncClient;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectResponse;\r\n    import java.nio.file.Paths;\r\n    import java.util.concurrent.CompletableFuture;\r\n    // snippet-end:[s3.java2.async_ops.import]\r\n    // snippet-start:[s3.java2.async_ops.main]\r\n    \r\n    /**\r\n     * To run this AWS code example, ensure that you have setup your development environment, including your AWS credentials.\r\n     *\r\n     * For information, see this documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class S3AsyncOps {\r\n    \r\n         public static void main(String[] args) {\r\n    \r\n             final String USAGE = &quot;\\n&quot; +\r\n                     &quot;Usage:\\n&quot; +\r\n                     &quot;    S3AsyncOps &lt;bucketName&gt; &lt;key&gt; &lt;path&gt;\\n\\n&quot; +\r\n                     &quot;Where:\\n&quot; +\r\n                     &quot;    bucketName - the name of the Amazon S3 bucket (for example, bucket1). \\n\\n&quot; +\r\n                     &quot;    key - the name of the object (for example, book.pdf). \\n&quot; +\r\n                     &quot;    path - the local path to the file (for example, C:/AWS/book.pdf). \\n&quot;;\r\n    \r\n             if (args.length != 3) {\r\n                 System.out.println(USAGE);\r\n                 System.exit(1);\r\n             }\r\n    \r\n             String bucketName = args[0];\r\n             String key = args[1];\r\n             String path = args[2];\r\n    \r\n             Region region = Region.US_WEST_2;\r\n             S3AsyncClient client = S3AsyncClient.builder()\r\n                     .region(region)\r\n                     .build();\r\n    \r\n             putObjectAsync(client, bucketName,  key, path);\r\n         }\r\n    \r\n         public static void putObjectAsync(S3AsyncClient client,String bucketName,  String key, String path) {\r\n    \r\n            PutObjectRequest objectRequest = PutObjectRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .key(key)\r\n                    .build();\r\n    \r\n            // Put the object into the bucket\r\n            CompletableFuture&lt;PutObjectResponse&gt; future = client.putObject(objectRequest,\r\n                    AsyncRequestBody.fromFile(Paths.get(path))\r\n            );\r\n            future.whenComplete((resp, err) -&gt; {\r\n                try {\r\n                    if (resp != null) {\r\n                        System.out.println(&quot;Object uploaded. Details: &quot; + resp);\r\n                    } else {\r\n                        // Handle error\r\n                        err.printStackTrace();\r\n                    }\r\n                } finally {\r\n                    // Only close the client when you are completely done with it\r\n                    client.close();\r\n                }\r\n            });\r\n    \r\n            future.join();\r\n        }\r\n    }\r\n\r\n\r\nNow for my test, i want to call this code, not MOCK it. I have setup my test in IntelliJ like this, \r\n\r\n    import org.junit.jupiter.api.*;\r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import com.example.s3.async.*;\r\n    import software.amazon.awssdk.services.s3.S3AsyncClient;\r\n    \r\n    @TestInstance(TestInstance.Lifecycle.PER_METHOD)\r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    public class AmazonS3AsyncTest {\r\n\r\n        private static S3AsyncClient s3AsyncClient;\r\n    \r\n        // Define the data members required for the tests\r\n        private static String bucketName = &quot;&quot;;\r\n        private static String objectKey = &quot;&quot;;\r\n        private static String objectPath = &quot;&quot;;\r\n        private static String toBucket = &quot;&quot;;\r\n    \r\n    \r\n    \r\n        @BeforeAll\r\n        public static void setUp() throws IOException {\r\n    \r\n            // Run tests on Real AWS Resources\r\n    \r\n            s3AsyncClient = S3AsyncClient.builder()\r\n                    .region(Region.US_EAST_1)\r\n                    .build();\r\n    \r\n    \r\n            try (InputStream input = AmazonS3Test.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)) {\r\n    \r\n                Properties prop = new Properties();\r\n    \r\n                if (input == null) {\r\n                    System.out.println(&quot;Sorry, unable to find config.properties&quot;);\r\n                    return;\r\n                }\r\n    \r\n                //load a properties file from class path, inside static method\r\n                prop.load(input);\r\n    \r\n                // Populate the data members required for all tests\r\n                bucketName = prop.getProperty(&quot;bucketName&quot;);\r\n                objectKey = prop.getProperty(&quot;objectKey&quot;);\r\n                objectPath= prop.getProperty(&quot;objectPath&quot;);\r\n                toBucket = prop.getProperty(&quot;toBucket&quot;);\r\n    \r\n    \r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        @Order(1)\r\n        public void whenInitializingAWSS3Service_thenNotNull() {\r\n            assertNotNull(s3AsyncClient);\r\n            System.out.println(&quot;Test 1 passed&quot;);\r\n        }\r\n    \r\n        @Test\r\n        @Order(2)\r\n        public void putObject() {\r\n    \r\n            S3AsyncOps.putObjectAsync(s3AsyncClient, bucketName,  objectKey, objectPath);\r\n            System.out.println(&quot;Test 2 passed&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oUVWk.png\r\n  [2]: https://i.stack.imgur.com/n1pwf.png","title":"How to mock S3AsyncClient in Junit","body":"<p>You have no JUNIT test code. You should have code that uses <strong>org.junit.jupiter.api.</strong>*</p>\n<p>Instead of using a MOCK, call the actual <strong>S3 Async code</strong> in a <strong>@TestInstance</strong> integration test to make sure it works. For example, here is my test in IntelliJ.</p>\n<p><a href=\"https://i.stack.imgur.com/oUVWk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oUVWk.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, my test passed and I Know my code works -- which is the point of this AWS integration test.</p>\n<p>If my code failed or threw an exception for some reason, my test would fail. For example, if I passed a bucket name that does not exist, I would get:</p>\n<p><a href=\"https://i.stack.imgur.com/n1pwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n1pwf.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my Java Amazon S3 Async code:</p>\n<pre><code>package com.example.s3.async;\n\nimport software.amazon.awssdk.core.async.AsyncRequestBody;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\nimport software.amazon.awssdk.services.s3.model.PutObjectResponse;\nimport java.nio.file.Paths;\nimport java.util.concurrent.CompletableFuture;\n// snippet-end:[s3.java2.async_ops.import]\n// snippet-start:[s3.java2.async_ops.main]\n\n/**\n * To run this AWS code example, ensure that you have setup your development environment, including your AWS credentials.\n *\n * For information, see this documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class S3AsyncOps {\n\n     public static void main(String[] args) {\n\n         final String USAGE = &quot;\\n&quot; +\n                 &quot;Usage:\\n&quot; +\n                 &quot;    S3AsyncOps &lt;bucketName&gt; &lt;key&gt; &lt;path&gt;\\n\\n&quot; +\n                 &quot;Where:\\n&quot; +\n                 &quot;    bucketName - the name of the Amazon S3 bucket (for example, bucket1). \\n\\n&quot; +\n                 &quot;    key - the name of the object (for example, book.pdf). \\n&quot; +\n                 &quot;    path - the local path to the file (for example, C:/AWS/book.pdf). \\n&quot;;\n\n         if (args.length != 3) {\n             System.out.println(USAGE);\n             System.exit(1);\n         }\n\n         String bucketName = args[0];\n         String key = args[1];\n         String path = args[2];\n\n         Region region = Region.US_WEST_2;\n         S3AsyncClient client = S3AsyncClient.builder()\n                 .region(region)\n                 .build();\n\n         putObjectAsync(client, bucketName,  key, path);\n     }\n\n     public static void putObjectAsync(S3AsyncClient client,String bucketName,  String key, String path) {\n\n        PutObjectRequest objectRequest = PutObjectRequest.builder()\n                .bucket(bucketName)\n                .key(key)\n                .build();\n\n        // Put the object into the bucket\n        CompletableFuture&lt;PutObjectResponse&gt; future = client.putObject(objectRequest,\n                AsyncRequestBody.fromFile(Paths.get(path))\n        );\n        future.whenComplete((resp, err) -&gt; {\n            try {\n                if (resp != null) {\n                    System.out.println(&quot;Object uploaded. Details: &quot; + resp);\n                } else {\n                    // Handle error\n                    err.printStackTrace();\n                }\n            } finally {\n                // Only close the client when you are completely done with it\n                client.close();\n            }\n        });\n\n        future.join();\n    }\n}\n</code></pre>\n<p>Now for my test, i want to call this code, not MOCK it. I have setup my test in IntelliJ like this,</p>\n<pre><code>import org.junit.jupiter.api.*;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport software.amazon.awssdk.regions.Region;\nimport java.io.*;\nimport java.util.*;\nimport com.example.s3.async.*;\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\n\n@TestInstance(TestInstance.Lifecycle.PER_METHOD)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class AmazonS3AsyncTest {\n\n    private static S3AsyncClient s3AsyncClient;\n\n    // Define the data members required for the tests\n    private static String bucketName = &quot;&quot;;\n    private static String objectKey = &quot;&quot;;\n    private static String objectPath = &quot;&quot;;\n    private static String toBucket = &quot;&quot;;\n\n\n\n    @BeforeAll\n    public static void setUp() throws IOException {\n\n        // Run tests on Real AWS Resources\n\n        s3AsyncClient = S3AsyncClient.builder()\n                .region(Region.US_EAST_1)\n                .build();\n\n\n        try (InputStream input = AmazonS3Test.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)) {\n\n            Properties prop = new Properties();\n\n            if (input == null) {\n                System.out.println(&quot;Sorry, unable to find config.properties&quot;);\n                return;\n            }\n\n            //load a properties file from class path, inside static method\n            prop.load(input);\n\n            // Populate the data members required for all tests\n            bucketName = prop.getProperty(&quot;bucketName&quot;);\n            objectKey = prop.getProperty(&quot;objectKey&quot;);\n            objectPath= prop.getProperty(&quot;objectPath&quot;);\n            toBucket = prop.getProperty(&quot;toBucket&quot;);\n\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    @Test\n    @Order(1)\n    public void whenInitializingAWSS3Service_thenNotNull() {\n        assertNotNull(s3AsyncClient);\n        System.out.println(&quot;Test 1 passed&quot;);\n    }\n\n    @Test\n    @Order(2)\n    public void putObject() {\n\n        S3AsyncOps.putObjectAsync(s3AsyncClient, bucketName,  objectKey, objectPath);\n        System.out.println(&quot;Test 2 passed&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675250510,"creation_date":1675250510,"answer_id":75309437,"question_id":71717976,"body_markdown":"You could use Mockito to mock the S3AsyncClient operations. \r\n\r\n    @Mock\r\n    private S3AsyncClient s3AsyncClient;\r\n\r\nBelow is the unit test case for my upload file implementation. It will surely give you insights how it is done and it can be done.\r\n\r\n\r\n    @Nested\r\n      class UploadFile {\r\n        @Captor\r\n        ArgumentCaptor&lt;PutObjectRequest&gt; putObjectRequestCaptor;\r\n        @Captor\r\n        ArgumentCaptor&lt;AsyncRequestBody&gt; requestBodyCaptor;\r\n    \r\n        @Test\r\n        void testSuccessfulUpload() {\r\n          Flux&lt;ByteBuffer&gt; body = Flux.just();\r\n          var expectedResponse = PutObjectResponse.builder().build();\r\n          when(s3AsyncClient.putObject(putObjectRequestCaptor.capture(), requestBodyCaptor.capture()))              .thenReturn(CompletableFuture.completedFuture(expectedResponse));\r\n    \r\n          fileUploadService.upload(&quot;TEST_PREFIX&quot;, &quot;test.zip&quot;, body);\r\n          assertThat(putObjectRequestCaptor.getValue().bucket()).isEqualTo(TEST_BUCKET);\r\n          assertThat(putObjectRequestCaptor.getValue().key()).isEqualTo(&quot;TEST_PREFIX/test.zip&quot;);\r\n    \r\n          assertThat(requestBodyCaptor.getValue()).isNotNull();\r\n        }\r\n      } ","title":"How to mock S3AsyncClient in Junit","body":"<p>You could use Mockito to mock the S3AsyncClient operations.</p>\n<pre><code>@Mock\nprivate S3AsyncClient s3AsyncClient;\n</code></pre>\n<p>Below is the unit test case for my upload file implementation. It will surely give you insights how it is done and it can be done.</p>\n<pre><code>@Nested\n  class UploadFile {\n    @Captor\n    ArgumentCaptor&lt;PutObjectRequest&gt; putObjectRequestCaptor;\n    @Captor\n    ArgumentCaptor&lt;AsyncRequestBody&gt; requestBodyCaptor;\n\n    @Test\n    void testSuccessfulUpload() {\n      Flux&lt;ByteBuffer&gt; body = Flux.just();\n      var expectedResponse = PutObjectResponse.builder().build();\n      when(s3AsyncClient.putObject(putObjectRequestCaptor.capture(), requestBodyCaptor.capture()))              .thenReturn(CompletableFuture.completedFuture(expectedResponse));\n\n      fileUploadService.upload(&quot;TEST_PREFIX&quot;, &quot;test.zip&quot;, body);\n      assertThat(putObjectRequestCaptor.getValue().bucket()).isEqualTo(TEST_BUCKET);\n      assertThat(putObjectRequestCaptor.getValue().key()).isEqualTo(&quot;TEST_PREFIX/test.zip&quot;);\n\n      assertThat(requestBodyCaptor.getValue()).isNotNull();\n    }\n  } \n</code></pre>\n"}],"owner":{"account_id":19646064,"reputation":23,"user_id":14381053,"display_name":"BillalT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1675250510,"creation_date":1648906266,"question_id":71717976,"body_markdown":"I have one method that uploads files to Amazon S3. I am trying to write JUnit for this method but get NullPointerException on the S3AsyncClient:\r\n\r\nmy class:\r\n```\r\npublic class S3Client&lt;T&gt; {\r\n    private static final Logger log = LoggerFactory.getLogger(S3Client.class);\r\n    S3AsyncClient client;\r\n    /**\r\n     *\r\n     * @param s3Configuration\r\n     */\r\n    public S3Client(AWSS3Configuration s3Configuration) {\r\n        this.client = s3Configuration.getAsyncClient();\r\n    }\r\n\r\n\r\n    /**\r\n     * Uploads a file s3 bucket and returns etag\r\n     * @param uploadData\r\n     * @return\r\n     * @throws S3Exception\r\n     */\r\n    public CompletableFuture&lt;String&gt; uploadFile(S3UploadData&lt;T&gt; uploadData) throws S3Exception {\r\n        int contentLength;\r\n        AsyncRequestBody asyncRequestBody;\r\n\r\n        if(uploadData.getContent() instanceof String) {\r\n            String content = (String) uploadData.getContent();\r\n            contentLength = content.length();\r\n            asyncRequestBody = AsyncRequestBody.fromString(content);\r\n        }\r\n        else if(uploadData.getContent() instanceof byte[]){\r\n            byte[] bytes = (byte[]) uploadData.getContent();\r\n            contentLength = bytes.length;\r\n            asyncRequestBody = AsyncRequestBody.fromBytes(bytes);\r\n        }\r\n        else{\r\n            throw new IllegalArgumentException(&quot;Unsupported upload content type&quot;);\r\n        }\r\n\r\n\r\n        PutObjectRequest putObjRequest = PutObjectRequest.builder()\r\n                .bucket(uploadData.getBucketName())\r\n                .key(uploadData.getFileName())\r\n                .metadata(uploadData.getMetaData())\r\n                .contentLength((long) contentLength).build();\r\n\r\n\r\n        CompletableFuture&lt;String&gt; response = client.putObject(putObjRequest, asyncRequestBody).thenApply(\r\n                getPutObjectResponse -&gt; {\r\n                    log.info(&quot;Got response from S3 upload={}&quot;, getPutObjectResponse.eTag());\r\n                    return getPutObjectResponse.eTag();\r\n                });\r\n        response.exceptionally(throwable -&gt; {\r\n            log.error(&quot;Exception occurred while uploading a file intuit_tid={} file={}&quot;,uploadData.getTransactionId(),uploadData.getFileName());\r\n            throw new S3Exception(throwable.getMessage());\r\n        });\r\n        return response;\r\n    }\r\n```\r\n \r\ninput for this class object of S3UploadData:\r\n`   \r\n    @Getter\r\n    @AllArgsConstructor\r\n    \r\n        public class InputData&lt;T&gt; {\r\n            T content;\r\n            String fileName;\r\n            String bucketName;\r\n            String transactionId;\r\n            Map&lt;String, String&gt; metaData;\r\n        }`\r\ncan u help please with writing Junit for uploadFile method?\r\n \r\n","title":"How to mock S3AsyncClient in Junit","body":"<p>I have one method that uploads files to Amazon S3. I am trying to write JUnit for this method but get NullPointerException on the S3AsyncClient:</p>\n<p>my class:</p>\n<pre><code>public class S3Client&lt;T&gt; {\n    private static final Logger log = LoggerFactory.getLogger(S3Client.class);\n    S3AsyncClient client;\n    /**\n     *\n     * @param s3Configuration\n     */\n    public S3Client(AWSS3Configuration s3Configuration) {\n        this.client = s3Configuration.getAsyncClient();\n    }\n\n\n    /**\n     * Uploads a file s3 bucket and returns etag\n     * @param uploadData\n     * @return\n     * @throws S3Exception\n     */\n    public CompletableFuture&lt;String&gt; uploadFile(S3UploadData&lt;T&gt; uploadData) throws S3Exception {\n        int contentLength;\n        AsyncRequestBody asyncRequestBody;\n\n        if(uploadData.getContent() instanceof String) {\n            String content = (String) uploadData.getContent();\n            contentLength = content.length();\n            asyncRequestBody = AsyncRequestBody.fromString(content);\n        }\n        else if(uploadData.getContent() instanceof byte[]){\n            byte[] bytes = (byte[]) uploadData.getContent();\n            contentLength = bytes.length;\n            asyncRequestBody = AsyncRequestBody.fromBytes(bytes);\n        }\n        else{\n            throw new IllegalArgumentException(&quot;Unsupported upload content type&quot;);\n        }\n\n\n        PutObjectRequest putObjRequest = PutObjectRequest.builder()\n                .bucket(uploadData.getBucketName())\n                .key(uploadData.getFileName())\n                .metadata(uploadData.getMetaData())\n                .contentLength((long) contentLength).build();\n\n\n        CompletableFuture&lt;String&gt; response = client.putObject(putObjRequest, asyncRequestBody).thenApply(\n                getPutObjectResponse -&gt; {\n                    log.info(&quot;Got response from S3 upload={}&quot;, getPutObjectResponse.eTag());\n                    return getPutObjectResponse.eTag();\n                });\n        response.exceptionally(throwable -&gt; {\n            log.error(&quot;Exception occurred while uploading a file intuit_tid={} file={}&quot;,uploadData.getTransactionId(),uploadData.getFileName());\n            throw new S3Exception(throwable.getMessage());\n        });\n        return response;\n    }\n</code></pre>\n<p>input for this class object of S3UploadData:\n`<br />\n@Getter\n@AllArgsConstructor</p>\n<pre><code>    public class InputData&lt;T&gt; {\n        T content;\n        String fileName;\n        String bucketName;\n        String transactionId;\n        Map&lt;String, String&gt; metaData;\n    }`\n</code></pre>\n<p>can u help please with writing Junit for uploadFile method?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":3,"creation_date":1314924734,"post_id":7277757,"comment_id":8763025,"body_markdown":"Instead of importing it statically (which doesn&#39;t work as you&#39;ve found out) you can just type &quot;sysout&quot; and eclipse will replace it with System.out.println()","body":"Instead of importing it statically (which doesn&#39;t work as you&#39;ve found out) you can just type &quot;sysout&quot; and eclipse will replace it with System.out.println()"},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":1,"creation_date":1581456068,"post_id":7277757,"comment_id":106438031,"body_markdown":"@Voo &quot;sout&quot; in NetBeans and IntelliJ, which I personally prefer even though &quot;sysout&quot; seems more logical and meaningful...","body":"@Voo &quot;sout&quot; in NetBeans and IntelliJ, which I personally prefer even though &quot;sysout&quot; seems more logical and meaningful..."}],"answers":[{"tags":[],"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1314919736,"creation_date":1314919736,"answer_id":7277780,"question_id":7277757,"body_markdown":"`Math` is a class, on which `abs` is a static method. `System.out` is a static field rather than a class. So its `println` method isn&#39;t actually a static method, but an instance method on a static field.","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p><code>Math</code> is a class, on which <code>abs</code> is a static method. <code>System.out</code> is a static field rather than a class. So its <code>println</code> method isn't actually a static method, but an instance method on a static field.</p>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1420583702,"creation_date":1314919802,"answer_id":7277785,"question_id":7277757,"body_markdown":"Because `java.lang.System.out` is a [static object (a PrintStream)](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html) on which you call `println`.\r\n\r\nThough in eclipse you can type `sysout` and then press &lt;kbd&gt;ctrl&lt;/kbd&gt;-&lt;kbd&gt;space&lt;/kbd&gt; to have it expanded to `System.out.println();`","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>Because <code>java.lang.System.out</code> is a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html\" rel=\"noreferrer\">static object (a PrintStream)</a> on which you call <code>println</code>.</p>\n\n<p>Though in eclipse you can type <code>sysout</code> and then press <kbd>ctrl</kbd>-<kbd>space</kbd> to have it expanded to <code>System.out.println();</code></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1675250403,"creation_date":1314950575,"answer_id":7280699,"question_id":7277757,"body_markdown":"Non-static methods cannot be imported that way.\r\n\r\nHowever, you can do this:\r\n\r\n    public static void println(Object o) {\r\n        System.out.println(o);\r\n    }\r\n\r\n    // elsewhere\r\n    println(&quot;Hello World&quot;);     // can be inlined","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>Non-static methods cannot be imported that way.</p>\n<p>However, you can do this:</p>\n<pre><code>public static void println(Object o) {\n    System.out.println(o);\n}\n\n// elsewhere\nprintln(&quot;Hello World&quot;);     // can be inlined\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1370962918,"creation_date":1370962918,"answer_id":17047385,"question_id":7277757,"body_markdown":"[Peter][1]&#39;s answer seems to be the best work around. But without arguments the use cases are a bit limited.\r\n\r\n    static&lt;T&gt; void println(T arg) { System.out.println(arg); }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/57695/peter-lawrey","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p><a href=\"https://stackoverflow.com/users/57695/peter-lawrey\">Peter</a>'s answer seems to be the best work around. But without arguments the use cases are a bit limited.</p>\n\n<pre><code>static&lt;T&gt; void println(T arg) { System.out.println(arg); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559502344,"creation_date":1466310648,"answer_id":37903957,"question_id":7277757,"body_markdown":"**Note:**`import static` only works on a static field or a static method of a class. \r\n\r\nYou can&#39;t `import static java.lang.System.out.println`, because `println` method is not a static method of any class(`out` is not even a class,it is an instance of `PrintStream`). \r\n\r\nYou can `import static java.lang.Math.abs`, because `abs` method is a static method of Class `Math`.\r\n\r\nMy suggestion is that since `out` is a static field of `System`(which is a class), you can `import static java.lang.System.out`, and then in your code you can use `out.println` instead of `System.out.println` for short.\r\n\r\n","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p><strong>Note:</strong><code>import static</code> only works on a static field or a static method of a class. </p>\n\n<p>You can't <code>import static java.lang.System.out.println</code>, because <code>println</code> method is not a static method of any class(<code>out</code> is not even a class,it is an instance of <code>PrintStream</code>). </p>\n\n<p>You can <code>import static java.lang.Math.abs</code>, because <code>abs</code> method is a static method of Class <code>Math</code>.</p>\n\n<p>My suggestion is that since <code>out</code> is a static field of <code>System</code>(which is a class), you can <code>import static java.lang.System.out</code>, and then in your code you can use <code>out.println</code> instead of <code>System.out.println</code> for short.</p>\n"},{"tags":[],"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1509546455,"creation_date":1509546455,"answer_id":47057181,"question_id":7277757,"body_markdown":"Combine printf and println  \r\n\r\n    public static void println(Object format, Object... args) {\r\n        System.out.printf(format.toString(), args);\r\n        System.out.println();\r\n    }\r\n\r\n    @Test\r\n    public void testPrintln(){\r\n        println(100);\r\n        println(&quot;abc&quot;);\r\n        println(new Date());\r\n        println(&quot;%s=%d&quot;,&quot;abc&quot;,100);\r\n    }\r\n\r\noutput\r\n\r\n    100\r\n    abc\r\n    Wed Nov 01 22:24:20 CST 2017\r\n    abc=100","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>Combine printf and println  </p>\n\n<pre><code>public static void println(Object format, Object... args) {\n    System.out.printf(format.toString(), args);\n    System.out.println();\n}\n\n@Test\npublic void testPrintln(){\n    println(100);\n    println(\"abc\");\n    println(new Date());\n    println(\"%s=%d\",\"abc\",100);\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>100\nabc\nWed Nov 01 22:24:20 CST 2017\nabc=100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5190752,"reputation":61,"user_id":4153771,"display_name":"Skit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564858485,"creation_date":1564858485,"answer_id":57341280,"question_id":7277757,"body_markdown":"My solution    \r\n\r\n    package example.tools;\r\n    \r\n    public class ShowMe {\r\n        /*public static void print(String arg) {\r\n           System.out.println(arg);\r\n        }*/\r\n        // or better as ceving&#39;s example\r\n        public static&lt;T&gt; void print(T arg) {\r\n            System.out.println(arg);\r\n        }\r\n    }\r\n\r\nIn another class\r\n\r\n    import static example.tools.ShowMe.*;\r\n        public class Flower {\r\n            Flower() {\r\n                print(&quot;Rose&quot;);\r\n            }\r\n        }\r\n\r\n","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>My solution    </p>\n\n<pre><code>package example.tools;\n\npublic class ShowMe {\n    /*public static void print(String arg) {\n       System.out.println(arg);\n    }*/\n    // or better as ceving's example\n    public static&lt;T&gt; void print(T arg) {\n        System.out.println(arg);\n    }\n}\n</code></pre>\n\n<p>In another class</p>\n\n<pre><code>import static example.tools.ShowMe.*;\n    public class Flower {\n        Flower() {\n            print(\"Rose\");\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":29045,"reputation":3334,"user_id":78181,"accept_rate":50,"display_name":"Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51611,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":7277780,"answer_count":7,"score":47,"last_activity_date":1675250403,"creation_date":1314919551,"question_id":7277757,"body_markdown":"It seems strange that I can&#39;t import static java.lang.System.out.println, when I can import static java.lang.Math.abs.  Is there some reason behind this or am I doing something really stupid that I don&#39;t see at the moment?  (Using Eclipse.)","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>It seems strange that I can't import static java.lang.System.out.println, when I can import static java.lang.Math.abs.  Is there some reason behind this or am I doing something really stupid that I don't see at the moment?  (Using Eclipse.)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9309,"page":683,"page_size":100}
