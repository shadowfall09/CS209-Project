{"items":[{"tags":["java","asynchronous","listener","ibm-mq","consumer"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1667210399,"post_id":74241176,"comment_id":131108372,"body_markdown":"Usually these types of problems mean you haven&#39;t started the consumer.","body":"Usually these types of problems mean you haven&#39;t started the consumer."},{"owner":{"account_id":20040265,"reputation":11,"user_id":14691110,"display_name":"JPA"},"score":0,"creation_date":1667398640,"post_id":74241176,"comment_id":131157814,"body_markdown":"it is not possible to start the consumer- it starts automatically when used with receive() method","body":"it is not possible to start the consumer- it starts automatically when used with receive() method"}],"owner":{"account_id":20040265,"reputation":11,"user_id":14691110,"display_name":"JPA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666993235,"creation_date":1666993235,"question_id":74241176,"body_markdown":"I try to read messages from IBM MQ.\r\n\r\nThis works when trying to do so by calling receive method on consumer.\r\n\r\nHowever, when overriding onMessage method I get no messages and no errors. It seems like this method is never invoked.\r\n\r\nHere is an example code which consumes messages from the queue correctly and prints them, but this method uses receive:\r\n\r\n\r\n    public class IBMMQConnect {\r\n    \r\n    \tprivate String hostName = &quot;myHost&quot;;\r\n    \tprivate int port = 1631;\r\n    \tprivate String clientID = &quot;clientID&quot;;\r\n    \tprivate String channel = &quot;channel&quot;;\r\n    \tprivate int transportType = WMQConstants.WMQ_CM_CLIENT;\r\n    \tprivate String queueManager = &quot;queueManager&quot;;\r\n    \tprivate String sslCipherSuite = &quot;sslCipherSuite&quot;;\r\n    \tMQConnectionFactory mqConnectionFactory;\r\n    \tCustomSslContectFactory sslFactory;\r\n    \tjavax.jms.ConnectionFactory connectionFactory;\r\n    \tjavax.jms.Connection connection;\r\n    \tjavax.jms.Session session;\r\n    \tjavax.jms.Topic topic;\r\n    \tjavax.jms.MessageConsumer consumer;\r\n    \tpublic IBMMQConnect() throws Exception{\r\n    \t\tSystem.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, &quot;false&quot;);\r\n    \t\tthis.mqConnectionFactory = new MQConnectionFactory();\r\n    \t\tthis.mqConnectionFactory.setHostName(hostName);\r\n    \t\tthis.mqConnectionFactory.setPort(port);\r\n    \t\tthis.mqConnectionFactory.setClientID(clientID);\r\n    \t\tthis.mqConnectionFactory.setChannel(channel);\r\n    \t\tthis.mqConnectionFactory.setTransportType(transportType);\r\n    \t\tthis.mqConnectionFactory.setQueueManager(queueManager);\r\n    \t\tthis.mqConnectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n    \t\tthis.sslFactory = new CustomSslContextFactory();\r\n    \t\tthis.sslFactory.setKeyStore(&quot;myKeyStore&quot;);\r\n    \t\tthis.sslFactory.setKeyStorePassword(&quot;myPassword&quot;);\r\n    \t\tthis.sslFactory.setTrustStore(&quot;myTrustStore&quot;);\r\n    \t\tthis.sslFactory.setTrustStorePassword(&quot;password&quot;);\r\n    \t\tthis.mqConnectionFactory.setSSLSocketFactory(sslFactory.getSslContext().getSocketFactory());\r\n    \t\tthis.connectionFactory = this.mqConnectionFactory;\r\n    \t\tthis.connection = this.connectionFactory.createConnection();\r\n    \t\tthis.session = this.connection.createSession(false, javax.jms.Session.CLIENT_ACKNOWLEDGE);\r\n    \t\tthis.topic = this.session.createTopic(&quot;myTopic&quot;);\r\n    \t\tthis.consumer = this.session.createDurableSubscriber(topic, &quot;myTest&quot;);\r\n    \t\tjavax.jms.Message message = null;\r\n    \t\tthis.connection.start();\r\n    \t\twhile ((message = consumer.receive(10*1000))!=null){\r\n    \t\t\tSystem.out.println(message);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\tIBMMQConnect ibmMQ = new IBMMQConnect();\r\n    \t}\r\n    }\r\n\r\n\r\nNow, here is an example where messages should be consumed by overriding method onMessage, however this code does not produce any output, it does not produce any errors, it looks like the consumer just never calls onMessage method:\r\n\r\n    public class IBMMQConnect {\r\n    \r\n    \tprivate String hostName = &quot;myHost&quot;;\r\n    \tprivate int port = 1631;\r\n    \tprivate String clientID = &quot;clientID&quot;;\r\n    \tprivate String channel = &quot;channel&quot;;\r\n    \tprivate int transportType = WMQConstants.WMQ_CM_CLIENT;\r\n    \tprivate String queueManager = &quot;queueManager&quot;;\r\n    \tprivate String sslCipherSuite = &quot;sslCipherSuite&quot;;\r\n    \tMQConnectionFactory mqConnectionFactory;\r\n    \tCustomSslContectFactory sslFactory;\r\n    \tjavax.jms.ConnectionFactory connectionFactory;\r\n    \tjavax.jms.Connection connection;\r\n    \tjavax.jms.Session session;\r\n    \tjavax.jms.Topic topic;\r\n    \tjavax.jms.MessageConsumer consumer;\r\n    \tpublic IBMMQConnect() throws Exception{\r\n    \t\tSystem.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, &quot;false&quot;);\r\n    \t\tthis.mqConnectionFactory = new MQConnectionFactory();\r\n    \t\tthis.mqConnectionFactory.setHostName(hostName);\r\n    \t\tthis.mqConnectionFactory.setPort(port);\r\n    \t\tthis.mqConnectionFactory.setClientID(clientID);\r\n    \t\tthis.mqConnectionFactory.setChannel(channel);\r\n    \t\tthis.mqConnectionFactory.setTransportType(transportType);\r\n    \t\tthis.mqConnectionFactory.setQueueManager(queueManager);\r\n    \t\tthis.mqConnectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n    \t\tthis.sslFactory = new CustomSslContextFactory();\r\n    \t\tthis.sslFactory.setKeyStore(&quot;myKeyStore&quot;);\r\n    \t\tthis.sslFactory.setKeyStorePassword(&quot;myPassword&quot;);\r\n    \t\tthis.sslFactory.setTrustStore(&quot;myTrustStore&quot;);\r\n    \t\tthis.sslFactory.setTrustStorePassword(&quot;password&quot;);\r\n    \t\tthis.mqConnectionFactory.setSSLSocketFactory(sslFactory.getSslContext().getSocketFactory());\r\n    \t\tthis.connectionFactory = this.mqConnectionFactory;\r\n    \t\tthis.connection = this.connectionFactory.createConnection();\r\n    \t\tthis.session = this.connection.createSession(false, javax.jms.Session.CLIENT_ACKNOWLEDGE);\r\n    \t\tthis.topic = this.session.createTopic(&quot;myTopic&quot;);\r\n    \t\tthis.consumer = this.session.createDurableSubscriber(topic, &quot;myTest&quot;);\r\n    \t\tjavax.jms.Message message = null;\r\n    \t\tthis.connection.start();\r\n    \t\tthis.consumer.setMessageListener(new MessageListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onMessage(Message message) {\r\n    \t\t\t\tSystem.out.println(message);\r\n    \t\t\t}\r\n    \t\t});\r\n            new Scanner(System.in).nextLine();\r\n    \t}\r\n    \r\n    }\r\n\r\nSo, the first code example consumes messages and prints them, the second code example does not produce anything, no errors, no messages, why does it happen?","title":"How to trigger onMessage method on consumer with IBMMQ broker?","body":"<p>I try to read messages from IBM MQ.</p>\n<p>This works when trying to do so by calling receive method on consumer.</p>\n<p>However, when overriding onMessage method I get no messages and no errors. It seems like this method is never invoked.</p>\n<p>Here is an example code which consumes messages from the queue correctly and prints them, but this method uses receive:</p>\n<pre><code>public class IBMMQConnect {\n\n    private String hostName = &quot;myHost&quot;;\n    private int port = 1631;\n    private String clientID = &quot;clientID&quot;;\n    private String channel = &quot;channel&quot;;\n    private int transportType = WMQConstants.WMQ_CM_CLIENT;\n    private String queueManager = &quot;queueManager&quot;;\n    private String sslCipherSuite = &quot;sslCipherSuite&quot;;\n    MQConnectionFactory mqConnectionFactory;\n    CustomSslContectFactory sslFactory;\n    javax.jms.ConnectionFactory connectionFactory;\n    javax.jms.Connection connection;\n    javax.jms.Session session;\n    javax.jms.Topic topic;\n    javax.jms.MessageConsumer consumer;\n    public IBMMQConnect() throws Exception{\n        System.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, &quot;false&quot;);\n        this.mqConnectionFactory = new MQConnectionFactory();\n        this.mqConnectionFactory.setHostName(hostName);\n        this.mqConnectionFactory.setPort(port);\n        this.mqConnectionFactory.setClientID(clientID);\n        this.mqConnectionFactory.setChannel(channel);\n        this.mqConnectionFactory.setTransportType(transportType);\n        this.mqConnectionFactory.setQueueManager(queueManager);\n        this.mqConnectionFactory.setSSLCipherSuite(sslCipherSuite);\n        this.sslFactory = new CustomSslContextFactory();\n        this.sslFactory.setKeyStore(&quot;myKeyStore&quot;);\n        this.sslFactory.setKeyStorePassword(&quot;myPassword&quot;);\n        this.sslFactory.setTrustStore(&quot;myTrustStore&quot;);\n        this.sslFactory.setTrustStorePassword(&quot;password&quot;);\n        this.mqConnectionFactory.setSSLSocketFactory(sslFactory.getSslContext().getSocketFactory());\n        this.connectionFactory = this.mqConnectionFactory;\n        this.connection = this.connectionFactory.createConnection();\n        this.session = this.connection.createSession(false, javax.jms.Session.CLIENT_ACKNOWLEDGE);\n        this.topic = this.session.createTopic(&quot;myTopic&quot;);\n        this.consumer = this.session.createDurableSubscriber(topic, &quot;myTest&quot;);\n        javax.jms.Message message = null;\n        this.connection.start();\n        while ((message = consumer.receive(10*1000))!=null){\n            System.out.println(message);\n        }\n    }\n\n}\n\npublic class Main {\n    public static void main(String[] args) throws Exception{\n        IBMMQConnect ibmMQ = new IBMMQConnect();\n    }\n}\n</code></pre>\n<p>Now, here is an example where messages should be consumed by overriding method onMessage, however this code does not produce any output, it does not produce any errors, it looks like the consumer just never calls onMessage method:</p>\n<pre><code>public class IBMMQConnect {\n\n    private String hostName = &quot;myHost&quot;;\n    private int port = 1631;\n    private String clientID = &quot;clientID&quot;;\n    private String channel = &quot;channel&quot;;\n    private int transportType = WMQConstants.WMQ_CM_CLIENT;\n    private String queueManager = &quot;queueManager&quot;;\n    private String sslCipherSuite = &quot;sslCipherSuite&quot;;\n    MQConnectionFactory mqConnectionFactory;\n    CustomSslContectFactory sslFactory;\n    javax.jms.ConnectionFactory connectionFactory;\n    javax.jms.Connection connection;\n    javax.jms.Session session;\n    javax.jms.Topic topic;\n    javax.jms.MessageConsumer consumer;\n    public IBMMQConnect() throws Exception{\n        System.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, &quot;false&quot;);\n        this.mqConnectionFactory = new MQConnectionFactory();\n        this.mqConnectionFactory.setHostName(hostName);\n        this.mqConnectionFactory.setPort(port);\n        this.mqConnectionFactory.setClientID(clientID);\n        this.mqConnectionFactory.setChannel(channel);\n        this.mqConnectionFactory.setTransportType(transportType);\n        this.mqConnectionFactory.setQueueManager(queueManager);\n        this.mqConnectionFactory.setSSLCipherSuite(sslCipherSuite);\n        this.sslFactory = new CustomSslContextFactory();\n        this.sslFactory.setKeyStore(&quot;myKeyStore&quot;);\n        this.sslFactory.setKeyStorePassword(&quot;myPassword&quot;);\n        this.sslFactory.setTrustStore(&quot;myTrustStore&quot;);\n        this.sslFactory.setTrustStorePassword(&quot;password&quot;);\n        this.mqConnectionFactory.setSSLSocketFactory(sslFactory.getSslContext().getSocketFactory());\n        this.connectionFactory = this.mqConnectionFactory;\n        this.connection = this.connectionFactory.createConnection();\n        this.session = this.connection.createSession(false, javax.jms.Session.CLIENT_ACKNOWLEDGE);\n        this.topic = this.session.createTopic(&quot;myTopic&quot;);\n        this.consumer = this.session.createDurableSubscriber(topic, &quot;myTest&quot;);\n        javax.jms.Message message = null;\n        this.connection.start();\n        this.consumer.setMessageListener(new MessageListener() {\n            @Override\n            public void onMessage(Message message) {\n                System.out.println(message);\n            }\n        });\n        new Scanner(System.in).nextLine();\n    }\n\n}\n</code></pre>\n<p>So, the first code example consumes messages and prints them, the second code example does not produce anything, no errors, no messages, why does it happen?</p>\n"},{"tags":["java","eclipse","tomcat","jpa"],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467827887,"creation_date":1467827887,"answer_id":38230681,"question_id":38229662,"body_markdown":"This is not possible. If you are using spring this can be possible there, but for simple JPA no. What you can do though is to use programmatic configuration and to do something like this described in this post [https://stackoverflow.com/questions/8836834/read-environment-variables-in-persistence-xml-file][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8836834/read-environment-variables-in-persistence-xml-file","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>This is not possible. If you are using spring this can be possible there, but for simple JPA no. What you can do though is to use programmatic configuration and to do something like this described in this post <a href=\"https://stackoverflow.com/questions/8836834/read-environment-variables-in-persistence-xml-file\">Read Environment Variables in persistence.xml file</a></p>\n"},{"comments":[{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1608312738,"post_id":43022304,"comment_id":115554001,"body_markdown":"Not sure why, but this didnt work for me, it tried to connect to the database as user `${env.MYSQL_DB_USERNAME}`","body":"Not sure why, but this didnt work for me, it tried to connect to the database as user <code>${env.MYSQL_DB_USERNAME}</code>"}],"tags":[],"owner":{"account_id":1187510,"reputation":644,"user_id":1161179,"display_name":"frekele"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1490478268,"creation_date":1490478268,"answer_id":43022304,"question_id":38229662,"body_markdown":"In WildFly the simples and most elegant way to do that is enabling the property replacement in the ee subsystem, as in the following example:\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:4.0&quot;&gt;\r\n          &lt;spec-descriptor-property-replacement&gt;true&lt;/spec-descriptor-property-replacement&gt;\r\n          &lt;jboss-descriptor-property-replacement&gt;true&lt;/jboss-descriptor-property-replacement&gt; \r\n    . . .\r\n    &lt;/subsystem&gt;\r\n\r\nNow you can use the BeanShell expression with the env prefix to reference environment variables. For example:\r\n\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://${env.MYSQL_DB_HOST}:${env.MYSQL_DB_PORT}/mydbname&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;${env.MYSQL_DB_USERNAME}&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;${env.MYSQL_DB_PASSWORD}&quot;/&gt;\r\n\r\nThis strategy is particularly useful in cloud environment such as Openshift, where you can pass environment variables to your Applications, in order to customize them.","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>In WildFly the simples and most elegant way to do that is enabling the property replacement in the ee subsystem, as in the following example:</p>\n\n<pre><code>&lt;subsystem xmlns=\"urn:jboss:domain:ee:4.0\"&gt;\n      &lt;spec-descriptor-property-replacement&gt;true&lt;/spec-descriptor-property-replacement&gt;\n      &lt;jboss-descriptor-property-replacement&gt;true&lt;/jboss-descriptor-property-replacement&gt; \n. . .\n&lt;/subsystem&gt;\n</code></pre>\n\n<p>Now you can use the BeanShell expression with the env prefix to reference environment variables. For example:</p>\n\n<pre><code>&lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://${env.MYSQL_DB_HOST}:${env.MYSQL_DB_PORT}/mydbname\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.user\" value=\"${env.MYSQL_DB_USERNAME}\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.password\" value=\"${env.MYSQL_DB_PASSWORD}\"/&gt;\n</code></pre>\n\n<p>This strategy is particularly useful in cloud environment such as Openshift, where you can pass environment variables to your Applications, in order to customize them.</p>\n"},{"tags":[],"owner":{"account_id":1696432,"reputation":358,"user_id":1557741,"accept_rate":67,"display_name":"baumato"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542719640,"creation_date":1542719640,"answer_id":53393812,"question_id":38229662,"body_markdown":"For testing purposes or in the JavaSE world, you could use this [full working eclipseLink example][1].\r\n\r\nIt gets all properties defined in the persistence.xml from the PersistenceUnitInfo instance which is obtained from the EntityManagerFactory (by using eclipseLink specific implementations). These properties get replaced with the values defined in environment variables.\r\n\r\n\r\n  [1]: https://gist.github.com/baumato/3283f255b00094411110fc889be58aa5","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>For testing purposes or in the JavaSE world, you could use this <a href=\"https://gist.github.com/baumato/3283f255b00094411110fc889be58aa5\" rel=\"nofollow noreferrer\">full working eclipseLink example</a>.</p>\n\n<p>It gets all properties defined in the persistence.xml from the PersistenceUnitInfo instance which is obtained from the EntityManagerFactory (by using eclipseLink specific implementations). These properties get replaced with the values defined in environment variables.</p>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666991825,"creation_date":1647967739,"answer_id":71575888,"question_id":38229662,"body_markdown":"I am using a simple maven jpa project.\r\n\r\nYou can do that with a simple bash script and using a template file\r\n\r\n[![template][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Iah8.png\r\n\r\ntemplate content:\r\n    \r\n    ...\r\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;$DB_URL&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;$DB_USR&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;$DB_PASS&quot;/&gt;\r\n    ...\r\n\r\nbash script:\r\n\r\n    XML_TMP=./src/main/resources/META-INF/persistence.temp.xml\r\n    XML_OUT=./src/main/resources/META-INF/persistence.xml\r\n    \r\n    export DB_URL=&quot;jdbc:postgresql://localhost:5434/my_db&quot;\r\n    export DB_USR=&quot;admin&quot;\r\n    export DB_PASS=&quot;mystrongpass&quot;\r\n    \r\n    envsubst &quot;`printf &#39;${%s} &#39; $(sh -c &quot;env|cut -d&#39;=&#39; -f1&quot;)`&quot; &lt; $XML_TMP &gt; $XML_OUT\r\n\r\nNote that env var can be system values too, you do not necessarily have to be included in the file\r\n\r\nrun the script and then just do:\r\n\r\n    mvn clean package","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>I am using a simple maven jpa project.</p>\n<p>You can do that with a simple bash script and using a template file</p>\n<p><a href=\"https://i.stack.imgur.com/9Iah8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Iah8.png\" alt=\"template\" /></a></p>\n<p>template content:</p>\n<pre><code>...\n&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;$DB_URL&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;$DB_USR&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;$DB_PASS&quot;/&gt;\n...\n</code></pre>\n<p>bash script:</p>\n<pre><code>XML_TMP=./src/main/resources/META-INF/persistence.temp.xml\nXML_OUT=./src/main/resources/META-INF/persistence.xml\n\nexport DB_URL=&quot;jdbc:postgresql://localhost:5434/my_db&quot;\nexport DB_USR=&quot;admin&quot;\nexport DB_PASS=&quot;mystrongpass&quot;\n\nenvsubst &quot;`printf '${%s} ' $(sh -c &quot;env|cut -d'=' -f1&quot;)`&quot; &lt; $XML_TMP &gt; $XML_OUT\n</code></pre>\n<p>Note that env var can be system values too, you do not necessarily have to be included in the file</p>\n<p>run the script and then just do:</p>\n<pre><code>mvn clean package\n</code></pre>\n"}],"owner":{"account_id":2453365,"reputation":333,"user_id":2139101,"accept_rate":95,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13298,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71575888,"answer_count":4,"score":3,"last_activity_date":1666991825,"creation_date":1467824616,"question_id":38229662,"body_markdown":"I&#39;m using OpenShift, and I&#39;m trying to deploy my application to a local Tomcat instance for faster development. I&#39;m using EclipseLink for DB transactions, and I&#39;ve provided the environment variables OpenShift uses in persistence.xml like this:\r\n\r\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://${env.OPENSHIFT_MYSQL_DB_HOST}:${env.OPENSHIFT_MYSQL_DB_PORT}/mydbname&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;${env.OPENSHIFT_MYSQL_DB_USERNAME}&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;${env.OPENSHIFT_MYSQL_DB_PASSWORD}&quot;/&gt;\r\n\r\nI&#39;m using linux on my local machine, so I&#39;ve set all of these variable values to the local versions as well (localhost, 3306, etc). I&#39;ve double checked that they are available in terminal. I&#39;ve also tried providing them like described [here][1] - I&#39;ve opened the Tomcat instance&#39;s settings in Eclipse, chose &quot;Open launch configuration&quot;, and on the Arguments tab, I&#39;ve typed them into VM arguments (also tried the &quot;Variables...&quot; menu). However, it&#39;s not working, and I&#39;m getting NumberFormatException on the PORT variable, I guess it takes the raw string &quot;${env.OPENSHIFT_MYSQL_DB_PORT}&quot; as port.\r\n\r\n(Apparently, it&#39;s not working on OpenShift either.)\r\n\r\nWhere can I set these variable values in Eclipse/Tomcat to make it work?\r\n\r\nThank you in advance!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2844807/environment-variable-expansion-in-persistence-xml-jpa","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>I'm using OpenShift, and I'm trying to deploy my application to a local Tomcat instance for faster development. I'm using EclipseLink for DB transactions, and I've provided the environment variables OpenShift uses in persistence.xml like this:</p>\n\n<pre><code>&lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://${env.OPENSHIFT_MYSQL_DB_HOST}:${env.OPENSHIFT_MYSQL_DB_PORT}/mydbname\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.user\" value=\"${env.OPENSHIFT_MYSQL_DB_USERNAME}\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.password\" value=\"${env.OPENSHIFT_MYSQL_DB_PASSWORD}\"/&gt;\n</code></pre>\n\n<p>I'm using linux on my local machine, so I've set all of these variable values to the local versions as well (localhost, 3306, etc). I've double checked that they are available in terminal. I've also tried providing them like described <a href=\"https://stackoverflow.com/questions/2844807/environment-variable-expansion-in-persistence-xml-jpa\">here</a> - I've opened the Tomcat instance's settings in Eclipse, chose \"Open launch configuration\", and on the Arguments tab, I've typed them into VM arguments (also tried the \"Variables...\" menu). However, it's not working, and I'm getting NumberFormatException on the PORT variable, I guess it takes the raw string \"${env.OPENSHIFT_MYSQL_DB_PORT}\" as port.</p>\n\n<p>(Apparently, it's not working on OpenShift either.)</p>\n\n<p>Where can I set these variable values in Eclipse/Tomcat to make it work?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","android","android-contacts"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666992414,"post_id":74240888,"comment_id":131073853,"body_markdown":"Your `query()` call does not state what you want returned. You are assuming that the default set of columns contains the column that you wish. Apparently, that is not always the case. You might consider revising your `query()` call.","body":"Your <code>query()</code> call does not state what you want returned. You are assuming that the default set of columns contains the column that you wish. Apparently, that is not always the case. You might consider revising your <code>query()</code> call."}],"owner":{"account_id":25505254,"reputation":117,"user_id":19297836,"display_name":"Alessandro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666991451,"creation_date":1666990998,"question_id":74240888,"body_markdown":"I have developed an app, which on my tests on Andoid emulators (from Android 10 to 12) works fine.\r\n\r\nAn user reported an app crash on their Android12 device. Looking into the log, the error happens to be that `cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)` returns -1.\r\n\r\nHere the full code:\r\n\r\n    private void onClick(){\r\n       Intent pickContact = new Intent(Intent.ACTION_PICK);\r\n       pickContact.setType(ContactsContract.CommonDataKinds.Phone.CONTENT_TYPE);\r\n       startActivityForResult(pickContact, CONTACT_PICK_CODE);\r\n    }\r\n\r\n    protected void onActivityResult (int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode == Activity.RESULT_OK &amp;&amp; requestCode == CONTACT_PICK_CODE) {\r\n            Uri contactData = data.getData();\r\n            Cursor cursor = getContentResolver().query(contactData, null, null, null, null);\r\n            if (cursor.moveToFirst()) {\r\n                int phoneIndex = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\r\n                String number = cursor.getString(phoneIndex);\r\n            }\r\n            c.close();\r\n        }\r\n    }\r\n\r\nWhat this code is trying to do is simply retrieving a phone number. \r\n\r\nIf for me it works well on my emulator, what could cause this issue on the user&#39;s device? Thank you!","title":"Android - cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER) returns -1","body":"<p>I have developed an app, which on my tests on Andoid emulators (from Android 10 to 12) works fine.</p>\n<p>An user reported an app crash on their Android12 device. Looking into the log, the error happens to be that <code>cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)</code> returns -1.</p>\n<p>Here the full code:</p>\n<pre><code>private void onClick(){\n   Intent pickContact = new Intent(Intent.ACTION_PICK);\n   pickContact.setType(ContactsContract.CommonDataKinds.Phone.CONTENT_TYPE);\n   startActivityForResult(pickContact, CONTACT_PICK_CODE);\n}\n\nprotected void onActivityResult (int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (resultCode == Activity.RESULT_OK &amp;&amp; requestCode == CONTACT_PICK_CODE) {\n        Uri contactData = data.getData();\n        Cursor cursor = getContentResolver().query(contactData, null, null, null, null);\n        if (cursor.moveToFirst()) {\n            int phoneIndex = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\n            String number = cursor.getString(phoneIndex);\n        }\n        c.close();\n    }\n}\n</code></pre>\n<p>What this code is trying to do is simply retrieving a phone number.</p>\n<p>If for me it works well on my emulator, what could cause this issue on the user's device? Thank you!</p>\n"},{"tags":["java","user-interface","javafx","fxml"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":1,"creation_date":1666994078,"post_id":74240955,"comment_id":131074172,"body_markdown":"you don&#180;t need to create a new instance of the class that extends Application in javafx  because it&#39;s the starting point","body":"you don&#180;t need to create a new instance of the class that extends Application in javafx  because it&#39;s the starting point"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1666994435,"post_id":74240955,"comment_id":131074219,"body_markdown":"Look at the game loop [here](https://gamedevelopment.tutsplus.com/tutorials/introduction-to-javafx-for-game-development--cms-23835) for a basic game loop example.","body":"Look at the game loop <a href=\"https://gamedevelopment.tutsplus.com/tutorials/introduction-to-javafx-for-game-development--cms-23835\" rel=\"nofollow noreferrer\">here</a> for a basic game loop example."},{"owner":{"account_id":16825911,"reputation":19,"user_id":12165215,"display_name":"George"},"score":0,"creation_date":1667009432,"post_id":74240955,"comment_id":131076006,"body_markdown":"So the main class overseeing everything should be the Application class? I was just using this class for specifically the GUI - so I should have all of the code for the actual simulation stem from here?","body":"So the main class overseeing everything should be the Application class? I was just using this class for specifically the GUI - so I should have all of the code for the actual simulation stem from here?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667010332,"post_id":74240955,"comment_id":131076077,"body_markdown":"Yes: The `Application` class and its `init()`, `start()` and `stop()` methods are for managing the lifecycle of the entire application. Everything else should stem from there. When you `launch()` the application, an instance of your `Application` subclass is created, `init()` is called, the JavaFX runtime is started, and `start()` is called (on the FX Application Thread). Your `init()` and `start()` methods should be responsible for initializing the application and starting the GUI.","body":"Yes: The <code>Application</code> class and its <code>init()</code>, <code>start()</code> and <code>stop()</code> methods are for managing the lifecycle of the entire application. Everything else should stem from there. When you <code>launch()</code> the application, an instance of your <code>Application</code> subclass is created, <code>init()</code> is called, the JavaFX runtime is started, and <code>start()</code> is called (on the FX Application Thread). Your <code>init()</code> and <code>start()</code> methods should be responsible for initializing the application and starting the GUI."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667010538,"post_id":74240955,"comment_id":131076095,"body_markdown":"Note that your `Main` class is broken. The `TimerTask` operates on a background thread, and you appear to be modifying the UI from that background thread, which is not allowed. Use the Animation API for functionality like this: see https://stackoverflow.com/a/60685975/2189127","body":"Note that your <code>Main</code> class is broken. The <code>TimerTask</code> operates on a background thread, and you appear to be modifying the UI from that background thread, which is not allowed. Use the Animation API for functionality like this: see <a href=\"https://stackoverflow.com/a/60685975/2189127\">stackoverflow.com/a/60685975/2189127</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667033345,"post_id":74240955,"comment_id":131078522,"body_markdown":"See the [application documentation](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html) to understand the lifecycle, also note that &quot;Calling Platform.exit() is the preferred way to explicitly terminate a JavaFX Application. Directly calling System.exit(int) is an acceptable alternative, but doesn&#39;t allow the Application stop() method to run.&quot;.   Also, when the last window is closed, by default the app will exit, so you probably don&#39;t need to explicitly call exit.","body":"See the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">application documentation</a> to understand the lifecycle, also note that &quot;Calling Platform.exit() is the preferred way to explicitly terminate a JavaFX Application. Directly calling System.exit(int) is an acceptable alternative, but doesn&#39;t allow the Application stop() method to run.&quot;.   Also, when the last window is closed, by default the app will exit, so you probably don&#39;t need to explicitly call exit."},{"owner":{"account_id":16825911,"reputation":19,"user_id":12165215,"display_name":"George"},"score":0,"creation_date":1667048520,"post_id":74240955,"comment_id":131080997,"body_markdown":"Is it still okay to update the GUI in the Controller class using fxmlLoader.getController().update()? I am also still a bit confused on how to get the Controller and the Application to communicate? For example, the Controller class is used to add more objects (due to user interaction) but will require the currentNanoTime to do this.. how would the Controller class get this value from the Application?","body":"Is it still okay to update the GUI in the Controller class using fxmlLoader.getController().update()? I am also still a bit confused on how to get the Controller and the Application to communicate? For example, the Controller class is used to add more objects (due to user interaction) but will require the currentNanoTime to do this.. how would the Controller class get this value from the Application?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667061094,"post_id":74240955,"comment_id":131083649,"body_markdown":"*&quot;how to get the Controller and the Application to communicate? For example, the Controller class is used to add more objects (due to user interaction) but will require the currentNanoTime to do this.. how would the Controller class get this value from the Application&quot;*. That value shouldn&#39;t be in the `Application`; it has nothing to do with managing the application lifecycle. Generally, though, consider a [MVC approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) (also see https://stackoverflow.com/questions/36868391/using-javafx-controller-without-fxml/36873768).","body":"<i>&quot;how to get the Controller and the Application to communicate? For example, the Controller class is used to add more objects (due to user interaction) but will require the currentNanoTime to do this.. how would the Controller class get this value from the Application&quot;</i>. That value shouldn&#39;t be in the <code>Application</code>; it has nothing to do with managing the application lifecycle. Generally, though, consider a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC approach</a> (also see <a href=\"https://stackoverflow.com/questions/36868391/using-javafx-controller-without-fxml/36873768\" title=\"using javafx controller without fxml\">stackoverflow.com/questions/36868391/&hellip;</a>)."}],"owner":{"account_id":16825911,"reputation":19,"user_id":12165215,"display_name":"George"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666991428,"creation_date":1666991428,"question_id":74240955,"body_markdown":"I have a method in my Application class called getController(), which returns the controller of that stage. I am having an issue where getController() returns null if ran from an object of the Application class (note: getController() returns the correct controller if ran from the GUIHandler class). \\\r\nThe reason I am doing this is because the GUI code is separated from the rest of the program&#39;s code, so I require access to the controller to update specific parts  of the GUI in a &quot;Main&quot; class. \\\r\nMy program is a projectile simulator program, where the user can create projectiles and see them on the screen moving around. The business logic lies within a Simulation class, while the GUI code lies within a GUIHandler class and several controllers. \\\r\nThe error occurs on the line &quot;guiHandler.getController().update()&quot; as getController() returns null, but if I run getController() from the GUIHandler&#39;s start() method it does not return null. I have included just the necessary parts of the code.\r\n\r\n# Main #\r\n``` java\r\npublic class Main \r\n{\r\n\tpublic Simulation currentSimulation = new Simulation();\r\n\tpublic FileHandler fileHandler = new FileHandler();\r\n\tpublic GUIHandler guiHandler = new GUIHandler();\r\n\t\r\n\tpublic double dTime = 0;\r\n\tpublic double dTimePerFrame = 20;\r\n\tpublic double dSpeed = 1;\r\n\r\n\tprivate Timer timer = new Timer();\r\n\r\n\tprivate TimerTask task = new TimerTask() \r\n\t{\r\n\t\t/**\r\n\t\t * This method runs every frame, updating the simulation.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic void run() \r\n\t\t{\t\t\t\r\n\t\t\tdTime = dTime + ( dTimePerFrame / 1000 );\r\n\r\n\t\t\tcurrentSimulation.update( dTime );\r\n\t\t\tguiHandler.getController().update();\r\n\t\t\t\r\n\t\t\tSystem.out.println( dTime );\r\n\t\t}\r\n\r\n\t};\r\n```\r\n# GUIHandler #\r\n```java\r\npackage simulation;\r\nimport controllers.MainController;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class GUIHandler extends Application\r\n{\r\n\tprivate FXMLLoader fxmlLoader = new FXMLLoader( getClass().getResource(&quot;/MainGUI.fxml&quot;) );\r\n\t\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception \r\n\t{\r\n\t\t\r\n\t\tParent root = fxmlLoader.load();\t\t\r\n\t\tScene scene = new Scene( root, 900, 600 );\r\n\t\t\r\n\t\tstage.setTitle(&quot;Projectile Simulator&quot;);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t\t\r\n\t\tstage.setOnCloseRequest( event -&gt; System.exit(0) );\r\n\t\t\r\n\t\tSystem.out.println( getController() );\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the controller that controls the main GUI.\r\n\t * @return mainController\r\n\t */\r\n\tpublic MainController getController()\r\n\t{\r\n\t\tMainController mainController = (MainController) fxmlLoader.getController();\r\n\t\treturn mainController;\r\n\t}\r\n\t\r\n\tpublic static void main( String[] args )\r\n\t{\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n## Error ##\r\nThe first line is the value of getController() if run from the GUIHandler&#39;s start() method. The rest is the error that is occured if getController() is run from an object of GUIHandler. It should have returned the same thing.\r\n```\r\ncontrollers.MainController@65c20942\r\nException in thread &quot;Timer-0&quot; java.lang.NullPointerException: Cannot invoke &quot;controllers.MainController.update()&quot; because the return value of &quot;simulation.GUIHandler.getController()&quot; is null\r\n\tat simulation.Main$1.run(Main.java:47)\r\n\tat java.base/java.util.TimerThread.mainLoop(Timer.java:556)\r\n\tat java.base/java.util.TimerThread.run(Timer.java:506)\r\n```\r\nI would like to make GUIHandler&#39;s methods static, but then I am unable to use getClass() in the FXMLLoader. I have tried making an object of the controller class, but then the FXML elements are null when I try to access them. I understand that creating an object is what is causing the issue, but I do not understand why or what else I can do to get what I want?","title":"Problem regarding object orientation in FXML","body":"<p>I have a method in my Application class called getController(), which returns the controller of that stage. I am having an issue where getController() returns null if ran from an object of the Application class (note: getController() returns the correct controller if ran from the GUIHandler class). <br />\nThe reason I am doing this is because the GUI code is separated from the rest of the program's code, so I require access to the controller to update specific parts  of the GUI in a &quot;Main&quot; class. <br />\nMy program is a projectile simulator program, where the user can create projectiles and see them on the screen moving around. The business logic lies within a Simulation class, while the GUI code lies within a GUIHandler class and several controllers. <br />\nThe error occurs on the line &quot;guiHandler.getController().update()&quot; as getController() returns null, but if I run getController() from the GUIHandler's start() method it does not return null. I have included just the necessary parts of the code.</p>\n<h1>Main</h1>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main \n{\n    public Simulation currentSimulation = new Simulation();\n    public FileHandler fileHandler = new FileHandler();\n    public GUIHandler guiHandler = new GUIHandler();\n    \n    public double dTime = 0;\n    public double dTimePerFrame = 20;\n    public double dSpeed = 1;\n\n    private Timer timer = new Timer();\n\n    private TimerTask task = new TimerTask() \n    {\n        /**\n         * This method runs every frame, updating the simulation.\n         */\n        @Override\n        public void run() \n        {           \n            dTime = dTime + ( dTimePerFrame / 1000 );\n\n            currentSimulation.update( dTime );\n            guiHandler.getController().update();\n            \n            System.out.println( dTime );\n        }\n\n    };\n</code></pre>\n<h1>GUIHandler</h1>\n<pre class=\"lang-java prettyprint-override\"><code>package simulation;\nimport controllers.MainController;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class GUIHandler extends Application\n{\n    private FXMLLoader fxmlLoader = new FXMLLoader( getClass().getResource(&quot;/MainGUI.fxml&quot;) );\n    \n    @Override\n    public void start(Stage stage) throws Exception \n    {\n        \n        Parent root = fxmlLoader.load();        \n        Scene scene = new Scene( root, 900, 600 );\n        \n        stage.setTitle(&quot;Projectile Simulator&quot;);\n        stage.setScene(scene);\n        stage.show();\n        \n        stage.setOnCloseRequest( event -&gt; System.exit(0) );\n        \n        System.out.println( getController() );\n        \n        \n    }\n    \n    /**\n     * Gets the controller that controls the main GUI.\n     * @return mainController\n     */\n    public MainController getController()\n    {\n        MainController mainController = (MainController) fxmlLoader.getController();\n        return mainController;\n    }\n    \n    public static void main( String[] args )\n    {\n        launch(args);\n    }\n}\n\n</code></pre>\n<h2>Error</h2>\n<p>The first line is the value of getController() if run from the GUIHandler's start() method. The rest is the error that is occured if getController() is run from an object of GUIHandler. It should have returned the same thing.</p>\n<pre><code>controllers.MainController@65c20942\nException in thread &quot;Timer-0&quot; java.lang.NullPointerException: Cannot invoke &quot;controllers.MainController.update()&quot; because the return value of &quot;simulation.GUIHandler.getController()&quot; is null\n    at simulation.Main$1.run(Main.java:47)\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:556)\n    at java.base/java.util.TimerThread.run(Timer.java:506)\n</code></pre>\n<p>I would like to make GUIHandler's methods static, but then I am unable to use getClass() in the FXMLLoader. I have tried making an object of the controller class, but then the FXML elements are null when I try to access them. I understand that creating an object is what is causing the issue, but I do not understand why or what else I can do to get what I want?</p>\n"},{"tags":["java","documentation","anonymous-class"],"comments":[{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1651371128,"post_id":72073459,"comment_id":127348312,"body_markdown":"I removed the *Oracle* tag. If you check it you will see the tag means *Oracle Database*, not Oracle Corporation (the owners of Java). The question has nothing to do with Oracle Database. Sorry, I do not have an answer, I do not know Java.","body":"I removed the <i>Oracle</i> tag. If you check it you will see the tag means <i>Oracle Database</i>, not Oracle Corporation (the owners of Java). The question has nothing to do with Oracle Database. Sorry, I do not have an answer, I do not know Java."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651371692,"post_id":72073459,"comment_id":127348373,"body_markdown":"It seems that the tutorial is in fact out-of date, as stated on the [main page](https://docs.oracle.com/javase/tutorial/java/); &quot;*The Java Tutorials have been written for JDK 8. Examples and practices described in this page don&#39;t take advantage of improvements introduced in later releases and might use technology no longer available.*&quot; I was able to confirm that the code breaks with openjdk version &quot;11.0.12&quot; 2021-07-20, but works with openjdk version &quot;17.0.1&quot; 2021-10-19.","body":"It seems that the tutorial is in fact out-of date, as stated on the <a href=\"https://docs.oracle.com/javase/tutorial/java/\" rel=\"nofollow noreferrer\">main page</a>; &quot;<i>The Java Tutorials have been written for JDK 8. Examples and practices described in this page don&#39;t take advantage of improvements introduced in later releases and might use technology no longer available.</i>&quot; I was able to confirm that the code breaks with openjdk version &quot;11.0.12&quot; 2021-07-20, but works with openjdk version &quot;17.0.1&quot; 2021-10-19."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651376106,"post_id":72073459,"comment_id":127348740,"body_markdown":"*&quot;... is Oracle not updating its tutorials? If so, why?&quot;* - Question: how much do you pay to Oracle to use the Java tutorials?  From the answer, you should be able to infer some plausible reasons why they haven&#39;t updated them.  But for the real reason, you would need to ask Oracle management, and I doubt they would tell you.","body":"<i>&quot;... is Oracle not updating its tutorials? If so, why?&quot;</i> - Question: how much do you pay to Oracle to use the Java tutorials?  From the answer, you should be able to infer some plausible reasons why they haven&#39;t updated them.  But for the real reason, you would need to ask Oracle management, and I doubt they would tell you."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651371593,"creation_date":1651371593,"answer_id":72073566,"question_id":72073459,"body_markdown":"In the first page of this oracle Java Tutorial documentation &lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/javaOO/index.html&quot;&gt;link&lt;/a&gt; , you will see that this documentation is for JDK 1.8:\r\n\r\n\r\n&gt; The Java Tutorials have been written for JDK 8. Examples and practices\r\n&gt; described in this page don&#39;t take advantage of improvements introduced\r\n&gt; in later releases and might use technology no longer available.\r\n\r\n","title":"Is Oracle&#39;s Java tutorial outdated?","body":"<p>In the first page of this oracle Java Tutorial documentation <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"nofollow noreferrer\">link</a> , you will see that this documentation is for JDK 1.8:</p>\n<blockquote>\n<p>The Java Tutorials have been written for JDK 8. Examples and practices\ndescribed in this page don't take advantage of improvements introduced\nin later releases and might use technology no longer available.</p>\n</blockquote>\n"}],"owner":{"account_id":18744389,"reputation":41,"user_id":13666953,"display_name":"Juliano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666991374,"creation_date":1651369841,"question_id":72073459,"body_markdown":"I&#39;ve recently started reading Oracle&#39;s Java tutorial and I&#39;m not sure if it is up-to-date.\r\n\r\nIn anonymous classes lesson, it is written that:\r\n\r\n&gt; Anonymous classes also have the same restrictions as local classes\r\n&gt; with respect to their members:\r\n&gt; \r\n&gt;  - You cannot declare static initializers or member interfaces in an anonymous class.\r\n&gt;  - An anonymous class can have static members provided that they are constant variables.\r\n\r\nI did some testing and it looks like it&#39;s not true.\r\nUsing Jdoodle&#39;s Java compiler I ran:\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          A a = new A() {\r\n              static {\r\n                  int c = 1;\r\n              }\r\n              // Or this one\r\n              //static int c = 1;\r\n          };\r\n\r\n        }\r\n     }\r\n\r\n     class A {}\r\n \r\nIt threw an error in every version except JDK 17. Is it me misinterpreting something or is Oracle not updating its tutorials? If so, why? \r\n\r\nI did try and googled Java 17 changes but I couldn&#39;t find anything about it.","title":"Is Oracle&#39;s Java tutorial outdated?","body":"<p>I've recently started reading Oracle's Java tutorial and I'm not sure if it is up-to-date.</p>\n<p>In anonymous classes lesson, it is written that:</p>\n<blockquote>\n<p>Anonymous classes also have the same restrictions as local classes\nwith respect to their members:</p>\n<ul>\n<li>You cannot declare static initializers or member interfaces in an anonymous class.</li>\n<li>An anonymous class can have static members provided that they are constant variables.</li>\n</ul>\n</blockquote>\n<p>I did some testing and it looks like it's not true.\nUsing Jdoodle's Java compiler I ran:</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      A a = new A() {\n          static {\n              int c = 1;\n          }\n          // Or this one\n          //static int c = 1;\n      };\n\n    }\n }\n\n class A {}\n</code></pre>\n<p>It threw an error in every version except JDK 17. Is it me misinterpreting something or is Oracle not updating its tutorials? If so, why?</p>\n<p>I did try and googled Java 17 changes but I couldn't find anything about it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666990111,"post_id":74240727,"comment_id":131073344,"body_markdown":"This may not be the only issue, but `dollars += cents / 100;` will work, then just `cents = cents % 100;`  But I think there&#39;s error in other places in the code you haven&#39;t shown us.","body":"This may not be the only issue, but <code>dollars += cents &#47; 100;</code> will work, then just <code>cents = cents % 100;</code>  But I think there&#39;s error in other places in the code you haven&#39;t shown us."},{"owner":{"account_id":24431484,"reputation":1,"user_id":20361547,"display_name":"yodichi"},"score":0,"creation_date":1666990509,"post_id":74240727,"comment_id":131073428,"body_markdown":"public Money(int dol, int cent) {\n\t\tif (cent &lt; 0 || dol &lt; 0) {\n\t\t\tSystem.out.println(&quot;Invalid amount entered&quot;);\n\t\t} else {\n\t\t\t\n\t\t\tif (cent &gt; 99) {\n\t\t\t\tupdateMoney(cent);\n\t\t\t\t\t\n\t\t\t}\n\t\t\n\t\tthis.dollars = dol;\n\t\tthis.cents = cent;\n\t\t}\n\t}. This was the constructor I created when creating the money object","body":"public Money(int dol, int cent) { \t\tif (cent &lt; 0 || dol &lt; 0) { \t\t\tSystem.out.println(&quot;Invalid amount entered&quot;); \t\t} else { \t\t\t \t\t\tif (cent &gt; 99) { \t\t\t\tupdateMoney(cent); \t\t\t\t\t \t\t\t} \t\t \t\tthis.dollars = dol; \t\tthis.cents = cent; \t\t} \t}. This was the constructor I created when creating the money object"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1666990587,"post_id":74240727,"comment_id":131073443,"body_markdown":"You never account for the initial `this.cents` value; your loop only factors in the new `cent`. So whether you have `(15, 300)` initially or `(15, 0)`, your code will work exactly the same.","body":"You never account for the initial <code>this.cents</code> value; your loop only factors in the new <code>cent</code>. So whether you have <code>(15, 300)</code> initially or <code>(15, 0)</code>, your code will work exactly the same."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666990631,"post_id":74240727,"comment_id":131073457,"body_markdown":"1. Please edit your question and add the code there, the formatting in a comment is terrible. 2. This part `this.dollars = dol;` needs to be `+=` or the previous dollar amount get erased.","body":"1. Please edit your question and add the code there, the formatting in a comment is terrible. 2. This part <code>this.dollars = dol;</code> needs to be <code>+=</code> or the previous dollar amount get erased."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666994507,"post_id":74240727,"comment_id":131074230,"body_markdown":"An aside: for something like `println(&quot;Invalid amount` it&#39;s not good to find an invalid value and then allow execution to proceed.  Instead you should probably throw an `new IllegalArgumentException( &quot;Invalid...&quot; );` with the same string message.","body":"An aside: for something like <code>println(&quot;Invalid amount</code> it&#39;s not good to find an invalid value and then allow execution to proceed.  Instead you should probably throw an <code>new IllegalArgumentException( &quot;Invalid...&quot; );</code> with the same string message."}],"answers":[{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666991343,"creation_date":1666991343,"answer_id":74240940,"question_id":74240727,"body_markdown":"You should consider storing your dollars and cents in one long value. The following code takes your dollars and cents, combines them, adds the user&#39;s inputted cents correctly, and splits them up in dollars and cents again. But why not just keep them together all the time?\r\n\r\n    long dollarsWithCents = dollars * 100 + cents;\r\n    dollarsWithCents += parsedUserInput;\r\n    cents = dollarsWithCents % 100;\r\n    dollars = dollarsWithCents / 100;\r\n\r\n","title":"Java method for updating money with cents over 99","body":"<p>You should consider storing your dollars and cents in one long value. The following code takes your dollars and cents, combines them, adds the user's inputted cents correctly, and splits them up in dollars and cents again. But why not just keep them together all the time?</p>\n<pre><code>long dollarsWithCents = dollars * 100 + cents;\ndollarsWithCents += parsedUserInput;\ncents = dollarsWithCents % 100;\ndollars = dollarsWithCents / 100;\n</code></pre>\n"}],"owner":{"account_id":24431484,"reputation":1,"user_id":20361547,"display_name":"yodichi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666991343,"creation_date":1666989903,"question_id":74240727,"body_markdown":"I am trying to create a method so that if the user enters a number of cents over 99, the updateMoney method will add dollars accordingly and then place the extra change once the cents goes under 100. \r\n\r\n\r\n```\r\npublic void updateMoney(int cent) {\r\n\t\tint addDollars = 0;\r\n\t\tint change = 0;\r\n\t\tif (cent &gt; 99) {\r\n\t\t\tfor(int i = cent; i &gt; 99; i -= 100)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\taddDollars += 1;\r\n\t\t\t\tcent -= 100;\r\n\t\t\t}\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tthis.dollars = dollars + addDollars;\r\n\t\tthis.cents = cent;\r\n\t\t\r\n\t}\r\n\r\npublic Money(int dol, int cent) {\r\n\t\tif (cent &lt; 0 || dol &lt; 0) {\r\n\t\t\tSystem.out.println(&quot;Invalid amount entered&quot;);\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tif (cent &gt; 99) {\r\n\t\t\t\tupdateMoney(cent);\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\tthis.dollars = dol;\r\n\t\tthis.cents = cent;\r\n\t\t}\r\n\t}\r\n```\r\nThis is the code I am currently working with.\r\n\r\nI had originally tried a different method that ended up not working so I tried doing something like this instead but my outputs are still off. \r\nIn my driver I ran \r\nMoney money = new Money(15, 300); and the output was $15.00 when it should end up being $18.99","title":"Java method for updating money with cents over 99","body":"<p>I am trying to create a method so that if the user enters a number of cents over 99, the updateMoney method will add dollars accordingly and then place the extra change once the cents goes under 100.</p>\n<pre><code>public void updateMoney(int cent) {\n        int addDollars = 0;\n        int change = 0;\n        if (cent &gt; 99) {\n            for(int i = cent; i &gt; 99; i -= 100)\n            {\n                \n                addDollars += 1;\n                cent -= 100;\n            }           \n            \n        }\n        this.dollars = dollars + addDollars;\n        this.cents = cent;\n        \n    }\n\npublic Money(int dol, int cent) {\n        if (cent &lt; 0 || dol &lt; 0) {\n            System.out.println(&quot;Invalid amount entered&quot;);\n        } else {\n            \n            if (cent &gt; 99) {\n                updateMoney(cent);\n                    \n            }\n        \n        this.dollars = dol;\n        this.cents = cent;\n        }\n    }\n</code></pre>\n<p>This is the code I am currently working with.</p>\n<p>I had originally tried a different method that ended up not working so I tried doing something like this instead but my outputs are still off.\nIn my driver I ran\nMoney money = new Money(15, 300); and the output was $15.00 when it should end up being $18.99</p>\n"},{"tags":["java","apache-kafka","client-certificates","handshake","mtls"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643968588,"post_id":70984266,"comment_id":125485140,"body_markdown":"You&#39;re renewing the certificate **every** day? For what reason?","body":"You&#39;re renewing the certificate <b>every</b> day? For what reason?"},{"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"score":0,"creation_date":1643969139,"post_id":70984266,"comment_id":125485363,"body_markdown":"It&#39;s for security requirements. But, the issue is not about the certificates validity time, since I could also have a certificate expiring in 1 week, but still when it got expired the Kafka clients would still be able to communicate with the brokers.","body":"It&#39;s for security requirements. But, the issue is not about the certificates validity time, since I could also have a certificate expiring in 1 week, but still when it got expired the Kafka clients would still be able to communicate with the brokers."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643969516,"post_id":70984266,"comment_id":125485512,"body_markdown":"Of course, do you realize how ineffective it would be if it had to constantly be doing the handshake for existing connections? You could cut all the connections when you change the cert, and then let them reconnect if you really want to make sure every connection always switches to the new cert.","body":"Of course, do you realize how ineffective it would be if it had to constantly be doing the handshake for existing connections? You could cut all the connections when you change the cert, and then let them reconnect if you really want to make sure every connection always switches to the new cert."},{"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"score":0,"creation_date":1643969805,"post_id":70984266,"comment_id":125485634,"body_markdown":"Sure, to me it&#39;s logical since Kafka is &quot;near real-time oriented&quot;. But, it also seems unsafe that I can&#39;t have the control to reload dynamically the SSL context as I want. What you&#39;ve described is something I&#39;m already doing, but I was trying to understand if the behavior I described was actually correct.","body":"Sure, to me it&#39;s logical since Kafka is &quot;near real-time oriented&quot;. But, it also seems unsafe that I can&#39;t have the control to reload dynamically the SSL context as I want. What you&#39;ve described is something I&#39;m already doing, but I was trying to understand if the behavior I described was actually correct."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643970418,"post_id":70984266,"comment_id":125485862,"body_markdown":"How does it seem unsafe? Give me a concrete example.","body":"How does it seem unsafe? Give me a concrete example."},{"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"score":0,"creation_date":1643971198,"post_id":70984266,"comment_id":125486165,"body_markdown":"If an attacker is able to steal my certificates, simple.","body":"If an attacker is able to steal my certificates, simple."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643972350,"post_id":70984266,"comment_id":125486587,"body_markdown":"No, it&#39;s not simple. A normal certificate is valid for a year. If an attacker is able to steal your certificate, maybe they have access to the client and can easily steal all further certificates too. Wouldn&#39;t help you one bit to keep churning out new certificates every day.","body":"No, it&#39;s not simple. A normal certificate is valid for a year. If an attacker is able to steal your certificate, maybe they have access to the client and can easily steal all further certificates too. Wouldn&#39;t help you one bit to keep churning out new certificates every day."},{"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"score":0,"creation_date":1643980122,"post_id":70984266,"comment_id":125489272,"body_markdown":"But you&#39;re assuming what you are saying is an universal truth instead of knowing in which kind of environment I work and why I need this requirements. Anyway, this is pure off-topic from my question, thank you anyways.","body":"But you&#39;re assuming what you are saying is an universal truth instead of knowing in which kind of environment I work and why I need this requirements. Anyway, this is pure off-topic from my question, thank you anyways."}],"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666991143,"creation_date":1643967951,"question_id":70984266,"body_markdown":"I&#39;m using the Java library `kafka-clients` 3.0.0 since I have a K8s cluster with 3 brokers and I need to produce/consume on topics through microservices. \r\n\r\nBoth the Kafka brokers and clients have been correctly configured to authenticate clients through a mTLS protocol using a keystore and truststore. All the authentication and encryption communication works like a charm!\r\n\r\nHere comes the issue: for security manners, the client certificates got renewed each day, so each certificate expires in 24 hours. **When a client certificate got expired, the client is still able to communicate regularly with the Kafka brokers, both producing and consuming**. I suppose this happens since the mTLS handshake between clients and brokers happens just the first time, when the producer/consumer get initialized, then there will be the same TCP channels to communicate. \r\n\r\nAnyways, if it&#39;s working like that it seems to me a security issue. Does anybody know more about this `kafka-clients` behaviour? Is my hypothesis wrong? Is there a way to force the handshake after a while?\r\n\r\nThank you.\r\n\r\n","title":"When a kafka-clients mTLS handshake happens during its life-cycle?","body":"<p>I'm using the Java library <code>kafka-clients</code> 3.0.0 since I have a K8s cluster with 3 brokers and I need to produce/consume on topics through microservices.</p>\n<p>Both the Kafka brokers and clients have been correctly configured to authenticate clients through a mTLS protocol using a keystore and truststore. All the authentication and encryption communication works like a charm!</p>\n<p>Here comes the issue: for security manners, the client certificates got renewed each day, so each certificate expires in 24 hours. <strong>When a client certificate got expired, the client is still able to communicate regularly with the Kafka brokers, both producing and consuming</strong>. I suppose this happens since the mTLS handshake between clients and brokers happens just the first time, when the producer/consumer get initialized, then there will be the same TCP channels to communicate.</p>\n<p>Anyways, if it's working like that it seems to me a security issue. Does anybody know more about this <code>kafka-clients</code> behaviour? Is my hypothesis wrong? Is there a way to force the handshake after a while?</p>\n<p>Thank you.</p>\n"},{"tags":["java","android-studio","if-statement","textview","visibility"],"answers":[{"tags":[],"owner":{"account_id":18123623,"reputation":61,"user_id":13179338,"display_name":"Ashish Suman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666899143,"creation_date":1666899143,"answer_id":74227392,"question_id":74227230,"body_markdown":"The condition should be `if(textView.getVisibility() == View.VISIBLE){`","title":"Android Studio If-statement make TextView visible if invisible and invisible if visible","body":"<p>The condition should be <code>if(textView.getVisibility() == View.VISIBLE){</code></p>\n"},{"comments":[{"owner":{"account_id":4924789,"reputation":602,"user_id":4038800,"display_name":"DonCarleone"},"score":1,"creation_date":1667322280,"post_id":74240902,"comment_id":131138494,"body_markdown":"This can be left as a comment as it is not an answer :)","body":"This can be left as a comment as it is not an answer :)"}],"tags":[],"owner":{"account_id":26752668,"reputation":11,"user_id":20351789,"display_name":"FilleFrella44"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666991109,"creation_date":1666991109,"answer_id":74240902,"question_id":74227230,"body_markdown":"I cannot seem to upvote your comment just yet (this is literally my first post), however this did solve my problem. Thank you!","title":"Android Studio If-statement make TextView visible if invisible and invisible if visible","body":"<p>I cannot seem to upvote your comment just yet (this is literally my first post), however this did solve my problem. Thank you!</p>\n"}],"owner":{"account_id":26752668,"reputation":11,"user_id":20351789,"display_name":"FilleFrella44"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666991109,"creation_date":1666898270,"question_id":74227230,"body_markdown":"I am trying to make a textView invisible when pressing a button. But, if the textView is already invisible I want it to become visible.\r\n\r\nCurrently I am trying sonething like this:\r\n\r\n\r\n```\r\npublic void ShowAndHide(View view){\r\n    if(textView == View.VISIBLE){\r\n        textView.setVisibility(View.INVISIBLE);\r\n    }\r\n    else   {\r\n        textView.setVisibility(View.VISIBLE);\r\n    }\r\n}\r\n```\r\n\r\nWhere &quot;textView&quot; is a TextView which I have defined by id:\r\n\r\n```\r\nTextView textView;\r\n\r\ntextView = (TextView) findViewById(R.id.showMe_txt);\r\n```\r\n\r\nAnyone who knows why this does not work? Coming from a C# background and this is my first dabble with Java so quite unfamiliar. \r\n","title":"Android Studio If-statement make TextView visible if invisible and invisible if visible","body":"<p>I am trying to make a textView invisible when pressing a button. But, if the textView is already invisible I want it to become visible.</p>\n<p>Currently I am trying sonething like this:</p>\n<pre><code>public void ShowAndHide(View view){\n    if(textView == View.VISIBLE){\n        textView.setVisibility(View.INVISIBLE);\n    }\n    else   {\n        textView.setVisibility(View.VISIBLE);\n    }\n}\n</code></pre>\n<p>Where &quot;textView&quot; is a TextView which I have defined by id:</p>\n<pre><code>TextView textView;\n\ntextView = (TextView) findViewById(R.id.showMe_txt);\n</code></pre>\n<p>Anyone who knows why this does not work? Coming from a C# background and this is my first dabble with Java so quite unfamiliar.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1666979030,"post_id":74239075,"comment_id":131070437,"body_markdown":"What have you tried that didn&#39;t work? Should be straightforward.","body":"What have you tried that didn&#39;t work? Should be straightforward."}],"answers":[{"tags":[],"owner":{"account_id":3285612,"reputation":143,"user_id":2765212,"accept_rate":71,"display_name":"JaimeASV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666991093,"creation_date":1666991093,"answer_id":74240898,"question_id":74239075,"body_markdown":"Leaving all classes and simple test that finally worked.\r\n\r\nTree.java\r\n\r\n    @Builder\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @FieldDefaults(level = PUBLIC)\r\n    public class Tree {\r\n        String name;\r\n        List&lt;Leaf&gt; leafs;\r\n    }\r\n\r\nLeaf.java\r\n\r\n    @Builder\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @FieldDefaults(level = PUBLIC)\r\n    public class Leaf {\r\n        String name;\r\n        List&lt;Leaf&gt; children;\r\n    }\r\n\r\nTreeResponse.java\r\n\r\n    @Getter\r\n    @Setter\r\n    @FieldDefaults(level = PUBLIC)\r\n    public class TreeResponse {\r\n        String name;\r\n        List&lt;LeafResponse&gt; leafs;\r\n    }\r\n\r\nLeafResponse.java\r\n\r\n    @Getter\r\n    @Setter\r\n    @FieldDefaults(level = PUBLIC)\r\n    public class LeafResponse {\r\n        String name;\r\n        List&lt;LeafResponse&gt; children;\r\n    }\r\n\r\nMappers\r\n\r\n    @Mapper\r\n    public interface TreeMapper {\r\n    \r\n        @Mapping(target = &quot;name&quot;, source = &quot;entity.name&quot;)\r\n        TreeResponse map(Tree entity);\r\n    }\r\n    \r\n    @Mapper\r\n    public interface LeafMapperSecond {\r\n        LeafResponse map(Leaf entity);\r\n    \r\n        List&lt;LeafResponse&gt; map(List&lt;Leaf&gt; entity);\r\n    }\r\n\r\nTest\r\n\r\n    private TreeMapper treeMapper = Mappers.getMapper(TreeMapper.class);\r\n    \r\n        @Test\r\n        public void test() {\r\n            List&lt;Leaf&gt; leafs = new ArrayList&lt;&gt;();\r\n            leafs.add(Leaf.builder().name(&quot;Leaf 1&quot;).build());\r\n    \r\n            leafs.add(\r\n                    Leaf.builder()\r\n                            .name(&quot;Leaf 2&quot;)\r\n                            .children(\r\n                                    Arrays.asList(\r\n                                            Leaf.builder()\r\n                                                    .name(&quot;Leaf Children 1&quot;)\r\n                                                    .children(\r\n                                                            Arrays.asList(\r\n                                                                    Leaf.builder()\r\n                                                                            .name(&quot;Leaf Children 1.1&quot;)\r\n                                                                            .build(),\r\n                                                                    Leaf.builder()\r\n                                                                            .name(&quot;Leaf Children 1.2&quot;)\r\n                                                                            .build()))\r\n                                                    .build(),\r\n                                            Leaf.builder().name(&quot;Leaf Children 2&quot;).build()))\r\n                            .build());\r\n    \r\n            Tree tree = Tree.builder().name(&quot;tree name&quot;).leafs(leafs).build();\r\n    \r\n            TreeResponse treeResponse = treeMapper.map(tree);\r\n    \r\n            assertEquals(treeResponse.name, &quot;tree name&quot;);\r\n            assertEquals(treeResponse.leafs.size(), 2);\r\n    \r\n            LeafResponse leafWithChildren =\r\n                    treeResponse.leafs.stream()\r\n                            .filter(l -&gt; l.name.equals(&quot;Leaf 2&quot;))\r\n                            .findFirst()\r\n                            .orElse(null);\r\n            assertNotNull(leafWithChildren);\r\n            assertEquals(leafWithChildren.getChildren().size(), 2);\r\n    \r\n            LeafResponse leafWithSubChildren =\r\n                    leafWithChildren.children.stream()\r\n                            .filter(l -&gt; l.name.equals(&quot;Leaf Children 1&quot;))\r\n                            .findFirst()\r\n                            .orElse(null);\r\n            \r\n            assertNotNull(leafWithSubChildren);\r\n            assertEquals(leafWithChildren.getChildren().size(), 2);\r\n        }\r\n\r\n","title":"Java &amp; Mapstruct serialization with recursion","body":"<p>Leaving all classes and simple test that finally worked.</p>\n<p>Tree.java</p>\n<pre><code>@Builder\n@Getter\n@AllArgsConstructor\n@FieldDefaults(level = PUBLIC)\npublic class Tree {\n    String name;\n    List&lt;Leaf&gt; leafs;\n}\n</code></pre>\n<p>Leaf.java</p>\n<pre><code>@Builder\n@Getter\n@AllArgsConstructor\n@FieldDefaults(level = PUBLIC)\npublic class Leaf {\n    String name;\n    List&lt;Leaf&gt; children;\n}\n</code></pre>\n<p>TreeResponse.java</p>\n<pre><code>@Getter\n@Setter\n@FieldDefaults(level = PUBLIC)\npublic class TreeResponse {\n    String name;\n    List&lt;LeafResponse&gt; leafs;\n}\n</code></pre>\n<p>LeafResponse.java</p>\n<pre><code>@Getter\n@Setter\n@FieldDefaults(level = PUBLIC)\npublic class LeafResponse {\n    String name;\n    List&lt;LeafResponse&gt; children;\n}\n</code></pre>\n<p>Mappers</p>\n<pre><code>@Mapper\npublic interface TreeMapper {\n\n    @Mapping(target = &quot;name&quot;, source = &quot;entity.name&quot;)\n    TreeResponse map(Tree entity);\n}\n\n@Mapper\npublic interface LeafMapperSecond {\n    LeafResponse map(Leaf entity);\n\n    List&lt;LeafResponse&gt; map(List&lt;Leaf&gt; entity);\n}\n</code></pre>\n<p>Test</p>\n<pre><code>private TreeMapper treeMapper = Mappers.getMapper(TreeMapper.class);\n\n    @Test\n    public void test() {\n        List&lt;Leaf&gt; leafs = new ArrayList&lt;&gt;();\n        leafs.add(Leaf.builder().name(&quot;Leaf 1&quot;).build());\n\n        leafs.add(\n                Leaf.builder()\n                        .name(&quot;Leaf 2&quot;)\n                        .children(\n                                Arrays.asList(\n                                        Leaf.builder()\n                                                .name(&quot;Leaf Children 1&quot;)\n                                                .children(\n                                                        Arrays.asList(\n                                                                Leaf.builder()\n                                                                        .name(&quot;Leaf Children 1.1&quot;)\n                                                                        .build(),\n                                                                Leaf.builder()\n                                                                        .name(&quot;Leaf Children 1.2&quot;)\n                                                                        .build()))\n                                                .build(),\n                                        Leaf.builder().name(&quot;Leaf Children 2&quot;).build()))\n                        .build());\n\n        Tree tree = Tree.builder().name(&quot;tree name&quot;).leafs(leafs).build();\n\n        TreeResponse treeResponse = treeMapper.map(tree);\n\n        assertEquals(treeResponse.name, &quot;tree name&quot;);\n        assertEquals(treeResponse.leafs.size(), 2);\n\n        LeafResponse leafWithChildren =\n                treeResponse.leafs.stream()\n                        .filter(l -&gt; l.name.equals(&quot;Leaf 2&quot;))\n                        .findFirst()\n                        .orElse(null);\n        assertNotNull(leafWithChildren);\n        assertEquals(leafWithChildren.getChildren().size(), 2);\n\n        LeafResponse leafWithSubChildren =\n                leafWithChildren.children.stream()\n                        .filter(l -&gt; l.name.equals(&quot;Leaf Children 1&quot;))\n                        .findFirst()\n                        .orElse(null);\n        \n        assertNotNull(leafWithSubChildren);\n        assertEquals(leafWithChildren.getChildren().size(), 2);\n    }\n</code></pre>\n"}],"owner":{"account_id":3285612,"reputation":143,"user_id":2765212,"accept_rate":71,"display_name":"JaimeASV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74240898,"answer_count":1,"score":0,"last_activity_date":1666991093,"creation_date":1666978938,"question_id":74239075,"body_markdown":"For some context, I am developing a Java Web application with Spring &amp; Lombok (Rest API, controllers, etc).\r\n\r\nAnd for JSON API responses I am using Mapstruct to perform the serializations between internal models and the final external ones. \r\n\r\nBut I cannot figure out how to parse the following example:\r\n\r\nWhere we can have a **Tree**.\r\n\r\n    public class Tree {\r\n        List&lt;Leaf&gt; leafs;\r\n    }\r\n\r\nAnd inside of it we have Leafs. **But each Leaf as inside of it a list of Leafs.**\r\n\r\n    public class Leaf {\r\n        String name;\r\n        List&lt;Leaf&gt; children;\r\n    }\r\n\r\nSo what I would need Mapstruct to do is, serialize the **Tree** into a **TreeResponse**.\r\n\r\n    public class TreeResponse {\r\n        List&lt;LeafResponse&gt; leafs;\r\n    }\r\n\r\nAnd all Leafs inside the Tree into **LeafResponse**, along with the Leaf list inside the &quot;father&quot; Leaf.\r\n\r\n    public class LeafResponse {\r\n        String name;\r\n        List&lt;LeafResponse&gt; children;\r\n    }\r\n\r\nHow can I achieve this in Mapstruct? Thanks","title":"Java &amp; Mapstruct serialization with recursion","body":"<p>For some context, I am developing a Java Web application with Spring &amp; Lombok (Rest API, controllers, etc).</p>\n<p>And for JSON API responses I am using Mapstruct to perform the serializations between internal models and the final external ones.</p>\n<p>But I cannot figure out how to parse the following example:</p>\n<p>Where we can have a <strong>Tree</strong>.</p>\n<pre><code>public class Tree {\n    List&lt;Leaf&gt; leafs;\n}\n</code></pre>\n<p>And inside of it we have Leafs. <strong>But each Leaf as inside of it a list of Leafs.</strong></p>\n<pre><code>public class Leaf {\n    String name;\n    List&lt;Leaf&gt; children;\n}\n</code></pre>\n<p>So what I would need Mapstruct to do is, serialize the <strong>Tree</strong> into a <strong>TreeResponse</strong>.</p>\n<pre><code>public class TreeResponse {\n    List&lt;LeafResponse&gt; leafs;\n}\n</code></pre>\n<p>And all Leafs inside the Tree into <strong>LeafResponse</strong>, along with the Leaf list inside the &quot;father&quot; Leaf.</p>\n<pre><code>public class LeafResponse {\n    String name;\n    List&lt;LeafResponse&gt; children;\n}\n</code></pre>\n<p>How can I achieve this in Mapstruct? Thanks</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":26595247,"reputation":7,"user_id":20217706,"display_name":"Jack"},"score":0,"creation_date":1666989736,"post_id":74240625,"comment_id":131073256,"body_markdown":"It&#39;s not in the classroom. These are the encryption keys that are located separately in the spring boot resources folder","body":"It&#39;s not in the classroom. These are the encryption keys that are located separately in the spring boot resources folder"},{"owner":{"account_id":26595247,"reputation":7,"user_id":20217706,"display_name":"Jack"},"score":0,"creation_date":1666989880,"post_id":74240625,"comment_id":131073295,"body_markdown":"And this is the string","body":"And this is the string"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1666990202,"post_id":74240625,"comment_id":131073360,"body_markdown":"It does not matter","body":"It does not matter"},{"owner":{"account_id":26595247,"reputation":7,"user_id":20217706,"display_name":"Jack"},"score":0,"creation_date":1666990533,"post_id":74240625,"comment_id":131073433,"body_markdown":"Your code returns bytes. I need to return a string, not a byte.","body":"Your code returns bytes. I need to return a string, not a byte."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1666990603,"post_id":74240625,"comment_id":131073448,"body_markdown":"`String str = new String(byte[])`","body":"<code>String str = new String(byte[])</code>"},{"owner":{"account_id":26595247,"reputation":7,"user_id":20217706,"display_name":"Jack"},"score":0,"creation_date":1666990677,"post_id":74240625,"comment_id":131073469,"body_markdown":"Look above, I&#39;ve updated the post. These are the methods that receive the text.","body":"Look above, I&#39;ve updated the post. These are the methods that receive the text."},{"owner":{"account_id":26595247,"reputation":7,"user_id":20217706,"display_name":"Jack"},"score":0,"creation_date":1666990789,"post_id":74240625,"comment_id":131073488,"body_markdown":"getPrivateKeyContent() and getPublicKeyContent()","body":"getPrivateKeyContent() and getPublicKeyContent()"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666990125,"creation_date":1666989294,"answer_id":74240625,"question_id":74240594,"body_markdown":"You should add `/` to the resource path and use `InputStream`:\r\n\r\n```java\r\npublic class Foo {\r\n\r\n    public static byte[] readResourceFile(String path) throws IOException {\r\n        if (path.charAt(0) != &#39;/&#39;)\r\n            path = &#39;/&#39; + path;\r\n\r\n        try (InputStream in = Foo.class.getResourceAsStream(path)) {\r\n            return IOUtils.toByteArray(in);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nRemember that when you build a `jar` file, the `resource` will be copied to the root of the jar file.\r\n\r\n\r\nThis is the sources:\r\n```\r\nFoo\r\n|--&gt; src\r\n      |--&gt; main\r\n      |     |--&gt; java\r\n      |     |     |--&gt; com\r\n      |     |           |--&gt; stackoverflow\r\n      |     |                  |--&gt; Foo.java\r\n      |     |--&gt; resources\r\n      |     |     |--&gt; key\r\n      |                 |--&gt; private.pem\r\n      |--&gt; test\r\n```\r\n\r\nThis is a `foo.jar` file\r\n```\r\nfoo.jar\r\n|--&gt; META_INF\r\n|--&gt; com\r\n|     |--&gt; stackoverflow\r\n|           |--&gt; Foo.class\r\n|--&gt; key\r\n      |--&gt; private.pem\r\n\r\n```\r\n\r\nAnd the root of the `foo.jar` is a `/`. So the full path to the resouces is `/key/private.pem`.","title":"Get Resource Spring Boot Java","body":"<p>You should add <code>/</code> to the resource path and use <code>InputStream</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    public static byte[] readResourceFile(String path) throws IOException {\n        if (path.charAt(0) != '/')\n            path = '/' + path;\n\n        try (InputStream in = Foo.class.getResourceAsStream(path)) {\n            return IOUtils.toByteArray(in);\n        }\n    }\n\n}\n</code></pre>\n<p>Remember that when you build a <code>jar</code> file, the <code>resource</code> will be copied to the root of the jar file.</p>\n<p>This is the sources:</p>\n<pre><code>Foo\n|--&gt; src\n      |--&gt; main\n      |     |--&gt; java\n      |     |     |--&gt; com\n      |     |           |--&gt; stackoverflow\n      |     |                  |--&gt; Foo.java\n      |     |--&gt; resources\n      |     |     |--&gt; key\n      |                 |--&gt; private.pem\n      |--&gt; test\n</code></pre>\n<p>This is a <code>foo.jar</code> file</p>\n<pre><code>foo.jar\n|--&gt; META_INF\n|--&gt; com\n|     |--&gt; stackoverflow\n|           |--&gt; Foo.class\n|--&gt; key\n      |--&gt; private.pem\n\n</code></pre>\n<p>And the root of the <code>foo.jar</code> is a <code>/</code>. So the full path to the resouces is <code>/key/private.pem</code>.</p>\n"},{"tags":[],"owner":{"account_id":7199579,"reputation":176,"user_id":5497176,"display_name":"Kashinath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666990715,"creation_date":1666990715,"answer_id":74240849,"question_id":74240594,"body_markdown":"Try this util method which uses spring framework core and util packages.\r\n\r\n```\r\n    public static String getResourceFileContent(String resourcePath) {\r\n        Objects.requireNonNull(resourcePath);\r\n        ClassPathResource resource = new ClassPathResource(resourcePath);\r\n        try {\r\n            byte[] bytes = FileCopyUtils.copyToByteArray(resource.getInputStream());\r\n            return new String(bytes);\r\n        } catch(IOException ex) {\r\n            log.error(&quot;Failed to parse resource file : &quot; + resourcePath, ex);\r\n        }\r\n    }\r\n```","title":"Get Resource Spring Boot Java","body":"<p>Try this util method which uses spring framework core and util packages.</p>\n<pre><code>    public static String getResourceFileContent(String resourcePath) {\n        Objects.requireNonNull(resourcePath);\n        ClassPathResource resource = new ClassPathResource(resourcePath);\n        try {\n            byte[] bytes = FileCopyUtils.copyToByteArray(resource.getInputStream());\n            return new String(bytes);\n        } catch(IOException ex) {\n            log.error(&quot;Failed to parse resource file : &quot; + resourcePath, ex);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26595247,"reputation":7,"user_id":20217706,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74240849,"answer_count":2,"score":-1,"last_activity_date":1666990715,"creation_date":1666989043,"question_id":74240594,"body_markdown":"\r\nHow to get resource from folder resources/key?\r\n\r\nI did like this:\r\n```\r\nString Key = new String(Files.readAllBytes(Paths.get(ClassLoader.getSystemResource(&quot;key/private.pem&quot;).toURI())));\r\n```\r\nAnd it doesn&#39;t work when I build the project into a jar. So I&#39;m looking for another way to do this.\r\nCan you please tell me how to get the resource?\r\n\r\n\r\n\r\n\t\tprivate PublicKey getPublicKey() throws NoSuchAlgorithmException, InvalidKeySpecException, IOException {\r\n\r\n\t\t    String key = getPublicKeyContent().replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\r\n\t\t            .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\r\n\r\n\t\t    X509EncodedKeySpec keySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(key));\r\n\r\n\t\t    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n\t\t    return kf.generatePublic(keySpec);\r\n\t\t  }\r\n\r\n\r\n\r\n\t\t  private PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n\r\n\t\t    String key = getPrivateKeyContent().replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\r\n\t\t            .replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\r\n\r\n\t\t    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(key));\r\n\r\n\t\t    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n\t\t    return kf.generatePrivate(keySpec);\r\n\t\t  }","title":"Get Resource Spring Boot Java","body":"<p>How to get resource from folder resources/key?</p>\n<p>I did like this:</p>\n<pre><code>String Key = new String(Files.readAllBytes(Paths.get(ClassLoader.getSystemResource(&quot;key/private.pem&quot;).toURI())));\n</code></pre>\n<p>And it doesn't work when I build the project into a jar. So I'm looking for another way to do this.\nCan you please tell me how to get the resource?</p>\n<pre><code>    private PublicKey getPublicKey() throws NoSuchAlgorithmException, InvalidKeySpecException, IOException {\n\n        String key = getPublicKeyContent().replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\n                .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\n\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(key));\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n        return kf.generatePublic(keySpec);\n      }\n\n\n\n      private PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        String key = getPrivateKeyContent().replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\n                .replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\n\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(key));\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n        return kf.generatePrivate(keySpec);\n      }\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"answers":[{"comments":[{"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"score":0,"creation_date":1666984615,"post_id":74239822,"comment_id":131071973,"body_markdown":"Thank you. Exactly what I wanted. (And I am facepalming that I didn&#39;t find that method on my own.)","body":"Thank you. Exactly what I wanted. (And I am facepalming that I didn&#39;t find that method on my own.)"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666984349,"creation_date":1666983626,"answer_id":74239822,"question_id":74239761,"body_markdown":"Implementing `Comparator` by writing a convoluted multiline lambda is error-prone. Leveraging Java 8 factory methods is always a preferred way to define a `Comparator`, you simply need to use another static method.\r\n\r\nReplace `comparingInt()` with [`comparing(Function, Comparator)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)), which allows to provide a Comparator that should be used to compare the result produced by the specified Function:\r\n\r\n    static public List&lt;Integer&gt; decode(List&lt;Integer&gt; al,\r\n                                       Comparator&lt;Integer&gt; valComp) {\r\n        \r\n        final Comparator&lt;IntIdx&gt; idxComp = Comparator\r\n            .comparing(IntIdx::getValue, valComp)\r\n            .thenComparingInt(IntIdx::getIdx);\r\n        \r\n    }","title":"Create comparator from another of different type","body":"<p>Implementing <code>Comparator</code> by writing a convoluted multiline lambda is error-prone. Leveraging Java 8 factory methods is always a preferred way to define a <code>Comparator</code>, you simply need to use another static method.</p>\n<p>Replace <code>comparingInt()</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>comparing(Function, Comparator)</code></a>, which allows to provide a Comparator that should be used to compare the result produced by the specified Function:</p>\n<pre><code>static public List&lt;Integer&gt; decode(List&lt;Integer&gt; al,\n                                   Comparator&lt;Integer&gt; valComp) {\n    \n    final Comparator&lt;IntIdx&gt; idxComp = Comparator\n        .comparing(IntIdx::getValue, valComp)\n        .thenComparingInt(IntIdx::getIdx);\n    \n}\n</code></pre>\n"}],"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74239822,"answer_count":1,"score":0,"last_activity_date":1666990282,"creation_date":1666983191,"question_id":74239761,"body_markdown":"I have a very simple helper class that looks something like:\r\n\r\n\r\n```\r\nprivate static class IntIdx {\r\n\tint val;\r\n\tint idx;\r\n\tIntIdx(int val, int idx) {\r\n\t\tthis.val = val;\r\n\t\tthis.idx = idx;\r\n\t}\r\n\tpublic int getValue() {\r\n\t\treturn val;\r\n\t}\r\n\tpublic int getIdx() {\r\n\t\treturn idx; \r\n\t}\r\n}\r\n```\r\n\r\nAnd I use a comparator that sorts it by value then by index:\r\n\r\n```\r\nstatic public List&lt;Integer&gt; decode(List&lt;Integer&gt; al) {\r\n\r\n\tfinal Comparator&lt;IntIdx&gt; idxComp = Comparator\r\n  \t\t.comparingInt(IntIdx::getValue)\r\n\t\t.thenComparingInt(IntIdx::getIdx);\r\n\r\n ...[other code]...\r\n}\r\n\r\n```\r\n\r\nI now have a situation where the values must be sorted in a different order, so I want to allow the caller to pass in a Comparator\\&lt;Integer&gt; for the value part. The problem is I don&#39;t know how to create such a comparator using similar syntax to above. Because the caller doesn&#39;t need to be aware of the implementation details, they are not passing a Comparator\\&lt;IntIdx&gt;, they are passing a Comparator\\&lt;Integer&gt; and I don&#39;t know how to chain together comparators for IntIdx using a comparator for Integer.\r\n\r\nI can write something like:\r\n\r\n\r\n```\r\nstatic public List&lt;Integer&gt; decode(List&lt;Integer&gt; al, Comparator&lt;Integer&gt; valComp) {\r\n\r\n\tfinal Comparator&lt;IntIdx&gt; testComp = (i1, i2) -&gt; {\r\n\t\t\tint r = valComp.compare(i1.getValue(), i2.getValue());\r\n\t\t\tif (r != 0) {\r\n\t\t\t\treturn r;\r\n\t\t\t}\r\n\t\t\treturn Integer.compare(i1.getIdx(), i2.getIdx());\r\n\t\t};\r\n\r\n ...[other code]...\r\n}\r\n\r\n```\r\n\r\nwhich should work, but it feels much messier than what I currently have. Is this the best way of writing this? Is there any way to write the above is the nice `Comparator.comparing...` syntax in the current implementation?\r\n\r\nIt feels like there should be something like the following (which I understand doesn&#39;t work)\r\n\r\n```\r\nfinal Comparator&lt;IntIdx&gt; testComp = Comparator.compare(valComp.compare(IntIdx::getValue)).thenComparingInt(IntIdx::getIdx)\r\n```\r\nor\r\n```\r\nfinal Comparator&lt;IntIdx&gt; testComp = valComp.comparing(IntIdx::getValue).thenComparingInt(IntIdx::getIdx);\r\n```\r\n\r\nalthough I can&#39;t find anything like that in the Comparator documentation or my Google/SO searches.\r\n\r\nI assume this is a relatively common thing and I just don&#39;t know the correct terminology to search for. I look forward to face-palming when the answer is revealed.\r\n\r\nIf the caller passed in a Comparator\\&lt;IntIdx&gt;, it would be easy to chain it together like\r\n\r\n```\r\nfinal Comparator&lt;IntIdx&gt; iiComp = valComp.thenComparingInt(IntIdx::getIdx);\r\n```\r\nbut that&#39;s not my scenario.","title":"Create comparator from another of different type","body":"<p>I have a very simple helper class that looks something like:</p>\n<pre><code>private static class IntIdx {\n    int val;\n    int idx;\n    IntIdx(int val, int idx) {\n        this.val = val;\n        this.idx = idx;\n    }\n    public int getValue() {\n        return val;\n    }\n    public int getIdx() {\n        return idx; \n    }\n}\n</code></pre>\n<p>And I use a comparator that sorts it by value then by index:</p>\n<pre><code>static public List&lt;Integer&gt; decode(List&lt;Integer&gt; al) {\n\n    final Comparator&lt;IntIdx&gt; idxComp = Comparator\n        .comparingInt(IntIdx::getValue)\n        .thenComparingInt(IntIdx::getIdx);\n\n ...[other code]...\n}\n\n</code></pre>\n<p>I now have a situation where the values must be sorted in a different order, so I want to allow the caller to pass in a Comparator&lt;Integer&gt; for the value part. The problem is I don't know how to create such a comparator using similar syntax to above. Because the caller doesn't need to be aware of the implementation details, they are not passing a Comparator&lt;IntIdx&gt;, they are passing a Comparator&lt;Integer&gt; and I don't know how to chain together comparators for IntIdx using a comparator for Integer.</p>\n<p>I can write something like:</p>\n<pre><code>static public List&lt;Integer&gt; decode(List&lt;Integer&gt; al, Comparator&lt;Integer&gt; valComp) {\n\n    final Comparator&lt;IntIdx&gt; testComp = (i1, i2) -&gt; {\n            int r = valComp.compare(i1.getValue(), i2.getValue());\n            if (r != 0) {\n                return r;\n            }\n            return Integer.compare(i1.getIdx(), i2.getIdx());\n        };\n\n ...[other code]...\n}\n\n</code></pre>\n<p>which should work, but it feels much messier than what I currently have. Is this the best way of writing this? Is there any way to write the above is the nice <code>Comparator.comparing...</code> syntax in the current implementation?</p>\n<p>It feels like there should be something like the following (which I understand doesn't work)</p>\n<pre><code>final Comparator&lt;IntIdx&gt; testComp = Comparator.compare(valComp.compare(IntIdx::getValue)).thenComparingInt(IntIdx::getIdx)\n</code></pre>\n<p>or</p>\n<pre><code>final Comparator&lt;IntIdx&gt; testComp = valComp.comparing(IntIdx::getValue).thenComparingInt(IntIdx::getIdx);\n</code></pre>\n<p>although I can't find anything like that in the Comparator documentation or my Google/SO searches.</p>\n<p>I assume this is a relatively common thing and I just don't know the correct terminology to search for. I look forward to face-palming when the answer is revealed.</p>\n<p>If the caller passed in a Comparator&lt;IntIdx&gt;, it would be easy to chain it together like</p>\n<pre><code>final Comparator&lt;IntIdx&gt; iiComp = valComp.thenComparingInt(IntIdx::getIdx);\n</code></pre>\n<p>but that's not my scenario.</p>\n"},{"tags":["java","windows","explorer","revert"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666423335,"post_id":74161446,"comment_id":130937620,"body_markdown":"Can&#39;t you just browse to java.exe with the file chooser?","body":"Can&#39;t you just browse to java.exe with the file chooser?"},{"owner":{"account_id":26698995,"reputation":1,"user_id":20306360,"display_name":"stanlovesham777"},"score":0,"creation_date":1666981649,"post_id":74161446,"comment_id":131071180,"body_markdown":"The file chooser is what I used to get back to the java icon you can see in attached photo. Still have not been able to get back to that original icon. There were dozens of Java files/folders in the java folder where I found the java.exe file (the one that brought me to the icon in attachment)... for all I know, the correct file is in there somewhere, I just don&#39;t know where, and I&#39;ve learned my lesson about clicking on things I&#39;m not sure about. Long story short, still have not found a fix.","body":"The file chooser is what I used to get back to the java icon you can see in attached photo. Still have not been able to get back to that original icon. There were dozens of Java files/folders in the java folder where I found the java.exe file (the one that brought me to the icon in attachment)... for all I know, the correct file is in there somewhere, I just don&#39;t know where, and I&#39;ve learned my lesson about clicking on things I&#39;m not sure about. Long story short, still have not found a fix."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1666989798,"post_id":74161446,"comment_id":131073267,"body_markdown":"Just change [file extension association](http://www.digitaltrends.com/computing/how-to-change-file-associations/)","body":"Just change <a href=\"http://www.digitaltrends.com/computing/how-to-change-file-associations/\" rel=\"nofollow noreferrer\">file extension association</a>"}],"answers":[{"comments":[{"owner":{"account_id":26698995,"reputation":1,"user_id":20306360,"display_name":"stanlovesham777"},"score":0,"creation_date":1666982091,"post_id":74161930,"comment_id":131071303,"body_markdown":"This is something I will look into, but am a little hesitant because I don&#39;t know what I&#39;m doing if I follow these instructions. May I please have an explanation of what you are asking me to do when I &quot;Run regedit and RemoveKey......... Restart&quot;? What am I accomplishing when using these commands? Thanks","body":"This is something I will look into, but am a little hesitant because I don&#39;t know what I&#39;m doing if I follow these instructions. May I please have an explanation of what you are asking me to do when I &quot;Run regedit and RemoveKey......... Restart&quot;? What am I accomplishing when using these commands? Thanks"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666995638,"post_id":74161930,"comment_id":131074421,"body_markdown":"Definitely avoid editing the registry directly","body":"Definitely avoid editing the registry directly"},{"owner":{"account_id":26698995,"reputation":1,"user_id":20306360,"display_name":"stanlovesham777"},"score":0,"creation_date":1667158952,"post_id":74161930,"comment_id":131099452,"body_markdown":"How about this... I do not know what DEFAULT file opens jGrasp .class files. Can someone please tell me that? If I know THAT, then I CAN just go to &quot;file chooser&quot; as it&#39;s been suggested. Thanks folks","body":"How about this... I do not know what DEFAULT file opens jGrasp .class files. Can someone please tell me that? If I know THAT, then I CAN just go to &quot;file chooser&quot; as it&#39;s been suggested. Thanks folks"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666990017,"creation_date":1666425138,"answer_id":74161930,"question_id":74161446,"body_markdown":"Start `regedit` and delete the following two keys. And reboot your OS.\r\n\r\n* `HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class`\r\n* `HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class`\r\n\r\n\r\n1. Explorer initial state\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Set to open with notepad\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3. regedit `HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class`\r\n\r\n[![enter image description here][3]][3]\r\n\r\n4. remove key `HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class`\r\n\r\n[![enter image description here][4]][4]\r\n\r\n5. regedit `HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class`\r\n\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n6. remove key `HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class`\r\n\r\n[![enter image description here][8]][8]\r\n\r\n7. Explorer (sitill unchanged)\r\n\r\n[![enter image description here][9]][9]\r\n\r\n8. Explorer (after restart windows)\r\n\r\n[![enter image description here][10]][10]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gX9fz.png\r\n  [2]: https://i.stack.imgur.com/ev3hp.png\r\n  [3]: https://i.stack.imgur.com/IEnhP.png\r\n  [4]: https://i.stack.imgur.com/KphNF.png\r\n  [5]: https://i.stack.imgur.com/jQIbp.png\r\n  [6]: https://i.stack.imgur.com/TA94z.png\r\n  [7]: https://i.stack.imgur.com/jaOuo.png\r\n  [8]: https://i.stack.imgur.com/w4YqA.png\r\n  [9]: https://i.stack.imgur.com/JbLgK.png\r\n  [10]: https://i.stack.imgur.com/cutuz.png","title":"I changed the &quot;open with&quot; source for a java .class file in windows explorer &amp; ALL folders changed. How do I revert back to the default &quot;open&quot; option?","body":"<p>Start <code>regedit</code> and delete the following two keys. And reboot your OS.</p>\n<ul>\n<li><code>HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class</code></li>\n<li><code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class</code></li>\n</ul>\n<ol>\n<li>Explorer initial state</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/gX9fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gX9fz.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Set to open with notepad</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ev3hp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ev3hp.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>regedit <code>HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/IEnhP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IEnhP.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>remove key <code>HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/KphNF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KphNF.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li>regedit <code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/jQIbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jQIbp.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/TA94z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TA94z.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/jaOuo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaOuo.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"6\">\n<li>remove key <code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/w4YqA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w4YqA.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"7\">\n<li>Explorer (sitill unchanged)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/JbLgK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JbLgK.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"8\">\n<li>Explorer (after restart windows)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/cutuz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cutuz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26698995,"reputation":1,"user_id":20306360,"display_name":"stanlovesham777"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666990017,"creation_date":1666418684,"question_id":74161446,"body_markdown":"In windows explorer, in my java project folder, I right clicked on one of my .class files and clicked/changed the &quot;open with&quot; source to notepad. I did not check the &quot;always open with&quot; box, but ALL .class files in every one of my folders changed to the notepad &quot;icon&quot;. I can&#39;t even remember what the old icon looked like, but that is where I&#39;m trying to get back to. I was able to change the &quot;open with&quot; icon over to some form of java.exe format (see attachment), but how do I get it to revert back to that default &quot;icon&quot;? [view of .class file &quot;icons&quot; in my folder][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bhSUc.png","title":"I changed the &quot;open with&quot; source for a java .class file in windows explorer &amp; ALL folders changed. How do I revert back to the default &quot;open&quot; option?","body":"<p>In windows explorer, in my java project folder, I right clicked on one of my .class files and clicked/changed the &quot;open with&quot; source to notepad. I did not check the &quot;always open with&quot; box, but ALL .class files in every one of my folders changed to the notepad &quot;icon&quot;. I can't even remember what the old icon looked like, but that is where I'm trying to get back to. I was able to change the &quot;open with&quot; icon over to some form of java.exe format (see attachment), but how do I get it to revert back to that default &quot;icon&quot;? <a href=\"https://i.stack.imgur.com/bhSUc.png\" rel=\"nofollow noreferrer\">view of .class file &quot;icons&quot; in my folder</a></p>\n"},{"tags":["java","maven","intellij-idea","junit","cucumber"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1666988896,"post_id":74240256,"comment_id":131073027,"body_markdown":"Does the project build outside of IntelliJ IDEA using command line `mvn clean package`? Why do you think it&#39;s IntelliJ IDEA issue?","body":"Does the project build outside of IntelliJ IDEA using command line <code>mvn clean package</code>? Why do you think it&#39;s IntelliJ IDEA issue?"},{"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"score":0,"creation_date":1666989457,"post_id":74240256,"comment_id":131073191,"body_markdown":"@CrazyCoder I only built it with Intellij","body":"@CrazyCoder I only built it with Intellij"}],"answers":[{"comments":[{"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"score":0,"creation_date":1666987530,"post_id":74240317,"comment_id":131072714,"body_markdown":"yes, I used &lt;compile&gt; but the error now occurs at ```compile``` stage -- it&#39;s complaining ```cannot access package``` in my production code","body":"yes, I used &lt;compile&gt; but the error now occurs at <code>compile</code> stage -- it&#39;s complaining <code>cannot access package</code> in my production code"}],"tags":[],"owner":{"account_id":25950587,"reputation":1,"user_id":19668690,"display_name":"nameNotFOundException"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666987099,"creation_date":1666987099,"answer_id":74240317,"question_id":74240256,"body_markdown":"did you tried with a different scope than &lt;scope&gt;test&lt;scope&gt; for the cucumber-junit-platform-engine dependency?","title":"Intellij mvn install complains &quot;cannot access &lt;package&gt;&quot; during testComplile after adding cucumber-junit-platform-engine dependency in pom.xml","body":"<p>did you tried with a different scope than test for the cucumber-junit-platform-engine dependency?</p>\n"},{"comments":[{"owner":{"account_id":1644520,"reputation":540,"user_id":1516291,"display_name":"Wang Tang"},"score":0,"creation_date":1672930330,"post_id":74240739,"comment_id":132387634,"body_markdown":"Solved it for me, a download got corrupted and the jar file was empty.","body":"Solved it for me, a download got corrupted and the jar file was empty."}],"tags":[],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1666989980,"creation_date":1666989980,"answer_id":74240739,"question_id":74240256,"body_markdown":"https://stackoverflow.com/questions/7600028/maven-error-in-opening-zip-file-when-running-maven\r\n\r\nfollowing the procedure fixes the &quot;cannot access &lt;package&gt;&quot; problem.","title":"Intellij mvn install complains &quot;cannot access &lt;package&gt;&quot; during testComplile after adding cucumber-junit-platform-engine dependency in pom.xml","body":"<p><a href=\"https://stackoverflow.com/questions/7600028/maven-error-in-opening-zip-file-when-running-maven\">Maven : error in opening zip file when running maven</a></p>\n<p>following the procedure fixes the &quot;cannot access &quot; problem.</p>\n"}],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74240739,"answer_count":2,"score":1,"last_activity_date":1666989980,"creation_date":1666986665,"question_id":74240256,"body_markdown":"I am planning to use Cucumber Test with Junit 5 in Maven. So I followed [cucumber](https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine) to install different maven dependency. I added a runner class to execute my cucumber tests&lt;br&gt;&lt;br&gt;\r\n```\r\npackage pirate;\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;pirate&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;pirate&quot;)\r\npublic class Runner {}\r\n```\r\nI also created a new folder name ```pirate``` under ```resources``` folder and move all ```.feature``` files into that new folder.\r\nBut when I execute ```mvn clean install```, the command fails at testCompile:\r\n[![enter image description here][1]][1]\r\nIt seems like the compiler can&#39;t read the package name?\r\nBelow is my pom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;onetwothree&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;onetwothree&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n  &lt;build&gt;\r\n    &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;properties&gt;\r\n            &lt;configurationParameters&gt;\r\n              cucumber.junit-platform.naming-strategy=long\r\n            &lt;/configurationParameters&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;5.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nMy project structure is:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut if I comment out ```cucumber-junit-platform-engine``` dependency in ```pom.xml```, the error is gone but it won&#39;t run the cucumber tests. Did I miss something here? &lt;br&gt;&lt;br&gt;\r\n\r\nNot sure if it&#39;s related, but one of the error messages is like:\r\n```\r\n[ERROR] error reading /Users/xx/.m2/repository/org/junit/platform/junit-platform-engine/1.9.1/junit-platform-engine-1.9.1.jar; zip file is empty\r\n[ERROR] /Users/xx/Desktop/zz/src/test/java/pirate/Runner.java:[1,1] cannot access pirate\r\n  ZipException opening &quot;junit-platform-engine-1.9.1.jar&quot;: zip END header not found\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g4p75.png\r\n  [2]: https://i.stack.imgur.com/ANPh6.png","title":"Intellij mvn install complains &quot;cannot access &lt;package&gt;&quot; during testComplile after adding cucumber-junit-platform-engine dependency in pom.xml","body":"<p>I am planning to use Cucumber Test with Junit 5 in Maven. So I followed <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\">cucumber</a> to install different maven dependency. I added a runner class to execute my cucumber tests<br><br></p>\n<pre><code>package pirate;\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;pirate&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;pirate&quot;)\npublic class Runner {}\n</code></pre>\n<p>I also created a new folder name <code>pirate</code> under <code>resources</code> folder and move all <code>.feature</code> files into that new folder.\nBut when I execute <code>mvn clean install</code>, the command fails at testCompile:\n<a href=\"https://i.stack.imgur.com/g4p75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g4p75.png\" alt=\"enter image description here\" /></a>\nIt seems like the compiler can't read the package name?\nBelow is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;onetwothree&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;onetwothree&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  &lt;build&gt;\n    &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;properties&gt;\n            &lt;configurationParameters&gt;\n              cucumber.junit-platform.naming-strategy=long\n            &lt;/configurationParameters&gt;\n          &lt;/properties&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;7.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n      &lt;version&gt;7.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n      &lt;version&gt;1.9.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>My project structure is:</p>\n<p><a href=\"https://i.stack.imgur.com/ANPh6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ANPh6.png\" alt=\"enter image description here\" /></a></p>\n<p>but if I comment out <code>cucumber-junit-platform-engine</code> dependency in <code>pom.xml</code>, the error is gone but it won't run the cucumber tests. Did I miss something here? <br><br></p>\n<p>Not sure if it's related, but one of the error messages is like:</p>\n<pre><code>[ERROR] error reading /Users/xx/.m2/repository/org/junit/platform/junit-platform-engine/1.9.1/junit-platform-engine-1.9.1.jar; zip file is empty\n[ERROR] /Users/xx/Desktop/zz/src/test/java/pirate/Runner.java:[1,1] cannot access pirate\n  ZipException opening &quot;junit-platform-engine-1.9.1.jar&quot;: zip END header not found\n</code></pre>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":0,"creation_date":1666977045,"post_id":74238584,"comment_id":131069785,"body_markdown":"How can an attribute be a GSI, that makes no sense? Is the mac address the partition key? Is there a sort key?","body":"How can an attribute be a GSI, that makes no sense? Is the mac address the partition key? Is there a sort key?"}],"answers":[{"tags":[],"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666977642,"creation_date":1666977642,"answer_id":74238839,"question_id":74238584,"body_markdown":"Unlike the actual DDB table, GSI&#39;s and LSI&#39;s always allow duplicates.\r\n\r\nWhat are you using as a primary key (hash &amp; sort) for the table itself?\r\n\r\nIf you want to DDB enforce uniqueness, you&#39;ll need to come up with a way to use the unique attributes in the table&#39;s primary key.","title":"How to enforce GSI uniqueness on a PutItemRequest","body":"<p>Unlike the actual DDB table, GSI's and LSI's always allow duplicates.</p>\n<p>What are you using as a primary key (hash &amp; sort) for the table itself?</p>\n<p>If you want to DDB enforce uniqueness, you'll need to come up with a way to use the unique attributes in the table's primary key.</p>\n"},{"comments":[{"owner":{"account_id":153880,"reputation":4434,"user_id":369449,"accept_rate":95,"display_name":"FlyingStreudel"},"score":0,"creation_date":1666990059,"post_id":74239464,"comment_id":131073332,"body_markdown":"Seems like we are using dynamodb when we shouldn&#39;t - switched to another, less temperamental db engine.","body":"Seems like we are using dynamodb when we shouldn&#39;t - switched to another, less temperamental db engine."}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666981176,"creation_date":1666981176,"answer_id":74239464,"question_id":74238584,"body_markdown":"The only way to make this possible introduces a lot of overhead which perhaps is not the best solution for your use-case. \r\n\r\nhttps://aws.amazon.com/blogs/database/simulating-amazon-dynamodb-unique-constraints-using-transactions/\r\n\r\nI would suggest that you rethink your tables schema to allow the base table handle the uniqueness and have the indexes based on other attributes. ","title":"How to enforce GSI uniqueness on a PutItemRequest","body":"<p>The only way to make this possible introduces a lot of overhead which perhaps is not the best solution for your use-case.</p>\n<p><a href=\"https://aws.amazon.com/blogs/database/simulating-amazon-dynamodb-unique-constraints-using-transactions/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/database/simulating-amazon-dynamodb-unique-constraints-using-transactions/</a></p>\n<p>I would suggest that you rethink your tables schema to allow the base table handle the uniqueness and have the indexes based on other attributes.</p>\n"}],"owner":{"account_id":153880,"reputation":4434,"user_id":369449,"accept_rate":95,"display_name":"FlyingStreudel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74239464,"answer_count":2,"score":0,"last_activity_date":1666989976,"creation_date":1666976182,"question_id":74238584,"body_markdown":"I am attempting to use a `PutItemRequest` to insert records into a DynamoDB table, however I do not want the insert to succeed when certain values on the inserted item already exist on other items.\r\n\r\nHere is the code for the request:\r\n\r\n```\r\nvar req = PutItemRequest.builder()\r\n            .tableName(TABLE_NAME)\r\n            .item(getAllValues(settings))\r\n            .conditionExpression(&quot;attribute_not_exists(#&quot; + MAC_ADDRESS + &quot;) AND attribute_not_exists(#&quot; + REGISTRATION_CODE + &quot;)&quot;)\r\n            .expressionAttributeNames(Map.of(&quot;#&quot; + MAC_ADDRESS, MAC_ADDRESS, &quot;#&quot; + REGISTRATION_CODE, REGISTRATION_CODE))\r\n            .build();\r\n```\r\n\r\nThe table already contains an item with a mac address of &#39;000000000000&#39; so I would expect the above to fail when trying to insert another item with the same mac address, but the insert succeeds.\r\n\r\nWhat am I doing wrong here? Both MAC_ADDRESS and REGISTRATION_CODE are GSI&#39;s.","title":"How to enforce GSI uniqueness on a PutItemRequest","body":"<p>I am attempting to use a <code>PutItemRequest</code> to insert records into a DynamoDB table, however I do not want the insert to succeed when certain values on the inserted item already exist on other items.</p>\n<p>Here is the code for the request:</p>\n<pre><code>var req = PutItemRequest.builder()\n            .tableName(TABLE_NAME)\n            .item(getAllValues(settings))\n            .conditionExpression(&quot;attribute_not_exists(#&quot; + MAC_ADDRESS + &quot;) AND attribute_not_exists(#&quot; + REGISTRATION_CODE + &quot;)&quot;)\n            .expressionAttributeNames(Map.of(&quot;#&quot; + MAC_ADDRESS, MAC_ADDRESS, &quot;#&quot; + REGISTRATION_CODE, REGISTRATION_CODE))\n            .build();\n</code></pre>\n<p>The table already contains an item with a mac address of '000000000000' so I would expect the above to fail when trying to insert another item with the same mac address, but the insert succeeds.</p>\n<p>What am I doing wrong here? Both MAC_ADDRESS and REGISTRATION_CODE are GSI's.</p>\n"},{"tags":["java","json","spring","rest","validation"],"comments":[{"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"score":0,"creation_date":1667377423,"post_id":74239059,"comment_id":131150190,"body_markdown":"I have solved the issue simply using a service which does what the custom annotation is meant to do... I don&#39;t think that I can use custom annotations on simple objects like Strings...","body":"I have solved the issue simply using a service which does what the custom annotation is meant to do... I don&#39;t think that I can use custom annotations on simple objects like Strings..."}],"answers":[{"tags":[],"owner":{"account_id":252452,"reputation":836,"user_id":602526,"display_name":"Frantz Romain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666989118,"creation_date":1666989118,"answer_id":74240601,"question_id":74239059,"body_markdown":"Your controller should be using the @Valid annotation instead of @MyValidator. I updated your controller below to what should work.\r\n\r\n    public ResponseEntity&lt;String&gt; authorize(@Valid @RequestBody String token) {\r\n\r\n    // logic\r\n    \r\n}","title":"Can I use a custom validator for a RequestBody that is a string?","body":"<p>Your controller should be using the @Valid annotation instead of @MyValidator. I updated your controller below to what should work.</p>\n<pre><code>public ResponseEntity&lt;String&gt; authorize(@Valid @RequestBody String token) {\n\n// logic\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666989118,"creation_date":1666978889,"question_id":74239059,"body_markdown":"I have created a custom validator that should validate if the body of a request (a simple string) is in Json format. I see that the custom validator is never called. Here are some parts of my code:\r\n\r\n\r\n```\r\n@RequestMapping(value = &quot;/endpoint&quot;, method = { RequestMethod.POST })\r\n@ResponseBody\r\npublic ResponseEntity&lt;String&gt; authorize(@RequestBody  @MyValidator String token) {\r\n\r\n    // logic\r\n    \r\n}\r\n```\r\nThis is the annotation:\r\n\r\n```\r\n@Target({ ElementType.PARAMETER })\r\n@Retention(RUNTIME)\r\n@Constraint(validatedBy = { JsonSyntaxValidator.class })\r\n@Documented\r\npublic @interface MyValidator {\r\n\r\n    String message() default &quot;{Token is not in Json syntax}&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n}\r\n```\r\nThis is the validator:\r\n\r\n\r\n\r\n```\r\npublic class JsonSyntaxValidator implements ConstraintValidator&lt;MyValidator, String&gt; {\r\n\r\n    @Override\r\n    public void initialize(JsonFormat constraintAnnotation) {\r\n\r\n    }\r\n\r\n    /**\r\n     * It returns true if the Google Pay or Apple Pay token is in Json format.\r\n     */\r\n    @Override\r\n    public boolean isValid(String token, ConstraintValidatorContext constraintValidatorContext) {\r\n\r\n        boolean isValid = true;\r\n\r\n        try {\r\n            JsonParser.parseString(token);\r\n        } catch (JsonSyntaxException e) {\r\n            isValid = false;\r\n        }\r\n        return isValid;\r\n    }\r\n}\r\n```\r\n\r\nI have tried invoking the endpoint with postman passing it a string not formatted as json and in debug I see that the check is skipped past.\r\n\r\nI don&#39;t want to have a POJO with fields, I just want the request body as a string.\r\nI haven&#39;t found much online, only a post stating that it might not be possible.\r\n\r\n\r\nAny help would be really appreciated :) ","title":"Can I use a custom validator for a RequestBody that is a string?","body":"<p>I have created a custom validator that should validate if the body of a request (a simple string) is in Json format. I see that the custom validator is never called. Here are some parts of my code:</p>\n<pre><code>@RequestMapping(value = &quot;/endpoint&quot;, method = { RequestMethod.POST })\n@ResponseBody\npublic ResponseEntity&lt;String&gt; authorize(@RequestBody  @MyValidator String token) {\n\n    // logic\n    \n}\n</code></pre>\n<p>This is the annotation:</p>\n<pre><code>@Target({ ElementType.PARAMETER })\n@Retention(RUNTIME)\n@Constraint(validatedBy = { JsonSyntaxValidator.class })\n@Documented\npublic @interface MyValidator {\n\n    String message() default &quot;{Token is not in Json syntax}&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p>This is the validator:</p>\n<pre><code>public class JsonSyntaxValidator implements ConstraintValidator&lt;MyValidator, String&gt; {\n\n    @Override\n    public void initialize(JsonFormat constraintAnnotation) {\n\n    }\n\n    /**\n     * It returns true if the Google Pay or Apple Pay token is in Json format.\n     */\n    @Override\n    public boolean isValid(String token, ConstraintValidatorContext constraintValidatorContext) {\n\n        boolean isValid = true;\n\n        try {\n            JsonParser.parseString(token);\n        } catch (JsonSyntaxException e) {\n            isValid = false;\n        }\n        return isValid;\n    }\n}\n</code></pre>\n<p>I have tried invoking the endpoint with postman passing it a string not formatted as json and in debug I see that the check is skipped past.</p>\n<p>I don't want to have a POJO with fields, I just want the request body as a string.\nI haven't found much online, only a post stating that it might not be possible.</p>\n<p>Any help would be really appreciated :)</p>\n"},{"tags":["java","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":1,"creation_date":1523753428,"post_id":49834332,"comment_id":86690302,"body_markdown":"add more detail of your code so that others can analysis it","body":"add more detail of your code so that others can analysis it"},{"owner":{"account_id":13279347,"reputation":11,"user_id":9587576,"display_name":"Tiago Monteiro"},"score":0,"creation_date":1523993859,"post_id":49834332,"comment_id":86788448,"body_markdown":"Hi, tanks for your help, but I resolve the problem. In proprieties file, i change the name of the aplication for the main packege.","body":"Hi, tanks for your help, but I resolve the problem. In proprieties file, i change the name of the aplication for the main packege."},{"owner":{"account_id":6881809,"reputation":468,"user_id":5288292,"accept_rate":77,"display_name":"Resul Rzaeeff"},"score":0,"creation_date":1524746355,"post_id":49834332,"comment_id":87102361,"body_markdown":"You need add spring-context dependency. It solved my problem.","body":"You need add spring-context dependency. It solved my problem."},{"owner":{"account_id":6881809,"reputation":468,"user_id":5288292,"accept_rate":77,"display_name":"Resul Rzaeeff"},"score":0,"creation_date":1524746358,"post_id":49834332,"comment_id":87102363,"body_markdown":"&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;4.3.14.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;","body":"&lt;dependency&gt;             &lt;groupId&gt;org.springframework&lt;/groupId&gt;             &lt;artifactId&gt;spring-context&lt;/artifactId&gt;             &lt;version&gt;4.3.14.RELEASE&lt;/version&gt;         &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":12203288,"reputation":165,"user_id":8907047,"display_name":"Thiago Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666988895,"creation_date":1666988895,"answer_id":74240564,"question_id":49834332,"body_markdown":"\r\nAccording to [this issue][1]:\r\n\r\n&gt; Its failing because you have multiple spring contexts going. You may have to experiment with removing/adding @Configuration and @EnableWebMvc configurations\r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/2041","title":"Error creating bean with name &#39;webMvcRequestHandlerProvider&#39;","body":"<p>According to <a href=\"https://github.com/springfox/springfox/issues/2041\" rel=\"nofollow noreferrer\">this issue</a>:</p>\n<blockquote>\n<p>Its failing because you have multiple spring contexts going. You may have to experiment with removing/adding @Configuration and @EnableWebMvc configurations</p>\n</blockquote>\n"}],"owner":{"account_id":13279347,"reputation":11,"user_id":9587576,"display_name":"Tiago Monteiro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666988895,"creation_date":1523727483,"question_id":49834332,"body_markdown":"\r\nI&#39;m new on Spring &quot;things&quot;\r\nI use this version:\r\n\r\n    spring-boot-starter-parent\r\n    1.5.3-RELEASE\r\n\r\nAnd I have this dependencies on the pom.xml\r\n\r\n\r\n - io.springfox springfox-swagger2    2.8.0\r\n - io.springfox springfox-swagger-ui 2.8.0\r\n\r\nAnd I think this generated the error below, but I don&#39;t know why.\r\n\r\nCan help me?\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webMvcRequestHandlerProvider&#39; defined in URL [jar:file:/C:/Users/tjoel/.m2/repository/io/springfox/springfox-spring-web/2.8.0/springfox-spring-web-`enter code here`2.8.0.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method &#39;requestMappingHandlerMapping&#39; threw exception; nested exception is java.lang.AbstractMethodError\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749) ~[spring-beans-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189) ~[spring-beans-4.3.14.RELEASE.jar:4.3.14.RELEASE]","title":"Error creating bean with name &#39;webMvcRequestHandlerProvider&#39;","body":"<p>I'm new on Spring \"things\"\nI use this version:</p>\n\n<pre><code>spring-boot-starter-parent\n1.5.3-RELEASE\n</code></pre>\n\n<p>And I have this dependencies on the pom.xml</p>\n\n<ul>\n<li>io.springfox springfox-swagger2    2.8.0</li>\n<li>io.springfox springfox-swagger-ui 2.8.0</li>\n</ul>\n\n<p>And I think this generated the error below, but I don't know why.</p>\n\n<p>Can help me?</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file:/C:/Users/tjoel/.m2/repository/io/springfox/springfox-spring-web/2.8.0/springfox-spring-web-`enter code here`2.8.0.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method 'requestMappingHandlerMapping' threw exception; nested exception is java.lang.AbstractMethodError\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749) ~[spring-beans-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189) ~[spring-beans-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n</code></pre>\n"},{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1667050825,"post_id":74240478,"comment_id":131081482,"body_markdown":"This code does not make much sense. If you are creating a new thread anyway, then why do you wrap that in a Platform.runLater() call? You don&#39;t say what your code inside the thread is doing but if it is manipulating the scene graph, then you should wrap that in a Platform.runLater() call.","body":"This code does not make much sense. If you are creating a new thread anyway, then why do you wrap that in a Platform.runLater() call? You don&#39;t say what your code inside the thread is doing but if it is manipulating the scene graph, then you should wrap that in a Platform.runLater() call."},{"owner":{"account_id":11934710,"reputation":21,"user_id":8733632,"display_name":"Stefan Uhlig"},"score":0,"creation_date":1667327415,"post_id":74240478,"comment_id":131140232,"body_markdown":"oscRT.putSample draws in the canvas. The other code is realtime Audio which should be performed in a separate thread. I wanted to wait until the javaFX Scene is initialized before starting the thread. This mostly works, but seems not to be good practice. Now I changed the code so that only this statement is surrounded by Platform.runLater.","body":"oscRT.putSample draws in the canvas. The other code is realtime Audio which should be performed in a separate thread. I wanted to wait until the javaFX Scene is initialized before starting the thread. This mostly works, but seems not to be good practice. Now I changed the code so that only this statement is surrounded by Platform.runLater."}],"tags":[],"owner":{"account_id":11934710,"reputation":21,"user_id":8733632,"display_name":"Stefan Uhlig"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666988298,"creation_date":1666988298,"answer_id":74240478,"question_id":34977663,"body_markdown":"I also had this error. In my case, I drive an audio generating application which draws an oscillogram into a canvas. The audio generators are running in a separate thread:\r\n\r\n    Platform.runLater(() -&gt; {\r\n      // Main Loop\r\n      Thread t1 = new Thread(() -&gt; {\r\n        while (running) {\r\n          try {\r\n            double sample = generator.pullNextSample();\r\n            oscRT.putSample(sample);\r\n            output.write(sample);\r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n      }, &quot;Engine Thread&quot;);\r\n      t1.start();\r\n    });\r\n\r\nMost times it runs without issue, sometime the odd exception occurs and the window content is broken.","title":"JavaFX canvas strange errors","body":"<p>I also had this error. In my case, I drive an audio generating application which draws an oscillogram into a canvas. The audio generators are running in a separate thread:</p>\n<pre><code>Platform.runLater(() -&gt; {\n  // Main Loop\n  Thread t1 = new Thread(() -&gt; {\n    while (running) {\n      try {\n        double sample = generator.pullNextSample();\n        oscRT.putSample(sample);\n        output.write(sample);\n      } catch (Exception e) {\n        e.printStackTrace();\n      }\n    }\n  }, &quot;Engine Thread&quot;);\n  t1.start();\n});\n</code></pre>\n<p>Most times it runs without issue, sometime the odd exception occurs and the window content is broken.</p>\n"}],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666988298,"creation_date":1453649800,"question_id":34977663,"body_markdown":"I am using javaFX canvas and i update the painting every 1 second or more frequently if i am dragging the mouse over it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlthough i am in **JavaFX** **thread** i get these strange errors:\r\n\r\n1)`java.lang.InternalError: Unrecognized PGCanvas token: 67\r\n\tat com.sun.javafx.sg.prism.NGCanvas.renderStream(NGCanvas.java:1157)\r\n`\r\n\r\n\r\n2)`java.lang.ClassCastException: com.sun.prism.paint.Color cannot be cast to java.lang.String`\r\n\r\n3)Something an error for `miter&gt;1`\r\n\r\nMost times it work well but others it just doing its own things.\r\n\r\n&gt; What is causing this errors?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/QiqmH.png","title":"JavaFX canvas strange errors","body":"<p>I am using javaFX canvas and i update the painting every 1 second or more frequently if i am dragging the mouse over it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QiqmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QiqmH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Although i am in <strong>JavaFX</strong> <strong>thread</strong> i get these strange errors:</p>\n\n<p>1)<code>java.lang.InternalError: Unrecognized PGCanvas token: 67\n    at com.sun.javafx.sg.prism.NGCanvas.renderStream(NGCanvas.java:1157)\n</code></p>\n\n<p>2)<code>java.lang.ClassCastException: com.sun.prism.paint.Color cannot be cast to java.lang.String</code></p>\n\n<p>3)Something an error for <code>miter&gt;1</code></p>\n\n<p>Most times it work well but others it just doing its own things.</p>\n\n<blockquote>\n  <p>What is causing this errors?</p>\n</blockquote>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1666976032,"post_id":74236769,"comment_id":131069444,"body_markdown":"Write the separate mapper for `Attribute` and use it in your `ResponseContractMapper` like: `@Mapper(uses=AttributeMapper.class)`","body":"Write the separate mapper for <code>Attribute</code> and use it in your <code>ResponseContractMapper</code> like: <code>@Mapper(uses=AttributeMapper.class)</code>"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1667197188,"post_id":74236769,"comment_id":131104972,"body_markdown":"That&#39;s should be pretty straightforward: just define a mapping between any `Impl` and relative `Contract` and don&#39;t worry about list; MapStruct is smart enough to map collection automatically without needs of custom code","body":"That&#39;s should be pretty straightforward: just define a mapping between any <code>Impl</code> and relative <code>Contract</code> and don&#39;t worry about list; MapStruct is smart enough to map collection automatically without needs of custom code"}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666987862,"creation_date":1666987862,"answer_id":74240431,"question_id":74236769,"body_markdown":"You can declare a method for mapping `AttributeImpl` to `AttributeContract` that would MapStruct use in the implementation. For example:\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface ResponseContractMapper {\r\n\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n\r\n    @Mapping(targer=&quot;idContract&quot;, source =&quot;idImpl&quot;)\r\n    AttributeContract mapAttribute(AttributeImpl impl);\r\n}\r\n```\r\n\r\nThere is also a second solution that @Georgii Lvov suggested in the comments, which includes creating a separate mapper and providing it to `ResponseContractMapper` through the `uses` attribute as shown below.\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface AttributeContractMapper {\r\n\r\n    @Mapping(targer=&quot;idContract&quot;, source =&quot;idImpl&quot;)\r\n    AttributeContract mapFrom(AttributeImpl impl);\r\n}\r\n```\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses=AttributeContractMapper.class)\r\npublic interface ResponseContractMapper {\r\n\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n}\r\n```","title":"Mapstruct - Mapping object inside list","body":"<p>You can declare a method for mapping <code>AttributeImpl</code> to <code>AttributeContract</code> that would MapStruct use in the implementation. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface ResponseContractMapper {\n\n    ResponseContractClass mapFrom(ResponseImplClass response);\n\n    @Mapping(targer=&quot;idContract&quot;, source =&quot;idImpl&quot;)\n    AttributeContract mapAttribute(AttributeImpl impl);\n}\n</code></pre>\n<p>There is also a second solution that @Georgii Lvov suggested in the comments, which includes creating a separate mapper and providing it to <code>ResponseContractMapper</code> through the <code>uses</code> attribute as shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface AttributeContractMapper {\n\n    @Mapping(targer=&quot;idContract&quot;, source =&quot;idImpl&quot;)\n    AttributeContract mapFrom(AttributeImpl impl);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses=AttributeContractMapper.class)\npublic interface ResponseContractMapper {\n\n    ResponseContractClass mapFrom(ResponseImplClass response);\n}\n</code></pre>\n"}],"owner":{"account_id":25593360,"reputation":1,"user_id":19369670,"display_name":"bolo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666987862,"creation_date":1666967030,"question_id":74236769,"body_markdown":"I need to map an object that&#39;s inside an list of objects, but don&#39;t want to create a full builder method because the object have a lot of attributes and inner attributes.\r\n\r\nExample:\r\n\r\n**Contract**\r\n\r\n```\r\npublic class ResponseContractClass {\r\n    private List&lt;ItemContract&gt; items;\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ItemContract {\r\n    private AttributeContract attribute;\r\n}\r\n```\r\n\r\n```\r\npublic class AttributeContract {\r\n    private Long idContract;\r\n    private String nameContract;\r\n}\r\n```\r\n\r\n--------------------------------\r\n\r\n\r\n\r\n**Impl**\r\n\r\n```\r\npublic class ResponseImplClass {\r\n    private List&lt;ItemImpl&gt; items;\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ItemImpl {\r\n    private AttributeImpl attribute;\r\n}\r\n```\r\n\r\n```\r\npublic class AttributeImpl {\r\n    private Long idCImpl;\r\n    private String nameImpl;\r\n// **The problem is that this attributes signature is different from the contract ones**\r\n}\r\n```\r\n--------------------------------\r\n\r\n\r\n\r\n**Mapper**\r\n\r\n```\r\npublic interface ResponseContractMapper {\r\n\r\n\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n}\r\n```\r\n\r\n\r\n--------------------------------\r\n\r\nI tried someting like this, but don&#39;t work, probabbly because it&#39;s inside a list :(\r\n\r\n\r\n```\r\npublic interface ResponseContractMapper {\r\n\r\n    @Mapping(targer=&quot;items.attribute.idContract&quot;, source =&quot;items.attribute.idImpl&quot;)\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n}\r\n```\r\n\r\nAgain I&#39;m avoiding doing this, because the object and it&#39;s attributes would be too big, but would solve the problem, that&#39;s my last resource:\r\n\r\n\r\n```\r\npublic interface ResponseContractMapper {\r\n\r\n    @Mapping(targer=&quot;items&quot;, expression =&quot;(java(mapItems)&quot;)\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n\r\n    default List&lt;ItemContract&gt; mapitems(response){\r\n       return response.stream.map(...);\r\n    }\r\n}\r\n```\r\n","title":"Mapstruct - Mapping object inside list","body":"<p>I need to map an object that's inside an list of objects, but don't want to create a full builder method because the object have a lot of attributes and inner attributes.</p>\n<p>Example:</p>\n<p><strong>Contract</strong></p>\n<pre><code>public class ResponseContractClass {\n    private List&lt;ItemContract&gt; items;\n}\n</code></pre>\n<pre><code>public class ItemContract {\n    private AttributeContract attribute;\n}\n</code></pre>\n<pre><code>public class AttributeContract {\n    private Long idContract;\n    private String nameContract;\n}\n</code></pre>\n<hr />\n<p><strong>Impl</strong></p>\n<pre><code>public class ResponseImplClass {\n    private List&lt;ItemImpl&gt; items;\n}\n</code></pre>\n<pre><code>public class ItemImpl {\n    private AttributeImpl attribute;\n}\n</code></pre>\n<pre><code>public class AttributeImpl {\n    private Long idCImpl;\n    private String nameImpl;\n// **The problem is that this attributes signature is different from the contract ones**\n}\n</code></pre>\n<hr />\n<p><strong>Mapper</strong></p>\n<pre><code>public interface ResponseContractMapper {\n\n\n    ResponseContractClass mapFrom(ResponseImplClass response);\n}\n</code></pre>\n<hr />\n<p>I tried someting like this, but don't work, probabbly because it's inside a list :(</p>\n<pre><code>public interface ResponseContractMapper {\n\n    @Mapping(targer=&quot;items.attribute.idContract&quot;, source =&quot;items.attribute.idImpl&quot;)\n    ResponseContractClass mapFrom(ResponseImplClass response);\n}\n</code></pre>\n<p>Again I'm avoiding doing this, because the object and it's attributes would be too big, but would solve the problem, that's my last resource:</p>\n<pre><code>public interface ResponseContractMapper {\n\n    @Mapping(targer=&quot;items&quot;, expression =&quot;(java(mapItems)&quot;)\n    ResponseContractClass mapFrom(ResponseImplClass response);\n\n    default List&lt;ItemContract&gt; mapitems(response){\n       return response.stream.map(...);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","netbeans","exec"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666981333,"post_id":74239423,"comment_id":131071100,"body_markdown":"It looks like you have a variable in a script that isn&#39;t being recognized as a variable, but I have no idea how to address that.  Do you know where this issue is occurring?","body":"It looks like you have a variable in a script that isn&#39;t being recognized as a variable, but I have no idea how to address that.  Do you know where this issue is occurring?"},{"owner":{"account_id":26720634,"reputation":11,"user_id":20334419,"display_name":"P. L"},"score":0,"creation_date":1666983561,"post_id":74239423,"comment_id":131071697,"body_markdown":"I have no idea, I&#39;ve been looking for the exact point of error but I can&#39;t find it, I don&#39;t know why","body":"I have no idea, I&#39;ve been looking for the exact point of error but I can&#39;t find it, I don&#39;t know why"}],"answers":[{"comments":[{"owner":{"account_id":26720634,"reputation":11,"user_id":20334419,"display_name":"P. L"},"score":0,"creation_date":1666988735,"post_id":74240422,"comment_id":131072990,"body_markdown":"ah thanks, it&#39;s my first time programming and there are still many things I don&#39;t understand. i will keep trying, thak you very much, i hope this work!","body":"ah thanks, it&#39;s my first time programming and there are still many things I don&#39;t understand. i will keep trying, thak you very much, i hope this work!"}],"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666987820,"creation_date":1666987820,"answer_id":74240422,"question_id":74239423,"body_markdown":"You messed up your configuration.\r\n\r\n**maven-compiler-plugin** is responsible for compiling your project.\r\nIt&#39;s configuration does not take `mainClass` element. Good IDE should highlight this as an error (IntelliJ does)\r\n\r\n**maven-exec-plugin** can launch java apps. It needs exec.mainClass argument, but you didn&#39;t pass it.\r\nSee https://www.baeldung.com/maven-java-main-method:\r\n```lang-xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;mainClass&gt;com.baeldung.main.Exec&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n**spring-boot-maven-plugin** has a lot of tools specifically tailored for Spring boot apps. It has its own goal for launching Spring apps:\r\n```\r\nmvn spring-boot:run\r\n```\r\n\r\nIMHO you will be better off if you rely on this plugin to launch your app (on dev machine)","title":"Could not find or load main class ${exec..mainClass} caused by: java.lang.ClassNotFoundException: ${exec.mainClass}","body":"<p>You messed up your configuration.</p>\n<p><strong>maven-compiler-plugin</strong> is responsible for compiling your project.\nIt's configuration does not take <code>mainClass</code> element. Good IDE should highlight this as an error (IntelliJ does)</p>\n<p><strong>maven-exec-plugin</strong> can launch java apps. It needs exec.mainClass argument, but you didn't pass it.\nSee <a href=\"https://www.baeldung.com/maven-java-main-method\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-java-main-method</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.baeldung.main.Exec&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>spring-boot-maven-plugin</strong> has a lot of tools specifically tailored for Spring boot apps. It has its own goal for launching Spring apps:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>IMHO you will be better off if you rely on this plugin to launch your app (on dev machine)</p>\n"}],"owner":{"account_id":26720634,"reputation":11,"user_id":20334419,"display_name":"P. L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666987820,"creation_date":1666980961,"question_id":74239423,"body_markdown":"I&#39;ve been looking for solutions for a long time, I&#39;ve tried different plugins that some colleagues recommended, but they haven&#39;t worked, I even used mvnw or mvn clean install, everything is perfect. but when running my file this error pops up and I don&#39;t know how to fix it. if anyone could advise me i would be grateful\r\n\r\n\r\nThis is my pom.xml:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.proyecto&lt;/groupId&gt;\r\n        &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;backend&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.proyecto.java.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt; \r\n\r\n\r\nand here&#39;s the error\r\n\r\n    --- exec-maven-plugin:3.0.0:exec (default-cli) @ backend ---\r\n    Error: Could not find or load main class ${exec.mainClass}\r\n    Caused by: java.lang.ClassNotFoundException: ${exec.mainClass}\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\r\n        at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\r\n        at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\r\n        at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\r\n\r\n\r\n","title":"Could not find or load main class ${exec..mainClass} caused by: java.lang.ClassNotFoundException: ${exec.mainClass}","body":"<p>I've been looking for solutions for a long time, I've tried different plugins that some colleagues recommended, but they haven't worked, I even used mvnw or mvn clean install, everything is perfect. but when running my file this error pops up and I don't know how to fix it. if anyone could advise me i would be grateful</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.proyecto&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.proyecto.java.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt; \n</code></pre>\n<p>and here's the error</p>\n<pre><code>--- exec-maven-plugin:3.0.0:exec (default-cli) @ backend ---\nError: Could not find or load main class ${exec.mainClass}\nCaused by: java.lang.ClassNotFoundException: ${exec.mainClass}\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\n</code></pre>\n"},{"tags":["java","binary-search"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666985585,"creation_date":1666985585,"answer_id":74240107,"question_id":74239959,"body_markdown":"```java\r\npublic static void main(String[] args) {\r\n    double[] arr = new double[9999];\r\n    Random random = new Random();\r\n\r\n    for (int i = 0; i &lt; arr.length; i++)\r\n        arr[i] = random.nextDouble() * 9_999;\r\n\r\n    Arrays.sort(arr);\r\n    System.out.println(binarySearch(arr, random.nextDouble() * 9_999));\r\n}\r\n\r\npublic static int binarySearch(double[] arr, double find) {\r\n    int lo = 0;\r\n    int hi = arr.length - 1;\r\n\r\n    while (lo + 1 &lt; hi) {\r\n        int mid = (lo + hi) / 2;\r\n        int res = Double.compare(find, arr[mid]);\r\n\r\n        if (res == 0)\r\n            return mid;\r\n        if (res &lt; 0)\r\n            hi = mid;\r\n        else\r\n            lo = mid;\r\n    }\r\n\r\n    if (Double.compare(find, arr[lo]) == 0)\r\n        return lo;\r\n    if (Double.compare(find, arr[hi]) == 0)\r\n        return hi;\r\n\r\n    return -1;\r\n}\r\n```","title":"Index out bound error when I try doing a binary search through the array","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    double[] arr = new double[9999];\n    Random random = new Random();\n\n    for (int i = 0; i &lt; arr.length; i++)\n        arr[i] = random.nextDouble() * 9_999;\n\n    Arrays.sort(arr);\n    System.out.println(binarySearch(arr, random.nextDouble() * 9_999));\n}\n\npublic static int binarySearch(double[] arr, double find) {\n    int lo = 0;\n    int hi = arr.length - 1;\n\n    while (lo + 1 &lt; hi) {\n        int mid = (lo + hi) / 2;\n        int res = Double.compare(find, arr[mid]);\n\n        if (res == 0)\n            return mid;\n        if (res &lt; 0)\n            hi = mid;\n        else\n            lo = mid;\n    }\n\n    if (Double.compare(find, arr[lo]) == 0)\n        return lo;\n    if (Double.compare(find, arr[hi]) == 0)\n        return hi;\n\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7199579,"reputation":176,"user_id":5497176,"display_name":"Kashinath"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666987472,"creation_date":1666987472,"answer_id":74240368,"question_id":74239959,"body_markdown":"Array index out of bound means you are trying to access the array element which is not within the array. \r\n&lt;br&gt;In Java `array.length` gives you the size of an array.\r\n&lt;br&gt;But elements of an array are identified by the `index` and `index` value starts from `0`.\r\n&lt;br&gt;\r\nWhich means that first element of an array has the `index =  0` and the last element has the `index = array.length(size) - 1`.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nIn your code of binary search, you are taking `int last = array.lenght` which is wrong.\r\n&lt;br&gt;It should be `int last = array.length - 1`","title":"Index out bound error when I try doing a binary search through the array","body":"<p>Array index out of bound means you are trying to access the array element which is not within the array.\n<br>In Java <code>array.length</code> gives you the size of an array.\n<br>But elements of an array are identified by the <code>index</code> and <code>index</code> value starts from <code>0</code>.\n<br>\nWhich means that first element of an array has the <code>index =  0</code> and the last element has the <code>index = array.length(size) - 1</code>.\n<br>\n<br>\nIn your code of binary search, you are taking <code>int last = array.lenght</code> which is wrong.\n<br>It should be <code>int last = array.length - 1</code></p>\n"}],"owner":{"account_id":26575078,"reputation":1,"user_id":20200634,"display_name":"pokemonmater940"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666987472,"creation_date":1666984511,"question_id":74239959,"body_markdown":"I am trying to create a program that does a binary search of array of randomly generated doubles and when I try to run the code, I get this error.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 9999 out of bounds for length 9999\r\n\tat Search.binarySearch(Search.java:34)\r\n\tat Search.main(Search.java:17)\r\n\r\n```\r\n\r\n\r\n\r\nI tried changing the array size and making it smaller and bigger, but I always get a error. I don&#39;t know what less I can do. Here is the code.\r\n\r\n```\r\nimport java.lang.Math;\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\nclass Search{\r\n\tpublic static void main(String [] args){\r\n\t\tdouble [] array2  = new double [9999];\t\r\n\t\tfor(int i = 0; i &lt;array2.length;i++){\t\r\n\t\t\tarray[i] = (double) (Math.random() * 9999);\t\r\n\t\t}\r\n\t\tArrays.sort(array);\r\n\t\tSystem.out.println(binarySearch(array, new Random().nextDouble(9999)));\r\n\t}\r\n\r\n    public static int binarySearch(double [] array, double find){\r\n    \tint first = 0;\r\n    \tint last = array.length;\r\n    \tint mid = (first + last ) / 2;\r\n    \twhile(first &lt;= last){\r\n    \t\tif(array[mid] &lt; last){\r\n    \t\t\tfirst = mid +1;\r\n    \t\t}else if(array[mid] == find){\r\n    \t\t\treturn mid;\r\n    \t\t}else{\r\n    \t\t\tlast = mid -1;\r\n    \t\t}\r\n    \t\tmid = (first + last) / 2;\r\n    \t}\r\n    \tif(first &gt; last){\r\n    \t\treturn -1;\r\n    \t}\r\n    \treturn -1;\r\n    }\r\n}\t\r\n```\r\nHow it is supposed to work that it takes the array of doubles and a random number to find if the number is in the array, if it is returns the index, if its not in the array, it returns -1. I have a linear search method that works but for some reason this won&#39;t work. Thank you\r\n","title":"Index out bound error when I try doing a binary search through the array","body":"<p>I am trying to create a program that does a binary search of array of randomly generated doubles and when I try to run the code, I get this error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 9999 out of bounds for length 9999\n    at Search.binarySearch(Search.java:34)\n    at Search.main(Search.java:17)\n\n</code></pre>\n<p>I tried changing the array size and making it smaller and bigger, but I always get a error. I don't know what less I can do. Here is the code.</p>\n<pre><code>import java.lang.Math;\nimport java.util.Arrays;\nimport java.util.Random;\n\nclass Search{\n    public static void main(String [] args){\n        double [] array2  = new double [9999];  \n        for(int i = 0; i &lt;array2.length;i++){   \n            array[i] = (double) (Math.random() * 9999); \n        }\n        Arrays.sort(array);\n        System.out.println(binarySearch(array, new Random().nextDouble(9999)));\n    }\n\n    public static int binarySearch(double [] array, double find){\n        int first = 0;\n        int last = array.length;\n        int mid = (first + last ) / 2;\n        while(first &lt;= last){\n            if(array[mid] &lt; last){\n                first = mid +1;\n            }else if(array[mid] == find){\n                return mid;\n            }else{\n                last = mid -1;\n            }\n            mid = (first + last) / 2;\n        }\n        if(first &gt; last){\n            return -1;\n        }\n        return -1;\n    }\n}   \n</code></pre>\n<p>How it is supposed to work that it takes the array of doubles and a random number to find if the number is in the array, if it is returns the index, if its not in the array, it returns -1. I have a linear search method that works but for some reason this won't work. Thank you</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1666906664,"post_id":74228554,"comment_id":131052465,"body_markdown":"I doubt there&#39;s any clean way.","body":"I doubt there&#39;s any clean way."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1666906697,"post_id":74228554,"comment_id":131052476,"body_markdown":"*I would like to do this in a less verbose way using the Stream API*.  Streams have a lot of overhead to do what they do.  And less verbose does not mean better or even more efficient.  Use a loop.","body":"<i>I would like to do this in a less verbose way using the Stream API</i>.  Streams have a lot of overhead to do what they do.  And less verbose does not mean better or even more efficient.  Use a loop."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666946589,"post_id":74228554,"comment_id":131059492,"body_markdown":"Does it have to be a Stream operation? You can do this as simple as `List&lt;Object&gt; objectList = new ArrayList&lt;&gt;(); List&lt;String&gt; missingObjIds = new ArrayList&lt;&gt;(myIdList); missingObjIds.removeIf(id -&gt; myObjectMap.containsKey(id) &amp;&amp; objectList.add(myObjectMap.get(id)));` You wouldnt even need a new list for `missingObjIds` if the source `myIdList` supports removal and isnt needed afterwards.","body":"Does it have to be a Stream operation? You can do this as simple as <code>List&lt;Object&gt; objectList = new ArrayList&lt;&gt;(); List&lt;String&gt; missingObjIds = new ArrayList&lt;&gt;(myIdList); missingObjIds.removeIf(id -&gt; myObjectMap.containsKey(id) &amp;&amp; objectList.add(myObjectMap.get(id)));</code> You wouldnt even need a new list for <code>missingObjIds</code> if the source <code>myIdList</code> supports removal and isnt needed afterwards."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666948583,"post_id":74228554,"comment_id":131060171,"body_markdown":"@Holger This way of using `removeIf()` is definitely interesting, and it&#39;s also performant and meets the requirement of conciseness.","body":"@Holger This way of using <code>removeIf()</code> is definitely interesting, and it&#39;s also performant and meets the requirement of conciseness."}],"answers":[{"comments":[{"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"score":1,"creation_date":1666921572,"post_id":74229051,"comment_id":131054830,"body_markdown":"Thanks. This is similar to what I attempted at first, but I want to try to avoid iterating through the list more than once.","body":"Thanks. This is similar to what I attempted at first, but I want to try to avoid iterating through the list more than once."}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666911081,"creation_date":1666911081,"answer_id":74229051,"question_id":74228554,"body_markdown":"It&#39;s not very efficient, but you can do it.\r\n\r\n    List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    Map&lt;String,Object&gt; myObjectMap = new HashMap&lt;&gt;();\r\n    myObjectMap.put(&quot;b&quot;, &quot;B&quot;);\r\n    \r\n    Map&lt;Boolean, List&lt;String&gt;&gt; partitioned = myIdList.stream()\r\n        .collect(Collectors.partitioningBy(myObjectMap::containsKey));\r\n    \r\n    List&lt;Object&gt; objectList = partitioned.get(true).stream()\r\n        .map(myObjectMap::get).collect(Collectors.toList());\r\n    List&lt;String&gt; missingObjIds = partitioned.get(false);\r\n    \r\n    System.out.println(&quot;objectList=&quot; + objectList);\r\n    System.out.println(&quot;missingObjIds=&quot; + missingObjIds);\r\n\r\noutput:\r\n\r\n    objectList=[B]\r\n    missingObjIds=[a, c]\r\n\r\n","title":"Partition stream data and obtain two different collections as a result","body":"<p>It's not very efficient, but you can do it.</p>\n<pre><code>List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nMap&lt;String,Object&gt; myObjectMap = new HashMap&lt;&gt;();\nmyObjectMap.put(&quot;b&quot;, &quot;B&quot;);\n\nMap&lt;Boolean, List&lt;String&gt;&gt; partitioned = myIdList.stream()\n    .collect(Collectors.partitioningBy(myObjectMap::containsKey));\n\nList&lt;Object&gt; objectList = partitioned.get(true).stream()\n    .map(myObjectMap::get).collect(Collectors.toList());\nList&lt;String&gt; missingObjIds = partitioned.get(false);\n\nSystem.out.println(&quot;objectList=&quot; + objectList);\nSystem.out.println(&quot;missingObjIds=&quot; + missingObjIds);\n</code></pre>\n<p>output:</p>\n<pre><code>objectList=[B]\nmissingObjIds=[a, c]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1666981208,"post_id":74229094,"comment_id":131071055,"body_markdown":"I think this is a good example why the reactionary impulse to use streams everywhere is not always positive.","body":"I think this is a good example why the reactionary impulse to use streams everywhere is not always positive."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666988453,"post_id":74229094,"comment_id":131072928,"body_markdown":"@erickson I would agree that bothering with implementing something like this for a single would be wasteful. But this Collector itself is generalized and reusable, the actual logic is entirely abstracted away from the client code. In case if you were implying that it&#39;s too complex, then I would doubt that the `for`-loop in the original code, which forces the reader of the code to move their eyes repeatedly up and down, is easier to digest than a class a containing a couple of straightforward two-line methods.","body":"@erickson I would agree that bothering with implementing something like this for a single would be wasteful. But this Collector itself is generalized and reusable, the actual logic is entirely abstracted away from the client code. In case if you were implying that it&#39;s too complex, then I would doubt that the <code>for</code>-loop in the original code, which forces the reader of the code to move their eyes repeatedly up and down, is easier to digest than a class a containing a couple of straightforward two-line methods."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1666991052,"post_id":74229094,"comment_id":131073546,"body_markdown":"I wasn&#39;t implying excessive complexity. Yours is a solid solution for utilizing `Stream`. I was just noting that too many people ask how a stream *can* be used before questioning *whether* a stream should be used. Regarding the relative complexity, I have no doubt that your solution is more *complex* overall; that is, to provide your collector, you needed a thorough understanding of far more concepts. However, once completed, your work offers a simple usage pattern to others who might lack that understanding. I.e., that complexity is well-encapsulated, and that&#39;s good engineering.","body":"I wasn&#39;t implying excessive complexity. Yours is a solid solution for utilizing <code>Stream</code>. I was just noting that too many people ask how a stream <i>can</i> be used before questioning <i>whether</i> a stream should be used. Regarding the relative complexity, I have no doubt that your solution is more <i>complex</i> overall; that is, to provide your collector, you needed a thorough understanding of far more concepts. However, once completed, your work offers a simple usage pattern to others who might lack that understanding. I.e., that complexity is well-encapsulated, and that&#39;s good engineering."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666987127,"creation_date":1666911413,"answer_id":74229094,"question_id":74228554,"body_markdown":"This logic can be implemented in a **single** stream-statement and without *side-effects* by using a custom `Collector`, which can be created using static factory method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)).\r\n\r\n&lt;sup&gt;&lt;b&gt;Note:&lt;/b&gt; I would not claim that this solution is less verbose than a `for`-loop. But it&#39;s definitely &lt;b&gt;performant&lt;/b&gt; and &lt;b&gt;maintainable&lt;/b&gt;, and the client code is &lt;b&gt;concise&lt;/b&gt;.&lt;/sup&gt;\r\n\r\nFor that, we would need to define a custom accumulation type, which should be represented by a *mutable object* capable of consuming stream elements and producing the final result.\r\n\r\nSince we need to obtain two different lists, the result of the stream execution should the accumulation type itself exposing these two lists.\r\n\r\nSo, in a nut-shell, the *custom type*, let&#39;s call it `Partitioner`, which we would use to perform mutable reduction should wrap two list. It would be more versatile if we make it generic and add a `Function` and `Predicate`, which would be involved in partitioning the data to its properties.\r\n\r\nAnd for convenience, we can implement [`Consumer`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html) interface.\r\n\r\nThat&#39;s how the stream-statement in the client code might look like:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n        Map&lt;String, Object&gt; myObjectMap = Map.of(&quot;a&quot;, &quot;Alice&quot;);\r\n    \r\n        Partitioner&lt;String, Object&gt; result = myIdList.stream()\r\n            .collect(partition(myObjectMap::containsKey, myObjectMap::get));\r\n    \r\n        System.out.println(result.getItems());\r\n        System.out.println(result.getKeys());\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[Alice] // Values assated with the Keys that match the IDs from the list\r\n[b, c]  // missing IDs\r\n```\r\n\r\nThe factory method `partition()` producing an instance of `Collector()` might look like this:\r\n\r\n    public static &lt;K, R&gt; Collector&lt;K, ?, Partitioner&lt;K, R&gt;&gt; partition(Predicate&lt;K&gt; predicate,\r\n                                                                      Function&lt;K, R&gt; mapper) {\r\n        return Collector.of(\r\n            () -&gt; new Partitioner&lt;&gt;(predicate, mapper),\r\n            Partitioner::accept,\r\n            Partitioner::merge\r\n        );\r\n    }\r\n\r\nAnd that&#39;s how the *custom accumulation type* containing the actual logic might be implemented:\r\n\r\n    public static class Partitioner&lt;K, R&gt; implements Consumer&lt;K&gt; {\r\n        \r\n        private List&lt;R&gt; items = new ArrayList&lt;&gt;(); // objectList\r\n        private List&lt;K&gt; keys = new ArrayList&lt;&gt;();  // missingObjIds\r\n        private Predicate&lt;K&gt; shouldStoreItem;\r\n        private Function&lt;K, R&gt; mapper;\r\n        \r\n        public Partitioner(Predicate&lt;K&gt; shouldStoreItem, Function&lt;K, R&gt; mapper) {\r\n            this.shouldStoreItem = shouldStoreItem;\r\n            this.mapper = mapper;\r\n        }\r\n        \r\n        @Override\r\n        public void accept(K k) {\r\n            if (shouldStoreItem.test(k)) items.add(mapper.apply(k));\r\n            else keys.add(k);\r\n        }\r\n        \r\n        public Partitioner&lt;K, R&gt; merge(Partitioner&lt;K, R&gt; other) {\r\n            items.addAll(other.items);\r\n            keys.addAll(other.keys);\r\n            return this;\r\n        }\r\n        \r\n        // getters\r\n    }","title":"Partition stream data and obtain two different collections as a result","body":"<p>This logic can be implemented in a <strong>single</strong> stream-statement and without <em>side-effects</em> by using a custom <code>Collector</code>, which can be created using static factory method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>.</p>\n<p><sup><b>Note:</b> I would not claim that this solution is less verbose than a <code>for</code>-loop. But it's definitely <b>performant</b> and <b>maintainable</b>, and the client code is <b>concise</b>.</sup></p>\n<p>For that, we would need to define a custom accumulation type, which should be represented by a <em>mutable object</em> capable of consuming stream elements and producing the final result.</p>\n<p>Since we need to obtain two different lists, the result of the stream execution should the accumulation type itself exposing these two lists.</p>\n<p>So, in a nut-shell, the <em>custom type</em>, let's call it <code>Partitioner</code>, which we would use to perform mutable reduction should wrap two list. It would be more versatile if we make it generic and add a <code>Function</code> and <code>Predicate</code>, which would be involved in partitioning the data to its properties.</p>\n<p>And for convenience, we can implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer</code></a> interface.</p>\n<p>That's how the stream-statement in the client code might look like:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n    Map&lt;String, Object&gt; myObjectMap = Map.of(&quot;a&quot;, &quot;Alice&quot;);\n\n    Partitioner&lt;String, Object&gt; result = myIdList.stream()\n        .collect(partition(myObjectMap::containsKey, myObjectMap::get));\n\n    System.out.println(result.getItems());\n    System.out.println(result.getKeys());\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[Alice] // Values assated with the Keys that match the IDs from the list\n[b, c]  // missing IDs\n</code></pre>\n<p>The factory method <code>partition()</code> producing an instance of <code>Collector()</code> might look like this:</p>\n<pre><code>public static &lt;K, R&gt; Collector&lt;K, ?, Partitioner&lt;K, R&gt;&gt; partition(Predicate&lt;K&gt; predicate,\n                                                                  Function&lt;K, R&gt; mapper) {\n    return Collector.of(\n        () -&gt; new Partitioner&lt;&gt;(predicate, mapper),\n        Partitioner::accept,\n        Partitioner::merge\n    );\n}\n</code></pre>\n<p>And that's how the <em>custom accumulation type</em> containing the actual logic might be implemented:</p>\n<pre><code>public static class Partitioner&lt;K, R&gt; implements Consumer&lt;K&gt; {\n    \n    private List&lt;R&gt; items = new ArrayList&lt;&gt;(); // objectList\n    private List&lt;K&gt; keys = new ArrayList&lt;&gt;();  // missingObjIds\n    private Predicate&lt;K&gt; shouldStoreItem;\n    private Function&lt;K, R&gt; mapper;\n    \n    public Partitioner(Predicate&lt;K&gt; shouldStoreItem, Function&lt;K, R&gt; mapper) {\n        this.shouldStoreItem = shouldStoreItem;\n        this.mapper = mapper;\n    }\n    \n    @Override\n    public void accept(K k) {\n        if (shouldStoreItem.test(k)) items.add(mapper.apply(k));\n        else keys.add(k);\n    }\n    \n    public Partitioner&lt;K, R&gt; merge(Partitioner&lt;K, R&gt; other) {\n        items.addAll(other.items);\n        keys.addAll(other.keys);\n        return this;\n    }\n    \n    // getters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666952297,"creation_date":1666918114,"answer_id":74229598,"question_id":74228554,"body_markdown":"If you really want to use a stream here is one way.\r\n- this creates a an entry based on the presence of the id.\r\n- it then groups those independent entries by the keys &quot;Missing&quot; and &quot;Present&quot;\r\n\r\nThe Data\r\n```\r\n List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n Map&lt;String, Object&gt; myObjectMap = new HashMap&lt;&gt;();\r\n myObjectMap.put(&quot;c&quot;, &quot;C&quot;);\r\n```\r\nThe process\r\n```\r\nMap&lt;String, List&lt;Object&gt;&gt; map = myIdList.stream()\r\n         .map(id-&gt; {\r\n             Entry&lt;String, Object&gt; entry;\r\n             Object obj = myObjectMap.get(id);\r\n             if (obj == null) {\r\n                 entry = new SimpleEntry&lt;&gt;(&quot;Missing&quot;, id);\r\n             } else {\r\n                 entry = new SimpleEntry&lt;&gt;(&quot;Present&quot;, obj);\r\n             }\r\n             return entry;\r\n         }).collect(Collectors.groupingBy(Entry::getKey, Collectors\r\n                 .mapping(Entry::getValue, Collectors.toList())));\r\n\r\nSystem.out.println(map.get(&quot;Present&quot;));\r\nSystem.out.println(map.get(&quot;Missing&quot;));\r\n```\r\nprints\r\n```\r\n[C]\r\n[a, b]\r\n\r\n```\r\nBut I would you just stick with what you have.  It makes sense and works.","title":"Partition stream data and obtain two different collections as a result","body":"<p>If you really want to use a stream here is one way.</p>\n<ul>\n<li>this creates a an entry based on the presence of the id.</li>\n<li>it then groups those independent entries by the keys &quot;Missing&quot; and &quot;Present&quot;</li>\n</ul>\n<p>The Data</p>\n<pre><code> List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n Map&lt;String, Object&gt; myObjectMap = new HashMap&lt;&gt;();\n myObjectMap.put(&quot;c&quot;, &quot;C&quot;);\n</code></pre>\n<p>The process</p>\n<pre><code>Map&lt;String, List&lt;Object&gt;&gt; map = myIdList.stream()\n         .map(id-&gt; {\n             Entry&lt;String, Object&gt; entry;\n             Object obj = myObjectMap.get(id);\n             if (obj == null) {\n                 entry = new SimpleEntry&lt;&gt;(&quot;Missing&quot;, id);\n             } else {\n                 entry = new SimpleEntry&lt;&gt;(&quot;Present&quot;, obj);\n             }\n             return entry;\n         }).collect(Collectors.groupingBy(Entry::getKey, Collectors\n                 .mapping(Entry::getValue, Collectors.toList())));\n\nSystem.out.println(map.get(&quot;Present&quot;));\nSystem.out.println(map.get(&quot;Missing&quot;));\n</code></pre>\n<p>prints</p>\n<pre><code>[C]\n[a, b]\n\n</code></pre>\n<p>But I would you just stick with what you have.  It makes sense and works.</p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":3,"creation_date":1666982682,"post_id":74234762,"comment_id":131071463,"body_markdown":"Don&#39;t use `collection.stream().forEach()`. Just use `collection.forEach()`. But, updating a collection in (either) `forEach()` is an example of the [accumulator antipattern.](https://developer.ibm.com/articles/j-java-streams-2-brian-goetz/#mutable-reduction) Use a `Collector` or some suitable reduction instead.","body":"Don&#39;t use <code>collection.stream().forEach()</code>. Just use <code>collection.forEach()</code>. But, updating a collection in (either) <code>forEach()</code> is an example of the <a href=\"https://developer.ibm.com/articles/j-java-streams-2-brian-goetz/#mutable-reduction\" rel=\"nofollow noreferrer\">accumulator antipattern.</a> Use a <code>Collector</code> or some suitable reduction instead."}],"tags":[],"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666956815,"creation_date":1666956815,"answer_id":74234762,"question_id":74228554,"body_markdown":"This is a foreach circumstance.\r\n```\r\nmyIdList.stream().forEach(i -&gt; {\r\n    boolean b = myObjectMap.get(i) == null ? missingObjIds.add(i) : objectList.add(myObjectMap.get(i));\r\n});\r\n```","title":"Partition stream data and obtain two different collections as a result","body":"<p>This is a foreach circumstance.</p>\n<pre><code>myIdList.stream().forEach(i -&gt; {\n    boolean b = myObjectMap.get(i) == null ? missingObjIds.add(i) : objectList.add(myObjectMap.get(i));\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666958760,"creation_date":1666958760,"answer_id":74235165,"question_id":74228554,"body_markdown":"You could implement in a stream and with partitioning / helper class. However why make your loop complicated when 2 stream implementation is concise?\r\n\r\n    List&lt;Object&gt; objectList    = myIdList.stream()\r\n          .map(myObjectMap::get).filter(Objects::nonNull).toList();\r\n    List&lt;String&gt; missingObjIds = myIdList.stream()\r\n          .filter(Predicate.not(myObjectMap::containsKey)).toList();\r\n\r\n","title":"Partition stream data and obtain two different collections as a result","body":"<p>You could implement in a stream and with partitioning / helper class. However why make your loop complicated when 2 stream implementation is concise?</p>\n<pre><code>List&lt;Object&gt; objectList    = myIdList.stream()\n      .map(myObjectMap::get).filter(Objects::nonNull).toList();\nList&lt;String&gt; missingObjIds = myIdList.stream()\n      .filter(Predicate.not(myObjectMap::containsKey)).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666987457,"creation_date":1666987457,"answer_id":74240367,"question_id":74228554,"body_markdown":"**BE SIMPLE!!!**\r\n```java\r\nList&lt;String&gt; ids = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\nMap&lt;String, Object&gt; map = Map.of();\r\n\r\nList&lt;Object&gt; objectList = ids.stream()\r\n                             .filter(map::containsKey)\r\n                             .map(map::get)\r\n                             .collect(Collectors.toList());\r\nList&lt;String&gt; missingIds = ids.stream()\r\n                             .filter(id -&gt; !map.containsKey(id))\r\n                             .collect(Collectors.toList());\r\n```","title":"Partition stream data and obtain two different collections as a result","body":"<p><strong>BE SIMPLE!!!</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; ids = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nMap&lt;String, Object&gt; map = Map.of();\n\nList&lt;Object&gt; objectList = ids.stream()\n                             .filter(map::containsKey)\n                             .map(map::get)\n                             .collect(Collectors.toList());\nList&lt;String&gt; missingIds = ids.stream()\n                             .filter(id -&gt; !map.containsKey(id))\n                             .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":6,"score":0,"last_activity_date":1666987457,"creation_date":1666906468,"question_id":74228554,"body_markdown":"I have a list of IDs `myIdList` and a map `myObjectMap` associating the ID with a corresponding object, `Map&lt;String,Object&gt;`.\r\n\r\nI need to go through my list of IDs, and for each ID - if it&#39;s present in the map, add the object associated with it to a new list of objects, otherwise add the ID to a list of missing IDs.\r\n\r\nI can easily do this using a simple for each loop:\r\n```\r\nList&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\nMap&lt;String,Object&gt; myObjectMap = new HashMap&lt;&gt;();\r\n\t\t\r\nList&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\r\nList&lt;String&gt; missingObjIds = new ArrayList&lt;&gt;();\r\n\r\nfor(String id : myIdList) {\r\n\tObject obj = myObjectMap.get(id);\r\n\tif(obj == null) {\r\n\t\tmissingObjIds.add(id);\r\n\t} else {\r\n\t\tobjectList.add(obj);\r\n\t}\r\n}\r\n```\r\nI would like to do this in a less verbose way using the Stream API, but I&#39;m not sure how.\r\n\r\nI&#39;ve tried partitioning the stream, but that got me either a map with 2 lists of IDs (which would necessitate going through the list again to retrieve the mapped objects) or a list of objects with nulls for all the missing objects and no way to get the missing IDs. \r\n\r\nI&#39;m sure there has to be a way to do it. Any ideas?","title":"Partition stream data and obtain two different collections as a result","body":"<p>I have a list of IDs <code>myIdList</code> and a map <code>myObjectMap</code> associating the ID with a corresponding object, <code>Map&lt;String,Object&gt;</code>.</p>\n<p>I need to go through my list of IDs, and for each ID - if it's present in the map, add the object associated with it to a new list of objects, otherwise add the ID to a list of missing IDs.</p>\n<p>I can easily do this using a simple for each loop:</p>\n<pre><code>List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nMap&lt;String,Object&gt; myObjectMap = new HashMap&lt;&gt;();\n        \nList&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\nList&lt;String&gt; missingObjIds = new ArrayList&lt;&gt;();\n\nfor(String id : myIdList) {\n    Object obj = myObjectMap.get(id);\n    if(obj == null) {\n        missingObjIds.add(id);\n    } else {\n        objectList.add(obj);\n    }\n}\n</code></pre>\n<p>I would like to do this in a less verbose way using the Stream API, but I'm not sure how.</p>\n<p>I've tried partitioning the stream, but that got me either a map with 2 lists of IDs (which would necessitate going through the list again to retrieve the mapped objects) or a list of objects with nulls for all the missing objects and no way to get the missing IDs.</p>\n<p>I'm sure there has to be a way to do it. Any ideas?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1666981765,"post_id":74239493,"comment_id":131071210,"body_markdown":"You can&#39;t clone random objects. They&#39;d need to implement Cloneable and expose the `clone()` method. But it&#39;s [better](https://stackoverflow.com/questions/2597965/why-people-are-so-afraid-of-using-clone-on-collection-and-jdk-classes) to add a copy constructor.","body":"You can&#39;t clone random objects. They&#39;d need to implement Cloneable and expose the <code>clone()</code> method. But it&#39;s <a href=\"https://stackoverflow.com/questions/2597965/why-people-are-so-afraid-of-using-clone-on-collection-and-jdk-classes\">better</a> to add a copy constructor."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667035113,"post_id":74239493,"comment_id":131078796,"body_markdown":"&quot;copy [constructor&quot; is not applicable for an interface](https://stackoverflow.com/q/2804041/592355)...but you can just call it (&amp; implement `default`) &quot;method&quot;: `interface IBase {\n    void doJob(); [default] IBase copyMe(IBase src)[;|{...}]}`","body":"&quot;copy <a href=\"https://stackoverflow.com/q/2804041/592355\">constructor&quot; is not applicable for an interface</a>...but you can just call it (&amp; implement <code>default</code>) &quot;method&quot;: <code>interface IBase {     void doJob(); [default] IBase copyMe(IBase src)[;|{...}]}</code>"}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666986588,"post_id":74239537,"comment_id":131072465,"body_markdown":"`Object.clone()` is protected. It needs to be exposed in addition to implementing Cloneable.","body":"<code>Object.clone()</code> is protected. It needs to be exposed in addition to implementing Cloneable."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666986991,"post_id":74239537,"comment_id":131072572,"body_markdown":"It still needs to be implemented (by calling `super.clone()`)","body":"It still needs to be implemented (by calling <code>super.clone()</code>)"},{"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"score":0,"creation_date":1667016520,"post_id":74239537,"comment_id":131076571,"body_markdown":"Could you show me the copy-constructor solution?","body":"Could you show me the copy-constructor solution?"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666986898,"creation_date":1666981693,"answer_id":74239537,"question_id":74239493,"body_markdown":"Look at the contract `public Object clone()`, so to use this method in your class you shouild declare it and case `Object` to the `T`.\r\n\r\n```java\r\ninterface IBase extends Cloneable {\r\n\r\n    void doJob();\r\n\r\n    void update();\r\n    \r\n    Object clone();\r\n\r\n}\r\n\r\npublic class MyCache&lt;T extends IBase&gt; {\r\n\r\n    private T t1;\r\n    private T t2;\r\n\r\n    public MyCache(T t1, T t2) {\r\n        this.t1 = t1;\r\n        this.t2 = t2;\r\n    }\r\n\r\n    private void init() {\r\n        t1.update();\r\n        t2 = (T)t1.clone();\r\n    }\r\n}\r\n```\r\n\r\n***P.S.** This is working solution, but at this time an outdated. It&#39;s better to use a copy constructor instead.*","title":"What is the right way to assign a data member to another data member of generic type","body":"<p>Look at the contract <code>public Object clone()</code>, so to use this method in your class you shouild declare it and case <code>Object</code> to the <code>T</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface IBase extends Cloneable {\n\n    void doJob();\n\n    void update();\n    \n    Object clone();\n\n}\n\npublic class MyCache&lt;T extends IBase&gt; {\n\n    private T t1;\n    private T t2;\n\n    public MyCache(T t1, T t2) {\n        this.t1 = t1;\n        this.t2 = t2;\n    }\n\n    private void init() {\n        t1.update();\n        t2 = (T)t1.clone();\n    }\n}\n</code></pre>\n<p><em><strong>P.S.</strong> This is working solution, but at this time an outdated. It's better to use a copy constructor instead.</em></p>\n"}],"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74239537,"answer_count":1,"score":1,"last_activity_date":1666986898,"creation_date":1666981401,"question_id":74239493,"body_markdown":"    interface IBase {\r\n        void doJob();\r\n    }\r\n\r\n    public class MyCache&lt;T extends IBase&gt; {\r\n        private T t1;\r\n        private T t2;\r\n        public MyCache(T t1, T t2) {\r\n            this.t1 = t1;\r\n            this.t2 = t2;\r\n        }\r\n    \r\n        @PostConstruct\r\n        private void init() {\r\n            t1.update();\r\n            t2 = t1.clone(); // ERROR!\r\n        }\r\n    }\r\n\r\nAs you see, I&#39;m trying to develop a generic class. In the function `init()`, I assign the copy of `t1` to `t2`. But it can&#39;t be compiled.\r\n\r\nI&#39;m not very good at Java. Can someone help me on this issue?","title":"What is the right way to assign a data member to another data member of generic type","body":"<pre><code>interface IBase {\n    void doJob();\n}\n\npublic class MyCache&lt;T extends IBase&gt; {\n    private T t1;\n    private T t2;\n    public MyCache(T t1, T t2) {\n        this.t1 = t1;\n        this.t2 = t2;\n    }\n\n    @PostConstruct\n    private void init() {\n        t1.update();\n        t2 = t1.clone(); // ERROR!\n    }\n}\n</code></pre>\n<p>As you see, I'm trying to develop a generic class. In the function <code>init()</code>, I assign the copy of <code>t1</code> to <code>t2</code>. But it can't be compiled.</p>\n<p>I'm not very good at Java. Can someone help me on this issue?</p>\n"},{"tags":["java","arrays","algorithm","arraylist"],"answers":[{"comments":[{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":0,"creation_date":1418287453,"post_id":27418590,"comment_id":43280257,"body_markdown":"Surely there&#39;s a more efficient solution, though?","body":"Surely there&#39;s a more efficient solution, though?"},{"owner":{"account_id":4371144,"reputation":157,"user_id":3565522,"accept_rate":82,"display_name":"Giovanni"},"score":0,"creation_date":1418287531,"post_id":27418590,"comment_id":43280287,"body_markdown":"This seems a little inefficient. I am trying to maintain linear time.","body":"This seems a little inefficient. I am trying to maintain linear time."},{"owner":{"account_id":55831,"reputation":9422,"user_id":167288,"accept_rate":89,"display_name":"Adem"},"score":0,"creation_date":1418287665,"post_id":27418590,"comment_id":43280361,"body_markdown":"you have to find (N * (N + 1))/2 sum. because you have this amount posible sum. over my solution, some total might be used for next turn as a optimization. but still, you have to have a loop with (N * (N + 1))/2 turn. this is 2 outer loops in my solution","body":"you have to find (N * (N + 1))/2 sum. because you have this amount posible sum. over my solution, some total might be used for next turn as a optimization. but still, you have to have a loop with (N * (N + 1))/2 turn. this is 2 outer loops in my solution"},{"owner":{"account_id":4371144,"reputation":157,"user_id":3565522,"accept_rate":82,"display_name":"Giovanni"},"score":0,"creation_date":1418288494,"post_id":27418590,"comment_id":43280815,"body_markdown":"@Adem Ah, I see. Where in this solution can I print or store the actual sequence of numbers that produces `max`?","body":"@Adem Ah, I see. Where in this solution can I print or store the actual sequence of numbers that produces <code>max</code>?"},{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1418289198,"post_id":27418590,"comment_id":43281194,"body_markdown":"@Adem You don&#39;t need to find all (N * (N + 1))/2 sums. See Kadane&#39;s algorithm http://en.wikipedia.org/wiki/Maximum_subarray_problem (topicstarter posted it&#39;s implementation)","body":"@Adem You don&#39;t need to find all (N * (N + 1))/2 sums. See Kadane&#39;s algorithm <a href=\"http://en.wikipedia.org/wiki/Maximum_subarray_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Maximum_subarray_problem</a> (topicstarter posted it&#39;s implementation)"},{"owner":{"account_id":2003969,"reputation":5976,"user_id":1794345,"accept_rate":79,"display_name":"Rerito"},"score":0,"creation_date":1418289464,"post_id":27418590,"comment_id":43281339,"body_markdown":"OP has already the best algorithm to find the maximum subarray, he only need something to track the subarray itself along with its sum.","body":"OP has already the best algorithm to find the maximum subarray, he only need something to track the subarray itself along with its sum."},{"owner":{"account_id":55831,"reputation":9422,"user_id":167288,"accept_rate":89,"display_name":"Adem"},"score":0,"creation_date":1418289778,"post_id":27418590,"comment_id":43281513,"body_markdown":"@MBo , I read the wiki. I did not know the algorithm before. I just write this in 2 minutes.","body":"@MBo , I read the wiki. I did not know the algorithm before. I just write this in 2 minutes."},{"owner":{"account_id":2003969,"reputation":5976,"user_id":1794345,"accept_rate":79,"display_name":"Rerito"},"score":0,"creation_date":1418290314,"post_id":27418590,"comment_id":43281817,"body_markdown":"@Adem You misread the question. OP has already the best working solution to find the sum, he just needs to get the subarray related to this sum. You proposed a (very) suboptimal solution that doesn&#39;t even answer the question. Then you edited to add the &quot;printing&quot; without refactoring to use the aforementioned algorithm :/ .","body":"@Adem You misread the question. OP has already the best working solution to find the sum, he just needs to get the subarray related to this sum. You proposed a (very) suboptimal solution that doesn&#39;t even answer the question. Then you edited to add the &quot;printing&quot; without refactoring to use the aforementioned algorithm :/ ."}],"tags":[],"owner":{"account_id":55831,"reputation":9422,"user_id":167288,"accept_rate":89,"display_name":"Adem"},"comment_count":8,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1418288691,"creation_date":1418287391,"answer_id":27418590,"question_id":27418320,"body_markdown":"you need to sum all possible sub array. to do that, you can do this code\r\n\r\n\r\n\tpublic static int maxSubsequenceSum(int[] X) {\r\n\t\tint max = 0;\r\n\t\tboolean max_init = false;\r\n        int max_from=0;\r\n        int max_to=0; // this is not included\r\n\t\tfor (int i = 0; i &lt; X.length; i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; X.length + 1; j++) {\r\n\t\t\t\tint total = 0;\r\n\t\t\t\tfor (int k = i; k &lt; j; k++) {\r\n\t\t\t\t\ttotal += X[k];\r\n\t\t\t\t}\r\n\t\t\t\tif (total &gt; max || !max_init){\r\n\t\t\t\t\tmax = total;\r\n\t\t\t\t\tmax_init = true;\r\n                    max_from = i;\r\n                    max_to = j;\r\n               }\r\n\t\t\t}\r\n\t\t}\r\n        for (int i=max_from;i&lt;max_to;i++)\r\n           System.out.print(X[i]+&quot;,&quot;);\r\n        System.out.println();\r\n\t\treturn max;\r\n\t}","title":"Maximum Sum SubArray","body":"<p>you need to sum all possible sub array. to do that, you can do this code</p>\n\n<pre><code>public static int maxSubsequenceSum(int[] X) {\n    int max = 0;\n    boolean max_init = false;\n    int max_from=0;\n    int max_to=0; // this is not included\n    for (int i = 0; i &lt; X.length; i++) {\n        for (int j = i + 1; j &lt; X.length + 1; j++) {\n            int total = 0;\n            for (int k = i; k &lt; j; k++) {\n                total += X[k];\n            }\n            if (total &gt; max || !max_init){\n                max = total;\n                max_init = true;\n                max_from = i;\n                max_to = j;\n           }\n        }\n    }\n    for (int i=max_from;i&lt;max_to;i++)\n       System.out.print(X[i]+\",\");\n    System.out.println();\n    return max;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2003969,"reputation":5976,"user_id":1794345,"accept_rate":79,"display_name":"Rerito"},"score":2,"creation_date":1418313979,"post_id":27419025,"comment_id":43296060,"body_markdown":"Your solution is even better than mine ... I hadnt noticed I could optimize away some useless tracking on the indexes. Well done :)","body":"Your solution is even better than mine ... I hadnt noticed I could optimize away some useless tracking on the indexes. Well done :)"}],"tags":[],"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1418289050,"creation_date":1418289050,"answer_id":27419025,"question_id":27418320,"body_markdown":"You can replace Math.Max functions by if statements and update start and end index of the best subarray. Pascal version:\r\n\r\n        if X[i] &gt; sum + X[i] then begin\r\n            sum := X[i];\r\n            start := i;\r\n          end\r\n          else\r\n            sum := sum + X[i];\r\n          if max &lt; sum then begin\r\n            max := sum;\r\n            finish := i;\r\n          end;","title":"Maximum Sum SubArray","body":"<p>You can replace Math.Max functions by if statements and update start and end index of the best subarray. Pascal version:</p>\n\n<pre><code>    if X[i] &gt; sum + X[i] then begin\n        sum := X[i];\n        start := i;\n      end\n      else\n        sum := sum + X[i];\n      if max &lt; sum then begin\n        max := sum;\n        finish := i;\n      end;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":0,"creation_date":1418289195,"post_id":27419033,"comment_id":43281190,"body_markdown":"The problem is asking for the subsequence itself, not just its sum.","body":"The problem is asking for the subsequence itself, not just its sum."}],"tags":[],"owner":{"account_id":5254435,"reputation":967,"user_id":4197697,"display_name":"softwarenewbie7331"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418289407,"creation_date":1418289084,"answer_id":27419033,"question_id":27418320,"body_markdown":"there is an o(n) solution, a single for loop through the array and reset your sub-sequence whenever your current total is below 0.\r\n\r\n{5, 15, -30, 10, -5, 40, 10}\r\n\r\n - 5 + 15 = 20\r\n - 20 - 30 = -10 (reset sub-sequence)\r\n - 10 -5 +40 +10 = 55\r\n - end. 55 is max sub-sequence\r\n\r\nedit: to get subsequence...\r\nwhenever you change max, update your subsequence\r\n\r\n - current left index changes only when u reset\r\n - current right index changes every iteration\r\n - new max -&gt; save current left and right index...\r\n\r\n","title":"Maximum Sum SubArray","body":"<p>there is an o(n) solution, a single for loop through the array and reset your sub-sequence whenever your current total is below 0.</p>\n\n<p>{5, 15, -30, 10, -5, 40, 10}</p>\n\n<ul>\n<li>5 + 15 = 20</li>\n<li>20 - 30 = -10 (reset sub-sequence)</li>\n<li>10 -5 +40 +10 = 55</li>\n<li>end. 55 is max sub-sequence</li>\n</ul>\n\n<p>edit: to get subsequence...\nwhenever you change max, update your subsequence</p>\n\n<ul>\n<li>current left index changes only when u reset</li>\n<li>current right index changes every iteration</li>\n<li>new max -> save current left and right index...</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2003969,"reputation":5976,"user_id":1794345,"accept_rate":79,"display_name":"Rerito"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1418289536,"creation_date":1418289219,"answer_id":27419072,"question_id":27418320,"body_markdown":"You can track the starting and ending indexes of the current best subarray in your loop. Instead of using `max()` to compute `sum`and `max`, just do the following :\r\n\r\n    int sum_start = 0, sum_end = 0, start = 0, end = 0;\r\n    // In the for loop\r\n    if (X[i] &gt; sum + X[i]) {\r\n        sum = X[i];\r\n        sum_start = i;\r\n        sum_end = i;\r\n    } else {\r\n        ++sum_end;\r\n    }\r\n    if (sum &gt; max) {\r\n        start = sum_start;\r\n        end = sum_end;\r\n        max = sum;\r\n    }","title":"Maximum Sum SubArray","body":"<p>You can track the starting and ending indexes of the current best subarray in your loop. Instead of using <code>max()</code> to compute <code>sum</code>and <code>max</code>, just do the following :</p>\n\n<pre><code>int sum_start = 0, sum_end = 0, start = 0, end = 0;\n// In the for loop\nif (X[i] &gt; sum + X[i]) {\n    sum = X[i];\n    sum_start = i;\n    sum_end = i;\n} else {\n    ++sum_end;\n}\nif (sum &gt; max) {\n    start = sum_start;\n    end = sum_end;\n    max = sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3502417,"reputation":4067,"user_id":2928880,"display_name":"JRG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495825822,"creation_date":1495783508,"answer_id":44195937,"question_id":27418320,"body_markdown":"It can be done by capturing the start and end while identifying maximum sub-array as follows:\r\n\r\n### Code\r\n\r\n    package recursion;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class MaximumSubArray {\r\n\r\n\t    private static SubArray maxSubArray(int[] values, int low, int high) {\r\n\t\t    if (low == high) {\r\n\t\t\t    // base condition\r\n\t\t\t    return new SubArray(low, high, values[low]);\r\n    \t\t} else {\r\n        \t\tint mid = (int) (low + high) / 2;\r\n\t    \t\t// Check left side\r\n\t\t    \tSubArray leftSubArray = maxSubArray(values, low, mid);\r\n\t\t\t    // Check right side\r\n    \t\t\tSubArray rightSubArray = maxSubArray(values, mid + 1, high);\r\n\t    \t\t// Check from middle\r\n\t\t    \tSubArray crossSubArray = maxCrossSubArray(values, low, mid, high);\r\n\t\t\t    // Compare left, right and middle arrays to find maximum sub-array\r\n\t\t\t    if (leftSubArray.getSum() &gt;= rightSubArray.getSum()\r\n\t\t\t\t    \t&amp;&amp; leftSubArray.getSum() &gt;= crossSubArray.getSum()) {\r\n\t\t\t\t    return leftSubArray;\r\n\t\t\t    } else if (rightSubArray.getSum() &gt;= leftSubArray.getSum()\r\n\t\t\t\t    \t&amp;&amp; rightSubArray.getSum() &gt;= crossSubArray.getSum()) {\r\n\t\t\t\t    return rightSubArray;\r\n\t\t\t    } else {\r\n\t\t\t\t    return crossSubArray;\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n\r\n\t    private static SubArray maxCrossSubArray(int[] values, int low, int mid,\r\n\t\t    \tint high) {\r\n\t\t    int sum = 0;\r\n    \t\tint maxLeft = low;\r\n\t    \tint maxRight = high;\r\n\r\n\t\t    int leftSum = Integer.MIN_VALUE;\r\n\t\t    for (int i = mid; i &gt;= low; i--) {\r\n\t    \t\tsum = sum + values[i];\r\n        \t\tif (sum &gt; leftSum) {\r\n\t    \t\t\tleftSum = sum;\r\n\t\t    \t\tmaxLeft = i;\r\n\t\t\t    }\r\n\t\t    }\r\n\r\n\t\t    sum = 0;\r\n    \t\tint rightSum = Integer.MIN_VALUE;\r\n\t    \tfor (int j = mid + 1; j &lt;= high; j++) {\r\n\t\t    \tsum = sum + values[j];\r\n\t\t\t    if (sum &gt; rightSum) {\r\n\t\t\t    \trightSum = sum;\r\n\t\t\t    \tmaxRight = j;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    SubArray max = new SubArray(maxLeft, maxRight, (leftSum + rightSum));\r\n\t\t    return max;\r\n\t    }\r\n\r\n    \tstatic class SubArray {\r\n\r\n\t    \tprivate int start;\r\n\r\n\t\t    private int end;\r\n\r\n\t\t    private int sum;\r\n\r\n    \t\tpublic SubArray(int start, int end, int sum) {\r\n\t    \t\tsuper();\r\n\t\t    \tthis.start = start;\r\n\t\t\t    this.end = end;\r\n\t\t\t    this.sum = sum;\r\n\t\t    }\r\n\r\n\t\t    public int getStart() {\treturn start; }\r\n\r\n\t    \tpublic void setStart(int start) { this.start = start; }\r\n\r\n    \t\tpublic int getEnd() { return end; }\r\n\r\n\t\t    public void setEnd(int end) { this.end = end; }\r\n\r\n\t    \tpublic int getSum() { return sum; }\r\n\r\n    \t\tpublic void setSum(int sum) { this.sum = sum; }\r\n\r\n    \t\t@Override\r\n\t    \tpublic String toString() {\r\n\t\t    \treturn &quot;SubArray [start=&quot; + start + &quot;, end=&quot; + end + &quot;, sum=&quot; + sum\t+ &quot;]&quot;;\r\n\t\t    }\r\n\t    }\r\n\r\n\t    public static final void main(String[] args) {\r\n\t\t    int[] values = { 5, 15, -30, 10, -5, 40, 10 };\r\n\t\t    System.out.println(&quot;Maximum sub-array for array&quot;\r\n\t\t\t\t+ Arrays.toString(values) + &quot;: &quot; + maxSubArray(values, 0, 6));\r\n\t    }\r\n\r\n    }\r\n\r\n### Output\r\n\r\n    Maximum sub-array for array[5, 15, -30, 10, -5, 40, 10]: SubArray [start=3, end=6, sum=55]\r\n\r\nSolution can be downloaded from  https://github.com/gosaliajigar/Programs/blob/master/src/recursion/MaximumSubArray.java","title":"Maximum Sum SubArray","body":"<p>It can be done by capturing the start and end while identifying maximum sub-array as follows:</p>\n\n<h3>Code</h3>\n\n<pre><code>package recursion;\n\nimport java.util.Arrays;\n\npublic class MaximumSubArray {\n\n    private static SubArray maxSubArray(int[] values, int low, int high) {\n        if (low == high) {\n            // base condition\n            return new SubArray(low, high, values[low]);\n        } else {\n            int mid = (int) (low + high) / 2;\n            // Check left side\n            SubArray leftSubArray = maxSubArray(values, low, mid);\n            // Check right side\n            SubArray rightSubArray = maxSubArray(values, mid + 1, high);\n            // Check from middle\n            SubArray crossSubArray = maxCrossSubArray(values, low, mid, high);\n            // Compare left, right and middle arrays to find maximum sub-array\n            if (leftSubArray.getSum() &gt;= rightSubArray.getSum()\n                    &amp;&amp; leftSubArray.getSum() &gt;= crossSubArray.getSum()) {\n                return leftSubArray;\n            } else if (rightSubArray.getSum() &gt;= leftSubArray.getSum()\n                    &amp;&amp; rightSubArray.getSum() &gt;= crossSubArray.getSum()) {\n                return rightSubArray;\n            } else {\n                return crossSubArray;\n            }\n        }\n    }\n\n    private static SubArray maxCrossSubArray(int[] values, int low, int mid,\n            int high) {\n        int sum = 0;\n        int maxLeft = low;\n        int maxRight = high;\n\n        int leftSum = Integer.MIN_VALUE;\n        for (int i = mid; i &gt;= low; i--) {\n            sum = sum + values[i];\n            if (sum &gt; leftSum) {\n                leftSum = sum;\n                maxLeft = i;\n            }\n        }\n\n        sum = 0;\n        int rightSum = Integer.MIN_VALUE;\n        for (int j = mid + 1; j &lt;= high; j++) {\n            sum = sum + values[j];\n            if (sum &gt; rightSum) {\n                rightSum = sum;\n                maxRight = j;\n            }\n        }\n        SubArray max = new SubArray(maxLeft, maxRight, (leftSum + rightSum));\n        return max;\n    }\n\n    static class SubArray {\n\n        private int start;\n\n        private int end;\n\n        private int sum;\n\n        public SubArray(int start, int end, int sum) {\n            super();\n            this.start = start;\n            this.end = end;\n            this.sum = sum;\n        }\n\n        public int getStart() { return start; }\n\n        public void setStart(int start) { this.start = start; }\n\n        public int getEnd() { return end; }\n\n        public void setEnd(int end) { this.end = end; }\n\n        public int getSum() { return sum; }\n\n        public void setSum(int sum) { this.sum = sum; }\n\n        @Override\n        public String toString() {\n            return \"SubArray [start=\" + start + \", end=\" + end + \", sum=\" + sum + \"]\";\n        }\n    }\n\n    public static final void main(String[] args) {\n        int[] values = { 5, 15, -30, 10, -5, 40, 10 };\n        System.out.println(\"Maximum sub-array for array\"\n            + Arrays.toString(values) + \": \" + maxSubArray(values, 0, 6));\n    }\n\n}\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>Maximum sub-array for array[5, 15, -30, 10, -5, 40, 10]: SubArray [start=3, end=6, sum=55]\n</code></pre>\n\n<p>Solution can be downloaded from  <a href=\"https://github.com/gosaliajigar/Programs/blob/master/src/recursion/MaximumSubArray.java\" rel=\"nofollow noreferrer\">https://github.com/gosaliajigar/Programs/blob/master/src/recursion/MaximumSubArray.java</a></p>\n"},{"tags":[],"owner":{"account_id":14649023,"reputation":16,"user_id":10579531,"display_name":"Nishant Banjade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620710798,"creation_date":1620710466,"answer_id":67480952,"question_id":27418320,"body_markdown":"\nTwo subarray are\r\n\r\n[1, 2, 3]\r\n\r\nand [4, 9] excluding the negative number\r\n\r\n\r\nThe max sub array here is [ 4, 5] \r\n\r\nso the output is  9\r\n\r\n\r\n\r\nHere is the code\r\n\r\n    public class MaxSubArray{\r\n    static void sumM(int a[], int n){\r\n        int s1 = Integer.MAX_VALUE;\r\n        int k = Integer.MAX_VALUE;\r\n        int sum = 0;\r\n        int s2 = 0;\r\n        for(int i=0;i&lt;n;i++){\r\n\r\n            if(a[i]&lt;s1){\r\n                if(a[i]&lt;0){\r\n                    k = Math.min(a[i],s1);\r\n                }\r\n            }\r\n\r\n            if(a[i]&gt;k){\r\n                sum+=a[i];\r\n            }\r\n\r\n            if(a[i]&lt;k){\r\n                if(a[i]&lt;0){\r\n                    continue;\r\n                    \r\n                }\r\n                s2+=a[i];\r\n            }\r\n\r\n        }\r\n            if(sum&gt;s2){\r\n                System.out.println(sum);\r\n            }\r\n            else{\r\n                System.out.println(s2);\r\n            }\r\n        \r\n         \r\n    }\r\n\r\n        public static void main(String[] args){\r\n            int a[] = {1,2,3,-7,4,5};\r\n\r\n            int n = a.length;\r\n\r\n            sumM(a,n);\r\n        }\r\n\r\n        \r\n    }\r\n","title":"Maximum Sum SubArray","body":"<p>Two subarray are</p>\n<p>[1, 2, 3]</p>\n<p>and [4, 9] excluding the negative number</p>\n<p>The max sub array here is [ 4, 5]</p>\n<p>so the output is  9</p>\n<p>Here is the code</p>\n<pre><code>public class MaxSubArray{\nstatic void sumM(int a[], int n){\n    int s1 = Integer.MAX_VALUE;\n    int k = Integer.MAX_VALUE;\n    int sum = 0;\n    int s2 = 0;\n    for(int i=0;i&lt;n;i++){\n\n        if(a[i]&lt;s1){\n            if(a[i]&lt;0){\n                k = Math.min(a[i],s1);\n            }\n        }\n\n        if(a[i]&gt;k){\n            sum+=a[i];\n        }\n\n        if(a[i]&lt;k){\n            if(a[i]&lt;0){\n                continue;\n                \n            }\n            s2+=a[i];\n        }\n\n    }\n        if(sum&gt;s2){\n            System.out.println(sum);\n        }\n        else{\n            System.out.println(s2);\n        }\n    \n     \n}\n\n    public static void main(String[] args){\n        int a[] = {1,2,3,-7,4,5};\n\n        int n = a.length;\n\n        sumM(a,n);\n    }\n\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21467032,"reputation":51,"user_id":15816786,"display_name":"Emilio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623284660,"creation_date":1623259580,"answer_id":67909012,"question_id":27418320,"body_markdown":"```java\r\n public static int kadane(int[] A) {\r\n        \r\n    int maxSoFar = 0;\r\n \r\n        \r\n    int maxEndingHere = 0;\r\n \r\n    // traverse the given array\r\n    for (int i: A) {\r\n         // update the maximum sum of subarray &quot;ending&quot; at index `i` (by adding the\r\n         // current element to maximum sum ending at previous index `i-1`)\r\n         maxEndingHere = maxEndingHere + i;\r\n \r\n         // if the maximum sum is negative, set it to 0 (which represents\r\n         // an empty subarray)\r\n         maxEndingHere = Integer.max(maxEndingHere, 0);\r\n \r\n         // update the result if the current subarray sum is found to be greater\r\n         maxSoFar = Integer.max(maxSoFar, maxEndingHere);\r\n     }\r\n \r\n     return maxSoFar;\r\n}\r\n```","title":"Maximum Sum SubArray","body":"<pre class=\"lang-java prettyprint-override\"><code> public static int kadane(int[] A) {\n        \n    int maxSoFar = 0;\n \n        \n    int maxEndingHere = 0;\n \n    // traverse the given array\n    for (int i: A) {\n         // update the maximum sum of subarray &quot;ending&quot; at index `i` (by adding the\n         // current element to maximum sum ending at previous index `i-1`)\n         maxEndingHere = maxEndingHere + i;\n \n         // if the maximum sum is negative, set it to 0 (which represents\n         // an empty subarray)\n         maxEndingHere = Integer.max(maxEndingHere, 0);\n \n         // update the result if the current subarray sum is found to be greater\n         maxSoFar = Integer.max(maxSoFar, maxEndingHere);\n     }\n \n     return maxSoFar;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667381488,"post_id":74240270,"comment_id":131151601,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74240270/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20609343,"reputation":1,"user_id":15128875,"display_name":"Hachimi BSA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666986756,"creation_date":1666986756,"answer_id":74240270,"question_id":27418320,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var maxSequence = function(arr){\r\n      // ...\r\n      if (arr.every((ele) =&gt; ele &gt;= 0)) {\r\n        return arr.reduce((sum, ele) =&gt; sum + ele, 0);\r\n      } else if (arr.every((ele) =&gt; ele &lt; 0)) {\r\n        return 0; \r\n    //for me the maximum would be the biggest negative number \r\n    //arr.reduce((max, elm) =&gt; (max &gt; elm ? max : elm))\r\n      } else if (arr === [0]) {\r\n        return 0;\r\n      } else {\r\n        let maxSum = [];\r\n        let currentSum = 0;\r\n        for (let i = 0; i &lt; arr.length; i++) {\r\n          currentSum = Math.max(arr[i], currentSum + arr[i]);\r\n          maxSum.push(currentSum);\r\n        }\r\n        return maxSum.reduce((max, elm) =&gt; (max &gt; elm ? max : elm));\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Maximum Sum SubArray","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var maxSequence = function(arr){\n  // ...\n  if (arr.every((ele) =&gt; ele &gt;= 0)) {\n    return arr.reduce((sum, ele) =&gt; sum + ele, 0);\n  } else if (arr.every((ele) =&gt; ele &lt; 0)) {\n    return 0; \n//for me the maximum would be the biggest negative number \n//arr.reduce((max, elm) =&gt; (max &gt; elm ? max : elm))\n  } else if (arr === [0]) {\n    return 0;\n  } else {\n    let maxSum = [];\n    let currentSum = 0;\n    for (let i = 0; i &lt; arr.length; i++) {\n      currentSum = Math.max(arr[i], currentSum + arr[i]);\n      maxSum.push(currentSum);\n    }\n    return maxSum.reduce((max, elm) =&gt; (max &gt; elm ? max : elm));\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":4371144,"reputation":157,"user_id":3565522,"accept_rate":82,"display_name":"Giovanni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4613,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":27419072,"answer_count":8,"score":7,"last_activity_date":1666986756,"creation_date":1418286410,"question_id":27418320,"body_markdown":"I am trying to find the **contiguous** subarray within an array which has the largest sum. So, for the array \r\n\r\n&gt; {5, 15, -30, 10, -5, 40, 10}\r\n\r\nthe maximum sum possible using those numbers **contiguously** would be 55, or (10 + (-5) + 40 + 10) = 55. The program below outputs the maximum sum of 55, however, the problem I am trying to figure out is how to print the sequence that produces this 55. In other words, how can I print out the 10, -5, 40, and 10?\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] arr = {5, 15, -30, 10, -5, 40, 10};\r\n\t\t\r\n\t\tSystem.out.println(maxSubsequenceSum(arr));\t\t\t\r\n\t}\r\n\r\n    public static int maxSubsequenceSum(int[] X) {\r\n    \tint max = X[0];\r\n    \tint sum = X[0];\r\n    \t\r\n    \tfor (int i = 1; i &lt; X.length; i++) {\r\n    \t\tsum = Math.max(X[i], sum + X[i]);\r\n    \t\tmax = Math.max(max, sum);\r\n    \t}\r\n    \treturn max;\r\n    }\r\n \r\nI was thinking of creating an ArrayList to store the `sum` values at every index of i, so the ArrayList would look like (5, 20, -10, 10, 5, 45, 55). And then I was planning on clearing the ArrayList from index 0 to the first negative number in the list, however, this only solves the problem for this specific example, but if I change the original array of numbers, this solution won&#39;t work.","title":"Maximum Sum SubArray","body":"<p>I am trying to find the <strong>contiguous</strong> subarray within an array which has the largest sum. So, for the array </p>\n\n<blockquote>\n  <p>{5, 15, -30, 10, -5, 40, 10}</p>\n</blockquote>\n\n<p>the maximum sum possible using those numbers <strong>contiguously</strong> would be 55, or (10 + (-5) + 40 + 10) = 55. The program below outputs the maximum sum of 55, however, the problem I am trying to figure out is how to print the sequence that produces this 55. In other words, how can I print out the 10, -5, 40, and 10?</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] arr = {5, 15, -30, 10, -5, 40, 10};\n\n    System.out.println(maxSubsequenceSum(arr));         \n}\n\npublic static int maxSubsequenceSum(int[] X) {\n    int max = X[0];\n    int sum = X[0];\n\n    for (int i = 1; i &lt; X.length; i++) {\n        sum = Math.max(X[i], sum + X[i]);\n        max = Math.max(max, sum);\n    }\n    return max;\n}\n</code></pre>\n\n<p>I was thinking of creating an ArrayList to store the <code>sum</code> values at every index of i, so the ArrayList would look like (5, 20, -10, 10, 5, 45, 55). And then I was planning on clearing the ArrayList from index 0 to the first negative number in the list, however, this only solves the problem for this specific example, but if I change the original array of numbers, this solution won't work.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1666986871,"post_id":74240259,"comment_id":131072537,"body_markdown":"Didn&#39;t check the docs but I think often JAVA_HOME points to just C:\\Program Files\\Java\\jdk-19 and the program adds \\bin or \\lib or whatever as needed.","body":"Didn&#39;t check the docs but I think often JAVA_HOME points to just C:\\Program Files\\Java\\jdk-19 and the program adds \\bin or \\lib or whatever as needed."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1666986951,"post_id":74240259,"comment_id":131072558,"body_markdown":"Some other ideas here: https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set","body":"Some other ideas here: <a href=\"https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set\" title=\"gradle finds wrong java home even though its correctly set\">stackoverflow.com/questions/22307516/&hellip;</a>"}],"owner":{"account_id":17741756,"reputation":1,"user_id":20361260,"display_name":"vrr8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666986700,"creation_date":1666986700,"question_id":74240259,"body_markdown":"trying to run gradle test but I get this error\r\nERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk-19\\bin;\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\n\r\nHow do I edit the Java_Home variable so that gradle works?","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid director even though it points to jdk","body":"<p>trying to run gradle test but I get this error\nERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk-19\\bin;</p>\n<p>Please set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.</p>\n<p>How do I edit the Java_Home variable so that gradle works?</p>\n"},{"tags":["java","arrays","int"],"comments":[{"owner":{"account_id":3901617,"reputation":658,"user_id":3229323,"display_name":"Thrash Bean"},"score":0,"creation_date":1390941629,"post_id":21416315,"comment_id":32307908,"body_markdown":"Iterate over the array, convert each element to string and put it in a StringBuffer or just concatenate to string.","body":"Iterate over the array, convert each element to string and put it in a StringBuffer or just concatenate to string."},{"owner":{"account_id":1762718,"reputation":14037,"user_id":1609356,"accept_rate":90,"display_name":"Manu343726"},"score":1,"creation_date":1390943703,"post_id":21416315,"comment_id":32309063,"body_markdown":"Strings.... people is crazy or has nothing to do with computer programming at all. I have downvoted **ALL** answers related to strings.","body":"Strings.... people is crazy or has nothing to do with computer programming at all. I have downvoted <b>ALL</b> answers related to strings."},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390944191,"post_id":21416315,"comment_id":32309354,"body_markdown":"@Manu343726 How does it not have anything to do with programming... it gets the answer required and is a short piece of code, not necessary the most efficient, but that was not asked for. Even the most upvoted answer is not correct for input...but thats OPs fault of proving misguied input","body":"@Manu343726 How does it not have anything to do with programming... it gets the answer required and is a short piece of code, not necessary the most efficient, but that was not asked for. Even the most upvoted answer is not correct for input...but thats OPs fault of proving misguied input"},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390944971,"post_id":21416315,"comment_id":32309848,"body_markdown":"Here is my algorithm: http://pastebin.com/yeymhQtA","body":"Here is my algorithm: <a href=\"http://pastebin.com/yeymhQtA\" rel=\"nofollow noreferrer\">pastebin.com/yeymhQtA</a>"}],"answers":[{"comments":[{"owner":{"account_id":19097165,"reputation":157,"user_id":13946183,"display_name":"Shubham Shah"},"score":0,"creation_date":1650708928,"post_id":21416354,"comment_id":127187470,"body_markdown":"First method was by far the best I have seen thank u for this","body":"First method was by far the best I have seen thank u for this"},{"owner":{"account_id":5854706,"reputation":77,"user_id":4612374,"display_name":"Sophie"},"score":0,"creation_date":1652757624,"post_id":21416354,"comment_id":127677274,"body_markdown":"it changed [1,0] to 1, which should be 10","body":"it changed [1,0] to 1, which should be 10"}],"tags":[],"owner":{"account_id":2665409,"reputation":2018,"user_id":2303988,"accept_rate":38,"display_name":"Alessio"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1390942069,"creation_date":1390941597,"answer_id":21416354,"question_id":21416315,"body_markdown":"You have to cycle in the array and add the right value.\r\nThe right value is the current element in the array multiplied by 10^position.\r\n\r\nSo: ar[0]*1 + ar[1]*10 + ar[2] *100 + .....\r\n     \r\n        int res=0;\r\n        for(int i=0;i&lt;ar.length;i++) {\r\n\t\t     res=res*10+ar[i];\r\n\t\t}\r\n\r\nOr\r\n   \r\n       for(int i=0,exp=ar.length-1;i&lt;ar.length;i++,exp--)\r\n\t\t\tres+=ar[i]*Math.pow(10, exp);","title":"int array to int number in Java","body":"<p>You have to cycle in the array and add the right value.\nThe right value is the current element in the array multiplied by 10^position.</p>\n\n<p>So: ar[0]*1 + ar[1]*10 + ar[2] *100 + .....</p>\n\n<pre><code>    int res=0;\n    for(int i=0;i&lt;ar.length;i++) {\n         res=res*10+ar[i];\n    }\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>   for(int i=0,exp=ar.length-1;i&lt;ar.length;i++,exp--)\n        res+=ar[i]*Math.pow(10, exp);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1465223,"reputation":8667,"user_id":1378292,"accept_rate":85,"display_name":"mjgpy3"},"score":2,"creation_date":1390941879,"post_id":21416357,"comment_id":32308061,"body_markdown":"Glad someone suggested multiplying each by it&#39;s ten place rather than using a StringBuilder and parsing it back.","body":"Glad someone suggested multiplying each by it&#39;s ten place rather than using a StringBuilder and parsing it back."},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390942769,"post_id":21416357,"comment_id":32308585,"body_markdown":"In fact, I&#39;m not able to get none of the below algorithms working. So could you clarify what&#39;s above and tell me how I could right that in java ?","body":"In fact, I&#39;m not able to get none of the below algorithms working. So could you clarify what&#39;s above and tell me how I could right that in java ?"},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390943138,"post_id":21416357,"comment_id":32308770,"body_markdown":"@gotgot1995 Even if you get this method working correctly, for your input using the type of int will not work correctly. Your input is to large to be held in an `int`. You need to use a type of `long`","body":"@gotgot1995 Even if you get this method working correctly, for your input using the type of int will not work correctly. Your input is to large to be held in an <code>int</code>. You need to use a type of <code>long</code>"},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390943226,"post_id":21416357,"comment_id":32308818,"body_markdown":"And if this can help, I&#39;m using an array initialised like this: int[] arr = {2, 15, 14, 10, 15, 21, 18};","body":"And if this can help, I&#39;m using an array initialised like this: int[] arr = {2, 15, 14, 10, 15, 21, 18};"},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390943393,"post_id":21416357,"comment_id":32308892,"body_markdown":"@gotgot1995 If you use a `long` as opposed to `int` It will work, see my edited answer.","body":"@gotgot1995 If you use a <code>long</code> as opposed to <code>int</code> It will work, see my edited answer."}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1390941603,"creation_date":1390941603,"answer_id":21416357,"question_id":21416315,"body_markdown":"Start with a result of `0`.  Loop through all elements of your `int` array.  Multiply the result by `10`, then add in the current number from the array.  At the end of the loop, you have your result.\r\n\r\n - Result: 0\r\n - Loop 1: Result * 10 =&gt; 0, Result + 1 =&gt; 1\r\n - Loop 2: Result * 10 =&gt; 10, Result + 2 =&gt; 12\r\n - Loop 3: Result * 10 &gt;= 120, Result + 3 =&gt; 123\r\n\r\nThis can be generalized for any base by changing the base from `10` (here) to something else, such as `16` for hexadecimal.","title":"int array to int number in Java","body":"<p>Start with a result of <code>0</code>.  Loop through all elements of your <code>int</code> array.  Multiply the result by <code>10</code>, then add in the current number from the array.  At the end of the loop, you have your result.</p>\n\n<ul>\n<li>Result: 0</li>\n<li>Loop 1: Result * 10 => 0, Result + 1 => 1</li>\n<li>Loop 2: Result * 10 => 10, Result + 2 => 12</li>\n<li>Loop 3: Result * 10 >= 120, Result + 3 => 123</li>\n</ul>\n\n<p>This can be generalized for any base by changing the base from <code>10</code> (here) to something else, such as <code>16</code> for hexadecimal.</p>\n"},{"comments":[{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390942514,"post_id":21416380,"comment_id":32308441,"body_markdown":"Sorry but I get an error when running: java.lang.NumberFormatException: For input string: &quot;2151410152118&quot;","body":"Sorry but I get an error when running: java.lang.NumberFormatException: For input string: &quot;2151410152118&quot;"},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390942632,"post_id":21416380,"comment_id":32308501,"body_markdown":"That&#39;s because that results in a Number which is too large to be held by an `int`, you will need to use a long. The reason you wouldn&#39;t get this exception when using the other methods of adding is that you will be getting a rollover error","body":"That&#39;s because that results in a Number which is too large to be held by an <code>int</code>, you will need to use a long. The reason you wouldn&#39;t get this exception when using the other methods of adding is that you will be getting a rollover error"},{"owner":{"account_id":873362,"reputation":13856,"user_id":923720,"display_name":"Darkhogg"},"score":0,"creation_date":1390943565,"post_id":21416380,"comment_id":32308984,"body_markdown":"1. Don&#39;t do this.\n2. If you do, don&#39;t use `+=`, use an `StringBuilder`","body":"1. Don&#39;t do this. 2. If you do, don&#39;t use <code>+=</code>, use an <code>StringBuilder</code>"},{"owner":{"account_id":1762718,"reputation":14037,"user_id":1609356,"accept_rate":90,"display_name":"Manu343726"},"score":0,"creation_date":1390944416,"post_id":21416380,"comment_id":32309520,"body_markdown":"*&quot; due to all the downvotes of Strings...which is a perfectly legitimate answer...&quot;* No, thats not a reasonable answer at all. You can perform floating-point multiplication storing number bits as two strings and playing around with them... Works, but.... are you kidding me?","body":"<i>&quot; due to all the downvotes of Strings...which is a perfectly legitimate answer...&quot;</i> No, thats not a reasonable answer at all. You can perform floating-point multiplication storing number bits as two strings and playing around with them... Works, but.... are you kidding me?"},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390945769,"post_id":21416380,"comment_id":32310314,"body_markdown":"@Manu343726 I never said it was reasonable, I said it was legitimate. Who said anything about floating-point multiplication. The point is for the given example in the question its valid. The OP is not interested in efficiency.","body":"@Manu343726 I never said it was reasonable, I said it was legitimate. Who said anything about floating-point multiplication. The point is for the given example in the question its valid. The OP is not interested in efficiency."},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390945865,"post_id":21416380,"comment_id":32310369,"body_markdown":"@Darkhogg 1. Your point 1 and 2 are the same. 2. Yes If it was a larger array to deal with, StringBuilder for sure but any thing that long the OP has much bigger problems to deal with","body":"@Darkhogg 1. Your point 1 and 2 are the same. 2. Yes If it was a larger array to deal with, StringBuilder for sure but any thing that long the OP has much bigger problems to deal with"}],"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"comment_count":6,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1390944030,"creation_date":1390941669,"answer_id":21416380,"question_id":21416315,"body_markdown":"Use this method, using a long as your input is to large for an int.\r\n\r\n    long r = 0;\r\n\tfor(int i = 0; i &lt; arr.length; i++)\r\n\t{\r\n\t\tint offset = 10;\r\n\t\tif(arr[i] &gt;= 10)\r\n\t\t\toffset = 100;\r\n\t\tr = r*offset;\r\n\t\tr += arr[i];\r\n\t}\r\n\r\nThis checks if the current int is larger than 10 to reset the offset to 100 to get the extra places required. If you include values &gt; 100 you will also need to add extra offset.\r\n\r\n---\r\n**Putting this at end of my post due to all the downvotes of Strings...which is a perfectly legitimate answer...OP never asked for the most efficient way to do it just wannted an answer**\r\n\r\nLoop your array appending to a String each int in the array and then parse the string back to an int\r\n\r\n    String s = &quot;&quot;;\r\n    for(int i = 0; i &lt; arr.length; i++)\r\n           s += &quot;&quot; + arr[i];\r\n    int result = Integer.parseInt(s);\r\n\r\nFrom your comment the number you have is too long for an `int`, you need to use a `long`\r\n\r\n    String s = &quot;&quot;;\r\n    for(int i = 0; i &lt; arr.length; i++)\r\n           s += &quot;&quot; + arr[i];\r\n    long result = Long.parseLong(s);","title":"int array to int number in Java","body":"<p>Use this method, using a long as your input is to large for an int.</p>\n\n<pre><code>long r = 0;\nfor(int i = 0; i &lt; arr.length; i++)\n{\n    int offset = 10;\n    if(arr[i] &gt;= 10)\n        offset = 100;\n    r = r*offset;\n    r += arr[i];\n}\n</code></pre>\n\n<p>This checks if the current int is larger than 10 to reset the offset to 100 to get the extra places required. If you include values > 100 you will also need to add extra offset.</p>\n\n<hr>\n\n<p><strong>Putting this at end of my post due to all the downvotes of Strings...which is a perfectly legitimate answer...OP never asked for the most efficient way to do it just wannted an answer</strong></p>\n\n<p>Loop your array appending to a String each int in the array and then parse the string back to an int</p>\n\n<pre><code>String s = \"\";\nfor(int i = 0; i &lt; arr.length; i++)\n       s += \"\" + arr[i];\nint result = Integer.parseInt(s);\n</code></pre>\n\n<p>From your comment the number you have is too long for an <code>int</code>, you need to use a <code>long</code></p>\n\n<pre><code>String s = \"\";\nfor(int i = 0; i &lt; arr.length; i++)\n       s += \"\" + arr[i];\nlong result = Long.parseLong(s);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390942012,"post_id":21416413,"comment_id":32308144,"body_markdown":"*Note that this will fail if any of the values in your array as negative* as it would for anyones answer... would probably be a case of invalid input if it occured","body":"<i>Note that this will fail if any of the values in your array as negative</i> as it would for anyones answer... would probably be a case of invalid input if it occured"},{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1390942304,"post_id":21416413,"comment_id":32308316,"body_markdown":"@JavaDevil True... it&#39;s not clear what would be supposed to happen in that case.","body":"@JavaDevil True... it&#39;s not clear what would be supposed to happen in that case."},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390943109,"post_id":21416413,"comment_id":32308752,"body_markdown":"It&#39;s the same here ! I&#39;m getting this error: java.lang.NumberFormatException: For input string: &quot;2151410152118&quot;","body":"It&#39;s the same here ! I&#39;m getting this error: java.lang.NumberFormatException: For input string: &quot;2151410152118&quot;"},{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1390943530,"post_id":21416413,"comment_id":32308969,"body_markdown":"@gotgot1995 The maximum value of a `int` is 2^32-1, or 4294967295. Your number is too large. Use a `long` or a `java.math.BigInteger` if you need numbers that large.","body":"@gotgot1995 The maximum value of a <code>int</code> is 2^32-1, or 4294967295. Your number is too large. Use a <code>long</code> or a <code>java.math.BigInteger</code> if you need numbers that large."},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390943639,"post_id":21416413,"comment_id":32309027,"body_markdown":"I already tried and I get the same error with a long variable. :(","body":"I already tried and I get the same error with a long variable. :("},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390944536,"post_id":21416413,"comment_id":32309594,"body_markdown":"@ValekHalfHeart I think you mean 2^31 -1 [See docs](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE)","body":"@ValekHalfHeart I think you mean 2^31 -1 <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow noreferrer\">See docs</a>"},{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1390944996,"post_id":21416413,"comment_id":32309869,"body_markdown":"@gotgot1995 Did you use `Integer.parseInt` or `Long.parseLong` for the parsing?","body":"@gotgot1995 Did you use <code>Integer.parseInt</code> or <code>Long.parseLong</code> for the parsing?"},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390945263,"post_id":21416413,"comment_id":32310016,"body_markdown":"@ValekHalfHeart nope... y&#39;know my level in Java isn&#39;t really high and I didn&#39;t know this function an hour ago so nope, I didn&#39;t use any of the above.","body":"@ValekHalfHeart nope... y&#39;know my level in Java isn&#39;t really high and I didn&#39;t know this function an hour ago so nope, I didn&#39;t use any of the above."},{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1390945340,"post_id":21416413,"comment_id":32310057,"body_markdown":"In my code where it says `Integer.parseInt` you should change it to `Long.parseLong` if you&#39;re using longs. Also change the return type to long.","body":"In my code where it says <code>Integer.parseInt</code> you should change it to <code>Long.parseLong</code> if you&#39;re using longs. Also change the return type to long."},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390946399,"post_id":21416413,"comment_id":32310656,"body_markdown":"@ValekHalfHeart We&#39;re almost there except that I get a scientific writing of the number 85121215 like this:\n8.5121215E7","body":"@ValekHalfHeart We&#39;re almost there except that I get a scientific writing of the number 85121215 like this: 8.5121215E7"},{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1390946822,"post_id":21416413,"comment_id":32310874,"body_markdown":"@gotgot1995 That&#39;s just how java expresses longs when they get large enough.","body":"@gotgot1995 That&#39;s just how java expresses longs when they get large enough."},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390949009,"post_id":21416413,"comment_id":32311858,"body_markdown":"So now how do I do to &quot;cut&quot; the number every two figures like this: 85121215 becomes int [] arr ={85, 12, 12, 15}; ?","body":"So now how do I do to &quot;cut&quot; the number every two figures like this: 85121215 becomes int [] arr ={85, 12, 12, 15}; ?"},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390952588,"post_id":21416413,"comment_id":32313307,"body_markdown":"I&#39;m getting an error and I don&#39;t get why. &quot;java.lang.StringIndexOutOfBoundsException: String index out of range: 14&quot;","body":"I&#39;m getting an error and I don&#39;t get why. &quot;java.lang.StringIndexOutOfBoundsException: String index out of range: 14&quot;"},{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1390954086,"post_id":21416413,"comment_id":32313812,"body_markdown":"@gotgot1995 I don&#39;t know why either. I cannot reproduce your error.","body":"@gotgot1995 I don&#39;t know why either. I cannot reproduce your error."}],"tags":[],"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"comment_count":14,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1443048331,"creation_date":1390941764,"answer_id":21416413,"question_id":21416315,"body_markdown":"First you&#39;ll have to convert every number to a string, then concatenate the strings and parse it back into an integer. Here&#39;s one implementation:\r\n\r\n    int arrayToInt(int[] arr)\r\n    {\r\n        //using a Stringbuilder is much more efficient than just using += on a String.\r\n        //if this confuses you, just use a String and write += instead of append.\r\n        StringBuilder s = new StringBuilder(); \r\n    \r\n        for (int i : arr)\r\n        {\r\n             s.append(i); //add all the ints to a string\r\n        }\r\n\r\n        return Integer.parseInt(s.toString()); //parse integer out of the string\r\n    }\r\n\r\nNote that this produce an error if any of the values past the first one in your array as negative, as the minus signs will interfere with the parsing.\r\n\r\n\r\n\r\nThis method should work for all positive integers, but if you know that all of the values in the array will only be one digit long (as they are in your example), you can avoid string operations altogether and just use basic math:\r\n\r\n    int arrayToInt(int[] arr)\r\n    {\r\n        int result = 0;\r\n        \r\n        //iterate backwards through the array so we start with least significant digits\r\n        for (int n = arr.length - 1, i = 1; n &gt;= 0; n --, i *= 10) \r\n        {\r\n             result += Math.abs(arr[n]) * i;\r\n        }\r\n\r\n        if (arr[0] &lt; 0) //if there&#39;s a negative sign in the beginning, flip the sign\r\n        {\r\n            result = - result;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nThis version won&#39;t produce an error if any of the values past the first are negative, but it will produce strange results.\r\n\r\n\r\nThere is no builtin function to do this because the values of an array typically represent distinct numbers, rather than digits in a number.\r\n\r\nEDIT:\r\n\r\nIn response to your comments, try this version to deal with longs:\r\n\r\n    long arrayToLong(int[] arr)\r\n    {\r\n        StringBuilder s = new StringBuilder(); \r\n    \r\n        for (int i : arr)\r\n        {\r\n             s.append(i);\r\n        }\r\n\r\n        return Long.parseLong(s.toString());\r\n    }\r\n\r\nEdit 2:\r\n\r\nIn response to your second comment:\r\n\r\n    int[] longToIntArray(long l)\r\n    {\r\n        String s = String.valueOf(l);   //expand number into a string\r\n\r\n        String token;\r\n\r\n        int[] result = new int[s.length() / 2]; \r\n\r\n        for (int n = 0; n &lt; s.length()/2; n ++) //loop through and split the string\r\n        {\r\n            token = s.substring(n*2, (n+2)*2);\r\n            result[n] = Integer.parseInt(token); //fill the array with the numbers we parse from the sections\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n","title":"int array to int number in Java","body":"<p>First you'll have to convert every number to a string, then concatenate the strings and parse it back into an integer. Here's one implementation:</p>\n\n<pre><code>int arrayToInt(int[] arr)\n{\n    //using a Stringbuilder is much more efficient than just using += on a String.\n    //if this confuses you, just use a String and write += instead of append.\n    StringBuilder s = new StringBuilder(); \n\n    for (int i : arr)\n    {\n         s.append(i); //add all the ints to a string\n    }\n\n    return Integer.parseInt(s.toString()); //parse integer out of the string\n}\n</code></pre>\n\n<p>Note that this produce an error if any of the values past the first one in your array as negative, as the minus signs will interfere with the parsing.</p>\n\n<p>This method should work for all positive integers, but if you know that all of the values in the array will only be one digit long (as they are in your example), you can avoid string operations altogether and just use basic math:</p>\n\n<pre><code>int arrayToInt(int[] arr)\n{\n    int result = 0;\n\n    //iterate backwards through the array so we start with least significant digits\n    for (int n = arr.length - 1, i = 1; n &gt;= 0; n --, i *= 10) \n    {\n         result += Math.abs(arr[n]) * i;\n    }\n\n    if (arr[0] &lt; 0) //if there's a negative sign in the beginning, flip the sign\n    {\n        result = - result;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>This version won't produce an error if any of the values past the first are negative, but it will produce strange results.</p>\n\n<p>There is no builtin function to do this because the values of an array typically represent distinct numbers, rather than digits in a number.</p>\n\n<p>EDIT:</p>\n\n<p>In response to your comments, try this version to deal with longs:</p>\n\n<pre><code>long arrayToLong(int[] arr)\n{\n    StringBuilder s = new StringBuilder(); \n\n    for (int i : arr)\n    {\n         s.append(i);\n    }\n\n    return Long.parseLong(s.toString());\n}\n</code></pre>\n\n<p>Edit 2:</p>\n\n<p>In response to your second comment:</p>\n\n<pre><code>int[] longToIntArray(long l)\n{\n    String s = String.valueOf(l);   //expand number into a string\n\n    String token;\n\n    int[] result = new int[s.length() / 2]; \n\n    for (int n = 0; n &lt; s.length()/2; n ++) //loop through and split the string\n    {\n        token = s.substring(n*2, (n+2)*2);\n        result[n] = Integer.parseInt(token); //fill the array with the numbers we parse from the sections\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2668499,"reputation":498,"user_id":2306355,"accept_rate":100,"display_name":"datosh"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1390942166,"creation_date":1390942166,"answer_id":21416523,"question_id":21416315,"body_markdown":"yeah you can write the function yourself \r\n\r\n    int toInt(int[] array) {\r\n        int result = 0;\r\n        int offset = 1;\r\n        for(int i = array.length - 1; i &gt;= 0; i--) {\r\n            result += array[i]*offset;\r\n            offset *= 10;\r\n        }\r\n        return result;\r\n    }\r\n\r\nI think the logic behind it is pretty straight forward. You just run through the array (last element first), and multiply the number with the right power of 10 &quot;to put the number at the right spot&quot;. At the end you get the number returned. ","title":"int array to int number in Java","body":"<p>yeah you can write the function yourself </p>\n\n<pre><code>int toInt(int[] array) {\n    int result = 0;\n    int offset = 1;\n    for(int i = array.length - 1; i &gt;= 0; i--) {\n        result += array[i]*offset;\n        offset *= 10;\n    }\n    return result;\n}\n</code></pre>\n\n<p>I think the logic behind it is pretty straight forward. You just run through the array (last element first), and multiply the number with the right power of 10 \"to put the number at the right spot\". At the end you get the number returned. </p>\n"},{"comments":[{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":1,"creation_date":1390943501,"post_id":21416817,"comment_id":32308950,"body_markdown":"If my array is initialised like this:  int[] arr = {2, 15, 14, 10, 15, 21, 18};\nyour algorithm gives me this:\n3651728\nbut I would like this 2151410152118.","body":"If my array is initialised like this:  int[] arr = {2, 15, 14, 10, 15, 21, 18}; your algorithm gives me this: 3651728 but I would like this 2151410152118."}],"tags":[],"owner":{"account_id":1832987,"reputation":87,"user_id":1663958,"accept_rate":71,"display_name":"jhnewkirk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390952321,"creation_date":1390943145,"answer_id":21416817,"question_id":21416315,"body_markdown":"    int nbr = 0;\r\n    for(int i = 0; i &lt; ar.length;i++)\r\n        nbr = nbr*10+ar[i];\r\nIn the end, you end up with the nbr you want.\r\n\r\nFor the new array you gave us, try this one. I don&#39;t see a way around using some form of String and you are going to have to use a long, not an int.\r\n\r\n    int [] ar = {2, 15, 14, 10, 15, 21, 18};\r\n    long nbr = 0;\r\n    double multiplier = 1;\r\n    for(int i = ar.length-1; i &gt;=0 ;i--) {\r\n        nbr += ar[i] * multiplier;\r\n        multiplier = Math.pow(10, String.valueOf(nbr).length());\r\n    }\r\n\r\nIf you really really wanted to avoid String (don&#39;t know why), I guess you could use\r\n\r\n    multiplier = Math.pow(10,(int)(Math.log10(nbr)+1));\r\nwhich works as long as the last element in the array is not 0.","title":"int array to int number in Java","body":"<pre><code>int nbr = 0;\nfor(int i = 0; i &lt; ar.length;i++)\n    nbr = nbr*10+ar[i];\n</code></pre>\n\n<p>In the end, you end up with the nbr you want.</p>\n\n<p>For the new array you gave us, try this one. I don't see a way around using some form of String and you are going to have to use a long, not an int.</p>\n\n<pre><code>int [] ar = {2, 15, 14, 10, 15, 21, 18};\nlong nbr = 0;\ndouble multiplier = 1;\nfor(int i = ar.length-1; i &gt;=0 ;i--) {\n    nbr += ar[i] * multiplier;\n    multiplier = Math.pow(10, String.valueOf(nbr).length());\n}\n</code></pre>\n\n<p>If you really really wanted to avoid String (don't know why), I guess you could use</p>\n\n<pre><code>multiplier = Math.pow(10,(int)(Math.log10(nbr)+1));\n</code></pre>\n\n<p>which works as long as the last element in the array is not 0.</p>\n"},{"tags":[],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443017478,"creation_date":1443017478,"answer_id":32741954,"question_id":21416315,"body_markdown":"If you can use Java 1.8, stream API makes it very simple:\r\n\r\n    @Test\r\n\tpublic void arrayToNumber() {\r\n\t\tint[] array = new int[]{1,2,3,4,5,6};\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\r\n\t\tArrays.stream(array).forEach(element -&gt; sb.append(element));\r\n\t\t\r\n\t\tassertThat(sb.toString()).isEqualTo(&quot;123456&quot;);\r\n\t}\r\n\r\n","title":"int array to int number in Java","body":"<p>If you can use Java 1.8, stream API makes it very simple:</p>\n\n<pre><code>@Test\npublic void arrayToNumber() {\n    int[] array = new int[]{1,2,3,4,5,6};\n    StringBuilder sb = new StringBuilder();\n\n    Arrays.stream(array).forEach(element -&gt; sb.append(element));\n\n    assertThat(sb.toString()).isEqualTo(\"123456\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16872647,"reputation":120,"user_id":12200835,"display_name":"Mohammed Ashraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656666070,"creation_date":1656666070,"answer_id":72826827,"question_id":21416315,"body_markdown":"you can do it that way\r\n\r\n    public static int[] plusOne(int[] digits) {\r\n        StringBuilder num= new StringBuilder();\r\n        PrimitiveIterator.OfInt primitiveIterator = Arrays.stream(digits)\r\n                .iterator();\r\n        while (primitiveIterator.hasNext()) {\r\n            num.append(primitiveIterator.nextInt());\r\n        }\r\n        int plusOne=Integer.parseInt(String.valueOf(num))+1;\r\n        return Integer.toString(plusOne).chars().map(c -&gt; c-&#39;0&#39;).toArray();\r\n    }","title":"int array to int number in Java","body":"<p>you can do it that way</p>\n<pre><code>public static int[] plusOne(int[] digits) {\n    StringBuilder num= new StringBuilder();\n    PrimitiveIterator.OfInt primitiveIterator = Arrays.stream(digits)\n            .iterator();\n    while (primitiveIterator.hasNext()) {\n        num.append(primitiveIterator.nextInt());\n    }\n    int plusOne=Integer.parseInt(String.valueOf(num))+1;\n    return Integer.toString(plusOne).chars().map(c -&gt; c-'0').toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16101948,"reputation":1,"user_id":15759925,"display_name":"maruf ahmed"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666984667,"creation_date":1666984667,"answer_id":74239980,"question_id":21416315,"body_markdown":"this also possible to convert an Integer array to an int array\r\n\r\n    \tint[] result = new int[arr.length];\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tresult[i] = arr[i].intValue();\r\n\t\t}","title":"int array to int number in Java","body":"<p>this also possible to convert an Integer array to an int array</p>\n<pre><code>    int[] result = new int[arr.length];\n    for (int i = 0; i &lt; arr.length; i++) {\n        result[i] = arr[i].intValue();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666986266,"creation_date":1666985887,"answer_id":74240153,"question_id":21416315,"body_markdown":"**BE SIMPLE!!!**\r\n\r\n```java\r\npublic static int convertToInteger(int... arr) {\r\n    return Integer.parseInt(Arrays.stream(arr)\r\n                                  .mapToObj(String::valueOf)\r\n                                  .collect(Collectors.joining()));\r\n}\r\n```","title":"int array to int number in Java","body":"<p><strong>BE SIMPLE!!!</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int convertToInteger(int... arr) {\n    return Integer.parseInt(Arrays.stream(arr)\n                                  .mapToObj(String::valueOf)\n                                  .collect(Collectors.joining()));\n}\n</code></pre>\n"}],"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64285,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":10,"score":10,"last_activity_date":1666986266,"creation_date":1390941465,"question_id":21416315,"body_markdown":"I&#39;m new on this site and, if I&#39;m here it&#39;s because I haven&#39;t found the answer anywhere on the web and believe me: I&#39;ve been googling for quite a time but all I could find was how to convert a number to an array not the other way arround.\r\nI&#39;m looking for a simple way or function to convert an int array to an int number. Let me explain for example I have this :\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    int[] ar = {1, 2, 3};\r\n\r\nAnd I want to have this:\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    int nbr = 123;\r\n\r\nIn my head it would look like this (even if I know it&#39;s not the right way):\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    int nbr = ar.toInt(); // I know it&#39;s funny\r\n\r\nIf you have any idea of how I could do that, that&#39;d be awesome.","title":"int array to int number in Java","body":"<p>I'm new on this site and, if I'm here it's because I haven't found the answer anywhere on the web and believe me: I've been googling for quite a time but all I could find was how to convert a number to an array not the other way arround.\nI'm looking for a simple way or function to convert an int array to an int number. Let me explain for example I have this :\n</p>\n\n<pre><code>int[] ar = {1, 2, 3};\n</code></pre>\n\n<p>And I want to have this:\n</p>\n\n<pre><code>int nbr = 123;\n</code></pre>\n\n<p>In my head it would look like this (even if I know it's not the right way):\n</p>\n\n<pre><code>int nbr = ar.toInt(); // I know it's funny\n</code></pre>\n\n<p>If you have any idea of how I could do that, that'd be awesome.</p>\n"},{"tags":["java","rest","automated-tests","rest-assured","web-api-testing"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667211216,"post_id":74240077,"comment_id":131108623,"body_markdown":"Why cant you just get that uri that provides required data, parse it and then add to your POST request?","body":"Why cant you just get that uri that provides required data, parse it and then add to your POST request?"},{"owner":{"account_id":14458155,"reputation":16,"user_id":10443732,"display_name":"Remus Mocanu"},"score":0,"creation_date":1667231458,"post_id":74240077,"comment_id":131115810,"body_markdown":"Because the URI that provides the required data has a needs payload that is different with every time we want to make a request and is encrypted, so the payload looks like a bunch of jibberish. And, unfortunately, I can&#39;t seem to be able to find any other intermediate call that gives that encrypted payload as a response.","body":"Because the URI that provides the required data has a needs payload that is different with every time we want to make a request and is encrypted, so the payload looks like a bunch of jibberish. And, unfortunately, I can&#39;t seem to be able to find any other intermediate call that gives that encrypted payload as a response."}],"owner":{"account_id":14458155,"reputation":16,"user_id":10443732,"display_name":"Remus Mocanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666985329,"creation_date":1666985329,"question_id":74240077,"body_markdown":"I am currently trying developing some API tests using rest-assured. More specifically, I am trying to test Stripe&#39;s payment gateway (3DS). The way it works is that I subscribe a user using our API endpoint, which has a response including an external link to Stripe&#39;s website where the user fills out a form for their payment details.\r\n\r\n\r\nThis part is fine and dandy. \r\nThe problem lies ahead. I need to be able to send a POST call to this form with the payload of the form. However, the POST payload that Stripe is expecting includes other elements that are not part of the form such as **muid, guid, sid, key, and payment-user-agent**. After doing some research, I see that these elements are given when the user first loads the form. However, they are given are given at an intermediate API call during the loading of the page. Meaning, if I try to call a GET on the form page, I will not retrieve these elements. The loading of the page calls other endpoints sequentially, where at some point, it makes a call to another endpoint with an encrypted request payload, which I cannot reproduce for my automated tests, which returns the muid, guid, and others.\r\n\r\nI was wondering if it were possible to get the response of the intermediate API call somehow? \r\n\r\nI tried doing research of methods that can possibly achieve this, but I have yet to come up with something that is API testing related.\r\n\r\nI cannot do a Selenium script to push the form for me, as I need it to be API testing related, and with no GUI browser included.  I could potentially run Selenium in headless maybe, but I was wondering if there was anything more lightweight or a simple way to retrieve the response of the intermediate api call before I proceed with that solution.","title":"How to get the response of an intermediate API call?","body":"<p>I am currently trying developing some API tests using rest-assured. More specifically, I am trying to test Stripe's payment gateway (3DS). The way it works is that I subscribe a user using our API endpoint, which has a response including an external link to Stripe's website where the user fills out a form for their payment details.</p>\n<p>This part is fine and dandy.\nThe problem lies ahead. I need to be able to send a POST call to this form with the payload of the form. However, the POST payload that Stripe is expecting includes other elements that are not part of the form such as <strong>muid, guid, sid, key, and payment-user-agent</strong>. After doing some research, I see that these elements are given when the user first loads the form. However, they are given are given at an intermediate API call during the loading of the page. Meaning, if I try to call a GET on the form page, I will not retrieve these elements. The loading of the page calls other endpoints sequentially, where at some point, it makes a call to another endpoint with an encrypted request payload, which I cannot reproduce for my automated tests, which returns the muid, guid, and others.</p>\n<p>I was wondering if it were possible to get the response of the intermediate API call somehow?</p>\n<p>I tried doing research of methods that can possibly achieve this, but I have yet to come up with something that is API testing related.</p>\n<p>I cannot do a Selenium script to push the form for me, as I need it to be API testing related, and with no GUI browser included.  I could potentially run Selenium in headless maybe, but I was wondering if there was anything more lightweight or a simple way to retrieve the response of the intermediate api call before I proceed with that solution.</p>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":9291622,"reputation":11371,"user_id":6899896,"display_name":"M.Ricciuti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666985295,"creation_date":1666985295,"answer_id":74240072,"question_id":74153820,"body_markdown":"There are certainly other ways to achieve this, but the following will work fine, if your project has only [module dependencies](https://docs.gradle.org/current/userguide/declaring_dependencies.html#sub:module_dependencies) (else you might need to adapt a bit)\r\n\r\n    dependencies {\r\n        implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)\r\n    }\r\n\ttask copyDependenciesWithGroup {\r\n\t\tdoLast {\r\n\t\t\tconfigurations.default.resolvedConfiguration.resolvedArtifacts.forEach{ ResolvedArtifact artifact -&gt;\r\n\t\t\t\tproject.copy {\r\n\t\t\t\t\tfrom artifact.file\r\n\t\t\t\t\tinto &#39;ApplicationlibWithGroup&#39;\r\n\t\t\t\t\trename { String fileName -&gt;\r\n\t\t\t\t\t\t&quot;${artifact.moduleVersion.id.group}.$fileName&quot;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis will copy the folling jars in `ApplicationlibWithGroup` directory:\r\n```\r\n$ ls -l ApplicationlibWithGroup/\r\n com.github.virtuald.curvesapi-1.07.jar\r\n com.zaxxer.SparseBitSet-1.2.jar\r\n commons-codec.commons-codec-1.15.jar\r\n commons-io.commons-io-2.11.0.jar\r\n org.apache.commons.commons-collections4-4.4.jar\r\n org.apache.commons.commons-compress-1.21.jar\r\n org.apache.commons.commons-math3-3.6.1.jar\r\n org.apache.logging.log4j.log4j-api-2.17.2.jar\r\n org.apache.poi.poi-5.2.2.jar\r\n org.apache.poi.poi-ooxml-5.2.2.jar\r\n org.apache.poi.poi-ooxml-lite-5.2.2.jar\r\n org.apache.xmlbeans.xmlbeans-5.0.3.jar\r\n\r\n```\r\n","title":"Gradle task to copy dependent jars to a folder along with group name","body":"<p>There are certainly other ways to achieve this, but the following will work fine, if your project has only <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html#sub:module_dependencies\" rel=\"nofollow noreferrer\">module dependencies</a> (else you might need to adapt a bit)</p>\n<pre><code>dependencies {\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)\n}\ntask copyDependenciesWithGroup {\n    doLast {\n        configurations.default.resolvedConfiguration.resolvedArtifacts.forEach{ ResolvedArtifact artifact -&gt;\n            project.copy {\n                from artifact.file\n                into 'ApplicationlibWithGroup'\n                rename { String fileName -&gt;\n                    &quot;${artifact.moduleVersion.id.group}.$fileName&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>This will copy the folling jars in <code>ApplicationlibWithGroup</code> directory:</p>\n<pre><code>$ ls -l ApplicationlibWithGroup/\n com.github.virtuald.curvesapi-1.07.jar\n com.zaxxer.SparseBitSet-1.2.jar\n commons-codec.commons-codec-1.15.jar\n commons-io.commons-io-2.11.0.jar\n org.apache.commons.commons-collections4-4.4.jar\n org.apache.commons.commons-compress-1.21.jar\n org.apache.commons.commons-math3-3.6.1.jar\n org.apache.logging.log4j.log4j-api-2.17.2.jar\n org.apache.poi.poi-5.2.2.jar\n org.apache.poi.poi-ooxml-5.2.2.jar\n org.apache.poi.poi-ooxml-lite-5.2.2.jar\n org.apache.xmlbeans.xmlbeans-5.0.3.jar\n\n</code></pre>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74240072,"answer_count":1,"score":0,"last_activity_date":1666985295,"creation_date":1666356240,"question_id":74153820,"body_markdown":"I already know to copy dependent jars into a folder:\r\n\r\n    task copyJARsToLib(type: Copy) {    \r\n        from configurations.default\r\n        into &#39;Applicationlib&#39;\r\n    } \r\n\r\nAfter running this task all the dependent jars get copied into `Applicationlib` folder, the name of the jar is `{artifactName-version.jar}` for eg. for `implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)` jar name becomes `poi-ooxml-5.2.2.jar`.\r\n\r\nWhat I want is after copying jar name should also have group name like: `group.name_version.jar` for eg. `org.apache.poi.poi-ooxml-5.2.2.jar`\r\n\r\nI tried \r\n\r\n    configurations.default.each {\r\n              \r\n    }\r\n\r\nBut this iterator has `File` object hence only has jar file name and not group name.","title":"Gradle task to copy dependent jars to a folder along with group name","body":"<p>I already know to copy dependent jars into a folder:</p>\n<pre><code>task copyJARsToLib(type: Copy) {    \n    from configurations.default\n    into 'Applicationlib'\n} \n</code></pre>\n<p>After running this task all the dependent jars get copied into <code>Applicationlib</code> folder, the name of the jar is <code>{artifactName-version.jar}</code> for eg. for <code>implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)</code> jar name becomes <code>poi-ooxml-5.2.2.jar</code>.</p>\n<p>What I want is after copying jar name should also have group name like: <code>group.name_version.jar</code> for eg. <code>org.apache.poi.poi-ooxml-5.2.2.jar</code></p>\n<p>I tried</p>\n<pre><code>configurations.default.each {\n          \n}\n</code></pre>\n<p>But this iterator has <code>File</code> object hence only has jar file name and not group name.</p>\n"},{"tags":["java","android","api","oauth","reddit"],"answers":[{"tags":[],"owner":{"account_id":269437,"reputation":1471,"user_id":558779,"accept_rate":78,"display_name":"Craig Stewart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666985064,"creation_date":1666985064,"answer_id":74240030,"question_id":74224091,"body_markdown":"So this was a frustration but I&#39;ve realised calling http.connect() is unnecessary and the code was giving me &quot;Already Connected&quot; when I initiated the input stream. Simple fix but I thought a connection needed to be made first. So after getting my token from a previous method I&#39;ve flushed/closed/disconnected &quot;connection&quot; and &quot;http&quot;. Then this following code has worked, also calling getContentType would throw an &quot;Already Connected&quot; error.\r\n\r\n```\r\n            try {\r\n                connection = new URL(oauthURL+&quot;/api/v1/me&quot;).openConnection();\r\n                http = (HttpsURLConnection)connection;\r\n                http.setRequestProperty(&quot;User-Agent&quot;, userAgent);\r\n                http.setRequestProperty(&quot;Authorization&quot;, &quot;bearer &quot;+token);\r\n\r\n                InputStream is = connection.getInputStream();\r\n\r\n                Scanner s = new Scanner(is).useDelimiter(&quot;\\\\A&quot;);\r\n                String res = s.hasNext() ? s.next() : &quot;&quot;;\r\n\r\n                System.out.println(res);\r\n            }\r\n            catch (IOException e)\r\n            {System.out.println(e);}\r\n``` ","title":"After receiving access token I cannot retrieve any data from oauth.reddit.com Java.IO.FileNotFoundExceeption","body":"<p>So this was a frustration but I've realised calling http.connect() is unnecessary and the code was giving me &quot;Already Connected&quot; when I initiated the input stream. Simple fix but I thought a connection needed to be made first. So after getting my token from a previous method I've flushed/closed/disconnected &quot;connection&quot; and &quot;http&quot;. Then this following code has worked, also calling getContentType would throw an &quot;Already Connected&quot; error.</p>\n<pre><code>            try {\n                connection = new URL(oauthURL+&quot;/api/v1/me&quot;).openConnection();\n                http = (HttpsURLConnection)connection;\n                http.setRequestProperty(&quot;User-Agent&quot;, userAgent);\n                http.setRequestProperty(&quot;Authorization&quot;, &quot;bearer &quot;+token);\n\n                InputStream is = connection.getInputStream();\n\n                Scanner s = new Scanner(is).useDelimiter(&quot;\\\\A&quot;);\n                String res = s.hasNext() ? s.next() : &quot;&quot;;\n\n                System.out.println(res);\n            }\n            catch (IOException e)\n            {System.out.println(e);}\n</code></pre>\n"}],"owner":{"account_id":269437,"reputation":1471,"user_id":558779,"accept_rate":78,"display_name":"Craig Stewart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666985064,"creation_date":1666882382,"question_id":74224091,"body_markdown":"I&#39;ve been going nuts with this and changed every variable I can. Starting simply and sending only the minimum required headers to base64 encoding the token, sending credentials, using GET and POST. Code has become a little messy but I&#39;m hoping someone can help out with this issue. I&#39;m using script application to access the reddit api with android studio / java.\r\n\r\n```java\r\nString f = Base64.encodeToString(new String(token).getBytes(),0);\r\nURL connection2 = new URL(oauthURL+&quot;/me&quot;);\r\n\r\nHttpURLConnection http = (HttpURLConnection)connection2.openConnection();\r\nhttp.setRequestMethod(&quot;POST&quot;);\r\nhttp.setDoOutput(true);\r\n\r\nhttp.setRequestProperty(&quot;User-Agent&quot;, userAgent);\r\nhttp.setRequestProperty(&quot;Authorization&quot;, &quot;bearer &quot;+token);\r\n\r\nMap&lt;String,String&gt; arguments = new HashMap&lt;&gt;();\r\n//     arguments.put(&quot;grant_type&quot;, &quot;password&quot;);\r\n//     arguments.put(&quot;username&quot;, redditUser);\r\n//     arguments.put(&quot;password&quot;, redditPass);\r\nStringJoiner sj = new StringJoiner(&quot;&amp;&quot;);\r\nfor(Map.Entry&lt;String,String&gt; entry : arguments.entrySet()) {\r\n  sj.add(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;) + &quot;=&quot;\r\n\t\t+ URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\r\n}\r\nbyte[] out = sj.toString().getBytes(StandardCharsets.UTF_8);\r\nint length = out.length;\r\n\r\nhttp.setFixedLengthStreamingMode(length);\r\n\r\nhttp.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\r\nhttp.connect();\r\n\r\ntry(OutputStream os = http.getOutputStream()) {\r\n  os.write(out);\r\n}\r\n\r\nInputStream is = http.getInputStream();\r\nSystem.out.println(http.getContentType());\r\n```\r\n\r\nMy last output was:\r\n```\r\nI/System.out: &gt;&gt;&gt;&gt;&gt; START &lt;&lt;&lt;&lt;&lt;\r\nI/System.out: {&quot;access_token&quot;: &quot;REMOVED&quot;, &quot;token_type&quot;: &quot;bearer&quot;, &quot;expires_in&quot;: 86400, &quot;scope&quot;: &quot;*&quot;}\r\nI/System.out: REMOVED:bearer:86400:*\r\nI/System.out: &gt;&gt;&gt;&gt;&gt;&gt; END &lt;&lt;&lt;&lt;&lt;\r\nI/System.out: java.io.FileNotFoundException: https://oauth.reddit.com/api/v1/me\r\n```\r\nAs you can see I&#39;m receiving the access token just fine using similar code as above. I&#39;m obviously missing something but got to thinking it could be one of too many things, like capatilization on Authorization header or using under score or dash on User-Agent etc.","title":"After receiving access token I cannot retrieve any data from oauth.reddit.com Java.IO.FileNotFoundExceeption","body":"<p>I've been going nuts with this and changed every variable I can. Starting simply and sending only the minimum required headers to base64 encoding the token, sending credentials, using GET and POST. Code has become a little messy but I'm hoping someone can help out with this issue. I'm using script application to access the reddit api with android studio / java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String f = Base64.encodeToString(new String(token).getBytes(),0);\nURL connection2 = new URL(oauthURL+&quot;/me&quot;);\n\nHttpURLConnection http = (HttpURLConnection)connection2.openConnection();\nhttp.setRequestMethod(&quot;POST&quot;);\nhttp.setDoOutput(true);\n\nhttp.setRequestProperty(&quot;User-Agent&quot;, userAgent);\nhttp.setRequestProperty(&quot;Authorization&quot;, &quot;bearer &quot;+token);\n\nMap&lt;String,String&gt; arguments = new HashMap&lt;&gt;();\n//     arguments.put(&quot;grant_type&quot;, &quot;password&quot;);\n//     arguments.put(&quot;username&quot;, redditUser);\n//     arguments.put(&quot;password&quot;, redditPass);\nStringJoiner sj = new StringJoiner(&quot;&amp;&quot;);\nfor(Map.Entry&lt;String,String&gt; entry : arguments.entrySet()) {\n  sj.add(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;) + &quot;=&quot;\n        + URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\n}\nbyte[] out = sj.toString().getBytes(StandardCharsets.UTF_8);\nint length = out.length;\n\nhttp.setFixedLengthStreamingMode(length);\n\nhttp.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\nhttp.connect();\n\ntry(OutputStream os = http.getOutputStream()) {\n  os.write(out);\n}\n\nInputStream is = http.getInputStream();\nSystem.out.println(http.getContentType());\n</code></pre>\n<p>My last output was:</p>\n<pre><code>I/System.out: &gt;&gt;&gt;&gt;&gt; START &lt;&lt;&lt;&lt;&lt;\nI/System.out: {&quot;access_token&quot;: &quot;REMOVED&quot;, &quot;token_type&quot;: &quot;bearer&quot;, &quot;expires_in&quot;: 86400, &quot;scope&quot;: &quot;*&quot;}\nI/System.out: REMOVED:bearer:86400:*\nI/System.out: &gt;&gt;&gt;&gt;&gt;&gt; END &lt;&lt;&lt;&lt;&lt;\nI/System.out: java.io.FileNotFoundException: https://oauth.reddit.com/api/v1/me\n</code></pre>\n<p>As you can see I'm receiving the access token just fine using similar code as above. I'm obviously missing something but got to thinking it could be one of too many things, like capatilization on Authorization header or using under score or dash on User-Agent etc.</p>\n"},{"tags":["java","command-line-interface","command-line-arguments","optional-parameters","apache-commons-cli"],"answers":[{"comments":[{"owner":{"account_id":4449148,"reputation":1701,"user_id":3621633,"accept_rate":54,"display_name":"user3621633"},"score":0,"creation_date":1428068127,"post_id":29426189,"comment_id":47035887,"body_markdown":"Thank you very much. Interesting. Why does the program not spring up an error with `-i file.txt`, but with `--input file.txt`?","body":"Thank you very much. Interesting. Why does the program not spring up an error with <code>-i file.txt</code>, but with <code>--input file.txt</code>?"},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1428077064,"post_id":29426189,"comment_id":47040333,"body_markdown":"Not sure, but likely the parser somehow handles this for short options, but not for long ones.","body":"Not sure, but likely the parser somehow handles this for short options, but not for long ones."},{"owner":{"account_id":1227737,"reputation":853,"user_id":1192987,"display_name":"Nikita Bosik"},"score":1,"creation_date":1666887910,"post_id":29426189,"comment_id":131046942,"body_markdown":"Also third argument of `addOption` is `hasArg`, so you want it to be `true`","body":"Also third argument of <code>addOption</code> is <code>hasArg</code>, so you want it to be <code>true</code>"}],"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666984386,"creation_date":1428035234,"answer_id":29426189,"question_id":29424818,"body_markdown":"The problem is how you specify tha arguments in your sample, instead of \r\n\r\n    String[] arguments = new String[] { &quot;--input file.txt&quot; };\r\n\r\nYou need to specify\r\n\r\n    String[] arguments = new String[] { &quot;--input&quot;, &quot;file.txt&quot; };\r\n\r\nThe parser wants to get the arguments the way they are provided by java in the main() method, separated at the blank, otherwise you instruct the parser to handle the option &quot;--input file.txt&quot;, i.e. it sees the whole string as the name of the option.","title":"Java Apache Common CLI double-hypen options failing when specifying an appended value","body":"<p>The problem is how you specify tha arguments in your sample, instead of</p>\n<pre><code>String[] arguments = new String[] { &quot;--input file.txt&quot; };\n</code></pre>\n<p>You need to specify</p>\n<pre><code>String[] arguments = new String[] { &quot;--input&quot;, &quot;file.txt&quot; };\n</code></pre>\n<p>The parser wants to get the arguments the way they are provided by java in the main() method, separated at the blank, otherwise you instruct the parser to handle the option &quot;--input file.txt&quot;, i.e. it sees the whole string as the name of the option.</p>\n"}],"owner":{"account_id":4449148,"reputation":1701,"user_id":3621633,"accept_rate":54,"display_name":"user3621633"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666984625,"creation_date":1428022829,"question_id":29424818,"body_markdown":"FYI: I&#39;m running this Java program on a Windows machine. I&#39;m sure that it&#39;s important.\r\n\r\nBasically, I am having a problem specifying a value to to options with double-hyphens. Single-hyphen options work fine.\r\n\r\n    import org.apache.commons.cli.*;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) throws ParseException {\r\n            String[] arguments = new String[] { &quot;--input file.txt&quot; };\r\n            \r\n            // create the Options\r\n\t\t    Options options = new Options();\r\n\t\t    options.addOption( &quot;i&quot;, &quot;input&quot;, false, &quot;Specify the input file.&quot; );\r\n\t\t\r\n\t\t    // Create the parser\r\n\t\t    CommandLineParser parser = new GnuParser();\r\n\t\t\r\n\t\t    // Parse the command line\r\n\t\t    CommandLine cmd = parser.parse(options, arguments);\r\n        }\r\n    }\r\n\r\nThe program fails with error:\r\n \r\n&gt; Exception in thread &quot;main&quot; org.apache.commons.cli.UnrecognizedOptionException: Unrecognized option: --input file.txt\r\n\r\nIf I specify the argument as `-i file.txt`, no errors. If the argument is `--input`, also no errors. Why won&#39;t the double-hyphen option accept any values? Does it have something to do with the parser or that I&#39;m running it on a Windows machine? \r\n\r\nWhat am I doing wrong here? Any help would be appreciated.\r\n\r\nThank you very much.","title":"Java Apache Common CLI double-hypen options failing when specifying an appended value","body":"<p>FYI: I'm running this Java program on a Windows machine. I'm sure that it's important.</p>\n\n<p>Basically, I am having a problem specifying a value to to options with double-hyphens. Single-hyphen options work fine.</p>\n\n<pre><code>import org.apache.commons.cli.*;\n\npublic class Test {\n    public static void main(String[] args) throws ParseException {\n        String[] arguments = new String[] { \"--input file.txt\" };\n\n        // create the Options\n        Options options = new Options();\n        options.addOption( \"i\", \"input\", false, \"Specify the input file.\" );\n\n        // Create the parser\n        CommandLineParser parser = new GnuParser();\n\n        // Parse the command line\n        CommandLine cmd = parser.parse(options, arguments);\n    }\n}\n</code></pre>\n\n<p>The program fails with error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" org.apache.commons.cli.UnrecognizedOptionException: Unrecognized option: --input file.txt</p>\n</blockquote>\n\n<p>If I specify the argument as <code>-i file.txt</code>, no errors. If the argument is <code>--input</code>, also no errors. Why won't the double-hyphen option accept any values? Does it have something to do with the parser or that I'm running it on a Windows machine? </p>\n\n<p>What am I doing wrong here? Any help would be appreciated.</p>\n\n<p>Thank you very much.</p>\n"},{"tags":["java","boolean","jls"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1666985217,"post_id":74239885,"comment_id":131072116,"body_markdown":"A logical quantity is a value that is not a numeric measurement or count.","body":"A logical quantity is a value that is not a numeric measurement or count."},{"owner":{"account_id":2104828,"reputation":1257,"user_id":1871404,"accept_rate":38,"display_name":"Patrick B."},"score":0,"creation_date":1666985974,"post_id":74239885,"comment_id":131072306,"body_markdown":"Well, perhaps I&#39;m overthinking it. But maybe &quot;value&quot; instead of &quot;quantity&quot; would have been more appropriate here, since a quantity is by [definition](https://dictionary.cambridge.org/dictionary/english/quantity) a measurable amount or number..","body":"Well, perhaps I&#39;m overthinking it. But maybe &quot;value&quot; instead of &quot;quantity&quot; would have been more appropriate here, since a quantity is by <a href=\"https://dictionary.cambridge.org/dictionary/english/quantity\" rel=\"nofollow noreferrer\">definition</a> a measurable amount or number.."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1666988107,"post_id":74239885,"comment_id":131072846,"body_markdown":"It is not. Note that your own link says &quot;especially that can be measured&quot;, not &quot;exclusively&quot;. There are quantities that cannot be measured. You cannot measure emotions, for example, but you can definitely say that you love/hate X more/less than Y. So that is something that can be quantified but not measured.","body":"It is not. Note that your own link says &quot;especially that can be measured&quot;, not &quot;exclusively&quot;. There are quantities that cannot be measured. You cannot measure emotions, for example, but you can definitely say that you love/hate X more/less than Y. So that is something that can be quantified but not measured."}],"owner":{"account_id":2104828,"reputation":1257,"user_id":1871404,"accept_rate":38,"display_name":"Patrick B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666984041,"creation_date":1666984041,"question_id":74239885,"body_markdown":"In paragraph 4.2.5 of the Java Langage Specification 17, there is this sentence : &quot;The boolean type represents a **logical quantity** with two possible values, indicated by the literals true and false (&#167;3.10.3)&quot;. What does &quot;logical quantity&quot; mean? How can a quantity be logical? It doesn&#39;t make sense to me. I also searched through the internet to see any other context where this association of words is used and I didn&#39;t find anyting relevant... ","title":"What does &quot;logical quantity&quot; mean?","body":"<p>In paragraph 4.2.5 of the Java Langage Specification 17, there is this sentence : &quot;The boolean type represents a <strong>logical quantity</strong> with two possible values, indicated by the literals true and false (3.10.3)&quot;. What does &quot;logical quantity&quot; mean? How can a quantity be logical? It doesn't make sense to me. I also searched through the internet to see any other context where this association of words is used and I didn't find anyting relevant...</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":9091013,"reputation":311,"user_id":6766950,"display_name":"Kenny Colliander Nordin"},"score":0,"creation_date":1472399048,"post_id":39192945,"comment_id":65726460,"body_markdown":"http://stackoverflow.com/questions/6873020/gson-date-format should point you in the right direction.","body":"<a href=\"http://stackoverflow.com/questions/6873020/gson-date-format\">stackoverflow.com/questions/6873020/gson-date-format</a> should point you in the right direction."},{"owner":{"account_id":556766,"reputation":130900,"user_id":918959,"accept_rate":89,"display_name":"Antti Haapala --  "},"score":0,"creation_date":1472399182,"post_id":39192945,"comment_id":65726486,"body_markdown":"You&#39;d most probably need to install a [custom TypeAdapter](http://www.javadoc.io/doc/com.google.code.gson/gson/2.7)","body":"You&#39;d most probably need to install a <a href=\"http://www.javadoc.io/doc/com.google.code.gson/gson/2.7\" rel=\"nofollow noreferrer\">custom TypeAdapter</a>"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":4,"creation_date":1472399602,"post_id":39192945,"comment_id":65726628,"body_markdown":"Looking at the classes in `com.google.gson.internal.bind` there is no type adapter for `LocalDate` (in gson 2.7).","body":"Looking at the classes in <code>com.google.gson.internal.bind</code> there is no type adapter for <code>LocalDate</code> (in gson 2.7)."},{"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"score":0,"creation_date":1472399749,"post_id":39192945,"comment_id":65726672,"body_markdown":"@JornVernee Good idea. If you want to post your comment as an answer, I shall accept it.","body":"@JornVernee Good idea. If you want to post your comment as an answer, I shall accept it."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1472400020,"post_id":39192945,"comment_id":65726756,"body_markdown":"@Drux, No that&#39;s ok, It doesn&#39;t really solve the problem. I think your answer is better for future readers.","body":"@Drux, No that&#39;s ok, It doesn&#39;t really solve the problem. I think your answer is better for future readers."},{"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"score":0,"creation_date":1472400751,"post_id":39192945,"comment_id":65726965,"body_markdown":"@JornVernee That&#39;s fine as well. Thx.","body":"@JornVernee That&#39;s fine as well. Thx."}],"answers":[{"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1649318642,"post_id":39193077,"comment_id":126846623,"body_markdown":"Note that it is recommended to prefer TypeAdapter over JsonSerializer and JsonDeserializer since it reads the JSON data in a streaming way instead of parsing it as an in-memory representation of JsonElements. as Sam Barnum answer .","body":"Note that it is recommended to prefer TypeAdapter over JsonSerializer and JsonDeserializer since it reads the JSON data in a streaming way instead of parsing it as an in-memory representation of JsonElements. as Sam Barnum answer ."}],"tags":[],"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"comment_count":1,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1472399622,"creation_date":1472399622,"answer_id":39193077,"question_id":39192945,"body_markdown":"Until further notice, I have implemented a custom serializer like so:\r\n\r\n    class LocalDateAdapter implements JsonSerializer&lt;LocalDate&gt; {\r\n\r\n\t    public JsonElement serialize(LocalDate date, Type typeOfSrc, JsonSerializationContext context) {\r\n\t\t    return new JsonPrimitive(date.format(DateTimeFormatter.ISO_LOCAL_DATE)); // &quot;yyyy-mm-dd&quot;\r\n    \t}\r\n    }\r\n\r\nIt can be installed e.g. like so:\r\n\r\n\tGson gson = new GsonBuilder()\r\n\t\t\t.setPrettyPrinting()\r\n\t\t\t.registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\r\n\t\t\t.create();\r\n\r\n","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>Until further notice, I have implemented a custom serializer like so:</p>\n\n<pre><code>class LocalDateAdapter implements JsonSerializer&lt;LocalDate&gt; {\n\n    public JsonElement serialize(LocalDate date, Type typeOfSrc, JsonSerializationContext context) {\n        return new JsonPrimitive(date.format(DateTimeFormatter.ISO_LOCAL_DATE)); // \"yyyy-mm-dd\"\n    }\n}\n</code></pre>\n\n<p>It can be installed e.g. like so:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n        .setPrettyPrinting()\n        .registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\n        .create();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"score":0,"creation_date":1553542121,"post_id":53246168,"comment_id":97414999,"body_markdown":"Edit: Added call to `jsonReader.nextNull()` to correctly consume `null` values.","body":"Edit: Added call to <code>jsonReader.nextNull()</code> to correctly consume <code>null</code> values."},{"owner":{"account_id":1448092,"reputation":621,"user_id":1365918,"accept_rate":67,"display_name":"kapad"},"score":0,"creation_date":1563835092,"post_id":53246168,"comment_id":100824252,"body_markdown":"your edit hasn&#39;t been added. what was the fix exactly?","body":"your edit hasn&#39;t been added. what was the fix exactly?"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1682504948,"post_id":53246168,"comment_id":134225581,"body_markdown":"I get: Class &#39;LocalDateAdapter&#39; must either be declared abstract or implement abstract method &#39;write(JsonWriter, T)&#39; in &#39;TypeAdapter&#39;&quot; when trying to use this code?","body":"I get: Class &#39;LocalDateAdapter&#39; must either be declared abstract or implement abstract method &#39;write(JsonWriter, T)&#39; in &#39;TypeAdapter&#39;&quot; when trying to use this code?"}],"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"comment_count":3,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1554396056,"creation_date":1541914987,"answer_id":53246168,"question_id":39192945,"body_markdown":"I use the following, supports read/write and null values:\r\n\r\n    class LocalDateAdapter extends TypeAdapter&lt;LocalDate&gt; {\r\n\t\t@Override\r\n\t\tpublic void write(final JsonWriter jsonWriter, final LocalDate localDate) throws IOException {\r\n\t\t\tif (localDate == null) {\r\n\t\t\t\tjsonWriter.nullValue();\r\n\t\t\t} else {\r\n\t\t\t\tjsonWriter.value(localDate.toString());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalDate read(final JsonReader jsonReader) throws IOException {\r\n\t    \tif (jsonReader.peek() == JsonToken.NULL) {\r\n                jsonReader.nextNull();\r\n\t    \t\treturn null;\r\n\t\t    } else {\r\n\t\t\t    return LocalDate.parse(jsonReader.nextString());\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n\r\n\r\nRegistered as @Drux says:\r\n\r\n\treturn new GsonBuilder()\r\n\t\t\t.registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\r\n\t\t\t.create();\r\n\r\n\r\n**EDIT 2019-04-04** A simpler implementation\r\n\r\n\tprivate static final class LocalDateAdapter extends TypeAdapter&lt;LocalDate&gt; {\r\n\t\t@Override\r\n\t\tpublic void write( final JsonWriter jsonWriter, final LocalDate localDate ) throws IOException {\r\n\t\t\tjsonWriter.value(localDate.toString());\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalDate read( final JsonReader jsonReader ) throws IOException {\r\n\t\t\treturn LocalDate.parse(jsonReader.nextString());\r\n\t\t}\r\n\t}\r\n\r\nWhich you can add `null` support to by registering the `nullSafe()` wrapped version:\r\n\r\n    new GsonBuilder()\r\n          .registerTypeAdapter(LocalDate.class, new LocalDateAdapter().nullSafe())","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>I use the following, supports read/write and null values:</p>\n\n<pre><code>class LocalDateAdapter extends TypeAdapter&lt;LocalDate&gt; {\n    @Override\n    public void write(final JsonWriter jsonWriter, final LocalDate localDate) throws IOException {\n        if (localDate == null) {\n            jsonWriter.nullValue();\n        } else {\n            jsonWriter.value(localDate.toString());\n        }\n    }\n\n    @Override\n    public LocalDate read(final JsonReader jsonReader) throws IOException {\n        if (jsonReader.peek() == JsonToken.NULL) {\n            jsonReader.nextNull();\n            return null;\n        } else {\n            return LocalDate.parse(jsonReader.nextString());\n        }\n    }\n}\n</code></pre>\n\n<p>Registered as @Drux says:</p>\n\n<pre><code>return new GsonBuilder()\n        .registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\n        .create();\n</code></pre>\n\n<p><strong>EDIT 2019-04-04</strong> A simpler implementation</p>\n\n<pre><code>private static final class LocalDateAdapter extends TypeAdapter&lt;LocalDate&gt; {\n    @Override\n    public void write( final JsonWriter jsonWriter, final LocalDate localDate ) throws IOException {\n        jsonWriter.value(localDate.toString());\n    }\n\n    @Override\n    public LocalDate read( final JsonReader jsonReader ) throws IOException {\n        return LocalDate.parse(jsonReader.nextString());\n    }\n}\n</code></pre>\n\n<p>Which you can add <code>null</code> support to by registering the <code>nullSafe()</code> wrapped version:</p>\n\n<pre><code>new GsonBuilder()\n      .registerTypeAdapter(LocalDate.class, new LocalDateAdapter().nullSafe())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3981821,"reputation":366,"user_id":3283548,"display_name":"David Billings"},"score":0,"creation_date":1560509262,"post_id":56078382,"comment_id":99769314,"body_markdown":"Perfect this works well for Kotlin projects. Thanks very much!","body":"Perfect this works well for Kotlin projects. Thanks very much!"},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":1,"creation_date":1590672639,"post_id":56078382,"comment_id":109772741,"body_markdown":"Doesn&#39;t work with sub-objects (e.g. List of LocalDates)","body":"Doesn&#39;t work with sub-objects (e.g. List of LocalDates)"}],"tags":[],"owner":{"account_id":165872,"reputation":12769,"user_id":389649,"display_name":"Cristan"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1557493675,"creation_date":1557493675,"answer_id":56078382,"question_id":39192945,"body_markdown":"Kotlin version which supports serializing and deserializing:\r\n\r\n    class LocalDateTypeAdapter : TypeAdapter&lt;LocalDate&gt;() {\r\n    \r\n        override fun write(out: JsonWriter, value: LocalDate) {\r\n            out.value(DateTimeFormatter.ISO_LOCAL_DATE.format(value))\r\n        }\r\n    \r\n        override fun read(input: JsonReader): LocalDate = LocalDate.parse(input.nextString())\r\n    }\r\n\r\nRegister with your GsonBuilder. Wrap using `nullSafe()` for `null` support:\r\n\r\n    GsonBuilder().registerTypeAdapter(LocalDate::class.java, LocalDateTypeAdapter().nullSafe())","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>Kotlin version which supports serializing and deserializing:</p>\n\n<pre><code>class LocalDateTypeAdapter : TypeAdapter&lt;LocalDate&gt;() {\n\n    override fun write(out: JsonWriter, value: LocalDate) {\n        out.value(DateTimeFormatter.ISO_LOCAL_DATE.format(value))\n    }\n\n    override fun read(input: JsonReader): LocalDate = LocalDate.parse(input.nextString())\n}\n</code></pre>\n\n<p>Register with your GsonBuilder. Wrap using <code>nullSafe()</code> for <code>null</code> support:</p>\n\n<pre><code>GsonBuilder().registerTypeAdapter(LocalDate::class.java, LocalDateTypeAdapter().nullSafe())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631778440,"creation_date":1631778440,"answer_id":69204338,"question_id":39192945,"body_markdown":"Reported upstream as https://github.com/google/gson/issues/1059 . Current suggestion from the upstream is to use the https://github.com/gkopff/gson-javatime-serialisers addon.","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>Reported upstream as <a href=\"https://github.com/google/gson/issues/1059\" rel=\"nofollow noreferrer\">https://github.com/google/gson/issues/1059</a> . Current suggestion from the upstream is to use the <a href=\"https://github.com/gkopff/gson-javatime-serialisers\" rel=\"nofollow noreferrer\">https://github.com/gkopff/gson-javatime-serialisers</a> addon.</p>\n"},{"comments":[{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1682505014,"post_id":74239815,"comment_id":134225588,"body_markdown":"I get: Class &#39;LocalDateTimeTypeAdapter&#39; must either be declared abstract or implement abstract method &#39;write(JsonWriter, T)&#39; in &#39;TypeAdapter&#39;&quot; when trying to use this code?","body":"I get: Class &#39;LocalDateTimeTypeAdapter&#39; must either be declared abstract or implement abstract method &#39;write(JsonWriter, T)&#39; in &#39;TypeAdapter&#39;&quot; when trying to use this code?"}],"tags":[],"owner":{"account_id":3469431,"reputation":31,"user_id":2904223,"display_name":"nbarm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666983911,"creation_date":1666983572,"answer_id":74239815,"question_id":39192945,"body_markdown":"For some reason using the above classes with .nullSafe() didn&#39;t work me as I still got this exception with JDK 17 and Gson:\r\n\r\n    Unable to make field private final java.time.LocalDate java.time.LocalDateTime.date accessible: module java.base does not &quot;opens java.time&quot;\r\n\r\nso I used this custom TypeAdapter with null checks:\r\n\r\n    public class LocalDateTimeTypeAdapter extends TypeAdapter&lt;LocalDateTime&gt; {\r\n    \r\n        @Override\r\n        public void write(final JsonWriter jsonWriter, final LocalDateTime localDate) throws IOException {\r\n            if (localDate == null) {\r\n                jsonWriter.nullValue();\r\n                return;\r\n            }\r\n            jsonWriter.value(localDate.toString());\r\n        }\r\n    \r\n        @Override\r\n        public LocalDateTime read(final JsonReader jsonReader) throws IOException {\r\n            if (jsonReader.peek() == JsonToken.NULL) {\r\n                jsonReader.nextNull();\r\n                return null;\r\n            }\r\n            return ZonedDateTime.parse(jsonReader.nextString()).toLocalDateTime();\r\n        }\r\n    }\r\n\r\n","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>For some reason using the above classes with .nullSafe() didn't work me as I still got this exception with JDK 17 and Gson:</p>\n<pre><code>Unable to make field private final java.time.LocalDate java.time.LocalDateTime.date accessible: module java.base does not &quot;opens java.time&quot;\n</code></pre>\n<p>so I used this custom TypeAdapter with null checks:</p>\n<pre><code>public class LocalDateTimeTypeAdapter extends TypeAdapter&lt;LocalDateTime&gt; {\n\n    @Override\n    public void write(final JsonWriter jsonWriter, final LocalDateTime localDate) throws IOException {\n        if (localDate == null) {\n            jsonWriter.nullValue();\n            return;\n        }\n        jsonWriter.value(localDate.toString());\n    }\n\n    @Override\n    public LocalDateTime read(final JsonReader jsonReader) throws IOException {\n        if (jsonReader.peek() == JsonToken.NULL) {\n            jsonReader.nextNull();\n            return null;\n        }\n        return ZonedDateTime.parse(jsonReader.nextString()).toLocalDateTime();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45302,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":39193077,"answer_count":5,"score":51,"last_activity_date":1666983911,"creation_date":1472398731,"question_id":39192945,"body_markdown":"I am using Java 8 and the latest `RELEASE` version (via Maven) of [Gson][1].\r\nIf I serialize a [`LocalDate`][2] I get something like this\r\n\r\n    &quot;birthday&quot;: {\r\n            &quot;year&quot;: 1997,\r\n            &quot;month&quot;: 11,\r\n            &quot;day&quot;: 25\r\n    }\r\n\r\nwhere I would have preferred `&quot;birthday&quot;: &quot;1997-11-25&quot;`. Does Gson also support the more concise format out-of-the-box, or do I have to implement a custom serializer for `LocalDate`s? \r\n\r\n(I&#39;ve tried `gsonBuilder.setDateFormat(DateFormat.SHORT)`, but that does not seem to make a difference.)\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>I am using Java 8 and the latest <code>RELEASE</code> version (via Maven) of <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Gson</a>.\nIf I serialize a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> I get something like this</p>\n\n<pre><code>\"birthday\": {\n        \"year\": 1997,\n        \"month\": 11,\n        \"day\": 25\n}\n</code></pre>\n\n<p>where I would have preferred <code>\"birthday\": \"1997-11-25\"</code>. Does Gson also support the more concise format out-of-the-box, or do I have to implement a custom serializer for <code>LocalDate</code>s? </p>\n\n<p>(I've tried <code>gsonBuilder.setDateFormat(DateFormat.SHORT)</code>, but that does not seem to make a difference.)</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1666983466,"post_id":74239759,"comment_id":131071668,"body_markdown":"If you want to enforce uniqueness, then you should create a [unique index](https://www.mongodb.com/docs/manual/core/index-unique/) on the `&#39;System.UniqueNumber&#39;` field","body":"If you want to enforce uniqueness, then you should create a <a href=\"https://www.mongodb.com/docs/manual/core/index-unique/\" rel=\"nofollow noreferrer\">unique index</a> on the <code>&#39;System.UniqueNumber&#39;</code> field"},{"owner":{"account_id":26699551,"reputation":246,"user_id":20306839,"display_name":"Naveen"},"score":0,"creation_date":1667014558,"post_id":74239759,"comment_id":131076418,"body_markdown":"Use unique index to field that may prevent duplicate value from insert or upsert","body":"Use unique index to field that may prevent duplicate value from insert or upsert"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666983185,"creation_date":1666983185,"question_id":74239759,"body_markdown":"I am able to insert the documents in mongodb collection but but it is inserting the duplicate values in collection .How to avoid the duplicates field value (&quot;System.UniqueNumber&quot;) in  java :Document looks like below .I need check the System.UniqueNumber value ,in case if any value is existing ,document should not be inserted to database. I tried with upsert oepration but it is not happening . Can anyone help how to ignore the duplicates in java .\r\n\r\n\r\n    { \r\n        &quot;_id&quot; : ObjectId(&quot;abedfg&quot;), \r\n        &quot;Amoun&quot; : {\r\n            &quot;Type&quot; : {\r\n                &quot;key&quot; : &quot;dollar&quot;, \r\n                &quot;value&quot; : &quot;system&quot;\r\n            }, \r\n    &quot;System&quot; : {\r\n     \r\n            &quot;UniqueNumber&quot; : &quot;123&quot;, \r\n            &quot;color&quot; : &quot;Red&quot;, \r\n        }, \r\n    \r\n    \r\n        public boolean create(@Valid @RequestBody Document... documents) {\r\n            MongoDatabase database = this.mongoClient.getDatabase(&quot;Database&quot;);\r\n            MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;Database&quot;);\r\n    \r\n            List&lt;Document&gt; documentList = new ArrayList&lt;&gt;(bookings.length);\r\n            for (Document doc: documents) {\r\n                documentList.add(Document.parse(booking.toJson()));\r\n            }\r\n            collection.insertMany(documentList);\r\n           \r\n        }","title":"How to ignore duplicate field values while inserting duplicates in Mongodb with Java syntax","body":"<p>I am able to insert the documents in mongodb collection but but it is inserting the duplicate values in collection .How to avoid the duplicates field value (&quot;System.UniqueNumber&quot;) in  java :Document looks like below .I need check the System.UniqueNumber value ,in case if any value is existing ,document should not be inserted to database. I tried with upsert oepration but it is not happening . Can anyone help how to ignore the duplicates in java .</p>\n<pre><code>{ \n    &quot;_id&quot; : ObjectId(&quot;abedfg&quot;), \n    &quot;Amoun&quot; : {\n        &quot;Type&quot; : {\n            &quot;key&quot; : &quot;dollar&quot;, \n            &quot;value&quot; : &quot;system&quot;\n        }, \n&quot;System&quot; : {\n \n        &quot;UniqueNumber&quot; : &quot;123&quot;, \n        &quot;color&quot; : &quot;Red&quot;, \n    }, \n\n\n    public boolean create(@Valid @RequestBody Document... documents) {\n        MongoDatabase database = this.mongoClient.getDatabase(&quot;Database&quot;);\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;Database&quot;);\n\n        List&lt;Document&gt; documentList = new ArrayList&lt;&gt;(bookings.length);\n        for (Document doc: documents) {\n            documentList.add(Document.parse(booking.toJson()));\n        }\n        collection.insertMany(documentList);\n       \n    }\n</code></pre>\n"},{"tags":["java","unit-testing"],"comments":[{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1666973394,"post_id":74237655,"comment_id":131068567,"body_markdown":"Do not include links to images in your question.  Instead include code and add a note on the line that is not covered.","body":"Do not include links to images in your question.  Instead include code and add a note on the line that is not covered."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666977553,"post_id":74237655,"comment_id":131069931,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667906205,"post_id":74237655,"comment_id":131274311,"body_markdown":"Hey @AntonioXavierdeSousaNeto , was my answer helpful? If so I would appreciate if you marked it as correct!","body":"Hey @AntonioXavierdeSousaNeto , was my answer helpful? If so I would appreciate if you marked it as correct!"}],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666982452,"creation_date":1666982452,"answer_id":74239661,"question_id":74237655,"body_markdown":"You would need to provide a test covering the scenario that one of the exceptions is thrown, therefore executing the code inside your `catch` block. The exception `UnsupportedEncodingException` can be thrown by the following line: \r\n```java\r\nkey = myKey.getBytes(&quot;UTF-8&quot;);\r\n```\r\nTo do that, generally in unit testing, you can use a library which enables you to do [mocking](https://stackoverflow.com/questions/2665812/what-is-mocking), [Mockito](https://site.mockito.org/) being one of the most popular ones.\r\n\r\nSo, once you check out these resources above, what you have to do is mock one (or both) of the lines that can throw the exceptions and make them throw the actual exceptions, and then, expect the line `logger.error(&quot;Error while Set Key:&quot;, e);` to be executed. \r\n\r\nYou can either check for the logging to happen, or use Mockito again to verify that the `error()` method has been called. Happy coding! =)","title":"Junit Tests Not Coverage by tests(Try-Catch)","body":"<p>You would need to provide a test covering the scenario that one of the exceptions is thrown, therefore executing the code inside your <code>catch</code> block. The exception <code>UnsupportedEncodingException</code> can be thrown by the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>key = myKey.getBytes(&quot;UTF-8&quot;);\n</code></pre>\n<p>To do that, generally in unit testing, you can use a library which enables you to do <a href=\"https://stackoverflow.com/questions/2665812/what-is-mocking\">mocking</a>, <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a> being one of the most popular ones.</p>\n<p>So, once you check out these resources above, what you have to do is mock one (or both) of the lines that can throw the exceptions and make them throw the actual exceptions, and then, expect the line <code>logger.error(&quot;Error while Set Key:&quot;, e);</code> to be executed.</p>\n<p>You can either check for the logging to happen, or use Mockito again to verify that the <code>error()</code> method has been called. Happy coding! =)</p>\n"}],"owner":{"account_id":22962528,"reputation":1,"user_id":17092148,"display_name":"Antonio Xavier de Sousa Neto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666982452,"creation_date":1666971213,"question_id":74237655,"body_markdown":"I&#39;m new to unit tests, and I&#39;m having trouble covering a line trying to get in the tests, follow the code and the line it couldn&#39;t cover.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/aIUWT.png)](https://i.stack.imgur.com/aIUWT.png)\r\n\r\nCode: \r\n\r\n\r\n```\r\npublic void setKey(String myKey) {\r\n\r\n   MessageDigest sha = null;\r\n   try {\r\n      key = myKey.getBytes(&quot;UTF-8&quot;);\r\n      sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n      key = sha.digest(key);\r\n      key = Arrays.copyOf(key, 16); // use only first 128 bit\r\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n   }  catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n      logger.error(&quot;Error while Set Key:&quot;, e);\r\n   }\r\n}\r\n```\r\n","title":"Junit Tests Not Coverage by tests(Try-Catch)","body":"<p>I'm new to unit tests, and I'm having trouble covering a line trying to get in the tests, follow the code and the line it couldn't cover.</p>\n<p><a href=\"https://i.stack.imgur.com/aIUWT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aIUWT.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>public void setKey(String myKey) {\n\n   MessageDigest sha = null;\n   try {\n      key = myKey.getBytes(&quot;UTF-8&quot;);\n      sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\n      key = sha.digest(key);\n      key = Arrays.copyOf(key, 16); // use only first 128 bit\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n   }  catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n      logger.error(&quot;Error while Set Key:&quot;, e);\n   }\n}\n</code></pre>\n"},{"tags":["java","design-patterns","class-design","builder-pattern"],"comments":[{"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"score":0,"creation_date":1666809707,"post_id":74212433,"comment_id":131026233,"body_markdown":"possibly related to https://stackoverflow.com/questions/17839072/dynamic-builder-pattern","body":"possibly related to <a href=\"https://stackoverflow.com/questions/17839072/dynamic-builder-pattern\" title=\"dynamic builder pattern\">stackoverflow.com/questions/17839072/dynamic-builder-pattern</a>"},{"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"score":3,"creation_date":1666818540,"post_id":74212433,"comment_id":131028782,"body_markdown":"There should be different builders for both of them, also you can make builders inherit another builder. When you do withTypeA, it should return BuilderA, and when you do withTypeB, it should return BuilderB","body":"There should be different builders for both of them, also you can make builders inherit another builder. When you do withTypeA, it should return BuilderA, and when you do withTypeB, it should return BuilderB"},{"owner":{"account_id":15114022,"reputation":1,"user_id":16990872,"display_name":"Jackson"},"score":0,"creation_date":1666826427,"post_id":74212433,"comment_id":131030406,"body_markdown":"@RDK, &quot;When you do withTypeA, it should return BuilderA, and when you do withTypeB, it should return BuilderB &quot; how to do this dynamically exactly? Within the `withClientType` method, I can do the following, but it&#39;s not recognized. \n```\nif (type == TypeB)\n    return BuilderForTypeB;\nelse \n    return BuilderForTypeA;\n```","body":"@RDK, &quot;When you do withTypeA, it should return BuilderA, and when you do withTypeB, it should return BuilderB &quot; how to do this dynamically exactly? Within the <code>withClientType</code> method, I can do the following, but it&#39;s not recognized.  ``` if (type == TypeB)     return BuilderForTypeB; else      return BuilderForTypeA; ```"},{"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"score":0,"creation_date":1666945561,"post_id":74212433,"comment_id":131059168,"body_markdown":"Here is an example for you [EmbeddedChartBuilder|https://developers.google.com/apps-script/reference/spreadsheet/embedded-chart-builder]","body":"Here is an example for you [EmbeddedChartBuilder|<a href=\"https://developers.google.com/apps-script/reference/spreadsheet/embedded-chart-builder]\" rel=\"nofollow noreferrer\">developers.google.com/apps-script/refe&zwnj;&#8203;rence/spreadsheet/&hellip;</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666982729,"post_id":74212433,"comment_id":131071476,"body_markdown":"@Jackson Sorry, there was bug in the Builders of both Clients, fixed it. Now the code should be fine. You can [see it in action online](https://www.jdoodle.com/ia/ygH).","body":"@Jackson Sorry, there was bug in the Builders of both Clients, fixed it. Now the code should be fine. You can <a href=\"https://www.jdoodle.com/ia/ygH\" rel=\"nofollow noreferrer\">see it in action online</a>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666982205,"creation_date":1666827440,"answer_id":74215287,"question_id":74212433,"body_markdown":"It&#39;s not possible to construct instances of **different** classes using the **same** Builder. As *@RDK* has pointed out in the comments you have to implement the Builder pattern for each of your classes.\r\n\r\nBuilder might have the same hierarchy as the classes they are meant to instantiate. That would allow to reuse the functionality of the parent-builder.\r\n\r\nBelow, I&#39;ve provided a hierarchy of Builders inspired by the classic implementation from the ***&quot;Effective Java&quot;*** by Joshua Bloch (*a former Sun Microsystems employee, who led the design and implementation of many Java platform features, including the Java Collections Framework*).\r\n\r\nFirstly, it&#39;s worth noticing that using Builder with inheritance adds a bit of complexity because methods all methods of the Builder should be self-returning, i.e. in order to chain methods each method except `build()` returns `this` instance of Builder. But it should a concrete Builder, not it&#39;s parent type (because parent might be unaware of all the methods that child has declared).\r\n\r\nThe answer to this problem would be a [self-referencing generic type](https://stackoverflow.com/questions/7354740/is-there-a-way-to-refer-to-the-current-type-with-a-type-variable), in the *&quot;Effective Java&quot;*  a *generic type with a recursive type parameter*. Don&#39;t get intimidated, pause for a second and try to recall how [`java.lang.Enum`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html) looks like. `Enum&lt;E extends Enum&lt;E&gt;&gt;` - that&#39;s an example of the self-reference, recursively pointing at a particular subclass of `java.lang.Enum`.\r\n\r\nSimilarly, we need a generic builder referencing to itself `ClientBuilder&lt;T extends ClientBuilder&lt;T&gt;&gt;` and declaring a self-returning abstract method `self()` (which return an instance of `T`) that would be implemented by every concrete class.\r\n\r\n***Note:** there&#39;s no need in enum `ClientType` to differentiate between `ClientA` and `ClientB`, since they are already **different** classes.*\r\n\r\nThat how implementation of an `AbstractClient` and two concrete client, each having static nested Builder might look like.\r\n\r\nAbstract classes `AbstractClient` + `ClientBuilder`\r\n\r\n    public abstract class AbstractClient {\r\n        \r\n        protected ClientType type;\r\n        protected A a;\r\n        protected B b;\r\n        \r\n        protected AbstractClient(ClientBuilder&lt;?&gt; builder) {\r\n            this.a = builder.a;\r\n            this.b = builder.b;\r\n        }\r\n        \r\n        public static abstract class ClientBuilder&lt;T extends ClientBuilder&lt;T&gt;&gt; {\r\n            protected A a;\r\n            protected B b;\r\n            \r\n            public T withFieldA(A a) {\r\n                this.a = a;\r\n                return self();\r\n            }\r\n    \r\n            public T withFieldB(B b) {\r\n                this.b = b;\r\n                return self();\r\n            }\r\n            // abstract methods\r\n            public abstract AbstractClient build(); // returns a concrete Client\r\n            public abstract T self();               // returns a concrete implementation of ClientBuilder\r\n        }\r\n    }\r\n\r\nConcrete classes `ClientA` + `ABuilder`\r\n    \r\n    public class ClientA extends AbstractClient {\r\n        \r\n        private ClientA(ABuilder builder) {\r\n            super(builder);\r\n        }\r\n        \r\n        // other constructors, getters, etc\r\n    \r\n        public static ABuilder builder() {\r\n            return new ABuilder();\r\n        }\r\n    \r\n        public static class ABuilder extends AbstractClient.ClientBuilder&lt;ABuilder&gt; {\r\n    \r\n            @Override\r\n            public ClientA build() {\r\n                return new ClientA(this);\r\n            }\r\n    \r\n            @Override\r\n            public ABuilder self() {\r\n                return this; // simply returning This instance of Builder\r\n            }\r\n        }\r\n    }\r\n\r\nConcrete classes `ClientB` + `BBuilder`\r\n    \r\n    public static class ClientB extends AbstractClient {\r\n        \r\n        protected C c;\r\n        protected D d;\r\n    \r\n        private ClientB(BBuilder builder) {\r\n            super(builder);\r\n            this.c = builder.c;\r\n            this.d = builder.d;\r\n        }\r\n        \r\n        // other constructors, getters, etc\r\n        \r\n        public static BBuilder builder() {\r\n            return new BBuilder();\r\n        }\r\n        \r\n        public static class BBuilder extends AbstractClient.ClientBuilder&lt;BBuilder&gt; {\r\n            protected C c;\r\n            protected D d;\r\n    \r\n            public BBuilder withFieldC(C c) {\r\n                this.c = c;\r\n                return self();\r\n            }\r\n    \r\n            public BBuilder withFieldD(D d) {\r\n                this.d = d;\r\n                return self();\r\n            }\r\n            \r\n            @Override\r\n            public ClientB build() {\r\n                return new ClientB(this);\r\n            }\r\n            \r\n            @Override\r\n            public BBuilder self() {\r\n                return this; // simply returning This instance of Builder\r\n            }\r\n        }\r\n    }\r\n\r\n***Usage example** (dummy classes A, B, C, D are not exposed, use the link below to see the code in action):*\r\n\r\n    public static void main(String[] args) {\r\n        ClientA clientA = ClientA.builder()\r\n            .withFieldA(new A(&quot;1&quot;))\r\n            .withFieldB(new B(&quot;Alice&quot;))\r\n            .build();\r\n        \r\n        ClientB clientB = ClientB.builder()\r\n            .withFieldA(new A(&quot;2&quot;))\r\n            .withFieldB(new B(&quot;Bob&quot;))\r\n            .withFieldC(new C(&quot;admin&quot;))\r\n            .withFieldD(new D(&quot;fooBar&quot;))\r\n            .build();\r\n    \r\n        System.out.println(clientA);\r\n        System.out.println(clientB);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nClientA{ a=A[a=1], b=B[b=Alice] }\r\nClientB{ a=A[a=2], b=B[b=Bob], c=C[c=admin], d=D[d=fooBar] }\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/ygH).","title":"Builder Design Pattern - How to make field only accessible to one of its subtype","body":"<p>It's not possible to construct instances of <strong>different</strong> classes using the <strong>same</strong> Builder. As <em>@RDK</em> has pointed out in the comments you have to implement the Builder pattern for each of your classes.</p>\n<p>Builder might have the same hierarchy as the classes they are meant to instantiate. That would allow to reuse the functionality of the parent-builder.</p>\n<p>Below, I've provided a hierarchy of Builders inspired by the classic implementation from the <em><strong>&quot;Effective Java&quot;</strong></em> by Joshua Bloch (<em>a former Sun Microsystems employee, who led the design and implementation of many Java platform features, including the Java Collections Framework</em>).</p>\n<p>Firstly, it's worth noticing that using Builder with inheritance adds a bit of complexity because methods all methods of the Builder should be self-returning, i.e. in order to chain methods each method except <code>build()</code> returns <code>this</code> instance of Builder. But it should a concrete Builder, not it's parent type (because parent might be unaware of all the methods that child has declared).</p>\n<p>The answer to this problem would be a <a href=\"https://stackoverflow.com/questions/7354740/is-there-a-way-to-refer-to-the-current-type-with-a-type-variable\">self-referencing generic type</a>, in the <em>&quot;Effective Java&quot;</em>  a <em>generic type with a recursive type parameter</em>. Don't get intimidated, pause for a second and try to recall how <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>java.lang.Enum</code></a> looks like. <code>Enum&lt;E extends Enum&lt;E&gt;&gt;</code> - that's an example of the self-reference, recursively pointing at a particular subclass of <code>java.lang.Enum</code>.</p>\n<p>Similarly, we need a generic builder referencing to itself <code>ClientBuilder&lt;T extends ClientBuilder&lt;T&gt;&gt;</code> and declaring a self-returning abstract method <code>self()</code> (which return an instance of <code>T</code>) that would be implemented by every concrete class.</p>\n<p><em><strong>Note:</strong> there's no need in enum <code>ClientType</code> to differentiate between <code>ClientA</code> and <code>ClientB</code>, since they are already <strong>different</strong> classes.</em></p>\n<p>That how implementation of an <code>AbstractClient</code> and two concrete client, each having static nested Builder might look like.</p>\n<p>Abstract classes <code>AbstractClient</code> + <code>ClientBuilder</code></p>\n<pre><code>public abstract class AbstractClient {\n    \n    protected ClientType type;\n    protected A a;\n    protected B b;\n    \n    protected AbstractClient(ClientBuilder&lt;?&gt; builder) {\n        this.a = builder.a;\n        this.b = builder.b;\n    }\n    \n    public static abstract class ClientBuilder&lt;T extends ClientBuilder&lt;T&gt;&gt; {\n        protected A a;\n        protected B b;\n        \n        public T withFieldA(A a) {\n            this.a = a;\n            return self();\n        }\n\n        public T withFieldB(B b) {\n            this.b = b;\n            return self();\n        }\n        // abstract methods\n        public abstract AbstractClient build(); // returns a concrete Client\n        public abstract T self();               // returns a concrete implementation of ClientBuilder\n    }\n}\n</code></pre>\n<p>Concrete classes <code>ClientA</code> + <code>ABuilder</code></p>\n<pre><code>public class ClientA extends AbstractClient {\n    \n    private ClientA(ABuilder builder) {\n        super(builder);\n    }\n    \n    // other constructors, getters, etc\n\n    public static ABuilder builder() {\n        return new ABuilder();\n    }\n\n    public static class ABuilder extends AbstractClient.ClientBuilder&lt;ABuilder&gt; {\n\n        @Override\n        public ClientA build() {\n            return new ClientA(this);\n        }\n\n        @Override\n        public ABuilder self() {\n            return this; // simply returning This instance of Builder\n        }\n    }\n}\n</code></pre>\n<p>Concrete classes <code>ClientB</code> + <code>BBuilder</code></p>\n<pre><code>public static class ClientB extends AbstractClient {\n    \n    protected C c;\n    protected D d;\n\n    private ClientB(BBuilder builder) {\n        super(builder);\n        this.c = builder.c;\n        this.d = builder.d;\n    }\n    \n    // other constructors, getters, etc\n    \n    public static BBuilder builder() {\n        return new BBuilder();\n    }\n    \n    public static class BBuilder extends AbstractClient.ClientBuilder&lt;BBuilder&gt; {\n        protected C c;\n        protected D d;\n\n        public BBuilder withFieldC(C c) {\n            this.c = c;\n            return self();\n        }\n\n        public BBuilder withFieldD(D d) {\n            this.d = d;\n            return self();\n        }\n        \n        @Override\n        public ClientB build() {\n            return new ClientB(this);\n        }\n        \n        @Override\n        public BBuilder self() {\n            return this; // simply returning This instance of Builder\n        }\n    }\n}\n</code></pre>\n<p><em><strong>Usage example</strong> (dummy classes A, B, C, D are not exposed, use the link below to see the code in action):</em></p>\n<pre><code>public static void main(String[] args) {\n    ClientA clientA = ClientA.builder()\n        .withFieldA(new A(&quot;1&quot;))\n        .withFieldB(new B(&quot;Alice&quot;))\n        .build();\n    \n    ClientB clientB = ClientB.builder()\n        .withFieldA(new A(&quot;2&quot;))\n        .withFieldB(new B(&quot;Bob&quot;))\n        .withFieldC(new C(&quot;admin&quot;))\n        .withFieldD(new D(&quot;fooBar&quot;))\n        .build();\n\n    System.out.println(clientA);\n    System.out.println(clientB);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>ClientA{ a=A[a=1], b=B[b=Alice] }\nClientB{ a=A[a=2], b=B[b=Bob], c=C[c=admin], d=D[d=fooBar] }\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/ygH\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666947098,"creation_date":1666947098,"answer_id":74232831,"question_id":74212433,"body_markdown":"Another example that I like. The idea here is, there are several kind of &quot;Root&quot; [A,B,C], each with their own attributes.  At any point you can switch to a different Builder which gives you a different kind of &quot;Root&quot; with common behaviours stored in AbstractBuilder.\r\n\r\nIt is also possible that they inherit each other and similarly their builders can also inherit each other.\r\n\r\n    abstract class AbstractBuilder {\r\n        protected String common;\r\n        \r\n        public AbstractBuilder withCommon(String common){\r\n            this.common = common;\r\n            return this;\r\n        }\r\n    \r\n        public abstract Root build();\r\n        public A.BuilderA asBuilderA(){\r\n            return new A.BuilderA(common);\r\n        }\r\n    \r\n        public B.BuilderB asBuilderB(){\r\n            return new B.BuilderB(common);\r\n        }\r\n    \r\n        public C.BuilderC asBuilderC(){\r\n            return new C.BuilderC(common);\r\n        }\r\n    }\r\n    abstract class Root{\r\n        private final String common;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Root{&quot; +\r\n                    &quot;common=&#39;&quot; + common + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        Root(String common) {\r\n            this.common = common;\r\n        }\r\n    }\r\n    class A extends Root {\r\n        private final String a;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;A{&quot; +\r\n                    &quot;a=&#39;&quot; + a + &#39;\\&#39;&#39; +\r\n                    &quot;} &quot; + super.toString();\r\n        }\r\n    \r\n        public A(String common, String a) {\r\n            super(common);\r\n            this.a = a;\r\n        }\r\n        public static class BuilderA extends AbstractBuilder {\r\n            protected String a;\r\n    \r\n            public BuilderA(String common) {\r\n                super();\r\n                withCommon(common);\r\n            }\r\n    \r\n            public BuilderA withA(String a){\r\n                this.a = a;\r\n                return this;\r\n            }\r\n    \r\n            public A build(){\r\n                return new A(common, a);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class B  extends Root {\r\n        private final String b;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;B{&quot; +\r\n                    &quot;b=&#39;&quot; + b + &#39;\\&#39;&#39; +\r\n                    &quot;} &quot; + super.toString();\r\n        }\r\n    \r\n        public B(String common, String b) {\r\n            super(common);\r\n            this.b = b;\r\n        }\r\n        public static class BuilderB extends AbstractBuilder {\r\n            protected String b;\r\n            \r\n            public BuilderB(String common) {\r\n                super();\r\n                withCommon(common);\r\n            }\r\n            public BuilderB withB(String b){\r\n                this.b = b;\r\n                return this;\r\n            }\r\n    \r\n            public B build(){\r\n                return new B(common, b);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class C extends Root {\r\n        private final String c;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;C{&quot; +\r\n                    &quot;c=&#39;&quot; + c + &#39;\\&#39;&#39; +\r\n                    &quot;} &quot; + super.toString();\r\n        }\r\n    \r\n        public C(String common, String c) {\r\n            super(common);\r\n            this.c = c;\r\n        }\r\n        public static class BuilderC extends AbstractBuilder {\r\n            protected String c;\r\n    \r\n            public BuilderC(String common) {\r\n                super();\r\n                withCommon(common);\r\n            }\r\n            public BuilderC withC(String c){\r\n                this.c = c;\r\n                return this;\r\n            }\r\n    \r\n            public C build(){\r\n                return new C(common, c);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class BuilderExample {\r\n    \r\n        public static void main(String[] args) {\r\n            A.BuilderA builderA = new A.BuilderA(&quot;common&quot;).withA(&quot;a&quot;)\r\n                    .asBuilderB().withB(&quot;b&quot;)\r\n                    .asBuilderC().withC(&quot;c&quot;)\r\n                    .asBuilderA();\r\n            System.out.println(builderA.build()); //A{a=&#39;null&#39;} Root{common=&#39;common&#39;}\r\n            System.out.println(builderA.withA(&quot;aa&quot;).build()); //A{a=&#39;aa&#39;} Root{common=&#39;common&#39;}\r\n            System.out.println(builderA.asBuilderB().withB(&quot;bb&quot;).build()); //B{b=&#39;bb&#39;} Root{common=&#39;common&#39;}\r\n        }\r\n    }","title":"Builder Design Pattern - How to make field only accessible to one of its subtype","body":"<p>Another example that I like. The idea here is, there are several kind of &quot;Root&quot; [A,B,C], each with their own attributes.  At any point you can switch to a different Builder which gives you a different kind of &quot;Root&quot; with common behaviours stored in AbstractBuilder.</p>\n<p>It is also possible that they inherit each other and similarly their builders can also inherit each other.</p>\n<pre><code>abstract class AbstractBuilder {\n    protected String common;\n    \n    public AbstractBuilder withCommon(String common){\n        this.common = common;\n        return this;\n    }\n\n    public abstract Root build();\n    public A.BuilderA asBuilderA(){\n        return new A.BuilderA(common);\n    }\n\n    public B.BuilderB asBuilderB(){\n        return new B.BuilderB(common);\n    }\n\n    public C.BuilderC asBuilderC(){\n        return new C.BuilderC(common);\n    }\n}\nabstract class Root{\n    private final String common;\n\n    @Override\n    public String toString() {\n        return &quot;Root{&quot; +\n                &quot;common='&quot; + common + '\\'' +\n                '}';\n    }\n\n    Root(String common) {\n        this.common = common;\n    }\n}\nclass A extends Root {\n    private final String a;\n\n    @Override\n    public String toString() {\n        return &quot;A{&quot; +\n                &quot;a='&quot; + a + '\\'' +\n                &quot;} &quot; + super.toString();\n    }\n\n    public A(String common, String a) {\n        super(common);\n        this.a = a;\n    }\n    public static class BuilderA extends AbstractBuilder {\n        protected String a;\n\n        public BuilderA(String common) {\n            super();\n            withCommon(common);\n        }\n\n        public BuilderA withA(String a){\n            this.a = a;\n            return this;\n        }\n\n        public A build(){\n            return new A(common, a);\n        }\n    }\n}\n\nclass B  extends Root {\n    private final String b;\n\n    @Override\n    public String toString() {\n        return &quot;B{&quot; +\n                &quot;b='&quot; + b + '\\'' +\n                &quot;} &quot; + super.toString();\n    }\n\n    public B(String common, String b) {\n        super(common);\n        this.b = b;\n    }\n    public static class BuilderB extends AbstractBuilder {\n        protected String b;\n        \n        public BuilderB(String common) {\n            super();\n            withCommon(common);\n        }\n        public BuilderB withB(String b){\n            this.b = b;\n            return this;\n        }\n\n        public B build(){\n            return new B(common, b);\n        }\n    }\n}\n\nclass C extends Root {\n    private final String c;\n\n    @Override\n    public String toString() {\n        return &quot;C{&quot; +\n                &quot;c='&quot; + c + '\\'' +\n                &quot;} &quot; + super.toString();\n    }\n\n    public C(String common, String c) {\n        super(common);\n        this.c = c;\n    }\n    public static class BuilderC extends AbstractBuilder {\n        protected String c;\n\n        public BuilderC(String common) {\n            super();\n            withCommon(common);\n        }\n        public BuilderC withC(String c){\n            this.c = c;\n            return this;\n        }\n\n        public C build(){\n            return new C(common, c);\n        }\n    }\n}\n\npublic class BuilderExample {\n\n    public static void main(String[] args) {\n        A.BuilderA builderA = new A.BuilderA(&quot;common&quot;).withA(&quot;a&quot;)\n                .asBuilderB().withB(&quot;b&quot;)\n                .asBuilderC().withC(&quot;c&quot;)\n                .asBuilderA();\n        System.out.println(builderA.build()); //A{a='null'} Root{common='common'}\n        System.out.println(builderA.withA(&quot;aa&quot;).build()); //A{a='aa'} Root{common='common'}\n        System.out.println(builderA.asBuilderB().withB(&quot;bb&quot;).build()); //B{b='bb'} Root{common='common'}\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15114022,"reputation":1,"user_id":16990872,"display_name":"Jackson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666982205,"creation_date":1666808061,"question_id":74212433,"body_markdown":"I have created a builder for client types `A` and `B`.\r\n\r\nClient TypeA has two fields `fieldA` and `fieldB` (*see below*), while client TypeB has two additional fields. How can I make sure field `C` and `D` are only accessible to client TypeB, i.e. client TypeA should **not** take field `fieldC` and `fieldD` when creating it. \r\n\r\nConstruction client `A`:\r\n\r\n```\r\nclient.builder()\r\n    .withClientType(ClientType.TypeA)\r\n    .withFieldA(fieldA)   \r\n    .withFieldB(fieldB)\r\n    .build();\r\n```\r\n\r\nConstruction client `B`:\r\n\r\n```\r\nclient.builder()\r\n    .withClientType(ClientType.TypeB)\r\n    .withFieldA(fieldA)   \r\n    .withFieldB(fieldB)\r\n    .withFieldC(fieldC)\r\n    .withFieldD(fieldD)\r\n    .build();\r\n```\r\n\r\nWhat&#39;s the correct usage builder pattern in this case?","title":"Builder Design Pattern - How to make field only accessible to one of its subtype","body":"<p>I have created a builder for client types <code>A</code> and <code>B</code>.</p>\n<p>Client TypeA has two fields <code>fieldA</code> and <code>fieldB</code> (<em>see below</em>), while client TypeB has two additional fields. How can I make sure field <code>C</code> and <code>D</code> are only accessible to client TypeB, i.e. client TypeA should <strong>not</strong> take field <code>fieldC</code> and <code>fieldD</code> when creating it.</p>\n<p>Construction client <code>A</code>:</p>\n<pre><code>client.builder()\n    .withClientType(ClientType.TypeA)\n    .withFieldA(fieldA)   \n    .withFieldB(fieldB)\n    .build();\n</code></pre>\n<p>Construction client <code>B</code>:</p>\n<pre><code>client.builder()\n    .withClientType(ClientType.TypeB)\n    .withFieldA(fieldA)   \n    .withFieldB(fieldB)\n    .withFieldC(fieldC)\n    .withFieldD(fieldD)\n    .build();\n</code></pre>\n<p>What's the correct usage builder pattern in this case?</p>\n"},{"tags":["java","selenium","testing","automation","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666981765,"creation_date":1666973792,"answer_id":74238157,"question_id":74237983,"body_markdown":"After researching and experimenting I got this solution -\r\n\r\nI have added this code to set &quot;Insecure origins treated as secure&quot; while initializing chromedriver and its options.\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--unsafely-treat-insecure-origin-as-secure=http://myurl.com/&quot;);\r\n\r\nI may have deleted this question but thought its better to answer so that others can use it. Hope it helped.","title":"Chromedriver not detecting GPS location as &quot;Insecure origins treated as secure&quot; not set","body":"<p>After researching and experimenting I got this solution -</p>\n<p>I have added this code to set &quot;Insecure origins treated as secure&quot; while initializing chromedriver and its options.</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--unsafely-treat-insecure-origin-as-secure=http://myurl.com/&quot;);\n</code></pre>\n<p>I may have deleted this question but thought its better to answer so that others can use it. Hope it helped.</p>\n"}],"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666981765,"creation_date":1666972958,"question_id":74237983,"body_markdown":"I am using chromedriver with chrome version - &quot;**Version 107.0.5304.88 (Official Build) (64-bit) with Windows 10**&quot; and I am using website where it will automatically detect GPS location. This is not happening as we have to set &quot;Insecure origins treated as secure&quot; flag. When i pause execution and set the &quot;Insecure origins treated as secure&quot; it worked fine.\r\n\r\nFor Automation testing I am using **Java** with **TestNG** and need to know how can i enable/Set &quot;Insecure origins treated as secure&quot; using java code. Something like chrome.option(--Insecure origins treated as secure, &#39;myurl&#39;).\r\n\r\nNote- I have tried giving command line argument in the IntelliJ IDEA but it didn&#39;t work.","title":"Chromedriver not detecting GPS location as &quot;Insecure origins treated as secure&quot; not set","body":"<p>I am using chromedriver with chrome version - &quot;<strong>Version 107.0.5304.88 (Official Build) (64-bit) with Windows 10</strong>&quot; and I am using website where it will automatically detect GPS location. This is not happening as we have to set &quot;Insecure origins treated as secure&quot; flag. When i pause execution and set the &quot;Insecure origins treated as secure&quot; it worked fine.</p>\n<p>For Automation testing I am using <strong>Java</strong> with <strong>TestNG</strong> and need to know how can i enable/Set &quot;Insecure origins treated as secure&quot; using java code. Something like chrome.option(--Insecure origins treated as secure, 'myurl').</p>\n<p>Note- I have tried giving command line argument in the IntelliJ IDEA but it didn't work.</p>\n"},{"tags":["java","unit-testing","junit4"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1627643874,"post_id":68589847,"comment_id":121217198,"body_markdown":"Is it that you cant test `categorizeQuery()` because you cant mock `System.in`?","body":"Is it that you cant test <code>categorizeQuery()</code> because you cant mock <code>System.in</code>?"},{"owner":{"account_id":19242178,"reputation":35,"user_id":14061959,"display_name":"N Th"},"score":0,"creation_date":1627644623,"post_id":68589847,"comment_id":121217458,"body_markdown":"Actually, I have problem with writing test for my functions... and i wrote this line   ```System.setIn(new ByteArrayInputStream(query.getBytes())); ```   for mock ```System.in```","body":"Actually, I have problem with writing test for my functions... and i wrote this line   <code>System.setIn(new ByteArrayInputStream(query.getBytes())); </code>   for mock <code>System.in</code>"}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7031,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627647176,"creation_date":1627647176,"answer_id":68590769,"question_id":68589847,"body_markdown":"Your problem is the result of a design flaw in your code structure.\r\n\r\n`categorizeQuery()` mixes multiple different tasks:\r\n\r\n - getting raw input from the user (`scanner.nextLine()`),\r\n - parsing input into program-usable form (split into array),\r\n - processing the search words (by calling `separateBySign()`).\r\n\r\n(The same applies to `separateBySign()` as well.)\r\n\r\nSuch a method is not only hard to unit-test, but also hard to maintain in the long run.\r\n\r\nChange your program structure so that all your steps return a result, and have a top-level method call all the steps one-by-one, passing the results from the previous step as parameter into the next one. Then it&#39;s easy to unit-test the individual steps. You know what the method is to return if you pass it some given parameters. And if one test fails, you know exactly what processing step is responsible.\r\n\r\nThen, the fact fades away that mocking `System.in` isn&#39;t easy. The only step left using `System.in` is the method to read a raw line of text from, and if this one-liner doesn&#39;t get tested by your unit test, it&#39;s okay - it&#39;s well tested in the JRE release process.","title":"write test for scanning input in function","body":"<p>Your problem is the result of a design flaw in your code structure.</p>\n<p><code>categorizeQuery()</code> mixes multiple different tasks:</p>\n<ul>\n<li>getting raw input from the user (<code>scanner.nextLine()</code>),</li>\n<li>parsing input into program-usable form (split into array),</li>\n<li>processing the search words (by calling <code>separateBySign()</code>).</li>\n</ul>\n<p>(The same applies to <code>separateBySign()</code> as well.)</p>\n<p>Such a method is not only hard to unit-test, but also hard to maintain in the long run.</p>\n<p>Change your program structure so that all your steps return a result, and have a top-level method call all the steps one-by-one, passing the results from the previous step as parameter into the next one. Then it's easy to unit-test the individual steps. You know what the method is to return if you pass it some given parameters. And if one test fails, you know exactly what processing step is responsible.</p>\n<p>Then, the fact fades away that mocking <code>System.in</code> isn't easy. The only step left using <code>System.in</code> is the method to read a raw line of text from, and if this one-liner doesn't get tested by your unit test, it's okay - it's well tested in the JRE release process.</p>\n"}],"owner":{"account_id":19242178,"reputation":35,"user_id":14061959,"display_name":"N Th"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1628017719,"accepted_answer_id":68590769,"answer_count":1,"score":-2,"last_activity_date":1666981684,"creation_date":1627642845,"question_id":68589847,"body_markdown":"This is my code, and I can&#39;t write a test for scanning input in the second function. The first function is for separate words that they contain + or - or &quot; &quot;. The second function is for categorizing query, for example you give &quot;mom dad +sister +sisi -brother -bro&quot;  and then split the word by &quot; &quot; and then calling the first function.\r\n   \r\n\r\n```\r\npackage Phase2;\r\nimport Phase2.QueryKeeper;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Scanner;\r\nimport java.util.Set;\r\n\r\npublic class QueryCategorizer {\r\n\r\n    private final QueryKeeper queryKeeper = new QueryKeeper();\r\n\r\n    private void separateBySign(String[] query) {\r\n        Set&lt;String&gt; plusContain = new HashSet&lt;&gt;();\r\n        Set&lt;String&gt; minusContain = new HashSet&lt;&gt;();\r\n        Set&lt;String&gt; withoutContain = new HashSet&lt;&gt;();\r\n\r\n        for (String queryIterator : query) {\r\n            if (queryIterator.contains(&quot;+&quot;)) {\r\n                plusContain.add(queryIterator.substring(1));\r\n            } else if (queryIterator.contains(&quot;-&quot;)) {\r\n                minusContain.add(queryIterator.substring(1));\r\n            } else {\r\n                withoutContain.add(queryIterator);\r\n            }\r\n        }\r\n        queryKeeper.addAllSets(plusContain,minusContain,withoutContain);\r\n\r\n    }\r\n\r\n    public void categorizeQuery() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter a query&quot;);\r\n        String query = scanner.nextLine();\r\n        separateBySign(query.split(&quot; &quot;));\r\n    }\r\n\r\n    public QueryKeeper getQueryKeeper() {\r\n        return queryKeeper;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n ","title":"write test for scanning input in function","body":"<p>This is my code, and I can't write a test for scanning input in the second function. The first function is for separate words that they contain + or - or &quot; &quot;. The second function is for categorizing query, for example you give &quot;mom dad +sister +sisi -brother -bro&quot;  and then split the word by &quot; &quot; and then calling the first function.</p>\n<pre><code>package Phase2;\nimport Phase2.QueryKeeper;\n\nimport java.util.HashSet;\nimport java.util.Scanner;\nimport java.util.Set;\n\npublic class QueryCategorizer {\n\n    private final QueryKeeper queryKeeper = new QueryKeeper();\n\n    private void separateBySign(String[] query) {\n        Set&lt;String&gt; plusContain = new HashSet&lt;&gt;();\n        Set&lt;String&gt; minusContain = new HashSet&lt;&gt;();\n        Set&lt;String&gt; withoutContain = new HashSet&lt;&gt;();\n\n        for (String queryIterator : query) {\n            if (queryIterator.contains(&quot;+&quot;)) {\n                plusContain.add(queryIterator.substring(1));\n            } else if (queryIterator.contains(&quot;-&quot;)) {\n                minusContain.add(queryIterator.substring(1));\n            } else {\n                withoutContain.add(queryIterator);\n            }\n        }\n        queryKeeper.addAllSets(plusContain,minusContain,withoutContain);\n\n    }\n\n    public void categorizeQuery() {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Please enter a query&quot;);\n        String query = scanner.nextLine();\n        separateBySign(query.split(&quot; &quot;));\n    }\n\n    public QueryKeeper getQueryKeeper() {\n        return queryKeeper;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667034229,"post_id":74237567,"comment_id":131078640,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"answers":[{"comments":[{"owner":{"account_id":26679318,"reputation":11,"user_id":20289498,"display_name":"The Ach"},"score":0,"creation_date":1666997329,"post_id":74239480,"comment_id":131074700,"body_markdown":"The User needs to upload the image inside the App. I mean each user uploads images with their other credentials. Not manually ONE image to be uploaded into Firebase Storage","body":"The User needs to upload the image inside the App. I mean each user uploads images with their other credentials. Not manually ONE image to be uploaded into Firebase Storage"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1667021732,"post_id":74239480,"comment_id":131077023,"body_markdown":"@TheAch create an intent (StartActivityforResult) to upload images so users can first upload their images on firebase Storage. After uploading, generate the image path with user Auth then pass it to the Realtime database. Only each user can see only their images.","body":"@TheAch create an intent (StartActivityforResult) to upload images so users can first upload their images on firebase Storage. After uploading, generate the image path with user Auth then pass it to the Realtime database. Only each user can see only their images."}],"tags":[],"owner":{"account_id":14366458,"reputation":89,"user_id":12750908,"display_name":"Samer Kasseb"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666981348,"creation_date":1666981348,"answer_id":74239480,"question_id":74237567,"body_markdown":"Just upload the image to a firebase Storage and save its url in realtime database \r\n \r\n","title":"Uploading Image into Realtime Database Android Studio","body":"<p>Just upload the image to a firebase Storage and save its url in realtime database</p>\n"}],"owner":{"account_id":26679318,"reputation":11,"user_id":20289498,"display_name":"The Ach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666981348,"creation_date":1666970816,"question_id":74237567,"body_markdown":"I am building app that asks User(Visitor) to: upload image, name, ic, phone number, visit reason, date, time and ticket generated.\r\n\r\nFor now all data inserting into Realtime database successfully except image. User can choose the image and upload it into Firebase Storage successfully but I cant pass that image among the User data which is in Realtime Database.\r\n\r\nWhen user clicks &quot;send request&quot; button, all other data (name, ic, phone number...) uploading into realtime db and image uploads into storage. But I couldnt implement it to pass the image into Realtime Database.\r\n\r\nAnd I couldnt use StartActivityForResult method thats why didnt use\r\n\r\nThe uploaded image should be among those data as visitor Image, which under visitor, ticket\r\n[![The uploaded image should be among those data, which under visitor, ticket](https://i.stack.imgur.com/tMFKz.png)](https://i.stack.imgur.com/tMFKz.png)\r\n\r\n```\r\npublic class ActivityRequestVisit extends AppCompatActivity {\r\n\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://mydblinksampleforstackoverflowpostq.com&quot;);\r\n\r\n    ImageView imageView;\r\n\r\n    FirebaseStorage storage;\r\n\r\n    Uri imageUri;\r\n\r\n    Button SubmitRequestBtn;\r\n\r\n    DatePickerDialog pickerDate;\r\n\r\n    TextView ticketGenerated;\r\n    Button btnGenerateTicket;\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_request_visit);\r\n\r\n        SubmitRequestBtn = findViewById(R.id.SubmitRequestBtnId);\r\n        imageView = findViewById(R.id.VisitorImageId);\r\n\r\n        storage = FirebaseStorage.getInstance();\r\n\r\n        imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mGetContent.launch(&quot;image/*&quot;);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        //ticket generator starts here\r\n        ticketGenerated = findViewById(R.id.GeneratedVisitorTicketId);\r\n        btnGenerateTicket = findViewById(R.id.GenerateTicketBtnId);\r\n\r\n\r\n        btnGenerateTicket.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Random random = new Random();\r\n                int generatedTicket = random.nextInt(9999999);\r\n                ticketGenerated.setText(Integer.toString(generatedTicket));\r\n            }\r\n        });\r\n        //ticket generator ends here\r\n\r\n        Toast.makeText(ActivityRequestVisit.this,&quot;Send your Request Visit&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        final EditText VisitorName = findViewById(R.id.VisitorNameId);\r\n        final EditText VisitorIC = findViewById(R.id.VisitorICId);\r\n        final EditText VisitorPhone = findViewById(R.id.VisitorPhoneId);\r\n        final EditText VisitReason = findViewById(R.id.VisitReasonId);\r\n        final EditText VisitDate = findViewById(R.id.VisitDateId);\r\n        final EditText VisitTime = findViewById(R.id.VisitTimeId);\r\n        final EditText VisitorTicket = findViewById(R.id.VisitorTicketId);\r\n\r\n        //date n time picker starts here\r\n\r\n        //date picker\r\n        VisitDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                final Calendar calendar = Calendar.getInstance();\r\n                calendar.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Kuala_Lumpur&quot;));\r\n                int chosenDay = calendar.get(Calendar.DAY_OF_MONTH);\r\n                int chosenMonth = calendar.get(Calendar.MONTH);\r\n                int chosenYear = calendar.get(Calendar.YEAR);\r\n\r\n                //DatePicker dialog\r\n                pickerDate = new DatePickerDialog(ActivityRequestVisit.this, new DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePicker datePicker, int year, int month, int dayOfMonth) {\r\n                        VisitDate.setText(dayOfMonth + &quot;/&quot; + (month + 1) + &quot;/&quot; + year);\r\n                    }\r\n                }, chosenYear, chosenMonth, chosenDay);\r\n\r\n                pickerDate.getDatePicker().setMinDate(System.currentTimeMillis() - 1000);\r\n                pickerDate.show();\r\n            }\r\n        });\r\n\r\n\r\n        //time picker\r\n        VisitTime.setOnClickListener(new View.OnClickListener() {\r\n            int chosenHour;\r\n            int chosenMinute;\r\n            @Override\r\n            public void onClick(View view) {\r\n                TimePickerDialog timePickerDialog = new TimePickerDialog(\r\n                        ActivityRequestVisit.this,\r\n                        android.R.style.Theme_Holo_Light_Dialog_MinWidth,\r\n                        new TimePickerDialog.OnTimeSetListener() {\r\n                            @Override\r\n                            public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) {\r\n                                chosenHour = hourOfDay;\r\n                                chosenMinute = minute;\r\n                                //store time into string\r\n                                String time = chosenHour + &quot;:&quot; + chosenMinute;\r\n\r\n                                //Initialize 24 h time format\r\n                                SimpleDateFormat f24Hours = new SimpleDateFormat(\r\n                                        &quot;HH:mm&quot;\r\n                                );\r\n                                try {\r\n                                    Date date = f24Hours.parse(time);\r\n                                    //Initialize 12 h time format\r\n                                    SimpleDateFormat f12Hours = new SimpleDateFormat(\r\n                                            &quot;hh:mm aa&quot;\r\n                                    );\r\n                                    //Set selected time on text view\r\n                                    VisitTime.setText(f12Hours.format(date));\r\n                                } catch (ParseException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        },12,0, false\r\n                );\r\n                timePickerDialog.updateTime(chosenHour,chosenMinute);\r\n                timePickerDialog.show();\r\n            }\r\n        });\r\n\r\n\r\n//date n time picker ends here\r\n\r\n        final Button SubmitRequestBtn = findViewById(R.id.SubmitRequestBtnId);\r\n        SubmitRequestBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                uploadImage();\r\n\r\n//Obtain entered data\r\n                final String name = VisitorName.getText().toString();\r\n                final String ic = VisitorIC.getText().toString();\r\n                final String phone = VisitorPhone.getText().toString();\r\n                final String reason = VisitReason.getText().toString();\r\n                final String dateV = VisitDate.getText().toString();\r\n                final String timeV = VisitTime.getText().toString();\r\n                final String ticket = VisitorTicket.getText().toString();\r\n\r\n                if (TextUtils.isEmpty(name)) {\r\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your name&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorName.setError(&quot;Name is required!&quot;);\r\n                    VisitorName.requestFocus();\r\n                } else if (TextUtils.isEmpty(ic)) {\r\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your IC&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorIC.setError(&quot;IC is required!&quot;);\r\n                    VisitorIC.requestFocus();\r\n                } else if (TextUtils.isEmpty(phone)) {\r\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your phone number&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorPhone.setError(&quot;Phone number is required!&quot;);\r\n                    VisitorPhone.requestFocus();\r\n                } else if (phone.length() != 10) {\r\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please re-enter your phone number&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorPhone.setError(&quot;Please enter valid phone number!&quot;);\r\n                    VisitorPhone.requestFocus();\r\n                } else if (TextUtils.isEmpty(reason)) {\r\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter your visit reason&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitReason.setError(&quot;Visit reason is required!&quot;);\r\n                    VisitReason.requestFocus();\r\n                } else if (TextUtils.isEmpty(dateV)) {\r\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter date&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitDate.setError(&quot;Date is required!&quot;);\r\n                    VisitDate.requestFocus();\r\n                } else if (TextUtils.isEmpty(timeV)) {\r\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter time&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitTime.setError(&quot;Time is required!&quot;);\r\n                    VisitTime.requestFocus();\r\n                }else if (TextUtils.isEmpty(ticket)) {\r\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter ticket number&quot;, Toast.LENGTH_LONG).show();\r\n                    VisitorTicket.setError(&quot;Time is required!&quot;);\r\n                    VisitorTicket.requestFocus();\r\n                } else {\r\n\r\n                    databaseReference.child(&quot;visitors&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                            if(snapshot.hasChild(ticket)){\r\n                                //check for unique ticket number\r\n                                Toast.makeText(ActivityRequestVisit.this,&quot;Please Generate Other Ticket Number Cuz this one is exist&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            else {\r\n                                //sending data to firebase realtime db\r\n                                //used ticket number as unique identity and other data comes under it\r\n\r\n\r\n\r\n\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor name&quot;).setValue(name);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor ic&quot;).setValue(ic);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor phone&quot;).setValue(phone);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit reason&quot;).setValue(reason);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit date&quot;).setValue(dateV);\r\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit time&quot;).setValue(timeV);\r\n\r\n                                Toast.makeText(ActivityRequestVisit.this,&quot;Request Sent Successfully&quot;, Toast.LENGTH_LONG).show();\r\n                                finish();\r\n                            }\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n    //upload image into storage functions starts here\r\n    private void uploadImage() {\r\n\r\n        if (imageUri != null) {\r\n            StorageReference reference = storage.getReference().child(&quot;images/&quot; + UUID.randomUUID().toString());\r\n\r\n\r\n            reference.putFile(imageUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Toast.makeText(ActivityRequestVisit.this,&quot;Image Uploaded&quot;, Toast.LENGTH_LONG).show();\r\n                    } else {\r\n                        Toast.makeText(ActivityRequestVisit.this,task.getException().getMessage(), Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n    ActivityResultLauncher&lt;String&gt; mGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\r\n            new ActivityResultCallback&lt;Uri&gt;() {\r\n                @Override\r\n                public void onActivityResult(Uri result) {\r\n                    if (result != null) {\r\n                        imageView.setImageURI(result);\r\n                        imageUri = result;\r\n                    }\r\n                }\r\n            });\r\n\r\n    //upload image into storage functions ends here\r\n\r\n}\r\n```\r\n","title":"Uploading Image into Realtime Database Android Studio","body":"<p>I am building app that asks User(Visitor) to: upload image, name, ic, phone number, visit reason, date, time and ticket generated.</p>\n<p>For now all data inserting into Realtime database successfully except image. User can choose the image and upload it into Firebase Storage successfully but I cant pass that image among the User data which is in Realtime Database.</p>\n<p>When user clicks &quot;send request&quot; button, all other data (name, ic, phone number...) uploading into realtime db and image uploads into storage. But I couldnt implement it to pass the image into Realtime Database.</p>\n<p>And I couldnt use StartActivityForResult method thats why didnt use</p>\n<p>The uploaded image should be among those data as visitor Image, which under visitor, ticket\n<a href=\"https://i.stack.imgur.com/tMFKz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tMFKz.png\" alt=\"The uploaded image should be among those data, which under visitor, ticket\" /></a></p>\n<pre><code>public class ActivityRequestVisit extends AppCompatActivity {\n\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://mydblinksampleforstackoverflowpostq.com&quot;);\n\n    ImageView imageView;\n\n    FirebaseStorage storage;\n\n    Uri imageUri;\n\n    Button SubmitRequestBtn;\n\n    DatePickerDialog pickerDate;\n\n    TextView ticketGenerated;\n    Button btnGenerateTicket;\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_request_visit);\n\n        SubmitRequestBtn = findViewById(R.id.SubmitRequestBtnId);\n        imageView = findViewById(R.id.VisitorImageId);\n\n        storage = FirebaseStorage.getInstance();\n\n        imageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mGetContent.launch(&quot;image/*&quot;);\n\n            }\n        });\n\n\n        //ticket generator starts here\n        ticketGenerated = findViewById(R.id.GeneratedVisitorTicketId);\n        btnGenerateTicket = findViewById(R.id.GenerateTicketBtnId);\n\n\n        btnGenerateTicket.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Random random = new Random();\n                int generatedTicket = random.nextInt(9999999);\n                ticketGenerated.setText(Integer.toString(generatedTicket));\n            }\n        });\n        //ticket generator ends here\n\n        Toast.makeText(ActivityRequestVisit.this,&quot;Send your Request Visit&quot;, Toast.LENGTH_LONG).show();\n\n        final EditText VisitorName = findViewById(R.id.VisitorNameId);\n        final EditText VisitorIC = findViewById(R.id.VisitorICId);\n        final EditText VisitorPhone = findViewById(R.id.VisitorPhoneId);\n        final EditText VisitReason = findViewById(R.id.VisitReasonId);\n        final EditText VisitDate = findViewById(R.id.VisitDateId);\n        final EditText VisitTime = findViewById(R.id.VisitTimeId);\n        final EditText VisitorTicket = findViewById(R.id.VisitorTicketId);\n\n        //date n time picker starts here\n\n        //date picker\n        VisitDate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                final Calendar calendar = Calendar.getInstance();\n                calendar.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Kuala_Lumpur&quot;));\n                int chosenDay = calendar.get(Calendar.DAY_OF_MONTH);\n                int chosenMonth = calendar.get(Calendar.MONTH);\n                int chosenYear = calendar.get(Calendar.YEAR);\n\n                //DatePicker dialog\n                pickerDate = new DatePickerDialog(ActivityRequestVisit.this, new DatePickerDialog.OnDateSetListener() {\n                    @Override\n                    public void onDateSet(DatePicker datePicker, int year, int month, int dayOfMonth) {\n                        VisitDate.setText(dayOfMonth + &quot;/&quot; + (month + 1) + &quot;/&quot; + year);\n                    }\n                }, chosenYear, chosenMonth, chosenDay);\n\n                pickerDate.getDatePicker().setMinDate(System.currentTimeMillis() - 1000);\n                pickerDate.show();\n            }\n        });\n\n\n        //time picker\n        VisitTime.setOnClickListener(new View.OnClickListener() {\n            int chosenHour;\n            int chosenMinute;\n            @Override\n            public void onClick(View view) {\n                TimePickerDialog timePickerDialog = new TimePickerDialog(\n                        ActivityRequestVisit.this,\n                        android.R.style.Theme_Holo_Light_Dialog_MinWidth,\n                        new TimePickerDialog.OnTimeSetListener() {\n                            @Override\n                            public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) {\n                                chosenHour = hourOfDay;\n                                chosenMinute = minute;\n                                //store time into string\n                                String time = chosenHour + &quot;:&quot; + chosenMinute;\n\n                                //Initialize 24 h time format\n                                SimpleDateFormat f24Hours = new SimpleDateFormat(\n                                        &quot;HH:mm&quot;\n                                );\n                                try {\n                                    Date date = f24Hours.parse(time);\n                                    //Initialize 12 h time format\n                                    SimpleDateFormat f12Hours = new SimpleDateFormat(\n                                            &quot;hh:mm aa&quot;\n                                    );\n                                    //Set selected time on text view\n                                    VisitTime.setText(f12Hours.format(date));\n                                } catch (ParseException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        },12,0, false\n                );\n                timePickerDialog.updateTime(chosenHour,chosenMinute);\n                timePickerDialog.show();\n            }\n        });\n\n\n//date n time picker ends here\n\n        final Button SubmitRequestBtn = findViewById(R.id.SubmitRequestBtnId);\n        SubmitRequestBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                uploadImage();\n\n//Obtain entered data\n                final String name = VisitorName.getText().toString();\n                final String ic = VisitorIC.getText().toString();\n                final String phone = VisitorPhone.getText().toString();\n                final String reason = VisitReason.getText().toString();\n                final String dateV = VisitDate.getText().toString();\n                final String timeV = VisitTime.getText().toString();\n                final String ticket = VisitorTicket.getText().toString();\n\n                if (TextUtils.isEmpty(name)) {\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your name&quot;, Toast.LENGTH_LONG).show();\n                    VisitorName.setError(&quot;Name is required!&quot;);\n                    VisitorName.requestFocus();\n                } else if (TextUtils.isEmpty(ic)) {\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your IC&quot;, Toast.LENGTH_LONG).show();\n                    VisitorIC.setError(&quot;IC is required!&quot;);\n                    VisitorIC.requestFocus();\n                } else if (TextUtils.isEmpty(phone)) {\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please enter your phone number&quot;, Toast.LENGTH_LONG).show();\n                    VisitorPhone.setError(&quot;Phone number is required!&quot;);\n                    VisitorPhone.requestFocus();\n                } else if (phone.length() != 10) {\n                    Toast.makeText(ActivityRequestVisit.this,&quot;Please re-enter your phone number&quot;, Toast.LENGTH_LONG).show();\n                    VisitorPhone.setError(&quot;Please enter valid phone number!&quot;);\n                    VisitorPhone.requestFocus();\n                } else if (TextUtils.isEmpty(reason)) {\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter your visit reason&quot;, Toast.LENGTH_LONG).show();\n                    VisitReason.setError(&quot;Visit reason is required!&quot;);\n                    VisitReason.requestFocus();\n                } else if (TextUtils.isEmpty(dateV)) {\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter date&quot;, Toast.LENGTH_LONG).show();\n                    VisitDate.setError(&quot;Date is required!&quot;);\n                    VisitDate.requestFocus();\n                } else if (TextUtils.isEmpty(timeV)) {\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter time&quot;, Toast.LENGTH_LONG).show();\n                    VisitTime.setError(&quot;Time is required!&quot;);\n                    VisitTime.requestFocus();\n                }else if (TextUtils.isEmpty(ticket)) {\n                    Toast.makeText(ActivityRequestVisit.this, &quot;Please enter ticket number&quot;, Toast.LENGTH_LONG).show();\n                    VisitorTicket.setError(&quot;Time is required!&quot;);\n                    VisitorTicket.requestFocus();\n                } else {\n\n                    databaseReference.child(&quot;visitors&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                            if(snapshot.hasChild(ticket)){\n                                //check for unique ticket number\n                                Toast.makeText(ActivityRequestVisit.this,&quot;Please Generate Other Ticket Number Cuz this one is exist&quot;, Toast.LENGTH_LONG).show();\n                            }\n                            else {\n                                //sending data to firebase realtime db\n                                //used ticket number as unique identity and other data comes under it\n\n\n\n\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor name&quot;).setValue(name);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor ic&quot;).setValue(ic);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visitor phone&quot;).setValue(phone);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit reason&quot;).setValue(reason);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit date&quot;).setValue(dateV);\n                                databaseReference.child(&quot;visitors&quot;).child(ticket).child(&quot;visit time&quot;).setValue(timeV);\n\n                                Toast.makeText(ActivityRequestVisit.this,&quot;Request Sent Successfully&quot;, Toast.LENGTH_LONG).show();\n                                finish();\n                            }\n\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                    });\n\n                }\n\n\n            }\n\n        });\n\n    }\n    //upload image into storage functions starts here\n    private void uploadImage() {\n\n        if (imageUri != null) {\n            StorageReference reference = storage.getReference().child(&quot;images/&quot; + UUID.randomUUID().toString());\n\n\n            reference.putFile(imageUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        Toast.makeText(ActivityRequestVisit.this,&quot;Image Uploaded&quot;, Toast.LENGTH_LONG).show();\n                    } else {\n                        Toast.makeText(ActivityRequestVisit.this,task.getException().getMessage(), Toast.LENGTH_LONG).show();\n\n                    }\n                }\n            });\n        }\n\n\n    }\n    ActivityResultLauncher&lt;String&gt; mGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\n            new ActivityResultCallback&lt;Uri&gt;() {\n                @Override\n                public void onActivityResult(Uri result) {\n                    if (result != null) {\n                        imageView.setImageURI(result);\n                        imageUri = result;\n                    }\n                }\n            });\n\n    //upload image into storage functions ends here\n\n}\n</code></pre>\n"},{"tags":["java","sql","xml","hibernate","exception"],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666980601,"creation_date":1666980601,"answer_id":74239370,"question_id":74239065,"body_markdown":"1. You need to specify [cascade type](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-cascade) in your entities mapping:\r\n\r\n``` java\r\n@Entity\r\n@Table(name=&quot;answer&quot;)\r\npublic class Answer {\r\n        \r\n    @Id\r\n    private int aId;\r\n    private String answer;\r\n        \r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn\r\n    private Question question;\r\n\r\n    // ...\r\n}\r\n\r\n\r\n@Entity\r\n@Table(name=&quot;question&quot;)\r\npublic class Question {\r\n   \r\n    @Id\r\n    private int questionId;\r\n    private String question;\r\n       \r\n    @OneToOne(mappedBy = &quot;question&quot;, cascade = CascadeType.ALL)\r\n    private Answer answer;\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n2. As you use [bidirectional @OneToOne](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional), you should make both sides in-sync:\r\n\r\n``` java \r\nAnswer a1 = new Answer();\r\na1.setaId(180);\r\na1.setAnswer(&quot;my name is hafida&quot;);\r\n        \r\nQuestion q1 = new Question();\r\nq1.setQuestionId(3);\r\nq1.setQuestion(&quot;wht is your name?&quot;);\r\n\r\n// make both sides in-sync\r\na1.setQuestion(q1);\r\nq1.setAnswer(a1);\r\n```\r\n\r\n3. Then you can save it in this way:\r\n\r\n``` java\r\ns.save(q1);\r\n\r\n// you need not use s.save(a1);\r\n// a1 will be saved due to propagation of the q1 entity&#39;s state \r\n```","title":"Foreign key is null while using Hibernate One to One mapping","body":"<ol>\n<li>You need to specify <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-cascade\" rel=\"nofollow noreferrer\">cascade type</a> in your entities mapping:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;answer&quot;)\npublic class Answer {\n        \n    @Id\n    private int aId;\n    private String answer;\n        \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn\n    private Question question;\n\n    // ...\n}\n\n\n@Entity\n@Table(name=&quot;question&quot;)\npublic class Question {\n   \n    @Id\n    private int questionId;\n    private String question;\n       \n    @OneToOne(mappedBy = &quot;question&quot;, cascade = CascadeType.ALL)\n    private Answer answer;\n\n    // ...\n}\n</code></pre>\n<ol start=\"2\">\n<li>As you use <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional\" rel=\"nofollow noreferrer\">bidirectional @OneToOne</a>, you should make both sides in-sync:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Answer a1 = new Answer();\na1.setaId(180);\na1.setAnswer(&quot;my name is hafida&quot;);\n        \nQuestion q1 = new Question();\nq1.setQuestionId(3);\nq1.setQuestion(&quot;wht is your name?&quot;);\n\n// make both sides in-sync\na1.setQuestion(q1);\nq1.setAnswer(a1);\n</code></pre>\n<ol start=\"3\">\n<li>Then you can save it in this way:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>s.save(q1);\n\n// you need not use s.save(a1);\n// a1 will be saved due to propagation of the q1 entity's state \n</code></pre>\n"}],"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666980943,"creation_date":1666978902,"question_id":74239065,"body_markdown":"I&#39;m trying to work with hibernate and I have a class question and a class answer, and there&#39;s One To One relation between them, the code is successfully running but the foreign key is null, I don&#39;t know why. Here&#39;s my code \r\n\r\n\r\n``` java\r\npackage io.com.learnHibernate;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;question&quot;)\r\npublic class Question {\r\n\r\n\t\r\n\t@Id\r\n\tprivate int questionId;\r\n\tprivate String question;\r\n\t\r\n\t\r\n\t@OneToOne(mappedBy = &quot;question&quot;)\r\n\tprivate Answer answer;\r\n\t\r\n\t\r\n\tpublic Question() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic Question(int questionId, String question, io.com.learnHibernate.Answer answer) {\r\n\t\tsuper();\r\n\t\tthis.questionId = questionId;\r\n\t\tthis.question = question;\r\n\t\tanswer = answer;\r\n\t}\r\n\tpublic Answer getAnswer() {\r\n\t\treturn answer;\r\n\t}\r\n\tpublic void setAnswer(Answer answer) {\r\n\t\tanswer = answer;\r\n\t}\r\n\tpublic int getQuestionId() {\r\n\t\treturn questionId;\r\n\t}\r\n\tpublic void setQuestionId(int questionId) {\r\n\t\tthis.questionId = questionId;\r\n\t}\r\n\tpublic String getQuestion() {\r\n\t\treturn question;\r\n\t}\r\n\tpublic void setQuestion(String question) {\r\n\t\tthis.question = question;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage io.com.learnHibernate;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;answer&quot;)\r\npublic class Answer {\r\n\t\r\n\t@Id\r\n\tprivate int aId;\r\n\tprivate String answer;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn\r\n\tprivate Question question ;\r\n\t\r\n\tpublic Answer() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic Answer(int aId, String answer) {\r\n\t\tsuper();\r\n\t\tthis.aId = aId;\r\n\t\tthis.answer = answer;\r\n\t}\r\n\tpublic int getaId() {\r\n\t\treturn aId;\r\n\t}\r\n\tpublic void setaId(int aId) {\r\n\t\tthis.aId = aId;\r\n\t}\r\n\tpublic String getAnswer() {\r\n\t\treturn answer;\r\n\t}\r\n\tpublic void setAnswer(String answer) {\r\n\t\tthis.answer = answer;\r\n\t}\r\n}\r\n```\r\n\r\nmy `hibernate.cfg.xml` file \r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE hibernate-configuration SYSTEM \r\n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n   &lt;session-factory&gt;\r\n   \r\n      &lt;property name = &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver &lt;/property&gt;\r\n      \r\n      &lt;!-- Assume test is the database name --&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/aliens &lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name = &quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n        &lt;property name = &quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n      &lt;!-- List of XML mapping files --&gt;\r\n                 &lt;mapping  class= &quot;io.com.learnHibernate.Question&quot;/&gt;\r\n      &lt;mapping  class= &quot;io.com.learnHibernate.Answer&quot;/&gt;\r\n\r\n     \r\n   &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nand my main function\r\n\r\n\r\n```java\r\npackage io.com.learnHibernate;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.*;\r\n\r\nimport com.mysql.cj.xdevapi.SessionFactory;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n       //configuration\r\n    \tConfiguration conf=new Configuration();\r\n    \tconf.configure(&quot;Hibernate.cfg.xml&quot;);\r\n    \torg.hibernate.SessionFactory factory=conf.buildSessionFactory();\r\n    \t\r\n    \t\r\n//creating answer \r\n    \t\r\n    \tAnswer a1=new Answer();\r\n    \ta1.setaId(180);\r\n    \ta1.setAnswer(&quot;my name is hafida&quot;);\r\n    \t//creating question\r\n    \t\r\n    \tQuestion q1=new Question();\r\n    \tq1.setQuestionId(3);\r\n    \tq1.setQuestion(&quot;wht is your name?&quot;);\r\n    \tq1.setAnswer(a1);\r\n    \t\r\n    \t//session \r\n    \tSession s=factory.openSession();\r\n    \tTransaction tx=s.beginTransaction();\r\n    \t\r\n    \t//save\r\n    \ts.save(q1);\r\n    \t  s.save(a1);\r\n\r\n    \ttx.commit();\r\n    //\ts.close();\r\n    //\tfactory.close();\r\n    \t\t\r\n    }\r\n}\r\n```\r\n\r\nI expected to have the value of the foreign key inserted, but it&#39;s null","title":"Foreign key is null while using Hibernate One to One mapping","body":"<p>I'm trying to work with hibernate and I have a class question and a class answer, and there's One To One relation between them, the code is successfully running but the foreign key is null, I don't know why. Here's my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.com.learnHibernate;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;question&quot;)\npublic class Question {\n\n    \n    @Id\n    private int questionId;\n    private String question;\n    \n    \n    @OneToOne(mappedBy = &quot;question&quot;)\n    private Answer answer;\n    \n    \n    public Question() {\n        super();\n    }\n    public Question(int questionId, String question, io.com.learnHibernate.Answer answer) {\n        super();\n        this.questionId = questionId;\n        this.question = question;\n        answer = answer;\n    }\n    public Answer getAnswer() {\n        return answer;\n    }\n    public void setAnswer(Answer answer) {\n        answer = answer;\n    }\n    public int getQuestionId() {\n        return questionId;\n    }\n    public void setQuestionId(int questionId) {\n        this.questionId = questionId;\n    }\n    public String getQuestion() {\n        return question;\n    }\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package io.com.learnHibernate;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;answer&quot;)\npublic class Answer {\n    \n    @Id\n    private int aId;\n    private String answer;\n    \n    @OneToOne\n    @JoinColumn\n    private Question question ;\n    \n    public Answer() {\n        super();\n    }\n    public Answer(int aId, String answer) {\n        super();\n        this.aId = aId;\n        this.answer = answer;\n    }\n    public int getaId() {\n        return aId;\n    }\n    public void setaId(int aId) {\n        this.aId = aId;\n    }\n    public String getAnswer() {\n        return answer;\n    }\n    public void setAnswer(String answer) {\n        this.answer = answer;\n    }\n}\n</code></pre>\n<p>my <code>hibernate.cfg.xml</code> file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE hibernate-configuration SYSTEM \n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n   &lt;session-factory&gt;\n   \n      &lt;property name = &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver &lt;/property&gt;\n      \n      &lt;!-- Assume test is the database name --&gt;\n      \n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/aliens &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\n            &lt;property name = &quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n        &lt;property name = &quot;show_sql&quot;&gt;true&lt;/property&gt;\n      &lt;!-- List of XML mapping files --&gt;\n                 &lt;mapping  class= &quot;io.com.learnHibernate.Question&quot;/&gt;\n      &lt;mapping  class= &quot;io.com.learnHibernate.Answer&quot;/&gt;\n\n     \n   &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>and my main function</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.com.learnHibernate;\n\nimport org.hibernate.Session;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.*;\n\nimport com.mysql.cj.xdevapi.SessionFactory;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n       //configuration\n        Configuration conf=new Configuration();\n        conf.configure(&quot;Hibernate.cfg.xml&quot;);\n        org.hibernate.SessionFactory factory=conf.buildSessionFactory();\n        \n        \n//creating answer \n        \n        Answer a1=new Answer();\n        a1.setaId(180);\n        a1.setAnswer(&quot;my name is hafida&quot;);\n        //creating question\n        \n        Question q1=new Question();\n        q1.setQuestionId(3);\n        q1.setQuestion(&quot;wht is your name?&quot;);\n        q1.setAnswer(a1);\n        \n        //session \n        Session s=factory.openSession();\n        Transaction tx=s.beginTransaction();\n        \n        //save\n        s.save(q1);\n          s.save(a1);\n\n        tx.commit();\n    //  s.close();\n    //  factory.close();\n            \n    }\n}\n</code></pre>\n<p>I expected to have the value of the foreign key inserted, but it's null</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666983683,"post_id":74239408,"comment_id":131071740,"body_markdown":"What scenario are you thinking of using your LinkedList in?","body":"What scenario are you thinking of using your LinkedList in?"},{"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"score":0,"creation_date":1666984571,"post_id":74239408,"comment_id":131071963,"body_markdown":"@mrkachariker To add an event listener. So that when subscribing to an event, I get the opportunity to unsubscribe from it","body":"@mrkachariker To add an event listener. So that when subscribing to an event, I get the opportunity to unsubscribe from it"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666987667,"post_id":74239408,"comment_id":131072746,"body_markdown":"Why not use an ArrayList for that?","body":"Why not use an ArrayList for that?"},{"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"score":0,"creation_date":1666991940,"post_id":74239408,"comment_id":131073744,"body_markdown":"I think LinkedList perfect for this usage. Because in array list you need iterate list to find and remove element, in node you can just remove node, with O(1)","body":"I think LinkedList perfect for this usage. Because in array list you need iterate list to find and remove element, in node you can just remove node, with O(1)"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666992180,"post_id":74239408,"comment_id":131073806,"body_markdown":"It&#39;s actually the other way around (as long as you have the index of the element you want to remove).","body":"It&#39;s actually the other way around (as long as you have the index of the element you want to remove)."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":1,"creation_date":1666992951,"post_id":74239408,"comment_id":131073978,"body_markdown":"Also, why would you not want to use HashSet for this?","body":"Also, why would you not want to use HashSet for this?"},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667022521,"post_id":74239408,"comment_id":131077104,"body_markdown":"Indeed. A Set (e.g. LinkedHashSet, which retains original insertion order) could solve this, even if your objects look identical (e.g. the number &quot;1&quot; multiple times), as long as you wrap them in respectively NEW instances of a custom wrapper class. ... The only problem is if you want to insert new entries instead of adding them to the end.","body":"Indeed. A Set (e.g. LinkedHashSet, which retains original insertion order) could solve this, even if your objects look identical (e.g. the number &quot;1&quot; multiple times), as long as you wrap them in respectively NEW instances of a custom wrapper class. ... The only problem is if you want to insert new entries instead of adding them to the end."},{"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"score":0,"creation_date":1667042449,"post_id":74239408,"comment_id":131079917,"body_markdown":"Just the index of the inserted element will not work, because if elements are deleted after them, then its index will also change accordingly","body":"Just the index of the inserted element will not work, because if elements are deleted after them, then its index will also change accordingly"},{"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"score":0,"creation_date":1667042519,"post_id":74239408,"comment_id":131079933,"body_markdown":"I just think it makes the most sense to use LinkedList in this situation since we are literally taking advantage of its data structure. I mean doubly linked list, like default java LinkedList","body":"I just think it makes the most sense to use LinkedList in this situation since we are literally taking advantage of its data structure. I mean doubly linked list, like default java LinkedList"}],"owner":{"account_id":11727453,"reputation":301,"user_id":13501876,"display_name":"Spliterash"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666980903,"creation_date":1666980903,"question_id":74239408,"body_markdown":"When we add elements to the LinkedList we only have boolean which is always true.\r\n\r\nIs there an implementation of LinkedList that, in response to adding, gives some interface, thanks to which we can change the value, or delete it of the added node at any time?\r\n\r\nI need something like the following\r\n\r\n```java\r\nLinkedList&lt;A&gt; list = new LinkedList&lt;&gt;();\r\nLinkedListNode&lt;A&gt; node = list.add(object);\r\n// After some amount of time, with multiple modifications of LinkedList\r\nnode.remove();\r\n\r\npublic interface LinkedListNode&lt;T&gt; {\r\n    void set(T t);\r\n\r\n    void remove();\r\n}\r\n```\r\nIn default java LinkedList implementation, only way to delete element is `list.remove(object)`, but it will iterate over all elements of the collection.\r\n\r\nPS: I don&#39;t want to use a HashSet for this","title":"LinkedList adding elements with a change or remove callback","body":"<p>When we add elements to the LinkedList we only have boolean which is always true.</p>\n<p>Is there an implementation of LinkedList that, in response to adding, gives some interface, thanks to which we can change the value, or delete it of the added node at any time?</p>\n<p>I need something like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedList&lt;A&gt; list = new LinkedList&lt;&gt;();\nLinkedListNode&lt;A&gt; node = list.add(object);\n// After some amount of time, with multiple modifications of LinkedList\nnode.remove();\n\npublic interface LinkedListNode&lt;T&gt; {\n    void set(T t);\n\n    void remove();\n}\n</code></pre>\n<p>In default java LinkedList implementation, only way to delete element is <code>list.remove(object)</code>, but it will iterate over all elements of the collection.</p>\n<p>PS: I don't want to use a HashSet for this</p>\n"},{"tags":["java","maven","jar","maven-jar-plugin","meta-inf"],"answers":[{"comments":[{"owner":{"account_id":1104392,"reputation":8418,"user_id":1096117,"accept_rate":75,"display_name":"Juli&#225;n Urbano"},"score":0,"creation_date":1470705093,"post_id":38836843,"comment_id":65046821,"body_markdown":"But the result is the same, right? If we just compile it will copy these resource files as well. I want them copied just to the JAR file.","body":"But the result is the same, right? If we just compile it will copy these resource files as well. I want them copied just to the JAR file."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1470730342,"post_id":38836843,"comment_id":65055537,"body_markdown":"not really, since in the Jar, the resources will not be duplicated in classes/META-INF. They will be only in the META-INF dir as explained.","body":"not really, since in the Jar, the resources will not be duplicated in classes/META-INF. They will be only in the META-INF dir as explained."},{"owner":{"account_id":1211400,"reputation":437,"user_id":1179852,"accept_rate":75,"display_name":"Cristian"},"score":0,"creation_date":1500359981,"post_id":38836843,"comment_id":77286812,"body_markdown":"Hi @davidxxx. I noticed your comment when the resources should go to META-INF, but is it possible to put resources in the root of the jar file, next to META-INF? Thanks.","body":"Hi @davidxxx. I noticed your comment when the resources should go to META-INF, but is it possible to put resources in the root of the jar file, next to META-INF? Thanks."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1500366747,"post_id":38836843,"comment_id":77291205,"body_markdown":"Hi  @Cristian. Of course you can as all resources (files and folders) that you will store in your project in `src/main/resources` will be by default at the root of the built JAR.","body":"Hi  @Cristian. Of course you can as all resources (files and folders) that you will store in your project in <code>src&#47;main&#47;resources</code> will be by default at the root of the built JAR."},{"owner":{"account_id":1211400,"reputation":437,"user_id":1179852,"accept_rate":75,"display_name":"Cristian"},"score":0,"creation_date":1500367048,"post_id":38836843,"comment_id":77291387,"body_markdown":"I&#39;m using Spring Boot and everything goes under BOOT-INF which is next to META-INF. Any idea here? Thanks.","body":"I&#39;m using Spring Boot and everything goes under BOOT-INF which is next to META-INF. Any idea here? Thanks."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1500367109,"post_id":38836843,"comment_id":77291435,"body_markdown":"@Cristian It is a reapckaging jar by Spring Boot to allow the application to be autobootable. It is not a classic jar. You should not bother about it. The jar will stay accessible to the application all the same. Which is your problem exactly ?","body":"@Cristian It is a reapckaging jar by Spring Boot to allow the application to be autobootable. It is not a classic jar. You should not bother about it. The jar will stay accessible to the application all the same. Which is your problem exactly ?"},{"owner":{"account_id":1211400,"reputation":437,"user_id":1179852,"accept_rate":75,"display_name":"Cristian"},"score":0,"creation_date":1500367930,"post_id":38836843,"comment_id":77292012,"body_markdown":"I&#39;m deploying to AWS and I want to include in the JAR root some configuration files and a configuration folder with files. A Spring Boot jar contains the folders BOOT-INF, META-INF and org, and I want to include the folder .ebextensions and the file cron.yaml.","body":"I&#39;m deploying to AWS and I want to include in the JAR root some configuration files and a configuration folder with files. A Spring Boot jar contains the folders BOOT-INF, META-INF and org, and I want to include the folder .ebextensions and the file cron.yaml."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":1,"creation_date":1500373517,"post_id":38836843,"comment_id":77295963,"body_markdown":"@Cristian You can do it with a Spring Boot autobootable WAR but not with Spring Boot autobootable JAR that is not designed to have this layout. You will indeed find your resources in `BOOT-INF\\classes`. The problem is that you could not change it easily as this repackaging is performed by Spring Boot itself. You could try to create a Layout and to pass it to the `layoutFactory` property of the repackage plugin of Spring Boot but no guarantee. https://docs.spring.io/spring-boot/docs/current/maven-plugin/repackage-mojo.html#layoutFactory Anyway the question is interesting, why not ask it on SO ?","body":"@Cristian You can do it with a Spring Boot autobootable WAR but not with Spring Boot autobootable JAR that is not designed to have this layout. You will indeed find your resources in <code>BOOT-INF\\classes</code>. The problem is that you could not change it easily as this repackaging is performed by Spring Boot itself. You could try to create a Layout and to pass it to the <code>layoutFactory</code> property of the repackage plugin of Spring Boot but no guarantee. <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/repackage-mojo.html#layoutFactory\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/&hellip;</a> Anyway the question is interesting, why not ask it on SO ?"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":8,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1588256609,"creation_date":1470683497,"answer_id":38836843,"question_id":38833373,"body_markdown":"You don&#39;t need to specify any custom maven configuration to address your need.&lt;br&gt;\r\n\r\nIn `src/main/resources`, simply create  a `META-INF` folder and place your files here.&lt;br&gt;\r\nIn this way, you could find them in the `META-INF` folder of the built JAR. &lt;br&gt;\r\n\r\nBesides, you should remove the  `&lt;resource&gt;` element you added in the `pom.xml` since it changes the default resource folder to the root of the project instead of the default `src/main/resources`.","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>You don't need to specify any custom maven configuration to address your need.<br></p>\n\n<p>In <code>src/main/resources</code>, simply create  a <code>META-INF</code> folder and place your files here.<br>\nIn this way, you could find them in the <code>META-INF</code> folder of the built JAR. <br></p>\n\n<p>Besides, you should remove the  <code>&lt;resource&gt;</code> element you added in the <code>pom.xml</code> since it changes the default resource folder to the root of the project instead of the default <code>src/main/resources</code>.</p>\n"},{"tags":[],"owner":{"account_id":13645140,"reputation":31,"user_id":9844315,"display_name":"Edson Su&#225;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574955794,"creation_date":1574889138,"answer_id":59078507,"question_id":38833373,"body_markdown":"    \r\nIf you want to add files and a directory to the META-INF folder use this code in your pom.xml\r\n\r\n       &lt;build&gt;\r\n    \t\t&lt;finalName&gt;CustomJsfComponents&lt;/finalName&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;**.xml&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**resources/**&lt;/include&gt;\r\n    \t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t&lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t&lt;/build&gt;","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>If you want to add files and a directory to the META-INF folder use this code in your pom.xml</p>\n\n<pre><code>   &lt;build&gt;\n        &lt;finalName&gt;CustomJsfComponents&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**.xml&lt;/include&gt;\n                    &lt;include&gt;**resources/**&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609832304,"creation_date":1609832304,"answer_id":65574803,"question_id":38833373,"body_markdown":"Modify your pom by adding **webResources**\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;target/classes/META-INF/&lt;/directory&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;*.*&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;targetPath&gt;META-INF/&lt;/targetPath&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nConsider the config.properties file to be found in \r\n\r\n    src / main / resources / META-INF / config.properties\r\n\r\n\r\nWar example output\r\n[![war output example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Tz5L.png","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>Modify your pom by adding <strong>webResources</strong></p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;webResources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;target/classes/META-INF/&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;*.*&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;targetPath&gt;META-INF/&lt;/targetPath&gt;\n                    &lt;/resource&gt;\n                &lt;/webResources&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Consider the config.properties file to be found in</p>\n<pre><code>src / main / resources / META-INF / config.properties\n</code></pre>\n<p>War example output\n<a href=\"https://i.stack.imgur.com/7Tz5L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Tz5L.png\" alt=\"war output example\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10452592,"reputation":351,"user_id":7705712,"display_name":"Edward D. Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666980392,"creation_date":1666980392,"answer_id":74239326,"question_id":38833373,"body_markdown":"If you want to add your files to `META-INF` when creating a `WAR`, you can create your own `META-INF` folder in `webapp` directory.  \r\n\r\n    src/main/webapp/META-INF","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>If you want to add your files to <code>META-INF</code> when creating a <code>WAR</code>, you can create your own <code>META-INF</code> folder in <code>webapp</code> directory.</p>\n<pre><code>src/main/webapp/META-INF\n</code></pre>\n"}],"owner":{"account_id":1104392,"reputation":8418,"user_id":1096117,"accept_rate":75,"display_name":"Juli&#225;n Urbano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28876,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1666980392,"creation_date":1470670780,"question_id":38833373,"body_markdown":"I&#39;m using Maven to build a Java project, and I&#39;ve got a couple files, `CHANGELOG` and `LICENSE`, that I&#39;d like to copy to the `META-INF` directory inside the JAR file.\r\n\r\nSo far what I&#39;ve got working is the following:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;CHANGELOG&lt;/include&gt;\r\n                    &lt;include&gt;LICENSE&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            ...\r\n\r\nbut that also copies those two files to the `classes/META-INF` directory when compiling.\r\n\r\nSo I&#39;d like the files to be included in the JAR file, but nowhere else. Is there a way to do this?","title":"Maven: include files in JAR&#39;s META-INF","body":"<p>I'm using Maven to build a Java project, and I've got a couple files, <code>CHANGELOG</code> and <code>LICENSE</code>, that I'd like to copy to the <code>META-INF</code> directory inside the JAR file.</p>\n\n<p>So far what I've got working is the following:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;CHANGELOG&lt;/include&gt;\n                &lt;include&gt;LICENSE&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        ...\n</code></pre>\n\n<p>but that also copies those two files to the <code>classes/META-INF</code> directory when compiling.</p>\n\n<p>So I'd like the files to be included in the JAR file, but nowhere else. Is there a way to do this?</p>\n"},{"tags":["java","mysql","eclipse","hibernate","jdbc"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667295889,"post_id":74239308,"comment_id":131129422,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74239308/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17214454,"reputation":31,"user_id":12462843,"display_name":"kaad abdo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666980298,"creation_date":1666980298,"answer_id":74239308,"question_id":72569268,"body_markdown":"verify your configuration properties, i got this error and it was due to a bad url.\r\nyou can refer to this question: [https://stackoverflow.com/questions/36345377/unable-to-create-requested-service-org-hibernate-engine-jdbc-env-spi-jdbcenviro.\r\n][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36345377/unable-to-create-requested-service-org-hibernate-engine-jdbc-env-spi-jdbcenviro","title":"Getting: &#39;Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]&#39; Exception when doing Hibernate CRUD project","body":"<p>verify your configuration properties, i got this error and it was due to a bad url.\nyou can refer to this question: <a href=\"https://stackoverflow.com/questions/36345377/unable-to-create-requested-service-org-hibernate-engine-jdbc-env-spi-jdbcenviro\">https://stackoverflow.com/questions/36345377/unable-to-create-requested-service-org-hibernate-engine-jdbc-env-spi-jdbcenviro.\n</a></p>\n"}],"owner":{"account_id":25471688,"reputation":1,"user_id":19269755,"display_name":"Karna79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8717,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666980298,"creation_date":1654837162,"question_id":72569268,"body_markdown":"I am doing a &#39;JAVA project&#39; in Eclipse Enterprise Edition IDE. Hibernate CRUD project to create user (student) details in my MySQL database (hibernatestudent). Hibernate version is Hibernate ORM core version 5.6.9.Final. My MySQL version is 8.0.29. I have the same version connector jar file for JDBC added in the build path library. All other related jar files related to Hibernate have been added also. I have tried the suggested solutions from other such issues of users but none seems to solve my problem.\r\n\r\nBelow shows Exception when running StudentDAO.java file.\r\n\r\n**Exception**\r\n```\r\nJun 10, 2022 11:46:40 AM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 5.6.9.Final\r\nJun 10, 2022 11:46:40 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\norg.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n```\r\n\r\n**POJO Class file**\r\n\r\n```\r\npackage com;\r\n// POJO Class file (persistent class)\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity \r\n@Table(name = &quot;Student&quot;) \r\n\r\npublic class Student {\r\n\t@Id // Primary key for this table.\r\n\t@GeneratedValue(strategy = GenerationType.AUTO) \r\n\t@Column(name = &quot;id&quot;) \r\n\r\n\tprivate int id;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String email;\r\n\r\n\tpublic int getId() {\t// Generating getters &amp; setters.\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**StudentDAO.java file**\r\n\r\n```\r\npackage com;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\npublic class StudentDao {\r\n\r\n\t\r\n\tpublic static void main(String[] args) { // Main method\r\n\t\tStudentDao.insert_data();\r\n\t}\r\n\t\r\n\tpublic static void insert_data() {\r\n\t\ttry {\r\n\t\t\t// Hibernate API to save this objects to DB\r\n\t        //Session factory is created only ONCE\r\n\t\t\tSessionFactory sessionFactory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\r\n\t\t\tSession session = sessionFactory.openSession();\r\n\t\t\t\r\n\t\t\t// create transaction\r\n\t\t\tsession.beginTransaction();\r\n\t\t\t\r\n\t\t\tStudent obj_Student = new Student(); // Sending the above collected values to this entity class to be stored in our database.\r\n\t\t\t\r\n\t\t\tobj_Student.setFirstName(&quot;Student_One&quot;); \r\n\t\t\tobj_Student.setId(987); \r\n\t\t\t\t\t\r\n\t\t\tsession.save(obj_Student);\r\n\t\t\tsession.getTransaction().commit();\r\n\t\t\t\r\n\t\t\t//Closing the session\r\n\t\t\tsession.close();\r\n\t\t\tsessionFactory.close();\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**hibernate cfg xml file**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC \r\n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \r\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;!-- Version 8 MySQL hibernate.cfg.xml for Hibernate 5 --&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n\t\t\t&lt;session-factory&gt;\r\n\t\t\t\t&lt;!-- Database connection settings --&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.datasource&quot;&gt;jdbc/myDS&lt;/property&gt;\r\n\t\t\t\t&lt;property name=&quot;jndi.class&quot;&gt;weblogic.jndi.WLInitialContextFactory&lt;/property&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;javax.persistence.jdbc.url=jdbc:mysql://localhost:3306/hibernatestudent&lt;/property&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n\r\n\t\t\t\t&lt;!-- Disable auto commit mode --&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;false&lt;/property&gt;\r\n    \t\t\t\r\n\t\t\t\t&lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n    \t\t\t&lt;property name=&quot;connection.pool_size&quot;&gt;4&lt;/property&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \t\t\t\r\n\t\t\t\t&lt;!-- SQL dialect --&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\t\r\n\t\t\t\t&lt;!-- Echo all executed SQL to stdout --&gt;\r\n\t\t\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t\t\t&lt;!-- Format SQL --&gt;\r\n\t\t\t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;!-- Database tables are automatically created --&gt;\r\n\t\t\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;property name=&quot;hibernate.transaction.factory_class&quot;&gt;org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;!-- Names the annotated entity class--&gt;\r\n\t\t\t\t&lt;mapping class =&quot;com.Student&quot;/&gt;\r\n\t\t\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\n```\r\n\r\n**jar files used are as below**\r\n[jar files][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7iWKs.jpg\r\n","title":"Getting: &#39;Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]&#39; Exception when doing Hibernate CRUD project","body":"<p>I am doing a 'JAVA project' in Eclipse Enterprise Edition IDE. Hibernate CRUD project to create user (student) details in my MySQL database (hibernatestudent). Hibernate version is Hibernate ORM core version 5.6.9.Final. My MySQL version is 8.0.29. I have the same version connector jar file for JDBC added in the build path library. All other related jar files related to Hibernate have been added also. I have tried the suggested solutions from other such issues of users but none seems to solve my problem.</p>\n<p>Below shows Exception when running StudentDAO.java file.</p>\n<p><strong>Exception</strong></p>\n<pre><code>Jun 10, 2022 11:46:40 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 5.6.9.Final\nJun 10, 2022 11:46:40 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\norg.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n</code></pre>\n<p><strong>POJO Class file</strong></p>\n<pre><code>package com;\n// POJO Class file (persistent class)\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity \n@Table(name = &quot;Student&quot;) \n\npublic class Student {\n    @Id // Primary key for this table.\n    @GeneratedValue(strategy = GenerationType.AUTO) \n    @Column(name = &quot;id&quot;) \n\n    private int id;\n    private String firstName;\n    private String lastName;\n    private String email;\n\n    public int getId() {    // Generating getters &amp; setters.\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n}\n\n</code></pre>\n<p><strong>StudentDAO.java file</strong></p>\n<pre><code>package com;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class StudentDao {\n\n    \n    public static void main(String[] args) { // Main method\n        StudentDao.insert_data();\n    }\n    \n    public static void insert_data() {\n        try {\n            // Hibernate API to save this objects to DB\n            //Session factory is created only ONCE\n            SessionFactory sessionFactory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\n            Session session = sessionFactory.openSession();\n            \n            // create transaction\n            session.beginTransaction();\n            \n            Student obj_Student = new Student(); // Sending the above collected values to this entity class to be stored in our database.\n            \n            obj_Student.setFirstName(&quot;Student_One&quot;); \n            obj_Student.setId(987); \n                    \n            session.save(obj_Student);\n            session.getTransaction().commit();\n            \n            //Closing the session\n            session.close();\n            sessionFactory.close();\n            \n            \n        }catch (Exception e) {\n            System.out.println(e);\n        }\n\n    }\n    \n}\n</code></pre>\n<p><strong>hibernate cfg xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;!-- Version 8 MySQL hibernate.cfg.xml for Hibernate 5 --&gt;\n\n&lt;hibernate-configuration&gt;\n            &lt;session-factory&gt;\n                &lt;!-- Database connection settings --&gt;\n                &lt;property name=&quot;hibernate.connection.datasource&quot;&gt;jdbc/myDS&lt;/property&gt;\n                &lt;property name=&quot;jndi.class&quot;&gt;weblogic.jndi.WLInitialContextFactory&lt;/property&gt;\n                \n                &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n                &lt;property name=&quot;hibernate.connection.url&quot;&gt;javax.persistence.jdbc.url=jdbc:mysql://localhost:3306/hibernatestudent&lt;/property&gt;\n                &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n                &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\n\n                &lt;!-- Disable auto commit mode --&gt;\n                &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;false&lt;/property&gt;\n                \n                &lt;!-- JDBC connection pool (use the built-in) --&gt;\n                &lt;property name=&quot;connection.pool_size&quot;&gt;4&lt;/property&gt;\n                \n                &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n                \n                &lt;!-- SQL dialect --&gt;\n                &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;   \n                &lt;!-- Echo all executed SQL to stdout --&gt;\n                &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n                &lt;!-- Format SQL --&gt;\n                &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n                \n                &lt;!-- Database tables are automatically created --&gt;\n                &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n                \n                &lt;property name=&quot;hibernate.transaction.factory_class&quot;&gt;org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;\n                \n                &lt;!-- Names the annotated entity class--&gt;\n                &lt;mapping class =&quot;com.Student&quot;/&gt;\n            &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n\n</code></pre>\n<p><strong>jar files used are as below</strong>\n<a href=\"https://i.stack.imgur.com/7iWKs.jpg\" rel=\"nofollow noreferrer\">jar files</a></p>\n"},{"tags":["javascript","java","arrays","double","byte"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666679017,"post_id":74189359,"comment_id":130987756,"body_markdown":"Consider using a `ByteBuffer` configured with the right byte-order and use its [`getDouble()`\\(https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html#getDouble()) method.","body":"Consider using a <code>ByteBuffer</code> configured with the right byte-order and use its [<code>getDouble()</code>&#40;<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html#getDouble()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/&zwnj;&#8203;java.base/java/nio/&hellip;</a>&zwnj;&#8203;) method."},{"owner":{"account_id":10158573,"reputation":13,"user_id":7502828,"display_name":"Gredenko"},"score":0,"creation_date":1666709143,"post_id":74189359,"comment_id":130998064,"body_markdown":"Thank you, I had considered ByteBuffer but I really wanted to get these functions working with the bitwise operations for better understanding.","body":"Thank you, I had considered ByteBuffer but I really wanted to get these functions working with the bitwise operations for better understanding."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666709504,"post_id":74189359,"comment_id":130998222,"body_markdown":"I guess I didn&#39;t have my coffee yet when I read your initial question, but your `writeInt` is actually writing big-endian, not little-endian, so using `writeDoubleBE` and keeping your Java code as-is would solve the problem.","body":"I guess I didn&#39;t have my coffee yet when I read your initial question, but your <code>writeInt</code> is actually writing big-endian, not little-endian, so using <code>writeDoubleBE</code> and keeping your Java code as-is would solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":10158573,"reputation":13,"user_id":7502828,"display_name":"Gredenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666980074,"creation_date":1666708936,"answer_id":74195896,"question_id":74189359,"body_markdown":"I figured it out, though I still am not sure why it works this way (with the first byte being &lt;&lt; 0 instead of &lt;&lt; 56)\r\n\r\n```\r\nlong byte1 = bs.readByte();\r\nlong byte2 = bs.readByte();\r\nlong byte3 = bs.readByte();\r\nlong byte4 = bs.readByte();\r\nlong byte5 = bs.readByte();\r\nlong byte6 = bs.readByte();\r\nlong byte7 = bs.readByte();\r\nlong byte8 = bs.readByte();\r\nreturn Double.longBitsToDouble(byte1 + (byte2 &lt;&lt; 8) + (byte3 &lt;&lt; 16) + (byte4 &lt;&lt; 24) + (byte5 &lt;&lt; 32) + (byte6 &lt;&lt; 40) + (byte7 &lt;&lt; 48) + (byte8 &lt;&lt; 56));\r\n```  ","title":"Struggling to Understand Byte Array to Double Conversion in Java","body":"<p>I figured it out, though I still am not sure why it works this way (with the first byte being &lt;&lt; 0 instead of &lt;&lt; 56)</p>\n<pre><code>long byte1 = bs.readByte();\nlong byte2 = bs.readByte();\nlong byte3 = bs.readByte();\nlong byte4 = bs.readByte();\nlong byte5 = bs.readByte();\nlong byte6 = bs.readByte();\nlong byte7 = bs.readByte();\nlong byte8 = bs.readByte();\nreturn Double.longBitsToDouble(byte1 + (byte2 &lt;&lt; 8) + (byte3 &lt;&lt; 16) + (byte4 &lt;&lt; 24) + (byte5 &lt;&lt; 32) + (byte6 &lt;&lt; 40) + (byte7 &lt;&lt; 48) + (byte8 &lt;&lt; 56));\n</code></pre>\n"}],"owner":{"account_id":10158573,"reputation":13,"user_id":7502828,"display_name":"Gredenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74195896,"answer_count":1,"score":0,"last_activity_date":1666980074,"creation_date":1666674830,"question_id":74189359,"body_markdown":"I&#39;ve made some functions in javascript to handle converting values to byte arrays, to be sent to a Java webserver where they will be read.\r\n\r\nWhen writing an int, in js, I used: \r\n\r\n```\r\nfunction writeInt(num) {\r\n   let arr = new Uint32Array([\r\n   (num &amp; 0xff000000) &gt;&gt; 24,\r\n   (num &amp; 0x00ff0000) &gt;&gt; 16,\r\n   (num &amp; 0x0000ff00) &gt;&gt; 8,\r\n   (num &amp; 0x000000ff)\r\n   ]);\r\n   buf.push(Buffer.from(arr));\r\n}\r\n```\r\nThe integer is received in little endian, and while I don&#39;t understand bitwise operation completely, I got some help from stack and google. I read the integer in Java with the following (bs being my stream variable):\r\n\r\n```(bs.readByte() &lt;&lt; 24) + (bs.readByte() &lt;&lt; 16) + (bs.readByte() &lt;&lt; 8) + (bs.readByte());```\r\n\r\nBut when I tried to write a double, I used the writeDoubleLE(number) function as follows:\r\n\r\n```\r\nconst double = Buffer.allocUnsafe(8);\r\ndouble.writeDoubleLE(num);\r\nbuffer.push(Buffer.from(double));\r\n```\r\n\r\nand I used this function in Java:\r\n\r\n```\r\nreturn Double.longBitsToDouble(\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 56 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 48 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 40 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 32 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 24 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 16 |\r\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 8 |\r\n((byte) (bs.readByte() &amp; 0xFFL)));\r\n```\r\n\r\nI tried with some random numbers like 22.5, and now, the values are obviously wrong, giving me stuff like 2.0789966E-317 and 5.32223134E-315.\r\n\r\nI have been messing with the code in Java because the sent bytes appear correct, but it just doesn&#39;t work.\r\n\r\nFinally, I tried writeDoubleBE, and the Java code can read it successfully. This feels wrong because the bytes for the double are obviously now not consistent with the format of the other bytes in the array. I&#39;d rather understand what&#39;s going on and why this isn&#39;t working. It seems like my javascript code is writing it wrong, but I am not sure if it&#39;s the JS or Java.\r\n\r\nI hope someone with more knowledge about this can explain it to me and point out what I am doing wrong when writing/reading the values.","title":"Struggling to Understand Byte Array to Double Conversion in Java","body":"<p>I've made some functions in javascript to handle converting values to byte arrays, to be sent to a Java webserver where they will be read.</p>\n<p>When writing an int, in js, I used:</p>\n<pre><code>function writeInt(num) {\n   let arr = new Uint32Array([\n   (num &amp; 0xff000000) &gt;&gt; 24,\n   (num &amp; 0x00ff0000) &gt;&gt; 16,\n   (num &amp; 0x0000ff00) &gt;&gt; 8,\n   (num &amp; 0x000000ff)\n   ]);\n   buf.push(Buffer.from(arr));\n}\n</code></pre>\n<p>The integer is received in little endian, and while I don't understand bitwise operation completely, I got some help from stack and google. I read the integer in Java with the following (bs being my stream variable):</p>\n<p><code>(bs.readByte() &lt;&lt; 24) + (bs.readByte() &lt;&lt; 16) + (bs.readByte() &lt;&lt; 8) + (bs.readByte());</code></p>\n<p>But when I tried to write a double, I used the writeDoubleLE(number) function as follows:</p>\n<pre><code>const double = Buffer.allocUnsafe(8);\ndouble.writeDoubleLE(num);\nbuffer.push(Buffer.from(double));\n</code></pre>\n<p>and I used this function in Java:</p>\n<pre><code>return Double.longBitsToDouble(\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 56 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 48 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 40 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 32 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 24 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 16 |\n((byte) (bs.readByte() &amp; 0xFFL)) &lt;&lt; 8 |\n((byte) (bs.readByte() &amp; 0xFFL)));\n</code></pre>\n<p>I tried with some random numbers like 22.5, and now, the values are obviously wrong, giving me stuff like 2.0789966E-317 and 5.32223134E-315.</p>\n<p>I have been messing with the code in Java because the sent bytes appear correct, but it just doesn't work.</p>\n<p>Finally, I tried writeDoubleBE, and the Java code can read it successfully. This feels wrong because the bytes for the double are obviously now not consistent with the format of the other bytes in the array. I'd rather understand what's going on and why this isn't working. It seems like my javascript code is writing it wrong, but I am not sure if it's the JS or Java.</p>\n<p>I hope someone with more knowledge about this can explain it to me and point out what I am doing wrong when writing/reading the values.</p>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666971413,"post_id":74237670,"comment_id":131067836,"body_markdown":"Are t4 and t5 added to the executor? Or are sub threads of the parent thread?","body":"Are t4 and t5 added to the executor? Or are sub threads of the parent thread?"},{"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"score":0,"creation_date":1666978028,"post_id":74237670,"comment_id":131070114,"body_markdown":"@LeonardoEmmanueldeAzevedo they are added to the same instance pool via calling execute()","body":"@LeonardoEmmanueldeAzevedo they are added to the same instance pool via calling execute()"}],"answers":[{"comments":[{"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"score":0,"creation_date":1666978129,"post_id":74237855,"comment_id":131070150,"body_markdown":"Hm, I also want t0 to finish it&#39;s task and become free while t4 and t5 keep doing their work. t0 should be ready to do any other task including if t4 calls another thread. Would that still work?","body":"Hm, I also want t0 to finish it&#39;s task and become free while t4 and t5 keep doing their work. t0 should be ready to do any other task including if t4 calls another thread. Would that still work?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666979003,"post_id":74237855,"comment_id":131070430,"body_markdown":"@efoc Is `t0` a thread performing some action, or is it a task submitted to that same executor service?","body":"@efoc Is <code>t0</code> a thread performing some action, or is it a task submitted to that same executor service?"},{"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"score":0,"creation_date":1666981728,"post_id":74237855,"comment_id":131071195,"body_markdown":"t0 does some task -&gt; calls multiple threads for new tasks and the finishes while the threads it called continue doing work.","body":"t0 does some task -&gt; calls multiple threads for new tasks and the finishes while the threads it called continue doing work."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666979166,"creation_date":1666972282,"answer_id":74237855,"question_id":74237670,"body_markdown":"Don&#39;t call `shutdown` until you know `t0` is finished - then you will know that t4/t5 must have been queued on the same executor service. \r\n\r\nIf t0 is a task that you submit to same executor service the flow is something like this:\r\n\r\n    Future&lt;?&gt; t0fut = execService.submit(t0);\r\n    // deal with others t1..t3\r\n    ...\r\n    t0fut.get();\r\n    execService.shutdown();\r\n    ...\r\n\r\nThe call to `t0fut.get()` should block until t0 is done, then the call to `execService.shutdown()` won&#39;t cause errors as t4/t5 must have already be submitted before `t0` ended.\r\n\r\nIf t0 is some thread you&#39;ve kicked off which submits task to executor service, you need to wait for it to end before `execService.shutdown()`, something like:\r\n\r\n    t0.join();\r\n    execService.shutdown();\r\n    ...","title":"Java Thread Pool Executor Service shutdown not working as expected","body":"<p>Don't call <code>shutdown</code> until you know <code>t0</code> is finished - then you will know that t4/t5 must have been queued on the same executor service.</p>\n<p>If t0 is a task that you submit to same executor service the flow is something like this:</p>\n<pre><code>Future&lt;?&gt; t0fut = execService.submit(t0);\n// deal with others t1..t3\n...\nt0fut.get();\nexecService.shutdown();\n...\n</code></pre>\n<p>The call to <code>t0fut.get()</code> should block until t0 is done, then the call to <code>execService.shutdown()</code> won't cause errors as t4/t5 must have already be submitted before <code>t0</code> ended.</p>\n<p>If t0 is some thread you've kicked off which submits task to executor service, you need to wait for it to end before <code>execService.shutdown()</code>, something like:</p>\n<pre><code>t0.join();\nexecService.shutdown();\n...\n</code></pre>\n"}],"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666979166,"creation_date":1666971263,"question_id":74237670,"body_markdown":"Currently I am using a global instance of Executor Service that is shared around the script. My idea is call and add tasks to the pool for threads to do work on and when ALL the threads are finished, then write to an output file for the results.\r\n\r\nA small visual below:\r\nMain thread calls t0, t1, t2, t3 and t0 calls t4, t5. The other threads can call other threads as well.\r\n\r\n```\r\nmain thread calls:\r\n     openFile()\r\n     -&gt; t0\r\n          -&gt; t4\r\n          -&gt; t5\r\n          ...\r\n     -&gt; t1\r\n     -&gt; t2\r\n     -&gt; t3 \r\n     ...\r\n     shutdown()\r\n     awaitTermination(60, MINUTES)\r\n     writeFile()\r\n     closeFile()\r\n```\r\n\r\nThe problem is shutdown() and awaitTermination() get called and finish when t0, t1, t2, t3 and doesn&#39;t wait for t4 and t5. So the output gets written while t4 and t5 are still completing their tasks. I executed t4 and t5 with the same instance as the others figuring that it would add it to the pool and awaitTermination() would wait for them (along with the other threads that were called by other treads) to finish.\r\n\r\nHow would I be able to go about this?","title":"Java Thread Pool Executor Service shutdown not working as expected","body":"<p>Currently I am using a global instance of Executor Service that is shared around the script. My idea is call and add tasks to the pool for threads to do work on and when ALL the threads are finished, then write to an output file for the results.</p>\n<p>A small visual below:\nMain thread calls t0, t1, t2, t3 and t0 calls t4, t5. The other threads can call other threads as well.</p>\n<pre><code>main thread calls:\n     openFile()\n     -&gt; t0\n          -&gt; t4\n          -&gt; t5\n          ...\n     -&gt; t1\n     -&gt; t2\n     -&gt; t3 \n     ...\n     shutdown()\n     awaitTermination(60, MINUTES)\n     writeFile()\n     closeFile()\n</code></pre>\n<p>The problem is shutdown() and awaitTermination() get called and finish when t0, t1, t2, t3 and doesn't wait for t4 and t5. So the output gets written while t4 and t5 are still completing their tasks. I executed t4 and t5 with the same instance as the others figuring that it would add it to the pool and awaitTermination() would wait for them (along with the other threads that were called by other treads) to finish.</p>\n<p>How would I be able to go about this?</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":26613932,"reputation":13,"user_id":20233689,"display_name":"Jon S&#248;rensen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666978081,"creation_date":1666978081,"answer_id":74238911,"question_id":74160084,"body_markdown":"Solved this. I&#39;ve learned that you do not want a shadow variable&#39;s value to change depending on what is ahead of it in the chain. This is what was causing the corruption. I removed the while loop causing the problem and moved the calculations to a constraint instead.","title":"Optaplanner chained variable corruption","body":"<p>Solved this. I've learned that you do not want a shadow variable's value to change depending on what is ahead of it in the chain. This is what was causing the corruption. I removed the while loop causing the problem and moved the calculations to a constraint instead.</p>\n"}],"owner":{"account_id":26613932,"reputation":13,"user_id":20233689,"display_name":"Jon S&#248;rensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74238911,"answer_count":1,"score":0,"last_activity_date":1666978081,"creation_date":1666395619,"question_id":74160084,"body_markdown":"Running into an issue with variable corruption on a chained variable model.\r\n\r\n\r\n**The entity (Delivery{id=&#39;3&#39;, tasks=[...], previousDeliveryOrShift=Delivery{id=&#39;2&#39;, tasks=[...], previousDeliveryOrShift=Shift{id=&#39;1&#39;, startTime=2022-10-03T16:00}, deliveryTime=2022-10-03T16:27}, deliveryTime=2022-10-03T17:12})&#39;s shadow variable (Delivery.deliveryTime)&#39;s corrupted value (2022-10-03T17:10) changed to uncorrupted value (2022-10-03T17:12) after all variable listeners were triggered without changes to the genuine variables.**\r\n\r\n\r\nI&#39;ve tried using FULL_ASSERT with trace logging to see the move that is causing this but it&#39;s erroring before the trace log shows me the move it is trying to make. I&#39;ve tried running a debugger with breakpoints but it will solve correctly without any corruption when I do that. Not sure if this is some thread issue?\r\n\r\nThe code in the variableListener that is causing this is a while loop that&#39;s needed to loop through the nextDelivery()s and sum together task times so I can add it to the deliveryTime of the FIRST delivery in the chain. Removing this loop fixes the corruption but now the deliveryTimes of all Deliveries in the chain will be off. I don&#39;t understand why looping forwards and summing task times would cause corruption.\r\n\r\n```\r\nprivate void updateDeliveryTime(\r\n      ScoreDirector&lt;DeliveryRoutingSolution&gt; scoreDirector, Delivery delivery) {\r\n    Delivery shadowDelivery = delivery;\r\n\r\n    while (shadowDelivery != null) {\r\n      LocalDateTime deliveryTime = null;\r\n      if (shadowDelivery.getPreviousDeliveryOrShift() != null) {\r\n        PreviousDeliveryOrShift previousDeliveryOrShift =\r\n            shadowDelivery.getPreviousDeliveryOrShift();\r\n\r\n        if (previousDeliveryOrShift.getType() == PreviousDeliveryOrShift.Type.SHIFT) {\r\n          Delivery nextDelivery = shadowDelivery;\r\n          Duration taskTimeBeforeDelivery = Duration.ZERO;\r\n\r\n          while (nextDelivery != null) { // the while loop causing the problem\r\n            taskTimeBeforeDelivery =\r\n                taskTimeBeforeDelivery.plus(\r\n                    nextDelivery.getTaskTime());\r\n\r\n            nextDelivery = nextDelivery.getNextDelivery();\r\n          }\r\n\r\n          deliveryTime =\r\n              previousDeliveryOrShift\r\n                  .getStartTime()\r\n                  .plus(taskTimeBeforeDelivery);\r\n\r\n        } else {\r\n          ...\r\n        }\r\n      }\r\n\r\n      scoreDirector.beforeVariableChanged(shadowDelivery, &quot;deliveryTime&quot;);\r\n      shadowDelivery.setDeliveryTime(deliveryTime);\r\n      scoreDirector.afterVariableChanged(shadowDelivery, &quot;deliveryTime&quot;);\r\n\r\n      shadowDelivery = shadowDelivery.getNextDelivery();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve tried looking at other stackoverflow threads on this issue but still can&#39;t seem to get this working. Any suggestions are welcome. Thanks.","title":"Optaplanner chained variable corruption","body":"<p>Running into an issue with variable corruption on a chained variable model.</p>\n<p><strong>The entity (Delivery{id='3', tasks=[...], previousDeliveryOrShift=Delivery{id='2', tasks=[...], previousDeliveryOrShift=Shift{id='1', startTime=2022-10-03T16:00}, deliveryTime=2022-10-03T16:27}, deliveryTime=2022-10-03T17:12})'s shadow variable (Delivery.deliveryTime)'s corrupted value (2022-10-03T17:10) changed to uncorrupted value (2022-10-03T17:12) after all variable listeners were triggered without changes to the genuine variables.</strong></p>\n<p>I've tried using FULL_ASSERT with trace logging to see the move that is causing this but it's erroring before the trace log shows me the move it is trying to make. I've tried running a debugger with breakpoints but it will solve correctly without any corruption when I do that. Not sure if this is some thread issue?</p>\n<p>The code in the variableListener that is causing this is a while loop that's needed to loop through the nextDelivery()s and sum together task times so I can add it to the deliveryTime of the FIRST delivery in the chain. Removing this loop fixes the corruption but now the deliveryTimes of all Deliveries in the chain will be off. I don't understand why looping forwards and summing task times would cause corruption.</p>\n<pre><code>private void updateDeliveryTime(\n      ScoreDirector&lt;DeliveryRoutingSolution&gt; scoreDirector, Delivery delivery) {\n    Delivery shadowDelivery = delivery;\n\n    while (shadowDelivery != null) {\n      LocalDateTime deliveryTime = null;\n      if (shadowDelivery.getPreviousDeliveryOrShift() != null) {\n        PreviousDeliveryOrShift previousDeliveryOrShift =\n            shadowDelivery.getPreviousDeliveryOrShift();\n\n        if (previousDeliveryOrShift.getType() == PreviousDeliveryOrShift.Type.SHIFT) {\n          Delivery nextDelivery = shadowDelivery;\n          Duration taskTimeBeforeDelivery = Duration.ZERO;\n\n          while (nextDelivery != null) { // the while loop causing the problem\n            taskTimeBeforeDelivery =\n                taskTimeBeforeDelivery.plus(\n                    nextDelivery.getTaskTime());\n\n            nextDelivery = nextDelivery.getNextDelivery();\n          }\n\n          deliveryTime =\n              previousDeliveryOrShift\n                  .getStartTime()\n                  .plus(taskTimeBeforeDelivery);\n\n        } else {\n          ...\n        }\n      }\n\n      scoreDirector.beforeVariableChanged(shadowDelivery, &quot;deliveryTime&quot;);\n      shadowDelivery.setDeliveryTime(deliveryTime);\n      scoreDirector.afterVariableChanged(shadowDelivery, &quot;deliveryTime&quot;);\n\n      shadowDelivery = shadowDelivery.getNextDelivery();\n    }\n  }\n}\n</code></pre>\n<p>I've tried looking at other stackoverflow threads on this issue but still can't seem to get this working. Any suggestions are welcome. Thanks.</p>\n"},{"tags":["java","gradle","junit"],"comments":[{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666476498,"post_id":74158587,"comment_id":130947408,"body_markdown":"Are you using the latest Intellij IDEA? It looks like a bug which must be fixed.","body":"Are you using the latest Intellij IDEA? It looks like a bug which must be fixed."}],"answers":[{"tags":[],"owner":{"account_id":9291622,"reputation":11371,"user_id":6899896,"display_name":"M.Ricciuti"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1666978031,"creation_date":1666978031,"answer_id":74238906,"question_id":74158587,"body_markdown":"Problem is coming from the naming of the package which contains your test classes, `DNAnalyzer`, which does not really follow java naming conventions as it&#39;s starts with/contains capital letters.\r\n\r\nWhen executing single test case or test class, IntelliJ will delegate to Gradle  by invoking `test` task with a specific filter, as follows\r\n`./gradlew :test --tests &quot;DNAnalyzer.MainTest.mainClassshouldExist&quot;`\r\n\r\nAnd in Gradle there is this issue : https://github.com/gradle/gradle/issues/20350 : &quot;test --tests does not work with packages which contain capital letters&quot;.\r\n\r\nTry to move your test classes in another well-named package and you won&#39;t have this issue.\r\n","title":"Gradle: Execution failed for task &#39;:test&#39;. &gt; No tests found for given includes:","body":"<p>Problem is coming from the naming of the package which contains your test classes, <code>DNAnalyzer</code>, which does not really follow java naming conventions as it's starts with/contains capital letters.</p>\n<p>When executing single test case or test class, IntelliJ will delegate to Gradle  by invoking <code>test</code> task with a specific filter, as follows\n<code>./gradlew :test --tests &quot;DNAnalyzer.MainTest.mainClassshouldExist&quot;</code></p>\n<p>And in Gradle there is this issue : <a href=\"https://github.com/gradle/gradle/issues/20350\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/20350</a> : &quot;test --tests does not work with packages which contain capital letters&quot;.</p>\n<p>Try to move your test classes in another well-named package and you won't have this issue.</p>\n"}],"owner":{"account_id":10285204,"reputation":115,"user_id":7588751,"display_name":"Martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11686,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74238906,"answer_count":1,"score":5,"last_activity_date":1666978031,"creation_date":1666382028,"question_id":74158587,"body_markdown":"I try to run this single unit test of [this open-source project on GitHub][1] with IntelliJ.\r\n\r\n  [1]: https://github.com/Verisimilitude11/DNAnalyzer\r\n\r\n\r\n    Execution failed for task &#39;:test&#39;.\r\n    No tests found for given includes: [DNAnalyzer.MainTest.mainClassshouldExist](--tests filter)\r\n\r\n## The test class\r\n\r\n    package DNAnalyzer;\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class MainTest {\r\n      @Test\r\n      public void mainClassshouldExist() throws ClassNotFoundException {\r\n         Class.forName(&quot;DNAnalyzer.Main&quot;);\r\n      }\r\n    }\r\n\r\n\r\n## The build.gradle\r\n\r\n    /*\r\n     * This file was generated by the Gradle &#39;init&#39; task.\r\n     *\r\n     * This generated file contains a sample Java application project to get you started.\r\n     * For more details take a look at the &#39;Building Java &amp; JVM projects&#39; chapter in the Gradle\r\n     * User Manual available at https://docs.gradle.org/7.5.1/userguide/building_java_projects.html\r\n     */\r\n    \r\n    plugins {\r\n        // Apply the application plugin to add support for building a CLI application in Java.\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    repositories {\r\n        // Use Maven Central for resolving dependencies.\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        // Use JUnit test framework.\r\n        testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &#39;5.9.1&#39;\r\n    \r\n    \r\n        // This dependency is used by the application.\r\n        implementation &quot;com.google.guava:guava:31.0.1-jre&quot;\r\n    \r\n        // Picocli\r\n        implementation &quot;info.picocli:picocli:4.6.3&quot;\r\n    }\r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &quot;DNAnalyzer.Main&quot;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;DNAnalyzer.Main&#39;\r\n        }\r\n    \r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\n\r\n## What I have tried\r\n - Updating to the newest JUnit \r\n\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &#39;5.9.1&#39;\r\n\r\n - Adding this to my build.gradle file:\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\n## The only workaround yet:\r\nWhen I go to Settings -&gt; Build-Tool -&gt; Gradle and set the Test execution to &quot;Run tests wit: IntelliJ IDEA&quot; the tests are executed correctly.\r\n\r\n\r\n\r\nThanks\r\n","title":"Gradle: Execution failed for task &#39;:test&#39;. &gt; No tests found for given includes:","body":"<p>I try to run this single unit test of <a href=\"https://github.com/Verisimilitude11/DNAnalyzer\" rel=\"noreferrer\">this open-source project on GitHub</a> with IntelliJ.</p>\n<pre><code>Execution failed for task ':test'.\nNo tests found for given includes: [DNAnalyzer.MainTest.mainClassshouldExist](--tests filter)\n</code></pre>\n<h2>The test class</h2>\n<pre><code>package DNAnalyzer;\n\n\nimport org.junit.jupiter.api.Test;\n\npublic class MainTest {\n  @Test\n  public void mainClassshouldExist() throws ClassNotFoundException {\n     Class.forName(&quot;DNAnalyzer.Main&quot;);\n  }\n}\n</code></pre>\n<h2>The build.gradle</h2>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details take a look at the 'Building Java &amp; JVM projects' chapter in the Gradle\n * User Manual available at https://docs.gradle.org/7.5.1/userguide/building_java_projects.html\n */\n\nplugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit test framework.\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.9.1'\n\n\n    // This dependency is used by the application.\n    implementation &quot;com.google.guava:guava:31.0.1-jre&quot;\n\n    // Picocli\n    implementation &quot;info.picocli:picocli:4.6.3&quot;\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = &quot;DNAnalyzer.Main&quot;\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'DNAnalyzer.Main'\n    }\n\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<h2>What I have tried</h2>\n<ul>\n<li><p>Updating to the newest JUnit</p>\n<p>testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.9.1'</p>\n</li>\n<li><p>Adding this to my build.gradle file:</p>\n<p>test {\nuseJUnitPlatform()\n}</p>\n</li>\n</ul>\n<h2>The only workaround yet:</h2>\n<p>When I go to Settings -&gt; Build-Tool -&gt; Gradle and set the Test execution to &quot;Run tests wit: IntelliJ IDEA&quot; the tests are executed correctly.</p>\n<p>Thanks</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666958643,"creation_date":1666896798,"answer_id":74226960,"question_id":74226510,"body_markdown":"You can use the [@Where annotation][1], but because you are using `@CollectionTable`, you need to change the mapping a bit.\r\n\r\nThis mapping will work:\r\n```\r\n\t@Entity\r\n\tclass Game {\r\n\r\n\t\t@Id\r\n\t\tpublic Long id;\r\n\r\n\t\t@ElementCollection\r\n\t\t@CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\r\n\t\t@Column(name=&quot;player_id&quot;)\r\n\t\t@Where(clause = &quot;team = &#39;H&#39;&quot;)\r\n\t\tpublic List&lt;Player&gt; homePlayerIds;\r\n\r\n\t\t@ElementCollection\r\n\t\t@CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\r\n\t\t@Where(clause = &quot;team = &#39;A&#39;&quot;)\r\n\t\t@Column(name=&quot;player_id&quot;)\r\n\t\tpublic List&lt;Player&gt; awayPlayerIds;\r\n\t}\r\n\r\n\t@Embeddable\r\n\tclass Player {\r\n\t\t@Column(name = &quot;player_id&quot;)\r\n\t\tpublic Long playerId;\r\n\t\tpublic String team;\r\n\r\n\t\tpublic Player() {\r\n\t\t}\r\n\r\n\t\tpublic Player(Long playerId, String team) {\r\n\t\t\tthis.playerId = playerId;\r\n\t\t\tthis.team = team;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nNote that for associations, one would normally use `@WhereJoinTable` but, when I&#39;ve tested it, it didn&#39;t work with `@CollectionTable`.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#pc-where","title":"Multiple @ElementCollection fields with discriminator?","body":"<p>You can use the <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#pc-where\" rel=\"nofollow noreferrer\">@Where annotation</a>, but because you are using <code>@CollectionTable</code>, you need to change the mapping a bit.</p>\n<p>This mapping will work:</p>\n<pre><code>    @Entity\n    class Game {\n\n        @Id\n        public Long id;\n\n        @ElementCollection\n        @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\n        @Column(name=&quot;player_id&quot;)\n        @Where(clause = &quot;team = 'H'&quot;)\n        public List&lt;Player&gt; homePlayerIds;\n\n        @ElementCollection\n        @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\n        @Where(clause = &quot;team = 'A'&quot;)\n        @Column(name=&quot;player_id&quot;)\n        public List&lt;Player&gt; awayPlayerIds;\n    }\n\n    @Embeddable\n    class Player {\n        @Column(name = &quot;player_id&quot;)\n        public Long playerId;\n        public String team;\n\n        public Player() {\n        }\n\n        public Player(Long playerId, String team) {\n            this.playerId = playerId;\n            this.team = team;\n        }\n    }\n</code></pre>\n<p>Note that for associations, one would normally use <code>@WhereJoinTable</code> but, when I've tested it, it didn't work with <code>@CollectionTable</code>.</p>\n"},{"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":1,"creation_date":1666908648,"post_id":74228046,"comment_id":131052893,"body_markdown":"I don&#39;t think that&#39;s going to work in this case because `team`  is part of a bridge table","body":"I don&#39;t think that&#39;s going to work in this case because <code>team</code>  is part of a bridge table"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1666916645,"post_id":74228046,"comment_id":131054196,"body_markdown":"@DavideD&#39;Alto Oh, I&#39;ve missed it. We should use `@WhereJoinTable` instead of `@Where` in this case, as it is mentioned [here](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-where-join-table). I&#39;ve corrected my answer.","body":"@DavideD&#39;Alto Oh, I&#39;ve missed it. We should use <code>@WhereJoinTable</code> instead of <code>@Where</code> in this case, as it is mentioned <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-where-join-table\" rel=\"nofollow noreferrer\">here</a>. I&#39;ve corrected my answer."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666944662,"post_id":74228046,"comment_id":131058883,"body_markdown":"Ive tried that as well, but it doesnt work","body":"Ive tried that as well, but it doesnt work"}],"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666977861,"creation_date":1666903113,"answer_id":74228046,"question_id":74226510,"body_markdown":"You can try to use something like this:\r\n\r\n```java\r\nimport org.hibernate.annotations.Where;\r\nimport javax.persistence.ElementCollection;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\n\r\n\r\n@Entity\r\nclass Game {\r\n    \r\n    @Id\r\n    private Long id\r\n\r\n    @ElementCollection\r\n    @JoinTable(name = &quot;game_player_team&quot;, \r\n               joinColumns = @JoinColumn(name = &quot;game_id&quot;))\r\n    @Where(clause = &quot;team = &#39;H&#39;&quot;)\r\n    @Column(name = &quot;player_id&quot;)\r\n    private List&lt;Long&gt; homePlayerIds;\r\n\r\n    @ElementCollection\r\n    @JoinTable(name = &quot;game_player_team&quot;, \r\n               joinColumns = @JoinColumn(name = &quot;game_id&quot;))\r\n    @Where(clause = &quot;team = &#39;A&#39;&quot;)\r\n    @Column(name = &quot;player_id&quot;)\r\n    private List&lt;Long&gt; awayPlayerIds;\r\n}\r\n```\r\n\r\nSee also [this part](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-where) of hibernate documentation.","title":"Multiple @ElementCollection fields with discriminator?","body":"<p>You can try to use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.annotations.Where;\nimport javax.persistence.ElementCollection;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\n\n\n@Entity\nclass Game {\n    \n    @Id\n    private Long id\n\n    @ElementCollection\n    @JoinTable(name = &quot;game_player_team&quot;, \n               joinColumns = @JoinColumn(name = &quot;game_id&quot;))\n    @Where(clause = &quot;team = 'H'&quot;)\n    @Column(name = &quot;player_id&quot;)\n    private List&lt;Long&gt; homePlayerIds;\n\n    @ElementCollection\n    @JoinTable(name = &quot;game_player_team&quot;, \n               joinColumns = @JoinColumn(name = &quot;game_id&quot;))\n    @Where(clause = &quot;team = 'A'&quot;)\n    @Column(name = &quot;player_id&quot;)\n    private List&lt;Long&gt; awayPlayerIds;\n}\n</code></pre>\n<p>See also <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-where\" rel=\"nofollow noreferrer\">this part</a> of hibernate documentation.</p>\n"}],"owner":{"account_id":163977,"reputation":859,"user_id":386464,"display_name":"linus1412"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74226960,"answer_count":2,"score":0,"last_activity_date":1666977861,"creation_date":1666894088,"question_id":74226510,"body_markdown":"\r\n\r\nI want to have a Game entity that has two List of player IDs stored as Longs\r\n\r\nThis is my table: game_player_team\r\n\r\n| game_id | player_id | team |\r\n| -------:| ---------:| ----:|\r\n|       1 |         1 |    H |\r\n|       1 |         2 |    H |\r\n|       1 |         3 |    A |\r\n|       1 |         4 |    A |\r\n\r\n\r\nAnd this is how far I got modeling the Game entity\r\n\r\nI can&#39;t work out how to get only the player_id&#39;s for the team H row and player_id&#39;s for the team A rows in to homePlayerIds and awayPlayerIds respectively.\r\n\r\nI&#39;ve seen the @Discriminator annotations but they only seem to work inheritence.\r\n\r\n\r\n```java\r\n@Entity\r\nclass Game {\r\n    \r\n    @Id\r\n    private Long id\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\r\n    @Column(name=&quot;player_id&quot;)\r\n    private List&lt;Long&gt; homePlayerIds;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\r\n    @Column(name=&quot;player_id&quot;)\r\n    private List&lt;Long&gt; awayPlayerIds;\r\n\r\n\r\n}\r\n```","title":"Multiple @ElementCollection fields with discriminator?","body":"<p>I want to have a Game entity that has two List of player IDs stored as Longs</p>\n<p>This is my table: game_player_team</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\">game_id</th>\n<th style=\"text-align: right;\">player_id</th>\n<th style=\"text-align: right;\">team</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">H</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">2</td>\n<td style=\"text-align: right;\">H</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">3</td>\n<td style=\"text-align: right;\">A</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">4</td>\n<td style=\"text-align: right;\">A</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And this is how far I got modeling the Game entity</p>\n<p>I can't work out how to get only the player_id's for the team H row and player_id's for the team A rows in to homePlayerIds and awayPlayerIds respectively.</p>\n<p>I've seen the @Discriminator annotations but they only seem to work inheritence.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Game {\n    \n    @Id\n    private Long id\n\n    @ElementCollection\n    @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\n    @Column(name=&quot;player_id&quot;)\n    private List&lt;Long&gt; homePlayerIds;\n\n    @ElementCollection\n    @CollectionTable(name=&quot;game_player_team&quot;, joinColumns={@JoinColumn(name=&quot;game_id&quot;)})\n    @Column(name=&quot;player_id&quot;)\n    private List&lt;Long&gt; awayPlayerIds;\n\n\n}\n</code></pre>\n"},{"tags":["java","jgit"],"comments":[{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1479137891,"post_id":40590039,"comment_id":68420358,"body_markdown":"Please clarify what &#39;Git features&#39; is. Are you referring to [Eclipse JGit](https://eclipse.org/jgit/), or to the Eclipse IDE Git integration, or something else entirely?","body":"Please clarify what &#39;Git features&#39; is. Are you referring to <a href=\"https://eclipse.org/jgit/\" rel=\"nofollow noreferrer\">Eclipse JGit</a>, or to the Eclipse IDE Git integration, or something else entirely?"},{"owner":{"account_id":6305412,"reputation":181,"user_id":4898613,"accept_rate":100,"display_name":"Thamilarasan M"},"score":0,"creation_date":1479188595,"post_id":40590039,"comment_id":68440613,"body_markdown":"Yes You are right Herrmann. I am talking about JGit. I need a function call which is used to get the file list committed as part of a commit.","body":"Yes You are right Herrmann. I am talking about JGit. I need a function call which is used to get the file list committed as part of a commit."},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1479201922,"post_id":40590039,"comment_id":68446987,"body_markdown":"Then show us some code, what have you tried so far?","body":"Then show us some code, what have you tried so far?"},{"owner":{"account_id":6305412,"reputation":181,"user_id":4898613,"accept_rate":100,"display_name":"Thamilarasan M"},"score":0,"creation_date":1479207513,"post_id":40590039,"comment_id":68450604,"body_markdown":"Please have a look at the above example code. I am gonna show the commit IDs in a table and corresponding committed files in the separate list. I don&#39;t know how to get the file list for the particular commit.","body":"Please have a look at the above example code. I am gonna show the commit IDs in a table and corresponding committed files in the separate list. I don&#39;t know how to get the file list for the particular commit."},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1479381792,"post_id":40590039,"comment_id":68538352,"body_markdown":"Did you try to include the code from my answer?","body":"Did you try to include the code from my answer?"},{"owner":{"account_id":6305412,"reputation":181,"user_id":4898613,"accept_rate":100,"display_name":"Thamilarasan M"},"score":0,"creation_date":1479799814,"post_id":40590039,"comment_id":68697960,"body_markdown":"Thank you so much Herrmann. I was trying your code and it satisfied my requirement. Thanks again.","body":"Thank you so much Herrmann. I was trying your code and it satisfied my requirement. Thanks again."}],"answers":[{"comments":[{"owner":{"account_id":199442,"reputation":453,"user_id":444771,"accept_rate":14,"display_name":"Gringo Golf"},"score":2,"creation_date":1499284109,"post_id":40609231,"comment_id":76845640,"body_markdown":"I&#39;m getting: org.eclipse.jgit.errors.IncorrectObjectTypeException: Object e5acd3dd99bfc09bf93ba4dd2db4a9ddba4c7359 is not a tree.","body":"I&#39;m getting: org.eclipse.jgit.errors.IncorrectObjectTypeException: Object e5acd3dd99bfc09bf93ba4dd2db4a9ddba4c7359 is not a tree."},{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1511153999,"post_id":40609231,"comment_id":81723571,"body_markdown":"why else would a file be in staging area if not being added/modified or removed ?","body":"why else would a file be in staging area if not being added/modified or removed ?"},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1511208014,"post_id":40609231,"comment_id":81753586,"body_markdown":"@NimChimpsky thank you for the hint. My answer wasn&#39;t very clear in this respect. Please see my edited answer which hopefully makes more sense.","body":"@NimChimpsky thank you for the hint. My answer wasn&#39;t very clear in this respect. Please see my edited answer which hopefully makes more sense."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1533164251,"post_id":40609231,"comment_id":90250977,"body_markdown":"Is it possible to get the commits from a file path in the repository?","body":"Is it possible to get the commits from a file path in the repository?"},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1533190715,"post_id":40609231,"comment_id":90257106,"body_markdown":"Are you looking for something like this: https://stackoverflow.com/questions/11471836/how-to-git-log-follow-path-in-jgit-to-retrieve-the-full-history-includi?","body":"Are you looking for something like this: <a href=\"https://stackoverflow.com/questions/11471836/how-to-git-log-follow-path-in-jgit-to-retrieve-the-full-history-includi\" title=\"how to git log follow path in jgit to retrieve the full history includi\">stackoverflow.com/questions/11471836/&hellip;</a>?"},{"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"score":0,"creation_date":1551644091,"post_id":40609231,"comment_id":96705740,"body_markdown":"I&#39;m getting the same problem as GringoGolf above:\norg.eclipse.jgit.errors.IncorrectObjectTypeException\n\t *             the given object id does not denote a tree, but instead names\n\t *             some other non-tree type of object. Note that commits are not\n\t *             trees, even if they are sometimes called a &quot;tree-ish&quot;.","body":"I&#39;m getting the same problem as GringoGolf above: org.eclipse.jgit.errors.IncorrectObjectTypeException \t *             the given object id does not denote a tree, but instead names \t *             some other non-tree type of object. Note that commits are not \t *             trees, even if they are sometimes called a &quot;tree-ish&quot;."},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1551684155,"post_id":40609231,"comment_id":96715100,"body_markdown":"@paiego I guess the `IncorrectObjectTypeException` exception was due to a missing step. Please see the updated answer.","body":"@paiego I guess the <code>IncorrectObjectTypeException</code> exception was due to a missing step. Please see the updated answer."}],"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"comment_count":7,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1616765153,"creation_date":1479210866,"answer_id":40609231,"question_id":40590039,"body_markdown":"Each commit points to a _tree_ that denotes all files that make up the commit. \r\n\r\n**Note, that this not only includes the files that were added, modified, or removed with this particular commit but all files contained in this revision.**\r\n\r\nIf the commit is represented as a `RevCommit`, the ID of the tree can be obtained like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    ObjectId treeId = commit.getTree().getId();\r\n\r\nIf the commit ID originates from another source, it needs to be resolved first to get the associated tree ID. See here, for example: https://stackoverflow.com/questions/25755475/how-to-obtain-the-revcommit-or-objectid-from-a-sha1-id-string-with-jgit\r\n\r\nIn order to iterate over a tree, use a `TreeWalk`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    try (TreeWalk treeWalk = new TreeWalk(repository)) {\r\n      treeWalk.reset(treeId);\r\n      while (treeWalk.next()) {\r\n        String path = treeWalk.getPathString();\r\n        // ...\r\n      }\r\n    }\r\n\r\n\r\nIf you are only interested in the changes that were recorded with a certain commit, see here: [Creating Diffs with JGit](http://www.codeaffine.com/2016/06/16/jgit-diff/) or here: https://stackoverflow.com/questions/23486483/file-diff-against-the-last-commit-with-jgit\r\n","title":"How to get the file list for a commit with JGit","body":"<p>Each commit points to a <em>tree</em> that denotes all files that make up the commit.</p>\n<p><strong>Note, that this not only includes the files that were added, modified, or removed with this particular commit but all files contained in this revision.</strong></p>\n<p>If the commit is represented as a <code>RevCommit</code>, the ID of the tree can be obtained like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectId treeId = commit.getTree().getId();\n</code></pre>\n<p>If the commit ID originates from another source, it needs to be resolved first to get the associated tree ID. See here, for example: <a href=\"https://stackoverflow.com/questions/25755475/how-to-obtain-the-revcommit-or-objectid-from-a-sha1-id-string-with-jgit\">How to obtain the RevCommit or ObjectId from a SHA1 ID string with JGit?</a></p>\n<p>In order to iterate over a tree, use a <code>TreeWalk</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (TreeWalk treeWalk = new TreeWalk(repository)) {\n  treeWalk.reset(treeId);\n  while (treeWalk.next()) {\n    String path = treeWalk.getPathString();\n    // ...\n  }\n}\n</code></pre>\n<p>If you are only interested in the changes that were recorded with a certain commit, see here: <a href=\"http://www.codeaffine.com/2016/06/16/jgit-diff/\" rel=\"nofollow noreferrer\">Creating Diffs with JGit</a> or here: <a href=\"https://stackoverflow.com/questions/23486483/file-diff-against-the-last-commit-with-jgit\">File diff against the last commit with JGit</a></p>\n"},{"tags":[],"owner":{"account_id":7027585,"reputation":305,"user_id":5384491,"display_name":"Arutsudar Arut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523123298,"creation_date":1523123298,"answer_id":49710232,"question_id":40590039,"body_markdown":"I edited a little from the code given in this [link][1].\r\nYou can try using the below code.\r\n\r\n\tpublic void commitHistory(Git git) throws NoHeadException, GitAPIException, IncorrectObjectTypeException, CorruptObjectException, IOException, UnirestException \r\n\t{\r\n\t\tIterable&lt;RevCommit&gt; logs = git.log().call();\r\n\t\tint k = 0;\r\n\t\tfor (RevCommit commit : logs) {\r\n\t\t\tString commitID = commit.getName();\r\n\t\t\tif (commitID != null &amp;&amp; !commitID.isEmpty())\r\n\t\t\t{\r\n\t\t\t\tLogCommand logs2 = git.log().all();\r\n\t\t\t\tRepository repository = logs2.getRepository();\r\n\t\t\t\ttw = new TreeWalk(repository);\r\n\t\t\t\ttw.setRecursive(true);\r\n\t\t\t\tRevCommit commitToCheck = commit;\r\n\t\t\t\ttw.addTree(commitToCheck.getTree());\r\n\t\t\t\tfor (RevCommit parent : commitToCheck.getParents())\r\n\t\t\t\t{\r\n\t\t\t\t\ttw.addTree(parent.getTree());\r\n\t\t\t\t}\r\n\t\t\t\twhile (tw.next())\r\n\t\t\t\t{\r\n\t\t\t\t\tint similarParents = 0;\r\n\t\t\t\t\tfor (int i = 1; i &lt; tw.getTreeCount(); i++)\r\n\t\t\t\t\t\tif (tw.getFileMode(i) == tw.getFileMode(0) &amp;&amp; tw.getObjectId(0).equals(tw.getObjectId(i)))\r\n\t\t\t\t\t\t\tsimilarParents++;\r\n\t\t\t\t\tif (similarParents == 0) \r\n\t\t\t\t\t\t\tSystem.out.println(&quot;File names: &quot; + fileName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://www.eclipse.org/forums/index.php/t/1070895/","title":"How to get the file list for a commit with JGit","body":"<p>I edited a little from the code given in this <a href=\"https://www.eclipse.org/forums/index.php/t/1070895/\" rel=\"nofollow noreferrer\">link</a>.\nYou can try using the below code.</p>\n\n<pre><code>public void commitHistory(Git git) throws NoHeadException, GitAPIException, IncorrectObjectTypeException, CorruptObjectException, IOException, UnirestException \n{\n    Iterable&lt;RevCommit&gt; logs = git.log().call();\n    int k = 0;\n    for (RevCommit commit : logs) {\n        String commitID = commit.getName();\n        if (commitID != null &amp;&amp; !commitID.isEmpty())\n        {\n            LogCommand logs2 = git.log().all();\n            Repository repository = logs2.getRepository();\n            tw = new TreeWalk(repository);\n            tw.setRecursive(true);\n            RevCommit commitToCheck = commit;\n            tw.addTree(commitToCheck.getTree());\n            for (RevCommit parent : commitToCheck.getParents())\n            {\n                tw.addTree(parent.getTree());\n            }\n            while (tw.next())\n            {\n                int similarParents = 0;\n                for (int i = 1; i &lt; tw.getTreeCount(); i++)\n                    if (tw.getFileMode(i) == tw.getFileMode(0) &amp;&amp; tw.getObjectId(0).equals(tw.getObjectId(i)))\n                        similarParents++;\n                if (similarParents == 0) \n                        System.out.println(\"File names: \" + fileName);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26504253,"reputation":1,"user_id":20140659,"display_name":"Clint"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666976897,"creation_date":1664677046,"answer_id":73922970,"question_id":40590039,"body_markdown":"I came up with this solution for finding the list of files changed in a commit. Because a commit only has the files(tree) at the time of the commit, it doesn&#39;t have any changes. You can&#39;t get differences until you compare the commit with another commit(a parent). This solution was researched by looking at how Jgit performed a diff. \r\n\r\nNote: For simplicity, I didn&#39;t handle the special cases of a commit having multiple parents or no parents.\r\n\r\nFinds a set of files (unique and sorted) that were changed by a set of commits.\r\n\r\n    public Set&lt;String&gt; getChangedFiles(Git git, Set&lt;RevCommit&gt; commits)\r\n    {\r\n    \tTreeWalk walk = new TreeWalk(git.getRepository());\r\n    \twalk.setRecursive(true);\r\n    \twalk.setFilter(TreeFilter.ANY_DIFF);\r\n    \r\n    \tSet&lt;String&gt; files = new TreeSet&lt;&gt;(); // Uses natural ordering\r\n    \tcommits.forEach(commit-&gt;\r\n    \t{\r\n    \t\tSystem.err.println( commit.getFullMessage() );\r\n    \t\tObjectId a = commit.getTree().getId();\r\n    \t\tRevCommit parent = commit.getParent(0);\r\n    \t\tObjectId b = parent.getTree().getId();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\twalk.reset(b,a);\r\n    \t\t\tList&lt;DiffEntry&gt;changes = DiffEntry.scan(walk);\r\n    \t\t\tchanges.forEach(de-&gt;\r\n    \t\t\t{\r\n    \t\t\t\tfiles.add(de.getNewPath()); // use old path if change type is deleted\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\tcatch (IOException e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t});\r\n    \treturn files;\r\n    }\r\n\r\n","title":"How to get the file list for a commit with JGit","body":"<p>I came up with this solution for finding the list of files changed in a commit. Because a commit only has the files(tree) at the time of the commit, it doesn't have any changes. You can't get differences until you compare the commit with another commit(a parent). This solution was researched by looking at how Jgit performed a diff.</p>\n<p>Note: For simplicity, I didn't handle the special cases of a commit having multiple parents or no parents.</p>\n<p>Finds a set of files (unique and sorted) that were changed by a set of commits.</p>\n<pre><code>public Set&lt;String&gt; getChangedFiles(Git git, Set&lt;RevCommit&gt; commits)\n{\n    TreeWalk walk = new TreeWalk(git.getRepository());\n    walk.setRecursive(true);\n    walk.setFilter(TreeFilter.ANY_DIFF);\n\n    Set&lt;String&gt; files = new TreeSet&lt;&gt;(); // Uses natural ordering\n    commits.forEach(commit-&gt;\n    {\n        System.err.println( commit.getFullMessage() );\n        ObjectId a = commit.getTree().getId();\n        RevCommit parent = commit.getParent(0);\n        ObjectId b = parent.getTree().getId();\n\n        try\n        {\n            walk.reset(b,a);\n            List&lt;DiffEntry&gt;changes = DiffEntry.scan(walk);\n            changes.forEach(de-&gt;\n            {\n                files.add(de.getNewPath()); // use old path if change type is deleted\n            });\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    });\n    return files;\n}\n</code></pre>\n"}],"owner":{"account_id":6305412,"reputation":181,"user_id":4898613,"accept_rate":100,"display_name":"Thamilarasan M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12106,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":40609231,"answer_count":3,"score":14,"last_activity_date":1666976897,"creation_date":1479130598,"question_id":40590039,"body_markdown":"I have been working on a Java based product for which the Git features are going to be integrated. Using one of the Git features, I have done adding 10+ files into the Git repository by staging followed by committing them in a single commit.\r\n\r\nIs the reverse of the above process possible? I.e Finding the list of files committed as part of a commit.\r\n\r\nI got the commit with the help of the `git.log()` command but I am not sure how to get the file list for the commit.\r\n\r\nExample Code:\r\n\r\n    Git git = (...);\r\n    Iterable&lt;RevCommit&gt; logs = git.log().call();\r\n    for(RevCommit commit : logs) {\r\n        String commitID = commit.getName();\r\n        if(commitID != null &amp;&amp; !commitID.isEmpty()) {\r\n        TableItem item = new TableItem(table, SWT.None);\r\n        item.setText(commitID);\r\n        // Here I want to get the file list for the commit object\r\n    }\r\n    }","title":"How to get the file list for a commit with JGit","body":"<p>I have been working on a Java based product for which the Git features are going to be integrated. Using one of the Git features, I have done adding 10+ files into the Git repository by staging followed by committing them in a single commit.</p>\n\n<p>Is the reverse of the above process possible? I.e Finding the list of files committed as part of a commit.</p>\n\n<p>I got the commit with the help of the <code>git.log()</code> command but I am not sure how to get the file list for the commit.</p>\n\n<p>Example Code:</p>\n\n<pre><code>Git git = (...);\nIterable&lt;RevCommit&gt; logs = git.log().call();\nfor(RevCommit commit : logs) {\n    String commitID = commit.getName();\n    if(commitID != null &amp;&amp; !commitID.isEmpty()) {\n    TableItem item = new TableItem(table, SWT.None);\n    item.setText(commitID);\n    // Here I want to get the file list for the commit object\n}\n}\n</code></pre>\n"},{"tags":["java","jndi","payara"],"answers":[{"tags":[],"owner":{"account_id":9651603,"reputation":394,"user_id":7162592,"display_name":"kelmi92"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666778022,"creation_date":1666778022,"answer_id":74205798,"question_id":74203723,"body_markdown":"Yes, a restart of the payara instance is needed if the JNDI variable is changed.","title":"JNDI Variable change, need for restart of the payara instance?","body":"<p>Yes, a restart of the payara instance is needed if the JNDI variable is changed.</p>\n"},{"tags":[],"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666976587,"creation_date":1666975357,"answer_id":74238428,"question_id":74203723,"body_markdown":"You don&#39;t have to restart the whole payara server or domain, you just need to reload your web application that reads it.\r\n\r\nIf you look at your glassfish/payara web console and go to your Applications page, you can see a Reload option.  If you click on that for your app, it will essentially restart and it will read in the updated jndi value you just changed.\r\n\r\n\r\nHowever if you have lots of web apps reading from the same jndi variable its probably easier just restarting your payara server.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H9ZU2.png","title":"JNDI Variable change, need for restart of the payara instance?","body":"<p>You don't have to restart the whole payara server or domain, you just need to reload your web application that reads it.</p>\n<p>If you look at your glassfish/payara web console and go to your Applications page, you can see a Reload option.  If you click on that for your app, it will essentially restart and it will read in the updated jndi value you just changed.</p>\n<p>However if you have lots of web apps reading from the same jndi variable its probably easier just restarting your payara server.\n<a href=\"https://i.stack.imgur.com/H9ZU2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H9ZU2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14271910,"reputation":333,"user_id":10309166,"display_name":"nixfuerdiecharts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666976587,"creation_date":1666767237,"question_id":74203723,"body_markdown":"Do I need to restart my payara instance after changing a JNDI variable to apply the changes in the application?\r\n\r\nOr is there some kind of automatic reload mechanism?","title":"JNDI Variable change, need for restart of the payara instance?","body":"<p>Do I need to restart my payara instance after changing a JNDI variable to apply the changes in the application?</p>\n<p>Or is there some kind of automatic reload mechanism?</p>\n"},{"tags":["java","spring-boot","spring-batch","spring-kafka"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666944439,"post_id":74227651,"comment_id":131058818,"body_markdown":"Are you running a new job instance in each scheduled run? Are you setting the partition offset on each new run? Those are key to correctly answer your question. Please share your code to be able to help you in an efficient way.","body":"Are you running a new job instance in each scheduled run? Are you setting the partition offset on each new run? Those are key to correctly answer your question. Please share your code to be able to help you in an efficient way."},{"owner":{"account_id":8859262,"reputation":405,"user_id":6615961,"display_name":"Zied Yazidi"},"score":0,"creation_date":1666947519,"post_id":74227651,"comment_id":131059789,"body_markdown":"I have edited my post.\nBy setting the partition offset on each run, you mean the kafkaconsumer configurations that i&#39;m using ?","body":"I have edited my post. By setting the partition offset on each run, you mean the kafkaconsumer configurations that i&#39;m using ?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666976124,"post_id":74227651,"comment_id":131069469,"body_markdown":"Thank you for the update. I added an answer. HIH.","body":"Thank you for the update. I added an answer. HIH."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666976091,"creation_date":1666976091,"answer_id":74238567,"question_id":74227651,"body_markdown":"&gt; This only works when i restart the scheduler process.\r\n\r\nThis is probably because your item reader is a singleton bean, having the same state for the entire lifetime of the application context. Things should work as you expect if you make your item reader step-scoped, so that a new instance is created for each scheduled run, and therefore the partition offset would be set to the one stored in Kafka.","title":"Spring Batch: KafkaItemReader reads from offset 0 if the JVM is not restarted","body":"<blockquote>\n<p>This only works when i restart the scheduler process.</p>\n</blockquote>\n<p>This is probably because your item reader is a singleton bean, having the same state for the entire lifetime of the application context. Things should work as you expect if you make your item reader step-scoped, so that a new instance is created for each scheduled run, and therefore the partition offset would be set to the one stored in Kafka.</p>\n"}],"owner":{"account_id":8859262,"reputation":405,"user_id":6615961,"display_name":"Zied Yazidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74238567,"answer_count":1,"score":0,"last_activity_date":1666976091,"creation_date":1666900704,"question_id":74227651,"body_markdown":"I&#39;m trying to implement a Spring Batch job that is scheduled by a Spring scheduler.\r\n\r\n\r\n\r\nThe current befavior is as follows:\r\n\r\n- The job is launched by the scheduler using JarLauncher\r\n- The job consumes the kafka records and processed them\r\n- The next time the jobs ris launched by the scheduler, it consumes the kafka records already processed\r\n\r\nThe expected behavior is that the job needs to start processing from the last commited offset.\r\n\r\nI have set an empty map to the partitionOffsets property as follows to make the reader read the offsets from kafka.\r\n\r\n```\r\nkafkaItemReader.setPartitionOffsets(new HashMap&lt;&gt;());\r\n```\r\n\r\nThis only works when i restart the scheduler process.\r\nFYI, the offsets are correcty stored in the \\_consumer_offsets topic.\r\nMy question is, i&#39;m i mising some configuration that makes the KafkaItemReader read the offsets from kafka when the scheduler is not restarted ?\r\n\r\nEDIT:  \r\nEach time the scheduler is calling `jobLauncher.run(job, jobParameters);`, so i guess it is running a new instance\r\nThe item reader created is:\r\n\r\n    public ItemReader&lt;byte[]&gt; readFile() {\r\n                KafkaItemReader&lt;String, byte[]&gt; kafkaItemReader = new KafkaItemReaderBuilder&lt;String, byte[]&gt;()\r\n                        .partitions(partitionsList)\r\n                        .consumerProperties(props)\r\n                        .name(&quot;consumer name&quot;)\r\n                        .saveState(true)\r\n                        .topic(topicName)\r\n                        .build();\r\n                kafkaItemReader.setPartitionOffsets(new HashMap&lt;&gt;());\r\n                return kafkaItemReader;\r\n    }\r\n\r\nMy kafkaConsumer configurations are:\r\n\r\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, KAFKA_CONFIG_BOOTSTRAP_SERVERS);\r\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, KAFKA_CONFIG_GROUP_ID);\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KAFKA_CONFIG_KEY_DESERIALIZER_CLASS);\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KAFKA_CONFIG_VALUE_DESERIALIZER_BYTES_CLASS);\r\n    props.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, KAFKA_CONFIG_FETCH_BYTES);\r\n    props.put(ConsumerConfig.FETCH_MAX_BYTES_CONFIG, KAFKA_CONFIG_FETCH_BYTES);\r\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, KAFKA_CONFIG_AUTO_OFFSET_RESET_LATEST);\r\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, KAFKA_CONFIG_ENABLE_AUTO_COMMMIT);\r\n\r\n","title":"Spring Batch: KafkaItemReader reads from offset 0 if the JVM is not restarted","body":"<p>I'm trying to implement a Spring Batch job that is scheduled by a Spring scheduler.</p>\n<p>The current befavior is as follows:</p>\n<ul>\n<li>The job is launched by the scheduler using JarLauncher</li>\n<li>The job consumes the kafka records and processed them</li>\n<li>The next time the jobs ris launched by the scheduler, it consumes the kafka records already processed</li>\n</ul>\n<p>The expected behavior is that the job needs to start processing from the last commited offset.</p>\n<p>I have set an empty map to the partitionOffsets property as follows to make the reader read the offsets from kafka.</p>\n<pre><code>kafkaItemReader.setPartitionOffsets(new HashMap&lt;&gt;());\n</code></pre>\n<p>This only works when i restart the scheduler process.\nFYI, the offsets are correcty stored in the _consumer_offsets topic.\nMy question is, i'm i mising some configuration that makes the KafkaItemReader read the offsets from kafka when the scheduler is not restarted ?</p>\n<p>EDIT:<br />\nEach time the scheduler is calling <code>jobLauncher.run(job, jobParameters);</code>, so i guess it is running a new instance\nThe item reader created is:</p>\n<pre><code>public ItemReader&lt;byte[]&gt; readFile() {\n            KafkaItemReader&lt;String, byte[]&gt; kafkaItemReader = new KafkaItemReaderBuilder&lt;String, byte[]&gt;()\n                    .partitions(partitionsList)\n                    .consumerProperties(props)\n                    .name(&quot;consumer name&quot;)\n                    .saveState(true)\n                    .topic(topicName)\n                    .build();\n            kafkaItemReader.setPartitionOffsets(new HashMap&lt;&gt;());\n            return kafkaItemReader;\n}\n</code></pre>\n<p>My kafkaConsumer configurations are:</p>\n<pre><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, KAFKA_CONFIG_BOOTSTRAP_SERVERS);\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, KAFKA_CONFIG_GROUP_ID);\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KAFKA_CONFIG_KEY_DESERIALIZER_CLASS);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KAFKA_CONFIG_VALUE_DESERIALIZER_BYTES_CLASS);\nprops.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, KAFKA_CONFIG_FETCH_BYTES);\nprops.put(ConsumerConfig.FETCH_MAX_BYTES_CONFIG, KAFKA_CONFIG_FETCH_BYTES);\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, KAFKA_CONFIG_AUTO_OFFSET_RESET_LATEST);\nprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, KAFKA_CONFIG_ENABLE_AUTO_COMMMIT);\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1666970156,"post_id":74235707,"comment_id":131067364,"body_markdown":"From Selenium 4+, there is a `newWindow` method that let you open said window as a tab or a separate window. Refer to this answer: https://stackoverflow.com/a/66640852/10621296","body":"From Selenium 4+, there is a <code>newWindow</code> method that let you open said window as a tab or a separate window. Refer to this answer: <a href=\"https://stackoverflow.com/a/66640852/10621296\">stackoverflow.com/a/66640852/10621296</a>"},{"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"score":0,"creation_date":1666995170,"post_id":74235707,"comment_id":131074337,"body_markdown":"I know but i am not using selenium 4+ in my framework and i am not able to change it. That&#39;s why i should find different solution.","body":"I know but i am not using selenium 4+ in my framework and i am not able to change it. That&#39;s why i should find different solution."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1666995554,"post_id":74235707,"comment_id":131074401,"body_markdown":"Then please add what version of Selenium you are using. Since Selenium 4 and newer releases already have solutions for this, knowing which version of Selenium you have can help others better understand your problem.","body":"Then please add what version of Selenium you are using. Since Selenium 4 and newer releases already have solutions for this, knowing which version of Selenium you have can help others better understand your problem."},{"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"score":0,"creation_date":1667017420,"post_id":74235707,"comment_id":131076662,"body_markdown":"My Selenium version is 3.141.59. And also i am using Singleton and POM design patterns.","body":"My Selenium version is 3.141.59. And also i am using Singleton and POM design patterns."}],"answers":[{"comments":[{"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"score":0,"creation_date":1667018974,"post_id":74238554,"comment_id":131076779,"body_markdown":"How can apply this code for Singleton design pattern?","body":"How can apply this code for Singleton design pattern?"},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1667019708,"post_id":74238554,"comment_id":131076841,"body_markdown":"This is the different question.","body":"This is the different question."},{"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"score":0,"creation_date":1667020563,"post_id":74238554,"comment_id":131076925,"body_markdown":"Maybe, but the problem is this. I think, this problem can be disadvantages of singleton.","body":"Maybe, but the problem is this. I think, this problem can be disadvantages of singleton."},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1667020966,"post_id":74238554,"comment_id":131076960,"body_markdown":"After closing the window, make driver as null, then continue","body":"After closing the window, make driver as null, then continue"}],"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666976039,"creation_date":1666976039,"answer_id":74238554,"question_id":74235707,"body_markdown":"You can use profile to achieve this scenario. I &#39;ve just given some sample code:\r\n\r\n\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;--user-data-dir=C:\\\\Temp\\\\&quot;);\r\n\t\toptions.addArguments(&quot;--profile-directory=ChromeData&quot;);\r\n\t\t\r\n\t\tdriver = new ChromeDriver(options);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\t\tdriver.get(&quot;https://www.flipkart.com/&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@class=&#39;_2IX_2- VJZDxU&#39;]&quot;)).sendKeys(&quot;&lt;username&gt;&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@class=&#39;_2IX_2- _3mctLh VJZDxU&#39;]&quot;)).sendKeys(&quot;&lt;password&gt;&quot;);\r\n\t\tThread.sleep(1000);\r\n\t\tdriver.findElement(By.xpath(&quot;//button[@class=&#39;_2KpZ6l _2HKlqd _3AWRsL&#39;]&quot;)).click();\r\n\t\tThread.sleep(3000);\r\n\t\tdriver.close();\r\n\t\tThread.sleep(1000);\r\n\t\t\r\n\t\tdriver = new ChromeDriver(options);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(&quot;https://www.flipkart.com/&quot;);\r\n\r\nThe above code will create a new chrome profile in the directory - &quot;C:\\Temp\\ChromeData&quot;, then open the browser, launch the URL, login, close the window, again open a chrome browser, launch the same URL, but this time, the user already logged in.","title":"How can i same session id in my test when i close single open tab in Selenium?","body":"<p>You can use profile to achieve this scenario. I 've just given some sample code:</p>\n<pre><code>    WebDriverManager.chromedriver().setup();\n    \n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--user-data-dir=C:\\\\Temp\\\\&quot;);\n    options.addArguments(&quot;--profile-directory=ChromeData&quot;);\n    \n    driver = new ChromeDriver(options);\n    driver.manage().window().maximize();\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    driver.get(&quot;https://www.flipkart.com/&quot;);\n    driver.findElement(By.xpath(&quot;//input[@class='_2IX_2- VJZDxU']&quot;)).sendKeys(&quot;&lt;username&gt;&quot;);\n    driver.findElement(By.xpath(&quot;//input[@class='_2IX_2- _3mctLh VJZDxU']&quot;)).sendKeys(&quot;&lt;password&gt;&quot;);\n    Thread.sleep(1000);\n    driver.findElement(By.xpath(&quot;//button[@class='_2KpZ6l _2HKlqd _3AWRsL']&quot;)).click();\n    Thread.sleep(3000);\n    driver.close();\n    Thread.sleep(1000);\n    \n    driver = new ChromeDriver(options);\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.flipkart.com/&quot;);\n</code></pre>\n<p>The above code will create a new chrome profile in the directory - &quot;C:\\Temp\\ChromeData&quot;, then open the browser, launch the URL, login, close the window, again open a chrome browser, launch the same URL, but this time, the user already logged in.</p>\n"}],"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666976039,"creation_date":1666961506,"question_id":74235707,"body_markdown":"I want run one test script. The scenario is like that;\r\n- Go to login page\r\n- Login with valid credentials\r\n- Close current single tab\r\n- Go to the login page again\r\n- Verify whether browser will go homepage instead of login page or not.\r\n\r\nBut i don&#39;t know how can i do that. Because if i use close or quit method, session id will be killed. even if i open new browser for another step, it will not be same with real scenario. Because as manually, if i try to go to login page after closing single open homepage without logging out, i can go to home page directly. I am not be able to automate it. \r\n\r\nI used some Actions method to close and also open new tab.\r\nAnd i used these;\r\n\r\ndriver.findElement(By.cssSelector(body)).sendKeys(Keys.CONTROL+t);\r\n\r\n\r\ndriver.findElement(By.cssSelector(body)).sendKeys(Keys.CONTROL + &#39;w&#39;);\r\n\r\nI am using Selenium+Java+Cucumber+Chrome+Mac\r\n\r\n\r\n","title":"How can i same session id in my test when i close single open tab in Selenium?","body":"<p>I want run one test script. The scenario is like that;</p>\n<ul>\n<li>Go to login page</li>\n<li>Login with valid credentials</li>\n<li>Close current single tab</li>\n<li>Go to the login page again</li>\n<li>Verify whether browser will go homepage instead of login page or not.</li>\n</ul>\n<p>But i don't know how can i do that. Because if i use close or quit method, session id will be killed. even if i open new browser for another step, it will not be same with real scenario. Because as manually, if i try to go to login page after closing single open homepage without logging out, i can go to home page directly. I am not be able to automate it.</p>\n<p>I used some Actions method to close and also open new tab.\nAnd i used these;</p>\n<p>driver.findElement(By.cssSelector(body)).sendKeys(Keys.CONTROL+t);</p>\n<p>driver.findElement(By.cssSelector(body)).sendKeys(Keys.CONTROL + 'w');</p>\n<p>I am using Selenium+Java+Cucumber+Chrome+Mac</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":26762379,"reputation":1,"user_id":20360109,"display_name":"colby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666975924,"creation_date":1666975924,"answer_id":74238528,"question_id":74238438,"body_markdown":"I mistakenly set src as the main in my gradle and its now fixed.\r\n\r\n    sourceSets {\r\n    \tmain {\r\n    \t\tjava {\r\n    \t\t\tsrcDirs = [&quot;main&quot;]\r\n    \t\t}\r\n    \t}\r\n    }","title":"SpringBoot src [main] issue","body":"<p>I mistakenly set src as the main in my gradle and its now fixed.</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs = [&quot;main&quot;]\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26762379,"reputation":1,"user_id":20360109,"display_name":"colby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666975924,"creation_date":1666975404,"question_id":74238438,"body_markdown":"Does anyone know why this would be happening? Other projects I have show src -&gt; main as bolded.\r\n\r\n\r\n[![src [main](https://i.stack.imgur.com/Y0Dt7.png)](https://i.stack.imgur.com/Y0Dt7.png)g\r\n\r\nI have tried unmarked directories and recreating the source directory as java as I was having a separate issue.","title":"SpringBoot src [main] issue","body":"<p>Does anyone know why this would be happening? Other projects I have show src -&gt; main as bolded.</p>\n<p>[<img src=\"https://i.stack.imgur.com/Y0Dt7.png\" alt=\"src main\" />g</p>\n<p>I have tried unmarked directories and recreating the source directory as java as I was having a separate issue.</p>\n"},{"tags":["java","sorting","tree","set"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666970396,"post_id":74237088,"comment_id":131067437,"body_markdown":"I think part of your problem is not taking advantage of what the library classes offer you. For example, when adding a number (i.e. `set.add(2)`), the method will return `false` if the value already exist in the set. Therefore, you can capture the `boolean` value and do something like this: `if (!notInSet) {  // display 0; } else {// calculate diff} `","body":"I think part of your problem is not taking advantage of what the library classes offer you. For example, when adding a number (i.e. <code>set.add(2)</code>), the method will return <code>false</code> if the value already exist in the set. Therefore, you can capture the <code>boolean</code> value and do something like this: <code>if (!notInSet) {  &#47;&#47; display 0; } else {&#47;&#47; calculate diff} </code>"},{"owner":{"account_id":8214499,"reputation":25,"user_id":20005986,"display_name":"Kevin"},"score":0,"creation_date":1666970590,"post_id":74237088,"comment_id":131067507,"body_markdown":"@hfontanez tried that and there&#39;s no difference, still not meeting time complexity requirements","body":"@hfontanez tried that and there&#39;s no difference, still not meeting time complexity requirements"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666970719,"post_id":74237088,"comment_id":131067566,"body_markdown":"You have to look for similar opportunities in the other methods. As to the efficiency of your calculation, that&#39;s another story. Maybe you could try this? https://stackoverflow.com/a/13318769/2851311","body":"You have to look for similar opportunities in the other methods. As to the efficiency of your calculation, that&#39;s another story. Maybe you could try this? <a href=\"https://stackoverflow.com/a/13318769/2851311\">stackoverflow.com/a/13318769/2851311</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666970899,"post_id":74237088,"comment_id":131067639,"body_markdown":"Or maybe this other answer in the same question https://stackoverflow.com/a/48137268/2851311. You could try modifying this using `parallelStream` and see if it improves.","body":"Or maybe this other answer in the same question <a href=\"https://stackoverflow.com/a/48137268/2851311\">stackoverflow.com/a/48137268/2851311</a>. You could try modifying this using <code>parallelStream</code> and see if it improves."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666971221,"post_id":74237088,"comment_id":131067764,"body_markdown":"I hope you understand my suggestion. For cases when number is in set, the &quot;calculation&quot; will be in O(1). I think that should help with some cases. Overall, the worst case is in the calculation, so you need to improve your algorithm to find number closest to input in range. Java Stream API might help you achieve that.","body":"I hope you understand my suggestion. For cases when number is in set, the &quot;calculation&quot; will be in O(1). I think that should help with some cases. Overall, the worst case is in the calculation, so you need to improve your algorithm to find number closest to input in range. Java Stream API might help you achieve that."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666971483,"post_id":74237088,"comment_id":131067854,"body_markdown":"Just a thought... what if you convert the set to array list (should be sorted since you are using tree set) and then use a binary search to find the closest value? That should speed things up. Your greatest hit will be conversion to list. But I have a feeling it will work fine,","body":"Just a thought... what if you convert the set to array list (should be sorted since you are using tree set) and then use a binary search to find the closest value? That should speed things up. Your greatest hit will be conversion to list. But I have a feeling it will work fine,"},{"owner":{"account_id":8214499,"reputation":25,"user_id":20005986,"display_name":"Kevin"},"score":0,"creation_date":1666971860,"post_id":74237088,"comment_id":131068009,"body_markdown":"you&#39;re saying every time i add or remove an element from the set, i then convert it into a new list? that would give me O(QN) which will not suffice.","body":"you&#39;re saying every time i add or remove an element from the set, i then convert it into a new list? that would give me O(QN) which will not suffice."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666976715,"post_id":74237088,"comment_id":131069665,"body_markdown":"Kevin, follow Alexander&#39;s advice. He is correct in his assessment. I deleted my answer for this reason and upvoted his answer.","body":"Kevin, follow Alexander&#39;s advice. He is correct in his assessment. I deleted my answer for this reason and upvoted his answer."}],"answers":[{"comments":[{"owner":{"account_id":4518950,"reputation":2083,"user_id":4109326,"display_name":"Alexander Guyer"},"score":0,"creation_date":1666972623,"post_id":74237857,"comment_id":131068298,"body_markdown":"I think the intuition of coming up with the algorithm is more important than the algorithm: the important step here is to recognize that you can&#39;t search the list after each operation without exceeding the complexity requirement. Consequently, you can&#39;t just keep track of a running minimum, since remove operations would require searching the whole list. The only option you&#39;re left with is keeping track of a running ranked order of differences. There are a quadratic number of differences, but you can omit the non-adjacent ones. Then you just need to choose a good data structure.","body":"I think the intuition of coming up with the algorithm is more important than the algorithm: the important step here is to recognize that you can&#39;t search the list after each operation without exceeding the complexity requirement. Consequently, you can&#39;t just keep track of a running minimum, since remove operations would require searching the whole list. The only option you&#39;re left with is keeping track of a running ranked order of differences. There are a quadratic number of differences, but you can omit the non-adjacent ones. Then you just need to choose a good data structure."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1666976656,"post_id":74237857,"comment_id":131069641,"body_markdown":"Alexander, thanks for clarifying. I deleted my answer. Your assessment was 100% correct and I see that now.","body":"Alexander, thanks for clarifying. I deleted my answer. Your assessment was 100% correct and I see that now."}],"tags":[],"owner":{"account_id":4518950,"reputation":2083,"user_id":4109326,"display_name":"Alexander Guyer"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666975469,"creation_date":1666972292,"answer_id":74237857,"question_id":74237088,"body_markdown":"Here&#39;s one algorithm that should work (though I don&#39;t know if this is the intended algorithm):\r\n\r\n 1. Sort the list of numbers `L` (if not already sorted): `L = [2, 4, 7]`\r\n 2. Build a corresponding list `D` of &quot;sorted adjacent absolute differences&quot; (i.e., the differences between adjacent pairs in the sorted list, sorted themselves in ascending order): `D = [2, 3]`\r\n 3. For each operation... Suppose the operation is ADD 6, as an example. a) insert the number (6) into `L` in the correct (sorted) location: `L = [2, 4, 6, 7]`; b) based on where you inserted it, determine the corresponding adjacent absolute difference that is now obsolete and remove it from `D` (in this case, the difference 7-4=3 is no longer relevant and can be removed, since 4 and 7 are no longer adjacent with 6 separating them): `D = [2]`; c) Add in the two new adjacent absolute differences to the correct (sorted) locations (in this case, 6-4=2 and 7-6=1): `D = [1, 2, 2]`; d) print out the first element of `D`\r\n\r\nIf you encounter a remove operation in step 3, the logic is similar but slightly different. You&#39;d find and remove the element from `L`, remove the two adjacent differences from `D` that have been made irrelevant by the remove operation, add the new relevant adjacent difference to `D`, and print the first element of `D`.\r\n\r\nThe proof of correctness is straightforward. The minimum adjacent absolute difference will definitely also be the minimum absolute difference, because the absolute difference between two non-adjacent numbers will always be greater than or equal to the absolute difference between two adjacent numbers which lie &quot;between them&quot; in sorted order. This algorithm outputs the minimum adjacent absolute difference after each operation.\r\n\r\nYou have a few options for the sorted list data structures. But since you want to be able to quickly insert, remove, *and* read ordered data, I&#39;d suggest something like a self-balancing binary tree. Suppose we use an AVL tree.\r\n\r\nStep 1 is O(N log(N)). If the input is an array or something, you could just build an AVL tree; insertion in an AVL tree is log(N), and you have to do it N times to build the tree.\r\n\r\nStep 2 is O(N log(N)); you just have to iterate over the AVL tree for `L` in ascending order, computing adjacent differences as you go, and insert each difference into a new AVL tree for `D` (again, N insertions each with log(N) complexity).\r\n\r\nFor a single operation, steps 3a), 3b), 3c), and 3d) are all O(log(N+Q)), since they each involve inserting, deleting, or reading one or two elements from an AVL tree of size &lt; N+Q. So for a single operation, step 3 is O(log(N+Q)). Step 3 repeats this across Q operations, giving you O(Q log(N+Q)).\r\n\r\nSo the final algorithmic runtime complexity is O(N log(N)) + O(Q log(N+Q)), which is less than O((N+Q) log(N+Q)).\r\n\r\n**Edit:**\r\n\r\nI just realized that the &quot;list of numbers&quot; (`L`) is actually a set (at least, it is according to the question title, but that might be misleading). Sets don&#39;t allow for duplicates. But that&#39;s fine either way; whenever inserting, just check if it&#39;s a duplicate (after determining where to insert it). If it&#39;s a duplicate, the whole operation becomes a no-op. This doesn&#39;t change the complexity. Though I suppose that&#39;s what a `TreeSet` does anyways.","title":"Minimum absolute difference of a set of numbers","body":"<p>Here's one algorithm that should work (though I don't know if this is the intended algorithm):</p>\n<ol>\n<li>Sort the list of numbers <code>L</code> (if not already sorted): <code>L = [2, 4, 7]</code></li>\n<li>Build a corresponding list <code>D</code> of &quot;sorted adjacent absolute differences&quot; (i.e., the differences between adjacent pairs in the sorted list, sorted themselves in ascending order): <code>D = [2, 3]</code></li>\n<li>For each operation... Suppose the operation is ADD 6, as an example. a) insert the number (6) into <code>L</code> in the correct (sorted) location: <code>L = [2, 4, 6, 7]</code>; b) based on where you inserted it, determine the corresponding adjacent absolute difference that is now obsolete and remove it from <code>D</code> (in this case, the difference 7-4=3 is no longer relevant and can be removed, since 4 and 7 are no longer adjacent with 6 separating them): <code>D = [2]</code>; c) Add in the two new adjacent absolute differences to the correct (sorted) locations (in this case, 6-4=2 and 7-6=1): <code>D = [1, 2, 2]</code>; d) print out the first element of <code>D</code></li>\n</ol>\n<p>If you encounter a remove operation in step 3, the logic is similar but slightly different. You'd find and remove the element from <code>L</code>, remove the two adjacent differences from <code>D</code> that have been made irrelevant by the remove operation, add the new relevant adjacent difference to <code>D</code>, and print the first element of <code>D</code>.</p>\n<p>The proof of correctness is straightforward. The minimum adjacent absolute difference will definitely also be the minimum absolute difference, because the absolute difference between two non-adjacent numbers will always be greater than or equal to the absolute difference between two adjacent numbers which lie &quot;between them&quot; in sorted order. This algorithm outputs the minimum adjacent absolute difference after each operation.</p>\n<p>You have a few options for the sorted list data structures. But since you want to be able to quickly insert, remove, <em>and</em> read ordered data, I'd suggest something like a self-balancing binary tree. Suppose we use an AVL tree.</p>\n<p>Step 1 is O(N log(N)). If the input is an array or something, you could just build an AVL tree; insertion in an AVL tree is log(N), and you have to do it N times to build the tree.</p>\n<p>Step 2 is O(N log(N)); you just have to iterate over the AVL tree for <code>L</code> in ascending order, computing adjacent differences as you go, and insert each difference into a new AVL tree for <code>D</code> (again, N insertions each with log(N) complexity).</p>\n<p>For a single operation, steps 3a), 3b), 3c), and 3d) are all O(log(N+Q)), since they each involve inserting, deleting, or reading one or two elements from an AVL tree of size &lt; N+Q. So for a single operation, step 3 is O(log(N+Q)). Step 3 repeats this across Q operations, giving you O(Q log(N+Q)).</p>\n<p>So the final algorithmic runtime complexity is O(N log(N)) + O(Q log(N+Q)), which is less than O((N+Q) log(N+Q)).</p>\n<p><strong>Edit:</strong></p>\n<p>I just realized that the &quot;list of numbers&quot; (<code>L</code>) is actually a set (at least, it is according to the question title, but that might be misleading). Sets don't allow for duplicates. But that's fine either way; whenever inserting, just check if it's a duplicate (after determining where to insert it). If it's a duplicate, the whole operation becomes a no-op. This doesn't change the complexity. Though I suppose that's what a <code>TreeSet</code> does anyways.</p>\n"}],"owner":{"account_id":8214499,"reputation":25,"user_id":20005986,"display_name":"Kevin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74237857,"answer_count":1,"score":1,"last_activity_date":1666975469,"creation_date":1666968422,"question_id":74237088,"body_markdown":"I am given a number set of size `n`, and a list of `Q` inputs. Each input will either remove or add a number to this set. After each input, I am supposed to output the minimum absolute difference of the set of numbers. \r\n\r\nConstraints:\r\n\r\n`2 &lt;= N &lt;= 10^6`\r\n\r\n`1 &lt;= Q &lt;= 10^6`\r\n\r\n`-10^9 &lt;= set[i] &lt;= 10^9`\r\n\r\nExample:\r\n\r\ninput:\r\n```\r\nset = [2, 4, 7]\r\nADD 6\r\nREMOVE 7\r\nREMOVE 4\r\nADD 2\r\n```\r\n\r\noutput:\r\n```\r\n1\r\n2\r\n4\r\n0\r\n```\r\n\r\nI am tasked to solve this using an algorithm of time complexity **O((N+Q)log(N+Q))** or better.\r\n\r\nMy current implementation is not fast enough, but it is as follows: \r\n\r\n\r\n```\r\nTreeSet&lt;Integer&gt; tree = new TreeSet&lt;&gt;();\r\nHashMap&lt;Integer, Integer&gt; numberFreq = new HashMap&lt;&gt;();\r\n\r\nint dupeCount = 0;\r\n\r\nfor (int i : set) {\r\n    tree.add(i);\r\n    if (numberFreq.get(i) &gt; 0) dupeCount++;\r\n    numberFreq.put(i, numberFreq.getOrDefault(i, 0) + 1);\r\n}\r\n\r\nvoid add(int i) {\r\n    if (numberFreq.get(i) &gt; 0) dupeCount++;\r\n    numberFreq.put(i, numberFreq.getOrDefault(i, 0) + 1);\r\n    tree.add(i); // if duplicate nothing gets added anyway\r\n   \r\n    if (dupeCount &gt; 0) Console.write(0);\r\n    else {\r\n        int smallestBall = ballTree.first();\r\n        int absDiff;\r\n        int maxAbsDiff = Integer.MAX_VALUE;\r\n        while (ballTree.higher(smallestBall) != null) {\r\n            absDiff = Math.abs(smallestBall - ballTree.higher(smallestBall));\r\n            maxAbsDiff = Math.min(absDiff, maxAbsDiff);\r\n            smallestBall = ballTree.higher(smallestBall);\r\n        }\r\n    Console.write(maxAbsDiff);\r\n    }\r\n\r\n}\r\n\r\nvoid remove(int i) {\r\n     if (numberFreq.get(i) &gt; 0) dupeCount--;\r\n     else tree.remove(i);\r\n     numberFreq.put(i, numberFreq.get(i) - 1);\r\n\r\n     if (dupeCount &gt; 0) Console.write(0);\r\n     else {\r\n         int smallestBall = ballTree.first();\r\n         int absDiff;\r\n         int maxAbsDiff = Integer.MAX_VALUE;\r\n         while (ballTree.higher(smallestBall) != null) {\r\n             absDiff = Math.abs(smallestBall - ballTree.higher(smallestBall));\r\n             maxAbsDiff = Math.min(absDiff, maxAbsDiff);\r\n             smallestBall = ballTree.higher(smallestBall);\r\n        }\r\n     Console.write(maxAbsDiff);\r\n     }\r\n}    \r\n```\r\n\r\nI&#39;ve tried at it for 2 days now and I&#39;m quite lost.","title":"Minimum absolute difference of a set of numbers","body":"<p>I am given a number set of size <code>n</code>, and a list of <code>Q</code> inputs. Each input will either remove or add a number to this set. After each input, I am supposed to output the minimum absolute difference of the set of numbers.</p>\n<p>Constraints:</p>\n<p><code>2 &lt;= N &lt;= 10^6</code></p>\n<p><code>1 &lt;= Q &lt;= 10^6</code></p>\n<p><code>-10^9 &lt;= set[i] &lt;= 10^9</code></p>\n<p>Example:</p>\n<p>input:</p>\n<pre><code>set = [2, 4, 7]\nADD 6\nREMOVE 7\nREMOVE 4\nADD 2\n</code></pre>\n<p>output:</p>\n<pre><code>1\n2\n4\n0\n</code></pre>\n<p>I am tasked to solve this using an algorithm of time complexity <strong>O((N+Q)log(N+Q))</strong> or better.</p>\n<p>My current implementation is not fast enough, but it is as follows:</p>\n<pre><code>TreeSet&lt;Integer&gt; tree = new TreeSet&lt;&gt;();\nHashMap&lt;Integer, Integer&gt; numberFreq = new HashMap&lt;&gt;();\n\nint dupeCount = 0;\n\nfor (int i : set) {\n    tree.add(i);\n    if (numberFreq.get(i) &gt; 0) dupeCount++;\n    numberFreq.put(i, numberFreq.getOrDefault(i, 0) + 1);\n}\n\nvoid add(int i) {\n    if (numberFreq.get(i) &gt; 0) dupeCount++;\n    numberFreq.put(i, numberFreq.getOrDefault(i, 0) + 1);\n    tree.add(i); // if duplicate nothing gets added anyway\n   \n    if (dupeCount &gt; 0) Console.write(0);\n    else {\n        int smallestBall = ballTree.first();\n        int absDiff;\n        int maxAbsDiff = Integer.MAX_VALUE;\n        while (ballTree.higher(smallestBall) != null) {\n            absDiff = Math.abs(smallestBall - ballTree.higher(smallestBall));\n            maxAbsDiff = Math.min(absDiff, maxAbsDiff);\n            smallestBall = ballTree.higher(smallestBall);\n        }\n    Console.write(maxAbsDiff);\n    }\n\n}\n\nvoid remove(int i) {\n     if (numberFreq.get(i) &gt; 0) dupeCount--;\n     else tree.remove(i);\n     numberFreq.put(i, numberFreq.get(i) - 1);\n\n     if (dupeCount &gt; 0) Console.write(0);\n     else {\n         int smallestBall = ballTree.first();\n         int absDiff;\n         int maxAbsDiff = Integer.MAX_VALUE;\n         while (ballTree.higher(smallestBall) != null) {\n             absDiff = Math.abs(smallestBall - ballTree.higher(smallestBall));\n             maxAbsDiff = Math.min(absDiff, maxAbsDiff);\n             smallestBall = ballTree.higher(smallestBall);\n        }\n     Console.write(maxAbsDiff);\n     }\n}    \n</code></pre>\n<p>I've tried at it for 2 days now and I'm quite lost.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":20462570,"reputation":23,"user_id":15015024,"display_name":"Javier Rius"},"score":0,"creation_date":1666984241,"post_id":74238326,"comment_id":131071884,"body_markdown":"But, in theory if a I add manually the id of the allergen then has to update the entry, not create another one. I mean set id to 1, but when I execute the code assign another id like the id were null.","body":"But, in theory if a I add manually the id of the allergen then has to update the entry, not create another one. I mean set id to 1, but when I execute the code assign another id like the id were null."},{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":0,"creation_date":1666986662,"post_id":74238326,"comment_id":131072476,"body_markdown":"It is not the same because behind JPA implementation (most commonly Hibernate) the entity is  actually managed by Hibernate. So to be managed by Hibernate first you need to connected it with request (select). You can check article like this to understand more: https://www.baeldung.com/hibernate-entity-lifecycle","body":"It is not the same because behind JPA implementation (most commonly Hibernate) the entity is  actually managed by Hibernate. So to be managed by Hibernate first you need to connected it with request (select). You can check article like this to understand more: <a href=\"https://www.baeldung.com/hibernate-entity-lifecycle\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-entity-lifecycle</a>"},{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":0,"creation_date":1666987162,"post_id":74238326,"comment_id":131072625,"body_markdown":"In your case your entities are detached before persisted in database. And according to the article you can read this: A detached entity is just an ordinary entity POJO whose identity value corresponds to a database row. The difference from a managed entity is that it&#39;s not tracked anymore by any persistence context. So Hibernate doesn&#39;t know that this entity is already in the database","body":"In your case your entities are detached before persisted in database. And according to the article you can read this: A detached entity is just an ordinary entity POJO whose identity value corresponds to a database row. The difference from a managed entity is that it&#39;s not tracked anymore by any persistence context. So Hibernate doesn&#39;t know that this entity is already in the database"},{"owner":{"account_id":20462570,"reputation":23,"user_id":15015024,"display_name":"Javier Rius"},"score":0,"creation_date":1667037290,"post_id":74238326,"comment_id":131079114,"body_markdown":"Thanks for your answer, It&#39;s not what I want to hear, but if is the common behavior of hibernate, nothing can be done. So If I want not duplicate a existing register of Allergen, when I save Ingredient object I have to create a loop checking if id exist and in true case replace the allergen instance of the allergen list.","body":"Thanks for your answer, It&#39;s not what I want to hear, but if is the common behavior of hibernate, nothing can be done. So If I want not duplicate a existing register of Allergen, when I save Ingredient object I have to create a loop checking if id exist and in true case replace the allergen instance of the allergen list."}],"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666975133,"creation_date":1666974760,"answer_id":74238326,"question_id":74238158,"body_markdown":"I think you need to search for allergens which are already in DB. Make search query which is searching by name and you search do I already have &quot;gluten&quot;.\r\n\r\nIf yes get this object and add it to the allergens of the new Ingredient. This way the id will be set inside the Allergen and the JPA session will know that this entity was in DB hopefully it will not duplicate.\r\n\r\nAlso please check documentation of the method that you are using for saving in db as it can have impact on your code. For example:\r\nhttps://stackoverflow.com/questions/5862680/whats-the-difference-between-session-persist-and-session-save-in-hibernate","title":"@Onte to Many relationship without child duplication","body":"<p>I think you need to search for allergens which are already in DB. Make search query which is searching by name and you search do I already have &quot;gluten&quot;.</p>\n<p>If yes get this object and add it to the allergens of the new Ingredient. This way the id will be set inside the Allergen and the JPA session will know that this entity was in DB hopefully it will not duplicate.</p>\n<p>Also please check documentation of the method that you are using for saving in db as it can have impact on your code. For example:\n<a href=\"https://stackoverflow.com/questions/5862680/whats-the-difference-between-session-persist-and-session-save-in-hibernate\">What&#39;s the difference between session.persist() and session.save() in Hibernate?</a></p>\n"}],"owner":{"account_id":20462570,"reputation":23,"user_id":15015024,"display_name":"Javier Rius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74238326,"answer_count":1,"score":0,"last_activity_date":1666975133,"creation_date":1666973798,"question_id":74238158,"body_markdown":"I have two classes Ingredient and Allergen, and I want to persist it.\r\n\r\nIngredient has a One to many relationship with Allergen\r\n\r\n    public class Ingredient() {\r\n       @OneToMany\r\n       List&lt;Allergen&gt; allergens;\r\n    }\r\nThe problem is that every time I save a new object of Ingredient, then creates one Allergen in Allergen table pera each that appears in the Ingredient allergen list. For example if an ingredient has a inside the list &quot;gluten&quot;, and another ingredient has the same allergen then the table Allergens contains a duplication of same allergen, how can avoid this behavior ?. I have tried assigning the same Allergen id but not works.","title":"@Onte to Many relationship without child duplication","body":"<p>I have two classes Ingredient and Allergen, and I want to persist it.</p>\n<p>Ingredient has a One to many relationship with Allergen</p>\n<pre><code>public class Ingredient() {\n   @OneToMany\n   List&lt;Allergen&gt; allergens;\n}\n</code></pre>\n<p>The problem is that every time I save a new object of Ingredient, then creates one Allergen in Allergen table pera each that appears in the Ingredient allergen list. For example if an ingredient has a inside the list &quot;gluten&quot;, and another ingredient has the same allergen then the table Allergens contains a duplication of same allergen, how can avoid this behavior ?. I have tried assigning the same Allergen id but not works.</p>\n"},{"tags":["java","android","android-studio","text-to-speech","android-10.0"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642456943,"post_id":70744663,"comment_id":125071159,"body_markdown":"Just set up your File instance with right path . You dont need media store.","body":"Just set up your File instance with right path . You dont need media store."}],"answers":[{"tags":[],"owner":{"account_id":7423444,"reputation":238,"user_id":5647103,"display_name":"mohsyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666974990,"creation_date":1666933386,"answer_id":74230857,"question_id":70744663,"body_markdown":"Use fdopen()\r\n\r\n `FILE* fp = fdopen(fd, &quot;w&quot;);`","title":"Saving TTS audio files to shared storage in android 10","body":"<p>Use fdopen()</p>\n<p><code>FILE* fp = fdopen(fd, &quot;w&quot;);</code></p>\n"}],"owner":{"account_id":21583377,"reputation":11,"user_id":15914249,"display_name":"Kartik Thakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666974990,"creation_date":1642437497,"question_id":70744663,"body_markdown":"I want to save my audio file to shared storage in android 10 which is created using :\r\n```\r\ntextToSpeech.synthesizeToFile(text,params,file,&quot;utterance_id&quot;);\r\n```\r\n***file*** is of ParcelFileDescriptor type which is created using createFile() method:\r\n\r\n```\r\npublic void createFile()\r\n    {\r\n        ContentValues values = new ContentValues(4);\r\n        values.put(MediaStore.Audio.Media.TITLE, &quot;Audioasas&quot;);\r\n        values.put(MediaStore.Audio.Media.DATE_ADDED, (int) (System.currentTimeMillis() / 1000));\r\n        values.put(MediaStore.Audio.Media.MIME_TYPE, &quot;audio/mp3&quot;);\r\n        values.put(MediaStore.Audio.Media.RELATIVE_PATH, &quot;Music/Recordings/&quot;);\r\n\r\n        audiouri = getContentResolver().insert(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, values);\r\n        try {\r\n            file=getContentResolver().openFileDescriptor(audiouri,&quot;w&quot;);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n   \r\n }\r\n```\r\n\r\nThe problem here is that below method\r\n```\r\npublic int synthesizeToFile (CharSequence text, \r\n                Bundle params, \r\n                ParcelFileDescriptor fileDescriptor, \r\n                String utteranceId)\r\n```\r\nis added in API level 30 (Android 11).\r\n\r\nFor android 10 we have:\r\n```\r\npublic int synthesizeToFile (CharSequence text, \r\n                Bundle params, \r\n                File file, \r\n                String utteranceId)\r\n```\r\nBut ```getContentResolver().openFileDescriptor(audiouri,&quot;w&quot;)``` method always return FileDescriptor object.\r\n\r\nTherefore my question is how can I save my audio file to shared storage using \r\n\r\n    public int synthesizeToFile (CharSequence text, \r\n                    Bundle params, \r\n                    File file, \r\n                    String utteranceId)\r\n\r\n```.\r\n\r\n    or using any other method.\r\n    Thanks","title":"Saving TTS audio files to shared storage in android 10","body":"<p>I want to save my audio file to shared storage in android 10 which is created using :</p>\n<pre><code>textToSpeech.synthesizeToFile(text,params,file,&quot;utterance_id&quot;);\n</code></pre>\n<p><em><strong>file</strong></em> is of ParcelFileDescriptor type which is created using createFile() method:</p>\n<pre><code>public void createFile()\n    {\n        ContentValues values = new ContentValues(4);\n        values.put(MediaStore.Audio.Media.TITLE, &quot;Audioasas&quot;);\n        values.put(MediaStore.Audio.Media.DATE_ADDED, (int) (System.currentTimeMillis() / 1000));\n        values.put(MediaStore.Audio.Media.MIME_TYPE, &quot;audio/mp3&quot;);\n        values.put(MediaStore.Audio.Media.RELATIVE_PATH, &quot;Music/Recordings/&quot;);\n\n        audiouri = getContentResolver().insert(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, values);\n        try {\n            file=getContentResolver().openFileDescriptor(audiouri,&quot;w&quot;);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n   \n }\n</code></pre>\n<p>The problem here is that below method</p>\n<pre><code>public int synthesizeToFile (CharSequence text, \n                Bundle params, \n                ParcelFileDescriptor fileDescriptor, \n                String utteranceId)\n</code></pre>\n<p>is added in API level 30 (Android 11).</p>\n<p>For android 10 we have:</p>\n<pre><code>public int synthesizeToFile (CharSequence text, \n                Bundle params, \n                File file, \n                String utteranceId)\n</code></pre>\n<p>But <code>getContentResolver().openFileDescriptor(audiouri,&quot;w&quot;)</code> method always return FileDescriptor object.</p>\n<p>Therefore my question is how can I save my audio file to shared storage using</p>\n<pre><code>public int synthesizeToFile (CharSequence text, \n                Bundle params, \n                File file, \n                String utteranceId)\n</code></pre>\n<pre><code>\n    or using any other method.\n    Thanks\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1666971252,"post_id":74237639,"comment_id":131067776,"body_markdown":"Returning `MyResponse` is okay, but accepting only `MyRequest` is not: If you referred to a variable as `Order o = new MyOrder();`, you would expect `o.cancel(r)` to handle _any_ `Request r`, not just `MyRequest`. However, the return value being only `MyResponse` is okay: it will always be a `Response`.","body":"Returning <code>MyResponse</code> is okay, but accepting only <code>MyRequest</code> is not: If you referred to a variable as <code>Order o = new MyOrder();</code>, you would expect <code>o.cancel(r)</code> to handle <i>any</i> <code>Request r</code>, not just <code>MyRequest</code>. However, the return value being only <code>MyResponse</code> is okay: it will always be a <code>Response</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666971273,"post_id":74237639,"comment_id":131067785,"body_markdown":"Does this answer your question? [Why are contravariant parameter types in Java not allowed for overriding?](https://stackoverflow.com/questions/12439649/why-are-contravariant-parameter-types-in-java-not-allowed-for-overriding)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12439649/why-are-contravariant-parameter-types-in-java-not-allowed-for-overriding\">Why are contravariant parameter types in Java not allowed for overriding?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"score":0,"creation_date":1666971528,"post_id":74237673,"comment_id":131067872,"body_markdown":"I see. So when I need to concrete parameter of my `MyRequest` implementation in `MyOrder#cancel`, I need to accept `Request` and cast it later to `MyRequest` myself, am I right?","body":"I see. So when I need to concrete parameter of my <code>MyRequest</code> implementation in <code>MyOrder#cancel</code>, I need to accept <code>Request</code> and cast it later to <code>MyRequest</code> myself, am I right?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666971651,"post_id":74237673,"comment_id":131067921,"body_markdown":"Ideally if there&#39;s something you need in that method, `Request` would be able to return it, rather than relying on a concrete type. What&#39;s the specific information you&#39;re trying to retrieve from `MyRequest` that couldn&#39;t be abstracted within `Request`?","body":"Ideally if there&#39;s something you need in that method, <code>Request</code> would be able to return it, rather than relying on a concrete type. What&#39;s the specific information you&#39;re trying to retrieve from <code>MyRequest</code> that couldn&#39;t be abstracted within <code>Request</code>?"},{"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"score":0,"creation_date":1666971849,"post_id":74237673,"comment_id":131068004,"body_markdown":"It&#39;s because of many different implementation of remote API, every API requires different values so I wanted to solve it by concrete implementation of `Request` interface for every concrete external API. In other words - I would like to have every `Request` implementation as simple as possible for every implementation of `Order` interface.","body":"It&#39;s because of many different implementation of remote API, every API requires different values so I wanted to solve it by concrete implementation of <code>Request</code> interface for every concrete external API. In other words - I would like to have every <code>Request</code> implementation as simple as possible for every implementation of <code>Order</code> interface."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666972168,"post_id":74237673,"comment_id":131068127,"body_markdown":"You shouldn&#39;t do any casting.  Instead, use generics so you have a type safe way of enforcing which orders can handle which requests.","body":"You shouldn&#39;t do any casting.  Instead, use generics so you have a type safe way of enforcing which orders can handle which requests."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666971274,"creation_date":1666971274,"answer_id":74237673,"question_id":74237639,"body_markdown":"The following would not work -- but inheritance requires it must.\r\n\r\n```\r\nclass MyOtherRequest implements Request { ... }\r\n\r\nMyOrder myOrder = new MyOrder();\r\nOrder order = myOrder; // okay because myOrder is a subtype of Order\r\norder.cancel(new MyOtherRequest()); // unimplemented!\r\n```\r\n\r\nAs a result, a subtype&#39;s method must accept _all_ the possible values the supertype&#39;s method would accept -- not just a subset.","title":"Why cannot use instance of interface implementation as parameter and return type?","body":"<p>The following would not work -- but inheritance requires it must.</p>\n<pre><code>class MyOtherRequest implements Request { ... }\n\nMyOrder myOrder = new MyOrder();\nOrder order = myOrder; // okay because myOrder is a subtype of Order\norder.cancel(new MyOtherRequest()); // unimplemented!\n</code></pre>\n<p>As a result, a subtype's method must accept <em>all</em> the possible values the supertype's method would accept -- not just a subset.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666974526,"creation_date":1666972330,"answer_id":74237863,"question_id":74237639,"body_markdown":"The problem is with the parameter to cancel.\r\n```\r\npublic MyResponse cancel(MyRequest request) {\r\n      return null;\r\n}\r\n```\r\nYou can&#39;t pass a `supertype` to a `subtype` (In this case `Request` object to `MyRequest` parameter) as the implementation of the `subType` may have other methods that the `superType` interface is unaware of.","title":"Why cannot use instance of interface implementation as parameter and return type?","body":"<p>The problem is with the parameter to cancel.</p>\n<pre><code>public MyResponse cancel(MyRequest request) {\n      return null;\n}\n</code></pre>\n<p>You can't pass a <code>supertype</code> to a <code>subtype</code> (In this case <code>Request</code> object to <code>MyRequest</code> parameter) as the implementation of the <code>subType</code> may have other methods that the <code>superType</code> interface is unaware of.</p>\n"}],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74237673,"answer_count":2,"score":-1,"last_activity_date":1666974816,"creation_date":1666971137,"question_id":74237639,"body_markdown":" I would like to ask you why usage `@Override` in this case produces an error &quot;`Method does not override method from its superclass`&quot;? Why I cannot use instance of the class implemented an interface as a parameter and return type of the metod defined by same interface?  \r\n\r\n     public interface Request {\r\n        //....\r\n      }\r\n    \r\n      public interface Response {\r\n        //....\r\n      }\r\n    \r\n      public class MyRequest implements Request {\r\n        //....\r\n      }\r\n    \r\n      public class MyResponse implements Response {\r\n        //....\r\n      }\r\n    \r\n      public interface Order {\r\n        Response cancel(Request request);\r\n      }\r\n    \r\n      public class MyOrder implements Order {\r\n    \r\n        @Override\r\n        public MyResponse cancel(MyRequest request) {\r\n          return null;\r\n        }\r\n    \r\n      }","title":"Why cannot use instance of interface implementation as parameter and return type?","body":"<p>I would like to ask you why usage <code>@Override</code> in this case produces an error &quot;<code>Method does not override method from its superclass</code>&quot;? Why I cannot use instance of the class implemented an interface as a parameter and return type of the metod defined by same interface?</p>\n<pre><code> public interface Request {\n    //....\n  }\n\n  public interface Response {\n    //....\n  }\n\n  public class MyRequest implements Request {\n    //....\n  }\n\n  public class MyResponse implements Response {\n    //....\n  }\n\n  public interface Order {\n    Response cancel(Request request);\n  }\n\n  public class MyOrder implements Order {\n\n    @Override\n    public MyResponse cancel(MyRequest request) {\n      return null;\n    }\n\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-integration","spring-webflux","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"score":0,"creation_date":1666976183,"post_id":74238325,"comment_id":131069487,"body_markdown":"Currently I need to pass value in custom attributes and checking those attributes in exchangefilter to do some extra processing according to business logic. These attributes are dynamic in nature and user can add values to these attributes before sending request on request channel. Is there any other way i can pass the information which will gets added to ClientRequest object.I have access to ClientRequest Object in exchange filter from where i can fetch the values.","body":"Currently I need to pass value in custom attributes and checking those attributes in exchangefilter to do some extra processing according to business logic. These attributes are dynamic in nature and user can add values to these attributes before sending request on request channel. Is there any other way i can pass the information which will gets added to ClientRequest object.I have access to ClientRequest Object in exchange filter from where i can fetch the values."},{"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"score":0,"creation_date":1666979857,"post_id":74238325,"comment_id":131070683,"body_markdown":"Even if i pass attributes in my custom webclient, i didnt see those getting copied in WebFluxRequestExecutingMessageHandler.java. Only the headers are getting copied. \n                                                                                                     \nhttps://github.com/spring-projects/spring-integration/blob/main/spring-integration-webflux/src/main/java/org/springframework/integration/webflux/outbound/WebFluxRequestExecutingMessageHandler.java#L233","body":"Even if i pass attributes in my custom webclient, i didnt see those getting copied in WebFluxRequestExecutingMessageHandler.java. Only the headers are getting copied.                                                                                                        <a href=\"https://github.com/spring-projects/spring-integration/blob/main/spring-integration-webflux/src/main/java/org/springframework/integration/webflux/outbound/WebFluxRequestExecutingMessageHandler.java#L233\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration/blob/main/&hellip;</a>"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1666983064,"post_id":74238325,"comment_id":131071559,"body_markdown":"Right. My point was to have a POJO service activator with your logic around `WebClient`","body":"Right. My point was to have a POJO service activator with your logic around <code>WebClient</code>"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1666983271,"post_id":74238325,"comment_id":131071614,"body_markdown":"Why cannot you pass that info via message headers and then consult request headers in in your filter instead of attributes? You then can remove that header from request?","body":"Why cannot you pass that info via message headers and then consult request headers in in your filter instead of attributes? You then can remove that header from request?"},{"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"score":0,"creation_date":1666986338,"post_id":74238325,"comment_id":131072408,"body_markdown":"i tried the same but we need to pass an object in header value which doesnt seems to be working. Currently i am setting header key and value object in Message Object before sending request to request channel.Is there a workaround to fetch header key and value object from Message Object and set it in ClientRequest object which can be used in filters.","body":"i tried the same but we need to pass an object in header value which doesnt seems to be working. Currently i am setting header key and value object in Message Object before sending request to request channel.Is there a workaround to fetch header key and value object from Message Object and set it in ClientRequest object which can be used in filters."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1666986994,"post_id":74238325,"comment_id":131072574,"body_markdown":"Well, that is what your `mapped-request-headers=&quot;requestHeader1, requestHeader2&quot;` supposed to do. It does remap headers from message to request. I assume that filter is called later on when request is prepared already.","body":"Well, that is what your <code>mapped-request-headers=&quot;requestHeader1, requestHeader2&quot;</code> supposed to do. It does remap headers from message to request. I assume that filter is called later on when request is prepared already."},{"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"score":0,"creation_date":1666990263,"post_id":74238325,"comment_id":131073372,"body_markdown":"Thanks Artem. It would be great if i get an example of mapped-request-headers implementation.","body":"Thanks Artem. It would be great if i get an example of mapped-request-headers implementation."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666974744,"creation_date":1666974744,"answer_id":74238325,"question_id":74215136,"body_markdown":"There is no `attributes` support in the `WebFluxRequestExecutingMessageHandler` at the moment. And there is no an easy workaround : you must use that your custom `WebClient` instead.\r\n\r\nI would like to understand the reason behind those attributes for you since I don&#39;t see how thy effect the target HTTP request. From the code I have so far it only leads into a deprecated method:\r\n\r\n\t/**\r\n\t * Variant of {@link #basicAuthentication(String, String)} that looks up\r\n\t * the {@link Credentials Credentials} in a\r\n\t * {@link #BASIC_AUTHENTICATION_CREDENTIALS_ATTRIBUTE request attribute}.\r\n\t * @return the filter to use\r\n\t * @see Credentials\r\n\t * @deprecated as of Spring 5.1 in favor of using\r\n\t * {@link HttpHeaders#setBasicAuth(String, String)} while building the request.\r\n\t */\r\n\t@Deprecated\r\n\tpublic static ExchangeFilterFunction basicAuthentication() {\r\n\r\nSo, sounds like Spring Framework is discontinuing `atrributes` the redundant feature.","title":"How to add request attribute through spring webflux integration for outbound gateway","body":"<p>There is no <code>attributes</code> support in the <code>WebFluxRequestExecutingMessageHandler</code> at the moment. And there is no an easy workaround : you must use that your custom <code>WebClient</code> instead.</p>\n<p>I would like to understand the reason behind those attributes for you since I don't see how thy effect the target HTTP request. From the code I have so far it only leads into a deprecated method:</p>\n<pre><code>/**\n * Variant of {@link #basicAuthentication(String, String)} that looks up\n * the {@link Credentials Credentials} in a\n * {@link #BASIC_AUTHENTICATION_CREDENTIALS_ATTRIBUTE request attribute}.\n * @return the filter to use\n * @see Credentials\n * @deprecated as of Spring 5.1 in favor of using\n * {@link HttpHeaders#setBasicAuth(String, String)} while building the request.\n */\n@Deprecated\npublic static ExchangeFilterFunction basicAuthentication() {\n</code></pre>\n<p>So, sounds like Spring Framework is discontinuing <code>atrributes</code> the redundant feature.</p>\n"}],"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666974744,"creation_date":1666825713,"question_id":74215136,"body_markdown":"Below is outbound gateway configuration\r\n\r\n    &lt;outbound-gateway id=&quot;reactiveFullConfig&quot;\r\n                  url=&quot;http://localhost:8080/hello&quot;\r\n                  http-method=&quot;GET&quot;\r\n                  request-channel=&quot;requests&quot;\r\n                  reply-timeout=&quot;1234&quot;\r\n                  extract-request-payload=&quot;false&quot;\r\n                  expected-response-type=&quot;java.lang.String&quot;\r\n                  mapped-request-headers=&quot;requestHeader1, requestHeader2&quot;\r\n                  mapped-response-headers=&quot;responseHeader&quot;\r\n                  reply-channel=&quot;replies&quot;\r\n                  charset=&quot;UTF-8&quot;\r\n                  order=&quot;77&quot;\r\n                  auto-startup=&quot;false&quot;\r\n                  transfer-cookies=&quot;true&quot;\r\n                  reply-payload-to-flux=&quot;true&quot;\r\n                  body-extractor=&quot;bodyExtractor&quot;\r\n                  publisher-element-type-expression=&quot;headers.elementType&quot;\r\n                  extract-response-body=&quot;false&quot;&gt;\r\n    &lt;uri-variable name=&quot;foo&quot; expression=&quot;headers.bar&quot;/&gt;\r\n&lt;/outbound-gateway&gt;\r\n\r\nI have a requirement to set request attribute before sending request to request channel.Also the value of attribute can be different for each request.\r\n\r\nSomething similar to below if i have webclient object where the value for attribute MYCUSTOMATTRIBUTE_1(which is &quot;customvalue&quot; in below example) can be updated before each request.\r\n\r\n    webClient.get().uri(&quot;http://localhost:8080/hello&quot;)\r\n\t\t\t\t\t.attribute(&quot;MYCUSTOMATTRIBUTE_1&quot;, &quot;customvalue&quot;)\r\n\t\t\t\t\t.retrieve()\r\n\t\t\t\t\t.toEntity(String.class)\r\n\t\t\t\t\t.block()\t\t\r\n\t\t\t\t\t.getBody();\r\nUsing spring gateway xml, i am sending request on request channel using below code:\r\n\r\n    DirectChannel requestChannel = context.getBean(&quot;requestChannel&quot;, DirectChannel.class);\r\n    requestChannel.send(MessageBuilder.withPayload(&quot;Test message&quot;)).build());\r\n\r\n**Does spring webflux integration provide a way to do the same?**\t\r\n\r\nI also tried to pass value through Message object header using below code but i am not getting my custom header which is requestHeader1 in clientrequest. Note that requestheader1 is added in mapped-request-headers attribute.\r\n\r\n    requestChannel.send(MessageBuilder.withPayload(&quot;Test message&quot;)).setHeader(requestHeader1,&quot;customvalue&quot;).build());\r\n\r\n\t\r\n\r\n\t\r\n\r\n\r\n","title":"How to add request attribute through spring webflux integration for outbound gateway","body":"<p>Below is outbound gateway configuration</p>\n<pre><code>&lt;outbound-gateway id=&quot;reactiveFullConfig&quot;\n              url=&quot;http://localhost:8080/hello&quot;\n              http-method=&quot;GET&quot;\n              request-channel=&quot;requests&quot;\n              reply-timeout=&quot;1234&quot;\n              extract-request-payload=&quot;false&quot;\n              expected-response-type=&quot;java.lang.String&quot;\n              mapped-request-headers=&quot;requestHeader1, requestHeader2&quot;\n              mapped-response-headers=&quot;responseHeader&quot;\n              reply-channel=&quot;replies&quot;\n              charset=&quot;UTF-8&quot;\n              order=&quot;77&quot;\n              auto-startup=&quot;false&quot;\n              transfer-cookies=&quot;true&quot;\n              reply-payload-to-flux=&quot;true&quot;\n              body-extractor=&quot;bodyExtractor&quot;\n              publisher-element-type-expression=&quot;headers.elementType&quot;\n              extract-response-body=&quot;false&quot;&gt;\n&lt;uri-variable name=&quot;foo&quot; expression=&quot;headers.bar&quot;/&gt;\n</code></pre>\n\n<p>I have a requirement to set request attribute before sending request to request channel.Also the value of attribute can be different for each request.</p>\n<p>Something similar to below if i have webclient object where the value for attribute MYCUSTOMATTRIBUTE_1(which is &quot;customvalue&quot; in below example) can be updated before each request.</p>\n<pre><code>webClient.get().uri(&quot;http://localhost:8080/hello&quot;)\n                .attribute(&quot;MYCUSTOMATTRIBUTE_1&quot;, &quot;customvalue&quot;)\n                .retrieve()\n                .toEntity(String.class)\n                .block()        \n                .getBody();\n</code></pre>\n<p>Using spring gateway xml, i am sending request on request channel using below code:</p>\n<pre><code>DirectChannel requestChannel = context.getBean(&quot;requestChannel&quot;, DirectChannel.class);\nrequestChannel.send(MessageBuilder.withPayload(&quot;Test message&quot;)).build());\n</code></pre>\n<p><strong>Does spring webflux integration provide a way to do the same?</strong></p>\n<p>I also tried to pass value through Message object header using below code but i am not getting my custom header which is requestHeader1 in clientrequest. Note that requestheader1 is added in mapped-request-headers attribute.</p>\n<pre><code>requestChannel.send(MessageBuilder.withPayload(&quot;Test message&quot;)).setHeader(requestHeader1,&quot;customvalue&quot;).build());\n</code></pre>\n"},{"tags":["java","spring","tomcat","servlets"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666975329,"post_id":74238279,"comment_id":131069199,"body_markdown":"[this link](https://stackoverflow.com/questions/5638538/spring-destroy-method-request-scope-bean#5722631)  might be helpful","body":"<a href=\"https://stackoverflow.com/questions/5638538/spring-destroy-method-request-scope-bean#5722631\">this link</a>  might be helpful"}],"owner":{"account_id":2233448,"reputation":1503,"user_id":1970487,"accept_rate":56,"display_name":"Cristina_eGold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1666974504,"creation_date":1666974504,"question_id":74238279,"body_markdown":"Java Servlet API allows to plug into the request lifecycle via the `ServletRequestListener` class, which exposes callbacks for the following events:\r\n* requestInitialized\r\n* requestDestroyed\r\n\r\nHowever, for the case I&#39;m currently investigating, I need to differentiate between the moment a response is sent and the moment the request gets destroyed, in order to trace the cause of increased latency.\r\n\r\nIs there such a way? \r\n\r\nFor further context, my app is built upon Spring Rest MVC for creating the endpoints and there is a significant difference (minutes even) between the moment the execution exits the controller and the moment the request gets destroyed. We have no postprocessing interceptors, so it isn&#39;t quite clear to me at which point the latency appears.","title":"Does Java servlet API expose an event when a response was sent?","body":"<p>Java Servlet API allows to plug into the request lifecycle via the <code>ServletRequestListener</code> class, which exposes callbacks for the following events:</p>\n<ul>\n<li>requestInitialized</li>\n<li>requestDestroyed</li>\n</ul>\n<p>However, for the case I'm currently investigating, I need to differentiate between the moment a response is sent and the moment the request gets destroyed, in order to trace the cause of increased latency.</p>\n<p>Is there such a way?</p>\n<p>For further context, my app is built upon Spring Rest MVC for creating the endpoints and there is a significant difference (minutes even) between the moment the execution exits the controller and the moment the request gets destroyed. We have no postprocessing interceptors, so it isn't quite clear to me at which point the latency appears.</p>\n"},{"tags":["java","maven","web-inf"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1631789936,"post_id":69207117,"comment_id":122320102,"body_markdown":"In my eyes the most simpelst way use an IDE like Eclipse, IntelliJ, Netbeans and so far. Maybe I&#39;m wrong some archetypes from Maven will it do for you either.","body":"In my eyes the most simpelst way use an IDE like Eclipse, IntelliJ, Netbeans and so far. Maybe I&#39;m wrong some archetypes from Maven will it do for you either."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1631793314,"post_id":69207117,"comment_id":122321512,"body_markdown":"How about create a pure web application with wizard of Eclipse and then convert this project to maven?","body":"How about create a pure web application with wizard of Eclipse and then convert this project to maven?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1631794446,"post_id":69207117,"comment_id":122322057,"body_markdown":"Please post your pom file here....","body":"Please post your pom file here...."},{"owner":{"display_name":"user7208250"},"score":0,"creation_date":1631796777,"post_id":69207117,"comment_id":122323193,"body_markdown":"I tried to upload my pom.xml in the &#39;Add Comment&#39; section but it did not allow me to upload.","body":"I tried to upload my pom.xml in the &#39;Add Comment&#39; section but it did not allow me to upload."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1631835935,"post_id":69207117,"comment_id":122337076,"body_markdown":"Add it to the question, not a comment.","body":"Add it to the question, not a comment."},{"owner":{"display_name":"user7208250"},"score":0,"creation_date":1631839931,"post_id":69207117,"comment_id":122337624,"body_markdown":"I have uploaded my pom.xml file.","body":"I have uploaded my pom.xml file."}],"answers":[{"tags":[],"owner":{"account_id":26762229,"reputation":16,"user_id":20359988,"display_name":"user20359988"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666973831,"creation_date":1666973831,"answer_id":74238166,"question_id":69207117,"body_markdown":"Answer to this question is:: \r\n                           Springboot MVC is designed mostly in a programmatic approach, and this WEB-INF folder deals with web.xml files and related stuff, that&#39;s the main reason there is no predefined folder structure with WEB-INF\r\n\r\n","title":"Missing WEB-INF folder in Maven Java Project","body":"<p>Answer to this question is::\nSpringboot MVC is designed mostly in a programmatic approach, and this WEB-INF folder deals with web.xml files and related stuff, that's the main reason there is no predefined folder structure with WEB-INF</p>\n"}],"owner":{"display_name":"user7208250"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74238166,"answer_count":1,"score":0,"last_activity_date":1666973831,"creation_date":1631789455,"question_id":69207117,"body_markdown":"&gt; Blockquote\r\n\r\nI have created a simple project(skip archetype selection) in Maven.\r\n\r\nMaven created `src/main/java`, `src/main/resources`, `src/test/java` and `src/test/resources` folders.\r\n\r\nMaven did not create WEB-INF folder inside the webapps.\r\nI have also added maven-war-plugin.\r\n\r\nHow to get WEB-INF folder inside webapps? and \r\nthen how to get WEB-INF/web.xml file?\r\n\r\nThis is my pom.xml file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.prjs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tjsp1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;build&gt;\r\n        &lt;finalName&gt;tjsp1&lt;/finalName&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n      \r\n    &lt;/project&gt;    ","title":"Missing WEB-INF folder in Maven Java Project","body":"<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>I have created a simple project(skip archetype selection) in Maven.</p>\n<p>Maven created <code>src/main/java</code>, <code>src/main/resources</code>, <code>src/test/java</code> and <code>src/test/resources</code> folders.</p>\n<p>Maven did not create WEB-INF folder inside the webapps.\nI have also added maven-war-plugin.</p>\n<p>How to get WEB-INF folder inside webapps? and\nthen how to get WEB-INF/web.xml file?</p>\n<p>This is my pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.prjs&lt;/groupId&gt;\n  &lt;artifactId&gt;tjsp1&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  \n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  \n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  \n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;finalName&gt;tjsp1&lt;/finalName&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n  \n&lt;/project&gt;    \n</code></pre>\n"},{"tags":["java","oop","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1666975606,"post_id":74238151,"comment_id":131069304,"body_markdown":"The instance your program is using to show the user is using an empty instance of User: `loggedUser = new User();`","body":"The instance your program is using to show the user is using an empty instance of User: <code>loggedUser = new User();</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1666979266,"post_id":74238151,"comment_id":131070499,"body_markdown":"You also have two different instances of `MainWindowController`, which is probably not what you intend. There is the one you create directly with `new MainWindowController()`, and the one that is created when you load the FXML file. Since you made `loadScene()` `static`, there is no need for the first one: you can just call `MainWindowController.loadScene(...)`. (Your IDE should be giving you a warning about this anyway.) Then you need to pass the `User` to the controller that is created when you load the FXML: see the duplicate question.","body":"You also have two different instances of <code>MainWindowController</code>, which is probably not what you intend. There is the one you create directly with <code>new MainWindowController()</code>, and the one that is created when you load the FXML file. Since you made <code>loadScene()</code> <code>static</code>, there is no need for the first one: you can just call <code>MainWindowController.loadScene(...)</code>. (Your IDE should be giving you a warning about this anyway.) Then you need to pass the <code>User</code> to the controller that is created when you load the FXML: see the duplicate question."}],"owner":{"account_id":14670339,"reputation":1,"user_id":12016750,"display_name":"ren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666979424,"answer_count":0,"score":0,"last_activity_date":1666973756,"creation_date":1666973756,"question_id":74238151,"body_markdown":"I am creating a Library System using JavaFX where you can lend items to the members. I&#39;ve created a login that takes me to another fxml file called main-view.fxml which has a controller called MainWindowController.\r\n\r\nThe problem I have is that after successful login, the new Window/Scene displays &quot;Welcome, null&quot; but what I expect the program to do is welcome the logged-in user by his username.\r\n\r\nA screenshot to show how the main window looks and the problem I am trying to solve can be found below. I want it to Welcome the user by its name. I have used `welcomeLabel.SetText();` to get username by getter `getUsername();` from User class.\r\n\r\nI believe I get null because the data when we log in is not carried forward to the next scene. I am not sure how to do that. Hope I have explained the problem well. I have searched about this a lot on this platform but could not find an answer that completely solves my worries.\r\n\r\nI have pasted the code for MainWindowController, LoginController, User class, and a hardcoded Database. Thank you in advance.\r\n\r\n[A screenshot of main window](https://i.stack.imgur.com/fMXp7.png)\\](https://i.stack.imgur.com/fMXp7.png)\r\n\r\nThe Login controller class:\r\n\r\n```\r\npublic class LoginController {\r\n\r\n    @FXML\r\n    private Label loginStatus;\r\n    @FXML\r\n    private TextField usernameField;\r\n    @FXML\r\n    private TextField passwordField;\r\n    @FXML\r\n    private Button loginButton;\r\n    Database database;\r\n\r\n    public LoginController() {}\r\n\r\n    @FXML\r\n    public void onLoginButtonClicked(ActionEvent actionEvent) throws IOException {\r\n        database = new Database();\r\n            for (User user : database.getUsers()) {\r\n                if (usernameField.getText().equals(user.getUsername()) &amp;&amp;\r\n                        (passwordField.getText().equals(user.getPassword()))) {\r\n\r\n                        Stage loginStage = (Stage) loginButton.getScene().getWindow();\r\n                        loginStage.close();\r\n\r\n                        MainWindowController mainWindowController = new MainWindowController();\r\n                        mainWindowController.loadScene(&quot;main-view.fxml&quot;);\r\n\r\n                } else if (usernameField.getText().isEmpty() &amp;&amp; passwordField.getText().isEmpty()) {\r\n                    loginStatus.setText(&quot;Please enter your username and password.&quot;);\r\n                } else {\r\n                    loginStatus.setText(&quot;Wrong credentials, please try again.&quot;);\r\n                }\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nThe MainWindow controller class:\r\n\r\n```\r\npublic class MainWindowController implements Initializable {\r\n\r\n\r\n    Database database;\r\n    User loggedUser;\r\n\r\n    public MainWindowController() {}\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        database = new Database();\r\n        loggedUser = new User();\r\n        lblWelcome.setText(&quot;Welcome, &quot; + loggedUser.getUsername());\r\n    }\r\n\r\n    static public void loadScene(String name) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(name));\r\n\r\n        Stage stage = new Stage();\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Lending/Receiving   - Library System&quot;);\r\n        stage.setScene(scene);\r\n        stage.showAndWait();\r\n    }\r\n}\r\n```\r\n\r\nThe User class:\r\n\r\n```\r\npublic class User {\r\n\r\n    private String username;\r\n    private String password;\r\n\r\n    public User(){ }\r\n\r\n    public User(String username, String password) {\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) { this.username = username; }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {this.password = password; }\r\n\r\n}\r\n```\r\n\r\nThe database class, just in case, it is needed:\r\n\r\n```\r\npublic class Database {\r\n\r\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;User&gt; getUsers() { return users; }\r\n\r\n    public Database() {\r\n\r\n        //users\r\n        users.add(new User(&quot;u&quot;, &quot;p&quot;));\r\n        users.add(new User(&quot;admin&quot;, &quot;admin&quot;));\r\n\r\n    }\r\n}\r\n```","title":"&quot;Welcome, null&quot; but I want to see Welcome, {nameOfLoggedInUser}","body":"<p>I am creating a Library System using JavaFX where you can lend items to the members. I've created a login that takes me to another fxml file called main-view.fxml which has a controller called MainWindowController.</p>\n<p>The problem I have is that after successful login, the new Window/Scene displays &quot;Welcome, null&quot; but what I expect the program to do is welcome the logged-in user by his username.</p>\n<p>A screenshot to show how the main window looks and the problem I am trying to solve can be found below. I want it to Welcome the user by its name. I have used <code>welcomeLabel.SetText();</code> to get username by getter <code>getUsername();</code> from User class.</p>\n<p>I believe I get null because the data when we log in is not carried forward to the next scene. I am not sure how to do that. Hope I have explained the problem well. I have searched about this a lot on this platform but could not find an answer that completely solves my worries.</p>\n<p>I have pasted the code for MainWindowController, LoginController, User class, and a hardcoded Database. Thank you in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/fMXp7.png\" rel=\"nofollow noreferrer\">A screenshot of main window</a>](<a href=\"https://i.stack.imgur.com/fMXp7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/fMXp7.png</a>)</p>\n<p>The Login controller class:</p>\n<pre><code>public class LoginController {\n\n    @FXML\n    private Label loginStatus;\n    @FXML\n    private TextField usernameField;\n    @FXML\n    private TextField passwordField;\n    @FXML\n    private Button loginButton;\n    Database database;\n\n    public LoginController() {}\n\n    @FXML\n    public void onLoginButtonClicked(ActionEvent actionEvent) throws IOException {\n        database = new Database();\n            for (User user : database.getUsers()) {\n                if (usernameField.getText().equals(user.getUsername()) &amp;&amp;\n                        (passwordField.getText().equals(user.getPassword()))) {\n\n                        Stage loginStage = (Stage) loginButton.getScene().getWindow();\n                        loginStage.close();\n\n                        MainWindowController mainWindowController = new MainWindowController();\n                        mainWindowController.loadScene(&quot;main-view.fxml&quot;);\n\n                } else if (usernameField.getText().isEmpty() &amp;&amp; passwordField.getText().isEmpty()) {\n                    loginStatus.setText(&quot;Please enter your username and password.&quot;);\n                } else {\n                    loginStatus.setText(&quot;Wrong credentials, please try again.&quot;);\n                }\n            }\n    }\n}\n</code></pre>\n<p>The MainWindow controller class:</p>\n<pre><code>public class MainWindowController implements Initializable {\n\n\n    Database database;\n    User loggedUser;\n\n    public MainWindowController() {}\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        database = new Database();\n        loggedUser = new User();\n        lblWelcome.setText(&quot;Welcome, &quot; + loggedUser.getUsername());\n    }\n\n    static public void loadScene(String name) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(name));\n\n        Stage stage = new Stage();\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Lending/Receiving   - Library System&quot;);\n        stage.setScene(scene);\n        stage.showAndWait();\n    }\n}\n</code></pre>\n<p>The User class:</p>\n<pre><code>public class User {\n\n    private String username;\n    private String password;\n\n    public User(){ }\n\n    public User(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) { this.username = username; }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {this.password = password; }\n\n}\n</code></pre>\n<p>The database class, just in case, it is needed:</p>\n<pre><code>public class Database {\n\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n    public List&lt;User&gt; getUsers() { return users; }\n\n    public Database() {\n\n        //users\n        users.add(new User(&quot;u&quot;, &quot;p&quot;));\n        users.add(new User(&quot;admin&quot;, &quot;admin&quot;));\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666973236,"post_id":74238008,"comment_id":131068518,"body_markdown":"If `Sparrow` IS-A `Bird`, then you see all non-private fields and methods of `Bird` in `Sparrow` as well. Look up inheritance in Java.","body":"If <code>Sparrow</code> IS-A <code>Bird</code>, then you see all non-private fields and methods of <code>Bird</code> in <code>Sparrow</code> as well. Look up inheritance in Java."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666973267,"creation_date":1666973267,"answer_id":74238053,"question_id":74238008,"body_markdown":"This line means the same thing as\r\n\r\n```\r\nthrow new ClassCastException();\r\n```\r\n\r\nwhich is to say that it always fails and will never work.\r\n\r\nTo create a Sparrow, you must write `new Sparrow()` or `new SomeSubtypeOfSparrow()`.","title":"Sparrow spw= (Sparrow) new Bird(); what does the line mean?","body":"<p>This line means the same thing as</p>\n<pre><code>throw new ClassCastException();\n</code></pre>\n<p>which is to say that it always fails and will never work.</p>\n<p>To create a Sparrow, you must write <code>new Sparrow()</code> or <code>new SomeSubtypeOfSparrow()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3541826,"reputation":11,"user_id":3196880,"display_name":"Keith_L"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666973399,"creation_date":1666973399,"answer_id":74238085,"question_id":74238008,"body_markdown":"It doesn&#39;t really make sense to do this. You are creating a generic Bird, and then casting it to a Sparrow. Since it is not a Sparrow (nor any subclass of Bird), it throws an exception when you try to do this.","title":"Sparrow spw= (Sparrow) new Bird(); what does the line mean?","body":"<p>It doesn't really make sense to do this. You are creating a generic Bird, and then casting it to a Sparrow. Since it is not a Sparrow (nor any subclass of Bird), it throws an exception when you try to do this.</p>\n"}],"owner":{"account_id":23558102,"reputation":13,"user_id":17599809,"display_name":"Lohit Kumar Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666973399,"creation_date":1666973098,"question_id":74238008,"body_markdown":"where Sparrow and bird both are different classes and Sparrow class is an extended class of Bird class.\r\n\r\n\r\nI just wanna see if i create an instance of Class Sparrow does it can implement the property of the  Bird object.","title":"Sparrow spw= (Sparrow) new Bird(); what does the line mean?","body":"<p>where Sparrow and bird both are different classes and Sparrow class is an extended class of Bird class.</p>\n<p>I just wanna see if i create an instance of Class Sparrow does it can implement the property of the  Bird object.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-elastic-beanstalk"],"answers":[{"comments":[{"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"score":2,"creation_date":1622121427,"post_id":67722720,"comment_id":119703789,"body_markdown":"Thank you very much for this link. \nIt finally starts, in my pom.xml I removed the following: `&lt;configuration&gt;\n\t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\n\t\t\t\t&lt;/configuration&gt;`","body":"Thank you very much for this link.  It finally starts, in my pom.xml I removed the following: <code>&lt;configuration&gt; \t\t\t\t\t&lt;executable&gt;true&lt;&#47;executable&gt; \t\t\t\t&lt;&#47;configuration&gt;</code>"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1622121533,"post_id":67722720,"comment_id":119703847,"body_markdown":"I am glad it helped you. We have quite a few use cases for Java V2 here that includes many AWS services working together. https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/usecases","body":"I am glad it helped you. We have quite a few use cases for Java V2 here that includes many AWS services working together. <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/usecases\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/&hellip;</a>"}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622122017,"creation_date":1622120508,"answer_id":67722720,"question_id":67721558,"body_markdown":"Spring Boot apps run nicely on Elastic Beanstalk. However, you do need to set some variables. For example, have you set server-port variable to 5000? \r\n\r\nAnd as you stated, to successfully use a Service Client, you can set environment variables for your creds. Here is an end to end walkthrough that shows how to successfully put a Spring BOOT app that invokes several AWS Services on Elastic Beanstalk. \r\n\r\n[Creating your first AWS Java web application][1]\r\n\r\nPS - your log file mentions a ZIP file. Be sure to create the JAR properly as discussed in the above example. \r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/usecases/creating_first_project","title":"Elastic Beanstalk fails creating","body":"<p>Spring Boot apps run nicely on Elastic Beanstalk. However, you do need to set some variables. For example, have you set server-port variable to 5000?</p>\n<p>And as you stated, to successfully use a Service Client, you can set environment variables for your creds. Here is an end to end walkthrough that shows how to successfully put a Spring BOOT app that invokes several AWS Services on Elastic Beanstalk.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/usecases/creating_first_project\" rel=\"nofollow noreferrer\">Creating your first AWS Java web application</a></p>\n<p>PS - your log file mentions a ZIP file. Be sure to create the JAR properly as discussed in the above example.</p>\n"},{"tags":[],"owner":{"account_id":2974131,"reputation":1,"user_id":2525573,"display_name":"Diego"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666973381,"creation_date":1666973381,"answer_id":74238082,"question_id":67721558,"body_markdown":"Just in case someone arrive here looking for an answer about this guy:\r\n\r\n    Error: staging java app failed due to invalid zip file\r\n\r\nI was renaming my service jar in Gradle, using:\r\n\r\n    tasks.withType&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt; {\r\n        archiveFileName.set(&quot;service.jar&quot;)\r\n        launchScript()\r\n    } \r\n\r\nAnd ElasticBeanstalk was not happy about the renaming. \r\nWhen I let it have the default name, then no zip issues and all worked like a charm.","title":"Elastic Beanstalk fails creating","body":"<p>Just in case someone arrive here looking for an answer about this guy:</p>\n<pre><code>Error: staging java app failed due to invalid zip file\n</code></pre>\n<p>I was renaming my service jar in Gradle, using:</p>\n<pre><code>tasks.withType&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt; {\n    archiveFileName.set(&quot;service.jar&quot;)\n    launchScript()\n} \n</code></pre>\n<p>And ElasticBeanstalk was not happy about the renaming.\nWhen I let it have the default name, then no zip issues and all worked like a charm.</p>\n"}],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67722720,"answer_count":2,"score":2,"last_activity_date":1666973381,"creation_date":1622116258,"question_id":67721558,"body_markdown":"I finally reached the point where my Elastic Beanstalk Instance / Environment got launched. (Java Corretto 11 Platform) Now it fails starting up the provided `.jar` file. \r\n\r\nIn the `eb-engine.log` file, I am not able to find any more error than this: \r\n\r\n    2021/05/27 11:36:25.889735 [INFO] Executing instruction: StageJavaApplication\r\n    2021/05/27 11:36:25.889871 [ERROR] An error occurred during execution of command [app-deploy] - [StageJavaApplication]. Stop running the command. Error: staging java app failed due to invalid zip file \r\n\r\nThe jar file is a Spring Boot application built with `mvn -B package`. \r\nLocally the whole thing starts, but crashes afterwards because of not given environment variables (Expected behaviour).\r\nBut it seems AWS is not even starting the application..\r\n\r\nAny suggestions on this?\r\n","title":"Elastic Beanstalk fails creating","body":"<p>I finally reached the point where my Elastic Beanstalk Instance / Environment got launched. (Java Corretto 11 Platform) Now it fails starting up the provided <code>.jar</code> file.</p>\n<p>In the <code>eb-engine.log</code> file, I am not able to find any more error than this:</p>\n<pre><code>2021/05/27 11:36:25.889735 [INFO] Executing instruction: StageJavaApplication\n2021/05/27 11:36:25.889871 [ERROR] An error occurred during execution of command [app-deploy] - [StageJavaApplication]. Stop running the command. Error: staging java app failed due to invalid zip file \n</code></pre>\n<p>The jar file is a Spring Boot application built with <code>mvn -B package</code>.\nLocally the whole thing starts, but crashes afterwards because of not given environment variables (Expected behaviour).\nBut it seems AWS is not even starting the application..</p>\n<p>Any suggestions on this?</p>\n"},{"tags":["java","intellij-idea","code-coverage"],"comments":[{"owner":{"account_id":1150498,"reputation":119,"user_id":1132337,"display_name":"MoYapro"},"score":0,"creation_date":1465903574,"post_id":37463876,"comment_id":63085439,"body_markdown":"Same thing here: IntelliJ 2016.1.3, JRE 1.8.0_91      Are you also using Ubuntu as OS?","body":"Same thing here: IntelliJ 2016.1.3, JRE 1.8.0_91      Are you also using Ubuntu as OS?"},{"owner":{"account_id":8511186,"reputation":111,"user_id":6381171,"accept_rate":0,"display_name":"Martin"},"score":0,"creation_date":1465977686,"post_id":37463876,"comment_id":63120989,"body_markdown":"No, I am using OS X El Capitan (Version 10.11.5 (15F34))","body":"No, I am using OS X El Capitan (Version 10.11.5 (15F34))"},{"owner":{"account_id":1150498,"reputation":119,"user_id":1132337,"display_name":"MoYapro"},"score":0,"creation_date":1465997737,"post_id":37463876,"comment_id":63135080,"body_markdown":"I managed to get Coverage working by selecting a different coverage runner in the run-settings on Code Coverage tab.","body":"I managed to get Coverage working by selecting a different coverage runner in the run-settings on Code Coverage tab."}],"answers":[{"tags":[],"owner":{"account_id":1782876,"reputation":96,"user_id":1625136,"display_name":"Santos Zatarain Vera"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666973243,"creation_date":1476337726,"answer_id":40013219,"question_id":37463876,"body_markdown":"Currently, it is not posible to use IntelliJ IDEA coverage agent, because *org.wildfly.arquillian:wildfly-arquillian-container-embedded:2.0.0.Final* doesn&#39;t have any property for setting *System Packages* (*jboss.modules.system.pkgs* system property).\r\n\r\nThe only way to use IntelliJ IDEA coverage agent is modifying *EmbeddedContainerConfiguration* and *EmbeddedDeployableContainer* classes, and then, you must use these customized classes.\r\n\r\nI alredy made a pull request, i hope the new version will be available very soon.\r\n\r\n\r\n    public class EmbeddedContainerConfiguration extends CommonContainerConfiguration {\r\n\r\n        private String systemPackages = System.getProperty(&quot;jboss.modules.system.pkgs&quot;);\r\n    \r\n        public String getSystemPackages() {\r\n            return systemPackages;\r\n        }\r\n    \r\n        public void setSystemPackages(String systemPackages) {\r\n            this.systemPackages = systemPackages;\r\n        }\r\n\r\n        public String[] getSystemPackagesArray() {\r\n            return (systemPackages == null || systemPackages.isEmpty()) ? null : systemPackages.split(&quot;,&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    public final class EmbeddedDeployableContainer extends CommonDeployableContainer&lt;EmbeddedContainerConfiguration&gt; {\r\n\r\n        @Override\r\n        public void setup(final EmbeddedContainerConfiguration config) {\r\n            super.setup(config);\r\n            if (config.getCleanServerBaseDir() != null) {\r\n                SecurityActions.setSystemProperty(EmbeddedStandaloneServerFactory.JBOSS_EMBEDDED_ROOT, config.getCleanServerBaseDir());\r\n            }\r\n            final String[] cmdArgs = getCommandArgs(config);\r\n            server = EmbeddedProcessFactory.createStandaloneServer(config.getJbossHome(), config.getModulePath(), config.getSystemPackagesArray(), cmdArgs);\r\n        }\r\n    \r\n    }","title":"Coverage Integration tests IntelliJ on Wildfly","body":"<p>Currently, it is not posible to use IntelliJ IDEA coverage agent, because <em>org.wildfly.arquillian:wildfly-arquillian-container-embedded:2.0.0.Final</em> doesn't have any property for setting <em>System Packages</em> (<em>jboss.modules.system.pkgs</em> system property).</p>\n<p>The only way to use IntelliJ IDEA coverage agent is modifying <em>EmbeddedContainerConfiguration</em> and <em>EmbeddedDeployableContainer</em> classes, and then, you must use these customized classes.</p>\n<p>I alredy made a pull request, i hope the new version will be available very soon.</p>\n<pre><code>public class EmbeddedContainerConfiguration extends CommonContainerConfiguration {\n\n    private String systemPackages = System.getProperty(&quot;jboss.modules.system.pkgs&quot;);\n\n    public String getSystemPackages() {\n        return systemPackages;\n    }\n\n    public void setSystemPackages(String systemPackages) {\n        this.systemPackages = systemPackages;\n    }\n\n    public String[] getSystemPackagesArray() {\n        return (systemPackages == null || systemPackages.isEmpty()) ? null : systemPackages.split(&quot;,&quot;);\n    }\n\n}\n\n\npublic final class EmbeddedDeployableContainer extends CommonDeployableContainer&lt;EmbeddedContainerConfiguration&gt; {\n\n    @Override\n    public void setup(final EmbeddedContainerConfiguration config) {\n        super.setup(config);\n        if (config.getCleanServerBaseDir() != null) {\n            SecurityActions.setSystemProperty(EmbeddedStandaloneServerFactory.JBOSS_EMBEDDED_ROOT, config.getCleanServerBaseDir());\n        }\n        final String[] cmdArgs = getCommandArgs(config);\n        server = EmbeddedProcessFactory.createStandaloneServer(config.getJbossHome(), config.getModulePath(), config.getSystemPackagesArray(), cmdArgs);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8511186,"reputation":111,"user_id":6381171,"accept_rate":0,"display_name":"Martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666973243,"creation_date":1464273226,"question_id":37463876,"body_markdown":"I would like to verify the code coverage of my integration tests. I have implemented some REST-Services and deployed them on Wildly 9.0.2. Then I configured the coverage in IntelliJ with IDEA Coverage Runner for tracing support. When I now start Wildfly with coverage the deployment of the war fails with the following strack trace: \r\n\r\n    16:20:53,103 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.&quot;myservice-war-1.0.0-SNAPSHOT.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;myservice-war-1.0.0-SNAPSHOT.war&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment &quot;myservice-war-1.0.0-SNAPSHOT.war&quot;\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\r\n\tat de.akquinet.ats.myservice.rest.services.MyUpdateService.&lt;clinit&gt;(MyUpdateService.java)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.jboss.invocation.proxy.AbstractProxyFactory.afterClassLoad(AbstractProxyFactory.java:95)\r\n\tat org.jboss.invocation.proxy.AbstractClassFactory.defineClass(AbstractClassFactory.java:166)\r\n\tat org.jboss.invocation.proxy.AbstractProxyFactory.getCachedMethods(AbstractProxyFactory.java:150)\r\n\tat org.jboss.as.ejb3.component.stateless.StatelessComponentDescription$3.configure(StatelessComponentDescription.java:150)\r\n\tat org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:67)\r\n\tat org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81)\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156)\r\n\t... 5 more\r\n    Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module &quot;deployment.myservice-war-1.0.0-SNAPSHOT.war:main&quot; from Service Module Loader]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\r\n\t... 15 more\r\n\r\n        16:20:53,106 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;myservice-war-1.0.0-SNAPSHOT.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.INSTALL&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;\r\n        Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\r\n        Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \\&quot;deployment.myservice-war-1.0.0-SNAPSHOT.war:main\\&quot; from Service Module Loader]&quot;},\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n            &quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.batch.environment is missing [jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;,\r\n            &quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;\r\n        ]\r\n    }\r\n        16:20:53,107 ERROR [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0021: Deploy of deployment &quot;myservice-war-1.0.0-SNAPSHOT.war&quot; was rolled back with the following failure message: \r\n    {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.INSTALL&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;\r\n        Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\r\n        Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \\&quot;deployment.myservice-war-1.0.0-SNAPSHOT.war:main\\&quot; from Service Module Loader]&quot;},\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n            &quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.batch.environment is missing [jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;,\r\n            &quot;jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;myservice-war-1.0.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;\r\n        ]\r\n    }\r\n\r\nI am using IntelliJ IDEA 2016.1.2\r\nBuild #IU-145.972, built on May 14, 2016\r\nJRE: 1.8.0_76-release-b162 x86_64\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n\r\nI am fully aware of what a ClassNotFoundException is and usually know what to do then, but here I am stuck...\r\n\r\nCan anybody help please?\r\n","title":"Coverage Integration tests IntelliJ on Wildfly","body":"<p>I would like to verify the code coverage of my integration tests. I have implemented some REST-Services and deployed them on Wildly 9.0.2. Then I configured the coverage in IntelliJ with IDEA Coverage Runner for tracing support. When I now start Wildfly with coverage the deployment of the war fails with the following strack trace: </p>\n\n<pre><code>16:20:53,103 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.\"myservice-war-1.0.0-SNAPSHOT.war\".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.\"myservice-war-1.0.0-SNAPSHOT.war\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \"myservice-war-1.0.0-SNAPSHOT.war\"\nat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163)\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\nat de.akquinet.ats.myservice.rest.services.MyUpdateService.&lt;clinit&gt;(MyUpdateService.java)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:348)\nat org.jboss.invocation.proxy.AbstractProxyFactory.afterClassLoad(AbstractProxyFactory.java:95)\nat org.jboss.invocation.proxy.AbstractClassFactory.defineClass(AbstractClassFactory.java:166)\nat org.jboss.invocation.proxy.AbstractProxyFactory.getCachedMethods(AbstractProxyFactory.java:150)\nat org.jboss.as.ejb3.component.stateless.StatelessComponentDescription$3.configure(StatelessComponentDescription.java:150)\nat org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:67)\nat org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81)\nat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156)\n... 5 more\nCaused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \"deployment.myservice-war-1.0.0-SNAPSHOT.war:main\" from Service Module Loader]\nat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\nat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\nat org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\nat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\nat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\n... 15 more\n\n    16:20:53,106 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation (\"deploy\") failed - address: ([(\"deployment\" =&gt; \"myservice-war-1.0.0-SNAPSHOT.war\")]) - failure description: {\n    \"WFLYCTL0080: Failed services\" =&gt; {\"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".INSTALL\" =&gt; \"org.jboss.msc.service.StartException in service jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \\\"myservice-war-1.0.0-SNAPSHOT.war\\\"\n    Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\n    Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \\\"deployment.myservice-war-1.0.0-SNAPSHOT.war:main\\\" from Service Module Loader]\"},\n    \"WFLYCTL0180: Services with missing/unavailable dependencies\" =&gt; [\n        \"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".batch.environment is missing [jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".beanmanager]\",\n        \"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".weld.weldClassIntrospector is missing [jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".beanmanager]\"\n    ]\n}\n    16:20:53,107 ERROR [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0021: Deploy of deployment \"myservice-war-1.0.0-SNAPSHOT.war\" was rolled back with the following failure message: \n{\n    \"WFLYCTL0080: Failed services\" =&gt; {\"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".INSTALL\" =&gt; \"org.jboss.msc.service.StartException in service jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \\\"myservice-war-1.0.0-SNAPSHOT.war\\\"\n    Caused by: java.lang.NoClassDefFoundError: com/intellij/rt/coverage/data/ProjectData\n    Caused by: java.lang.ClassNotFoundException: com.intellij.rt.coverage.data.ProjectData from [Module \\\"deployment.myservice-war-1.0.0-SNAPSHOT.war:main\\\" from Service Module Loader]\"},\n    \"WFLYCTL0180: Services with missing/unavailable dependencies\" =&gt; [\n        \"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".batch.environment is missing [jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".beanmanager]\",\n        \"jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".weld.weldClassIntrospector is missing [jboss.deployment.unit.\\\"myservice-war-1.0.0-SNAPSHOT.war\\\".beanmanager]\"\n    ]\n}\n</code></pre>\n\n<p>I am using IntelliJ IDEA 2016.1.2\nBuild #IU-145.972, built on May 14, 2016\nJRE: 1.8.0_76-release-b162 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o</p>\n\n<p>I am fully aware of what a ClassNotFoundException is and usually know what to do then, but here I am stuck...</p>\n\n<p>Can anybody help please?</p>\n"},{"tags":["java","javafx","webview","socket.io","javafx-webengine"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666990570,"post_id":74237849,"comment_id":131073442,"body_markdown":"The webview http client implementation was [changed in JavaFX 14](https://bugs.openjdk.org/browse/JDK-8211308).  There may be an undocumented, unsupported system property to switch webview back to the prior http implementation in some later JavaFX versions.","body":"The webview http client implementation was <a href=\"https://bugs.openjdk.org/browse/JDK-8211308\" rel=\"nofollow noreferrer\">changed in JavaFX 14</a>.  There may be an undocumented, unsupported system property to switch webview back to the prior http implementation in some later JavaFX versions."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1666992663,"post_id":74237849,"comment_id":131073905,"body_markdown":"Here is the [context switch which may be used to switch the HTTP implementation used by JavaFX](https://github.com/openjdk/jfx/pull/14/files#diff-593f23fc8227e40ac4ddaf39568aaa3a3abc8204373f9a64cfe07336074bf761R99): System property: `com.sun.webkit.useHTTP2Loader`, if true and running on a compatible JDK, it will use the java.net.http client from JavaFX 11+, otherwise it will use the `URLConnection` class which has always been in the JDK.","body":"Here is the <a href=\"https://github.com/openjdk/jfx/pull/14/files#diff-593f23fc8227e40ac4ddaf39568aaa3a3abc8204373f9a64cfe07336074bf761R99\" rel=\"nofollow noreferrer\">context switch which may be used to switch the HTTP implementation used by JavaFX</a>: System property: <code>com.sun.webkit.useHTTP2Loader</code>, if true and running on a compatible JDK, it will use the java.net.http client from JavaFX 11+, otherwise it will use the <code>URLConnection</code> class which has always been in the JDK."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666996620,"post_id":74237849,"comment_id":131074574,"body_markdown":"@jewelsea Thanks for the answer, most likely this is the right solution, since it helped another person. I can&#39;t replicate my success. Adding a parameter does not solve the problem while trying to figure out why... Using maven, I add &quot;-Dcom.sun.webkit.useHTTP2Loader=false&quot; parameter to the maven application launch configuration in the &#39;VM options&#39; field in the &#39;Java Options&#39; section. Is everything right?","body":"@jewelsea Thanks for the answer, most likely this is the right solution, since it helped another person. I can&#39;t replicate my success. Adding a parameter does not solve the problem while trying to figure out why... Using maven, I add &quot;-Dcom.sun.webkit.useHTTP2Loader=false&quot; parameter to the maven application launch configuration in the &#39;VM options&#39; field in the &#39;Java Options&#39; section. Is everything right?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666996986,"post_id":74237849,"comment_id":131074642,"body_markdown":"Run it from the command line, e.g. `java -Dcom.sun.webkit.useHTTP2Loader=false &lt;yourmodule&gt;/&lt;yourpackage&gt;.Main`.  I do not know if it would actually address your problem or not.  You can [provide other system properties to the log java net HTTP client calls](https://stackoverflow.com/questions/53215038/how-to-log-request-response-using-java-net-http-httpclient).  If useHTTP2Loader is switched off, then you shouldn&#39;t see  the java net HTTP client calls being generated for the WebView calls.","body":"Run it from the command line, e.g. <code>java -Dcom.sun.webkit.useHTTP2Loader=false &lt;yourmodule&gt;&#47;&lt;yourpackage&gt;.Main</code>.  I do not know if it would actually address your problem or not.  You can <a href=\"https://stackoverflow.com/questions/53215038/how-to-log-request-response-using-java-net-http-httpclient\">provide other system properties to the log java net HTTP client calls</a>.  If useHTTP2Loader is switched off, then you shouldn&#39;t see  the java net HTTP client calls being generated for the WebView calls."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1667001199,"post_id":74237849,"comment_id":131075216,"body_markdown":"@jewelsea I didn&#39;t understand how to use *java -Dcom.sun.webkit.useHTTP2Loader=false &lt;yourmodule&gt;/&lt;yourpackage&gt;.Main* but I tried *System.setProperty(&#39;com.sun.webkit.useHTTP2Loader&#39;, &#39;false&#39;)* and after that, instead of an _&#39;Unknown Error&#39;_ error, it threw a _&#39;Connection refused&#39;_ error. This is already a success. I tried to open my site and... It opened and the sockets worked! You can write a response and complete it with *System.setProperty(&#39;com.sun.webkit.useHTTP2Loader&#39;*, &#39;false&#39;); to make it the best.","body":"@jewelsea I didn&#39;t understand how to use <i>java -Dcom.sun.webkit.useHTTP2Loader=false &lt;yourmodule&gt;/&lt;yourpackage&gt;.Main</i> but I tried <i>System.setProperty(&#39;com.sun.webkit.useHTTP2Loader&#39;, &#39;false&#39;)</i> and after that, instead of an <i>&#39;Unknown Error&#39;</i> error, it threw a <i>&#39;Connection refused&#39;</i> error. This is already a success. I tried to open my site and... It opened and the sockets worked! You can write a response and complete it with <i>System.setProperty(&#39;com.sun.webkit.useHTTP2Loader&#39;</i>, &#39;false&#39;); to make it the best."}],"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666973135,"creation_date":1666972246,"question_id":74237849,"body_markdown":"I&#39;ve noticed strange behavior in **javafx.WebView** version **14-ea+4** and up.\r\n\r\nIf you open https://socketio-chat-h9jt.herokuapp.com/ in **javafx.WebView** of any version, then there will be no problems. The site works well.\r\n\r\nBut if you install this chat (https://github.com/socketio/socket.io-client-java) locally on your PC, start the **NodeJs** server and open http://localhost:3000 in **javafx.WebView** version **14-ea+4** and above, then the page will not load and throw an &#39;Unknown Error&#39; error.\r\n\r\nIf you use version **14-ea+2** and below, then there will be no error and the page will load.\r\n\r\nIf you use a proxy before loading the page then the page will open but **socket.io** won&#39;t work. For the proxy to work, you need to replace *&#39;localhost&#39;* with an **IPv4** address, which can be found using the *&#39;ipconfig&#39;* command in cmd. In my case *&#39;localhost&#39; -&gt; &#39;192.168.56.1&#39;*:\r\n\r\n    URI uri = URI.create(&quot;http://192.168.56.1:3000/&quot;);\r\n    if (uri.getHost() != null) System.setProperty(&quot;http.proxyHost&quot;, uri.getHost());\r\n    if (uri.getPort() != -1) System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(uri.getPort()));\r\n\r\nIf webkit loggers are enabled, then **com.sun.webkit.network.URLLoader** will spam **99** with the error **&#39;HTTP/1.1 header parser received no bytes&#39;**.\r\n\r\nWhy did the proxy affect the result so much and what changed in **javafx.WebView** version **14-ea+4** that got such problems?\r\nWhy **socket.io chat** from the Internet opens well, but the same **socket.io chat** installed locally does not open?\r\n\r\nI need **WebView** **version 18** because I need transparency, so unfortunately I can&#39;t use a version lower than this...\r\n\r\n**socket.io index.js:**\r\n\r\n    // Setup basic express server\r\n    const express = require(&#39;express&#39;);\r\n    const app = express();\r\n    const path = require(&#39;path&#39;);\r\n    const server = require(&#39;http&#39;).createServer(app);\r\n    const io = require(&#39;socket.io&#39;)(server);\r\n    const port = process.env.PORT || 3000;\r\n    \r\n    server.listen(port, () =&gt; {\r\n      console.log(&#39;Server listening at port %d&#39;, port);\r\n    });\r\n    \r\n    // Routing\r\n    app.use(express.static(path.join(__dirname, &#39;public&#39;)));\r\n    \r\n    // Chatroom\r\n    \r\n    let numUsers = 0;\r\n    \r\n    io.on(&#39;connection&#39;, (socket) =&gt; {\r\n      let addedUser = false;\r\n    \r\n      // when the client emits &#39;new message&#39;, this listens and executes\r\n      socket.on(&#39;new message&#39;, (data) =&gt; {\r\n        // we tell the client to execute &#39;new message&#39;\r\n        socket.broadcast.emit(&#39;new message&#39;, {\r\n          username: socket.username,\r\n          message: data\r\n        });\r\n      });\r\n    \r\n      // when the client emits &#39;add user&#39;, this listens and executes\r\n      socket.on(&#39;add user&#39;, (username) =&gt; {\r\n        if (addedUser) return;\r\n    \r\n        // we store the username in the socket session for this client\r\n        socket.username = username;\r\n        ++numUsers;\r\n        addedUser = true;\r\n        socket.emit(&#39;login&#39;, {\r\n          numUsers: numUsers\r\n        });\r\n        // echo globally (all clients) that a person has connected\r\n        socket.broadcast.emit(&#39;user joined&#39;, {\r\n          username: socket.username,\r\n          numUsers: numUsers\r\n        });\r\n      });\r\n    \r\n      // when the client emits &#39;typing&#39;, we broadcast it to others\r\n      socket.on(&#39;typing&#39;, () =&gt; {\r\n        socket.broadcast.emit(&#39;typing&#39;, {\r\n          username: socket.username\r\n        });\r\n      });\r\n    \r\n      // when the client emits &#39;stop typing&#39;, we broadcast it to others\r\n      socket.on(&#39;stop typing&#39;, () =&gt; {\r\n        socket.broadcast.emit(&#39;stop typing&#39;, {\r\n          username: socket.username\r\n        });\r\n      });\r\n    \r\n      // when the user disconnects.. perform this\r\n      socket.on(&#39;disconnect&#39;, () =&gt; {\r\n        if (addedUser) {\r\n          --numUsers;\r\n    \r\n          // echo globally that this client has left\r\n          socket.broadcast.emit(&#39;user left&#39;, {\r\n            username: socket.username,\r\n            numUsers: numUsers\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\nExample simple webview app **Main.java**:\r\n\r\n    WebView wv = new WebView();\r\n\r\n    @Override\r\n        public void start(Stage stage) {\r\n            String url = &quot;http://localhost:3000&quot;;\r\n    \r\n            // use proxy\r\n            //String url = &quot;http://192.168.56.1:3000&quot;; // IPv4:3000\r\n            //URI uri = URI.create(url);\r\n            //if (uri.getHost() != null) System.setProperty(&quot;http.proxyHost&quot;, uri.getHost());\r\n            //if (uri.getPort() != -1) System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(uri.getPort()));\r\n    \r\n            wv.getEngine().load(url);\r\n            scene = new Scene(wv, 750, 800);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }","title":"javafx.WebView not open local site with socket.io","body":"<p>I've noticed strange behavior in <strong>javafx.WebView</strong> version <strong>14-ea+4</strong> and up.</p>\n<p>If you open <a href=\"https://socketio-chat-h9jt.herokuapp.com/\" rel=\"nofollow noreferrer\">https://socketio-chat-h9jt.herokuapp.com/</a> in <strong>javafx.WebView</strong> of any version, then there will be no problems. The site works well.</p>\n<p>But if you install this chat (<a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">https://github.com/socketio/socket.io-client-java</a>) locally on your PC, start the <strong>NodeJs</strong> server and open http://localhost:3000 in <strong>javafx.WebView</strong> version <strong>14-ea+4</strong> and above, then the page will not load and throw an 'Unknown Error' error.</p>\n<p>If you use version <strong>14-ea+2</strong> and below, then there will be no error and the page will load.</p>\n<p>If you use a proxy before loading the page then the page will open but <strong>socket.io</strong> won't work. For the proxy to work, you need to replace <em>'localhost'</em> with an <strong>IPv4</strong> address, which can be found using the <em>'ipconfig'</em> command in cmd. In my case <em>'localhost' -&gt; '192.168.56.1'</em>:</p>\n<pre><code>URI uri = URI.create(&quot;http://192.168.56.1:3000/&quot;);\nif (uri.getHost() != null) System.setProperty(&quot;http.proxyHost&quot;, uri.getHost());\nif (uri.getPort() != -1) System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(uri.getPort()));\n</code></pre>\n<p>If webkit loggers are enabled, then <strong>com.sun.webkit.network.URLLoader</strong> will spam <strong>99</strong> with the error <strong>'HTTP/1.1 header parser received no bytes'</strong>.</p>\n<p>Why did the proxy affect the result so much and what changed in <strong>javafx.WebView</strong> version <strong>14-ea+4</strong> that got such problems?\nWhy <strong>socket.io chat</strong> from the Internet opens well, but the same <strong>socket.io chat</strong> installed locally does not open?</p>\n<p>I need <strong>WebView</strong> <strong>version 18</strong> because I need transparency, so unfortunately I can't use a version lower than this...</p>\n<p><strong>socket.io index.js:</strong></p>\n<pre><code>// Setup basic express server\nconst express = require('express');\nconst app = express();\nconst path = require('path');\nconst server = require('http').createServer(app);\nconst io = require('socket.io')(server);\nconst port = process.env.PORT || 3000;\n\nserver.listen(port, () =&gt; {\n  console.log('Server listening at port %d', port);\n});\n\n// Routing\napp.use(express.static(path.join(__dirname, 'public')));\n\n// Chatroom\n\nlet numUsers = 0;\n\nio.on('connection', (socket) =&gt; {\n  let addedUser = false;\n\n  // when the client emits 'new message', this listens and executes\n  socket.on('new message', (data) =&gt; {\n    // we tell the client to execute 'new message'\n    socket.broadcast.emit('new message', {\n      username: socket.username,\n      message: data\n    });\n  });\n\n  // when the client emits 'add user', this listens and executes\n  socket.on('add user', (username) =&gt; {\n    if (addedUser) return;\n\n    // we store the username in the socket session for this client\n    socket.username = username;\n    ++numUsers;\n    addedUser = true;\n    socket.emit('login', {\n      numUsers: numUsers\n    });\n    // echo globally (all clients) that a person has connected\n    socket.broadcast.emit('user joined', {\n      username: socket.username,\n      numUsers: numUsers\n    });\n  });\n\n  // when the client emits 'typing', we broadcast it to others\n  socket.on('typing', () =&gt; {\n    socket.broadcast.emit('typing', {\n      username: socket.username\n    });\n  });\n\n  // when the client emits 'stop typing', we broadcast it to others\n  socket.on('stop typing', () =&gt; {\n    socket.broadcast.emit('stop typing', {\n      username: socket.username\n    });\n  });\n\n  // when the user disconnects.. perform this\n  socket.on('disconnect', () =&gt; {\n    if (addedUser) {\n      --numUsers;\n\n      // echo globally that this client has left\n      socket.broadcast.emit('user left', {\n        username: socket.username,\n        numUsers: numUsers\n      });\n    }\n  });\n});\n</code></pre>\n<p>Example simple webview app <strong>Main.java</strong>:</p>\n<pre><code>WebView wv = new WebView();\n\n@Override\n    public void start(Stage stage) {\n        String url = &quot;http://localhost:3000&quot;;\n\n        // use proxy\n        //String url = &quot;http://192.168.56.1:3000&quot;; // IPv4:3000\n        //URI uri = URI.create(url);\n        //if (uri.getHost() != null) System.setProperty(&quot;http.proxyHost&quot;, uri.getHost());\n        //if (uri.getPort() != -1) System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(uri.getPort()));\n\n        wv.getEngine().load(url);\n        scene = new Scene(wv, 750, 800);\n        stage.setScene(scene);\n        stage.show();\n    }\n</code></pre>\n"},{"tags":["java","file","directory"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1666972693,"post_id":74237765,"comment_id":131068319,"body_markdown":"Please have a look at the java NIO2 API that&#39;s been around since Java 7. Especially `Path` or more specifically [`Path.startsWith(Path)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/file/Path.html#startsWith(java.nio.file.Path)). You don&#39;t need to handle strings at all.","body":"Please have a look at the java NIO2 API that&#39;s been around since Java 7. Especially <code>Path</code> or more specifically <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/file/Path.html#startsWith(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Path.startsWith(Path)</code></a>. You don&#39;t need to handle strings at all."},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667024001,"post_id":74237765,"comment_id":131077260,"body_markdown":"It would be nice if you could edit some example dir-paths and file-paths into the question, because there&#39;s still multiple ways to interpret it. I mean, we don&#39;t know you, so your attempted solution of comparing the beginning of both paths might not always solve the problem (apart form being slightly crude).","body":"It would be nice if you could edit some example dir-paths and file-paths into the question, because there&#39;s still multiple ways to interpret it. I mean, we don&#39;t know you, so your attempted solution of comparing the beginning of both paths might not always solve the problem (apart form being slightly crude)."}],"answers":[{"tags":[],"owner":{"account_id":19190684,"reputation":113,"user_id":14020465,"display_name":"sajad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666973045,"creation_date":1666973045,"answer_id":74238001,"question_id":74237765,"body_markdown":"There is a Topic in the Book : Java the complete reference guide (Twelfth edition) in (EXPLORING NIO) season which is &quot;Use walkFileTree() to List a Directory Tree&quot; which explain the java solution to list and do what ever you want with a Directory Tree. &lt;br&gt;\r\n\r\nTry to read about walkFileTree() method of java, it will simply solve your problem.&lt;br&gt;\r\nfeel free to ask any question you need to know.","title":"How can I check, using Java, that a given file path is under (any number of levels deep) a given directory path","body":"<p>There is a Topic in the Book : Java the complete reference guide (Twelfth edition) in (EXPLORING NIO) season which is &quot;Use walkFileTree() to List a Directory Tree&quot; which explain the java solution to list and do what ever you want with a Directory Tree. <br></p>\n<p>Try to read about walkFileTree() method of java, it will simply solve your problem.<br>\nfeel free to ask any question you need to know.</p>\n"}],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666977334,"answer_count":1,"score":0,"last_activity_date":1666973100,"creation_date":1666971754,"question_id":74237765,"body_markdown":"Given two strings - one representing a directory path and the other representing a file path - what is the most efficient way to check whether the file exists under (it could be any levels deep) the given directory.\r\n\r\nI started by turning both into ```File``` objects, and comparing their canonical paths\r\n\r\n    // null checks etc. omitted for brevity\r\n    File file = new File(filePath);\r\n    String fileCanonicalPath = file.getCanonicalPath();\r\n\r\n    File dir = new File(dirPath);\r\n    String dirCanonicalPath = dir.getCanonicalPath();\r\n\r\n    return fileCanonicalPath.startsWith(dirCanonicalPath);\r\n\r\nBut I am not convinced this is actually the most accurate way to do it - I would like to rely on what the system considers rather than comparing strings. \r\n\r\nI then tried with converting both to ```File``` objects and then recursively calling the ```getParentFile()``` on the file, and comparing each one with the directory (using ```equals(...)```), until I get the directory or no further parent (```getParent()``` returns ```null```).\r\n\r\nBut this seems rather inefficient.\r\n\r\nIs there a better way - more efficient and more objectively correct - to do this?","title":"How can I check, using Java, that a given file path is under (any number of levels deep) a given directory path","body":"<p>Given two strings - one representing a directory path and the other representing a file path - what is the most efficient way to check whether the file exists under (it could be any levels deep) the given directory.</p>\n<p>I started by turning both into <code>File</code> objects, and comparing their canonical paths</p>\n<pre><code>// null checks etc. omitted for brevity\nFile file = new File(filePath);\nString fileCanonicalPath = file.getCanonicalPath();\n\nFile dir = new File(dirPath);\nString dirCanonicalPath = dir.getCanonicalPath();\n\nreturn fileCanonicalPath.startsWith(dirCanonicalPath);\n</code></pre>\n<p>But I am not convinced this is actually the most accurate way to do it - I would like to rely on what the system considers rather than comparing strings.</p>\n<p>I then tried with converting both to <code>File</code> objects and then recursively calling the <code>getParentFile()</code> on the file, and comparing each one with the directory (using <code>equals(...)</code>), until I get the directory or no further parent (<code>getParent()</code> returns <code>null</code>).</p>\n<p>But this seems rather inefficient.</p>\n<p>Is there a better way - more efficient and more objectively correct - to do this?</p>\n"},{"tags":["java","excel","spring","apache-poi","spring-bean"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1666971671,"post_id":74236863,"comment_id":131067930,"body_markdown":"Why not return the `File` which can then be re-read as many times as you want? An `InputStream` can normally only be read once then it&#39;s empty","body":"Why not return the <code>File</code> which can then be re-read as many times as you want? An <code>InputStream</code> can normally only be read once then it&#39;s empty"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666978083,"post_id":74236863,"comment_id":131070141,"body_markdown":"Remove the try/catch and you will see why. My guess you are trying to load a resource tha tis in the classpath and not an file from the file system. It also feels weird/wrong to have a `Workbook` defined as a bean.","body":"Remove the try/catch and you will see why. My guess you are trying to load a resource tha tis in the classpath and not an file from the file system. It also feels weird/wrong to have a <code>Workbook</code> defined as a bean."},{"owner":{"account_id":13802496,"reputation":3,"user_id":9962204,"display_name":"SimeonKV"},"score":0,"creation_date":1666979950,"post_id":74236863,"comment_id":131070712,"body_markdown":"Well,the problem was that I had the same file path in another outputstream.","body":"Well,the problem was that I had the same file path in another outputstream."}],"owner":{"account_id":13802496,"reputation":3,"user_id":9962204,"display_name":"SimeonKV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666973088,"creation_date":1666967456,"question_id":74236863,"body_markdown":"&lt;br/&gt;I have the certain problem:&lt;br/&gt;I want to register Apache Poi Workbook as a bean but when I try to do that an exception is thrown stating that my file is zero bytes long&lt;br/&gt;\r\nHere is the exact exception: ``` Caused by: org.apache.poi.EmptyFileException: The supplied file was empty (zero bytes long)``` &lt;br/&gt;\r\nand this is how my actual code looks like :&lt;br/&gt;\r\n```\r\n@Bean\r\npublic FileInputStream getInputStream() {\r\n    try {\r\n       return new FileInputStream(EXCEL_FILE_PATH);\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n@Bean\r\npublic Workbook workbook()  {\r\n    try {\r\n        Workbook workbook = WorkbookFactory.create(getInputStream());\r\n        getInputStream().close();\r\n        return workbook;\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n&lt;br/&gt;\r\n**This two methods are located in a configuration class annotated with the configuration annotation @Configuration** &lt;br/&gt;\r\nSo how do I go about solving this issue provided that my file is not empty and the workbook instance works as it should when I tested in a separate test class which is not spring managed.\r\n","title":"Apache Poi Workbook - problem creating Workbook as a spring IOC managed bean","body":"<p><br/>I have the certain problem:<br/>I want to register Apache Poi Workbook as a bean but when I try to do that an exception is thrown stating that my file is zero bytes long<br/>\nHere is the exact exception: <code> Caused by: org.apache.poi.EmptyFileException: The supplied file was empty (zero bytes long)</code> <br/>\nand this is how my actual code looks like :<br/></p>\n<pre><code>@Bean\npublic FileInputStream getInputStream() {\n    try {\n       return new FileInputStream(EXCEL_FILE_PATH);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n\n@Bean\npublic Workbook workbook()  {\n    try {\n        Workbook workbook = WorkbookFactory.create(getInputStream());\n        getInputStream().close();\n        return workbook;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n<br/>\n**This two methods are located in a configuration class annotated with the configuration annotation @Configuration** <br/>\nSo how do I go about solving this issue provided that my file is not empty and the workbook instance works as it should when I tested in a separate test class which is not spring managed.\n"},{"tags":["java","spring-boot","integration-testing","springjunit4classrunner"],"comments":[{"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"score":0,"creation_date":1493176840,"post_id":34547581,"comment_id":74297627,"body_markdown":"As of Spring Boot Test 1.5.0 you can [supposedly](https://github.com/spring-projects/spring-boot/issues/8000) use `@ContextConfiguration` with `@SpringBootTest`...have you tried using child contexts?","body":"As of Spring Boot Test 1.5.0 you can <a href=\"https://github.com/spring-projects/spring-boot/issues/8000\" rel=\"nofollow noreferrer\">supposedly</a> use <code>@ContextConfiguration</code> with <code>@SpringBootTest</code>...have you tried using child contexts?"},{"owner":{"account_id":3103595,"reputation":463,"user_id":2627044,"accept_rate":67,"display_name":"Abdul Fatah"},"score":0,"creation_date":1584867725,"post_id":34547581,"comment_id":107566066,"body_markdown":"Have you found an answer to this question ? I am in the same situation. My application is split in three modules which have their own application context and I export common beans to the parent context and that&#39;s how sibling contexts can share beans. The problem is how to test. I came to know about ContextHierarchy annotation but it creates parent child hierarchy and no sibling contexts can be created","body":"Have you found an answer to this question ? I am in the same situation. My application is split in three modules which have their own application context and I export common beans to the parent context and that&#39;s how sibling contexts can share beans. The problem is how to test. I came to know about ContextHierarchy annotation but it creates parent child hierarchy and no sibling contexts can be created"},{"owner":{"account_id":1245628,"reputation":150,"user_id":1207155,"accept_rate":100,"display_name":"RobbingDaHood"},"score":0,"creation_date":1643049166,"post_id":34547581,"comment_id":125231774,"body_markdown":"Here are some good suggestions I think https://stackoverflow.com/a/50040683/1207155","body":"Here are some good suggestions I think <a href=\"https://stackoverflow.com/a/50040683/1207155\">stackoverflow.com/a/50040683/1207155</a>"}],"answers":[{"comments":[{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":1,"creation_date":1466151378,"post_id":34720600,"comment_id":63208232,"body_markdown":"If my spring-boot applications are in different modules, how do I get them in one Test? I would have to use a third &quot;integration test module&quot; that knows both applications But then I transetively get all the starters of those two applications in one classpath which might have side effects (application &quot;A&quot; adopts behavior of application &quot;B&quot; just becuase now a spring-data starter is on the path). How do you deal with that?","body":"If my spring-boot applications are in different modules, how do I get them in one Test? I would have to use a third &quot;integration test module&quot; that knows both applications But then I transetively get all the starters of those two applications in one classpath which might have side effects (application &quot;A&quot; adopts behavior of application &quot;B&quot; just becuase now a spring-data starter is on the path). How do you deal with that?"},{"owner":{"account_id":207465,"reputation":1087,"user_id":457340,"accept_rate":75,"display_name":"rainerhahnekamp"},"score":0,"creation_date":1466160359,"post_id":34720600,"comment_id":63214133,"body_markdown":"I&#39;ve adapted my answer to your questions.","body":"I&#39;ve adapted my answer to your questions."},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":1,"creation_date":1466241283,"post_id":34720600,"comment_id":63244149,"body_markdown":"Yes I see. But that doesn&#39;t help me. Of course I already split up my &quot;application&quot; to &quot;microservices&quot;. Thats why I want to integration test both running applications, and that what brought up the question &quot;how?&quot; in the first place.","body":"Yes I see. But that doesn&#39;t help me. Of course I already split up my &quot;application&quot; to &quot;microservices&quot;. Thats why I want to integration test both running applications, and that what brought up the question &quot;how?&quot; in the first place."},{"owner":{"account_id":207465,"reputation":1087,"user_id":457340,"accept_rate":75,"display_name":"rainerhahnekamp"},"score":5,"creation_date":1466354239,"post_id":34720600,"comment_id":63270939,"body_markdown":"If you want to test the interplay of two applications or a system that depends of multiple applications you are not on unit test-level any more.\n\nYou are dealing here with a system/integration test, which means your tests access the system like any enduser or other external system via the public API.\n\nIf you are running on a modern microservices architecture, your interfaces will propably run via HTTP and your testing framework will have to provide that.\n\nCheckout Selenium, Cucumber or alternatives for that.","body":"If you want to test the interplay of two applications or a system that depends of multiple applications you are not on unit test-level any more.  You are dealing here with a system/integration test, which means your tests access the system like any enduser or other external system via the public API.  If you are running on a modern microservices architecture, your interfaces will propably run via HTTP and your testing framework will have to provide that.  Checkout Selenium, Cucumber or alternatives for that."},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":2,"creation_date":1570640315,"post_id":34720600,"comment_id":102979360,"body_markdown":"This answer should be deleted as it clearly doesn&#39;t answer the question as stated which is how to test.","body":"This answer should be deleted as it clearly doesn&#39;t answer the question as stated which is how to test."}],"tags":[],"owner":{"account_id":207465,"reputation":1087,"user_id":457340,"accept_rate":75,"display_name":"rainerhahnekamp"},"comment_count":5,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1466160186,"creation_date":1452512293,"answer_id":34720600,"question_id":34547581,"body_markdown":"Given two packages com.foo.module1, and com.foo.module2 you have to create a Configuration class per package.\r\nFor example for module1:\r\n\r\n    @SpringBootApplication public class Config1 {}\r\n \r\n\r\nIf you want to run the application by using only Spring beans of a single package you can do that by using the SpringApplicationBuilder. A working snippet:\r\n\r\n       new SpringApplicationBuilder(com.foo.module1.Config1.class)\r\n         .showBanner(false)\r\n         .run()\r\n\r\n\r\nThat would boot up Spring with Config1, which only searches (@ComponentScan is included in @SpringBootApplication) in its package for beans.\r\n\r\n\r\nIf you have want to run the complete application, e.g. all two modules at once, you&#39;de have to create a configuration class in the upper packages com.foo.\r\n\r\nIn the case that was mentioned below, where running the two modules within a single application might probably interfere with each other in an undesired way due to libraries like the spring-boot-starters, I can only think of two possibilities:\r\n\r\n 1. Using OSGi: Which might not solve the issue completely and might turn out be quite a complex setup or\r\n 2. Splitting the application into two applications and creating interfaces. Spring Boot is also a good choice for a Microservice architecture.","title":"How to test multiple Spring Boot applications in one test?","body":"<p>Given two packages com.foo.module1, and com.foo.module2 you have to create a Configuration class per package.\nFor example for module1:</p>\n\n<pre><code>@SpringBootApplication public class Config1 {}\n</code></pre>\n\n<p>If you want to run the application by using only Spring beans of a single package you can do that by using the SpringApplicationBuilder. A working snippet:</p>\n\n<pre><code>   new SpringApplicationBuilder(com.foo.module1.Config1.class)\n     .showBanner(false)\n     .run()\n</code></pre>\n\n<p>That would boot up Spring with Config1, which only searches (@ComponentScan is included in @SpringBootApplication) in its package for beans.</p>\n\n<p>If you have want to run the complete application, e.g. all two modules at once, you'de have to create a configuration class in the upper packages com.foo.</p>\n\n<p>In the case that was mentioned below, where running the two modules within a single application might probably interfere with each other in an undesired way due to libraries like the spring-boot-starters, I can only think of two possibilities:</p>\n\n<ol>\n<li>Using OSGi: Which might not solve the issue completely and might turn out be quite a complex setup or</li>\n<li>Splitting the application into two applications and creating interfaces. Spring Boot is also a good choice for a Microservice architecture.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":381269,"reputation":493,"user_id":1960592,"display_name":"cerdoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657660011,"creation_date":1657660011,"answer_id":72958388,"question_id":34547581,"body_markdown":"I agree with @rainerhahnekamp who said that what you are trying to achieve is more like a system/integration test.\r\n\r\nHowever if you still want to do your test this way, I think it&#39;s still doable.\r\n\r\n**First, one important things to know** :&lt;br&gt;\r\nImporting both `fooApp` and `barApp` project inside `test` project will make configuration files of both projects available to the classloader, and will produce impredictable results. Exemple : only one of the two `application.properties` file will be loaded. So you will have to use 2 differents profiles to load 2 separated configuration files setup.&lt;br&gt;\r\nFor the same reason of projects files overlapping, beans defined by one application in packages visible by the other one will be loaded in both apps context.\r\n\r\nTo test the concept I created one service and one rest controller in each project, each with a &#39;profiled&#39; property file :\r\n\r\n### barApp ###\r\n\r\n```lang-java\r\n\r\n@EnableAutoConfiguration(\r\n    exclude = {SecurityAutoConfiguration.class,\r\n    ManagementWebSecurityAutoConfiguration.class})\r\n@SpringBootApplication\r\npublic class BarApp {\r\n\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(BarApp.class, args);\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class BarService {\r\n\r\n  public String yield() {\r\n    return &quot;BarService !&quot;;\r\n  }\r\n\r\n}\r\n\r\n@RestController\r\npublic class BarResource {\r\n\r\n  private final BarService barService;\r\n\r\n  public BarResource(BarService barService) {\r\n    this.barService = barService;\r\n  }\r\n\r\n  @GetMapping(&quot;/bar&quot;)\r\n  public String getBar() {\r\n    return barService.yield();\r\n  }\r\n\r\n}\r\n```\r\n\r\napplication-bar.properties :\r\n\r\n```lang-\r\nserver.port=8181\r\n```\r\n\r\n### fooApp ### \r\n\r\n```lang-java\r\n\r\n@EnableConfigurationProperties\r\n@SpringBootApplication\r\npublic class FooApp {\r\n  \r\n  public static void main(String[] args) {\r\n    SpringApplication.run(FooApp.class, args);\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class FooService {\r\n\r\n  public String yield() {\r\n    return &quot;FooService !&quot;;\r\n  }\r\n\r\n}\r\n\r\n@RestController\r\npublic class FooResource {\r\n\r\n  private final FooService fooService;\r\n\r\n  public FooResource(FooService fooService) {\r\n    this.fooService = fooService;\r\n  }\r\n\r\n  @GetMapping(&quot;/foo&quot;)\r\n  public String getFoo() {\r\n    return fooService.yield();\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\napplication-foo.properties :\r\n\r\n```lang-\r\nserver.port=8282\r\n```\r\n\r\n### test ### \r\n\r\n```lang-java\r\nclass TestApps {\r\n\r\n  @Test\r\n  void TestApps() {\r\n    // starting and customizing BarApp\r\n    {\r\n      SpringApplication barApp = new SpringApplication(BarApp.class);\r\n      barApp.setAdditionalProfiles(&quot;bar&quot;); // to load &#39;application-bar.properties&#39;\r\n      GenericWebApplicationContext barAppContext = (GenericWebApplicationContext) barApp.run();\r\n\r\n      BarService barServiceMock = Mockito.mock(BarService.class);\r\n      Mockito.doReturn(&quot;mockified bar !&quot;).when(barServiceMock).yield();\r\n      barAppContext.removeBeanDefinition(&quot;barService&quot;);\r\n      barAppContext.registerBean(&quot;barService&quot;, BarService.class, () -&gt; barServiceMock);\r\n    }\r\n\r\n    // starting and customizing FooApp\r\n    {\r\n      SpringApplication fooApp = new SpringApplication(FooApp.class);\r\n      fooApp.setAdditionalProfiles(&quot;foo&quot;); // to load &#39;application-foo.properties&#39;\r\n      GenericWebApplicationContext fooAppContext = (GenericWebApplicationContext) fooApp.run();\r\n\r\n      FooService fooServiceMock = Mockito.mock(FooService.class);\r\n      Mockito.doReturn(&quot;mockified foo !&quot;).when(fooServiceMock).yield();\r\n      fooAppContext.removeBeanDefinition(&quot;fooService&quot;);\r\n      fooAppContext.registerBean(&quot;fooService&quot;, FooService.class, () -&gt; fooServiceMock);\r\n    }\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    String barResourceUrl = &quot;http://localhost:8181/bar&quot;;\r\n    ResponseEntity&lt;String&gt; barResponse = restTemplate.getForEntity(barResourceUrl, String.class);\r\n\r\n    String fooResourceUrl = &quot;http://localhost:8282/foo&quot;;\r\n    ResponseEntity&lt;String&gt; fooResponse = restTemplate.getForEntity(fooResourceUrl, String.class);\r\n\r\n    System.out.println(barResponse.getBody());\r\n    System.out.println(fooResponse.getBody());\r\n  }\r\n\r\n}\r\n```\r\n\r\nLaunching the test produces :\r\n\r\n    mockified bar !\r\n    mockified foo !\r\n\r\nBy the way I doubt your projects will be as simple as my example and I suspect you will run into issues related to important things I highlighted earlier.","title":"How to test multiple Spring Boot applications in one test?","body":"<p>I agree with @rainerhahnekamp who said that what you are trying to achieve is more like a system/integration test.</p>\n<p>However if you still want to do your test this way, I think it's still doable.</p>\n<p><strong>First, one important things to know</strong> :<br>\nImporting both <code>fooApp</code> and <code>barApp</code> project inside <code>test</code> project will make configuration files of both projects available to the classloader, and will produce impredictable results. Exemple : only one of the two <code>application.properties</code> file will be loaded. So you will have to use 2 differents profiles to load 2 separated configuration files setup.<br>\nFor the same reason of projects files overlapping, beans defined by one application in packages visible by the other one will be loaded in both apps context.</p>\n<p>To test the concept I created one service and one rest controller in each project, each with a 'profiled' property file :</p>\n<h3>barApp</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableAutoConfiguration(\n    exclude = {SecurityAutoConfiguration.class,\n    ManagementWebSecurityAutoConfiguration.class})\n@SpringBootApplication\npublic class BarApp {\n\n\n  public static void main(String[] args) {\n    SpringApplication.run(BarApp.class, args);\n  }\n\n}\n\n@Service\npublic class BarService {\n\n  public String yield() {\n    return &quot;BarService !&quot;;\n  }\n\n}\n\n@RestController\npublic class BarResource {\n\n  private final BarService barService;\n\n  public BarResource(BarService barService) {\n    this.barService = barService;\n  }\n\n  @GetMapping(&quot;/bar&quot;)\n  public String getBar() {\n    return barService.yield();\n  }\n\n}\n</code></pre>\n<p>application-bar.properties :</p>\n<pre class=\"lang- prettyprint-override\"><code>server.port=8181\n</code></pre>\n<h3>fooApp</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableConfigurationProperties\n@SpringBootApplication\npublic class FooApp {\n  \n  public static void main(String[] args) {\n    SpringApplication.run(FooApp.class, args);\n  }\n\n}\n\n@Service\npublic class FooService {\n\n  public String yield() {\n    return &quot;FooService !&quot;;\n  }\n\n}\n\n@RestController\npublic class FooResource {\n\n  private final FooService fooService;\n\n  public FooResource(FooService fooService) {\n    this.fooService = fooService;\n  }\n\n  @GetMapping(&quot;/foo&quot;)\n  public String getFoo() {\n    return fooService.yield();\n  }\n\n}\n\n</code></pre>\n<p>application-foo.properties :</p>\n<pre class=\"lang- prettyprint-override\"><code>server.port=8282\n</code></pre>\n<h3>test</h3>\n<pre class=\"lang-java prettyprint-override\"><code>class TestApps {\n\n  @Test\n  void TestApps() {\n    // starting and customizing BarApp\n    {\n      SpringApplication barApp = new SpringApplication(BarApp.class);\n      barApp.setAdditionalProfiles(&quot;bar&quot;); // to load 'application-bar.properties'\n      GenericWebApplicationContext barAppContext = (GenericWebApplicationContext) barApp.run();\n\n      BarService barServiceMock = Mockito.mock(BarService.class);\n      Mockito.doReturn(&quot;mockified bar !&quot;).when(barServiceMock).yield();\n      barAppContext.removeBeanDefinition(&quot;barService&quot;);\n      barAppContext.registerBean(&quot;barService&quot;, BarService.class, () -&gt; barServiceMock);\n    }\n\n    // starting and customizing FooApp\n    {\n      SpringApplication fooApp = new SpringApplication(FooApp.class);\n      fooApp.setAdditionalProfiles(&quot;foo&quot;); // to load 'application-foo.properties'\n      GenericWebApplicationContext fooAppContext = (GenericWebApplicationContext) fooApp.run();\n\n      FooService fooServiceMock = Mockito.mock(FooService.class);\n      Mockito.doReturn(&quot;mockified foo !&quot;).when(fooServiceMock).yield();\n      fooAppContext.removeBeanDefinition(&quot;fooService&quot;);\n      fooAppContext.registerBean(&quot;fooService&quot;, FooService.class, () -&gt; fooServiceMock);\n    }\n\n    RestTemplate restTemplate = new RestTemplate();\n    String barResourceUrl = &quot;http://localhost:8181/bar&quot;;\n    ResponseEntity&lt;String&gt; barResponse = restTemplate.getForEntity(barResourceUrl, String.class);\n\n    String fooResourceUrl = &quot;http://localhost:8282/foo&quot;;\n    ResponseEntity&lt;String&gt; fooResponse = restTemplate.getForEntity(fooResourceUrl, String.class);\n\n    System.out.println(barResponse.getBody());\n    System.out.println(fooResponse.getBody());\n  }\n\n}\n</code></pre>\n<p>Launching the test produces :</p>\n<pre><code>mockified bar !\nmockified foo !\n</code></pre>\n<p>By the way I doubt your projects will be as simple as my example and I suspect you will run into issues related to important things I highlighted earlier.</p>\n"},{"tags":[],"owner":{"account_id":383265,"reputation":33,"user_id":739003,"accept_rate":0,"display_name":"vargashj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664261209,"creation_date":1663808955,"answer_id":73808333,"question_id":34547581,"body_markdown":"YOU need to configure `@ContextConfiguration` to point both apps ","title":"How to test multiple Spring Boot applications in one test?","body":"<p>YOU need to configure <code>@ContextConfiguration</code> to point both apps</p>\n"}],"owner":{"account_id":1184341,"reputation":526,"user_id":1158626,"accept_rate":60,"display_name":"Kristo Aun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9344,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":3,"score":26,"last_activity_date":1666972985,"creation_date":1451571009,"question_id":34547581,"body_markdown":"I have a multi-module Maven project with 2 Spring Boot applications\r\n\r\nparent\r\n\r\n - fooApp \r\n - barApp \r\n - test\r\n\r\nHow to set up a test where you can load separate spring boot applications, each with its own configuration context, in the same process.\r\n\r\n    public abstract class AbstractIntegrationTest {//test module\r\n    \r\n        protected FOO foo;\r\n        protected BAR bar;\r\n    \r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @WebAppConfiguration\r\n        @IntegrationTest\r\n        @Transactional\r\n        @SpringApplicationConfiguration(classes = foo.Application.class)\r\n        public class FOO {\r\n            public MockMvc mockMvc;\r\n    \r\n            @Autowired\r\n            public WebApplicationContext wac;\r\n    \r\n            @Before\r\n            public void _0_setup() {\r\n                MockitoAnnotations.initMocks(this);\r\n                mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();\r\n                TestCase.assertNotNull(mockMvc);\r\n            }\r\n    \r\n            public void login(String username) {\r\n            }\r\n        }\r\n    \r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @WebAppConfiguration\r\n        @IntegrationTest\r\n        @Transactional\r\n        @SpringApplicationConfiguration(classes = bar.Application.class)\r\n        public class BAR {\r\n    \r\n            @Autowired\r\n            public WebApplicationContext wac;\r\n    \r\n            public MockMvc restMvc;\r\n    \r\n            @Before\r\n            public void _0_setup() {\r\n                MockitoAnnotations.initMocks(this);\r\n                restMvc = MockMvcBuilders.webAppContextSetup(wac).build();\r\n                TestCase.assertNotNull(restMvc);\r\n            }\r\n    \r\n            public void login(String username) {\r\n            }\r\n        }\r\n    \r\n        @Before\r\n        public void _0_setup() {\r\n            foo = new FOO();\r\n            bar = new BAR();\r\n        }\r\n    }\r\n\r\nAnd an example of an integration test\r\n\r\n    public class IntegrationTest extends AbstractIntegrationTest {\r\n    \r\n        @Test\r\n        public void login() {\r\n            foo.login(&quot;foologin&quot;);\r\n            bar.login(&quot;barlogin&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n ","title":"How to test multiple Spring Boot applications in one test?","body":"<p>I have a multi-module Maven project with 2 Spring Boot applications</p>\n\n<p>parent</p>\n\n<ul>\n<li>fooApp </li>\n<li>barApp </li>\n<li>test</li>\n</ul>\n\n<p>How to set up a test where you can load separate spring boot applications, each with its own configuration context, in the same process.</p>\n\n<pre><code>public abstract class AbstractIntegrationTest {//test module\n\n    protected FOO foo;\n    protected BAR bar;\n\n    @RunWith(SpringJUnit4ClassRunner.class)\n    @WebAppConfiguration\n    @IntegrationTest\n    @Transactional\n    @SpringApplicationConfiguration(classes = foo.Application.class)\n    public class FOO {\n        public MockMvc mockMvc;\n\n        @Autowired\n        public WebApplicationContext wac;\n\n        @Before\n        public void _0_setup() {\n            MockitoAnnotations.initMocks(this);\n            mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();\n            TestCase.assertNotNull(mockMvc);\n        }\n\n        public void login(String username) {\n        }\n    }\n\n    @RunWith(SpringJUnit4ClassRunner.class)\n    @WebAppConfiguration\n    @IntegrationTest\n    @Transactional\n    @SpringApplicationConfiguration(classes = bar.Application.class)\n    public class BAR {\n\n        @Autowired\n        public WebApplicationContext wac;\n\n        public MockMvc restMvc;\n\n        @Before\n        public void _0_setup() {\n            MockitoAnnotations.initMocks(this);\n            restMvc = MockMvcBuilders.webAppContextSetup(wac).build();\n            TestCase.assertNotNull(restMvc);\n        }\n\n        public void login(String username) {\n        }\n    }\n\n    @Before\n    public void _0_setup() {\n        foo = new FOO();\n        bar = new BAR();\n    }\n}\n</code></pre>\n\n<p>And an example of an integration test</p>\n\n<pre><code>public class IntegrationTest extends AbstractIntegrationTest {\n\n    @Test\n    public void login() {\n        foo.login(\"foologin\");\n        bar.login(\"barlogin\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gradle","classpath"],"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1666969661,"post_id":71102044,"comment_id":131067180,"body_markdown":"I assume you wish to add to the classpath so that Java will use that classpath during compilation. Also, generally speaking, you shouldn&#39;t need to do this. I suggest looking to use dependencies or other Gradle mechanisms that automatically manipulate the classpath. However, I have encountered situations where a Gradle plugin was broken and I needed to manipulate the classpath directly myself. So... it is valid in some cases to do this.","body":"I assume you wish to add to the classpath so that Java will use that classpath during compilation. Also, generally speaking, you shouldn&#39;t need to do this. I suggest looking to use dependencies or other Gradle mechanisms that automatically manipulate the classpath. However, I have encountered situations where a Gradle plugin was broken and I needed to manipulate the classpath directly myself. So... it is valid in some cases to do this."}],"answers":[{"tags":[],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666972671,"creation_date":1666972671,"answer_id":74237928,"question_id":71102044,"body_markdown":"Try\r\n\r\n```\r\ncompileJava {\r\n    classpath += files([&#39;src/main/coolbeans&#39;])\r\n}\r\n```\r\n\r\n\r\nSee https://docs.gradle.org/current/userguide/building_java_projects.html\r\n\r\nAnd https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html","title":"How to add classpath in gradle compileJava task?","body":"<p>Try</p>\n<pre><code>compileJava {\n    classpath += files(['src/main/coolbeans'])\n}\n</code></pre>\n<p>See <a href=\"https://docs.gradle.org/current/userguide/building_java_projects.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/building_java_projects.html</a></p>\n<p>And <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html</a></p>\n"}],"owner":{"account_id":19028922,"reputation":25,"user_id":13891439,"display_name":"Enaium"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74237928,"answer_count":1,"score":1,"last_activity_date":1666972671,"creation_date":1644765534,"question_id":71102044,"body_markdown":"How to add classpath in gradle compileJava task?\r\n```grovvy\r\nafterEvaluate {\r\n    tasks.compileJava {\r\n      //add classpath\r\n    }\r\n}\r\n```\r\n\r\nIt not add:\r\n```groovy\r\ndependencies {\r\n compileOnly &#39;&#39;\r\n}\r\n```\r\n\r\n","title":"How to add classpath in gradle compileJava task?","body":"<p>How to add classpath in gradle compileJava task?</p>\n<pre><code>afterEvaluate {\n    tasks.compileJava {\n      //add classpath\n    }\n}\n</code></pre>\n<p>It not add:</p>\n<pre><code>dependencies {\n compileOnly ''\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","orientation"],"comments":[{"owner":{"account_id":2342714,"reputation":6752,"user_id":2053650,"display_name":"g00dy"},"score":0,"creation_date":1376486555,"post_id":18232834,"comment_id":26730254,"body_markdown":"Put the same `android:configChanges=&quot;orientation|keyboardHidden&quot;` for `com.****.media.tv.VideoLandscape` and also in the code in the `else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){` put the new intent start for the First activity: `Intent i = new Intent(getApplicationContext(),                      \n                VideoPortrait.class);\n        i.putExtra(&quot;url&quot;, LINK);\n        i.putExtra(&quot;small&quot;, videoPath);\n        startActivity(i);`.","body":"Put the same <code>android:configChanges=&quot;orientation|keyboardHidden&quot;</code> for <code>com.****.media.tv.VideoLandscape</code> and also in the code in the <code>else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){</code> put the new intent start for the First activity: <code>Intent i = new Intent(getApplicationContext(),                                       VideoPortrait.class);         i.putExtra(&quot;url&quot;, LINK);         i.putExtra(&quot;small&quot;, videoPath);         startActivity(i);</code>."}],"answers":[{"tags":[],"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1376486339,"creation_date":1376486339,"answer_id":18232856,"question_id":18232834,"body_markdown":"    android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\r\n in activity tag of meanifeast","title":"Android onConfigurationChanged not working","body":"<pre><code>android:configChanges=\"keyboardHidden|orientation|screenSize\"\n</code></pre>\n\n<p>in activity tag of meanifeast</p>\n"},{"tags":[],"owner":{"account_id":1197556,"reputation":1045,"user_id":1168948,"accept_rate":86,"display_name":"Animesh Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666972299,"creation_date":1376487705,"answer_id":18233415,"question_id":18232834,"body_markdown":"You need to add `|screenSize` attribute in `android:configChanges` attribute like given below\r\n\r\n    android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\r\n\r\nSince there is a little change after API level 13 which is mentioned in the doc for handeling `onConfigurationChanged()` \r\n\r\n&gt; Caution: Beginning with Android 3.2 (API level 13), the &quot;screen size&quot; also changes when the device switches between portrait and landscape orientation. Thus, if you want to prevent runtime restarts due to orientation change when developing for API level 13 or higher (as declared by the minSdkVersion and targetSdkVersion attributes), you must include the &quot;screenSize&quot; value in addition to the &quot;orientation&quot; value. That is, you must decalare android:configChanges=&quot;orientation|screenSize&quot;. However, if your application targets API level 12 or lower, then your activity always handles this configuration change itself (this configuration change does not restart your activity, even when running on an Android 3.2 or higher device).\r\n\r\n[From here][1]\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange","title":"Android onConfigurationChanged not working","body":"<p>You need to add <code>|screenSize</code> attribute in <code>android:configChanges</code> attribute like given below</p>\n<pre><code>android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\n</code></pre>\n<p>Since there is a little change after API level 13 which is mentioned in the doc for handeling <code>onConfigurationChanged()</code></p>\n<blockquote>\n<p>Caution: Beginning with Android 3.2 (API level 13), the &quot;screen size&quot; also changes when the device switches between portrait and landscape orientation. Thus, if you want to prevent runtime restarts due to orientation change when developing for API level 13 or higher (as declared by the minSdkVersion and targetSdkVersion attributes), you must include the &quot;screenSize&quot; value in addition to the &quot;orientation&quot; value. That is, you must decalare android:configChanges=&quot;orientation|screenSize&quot;. However, if your application targets API level 12 or lower, then your activity always handles this configuration change itself (this configuration change does not restart your activity, even when running on an Android 3.2 or higher device).</p>\n</blockquote>\n<p><a href=\"http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange\" rel=\"nofollow noreferrer\">From here</a></p>\n"}],"owner":{"account_id":2081357,"reputation":331,"user_id":1853271,"accept_rate":46,"display_name":"Tom Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18232856,"answer_count":2,"score":0,"last_activity_date":1666972299,"creation_date":1376486287,"question_id":18232834,"body_markdown":"First time I&#39;ve ever tried this so do not know about it but need it fixed ASAP. Im trying to make it do a new intent when i rotate the device to landscape. \r\n\r\nHere&#39;s my code:\r\n\r\n     public void onConfigurationChanged(Configuration newConfig) {\r\n\t    super.onConfigurationChanged(newConfig);\r\n\r\n\t    // Checks the orientation of the screen\r\n\t    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n\t        Toast.makeText(this, &quot;landscape&quot;, Toast.LENGTH_SHORT).show();\r\n\t        Intent i = new Intent(getApplicationContext(),\t\t\t\t\t\t\r\n\t\t\t\t\tVideoLandscape.class);\r\n\t        i.putExtra(&quot;url&quot;, LINK);\r\n\t        i.putExtra(&quot;small&quot;, videoPath);\r\n\t        startActivity(i);\r\n\t        \r\n\t    } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\r\n\t        Toast.makeText(this, &quot;portrait&quot;, Toast.LENGTH_SHORT).show();\r\n\t    }\r\n     }\r\n\r\n\r\n    //Manifest\r\n     &lt;activity\r\n            android:name=&quot;com.****.media.tv.Video&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden&quot;\r\n            android:label=&quot;@string/title_TV&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.****.media.tv.VideoLandscape&quot;\r\n            android:label=&quot;@string/title_TV&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\nMany Thanks \r\nCharlton Santana","title":"Android onConfigurationChanged not working","body":"<p>First time I've ever tried this so do not know about it but need it fixed ASAP. Im trying to make it do a new intent when i rotate the device to landscape. </p>\n\n<p>Here's my code:</p>\n\n<pre><code> public void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n\n    // Checks the orientation of the screen\n    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\n        Toast.makeText(this, \"landscape\", Toast.LENGTH_SHORT).show();\n        Intent i = new Intent(getApplicationContext(),                      \n                VideoLandscape.class);\n        i.putExtra(\"url\", LINK);\n        i.putExtra(\"small\", videoPath);\n        startActivity(i);\n\n    } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\n        Toast.makeText(this, \"portrait\", Toast.LENGTH_SHORT).show();\n    }\n }\n\n\n//Manifest\n &lt;activity\n        android:name=\"com.****.media.tv.Video\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:label=\"@string/title_TV\"&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=\"com.****.media.tv.VideoLandscape\"\n        android:label=\"@string/title_TV\"&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>Many Thanks \nCharlton Santana</p>\n"},{"tags":["java","android","andengine","screen-orientation","live-wallpaper"],"comments":[{"owner":{"account_id":996487,"reputation":19903,"user_id":1012284,"accept_rate":79,"display_name":"Padma Kumar"},"score":0,"creation_date":1356381744,"post_id":14025256,"comment_id":19371369,"body_markdown":"http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange","body":"<a href=\"http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/resources/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1688663,"reputation":12672,"user_id":1823424,"accept_rate":83,"display_name":"Talha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666972157,"creation_date":1356380066,"answer_id":14025370,"question_id":14025256,"body_markdown":"     android:configChanges=&quot;orientation|screenSize&quot;\r\n\r\n&gt; Caution: Beginning with Android 3.2 (API level 13), the &quot;screen size&quot;\r\n&gt; also changes when the device switches between portrait and landscape\r\n&gt; orientation. Thus, if you want to prevent runtime restarts due to\r\n&gt; orientation change when developing for API level 13 or higher (as\r\n&gt; declared by the minSdkVersion and targetSdkVersion attributes), you\r\n&gt; must include the &quot;screenSize&quot; value in addition to the &quot;orientation&quot;\r\n&gt; value. That is, you must decalare\r\n&gt; android:configChanges=&quot;orientation|screenSize&quot;. However, if your\r\n&gt; application targets API level 12 or lower, then your activity always\r\n&gt; handles this configuration change itself (this configuration change\r\n&gt; does not restart your activity, even when running on an Android 3.2 or\r\n&gt; higher device).\r\n\r\nFrom http://web.archive.org/web/20120130201824/https://developer.android.com/guide/topics/resources/runtime-changes.html","title":"Android screen orientation handling issue","body":"<pre><code> android:configChanges=&quot;orientation|screenSize&quot;\n</code></pre>\n<blockquote>\n<p>Caution: Beginning with Android 3.2 (API level 13), the &quot;screen size&quot;\nalso changes when the device switches between portrait and landscape\norientation. Thus, if you want to prevent runtime restarts due to\norientation change when developing for API level 13 or higher (as\ndeclared by the minSdkVersion and targetSdkVersion attributes), you\nmust include the &quot;screenSize&quot; value in addition to the &quot;orientation&quot;\nvalue. That is, you must decalare\nandroid:configChanges=&quot;orientation|screenSize&quot;. However, if your\napplication targets API level 12 or lower, then your activity always\nhandles this configuration change itself (this configuration change\ndoes not restart your activity, even when running on an Android 3.2 or\nhigher device).</p>\n</blockquote>\n<p>From <a href=\"http://web.archive.org/web/20120130201824/https://developer.android.com/guide/topics/resources/runtime-changes.html\" rel=\"nofollow noreferrer\">http://web.archive.org/web/20120130201824/https://developer.android.com/guide/topics/resources/runtime-changes.html</a></p>\n"},{"tags":[],"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1356380272,"creation_date":1356380272,"answer_id":14025397,"question_id":14025256,"body_markdown":"In my live wallpaper, which handles orientation changes, I use the `onConfigurationChange()` method to check for orientation changes, but I don&#39;t have any direct experience with the 2 phones, though I&#39;ve never gotten any complaints about them. My method looks something along the lines of:\r\n\r\n       @Override\r\n       public void onConfigurationChanged(Configuration newConfig) {\r\n           super.onConfigurationChanged(newConfig);\r\n    \r\n           // Checks the orientation of the screen  \r\n           if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n             rotated = true;\r\n           }\r\n           else {\r\n             rotated = false;\r\n           }\r\n       }\r\n\r\nAnd in the `draw()` method, I check the `rotated` boolean. There&#39;s additional checks in the `onSurfaceChanged()` to correct for resolution changes when the orientation changes.\r\n\r\nI don&#39;t have `android:configChanges=&quot;keyboardHidden|orientation&quot;` in my manifest file at all.","title":"Android screen orientation handling issue","body":"<p>In my live wallpaper, which handles orientation changes, I use the <code>onConfigurationChange()</code> method to check for orientation changes, but I don't have any direct experience with the 2 phones, though I've never gotten any complaints about them. My method looks something along the lines of:</p>\n\n<pre><code>   @Override\n   public void onConfigurationChanged(Configuration newConfig) {\n       super.onConfigurationChanged(newConfig);\n\n       // Checks the orientation of the screen  \n       if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\n         rotated = true;\n       }\n       else {\n         rotated = false;\n       }\n   }\n</code></pre>\n\n<p>And in the <code>draw()</code> method, I check the <code>rotated</code> boolean. There's additional checks in the <code>onSurfaceChanged()</code> to correct for resolution changes when the orientation changes.</p>\n\n<p>I don't have <code>android:configChanges=\"keyboardHidden|orientation\"</code> in my manifest file at all.</p>\n"}],"owner":{"account_id":1261634,"reputation":24571,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1450,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14025397,"answer_count":2,"score":5,"last_activity_date":1666972157,"creation_date":1356379097,"question_id":14025256,"body_markdown":"I&#39;m working on the android live wallpaper applications and need to correctly handle screen orientation changes. \r\n\r\nCurrently I use `onConfigurationChanged` for this purpose(in this method I need to change coordinates of my LWP screen elements. I use `andengine`). Everything works fine on the emulators and my test phones, but some my customers with **Samsung Galaxy Note2 (t03g)**, **LG thrill(LGE LG-P925)** reports the issues with incorrect application work during the screen orientations change.\r\n\r\nI don&#39;t have these phones on hand, but can suppose that the issue is related to `onConfigurationChanged` not being called. \r\n\r\nIs it correct to use `onConfigurationChanged` method ? Maybe I need to use `onSurfaceChanges` or something like that ? Could you please suggest me the correct way to solve this issue ?\r\n\r\nAlos, I have added `android:configChanges=&quot;keyboardHidden|orientation&quot;` into my `AndroidManifest.xml` :\r\n\r\n    &lt;activity\r\n                android:name=&quot;.WallpaperSettings&quot;\r\n                android:configChanges=&quot;keyboardHidden|orientation&quot;\r\n                android:exported=&quot;true&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.PREFERENCE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n","title":"Android screen orientation handling issue","body":"<p>I'm working on the android live wallpaper applications and need to correctly handle screen orientation changes. </p>\n\n<p>Currently I use <code>onConfigurationChanged</code> for this purpose(in this method I need to change coordinates of my LWP screen elements. I use <code>andengine</code>). Everything works fine on the emulators and my test phones, but some my customers with <strong>Samsung Galaxy Note2 (t03g)</strong>, <strong>LG thrill(LGE LG-P925)</strong> reports the issues with incorrect application work during the screen orientations change.</p>\n\n<p>I don't have these phones on hand, but can suppose that the issue is related to <code>onConfigurationChanged</code> not being called. </p>\n\n<p>Is it correct to use <code>onConfigurationChanged</code> method ? Maybe I need to use <code>onSurfaceChanges</code> or something like that ? Could you please suggest me the correct way to solve this issue ?</p>\n\n<p>Alos, I have added <code>android:configChanges=\"keyboardHidden|orientation\"</code> into my <code>AndroidManifest.xml</code> :</p>\n\n<pre><code>&lt;activity\n            android:name=\".WallpaperSettings\"\n            android:configChanges=\"keyboardHidden|orientation\"\n            android:exported=\"true\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.PREFERENCE\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","gradle","groovy","build.gradle"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666825022,"post_id":74214754,"comment_id":131030188,"body_markdown":"Do you have a `settings.gradle` under `myproject`? How are the builds included?","body":"Do you have a <code>settings.gradle</code> under <code>myproject</code>? How are the builds included?"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666825077,"post_id":74214754,"comment_id":131030200,"body_markdown":"Also, why are the projects nested like that? &#129300;","body":"Also, why are the projects nested like that? "},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1666971932,"post_id":74214754,"comment_id":131068040,"body_markdown":"Yes, I do. Ive added it, even though its pretty trivial. Such nesting totally makes sense on large projects.","body":"Yes, I do. Ive added it, even though its pretty trivial. Such nesting totally makes sense on large projects."},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666973480,"post_id":74214754,"comment_id":131068594,"body_markdown":"Never seen it before...  Where did you add the settings.gradle?","body":"Never seen it before...  Where did you add the settings.gradle?"},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1666978320,"post_id":74214754,"comment_id":131070225,"body_markdown":"At root, of course","body":"At root, of course"},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1666978335,"post_id":74214754,"comment_id":131070232,"body_markdown":"This is how monorepo works","body":"This is how monorepo works"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666978714,"post_id":74214754,"comment_id":131070342,"body_markdown":"I have worked on them before. Just saying I&#39;ve never seen this layout. Doesn&#39;t mean it&#39;s wrong, just that I&#39;ve never seen it","body":"I have worked on them before. Just saying I&#39;ve never seen this layout. Doesn&#39;t mean it&#39;s wrong, just that I&#39;ve never seen it"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666978797,"post_id":74214754,"comment_id":131070366,"body_markdown":"As I&#39;ve asked and as asked in the answer below, what are the _contents_ of the settings file. How are you including the builds?","body":"As I&#39;ve asked and as asked in the answer below, what are the <i>contents</i> of the settings file. How are you including the builds?"}],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666825623,"creation_date":1666825623,"answer_id":74215123,"question_id":74214754,"body_markdown":"it depends on how you declare projects in `my-project/settings.gradle`\r\n\r\nif it&#39;s `include(&#39;my-shared-project-A&#39;)`, then it would be `implementation(project(&quot;:my-shared-project-A&quot;))`. \r\n\r\nMind the project() call.","title":"Gradle how to use a project that is on an upper hierarchy?","body":"<p>it depends on how you declare projects in <code>my-project/settings.gradle</code></p>\n<p>if it's <code>include('my-shared-project-A')</code>, then it would be <code>implementation(project(&quot;:my-shared-project-A&quot;))</code>.</p>\n<p>Mind the project() call.</p>\n"}],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666971990,"creation_date":1666822124,"question_id":74214754,"body_markdown":"I have the following repository structure (there is a `build.gradle` under every project, and a `settings.gradle` under `my-project`):\r\n```\r\nmy-project\r\n|\r\n my-shared-project-A\r\n my-project-B \r\n     my-project-C\r\n         my-project-D\r\n```\r\n\r\nI want to use `my-shared-project-A`, from `my-project-C` and `my-project-D`.\r\nWhat is the syntax for this?\r\n\r\nI&#39;ve tried:\r\n`my-project-D`\r\n```groovy\r\ndependencies {\r\n    implementation(&quot;:my-project:my-shared-project-A&quot;)\r\n}\r\n```\r\nBut it didn&#39;t work.","title":"Gradle how to use a project that is on an upper hierarchy?","body":"<p>I have the following repository structure (there is a <code>build.gradle</code> under every project, and a <code>settings.gradle</code> under <code>my-project</code>):</p>\n<pre><code>my-project\n|\n my-shared-project-A\n my-project-B \n     my-project-C\n         my-project-D\n</code></pre>\n<p>I want to use <code>my-shared-project-A</code>, from <code>my-project-C</code> and <code>my-project-D</code>.\nWhat is the syntax for this?</p>\n<p>I've tried:\n<code>my-project-D</code></p>\n<pre><code>dependencies {\n    implementation(&quot;:my-project:my-shared-project-A&quot;)\n}\n</code></pre>\n<p>But it didn't work.</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":2490315,"reputation":5131,"user_id":2552290,"accept_rate":68,"display_name":"Don Hatch"},"score":0,"creation_date":1435473344,"post_id":8346218,"comment_id":50209723,"body_markdown":"There are a couple of good short ones, implemented in terms of log, in this question: http://stackoverflow.com/questions/24134816/goldbergs-log1p-vs-gsl-log1p","body":"There are a couple of good short ones, implemented in terms of log, in this question: <a href=\"http://stackoverflow.com/questions/24134816/goldbergs-log1p-vs-gsl-log1p\" title=\"goldbergs log1p vs gsl log1p\">stackoverflow.com/questions/24134816/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":15,"creation_date":1338554213,"post_id":8346337,"comment_id":14131123,"body_markdown":"You are missing the point of `log1p`.  When x is very small (e.g. 1e-20), `x+1.0` is rounded to `1.0` because of the limited precision of a `double`, and `log(1.0)` returns a (wrong) result of `0`.  You may think &quot;well this is close enough to 0&quot; but what if the next step is to multiply the result by a very large number?","body":"You are missing the point of <code>log1p</code>.  When x is very small (e.g. 1e-20), <code>x+1.0</code> is rounded to <code>1.0</code> because of the limited precision of a <code>double</code>, and <code>log(1.0)</code> returns a (wrong) result of <code>0</code>.  You may think &quot;well this is close enough to 0&quot; but what if the next step is to multiply the result by a very large number?"},{"owner":{"account_id":108913,"reputation":18431,"user_id":288875,"accept_rate":50,"display_name":"Andre Holzner"},"score":1,"creation_date":1369837108,"post_id":8346337,"comment_id":24241178,"body_markdown":"when x is very small, then log(x+1) ~ x (see https://en.wikipedia.org/wiki/Natural_logarithm#Derivative.2C_Taylor_series ), that could be handled by an if statement if the value of x is smaller than a certain threshold.","body":"when x is very small, then log(x+1) ~ x (see <a href=\"https://en.wikipedia.org/wiki/Natural_logarithm#Derivative.2C_Taylor_series\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a> ), that could be handled by an if statement if the value of x is smaller than a certain threshold."},{"owner":{"account_id":2490315,"reputation":5131,"user_id":2552290,"accept_rate":68,"display_name":"Don Hatch"},"score":1,"creation_date":1435472157,"post_id":8346337,"comment_id":50209514,"body_markdown":"@AndreHolzner: it could be handled that way, but not very well. A quality implementation would be accurate to within a few low-order bits no matter what the input.  With your approach, depending on what threshold you choose, you&#39;ll get poor results either just below the threshold, or just above the threshold, or both.","body":"@AndreHolzner: it could be handled that way, but not very well. A quality implementation would be accurate to within a few low-order bits no matter what the input.  With your approach, depending on what threshold you choose, you&#39;ll get poor results either just below the threshold, or just above the threshold, or both."}],"tags":[],"owner":{"account_id":453377,"reputation":9811,"user_id":850326,"accept_rate":89,"display_name":"djhaskin987"},"comment_count":3,"down_vote_count":6,"up_vote_count":3,"is_accepted":true,"score":-3,"last_activity_date":1322763882,"creation_date":1322763882,"answer_id":8346337,"question_id":8346218,"body_markdown":"since `log1p(x) = Math.log(x+1)`, finding a natural log fast algorithm is sufficient for what you need.\r\n\r\n&gt; Fast Natural Logarithm in Java\r\n&gt; \r\n&gt; I have found the following approximation here, and there is not much\r\n&gt; information about it except that it is called Borchardts Algorithm\r\n&gt; and it is from the book Dead Reconing: Calculating without\r\n&gt; instruments. The approximation is not very good (some might say very\r\n&gt; bad), it gets worse the larger the values are. But the approximation\r\n&gt; is also a monotonic, slowly increasing function, which is good enough\r\n&gt; for my use case.\r\n&gt; \r\n&gt; public static double log(double x) {\r\n&gt;     return 6 * (x - 1) / (x + 1 + 4 * (Math.sqrt(x))); }\r\n&gt; \r\n&gt; This approximation is 11.7 times faster than Math.log().\r\n\r\nSee [this][1] site. Also, [a performance comparison for math libraries in java.][2]\r\n\r\nBut probably what you **need** is to link to c++ compiled stuff, detailed [here][3].\r\n\r\n\r\n  [1]: http://martin.ankerl.com/2007/02/11/optimized-exponential-functions-for-java/\r\n  [2]: http://blog.juma.me.uk/2011/02/23/performance-of-fastmath-from-commons-math/\r\n  [3]: http://www.javaworld.com/javaworld/javatips/jw-javatip141.html","title":"is there a fast implementation of the log1p function?","body":"<p>since <code>log1p(x) = Math.log(x+1)</code>, finding a natural log fast algorithm is sufficient for what you need.</p>\n\n<blockquote>\n  <p>Fast Natural Logarithm in Java</p>\n  \n  <p>I have found the following approximation here, and there is not much\n  information about it except that it is called Borchardts Algorithm\n  and it is from the book Dead Reconing: Calculating without\n  instruments. The approximation is not very good (some might say very\n  bad), it gets worse the larger the values are. But the approximation\n  is also a monotonic, slowly increasing function, which is good enough\n  for my use case.</p>\n  \n  <p>public static double log(double x) {\n      return 6 * (x - 1) / (x + 1 + 4 * (Math.sqrt(x))); }</p>\n  \n  <p>This approximation is 11.7 times faster than Math.log().</p>\n</blockquote>\n\n<p>See <a href=\"http://martin.ankerl.com/2007/02/11/optimized-exponential-functions-for-java/\" rel=\"nofollow\">this</a> site. Also, <a href=\"http://blog.juma.me.uk/2011/02/23/performance-of-fastmath-from-commons-math/\" rel=\"nofollow\">a performance comparison for math libraries in java.</a></p>\n\n<p>But probably what you <strong>need</strong> is to link to c++ compiled stuff, detailed <a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip141.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":511614,"reputation":1369,"user_id":942179,"display_name":"Elmar Zander"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666971900,"creation_date":1666971900,"answer_id":74237784,"question_id":8346218,"body_markdown":"In &quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot; (https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html) there is a short algorithm to compute `log1p` within 5 epsilon for `0&lt;=x&lt;3/4` and given certain requirements on the arithmetic\r\n\r\n```\r\ndouble xp1 = 1+x;\r\nif(xp1==1)\r\n   return x;\r\nelse\r\n   return x * log(xp1) / (xp1-1);\r\n```\r\n\r\nMaybe this performs better on your system than the builtin `log1p` implementation. However, use it with care (see the paper for things that could go wrong e.g. in extended-base systems) and have some tests ready.","title":"is there a fast implementation of the log1p function?","body":"<p>In &quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot; (<a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a>) there is a short algorithm to compute <code>log1p</code> within 5 epsilon for <code>0&lt;=x&lt;3/4</code> and given certain requirements on the arithmetic</p>\n<pre><code>double xp1 = 1+x;\nif(xp1==1)\n   return x;\nelse\n   return x * log(xp1) / (xp1-1);\n</code></pre>\n<p>Maybe this performs better on your system than the builtin <code>log1p</code> implementation. However, use it with care (see the paper for things that could go wrong e.g. in extended-base systems) and have some tests ready.</p>\n"}],"owner":{"account_id":506799,"reputation":4597,"user_id":991703,"accept_rate":57,"display_name":"kloop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2646,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8346337,"answer_count":2,"score":4,"last_activity_date":1666971900,"creation_date":1322763371,"question_id":8346218,"body_markdown":"I want to have a fast log1p function for Java. Java has Math.log1p, but it is apparently too slow for my needs.\r\n\r\nI have found this code for log1p here:\r\n\r\nhttp://golang.org/src/pkg/math/log1p.go\r\n\r\nfor the GO language.\r\n\r\nIs it the same like the one in Java, or is it a faster one? (assuming I translate it to java).\r\nAnyone is aware of some other fast implementation of log1p?\r\n\r\nThanks.","title":"is there a fast implementation of the log1p function?","body":"<p>I want to have a fast log1p function for Java. Java has Math.log1p, but it is apparently too slow for my needs.</p>\n\n<p>I have found this code for log1p here:</p>\n\n<p><a href=\"http://golang.org/src/pkg/math/log1p.go\" rel=\"nofollow\">http://golang.org/src/pkg/math/log1p.go</a></p>\n\n<p>for the GO language.</p>\n\n<p>Is it the same like the one in Java, or is it a faster one? (assuming I translate it to java).\nAnyone is aware of some other fast implementation of log1p?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","concurrency"],"answers":[{"comments":[{"owner":{"account_id":178712,"reputation":745,"user_id":410873,"accept_rate":22,"display_name":"mehta"},"score":0,"creation_date":1358851646,"post_id":14456466,"comment_id":20134332,"body_markdown":"Thanks for pointing for java 7 docs. I just googled and open the link.","body":"Thanks for pointing for java 7 docs. I just googled and open the link."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1358852161,"post_id":14456466,"comment_id":20134568,"body_markdown":"google is a little out of date for links. It often gives you 1.4.2.","body":"google is a little out of date for links. It often gives you 1.4.2."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1358858230,"post_id":14456466,"comment_id":20137509,"body_markdown":"Google search: &quot;Java 7 XXX&quot; with XXX = name of the class works 99% of the time. For example:[search for Java 7 Semaphore](https://www.google.co.uk/search?q=java+7+semaphore).","body":"Google search: &quot;Java 7 XXX&quot; with XXX = name of the class works 99% of the time. For example:<a href=\"https://www.google.co.uk/search?q=java+7+semaphore\" rel=\"nofollow noreferrer\">search for Java 7 Semaphore</a>."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358850717,"creation_date":1358850717,"answer_id":14456466,"question_id":14456276,"body_markdown":"A ThreadPool is a pool of one of more threads which can be managed collectively.  In Java The ThreadPoolExecutor also has a queue while you give it Runnable or Callable to execute and it can return a Future which allows you to control the task or obtain a result.\r\n\r\nA Semaphore just allows you to obtain a number of permits e.g. it can allow two threads at most to run some code.  You need a number of threads running to give it a purpose, but otherwise they are unrelated.\r\n\r\nBTW: I would read the documentation for Java 7 as Java 5.0 has been EOL for some time and Java 6 is almost at an End of Free Service.","title":"Semaphores and Threadpools in Java","body":"<p>A ThreadPool is a pool of one of more threads which can be managed collectively.  In Java The ThreadPoolExecutor also has a queue while you give it Runnable or Callable to execute and it can return a Future which allows you to control the task or obtain a result.</p>\n\n<p>A Semaphore just allows you to obtain a number of permits e.g. it can allow two threads at most to run some code.  You need a number of threads running to give it a purpose, but otherwise they are unrelated.</p>\n\n<p>BTW: I would read the documentation for Java 7 as Java 5.0 has been EOL for some time and Java 6 is almost at an End of Free Service.</p>\n"},{"tags":[],"owner":{"account_id":1848338,"reputation":1157,"user_id":1675502,"accept_rate":42,"display_name":"V&#237;ctor Herraiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1666970447,"creation_date":1358852351,"answer_id":14457014,"question_id":14456276,"body_markdown":"First of all, there is no such thing as a stupid question...\r\n\r\n[Semaphore][1] allows multiple threads to &quot;acquire&quot; a resource. They should check if the resource is available. It&#39;s like a valve for flow control.\r\n\r\nA [Lock][2] is for exclusive access. Only one thread at a time.  \r\n\r\nA [ThreadPoolExecutor][3] allows you to run some code (Runnable or Callable class) using a bounded amount of threads. You don&#39;t have to bother about building this yourself, it is already implemented for you in the JSE API. You could do your own with some semaphores and queues... but if you do not have a good reason do not waste your time. \r\n\r\nImagine you have to implement a web server that receives some requests to port 80. You do not want to use the same thread that is listening to this port to process the whole request (this is a waste of resources...). You could use a ThreadPoolExecutor deal with the request, process it, and respond to the client.  ThreadPoolExecutor could be configured to take advantage of the current CPUs: the optimal number of threads for this architecture and this task.\r\n\r\n[Concurrency in practice][4] is a nice book to improve your knowledge on this matter.  \r\n\r\nI hope this help you and sorry for my basic English.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [4]: http://www.javaconcurrencyinpractice.com/","title":"Semaphores and Threadpools in Java","body":"<p>First of all, there is no such thing as a stupid question...</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">Semaphore</a> allows multiple threads to &quot;acquire&quot; a resource. They should check if the resource is available. It's like a valve for flow control.</p>\n<p>A <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">Lock</a> is for exclusive access. Only one thread at a time.</p>\n<p>A <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> allows you to run some code (Runnable or Callable class) using a bounded amount of threads. You don't have to bother about building this yourself, it is already implemented for you in the JSE API. You could do your own with some semaphores and queues... but if you do not have a good reason do not waste your time.</p>\n<p>Imagine you have to implement a web server that receives some requests to port 80. You do not want to use the same thread that is listening to this port to process the whole request (this is a waste of resources...). You could use a ThreadPoolExecutor deal with the request, process it, and respond to the client.  ThreadPoolExecutor could be configured to take advantage of the current CPUs: the optimal number of threads for this architecture and this task.</p>\n<p><a href=\"http://www.javaconcurrencyinpractice.com/\" rel=\"nofollow noreferrer\">Concurrency in practice</a> is a nice book to improve your knowledge on this matter.</p>\n<p>I hope this help you and sorry for my basic English.</p>\n"}],"owner":{"account_id":178712,"reputation":745,"user_id":410873,"accept_rate":22,"display_name":"mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6788,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1666970447,"creation_date":1358850167,"question_id":14456276,"body_markdown":"I am not very clear on concept of semaphores in Java and trying to understand it.\r\n\r\nMy understanding after reading oracle docs (http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Semaphore.html) and some other pages, its similar to a lock with a count of number of permits.\r\n\r\nIt is usually used to create pools of resources. \r\nHere I get confused, there is also ThreadPoolExecutor which can give me a pool of threads. So what is the difference? Which one is used in what scenario? \r\n\r\n","title":"Semaphores and Threadpools in Java","body":"<p>I am not very clear on concept of semaphores in Java and trying to understand it.</p>\n\n<p>My understanding after reading oracle docs (http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Semaphore.html) and some other pages, its similar to a lock with a count of number of permits.</p>\n\n<p>It is usually used to create pools of resources. \nHere I get confused, there is also ThreadPoolExecutor which can give me a pool of threads. So what is the difference? Which one is used in what scenario? </p>\n"},{"tags":["java","json","quarkus","media-type","smallrye"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1666782997,"post_id":74205322,"comment_id":131016293,"body_markdown":"What does your code look like?","body":"What does your code look like?"},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1666825764,"post_id":74205322,"comment_id":131030313,"body_markdown":"My understanding is that when you use application/json, on your endpoint method&#39;s, in the background, Quarkus uses a serializer (of your choosing) to serialize your methods return objects for you. If you are generating JSON formatted strings (already prepared for serialization) prior to your endpoint method&#39;s output, the Quarkus serializer might take the already serialized output and try to serialize it again, which would result in an array wrapping your output like you have above.","body":"My understanding is that when you use application/json, on your endpoint method&#39;s, in the background, Quarkus uses a serializer (of your choosing) to serialize your methods return objects for you. If you are generating JSON formatted strings (already prepared for serialization) prior to your endpoint method&#39;s output, the Quarkus serializer might take the already serialized output and try to serialize it again, which would result in an array wrapping your output like you have above."},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1666825963,"post_id":74205322,"comment_id":131030332,"body_markdown":"If you post some code or an MWE it should be a simple enough fix. Additionally, If you want the method to return a single payload (with an inner list) make sure the endpoint method itself returns a Uni. A multi will produce multiple things, thus you&#39;d get serialized to an array.","body":"If you post some code or an MWE it should be a simple enough fix. Additionally, If you want the method to return a single payload (with an inner list) make sure the endpoint method itself returns a Uni. A multi will produce multiple things, thus you&#39;d get serialized to an array."},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1666826036,"post_id":74205322,"comment_id":131030344,"body_markdown":"So short version:\n\n1. Make sure your endpoint returns a Uni of whatever type you want.\n2. Make sure your type is not &quot;String&quot;, it should be whatever your actual object payload is.","body":"So short version:  1. Make sure your endpoint returns a Uni of whatever type you want. 2. Make sure your type is not &quot;String&quot;, it should be whatever your actual object payload is."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666970213,"post_id":74205322,"comment_id":131067381,"body_markdown":"@geoand Please find the code sample provided at the end of the question.","body":"@geoand Please find the code sample provided at the end of the question."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666970329,"post_id":74205322,"comment_id":131067417,"body_markdown":"@TheFunk Thanks for the response, I have provided the sample code. Isn&#39;t there any way to achieve this while using `Multi`? Because my depending application always returns `Multi` so would like to keep it as it is.","body":"@TheFunk Thanks for the response, I have provided the sample code. Isn&#39;t there any way to achieve this while using <code>Multi</code>? Because my depending application always returns <code>Multi</code> so would like to keep it as it is."}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666970189,"creation_date":1666775815,"question_id":74205322,"body_markdown":"I have a POST Rest API developed using Quarkus with `@Produces(MediaType.APPLICATION_JSON)` this method returns the list of customers asynchronously. But the problem is that it adds the additional array wrapper and comma separation, which is not required. Everything works fine when used with `MediaType.TEXT_PLAIN` but since my response is of JSON type I want to keep `MediaType.APPLICATION_JSON`. Is there anyway to avoid the modification to response?\r\n\r\nFor example following is the response I am getting with `@Produces(MediaType.APPLICATION_JSON)`. You can see it adds unwanted commas and arrays within my response:\r\n```\r\n[\r\n  {\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [,\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      },\r\n    ]\r\n  }\r\n}]\r\n```\r\n\r\nThe response I would like is correctly achievable with `MediaType.TEXT_PLAIN`:\r\n\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nWhen I use text/plain, everything works fine. Is there something that I can modify to avoid the addition of array wrapper and comma when using with `application/json`?\r\n\r\nI believe this is happening because I am generating the elements in `customerList` asynchronously using the `SmallRye Mutin Multi&lt;String&gt;`. Can someone please provide some suggestion?\r\n\r\nThe following is the Quarkus Rest API for GET requests:\r\n\r\n```\r\n  @Path(&quot;/testData&quot;)\r\n  @GET\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  public Multi &lt;String&gt; test() throws IOException {\r\n      return Multi.createFrom().items(IOUtils.toString(getClass().getResourceAsStream(&quot;/TestJSON.json&quot;), StandardCharsets.UTF_8));\r\n  }\r\n```","title":"Why does Quarkus @Produces(MediaType.APPLICATION_JSON) automatically add the array wrapper and comma to values?","body":"<p>I have a POST Rest API developed using Quarkus with <code>@Produces(MediaType.APPLICATION_JSON)</code> this method returns the list of customers asynchronously. But the problem is that it adds the additional array wrapper and comma separation, which is not required. Everything works fine when used with <code>MediaType.TEXT_PLAIN</code> but since my response is of JSON type I want to keep <code>MediaType.APPLICATION_JSON</code>. Is there anyway to avoid the modification to response?</p>\n<p>For example following is the response I am getting with <code>@Produces(MediaType.APPLICATION_JSON)</code>. You can see it adds unwanted commas and arrays within my response:</p>\n<pre><code>[\n  {\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [,\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      },\n    ]\n  }\n}]\n</code></pre>\n<p>The response I would like is correctly achievable with <code>MediaType.TEXT_PLAIN</code>:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>When I use text/plain, everything works fine. Is there something that I can modify to avoid the addition of array wrapper and comma when using with <code>application/json</code>?</p>\n<p>I believe this is happening because I am generating the elements in <code>customerList</code> asynchronously using the <code>SmallRye Mutin Multi&lt;String&gt;</code>. Can someone please provide some suggestion?</p>\n<p>The following is the Quarkus Rest API for GET requests:</p>\n<pre><code>  @Path(&quot;/testData&quot;)\n  @GET\n  @Produces(MediaType.APPLICATION_JSON)\n  public Multi &lt;String&gt; test() throws IOException {\n      return Multi.createFrom().items(IOUtils.toString(getClass().getResourceAsStream(&quot;/TestJSON.json&quot;), StandardCharsets.UTF_8));\n  }\n</code></pre>\n"},{"tags":["java","linux","maven","java-19"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1666961329,"post_id":74235391,"comment_id":131064244,"body_markdown":"It&#39;s possible that the implementation of that method requires a system call that isn&#39;t present on the CentOS kernel. Since containers don&#39;t bring their own kernel with them, they depend on functionality being present in the host kernel. Is `3.10.0` the kernel version that&#39;s running on CentOS? If so, that kernel would be ~11 years old (with plenty of patches applied, I&#39;m sure), so it wouldn&#39;t be a surprise if something is missing.","body":"It&#39;s possible that the implementation of that method requires a system call that isn&#39;t present on the CentOS kernel. Since containers don&#39;t bring their own kernel with them, they depend on functionality being present in the host kernel. Is <code>3.10.0</code> the kernel version that&#39;s running on CentOS? If so, that kernel would be ~11 years old (with plenty of patches applied, I&#39;m sure), so it wouldn&#39;t be a surprise if something is missing."},{"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"score":0,"creation_date":1666962069,"post_id":74235391,"comment_id":131064519,"body_markdown":"Indeed `3.10.0-1160.76.1.el7.x86_64` is the CentOS kernel. Is it expected the JVM fails on that or it should fallback to another method?","body":"Indeed <code>3.10.0-1160.76.1.el7.x86_64</code> is the CentOS kernel. Is it expected the JVM fails on that or it should fallback to another method?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1666968697,"post_id":74235391,"comment_id":131066796,"body_markdown":"I found no information what the minimum expected kernel is for OpenJDK 19 on Linux, but it&#39;s possible that there is an alternate implementation, but your problem suggests that it&#39;s not in use (or at least not automatically).","body":"I found no information what the minimum expected kernel is for OpenJDK 19 on Linux, but it&#39;s possible that there is an alternate implementation, but your problem suggests that it&#39;s not in use (or at least not automatically)."}],"answers":[{"comments":[{"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"score":0,"creation_date":1667038761,"post_id":74237402,"comment_id":131079319,"body_markdown":"As centos 7 is still supported I guess the openjdk might detect that and fallback to slow method? Is it open jdk or adoptium code?","body":"As centos 7 is still supported I guess the openjdk might detect that and fallback to slow method? Is it open jdk or adoptium code?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1667063066,"post_id":74237402,"comment_id":131084117,"body_markdown":"I checked only the OpenJDK code and that one doesn&#39;t seem to have any fallback that I could see (but might be in a code path that I haven&#39;t checked). I have no idea if Adoptium  added/modified anything there. Depending on what the deliverable is, they *could* probably just ship the same binary in a container with a recent-enough glibc and call that &quot;good enough&quot;.","body":"I checked only the OpenJDK code and that one doesn&#39;t seem to have any fallback that I could see (but might be in a code path that I haven&#39;t checked). I have no idea if Adoptium  added/modified anything there. Depending on what the deliverable is, they <i>could</i> probably just ship the same binary in a container with a recent-enough glibc and call that &quot;good enough&quot;."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1666970052,"creation_date":1666970052,"answer_id":74237402,"question_id":74235391,"body_markdown":"I was curious so I dug into the matter. It seems my original comment is right: your kernel version is too early for this specific function:\r\n\r\n- `FileChannelImpl.transferFrom0` is [implemented here][1]\r\n- it first checks if `my_copy_file_range_func` is non-null and returns `IOS_UNSUPPORTED` otherwise (which is probably what happens).\r\n- `my_copy_file_range_func` is apparently [initialized here][2] by looking for the symbol `copy_file_range`.\r\n- According to [this man page](https://man7.org/linux/man-pages/man2/copy_file_range.2.html#VERSIONS) that system call was added to the Linux kernel 4.5, but is emulated in userspace by glibc since 2.27.\r\n\r\nLinux 4.5 was released in March 2016 and glibc 2.27 in February 2018.\r\n\r\nSince the libc **is** in fact provided by the container, when it&#39;s used (note that a musl-based container like Alpine might have other requirements) it should be sufficient to make sure that your *container* contains a glibc version that&#39;s newer than 2.27.\r\n\r\nNote that a userspace emulation of that function will not provide the zero-copy efficiency gain that a real kernel implementation can provide (i.e. it will be slower than running on a more recent kernel).\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk19u/blob/master/src/java.base/unix/native/libnio/ch/FileChannelImpl.c#L263\r\n  [2]: https://github.com/openjdk/jdk19u/blob/master/src/java.base/unix/native/libnio/ch/FileChannelImpl.c#L65","title":"Java 19 - FileChannelImpl.transferFrom0 - Function not implemented","body":"<p>I was curious so I dug into the matter. It seems my original comment is right: your kernel version is too early for this specific function:</p>\n<ul>\n<li><code>FileChannelImpl.transferFrom0</code> is <a href=\"https://github.com/openjdk/jdk19u/blob/master/src/java.base/unix/native/libnio/ch/FileChannelImpl.c#L263\" rel=\"noreferrer\">implemented here</a></li>\n<li>it first checks if <code>my_copy_file_range_func</code> is non-null and returns <code>IOS_UNSUPPORTED</code> otherwise (which is probably what happens).</li>\n<li><code>my_copy_file_range_func</code> is apparently <a href=\"https://github.com/openjdk/jdk19u/blob/master/src/java.base/unix/native/libnio/ch/FileChannelImpl.c#L65\" rel=\"noreferrer\">initialized here</a> by looking for the symbol <code>copy_file_range</code>.</li>\n<li>According to <a href=\"https://man7.org/linux/man-pages/man2/copy_file_range.2.html#VERSIONS\" rel=\"noreferrer\">this man page</a> that system call was added to the Linux kernel 4.5, but is emulated in userspace by glibc since 2.27.</li>\n</ul>\n<p>Linux 4.5 was released in March 2016 and glibc 2.27 in February 2018.</p>\n<p>Since the libc <strong>is</strong> in fact provided by the container, when it's used (note that a musl-based container like Alpine might have other requirements) it should be sufficient to make sure that your <em>container</em> contains a glibc version that's newer than 2.27.</p>\n<p>Note that a userspace emulation of that function will not provide the zero-copy efficiency gain that a real kernel implementation can provide (i.e. it will be slower than running on a more recent kernel).</p>\n"}],"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74237402,"answer_count":1,"score":1,"last_activity_date":1666970052,"creation_date":1666959938,"question_id":74235391,"body_markdown":"I have an error using a Maven plugin with Java 19 specifically. Java 18 is working fine. How could I solve this issue?\r\n\r\nI&#39;m running within a Docker container on Centos 7.9.2009. When testing within the same container on Ubuntu 20.0 - kernel 5.15.0-52-generic, it works without issue.\r\n\r\nThe stacktrace is the following.\r\n```none\r\nCaused by: java.io.IOException: Function not implemented\r\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFrom0 (Native Method)\r\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFromDirectlyInternal (FileChannelImpl.java:804)\r\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFromDirectly (FileChannelImpl.java:833)\r\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFrom (FileChannelImpl.java:935)\r\nOct 28 12:12:49     at org.codehaus.plexus.util.FileUtils.doCopyFile (FileUtils.java:1077)\r\nOct 28 12:12:49     at org.codehaus.plexus.util.FileUtils.copyFile (FileUtils.java:1049)\r\n```\r\n\r\nVersions used\r\n```none\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nJava version: 19, vendor: Eclipse Adoptium, runtime: /opt/java/openjdk\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.76.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n````","title":"Java 19 - FileChannelImpl.transferFrom0 - Function not implemented","body":"<p>I have an error using a Maven plugin with Java 19 specifically. Java 18 is working fine. How could I solve this issue?</p>\n<p>I'm running within a Docker container on Centos 7.9.2009. When testing within the same container on Ubuntu 20.0 - kernel 5.15.0-52-generic, it works without issue.</p>\n<p>The stacktrace is the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.io.IOException: Function not implemented\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFrom0 (Native Method)\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFromDirectlyInternal (FileChannelImpl.java:804)\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFromDirectly (FileChannelImpl.java:833)\nOct 28 12:12:49     at sun.nio.ch.FileChannelImpl.transferFrom (FileChannelImpl.java:935)\nOct 28 12:12:49     at org.codehaus.plexus.util.FileUtils.doCopyFile (FileUtils.java:1077)\nOct 28 12:12:49     at org.codehaus.plexus.util.FileUtils.copyFile (FileUtils.java:1049)\n</code></pre>\n<p>Versions used</p>\n<pre class=\"lang-none prettyprint-override\"><code>Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nJava version: 19, vendor: Eclipse Adoptium, runtime: /opt/java/openjdk\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.76.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n"},{"tags":["java","android","colors","hex"],"comments":[{"owner":{"account_id":4508077,"reputation":6019,"user_id":3664960,"accept_rate":70,"display_name":"davejal"},"score":0,"creation_date":1452301943,"post_id":34688457,"comment_id":57123827,"body_markdown":"and where is your code?","body":"and where is your code?"},{"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"score":0,"creation_date":1452303003,"post_id":34688457,"comment_id":57124025,"body_markdown":"I added. I am sorry.","body":"I added. I am sorry."},{"owner":{"account_id":6335814,"reputation":1747,"user_id":4919237,"accept_rate":96,"display_name":"Mr Robot"},"score":0,"creation_date":1452311872,"post_id":34688457,"comment_id":57125479,"body_markdown":"you are using websafe colors , not hex . so change #fff to #ffffff , #666 to #666666","body":"you are using websafe colors , not hex . so change #fff to #ffffff , #666 to #666666"},{"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"score":0,"creation_date":1452330884,"post_id":34688457,"comment_id":57129527,"body_markdown":"I didn&#39;t know websafe color. Thank you.   I added this code block to solve my problem.","body":"I didn&#39;t know websafe color. Thank you.   I added this code block to solve my problem."}],"answers":[{"tags":[],"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666969559,"creation_date":1452331150,"answer_id":34691718,"question_id":34688457,"body_markdown":"Change the websafe color to hex color   \r\n```\r\n //if statement for some websafe color to change it hex color exp #FFF --&gt;    #FFFFFF\r\n    if(backgroundColor.length()==4){  \r\n        char harf= backgroundColor.charAt(1);\r\n        String suffix=String.valueOf(harf)+String.valueOf(harf)+String.valueOf(harf);\r\n        backgroundColor=backgroundColor.concat(suffix);\r\n    }\r\ntextViewNameP203.setBackgroundColor(Color.parseColor(backgroundColor));\r\n```","title":"I want to convert some Color Hex in Andorid Studio.But, some of them throw an error?How to fix it?","body":"<p>Change the websafe color to hex color</p>\n<pre><code> //if statement for some websafe color to change it hex color exp #FFF --&gt;    #FFFFFF\n    if(backgroundColor.length()==4){  \n        char harf= backgroundColor.charAt(1);\n        String suffix=String.valueOf(harf)+String.valueOf(harf)+String.valueOf(harf);\n        backgroundColor=backgroundColor.concat(suffix);\n    }\ntextViewNameP203.setBackgroundColor(Color.parseColor(backgroundColor));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"score":0,"creation_date":1452426695,"post_id":34693357,"comment_id":57155832,"body_markdown":"I have already done it. #FFF to #FFFFFF programitically But ; I don&#39;t find a way to convert web safe color to hex color. I can convert hex color to integer values and then use it as background color. Example: #006699 --&gt;red:0, green:102, blue:153 and use it  Color.rgb(red,green,blue)","body":"I have already done it. #FFF to #FFFFFF programitically But ; I don&#39;t find a way to convert web safe color to hex color. I can convert hex color to integer values and then use it as background color. Example: #006699 --&gt;red:0, green:102, blue:153 and use it  Color.rgb(red,green,blue)"},{"owner":{"account_id":6335814,"reputation":1747,"user_id":4919237,"accept_rate":96,"display_name":"Mr Robot"},"score":0,"creation_date":1452428107,"post_id":34693357,"comment_id":57156285,"body_markdown":"Yes. Okay. Then if my answer helped you to resolve your problem ,please mark its as accepted answer .","body":"Yes. Okay. Then if my answer helped you to resolve your problem ,please mark its as accepted answer ."}],"tags":[],"owner":{"account_id":6335814,"reputation":1747,"user_id":4919237,"accept_rate":96,"display_name":"Mr Robot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1452341884,"creation_date":1452341884,"answer_id":34693357,"question_id":34688457,"body_markdown":"As i mentioned in the comment , In your code , you are using websafe color instead of HEX color.\r\n\r\n&gt; A hexadecimal color is specified with: `#RRGGBB`, where the `RR` (red), `GG`\r\n&gt; (green) and `BB` (blue) hexadecimal integers specify the components of\r\n&gt; the color. All values must be between `00` and `FF`.\r\n\r\n*For example, the `#0000FF` value is rendered as blue, because the blue component is set to its highest value (FF) and the others are set to the lowest value (00).*\r\n\r\n**So you must change your websafe colors to hex colors. \r\nIn your code , please change `#FFF` to `#FFFFFF` and `#666` to `#666666` .** \r\n\r\n please check here to see [the available colors sorted by name.][1]\r\n\r\n and check here to see [the material color codes.][2]\r\n\r\n\r\n  [1]: http://www.w3schools.com/html/html_colorvalues.asp\r\n  [2]: https://www.materialpalette.com/","title":"I want to convert some Color Hex in Andorid Studio.But, some of them throw an error?How to fix it?","body":"<p>As i mentioned in the comment , In your code , you are using websafe color instead of HEX color.</p>\n\n<blockquote>\n  <p>A hexadecimal color is specified with: <code>#RRGGBB</code>, where the <code>RR</code> (red), <code>GG</code>\n  (green) and <code>BB</code> (blue) hexadecimal integers specify the components of\n  the color. All values must be between <code>00</code> and <code>FF</code>.</p>\n</blockquote>\n\n<p><em>For example, the <code>#0000FF</code> value is rendered as blue, because the blue component is set to its highest value (FF) and the others are set to the lowest value (00).</em></p>\n\n<p><strong>So you must change your websafe colors to hex colors. \nIn your code , please change <code>#FFF</code> to <code>#FFFFFF</code> and <code>#666</code> to <code>#666666</code> .</strong> </p>\n\n<p>please check here to see <a href=\"http://www.w3schools.com/html/html_colorvalues.asp\" rel=\"nofollow\">the available colors sorted by name.</a></p>\n\n<p>and check here to see <a href=\"https://www.materialpalette.com/\" rel=\"nofollow\">the material color codes.</a></p>\n"}],"owner":{"account_id":5955457,"reputation":89,"user_id":4682288,"accept_rate":100,"display_name":"hikmet_anil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":34693357,"answer_count":2,"score":-1,"last_activity_date":1666969559,"creation_date":1452300470,"question_id":34688457,"body_markdown":"I retrive some data from api.stackoverflow using Retrofit. Here some of them:\r\n #FFF, #666, #5A8F53, #1B8FBB. And then I want to use them textView.setBackgroundColor property. So, I use Color.parseColor() method.But, there is an error unidentified color. How to solve this problem?\r\n\r\n        @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n        LayoutInflater layoutInflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); \r\n        View view=layoutInflater.inflate(R.layout.p203customrow,parent,false);   \r\n        ImageView imageViewP203= (ImageView)view.findViewById(R.id.imageViewP203);\r\n        TextView textViewNameP203= (TextView)view.findViewById(R.id.textViewNameP203);\r\n        TextView textViewSiteUrlP203= (TextView)view.findViewById(R.id.textViewSiteUrlP203);\r\n        \r\n        P203ApiStyle.P203ItemsObjects p203ItemsObjects= p203ItemsObjectsList.get(position);\r\n        Map&lt;String,String&gt; mapStyle=p203ItemsObjects.getStyling();\r\n        String backgroundColor= mapStyle.get(&quot;tag_background_color&quot;);\r\n        String foregroundColor= mapStyle.get(&quot;tag_foreground_color&quot;);\r\n\r\n        textViewNameP203.setText(&quot;Name=&quot;+p203ItemsObjects.getName()+&quot; BackgroundColor=&quot;+backgroundColor);  \r\n    //one result--&gt; Name=Webmasters BacgroundColor=#FFF\r\n        textViewSiteUrlP203.setText(&quot;SiteUrl=&quot; + p203ItemsObjects.getSite_url() + &quot; BackgroundColor=&quot; + foregroundColor);\r\n     //one result--&gt;SiteUrl=The url BackgoundColor=#1B8FBB\r\n\r\n    //when I uncommet to this block that error occurs...\r\n      /*  textViewNameP203.setBackgroundColor(Color.parseColor(backgroundColor));\r\n        textViewSiteUrlP203.setBackgroundColor(Color.parseColor(foregroundColor));*/\r\n\r\n        Picasso.with(context).load(p203ItemsObjects.getIcon_url()).resize(100, 100).into(imageViewP203);\r\n        return view;\r\n    }","title":"I want to convert some Color Hex in Andorid Studio.But, some of them throw an error?How to fix it?","body":"<p>I retrive some data from api.stackoverflow using Retrofit. Here some of them:\n #FFF, #666, #5A8F53, #1B8FBB. And then I want to use them textView.setBackgroundColor property. So, I use Color.parseColor() method.But, there is an error unidentified color. How to solve this problem?</p>\n\n<pre><code>    @Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n\n    LayoutInflater layoutInflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); \n    View view=layoutInflater.inflate(R.layout.p203customrow,parent,false);   \n    ImageView imageViewP203= (ImageView)view.findViewById(R.id.imageViewP203);\n    TextView textViewNameP203= (TextView)view.findViewById(R.id.textViewNameP203);\n    TextView textViewSiteUrlP203= (TextView)view.findViewById(R.id.textViewSiteUrlP203);\n\n    P203ApiStyle.P203ItemsObjects p203ItemsObjects= p203ItemsObjectsList.get(position);\n    Map&lt;String,String&gt; mapStyle=p203ItemsObjects.getStyling();\n    String backgroundColor= mapStyle.get(\"tag_background_color\");\n    String foregroundColor= mapStyle.get(\"tag_foreground_color\");\n\n    textViewNameP203.setText(\"Name=\"+p203ItemsObjects.getName()+\" BackgroundColor=\"+backgroundColor);  \n//one result--&gt; Name=Webmasters BacgroundColor=#FFF\n    textViewSiteUrlP203.setText(\"SiteUrl=\" + p203ItemsObjects.getSite_url() + \" BackgroundColor=\" + foregroundColor);\n //one result--&gt;SiteUrl=The url BackgoundColor=#1B8FBB\n\n//when I uncommet to this block that error occurs...\n  /*  textViewNameP203.setBackgroundColor(Color.parseColor(backgroundColor));\n    textViewSiteUrlP203.setBackgroundColor(Color.parseColor(foregroundColor));*/\n\n    Picasso.with(context).load(p203ItemsObjects.getIcon_url()).resize(100, 100).into(imageViewP203);\n    return view;\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"score":0,"creation_date":1540204007,"post_id":52926974,"comment_id":92763643,"body_markdown":"Possible duplicate of [Spring Boot - How to log all requests and responses with exceptions in single place?](https://stackoverflow.com/questions/33744875/spring-boot-how-to-log-all-requests-and-responses-with-exceptions-in-single-pl)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/33744875/spring-boot-how-to-log-all-requests-and-responses-with-exceptions-in-single-pl\">Spring Boot - How to log all requests and responses with exceptions in single place?</a>"}],"answers":[{"comments":[{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1540203811,"post_id":52927031,"comment_id":92763532,"body_markdown":"I try like this: https://www.baeldung.com/spring-http-logging But It dont work for me, payload don&#39;t logging!","body":"I try like this: <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">baeldung.com/spring-http-logging</a> But It dont work for me, payload don&#39;t logging!"},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1540204117,"post_id":52927031,"comment_id":92763700,"body_markdown":"And your example don&#39;t have logging of payload. Without payload It make easy!","body":"And your example don&#39;t have logging of payload. Without payload It make easy!"},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1540205180,"post_id":52927031,"comment_id":92764313,"body_markdown":"I saw it. It use  `DispatcherServlet`, but I using `Spring Boot`","body":"I saw it. It use  <code>DispatcherServlet</code>, but I using <code>Spring Boot</code>"},{"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"score":0,"creation_date":1643488407,"post_id":52927031,"comment_id":125355120,"body_markdown":"When providing an answer please make sure it answers the requirements in the question and not similar (but different) requirements (your solution does not log payload, and the provided link does not use Spring Boot)","body":"When providing an answer please make sure it answers the requirements in the question and not similar (but different) requirements (your solution does not log payload, and the provided link does not use Spring Boot)"}],"tags":[],"owner":{"account_id":5401314,"reputation":741,"user_id":4301149,"accept_rate":75,"display_name":"Ihar Sadounikau"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1540222818,"creation_date":1540203619,"answer_id":52927031,"question_id":52926974,"body_markdown":"You can use `addInterceptors` method of `WebMvcConfigurer`\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    class WebMvcConfiguration : WebMvcConfigurer {\r\n\r\n      override fun addInterceptors(registry: InterceptorRegistry) {\r\n          registry.addInterceptor(LoggingInterceptor())\r\n      }\r\n    }\r\nAnd [here][1] is good example for interceptor.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-handlerinterceptor\r\n\r\n**UPDATED**\r\n\r\nYou can override the Spring `LoggingFilter`\r\n        \r\n    public class CustomLoggingFilter extends LoggingFilter\r\n    {\r\n         @Override\r\n         protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException\r\n         {\r\n              super.doFilterInternal(request, response, filterChain);\r\n         }\r\n    }\r\n\r\n    @Configuration\r\n    public Config {\r\n        @Bean\r\n        public CustomLoggingFilter loggingFilter()\r\n        {\r\n            return new CustomLoggingFilter();\r\n        }\r\n    }\r\n    \r\nNot sure about your format, but you can try to use:\r\n\r\n    logging:\r\n      level: \r\n        org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor: debug //response\r\n        org.apache.coyote.http11.Http11InputBuffer: debug //request","title":"Logging all request and responses using Spring Boot Actuator","body":"<p>You can use <code>addInterceptors</code> method of <code>WebMvcConfigurer</code></p>\n\n<pre><code>@Configuration\n@EnableWebMvc\nclass WebMvcConfiguration : WebMvcConfigurer {\n\n  override fun addInterceptors(registry: InterceptorRegistry) {\n      registry.addInterceptor(LoggingInterceptor())\n  }\n}\n</code></pre>\n\n<p>And <a href=\"https://www.baeldung.com/spring-mvc-handlerinterceptor\" rel=\"nofollow noreferrer\">here</a> is good example for interceptor.</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>You can override the Spring <code>LoggingFilter</code></p>\n\n<pre><code>public class CustomLoggingFilter extends LoggingFilter\n{\n     @Override\n     protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException\n     {\n          super.doFilterInternal(request, response, filterChain);\n     }\n}\n\n@Configuration\npublic Config {\n    @Bean\n    public CustomLoggingFilter loggingFilter()\n    {\n        return new CustomLoggingFilter();\n    }\n}\n</code></pre>\n\n<p>Not sure about your format, but you can try to use:</p>\n\n<pre><code>logging:\n  level: \n    org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor: debug //response\n    org.apache.coyote.http11.Http11InputBuffer: debug //request\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643487659,"creation_date":1643487659,"answer_id":70909401,"question_id":52926974,"body_markdown":"See baeldung [Spring  Log Incoming Requests](https://www.baeldung.com/spring-http-logging) guide, specifically the 5th section [Spring Built-In Request Logging](https://www.baeldung.com/spring-http-logging#spring-built-in-request-logging)\r\n\r\n**TL;DR**\r\nIf you are using Spring Boot you can configure that easily like this:\r\n\r\n```\r\n@Configuration\r\npublic class RequestLoggingFilterConfig {\r\n\r\n    @Bean\r\n    public CommonsRequestLoggingFilter logFilter() {\r\n        CommonsRequestLoggingFilter filter\r\n          = new CommonsRequestLoggingFilter();\r\n        filter.setIncludeQueryString(true);\r\n        filter.setIncludePayload(true);\r\n        filter.setMaxPayloadLength(10000);\r\n        filter.setIncludeHeaders(false);\r\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\r\n        return filter;\r\n    }\r\n}\r\n```\r\n\r\n**General note:** In production application you should be careful logging payloads as they may contain private user data that should not be logged from privacy considerations.","title":"Logging all request and responses using Spring Boot Actuator","body":"<p>See baeldung <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">Spring  Log Incoming Requests</a> guide, specifically the 5th section <a href=\"https://www.baeldung.com/spring-http-logging#spring-built-in-request-logging\" rel=\"nofollow noreferrer\">Spring Built-In Request Logging</a></p>\n<p><strong>TL;DR</strong>\nIf you are using Spring Boot you can configure that easily like this:</p>\n<pre><code>@Configuration\npublic class RequestLoggingFilterConfig {\n\n    @Bean\n    public CommonsRequestLoggingFilter logFilter() {\n        CommonsRequestLoggingFilter filter\n          = new CommonsRequestLoggingFilter();\n        filter.setIncludeQueryString(true);\n        filter.setIncludePayload(true);\n        filter.setMaxPayloadLength(10000);\n        filter.setIncludeHeaders(false);\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\n        return filter;\n    }\n}\n</code></pre>\n<p><strong>General note:</strong> In production application you should be careful logging payloads as they may contain private user data that should not be logged from privacy considerations.</p>\n"}],"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21089,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1666969480,"creation_date":1540203431,"question_id":52926974,"body_markdown":"I am using Spring Boot and REST services using `@RestController`. I want to log all requests and responses with a payload. How can I do this using `Spring Boot Actuator`? When I using:\r\n\r\n        @Bean\r\n        public ServletContextRequestLoggingFilter requestLoggingFilter() {\r\n            ServletContextRequestLoggingFilter loggingFilter = new ServletContextRequestLoggingFilter();\r\n            loggingFilter.setIncludeClientInfo(true);\r\n            loggingFilter.setIncludeQueryString(true);\r\n            loggingFilter.setIncludePayload(true);\r\n            loggingFilter.setIncludeHeaders(true);\r\n            loggingFilter.setMaxPayloadLength(10000);\r\n            loggingFilter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\r\n            return loggingFilter;\r\n        }\r\nI get only Requests, but not Responses.","title":"Logging all request and responses using Spring Boot Actuator","body":"<p>I am using Spring Boot and REST services using <code>@RestController</code>. I want to log all requests and responses with a payload. How can I do this using <code>Spring Boot Actuator</code>? When I using:</p>\n\n<pre><code>    @Bean\n    public ServletContextRequestLoggingFilter requestLoggingFilter() {\n        ServletContextRequestLoggingFilter loggingFilter = new ServletContextRequestLoggingFilter();\n        loggingFilter.setIncludeClientInfo(true);\n        loggingFilter.setIncludeQueryString(true);\n        loggingFilter.setIncludePayload(true);\n        loggingFilter.setIncludeHeaders(true);\n        loggingFilter.setMaxPayloadLength(10000);\n        loggingFilter.setAfterMessagePrefix(\"REQUEST DATA : \");\n        return loggingFilter;\n    }\n</code></pre>\n\n<p>I get only Requests, but not Responses.</p>\n"},{"tags":["java","apache-spark","google-bigquery","apache-spark-sql"],"comments":[{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1667317981,"post_id":74237297,"comment_id":131136970,"body_markdown":"Can you please try with the latest connector - 0.27.1 ?","body":"Can you please try with the latest connector - 0.27.1 ?"},{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1667318019,"post_id":74237297,"comment_id":131136991,"body_markdown":"Also - It worth opening an issue at https://github.com/GoogleCloudDataproc/spark-bigquery-connector/issues for such cases","body":"Also - It worth opening an issue at <a href=\"https://github.com/GoogleCloudDataproc/spark-bigquery-connector/issues\" rel=\"nofollow noreferrer\">github.com/GoogleCloudDataproc/spark-bigquery-connector/issu&zwnj;&#8203;es</a> for such cases"}],"owner":{"account_id":12280100,"reputation":131,"user_id":8962015,"accept_rate":14,"display_name":"B-Brennan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666969470,"creation_date":1666969470,"question_id":74237297,"body_markdown":"Hi I have written code to write a dataframe I have created to my BigQuery table that I am running through Dataproc using the spark java big query connector My issue is when I do my write like so:\r\n\r\n    filteredInput.write().format(&quot;bigquery&quot;)\r\n                    .option(&quot;temporaryGcsBucket&quot;, &quot;temp_bucket&quot;)\r\n                    .mode(SaveMode.Append)\r\n                    .save(&quot;tables.table_1&quot;);\r\n\r\nI am getting a vague error like this:\r\n\r\n    Error: Exception in thread &quot;main&quot; java.lang.RuntimeException: Failed to write to BigQuery\r\n    \tat com.google.cloud.spark.bigquery.BigQueryWriteHelper.writeDataFrameToBigQuery(BigQueryWriteHelper.scala:69)\r\n    \tat com.google.cloud.spark.bigquery.BigQueryInsertableRelation.insert(BigQueryInsertableRelation.scala:43)\r\n    \tat com.google.cloud.spark.bigquery.BigQueryRelationProvider.createRelation(BigQueryRelationProvider.scala:111)\r\n    \tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n    \tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\r\n    \tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\r\n    \tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n    \tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\r\n    \tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\r\n    \tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\r\n    \tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\r\n    \tat com.db.lrc.macs.ecomms.bbgemail.spark.pipeline.BbgEmailSparkPipeline.writeToOutput(BbgEmailSparkPipeline.java:117)\r\n    \tat com.db.lrc.macs.ecomms.bbgemail.spark.EcommsSparkApplication.triggerPipeline(EcommsSparkApplication.java:37)\r\n    \tat com.db.lrc.macs.ecomms.bbgemail.spark.EcommsSparkApplication.main(EcommsSparkApplication.java:26)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n    \tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:951)\r\n    \tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n    \tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n    \tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n    \tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1039)\r\n    \tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1048)\r\n    \tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat com.google.cloud.bigquery.connector.common.BigQueryClient.loadDataIntoTable(BigQueryClient.java:532)\r\n    \tat com.google.cloud.spark.bigquery.BigQueryWriteHelper.loadDataToBigQuery(BigQueryWriteHelper.scala:87)\r\n    \tat com.google.cloud.spark.bigquery.BigQueryWriteHelper.writeDataFrameToBigQuery(BigQueryWriteHelper.scala:66)\r\n    \t... 38 more\r\n    ERROR: (gcloud.dataproc.jobs.submit.spark) Job [248b593282b6403f9cbfb8c85710bd7a] failed with error:\r\n\r\nI haven&#39;t missed the last part of the error it just doesn&#39;t specify. \r\nI am interested in the null pointer exception but the error stack isn&#39;t giving me much of an indication of what might be causing it and I&#39;m not sure how I can find out more? Is there a way to view the 38 more lines its omitted there.\r\n\r\nMy table structure is this:\r\n\r\n \r\n\r\n     |-- comm_id: string (nullable = false)\r\n     |-- src_sys_name: string (nullable = false)\r\n     |-- send_time_utc: timestamp (nullable = false)\r\n     |-- participant: array (nullable = true)\r\n     |    |-- element: struct (containsNull = true)\r\n     |    |    |-- participant_type: string (nullable = false)\r\n     |    |    |-- participant_email: string (nullable = false)\r\n     |-- priority: string (nullable = true)\r\n     |-- insertion_date: timestamp (nullable = false)\r\n     |-- run_date: timestamp (nullable = false)\r\n\r\n&amp; I am using the connector as a Maven dependency this is my version:\r\n\r\n      &lt;dependency&gt;\r\n               &lt;groupId&gt;com.google.cloud.spark&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spark-bigquery-with-dependencies_2.12&lt;/artifactId&gt;\r\n               &lt;version&gt;0.24.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nHas anyone experienced this? Or even have any tips on how I can find out more about whats causing the issue?","title":"Failed to Write to Bigquery - Spark","body":"<p>Hi I have written code to write a dataframe I have created to my BigQuery table that I am running through Dataproc using the spark java big query connector My issue is when I do my write like so:</p>\n<pre><code>filteredInput.write().format(&quot;bigquery&quot;)\n                .option(&quot;temporaryGcsBucket&quot;, &quot;temp_bucket&quot;)\n                .mode(SaveMode.Append)\n                .save(&quot;tables.table_1&quot;);\n</code></pre>\n<p>I am getting a vague error like this:</p>\n<pre><code>Error: Exception in thread &quot;main&quot; java.lang.RuntimeException: Failed to write to BigQuery\n    at com.google.cloud.spark.bigquery.BigQueryWriteHelper.writeDataFrameToBigQuery(BigQueryWriteHelper.scala:69)\n    at com.google.cloud.spark.bigquery.BigQueryInsertableRelation.insert(BigQueryInsertableRelation.scala:43)\n    at com.google.cloud.spark.bigquery.BigQueryRelationProvider.createRelation(BigQueryRelationProvider.scala:111)\n    at org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\n    at org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\n    at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\n    at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\n    at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\n    at com.db.lrc.macs.ecomms.bbgemail.spark.pipeline.BbgEmailSparkPipeline.writeToOutput(BbgEmailSparkPipeline.java:117)\n    at com.db.lrc.macs.ecomms.bbgemail.spark.EcommsSparkApplication.triggerPipeline(EcommsSparkApplication.java:37)\n    at com.db.lrc.macs.ecomms.bbgemail.spark.EcommsSparkApplication.main(EcommsSparkApplication.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:951)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1039)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1048)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.NullPointerException\n    at com.google.cloud.bigquery.connector.common.BigQueryClient.loadDataIntoTable(BigQueryClient.java:532)\n    at com.google.cloud.spark.bigquery.BigQueryWriteHelper.loadDataToBigQuery(BigQueryWriteHelper.scala:87)\n    at com.google.cloud.spark.bigquery.BigQueryWriteHelper.writeDataFrameToBigQuery(BigQueryWriteHelper.scala:66)\n    ... 38 more\nERROR: (gcloud.dataproc.jobs.submit.spark) Job [248b593282b6403f9cbfb8c85710bd7a] failed with error:\n</code></pre>\n<p>I haven't missed the last part of the error it just doesn't specify.\nI am interested in the null pointer exception but the error stack isn't giving me much of an indication of what might be causing it and I'm not sure how I can find out more? Is there a way to view the 38 more lines its omitted there.</p>\n<p>My table structure is this:</p>\n<pre><code> |-- comm_id: string (nullable = false)\n |-- src_sys_name: string (nullable = false)\n |-- send_time_utc: timestamp (nullable = false)\n |-- participant: array (nullable = true)\n |    |-- element: struct (containsNull = true)\n |    |    |-- participant_type: string (nullable = false)\n |    |    |-- participant_email: string (nullable = false)\n |-- priority: string (nullable = true)\n |-- insertion_date: timestamp (nullable = false)\n |-- run_date: timestamp (nullable = false)\n</code></pre>\n<p>&amp; I am using the connector as a Maven dependency this is my version:</p>\n<pre><code>  &lt;dependency&gt;\n           &lt;groupId&gt;com.google.cloud.spark&lt;/groupId&gt;\n           &lt;artifactId&gt;spark-bigquery-with-dependencies_2.12&lt;/artifactId&gt;\n           &lt;version&gt;0.24.2&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>Has anyone experienced this? Or even have any tips on how I can find out more about whats causing the issue?</p>\n"},{"tags":["java","json","reactive-streams","mutiny","smallrye"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1666787507,"post_id":74207172,"comment_id":131017845,"body_markdown":"You can append items to a multi using `.onCompletion().continueWith(...)`","body":"You can append items to a multi using <code>.onCompletion().continueWith(...)</code>"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666797078,"post_id":74207172,"comment_id":131021753,"body_markdown":"I don&#39;t think it&#39;s possible to do what you are asking. Unless  Mutiny as a way to say &quot;all events except for the last one&quot;. But why do you need to add the comma? The JSON is emitted as soon as available, what&#39;s the purpose of the comma?","body":"I don&#39;t think it&#39;s possible to do what you are asking. Unless  Mutiny as a way to say &quot;all events except for the last one&quot;. But why do you need to add the comma? The JSON is emitted as soon as available, what&#39;s the purpose of the comma?"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666797523,"post_id":74207172,"comment_id":131021930,"body_markdown":"@DavideD&#39;Alto The problem is that the application emits a single Customer object but I would like to add a wrapper to that JSON so I need to append them to a pre-existing array so I need to add `,` after each object so it adheres to JSON schema. I have added an example of Customer obect that&#39;s provided by application.","body":"@DavideD&#39;Alto The problem is that the application emits a single Customer object but I would like to add a wrapper to that JSON so I need to append them to a pre-existing array so I need to add <code>,</code> after each object so it adheres to JSON schema. I have added an example of Customer obect that&#39;s provided by application."}],"answers":[{"comments":[{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666799909,"post_id":74210621,"comment_id":131022906,"body_markdown":"Thanks a lot for the response and solution but the problem is that with `Multi&lt;String&gt;` we need to store it in the list again right? If there is a huge data set there could be a memory problem, right? This is something I would like to avoid because the application has to handle a very large data set. Is there something else I can try so we can avoid storing in list?","body":"Thanks a lot for the response and solution but the problem is that with <code>Multi&lt;String&gt;</code> we need to store it in the list again right? If there is a huge data set there could be a memory problem, right? This is something I would like to avoid because the application has to handle a very large data set. Is there something else I can try so we can avoid storing in list?"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666800237,"post_id":74210621,"comment_id":131023021,"body_markdown":"I thought so. But if you need to create a single JSON string, at some point you need to collect all this customers, wouldn&#39;t my second solution that returns a Uni work? Or am I missing something?","body":"I thought so. But if you need to create a single JSON string, at some point you need to collect all this customers, wouldn&#39;t my second solution that returns a Uni work? Or am I missing something?"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666800558,"post_id":74210621,"comment_id":131023132,"body_markdown":"I guess you want to generate the array dynamically","body":"I guess you want to generate the array dynamically"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666800763,"post_id":74210621,"comment_id":131023202,"body_markdown":"Actually, I think I know how you can do it. Gimme a minute","body":"Actually, I think I know how you can do it. Gimme a minute"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666800822,"post_id":74210621,"comment_id":131023220,"body_markdown":"Yes, I would like to generate dynamically. I am looking into `Uni` but the problem is that it will break the other depending projects as all of them are using the `Multi` and I am not allowed to change it. So looking for a solution using `Multi`","body":"Yes, I would like to generate dynamically. I am looking into <code>Uni</code> but the problem is that it will break the other depending projects as all of them are using the <code>Multi</code> and I am not allowed to change it. So looking for a solution using <code>Multi</code>"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666800838,"post_id":74210621,"comment_id":131023233,"body_markdown":"Please take your time :)","body":"Please take your time :)"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666801922,"post_id":74210621,"comment_id":131023657,"body_markdown":"Thanks a lot for the new solution but for some reason, this only returns me one customer and does not return the subsequent customers at all.","body":"Thanks a lot for the new solution but for some reason, this only returns me one customer and does not return the subsequent customers at all."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666802344,"post_id":74210621,"comment_id":131023793,"body_markdown":"That&#39;s weird, I&#39;ve created a quick test and it works for me. Maybe there is an exception? Anyway, selecting the first and skipping it is your best bet in my opinion. If you can create a test project somewhere that I can run, I will have a look. You can also try `return Multi.createBy().concatenating().streams( firstMulti, remainingMulti );`","body":"That&#39;s weird, I&#39;ve created a quick test and it works for me. Maybe there is an exception? Anyway, selecting the first and skipping it is your best bet in my opinion. If you can create a test project somewhere that I can run, I will have a look. You can also try <code>return Multi.createBy().concatenating().streams( firstMulti, remainingMulti );</code>"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666802599,"post_id":74210621,"comment_id":131023900,"body_markdown":"I will check again. One quick question: in your code, you are skipping the first and adding comma (`,`) to all the remaining so doesn&#39;t that mean you will add `,` even for the last one? Because we would like to skip the adding of `,` to the last customer object actually.","body":"I will check again. One quick question: in your code, you are skipping the first and adding comma (<code>,</code>) to all the remaining so doesn&#39;t that mean you will add <code>,</code> even for the last one? Because we would like to skip the adding of <code>,</code> to the last customer object actually."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666802856,"post_id":74210621,"comment_id":131023978,"body_markdown":"Well, yes. I thought you wanted to generate an array.","body":"Well, yes. I thought you wanted to generate an array."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666802964,"post_id":74210621,"comment_id":131024010,"body_markdown":"I&#39;ve just found out that you can actually skip the last item. Let me update the answer","body":"I&#39;ve just found out that you can actually skip the last item. Let me update the answer"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666803250,"post_id":74210621,"comment_id":131024113,"body_markdown":"Now it will update all the items except for the last one. I should have read the docs better","body":"Now it will update all the items except for the last one. I should have read the docs better"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666819586,"post_id":74210621,"comment_id":131029017,"body_markdown":"Thanks a lot for the response. But in my case the last element is getting skipped. I copied the exact code from your answer but still missing the last element. Have you also tried with multiple values? I am not getting the final Customer information in my response.","body":"Thanks a lot for the response. But in my case the last element is getting skipped. I copied the exact code from your answer but still missing the last element. Have you also tried with multiple values? I am not getting the final Customer information in my response."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666820088,"post_id":74210621,"comment_id":131029150,"body_markdown":"I dont know. Maybe its the way CustomerGenerator.createModels is implemented?","body":"I dont know. Maybe its the way CustomerGenerator.createModels is implemented?"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666852889,"post_id":74210621,"comment_id":131034407,"body_markdown":"Actually if I add just this then I am getting all customer information `return Multi.createBy().concatenating().streams(generatedCustomer);` but if I change it based on your answer `return customersMulti.onCompletion().switchTo(lastMulti);` then I am not getting the last customer information. So I believe it&#39;s not appending the last one due to a recent change and everything else works fine","body":"Actually if I add just this then I am getting all customer information <code>return Multi.createBy().concatenating().streams(generatedCustomer);</code> but if I change it based on your answer <code>return customersMulti.onCompletion().switchTo(lastMulti);</code> then I am not getting the last customer information. So I believe it&#39;s not appending the last one due to a recent change and everything else works fine"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666858678,"post_id":74210621,"comment_id":131036231,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249098/discussion-between-batman-2008-and-davide-dalto).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249098/discussion-between-batman-2008-and-davide-dalto\">continue this discussion in chat</a>."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666860209,"post_id":74210621,"comment_id":131036758,"body_markdown":"Maybe the customer publisher you are using, `.publisher(CustomerGenerator.createModels(input))`, because once you have generated the first stream (`customersMulti`), doesn&#39;t allow selecting the last. Hard to say with the info you gave us.","body":"Maybe the customer publisher you are using, <code>.publisher(CustomerGenerator.createModels(input))</code>, because once you have generated the first stream (<code>customersMulti</code>), doesn&#39;t allow selecting the last. Hard to say with the info you gave us."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666881675,"post_id":74210621,"comment_id":131044543,"body_markdown":"Yup, I can completely understand. I will try to create a sample project and provide you. But I am just confused because when I use ```return generatedCustomer;``` then everything works fine but when I split the ```generatedCustomer``` to ```customersMulti```and use it then the problem is arising so really confused.","body":"Yup, I can completely understand. I will try to create a sample project and provide you. But I am just confused because when I use <code>return generatedCustomer;</code> then everything works fine but when I split the <code>generatedCustomer</code> to <code>customersMulti</code>and use it then the problem is arising so really confused."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666882261,"post_id":74210621,"comment_id":131044770,"body_markdown":"You could create a fake generatedCustomer and see if it works. For example: `final Multi&lt;String&gt; generatedCustomer = Multi.createFrom().items(&quot;{\\&quot;name\\&quot;: \\&quot;Batman\\&quot;, \\&quot;age\\&quot;: 45,\\&quot;city\\&quot;: \\&quot;gotham\\&quot;}&quot;, ...);&#39;`","body":"You could create a fake generatedCustomer and see if it works. For example: <code>final Multi&lt;String&gt; generatedCustomer = Multi.createFrom().items(&quot;{\\&quot;name\\&quot;: \\&quot;Batman\\&quot;, \\&quot;age\\&quot;: 45,\\&quot;city\\&quot;: \\&quot;gotham\\&quot;}&quot;, ...);&#39;</code>"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":1,"creation_date":1666969253,"post_id":74210621,"comment_id":131067020,"body_markdown":"Thanks a lot again for providing various ideas and workarounds. They were beneficial but this is something worked for me: https://stackoverflow.com/a/74237238/7584240","body":"Thanks a lot again for providing various ideas and workarounds. They were beneficial but this is something worked for me: <a href=\"https://stackoverflow.com/a/74237238/7584240\">stackoverflow.com/a/74237238/7584240</a>"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":1,"creation_date":1666969348,"post_id":74210621,"comment_id":131067062,"body_markdown":"Well, whatever works.","body":"Well, whatever works."}],"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":21,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666803610,"creation_date":1666799129,"answer_id":74210621,"question_id":74207172,"body_markdown":"This should do what you&#39;ve asked:\r\n```java\r\n public static Multi &lt;String&gt; generate(final Input input) {\r\n      final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n      try {\r\n          final Multi&lt;String&gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\r\n              event - &gt; {\r\n                  try {\r\n                      return objectMapper\r\n                          .writerWithDefaultPrettyPrinter()\r\n                          .writeValueAsString(event);\r\n                  } catch (JsonProcessingException e) {\r\n                      e.printStackTrace();\r\n                      return null;\r\n                  }\r\n              });\r\n\r\n\r\n          Multi&lt;String&gt; customersMulti = generatedCustomer\r\n              .skip().last().map( s -&gt; s  + &quot;,&quot; );\r\n          Multi&lt;String&gt; lastMulti = generatedCustomer\r\n              .select().last();\r\n\r\n          return customersMulti.onCompletion().switchTo(lastMulti);\r\n      } catch (Exception e) {\r\n          throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n      }\r\n  }\r\n```\r\n\r\nYou can find more [information in the documentation][1]\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/1.7.0/guides/take-skip-items/#skipping-items","title":"SmallRye Mutiny How to access, modify and append the final element in Multi&lt;String&gt;?","body":"<p>This should do what you've asked:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static Multi &lt;String&gt; generate(final Input input) {\n      final ObjectMapper objectMapper = new ObjectMapper();\n\n      try {\n          final Multi&lt;String&gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\n              event - &gt; {\n                  try {\n                      return objectMapper\n                          .writerWithDefaultPrettyPrinter()\n                          .writeValueAsString(event);\n                  } catch (JsonProcessingException e) {\n                      e.printStackTrace();\n                      return null;\n                  }\n              });\n\n\n          Multi&lt;String&gt; customersMulti = generatedCustomer\n              .skip().last().map( s -&gt; s  + &quot;,&quot; );\n          Multi&lt;String&gt; lastMulti = generatedCustomer\n              .select().last();\n\n          return customersMulti.onCompletion().switchTo(lastMulti);\n      } catch (Exception e) {\n          throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n      }\n  }\n</code></pre>\n<p>You can find more <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/take-skip-items/#skipping-items\" rel=\"nofollow noreferrer\">information in the documentation</a></p>\n"},{"tags":[],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666969182,"creation_date":1666969182,"answer_id":74237238,"question_id":74207172,"body_markdown":"The following is something I tried and it worked:\r\n\r\n```\r\n public static Multi &lt; String &gt; generate(final Input input) {\r\n     final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n     try {\r\n         final Multi &lt; String &gt; beginDocument = Multi.createFrom().items(&quot;\\&quot;isA\\&quot;:\\&quot;customerDocument\\&quot;, \\&quot;creationDate\\&quot;:\\&quot;&quot; + Instant.now().toString() + &quot;\\&quot;, \\&quot;customerBody\\&quot;:{ \\&quot;customerList\\&quot;:[&quot;);\r\n\r\n         final AtomicBoolean firstEntry = new AtomicBoolean(true);\r\n\r\n         final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\r\n             event - &gt; {\r\n                 try {\r\n                     if (firstEntry.getAndSet(false)) {\r\n                         return objectMapper\r\n                             .writerWithDefaultPrettyPrinter()\r\n                             .writeValueAsString(event);\r\n                     }\r\n                     return &quot;,&quot; +\r\n                         objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event);\r\n                 } catch (JsonProcessingException e) {\r\n                     e.printStackTrace();\r\n                 }\r\n                 return null;\r\n             });\r\n\r\n         return Multi.createBy().concatenating().streams(beginDocument, generatedCustomer, Multi.createFrom().items(&quot;]}}&quot;));\r\n\r\n     } catch (Exception e) {\r\n         throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n     }\r\n }\r\n```","title":"SmallRye Mutiny How to access, modify and append the final element in Multi&lt;String&gt;?","body":"<p>The following is something I tried and it worked:</p>\n<pre><code> public static Multi &lt; String &gt; generate(final Input input) {\n     final ObjectMapper objectMapper = new ObjectMapper();\n\n     try {\n         final Multi &lt; String &gt; beginDocument = Multi.createFrom().items(&quot;\\&quot;isA\\&quot;:\\&quot;customerDocument\\&quot;, \\&quot;creationDate\\&quot;:\\&quot;&quot; + Instant.now().toString() + &quot;\\&quot;, \\&quot;customerBody\\&quot;:{ \\&quot;customerList\\&quot;:[&quot;);\n\n         final AtomicBoolean firstEntry = new AtomicBoolean(true);\n\n         final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\n             event - &gt; {\n                 try {\n                     if (firstEntry.getAndSet(false)) {\n                         return objectMapper\n                             .writerWithDefaultPrettyPrinter()\n                             .writeValueAsString(event);\n                     }\n                     return &quot;,&quot; +\n                         objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event);\n                 } catch (JsonProcessingException e) {\n                     e.printStackTrace();\n                 }\n                 return null;\n             });\n\n         return Multi.createBy().concatenating().streams(beginDocument, generatedCustomer, Multi.createFrom().items(&quot;]}}&quot;));\n\n     } catch (Exception e) {\n         throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666969182,"creation_date":1666784514,"question_id":74207172,"body_markdown":"Within my application, I am dynamically creating and returning customers in JSON format. I would like to differentiate each customer, so I am adding a comma after the creation of each customer, but I do not wish to add the comma separation to the last element, so I would like to remove it.\r\n\r\nHence, I need to access the last element and make the modification, but I am running into some problems when doing the same. I tried to do this but was unable to concatenate the same. I am unable to get the last customer without a comma. The following is the code I have:\r\n\r\n```\r\n  public static Multi &lt;String&gt; generate(final Input input) {\r\n      final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n      try {\r\n          final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\r\n              event - &gt; {\r\n                  try {\r\n                      return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event) + &quot;,&quot;;\r\n                  } catch (JsonProcessingException e) {\r\n                      e.printStackTrace();\r\n                  }\r\n                  return null;\r\n              });\r\n\r\n          final Multi &lt; String &gt; lastCustomer = generatedEvents.select().last().onItem().transform(i - &gt; i.substring(0, i.length() - 1));\r\n\r\n          return Multi.createBy().concatenating().streams(generatedCustomer, lastCustomer);\r\n\r\n      } catch (Exception e) {\r\n          throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n      }\r\n  }\r\n```\r\n\r\nHow to achieve this?\r\n\r\n\r\n**Updated**\r\nMy application currently produces customer information in the following format asynchronously, so I would like to add a wrapper to it and make it look like the following JSON.\r\n\r\n```\r\n{\r\n &quot;name&quot;: &quot;Batman&quot;,\r\n &quot;age&quot;: 45,\r\n &quot;city&quot;: &quot;gotham&quot;\r\n}\r\n```\r\n\r\nI would like to add a wrapper to it and make it like this:\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nHence, I have added a code something like this:\r\n```\r\n public static Multi &lt; String &gt; generate(final Input input) {\r\n     final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n     try {\r\n         final Multi &lt; String &gt; beginDocument = Multi.createFrom().items(&quot;\\&quot;isA\\&quot;:\\&quot;customerDocument\\&quot;, \\&quot;creationDate\\&quot;:\\&quot;&quot; + Instant.now().toString() + &quot;\\&quot;, \\&quot;customerBody\\&quot;:{ \\&quot;customerList\\&quot;:[&quot;);\r\n         final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\r\n             event - &gt; {\r\n                 try {\r\n                     return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event) + &quot;,&quot;;\r\n                 } catch (JsonProcessingException e) {\r\n                     e.printStackTrace();\r\n                 }\r\n                 return null;\r\n             });\r\n\r\n         final Multi &lt; String &gt; lastCustomer = generatedEvents.select().last().onItem().transform(i - &gt; i.substring(0, i.length() - 1));\r\n\r\n         return Multi.createBy().concatenating().streams(beginDocument, generatedCustomer, lastCustomer, Multi.createFrom().items(&quot;]}}&quot;));\r\n\r\n     } catch (Exception e) {\r\n         throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n     }\r\n }\r\n```","title":"SmallRye Mutiny How to access, modify and append the final element in Multi&lt;String&gt;?","body":"<p>Within my application, I am dynamically creating and returning customers in JSON format. I would like to differentiate each customer, so I am adding a comma after the creation of each customer, but I do not wish to add the comma separation to the last element, so I would like to remove it.</p>\n<p>Hence, I need to access the last element and make the modification, but I am running into some problems when doing the same. I tried to do this but was unable to concatenate the same. I am unable to get the last customer without a comma. The following is the code I have:</p>\n<pre><code>  public static Multi &lt;String&gt; generate(final Input input) {\n      final ObjectMapper objectMapper = new ObjectMapper();\n\n      try {\n          final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\n              event - &gt; {\n                  try {\n                      return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event) + &quot;,&quot;;\n                  } catch (JsonProcessingException e) {\n                      e.printStackTrace();\n                  }\n                  return null;\n              });\n\n          final Multi &lt; String &gt; lastCustomer = generatedEvents.select().last().onItem().transform(i - &gt; i.substring(0, i.length() - 1));\n\n          return Multi.createBy().concatenating().streams(generatedCustomer, lastCustomer);\n\n      } catch (Exception e) {\n          throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n      }\n  }\n</code></pre>\n<p>How to achieve this?</p>\n<p><strong>Updated</strong>\nMy application currently produces customer information in the following format asynchronously, so I would like to add a wrapper to it and make it look like the following JSON.</p>\n<pre><code>{\n &quot;name&quot;: &quot;Batman&quot;,\n &quot;age&quot;: 45,\n &quot;city&quot;: &quot;gotham&quot;\n}\n</code></pre>\n<p>I would like to add a wrapper to it and make it like this:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Hence, I have added a code something like this:</p>\n<pre><code> public static Multi &lt; String &gt; generate(final Input input) {\n     final ObjectMapper objectMapper = new ObjectMapper();\n\n     try {\n         final Multi &lt; String &gt; beginDocument = Multi.createFrom().items(&quot;\\&quot;isA\\&quot;:\\&quot;customerDocument\\&quot;, \\&quot;creationDate\\&quot;:\\&quot;&quot; + Instant.now().toString() + &quot;\\&quot;, \\&quot;customerBody\\&quot;:{ \\&quot;customerList\\&quot;:[&quot;);\n         final Multi &lt; String &gt; generatedCustomer = Multi.createFrom().publisher(CustomerGenerator.createModels(input)).onItem().transform(\n             event - &gt; {\n                 try {\n                     return objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event) + &quot;,&quot;;\n                 } catch (JsonProcessingException e) {\n                     e.printStackTrace();\n                 }\n                 return null;\n             });\n\n         final Multi &lt; String &gt; lastCustomer = generatedEvents.select().last().onItem().transform(i - &gt; i.substring(0, i.length() - 1));\n\n         return Multi.createBy().concatenating().streams(beginDocument, generatedCustomer, lastCustomer, Multi.createFrom().items(&quot;]}}&quot;));\n\n     } catch (Exception e) {\n         throw new CustomerException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n     }\n }\n</code></pre>\n"},{"tags":["java","servlets"],"answers":[{"tags":[],"owner":{"account_id":13004562,"reputation":52,"user_id":9399523,"display_name":"Boheyga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628875259,"creation_date":1628875259,"answer_id":68776171,"question_id":68776170,"body_markdown":"To solve this,\r\n\r\nI created a master filter that would accept all incoming request.\r\nOnce a request hit the server, I ran it through this bit of code.\r\n\r\n    if (request instanceof HttpServletRequest) {\r\n            String url = ((HttpServletRequest)request).getRequestURL().toString();\r\n            String query = ((HttpServletRequest)request).getQueryString();\r\n        }\r\n\r\n\r\nI created a three tier system that was designed to filter between what was know and unknown.\r\n\r\nTier 1\r\nFor request that don&#39;t require the user to be logged into the server.\r\nexp ~ forgotPassword, createAccount\r\nrequirements - all base64 parameters, inside active list\r\n\r\n\r\nTier 2\r\nFor request that require an active login\r\nexp ~ my account, edit account, search system\r\nrequirements - all base64 parameters, inside active list, valid login\r\n\r\nTier 3\r\nFor everything else\r\nexp ~ login.php is not valid (This is Java)\r\n\r\nBy checking the url I could determine where the request is going. I could then run it against the first two tiers and see if everything checked out and the query was actually in base64 format. The server requires that all string data be in base64 format. If it is not, do not process the request.","title":"Java servlet illegal characters","body":"<p>To solve this,</p>\n<p>I created a master filter that would accept all incoming request.\nOnce a request hit the server, I ran it through this bit of code.</p>\n<pre><code>if (request instanceof HttpServletRequest) {\n        String url = ((HttpServletRequest)request).getRequestURL().toString();\n        String query = ((HttpServletRequest)request).getQueryString();\n    }\n</code></pre>\n<p>I created a three tier system that was designed to filter between what was know and unknown.</p>\n<p>Tier 1\nFor request that don't require the user to be logged into the server.\nexp ~ forgotPassword, createAccount\nrequirements - all base64 parameters, inside active list</p>\n<p>Tier 2\nFor request that require an active login\nexp ~ my account, edit account, search system\nrequirements - all base64 parameters, inside active list, valid login</p>\n<p>Tier 3\nFor everything else\nexp ~ login.php is not valid (This is Java)</p>\n<p>By checking the url I could determine where the request is going. I could then run it against the first two tiers and see if everything checked out and the query was actually in base64 format. The server requires that all string data be in base64 format. If it is not, do not process the request.</p>\n"}],"owner":{"account_id":13004562,"reputation":52,"user_id":9399523,"display_name":"Boheyga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666969014,"creation_date":1628875259,"question_id":68776170,"body_markdown":"I have a Java web application that allows users to create an account and login. For some reason, after someone has sent enough illegal characters to the server, the portion of the application that sends emails become disabled.\r\n\r\n","title":"Java servlet illegal characters","body":"<p>I have a Java web application that allows users to create an account and login. For some reason, after someone has sent enough illegal characters to the server, the portion of the application that sends emails become disabled.</p>\n"},{"tags":["java","jackrabbit"],"answers":[{"tags":[],"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666968842,"creation_date":1666968842,"answer_id":74237165,"question_id":74039762,"body_markdown":"You may want to try to identify the Jackrabbit version that apparently made in incompatible change here; maybe a fix is possible. So try 2.2.*, 2.4.* etc.","title":"Upgrade Jackrabbit 2.1.6 to Jackrabbit 2.20.6","body":"<p>You may want to try to identify the Jackrabbit version that apparently made in incompatible change here; maybe a fix is possible. So try 2.2.<em>, 2.4.</em> etc.</p>\n"}],"owner":{"account_id":24442443,"reputation":53,"user_id":18365949,"display_name":"Mihajlo Stankov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74237165,"answer_count":1,"score":0,"last_activity_date":1666968842,"creation_date":1665567867,"question_id":74039762,"body_markdown":"I need to update the jackrabbit version from 2.1.6 to 2.20.6, so I want to know the best way to do that.\r\nI saw that there is an option with importing/exporting data to XML ( https://jackrabbit.apache.org/archive/wiki/JCR/BackupAndMigration_115513344.html ),\r\nbut I&#39;m not sure how to do that. So&#39; if you know how to perform a jackrabbit upgrade on this way, or some other way please let me know.\r\n\r\nNote: Currently when I start the APP with jackrabbit 2.20.6 I get the following error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Invalid namespace index: 2\r\n    \tat org.apache.jackrabbit.core.NamespaceRegistryImpl.indexToString(NamespaceRegistryImpl.java:366) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.util.BundleReader.readBundleOld(BundleReader.java:221) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.util.BundleReader.readBundle(BundleReader.java:149) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.util.BundleBinding.readBundle(BundleBinding.java:152) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.readBundle(BundleDbPersistenceManager.java:927) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.loadBundle(BundleDbPersistenceManager.java:889) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMiss(AbstractBundlePersistenceManager.java:766) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundle(AbstractBundlePersistenceManager.java:750) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.exists(AbstractBundlePersistenceManager.java:563) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.version.InternalVersionManagerImpl.&lt;init&gt;(InternalVersionManagerImpl.java:162) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.RepositoryImpl.createVersionManager(RepositoryImpl.java:526) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:314) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\r\n    \tat org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:616) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]","title":"Upgrade Jackrabbit 2.1.6 to Jackrabbit 2.20.6","body":"<p>I need to update the jackrabbit version from 2.1.6 to 2.20.6, so I want to know the best way to do that.\nI saw that there is an option with importing/exporting data to XML ( <a href=\"https://jackrabbit.apache.org/archive/wiki/JCR/BackupAndMigration_115513344.html\" rel=\"nofollow noreferrer\">https://jackrabbit.apache.org/archive/wiki/JCR/BackupAndMigration_115513344.html</a> ),\nbut I'm not sure how to do that. So' if you know how to perform a jackrabbit upgrade on this way, or some other way please let me know.</p>\n<p>Note: Currently when I start the APP with jackrabbit 2.20.6 I get the following error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Invalid namespace index: 2\n    at org.apache.jackrabbit.core.NamespaceRegistryImpl.indexToString(NamespaceRegistryImpl.java:366) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.util.BundleReader.readBundleOld(BundleReader.java:221) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.util.BundleReader.readBundle(BundleReader.java:149) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.util.BundleBinding.readBundle(BundleBinding.java:152) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.readBundle(BundleDbPersistenceManager.java:927) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.loadBundle(BundleDbPersistenceManager.java:889) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMiss(AbstractBundlePersistenceManager.java:766) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundle(AbstractBundlePersistenceManager.java:750) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.exists(AbstractBundlePersistenceManager.java:563) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.version.InternalVersionManagerImpl.&lt;init&gt;(InternalVersionManagerImpl.java:162) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.RepositoryImpl.createVersionManager(RepositoryImpl.java:526) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:314) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n    at org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:616) ~[org.apache.jackrabbit.core-2.20.6.jar:2.20.6]\n</code></pre>\n"},{"tags":["java","android","android-service","ondestroy","android-ondestroy"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1666915444,"post_id":74229372,"comment_id":131054043,"body_markdown":"&quot;but it makes two services run at the same time&quot; -- no, it does not. Services are natural singletons; there will be either zero or one instance of a given service running at any given time. Bear in mind that very few apps nowadays need a service at all; you might wish to reconsider having one in the first place.","body":"&quot;but it makes two services run at the same time&quot; -- no, it does not. Services are natural singletons; there will be either zero or one instance of a given service running at any given time. Bear in mind that very few apps nowadays need a service at all; you might wish to reconsider having one in the first place."},{"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"score":0,"creation_date":1666929064,"post_id":74229372,"comment_id":131055799,"body_markdown":"@CommonsWare I&#39;ve just edited the question, hope you don&#39;t mind helping me understand the problem. I don&#39;t understand if the first service was gone, why it keeps printing two values of x1 every one second.","body":"@CommonsWare I&#39;ve just edited the question, hope you don&#39;t mind helping me understand the problem. I don&#39;t understand if the first service was gone, why it keeps printing two values of x1 every one second."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666956405,"post_id":74229372,"comment_id":131062649,"body_markdown":"You create a `Thread` on `onStartCommand()`. You do nothing to clean up that `Thread` in `onDestroy()`. So, that `Thread` continues to exist and do its work after the service is destroyed.","body":"You create a <code>Thread</code> on <code>onStartCommand()</code>. You do nothing to clean up that <code>Thread</code> in <code>onDestroy()</code>. So, that <code>Thread</code> continues to exist and do its work after the service is destroyed."},{"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"score":0,"creation_date":1667111535,"post_id":74229372,"comment_id":131090605,"body_markdown":"Could you please suggest me the way to clean up the previous Thread after I stopService() and startSevice()?","body":"Could you please suggest me the way to clean up the previous Thread after I stopService() and startSevice()?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667130077,"post_id":74229372,"comment_id":131093300,"body_markdown":"I recommend getting rid of the `Service` entirely. It is highly unlikely that you need one.","body":"I recommend getting rid of the <code>Service</code> entirely. It is highly unlikely that you need one."}],"answers":[{"comments":[{"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"score":0,"creation_date":1667111432,"post_id":74237158,"comment_id":131090591,"body_markdown":"I tried using putExtra() in MainActivity, but it says getExtra() is deprecated. How to fix this?","body":"I tried using putExtra() in MainActivity, but it says getExtra() is deprecated. How to fix this?"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667128142,"post_id":74237158,"comment_id":131092981,"body_markdown":"`putExtra()` and `getExtra()` are definitely not deprecated. Please edit your question and show what you did and what the problem is. You can definitely put data in an `Intent` using &quot;extras&quot;","body":"<code>putExtra()</code> and <code>getExtra()</code> are definitely not deprecated. Please edit your question and show what you did and what the problem is. You can definitely put data in an <code>Intent</code> using &quot;extras&quot;"},{"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"score":0,"creation_date":1667144697,"post_id":74237158,"comment_id":131096215,"body_markdown":"Sorry, I mean I tried to add this in Foreground.class\n\n`Intent receiveIntent = getIntent();`\n`x1 = receiveIntent.getDoubleExtra(&quot;x1&quot;, x1);`\n\nbut getIntent(); is deprecated.","body":"Sorry, I mean I tried to add this in Foreground.class  <code>Intent receiveIntent = getIntent();</code> <code>x1 = receiveIntent.getDoubleExtra(&quot;x1&quot;, x1);</code>  but getIntent(); is deprecated."},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667152627,"post_id":74237158,"comment_id":131098061,"body_markdown":"The `Intent` is passed as a parameter to `onStartCommand()`. Where are you trying to call `getIntent()`??","body":"The <code>Intent</code> is passed as a parameter to <code>onStartCommand()</code>. Where are you trying to call <code>getIntent()</code>??"},{"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"score":0,"creation_date":1667153660,"post_id":74237158,"comment_id":131098296,"body_markdown":"In ForegroundService.class","body":"In ForegroundService.class"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667155374,"post_id":74237158,"comment_id":131098682,"body_markdown":"There is no `getIntent()` method in `Service`. Anyway, the `Intent` with the &quot;extras&quot; you have access to in `onStartCommand()` as a parameter. Get your &quot;extras&quot; from there.","body":"There is no <code>getIntent()</code> method in <code>Service</code>. Anyway, the <code>Intent</code> with the &quot;extras&quot; you have access to in <code>onStartCommand()</code> as a parameter. Get your &quot;extras&quot; from there."},{"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"score":0,"creation_date":1667161330,"post_id":74237158,"comment_id":131099963,"body_markdown":"Okay, now I can receive values from MainActivity writing this is Service.\n`String X1 = intent.getStringExtra(&quot;x1&quot;);`\n`String Y1 = intent.getStringExtra(&quot;y1&quot;);`\n`x1 = Double.parseDouble(X1);`\n`y1 = Double.parseDouble(Y1);`\nBut I think the values will be sent only when startService right? Is there any way the link the values between MainActivity and Service all the time without startService again?","body":"Okay, now I can receive values from MainActivity writing this is Service. <code>String X1 = intent.getStringExtra(&quot;x1&quot;);</code> <code>String Y1 = intent.getStringExtra(&quot;y1&quot;);</code> <code>x1 = Double.parseDouble(X1);</code> <code>y1 = Double.parseDouble(Y1);</code> But I think the values will be sent only when startService right? Is there any way the link the values between MainActivity and Service all the time without startService again?"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667165409,"post_id":74237158,"comment_id":131100750,"body_markdown":"The simple way is to put them in `static` variables. These can be accessed from anywhere. This, however, is a hack and isn&#39;t recommended. I don&#39;t know your requirements. Normally you would use something like `LiveData` for this, you can read about it here: https://developer.android.com/topic/libraries/architecture/livedata","body":"The simple way is to put them in <code>static</code> variables. These can be accessed from anywhere. This, however, is a hack and isn&#39;t recommended. I don&#39;t know your requirements. Normally you would use something like <code>LiveData</code> for this, you can read about it here: <a href=\"https://developer.android.com/topic/libraries/architecture/livedata\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/livedata</a>"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667165502,"post_id":74237158,"comment_id":131100770,"body_markdown":"You can also use bound services and AIDL and have your `Activity` bind to the `Service` and then call methods in the `Service` to update the values, but you would need to explain i more detail what you are trying to accomplish.","body":"You can also use bound services and AIDL and have your <code>Activity</code> bind to the <code>Service</code> and then call methods in the <code>Service</code> to update the values, but you would need to explain i more detail what you are trying to accomplish."}],"tags":[],"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666968816,"creation_date":1666968816,"answer_id":74237158,"question_id":74229372,"body_markdown":"Your `Service` is never shut down. When you start it the first time from the `Activity` by calling `startService()`, the `Service` instance is created and this will initialize the values of `x, y, k, etc.` from `MainActivity` and `onStartCommand()` is called. You then start a thread that counts and logs. This thread runs forever (until Android kills off the OS process hosting your app). If you now do something in your `Activity` that changes the values of `xc, y, k, etc.` and then calls `startService()` again, this doesn&#39;t start another `Service` instance. Your `Service` is already running. So it just calls `onStartCommand()` again. This starts another thread that counts and logs. Now you have 2 threads that are counting and logging.\r\n\r\nAlso, it is bad practice to have a `Service` copy values from an `Activity` like this. It is better to put these values in the `Intent` you pass to `startService()` as &quot;extras&quot;. You can then access these values in `onStartCommand()` as the `Intent` is passed through as a parameter to `onStartCommand()`.","title":"How to kill previous service before start new service in Java?","body":"<p>Your <code>Service</code> is never shut down. When you start it the first time from the <code>Activity</code> by calling <code>startService()</code>, the <code>Service</code> instance is created and this will initialize the values of <code>x, y, k, etc.</code> from <code>MainActivity</code> and <code>onStartCommand()</code> is called. You then start a thread that counts and logs. This thread runs forever (until Android kills off the OS process hosting your app). If you now do something in your <code>Activity</code> that changes the values of <code>xc, y, k, etc.</code> and then calls <code>startService()</code> again, this doesn't start another <code>Service</code> instance. Your <code>Service</code> is already running. So it just calls <code>onStartCommand()</code> again. This starts another thread that counts and logs. Now you have 2 threads that are counting and logging.</p>\n<p>Also, it is bad practice to have a <code>Service</code> copy values from an <code>Activity</code> like this. It is better to put these values in the <code>Intent</code> you pass to <code>startService()</code> as &quot;extras&quot;. You can then access these values in <code>onStartCommand()</code> as the <code>Intent</code> is passed through as a parameter to <code>onStartCommand()</code>.</p>\n"}],"owner":{"account_id":26754738,"reputation":31,"user_id":20353538,"display_name":"Settasit7"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666968816,"creation_date":1666914771,"question_id":74229372,"body_markdown":"I am coding an Android app using Android Studio.\r\n\r\nMy service class takes the values from the main activity class when starting the service.\r\n\r\nHowever, when I reassign the values in the main activity, the change is not applied to the value in the service. Then, I tried to start a new service every time after reassigning the values, but it makes two services run at the same time.\r\n\r\nTherefore, I would like to know if is there any way to remove the previous service when I start the new one. I am not sure if onDestroy() can do what I want. As far as I tried, I still can not make it.\r\n\r\nThis is the service class code:\r\n\r\npublic class ForegroundService extends Service {\r\n\r\n    double x1 = MainActivity.x1;\r\n    double y1 = MainActivity.y1;\r\n    double radius_ = MainActivity.radius_;\r\n    int k = MainActivity.k;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        new Thread(\r\n                new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        while (true) {\r\n                            Log.e(&quot;Service&quot;, &quot;Running &quot; + String.valueOf(x1));\r\n                            try {\r\n                                Thread.sleep(1000);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n        ).start();\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n}\r\n\r\nAfter reassign x1, it shows two x1 value every one second:\r\n \r\nE/Service: Running 35.6761919\r\n\r\nE/Service: Running 35.4436739","title":"How to kill previous service before start new service in Java?","body":"<p>I am coding an Android app using Android Studio.</p>\n<p>My service class takes the values from the main activity class when starting the service.</p>\n<p>However, when I reassign the values in the main activity, the change is not applied to the value in the service. Then, I tried to start a new service every time after reassigning the values, but it makes two services run at the same time.</p>\n<p>Therefore, I would like to know if is there any way to remove the previous service when I start the new one. I am not sure if onDestroy() can do what I want. As far as I tried, I still can not make it.</p>\n<p>This is the service class code:</p>\n<p>public class ForegroundService extends Service {</p>\n<pre><code>double x1 = MainActivity.x1;\ndouble y1 = MainActivity.y1;\ndouble radius_ = MainActivity.radius_;\nint k = MainActivity.k;\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    new Thread(\n            new Runnable() {\n                @Override\n                public void run() {\n                    while (true) {\n                        Log.e(&quot;Service&quot;, &quot;Running &quot; + String.valueOf(x1));\n                        try {\n                            Thread.sleep(1000);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n    ).start();\n    return super.onStartCommand(intent, flags, startId);\n}\n\n@Nullable\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>After reassign x1, it shows two x1 value every one second:</p>\n<p>E/Service: Running 35.6761919</p>\n<p>E/Service: Running 35.4436739</p>\n"},{"tags":["java","arrays","string","csv","talend"],"answers":[{"comments":[{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1666968555,"post_id":74233722,"comment_id":131066753,"body_markdown":"Thanks for the feedback,i tried using tflowtoiterate as well but when it gets over to tdbinput the values of columnA &amp; columnB become null when stored in the global or context variables.I have added the image of the revised job design in the question as it wont let me add images to the comment section","body":"Thanks for the feedback,i tried using tflowtoiterate as well but when it gets over to tdbinput the values of columnA &amp; columnB become null when stored in the global or context variables.I have added the image of the revised job design in the question as it wont let me add images to the comment section"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1666968736,"post_id":74233722,"comment_id":131066810,"body_markdown":"What is the SQL query you used","body":"What is the SQL query you used"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1666968849,"post_id":74233722,"comment_id":131066857,"body_markdown":"tflowtoiterate (using the default key value selection) and iterate---&gt; tdbinput\n\nHere is the select used inside it\n\n\n&quot;SELECT   df.cond1, df.cond2, df.cond3\nFROM test df\nLEFT JOIN sample dd ON df.module=dd.module  \nLEFT JOIN trial dl ON df.logic=dl.logic WHERE df.columnA=&#39;&quot;+((String)globalMap.get(&quot;row2.columnA&quot;))+&quot;&#39; and df.columnB=&#39;&quot;+((String)globalMap.get(&quot;row2.columnB&quot;))+&quot;&#39;\nand  file_date between  to_date(&#39;&quot;+context.startDate+&quot;&#39; ,&#39;dd-mon-yyyy hh24:mi:ss&#39;)  and to_date(&#39;&quot;+context.endDate+&quot;&#39; ,&#39;dd-mon-yyyy hh24:mi:ss&#39;) \norder  by df.file_date desc&quot;","body":"tflowtoiterate (using the default key value selection) and iterate---&gt; tdbinput  Here is the select used inside it   &quot;SELECT   df.cond1, df.cond2, df.cond3 FROM test df LEFT JOIN sample dd ON df.module=dd.module   LEFT JOIN trial dl ON df.logic=dl.logic WHERE df.columnA=&#39;&quot;+((String)globalMap.get(&quot;row2.columnA&quot;))+&quot;&#39; and df.columnB=&#39;&quot;+((String)globalMap.get(&quot;row2.columnB&quot;))+&quot;&#39; and  file_date between  to_date(&#39;&quot;+context.startDate+&quot;&#39; ,&#39;dd-mon-yyyy hh24:mi:ss&#39;)  and to_date(&#39;&quot;+context.endDate+&quot;&#39; ,&#39;dd-mon-yyyy hh24:mi:ss&#39;)  order  by df.file_date desc&quot;"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1666969030,"post_id":74233722,"comment_id":131066932,"body_markdown":"try this to debug , tfileinputdelimited -&gt;tJavaRow-main1-&gt;tFlowtoIterate-&gt;tJava (here print  ((String)globalMap.get(&quot;row2.columnA&quot;)) )","body":"try this to debug , tfileinputdelimited -&gt;tJavaRow-main1-&gt;tFlowtoIterate-&gt;tJava (here print  ((String)globalMap.get(&quot;row2.columnA&quot;)) )"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1666969048,"post_id":74233722,"comment_id":131066935,"body_markdown":"desactivate tdbInput -&gt; tLogRow and please verify your output schema in tJavaRow","body":"desactivate tdbInput -&gt; tLogRow and please verify your output schema in tJavaRow"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1666969148,"post_id":74233722,"comment_id":131066967,"body_markdown":"Yes i tried that exactly just now to see the values are getting carried over but it seems like they are showing up as NULL\n\nSystem.out.println(&quot;columnA: &quot;+((String)globalMap.get(&quot;row2.columnA&quot;)));\n\n\n\nSystem.out.println(&quot;columnB: &quot;+((String)globalMap.get(&quot;row2.columnB&quot;)));","body":"Yes i tried that exactly just now to see the values are getting carried over but it seems like they are showing up as NULL  System.out.println(&quot;columnA: &quot;+((String)globalMap.get(&quot;row2.columnA&quot;)));    System.out.println(&quot;columnB: &quot;+((String)globalMap.get(&quot;row2.columnB&quot;)));"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1666969255,"post_id":74233722,"comment_id":131067022,"body_markdown":"Try the button  generate code  in tJavaRow and synchronise also","body":"Try the button  generate code  in tJavaRow and synchronise also"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1666969549,"post_id":74233722,"comment_id":131067135,"body_markdown":"Still null:\nTjavarow:\noutput_row.columnA= input_row.columnA;\noutput_row.columnB= input_row.columnB;\n\ntflowiterate:\ndefault key value\n\ntjava:\nSystem.out.println(&quot;columnA: &quot;+((String)globalMap.get(&quot;row2.columnA&quot;))); System.out.println(&quot;columnB: &quot;+((String)globalMap.get(&quot;row2.columnB&quot;)))\n\ntfileinputdelim--row1(main)--&gt;tjavarow--row2(main--&gt;tflowtoiterate--iterate--&gt;tjava","body":"Still null: Tjavarow: output_row.columnA= input_row.columnA; output_row.columnB= input_row.columnB;  tflowiterate: default key value  tjava: System.out.println(&quot;columnA: &quot;+((String)globalMap.get(&quot;row2.columnA&quot;))); System.out.println(&quot;columnB: &quot;+((String)globalMap.get(&quot;row2.columnB&quot;)))  tfileinputdelim--row1(main)--&gt;tjavarow--row2(main--&gt;tflowtoi&zwnj;&#8203;terate--iterate--&gt;tj&zwnj;&#8203;ava"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1666970162,"post_id":74233722,"comment_id":131067366,"body_markdown":"Okey try this tfileinput -&gt; thashoutput","body":"Okey try this tfileinput -&gt; thashoutput"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1666970233,"post_id":74233722,"comment_id":131067384,"body_markdown":"On subjobok thashinput (same schema thashoutput) tflowtoiterate -&gt; tjava","body":"On subjobok thashinput (same schema thashoutput) tflowtoiterate -&gt; tjava"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1666974490,"post_id":74233722,"comment_id":131068941,"body_markdown":"Thank you so much,you&#39;re simple awesome ,it worked with thashoutput and i was able to iterate for every record combination of column A &amp;  column B from the file and query the db to retrieve the results sequentially in an iterated way.Appreciate the support &amp; assistance","body":"Thank you so much,you&#39;re simple awesome ,it worked with thashoutput and i was able to iterate for every record combination of column A &amp;  column B from the file and query the db to retrieve the results sequentially in an iterated way.Appreciate the support &amp; assistance"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1666975900,"post_id":74233722,"comment_id":131069408,"body_markdown":"Appreciate it , good luck","body":"Appreciate it , good luck"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1667286503,"post_id":74233722,"comment_id":131127123,"body_markdown":"Hi @Amine Ben Khelifa ,if you can take a look at my below post and provide some suggestions to implement this feature,it would be really helpful and appreciate your inputs whenever you can.Thanks","body":"Hi @Amine Ben Khelifa ,if you can take a look at my below post and provide some suggestions to implement this feature,it would be really helpful and appreciate your inputs whenever you can.Thanks"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1667286507,"post_id":74233722,"comment_id":131127125,"body_markdown":"https://stackoverflow.com/questions/74272029/using-tftpput-to-fetch-a-single-file-amongst-50000-files-from-the-source-local-d","body":"<a href=\"https://stackoverflow.com/questions/74272029/using-tftpput-to-fetch-a-single-file-amongst-50000-files-from-the-source-local-d\" title=\"using tftpput to fetch a single file amongst 50000 files from the source local d\">stackoverflow.com/questions/74272029/&hellip;</a>"}],"tags":[],"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"comment_count":14,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666951301,"creation_date":1666951301,"answer_id":74233722,"question_id":74231945,"body_markdown":"try using your second approch : \r\n\r\n`tfileinputdelimited -&gt;tJavaRow-main1-&gt;tFlowtoIterate-&gt;tdbInput` \r\n\r\nYou can use the global Variable in tdbInput as below `((String)globalMap.get(&quot;main1.lot&quot;))`","title":"using tfilelist or tfiledelimited how can i iterate through a list of columnA, column B combination and store in tjava to use for tdbinput","body":"<p>try using your second approch :</p>\n<p><code>tfileinputdelimited -&gt;tJavaRow-main1-&gt;tFlowtoIterate-&gt;tdbInput</code></p>\n<p>You can use the global Variable in tdbInput as below <code>((String)globalMap.get(&quot;main1.lot&quot;))</code></p>\n"}],"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74233722,"answer_count":1,"score":0,"last_activity_date":1666968589,"creation_date":1666942160,"question_id":74231945,"body_markdown":"I have a talend job that i am trying to read the columns from the csv file sequentially row by row for each combination (if possible trying to collect unique combination) of COLUMN A &amp; COLUMN B to get the values and store in tjava (context variables to reuse and query the tdbinput)\r\n\r\nCSV in the below format:\r\n[![enter image description here](https://i.stack.imgur.com/zrKtm.png)](https://i.stack.imgur.com/zrKtm.png)\r\n\r\nOPTION 1:\r\nMy job design looks like this:\r\ntfilelist-Iterate--\\&gt;tjava --\\&gt;tdbinput\r\n\r\nTjava:\r\n\r\n    ```\r\n     `int n = 600; // The line number\r\n          int i=0;\r\n          String line=&quot;&quot;;\r\n          int linenumber=0;\r\n    ```\r\n    \r\n    `try(BufferedReader br = new BufferedReader(new FileReader((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEPATH&quot;))))`\r\n    `{`\r\n    \r\n    `while ((line = br.readLine()) != null &amp;&amp; linenumber&lt; n )`  \r\n    `{`\r\n    `if(iteration == 0)`\r\n    `{`\r\n    `iteration++;`  \r\n    `continue;`\r\n    `}`\r\n    `String[] tokens = line.split(&quot;,&quot;);`\r\n    \r\n    ```\r\n       for(String token : tokens)\r\n                    {\r\n                        //Print all tokens\r\n                        System.out.println(token);\r\n                    }\r\n    ```\r\n    \r\n    `context.columnA=tokens[0];`\r\n    `context.columnB=tokens[1];`\r\n    \r\n    ```\r\n         linenumber++; \r\n     }\r\n    ```\r\n    \r\n    ```\r\n    ```\r\n\r\nWhen i try to use the context.columnA in the other component tdbinput it will has the last overwritten value and not the iterated value for each row sequence\r\n\r\ntdinput:\r\nselect \\* from test where testcol=&#39;&quot;+context.columnA+&quot;&#39;;\r\nRESULT IS NULL because context.columnA value is empty from tjava\r\n\r\nOPTION 2:I tried using :\r\ntfileinputdelimited--main--\\&gt;tjavarow\r\n\r\ntjavarow:\r\n\r\n    context.columnA = input_row.columnA ;\r\n    context.columnB= input_row.columnB;\r\n\r\nbut this approach doesnt help me to directly pass the inputs into tdbinput(to query the database using select)\r\n\r\nSo i would like to know if there is a way to iterate from tfileinputdelimited---iterate--\\&gt;tjava??? but unable to store the schema results between the component.\r\n\r\nUpdated job design for approach2:\r\n[enter image description here][1]\r\n\r\nAnyone please advise a way to perform either using java code to handle it or adjust the talend components to achieve the desired result\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/krHXJ.png","title":"using tfilelist or tfiledelimited how can i iterate through a list of columnA, column B combination and store in tjava to use for tdbinput","body":"<p>I have a talend job that i am trying to read the columns from the csv file sequentially row by row for each combination (if possible trying to collect unique combination) of COLUMN A &amp; COLUMN B to get the values and store in tjava (context variables to reuse and query the tdbinput)</p>\n<p>CSV in the below format:\n<a href=\"https://i.stack.imgur.com/zrKtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrKtm.png\" alt=\"enter image description here\" /></a></p>\n<p>OPTION 1:\nMy job design looks like this:\ntfilelist-Iterate--&gt;tjava --&gt;tdbinput</p>\n<p>Tjava:</p>\n<pre><code>```\n `int n = 600; // The line number\n      int i=0;\n      String line=&quot;&quot;;\n      int linenumber=0;\n```\n\n`try(BufferedReader br = new BufferedReader(new FileReader((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEPATH&quot;))))`\n`{`\n\n`while ((line = br.readLine()) != null &amp;&amp; linenumber&lt; n )`  \n`{`\n`if(iteration == 0)`\n`{`\n`iteration++;`  \n`continue;`\n`}`\n`String[] tokens = line.split(&quot;,&quot;);`\n\n```\n   for(String token : tokens)\n                {\n                    //Print all tokens\n                    System.out.println(token);\n                }\n```\n\n`context.columnA=tokens[0];`\n`context.columnB=tokens[1];`\n\n```\n     linenumber++; \n }\n```\n\n```\n```\n</code></pre>\n<p>When i try to use the context.columnA in the other component tdbinput it will has the last overwritten value and not the iterated value for each row sequence</p>\n<p>tdinput:\nselect * from test where testcol='&quot;+context.columnA+&quot;';\nRESULT IS NULL because context.columnA value is empty from tjava</p>\n<p>OPTION 2:I tried using :\ntfileinputdelimited--main--&gt;tjavarow</p>\n<p>tjavarow:</p>\n<pre><code>context.columnA = input_row.columnA ;\ncontext.columnB= input_row.columnB;\n</code></pre>\n<p>but this approach doesnt help me to directly pass the inputs into tdbinput(to query the database using select)</p>\n<p>So i would like to know if there is a way to iterate from tfileinputdelimited---iterate--&gt;tjava??? but unable to store the schema results between the component.</p>\n<p>Updated job design for approach2:\n<a href=\"https://i.stack.imgur.com/krHXJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Anyone please advise a way to perform either using java code to handle it or adjust the talend components to achieve the desired result</p>\n"},{"tags":["java","linked-list","iterator","inner-classes","remove-method"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1666969246,"post_id":74237116,"comment_id":131067012,"body_markdown":"&quot;_I just want to make sure I did what the assignment was done correclty_&quot; - Does it work? What is your specific question?","body":"&quot;<i>I just want to make sure I did what the assignment was done correclty</i>&quot; - Does it work? What is your specific question?"},{"owner":{"account_id":23132635,"reputation":1,"user_id":17237327,"display_name":"Brandon Eisgruber"},"score":0,"creation_date":1666969808,"post_id":74237116,"comment_id":131067235,"body_markdown":"Well the textbook says that there isnt a provided remove method for the inner class iterator. So is this how I would remove a entry that the iterator has just passed over? Sorry Im just not clear on what I should be doing.","body":"Well the textbook says that there isnt a provided remove method for the inner class iterator. So is this how I would remove a entry that the iterator has just passed over? Sorry Im just not clear on what I should be doing."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666970002,"post_id":74237116,"comment_id":131067306,"body_markdown":"I think you need clarification from your teacher. I don&#39;t think we can answer that.","body":"I think you need clarification from your teacher. I don&#39;t think we can answer that."}],"owner":{"account_id":23132635,"reputation":1,"user_id":17237327,"display_name":"Brandon Eisgruber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666968584,"creation_date":1666968584,"question_id":74237116,"body_markdown":"For my project in my class I have to provide a remove method for  the inner class IteratorForLinkedList. Note you will needanother data field. Include interface definition, class implementing the interface, and the test program. I have tried my best I just want to make sure I did what the assignment was done correclty. Here is what I have done already.\r\n\r\n```\r\nimport java.util.Iterator;\r\nimport java.util.NoSuchElementException;\r\npublic class LinkedListWithIterator&lt;T&gt; implements ListWithIteratorInterface&lt;T&gt; {\r\n\t\r\n\tprivate Node firstNode;\r\n\tprivate int numberOfEntries;\r\n\t\r\n\tpublic LinkedListWithIterator() {\r\n\t\tinitaliazeDataFields();\r\n\t}\r\n\t/**\r\n\t * Implementation for the ft list go here chapter 12, starting at \r\n\t * segment 12.7\r\n\t * @return\r\n\t */\r\n\tpublic void clear() {\r\n\t\tinitaliazeDataFields();\r\n\t}\r\n\t\r\n\tprivate void initaliazeDataFields() {\r\n\t\tfirstNode = null;\r\n\t\tnumberOfEntries = 0;\r\n\t}\r\n\t\r\n\tprivate Node getNodeAt(int givenPosition) {\r\n\t\tNode currentNode = firstNode;\r\n\t\tfor (int counter = 1; counter &lt; givenPosition; counter++)\r\n\t\t\tcurrentNode = currentNode.getNextNode;\r\n\t\t\r\n\t\treturn currentNode;\r\n\t}\r\n\t\r\n\tpublic void add(T newEntry) {\r\n\t\tNode newNode = new Node(newEntry);\r\n\t\t\r\n\t\tif (isEmpty())\r\n\t\t\tfirstNode = newNode;\r\n\t\telse {\r\n\t\t\tNode lastNode = getNodeAt(numberOfEntries);\r\n\t\t\tlastNode.setNextNode(newNode);\r\n\t\t}\r\n\t\tnumberOfEntries++;\r\n\t}\r\n\t\r\n\tpublic void add(int givenPosition, T newEntry) {\r\n\t\tif ((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries + 1)) {\r\n\t\t\tNode newNode = new Node(newEntry);\r\n\t\t\t\r\n\t\t\tif(givenPosition == 1) {\r\n\t\t\t\tnewNode.setNextNode(firstNode);\r\n\t\t\t\tfirstNode = newNode;\r\n\t\t\t} else {\r\n\t\t\t\tNode nodeBefore = getNodeAt(givenPosition - 1);\r\n\t\t\t\tNode nodeAfter = nodeBefore.getNextNode();\r\n\t\t\t\tnewNode.setNextNode(nodeAfter);\r\n\t\t\t\tnodeBefore.setNextNode(newNode);\r\n\t\t\t}\r\n\t\t\tnumberOfEntries++;\r\n\t\t} else\r\n\t\t\tthrow new IndexOutOfBoundsException(&quot;illegal position given to add operation&quot;);\r\n\t} // end add\r\n\t\r\n\tpublic boolean isEmpty() {\r\n\t\tboolean result;\r\n\t\tif (numberOfEntries == 0) {\r\n\t\t\tresult = true;\r\n\t\t} else {\r\n\t\t\tresult = false;\r\n\t\t} \r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic T[] toArray() {\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tT[] result = (T[])new Object[numberOfEntries];\r\n\t\t\r\n\t\tint index = 0;\r\n\t\tNode currentNode = firstNode;\r\n\t\twhile ((index &lt; numberOfEntries) &amp;&amp; (currentNode != null)) {\r\n\t\t\tresult[index] = currentNode.getData();\r\n\t\t\tcurrentNode = currentNode.getNextNode();\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\treturn result;\r\n\t} // end to array\r\n\t\r\n\t\r\n\t\r\n\tpublic T remove(int givenPosition) {\r\n\t\tT result = null;\r\n\t\tif((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\r\n\t\t\tif (givenPosition == 1) {\r\n\t\t\t\tresult = firstNode.getData();\r\n\t\t\t\tfirstNode = firstNode.getNextNode();\r\n\t\t\t} else {\r\n\t\t\t\tNode nodeBefore = getNodeAt(givenPosition - 1);\r\n\t\t\t\tNode nodeToRemove = nodeBefore.getNextNode();\r\n\t\t\t\tresult = nodeToRemove.getData();\r\n\t\t\t\tNode nodeAfter = nodeToRemove.getNextNode();\r\n\t\t\t\tnodeBefore.setNextNode(nodeAfter);\r\n\t\t\t}\r\n\t\t\tnumberOfEntries--;\r\n\t\t\treturn result;\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tthrow new IndexOutOfBoundsException(&quot;illegal position given to remove &quot;);\r\n\t\t}\r\n\t} // end remove\r\n\t\r\n\tpublic T replace(int givenPosition, T newEntry) {\r\n\t\tif((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\r\n\t\t\tNode desiredNode = getNodeAt(givenPosition);\r\n\t\t\tT originalEntry = desiredNode.getData();\r\n\t\t\treturn originalEntry;\r\n\t\t}\r\n\t\telse\r\n\t\t\tthrow new IndexOutOfBoundsException(&quot;Illegal Position given for replace method &quot;);\r\n\t} // end replace\r\n\t\r\n\tpublic T getEntry(int givenPosition) {\r\n\t\tif ((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\r\n\t\t\treturn getNodeAt(givenPosition).getData;\r\n\t\t} \r\n\t\telse \r\n\t\t\tthrow new IndexOutOfBoundsException(&quot;Illegal Position given for getentry method &quot;);\r\n\t} // end get entry\r\n\t\r\n\tpublic boolean contains(T anEntry) {\r\n\t\tboolean found = false;\r\n\t\tNode currentNode = firstNode;\r\n\t\t\r\n\t\twhile(!found &amp;&amp; (currentNode != null)) {\r\n\t\t\tif(anEntry.equals(currentNode.getData())) {\r\n\t\t\t\tfound = true;\r\n\t\t\t} else {\r\n\t\t\t\tcurrentNode = currentNode.getNextNode;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn found;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic Iterator&lt;T&gt; iterator() {\r\n\t\treturn new IteratorForLinkedList();\r\n\t}\r\n\t\r\n\tpublic Iterator getIterator() {\r\n\t\treturn iterator();\r\n\t}\r\n\t\r\n\tprivate class IteratorForLinkedList implements Iterator&lt;T&gt; {\r\n\t\tprivate Node nextNode;\r\n\t\t\r\n\t\tprivate IteratorForLinkedList() {\r\n\t\t\tnextNode = firstNode;\r\n\t\t}\r\n\t\t\r\n\t\tpublic T next() {\r\n\t\t\tT result;\r\n\t\t\tif (hasNext()) {\r\n\t\t\t\tresult = nextNode.getData;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new NoSuchElementException(&quot;Illegal call to next(); iterator is after end of list&quot;);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t\r\n\t\tpublic boolean hasNext() {\r\n\t\t\treturn nextNode != null;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void remove() {\r\n\t\t\tthrow new UnsupportedOperationException(&quot;Remove() is not supported by this operator&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Implementation for private class node\r\n\t\r\n\tprivate class Node \r\n\t{\r\n\t\tpublic T getData;\r\n\t\tpublic LinkedListWithIterator&lt;T&gt;.Node getNextNode;\r\n\t\tprivate T data;\r\n\t\tprivate Node next;\r\n\t\t\r\n\t\tprivate Node(T dataPortion) {\r\n\t\t\tthis(dataPortion, null);\r\n\t\t}\r\n\t\t\r\n\t\tprivate Node(T dataPortion, Node nextNode) {\r\n\t\t\tdata = dataPortion;\r\n\t\t\tnext = nextNode;\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate T getData() {\r\n\t\t\treturn data;\r\n\t\t}\r\n\t\t\r\n\t\tprivate void setData(T newEntry) {\r\n\t\t\tdata = newEntry;\r\n\t\t}\r\n\t\t\r\n\t\tprivate Node getNextNode() {\r\n\t\t\treturn next;\r\n\t\t}\r\n\t\t\r\n\t\tprivate void setNextNode(Node nextNode) {\r\n\t\t\tnext = nextNode;\r\n\t\t}\r\n\t} // end node class\r\n\t\r\n}\r\n```\r\n","title":"Consider the class LinkedListWithIterator, Provide a remove operation for the inner class IteratorForLinkedList","body":"<p>For my project in my class I have to provide a remove method for  the inner class IteratorForLinkedList. Note you will needanother data field. Include interface definition, class implementing the interface, and the test program. I have tried my best I just want to make sure I did what the assignment was done correclty. Here is what I have done already.</p>\n<pre><code>import java.util.Iterator;\nimport java.util.NoSuchElementException;\npublic class LinkedListWithIterator&lt;T&gt; implements ListWithIteratorInterface&lt;T&gt; {\n    \n    private Node firstNode;\n    private int numberOfEntries;\n    \n    public LinkedListWithIterator() {\n        initaliazeDataFields();\n    }\n    /**\n     * Implementation for the ft list go here chapter 12, starting at \n     * segment 12.7\n     * @return\n     */\n    public void clear() {\n        initaliazeDataFields();\n    }\n    \n    private void initaliazeDataFields() {\n        firstNode = null;\n        numberOfEntries = 0;\n    }\n    \n    private Node getNodeAt(int givenPosition) {\n        Node currentNode = firstNode;\n        for (int counter = 1; counter &lt; givenPosition; counter++)\n            currentNode = currentNode.getNextNode;\n        \n        return currentNode;\n    }\n    \n    public void add(T newEntry) {\n        Node newNode = new Node(newEntry);\n        \n        if (isEmpty())\n            firstNode = newNode;\n        else {\n            Node lastNode = getNodeAt(numberOfEntries);\n            lastNode.setNextNode(newNode);\n        }\n        numberOfEntries++;\n    }\n    \n    public void add(int givenPosition, T newEntry) {\n        if ((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries + 1)) {\n            Node newNode = new Node(newEntry);\n            \n            if(givenPosition == 1) {\n                newNode.setNextNode(firstNode);\n                firstNode = newNode;\n            } else {\n                Node nodeBefore = getNodeAt(givenPosition - 1);\n                Node nodeAfter = nodeBefore.getNextNode();\n                newNode.setNextNode(nodeAfter);\n                nodeBefore.setNextNode(newNode);\n            }\n            numberOfEntries++;\n        } else\n            throw new IndexOutOfBoundsException(&quot;illegal position given to add operation&quot;);\n    } // end add\n    \n    public boolean isEmpty() {\n        boolean result;\n        if (numberOfEntries == 0) {\n            result = true;\n        } else {\n            result = false;\n        } \n        return result;\n    }\n    \n    public T[] toArray() {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        T[] result = (T[])new Object[numberOfEntries];\n        \n        int index = 0;\n        Node currentNode = firstNode;\n        while ((index &lt; numberOfEntries) &amp;&amp; (currentNode != null)) {\n            result[index] = currentNode.getData();\n            currentNode = currentNode.getNextNode();\n            index++;\n        }\n        return result;\n    } // end to array\n    \n    \n    \n    public T remove(int givenPosition) {\n        T result = null;\n        if((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\n            if (givenPosition == 1) {\n                result = firstNode.getData();\n                firstNode = firstNode.getNextNode();\n            } else {\n                Node nodeBefore = getNodeAt(givenPosition - 1);\n                Node nodeToRemove = nodeBefore.getNextNode();\n                result = nodeToRemove.getData();\n                Node nodeAfter = nodeToRemove.getNextNode();\n                nodeBefore.setNextNode(nodeAfter);\n            }\n            numberOfEntries--;\n            return result;\n            \n        } else {\n            throw new IndexOutOfBoundsException(&quot;illegal position given to remove &quot;);\n        }\n    } // end remove\n    \n    public T replace(int givenPosition, T newEntry) {\n        if((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\n            Node desiredNode = getNodeAt(givenPosition);\n            T originalEntry = desiredNode.getData();\n            return originalEntry;\n        }\n        else\n            throw new IndexOutOfBoundsException(&quot;Illegal Position given for replace method &quot;);\n    } // end replace\n    \n    public T getEntry(int givenPosition) {\n        if ((givenPosition &gt;= 1) &amp;&amp; (givenPosition &lt;= numberOfEntries)) {\n            return getNodeAt(givenPosition).getData;\n        } \n        else \n            throw new IndexOutOfBoundsException(&quot;Illegal Position given for getentry method &quot;);\n    } // end get entry\n    \n    public boolean contains(T anEntry) {\n        boolean found = false;\n        Node currentNode = firstNode;\n        \n        while(!found &amp;&amp; (currentNode != null)) {\n            if(anEntry.equals(currentNode.getData())) {\n                found = true;\n            } else {\n                currentNode = currentNode.getNextNode;\n            }\n            \n        }\n        return found;\n    }\n    \n    \n    \n    public Iterator&lt;T&gt; iterator() {\n        return new IteratorForLinkedList();\n    }\n    \n    public Iterator getIterator() {\n        return iterator();\n    }\n    \n    private class IteratorForLinkedList implements Iterator&lt;T&gt; {\n        private Node nextNode;\n        \n        private IteratorForLinkedList() {\n            nextNode = firstNode;\n        }\n        \n        public T next() {\n            T result;\n            if (hasNext()) {\n                result = nextNode.getData;\n            } else {\n                throw new NoSuchElementException(&quot;Illegal call to next(); iterator is after end of list&quot;);\n            }\n            return result;\n        }\n        \n        public boolean hasNext() {\n            return nextNode != null;\n        }\n        \n        public void remove() {\n            throw new UnsupportedOperationException(&quot;Remove() is not supported by this operator&quot;);\n        }\n    }\n    \n    // Implementation for private class node\n    \n    private class Node \n    {\n        public T getData;\n        public LinkedListWithIterator&lt;T&gt;.Node getNextNode;\n        private T data;\n        private Node next;\n        \n        private Node(T dataPortion) {\n            this(dataPortion, null);\n        }\n        \n        private Node(T dataPortion, Node nextNode) {\n            data = dataPortion;\n            next = nextNode;    \n        }\n        \n        private T getData() {\n            return data;\n        }\n        \n        private void setData(T newEntry) {\n            data = newEntry;\n        }\n        \n        private Node getNextNode() {\n            return next;\n        }\n        \n        private void setNextNode(Node nextNode) {\n            next = nextNode;\n        }\n    } // end node class\n    \n}\n</code></pre>\n"},{"tags":["java","mysql","xml","hibernate","one-to-one"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666971733,"post_id":74237097,"comment_id":131067965,"body_markdown":"What does the error say? Unknown column, it means the column you have in the code is not in the table. Student model doesn&#39;t have `laptop_lid` attribute nor column","body":"What does the error say? Unknown column, it means the column you have in the code is not in the table. Student model doesn&#39;t have <code>laptop_lid</code> attribute nor column"},{"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"score":0,"creation_date":1666972638,"post_id":74237097,"comment_id":131068303,"body_markdown":"yeah ,but it has to be created as a foreign key ,because i used one To One mapping","body":"yeah ,but it has to be created as a foreign key ,because i used one To One mapping"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666972954,"post_id":74237097,"comment_id":131068413,"body_markdown":"I understand. But it&#39;s not defined in your model, therefore, it&#39;s not being created","body":"I understand. But it&#39;s not defined in your model, therefore, it&#39;s not being created"},{"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"score":0,"creation_date":1666974201,"post_id":74237097,"comment_id":131068838,"body_markdown":"i don&#39;t know why hibernate fails to create my tables , i think that&#39;s the problem i&#39;ll try to put the error i get","body":"i don&#39;t know why hibernate fails to create my tables , i think that&#39;s the problem i&#39;ll try to put the error i get"},{"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"score":0,"creation_date":1666974401,"post_id":74237097,"comment_id":131068905,"body_markdown":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table answer (answer_id integer not null, answer varchar(255), primary key (answer_id)) type=MyISAM&quot; via JDBC Statement","body":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table answer (answer_id integer not null, answer varchar(255), primary key (answer_id)) type=MyISAM&quot; via JDBC Statement"},{"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"score":0,"creation_date":1666974422,"post_id":74237097,"comment_id":131068914,"body_markdown":"Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;type=MyISAM&#39; at line 1","body":"Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;type=MyISAM&#39; at line 1"}],"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666968496,"creation_date":1666968496,"question_id":74237097,"body_markdown":"i started learning hibernate framework,but i had some problems when i started learning relational mapping : One To One \r\n\r\nthat&#39;s my **Hibernate.cfg.xml\r\n**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration SYSTEM \r\n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n   &lt;session-factory&gt;\r\n   \r\n      &lt;property name = &quot;hibernate.dialect&quot;&gt; org.hibernate.dialect.MySQLDialect &lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver &lt;/property&gt;\r\n      \r\n      &lt;!-- Assume test is the database name --&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/aliens &lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n      \r\n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name = &quot;hbm2ddl&quot;&gt;update&lt;/property&gt;\r\n        &lt;property name = &quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n      &lt;!-- List of XML mapping files --&gt;\r\n      \r\n      &lt;mapping  class= &quot;com.jee.projetHibernate.Student&quot;/&gt;\r\n             &lt;mapping  class= &quot;com.jee.projetHibernate.Laptop&quot;/&gt;\r\n      \r\n   &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\n\r\n\r\nthat&#39;s my Student class\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.jee.projetHibernate;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name=&quot;userid&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;username&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@OneToOne\r\nprivate Laptop laptop;\r\n\t\r\n\tpublic Laptop getLaptop() {\r\n\t\treturn laptop;\r\n\t}\r\n\tpublic void setLaptop(Laptop laptop) {\r\n\t\tthis.laptop = laptop;\r\n\t}\r\n\tpublic Student() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic Student(int id, String name) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Student [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n\t}\r\n\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\nthat&#39;s my Laptop class\r\n\r\n\r\n\r\n\r\n```\r\npackage com.jee.projetHibernate;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;laptop&quot;)\r\npublic class Laptop {\r\n\t\r\n\t\r\n\t@Id\r\n\tprivate int lid;\r\n\tprivate String lname;\r\n\tpublic int getLid() {\r\n\t\treturn lid;\r\n\t}\r\n\tpublic void setLid(int lid) {\r\n\t\tthis.lid = lid;\r\n\t}\r\n\tpublic String getLname() {\r\n\t\treturn lname;\r\n\t}\r\n\tpublic void setLname(String lname) {\r\n\t\tthis.lname = lname;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nand taht&#39;s my app.java \r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.jee.projetHibernate;\r\n \r\nimport javax.imageio.spi.ServiceRegistry;\r\n\r\nimport org.hibernate.*;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.*;\r\nimport com.mysql.cj.Session;\r\nimport com.mysql.cj.xdevapi.SessionFactory;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n    \r\n    \t\r\n    \tLaptop lap2=new Laptop();\r\n    \tlap2.setLid(3);\r\n    \tlap2.setLname(&quot;macbook&quot;);\r\n    \t\r\n    \t\r\n\t\t Student alien=new Student(); \r\n\t\t alien.setName(&quot;marah&quot;); \r\n\t\t alien.setLaptop(lap2);\r\n\t\t\r\n\t\t \r\n    \t\r\n    \t\r\nConfiguration conf =new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(Student.class).addAnnotatedClass(Laptop.class);\r\nStandardServiceRegistry serviceRegistry= new StandardServiceRegistryBuilder().applySettings(conf.getProperties()).build();\r\norg.hibernate.SessionFactory sf=conf.buildSessionFactory();\r\norg.hibernate.Session session=sf.openSession();\r\n\r\nTransaction tx=session.beginTransaction();\r\n//to save data in database\r\n\r\nsession.save(lap2);\r\nsession.save(alien);\r\n\r\ntx.commit();\r\n    \t\r\n//to fetch or get data from database\r\n/*\r\n * alien2=(Student)session.get(Student.class, 17); System.out.println(alien2);\r\n */\r\n      \r\n    \t\r\n\t\r\n    \t\r\n  \r\n    \t\r\n    \t//save method belongs to session interface that belongs to hibernate\r\n\t\t/*\r\n\t\t * Configuration conf=new\r\n\t\t * Configuration().configure().addAnnotatedClass(Aliens.class);\r\n\t\t * org.hibernate.SessionFactory sf=conf.buildSessionFactory();\r\n\t\t * org.hibernate.Session session= sf.openSession(); Transaction\r\n\t\t * tx=session.beginTransaction(); session.save(alien); tx.commit();\r\n\t\t */\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni expected that 2 tables are going to get values that i inserted in my java code , but  all i&#39;m getting is an error \r\n\r\n\r\n\r\n\r\n```\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nHibernate: insert into laptop (lname, lid) values (?, ?)\r\nHibernate: insert into student (laptop_lid, username) values (?, ?)\r\noct. 28, 2022 3:30:57 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nWARN: SQL Error: 1054, SQLState: 42S22\r\noct. 28, 2022 3:30:57 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nERROR: Unknown column &#39;laptop_lid&#39; in &#39;field list&#39;\r\nException in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)\r\n\tat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)\r\n\tat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:672)\r\n\tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:665)\r\n\tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:660)\r\n\tat com.jee.projetHibernate.App.main(App.java:44)\r\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;laptop_lid&#39; in &#39;field list&#39;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 23 more\r\n\r\n```\r\n","title":"Caused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;laptop_lid&#39; in &#39;field list&#39;","body":"<p>i started learning hibernate framework,but i had some problems when i started learning relational mapping : One To One</p>\n<p>that's my **Hibernate.cfg.xml\n**</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM \n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n   &lt;session-factory&gt;\n   \n      &lt;property name = &quot;hibernate.dialect&quot;&gt; org.hibernate.dialect.MySQLDialect &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver &lt;/property&gt;\n      \n      &lt;!-- Assume test is the database name --&gt;\n      \n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/aliens &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\n            &lt;property name = &quot;hbm2ddl&quot;&gt;update&lt;/property&gt;\n        &lt;property name = &quot;show_sql&quot;&gt;true&lt;/property&gt;\n      &lt;!-- List of XML mapping files --&gt;\n      \n      &lt;mapping  class= &quot;com.jee.projetHibernate.Student&quot;/&gt;\n             &lt;mapping  class= &quot;com.jee.projetHibernate.Laptop&quot;/&gt;\n      \n   &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>that's my Student class</p>\n<pre><code>package com.jee.projetHibernate;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;userid&quot;)\n    private int id;\n    \n    @Column(name=&quot;username&quot;)\n    private String name;\n    \n    @OneToOne\nprivate Laptop laptop;\n    \n    public Laptop getLaptop() {\n        return laptop;\n    }\n    public void setLaptop(Laptop laptop) {\n        this.laptop = laptop;\n    }\n    public Student() {\n        super();\n    }\n    public Student(int id, String name) {\n        super();\n        this.id = id;\n        this.name = name;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Student [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\n    }\n\n    \n    \n    \n}\n\n</code></pre>\n<p>that's my Laptop class</p>\n<pre><code>package com.jee.projetHibernate;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;laptop&quot;)\npublic class Laptop {\n    \n    \n    @Id\n    private int lid;\n    private String lname;\n    public int getLid() {\n        return lid;\n    }\n    public void setLid(int lid) {\n        this.lid = lid;\n    }\n    public String getLname() {\n        return lname;\n    }\n    public void setLname(String lname) {\n        this.lname = lname;\n    }\n    \n    \n    \n    \n\n}\n\n</code></pre>\n<p>and taht's my app.java</p>\n<pre><code>package com.jee.projetHibernate;\n \nimport javax.imageio.spi.ServiceRegistry;\n\nimport org.hibernate.*;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.*;\nimport com.mysql.cj.Session;\nimport com.mysql.cj.xdevapi.SessionFactory;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n    \n        \n        Laptop lap2=new Laptop();\n        lap2.setLid(3);\n        lap2.setLname(&quot;macbook&quot;);\n        \n        \n         Student alien=new Student(); \n         alien.setName(&quot;marah&quot;); \n         alien.setLaptop(lap2);\n        \n         \n        \n        \nConfiguration conf =new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(Student.class).addAnnotatedClass(Laptop.class);\nStandardServiceRegistry serviceRegistry= new StandardServiceRegistryBuilder().applySettings(conf.getProperties()).build();\norg.hibernate.SessionFactory sf=conf.buildSessionFactory();\norg.hibernate.Session session=sf.openSession();\n\nTransaction tx=session.beginTransaction();\n//to save data in database\n\nsession.save(lap2);\nsession.save(alien);\n\ntx.commit();\n        \n//to fetch or get data from database\n/*\n * alien2=(Student)session.get(Student.class, 17); System.out.println(alien2);\n */\n      \n        \n    \n        \n  \n        \n        //save method belongs to session interface that belongs to hibernate\n        /*\n         * Configuration conf=new\n         * Configuration().configure().addAnnotatedClass(Aliens.class);\n         * org.hibernate.SessionFactory sf=conf.buildSessionFactory();\n         * org.hibernate.Session session= sf.openSession(); Transaction\n         * tx=session.beginTransaction(); session.save(alien); tx.commit();\n         */\n        \n        \n        \n        \n        \n    }\n}\n\n</code></pre>\n<p>i expected that 2 tables are going to get values that i inserted in my java code , but  all i'm getting is an error</p>\n<pre><code>INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nHibernate: insert into laptop (lname, lid) values (?, ?)\nHibernate: insert into student (laptop_lid, username) values (?, ?)\noct. 28, 2022 3:30:57 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 1054, SQLState: 42S22\noct. 28, 2022 3:30:57 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: Unknown column 'laptop_lid' in 'field list'\nException in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)\n    at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)\n    at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:672)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:665)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:660)\n    at com.jee.projetHibernate.App.main(App.java:44)\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column 'laptop_lid' in 'field list'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 23 more\n\n</code></pre>\n"},{"tags":["java","android","firebase","callback"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667034170,"post_id":74237077,"comment_id":131078633,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?","body":"What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"score":0,"creation_date":1667166224,"post_id":74237077,"comment_id":131100923,"body_markdown":"@AlexMamo it fails at the class instantiation &#180;&#180;&#180;readingSubclass r = ds.getValue...&#180;&#180;&#180;. If i change the type to &quot;var&quot;, it complains on the line below saying the setId method does not exists.","body":"@AlexMamo it fails at the class instantiation &#180;&#180;&#180;readingSubclass r = ds.getValue...&#180;&#180;&#180;. If i change the type to &quot;var&quot;, it complains on the line below saying the setId method does not exists."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667202606,"post_id":74237077,"comment_id":131106187,"body_markdown":"Have you tried using `ReadingSubClass readingSubClass = ds.getValue(ReadingSubClass.class);`? Does it work this way?","body":"Have you tried using <code>ReadingSubClass readingSubClass = ds.getValue(ReadingSubClass.class);</code>? Does it work this way?"},{"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"score":0,"creation_date":1667320569,"post_id":74237077,"comment_id":131137926,"body_markdown":"It won&#39;t work, since ReadingSubClass is a parameter to the function where the real class will be passed to the function.","body":"It won&#39;t work, since ReadingSubClass is a parameter to the function where the real class will be passed to the function."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667320814,"post_id":74237077,"comment_id":131138003,"body_markdown":"That&#39;s not how you should handle that situation. If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) will help.","body":"That&#39;s not how you should handle that situation. If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a> will help."},{"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"score":0,"creation_date":1667335974,"post_id":74237077,"comment_id":131142630,"body_markdown":"I&#39;m coding in Java, not Kotlin","body":"I&#39;m coding in Java, not Kotlin"}],"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666968368,"creation_date":1666968368,"question_id":74237077,"body_markdown":"I need your help in understanding the best way of doing this. Given the sample code below, I need to know how to pass a Class and a Callback via parameter and use them internally to instantiate an object of type Class and use the method Class.setId, and then pass the instantiated object to the Callback function. Is that possible?\r\n\r\n```\r\nprivate void loadreading(String nodeType, String tableName, String deviceId, Class ReadingSubClass, Callback updateFields) {\r\n\treadingQuery = fbDB.child(nodeType).child(tableName).child(deviceId).orderByChild(&quot;timestamp&quot;).limitToLast(1);\r\n\r\n\treadingEventListener = new ValueEventListener() {\r\n\t\t@Override\r\n\t\tpublic void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\t\t\tfor (DataSnapshot ds : snapshot.getChildren()) {\r\n\t\t\t\t// Create new reading\r\n\t\t\t\treadingSubClass r = ds.getValue(ReadingSubClass.class);\r\n\t\t\t\tr.setId(snapshot.getKey());\r\n\t\t\t\t// Update fields\r\n\t\t\t\tupdateFields(r);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onCancelled(@NonNull DatabaseError error) {\r\n\t\t\tlogMsg(getContext(), &quot;Load Reading: &quot; + error.getMessage(), true, false, false, false);\r\n\t\t}\r\n\t};\r\n\treadingQuery.addValueEventListener(readingEventListener);\r\n}\r\n```","title":"Android Java - Pass Class and Callback as parameter and instantiate object inside function","body":"<p>I need your help in understanding the best way of doing this. Given the sample code below, I need to know how to pass a Class and a Callback via parameter and use them internally to instantiate an object of type Class and use the method Class.setId, and then pass the instantiated object to the Callback function. Is that possible?</p>\n<pre><code>private void loadreading(String nodeType, String tableName, String deviceId, Class ReadingSubClass, Callback updateFields) {\n    readingQuery = fbDB.child(nodeType).child(tableName).child(deviceId).orderByChild(&quot;timestamp&quot;).limitToLast(1);\n\n    readingEventListener = new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot ds : snapshot.getChildren()) {\n                // Create new reading\n                readingSubClass r = ds.getValue(ReadingSubClass.class);\n                r.setId(snapshot.getKey());\n                // Update fields\n                updateFields(r);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            logMsg(getContext(), &quot;Load Reading: &quot; + error.getMessage(), true, false, false, false);\n        }\n    };\n    readingQuery.addValueEventListener(readingEventListener);\n}\n</code></pre>\n"},{"tags":["java","spring","enums","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"score":1,"creation_date":1524035879,"post_id":44450930,"comment_id":86802412,"body_markdown":"I run into same problem with mybatis 3.4.5, downgrade to 3.3.1 to solve it.","body":"I run into same problem with mybatis 3.4.5, downgrade to 3.3.1 to solve it."}],"answers":[{"comments":[{"owner":{"account_id":7455080,"reputation":941,"user_id":5668587,"accept_rate":67,"display_name":"kirill.login"},"score":0,"creation_date":1619070458,"post_id":48170091,"comment_id":118794406,"body_markdown":"It is so odd that the information can be found only in SO answer with the single upvote. It definitely should be represented in the official Mybatis migration guide from v.3.4 to v.3.5","body":"It is so odd that the information can be found only in SO answer with the single upvote. It definitely should be represented in the official Mybatis migration guide from v.3.4 to v.3.5"}],"tags":[],"owner":{"account_id":2937048,"reputation":266,"user_id":2515724,"accept_rate":38,"display_name":"Abhijeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1515507207,"creation_date":1515507207,"answer_id":48170091,"question_id":44450930,"body_markdown":"Removing the explicitly mentioned enum  typeHandler worked for me \r\n\r\n&gt; Remove : typeHandler=&quot;org.apache.ibatis.type.EnumTypeHandler&quot;\r\n\r\n    &lt;resultMap id=&quot;orderLineResult&quot; type=&quot;foo.OrderLine&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;technical_order_line_id&quot; /&gt;\r\n        &lt;result property=&quot;programmedStatus&quot; column=&quot;order_line_programmed&quot; /&gt;\r\n        &lt;result property=&quot;programmedFeedback&quot; column=&quot;order_line_programmed_feedback&quot; /&gt;\r\n        &lt;result property=&quot;completed&quot; column=&quot;order_line_completed&quot;\r\n            javaType=&quot;java.lang.Boolean&quot; typeHandler=&quot;org.apache.ibatis.type.BooleanTypeHandler&quot; /&gt;\r\n        &lt;association property=&quot;product&quot;\r\n            notNullColumn=&quot;order_line_product_id&quot;\r\n            resultMap=&quot;foo.repository.mapper.ProductMapper.productResult&quot; /&gt;\r\n    &lt;/resultMap&gt;","title":"MyBatis maps the attribute to the wrong Enum","body":"<p>Removing the explicitly mentioned enum  typeHandler worked for me </p>\n\n<blockquote>\n  <p>Remove : typeHandler=\"org.apache.ibatis.type.EnumTypeHandler\"</p>\n</blockquote>\n\n<pre><code>&lt;resultMap id=\"orderLineResult\" type=\"foo.OrderLine\"&gt;\n    &lt;id property=\"id\" column=\"technical_order_line_id\" /&gt;\n    &lt;result property=\"programmedStatus\" column=\"order_line_programmed\" /&gt;\n    &lt;result property=\"programmedFeedback\" column=\"order_line_programmed_feedback\" /&gt;\n    &lt;result property=\"completed\" column=\"order_line_completed\"\n        javaType=\"java.lang.Boolean\" typeHandler=\"org.apache.ibatis.type.BooleanTypeHandler\" /&gt;\n    &lt;association property=\"product\"\n        notNullColumn=\"order_line_product_id\"\n        resultMap=\"foo.repository.mapper.ProductMapper.productResult\" /&gt;\n&lt;/resultMap&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15443351,"reputation":23,"user_id":11141183,"display_name":"andrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666968285,"creation_date":1666968285,"answer_id":74237058,"question_id":44450930,"body_markdown":"As explained here https://github.com/mybatis/mybatis-3/issues/995 - EnumTypeHandler shouldn&#39;t be specified explicitly as a type handler for enum properties because (as a type handler) it gets cached and re-used in all other mappings where specified explicitly (which leads to the original issue). To avoid this, let MyBatis figure out the type handler for enum properties. In case your enum is &#39;special&#39;, you can subclass EnumTypeHandler and explicitly reference it where needed, but then caching is OK, because it is handling the exact same enum type every time.","title":"MyBatis maps the attribute to the wrong Enum","body":"<p>As explained here <a href=\"https://github.com/mybatis/mybatis-3/issues/995\" rel=\"nofollow noreferrer\">https://github.com/mybatis/mybatis-3/issues/995</a> - EnumTypeHandler shouldn't be specified explicitly as a type handler for enum properties because (as a type handler) it gets cached and re-used in all other mappings where specified explicitly (which leads to the original issue). To avoid this, let MyBatis figure out the type handler for enum properties. In case your enum is 'special', you can subclass EnumTypeHandler and explicitly reference it where needed, but then caching is OK, because it is handling the exact same enum type every time.</p>\n"}],"owner":{"account_id":97334,"reputation":1843,"user_id":264069,"accept_rate":86,"display_name":"Gunith D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4247,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666968285,"creation_date":1496990300,"question_id":44450930,"body_markdown":"My domain class has attributes mapped to an enum. Strangely MyBatis 3.4.x (Both 3.4.0 and 3.4.4. This worked with 3.3.x) with Spring MyBatis 1.3.1 tries to map it with an unrelated enum and gives the error.\r\n\r\n&gt; org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column &#39;order_line_programmed&#39; from result set.  Cause: java.lang.IllegalArgumentException: No enum constant foo.UnrelatedEnum.yes\r\n\r\nMy domain class looks like this:\r\n\r\n    public class OrderLine {\r\n\r\n\t    private Long id;\r\n\t    private Product product;\r\n\t    private ProgrammedStatus programmedStatus;\r\n\t    private String programmedFeedback;\r\n\t    private boolean completed = false;\r\n    }\r\n\r\nProgrammedStatus is a simple enum\r\n\r\n    public enum ProgrammedStatus {\r\n\t\tyes, no, error;\r\n\t}\r\n\r\nIt is this programmedStatus which is mapped to programmed column as follows,\r\n\r\n    &lt;resultMap id=&quot;orderLineResult&quot; type=&quot;foo.OrderLine&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;technical_order_line_id&quot; /&gt;\r\n        &lt;result property=&quot;programmedStatus&quot; column=&quot;order_line_programmed&quot; typeHandler=&quot;org.apache.ibatis.type.EnumTypeHandler&quot; /&gt;\r\n        &lt;result property=&quot;programmedFeedback&quot; column=&quot;order_line_programmed_feedback&quot; /&gt;\r\n        &lt;result property=&quot;completed&quot; column=&quot;order_line_completed&quot;\r\n            javaType=&quot;java.lang.Boolean&quot; typeHandler=&quot;org.apache.ibatis.type.BooleanTypeHandler&quot; /&gt;\r\n        &lt;association property=&quot;product&quot;\r\n            notNullColumn=&quot;order_line_product_id&quot;\r\n            resultMap=&quot;foo.repository.mapper.ProductMapper.productResult&quot; /&gt;\r\n    &lt;/resultMap&gt;\r\n\r\nI even tried mapping the javaType with the typeHandler, but MyBatis seem to ignore it.\r\n\r\nFew information which may find useful,\r\n\r\n* UnrelatedEnum is also a simple Enum as ProgrammedStatus\r\n* Product has an attribute which has an attribute which is of type UnrelatedEnum\r\n\r\nI found this issue in other places of code as well. I COULD have my own specific typeHandler instead of the EnumTypeHandler here. The issue is that this enum matching is used in a lot of places in my program and migrating wit 3.4 makes my program unstable.","title":"MyBatis maps the attribute to the wrong Enum","body":"<p>My domain class has attributes mapped to an enum. Strangely MyBatis 3.4.x (Both 3.4.0 and 3.4.4. This worked with 3.3.x) with Spring MyBatis 1.3.1 tries to map it with an unrelated enum and gives the error.</p>\n\n<blockquote>\n  <p>org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.executor.result.ResultMapException: Error attempting to get column 'order_line_programmed' from result set.  Cause: java.lang.IllegalArgumentException: No enum constant foo.UnrelatedEnum.yes</p>\n</blockquote>\n\n<p>My domain class looks like this:</p>\n\n<pre><code>public class OrderLine {\n\n    private Long id;\n    private Product product;\n    private ProgrammedStatus programmedStatus;\n    private String programmedFeedback;\n    private boolean completed = false;\n}\n</code></pre>\n\n<p>ProgrammedStatus is a simple enum</p>\n\n<pre><code>public enum ProgrammedStatus {\n    yes, no, error;\n}\n</code></pre>\n\n<p>It is this programmedStatus which is mapped to programmed column as follows,</p>\n\n<pre><code>&lt;resultMap id=\"orderLineResult\" type=\"foo.OrderLine\"&gt;\n    &lt;id property=\"id\" column=\"technical_order_line_id\" /&gt;\n    &lt;result property=\"programmedStatus\" column=\"order_line_programmed\" typeHandler=\"org.apache.ibatis.type.EnumTypeHandler\" /&gt;\n    &lt;result property=\"programmedFeedback\" column=\"order_line_programmed_feedback\" /&gt;\n    &lt;result property=\"completed\" column=\"order_line_completed\"\n        javaType=\"java.lang.Boolean\" typeHandler=\"org.apache.ibatis.type.BooleanTypeHandler\" /&gt;\n    &lt;association property=\"product\"\n        notNullColumn=\"order_line_product_id\"\n        resultMap=\"foo.repository.mapper.ProductMapper.productResult\" /&gt;\n&lt;/resultMap&gt;\n</code></pre>\n\n<p>I even tried mapping the javaType with the typeHandler, but MyBatis seem to ignore it.</p>\n\n<p>Few information which may find useful,</p>\n\n<ul>\n<li>UnrelatedEnum is also a simple Enum as ProgrammedStatus</li>\n<li>Product has an attribute which has an attribute which is of type UnrelatedEnum</li>\n</ul>\n\n<p>I found this issue in other places of code as well. I COULD have my own specific typeHandler instead of the EnumTypeHandler here. The issue is that this enum matching is used in a lot of places in my program and migrating wit 3.4 makes my program unstable.</p>\n"},{"tags":["java","jakarta-mail","imap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666947841,"post_id":74232709,"comment_id":131059906,"body_markdown":"Firewall at the client end?","body":"Firewall at the client end?"},{"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"score":0,"creation_date":1666948315,"post_id":74232709,"comment_id":131060070,"body_markdown":"I disabled all the firewalls in control panel.....still this throws error!","body":"I disabled all the firewalls in control panel.....still this throws error!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666951413,"post_id":74232709,"comment_id":131061129,"body_markdown":"I would check with Zoho or their support community. If your code were wrong it would *probably* fail","body":"I would check with Zoho or their support community. If your code were wrong it would <i>probably</i> fail"},{"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"score":0,"creation_date":1666951740,"post_id":74232709,"comment_id":131061241,"body_markdown":"Would be good to know the solution ....thank you","body":"Would be good to know the solution ....thank you"}],"answers":[{"tags":[],"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666954465,"creation_date":1666954465,"answer_id":74234331,"question_id":74232709,"body_markdown":"My system has been connected to the office wifi network.So the firewall didn&#39;t allow me to connect to the port.When I switch my wifi network ,the program runs perfectly !","title":"javax.mail.MessagingException: Connect timed out;","body":"<p>My system has been connected to the office wifi network.So the firewall didn't allow me to connect to the port.When I switch my wifi network ,the program runs perfectly !</p>\n"}],"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667688445,"accepted_answer_id":74234331,"answer_count":1,"score":0,"last_activity_date":1666967925,"creation_date":1666946521,"question_id":74232709,"body_markdown":"I need to fetch the Zoho mail using Java. I enabled imaps in Zoho mail settings, but I am getting _&quot;javax.mail.MessagingException: Connect timed out&quot;_ error in the following code.\r\n\r\n```java    \r\npublic class Mail {\r\n\r\n    public static void main(String[] args) {\r\n    \ttry {\r\n    \t\tfinal Properties props = new Properties();\r\n    \t    MailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n    \t    sf.setTrustAllHosts(true);\r\n    \tprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n        props.setProperty(&quot;mail.imaps.port&quot;, &quot;993&quot;);\r\n        props.setProperty(&quot;mail.imaps.connectiontimeout&quot;, &quot;5000&quot;);\r\n        props.setProperty(&quot;mail.imaps.timeout&quot;, &quot;5000&quot;);\r\n        props.setProperty(&quot;mail.imaps.auth&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\r\n        \r\n            Session session = Session.getInstance(props, null);\r\n            session.setDebug(true);\r\n            Store store = session.getStore();\r\n            store.connect(&quot;imap.zoho.in&quot;, &quot;*@zohomail.in&quot;, &quot;****&quot;);\r\n            Folder inbox = store.getFolder(&quot;INBOX&quot;);\r\n            inbox.open(Folder.READ_ONLY);\r\n            Message msg = inbox.getMessage(inbox.getMessageCount());\r\n            Address[] in = msg.getFrom();\r\n            for (Address address : in) {\r\n                System.out.println(&quot;FROM:&quot; + address.toString());\r\n            }\r\n            Multipart mp = (Multipart) msg.getContent();\r\n            BodyPart bp = mp.getBodyPart(0);\r\n            System.out.println(&quot;SENT DATE:&quot; + msg.getSentDate());\r\n            System.out.println(&quot;SUBJECT:&quot; + msg.getSubject());\r\n            System.out.println(&quot;CONTENT:&quot; + bp.getContent());\r\n        } catch (Exception mex) {\r\n            mex.printStackTrace();\r\n        }\r\n\t}\r\n}\r\n```\r\n\r\nThe error:\r\n\r\n```none\r\nDEBUG: trying to connect to host &quot;imap.zoho.in&quot;, port 993, isSSL true\r\njavax.mail.MessagingException: Connect timed out;\r\n     nested exception is:\r\n\tjava.net.SocketTimeoutException: Connect timed out\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:611)\r\n\tat javax.mail.Service.connect(Service.java:291)\r\n\tat javax.mail.Service.connect(Service.java:172)\r\n\tat Mail.main(Mail.java:86)\r\n    Caused by: java.net.SocketTimeoutException: Connect timed out\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\r\n\tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:265)\r\n\tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:227)\r\n\tat com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:107)\r\n\tat com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:103)\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:578)\r\n\t... 3 more\r\n```\r\n\r\n    ","title":"javax.mail.MessagingException: Connect timed out;","body":"<p>I need to fetch the Zoho mail using Java. I enabled imaps in Zoho mail settings, but I am getting <em>&quot;javax.mail.MessagingException: Connect timed out&quot;</em> error in the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Mail {\n\n    public static void main(String[] args) {\n        try {\n            final Properties props = new Properties();\n            MailSSLSocketFactory sf = new MailSSLSocketFactory();\n            sf.setTrustAllHosts(true);\n        props.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n        props.setProperty(&quot;mail.imaps.port&quot;, &quot;993&quot;);\n        props.setProperty(&quot;mail.imaps.connectiontimeout&quot;, &quot;5000&quot;);\n        props.setProperty(&quot;mail.imaps.timeout&quot;, &quot;5000&quot;);\n        props.setProperty(&quot;mail.imaps.auth&quot;, &quot;true&quot;);\n        props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\n        \n            Session session = Session.getInstance(props, null);\n            session.setDebug(true);\n            Store store = session.getStore();\n            store.connect(&quot;imap.zoho.in&quot;, &quot;*@zohomail.in&quot;, &quot;****&quot;);\n            Folder inbox = store.getFolder(&quot;INBOX&quot;);\n            inbox.open(Folder.READ_ONLY);\n            Message msg = inbox.getMessage(inbox.getMessageCount());\n            Address[] in = msg.getFrom();\n            for (Address address : in) {\n                System.out.println(&quot;FROM:&quot; + address.toString());\n            }\n            Multipart mp = (Multipart) msg.getContent();\n            BodyPart bp = mp.getBodyPart(0);\n            System.out.println(&quot;SENT DATE:&quot; + msg.getSentDate());\n            System.out.println(&quot;SUBJECT:&quot; + msg.getSubject());\n            System.out.println(&quot;CONTENT:&quot; + bp.getContent());\n        } catch (Exception mex) {\n            mex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: trying to connect to host &quot;imap.zoho.in&quot;, port 993, isSSL true\njavax.mail.MessagingException: Connect timed out;\n     nested exception is:\n    java.net.SocketTimeoutException: Connect timed out\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:611)\n    at javax.mail.Service.connect(Service.java:291)\n    at javax.mail.Service.connect(Service.java:172)\n    at Mail.main(Mail.java:86)\n    Caused by: java.net.SocketTimeoutException: Connect timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:265)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:227)\n    at com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:107)\n    at com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:103)\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:578)\n    ... 3 more\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666728552,"post_id":74199612,"comment_id":131004275,"body_markdown":"You&#39;re not supposed to make an array list, you&#39;re supposed to look at the elements in the list, `array`, that is passed to you.  You will need to go through those elements.","body":"You&#39;re not supposed to make an array list, you&#39;re supposed to look at the elements in the list, <code>array</code>, that is passed to you.  You will need to go through those elements."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1666908197,"post_id":74199612,"comment_id":131052788,"body_markdown":"Yeah, and the assignment does not follow the Java Naming Conventions: method names should be written in camelCase (therefore start with lowercase).","body":"Yeah, and the assignment does not follow the Java Naming Conventions: method names should be written in camelCase (therefore start with lowercase)."},{"owner":{"account_id":25296273,"reputation":7,"user_id":19121360,"display_name":"imrtl008"},"score":0,"creation_date":1684413559,"post_id":74199612,"comment_id":134515876,"body_markdown":"hello hsshshshshsh","body":"hello hsshshshshsh"},{"owner":{"account_id":25296273,"reputation":7,"user_id":19121360,"display_name":"imrtl008"},"score":0,"creation_date":1684414620,"post_id":74199612,"comment_id":134516136,"body_markdown":"public static String solve(int iterations) { if (iterations &lt;= 1) return null; // Create an initial random starting point String currentSolution = EightQueens.generateRandomStartingPoint(); int currentFitness = EightQueens.calculateFitness(currentSolution); Random random = new Random(); for (int i = 0; i &lt; iterations; i++) { // Apply a small change operator to the current solution String newSolution = EightQueens.applySmallChangeOperator(currentSolution); int newFitness = EightQueens.calculateFitness(newSolution); // If the new solution has better or equal fitness, update the current solution","body":"public static String solve(int iterations) { if (iterations &lt;= 1) return null; // Create an initial random starting point String currentSolution = EightQueens.generateRandomStartingPoint(); int currentFitness = EightQueens.calculateFitness(currentSolution); Random random = new Random(); for (int i = 0; i &lt; iterations; i++) { // Apply a small change operator to the current solution String newSolution = EightQueens.applySmallChangeOperator(currentSolution); int newFitness = EightQueens.calculateFitness(newSolution); // If the new solution has better or equal fitness, update the current solution"},{"owner":{"account_id":25296273,"reputation":7,"user_id":19121360,"display_name":"imrtl008"},"score":0,"creation_date":1684421086,"post_id":74199612,"comment_id":134517680,"body_markdown":"public static Double Q5_fitnessFunction(String solution) { //checking for null if (solution == null) { return null; }//checks for invalid if (solution.length() != 24 || !solution.matches(&quot;[01]+&quot;)) { return Double.MAX_VALUE; } int[] queens = new int[8]; for (int i = 0; i &lt; 8; i++) { queens[i] = Integer.parseInt(solution.substring(i * 3, i * 3 + 3), 2); } int clashes = 0; //finding out number of clashes for (int i = 0; i &lt; 8; i++) { for (int j = i + 1; j &lt; 8; j++) { if (Math.abs(queens[i] - queens[j]) == Math.abs(i - j)) { clashes++; } } } //returning the fitness value return 56.0 - clashes; }","body":"public static Double Q5_fitnessFunction(String solution) { //checking for null if (solution == null) { return null; }//checks for invalid if (solution.length() != 24 || !solution.matches(&quot;[01]+&quot;)) { return Double.MAX_VALUE; } int[] queens = new int[8]; for (int i = 0; i &lt; 8; i++) { queens[i] = Integer.parseInt(solution.substring(i * 3, i * 3 + 3), 2); } int clashes = 0; //finding out number of clashes for (int i = 0; i &lt; 8; i++) { for (int j = i + 1; j &lt; 8; j++) { if (Math.abs(queens[i] - queens[j]) == Math.abs(i - j)) { clashes++; } } } //returning the fitness value return 56.0 - clashes; }"}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729193,"creation_date":1666729193,"answer_id":74199740,"question_id":74199612,"body_markdown":"What you have so far is good\r\n\r\n    if (array.isEmpty()) {\r\n\r\n     return Double.MIN_VALUE;\r\n\r\n    }\r\n\r\nNow, create a `Double max` to store the max value that you will return\r\n\r\nI would initialize `max` with a value of `Double.MIN_VALUE`\r\n\r\nIterate across `array` and compare each value to `max`\r\n\r\nIf the value is larger than `max` , set `max = value`\r\n\r\nOnce you iterate across the entire `array` , simply `return max`\r\n\r\n\r\n*To iterate across the array, look into using `for each` or simply use indexes starting at `0` and ending before `array.size()`*\r\n\r\n**for each**\r\n\r\n    for (Double d : array){\r\n        //Do something with d\r\n    }\r\n\r\n**using indexes**\r\n\r\n    for (int i = 0; i &lt; array.size(); i++){\r\n        //Do something with array.get(i)\r\n    }\r\n\r\n","title":"how to find the largest number in an arraylist of a double","body":"<p>What you have so far is good</p>\n<pre><code>if (array.isEmpty()) {\n\n return Double.MIN_VALUE;\n\n}\n</code></pre>\n<p>Now, create a <code>Double max</code> to store the max value that you will return</p>\n<p>I would initialize <code>max</code> with a value of <code>Double.MIN_VALUE</code></p>\n<p>Iterate across <code>array</code> and compare each value to <code>max</code></p>\n<p>If the value is larger than <code>max</code> , set <code>max = value</code></p>\n<p>Once you iterate across the entire <code>array</code> , simply <code>return max</code></p>\n<p><em>To iterate across the array, look into using <code>for each</code> or simply use indexes starting at <code>0</code> and ending before <code>array.size()</code></em></p>\n<p><strong>for each</strong></p>\n<pre><code>for (Double d : array){\n    //Do something with d\n}\n</code></pre>\n<p><strong>using indexes</strong></p>\n<pre><code>for (int i = 0; i &lt; array.size(); i++){\n    //Do something with array.get(i)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666967921,"creation_date":1666907664,"answer_id":74228704,"question_id":74199612,"body_markdown":"How about like this. \r\n```\r\nArrayList&lt;Double&gt; list= new ArrayList&lt;&gt;(List.of(10.3, 4.3, 2.9, 14.6,3.0));\r\ndouble max = ArrayMax(list);\r\nSystem.out.println(max);\r\n\r\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\r\n   if(array.isEmpty()) {\r\n       return 1;  // or whatever is required.\r\n   }\r\n   return Collections.max(array);\r\n}\r\n```\r\nprints\r\n```\r\n14.6\r\n```\r\nFor more complex objects, you could specify a comparator to get the maximum value based on one or more attributes of that object.  For example:\r\n```\r\nrecord Person(String name, int age) {} // immutable class - Java 14+\r\n\r\nList&lt;Person&gt; people = List.of(new Person(&quot;Bob&quot;, 18), new Person(&quot;Mary&quot;, 22), \r\n             new Person(&quot;Jim&quot;, 28),new Person(&quot;Eve&quot;, 21));\r\nPerson oldest = Collections.max(people, Comparator.comparing(Person::age));\r\nSystem.out.println(oldest);\r\n```\r\nprints\r\n```\r\nPerson[name=Jim, age=28]\r\n","title":"how to find the largest number in an arraylist of a double","body":"<p>How about like this.</p>\n<pre><code>ArrayList&lt;Double&gt; list= new ArrayList&lt;&gt;(List.of(10.3, 4.3, 2.9, 14.6,3.0));\ndouble max = ArrayMax(list);\nSystem.out.println(max);\n\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\n   if(array.isEmpty()) {\n       return 1;  // or whatever is required.\n   }\n   return Collections.max(array);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>14.6\n</code></pre>\n<p>For more complex objects, you could specify a comparator to get the maximum value based on one or more attributes of that object.  For example:</p>\n<pre><code>record Person(String name, int age) {} // immutable class - Java 14+\n\nList&lt;Person&gt; people = List.of(new Person(&quot;Bob&quot;, 18), new Person(&quot;Mary&quot;, 22), \n             new Person(&quot;Jim&quot;, 28),new Person(&quot;Eve&quot;, 21));\nPerson oldest = Collections.max(people, Comparator.comparing(Person::age));\nSystem.out.println(oldest);\n</code></pre>\n<p>prints</p>\n<pre><code>Person[name=Jim, age=28]\n</code></pre>\n"}],"owner":{"account_id":25296273,"reputation":7,"user_id":19121360,"display_name":"imrtl008"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666967921,"creation_date":1666728232,"question_id":74199612,"body_markdown":"\r\n\r\n&gt; Write a public static method called &quot;ArrayMax&quot; that returns the\r\n&gt; largest number in an ArrayList of Double. (1 mark)\r\n&gt; \r\n&gt; If the input ArrayList is empty then the method should return\r\n&gt; `Double.MIN_VALUE. (1 mark)`\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; Use the following function prototype when writing the method:\r\n```\r\n\r\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\r\n\r\n\r\n\r\n}\r\n```\r\nThis is what I have done so far but its wrong. I tried making an array list, but that wasn&#39;t correct either.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\r\n\r\n      if (array.isEmpty()) {\r\n    \r\n         return Double.MIN_VALUE;\r\n    \r\n      }\r\n\r\n\r\n         }\r\n```\r\n\r\nHow can I the largest number in an arraylist of a double?","title":"how to find the largest number in an arraylist of a double","body":"<blockquote>\n<p>Write a public static method called &quot;ArrayMax&quot; that returns the\nlargest number in an ArrayList of Double. (1 mark)</p>\n<p>If the input ArrayList is empty then the method should return\n<code>Double.MIN_VALUE. (1 mark)</code></p>\n<p>Use the following function prototype when writing the method:</p>\n</blockquote>\n<pre><code>\npublic static double ArrayMax(ArrayList&lt;Double&gt; array) {\n\n\n\n}\n</code></pre>\n<p>This is what I have done so far but its wrong. I tried making an array list, but that wasn't correct either.</p>\n<pre><code>public static double ArrayMax(ArrayList&lt;Double&gt; array) {\n\n      if (array.isEmpty()) {\n    \n         return Double.MIN_VALUE;\n    \n      }\n\n\n         }\n</code></pre>\n<p>How can I the largest number in an arraylist of a double?</p>\n"},{"tags":["java","maven","playframework","cors","hocon"],"comments":[{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":1,"creation_date":1653940287,"post_id":72434884,"comment_id":127969026,"body_markdown":"You should add the client-side code responsible for sending the problematic request to your server. Perhaps it contain some header that your server disallows.","body":"You should add the client-side code responsible for sending the problematic request to your server. Perhaps it contain some header that your server disallows."}],"answers":[{"tags":[],"owner":{"account_id":7468884,"reputation":91,"user_id":5677467,"display_name":"Oana-Elena Danescu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666967613,"creation_date":1666967613,"answer_id":74236897,"question_id":72434884,"body_markdown":"So, after posting this questions I have figured out the question.\r\n\r\nThe issue were those server values:\r\n\r\n    server1.host=&quot;http://localhost:9000/&quot;\r\n    server2.host=&quot;http://localhost:2000/&quot;\r\n    server3.host=&quot;http://localhost:11000/&quot; especially the slash (/) at the end.\r\n\r\nFor the browser was origin &quot;http://localhost:9000&quot; without slash and that is why the difference.\r\n\r\n","title":"Cors issue with allowedOrigins in play framework 2.8.15 using hocon variables","body":"<p>So, after posting this questions I have figured out the question.</p>\n<p>The issue were those server values:</p>\n<pre><code>server1.host=&quot;http://localhost:9000/&quot;\nserver2.host=&quot;http://localhost:2000/&quot;\nserver3.host=&quot;http://localhost:11000/&quot; especially the slash (/) at the end.\n</code></pre>\n<p>For the browser was origin &quot;http://localhost:9000&quot; without slash and that is why the difference.</p>\n"}],"owner":{"account_id":7468884,"reputation":91,"user_id":5677467,"display_name":"Oana-Elena Danescu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666967613,"creation_date":1653916219,"question_id":72434884,"body_markdown":"There is a java application, which use java, scala, playframework and maven.\r\n\r\n    jdk 11.0.14\r\n    play2 version 2.8.15\r\n    scala.version 2.12.15\r\n    play2.plugin.version 1.0.0-rc6-SNAPSHOT\r\n    sbt-compiler.plugin.version   1.0.0\r\n\r\n\r\n## application.conf\r\n\r\n    play.application.loader = &quot;loader.BasicApplicationLoader&quot;\r\n    \r\n    play.modules.disabled += &quot;play.core.ObjectMapperModule&quot;\r\n    play.modules.enabled += &quot;modules.WebObjectMapperModule&quot;\r\n    \r\n    play.modules.enabled += &quot;modules.StartUpModule&quot;\r\n    play.modules.enabled += &quot;modules.ClusterMonitoringModule&quot;\r\n    play.modules.enabled += &quot;com.kenshoo.play.metrics.PlayModule&quot;\r\n    \r\n    play.filters.enabled = [\r\n        &quot;play.filters.gzip.GzipFilter&quot;,\r\n        &quot;com.kenshoo.play.metrics.MetricsFilter&quot;,\r\n        &quot;http.filters.ClusterStatusFilter&quot;,\r\n        &quot;play.filters.cors.CORSFilter&quot;\r\n    ]\r\n    \r\n    play.http.actionCreator = &quot;http.BasicActionCreator&quot;\r\n    play.http.requestHandler = &quot;http.WebHttpRequestHandler&quot;\r\n    play.http.errorHandler = &quot;http.BasicErrorHandler&quot;\r\n    \r\n    server1.host=&quot;http://localhost:9000/&quot;\r\n    server2.host=&quot;http://localhost:2000/&quot;\r\n    server3.host=&quot;http://localhost:11000/&quot;\r\n    \r\n    play.filters.cors {\r\n         pathPrefixes = [&quot;/&quot;]\r\n         allowedOrigins = [${?server1.host}, ${?server2.host}, ${?server3.host}]\r\n         allowedHttpMethods = [&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;]\r\n         allowedHttpHeaders = [&quot;Accept&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;]\r\n      \t exposedHeaders = [&quot;X-TOTAL-PAGE-COUNT&quot;, &quot;X-TOTAL-ELEMENT-COUNT&quot;]\r\n         preflightMaxAge = 1 hour\r\n    }\r\n\r\n    response.delay.milliseconds=500\r\n\r\nAccording to the [Play documentation](https://www.playframework.com/documentation/2.8.15/CorsFilter) this should work, but it does not, i get the cors error:\r\n\r\n&gt; Access to XMLHttpRequest at &#39;https://localhost:8080&#39; from origin &#39;https://localhost:9000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n\r\nWhat I have tried so far? \r\n\r\nI have checked on the server, where I have deployed if the variables used are correctly interpreted, and yes, they are. I need to use variables like this, because the values of this urls are overriden on the server at deploy time according to the environment needed.\r\n\r\nTried to add in the exposedHeader the Access-Control-Allow-Origin, tried to add it in the allowedHttpHeaders and no luck..\r\n\r\n","title":"Cors issue with allowedOrigins in play framework 2.8.15 using hocon variables","body":"<p>There is a java application, which use java, scala, playframework and maven.</p>\n<pre><code>jdk 11.0.14\nplay2 version 2.8.15\nscala.version 2.12.15\nplay2.plugin.version 1.0.0-rc6-SNAPSHOT\nsbt-compiler.plugin.version   1.0.0\n</code></pre>\n<h2>application.conf</h2>\n<pre><code>play.application.loader = &quot;loader.BasicApplicationLoader&quot;\n\nplay.modules.disabled += &quot;play.core.ObjectMapperModule&quot;\nplay.modules.enabled += &quot;modules.WebObjectMapperModule&quot;\n\nplay.modules.enabled += &quot;modules.StartUpModule&quot;\nplay.modules.enabled += &quot;modules.ClusterMonitoringModule&quot;\nplay.modules.enabled += &quot;com.kenshoo.play.metrics.PlayModule&quot;\n\nplay.filters.enabled = [\n    &quot;play.filters.gzip.GzipFilter&quot;,\n    &quot;com.kenshoo.play.metrics.MetricsFilter&quot;,\n    &quot;http.filters.ClusterStatusFilter&quot;,\n    &quot;play.filters.cors.CORSFilter&quot;\n]\n\nplay.http.actionCreator = &quot;http.BasicActionCreator&quot;\nplay.http.requestHandler = &quot;http.WebHttpRequestHandler&quot;\nplay.http.errorHandler = &quot;http.BasicErrorHandler&quot;\n\nserver1.host=&quot;http://localhost:9000/&quot;\nserver2.host=&quot;http://localhost:2000/&quot;\nserver3.host=&quot;http://localhost:11000/&quot;\n\nplay.filters.cors {\n     pathPrefixes = [&quot;/&quot;]\n     allowedOrigins = [${?server1.host}, ${?server2.host}, ${?server3.host}]\n     allowedHttpMethods = [&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;]\n     allowedHttpHeaders = [&quot;Accept&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;]\n     exposedHeaders = [&quot;X-TOTAL-PAGE-COUNT&quot;, &quot;X-TOTAL-ELEMENT-COUNT&quot;]\n     preflightMaxAge = 1 hour\n}\n\nresponse.delay.milliseconds=500\n</code></pre>\n<p>According to the <a href=\"https://www.playframework.com/documentation/2.8.15/CorsFilter\" rel=\"nofollow noreferrer\">Play documentation</a> this should work, but it does not, i get the cors error:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'https://localhost:8080' from origin 'https://localhost:9000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n</blockquote>\n<p>What I have tried so far?</p>\n<p>I have checked on the server, where I have deployed if the variables used are correctly interpreted, and yes, they are. I need to use variables like this, because the values of this urls are overriden on the server at deploy time according to the environment needed.</p>\n<p>Tried to add in the exposedHeader the Access-Control-Allow-Origin, tried to add it in the allowedHttpHeaders and no luck..</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1666854779,"post_id":74218057,"comment_id":131034894,"body_markdown":"try  ```sb.deleteCharAt(0);```","body":"try  <code>sb.deleteCharAt(0);</code>"},{"owner":{"account_id":26746159,"reputation":1,"user_id":20346192,"display_name":"Sachin"},"score":0,"creation_date":1666855537,"post_id":74218057,"comment_id":131035126,"body_markdown":"there can be multiple leading zeros","body":"there can be multiple leading zeros"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1666855923,"post_id":74218057,"comment_id":131035273,"body_markdown":"It seems you&#39;re asking how to remove _trailing_ zeros, despite the question&#39;s title. In your &quot;try 1&quot;, you start at the end and _add 1 to k_ - why? Where do you think k will go after adding 1 to it when it&#39;s already at the end? Think about your algorithm.","body":"It seems you&#39;re asking how to remove <i>trailing</i> zeros, despite the question&#39;s title. In your &quot;try 1&quot;, you start at the end and <i>add 1 to k</i> - why? Where do you think k will go after adding 1 to it when it&#39;s already at the end? Think about your algorithm."},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1666864682,"post_id":74218057,"comment_id":131038381,"body_markdown":"There are formatting issues that make it hard to help you. Please see this [help article](https://stackoverflow.com/help/formatting).","body":"There are formatting issues that make it hard to help you. Please see this <a href=\"https://stackoverflow.com/help/formatting\">help article</a>."}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666967566,"creation_date":1666855868,"answer_id":74218314,"question_id":74218057,"body_markdown":"Something like this\r\n```\r\nwhile(sb.charAt(0) == &#39;0&#39;) {\r\n    sb.deleteCharAt(0);\r\n}\r\n```","title":"Remove Trailingzeros from StringBuilder object","body":"<p>Something like this</p>\n<pre><code>while(sb.charAt(0) == '0') {\n    sb.deleteCharAt(0);\n}\n</code></pre>\n"}],"owner":{"account_id":26746159,"reputation":1,"user_id":20346192,"display_name":"Sachin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666967566,"creation_date":1666854544,"question_id":74218057,"body_markdown":"I   have one stringBuilder object which contains  binary number string.  I  want to remove trailing zeros from this.  because in ans i am reversing this sb object so output will be without leading zeros.\r\n\r\n```\r\n//sb = 01111110  --  reversed   output i want after sb reverse - 1111110.\r\n\r\n//try1\r\nint k = sb.length() - 1;\r\nwhile (k &gt;= 0 &amp;&amp; sb.charAt(k) == &#39;0&#39;) {\r\n    k++;\r\n}\r\n\r\n// try2\r\nif (carry != 0) sb.append(carry);\r\n\r\nSystem.out.println(sb);\r\n\r\nint ind = 0;\r\nfor (int k = sb.length() - 1; k &gt;= 0; k--) {\r\n    char p = sb.charAt(i);\r\n    if (p != &#39;0&#39;) {\r\n        ind = k;\r\n        break;\r\n    }\r\n}\r\nSystem.out.println(&quot;TTT&quot; + sb.toString().substring(0, ind));\r\n\r\nSystem.out.println(&quot;A&quot; + sb);\r\n\r\nreturn sb.reverse().toString();\r\n\r\n```\r\n","title":"Remove Trailingzeros from StringBuilder object","body":"<p>I   have one stringBuilder object which contains  binary number string.  I  want to remove trailing zeros from this.  because in ans i am reversing this sb object so output will be without leading zeros.</p>\n<pre><code>//sb = 01111110  --  reversed   output i want after sb reverse - 1111110.\n\n//try1\nint k = sb.length() - 1;\nwhile (k &gt;= 0 &amp;&amp; sb.charAt(k) == '0') {\n    k++;\n}\n\n// try2\nif (carry != 0) sb.append(carry);\n\nSystem.out.println(sb);\n\nint ind = 0;\nfor (int k = sb.length() - 1; k &gt;= 0; k--) {\n    char p = sb.charAt(i);\n    if (p != '0') {\n        ind = k;\n        break;\n    }\n}\nSystem.out.println(&quot;TTT&quot; + sb.toString().substring(0, ind));\n\nSystem.out.println(&quot;A&quot; + sb);\n\nreturn sb.reverse().toString();\n\n</code></pre>\n"},{"tags":["java","swing","boolean","jtable","nimbus"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666927205,"post_id":74228168,"comment_id":131055569,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":12802207,"reputation":123,"user_id":11140379,"display_name":"Jack"},"score":0,"creation_date":1666995388,"post_id":74236853,"comment_id":131074371,"body_markdown":"Thx, will try out, now it&#39;s night here :) but as stated turning the whole table red serves just the purpose of showing that the rows which inherit alternate color from nimbus just don&#39;t seem to turn red; when i selectively try to make a single row red, it works only if it happens to not be of the alternate color","body":"Thx, will try out, now it&#39;s night here :) but as stated turning the whole table red serves just the purpose of showing that the rows which inherit alternate color from nimbus just don&#39;t seem to turn red; when i selectively try to make a single row red, it works only if it happens to not be of the alternate color"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666967411,"creation_date":1666967411,"answer_id":74236853,"question_id":74228168,"body_markdown":"You wrote in your question (regarding the code in your question):\r\n&gt; the following code tries to paint the background for the whole table\r\n\r\nThis is what I set out to do. However, you also wrote:\r\n&gt; my target is to set the background for one line at a time\r\n\r\nThen I tried a different approach &amp;ndash; which still paints the entire background red but I&#39;m hoping you will be able to adapt the below code to suit your requirements.\r\n\r\n#### First Approach\r\nAs detailed here:  \r\nhttps://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/color.html  \r\nand here:  \r\nhttps://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/_nimbusDefaults.html\r\n\r\nSimply setting the appropriate properties, in class `UIManager`, achieves [what I believe to be] your desired result, i.e. making the entire `JTable` background red. This works for all columns apart from the first column of the `JTable` that displays `Boolean` values. For that, I created a custom [table] cell renderer, based on the one used by *Nimbus* look-and-feel, namely:\r\n```none\r\njavax.swing.plaf.synth.SynthTableUI.SynthBooleanTableCellRenderer\r\n```\r\nHere is the code for that renderer:\r\n```java\r\nclass BoolTableCellRenderer extends JCheckBox implements TableCellRenderer {\r\n    private boolean isRowSelected;\r\n\r\n    public BoolTableCellRenderer() {\r\n        setHorizontalAlignment(JLabel.CENTER);\r\n        setName(&quot;Table.cellRenderer&quot;);\r\n    }\r\n\r\n    public Component getTableCellRendererComponent(JTable   table,\r\n                                                   Object   value,\r\n                                                   boolean  isSelected,\r\n                                                   boolean  hasFocus,\r\n                                                   int      row,\r\n                                                   int      column) {\r\n        isRowSelected = isSelected;\r\n        if (isSelected) {\r\n            setForeground(unwrap(table.getSelectionForeground()));\r\n            setBackground(unwrap(Color.red));\r\n        }\r\n        else {\r\n            setForeground(unwrap(table.getForeground()));\r\n            setBackground(unwrap(Color.red));\r\n        }\r\n        setSelected((value != null &amp;&amp; ((Boolean)value).booleanValue()));\r\n        return this;\r\n    }\r\n\r\n    private Color unwrap(Color c) {\r\n        if (c instanceof UIResource) {\r\n            return new Color(c.getRGB());\r\n        }\r\n        return c;\r\n    }\r\n\r\n    public boolean isOpaque() {\r\n        return true;\r\n    }\r\n}\r\n```\r\nI also wrote a custom `TableModel`.\r\n```java\r\nclass PrimitivesTableModel extends DefaultTableModel {\r\n\r\n    public PrimitivesTableModel(Object[][] data, Object[] columnNames) {\r\n        super(data, columnNames);\r\n    }\r\n\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        Class&lt;?&gt; columnClass;\r\n        switch (columnIndex) {\r\n            case 0:\r\n                columnClass = Boolean.class;\r\n                break;\r\n            case 1:\r\n                columnClass = Integer.class;\r\n                break;\r\n            case 2:\r\n                columnClass = Float.class;\r\n                break;\r\n            case 3:\r\n                columnClass = String.class;\r\n                break;\r\n            default:\r\n                columnClass = Object.class;\r\n        }\r\n        return columnClass;\r\n    }\r\n}\r\n```\r\nHere is the code for this first approach:\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\n\r\npublic class NewsFram {\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;NewsFram&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTable(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JScrollPane createTable() {\r\n        Object[][] data = new Object[][]{{Boolean.valueOf(true), Integer.valueOf(1), Float.valueOf(0.1f), &quot;asd&quot;},\r\n                                         {Boolean.valueOf(true), Integer.valueOf(2), Float.valueOf(0.2f), &quot;lol&quot;},\r\n                                         {null, Integer.valueOf(3), Float.valueOf(0.3f), &quot;xd&quot;},\r\n                                         {null, Integer.valueOf(4), Float.valueOf(0.4f), &quot;ftw&quot;},\r\n                                         {null, Integer.valueOf(5), Float.valueOf(0.5f), &quot;wtf&quot;}};\r\n        String[] columnNames = new String[]{&quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;};\r\n        PrimitivesTableModel model = new PrimitivesTableModel(data, columnNames);\r\n        JTable table = new JTable(model);\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        table.setDefaultRenderer(Boolean.class, new BoolTableCellRenderer());\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        return scrollPane;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        UIManager.put(&quot;Table:\\&quot;Table.cellRenderer\\&quot;.background&quot;, Color.red);\r\n        UIManager.put(&quot;Table.alternateRowColor&quot;, Color.red);\r\n        for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                try {\r\n                    UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n                catch (ClassNotFoundException |\r\n                       IllegalAccessException |\r\n                       InstantiationException |\r\n                       UnsupportedLookAndFeelException x) {\r\n                    x.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        EventQueue.invokeLater(() -&gt; new NewsFram().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n#### Second Approach\r\nThis approach does not modify `UIManager` defaults but instead overrides method `prepareRenderer` (in class `JTable`). Note that this approach also uses the same `TableModel` and custom renderer that the first approach used.\r\n\r\nI overrode method `prepareRenderer` rather than creating another custom renderer that would be based on the general `JTable` cell renderer used by *Nimbus* look-and-feel since that renderer is much more complex than `SynthBooleanTableCellRenderer`.\r\n\r\nHere is the code for the second approach:\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\nimport javax.swing.plaf.UIResource;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.TableCellRenderer;\r\n\r\npublic class NewFrame {\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;NewFrame&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTable(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JScrollPane createTable() {\r\n        Object[][] data = new Object[][]{{Boolean.valueOf(true), Integer.valueOf(1), Float.valueOf(0.1f), &quot;asd&quot;},\r\n                                         {Boolean.valueOf(true), Integer.valueOf(2), Float.valueOf(0.2f), &quot;lol&quot;},\r\n                                         {null, Integer.valueOf(3), Float.valueOf(0.3f), &quot;xd&quot;},\r\n                                         {null, Integer.valueOf(4), Float.valueOf(0.4f), &quot;ftw&quot;},\r\n                                         {null, Integer.valueOf(5), Float.valueOf(0.5f), &quot;wtf&quot;}};\r\n        String[] columnNames = new String[]{&quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;};\r\n        PrimitivesTableModel model = new PrimitivesTableModel(data, columnNames);\r\n\r\n        @SuppressWarnings(&quot;serial&quot;)\r\n        JTable table = new JTable(model) {\r\n            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\r\n                Object value = getValueAt(row, column);\r\n                boolean isSelected = false;\r\n                boolean hasFocus = false;\r\n\r\n                // Only indicate the selection and focused cell if not printing\r\n                if (!isPaintingForPrint()) {\r\n                    isSelected = isCellSelected(row, column);\r\n                    boolean rowIsLead = (selectionModel.getLeadSelectionIndex() == row);\r\n                    boolean colIsLead = (columnModel.getSelectionModel().getLeadSelectionIndex() == column);\r\n                    hasFocus = (rowIsLead &amp;&amp; colIsLead) &amp;&amp; isFocusOwner();\r\n                }\r\n                Component cmpt = renderer.getTableCellRendererComponent(this,\r\n                                                                        value,\r\n                                                                        isSelected,\r\n                                                                        hasFocus,\r\n                                                                        row,\r\n                                                                        column);\r\n                if (!(value instanceof Boolean)) {\r\n                    cmpt.setBackground(Color.red);\r\n                }\r\n                return cmpt;\r\n            }\r\n        };\r\n\r\n        table.setDefaultRenderer(Boolean.class, new BoolTableCellRenderer());\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        return scrollPane;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\r\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                try {\r\n                    UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n                catch (ClassNotFoundException |\r\n                       IllegalAccessException |\r\n                       InstantiationException |\r\n                       UnsupportedLookAndFeelException x) {\r\n                    x.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        EventQueue.invokeLater(() -&gt; new NewFrame().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n","title":"Nimbus takes precedence over manually defined renderer?","body":"<p>You wrote in your question (regarding the code in your question):</p>\n<blockquote>\n<p>the following code tries to paint the background for the whole table</p>\n</blockquote>\n<p>This is what I set out to do. However, you also wrote:</p>\n<blockquote>\n<p>my target is to set the background for one line at a time</p>\n</blockquote>\n<p>Then I tried a different approach  which still paints the entire background red but I'm hoping you will be able to adapt the below code to suit your requirements.</p>\n<h4>First Approach</h4>\n<p>As detailed here:<br />\n<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/color.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/color.html</a><br />\nand here:<br />\n<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/_nimbusDefaults.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/_nimbusDefaults.html</a></p>\n<p>Simply setting the appropriate properties, in class <code>UIManager</code>, achieves [what I believe to be] your desired result, i.e. making the entire <code>JTable</code> background red. This works for all columns apart from the first column of the <code>JTable</code> that displays <code>Boolean</code> values. For that, I created a custom [table] cell renderer, based on the one used by <em>Nimbus</em> look-and-feel, namely:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.swing.plaf.synth.SynthTableUI.SynthBooleanTableCellRenderer\n</code></pre>\n<p>Here is the code for that renderer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BoolTableCellRenderer extends JCheckBox implements TableCellRenderer {\n    private boolean isRowSelected;\n\n    public BoolTableCellRenderer() {\n        setHorizontalAlignment(JLabel.CENTER);\n        setName(&quot;Table.cellRenderer&quot;);\n    }\n\n    public Component getTableCellRendererComponent(JTable   table,\n                                                   Object   value,\n                                                   boolean  isSelected,\n                                                   boolean  hasFocus,\n                                                   int      row,\n                                                   int      column) {\n        isRowSelected = isSelected;\n        if (isSelected) {\n            setForeground(unwrap(table.getSelectionForeground()));\n            setBackground(unwrap(Color.red));\n        }\n        else {\n            setForeground(unwrap(table.getForeground()));\n            setBackground(unwrap(Color.red));\n        }\n        setSelected((value != null &amp;&amp; ((Boolean)value).booleanValue()));\n        return this;\n    }\n\n    private Color unwrap(Color c) {\n        if (c instanceof UIResource) {\n            return new Color(c.getRGB());\n        }\n        return c;\n    }\n\n    public boolean isOpaque() {\n        return true;\n    }\n}\n</code></pre>\n<p>I also wrote a custom <code>TableModel</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PrimitivesTableModel extends DefaultTableModel {\n\n    public PrimitivesTableModel(Object[][] data, Object[] columnNames) {\n        super(data, columnNames);\n    }\n\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        Class&lt;?&gt; columnClass;\n        switch (columnIndex) {\n            case 0:\n                columnClass = Boolean.class;\n                break;\n            case 1:\n                columnClass = Integer.class;\n                break;\n            case 2:\n                columnClass = Float.class;\n                break;\n            case 3:\n                columnClass = String.class;\n                break;\n            default:\n                columnClass = Object.class;\n        }\n        return columnClass;\n    }\n}\n</code></pre>\n<p>Here is the code for this first approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class NewsFram {\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;NewsFram&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTable(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JScrollPane createTable() {\n        Object[][] data = new Object[][]{{Boolean.valueOf(true), Integer.valueOf(1), Float.valueOf(0.1f), &quot;asd&quot;},\n                                         {Boolean.valueOf(true), Integer.valueOf(2), Float.valueOf(0.2f), &quot;lol&quot;},\n                                         {null, Integer.valueOf(3), Float.valueOf(0.3f), &quot;xd&quot;},\n                                         {null, Integer.valueOf(4), Float.valueOf(0.4f), &quot;ftw&quot;},\n                                         {null, Integer.valueOf(5), Float.valueOf(0.5f), &quot;wtf&quot;}};\n        String[] columnNames = new String[]{&quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;};\n        PrimitivesTableModel model = new PrimitivesTableModel(data, columnNames);\n        JTable table = new JTable(model);\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        table.setDefaultRenderer(Boolean.class, new BoolTableCellRenderer());\n        JScrollPane scrollPane = new JScrollPane(table);\n        return scrollPane;\n    }\n\n    public static void main(String[] args) {\n        UIManager.put(&quot;Table:\\&quot;Table.cellRenderer\\&quot;.background&quot;, Color.red);\n        UIManager.put(&quot;Table.alternateRowColor&quot;, Color.red);\n        for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\n                try {\n                    UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n                catch (ClassNotFoundException |\n                       IllegalAccessException |\n                       InstantiationException |\n                       UnsupportedLookAndFeelException x) {\n                    x.printStackTrace();\n                }\n            }\n        }\n        EventQueue.invokeLater(() -&gt; new NewsFram().buildAndDisplayGui());\n    }\n}\n</code></pre>\n<h4>Second Approach</h4>\n<p>This approach does not modify <code>UIManager</code> defaults but instead overrides method <code>prepareRenderer</code> (in class <code>JTable</code>). Note that this approach also uses the same <code>TableModel</code> and custom renderer that the first approach used.</p>\n<p>I overrode method <code>prepareRenderer</code> rather than creating another custom renderer that would be based on the general <code>JTable</code> cell renderer used by <em>Nimbus</em> look-and-feel since that renderer is much more complex than <code>SynthBooleanTableCellRenderer</code>.</p>\n<p>Here is the code for the second approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.EventQueue;\n\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.plaf.UIResource;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableCellRenderer;\n\npublic class NewFrame {\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;NewFrame&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTable(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JScrollPane createTable() {\n        Object[][] data = new Object[][]{{Boolean.valueOf(true), Integer.valueOf(1), Float.valueOf(0.1f), &quot;asd&quot;},\n                                         {Boolean.valueOf(true), Integer.valueOf(2), Float.valueOf(0.2f), &quot;lol&quot;},\n                                         {null, Integer.valueOf(3), Float.valueOf(0.3f), &quot;xd&quot;},\n                                         {null, Integer.valueOf(4), Float.valueOf(0.4f), &quot;ftw&quot;},\n                                         {null, Integer.valueOf(5), Float.valueOf(0.5f), &quot;wtf&quot;}};\n        String[] columnNames = new String[]{&quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;};\n        PrimitivesTableModel model = new PrimitivesTableModel(data, columnNames);\n\n        @SuppressWarnings(&quot;serial&quot;)\n        JTable table = new JTable(model) {\n            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\n                Object value = getValueAt(row, column);\n                boolean isSelected = false;\n                boolean hasFocus = false;\n\n                // Only indicate the selection and focused cell if not printing\n                if (!isPaintingForPrint()) {\n                    isSelected = isCellSelected(row, column);\n                    boolean rowIsLead = (selectionModel.getLeadSelectionIndex() == row);\n                    boolean colIsLead = (columnModel.getSelectionModel().getLeadSelectionIndex() == column);\n                    hasFocus = (rowIsLead &amp;&amp; colIsLead) &amp;&amp; isFocusOwner();\n                }\n                Component cmpt = renderer.getTableCellRendererComponent(this,\n                                                                        value,\n                                                                        isSelected,\n                                                                        hasFocus,\n                                                                        row,\n                                                                        column);\n                if (!(value instanceof Boolean)) {\n                    cmpt.setBackground(Color.red);\n                }\n                return cmpt;\n            }\n        };\n\n        table.setDefaultRenderer(Boolean.class, new BoolTableCellRenderer());\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        JScrollPane scrollPane = new JScrollPane(table);\n        return scrollPane;\n    }\n\n    public static void main(String[] args) {\n        for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\n                try {\n                    UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n                catch (ClassNotFoundException |\n                       IllegalAccessException |\n                       InstantiationException |\n                       UnsupportedLookAndFeelException x) {\n                    x.printStackTrace();\n                }\n            }\n        }\n        EventQueue.invokeLater(() -&gt; new NewFrame().buildAndDisplayGui());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12802207,"reputation":123,"user_id":11140379,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74236853,"answer_count":1,"score":0,"last_activity_date":1666967411,"creation_date":1666903865,"question_id":74228168,"body_markdown":"Making a GUI in Swing (NetBeans 15, Sun JDK 19.0.1), i&#39;m trying to set custom background color for JTable rows and encountered issues with boolean cells, and i can&#39;t seem to be able to make the background uniform across all cells.\r\nPlease note that the following code tries to paint the background for the whole table, but my target is to set the background for one line at a time; this code serves the only purpose of highlighting the weird interaction between Nimbus alternate row coloring and the custom renderers i have personally encountered.\r\n\r\nThe issue seems vastly documented already, here&#39;s what i tried:\r\n\r\nFirst attempt [using a custom renderer](https://stackoverflow.com/questions/10017517/java-swing-jtable-set-color-for-selected-row-but-not-cell), like so:\r\n\r\n```\r\n   class MyTableRenderer implements TableCellRenderer {\r\n        private final TableCellRenderer renderer;\r\n\r\n        public MyTableRenderer(TableCellRenderer renderer) {\r\n            this.renderer = renderer;\r\n        }\r\n        \r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            Component c = renderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row,  column);\r\n            //c.setOpaque(true);\r\n            c.setBackground(Color.red);\r\n            return c;\r\n        }\r\n    }\r\n```\r\n\r\nand got this result:&lt;br&gt;\r\n[![booleans have white background](https://i.stack.imgur.com/KBC82.png)](https://i.stack.imgur.com/KBC82.png)&lt;br&gt;&lt;br&gt;\r\nUncommenting the `c.setOpaque(true);` line yields the following:\r\n[![booleans have alternating background](https://i.stack.imgur.com/q6Jfq.png)](https://i.stack.imgur.com/q6Jfq.png)&lt;br&gt;&lt;br&gt;\r\n\r\nSecond attempt, by means of the method `PrepareRenderer()` as documented [here](https://tips4java.wordpress.com/2010/01/24/table-row-rendering/), and i made it this way:\r\n```\r\ntbl_Correction = new JTable() {\r\n    @Override\r\n    public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\r\n        Component c = super.prepareRenderer(renderer, row, column);\r\n        //((JComponent)c).setOpaque(true);\r\n        c.setBackground(Color.red);\r\n        return c;\r\n    }\r\n};\r\n```\r\ngot the exact same behavior as before, down to the detail of uncommenting the `setOpaque` line.\r\n\r\nFurther reading revealed that the alternate table row coloring is handled by the Nimbus Look&amp;Feel, which NetBeans IDE configured automagically upon creation of the project, so i tried adding this line after the Nimbus configuration:\r\n`UIManager.getLookAndFeelDefaults().put(&quot;Table.alternateRowColor&quot;, Color.GREEN);`\r\nwhich led to this &lt;br&gt;[![booleans have alternating green background](https://i.stack.imgur.com/gcXqC.png)](https://i.stack.imgur.com/gcXqC.png)&lt;br&gt;\r\nand to the conclusion that Nimbus might be interfering with the intended cell rendering.\r\nIndeed, removing Nimbus altogether gives me the result i want, but sends the rest of the UI back to the middle ages...\r\n\r\nOddly enough, if i select a cell, the whole row gets the correct background, including the boolean cells:&lt;br&gt;\r\n[![enter image description here](https://i.stack.imgur.com/2QwfJ.png)](https://i.stack.imgur.com/2QwfJ.png)\r\n\r\nThe last relevant piece of info i found is this, in the javadoc for the setBackground() method: `It is up to the look and feel to honor this property, some may choose to ignore it.` which made me dubious this can even work withoud swapping Nimbus for something else.\r\n\r\nMy conclusion: no matter where i put the rendering instructions, i can only manage to change the background of the booleans that are **not** on one of the alternating rows, unless the row is selected.\r\n\r\nThe question: did i miss some major obvious configuration step? Or perhaps is there a way to disable Nimbus&#39;s Table alternating row colors? Or again, is this some sort of known issue?\r\n\r\n(more SO answers:\r\n[this](https://stackoverflow.com/questions/16054330/jtable-problems-with-boolean-class-cell-renderer-and-nimbus-look-and-feel) is not relevant;\r\n[this ](https://stackoverflow.com/questions/6601994/jtable-boolean-cell-type-background) does not work;)\r\n\r\nEdit: added SSCCE, though being GUI code made from the IDE is far from short.&lt;br&gt;\r\n```\r\npackage tabletest;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.TableCellRenderer;\r\n\r\npublic class NewJFrame extends javax.swing.JFrame {\r\n    public NewJFrame() {\r\n        initComponents();\r\n        \r\n        // attempt #1        \r\n        /*\r\n        jTable1.setDefaultRenderer(Boolean.class, new MyTableRenderer(jTable1.getDefaultRenderer(Boolean.class)));;\r\n        jTable1.setDefaultRenderer(String.class, new MyTableRenderer(jTable1.getDefaultRenderer(String.class)));;\r\n        */\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        jTable1 = new javax.swing.JTable() {\r\n            //attempt #2\r\n            @Override\r\n            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\r\n                Component c = super.prepareRenderer(renderer, row, column);\r\n                //((JComponent)c).setOpaque(true);\r\n                c.setBackground(Color.red);\r\n                return c;\r\n            }\r\n        }\r\n        ;\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jTable1.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                { new Boolean(true),  new Integer(1),  new Float(0.1), &quot;asd&quot;},\r\n                { new Boolean(true),  new Integer(2),  new Float(0.2), &quot;lol&quot;},\r\n                {null,  new Integer(3),  new Float(0.3), &quot;xd&quot;},\r\n                {null,  new Integer(4),  new Float(0.4), &quot;ftw&quot;},\r\n                {null,  new Integer(5),  new Float(0.5), &quot;wtf&quot;}\r\n            },\r\n            new String [] {\r\n                &quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;\r\n            }\r\n        ) {\r\n            Class[] types = new Class [] {\r\n                java.lang.Boolean.class, java.lang.Integer.class, java.lang.Float.class, java.lang.String.class\r\n            };\r\n\r\n            public Class getColumnClass(int columnIndex) {\r\n                return types [columnIndex];\r\n            }\r\n        });\r\n        jScrollPane1.setViewportView(jTable1);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(59, 59, 59)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(174, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(25, 25, 25)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(100, Short.MAX_VALUE))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new NewJFrame().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    \r\n    //attempt #1\r\n    class MyTableRenderer implements TableCellRenderer {\r\n        private final TableCellRenderer renderer;\r\n\r\n        public MyTableRenderer(TableCellRenderer renderer) {\r\n            this.renderer = renderer;\r\n        }\r\n        \r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            Component c = renderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row,  column);\r\n            //c.setOpaque(true);\r\n            c.setBackground(Color.red);\r\n            return c;\r\n        }\r\n    }\r\n    \r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JTable jTable1;\r\n    // End of variables declaration                   \r\n}\r\n```","title":"Nimbus takes precedence over manually defined renderer?","body":"<p>Making a GUI in Swing (NetBeans 15, Sun JDK 19.0.1), i'm trying to set custom background color for JTable rows and encountered issues with boolean cells, and i can't seem to be able to make the background uniform across all cells.\nPlease note that the following code tries to paint the background for the whole table, but my target is to set the background for one line at a time; this code serves the only purpose of highlighting the weird interaction between Nimbus alternate row coloring and the custom renderers i have personally encountered.</p>\n<p>The issue seems vastly documented already, here's what i tried:</p>\n<p>First attempt <a href=\"https://stackoverflow.com/questions/10017517/java-swing-jtable-set-color-for-selected-row-but-not-cell\">using a custom renderer</a>, like so:</p>\n<pre><code>   class MyTableRenderer implements TableCellRenderer {\n        private final TableCellRenderer renderer;\n\n        public MyTableRenderer(TableCellRenderer renderer) {\n            this.renderer = renderer;\n        }\n        \n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            Component c = renderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row,  column);\n            //c.setOpaque(true);\n            c.setBackground(Color.red);\n            return c;\n        }\n    }\n</code></pre>\n<p>and got this result:<br>\n<a href=\"https://i.stack.imgur.com/KBC82.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KBC82.png\" alt=\"booleans have white background\" /></a><br><br>\nUncommenting the <code>c.setOpaque(true);</code> line yields the following:\n<a href=\"https://i.stack.imgur.com/q6Jfq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6Jfq.png\" alt=\"booleans have alternating background\" /></a><br><br></p>\n<p>Second attempt, by means of the method <code>PrepareRenderer()</code> as documented <a href=\"https://tips4java.wordpress.com/2010/01/24/table-row-rendering/\" rel=\"nofollow noreferrer\">here</a>, and i made it this way:</p>\n<pre><code>tbl_Correction = new JTable() {\n    @Override\n    public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\n        Component c = super.prepareRenderer(renderer, row, column);\n        //((JComponent)c).setOpaque(true);\n        c.setBackground(Color.red);\n        return c;\n    }\n};\n</code></pre>\n<p>got the exact same behavior as before, down to the detail of uncommenting the <code>setOpaque</code> line.</p>\n<p>Further reading revealed that the alternate table row coloring is handled by the Nimbus Look&amp;Feel, which NetBeans IDE configured automagically upon creation of the project, so i tried adding this line after the Nimbus configuration:\n<code>UIManager.getLookAndFeelDefaults().put(&quot;Table.alternateRowColor&quot;, Color.GREEN);</code>\nwhich led to this <br><a href=\"https://i.stack.imgur.com/gcXqC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gcXqC.png\" alt=\"booleans have alternating green background\" /></a><br>\nand to the conclusion that Nimbus might be interfering with the intended cell rendering.\nIndeed, removing Nimbus altogether gives me the result i want, but sends the rest of the UI back to the middle ages...</p>\n<p>Oddly enough, if i select a cell, the whole row gets the correct background, including the boolean cells:<br>\n<a href=\"https://i.stack.imgur.com/2QwfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2QwfJ.png\" alt=\"enter image description here\" /></a></p>\n<p>The last relevant piece of info i found is this, in the javadoc for the setBackground() method: <code>It is up to the look and feel to honor this property, some may choose to ignore it.</code> which made me dubious this can even work withoud swapping Nimbus for something else.</p>\n<p>My conclusion: no matter where i put the rendering instructions, i can only manage to change the background of the booleans that are <strong>not</strong> on one of the alternating rows, unless the row is selected.</p>\n<p>The question: did i miss some major obvious configuration step? Or perhaps is there a way to disable Nimbus's Table alternating row colors? Or again, is this some sort of known issue?</p>\n<p>(more SO answers:\n<a href=\"https://stackoverflow.com/questions/16054330/jtable-problems-with-boolean-class-cell-renderer-and-nimbus-look-and-feel\">this</a> is not relevant;\n<a href=\"https://stackoverflow.com/questions/6601994/jtable-boolean-cell-type-background\">this </a> does not work;)</p>\n<p>Edit: added SSCCE, though being GUI code made from the IDE is far from short.<br></p>\n<pre><code>package tabletest;\n\nimport java.awt.Color;\nimport java.awt.Component;\nimport javax.swing.JTable;\nimport javax.swing.table.TableCellRenderer;\n\npublic class NewJFrame extends javax.swing.JFrame {\n    public NewJFrame() {\n        initComponents();\n        \n        // attempt #1        \n        /*\n        jTable1.setDefaultRenderer(Boolean.class, new MyTableRenderer(jTable1.getDefaultRenderer(Boolean.class)));;\n        jTable1.setDefaultRenderer(String.class, new MyTableRenderer(jTable1.getDefaultRenderer(String.class)));;\n        */\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jScrollPane1 = new javax.swing.JScrollPane();\n        jTable1 = new javax.swing.JTable() {\n            //attempt #2\n            @Override\n            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\n                Component c = super.prepareRenderer(renderer, row, column);\n                //((JComponent)c).setOpaque(true);\n                c.setBackground(Color.red);\n                return c;\n            }\n        }\n        ;\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jTable1.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                { new Boolean(true),  new Integer(1),  new Float(0.1), &quot;asd&quot;},\n                { new Boolean(true),  new Integer(2),  new Float(0.2), &quot;lol&quot;},\n                {null,  new Integer(3),  new Float(0.3), &quot;xd&quot;},\n                {null,  new Integer(4),  new Float(0.4), &quot;ftw&quot;},\n                {null,  new Integer(5),  new Float(0.5), &quot;wtf&quot;}\n            },\n            new String [] {\n                &quot;bool&quot;, &quot;int&quot;, &quot;float&quot;, &quot;string&quot;\n            }\n        ) {\n            Class[] types = new Class [] {\n                java.lang.Boolean.class, java.lang.Integer.class, java.lang.Float.class, java.lang.String.class\n            };\n\n            public Class getColumnClass(int columnIndex) {\n                return types [columnIndex];\n            }\n        });\n        jScrollPane1.setViewportView(jTable1);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(59, 59, 59)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(174, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(25, 25, 25)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(100, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame().setVisible(true);\n            }\n        });\n    }\n    \n    //attempt #1\n    class MyTableRenderer implements TableCellRenderer {\n        private final TableCellRenderer renderer;\n\n        public MyTableRenderer(TableCellRenderer renderer) {\n            this.renderer = renderer;\n        }\n        \n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            Component c = renderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row,  column);\n            //c.setOpaque(true);\n            c.setBackground(Color.red);\n            return c;\n        }\n    }\n    \n    // Variables declaration - do not modify                     \n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JTable jTable1;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","android","android-layout","android-constraintlayout"],"comments":[{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1549336081,"post_id":54527197,"comment_id":95856419,"body_markdown":"&quot;tools:layout_editor_absoluteX=&quot;0dp&quot;&quot; This line hurts &quot;in Android Studio&quot;. For the source of gap, please see, maybe, the container for this XML you pasted in question.","body":"&quot;tools:layout_editor_absoluteX=&quot;0dp&quot;&quot; This line hurts &quot;in Android Studio&quot;. For the source of gap, please see, maybe, the container for this XML you pasted in question."},{"owner":{"account_id":5603895,"reputation":1726,"user_id":4439179,"accept_rate":75,"display_name":"Priyanka Alachiya"},"score":1,"creation_date":1549336501,"post_id":54527197,"comment_id":95856495,"body_markdown":"Try adding &#39;app:layout_constraintTop_toTopOf=&quot;parent&quot;&#39; to ImageView. And also try removing &#39;android:gravity=&quot;center&quot;&#39; from parent constraint layout.","body":"Try adding &#39;app:layout_constraintTop_toTopOf=&quot;parent&quot;&#39; to ImageView. And also try removing &#39;android:gravity=&quot;center&quot;&#39; from parent constraint layout."},{"owner":{"account_id":13297345,"reputation":263,"user_id":9599874,"display_name":"vimukthi"},"score":0,"creation_date":1549337007,"post_id":54527197,"comment_id":95856557,"body_markdown":"I think you mention about action bar in your question","body":"I think you mention about action bar in your question"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1549337061,"post_id":54527197,"comment_id":95856568,"body_markdown":"Whats the heme of your `Activity`? That gap maybe is `ActionBar`?","body":"Whats the heme of your <code>Activity</code>? That gap maybe is <code>ActionBar</code>?"},{"owner":{"account_id":10601710,"reputation":1007,"user_id":7808468,"display_name":"Mark Denom"},"score":0,"creation_date":1549337115,"post_id":54527197,"comment_id":95856577,"body_markdown":"There is no ActionBar there","body":"There is no ActionBar there"},{"owner":{"account_id":10601710,"reputation":1007,"user_id":7808468,"display_name":"Mark Denom"},"score":0,"creation_date":1549337141,"post_id":54527197,"comment_id":95856582,"body_markdown":"The gap is literally just empry space, I can see the background color","body":"The gap is literally just empry space, I can see the background color"},{"owner":{"account_id":5680624,"reputation":1330,"user_id":4491971,"display_name":"Mohit Ajwani"},"score":0,"creation_date":1549340085,"post_id":54527197,"comment_id":95857085,"body_markdown":"@MarkDenom I suppose the empty space is due to the default padding of the container layout. You could check the `styles.xml` if it is applied to a specific layout or you can check if the containing `ViewGroup` has some padding or margin.","body":"@MarkDenom I suppose the empty space is due to the default padding of the container layout. You could check the <code>styles.xml</code> if it is applied to a specific layout or you can check if the containing <code>ViewGroup</code> has some padding or margin."},{"owner":{"account_id":5908022,"reputation":3067,"user_id":4649110,"display_name":"Basi"},"score":0,"creation_date":1549348932,"post_id":54527197,"comment_id":95859483,"body_markdown":"please add the theme of your `Activity`","body":"please add the theme of your <code>Activity</code>"}],"answers":[{"tags":[],"owner":{"account_id":9630757,"reputation":1055,"user_id":7148752,"display_name":"Masum Billah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549336055,"creation_date":1549336055,"answer_id":54527241,"question_id":54527197,"body_markdown":"**I am using this. You can try this.**\r\n\r\n  \r\n\r\n      &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;&gt;\r\n    \r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_margin=&quot;16dp&quot;\r\n                android:src=&quot;@drawable/logo&quot; /&gt;\r\n       &lt;/ScrollView&gt;","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p><strong>I am using this. You can try this.</strong></p>\n\n<pre><code>  &lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:fitsSystemWindows=\"true\"&gt;\n\n\n        &lt;ImageView\n            android:id=\"@+id/imageView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center_horizontal\"\n            android:layout_margin=\"16dp\"\n            android:src=\"@drawable/logo\" /&gt;\n   &lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549340683,"creation_date":1549338944,"answer_id":54527519,"question_id":54527197,"body_markdown":"To set any view on parent top to use this attribute \r\n\r\n**app:layout_constraintTop_toTopOf=&quot;@+id/parent_id&quot;**\r\n\r\nthis is my code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#fff&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:id=&quot;@+id/main&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:srcCompat=&quot;@drawable/demo_img_4&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/main&quot; /&gt;\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\nanother code using linear layout\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#fff&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        app:srcCompat=&quot;@drawable/demo_img_4&quot; /&gt;\r\n     &lt;/LinearLayout&gt;\r\n\r\nnote: try another image \r\n\r\nI hope it work for you","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p>To set any view on parent top to use this attribute </p>\n\n<p><strong>app:layout_constraintTop_toTopOf=\"@+id/parent_id\"</strong></p>\n\n<p>this is my code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;android.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#fff\"\nandroid:orientation=\"vertical\"\nandroid:id=\"@+id/main\"&gt;\n\n\n&lt;ImageView\n    android:id=\"@+id/imageView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:srcCompat=\"@drawable/demo_img_4\"\n    app:layout_constraintTop_toTopOf=\"@+id/main\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>another code using linear layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#fff\"\nandroid:orientation=\"vertical\"&gt;\n&lt;ImageView\n    android:id=\"@+id/imageView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"350dp\"\n    app:srcCompat=\"@drawable/demo_img_4\" /&gt;\n &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>note: try another image </p>\n\n<p>I hope it work for you</p>\n"},{"tags":[],"owner":{"account_id":9042344,"reputation":329,"user_id":6736144,"display_name":"Hemil Kumbhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549345199,"creation_date":1549345199,"answer_id":54528270,"question_id":54527197,"body_markdown":"All you need to do is add following code in your `imageView`\r\n\r\n     app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\r\nand other approach would be to use `LinearLayout` or `RelativeLayout` as your parent Layout","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p>All you need to do is add following code in your <code>imageView</code></p>\n\n<pre><code> app:layout_constraintTop_toTopOf=\"parent\"\n</code></pre>\n\n<p>and other approach would be to use <code>LinearLayout</code> or <code>RelativeLayout</code> as your parent Layout</p>\n"},{"tags":[],"owner":{"account_id":26761233,"reputation":1,"user_id":20359141,"display_name":"Eduardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666966970,"creation_date":1666966970,"answer_id":74236754,"question_id":54527197,"body_markdown":"I had a problem similar to this one. In my case the gap was caused by an empty top action bar.\r\n\r\nMy issue was that I was using a fragment inside the `main_activity.xml`. All I had to do to fix the problem was to delete the line `android:paddingTop=&quot;?attr/actionBarSize&quot;` from the container of the fragment in the `main_activity.xml` file.\r\n\r\nI hope this helps someone to save their time.","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p>I had a problem similar to this one. In my case the gap was caused by an empty top action bar.</p>\n<p>My issue was that I was using a fragment inside the <code>main_activity.xml</code>. All I had to do to fix the problem was to delete the line <code>android:paddingTop=&quot;?attr/actionBarSize&quot;</code> from the container of the fragment in the <code>main_activity.xml</code> file.</p>\n<p>I hope this helps someone to save their time.</p>\n"}],"owner":{"account_id":10601710,"reputation":1007,"user_id":7808468,"display_name":"Mark Denom"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1666966970,"creation_date":1549335559,"question_id":54527197,"body_markdown":"So I am trying to get the image to align with the top of the screen and there is currently a gap between the `ImageView` and the bar where you can see the battery etc.\r\n\r\nIt doesn&#39;t show the gap in layout preview but it does on my phone.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9hWE0.png\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/Background&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.SomeActivity&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;350dp&quot;\r\n            android:src=&quot;@drawable/man&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot; /&gt;","title":"How do I set my ImageView to the top of the screen no matter what resolution?","body":"<p>So I am trying to get the image to align with the top of the screen and there is currently a gap between the <code>ImageView</code> and the bar where you can see the battery etc.</p>\n\n<p>It doesn't show the gap in layout preview but it does on my phone.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9hWE0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9hWE0.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/Background\"\n    android:orientation=\"vertical\"\n    tools:context=\".SomeActivity\"\n    android:gravity=\"center\"&gt;\n\n\n    &lt;ImageView\n        android:id=\"@+id/imageView2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"350dp\"\n        android:src=\"@drawable/man\"\n        tools:layout_editor_absoluteX=\"0dp\" /&gt;\n</code></pre>\n"},{"tags":["java","reflection","jvm","unsafe"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1517813291,"post_id":48616630,"comment_id":84230956,"body_markdown":"If you&#39;re asking about JVM internals, you&#39;re not asking about Java as a language.","body":"If you&#39;re asking about JVM internals, you&#39;re not asking about Java as a language."},{"owner":{"account_id":3276497,"reputation":7333,"user_id":2758343,"accept_rate":100,"display_name":"Oleg Pyzhcov"},"score":0,"creation_date":1517814267,"post_id":48616630,"comment_id":84231304,"body_markdown":"@AndyTurner I&#39;m asking if there is a way to do what I&#39;m asking about, by whatever means necessary.","body":"@AndyTurner I&#39;m asking if there is a way to do what I&#39;m asking about, by whatever means necessary."}],"answers":[{"comments":[{"owner":{"account_id":3276497,"reputation":7333,"user_id":2758343,"accept_rate":100,"display_name":"Oleg Pyzhcov"},"score":0,"creation_date":1517811681,"post_id":48616680,"comment_id":84230421,"body_markdown":"Thank you for your answer. I know that part about regular reflection API. However, in JVM bytecode instance creation is two-fold: `new`, to allocate memory, and `invokespecial`, to call a constructor. So it might be possible in theory to achieve what I want","body":"Thank you for your answer. I know that part about regular reflection API. However, in JVM bytecode instance creation is two-fold: <code>new</code>, to allocate memory, and <code>invokespecial</code>, to call a constructor. So it might be possible in theory to achieve what I want"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517811112,"creation_date":1517810579,"answer_id":48616680,"question_id":48616630,"body_markdown":"A constructor is not an instance method, so no you can&#39;t invoke a constructor on an instance.\r\n\r\nIf you look at the reflection library, you&#39;ll see that the return type of [`Class.getConstructor()`][1] is [`Constructor`][2], which doesn&#39;t have any methods that can accept a instance - its only relevant method is [`newInstance()`][3], which doesn&#39;t accept a target instance; it creates one.\r\n\r\nOn the other hand, the return type of [`Class.getMethod()`][4] is [`Method`][5], whose first parameter is the instance.\r\n\r\nA `Constructor` is not a `Method`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethod-java.lang.String-java.lang.Class...-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html","title":"Is it possible to call constructor on existing instance?","body":"<p>A constructor is not an instance method, so no you can't invoke a constructor on an instance.</p>\n\n<p>If you look at the reflection library, you'll see that the return type of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\" rel=\"nofollow noreferrer\"><code>Class.getConstructor()</code></a> is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html\" rel=\"nofollow noreferrer\"><code>Constructor</code></a>, which doesn't have any methods that can accept a instance - its only relevant method is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>newInstance()</code></a>, which doesn't accept a target instance; it creates one.</p>\n\n<p>On the other hand, the return type of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethod-java.lang.String-java.lang.Class...-\" rel=\"nofollow noreferrer\"><code>Class.getMethod()</code></a> is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html\" rel=\"nofollow noreferrer\"><code>Method</code></a>, whose first parameter is the instance.</p>\n\n<p>A <code>Constructor</code> is not a <code>Method</code>.</p>\n"},{"comments":[{"owner":{"account_id":3276497,"reputation":7333,"user_id":2758343,"accept_rate":100,"display_name":"Oleg Pyzhcov"},"score":0,"creation_date":1517812834,"post_id":48616867,"comment_id":84230808,"body_markdown":"Thanks for your answer. The JLS, however, only covers &quot;normal&quot; Java. E.g. it says `... it is possible to prevent class instantiation by declaring an inaccessible constructor`, without considering reflection&#39;s `setAccessible(true)` or `Unsafe`. With these things in mind, it&#39;s not at all possible to prevent class instantiation. My question is about the same level of unsafe manipulations.","body":"Thanks for your answer. The JLS, however, only covers &quot;normal&quot; Java. E.g. it says <code>... it is possible to prevent class instantiation by declaring an inaccessible constructor</code>, without considering reflection&#39;s <code>setAccessible(true)</code> or <code>Unsafe</code>. With these things in mind, it&#39;s not at all possible to prevent class instantiation. My question is about the same level of unsafe manipulations."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1517813203,"post_id":48616867,"comment_id":84230927,"body_markdown":"Having made the constructor visible, you can still only invoke it in one of the quoted ways.","body":"Having made the constructor visible, you can still only invoke it in one of the quoted ways."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1517813380,"post_id":48616867,"comment_id":84230988,"body_markdown":"@Oleg it is possible to prevent class instantiation, even if employing reflection by declaring a (typically `private`) constructor that throws an exception. See [this answer](https://stackoverflow.com/a/14077876/256196)","body":"@Oleg it is possible to prevent class instantiation, even if employing reflection by declaring a (typically <code>private</code>) constructor that throws an exception. See <a href=\"https://stackoverflow.com/a/14077876/256196\">this answer</a>"},{"owner":{"account_id":3276497,"reputation":7333,"user_id":2758343,"accept_rate":100,"display_name":"Oleg Pyzhcov"},"score":0,"creation_date":1517813482,"post_id":48616867,"comment_id":84231031,"body_markdown":"@Bohemian you can still create an instance using `Unsafe`, since, as I&#39;ve already mentioned, that would not invoke your constructor.","body":"@Bohemian you can still create an instance using <code>Unsafe</code>, since, as I&#39;ve already mentioned, that would not invoke your constructor."}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517811796,"creation_date":1517811796,"answer_id":48616867,"question_id":48616630,"body_markdown":"From [JLS Sec 8.8](https://docs.oracle.com/javase/specs/jls/se9/html/jls-8.html#jls-8.8)\n\n&gt; Constructors are invoked by class instance creation expressions (&#167;15.9), by the conversions and concatenations caused by the string concatenation operator&#160;+(&#167;15.18.1), and by explicit constructor invocations from other constructors (&#167;8.8.7).&#160;\n&gt;\n&gt; ...\n&gt;\n&gt; Constructors are never invoked by method invocation expressions (&#167;15.12).\n\nSo no, it&#39;s not possible.\n\nIf there is some common action you want to take in the constructor and elsewhere, put it into a method, and invoke that from the constructor.","title":"Is it possible to call constructor on existing instance?","body":"<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-8.html#jls-8.8\" rel=\"nofollow noreferrer\">JLS Sec 8.8</a></p>\n\n<blockquote>\n  <p>Constructors are invoked by class instance creation expressions (15.9), by the conversions and concatenations caused by the string concatenation operator+(15.18.1), and by explicit constructor invocations from other constructors (8.8.7).</p>\n  \n  <p>...</p>\n  \n  <p>Constructors are never invoked by method invocation expressions (15.12).</p>\n</blockquote>\n\n<p>So no, it's not possible.</p>\n\n<p>If there is some common action you want to take in the constructor and elsewhere, put it into a method, and invoke that from the constructor.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517817852,"creation_date":1517815533,"answer_id":48617594,"question_id":48616630,"body_markdown":"In the [JVM spec for `invokespecial`](https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-4.html#jvms-4.10.1.9.invokespecial):\n\n&gt; An&#160;`invokespecial`&#160;instruction is type safe iff all of the following are true:\n&gt;\n&gt; ... (Stuff about non-init methods)\n&gt;\n&gt; * MethodName is&#160;`&lt;init&gt;`.\n&gt; * Descriptor&#160;specifies a&#160;void&#160;return type.\n&gt; * One can validly pop types matching the argument types given in&#160;Descriptor and an uninitialized type,&#160;UninitializedArg, off the incoming operand stack, yielding&#160;OperandStack.\n&gt; * ...\n\nIf you&#39;ve already initialized the instance, it&#39;s not an uninitialized type, so this will fail.\n\nNote that other `invoke*` instructions (`invokevirtual`, `invokeinterface`, `invokestatic`, `invokedynamic`) explicitly preclude invocation of `&lt;init&gt;` methods, so `invokespecial` is the only way to invoke them.","title":"Is it possible to call constructor on existing instance?","body":"<p>In the <a href=\"https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-4.html#jvms-4.10.1.9.invokespecial\" rel=\"nofollow noreferrer\">JVM spec for <code>invokespecial</code></a>:</p>\n\n<blockquote>\n  <p>An<code>invokespecial</code>instruction is type safe iff all of the following are true:</p>\n  \n  <p>... (Stuff about non-init methods)</p>\n  \n  <ul>\n  <li>MethodName is<code>&lt;init&gt;</code>.</li>\n  <li>Descriptorspecifies avoidreturn type.</li>\n  <li>One can validly pop types matching the argument types given inDescriptor and an uninitialized type,UninitializedArg, off the incoming operand stack, yieldingOperandStack.</li>\n  <li>...</li>\n  </ul>\n</blockquote>\n\n<p>If you've already initialized the instance, it's not an uninitialized type, so this will fail.</p>\n\n<p>Note that other <code>invoke*</code> instructions (<code>invokevirtual</code>, <code>invokeinterface</code>, <code>invokestatic</code>, <code>invokedynamic</code>) explicitly preclude invocation of <code>&lt;init&gt;</code> methods, so <code>invokespecial</code> is the only way to invoke them.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1517849223,"post_id":48621266,"comment_id":84251663,"body_markdown":"Now the really interesting question what will happen if `TestObject` has a nontrivial `finalize()` method?","body":"Now the really interesting question what will happen if <code>TestObject</code> has a nontrivial <code>finalize()</code> method?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":3,"creation_date":1517853559,"post_id":48621266,"comment_id":84254148,"body_markdown":"@Holger Excellent question! By default, HotSpot JVM registers finalizers at the end of `Object.&lt;init&gt;`. That is, `finalize()` can be called twice for the same object. With `-XX:-RegisterFinalizersAtInit` flag finalizers are registered right after the object allocations, so `finalize()` will be called just once.","body":"@Holger Excellent question! By default, HotSpot JVM registers finalizers at the end of <code>Object.&lt;init&gt;</code>. That is, <code>finalize()</code> can be called twice for the same object. With <code>-XX:-RegisterFinalizersAtInit</code> flag finalizers are registered right after the object allocations, so <code>finalize()</code> will be called just once."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1517854005,"post_id":48621266,"comment_id":84254376,"body_markdown":"Oh. Its interesting that there is an option to alter that behavior, as that seems to contradict the specification, [JLS &#167;12.6.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.6.1-330): *An object o is not finalizable until its constructor has invoked the constructor for Object on o and that invocation has completed successfully (that is, without throwing an exception).* It doesnt look like this can still be guaranteed if the object is already registered at allocation.","body":"Oh. Its interesting that there is an option to alter that behavior, as that seems to contradict the specification, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.6.1-330\" rel=\"nofollow noreferrer\">JLS &#167;12.6.1</a>: <i>An object o is not finalizable until its constructor has invoked the constructor for Object on o and that invocation has completed successfully (that is, without throwing an exception).</i> It doesnt look like this can still be guaranteed if the object is already registered at allocation."}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1517828976,"creation_date":1517828976,"answer_id":48621266,"question_id":48616630,"body_markdown":"[JVMS &#167;2.9](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.9) forbids invocation of constructor on already initialized objects:\r\n\r\n&gt; Instance initialization methods may be invoked only within the Java\r\n&gt; Virtual Machine by the invokespecial instruction, and\r\n&gt; they may be invoked only on uninitialized class instances.\r\n\r\nHowever, it is still **technically possible** to invoke constructor on initialized object with **JNI**. [CallVoidMethod](https://docs.oracle.com/javase/9/docs/specs/jni/functions.html#calltypemethod-routines-calltypemethoda-routines-calltypemethodv-routines) function does not make difference between `&lt;init&gt;` and ordinary Java methods. Moreover, JNI specification hints that `CallVoidMethod` *may* be used to call a constructor, though it does not say whether an instance has to be initialized or not:\r\n\r\n&gt; When these functions are **used to call** private methods and **constructors**, the method ID must be derived from the real class of obj, not from one of its superclasses.\r\n\r\nI&#39;ve verified that the following code works both in JDK 8 and JDK 9. JNI allows you to do unsafe things, but you **should not rely** on this in production applications.\r\n\r\n**ConstructorInvoker.java**\r\n\r\n    public class ConstructorInvoker {\r\n    \r\n        static {\r\n            System.loadLibrary(&quot;constructorInvoker&quot;);\r\n        }\r\n    \r\n        public static native void invoke(Object instance);\r\n    }\r\n\r\n**constructorInvoker.c**\r\n\r\n    #include &lt;jni.h&gt;\r\n\r\n    JNIEXPORT void JNICALL\r\n    Java_ConstructorInvoker_invoke(JNIEnv* env, jclass self, jobject instance) {\r\n        jclass cls = (*env)-&gt;GetObjectClass(env, instance);\r\n        jmethodID constructor = (*env)-&gt;GetMethodID(env, cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n        (*env)-&gt;CallVoidMethod(env, instance, constructor);\r\n    }\r\n\r\n**TestObject.java**\r\n\r\n    public class TestObject {\r\n        int x;\r\n    \r\n        public TestObject() {\r\n            System.out.println(&quot;Constructor called&quot;);\r\n            x++;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            TestObject obj = new TestObject();\r\n            System.out.println(&quot;x = &quot; + obj.x);  // x = 1\r\n    \r\n            ConstructorInvoker.invoke(obj);\r\n            System.out.println(&quot;x = &quot; + obj.x);  // x = 2\r\n        }\r\n    }\r\n","title":"Is it possible to call constructor on existing instance?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.9\" rel=\"noreferrer\">JVMS 2.9</a> forbids invocation of constructor on already initialized objects:</p>\n\n<blockquote>\n  <p>Instance initialization methods may be invoked only within the Java\n  Virtual Machine by the invokespecial instruction, and\n  they may be invoked only on uninitialized class instances.</p>\n</blockquote>\n\n<p>However, it is still <strong>technically possible</strong> to invoke constructor on initialized object with <strong>JNI</strong>. <a href=\"https://docs.oracle.com/javase/9/docs/specs/jni/functions.html#calltypemethod-routines-calltypemethoda-routines-calltypemethodv-routines\" rel=\"noreferrer\">CallVoidMethod</a> function does not make difference between <code>&lt;init&gt;</code> and ordinary Java methods. Moreover, JNI specification hints that <code>CallVoidMethod</code> <em>may</em> be used to call a constructor, though it does not say whether an instance has to be initialized or not:</p>\n\n<blockquote>\n  <p>When these functions are <strong>used to call</strong> private methods and <strong>constructors</strong>, the method ID must be derived from the real class of obj, not from one of its superclasses.</p>\n</blockquote>\n\n<p>I've verified that the following code works both in JDK 8 and JDK 9. JNI allows you to do unsafe things, but you <strong>should not rely</strong> on this in production applications.</p>\n\n<p><strong>ConstructorInvoker.java</strong></p>\n\n<pre><code>public class ConstructorInvoker {\n\n    static {\n        System.loadLibrary(\"constructorInvoker\");\n    }\n\n    public static native void invoke(Object instance);\n}\n</code></pre>\n\n<p><strong>constructorInvoker.c</strong></p>\n\n<pre><code>#include &lt;jni.h&gt;\n\nJNIEXPORT void JNICALL\nJava_ConstructorInvoker_invoke(JNIEnv* env, jclass self, jobject instance) {\n    jclass cls = (*env)-&gt;GetObjectClass(env, instance);\n    jmethodID constructor = (*env)-&gt;GetMethodID(env, cls, \"&lt;init&gt;\", \"()V\");\n    (*env)-&gt;CallVoidMethod(env, instance, constructor);\n}\n</code></pre>\n\n<p><strong>TestObject.java</strong></p>\n\n<pre><code>public class TestObject {\n    int x;\n\n    public TestObject() {\n        System.out.println(\"Constructor called\");\n        x++;\n    }\n\n    public static void main(String[] args) {\n        TestObject obj = new TestObject();\n        System.out.println(\"x = \" + obj.x);  // x = 1\n\n        ConstructorInvoker.invoke(obj);\n        System.out.println(\"x = \" + obj.x);  // x = 2\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10699736,"reputation":133,"user_id":7875532,"display_name":"fxshlein"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666966636,"creation_date":1666966636,"answer_id":74236692,"question_id":48616630,"body_markdown":"It seems that with some (very dubious) tricks this is possible, even without going through a custom native library, by (ab)using method handles.\r\n\r\nThis method essentially tricks the JVM into thinking it is currently invoking a regular method instead of a constructor.\r\n\r\nI just have to add a mandatory &quot;this is probably not a good idea&quot;, but this is the only way I found for doing this. I also can&#39;t attest to how this behaves on different JVMs.\r\n\r\n## Prerequisites ##\r\n\r\nTo do this, an instance of `sun.misc.Unsafe` is needed. I will not go into detail about how to obtain this here since you already seem to have one, but [this guide](https://www.baeldung.com/java-unsafe) explains the process.\r\n\r\n## Step 1: Obtaining a trusted `MethodHandles.Lookup` ##\r\n\r\nNext, a `java.lang.invoke.MethodHandles$Lookup` is needed to get the actual method handle for the constructor.\r\n\r\nThis class has a permission system which works through the `allowedModes` property in `Lookup`, which is set to a bunch of Flags. There is a special `TRUSTED` flag that circumvents all permission checks.\r\n\r\nUnfortunately, the `allowedModes` field is filtered from reflection, so we cannot simply bypass the permissions by setting that value through reflection. \r\n\r\nEven though reflecion filters can be circumvented aswell, there is a simpler way: `Lookup` contains a static field `IMPL_LOOKUP`, which holds a `Lookup` with those `TRUSTED` permissions. We can get this instance by using reflection and `Unsafe`:\r\n```java\r\nvar field = MethodHandles.Lookup.class.getDeclaredField(&quot;IMPL_LOOKUP&quot;);\r\nvar fieldOffset = unsafe.staticFieldOffset(field);\r\n\r\nvar lookup = (MethodHandles.Lookup) unsafe.getObject(MethodHandles.Lookup.class, fieldOffset);\r\n```\r\nWe use `Unsafe` here instead of `setAccessible` and `get`, because going through reflection will cause issues with the module system in the newer java versions.\r\n\r\n## Step 2: Finding the constructor ##\r\n\r\nNow we can get a `MethodHandle` for the constructor we want to invoke. We do this by using the `Lookup` we just obtained, just like a `Lookup` would be used normally.\r\n\r\n```java\r\nvar type = MethodType.methodType(Void.TYPE, &lt;your constructor argument types&gt;);\r\nvar constructor = lookup.findConstructor(&lt;your class&gt;, type);\r\n```\r\n\r\n## Step 3: Getting the `MemberName` ##\r\n\r\nWhile the signature of `findConstructor` only specifies that it returns a `MethodHandle`, it actuall returns a `java.lang.invoke.DirectMethodHandle$Constructor`. This type declares a `initMethod` field, which contains the `java.lang.invoke.MemberName` referencing our constructor. The `MemberName` type is not accessible from the outside, so all interaction with it happens through `Unsafe`.\r\n\r\nWe can obtain this `MemberName` in the same way we also obtained the `Lookup`:\r\n\r\n```\r\nvar constructorClass = Class.forName(&quot;java.lang.invoke.DirectMethodHandle$Constructor&quot;);\r\nval initMethodField = constructorClass.getDeclaredField(&quot;initMethod&quot;);\r\nval initMethodFieldOffset = unsafe.objectFieldOffset(initMethodField);\r\n\r\nvar initMemberName = unsafe.getObject(constructor, initMethodFieldOffset)\r\n```\r\n\r\n## Step 4: Tricking Java ##\r\n\r\nThe next step is the important part. While there are no physical barriers from the JVM that prevent you from invoking a constructor like any other method, `MethodHandle` has some checks in place to ensure that you are not doing something fishy.\r\n\r\nMost of the checks are circumvented by using the `TRUSTED` `Lookup`, and there remains one final check:\r\n\r\nThe `MemberName` instance contains a bunch of flags that, among other things, tell the system what kind of member the `MemberName` is referring to. These flags are checked.\r\n\r\nTo circumvent this, we can simply change the flags using `Unsafe`:\r\n\r\n```java\r\nvar memberNameClass = Class.forName(&quot;java.lang.invoke.MemberName&quot;);\r\nvar flagsField = memberNameClass.getDeclaredField(&quot;flags&quot;);\r\nvar flagsFieldOffset = unsafe.objectFieldOffset(flagsField);\r\nvar flags = unsafe.getInt(initMemberName, flagsFieldOffset);\r\n\r\nflags &amp;= ~0x00020000; // remove &quot;is constructor&quot;\r\nflags |= 0x00010000; // add &quot;is (non-constructor) method&quot;\r\n\r\nunsafe.putInt(initMemberName, flagsFieldOffset, flags);\r\n```\r\n\r\nThe values for the flags come from `java.lang.invoke.MethodHandleNatives.Constants#MN_IS_METHOD` and `java.lang.invoke.MethodHandleNatives.Constants#MN_IS_CONSTRUCTOR`.\r\n\r\n## Step 5: Obtaining a `REF_invokeVirtual` method handle ##\r\n\r\nNow that we have a _totally legit method_ that is _not at all_ a constructor, we just need to obtain a regular method handle for invoking it. Luckly, `MethodHandles.Lookup.class` has a private method for turning a `MemberName` into a `(Direct)MethodHandle` for all kinds of invocations: `getDirectMethod`.\r\n\r\nIronically, we actually call this method using our all-powerful lookup.\r\n\r\nFirst, we obtain the `MethodHandle` for `getDirectMethod`:\r\n```\r\nvar getDirectMethodMethodHandle = lookup.findVirtual(\r\n        MethodHandles.Lookup.class,\r\n        &quot;getDirectMethod&quot;,\r\n        MethodType.methodType(\r\n                MethodHandle.class,\r\n                byte.class,\r\n                Class.class,\r\n                memberNameClass,\r\n                MethodHandles.Lookup.class\r\n        )\r\n);\r\n```\r\n\r\nwe can now use this with our lookup, to obtain a `MethodHandle` for our `MemberName`:\r\n\r\n```java\r\nvar handle = (MethodHandle) getDirectMethod.invoke(lookup, (byte) 5, Test.class, member, lookup);\r\n```\r\n\r\nThe `(byte) 5` argument stands for &quot;invoke virtual&quot;, and comes from `java.lang.invoke.MethodHandleNatives.Constants#REF_invokeVirtual`.\r\n\r\n## Step 6: Profit? ##\r\n\r\nWe can now use this `handle` like a regular `MethodHandle`, to invoke the constructor on any existing instance of that class:\r\n\r\n```java\r\nhandle.invoke(&lt;instance&gt;, &lt;constructor arguments...&gt;);\r\n```\r\n\r\nWith this `handle`, the constructor can also be called multiple times, and the instance doesn&#39;t actually have to come from `Unsafe#allocateInstance` - an instance that was created just by using `new` works aswell.","title":"Is it possible to call constructor on existing instance?","body":"<p>It seems that with some (very dubious) tricks this is possible, even without going through a custom native library, by (ab)using method handles.</p>\n<p>This method essentially tricks the JVM into thinking it is currently invoking a regular method instead of a constructor.</p>\n<p>I just have to add a mandatory &quot;this is probably not a good idea&quot;, but this is the only way I found for doing this. I also can't attest to how this behaves on different JVMs.</p>\n<h2>Prerequisites</h2>\n<p>To do this, an instance of <code>sun.misc.Unsafe</code> is needed. I will not go into detail about how to obtain this here since you already seem to have one, but <a href=\"https://www.baeldung.com/java-unsafe\" rel=\"noreferrer\">this guide</a> explains the process.</p>\n<h2>Step 1: Obtaining a trusted <code>MethodHandles.Lookup</code></h2>\n<p>Next, a <code>java.lang.invoke.MethodHandles$Lookup</code> is needed to get the actual method handle for the constructor.</p>\n<p>This class has a permission system which works through the <code>allowedModes</code> property in <code>Lookup</code>, which is set to a bunch of Flags. There is a special <code>TRUSTED</code> flag that circumvents all permission checks.</p>\n<p>Unfortunately, the <code>allowedModes</code> field is filtered from reflection, so we cannot simply bypass the permissions by setting that value through reflection.</p>\n<p>Even though reflecion filters can be circumvented aswell, there is a simpler way: <code>Lookup</code> contains a static field <code>IMPL_LOOKUP</code>, which holds a <code>Lookup</code> with those <code>TRUSTED</code> permissions. We can get this instance by using reflection and <code>Unsafe</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var field = MethodHandles.Lookup.class.getDeclaredField(&quot;IMPL_LOOKUP&quot;);\nvar fieldOffset = unsafe.staticFieldOffset(field);\n\nvar lookup = (MethodHandles.Lookup) unsafe.getObject(MethodHandles.Lookup.class, fieldOffset);\n</code></pre>\n<p>We use <code>Unsafe</code> here instead of <code>setAccessible</code> and <code>get</code>, because going through reflection will cause issues with the module system in the newer java versions.</p>\n<h2>Step 2: Finding the constructor</h2>\n<p>Now we can get a <code>MethodHandle</code> for the constructor we want to invoke. We do this by using the <code>Lookup</code> we just obtained, just like a <code>Lookup</code> would be used normally.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var type = MethodType.methodType(Void.TYPE, &lt;your constructor argument types&gt;);\nvar constructor = lookup.findConstructor(&lt;your class&gt;, type);\n</code></pre>\n<h2>Step 3: Getting the <code>MemberName</code></h2>\n<p>While the signature of <code>findConstructor</code> only specifies that it returns a <code>MethodHandle</code>, it actuall returns a <code>java.lang.invoke.DirectMethodHandle$Constructor</code>. This type declares a <code>initMethod</code> field, which contains the <code>java.lang.invoke.MemberName</code> referencing our constructor. The <code>MemberName</code> type is not accessible from the outside, so all interaction with it happens through <code>Unsafe</code>.</p>\n<p>We can obtain this <code>MemberName</code> in the same way we also obtained the <code>Lookup</code>:</p>\n<pre><code>var constructorClass = Class.forName(&quot;java.lang.invoke.DirectMethodHandle$Constructor&quot;);\nval initMethodField = constructorClass.getDeclaredField(&quot;initMethod&quot;);\nval initMethodFieldOffset = unsafe.objectFieldOffset(initMethodField);\n\nvar initMemberName = unsafe.getObject(constructor, initMethodFieldOffset)\n</code></pre>\n<h2>Step 4: Tricking Java</h2>\n<p>The next step is the important part. While there are no physical barriers from the JVM that prevent you from invoking a constructor like any other method, <code>MethodHandle</code> has some checks in place to ensure that you are not doing something fishy.</p>\n<p>Most of the checks are circumvented by using the <code>TRUSTED</code> <code>Lookup</code>, and there remains one final check:</p>\n<p>The <code>MemberName</code> instance contains a bunch of flags that, among other things, tell the system what kind of member the <code>MemberName</code> is referring to. These flags are checked.</p>\n<p>To circumvent this, we can simply change the flags using <code>Unsafe</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var memberNameClass = Class.forName(&quot;java.lang.invoke.MemberName&quot;);\nvar flagsField = memberNameClass.getDeclaredField(&quot;flags&quot;);\nvar flagsFieldOffset = unsafe.objectFieldOffset(flagsField);\nvar flags = unsafe.getInt(initMemberName, flagsFieldOffset);\n\nflags &amp;= ~0x00020000; // remove &quot;is constructor&quot;\nflags |= 0x00010000; // add &quot;is (non-constructor) method&quot;\n\nunsafe.putInt(initMemberName, flagsFieldOffset, flags);\n</code></pre>\n<p>The values for the flags come from <code>java.lang.invoke.MethodHandleNatives.Constants#MN_IS_METHOD</code> and <code>java.lang.invoke.MethodHandleNatives.Constants#MN_IS_CONSTRUCTOR</code>.</p>\n<h2>Step 5: Obtaining a <code>REF_invokeVirtual</code> method handle</h2>\n<p>Now that we have a <em>totally legit method</em> that is <em>not at all</em> a constructor, we just need to obtain a regular method handle for invoking it. Luckly, <code>MethodHandles.Lookup.class</code> has a private method for turning a <code>MemberName</code> into a <code>(Direct)MethodHandle</code> for all kinds of invocations: <code>getDirectMethod</code>.</p>\n<p>Ironically, we actually call this method using our all-powerful lookup.</p>\n<p>First, we obtain the <code>MethodHandle</code> for <code>getDirectMethod</code>:</p>\n<pre><code>var getDirectMethodMethodHandle = lookup.findVirtual(\n        MethodHandles.Lookup.class,\n        &quot;getDirectMethod&quot;,\n        MethodType.methodType(\n                MethodHandle.class,\n                byte.class,\n                Class.class,\n                memberNameClass,\n                MethodHandles.Lookup.class\n        )\n);\n</code></pre>\n<p>we can now use this with our lookup, to obtain a <code>MethodHandle</code> for our <code>MemberName</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var handle = (MethodHandle) getDirectMethod.invoke(lookup, (byte) 5, Test.class, member, lookup);\n</code></pre>\n<p>The <code>(byte) 5</code> argument stands for &quot;invoke virtual&quot;, and comes from <code>java.lang.invoke.MethodHandleNatives.Constants#REF_invokeVirtual</code>.</p>\n<h2>Step 6: Profit?</h2>\n<p>We can now use this <code>handle</code> like a regular <code>MethodHandle</code>, to invoke the constructor on any existing instance of that class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>handle.invoke(&lt;instance&gt;, &lt;constructor arguments...&gt;);\n</code></pre>\n<p>With this <code>handle</code>, the constructor can also be called multiple times, and the instance doesn't actually have to come from <code>Unsafe#allocateInstance</code> - an instance that was created just by using <code>new</code> works aswell.</p>\n"}],"owner":{"account_id":3276497,"reputation":7333,"user_id":2758343,"accept_rate":100,"display_name":"Oleg Pyzhcov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2734,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":48621266,"answer_count":5,"score":3,"last_activity_date":1666966636,"creation_date":1517810349,"question_id":48616630,"body_markdown":"It is known that using `sun.misc.Unsafe#allocateInstance` one can create an object without calling any class constructors.\r\n\r\nIs it possible to do the opposite: given an existing instance, invoke a constructor on it?\r\n\r\n\r\n----------\r\n**Clarification**: this is not the question about something I&#39;d do in production code. I&#39;m curious about JVM internals and crazy things that can still be done. Answers specific to some JVM version are welcome.","title":"Is it possible to call constructor on existing instance?","body":"<p>It is known that using <code>sun.misc.Unsafe#allocateInstance</code> one can create an object without calling any class constructors.</p>\n\n<p>Is it possible to do the opposite: given an existing instance, invoke a constructor on it?</p>\n\n<hr>\n\n<p><strong>Clarification</strong>: this is not the question about something I'd do in production code. I'm curious about JVM internals and crazy things that can still be done. Answers specific to some JVM version are welcome.</p>\n"},{"tags":["java","sql","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3750958,"reputation":124,"user_id":3118467,"display_name":"dadan"},"score":1,"creation_date":1666950883,"post_id":74233469,"comment_id":131060929,"body_markdown":"maybe you can check this question, https://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection","body":"maybe you can check this question, <a href=\"https://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection\" title=\"jpa how to convert a native query result set to pojo class collection\">stackoverflow.com/questions/13012584/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666978270,"post_id":74233469,"comment_id":131070203,"body_markdown":"Just write a query to return the collection for the user. You are making things overly complex.","body":"Just write a query to return the collection for the user. You are making things overly complex."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1667124189,"post_id":74233469,"comment_id":131092328,"body_markdown":"`@Transient` with `@OneToMany` ? What does it mean ?","body":"<code>@Transient</code> with <code>@OneToMany</code> ? What does it mean ?"},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1667222807,"post_id":74233469,"comment_id":131112467,"body_markdown":"I don&#39;t have a table for that relation in db @grigouille","body":"I don&#39;t have a table for that relation in db @grigouille"},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1667222925,"post_id":74233469,"comment_id":131112500,"body_markdown":"I am trying to get a collection for all the products that user have with a specific username. @M.Deinum","body":"I am trying to get a collection for all the products that user have with a specific username. @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667225598,"post_id":74233469,"comment_id":131113579,"body_markdown":"So write that query. You already have the entities, what you are doing is overly complex and can be solved with a simple query.","body":"So write that query. You already have the entities, what you are doing is overly complex and can be solved with a simple query."}],"answers":[{"comments":[{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1666965761,"post_id":74235568,"comment_id":131065792,"body_markdown":"I tried another solution as dadan commented. But now I am getting an in **Could not locate appropriate constructor on class**","body":"I tried another solution as dadan commented. But now I am getting an in <b>Could not locate appropriate constructor on class</b>"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":1,"creation_date":1666965938,"post_id":74235568,"comment_id":131065855,"body_markdown":"Well... the result of the query doesn&#39;t match the parameters of the constructor in the class. But why do you need to call the constructor? isn&#39;t my solution simpler?","body":"Well... the result of the query doesn&#39;t match the parameters of the constructor in the class. But why do you need to call the constructor? isn&#39;t my solution simpler?"}],"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666966403,"creation_date":1666960759,"answer_id":74235568,"question_id":74233469,"body_markdown":"The problem is that you are using a HQL query but you&#39;ve set `native=true`. Setting `native=true` means that you want to run a SQL query.\r\n\r\nThis HQL query should work:\r\n```\r\n@Query(&quot;select p from User u join u.products p WHERE u.id = :id&quot;)\r\nList&lt;Product&gt; findAllProductsById(@Param(&quot;id&quot;)Long id);\r\n```","title":"How can I map an object to Java Object through SQL native query using Jpa Repository?","body":"<p>The problem is that you are using a HQL query but you've set <code>native=true</code>. Setting <code>native=true</code> means that you want to run a SQL query.</p>\n<p>This HQL query should work:</p>\n<pre><code>@Query(&quot;select p from User u join u.products p WHERE u.id = :id&quot;)\nList&lt;Product&gt; findAllProductsById(@Param(&quot;id&quot;)Long id);\n</code></pre>\n"}],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666966403,"creation_date":1666950191,"question_id":74233469,"body_markdown":"I tried several solutions to my SQL query but it seems like I miss something.\r\nI want to get a ```List&lt;Product&gt;``` from a ```nativeQuery```.\r\n\r\nAnd I have a relationship between my ```User``` entity and ```Product``` entity as **One to Many**.\r\n\r\nHere is my both entites -&gt; Product\r\n\r\n``` \r\n@Entity\r\n@Data\r\n@Table(name = &quot;product&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @CreationTimestamp\r\n    @Column(updatable = false)\r\n    private Timestamp createdDate;\r\n\r\n    @UpdateTimestamp\r\n    private Timestamp lastModifiedDate;\r\n\r\n    private String imageURL;\r\n\r\n    private Long productCode;\r\n\r\n    @Size(min = 3,max = 100)\r\n    private String productName;\r\n\r\n    @Size(min = 5,max = 100)\r\n    private String details;\r\n\r\n    private BigDecimal price;\r\n\r\n    private ProductCategory productCategory;\r\n\r\n}\r\n```\r\nUser -&gt; \r\n\r\n``` \r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true,nullable = false)\r\n    private String phoneNumber;\r\n\r\n    @Size(min = 5, max = 25, message = &quot;Username length should be between 5 and 25 characters&quot;)\r\n    @Column(unique = true, nullable = false)\r\n    private String userName;\r\n\r\n    @CreationTimestamp\r\n    @Column(updatable = false)\r\n    private Timestamp createdDate;\r\n\r\n    @UpdateTimestamp\r\n    private Timestamp lastModifiedDate;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    @NotNull\r\n    private String email;\r\n\r\n    @Size(min = 5, message = &quot;Minimum password length: 5 characters&quot;)\r\n    @NotNull\r\n    private String password;\r\n\r\n\r\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private List&lt;Product&gt; products;\r\n\r\n    @Transient\r\n    @OneToMany(fetch = FetchType.LAZY,mappedBy = &quot;product&quot;,cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private List&lt;ProductInquiry&gt; productInquiries;\r\n\r\n    private Role role;\r\n\r\n}\r\n```\r\n\r\nHere in this query I need to return all products associated with the given **user_id**.\r\n\r\n```\r\n @Query(value = &quot;SELECT  new  egecoskun121.com.crm.model.entity.Product(p.ID,p.CREATED_DATE,p.LAST_MODIFIED_DATE,p.IMAGEURL,p.PRODUCT_CODE,p.PRODUCT_NAME,p.DETAILS,p.PRICE,p.PRODUCT_CATEGORY)    FROM PRODUCT  AS p WHERE  {SELECT PRODUCT_ID FROM USERS_PRODUCTS WHERE USER_ID=:id }&quot;,nativeQuery = true)\r\n    List&lt;Product&gt; findAllProductsById(@Param(&quot;id&quot;)Long id);\r\n```\r\n\r\n\r\n","title":"How can I map an object to Java Object through SQL native query using Jpa Repository?","body":"<p>I tried several solutions to my SQL query but it seems like I miss something.\nI want to get a <code>List&lt;Product&gt;</code> from a <code>nativeQuery</code>.</p>\n<p>And I have a relationship between my <code>User</code> entity and <code>Product</code> entity as <strong>One to Many</strong>.</p>\n<p>Here is my both entites -&gt; Product</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;product&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @CreationTimestamp\n    @Column(updatable = false)\n    private Timestamp createdDate;\n\n    @UpdateTimestamp\n    private Timestamp lastModifiedDate;\n\n    private String imageURL;\n\n    private Long productCode;\n\n    @Size(min = 3,max = 100)\n    private String productName;\n\n    @Size(min = 5,max = 100)\n    private String details;\n\n    private BigDecimal price;\n\n    private ProductCategory productCategory;\n\n}\n</code></pre>\n<p>User -&gt;</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true,nullable = false)\n    private String phoneNumber;\n\n    @Size(min = 5, max = 25, message = &quot;Username length should be between 5 and 25 characters&quot;)\n    @Column(unique = true, nullable = false)\n    private String userName;\n\n    @CreationTimestamp\n    @Column(updatable = false)\n    private Timestamp createdDate;\n\n    @UpdateTimestamp\n    private Timestamp lastModifiedDate;\n\n    @Column(unique = true, nullable = false)\n    @NotNull\n    private String email;\n\n    @Size(min = 5, message = &quot;Minimum password length: 5 characters&quot;)\n    @NotNull\n    private String password;\n\n\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true)\n    private List&lt;Product&gt; products;\n\n    @Transient\n    @OneToMany(fetch = FetchType.LAZY,mappedBy = &quot;product&quot;,cascade = CascadeType.ALL,orphanRemoval = true)\n    private List&lt;ProductInquiry&gt; productInquiries;\n\n    private Role role;\n\n}\n</code></pre>\n<p>Here in this query I need to return all products associated with the given <strong>user_id</strong>.</p>\n<pre><code> @Query(value = &quot;SELECT  new  egecoskun121.com.crm.model.entity.Product(p.ID,p.CREATED_DATE,p.LAST_MODIFIED_DATE,p.IMAGEURL,p.PRODUCT_CODE,p.PRODUCT_NAME,p.DETAILS,p.PRICE,p.PRODUCT_CATEGORY)    FROM PRODUCT  AS p WHERE  {SELECT PRODUCT_ID FROM USERS_PRODUCTS WHERE USER_ID=:id }&quot;,nativeQuery = true)\n    List&lt;Product&gt; findAllProductsById(@Param(&quot;id&quot;)Long id);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1666957832,"post_id":74234901,"comment_id":131063139,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **400** (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>400</b> (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1666957839,"post_id":74234901,"comment_id":131063142,"body_markdown":"Besides that, at which particular line of code are you getting that error?","body":"Besides that, at which particular line of code are you getting that error?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666958095,"post_id":74234901,"comment_id":131063223,"body_markdown":"Thanks for the suggestion @AlexMamo . I am getting error in _firebasemethods_ class , incheckIfUsernameExists method. I already added a comment.","body":"Thanks for the suggestion @AlexMamo . I am getting error in <i>firebasemethods</i> class , incheckIfUsernameExists method. I already added a comment."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666959395,"post_id":74234901,"comment_id":131063612,"body_markdown":"There is an NPE caused by `.getUid()` and using that in multiple parts of your code. Where exactly does the error occur?","body":"There is an NPE caused by <code>.getUid()</code> and using that in multiple parts of your code. Where exactly does the error occur?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666960272,"post_id":74234901,"comment_id":131063890,"body_markdown":"Error occurred while i called the method checkIfUsernameExists in register activity class , I added a comment _Error Occured in the below checkifUsernameExists method call_  . checkIfUsername method is in **FirebaseMethods** class. The exact line where the Error occured is marked with the Comment _Getting error in the below line_","body":"Error occurred while i called the method checkIfUsernameExists in register activity class , I added a comment <i>Error Occured in the below checkifUsernameExists method call</i>  . checkIfUsername method is in <b>FirebaseMethods</b> class. The exact line where the Error occured is marked with the Comment <i>Getting error in the below line</i>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666961504,"post_id":74234901,"comment_id":131064318,"body_markdown":"Have you tried to check against nullity before calling `getUid()`?","body":"Have you tried to check against nullity before calling <code>getUid()</code>?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666962567,"post_id":74234901,"comment_id":131064682,"body_markdown":"Yes, I check ed against nullity before calling getUid()","body":"Yes, I check ed against nullity before calling getUid()"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1666963157,"post_id":74234901,"comment_id":131064884,"body_markdown":"Is that object is not null, then the NPE comes from another part of your code, right?","body":"Is that object is not null, then the NPE comes from another part of your code, right?"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666963614,"post_id":74234901,"comment_id":131065019,"body_markdown":"What does the following line supppsed to do `dataSnapshot.child(userID).getChildren()` ?","body":"What does the following line supppsed to do <code>dataSnapshot.child(userID).getChildren()</code> ?"}],"answers":[{"comments":[{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666960950,"post_id":74235449,"comment_id":131064120,"body_markdown":"The user is authenticated. I am getting the user id  .  **Logcat messages**18:11:51.690  D  setupFirebaseAuth: setting up firebase auth.\n18:11:51.810  D  checkCurrentUser: checking if user is logged in.\n18:11:52.274  D  checkCurrentUser: checking if user is logged in.\n18:11:52.274  D  onAuthStateChanged:signed_in:eB4DBIvWdsfXJ8aDFYdKWCGPYxU2","body":"The user is authenticated. I am getting the user id  .  <b>Logcat messages</b>18:11:51.690  D  setupFirebaseAuth: setting up firebase auth. 18:11:51.810  D  checkCurrentUser: checking if user is logged in. 18:11:52.274  D  checkCurrentUser: checking if user is logged in. 18:11:52.274  D  onAuthStateChanged:signed_in:eB4DBIvWdsfXJ8aDFYdKWCGPYxU2"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666961092,"post_id":74235449,"comment_id":131064169,"body_markdown":"Try suggesting a way to Overcome this issue","body":"Try suggesting a way to Overcome this issue"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666963460,"post_id":74235449,"comment_id":131064970,"body_markdown":"How can the user be authenticated if you are trying to register them?","body":"How can the user be authenticated if you are trying to register them?"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666963921,"post_id":74235449,"comment_id":131065142,"body_markdown":"I just updated my answer.","body":"I just updated my answer."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667906574,"post_id":74235449,"comment_id":131274454,"body_markdown":"Hey @Nithinreddy can you provide details on how this issue is going for you? If my answer helped you solve it, I would appreciate it if you marked it as correct!","body":"Hey @Nithinreddy can you provide details on how this issue is going for you? If my answer helped you solve it, I would appreciate it if you marked it as correct!"}],"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666963892,"creation_date":1666960214,"answer_id":74235449,"question_id":74234901,"body_markdown":"You are initializing the `userID` variable like this:\r\n\r\n```java\r\nif(mAuth.getCurrentUser() != null){\r\n    userID =mAuth.getCurrentUser().getUid();\r\n}\r\n```\r\n\r\nWhen registering, the user is not authenticated yet. Therefore, `userID` is null. You could check this with the debugger. \r\n\r\nIn the register method there should not be a method to call for currently authenticated user, since you are trying to register a new user and they are not able to login/authenticate just yet. \r\n\r\nInstead, try passing the `userDTO` object you get from the data the future/potential user inputed and check for validity of username (and other invariants you might have) before allowing the registration.","title":"Getting a null pointer Exception as &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference","body":"<p>You are initializing the <code>userID</code> variable like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(mAuth.getCurrentUser() != null){\n    userID =mAuth.getCurrentUser().getUid();\n}\n</code></pre>\n<p>When registering, the user is not authenticated yet. Therefore, <code>userID</code> is null. You could check this with the debugger.</p>\n<p>In the register method there should not be a method to call for currently authenticated user, since you are trying to register a new user and they are not able to login/authenticate just yet.</p>\n<p>Instead, try passing the <code>userDTO</code> object you get from the data the future/potential user inputed and check for validity of username (and other invariants you might have) before allowing the registration.</p>\n"}],"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666966060,"creation_date":1666957451,"question_id":74234901,"body_markdown":"**Problem**\r\n\r\nI am trying to make user credentials like username and email to get added in the realtime database. After the user enters their data and hits register button i am getting an error with firebaseMethods.checkIfUsernameExists() method.\r\n\r\n**Error**\r\n\r\n \r\n\r\n    FATAL EXCEPTION: main\r\n                     Process: com.example.movies4u, PID: 25475\r\n                     java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n                     \tat com.example.movies4u.Utils.FirebaseMethods.checkIfUsernameExists(FirebaseMethods.java:47)\r\n                     \tat com.example.movies4u.activity_register$1$1.onDataChange(activity_register.java:200)\r\n                     \tat com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n                     \tat com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n                     \tat com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n                     \tat android.os.Handler.handleCallback(Handler.java:873)\r\n                     \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                     \tat android.os.Looper.loop(Looper.java:224)\r\n                     \tat android.app.ActivityThread.main(ActivityThread.java:7081)\r\n                     \tat java.lang.reflect.Method.invoke(Native Method)\r\n                     \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\r\n\r\n**Register Activity Code**\r\n\r\n    package com.example.movies4u;\r\n    \r\n    import static android.content.ContentValues.TAG;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.view.WindowManager;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.movies4u.Utils.FirebaseMethods;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseAuthUserCollisionException;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    public class activity_register extends AppCompatActivity {\r\n        TextView HaveAccount;\r\n        EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\r\n        String username,email,password;\r\n        Button btnRegister;\r\n        FirebaseAuth mAuth;\r\n        ProgressBar pb;\r\n        private String userID;\r\n        private FirebaseAuth.AuthStateListener mAuthListener;\r\n        private FirebaseMethods firebaseMethods;\r\n        private FirebaseDatabase mFirebaseDatabase;\r\n        private DatabaseReference myRef;\r\n    \r\n        private String append;\r\n    \r\n        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\r\n            setContentView(R.layout.activity_register);\r\n            firebaseMethods =new FirebaseMethods(activity_register.this);\r\n    \r\n            HaveAccount= (TextView) findViewById(R.id.HaveAccount);\r\n            pb = findViewById(R.id.progressBar3);\r\n            inputUsername=findViewById(R.id.inputUsername);\r\n            inputEmail=findViewById(R.id.inputEmail);\r\n            inputPassword=findViewById(R.id.inputPassword);\r\n            inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\r\n            btnRegister=findViewById(R.id.btnRegister);\r\n            username=inputUsername.getText().toString();\r\n            email=inputEmail.getText().toString();\r\n            password=inputPassword.getText().toString();\r\n    \r\n            pb.setVisibility(View.GONE);\r\n            HaveAccount.setOnClickListener(view -&gt; {\r\n                Intent loginintent=new Intent(activity_register.this,login_activity.class);\r\n                startActivity(loginintent);\r\n            });\r\n    \r\n            mAuth=FirebaseAuth.getInstance();\r\n            btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\r\n        }\r\n   // we will call the method doRegister(username,email,password); in validateDataandDoRegister()\r\n        \r\n    \r\n        private void doRegister(String username,String email, String password) {\r\n            pb.setVisibility(View.VISIBLE);\r\n            mAuth.createUserWithEmailAndPassword(email, password).addOnSuccessListener(task -&gt; {\r\n                if(task != null ){\r\n                    if(mAuth.getCurrentUser() != null){\r\n                        userID=mAuth.getCurrentUser().getUid();\r\n                    }\r\n    \r\n    //                firebaseMethods.registerNewEmail(username,email,password);\r\n                    sendVerificationEmail();\r\n    //                firebaseMethods.addNewUser(email, username);\r\n                }\r\n    \r\n            }).addOnFailureListener(e -&gt; {\r\n                if(e instanceof FirebaseAuthUserCollisionException){\r\n                    btnRegister.setEnabled(true);\r\n                    inputEmail.setError(&quot;Email Already Registered&quot;);\r\n                    pb.setVisibility(View.GONE);\r\n                    inputEmail.requestFocus();\r\n                }\r\n                else{\r\n                    btnRegister.setEnabled(true);\r\n                    pb.setVisibility(View.GONE);\r\n                    Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void sendVerificationEmail() {\r\n            mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\r\n                if(task != null &amp;&amp; task.isSuccessful()){\r\n                    btnRegister.setEnabled(true);\r\n                    pb.setVisibility(View.GONE);\r\n                    Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\r\n                    //fixing the bug\r\n                    mAuth.signOut();\r\n                }\r\n                else {\r\n                    btnRegister.setEnabled(true);\r\n                    pb.setVisibility(View.GONE);\r\n                    Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        /*\r\n        ------------------------------------ Firebase ---------------------------------------------\r\n         */\r\n    \r\n        /**\r\n         * Setup the firebase auth object\r\n         */\r\n        private void setupFirebaseAuth(){\r\n            Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\r\n            mAuth = FirebaseAuth.getInstance();\r\n            mFirebaseDatabase = FirebaseDatabase.getInstance();\r\n            myRef = mFirebaseDatabase.getReference();\r\n    \r\n            //cannot get into this part of code\r\n            mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n                @Override\r\n                public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                    FirebaseUser user=firebaseAuth.getCurrentUser();\r\n                    if (user != null) {\r\n                        // User is signed in\r\n                        Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\r\n    \r\n                        myRef.addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                                //1st check: Make sure the username is not already in use\r\n\r\n                                //Error Occured in the below checkifUsernameExists method call  \r\n                                if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\r\n                                    //to randomly generate key to make sure username is unique\r\n                                    append = myRef.push().getKey().substring(3,10);\r\n                                    Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\r\n                                }\r\n                                username = username + append;\r\n    \r\n                                //add new user to the database\r\n                                Log.d(TAG, &quot;adding new user to database&quot;);\r\n                                firebaseMethods.addNewUser(email, username);\r\n                                Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onCancelled(DatabaseError databaseError) {\r\n                                Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                        finish();\r\n    \r\n                    } else {\r\n                        // User is signed out\r\n                        Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                        Log.d(TAG, &quot;onAuthStateChanged:signed _out&quot;);\r\n                    }\r\n                    // ...\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            setupFirebaseAuth();\r\n            mAuth.addAuthStateListener(mAuthListener);\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            if (mAuthListener != null) {\r\n                mAuth.removeAuthStateListener(mAuthListener);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**FirebaseMethods Code**\r\n\r\n    package com.example.movies4u.Utils;\r\n    \r\n    import android.content.Context;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    \r\n    import com.example.movies4u.Models.User;\r\n    import com.example.movies4u.Models.UserAccountSettings;\r\n    import com.example.movies4u.R;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    public class FirebaseMethods {\r\n        private static final String TAG=&quot;FirebaseMethods&quot;;\r\n    \r\n        //Firebase\r\n        private FirebaseAuth mAuth;\r\n        private FirebaseAuth.AuthStateListener mAuthListener;\r\n        private FirebaseDatabase mFirebaseDatabase;\r\n        private DatabaseReference myRef;\r\n        private String userID;\r\n    \r\n        private Context mContext;\r\n    \r\n        public FirebaseMethods(Context context){\r\n            mAuth=FirebaseAuth.getInstance();\r\n            mFirebaseDatabase =FirebaseDatabase.getInstance();\r\n            myRef=mFirebaseDatabase.getReference();\r\n            mContext =context;\r\n    \r\n            if(mAuth.getCurrentUser() !=null){\r\n                userID =mAuth.getCurrentUser().getUid();\r\n            }\r\n        }\r\n    \r\n        public boolean checkIfUsernameExists(String username, DataSnapshot dataSnapshot){\r\n            User user =new User();\r\n            //Getting error in the below line\r\n            for (DataSnapshot ds: dataSnapshot.child(userID).getChildren()){\r\n                user.setUsername(ds.getValue(User.class).getUsername());\r\n    \r\n                if(StringManipulation.expandUsername(user.getUsername()).equals(username)){\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n       \r\n    \r\n        public void addNewUser(String email, String username){\r\n            User user=new User(email,username);\r\n            if(userID!=null)\r\n            {\r\n                myRef.child(mContext.getString(R.string.dbname_users))\r\n                        .child(userID)\r\n                        .setValue(user).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void unused) {\r\n                                Log.d(TAG, &quot;user added&quot;);\r\n                                Toast.makeText(mContext, &quot;user added&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Log.d(TAG, &quot;user not added&quot;);\r\n                                Toast.makeText(mContext, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n    \r\n                UserAccountSettings settings = new UserAccountSettings(username, username);\r\n    \r\n                myRef.child(mContext.getString(R.string.dbname_user_account_settings))\r\n                        .child(userID)\r\n                        .setValue(settings);\r\n            }\r\n            else {\r\n                Log.d(TAG, &quot;user is null&quot;);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n","title":"Getting a null pointer Exception as &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference","body":"<p><strong>Problem</strong></p>\n<p>I am trying to make user credentials like username and email to get added in the realtime database. After the user enters their data and hits register button i am getting an error with firebaseMethods.checkIfUsernameExists() method.</p>\n<p><strong>Error</strong></p>\n<pre><code>FATAL EXCEPTION: main\n                 Process: com.example.movies4u, PID: 25475\n                 java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n                    at com.example.movies4u.Utils.FirebaseMethods.checkIfUsernameExists(FirebaseMethods.java:47)\n                    at com.example.movies4u.activity_register$1$1.onDataChange(activity_register.java:200)\n                    at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n                    at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n                    at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n                    at android.os.Handler.handleCallback(Handler.java:873)\n                    at android.os.Handler.dispatchMessage(Handler.java:99)\n                    at android.os.Looper.loop(Looper.java:224)\n                    at android.app.ActivityThread.main(ActivityThread.java:7081)\n                    at java.lang.reflect.Method.invoke(Native Method)\n                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\n                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\n</code></pre>\n<p><strong>Register Activity Code</strong></p>\n<pre><code>package com.example.movies4u;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.movies4u.Utils.FirebaseMethods;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseAuthUserCollisionException;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class activity_register extends AppCompatActivity {\n    TextView HaveAccount;\n    EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\n    String username,email,password;\n    Button btnRegister;\n    FirebaseAuth mAuth;\n    ProgressBar pb;\n    private String userID;\n    private FirebaseAuth.AuthStateListener mAuthListener;\n    private FirebaseMethods firebaseMethods;\n    private FirebaseDatabase mFirebaseDatabase;\n    private DatabaseReference myRef;\n\n    private String append;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\n        setContentView(R.layout.activity_register);\n        firebaseMethods =new FirebaseMethods(activity_register.this);\n\n        HaveAccount= (TextView) findViewById(R.id.HaveAccount);\n        pb = findViewById(R.id.progressBar3);\n        inputUsername=findViewById(R.id.inputUsername);\n        inputEmail=findViewById(R.id.inputEmail);\n        inputPassword=findViewById(R.id.inputPassword);\n        inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\n        btnRegister=findViewById(R.id.btnRegister);\n        username=inputUsername.getText().toString();\n        email=inputEmail.getText().toString();\n        password=inputPassword.getText().toString();\n\n        pb.setVisibility(View.GONE);\n        HaveAccount.setOnClickListener(view -&gt; {\n            Intent loginintent=new Intent(activity_register.this,login_activity.class);\n            startActivity(loginintent);\n        });\n\n        mAuth=FirebaseAuth.getInstance();\n        btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\n    }\n</code></pre>\n<p>// we will call the method doRegister(username,email,password); in validateDataandDoRegister()</p>\n<pre><code>    private void doRegister(String username,String email, String password) {\n        pb.setVisibility(View.VISIBLE);\n        mAuth.createUserWithEmailAndPassword(email, password).addOnSuccessListener(task -&gt; {\n            if(task != null ){\n                if(mAuth.getCurrentUser() != null){\n                    userID=mAuth.getCurrentUser().getUid();\n                }\n\n//                firebaseMethods.registerNewEmail(username,email,password);\n                sendVerificationEmail();\n//                firebaseMethods.addNewUser(email, username);\n            }\n\n        }).addOnFailureListener(e -&gt; {\n            if(e instanceof FirebaseAuthUserCollisionException){\n                btnRegister.setEnabled(true);\n                inputEmail.setError(&quot;Email Already Registered&quot;);\n                pb.setVisibility(View.GONE);\n                inputEmail.requestFocus();\n            }\n            else{\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void sendVerificationEmail() {\n        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\n            if(task != null &amp;&amp; task.isSuccessful()){\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\n                //fixing the bug\n                mAuth.signOut();\n            }\n            else {\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n\n    /*\n    ------------------------------------ Firebase ---------------------------------------------\n     */\n\n    /**\n     * Setup the firebase auth object\n     */\n    private void setupFirebaseAuth(){\n        Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\n        mAuth = FirebaseAuth.getInstance();\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\n        myRef = mFirebaseDatabase.getReference();\n\n        //cannot get into this part of code\n        mAuthListener = new FirebaseAuth.AuthStateListener() {\n            @Override\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n                FirebaseUser user=firebaseAuth.getCurrentUser();\n                if (user != null) {\n                    // User is signed in\n                    Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\n\n                    myRef.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(DataSnapshot dataSnapshot) {\n                            //1st check: Make sure the username is not already in use\n\n                            //Error Occured in the below checkifUsernameExists method call  \n                            if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\n                                //to randomly generate key to make sure username is unique\n                                append = myRef.push().getKey().substring(3,10);\n                                Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\n                            }\n                            username = username + append;\n\n                            //add new user to the database\n                            Log.d(TAG, &quot;adding new user to database&quot;);\n                            firebaseMethods.addNewUser(email, username);\n                            Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onCancelled(DatabaseError databaseError) {\n                            Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                    finish();\n\n                } else {\n                    // User is signed out\n                    Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                    Log.d(TAG, &quot;onAuthStateChanged:signed _out&quot;);\n                }\n                // ...\n            }\n        };\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        setupFirebaseAuth();\n        mAuth.addAuthStateListener(mAuthListener);\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        if (mAuthListener != null) {\n            mAuth.removeAuthStateListener(mAuthListener);\n        }\n    }\n\n}\n</code></pre>\n<p><strong>FirebaseMethods Code</strong></p>\n<pre><code>package com.example.movies4u.Utils;\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\n\nimport com.example.movies4u.Models.User;\nimport com.example.movies4u.Models.UserAccountSettings;\nimport com.example.movies4u.R;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class FirebaseMethods {\n    private static final String TAG=&quot;FirebaseMethods&quot;;\n\n    //Firebase\n    private FirebaseAuth mAuth;\n    private FirebaseAuth.AuthStateListener mAuthListener;\n    private FirebaseDatabase mFirebaseDatabase;\n    private DatabaseReference myRef;\n    private String userID;\n\n    private Context mContext;\n\n    public FirebaseMethods(Context context){\n        mAuth=FirebaseAuth.getInstance();\n        mFirebaseDatabase =FirebaseDatabase.getInstance();\n        myRef=mFirebaseDatabase.getReference();\n        mContext =context;\n\n        if(mAuth.getCurrentUser() !=null){\n            userID =mAuth.getCurrentUser().getUid();\n        }\n    }\n\n    public boolean checkIfUsernameExists(String username, DataSnapshot dataSnapshot){\n        User user =new User();\n        //Getting error in the below line\n        for (DataSnapshot ds: dataSnapshot.child(userID).getChildren()){\n            user.setUsername(ds.getValue(User.class).getUsername());\n\n            if(StringManipulation.expandUsername(user.getUsername()).equals(username)){\n                return true;\n            }\n        }\n        return false;\n    }\n\n   \n\n    public void addNewUser(String email, String username){\n        User user=new User(email,username);\n        if(userID!=null)\n        {\n            myRef.child(mContext.getString(R.string.dbname_users))\n                    .child(userID)\n                    .setValue(user).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void unused) {\n                            Log.d(TAG, &quot;user added&quot;);\n                            Toast.makeText(mContext, &quot;user added&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Log.d(TAG, &quot;user not added&quot;);\n                            Toast.makeText(mContext, e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n            UserAccountSettings settings = new UserAccountSettings(username, username);\n\n            myRef.child(mContext.getString(R.string.dbname_user_account_settings))\n                    .child(userID)\n                    .setValue(settings);\n        }\n        else {\n            Log.d(TAG, &quot;user is null&quot;);\n        }\n\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","ibm-mq","jndi","mq"],"comments":[{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1666947582,"post_id":74232342,"comment_id":131059814,"body_markdown":"Have you checked queue manager error logs? Also there is &quot;There may have been a problem creating the subscription due to it being used by another message consumer.\nMake sure any message consumers using this subscription are closed before trying to create a new subscription under the same name. Please see the linked exception for more information.&quot; in the exception stack. Do you have any other application using the same subscription?","body":"Have you checked queue manager error logs? Also there is &quot;There may have been a problem creating the subscription due to it being used by another message consumer. Make sure any message consumers using this subscription are closed before trying to create a new subscription under the same name. Please see the linked exception for more information.&quot; in the exception stack. Do you have any other application using the same subscription?"},{"owner":{"account_id":25238510,"reputation":11,"user_id":19072687,"display_name":"Suriyan Suriyan"},"score":0,"creation_date":1666967410,"post_id":74232342,"comment_id":131066340,"body_markdown":"Thank you for the reply. We checked on MQ server and there are no topic subscribers.. So the error message - &quot;Make sure any message consumers using this subscription are closed before trying to create a new subscription under the same name.&quot; is misleading","body":"Thank you for the reply. We checked on MQ server and there are no topic subscribers.. So the error message - &quot;Make sure any message consumers using this subscription are closed before trying to create a new subscription under the same name.&quot; is misleading"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1667027604,"post_id":74232342,"comment_id":131077733,"body_markdown":"Have you checked queue manager error log AMQERR01.LOG file. This file will be located in &lt;qmgr data dir&gt;/qmgrs/&lt;qmgr name&gt;/errors directory.","body":"Have you checked queue manager error log AMQERR01.LOG file. This file will be located in &lt;qmgr data dir&gt;/qmgrs/&lt;qmgr name&gt;/errors directory."}],"owner":{"account_id":25238510,"reputation":11,"user_id":19072687,"display_name":"Suriyan Suriyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666965964,"creation_date":1666944525,"question_id":74232342,"body_markdown":"**We are subscribing the performance data from MQ for IBM integration bus with JNDI \r\nWhile connecting with java application we are getting the below error ,when we check other forums about 2063 error ,it is related to AMS (Advanced Message Security )\r\nbut there is no AMS enabled in MQ \r\nKindly help us identify the issue**\r\n\r\n\r\n\r\n```\r\nJMSException :com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ0026: Failed to subscribe to topic &#39;$SYS/Broker/+/StatisticsAccounting/#&#39; with selector &#39;none&#39; using MQSUB.\r\nThere may have been a problem creating the subscription due to it being used by another message consumer.\r\nMake sure any message consumers using this subscription are closed before trying to create a new subscription under the same name. Please see the linked exception for more information.\r\n                at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:531)\r\n                at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215)\r\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:213)\r\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:113)\r\n                at com.ibm.msg.client.wmq.internal.WMQConsumerShadow.initialize(WMQConsumerShadow.java:1034)\r\n                at com.ibm.msg.client.wmq.internal.WMQSyncConsumerShadow.initialize(WMQSyncConsumerShadow.java:134)\r\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.&lt;init&gt;(WMQMessageConsumer.java:471)\r\n                at com.ibm.msg.client.wmq.internal.WMQSession.createDurableSubscriber(WMQSession.java:923)\r\n                at com.ibm.msg.client.jms.internal.JmsSessionImpl.createDurableSubscriber(JmsSessionImpl.java:1176)\r\n                at com.ibm.msg.client.jms.internal.JmsSessionImpl.createDurableSubscriber(JmsSessionImpl.java:1222)\r\n                at com.ibm.mq.jms.MQSession.createDurableSubscriber(MQSession.java:505)\r\n                at SampleBase.connect(SampleBase.java:694)    \r\nCaused by: com.ibm.mq.MQException: JMSCMQ0001: WebSphere MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2063&#39; (&#39;MQRC_SECURITY_ERROR&#39;).\r\n                at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\r\n                ... 15 more\r\n```\r\n\r\n\r\n","title":"MQ IBM integration bus with JNDI while connect with java faced errors","body":"<p><strong>We are subscribing the performance data from MQ for IBM integration bus with JNDI\nWhile connecting with java application we are getting the below error ,when we check other forums about 2063 error ,it is related to AMS (Advanced Message Security )\nbut there is no AMS enabled in MQ\nKindly help us identify the issue</strong></p>\n<pre><code>JMSException :com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ0026: Failed to subscribe to topic '$SYS/Broker/+/StatisticsAccounting/#' with selector 'none' using MQSUB.\nThere may have been a problem creating the subscription due to it being used by another message consumer.\nMake sure any message consumers using this subscription are closed before trying to create a new subscription under the same name. Please see the linked exception for more information.\n                at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:531)\n                at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215)\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:213)\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:113)\n                at com.ibm.msg.client.wmq.internal.WMQConsumerShadow.initialize(WMQConsumerShadow.java:1034)\n                at com.ibm.msg.client.wmq.internal.WMQSyncConsumerShadow.initialize(WMQSyncConsumerShadow.java:134)\n                at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.&lt;init&gt;(WMQMessageConsumer.java:471)\n                at com.ibm.msg.client.wmq.internal.WMQSession.createDurableSubscriber(WMQSession.java:923)\n                at com.ibm.msg.client.jms.internal.JmsSessionImpl.createDurableSubscriber(JmsSessionImpl.java:1176)\n                at com.ibm.msg.client.jms.internal.JmsSessionImpl.createDurableSubscriber(JmsSessionImpl.java:1222)\n                at com.ibm.mq.jms.MQSession.createDurableSubscriber(MQSession.java:505)\n                at SampleBase.connect(SampleBase.java:694)    \nCaused by: com.ibm.mq.MQException: JMSCMQ0001: WebSphere MQ call failed with compcode '2' ('MQCC_FAILED') reason '2063' ('MQRC_SECURITY_ERROR').\n                at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\n                ... 15 more\n</code></pre>\n"},{"tags":["java","c#","android","xamarin","visual-studio-2022"],"comments":[{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1666895689,"post_id":74226563,"comment_id":131049470,"body_markdown":"I can only assume you are compiling your code and you are getting a warning with a message that serves as the title for this question?","body":"I can only assume you are compiling your code and you are getting a warning with a message that serves as the title for this question?"},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1666895862,"post_id":74226563,"comment_id":131049532,"body_markdown":"You are correct.","body":"You are correct."},{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1666897423,"post_id":74226563,"comment_id":131049951,"body_markdown":"The downvotes do not necessarily reflect the legitimacy of the question. It probably has more to do with how the question and it&#39;s details are presented.","body":"The downvotes do not necessarily reflect the legitimacy of the question. It probably has more to do with how the question and it&#39;s details are presented."},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1666898260,"post_id":74226563,"comment_id":131050216,"body_markdown":"You wrote three paragraphs of text to essentially ask what is the correct syntax for this API call?","body":"You wrote three paragraphs of text to essentially ask what is the correct syntax for this API call?"},{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1666898806,"post_id":74226563,"comment_id":131050364,"body_markdown":"What language are you writing this code in?","body":"What language are you writing this code in?"},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1666898900,"post_id":74226563,"comment_id":131050390,"body_markdown":"I use VS 2022 and code in c#.","body":"I use VS 2022 and code in c#."},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1666898993,"post_id":74226563,"comment_id":131050413,"body_markdown":"@jason I wrote three paragraphs to explain why I was asking for the correct syntax.  I felt that was necessary as the code as written works.","body":"@jason I wrote three paragraphs to explain why I was asking for the correct syntax.  I felt that was necessary as the code as written works."},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1666902375,"post_id":74226563,"comment_id":131051401,"body_markdown":"context is great, but in this case (IMO) it just obscured the fairly straightforward question you were actually asking","body":"context is great, but in this case (IMO) it just obscured the fairly straightforward question you were actually asking"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":1,"creation_date":1666918275,"post_id":74226563,"comment_id":131054427,"body_markdown":"FWIW: Never assume people will click on links: a question should *stand on its own*. The question would be clearer if it included the java function syntax, for which you are trying to figure out the c# equivalent: `getParcelable(String key, Class&lt;T&gt; clazz)`. Without that, its a lot of words, that never quite say what API method you are trying to call. ALSO, when there is an error or warning, **include the full text of the error or warning**. Here, that would have shown the &quot;safer&quot; call.","body":"FWIW: Never assume people will click on links: a question should <i>stand on its own</i>. The question would be clearer if it included the java function syntax, for which you are trying to figure out the c# equivalent: <code>getParcelable(String key, Class&lt;T&gt; clazz)</code>. Without that, its a lot of words, that never quite say what API method you are trying to call. ALSO, when there is an error or warning, <b>include the full text of the error or warning</b>. Here, that would have shown the &quot;safer&quot; call."}],"answers":[{"comments":[{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1666956755,"post_id":74227296,"comment_id":131062781,"body_markdown":"Both lines of code generate the same error, `cannot convert from &#39;System.Type&#39; to &#39;Java.Lang.Class&#39;`.  It would seem that the call requires a `Java.Lang.Class`, I guess the question is &quot;What java.lang.class&quot;?  I can&#39;t find any information on &quot;java.lang.class&quot; and what they are.","body":"Both lines of code generate the same error, <code>cannot convert from &#39;System.Type&#39; to &#39;Java.Lang.Class&#39;</code>.  It would seem that the call requires a <code>Java.Lang.Class</code>, I guess the question is &quot;What java.lang.class&quot;?  I can&#39;t find any information on &quot;java.lang.class&quot; and what they are."},{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1666964913,"post_id":74227296,"comment_id":131065514,"body_markdown":"@PrescottChartier there is a library to perform this conversion that is part of the SDK. I have updated my answer to reflect this. Please take another look.","body":"@PrescottChartier there is a library to perform this conversion that is part of the SDK. I have updated my answer to reflect this. Please take another look."},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":1,"creation_date":1667049315,"post_id":74227296,"comment_id":131081141,"body_markdown":"I can accept the answer in terms of the syntax, but there&#39;s more to it than that.  One has to now be aware of the api version of the phone that the app is installed on.  My test device is api 31, so this syntax causes the app to crash.  I added an api version check to my code and it woks fine, but I have no way to (yet) test this against api 33.","body":"I can accept the answer in terms of the syntax, but there&#39;s more to it than that.  One has to now be aware of the api version of the phone that the app is installed on.  My test device is api 31, so this syntax causes the app to crash.  I added an api version check to my code and it woks fine, but I have no way to (yet) test this against api 33."},{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1667158124,"post_id":74227296,"comment_id":131099288,"body_markdown":"@PrescottChartier interesting. I am glad you found it useful. You might benefit from a tool like [BrowserStack](https://www.browserstack.com/).","body":"@PrescottChartier interesting. I am glad you found it useful. You might benefit from a tool like <a href=\"https://www.browserstack.com/\" rel=\"nofollow noreferrer\">BrowserStack</a>."},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1667220897,"post_id":74227296,"comment_id":131111774,"body_markdown":"I checked out BrowserStack, they don&#39;t yet have API 33 but looks like a good place to test apps.  I&#39;ll be sure to check it out once they have API 33.  They said it would be &quot;soon&quot;.","body":"I checked out BrowserStack, they don&#39;t yet have API 33 but looks like a good place to test apps.  I&#39;ll be sure to check it out once they have API 33.  They said it would be &quot;soon&quot;."},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1670788417,"post_id":74227296,"comment_id":131949200,"body_markdown":"@JaunR And now there&#39;s this issue.  Although the syntax is correct, the call at runtime causes the error `Java.Lang.NullPointerException: &#39;Attempt to invoke virtual method &#39;boolean java.lang.Class.isInterface()&#39; on a null object reference&#39;`.  The problem is apparently a bug in the API, you can see that here at https://issuetracker.google.com/issues/240585930.  They reccomend that one use the depreciated syntax as it still functions as intended.","body":"@JaunR And now there&#39;s this issue.  Although the syntax is correct, the call at runtime causes the error <code>Java.Lang.NullPointerException: &#39;Attempt to invoke virtual method &#39;boolean java.lang.Class.isInterface()&#39; on a null object reference&#39;</code>.  The problem is apparently a bug in the API, you can see that here at <a href=\"https://issuetracker.google.com/issues/240585930\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/240585930</a>.  They reccomend that one use the depreciated syntax as it still functions as intended."},{"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"score":0,"creation_date":1670818449,"post_id":74227296,"comment_id":131953608,"body_markdown":"Tell me about it.  I&#39;m on the trail of converting my code to use the ActivityResultContracts.TakePicture() which is what I&#39;m trying to do with this app, I can&#39;t find anything in c# and java is a total mystry to me.  I don&#39;t suppose you can assist?","body":"Tell me about it.  I&#39;m on the trail of converting my code to use the ActivityResultContracts.TakePicture() which is what I&#39;m trying to do with this app, I can&#39;t find anything in c# and java is a total mystry to me.  I don&#39;t suppose you can assist?"},{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1670819691,"post_id":74227296,"comment_id":131953751,"body_markdown":"@PrescottChartier I created this room so we can discuss: https://chat.stackoverflow.com/rooms/250337/android-api-conversion","body":"@PrescottChartier I created this room so we can discuss: <a href=\"https://chat.stackoverflow.com/rooms/250337/android-api-conversion\">chat.stackoverflow.com/rooms/250337/android-api-conversion</a>"}],"tags":[],"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666964868,"creation_date":1666898648,"answer_id":74227296,"question_id":74226563,"body_markdown":"A quick look at the source code (available online) confirms what you are experiencing:\r\n\r\n\t/* @deprecated Use the type-safer {@link #getParcelable(String, Class)} starting from Android\r\n    *      {@link Build.VERSION_CODES#TIRAMISU}.\r\n    */\r\n    @Deprecated\r\n    @Nullable\r\n    public &lt;T extends Parcelable&gt; T getParcelable(@Nullable String key) {\r\n      //Implementation here\r\n    }\r\n\r\nAs you can see, the comment is recommending you use the other (type-safer) method instead:\r\n\r\n\t/**\r\n     * Returns the value associated with the given key or {@code null} if:\r\n     * &lt;ul&gt;\r\n     *     &lt;li&gt;No mapping of the desired type exists for the given key.\r\n     *     &lt;li&gt;A {@code null} value is explicitly associated with the key.\r\n     *     &lt;li&gt;The object is not of type {@code clazz}.\r\n     * &lt;/ul&gt;\r\n     *\r\n     * &lt;p&gt;&lt;b&gt;Note: &lt;/b&gt; if the expected value is not a class provided by the Android platform,\r\n     * you must call {@link #setClassLoader(ClassLoader)} with the proper {@link ClassLoader} first.\r\n     * Otherwise, this method might throw an exception or return {@code null}.\r\n     *\r\n     * @param key a String, or {@code null}\r\n     * @param clazz The type of the object expected\r\n     * @return a Parcelable value, or {@code null}\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Nullable\r\n    public &lt;T&gt; T getParcelable(@Nullable String key, @NonNull Class&lt;T&gt; clazz) {\r\n        // The reason for not using &lt;T extends Parcelable&gt; is because the caller could provide a\r\n        // super class to restrict the children that doesn&#39;t implement Parcelable itself while the\r\n        // children do, more details at b/210800751 (same reasoning applies here).\r\n        return get(key, clazz);\r\n    }\r\n\r\nThe new method even has a comment as to why you want to use this instead.\r\n\r\nNotice this in particular:\r\n\r\n&gt; * @param clazz The type of the object expected\r\n\r\nSo, to answer your question, it looks like you should be doing this to get the object:\r\n\r\n    User MyUser = new User(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    MyUser = bundlee.GetParcelable(&quot;MyUser&quot;, Java.Lang.Class.FromType(typeof(User))) as User;\r\n\r\nOr:\r\n\r\n    MyUser = bundlee.GetParcelable(&quot;MyUser&quot;, Java.Lang.Class.FromType(MyUser.GetType())) as User;\r\n","title":"&#39;Bundle.GetParcelable(string?)&#39; is obsolete: &#39;deprecated&#39;","body":"<p>A quick look at the source code (available online) confirms what you are experiencing:</p>\n<pre><code>/* @deprecated Use the type-safer {@link #getParcelable(String, Class)} starting from Android\n*      {@link Build.VERSION_CODES#TIRAMISU}.\n*/\n@Deprecated\n@Nullable\npublic &lt;T extends Parcelable&gt; T getParcelable(@Nullable String key) {\n  //Implementation here\n}\n</code></pre>\n<p>As you can see, the comment is recommending you use the other (type-safer) method instead:</p>\n<pre><code>/**\n * Returns the value associated with the given key or {@code null} if:\n * &lt;ul&gt;\n *     &lt;li&gt;No mapping of the desired type exists for the given key.\n *     &lt;li&gt;A {@code null} value is explicitly associated with the key.\n *     &lt;li&gt;The object is not of type {@code clazz}.\n * &lt;/ul&gt;\n *\n * &lt;p&gt;&lt;b&gt;Note: &lt;/b&gt; if the expected value is not a class provided by the Android platform,\n * you must call {@link #setClassLoader(ClassLoader)} with the proper {@link ClassLoader} first.\n * Otherwise, this method might throw an exception or return {@code null}.\n *\n * @param key a String, or {@code null}\n * @param clazz The type of the object expected\n * @return a Parcelable value, or {@code null}\n */\n@SuppressWarnings(&quot;unchecked&quot;)\n@Nullable\npublic &lt;T&gt; T getParcelable(@Nullable String key, @NonNull Class&lt;T&gt; clazz) {\n    // The reason for not using &lt;T extends Parcelable&gt; is because the caller could provide a\n    // super class to restrict the children that doesn't implement Parcelable itself while the\n    // children do, more details at b/210800751 (same reasoning applies here).\n    return get(key, clazz);\n}\n</code></pre>\n<p>The new method even has a comment as to why you want to use this instead.</p>\n<p>Notice this in particular:</p>\n<blockquote>\n<ul>\n<li>@param clazz The type of the object expected</li>\n</ul>\n</blockquote>\n<p>So, to answer your question, it looks like you should be doing this to get the object:</p>\n<pre><code>User MyUser = new User(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\nMyUser = bundlee.GetParcelable(&quot;MyUser&quot;, Java.Lang.Class.FromType(typeof(User))) as User;\n</code></pre>\n<p>Or:</p>\n<pre><code>MyUser = bundlee.GetParcelable(&quot;MyUser&quot;, Java.Lang.Class.FromType(MyUser.GetType())) as User;\n</code></pre>\n"}],"owner":{"account_id":3793923,"reputation":1539,"user_id":3149673,"accept_rate":88,"display_name":"Prescott Chartier"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3980,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74227296,"answer_count":1,"score":-1,"last_activity_date":1666964868,"creation_date":1666894415,"question_id":74226563,"body_markdown":"So I have this obsolescence issue using VS 2022 Xamarin and android api 33 (Triamisu), I don&#39;t want to use the `[Obsolete]` key word as although the app works fine on my Samsung S21 (Android v13) phone, eventually all support for earlier versions of android will drop off and I will have to update all my code anyway.  So in the interest of getting ahead of this, I&#39;m putting the question out there.\r\n\r\nCurrently my code is:\r\n    \r\n    User MyUser = new User(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    MyUser = bundlee.GetParcelable(&quot;MyUser&quot;) as User;\r\n\r\nI move the user data from one activity to another so I don&#39;t have to make another call to the database, hopefully saving time.  I read the article [here][1] and can&#39;t really figure out what syntax I need in order to correct the code.  `User` is a class defined in my code and I populate an instance of the class with the user&#39;s data.  I move the data from one activity to another like this:\r\n\r\n    Intent intent = new Intent(this, typeof(Menu));\r\n    Bundle bundlee = new Bundle();\r\n    bundlee.PutParcelable(&quot;MyUser&quot;, MyUser); // Persist user class to next activity\r\n    intent.PutExtra(&quot;TheBundle&quot;, bundlee);\r\n    StartActivity(intent);\r\n\r\nNow apparently things are changing and I cannot figure out how to adapt my code to the change.  There isn&#39;t a lot of information out there as this is a recent change, I&#39;ve read the android developer documentation [here][2] but it wasn&#39;t much help.  What `class clazz` do I use in this instance?  I created the class I&#39;m passing in c#, so it&#39;s not java.  I&#39;m very confused.  Can anyone clear this up for me? \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Bundle\r\n  [2]: https://developer.android.com/reference/android/os/Bundle.html#getParcelable(java.lang.String,%20java.lang.Class%3CT%3E)","title":"&#39;Bundle.GetParcelable(string?)&#39; is obsolete: &#39;deprecated&#39;","body":"<p>So I have this obsolescence issue using VS 2022 Xamarin and android api 33 (Triamisu), I don't want to use the <code>[Obsolete]</code> key word as although the app works fine on my Samsung S21 (Android v13) phone, eventually all support for earlier versions of android will drop off and I will have to update all my code anyway.  So in the interest of getting ahead of this, I'm putting the question out there.</p>\n<p>Currently my code is:</p>\n<pre><code>User MyUser = new User(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\nMyUser = bundlee.GetParcelable(&quot;MyUser&quot;) as User;\n</code></pre>\n<p>I move the user data from one activity to another so I don't have to make another call to the database, hopefully saving time.  I read the article <a href=\"https://developer.android.com/reference/android/os/Bundle\" rel=\"nofollow noreferrer\">here</a> and can't really figure out what syntax I need in order to correct the code.  <code>User</code> is a class defined in my code and I populate an instance of the class with the user's data.  I move the data from one activity to another like this:</p>\n<pre><code>Intent intent = new Intent(this, typeof(Menu));\nBundle bundlee = new Bundle();\nbundlee.PutParcelable(&quot;MyUser&quot;, MyUser); // Persist user class to next activity\nintent.PutExtra(&quot;TheBundle&quot;, bundlee);\nStartActivity(intent);\n</code></pre>\n<p>Now apparently things are changing and I cannot figure out how to adapt my code to the change.  There isn't a lot of information out there as this is a recent change, I've read the android developer documentation <a href=\"https://developer.android.com/reference/android/os/Bundle.html#getParcelable(java.lang.String,%20java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">here</a> but it wasn't much help.  What <code>class clazz</code> do I use in this instance?  I created the class I'm passing in c#, so it's not java.  I'm very confused.  Can anyone clear this up for me?</p>\n"},{"tags":["java","spring","spring-boot","docker","shell"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1614336493,"post_id":66384350,"comment_id":117360587,"body_markdown":"do they not get triggered, or not at the correct time?","body":"do they not get triggered, or not at the correct time?"},{"owner":{"account_id":5676815,"reputation":201,"user_id":4489665,"accept_rate":21,"display_name":"Thej"},"score":0,"creation_date":1614336704,"post_id":66384350,"comment_id":117360670,"body_markdown":"They are not getting triggered in docker","body":"They are not getting triggered in docker"}],"answers":[{"tags":[],"owner":{"account_id":24168586,"reputation":31,"user_id":18130987,"display_name":"hopawastaken"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655480807,"creation_date":1655480807,"answer_id":72661831,"question_id":66384350,"body_markdown":"I had this problem and it was because the docker container was automatically on UTC time zone, try running &quot;date&quot; in the container and seeing what time it is. \r\n\r\nTo change time zone using ubuntu as the base image, add to the dockerfile: \r\n\r\n```\r\nRUN apt-get update &amp;&amp; apt-get -y install tzdata\r\nENV TZ=&quot;insert-time-zone&quot; //Example: America/Chicago\r\n```\r\nCheck out [this question](https://stackoverflow.com/questions/57607381/how-do-i-change-timezone-in-a-docker-container) for more information.","title":"How to schedule Spring boot CronJob in Docker Container","body":"<p>I had this problem and it was because the docker container was automatically on UTC time zone, try running &quot;date&quot; in the container and seeing what time it is.</p>\n<p>To change time zone using ubuntu as the base image, add to the dockerfile:</p>\n<pre><code>RUN apt-get update &amp;&amp; apt-get -y install tzdata\nENV TZ=&quot;insert-time-zone&quot; //Example: America/Chicago\n</code></pre>\n<p>Check out <a href=\"https://stackoverflow.com/questions/57607381/how-do-i-change-timezone-in-a-docker-container\">this question</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":24781193,"reputation":71,"user_id":18664620,"display_name":"meher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666964276,"creation_date":1666964276,"answer_id":74236252,"question_id":66384350,"body_markdown":"Add to your Dockerfile:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    RUN apt-get update &amp;&amp; apt-get -y install tzdata\r\n    ENV TZ=&quot;America/Araguaina&quot;\r\n    RUN date\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to schedule Spring boot CronJob in Docker Container","body":"<p>Add to your Dockerfile:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>RUN apt-get update &amp;&amp; apt-get -y install tzdata\nENV TZ=\"America/Araguaina\"\nRUN date</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":5676815,"reputation":201,"user_id":4489665,"accept_rate":21,"display_name":"Thej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666964276,"creation_date":1614336344,"question_id":66384350,"body_markdown":"I have a cron job in my spring boot application which runs periodically. On enabling job, Automatically jobs are getting triggered and it is working as expected in Windows tomcat server\r\n\r\nBut when the same code is deployed into Linux Docker environment. Jobs are not getting triggered at the scheduled time.\r\nI verified few links below. But it didn&#39;t solve my problem.\r\nhttps://stackoverflow.com/questions/47910929/spring-boot-scheduled-task-not-working-on-docker-container\r\n\r\nWhat is the right approach to handle this?\r\n\r\n    TestJobScheduler.class:\r\n    -------------------------\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class TestJobScheduler {\r\n    \r\n    \t@Value(&quot;${test.job.enabled}&quot;)\r\n    \tprivate boolean isTestJobEnabled;\r\n    \t\r\n    \t@Scheduled(cron = &quot;${test.cron.expression}&quot;)\r\n    \tpublic void testSchedulerJob() {\r\n    \t\tif(isTestJobEnabled) {\r\n    \t\t\t//Do your work\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    application.properties:\r\n    ------------------------\r\n    test.job.enabled=true\r\n    test.cron.expression=0 0 6 ? * 3,5","title":"How to schedule Spring boot CronJob in Docker Container","body":"<p>I have a cron job in my spring boot application which runs periodically. On enabling job, Automatically jobs are getting triggered and it is working as expected in Windows tomcat server</p>\n<p>But when the same code is deployed into Linux Docker environment. Jobs are not getting triggered at the scheduled time.\nI verified few links below. But it didn't solve my problem.\n<a href=\"https://stackoverflow.com/questions/47910929/spring-boot-scheduled-task-not-working-on-docker-container\">Spring Boot Scheduled task not working on docker container</a></p>\n<p>What is the right approach to handle this?</p>\n<pre><code>TestJobScheduler.class:\n-------------------------\n@Configuration\n@EnableScheduling\npublic class TestJobScheduler {\n\n    @Value(&quot;${test.job.enabled}&quot;)\n    private boolean isTestJobEnabled;\n    \n    @Scheduled(cron = &quot;${test.cron.expression}&quot;)\n    public void testSchedulerJob() {\n        if(isTestJobEnabled) {\n            //Do your work\n        }\n    }\n}\n\napplication.properties:\n------------------------\ntest.job.enabled=true\ntest.cron.expression=0 0 6 ? * 3,5\n</code></pre>\n"},{"tags":["java","reflection","module","java-9"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1630936694,"post_id":69064624,"comment_id":122083524,"body_markdown":"What did you expect to happen with `o.getClass().getName()`?","body":"What did you expect to happen with <code>o.getClass().getName()</code>?"},{"owner":{"account_id":1996242,"reputation":23,"user_id":1789168,"display_name":"user1789168"},"score":0,"creation_date":1633830192,"post_id":69064624,"comment_id":122864282,"body_markdown":"@Holger Raise an error since the module containing the class I am calling getName() on did not allow reflection.","body":"@Holger Raise an error since the module containing the class I am calling getName() on did not allow reflection."}],"answers":[{"comments":[{"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"score":0,"creation_date":1666964346,"post_id":69514065,"comment_id":131065318,"body_markdown":"What about `Class.getAnnotationsByType(...)`? It does not declare to throw an IllegalAccessException, however the API docs of [`RetentionPolicy.RUNTIME`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html) state that this retention policy allows the annotation to &quot;be read reflectively&quot;.","body":"What about <code>Class.getAnnotationsByType(...)</code>? It does not declare to throw an IllegalAccessException, however the API docs of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html\" rel=\"nofollow noreferrer\"><code>RetentionPolicy.RUNTIME</code></a> state that this retention policy allows the annotation to &quot;be read reflectively&quot;."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666970665,"post_id":69514065,"comment_id":131067540,"body_markdown":"@SebastianS what is your question, exactly? `getAnnotationsByType` does not declare to throw IllegalAccessException and it will never throw IllegalAccessException. When the annotation does not have the `RetentionPolicy.RUNTIME`, it will never be returned by `getAnnotationsByType`, just the way it works since Java&#160;5.","body":"@SebastianS what is your question, exactly? <code>getAnnotationsByType</code> does not declare to throw IllegalAccessException and it will never throw IllegalAccessException. When the annotation does not have the <code>RetentionPolicy.RUNTIME</code>, it will never be returned by <code>getAnnotationsByType</code>, just the way it works since Java 5."},{"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"score":0,"creation_date":1666976877,"post_id":69514065,"comment_id":131069727,"body_markdown":"The question is if it counts as reflection. Your explanation says **no** (because of the missing exception). But the linked docs explicitly say **it is** reflection.","body":"The question is if it counts as reflection. Your explanation says <b>no</b> (because of the missing exception). But the linked docs explicitly say <b>it is</b> reflection."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667205989,"post_id":69514065,"comment_id":131107072,"body_markdown":"@SebastianS I never said that whether it counts as reflection determines whether it throws an exception. Where did you see that in the answer? I said, *reflection is not covered by the JLS*, the JLS even directs its readers to the API specification regarding reflection, explicitly. So, in case of reflection, the API specification is the only authoritative source. If the API specification says that a reflection method can not fail with an `IllegalAccessException`, it can not fail with that exception. No contradiction to the JLS, because the JLS says look at the API specification.","body":"@SebastianS I never said that whether it counts as reflection determines whether it throws an exception. Where did you see that in the answer? I said, <i>reflection is not covered by the JLS</i>, the JLS even directs its readers to the API specification regarding reflection, explicitly. So, in case of reflection, the API specification is the only authoritative source. If the API specification says that a reflection method can not fail with an <code>IllegalAccessException</code>, it can not fail with that exception. No contradiction to the JLS, because the JLS says look at the API specification."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633859083,"creation_date":1633859083,"answer_id":69514065,"question_id":69064624,"body_markdown":"The Java Language Specification does not define Reflection (and hence, the impact of `opens` or the lack thereof) in detail but rather [refers to the API specification]:\r\n\r\n&gt; [...] This specification constrains the behavior of such classes and interfaces, but does not provide a complete specification for them. The reader is referred to the Java SE Platform API documentation.\r\n&gt; \r\n&gt; Consequently, this specification does not describe reflection in any detail. Many linguistic constructs have analogs in the Core Reflection API (`java.lang.reflect`) and the Language Model API (`javax.lang.model`), but these are generally not discussed here.\r\n\r\nThe Java SE Platform API documentation specifies when an `IllegalAccessException` can be thrown, e.g. on invocations of [`Field.get`] or [`Method.invoke`].\r\n\r\nNeither [`Object.getClass()`] nor [`Class.getName()`] have been specified to potentially throw an `IllegalAccessException`.\r\n\r\nThis is consistent with the runtime behavior of Java before the module system introduction. Just the rules regarding when an access is granted or not became more complex.\r\n\r\nThe impact of being able to query the name of a class is rather low compared to accessing the internal data or invoking non-API methods.\r\n\r\n[refers to the API specification]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-1.html#jls-1.4\r\n[`Field.get`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#get(java.lang.Object)\r\n[`Method.invoke`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Method.html#invoke(java.lang.Object,java.lang.Object...)\r\n[`Object.getClass()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()\r\n[`Class.getName()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getName()","title":"Why does getClass().getName() work on a module class that is not open?","body":"<p>The Java Language Specification does not define Reflection (and hence, the impact of <code>opens</code> or the lack thereof) in detail but rather <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-1.html#jls-1.4\" rel=\"nofollow noreferrer\">refers to the API specification</a>:</p>\n<blockquote>\n<p>[...] This specification constrains the behavior of such classes and interfaces, but does not provide a complete specification for them. The reader is referred to the Java SE Platform API documentation.</p>\n<p>Consequently, this specification does not describe reflection in any detail. Many linguistic constructs have analogs in the Core Reflection API (<code>java.lang.reflect</code>) and the Language Model API (<code>javax.lang.model</code>), but these are generally not discussed here.</p>\n</blockquote>\n<p>The Java SE Platform API documentation specifies when an <code>IllegalAccessException</code> can be thrown, e.g. on invocations of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#get(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Field.get</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Method.html#invoke(java.lang.Object,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>Method.invoke</code></a>.</p>\n<p>Neither <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\"><code>Object.getClass()</code></a> nor <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getName()\" rel=\"nofollow noreferrer\"><code>Class.getName()</code></a> have been specified to potentially throw an <code>IllegalAccessException</code>.</p>\n<p>This is consistent with the runtime behavior of Java before the module system introduction. Just the rules regarding when an access is granted or not became more complex.</p>\n<p>The impact of being able to query the name of a class is rather low compared to accessing the internal data or invoking non-API methods.</p>\n"}],"owner":{"account_id":1996242,"reputation":23,"user_id":1789168,"display_name":"user1789168"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69514065,"answer_count":1,"score":2,"last_activity_date":1666964049,"creation_date":1630854660,"question_id":69064624,"body_markdown":"I have two Java 9 modules, a server, and a handler.  The server loads HTTP handlers with the ServiceLoader (code below).\r\n\r\nWhy does the `o.getClass().getName()` in this snippet work?  Is it because `provides` opens the handler class up to reflection? Does getClass().getName() not use reflection?  Does Java somehow always map an interface to the underlying class instance (and thus to the class) without needing reflection?\r\n\r\nserver module code:\r\n```\r\n    ServiceLoader\r\n      .load(HTTPHandlerWithContext.class)\r\n      .stream()\r\n      .map(ServiceLoader.Provider::get)\r\n      .forEach(o -&gt; {\r\n        System.out.printf(\r\n          &quot;registering route %s to %s%n&quot;,\r\n          o.getContext(),\r\n          o.getClass().getName()\r\n        );\r\n        server.createContext(o.getContext(), o);\r\n      });\r\n```\r\n\r\nhandler module-info:\r\n```\r\nmodule com.example.helloworld {\r\n  requires com.example.tinyjhttpd;\r\n  requires jdk.httpserver;\r\n  provides com.example.tinyjhttpd.HTTPHandlerWithContext\r\n    with com.example.helloworld.HelloWorld;\r\n}\r\n```\r\n\r\nWhat I think is the relevant snippet from Class.java was not enough to make it clear to me:\r\n\r\n```\r\n    // Cache the name to reduce the number of calls into the VM.\r\n    // This field would be set by VM itself during initClassName call.\r\n    private transient String name;\r\n    private native String initClassName();\r\n```\r\n\r\n","title":"Why does getClass().getName() work on a module class that is not open?","body":"<p>I have two Java 9 modules, a server, and a handler.  The server loads HTTP handlers with the ServiceLoader (code below).</p>\n<p>Why does the <code>o.getClass().getName()</code> in this snippet work?  Is it because <code>provides</code> opens the handler class up to reflection? Does getClass().getName() not use reflection?  Does Java somehow always map an interface to the underlying class instance (and thus to the class) without needing reflection?</p>\n<p>server module code:</p>\n<pre><code>    ServiceLoader\n      .load(HTTPHandlerWithContext.class)\n      .stream()\n      .map(ServiceLoader.Provider::get)\n      .forEach(o -&gt; {\n        System.out.printf(\n          &quot;registering route %s to %s%n&quot;,\n          o.getContext(),\n          o.getClass().getName()\n        );\n        server.createContext(o.getContext(), o);\n      });\n</code></pre>\n<p>handler module-info:</p>\n<pre><code>module com.example.helloworld {\n  requires com.example.tinyjhttpd;\n  requires jdk.httpserver;\n  provides com.example.tinyjhttpd.HTTPHandlerWithContext\n    with com.example.helloworld.HelloWorld;\n}\n</code></pre>\n<p>What I think is the relevant snippet from Class.java was not enough to make it clear to me:</p>\n<pre><code>    // Cache the name to reduce the number of calls into the VM.\n    // This field would be set by VM itself during initClassName call.\n    private transient String name;\n    private native String initClassName();\n</code></pre>\n"},{"tags":["javascript","java","arrays","servlets","aem"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1666971638,"post_id":74236126,"comment_id":131067912,"body_markdown":"Javascript can use XMLHttpRequest to request array from Servlet.","body":"Javascript can use XMLHttpRequest to request array from Servlet."},{"owner":{"account_id":26692146,"reputation":1,"user_id":20300573,"display_name":"Abhinay up"},"score":0,"creation_date":1666976636,"post_id":74236126,"comment_id":131069628,"body_markdown":"could you explain me bit in detail","body":"could you explain me bit in detail"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1666979000,"post_id":74236126,"comment_id":131070427,"body_markdown":"https://stackoverflow.com/questions/247483/http-get-request-in-javascript/4033310#4033310","body":"<a href=\"https://stackoverflow.com/questions/247483/http-get-request-in-javascript/4033310#4033310\" title=\"http get request in javascript\">stackoverflow.com/questions/247483/&hellip;</a>"}],"owner":{"account_id":26692146,"reputation":1,"user_id":20300573,"display_name":"Abhinay up"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666963657,"creation_date":1666963657,"question_id":74236126,"body_markdown":"# this is my servlet where i am getting sorted array as response    \r\n```     \r\n    String[] myarray = new String[] {nameOne, nameTwo, nameThree, nameFour, nameFive};\r\n \r\n    Arrays.sort(myarray, String.CASE_INSENSITIVE_ORDER);\r\n    Gson gson=new Gson();\r\nString jsonData=gson.toJson(myarray);\r\n\r\nresponse.setContentType(&quot;application/json&quot;);\r\nresponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\nresponse.getWriter().write(jsonData);\r\n```\r\nbelow is my javascript code to get array elements as ordered list, my pronblem is i dont know how to access the array from servlet in this javascript.anyone pls explain how can i store the array in a variable (var str)\r\n```\r\n    var str=// i want to store the array from servlet in this variable\r\n    var list = document.createElement(&quot;ol&quot;);\r\nfor (let i of str) {\r\n  let item = document.createElement(&quot;li&quot;);\r\n  item.innerHTML = i;\r\n  list.appendChild(item);\r\n}\r\n\r\ndocument.getElementById(&quot;demoA&quot;).appendChild(list);\r\n```\r\n\r\n```\r\nthis is html code\r\n&lt;div id=&quot;demoA&quot;&gt;&lt;/div&gt;\r\n\r\nI tried request dispatcher but it is useful for jsp files . if solution is to use req dispatcher then pls tell me jsp code to generate that array elementrs as ordered list in html.","title":"pass array from servlet to javascript","body":"<h1>this is my servlet where i am getting sorted array as response</h1>\n<pre><code>    String[] myarray = new String[] {nameOne, nameTwo, nameThree, nameFour, nameFive};\n \n    Arrays.sort(myarray, String.CASE_INSENSITIVE_ORDER);\n    Gson gson=new Gson();\nString jsonData=gson.toJson(myarray);\n\nresponse.setContentType(&quot;application/json&quot;);\nresponse.setCharacterEncoding(&quot;UTF-8&quot;);\nresponse.getWriter().write(jsonData);\n</code></pre>\n<p>below is my javascript code to get array elements as ordered list, my pronblem is i dont know how to access the array from servlet in this javascript.anyone pls explain how can i store the array in a variable (var str)</p>\n<pre><code>    var str=// i want to store the array from servlet in this variable\n    var list = document.createElement(&quot;ol&quot;);\nfor (let i of str) {\n  let item = document.createElement(&quot;li&quot;);\n  item.innerHTML = i;\n  list.appendChild(item);\n}\n\ndocument.getElementById(&quot;demoA&quot;).appendChild(list);\n</code></pre>\n<pre><code>this is html code\n&lt;div id=&quot;demoA&quot;&gt;&lt;/div&gt;\n\nI tried request dispatcher but it is useful for jsp files . if solution is to use req dispatcher then pls tell me jsp code to generate that array elementrs as ordered list in html.\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9297,"page":926,"page_size":100}
