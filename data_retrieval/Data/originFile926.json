{"items":[{"tags":["java","maven","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1653460534,"post_id":72370182,"comment_id":127854751,"body_markdown":"Please check the version of maven-javadoc-plugin which you are using (https://maven.apache.org/plugins/) and upgrade to the most recent first...","body":"Please check the version of maven-javadoc-plugin which you are using (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) and upgrade to the most recent first..."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1666870122,"post_id":72370182,"comment_id":131040132,"body_markdown":"@khmarbaise sorry for the late reply; this issue was kind of secondary so I was not paying much attention to it, and now quite some time has passed; if I remember correctly, using the latest version fixed the problem. If you create an answer, and when I get around to verify this, I will accept it.","body":"@khmarbaise sorry for the late reply; this issue was kind of secondary so I was not paying much attention to it, and now quite some time has passed; if I remember correctly, using the latest version fixed the problem. If you create an answer, and when I get around to verify this, I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":3252792,"reputation":1390,"user_id":2742642,"accept_rate":75,"display_name":"Uli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666865782,"creation_date":1666865782,"answer_id":74220425,"question_id":72370182,"body_markdown":"You can avoid the informational messages from javadoc by adding `quiet=true`:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n          &lt;quiet&gt;true&lt;/quiet&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThere is also a bug that complains about the new javadoc behaviour with a small discussion how to handle that in the maven-javadoc-plugin:\r\nhttps://bugs.openjdk.org/browse/JDK-8270831","title":"maven-javadoc-plugin emits diagnostic messages as warnings","body":"<p>You can avoid the informational messages from javadoc by adding <code>quiet=true</code>:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n      &lt;quiet&gt;true&lt;/quiet&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>There is also a bug that complains about the new javadoc behaviour with a small discussion how to handle that in the maven-javadoc-plugin:\n<a href=\"https://bugs.openjdk.org/browse/JDK-8270831\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8270831</a></p>\n"}],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666960272,"creation_date":1653431998,"question_id":72370182,"body_markdown":"My github release workflow includes the maven-javadoc-plugin. This plugin emits a large number of warnings, but when I look at the messages, none of them is the slightest bit worrisome; they are all just diagnostic messages.\r\n\r\nIt is as if some n00b is using a warning-level logging statement to emit debug-level or trace-level messages:\r\n\r\n\tWarning: ARNING] Javadoc Warnings\r\n\tWarning: ARNING] Loading source files for package io.github.mikenakis.bathyscaphe...\r\n\tWarning: ARNING] Loading source files for package io.github.mikenakis.bathyscaphe.annotations...\r\n\tWarning: ARNING] Constructing Javadoc information...\r\n\tWarning: ARNING] Building index for all the packages and classes...\r\n\tWarning: ARNING] Standard Doclet version 17.0.3+7-LTS\r\n\tWarning: ARNING] Building tree for all the packages and classes...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/ImmutabilitySelfAssessable.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/Invariable.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/InvariableArray.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/ThreadSafe.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-summary.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-tree.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-summary.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-tree.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/class-use/ImmutabilitySelfAssessable.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/Invariable.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/InvariableArray.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/ThreadSafe.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-use.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-use.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/overview-tree.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/index.html...\r\n\tWarning: ARNING] Building index for all classes...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/allclasses-index.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/allpackages-index.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/index-all.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/overview-summary.html...\r\n\tWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/help-doc.html...\r\n\r\nNote that a google search for the keywords related to my question yields many results, but every single one of them is about situations where people are receiving legitimate warnings from maven-javadoc-plugin, or even errors, and they are asking how they can have them suppressed. \r\n\r\nThis is not my problem; my javadoc generates no warnings; but the tool keeps using the warning level when issuing messages that are obviously informational.\r\n\r\nSo, why is this happening, and how can I prevent it from happening?\r\n\r\nAlso, while at it: does anyone know why the leading &quot;[W&quot; is missing from each line? (And how come &quot;Warning: &quot; is prepended to each line?)\r\n","title":"maven-javadoc-plugin emits diagnostic messages as warnings","body":"<p>My github release workflow includes the maven-javadoc-plugin. This plugin emits a large number of warnings, but when I look at the messages, none of them is the slightest bit worrisome; they are all just diagnostic messages.</p>\n<p>It is as if some n00b is using a warning-level logging statement to emit debug-level or trace-level messages:</p>\n<pre><code>Warning: ARNING] Javadoc Warnings\nWarning: ARNING] Loading source files for package io.github.mikenakis.bathyscaphe...\nWarning: ARNING] Loading source files for package io.github.mikenakis.bathyscaphe.annotations...\nWarning: ARNING] Constructing Javadoc information...\nWarning: ARNING] Building index for all the packages and classes...\nWarning: ARNING] Standard Doclet version 17.0.3+7-LTS\nWarning: ARNING] Building tree for all the packages and classes...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/ImmutabilitySelfAssessable.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/Invariable.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/InvariableArray.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/ThreadSafe.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-summary.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-tree.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-summary.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-tree.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/class-use/ImmutabilitySelfAssessable.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/Invariable.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/InvariableArray.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/class-use/ThreadSafe.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/package-use.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/io/github/mikenakis/bathyscaphe/annotations/package-use.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/overview-tree.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/index.html...\nWarning: ARNING] Building index for all classes...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/allclasses-index.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/allpackages-index.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/index-all.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/overview-summary.html...\nWarning: ARNING] Generating /home/runner/work/Bathyscaphe/Bathyscaphe/target/checkout/claims/target/apidocs/help-doc.html...\n</code></pre>\n<p>Note that a google search for the keywords related to my question yields many results, but every single one of them is about situations where people are receiving legitimate warnings from maven-javadoc-plugin, or even errors, and they are asking how they can have them suppressed.</p>\n<p>This is not my problem; my javadoc generates no warnings; but the tool keeps using the warning level when issuing messages that are obviously informational.</p>\n<p>So, why is this happening, and how can I prevent it from happening?</p>\n<p>Also, while at it: does anyone know why the leading &quot;[W&quot; is missing from each line? (And how come &quot;Warning: &quot; is prepended to each line?)</p>\n"},{"tags":["java","amazon-web-services","aws-cloudformation","aws-cdk"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1666960252,"post_id":74235438,"comment_id":131063880,"body_markdown":"If you want your customers / users to have a UI you need to build a UI.","body":"If you want your customers / users to have a UI you need to build a UI."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1666960383,"post_id":74235438,"comment_id":131063925,"body_markdown":"Do you currently expect them to manually combine yaml files?","body":"Do you currently expect them to manually combine yaml files?"},{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1666960411,"post_id":74235438,"comment_id":131063940,"body_markdown":"&quot;This works in most regions, but in some I need to modify the template depending on restrictions.&quot; you might be able to use cloudformation conditions, mappings, and intrinsic functions to do this all in the same template.","body":"&quot;This works in most regions, but in some I need to modify the template depending on restrictions.&quot; you might be able to use cloudformation conditions, mappings, and intrinsic functions to do this all in the same template."},{"owner":{"account_id":26759817,"reputation":1,"user_id":20357956,"display_name":"GreenLineMetro"},"score":0,"creation_date":1666960456,"post_id":74235438,"comment_id":131063953,"body_markdown":"@luk2302 I have built a UI. The general thought is that when they run the installation phase of my app, they create their personal cloudformation stack by clicking a button.","body":"@luk2302 I have built a UI. The general thought is that when they run the installation phase of my app, they create their personal cloudformation stack by clicking a button."},{"owner":{"account_id":16060849,"reputation":2089,"user_id":11591758,"display_name":"lynkfox"},"score":1,"creation_date":1667150014,"post_id":74235438,"comment_id":131097472,"body_markdown":"after they click the button on your page, have it kick off a CodePipeline that synth&#39;s the CDK template and deploys it for you/them.","body":"after they click the button on your page, have it kick off a CodePipeline that synth&#39;s the CDK template and deploys it for you/them."}],"owner":{"account_id":26759817,"reputation":1,"user_id":20357956,"display_name":"GreenLineMetro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666960167,"creation_date":1666960167,"question_id":74235438,"body_markdown":"Currently I have a cloudformation template in a yaml file that I use to form a stack containing the resources needed for my app. This works in most regions, but in some I need to modify the template depending on restrictions. The template yaml is constructed by stitching together different smaller yaml files to fit the purpose and restraints.\r\n\r\nIt has become a hassle to cut and modify these yaml files to achieve the desired resources in the stack, so I&#39;ve started thinking about switching to the aws cdk instead.\r\n\r\nThe problem is that I do not want to enter a terminal and use the cdk cli everytime I want to create a stack. A stack is created for each instance of my app, which end users run and I cannot expect them to be interested in running cli commands to run my app.\r\n\r\n**Can I create these stacks with the cdk without using cli commands?**\r\n\r\nMy app is written in java if that helps.","title":"Can you create cloudformation stacks in the CDK without using the cli?","body":"<p>Currently I have a cloudformation template in a yaml file that I use to form a stack containing the resources needed for my app. This works in most regions, but in some I need to modify the template depending on restrictions. The template yaml is constructed by stitching together different smaller yaml files to fit the purpose and restraints.</p>\n<p>It has become a hassle to cut and modify these yaml files to achieve the desired resources in the stack, so I've started thinking about switching to the aws cdk instead.</p>\n<p>The problem is that I do not want to enter a terminal and use the cdk cli everytime I want to create a stack. A stack is created for each instance of my app, which end users run and I cannot expect them to be interested in running cli commands to run my app.</p>\n<p><strong>Can I create these stacks with the cdk without using cli commands?</strong></p>\n<p>My app is written in java if that helps.</p>\n"},{"tags":["java","list","sorting","lambda","localdate"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666889807,"post_id":74225376,"comment_id":131047547,"body_markdown":"This looks perfectly reasonable to me.  Did they say your solution was _wrong_, or just that they wanted something that used fancier Java 8 features?","body":"This looks perfectly reasonable to me.  Did they say your solution was <i>wrong</i>, or just that they wanted something that used fancier Java 8 features?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666892934,"post_id":74225376,"comment_id":131048588,"body_markdown":"*they want me to use Java 8 features* That’s a wide and vague concept. `LocalDate` is a Java 8 feature, so they can’t claim you didn’t. Wonder if they intended streams? This can be done, of course. You may, for example, create two sorted streams using the `filter` method and then combine them using `Stream.concat()`.","body":"<i>they want me to use Java 8 features</i> That’s a wide and vague concept. <code>LocalDate</code> is a Java 8 feature, so they can’t claim you didn’t. Wonder if they intended streams? This can be done, of course. You may, for example, create two sorted streams using the <code>filter</code> method and then combine them using <code>Stream.concat()</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666959243,"creation_date":1666890739,"answer_id":74225859,"question_id":74225376,"body_markdown":"The given list can be sorted as required, **in one go**, without splitting it into two parts (*and using Java 8 functional programming features as required*).\r\n\r\n# Create a Comparator with Java 8 \r\n\r\nThe approach boils down to defining the appropriate `Comparator`.\r\n\r\nFor that, we can use Java 8 static methods of the `Comparator` interface like [`Comparator.comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)).\r\n\r\nThe first part, which groups the dates based on the Month name, can be described as follows:\r\n\r\n```\r\nComparator.comparing(ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;))\r\n```\r\n\r\n**Reminder:** the *natural order* of `boolean` values is `false` -&gt; `true`, for that reason condition was negated.\r\n\r\nAnd we would need to check the same condition in the second part of the Comparator (*because these groups of dates should be sorted differently*), hence it makes sense to define a [`Predicate`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html):\r\n\r\n```\r\npublic static final Predicate&lt;LocalDate&gt; HAS_NO_R = ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;);\r\n```\r\n\r\nAnd the first part would be simplified to:\r\n\r\n```\r\nComparator.comparing(HAS_NO_R::test)\r\n```\r\n\r\nTo impose the required Ascending and Descending ordering, we can use [`ChronoLocalDate.toEpochDay()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/chrono/ChronoLocalDate.html#toEpochDay()), returning the number of days from epoch as `long`, in conjunction with [`Comparator.thenComparingLong()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingLong(java.util.function.ToLongFunction)).\r\n\r\nTo make the group of date with no `&quot;R&quot;` in the name to be sorted in Descending order, the *epoch count* was reversed by multiplying by `(-1)`.\r\n\r\n```\r\nthenComparingLong(ld -&gt; HAS_NO_R.test(ld) ? (-1) * ld.toEpochDay() : ld.toEpochDay())\r\n```\r\n\r\n# Complete Implementation\r\n\r\nNow let&#39;s bring all the pieces together.\r\n\r\n`Comparator` + `Predicate`:\r\n```\r\npublic static final Predicate&lt;LocalDate&gt; HAS_NO_R = ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;);\r\n    \r\npublic final Comparator&lt;LocalDate&gt; BY_MONTH_R_ASC_NO_R_DESC =\r\n    Comparator.comparing(HAS_NO_R::test)\r\n        .thenComparingLong(ld -&gt; HAS_NO_R.test(ld) ?\r\n            (-1) * ld.toEpochDay() : ld.toEpochDay()\r\n        );\r\n```\r\n\r\nAnd here&#39;s the method itself. We can make use of the Stream API to generate the sorted list:\r\n\r\n    public static Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates) {\r\n        \r\n        return unsortedDates.stream()         // assumption that original list should not be mutated\r\n            .sorted(BY_MONTH_R_ASC_NO_R_DESC)\r\n            .toList();\r\n    }\r\n\r\n***Note:*** I see no clear requirement on whether that method should return a **new** `Collection`. I&#39;ve made a safe assumption that the original list should not be mutated.\r\n\r\nJust for the purpose of completeness, that&#39;s the original list can be sorted with Java 9 [`List.sort()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)):\r\n\r\n```\r\nunsortedDates.sort(BY_MONTH_R_ASC_NO_R_DESC);\r\n\r\nreturn unsortedDates;\r\n```\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;LocalDate&gt; dates = List.of(\r\n            LocalDate.parse(&quot;2005-07-01&quot;), LocalDate.parse(&quot;2005-01-02&quot;),\r\n            LocalDate.parse(&quot;2005-01-01&quot;), LocalDate.parse(&quot;2005-05-03&quot;)\r\n        );\r\n\r\n        sortDates(dates).forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n2005-01-01\r\n2005-01-02\r\n2005-07-01\r\n2005-05-03\r\n```","title":"Interview question - Partition and Sort LocalDate objects using Java 8 features","body":"<p>The given list can be sorted as required, <strong>in one go</strong>, without splitting it into two parts (<em>and using Java 8 functional programming features as required</em>).</p>\n<h1>Create a Comparator with Java 8</h1>\n<p>The approach boils down to defining the appropriate <code>Comparator</code>.</p>\n<p>For that, we can use Java 8 static methods of the <code>Comparator</code> interface like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing()</code></a>.</p>\n<p>The first part, which groups the dates based on the Month name, can be described as follows:</p>\n<pre><code>Comparator.comparing(ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;))\n</code></pre>\n<p><strong>Reminder:</strong> the <em>natural order</em> of <code>boolean</code> values is <code>false</code> -&gt; <code>true</code>, for that reason condition was negated.</p>\n<p>And we would need to check the same condition in the second part of the Comparator (<em>because these groups of dates should be sorted differently</em>), hence it makes sense to define a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Predicate</code></a>:</p>\n<pre><code>public static final Predicate&lt;LocalDate&gt; HAS_NO_R = ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;);\n</code></pre>\n<p>And the first part would be simplified to:</p>\n<pre><code>Comparator.comparing(HAS_NO_R::test)\n</code></pre>\n<p>To impose the required Ascending and Descending ordering, we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/chrono/ChronoLocalDate.html#toEpochDay()\" rel=\"nofollow noreferrer\"><code>ChronoLocalDate.toEpochDay()</code></a>, returning the number of days from epoch as <code>long</code>, in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingLong(java.util.function.ToLongFunction)\" rel=\"nofollow noreferrer\"><code>Comparator.thenComparingLong()</code></a>.</p>\n<p>To make the group of date with no <code>&quot;R&quot;</code> in the name to be sorted in Descending order, the <em>epoch count</em> was reversed by multiplying by <code>(-1)</code>.</p>\n<pre><code>thenComparingLong(ld -&gt; HAS_NO_R.test(ld) ? (-1) * ld.toEpochDay() : ld.toEpochDay())\n</code></pre>\n<h1>Complete Implementation</h1>\n<p>Now let's bring all the pieces together.</p>\n<p><code>Comparator</code> + <code>Predicate</code>:</p>\n<pre><code>public static final Predicate&lt;LocalDate&gt; HAS_NO_R = ld -&gt; !ld.getMonth().name().contains(&quot;R&quot;);\n    \npublic final Comparator&lt;LocalDate&gt; BY_MONTH_R_ASC_NO_R_DESC =\n    Comparator.comparing(HAS_NO_R::test)\n        .thenComparingLong(ld -&gt; HAS_NO_R.test(ld) ?\n            (-1) * ld.toEpochDay() : ld.toEpochDay()\n        );\n</code></pre>\n<p>And here's the method itself. We can make use of the Stream API to generate the sorted list:</p>\n<pre><code>public static Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates) {\n    \n    return unsortedDates.stream()         // assumption that original list should not be mutated\n        .sorted(BY_MONTH_R_ASC_NO_R_DESC)\n        .toList();\n}\n</code></pre>\n<p><em><strong>Note:</strong></em> I see no clear requirement on whether that method should return a <strong>new</strong> <code>Collection</code>. I've made a safe assumption that the original list should not be mutated.</p>\n<p>Just for the purpose of completeness, that's the original list can be sorted with Java 9 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>List.sort()</code></a>:</p>\n<pre><code>unsortedDates.sort(BY_MONTH_R_ASC_NO_R_DESC);\n\nreturn unsortedDates;\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;LocalDate&gt; dates = List.of(\n        LocalDate.parse(&quot;2005-07-01&quot;), LocalDate.parse(&quot;2005-01-02&quot;),\n        LocalDate.parse(&quot;2005-01-01&quot;), LocalDate.parse(&quot;2005-05-03&quot;)\n    );\n\n    sortDates(dates).forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2005-01-01\n2005-01-02\n2005-07-01\n2005-05-03\n</code></pre>\n"}],"owner":{"account_id":26751646,"reputation":13,"user_id":20350899,"display_name":"Данил Денк"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74225859,"answer_count":1,"score":1,"last_activity_date":1666959985,"creation_date":1666888216,"question_id":74225376,"body_markdown":"I received this test-task for job, but I was rejected based on my solution. Please, give me a hint what would be the best way to solve this task.\r\n\r\nAs I found out later, they want me to use Java 8 features.\r\n\r\n```\r\n/**\r\n * Marking will be based upon producing a readable, well engineered solution rather than factors\r\n * such as speed of processing or other performance-based optimizations, which are less\r\n * important.\r\n *\r\n *\r\n * The Date sorter interface, implement the single method\r\n * within this interface.\r\n */\r\npublic interface IDateSorter {\r\n    /**\r\n     * The implementation of this method should sort dates.\r\n     * The output should be in the following order:\r\n     * Dates with an &#39;r&#39; in the month,\r\n     * sorted ascending (first to last),\r\n     * then dates without an &#39;r&#39; in the month,\r\n     * sorted descending (last to first).\r\n     * For example, October dates would come before May dates,\r\n     * because October has an &#39;r&#39; in it.\r\n     * thus: (2005-07-01, 2005-01-02, 2005-01-01, 2005-05-03)\r\n     * would sort to\r\n     * (2005-01-01, 2005-01-02, 2005-07-01, 2005-05-03)\r\n     *\r\n     * @param unsortedDates - an unsorted list of dates\r\n     * @return the collection of dates now sorted as per the spec\r\n     */\r\n    Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates);\r\n}\r\n```\r\n\r\n\r\nThis was my solution.\r\n\r\n```\r\n@Override\r\npublic  Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates) {\r\n    List&lt;LocalDate&gt; listWithR = new ArrayList&lt;&gt;();\r\n    List&lt;LocalDate&gt; listWithOutR = new ArrayList&lt;&gt;();\r\n\r\n    //Separate unsortedDates in to list depends on &#39;R&#39; factor\r\n    for (LocalDate date: unsortedDates) {\r\n        if (date.getMonth().getValue() &lt; 5 || date.getMonth().getValue() &gt; 8) {\r\n            listWithR.add(date);\r\n        } else {\r\n            listWithOutR.add(date);\r\n        }\r\n    }\r\n    //Sort list with R\r\n    Collections.sort(listWithR);\r\n\r\n    //Sort list without R\r\n    listWithOutR.sort(Comparator.reverseOrder());\r\n\r\n    //Adding list without R to list with R\r\n    listWithR.addAll(listWithOutR);\r\n\r\n    return listWithR;\r\n\r\n}\r\n```\r\n","title":"Interview question - Partition and Sort LocalDate objects using Java 8 features","body":"<p>I received this test-task for job, but I was rejected based on my solution. Please, give me a hint what would be the best way to solve this task.</p>\n<p>As I found out later, they want me to use Java 8 features.</p>\n<pre><code>/**\n * Marking will be based upon producing a readable, well engineered solution rather than factors\n * such as speed of processing or other performance-based optimizations, which are less\n * important.\n *\n *\n * The Date sorter interface, implement the single method\n * within this interface.\n */\npublic interface IDateSorter {\n    /**\n     * The implementation of this method should sort dates.\n     * The output should be in the following order:\n     * Dates with an 'r' in the month,\n     * sorted ascending (first to last),\n     * then dates without an 'r' in the month,\n     * sorted descending (last to first).\n     * For example, October dates would come before May dates,\n     * because October has an 'r' in it.\n     * thus: (2005-07-01, 2005-01-02, 2005-01-01, 2005-05-03)\n     * would sort to\n     * (2005-01-01, 2005-01-02, 2005-07-01, 2005-05-03)\n     *\n     * @param unsortedDates - an unsorted list of dates\n     * @return the collection of dates now sorted as per the spec\n     */\n    Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates);\n}\n</code></pre>\n<p>This was my solution.</p>\n<pre><code>@Override\npublic  Collection&lt;LocalDate&gt; sortDates(List&lt;LocalDate&gt; unsortedDates) {\n    List&lt;LocalDate&gt; listWithR = new ArrayList&lt;&gt;();\n    List&lt;LocalDate&gt; listWithOutR = new ArrayList&lt;&gt;();\n\n    //Separate unsortedDates in to list depends on 'R' factor\n    for (LocalDate date: unsortedDates) {\n        if (date.getMonth().getValue() &lt; 5 || date.getMonth().getValue() &gt; 8) {\n            listWithR.add(date);\n        } else {\n            listWithOutR.add(date);\n        }\n    }\n    //Sort list with R\n    Collections.sort(listWithR);\n\n    //Sort list without R\n    listWithOutR.sort(Comparator.reverseOrder());\n\n    //Adding list without R to list with R\n    listWithR.addAll(listWithOutR);\n\n    return listWithR;\n\n}\n</code></pre>\n"},{"tags":["java","image","gif","javax.imageio","imaging"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":2,"creation_date":1666909621,"post_id":74226509,"comment_id":131053095,"body_markdown":"Your question is confusing me: you say you&#39;re writing a GIF image, but the posted code uses JPEG. You say the problem with it is that it writes to the hard disk, but the code you posted appears to only write to in-memory objects.","body":"Your question is confusing me: you say you&#39;re writing a GIF image, but the posted code uses JPEG. You say the problem with it is that it writes to the hard disk, but the code you posted appears to only write to in-memory objects."},{"owner":{"account_id":26752624,"reputation":3,"user_id":20351753,"display_name":"orkim okard"},"score":0,"creation_date":1667204042,"post_id":74226509,"comment_id":131106517,"body_markdown":"yes it is a little confused... :-)\nbut thought using &quot;gif&quot; will be GIF \nImageIO.write(destImage, &quot;gif&quot;, baos);\n\nbut you have 100% right","body":"yes it is a little confused... :-) but thought using &quot;gif&quot; will be GIF  ImageIO.write(destImage, &quot;gif&quot;, baos);  but you have 100% right"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666959790,"creation_date":1666959790,"answer_id":74235355,"question_id":74226509,"body_markdown":"If you are saying that you&#39;ve observed that this code appears to cause disk activity when saving to `ByteArrayOutputStream` perhaps you should try setting the `ImageIO` &quot;use cache&quot; flag to `false`:\r\n\r\n    ImageIO.setUseCache(false);\r\n\r\nJavadoc for `setUseCache` says:\r\n\r\n&gt; Sets a flag indicating whether a disk-based cache file should be used when creating ImageInputStream and ImageOutputStreams.\r\n","title":"Any Alternative to ImageIO.write to convert bufferedimage to GIF bytes (Faster than ImageIO)?","body":"<p>If you are saying that you've observed that this code appears to cause disk activity when saving to <code>ByteArrayOutputStream</code> perhaps you should try setting the <code>ImageIO</code> &quot;use cache&quot; flag to <code>false</code>:</p>\n<pre><code>ImageIO.setUseCache(false);\n</code></pre>\n<p>Javadoc for <code>setUseCache</code> says:</p>\n<blockquote>\n<p>Sets a flag indicating whether a disk-based cache file should be used when creating ImageInputStream and ImageOutputStreams.</p>\n</blockquote>\n"}],"owner":{"account_id":26752624,"reputation":3,"user_id":20351753,"display_name":"orkim okard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74235355,"answer_count":1,"score":0,"last_activity_date":1666959790,"creation_date":1666894078,"question_id":74226509,"body_markdown":"my problem is when using imageio.write i am seeing that is using hdd, also read about jDeli (but too expensive), Apache Commons, JAI that are much faster....\r\n\r\nI wanna use the encoded bytes returned by routine... at a custom Remote Desktop Utility...\r\n\r\n\r\n```\r\npublic static byte[] imageToJPEGByteArray(Image aImage, int width, int height, int qualityPercent) throws IOException {\r\n byte[] imageBytes = new byte[0];\r\n \r\n\r\n   float quality = 75 / 100f;\r\n\r\n   BufferedImage destImage;\r\n   destImage = SwingFXUtils.fromFXImage(aImage, null);\r\n \r\n   // Output JPEG byte array\r\n   ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n \r\n   if(qualityPercent != -1) {\r\n       // Start to create JPEG with quality option\r\n       ImageWriter writer = null;\r\n       Iterator iter = ImageIO.getImageWritersByFormatName(&quot;gif&quot;);\r\n       if (iter.hasNext()) {\r\n         writer = (ImageWriter) iter.next();\r\n       }\r\n       ImageOutputStream ios = ImageIO.createImageOutputStream(baos);\r\n       writer.setOutput(ios); \r\n       ImageWriteParam iwparam = new JPEGImageWriteParam(Locale.getDefault());\r\n       iwparam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n       iwparam.setCompressionQuality(quality);\r\n       writer.write(null, new IIOImage(destImage, null, null), iwparam);\r\n       ios.flush();\r\n       writer.dispose();\r\n       ios.close();\r\n       // Done creating JPEG with quality option\r\n   } else {\r\n       // This one line below created a JPEG file without quality option\r\n       ImageIO.write(destImage, &quot;gif&quot;, baos);\r\n   }\r\n \r\n   baos.flush();\r\n   imageBytes = baos.toByteArray();\r\n   baos.close();\r\n \r\n   // Done\r\n   return imageBytes; \r\n}\r\n\r\n```\r\n","title":"Any Alternative to ImageIO.write to convert bufferedimage to GIF bytes (Faster than ImageIO)?","body":"<p>my problem is when using imageio.write i am seeing that is using hdd, also read about jDeli (but too expensive), Apache Commons, JAI that are much faster....</p>\n<p>I wanna use the encoded bytes returned by routine... at a custom Remote Desktop Utility...</p>\n<pre><code>public static byte[] imageToJPEGByteArray(Image aImage, int width, int height, int qualityPercent) throws IOException {\n byte[] imageBytes = new byte[0];\n \n\n   float quality = 75 / 100f;\n\n   BufferedImage destImage;\n   destImage = SwingFXUtils.fromFXImage(aImage, null);\n \n   // Output JPEG byte array\n   ByteArrayOutputStream baos = new ByteArrayOutputStream();\n \n   if(qualityPercent != -1) {\n       // Start to create JPEG with quality option\n       ImageWriter writer = null;\n       Iterator iter = ImageIO.getImageWritersByFormatName(&quot;gif&quot;);\n       if (iter.hasNext()) {\n         writer = (ImageWriter) iter.next();\n       }\n       ImageOutputStream ios = ImageIO.createImageOutputStream(baos);\n       writer.setOutput(ios); \n       ImageWriteParam iwparam = new JPEGImageWriteParam(Locale.getDefault());\n       iwparam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n       iwparam.setCompressionQuality(quality);\n       writer.write(null, new IIOImage(destImage, null, null), iwparam);\n       ios.flush();\n       writer.dispose();\n       ios.close();\n       // Done creating JPEG with quality option\n   } else {\n       // This one line below created a JPEG file without quality option\n       ImageIO.write(destImage, &quot;gif&quot;, baos);\n   }\n \n   baos.flush();\n   imageBytes = baos.toByteArray();\n   baos.close();\n \n   // Done\n   return imageBytes; \n}\n\n</code></pre>\n"},{"tags":["java","postgresql","function","datetime-format"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1666959361,"post_id":74235166,"comment_id":131063604,"body_markdown":"This code will most certainly not work on Oracle.","body":"This code will most certainly not work on Oracle."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666959670,"creation_date":1666959670,"answer_id":74235334,"question_id":74235166,"body_markdown":"Just subtract the two timestamps and use to_char() to format the resulting interval: \r\n\r\n    select to_char(justify_interval(timestamp &#39;2022-10-28 14:54:12&#39; - timestamp &#39;2022-10-28 08:18:19&#39;), &#39;hh24:mi:ss&#39;)\r\n\r\nreturns `06:35:53`\r\n\r\nThe `justify_interval()` isn&#39;t strictly necessary especially if you never expect durations longer than 24 hours. \r\n\r\nThis: \r\n\r\n    select to_char(timestamp &#39;2022-10-28 14:54:12&#39; - timestamp &#39;2022-10-28 08:18:19&#39;, &#39;hh24:mi:ss&#39;)\r\n\r\n\r\nWould also return `06:35:53`","title":"Function to Display the time difference in hh:mm:ss for Postgresql DB","body":"<p>Just subtract the two timestamps and use to_char() to format the resulting interval:</p>\n<pre><code>select to_char(justify_interval(timestamp '2022-10-28 14:54:12' - timestamp '2022-10-28 08:18:19'), 'hh24:mi:ss')\n</code></pre>\n<p>returns <code>06:35:53</code></p>\n<p>The <code>justify_interval()</code> isn't strictly necessary especially if you never expect durations longer than 24 hours.</p>\n<p>This:</p>\n<pre><code>select to_char(timestamp '2022-10-28 14:54:12' - timestamp '2022-10-28 08:18:19', 'hh24:mi:ss')\n</code></pre>\n<p>Would also return <code>06:35:53</code></p>\n"}],"owner":{"account_id":26759870,"reputation":1,"user_id":20358005,"display_name":"Vishal Naidu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666959729,"creation_date":1666958780,"question_id":74235166,"body_markdown":"I have the below function which is working for Oracle DB to display the time difference in hh:mm:ss but the same function is not working for the Postgresql DB. There are some syntax issue and unrecognized function issues: Can any one help to convert the below Function in to acceptable format by Postgresql? Pls note this function will be used during runtime and forms the query to DB to return the time in hh:mm:ss\r\n\r\nFunction:\r\n```sql\r\nRIGHT (&#39;0&#39; + (CAST(\r\nDATEDIFF(hh,CAST(&#39;1970-01-01T&#39; +SUBSTRING({1},1,2)+&#39;:&#39;+SUBSTRING({1},3,2)+&#39;:&#39;+SUBSTRING({1},5,2) AS DATETIME), \r\nCAST(&#39;1970-01-01T&#39; +SUBSTRING({2},1,2)+&#39;:&#39;+SUBSTRING({2},3,2)+&#39;:&#39;+SUBSTRING({2},5,2) AS DATETIME))/24 as varchar(10))),2)+&#39;:&#39;+\r\nRIGHT (&#39;0&#39; + (CAST((\r\nDATEDIFF(mi,CAST(&#39;1970-01-01T&#39; +SUBSTRING({1},1,2)+&#39;:&#39;+SUBSTRING({1},3,2)+&#39;:&#39;+SUBSTRING({1},5,2) AS DATETIME),\r\nCAST(&#39;1970-01-01T&#39; +SUBSTRING({2},1,2)+&#39;:&#39;+SUBSTRING({2},3,2)+&#39;:&#39;+SUBSTRING({2},5,2) AS DATETIME))%1440/60) as varchar(10))),2)+&#39;:&#39;+\r\nRIGHT (&#39;0&#39; + (CAST(\r\nDATEDIFF(mi,CAST(&#39;1970-01-01T&#39; +SUBSTRING({1},1,2)+&#39;:&#39;+SUBSTRING({1},3,2)+&#39;:&#39;+SUBSTRING({1},5,2) AS DATETIME), \r\nCAST(&#39;1970-01-01T&#39; +SUBSTRING({2},1,2)+&#39;:&#39;+SUBSTRING({2},3,2)+&#39;:&#39;+SUBSTRING({2},5,2) AS DATETIME))%60 as varchar(10))),2)\r\n```\r\nTried changing the hh to hh24 and DATETIME to TIMESTAMP and reformatted without + operator. ","title":"Function to Display the time difference in hh:mm:ss for Postgresql DB","body":"<p>I have the below function which is working for Oracle DB to display the time difference in hh:mm:ss but the same function is not working for the Postgresql DB. There are some syntax issue and unrecognized function issues: Can any one help to convert the below Function in to acceptable format by Postgresql? Pls note this function will be used during runtime and forms the query to DB to return the time in hh:mm:ss</p>\n<p>Function:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>RIGHT ('0' + (CAST(\nDATEDIFF(hh,CAST('1970-01-01T' +SUBSTRING({1},1,2)+':'+SUBSTRING({1},3,2)+':'+SUBSTRING({1},5,2) AS DATETIME), \nCAST('1970-01-01T' +SUBSTRING({2},1,2)+':'+SUBSTRING({2},3,2)+':'+SUBSTRING({2},5,2) AS DATETIME))/24 as varchar(10))),2)+':'+\nRIGHT ('0' + (CAST((\nDATEDIFF(mi,CAST('1970-01-01T' +SUBSTRING({1},1,2)+':'+SUBSTRING({1},3,2)+':'+SUBSTRING({1},5,2) AS DATETIME),\nCAST('1970-01-01T' +SUBSTRING({2},1,2)+':'+SUBSTRING({2},3,2)+':'+SUBSTRING({2},5,2) AS DATETIME))%1440/60) as varchar(10))),2)+':'+\nRIGHT ('0' + (CAST(\nDATEDIFF(mi,CAST('1970-01-01T' +SUBSTRING({1},1,2)+':'+SUBSTRING({1},3,2)+':'+SUBSTRING({1},5,2) AS DATETIME), \nCAST('1970-01-01T' +SUBSTRING({2},1,2)+':'+SUBSTRING({2},3,2)+':'+SUBSTRING({2},5,2) AS DATETIME))%60 as varchar(10))),2)\n</code></pre>\n<p>Tried changing the hh to hh24 and DATETIME to TIMESTAMP and reformatted without + operator.</p>\n"},{"tags":["java","spring","mongodb","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1563104,"reputation":1396,"user_id":1452522,"display_name":"tinker"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1567258760,"creation_date":1426253346,"answer_id":29033469,"question_id":29032981,"body_markdown":"**Save**, by definition, is supposed to update an object in the upsert style, update if present and insert if not. \nRead the `save` operation documentation on the MongoDb [website][1]\n\nThe **insert** operation in mongodb has the behavior you expect, but from the MongoRepository documentation it appears that insert is delegated to save so it won&#39;t make any difference. But you can give that a try and see if it works for you. Otherwise you can just do a get before to check if the object exists, since it is an index lookup it will be fast.\n\n**Edit**: Check your repository version, *insert* was introduced in [version 1.7][2].\n\n  [1]: http://docs.mongodb.org/manual/reference/method/db.collection.save/\n  [2]: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/MongoRepository.html#insert-S-","title":"Spring MongoRepository is updating or upserting instead of inserting","body":"<p><strong>Save</strong>, by definition, is supposed to update an object in the upsert style, update if present and insert if not.\nRead the <code>save</code> operation documentation on the MongoDb <a href=\"http://docs.mongodb.org/manual/reference/method/db.collection.save/\" rel=\"noreferrer\">website</a></p>\n<p>The <strong>insert</strong> operation in mongodb has the behavior you expect, but from the MongoRepository documentation it appears that insert is delegated to save so it won't make any difference. But you can give that a try and see if it works for you. Otherwise you can just do a get before to check if the object exists, since it is an index lookup it will be fast.</p>\n<p><strong>Edit</strong>: Check your repository version, <em>insert</em> was introduced in <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/MongoRepository.html#insert-S-\" rel=\"noreferrer\">version 1.7</a>.</p>\n"},{"tags":[],"owner":{"account_id":7335122,"reputation":490,"user_id":5586793,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1535054575,"creation_date":1535054575,"answer_id":51993484,"question_id":29032981,"body_markdown":"the  application shall update only when you have @Id annotation for one of the field, after long difficulty had found this\r\n\r\n        \r\n    @Document(collection=&quot;bus&quot;)\r\n    public class Bus {\r\n    \r\n    //\t@Indexed(unique=true, direction=IndexDirection.DESCENDING, dropDups=true)\r\n    \t@Id\r\n    \tprivate String busTitle; \r\n    \tprivate int totalNoOfSeats;\r\n    \tprivate int noOfSeatsAvailable; \r\n    \tprivate String busType; \r\n    }\r\n\r\nbut somehow I could not use \r\n@Indexed(unique=true, direction=IndexDirection.DESCENDING, dropDups=true)\r\n","title":"Spring MongoRepository is updating or upserting instead of inserting","body":"<p>the  application shall update only when you have @Id annotation for one of the field, after long difficulty had found this</p>\n\n<pre><code>@Document(collection=\"bus\")\npublic class Bus {\n\n//  @Indexed(unique=true, direction=IndexDirection.DESCENDING, dropDups=true)\n    @Id\n    private String busTitle; \n    private int totalNoOfSeats;\n    private int noOfSeatsAvailable; \n    private String busType; \n}\n</code></pre>\n\n<p>but somehow I could not use \n@Indexed(unique=true, direction=IndexDirection.DESCENDING, dropDups=true)</p>\n"}],"owner":{"account_id":4821281,"reputation":582,"user_id":3891901,"accept_rate":67,"display_name":"Marc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78886,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":29033469,"answer_count":2,"score":35,"last_activity_date":1666959600,"creation_date":1426251822,"question_id":29032981,"body_markdown":"I&#39;m using a :\r\n\r\n    org.springframework.data.mongodb.repository.MongoRepository\r\n\r\nI start with an empty DB and create an object with `_id = 1234` for example, and set some other String field to `hello` for example, and then do:\r\n\r\n    repository.save(object);\r\n\r\nAll is well, it saves the document in MondoDB.\r\n\r\nI create a NEW object, set the same `_id = 1234` but set the other String field to `world` and then to another save :\r\n\r\n    repository.save(newObject);\r\n\r\nResults : the save works but updates the original object.\r\n\r\nExpected results: This should fail with a `DuplicateKeyException` as `_id` is unique and I am using 2 separate objects when doing each save.\r\n\r\nDefect in spring or am I doing something wrong ???","title":"Spring MongoRepository is updating or upserting instead of inserting","body":"<p>I'm using a :</p>\n\n<pre><code>org.springframework.data.mongodb.repository.MongoRepository\n</code></pre>\n\n<p>I start with an empty DB and create an object with <code>_id = 1234</code> for example, and set some other String field to <code>hello</code> for example, and then do:</p>\n\n<pre><code>repository.save(object);\n</code></pre>\n\n<p>All is well, it saves the document in MondoDB.</p>\n\n<p>I create a NEW object, set the same <code>_id = 1234</code> but set the other String field to <code>world</code> and then to another save :</p>\n\n<pre><code>repository.save(newObject);\n</code></pre>\n\n<p>Results : the save works but updates the original object.</p>\n\n<p>Expected results: This should fail with a <code>DuplicateKeyException</code> as <code>_id</code> is unique and I am using 2 separate objects when doing each save.</p>\n\n<p>Defect in spring or am I doing something wrong ???</p>\n"},{"tags":["java","path","filesystems"],"answers":[{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1414016115,"creation_date":1414016115,"answer_id":26518056,"question_id":26518033,"body_markdown":"I&#39;ve found this useful [`Path.startsWith( Path other )`](http://openjdk.java.net/projects/nio/javadoc/java/nio/file/Path.html#startsWith%28java.nio.file.Path%29) method, so this worked for me:\r\n\r\n    inputPath.toAbsolutePath().startsWith(outputDirectory.toAbsolutePath())\r\n\r\n","title":"How to check if a directory is inside other directory","body":"<p>I've found this useful <a href=\"http://openjdk.java.net/projects/nio/javadoc/java/nio/file/Path.html#startsWith%28java.nio.file.Path%29\" rel=\"noreferrer\"><code>Path.startsWith( Path other )</code></a> method, so this worked for me:</p>\n\n<pre><code>inputPath.toAbsolutePath().startsWith(outputDirectory.toAbsolutePath())\n</code></pre>\n"}],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26518056,"answer_count":1,"score":3,"last_activity_date":1666959318,"creation_date":1414016000,"question_id":26518033,"body_markdown":"How can I check if a given file is under other file? For example, I have `new Paths.get(&quot;/foo/bar/&quot;)` and `new Paths.get(&quot;./abc/def.jar&quot;)`.\r\nAnd I want to check whether the second is under `/foo/bar`.\r\n\r\nI can figure out some string based comparisons like `path.toFile().getAbsolutePath().startsWith(path2.toFile().getAbsolutePath())`, but that looks fragile and not right.\r\n","title":"How to check if a directory is inside other directory","body":"<p>How can I check if a given file is under other file? For example, I have <code>new Paths.get(&quot;/foo/bar/&quot;)</code> and <code>new Paths.get(&quot;./abc/def.jar&quot;)</code>.\nAnd I want to check whether the second is under <code>/foo/bar</code>.</p>\n<p>I can figure out some string based comparisons like <code>path.toFile().getAbsolutePath().startsWith(path2.toFile().getAbsolutePath())</code>, but that looks fragile and not right.</p>\n"},{"tags":["java","format"],"comments":[{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":2,"creation_date":1361330747,"post_id":14971745,"comment_id":21021879,"body_markdown":"You&#39;re close, use `%6.3f`\n\nsee this also - http://stackoverflow.com/questions/7197078/printf-f-with-only-2-decimal-points","body":"You&#39;re close, use <code>%6.3f</code>  see this also - <a href=\"http://stackoverflow.com/questions/7197078/printf-f-with-only-2-decimal-points\" title=\"printf f with only 2 decimal points\">stackoverflow.com/questions/7197078/&hellip;</a>"},{"owner":{"account_id":2290111,"reputation":3327,"user_id":2013169,"accept_rate":91,"display_name":"Memento Mori"},"score":0,"creation_date":1361330761,"post_id":14971745,"comment_id":21021881,"body_markdown":"You might just be looking for System.out.printf(&quot;The speed in ft/sec is %.3f\\n&quot;, time);","body":"You might just be looking for System.out.printf(&quot;The speed in ft/sec is %.3f\\n&quot;, time);"}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1361333107,"creation_date":1361330688,"answer_id":14971756,"question_id":14971745,"body_markdown":"Try this:\r\n\r\n    System.out.printf(&quot;The speed in ft/sec is %6.3f\\n&quot;, time);\r\n\r\nThe above will _round_ to three decimal places (not &quot;truncate&quot; them). The only difference is in the value after the dot.","title":"How to limit decimal places using printf in Java?","body":"<p>Try this:</p>\n\n<pre><code>System.out.printf(\"The speed in ft/sec is %6.3f\\n\", time);\n</code></pre>\n\n<p>The above will <em>round</em> to three decimal places (not \"truncate\" them). The only difference is in the value after the dot.</p>\n"},{"tags":[],"owner":{"account_id":40721,"reputation":357288,"user_id":118068,"display_name":"Marc B"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1361330704,"creation_date":1361330704,"answer_id":14971759,"question_id":14971745,"body_markdown":"Try `%6.3f` instead. the format is\r\n\r\n    %(before).(after)(type)\r\n        6         3    f\r\n    \r\n        6 -&gt; 6 digits before the decimal\r\n        3 -&gt; 3 digits AFTER the decimal\r\n\r\n","title":"How to limit decimal places using printf in Java?","body":"<p>Try <code>%6.3f</code> instead. the format is</p>\n\n<pre><code>%(before).(after)(type)\n    6         3    f\n\n    6 -&gt; 6 digits before the decimal\n    3 -&gt; 3 digits AFTER the decimal\n</code></pre>\n"}],"owner":{"account_id":2389416,"reputation":25,"user_id":2089584,"display_name":"Champigne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14971756,"answer_count":2,"score":2,"last_activity_date":1666959077,"creation_date":1361330608,"question_id":14971745,"body_markdown":"I&#39;m trying to truncate to the third decimal point using printf in Java, but I keep getting to only the second decimal point. Here&#39;s the line of code where I was attempting this:\r\n\r\n    System.out.printf(&quot;The speed in ft/sec is %6.2f\\n&quot;, time);\r\n","title":"How to limit decimal places using printf in Java?","body":"<p>I'm trying to truncate to the third decimal point using printf in Java, but I keep getting to only the second decimal point. Here's the line of code where I was attempting this:</p>\n\n<pre><code>System.out.printf(\"The speed in ft/sec is %6.2f\\n\", time);\n</code></pre>\n"},{"tags":["java","android","switch-statement","styles"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666958909,"post_id":74233178,"comment_id":131063468,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666959069,"creation_date":1666959069,"answer_id":74235218,"question_id":74233178,"body_markdown":"You can use something like:\r\n\r\n    &lt;style name=&quot;Widget.App.Switch&quot; parent=&quot;Widget.Material3.CompoundButton.Switch&quot;&gt;\r\n        &lt;item name=&quot;materialThemeOverlay&quot;&gt;@style/ThemeOverlay.App.Switch&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;ThemeOverlay.App.Switch&quot; parent=&quot;&quot;&gt;\r\n        &lt;!-- thumb colors--&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/blu500_light&lt;/item&gt; &lt;!--checked--&gt;\r\n        &lt;item name=&quot;colorOnSurface&quot;&gt;@color/blu500_light&lt;/item&gt; &lt;!--unchecked--&gt;\r\n\r\n        &lt;!-- track colors--&gt;\r\n        &lt;item name=&quot;colorOutline&quot;&gt;@color/red500_light&lt;/item&gt; &lt;!--unchecked--&gt;\r\n        &lt;item name=&quot;colorPrimaryContainer&quot;&gt;@color/red500_light&lt;/item&gt; &lt;!--checked--&gt;\r\n    &lt;/style&gt;\r\n\r\nand in your layout:\r\n\r\n    &lt;com.google.android.material.switchmaterial.SwitchMaterial\r\n        style=&quot;@style/Widget.App.Switch&quot;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2xjUU.png\r\n  [2]: https://i.stack.imgur.com/00AuE.png","title":"How do you remove a switch&#39;s color or change its on/off color to the same color?","body":"<p>You can use something like:</p>\n<pre><code>&lt;style name=&quot;Widget.App.Switch&quot; parent=&quot;Widget.Material3.CompoundButton.Switch&quot;&gt;\n    &lt;item name=&quot;materialThemeOverlay&quot;&gt;@style/ThemeOverlay.App.Switch&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;ThemeOverlay.App.Switch&quot; parent=&quot;&quot;&gt;\n    &lt;!-- thumb colors--&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/blu500_light&lt;/item&gt; &lt;!--checked--&gt;\n    &lt;item name=&quot;colorOnSurface&quot;&gt;@color/blu500_light&lt;/item&gt; &lt;!--unchecked--&gt;\n\n    &lt;!-- track colors--&gt;\n    &lt;item name=&quot;colorOutline&quot;&gt;@color/red500_light&lt;/item&gt; &lt;!--unchecked--&gt;\n    &lt;item name=&quot;colorPrimaryContainer&quot;&gt;@color/red500_light&lt;/item&gt; &lt;!--checked--&gt;\n&lt;/style&gt;\n</code></pre>\n<p>and in your layout:</p>\n<pre><code>&lt;com.google.android.material.switchmaterial.SwitchMaterial\n    style=&quot;@style/Widget.App.Switch&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2xjUU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2xjUU.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/00AuE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/00AuE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18804312,"reputation":13,"user_id":13713991,"display_name":"bramar2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74235218,"answer_count":1,"score":1,"last_activity_date":1666959069,"creation_date":1666948785,"question_id":74233178,"body_markdown":"I want to have a switch that switches from 2 different modes, but I can&#39;t figure out how to remove the switch color and make on/off the same color. It would be weird if a mode has a different color than another mode. Is this possible and how do you do it?\r\n\r\nI&#39;ve tried using a style that has the same color with colorControlActivated, colorSwitchThumbNormal and android:colorForeground but on/off still had some differences in color","title":"How do you remove a switch&#39;s color or change its on/off color to the same color?","body":"<p>I want to have a switch that switches from 2 different modes, but I can't figure out how to remove the switch color and make on/off the same color. It would be weird if a mode has a different color than another mode. Is this possible and how do you do it?</p>\n<p>I've tried using a style that has the same color with colorControlActivated, colorSwitchThumbNormal and android:colorForeground but on/off still had some differences in color</p>\n"},{"tags":["java","selenium-webdriver","browser-automation","testng-dataprovider"],"comments":[{"owner":{"account_id":26759302,"reputation":11,"user_id":20357509,"display_name":"vinay pv"},"score":0,"creation_date":1666958926,"post_id":74235098,"comment_id":131063474,"body_markdown":"Added Libraries-logdj-1.2.14 jar, \nlogdj2acml.jar,\nlogdj-api-2.18.0.jar,\nlogdj-sif4j-impl-2.0-betad.jar,\npoi-5.2.3.jar ,\npoi-examples-5.2.3.jar,\npoi-excelant-5.2.3.jar,\npoi-ooxml-5.2.3.jar,\npoi-ooxml-full-5.2.3jar, \npoi-scratchpad-5.2.3.jar","body":"Added Libraries-logdj-1.2.14 jar,  logdj2acml.jar, logdj-api-2.18.0.jar, logdj-sif4j-impl-2.0-betad.jar, poi-5.2.3.jar , poi-examples-5.2.3.jar, poi-excelant-5.2.3.jar, poi-ooxml-5.2.3.jar, poi-ooxml-full-5.2.3jar,  poi-scratchpad-5.2.3.jar"}],"owner":{"account_id":26759302,"reputation":11,"user_id":20357509,"display_name":"vinay pv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666958452,"creation_date":1666958452,"question_id":74235098,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/bsLiJ.jpg)](https://i.stack.imgur.com/bsLiJ.jpg)\r\n\r\nThe Selenium Webdriver, TestNG version &amp; used libraries are given below.\r\n\r\nSelenium version : selenium-server-standalone-3.41.59.jar\r\nTestNG version : 7.4.0\r\n\r\nTried to login with Excel sheet data provider.But no class found error getting.\r\nAdded Apache POI excel related dependenices \r\nAdded Libraries(Please see the screenshot)\r\nHere is my code.\r\nThe Selenium Webdriver, TestNG version &amp; used libraries are given below.\r\nSelenium version : selenium-server-standalone-3.41.59.jar TestNG version : 7.4.0\r\n\r\n```\r\npackage ui;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.DataProvider;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class MultiUserLogin {\r\n\r\n\tpublic static  WebDriver driver;\r\n\tpublic  WebDriverWait wait;\r\n\r\n\tString appURL1 = &quot;https://www.google.com&quot;;\r\n\t\r\n\r\n\t@BeforeClass\r\n\tpublic void testSetup() {\r\n\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;E:/Geckdriver/geckodriver.exe&quot;);\r\n\t\tdriver=new FirefoxDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\twait = new WebDriverWait(driver, 5);\r\n\t}\r\n\t\r\n\r\n\t@Test(dataProvider=&quot;LoginData&quot;)\r\n\tpublic void VerifyValidLogin(String Username, String Password,String Company) {\r\n\t\tdriver.navigate().to(appURL1);\r\n\t\t driver.findElement(By.id(&quot;userId&quot;)).sendKeys(Username);\r\n\t        driver.findElement(By.id(&quot;password&quot;)).sendKeys(Password);\r\n\t        driver.findElement(By.id(&quot;company&quot;)).sendKeys(Company);\r\n\t        driver.findElement(By.linkText(&quot;Login&quot;)).click();\r\n\t\t\r\n\t\t\t\t}\r\n\t\r\n\t@DataProvider(name=&quot;LoginData&quot;)\r\n\tpublic Object[][] LoginData() throws Exception {\r\n\t\tObject[][] testObjArray = ExcelUtils.getTableArray(&quot;E:\\\\TestNG\\\\TestData\\\\TestData.xlsx&quot;,&quot;Sheet1&quot;);\r\n\t\treturn (testObjArray);\r\n\t\t}\r\n}\r\n\r\n\r\n\r\n\r\npackage ui;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport org.apache.poi.ss.usermodel.CellType;\r\nimport org.apache.poi.xssf.usermodel.XSSFCell;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\npublic class ExcelUtils {\r\n\r\n\r\n\tprivate static XSSFSheet ExcelWSheet;\r\n\r\n\tprivate static XSSFWorkbook ExcelWBook;\r\n\r\n\tprivate static XSSFCell Cell;\r\n\r\n\tprivate static XSSFRow Row;\r\n\r\npublic static Object[][] getTableArray(String FilePath, String SheetName) throws Exception {   \r\n\r\n   String[][] tabArray = null;\r\n\r\n   try {\r\n\r\n\t   FileInputStream ExcelFile = new FileInputStream(FilePath);\r\n\r\n\t   // Access the required test data sheet\r\n\r\n\t   ExcelWBook = new XSSFWorkbook(ExcelFile);\r\n\r\n\t   ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n\r\n\t   int startRow = 1;\r\n\r\n\t   int startCol = 1;\r\n\r\n\t   int ci,cj;\r\n\r\n\t   int totalRows = ExcelWSheet.getLastRowNum();\r\n\r\n\t   //  function as well to get Column count\r\n\r\n\t   int totalCols = 2;\r\n\r\n\t   tabArray=new String[totalRows][totalCols];\r\n\r\n\t   ci=0;\r\n\r\n\t   for (int i=startRow;i&lt;=totalRows;i++, ci++) {           \t   \r\n\r\n\t\t  cj=0;\r\n\r\n\t\t   for (int j=startCol;j&lt;=totalCols;j++, cj++){\r\n\r\n\t\t\t   tabArray[ci][cj]=getCellData(i,j);\r\n\r\n\t\t\t   System.out.println(tabArray[ci][cj]);  \r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\tcatch (FileNotFoundException e){\r\n\r\n\t\tSystem.out.println(&quot;Could not read the Excel sheet&quot;);\r\n\r\n\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\tcatch (IOException e){\r\n\r\n\t\tSystem.out.println(&quot;Could not read the Excel sheet&quot;);\r\n\r\n\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\treturn(tabArray);\r\n\r\n\t}\r\n\r\npublic static String getCellData(int RowNum, int ColNum) throws Exception {\r\n\r\n\ttry{\r\n\r\n\t\tCell = ExcelWSheet.getRow(RowNum).getCell(ColNum);\r\n\r\n\t\tCellType dataType= Cell.getCellType();\r\n\r\n\t\tif  (dataType == CellType.STRING) {\r\n\t\t\t\r\n\t\t\treturn &quot;&quot;;\r\n\r\n\t\t}else{\r\n\r\n\t\t\tString CellData = Cell.getStringCellValue();\r\n\r\n\t\t\treturn CellData;\r\n\r\n\t\t}\r\n\t}catch (Exception e){\r\n\r\n\t\tSystem.out.println(e.getMessage());\r\n\r\n\t\tthrow (e);\r\n\r\n\t\t}\r\n\r\n\t\r\n}\r\n}\r\n```","title":"Tried to log in application with multiple users from the Excel sheet data provider. But No class found an error getting","body":"<p><a href=\"https://i.stack.imgur.com/bsLiJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bsLiJ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The Selenium Webdriver, TestNG version &amp; used libraries are given below.</p>\n<p>Selenium version : selenium-server-standalone-3.41.59.jar\nTestNG version : 7.4.0</p>\n<p>Tried to login with Excel sheet data provider.But no class found error getting.\nAdded Apache POI excel related dependenices\nAdded Libraries(Please see the screenshot)\nHere is my code.\nThe Selenium Webdriver, TestNG version &amp; used libraries are given below.\nSelenium version : selenium-server-standalone-3.41.59.jar TestNG version : 7.4.0</p>\n<pre><code>package ui;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\npublic class MultiUserLogin {\n\n    public static  WebDriver driver;\n    public  WebDriverWait wait;\n\n    String appURL1 = &quot;https://www.google.com&quot;;\n    \n\n    @BeforeClass\n    public void testSetup() {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;E:/Geckdriver/geckodriver.exe&quot;);\n        driver=new FirefoxDriver();\n        driver.manage().window().maximize();\n        wait = new WebDriverWait(driver, 5);\n    }\n    \n\n    @Test(dataProvider=&quot;LoginData&quot;)\n    public void VerifyValidLogin(String Username, String Password,String Company) {\n        driver.navigate().to(appURL1);\n         driver.findElement(By.id(&quot;userId&quot;)).sendKeys(Username);\n            driver.findElement(By.id(&quot;password&quot;)).sendKeys(Password);\n            driver.findElement(By.id(&quot;company&quot;)).sendKeys(Company);\n            driver.findElement(By.linkText(&quot;Login&quot;)).click();\n        \n                }\n    \n    @DataProvider(name=&quot;LoginData&quot;)\n    public Object[][] LoginData() throws Exception {\n        Object[][] testObjArray = ExcelUtils.getTableArray(&quot;E:\\\\TestNG\\\\TestData\\\\TestData.xlsx&quot;,&quot;Sheet1&quot;);\n        return (testObjArray);\n        }\n}\n\n\n\n\npackage ui;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.CellType;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class ExcelUtils {\n\n\n    private static XSSFSheet ExcelWSheet;\n\n    private static XSSFWorkbook ExcelWBook;\n\n    private static XSSFCell Cell;\n\n    private static XSSFRow Row;\n\npublic static Object[][] getTableArray(String FilePath, String SheetName) throws Exception {   \n\n   String[][] tabArray = null;\n\n   try {\n\n       FileInputStream ExcelFile = new FileInputStream(FilePath);\n\n       // Access the required test data sheet\n\n       ExcelWBook = new XSSFWorkbook(ExcelFile);\n\n       ExcelWSheet = ExcelWBook.getSheet(SheetName);\n\n       int startRow = 1;\n\n       int startCol = 1;\n\n       int ci,cj;\n\n       int totalRows = ExcelWSheet.getLastRowNum();\n\n       //  function as well to get Column count\n\n       int totalCols = 2;\n\n       tabArray=new String[totalRows][totalCols];\n\n       ci=0;\n\n       for (int i=startRow;i&lt;=totalRows;i++, ci++) {               \n\n          cj=0;\n\n           for (int j=startCol;j&lt;=totalCols;j++, cj++){\n\n               tabArray[ci][cj]=getCellData(i,j);\n\n               System.out.println(tabArray[ci][cj]);  \n\n                }\n\n            }\n\n        }\n\n    catch (FileNotFoundException e){\n\n        System.out.println(&quot;Could not read the Excel sheet&quot;);\n\n        e.printStackTrace();\n\n        }\n\n    catch (IOException e){\n\n        System.out.println(&quot;Could not read the Excel sheet&quot;);\n\n        e.printStackTrace();\n\n        }\n\n    return(tabArray);\n\n    }\n\npublic static String getCellData(int RowNum, int ColNum) throws Exception {\n\n    try{\n\n        Cell = ExcelWSheet.getRow(RowNum).getCell(ColNum);\n\n        CellType dataType= Cell.getCellType();\n\n        if  (dataType == CellType.STRING) {\n            \n            return &quot;&quot;;\n\n        }else{\n\n            String CellData = Cell.getStringCellValue();\n\n            return CellData;\n\n        }\n    }catch (Exception e){\n\n        System.out.println(e.getMessage());\n\n        throw (e);\n\n        }\n\n    \n}\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666958906,"post_id":74235048,"comment_id":131063467,"body_markdown":"the error message tells you exactly what&#39;s wrong: _Invalid URL or resource not found_ :) See the duplicate for learning how to access resources.","body":"the error message tells you exactly what&#39;s wrong: <i>Invalid URL or resource not found</i> :) See the duplicate for learning how to access resources."},{"owner":{"account_id":17566469,"reputation":21,"user_id":12743179,"display_name":"Krattza"},"score":0,"creation_date":1666959672,"post_id":74235048,"comment_id":131063694,"body_markdown":"Man, I am such a dumbo, thanks I thought it had something to do with VM.","body":"Man, I am such a dumbo, thanks I thought it had something to do with VM."}],"owner":{"account_id":17566469,"reputation":21,"user_id":12743179,"display_name":"Krattza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666958810,"answer_count":0,"score":0,"last_activity_date":1666958199,"creation_date":1666958199,"question_id":74235048,"body_markdown":"```\r\npackage com.example.checking;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.scene.shape.Polygon;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication  extends Application{\r\n\r\n    //Main method to run program\r\n    public static void main(String[] args) {\r\n        //to launch the application\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        //Now  we need a scene inside stage and root nodes.\r\n        Group root = new Group();\r\n        Scene scene =  new Scene(root, 600,600, Color.LIGHTBLUE);\r\n       \r\n       //Creating and Displaying icon.\r\n        Image i = new Image(&quot;icon.png&quot;);\r\n        stage.getIcons().add(i);\r\n        \r\n        Text text = new Text();\r\n        text.setText(&quot;Whoaaaa!!!&quot;);\r\n        text.setX(50);\r\n        text.setY(50);\r\n\r\n        //Adding text to our root node\r\n\r\n        text.setFont(Font.font(&quot;Verdana&quot;, 50));\r\n        text.setFill(Color.LIMEGREEN);\r\n        //Setting title\r\n        Line line =  new Line();\r\n        line.setStartX(200);\r\n        line.setStartY(200);\r\n        line.setEndX(500);\r\n        line.setEndY(200);\r\n        line.setStrokeWidth(5);\r\n\r\n        Rectangle rectangle = new Rectangle();\r\n        rectangle.setWidth(100);\r\n        rectangle.setHeight(100);\r\n        rectangle.setX(300);\r\n        rectangle.setY(250);\r\n        rectangle.setStrokeWidth(5);\r\n        rectangle.setFill(Color.BLUE);\r\n        rectangle.setStrokeWidth(5);\r\n        rectangle.setStroke(Color.BLACK);\r\n\r\n        Polygon triangle = new Polygon();\r\n        triangle.getPoints().setAll(\r\n                200.0, 200.0,\r\n                300.0, 300.0,\r\n                200.0, 300.0,\r\n                300.0, 200.0\r\n        );\r\n\r\n        triangle.setFill(Color.YELLOW);\r\n\r\n        Circle circle = new Circle();\r\n        circle.setCenterX(350);\r\n        circle.setCenterY(350);\r\n        circle.setRadius(50);\r\n        circle.setFill(Color.ORANGE);\r\n\r\n\r\n\r\n        root.getChildren().add(text);\r\n        root.getChildren().add(line);\r\n        root.getChildren().add(triangle);\r\n        root.getChildren().add(rectangle);\r\n        root.getChildren().add(circle);\r\n\r\n\r\n        stage.setTitle(&quot;Notes and Password Manager&quot;);\r\n        //Setting stage height and width\r\n//        stage.setHeight(750);\r\n//        stage.setWidth(630);\r\n        //Set the scene so it shows in the stage.\r\n        stage.setScene(scene);\r\n        stage.setResizable(false);\r\n        //To show the stage we use .show()\r\n        stage.show();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nThis is my code that I am trying to run, If I comment out my Image i object part, everything will work fine, with no issues, but as soon as I add an Image object it will give following errors\r\n\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n\tat javafx.graphics@19/javafx.scene.image.Image.validateUrl(Image.java:1138)\r\n\tat javafx.graphics@19/javafx.scene.image.Image.&lt;init&gt;(Image.java:628)\r\n\tat com.example.checking.HelloApplication.start(HelloApplication.java:76)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\r\n\tat javafx.graphics@19/javafx.scene.image.Image.validateUrl(Image.java:1123)\r\n\t... 11 more\r\nException running application com.example.checking.HelloApplication\r\n```\r\n\r\n\r\n\r\nNow possible solution could be to make a module-info.java package and add require javafx.control and javafx.fxml but whenever I add module-info.java it gives me this error : -\r\n\r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module Checking not found\r\n\r\nSo to deal with this, I deleted the module-info.java and instead added this :-\r\n\r\n--module-path &quot;C:\\Users\\jaina\\Documents\\openjfx-19_windows-x64_bin-sdk (1)\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml\r\n\r\nin my VM options and it works just fine for everything except for Image objects, help required, cause I am unable to get to any solutions.","title":"JavaFX error whenever I try to use Image object, new to learning JavaFX","body":"<pre><code>package com.example.checking;\n\nimport javafx.application.Application;\nimport javafx.scene.image.Image;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Line;\nimport javafx.scene.shape.Polygon;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\n\npublic class HelloApplication  extends Application{\n\n    //Main method to run program\n    public static void main(String[] args) {\n        //to launch the application\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        //Now  we need a scene inside stage and root nodes.\n        Group root = new Group();\n        Scene scene =  new Scene(root, 600,600, Color.LIGHTBLUE);\n       \n       //Creating and Displaying icon.\n        Image i = new Image(&quot;icon.png&quot;);\n        stage.getIcons().add(i);\n        \n        Text text = new Text();\n        text.setText(&quot;Whoaaaa!!!&quot;);\n        text.setX(50);\n        text.setY(50);\n\n        //Adding text to our root node\n\n        text.setFont(Font.font(&quot;Verdana&quot;, 50));\n        text.setFill(Color.LIMEGREEN);\n        //Setting title\n        Line line =  new Line();\n        line.setStartX(200);\n        line.setStartY(200);\n        line.setEndX(500);\n        line.setEndY(200);\n        line.setStrokeWidth(5);\n\n        Rectangle rectangle = new Rectangle();\n        rectangle.setWidth(100);\n        rectangle.setHeight(100);\n        rectangle.setX(300);\n        rectangle.setY(250);\n        rectangle.setStrokeWidth(5);\n        rectangle.setFill(Color.BLUE);\n        rectangle.setStrokeWidth(5);\n        rectangle.setStroke(Color.BLACK);\n\n        Polygon triangle = new Polygon();\n        triangle.getPoints().setAll(\n                200.0, 200.0,\n                300.0, 300.0,\n                200.0, 300.0,\n                300.0, 200.0\n        );\n\n        triangle.setFill(Color.YELLOW);\n\n        Circle circle = new Circle();\n        circle.setCenterX(350);\n        circle.setCenterY(350);\n        circle.setRadius(50);\n        circle.setFill(Color.ORANGE);\n\n\n\n        root.getChildren().add(text);\n        root.getChildren().add(line);\n        root.getChildren().add(triangle);\n        root.getChildren().add(rectangle);\n        root.getChildren().add(circle);\n\n\n        stage.setTitle(&quot;Notes and Password Manager&quot;);\n        //Setting stage height and width\n//        stage.setHeight(750);\n//        stage.setWidth(630);\n        //Set the scene so it shows in the stage.\n        stage.setScene(scene);\n        stage.setResizable(false);\n        //To show the stage we use .show()\n        stage.show();\n    }\n}\n\n\n</code></pre>\n<p>This is my code that I am trying to run, If I comment out my Image i object part, everything will work fine, with no issues, but as soon as I add an Image object it will give following errors</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\n    at javafx.graphics@19/javafx.scene.image.Image.validateUrl(Image.java:1138)\n    at javafx.graphics@19/javafx.scene.image.Image.&lt;init&gt;(Image.java:628)\n    at com.example.checking.HelloApplication.start(HelloApplication.java:76)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\n    at javafx.graphics@19/javafx.scene.image.Image.validateUrl(Image.java:1123)\n    ... 11 more\nException running application com.example.checking.HelloApplication\n</code></pre>\n<p>Now possible solution could be to make a module-info.java package and add require javafx.control and javafx.fxml but whenever I add module-info.java it gives me this error : -</p>\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module Checking not found</p>\n<p>So to deal with this, I deleted the module-info.java and instead added this :-</p>\n<p>--module-path &quot;C:\\Users\\jaina\\Documents\\openjfx-19_windows-x64_bin-sdk (1)\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml</p>\n<p>in my VM options and it works just fine for everything except for Image objects, help required, cause I am unable to get to any solutions.</p>\n"},{"tags":["java","visual-studio-code","dependencies"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1651715670,"post_id":72115220,"comment_id":127431097,"body_markdown":"For the first question, I think you have not explained why you want to open the second one when you open a vscode. At this time, he will open a copy called &quot;Explorer&quot;. Also note that if you open a java file in vs code without opening its folder, the Java language server may not work properly. For the second problem, vsocde retrieves files based on the workspace directory, not from the currently open file.","body":"For the first question, I think you have not explained why you want to open the second one when you open a vscode. At this time, he will open a copy called &quot;Explorer&quot;. Also note that if you open a java file in vs code without opening its folder, the Java language server may not work properly. For the second problem, vsocde retrieves files based on the workspace directory, not from the currently open file."}],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651714726,"creation_date":1651714726,"answer_id":72121052,"question_id":72115220,"body_markdown":"The project without build tools does not allow containing sub-projects (which I guess in your case you want to have `pro1`, `pro2`... as subprojects).\r\n\r\nBut you can have multiple source roots, to do that, what you need to do is:\r\n\r\n1. Creating a new project without build tools in a **new empty** folder.\r\n2. Opening the newly created project, then you can create new folders `pro1/src`, `pro2/src`, at the root of the workspace folder. (in other words, beside the `src` folder).\r\n3. Trigger the command `Java: Configure classpath`, then you can mark the `pro1/src`, `pro2/src` as the source root. Also the `src` at the root can be removed.","title":"How could I prevent vscode from opening new workspace when creating a new java project?","body":"<p>The project without build tools does not allow containing sub-projects (which I guess in your case you want to have <code>pro1</code>, <code>pro2</code>... as subprojects).</p>\n<p>But you can have multiple source roots, to do that, what you need to do is:</p>\n<ol>\n<li>Creating a new project without build tools in a <strong>new empty</strong> folder.</li>\n<li>Opening the newly created project, then you can create new folders <code>pro1/src</code>, <code>pro2/src</code>, at the root of the workspace folder. (in other words, beside the <code>src</code> folder).</li>\n<li>Trigger the command <code>Java: Configure classpath</code>, then you can mark the <code>pro1/src</code>, <code>pro2/src</code> as the source root. Also the <code>src</code> at the root can be removed.</li>\n</ol>\n"}],"owner":{"account_id":23676412,"reputation":21,"user_id":17702591,"display_name":"Used To Love"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666958017,"creation_date":1651676517,"question_id":72115220,"body_markdown":"  I recently start using vscode for java programs, but it&#39;s really hard to configure the settings, I set a empty workspace &quot;goodskies&quot; and use command palette to create no-build tools java projects, select the default folder but it always generates a new workspace and when I go back to my parent workspace, the main class warns to add a package declaration, I just want to write every program in one workspace not each for dependent workspace.\r\n\r\n  I am also confused about the package naming conventions,it seems that the package name should contains starting from the root directory of workspace to the parent root of the file, I don&#39;t why this works, why couldn&#39;t just specify the parent directory as package declaration?\r\nhow did the complier view delerations? Thanks!\r\n\r\nSo my question is that :\r\n\r\n 1. How to fix this properly?\r\n 2. How does package works and how to name it?\r\n\r\n\r\n[![Create a new java project][1]][1]\r\n\r\n\r\n[![Just genereted a new workspace][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Rzjz.png\r\n  [2]: https://i.stack.imgur.com/QSjyw.png\r\n  [3]: https://i.stack.imgur.com/v48go.png","title":"How could I prevent vscode from opening new workspace when creating a new java project?","body":"<p>I recently start using vscode for java programs, but it's really hard to configure the settings, I set a empty workspace &quot;goodskies&quot; and use command palette to create no-build tools java projects, select the default folder but it always generates a new workspace and when I go back to my parent workspace, the main class warns to add a package declaration, I just want to write every program in one workspace not each for dependent workspace.</p>\n<p>I am also confused about the package naming conventions,it seems that the package name should contains starting from the root directory of workspace to the parent root of the file, I don't why this works, why couldn't just specify the parent directory as package declaration?\nhow did the complier view delerations? Thanks!</p>\n<p>So my question is that :</p>\n<ol>\n<li>How to fix this properly?</li>\n<li>How does package works and how to name it?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/1Rzjz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Rzjz.png\" alt=\"Create a new java project\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QSjyw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QSjyw.png\" alt=\"Just genereted a new workspace\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/v48go.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v48go.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":3,"creation_date":1666898347,"post_id":74227220,"comment_id":131050241,"body_markdown":"Please clarify what exactly your question is - what you&#39;ve already tried and what you&#39;re struggling with.","body":"Please clarify what exactly your question is - what you&#39;ve already tried and what you&#39;re struggling with."}],"answers":[{"tags":[],"owner":{"account_id":25612619,"reputation":31,"user_id":19385798,"display_name":"mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666957261,"creation_date":1666905477,"answer_id":74228429,"question_id":74227220,"body_markdown":"the following code might be a good approach for this problem. it might not be the best, but as long as it works, it&#39;s good\r\n``` \r\n    int timesPressed = 0;\r\n    boolean timesUp = false;\r\n    long millisInFuture = 5000; //ms until countdown stops\r\n    long countDownInterval = 50; //the rate at which countdown ticks (here, once every 50 ms)\r\n    public CountDownTimer countDownTimer = new CountDownTimer(millisInFuture, countDownInterval) {\r\n        @Override\r\n        public void onTick(long millisUntilFinished) {\r\n            return;\r\n        }\r\n        @Override\r\n        public void onFinish() {\r\n            timesUp = true;\r\n            timesPressed = 0;\r\n        }\r\n    };\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_UP){\r\n            timesPressed++;\r\n            countDownTimer.start();\r\n\r\n            if (!timesUp &amp;&amp; timesPressed == 5) { \r\n                countDownTimer.cancel(); //stops timer\r\n                timesUp = false; \r\n                timesPressed = 0;\r\n                doStuff(); //execute your function\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n```","title":"number of button clicks in given time in android","body":"<p>the following code might be a good approach for this problem. it might not be the best, but as long as it works, it's good</p>\n<pre><code>    int timesPressed = 0;\n    boolean timesUp = false;\n    long millisInFuture = 5000; //ms until countdown stops\n    long countDownInterval = 50; //the rate at which countdown ticks (here, once every 50 ms)\n    public CountDownTimer countDownTimer = new CountDownTimer(millisInFuture, countDownInterval) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            return;\n        }\n        @Override\n        public void onFinish() {\n            timesUp = true;\n            timesPressed = 0;\n        }\n    };\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_UP){\n            timesPressed++;\n            countDownTimer.start();\n\n            if (!timesUp &amp;&amp; timesPressed == 5) { \n                countDownTimer.cancel(); //stops timer\n                timesUp = false; \n                timesPressed = 0;\n                doStuff(); //execute your function\n            }\n        }\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":26753095,"reputation":11,"user_id":20352160,"display_name":"arya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666957261,"creation_date":1666898221,"question_id":74227220,"body_markdown":" I am devloping an application which uses volume button cliks to trigger an action.\r\nif the user clicks the volume button 5 times in  given time ,then a function will be triggered. \r\n \r\n\r\n Now i a want code to check whether the user clicked the volume buttton 5 times in given time.\r\nThe time should be in millliseconds","title":"number of button clicks in given time in android","body":"<p>I am devloping an application which uses volume button cliks to trigger an action.\nif the user clicks the volume button 5 times in  given time ,then a function will be triggered.</p>\n<p>Now i a want code to check whether the user clicked the volume buttton 5 times in given time.\nThe time should be in millliseconds</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1666956656,"post_id":74234652,"comment_id":131062748,"body_markdown":"You can not add a file in Assets at runtime . You can not get a json file as response .\nYou can create a file in local storage and write the response in it .. Why you need a File anyway ? can u explain little bit maybe there a better solution for your problem .","body":"You can not add a file in Assets at runtime . You can not get a json file as response . You can create a file in local storage and write the response in it .. Why you need a File anyway ? can u explain little bit maybe there a better solution for your problem ."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1666958006,"post_id":74234652,"comment_id":131063191,"body_markdown":"Yes, i need the json to use a method in azure maps that adds a geojson file into a datasource, as importdatafromurl. I tryed to add as json object or string and it wont acept, i can only open from a file in my dir or from web link.","body":"Yes, i need the json to use a method in azure maps that adds a geojson file into a datasource, as importdatafromurl. I tryed to add as json object or string and it wont acept, i can only open from a file in my dir or from web link."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1666963833,"post_id":74234652,"comment_id":131065102,"body_markdown":"then try writing a file with response in local storage and pass the path to that client . you can lots of questions on How and where to write a a file in android .","body":"then try writing a file with response in local storage and pass the path to that client . you can lots of questions on How and where to write a a file in android ."}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666956320,"creation_date":1666956320,"question_id":74234652,"body_markdown":"So i have a get request from an API, when i get the response i want to make that response into a json file instead of making him an JSONOBJECT, is it possible ? i will paste the get funcion here, and the way im getting the JSONOBJECT.\r\nI want to replace the way i get a JSONOBJECT, from a way to get that json as a file that goes to my assets directory.\r\n\r\n    public void getAssetPlant(final VolleyCallBack callBack) {\r\n            RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n    \r\n            StringRequest request = new StringRequest(Request.Method.GET, url_assets, new Response.Listener&lt;String&gt;() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n                    try {\r\n                        JSONObject j = new JSONObject(response);\r\n                        callBack.onSuccess();\r\n                    } catch (URISyntaxException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    \r\n    \r\n    \r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(MapActivity.this, &quot;Failed to gather info&quot; + error.networkResponse.statusCode, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }) {\r\n    \r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                    headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n                    return headers;\r\n                }\r\n            };\r\n            requestQueue.add(request);\r\n        }","title":"Is it possible to get a response as a json file instead of making him a jsonobject in java?","body":"<p>So i have a get request from an API, when i get the response i want to make that response into a json file instead of making him an JSONOBJECT, is it possible ? i will paste the get funcion here, and the way im getting the JSONOBJECT.\nI want to replace the way i get a JSONOBJECT, from a way to get that json as a file that goes to my assets directory.</p>\n<pre><code>public void getAssetPlant(final VolleyCallBack callBack) {\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n\n        StringRequest request = new StringRequest(Request.Method.GET, url_assets, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                try {\n                    JSONObject j = new JSONObject(response);\n                    callBack.onSuccess();\n                } catch (URISyntaxException e) {\n                    e.printStackTrace();\n                }\n                \n\n\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(MapActivity.this, &quot;Failed to gather info&quot; + error.networkResponse.statusCode, Toast.LENGTH_SHORT).show();\n            }\n        }) {\n\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n                headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n                return headers;\n            }\n        };\n        requestQueue.add(request);\n    }\n</code></pre>\n"},{"tags":["java","date","datetime","time","timestamp"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1666955322,"post_id":74234420,"comment_id":131062279,"body_markdown":"Can you please [edit] your question and include the code that threw the `DateTimeParseException`? Preferably the one where you used a `DateTimeFormatter`…","body":"Can you please <a href=\"https://stackoverflow.com/posts/74234420/edit\">edit</a> your question and include the code that threw the <code>DateTimeParseException</code>? Preferably the one where you used a <code>DateTimeFormatter</code>…"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1666955808,"post_id":74234420,"comment_id":131062433,"body_markdown":"Short answer - it’s hard and messy. Essentially, you need to create a list for formats and the loop over this list trying to parse the String till you either get a result or run out of formats","body":"Short answer - it’s hard and messy. Essentially, you need to create a list for formats and the loop over this list trying to parse the String till you either get a result or run out of formats"},{"owner":{"account_id":26088257,"reputation":33,"user_id":19785518,"display_name":"user19785518"},"score":0,"creation_date":1666956251,"post_id":74234420,"comment_id":131062590,"body_markdown":"Is there no way to do these without maintaining a list for the same","body":"Is there no way to do these without maintaining a list for the same"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1666956267,"post_id":74234420,"comment_id":131062597,"body_markdown":"Sure, @MadProgrammer when there are more possible formats than just the two from the example `String`s, your statement will be totally right. For those two examples, it&#39;s easy with `OffsetDateTime`.","body":"Sure, @MadProgrammer when there are more possible formats than just the two from the example <code>String</code>s, your statement will be totally right. For those two examples, it&#39;s easy with <code>OffsetDateTime</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666957369,"post_id":74234420,"comment_id":131062979,"body_markdown":"Short answer, it’s straightforward and easy since both of your formats are really the same, just variants of [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601), and the one-arg `OffsetDateTime.parse()` handles both without even requiring us to specify a formatter. Also @MadProgrammer","body":"Short answer, it’s straightforward and easy since both of your formats are really the same, just variants of <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>, and the one-arg <code>OffsetDateTime.parse()</code> handles both without even requiring us to specify a formatter. Also @MadProgrammer"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666956151,"creation_date":1666956151,"answer_id":74234624,"question_id":74234420,"body_markdown":"Using `java.time` here is a good idea compared to `java.util.Date`, `Calendar` and so on, but you have to use specific classes that match the information inside a `String` that represents a datetime or timestamp.\r\n\r\nIn your case, the `String` contains the following information:\r\n\r\n  - year\r\n  - month of year\r\n  - day of month\r\n  - hour of day\r\n  - minute of hour\r\n  - second of minute\r\n  - fractions of second\r\n  - offset from UTC\r\n\r\nIn particular, it&#39;s the last one (offset from UTC) which makes your attempt fail because you (1) don&#39;t consider it in the pattern of the `DateTimeFormatter` and (2) you use a class that cannot store it (`LocalDateTime` is not able / designed to hold information about a zone or an offset.\r\n\r\nHaving `String`s with an offset can be stored in / parsed to `OffsetDateTime`s, if they are ISO formatted (as your examples are), you don&#39;t even need to apply a custom `DateTimeFormatter`. You can simply call `OffsetDateTime.parse(String)`.\r\n\r\nYou can then define a desired format for an output by creating a custom `DateTimeFormatter` and apply it in `OffsetDateTime.format(DateTimeFormatter)`.\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// example Strings (your ones)\r\n\tString timestampOne = &quot;2022-08-17T18:28:07.288496+05:30&quot;;\r\n\tString timestampTwo = &quot;2022-10-27T13:17:47.987736542Z&quot;;\r\n\t// directly parse them to get instances of OffsetDateTime\r\n\tOffsetDateTime odtOne = OffsetDateTime.parse(timestampOne);\r\n\tOffsetDateTime odtTwo = OffsetDateTime.parse(timestampTwo);\r\n\t// prepare a formatter for your desired output\r\n\tDateTimeFormatter dtfOut = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n\t// and print the values of the OffsetDateTimes formatted by that DateTimeFormatter\r\n\tSystem.out.println(odtOne.format(dtfOut));\r\n\tSystem.out.println(odtTwo.format(dtfOut));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n2022-08-17T18:28:07\r\n2022-10-27T13:17:47\r\n```","title":"How do I convert any Timestamp string to a single Format in Java","body":"<p>Using <code>java.time</code> here is a good idea compared to <code>java.util.Date</code>, <code>Calendar</code> and so on, but you have to use specific classes that match the information inside a <code>String</code> that represents a datetime or timestamp.</p>\n<p>In your case, the <code>String</code> contains the following information:</p>\n<ul>\n<li>year</li>\n<li>month of year</li>\n<li>day of month</li>\n<li>hour of day</li>\n<li>minute of hour</li>\n<li>second of minute</li>\n<li>fractions of second</li>\n<li>offset from UTC</li>\n</ul>\n<p>In particular, it's the last one (offset from UTC) which makes your attempt fail because you (1) don't consider it in the pattern of the <code>DateTimeFormatter</code> and (2) you use a class that cannot store it (<code>LocalDateTime</code> is not able / designed to hold information about a zone or an offset.</p>\n<p>Having <code>String</code>s with an offset can be stored in / parsed to <code>OffsetDateTime</code>s, if they are ISO formatted (as your examples are), you don't even need to apply a custom <code>DateTimeFormatter</code>. You can simply call <code>OffsetDateTime.parse(String)</code>.</p>\n<p>You can then define a desired format for an output by creating a custom <code>DateTimeFormatter</code> and apply it in <code>OffsetDateTime.format(DateTimeFormatter)</code>.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // example Strings (your ones)\n    String timestampOne = &quot;2022-08-17T18:28:07.288496+05:30&quot;;\n    String timestampTwo = &quot;2022-10-27T13:17:47.987736542Z&quot;;\n    // directly parse them to get instances of OffsetDateTime\n    OffsetDateTime odtOne = OffsetDateTime.parse(timestampOne);\n    OffsetDateTime odtTwo = OffsetDateTime.parse(timestampTwo);\n    // prepare a formatter for your desired output\n    DateTimeFormatter dtfOut = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss&quot;);\n    // and print the values of the OffsetDateTimes formatted by that DateTimeFormatter\n    System.out.println(odtOne.format(dtfOut));\n    System.out.println(odtTwo.format(dtfOut));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-08-17T18:28:07\n2022-10-27T13:17:47\n</code></pre>\n"}],"owner":{"account_id":26088257,"reputation":33,"user_id":19785518,"display_name":"user19785518"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74234624,"answer_count":1,"score":1,"last_activity_date":1666956151,"creation_date":1666954935,"question_id":74234420,"body_markdown":"I want to convert the timestamps which are in different formats to one format\r\nI want to convert following timestamps to single format\r\n\r\n\r\n\r\n`Time Stamp 1 : 2022-08-17T18:28:07.288496+05:30`\r\n\r\n`Time Stamp 2 : 2022-10-27T13:17:47.987736542Z`\r\n\r\nto\r\n\r\n`yyyy-MM-dd&#39;T&#39;HH:mm:ss` format\r\n\r\nI have tried using `DateFormatter` of Java but it gives ParseException. Also used `SimpleDateFormatter` but was getting same exceptions. \r\nPlease suggest package or methods for the same.\r\n\r\nEdit : Code I used for conversion\r\n\r\n```java\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\nLocalDateTime localDateTime = LocalDateTime.parse(timestamp, formatter);\r\nSystem.out.println(localDateTime);\r\n```","title":"How do I convert any Timestamp string to a single Format in Java","body":"<p>I want to convert the timestamps which are in different formats to one format\nI want to convert following timestamps to single format</p>\n<p><code>Time Stamp 1 : 2022-08-17T18:28:07.288496+05:30</code></p>\n<p><code>Time Stamp 2 : 2022-10-27T13:17:47.987736542Z</code></p>\n<p>to</p>\n<p><code>yyyy-MM-dd'T'HH:mm:ss</code> format</p>\n<p>I have tried using <code>DateFormatter</code> of Java but it gives ParseException. Also used <code>SimpleDateFormatter</code> but was getting same exceptions.\nPlease suggest package or methods for the same.</p>\n<p>Edit : Code I used for conversion</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\nLocalDateTime localDateTime = LocalDateTime.parse(timestamp, formatter);\nSystem.out.println(localDateTime);\n</code></pre>\n"},{"tags":["java","spring-boot","server","task","timertask"],"comments":[{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":2,"creation_date":1666954169,"post_id":74234175,"comment_id":131061953,"body_markdown":"_&quot;Iv&#39;e made it to run daily&quot;_ - no, you have scheduled it to run once. See the documentation for `Timer` class.","body":"<i>&quot;Iv&#39;e made it to run daily&quot;</i> - no, you have scheduled it to run once. See the documentation for <code>Timer</code> class."},{"owner":{"account_id":25789948,"reputation":33,"user_id":19534178,"display_name":"JavaExplorer"},"score":0,"creation_date":1666955493,"post_id":74234175,"comment_id":131062334,"body_markdown":"you are right! i get my mistake now and added a job with @Scheduled annotation and it is working. thank you so much for pointing that out.","body":"you are right! i get my mistake now and added a job with @Scheduled annotation and it is working. thank you so much for pointing that out."}],"answers":[{"tags":[],"owner":{"account_id":25789948,"reputation":33,"user_id":19534178,"display_name":"JavaExplorer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666955649,"creation_date":1666955649,"answer_id":74234537,"question_id":74234175,"body_markdown":"So as pointed out, I get my mistake and it is a one-timer.\r\nI have added @Scheduled job with fixed rate of one day in ML and now its working.","title":"Task on Java Spring Boot doesn&#39;t work properly (working for short term only)","body":"<p>So as pointed out, I get my mistake and it is a one-timer.\nI have added @Scheduled job with fixed rate of one day in ML and now its working.</p>\n"}],"owner":{"account_id":25789948,"reputation":33,"user_id":19534178,"display_name":"JavaExplorer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74234537,"answer_count":1,"score":0,"last_activity_date":1666955649,"creation_date":1666953585,"question_id":74234175,"body_markdown":"so I have a problem with this task that I have made. it works only for the short term and after a few hours kinda dies. Iv&#39;e made it to run daily. \r\nfor instance, I made this task that&#39;s run for the next half an hour (if now it&#39;s 12:30 PM so 1:00 PM), and it works perfectly fine. but if I check the log and the DB the next day, it shows nothing regarding this task, and it will not do what it&#39;s supposed to do.\r\n\r\nso this is my code:\r\n\r\n\r\n\r\n```\r\n@Component\r\npublic class DeleteGraduateStudentsTimerTask extends TimerTask {\r\n\r\n    private final StudentsService studentsService;\r\n\r\n    @Autowired\r\n    public DeleteGraduateStudentsTimerTask(StudentsService studentsService) {\r\n        this.studentsService = studentsService;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        Calendar date = Calendar.getInstance();\r\n        date.set(Calendar.HOUR_OF_DAY, 13);\r\n        date.set(Calendar.MINUTE, 0);\r\n        date.set(Calendar.SECOND, 0);\r\n        Timer timer = new Timer();\r\n        timer.schedule(this, date.getTime());\r\n    }\r\n\r\n  \r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Running to check if there is graduated student to delete&quot;);\r\n            List&lt;Student&gt; studentsList = studentsService.getAllGraduateStudents();\r\n            for (Student student: studentsList) {\r\n                studentsService.deleteStudent(student.getId());\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n\r\ni don&#39;t even know how to approach this, beacause it IS working, but after one day it clearly does not.\r\n\r\nif anyone have any idea please help me.\r\n\r\nthank you so much!","title":"Task on Java Spring Boot doesn&#39;t work properly (working for short term only)","body":"<p>so I have a problem with this task that I have made. it works only for the short term and after a few hours kinda dies. Iv'e made it to run daily.\nfor instance, I made this task that's run for the next half an hour (if now it's 12:30 PM so 1:00 PM), and it works perfectly fine. but if I check the log and the DB the next day, it shows nothing regarding this task, and it will not do what it's supposed to do.</p>\n<p>so this is my code:</p>\n<pre><code>@Component\npublic class DeleteGraduateStudentsTimerTask extends TimerTask {\n\n    private final StudentsService studentsService;\n\n    @Autowired\n    public DeleteGraduateStudentsTimerTask(StudentsService studentsService) {\n        this.studentsService = studentsService;\n    }\n\n    @PostConstruct\n    public void init() {\n        Calendar date = Calendar.getInstance();\n        date.set(Calendar.HOUR_OF_DAY, 13);\n        date.set(Calendar.MINUTE, 0);\n        date.set(Calendar.SECOND, 0);\n        Timer timer = new Timer();\n        timer.schedule(this, date.getTime());\n    }\n\n  \n    @Override\n    public void run() {\n        System.out.println(&quot;Running to check if there is graduated student to delete&quot;);\n            List&lt;Student&gt; studentsList = studentsService.getAllGraduateStudents();\n            for (Student student: studentsList) {\n                studentsService.deleteStudent(student.getId());\n            }\n\n        }\n    }\n</code></pre>\n<p>i don't even know how to approach this, beacause it IS working, but after one day it clearly does not.</p>\n<p>if anyone have any idea please help me.</p>\n<p>thank you so much!</p>\n"},{"tags":["java","kotlin","google-cloud-platform","jvm","google-cloud-datastore"],"answers":[{"tags":[],"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666955047,"creation_date":1666955047,"answer_id":74234441,"question_id":74233894,"body_markdown":"Indeed, the DatastoreReader interface has a default implementation that throws an `UnsupportedOperationException`. You can see this on [GitHub][1].\r\n\r\nHowever, this is not a problem, because the actual `DatastoreReader` instance you will be using after calling `DatastoreOptions.getDefaultInstance().service` overrides this default implementation. The concrete type of this instance is [`DatastoreImpl`][2], and you can also see the actual implementation of the overridden `runAggregation` method on [GitHub][3].\r\n\r\n\r\n  [1]: https://github.com/googleapis/java-datastore/blob/a45940880d18218f58dc68252a9730e63139093a/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreReader.java#L64\r\n  [2]: https://github.com/googleapis/java-datastore/blob/main/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreImpl.java\r\n  [3]: https://github.com/googleapis/java-datastore/blob/a45940880d18218f58dc68252a9730e63139093a/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreImpl.java#L202","title":"Java datastore client throws &quot;Not implemented&quot; at runAggregation","body":"<p>Indeed, the DatastoreReader interface has a default implementation that throws an <code>UnsupportedOperationException</code>. You can see this on <a href=\"https://github.com/googleapis/java-datastore/blob/a45940880d18218f58dc68252a9730e63139093a/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreReader.java#L64\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n<p>However, this is not a problem, because the actual <code>DatastoreReader</code> instance you will be using after calling <code>DatastoreOptions.getDefaultInstance().service</code> overrides this default implementation. The concrete type of this instance is <a href=\"https://github.com/googleapis/java-datastore/blob/main/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreImpl.java\" rel=\"nofollow noreferrer\"><code>DatastoreImpl</code></a>, and you can also see the actual implementation of the overridden <code>runAggregation</code> method on <a href=\"https://github.com/googleapis/java-datastore/blob/a45940880d18218f58dc68252a9730e63139093a/google-cloud-datastore/src/main/java/com/google/cloud/datastore/DatastoreImpl.java#L202\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"}],"owner":{"account_id":2842873,"reputation":11,"user_id":2442083,"display_name":"Guillermo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666955047,"creation_date":1666952212,"question_id":74233894,"body_markdown":"I am trying new [feature count](https://github.com/googleapis/java-datastore/commit/8c22e61f8a0307a59301259f83a16c8324fa1b6f#diff-039f087fc36dbed8761c6dfc3e757626fd9d7902ee96e9b7344832b93dc533fd) with an aggregate query, but &quot;runAggregation&quot; from Datastore interface has implemented \r\n```\r\nthrow new UnsupportedOperationException(&quot;Not implemented.&quot;);\r\n```\r\n\r\neven thought DatastoreImpl implements. \r\n\r\n\r\n\r\n\r\n\r\nThis is how my code is looking, basically I copied from examples code/java doc: \r\n\r\n```\r\nval selectAllQuery = Query.newEntityQueryBuilder().setKind(entityName).build()\r\nval aggregationQuery: AggregationQuery =\r\n    Query.newAggregationQueryBuilder().addAggregation(count().`as`(&quot;total_count&quot;)).over(selectAllQuery).build()\r\n\r\n\r\nval aggregationResults =\r\n    datastore.runAggregation(aggregationQuery).forEach {\r\n        println(it)\r\n    }\r\n```\r\n\r\n","title":"Java datastore client throws &quot;Not implemented&quot; at runAggregation","body":"<p>I am trying new <a href=\"https://github.com/googleapis/java-datastore/commit/8c22e61f8a0307a59301259f83a16c8324fa1b6f#diff-039f087fc36dbed8761c6dfc3e757626fd9d7902ee96e9b7344832b93dc533fd\" rel=\"nofollow noreferrer\">feature count</a> with an aggregate query, but &quot;runAggregation&quot; from Datastore interface has implemented</p>\n<pre><code>throw new UnsupportedOperationException(&quot;Not implemented.&quot;);\n</code></pre>\n<p>even thought DatastoreImpl implements.</p>\n<p>This is how my code is looking, basically I copied from examples code/java doc:</p>\n<pre><code>val selectAllQuery = Query.newEntityQueryBuilder().setKind(entityName).build()\nval aggregationQuery: AggregationQuery =\n    Query.newAggregationQueryBuilder().addAggregation(count().`as`(&quot;total_count&quot;)).over(selectAllQuery).build()\n\n\nval aggregationResults =\n    datastore.runAggregation(aggregationQuery).forEach {\n        println(it)\n    }\n</code></pre>\n"},{"tags":["java","regex","string","java-stream","regex-group"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1666874725,"creation_date":1666874254,"answer_id":74222157,"question_id":74222047,"body_markdown":"&gt;  I&#39;m trying to get the number at the end of every string...\r\n\r\n## Solution 1\r\n\r\nMaybe you can solve it without using regex, like so:\r\n\r\n    List&lt;String&gt; response = dest.stream()\r\n            .map(String::trim)\r\n            .map(s -&gt; s.split(&quot;\\\\s+&quot;))\r\n            .map(r -&gt; r[r.length - 1])\r\n            .toList();\r\n\r\n---\r\n\r\n## Solution 2\r\n\r\nIf you insist on using regex, you can use:\r\n\r\n    final String regex = &quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;;\r\n    final Pattern compile = Pattern.compile(regex);\r\n    List&lt;String&gt; response = dest.stream()\r\n            .map(compile::matcher)\r\n            .filter(Matcher::find)\r\n            .map(r -&gt; r.group(1))\r\n            .toList();\r\n\r\n---\r\n\r\n**Outputs**\r\n\r\n    [2000.55, 1200, 789, 2000, 1000]\r\n","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<blockquote>\n<p>I'm trying to get the number at the end of every string...</p>\n</blockquote>\n<h2>Solution 1</h2>\n<p>Maybe you can solve it without using regex, like so:</p>\n<pre><code>List&lt;String&gt; response = dest.stream()\n        .map(String::trim)\n        .map(s -&gt; s.split(&quot;\\\\s+&quot;))\n        .map(r -&gt; r[r.length - 1])\n        .toList();\n</code></pre>\n<hr />\n<h2>Solution 2</h2>\n<p>If you insist on using regex, you can use:</p>\n<pre><code>final String regex = &quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;;\nfinal Pattern compile = Pattern.compile(regex);\nList&lt;String&gt; response = dest.stream()\n        .map(compile::matcher)\n        .filter(Matcher::find)\n        .map(r -&gt; r.group(1))\n        .toList();\n</code></pre>\n<hr />\n<p><strong>Outputs</strong></p>\n<pre><code>[2000.55, 1200, 789, 2000, 1000]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666874288,"creation_date":1666874288,"answer_id":74222166,"question_id":74222047,"body_markdown":"`filter` keeps or removes elements from the list. If you want to transform stream elements (which you do when you extract the number), use `map`.\r\n\r\nThen you can use the regex (along with a `Matcher`) to extract data:\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;);\r\n    List&lt;String&gt; mylist = dest.stream()\r\n            .map(s -&gt; {\r\n              Matcher matcher = p.matcher(s);\r\n              matcher.find();\r\n              return matcher.group(1); //error handling sold seperately\r\n            })\r\n            .collect(Collectors.toList());\r\n    System.out.println(mylist);\r\n\r\nprints\r\n\r\n    [2000, 1200, 789, 2000, 1000]","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<p><code>filter</code> keeps or removes elements from the list. If you want to transform stream elements (which you do when you extract the number), use <code>map</code>.</p>\n<p>Then you can use the regex (along with a <code>Matcher</code>) to extract data:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;);\nList&lt;String&gt; mylist = dest.stream()\n        .map(s -&gt; {\n          Matcher matcher = p.matcher(s);\n          matcher.find();\n          return matcher.group(1); //error handling sold seperately\n        })\n        .collect(Collectors.toList());\nSystem.out.println(mylist);\n</code></pre>\n<p>prints</p>\n<pre><code>[2000, 1200, 789, 2000, 1000]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1666874604,"creation_date":1666874604,"answer_id":74222251,"question_id":74222047,"body_markdown":"You should `.map()` instead of `.filter()`.\r\n\r\n    ArrayList&lt;String&gt; mylist = new ArrayList&lt;&gt;(\r\n        dest.stream()\r\n            .map(s -&gt; s.replaceAll(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;, &quot;$1&quot;))\r\n            .collect(Collectors.toList()));\r\n    System.out.println(mylist);\r\n\r\noutput:\r\n\r\n    [2000, 1200, 789, 2000, 1000]\r\n","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<p>You should <code>.map()</code> instead of <code>.filter()</code>.</p>\n<pre><code>ArrayList&lt;String&gt; mylist = new ArrayList&lt;&gt;(\n    dest.stream()\n        .map(s -&gt; s.replaceAll(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;, &quot;$1&quot;))\n        .collect(Collectors.toList()));\nSystem.out.println(mylist);\n</code></pre>\n<p>output:</p>\n<pre><code>[2000, 1200, 789, 2000, 1000]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666954769,"creation_date":1666886161,"answer_id":74224931,"question_id":74222047,"body_markdown":"Firstly, there are several issues that worth to emphasize:\r\n\r\n* In you&#39;ve code started with a `filter()` operation and that was the right step, because `map()` can&#39;t discard an element from the stream, it performs a *one-to-one* transformation. If you need to make sure that an element is valid, you need to apply `filter()` first. Another option would be to use [`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) operation which is meant to perform *one-to-many* transformations, i.e. it turns a stream element into **0+** (*zero or more*) elements and can act like both `filter()` and `map()`. And more importantly, usage of `flatMap()` can improve the performance because would allow to **avoid** processing a valid string with the regex-engine twice (while filtering and while mapping).\r\n\r\n* Another important thing to consider is that there&#39;s more than one valid representation of `double`: *exponential, hexadecimal, etc*. All options are listed in the documentation of [`Double.valueOf()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String)). Even if we are talking only about a plain decimal floating-point number `1.` and `.9` which don&#39;t the regular expression you&#39;re using are also valid `double`s. **Note** that Javadoc of `valueOf()` contains a *ready-to-go* regex for validating doubles, which cavers of all the possible (it&#39;s really massive and sprinkled with comments, so I&#39;m not posting it here).\r\n\r\n* In the regex, you&#39;re not testing whether the number is located at the end of the string. In the description, you&#39;ve said: *&quot;I&#39;m trying to get the number at the end of every string&quot;*. If it&#39;s important, you need to prepend `$` denoting that captured string should be located at the very end.\r\n\r\n* Lastly, it&#39;s redundant to wrap a `List` returned by `Collectors.toList()` with an `ArrayList`.\r\n\r\nFor simplicity, instead of mentioned regex for checking all the forms of double I would use the following regular expression `&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;`.\r\n\r\nThe first part `\\\\d+\\\\.?\\\\d*` would match to a whole number, e.g. `999`, a floating-point number with no fraction part, e.g. `1.`, and a regular floating-point, e.g. `99.999`.\r\n\r\nThe second part `\\\\.\\\\d+` matches a floating-point number without the integer part, e.g. `.995`.\r\n\r\nHere how it can be done using Stream API features and [`java.util.regex.MatchResult`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html).\r\n\r\n***Note:*** `Matcher.results()` *was introduced with Java 9, although you mentioned Java 8 I guess this solution can be useful for other readers.*\r\n\r\n```\r\nList&lt;String&gt; strings = List.of(\r\n    &quot;abc abd 2000&quot;, &quot;idf owe 1200&quot;, &quot;jks ldg 789&quot;,\r\n    &quot;ccc hhh 2000&quot;, &quot;www uuu 1000&quot;, &quot;ccc hhh 2000.&quot;,\r\n    &quot;abc abd 2000.1&quot;, &quot;idf owe 1200.0&quot;, &quot;jks ldg 789.995&quot;, &quot;.999&quot;,     // floated-point numbers\r\n    &quot;abc abd 2000y&quot;, &quot;idf owe&quot;, &quot;jks ldg 789.995%wtqop&quot;, &quot;....ljsofo.&quot; // invalid strings\r\n);\r\n\r\nPattern p = Pattern.compile(&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;);\r\n        \r\nList&lt;String&gt; numbers = strings.stream()\r\n    .flatMap(str -&gt;\r\n        p.matcher(str).results().map(MatchResult::group)\r\n    )\r\n    .toList();\r\n    \r\nSystem.out.println(numbers);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[2000, 1200, 789, 2000, 1000, 2000., 2000.1, 1200.0, 789.995, .999]\r\n```\r\n\r\nThe alternative way of doing this would be to use Java 16 [`mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) which at eh high level acts almost like `flatMap()` transforming one stream element into zero or more elements, but contrary to `flatMap()` its internal mechanism doesn&#39;t require generating a new Stream.\r\n\r\nIn this case, each string in the stream needs to be transformed into either **0** or **1** string. If the number of elements is large, the overhead of creating empty streams and singleton streams might be significant. Hence, using `mapMulti()` in this scenario would be more beneficial.\r\n\r\nThat&#39;s how it might be implemented (credits to *@Holger* for this idea):\r\n\r\n```\r\nPattern p = Pattern.compile(&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;);\r\n        \r\nList&lt;String&gt; numbers = strings.stream()\r\n    .map(p::matcher)\r\n    .&lt;String&gt;mapMulti((matcher, consumer) -&gt; {\r\n        if (matcher.find()) consumer.accept(matcher.group());\r\n    })\r\n    .toList();\r\n```","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<p>Firstly, there are several issues that worth to emphasize:</p>\n<ul>\n<li><p>In you've code started with a <code>filter()</code> operation and that was the right step, because <code>map()</code> can't discard an element from the stream, it performs a <em>one-to-one</em> transformation. If you need to make sure that an element is valid, you need to apply <code>filter()</code> first. Another option would be to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> operation which is meant to perform <em>one-to-many</em> transformations, i.e. it turns a stream element into <strong>0+</strong> (<em>zero or more</em>) elements and can act like both <code>filter()</code> and <code>map()</code>. And more importantly, usage of <code>flatMap()</code> can improve the performance because would allow to <strong>avoid</strong> processing a valid string with the regex-engine twice (while filtering and while mapping).</p>\n</li>\n<li><p>Another important thing to consider is that there's more than one valid representation of <code>double</code>: <em>exponential, hexadecimal, etc</em>. All options are listed in the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Double.valueOf()</code></a>. Even if we are talking only about a plain decimal floating-point number <code>1.</code> and <code>.9</code> which don't the regular expression you're using are also valid <code>double</code>s. <strong>Note</strong> that Javadoc of <code>valueOf()</code> contains a <em>ready-to-go</em> regex for validating doubles, which cavers of all the possible (it's really massive and sprinkled with comments, so I'm not posting it here).</p>\n</li>\n<li><p>In the regex, you're not testing whether the number is located at the end of the string. In the description, you've said: <em>&quot;I'm trying to get the number at the end of every string&quot;</em>. If it's important, you need to prepend <code>$</code> denoting that captured string should be located at the very end.</p>\n</li>\n<li><p>Lastly, it's redundant to wrap a <code>List</code> returned by <code>Collectors.toList()</code> with an <code>ArrayList</code>.</p>\n</li>\n</ul>\n<p>For simplicity, instead of mentioned regex for checking all the forms of double I would use the following regular expression <code>&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;</code>.</p>\n<p>The first part <code>\\\\d+\\\\.?\\\\d*</code> would match to a whole number, e.g. <code>999</code>, a floating-point number with no fraction part, e.g. <code>1.</code>, and a regular floating-point, e.g. <code>99.999</code>.</p>\n<p>The second part <code>\\\\.\\\\d+</code> matches a floating-point number without the integer part, e.g. <code>.995</code>.</p>\n<p>Here how it can be done using Stream API features and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html\" rel=\"nofollow noreferrer\"><code>java.util.regex.MatchResult</code></a>.</p>\n<p><em><strong>Note:</strong></em> <code>Matcher.results()</code> <em>was introduced with Java 9, although you mentioned Java 8 I guess this solution can be useful for other readers.</em></p>\n<pre><code>List&lt;String&gt; strings = List.of(\n    &quot;abc abd 2000&quot;, &quot;idf owe 1200&quot;, &quot;jks ldg 789&quot;,\n    &quot;ccc hhh 2000&quot;, &quot;www uuu 1000&quot;, &quot;ccc hhh 2000.&quot;,\n    &quot;abc abd 2000.1&quot;, &quot;idf owe 1200.0&quot;, &quot;jks ldg 789.995&quot;, &quot;.999&quot;,     // floated-point numbers\n    &quot;abc abd 2000y&quot;, &quot;idf owe&quot;, &quot;jks ldg 789.995%wtqop&quot;, &quot;....ljsofo.&quot; // invalid strings\n);\n\nPattern p = Pattern.compile(&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;);\n        \nList&lt;String&gt; numbers = strings.stream()\n    .flatMap(str -&gt;\n        p.matcher(str).results().map(MatchResult::group)\n    )\n    .toList();\n    \nSystem.out.println(numbers);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[2000, 1200, 789, 2000, 1000, 2000., 2000.1, 1200.0, 789.995, .999]\n</code></pre>\n<p>The alternative way of doing this would be to use Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a> which at eh high level acts almost like <code>flatMap()</code> transforming one stream element into zero or more elements, but contrary to <code>flatMap()</code> its internal mechanism doesn't require generating a new Stream.</p>\n<p>In this case, each string in the stream needs to be transformed into either <strong>0</strong> or <strong>1</strong> string. If the number of elements is large, the overhead of creating empty streams and singleton streams might be significant. Hence, using <code>mapMulti()</code> in this scenario would be more beneficial.</p>\n<p>That's how it might be implemented (credits to <em>@Holger</em> for this idea):</p>\n<pre><code>Pattern p = Pattern.compile(&quot;(\\\\d+\\\\.?\\\\d*|\\\\.\\\\d+)$&quot;);\n        \nList&lt;String&gt; numbers = strings.stream()\n    .map(p::matcher)\n    .&lt;String&gt;mapMulti((matcher, consumer) -&gt; {\n        if (matcher.find()) consumer.accept(matcher.group());\n    })\n    .toList();\n</code></pre>\n"}],"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74222157,"answer_count":4,"score":0,"last_activity_date":1666954769,"creation_date":1666873725,"question_id":74222047,"body_markdown":"Suppose that I have a list:\r\n```\r\nList&lt;String&gt; dest = Arrays.asList(\r\n\t&quot;abc abd 2000&quot;,\r\n\t&quot;idf owe 1200&quot;,\r\n\t&quot;jks ldg 789&quot;,\r\n\t&quot;ccc hhh 2000&quot;,\r\n\t&quot;www uuu 1000&quot;\r\n);\r\n```\r\nAnd I&#39;m trying to get the number at the end of every string. The given list has only integers in it, but I&#39;m writing the regex for doubles too:`(\\\\d+\\\\.?\\\\d+)`. In Java 1.8, I wrote the following code:\r\n```\r\nArrayList&lt;String&gt; mylist = new ArrayList&lt;&gt;(\r\n\tdest.stream()\r\n\t\t.filter(Pattern.compile(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;).asPredicate())\r\n\t\t.collect(Collectors.toList())\r\n);\r\n```\r\nWhat I&#39;m trying to do is - get the `(\\\\d+\\\\.?\\\\d+)` group from each found string, how can I do it?\r\n\r\nI was thinking about applying a `Matcher` to each element of the list, but I&#39;m not sure about how to implement it.","title":"Obtain Regex matching Groups using Pattern.asPredicate()","body":"<p>Suppose that I have a list:</p>\n<pre><code>List&lt;String&gt; dest = Arrays.asList(\n    &quot;abc abd 2000&quot;,\n    &quot;idf owe 1200&quot;,\n    &quot;jks ldg 789&quot;,\n    &quot;ccc hhh 2000&quot;,\n    &quot;www uuu 1000&quot;\n);\n</code></pre>\n<p>And I'm trying to get the number at the end of every string. The given list has only integers in it, but I'm writing the regex for doubles too:<code>(\\\\d+\\\\.?\\\\d+)</code>. In Java 1.8, I wrote the following code:</p>\n<pre><code>ArrayList&lt;String&gt; mylist = new ArrayList&lt;&gt;(\n    dest.stream()\n        .filter(Pattern.compile(&quot;\\\\D+\\\\s\\\\D+\\\\s(\\\\d+\\\\.?\\\\d+)&quot;).asPredicate())\n        .collect(Collectors.toList())\n);\n</code></pre>\n<p>What I'm trying to do is - get the <code>(\\\\d+\\\\.?\\\\d+)</code> group from each found string, how can I do it?</p>\n<p>I was thinking about applying a <code>Matcher</code> to each element of the list, but I'm not sure about how to implement it.</p>\n"},{"tags":["java","spring","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1579186948,"post_id":59736745,"comment_id":105688524,"body_markdown":"Is that the whole trace?  Also, why not use `thymeleaf-extras-springsecurity5`?","body":"Is that the whole trace?  Also, why not use <code>thymeleaf-extras-springsecurity5</code>?"},{"owner":{"account_id":17154316,"reputation":3,"user_id":12415558,"display_name":"Katerina"},"score":0,"creation_date":1579191650,"post_id":59736745,"comment_id":105691305,"body_markdown":"@vphilipnyc No, there is not the whole trace, I&#39;ve updated the question with version 5","body":"@vphilipnyc No, there is not the whole trace, I&#39;ve updated the question with version 5"}],"answers":[{"tags":[],"owner":{"account_id":22831965,"reputation":46,"user_id":16980272,"display_name":"juan pablo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666954062,"creation_date":1666879993,"answer_id":74223541,"question_id":59736745,"body_markdown":"Try with this:\r\n\r\n```\r\n&lt;span sec:authorize=&quot;isAuthenticated()&quot; sec:authentication=&quot;principal.authorities&quot;&gt;\r\n```","title":"Spring Security and Thymeleaf with updated authentication","body":"<p>Try with this:</p>\n<pre><code>&lt;span sec:authorize=&quot;isAuthenticated()&quot; sec:authentication=&quot;principal.authorities&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":17154316,"reputation":3,"user_id":12415558,"display_name":"Katerina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74223541,"answer_count":1,"score":0,"last_activity_date":1666954062,"creation_date":1579015144,"question_id":59736745,"body_markdown":"During one session I change user role with:\r\n```\r\nAuthentication newAuth = new  UsernamePasswordAuthenticationToken(newUser.geteMail(), newUser.getPassword(), AuthorityUtils.createAuthorityList(newUser.getUserRole().name()));\r\n        SecurityContextHolder.getContext().setAuthentication(newAuth);\r\n        RequestContextHolder.currentRequestAttributes().setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, newAuth, RequestAttributes.SCOPE_SESSION);\r\n``` \r\nIt changes in java code.\r\nI&#39;m trying to recieve user role in html using `&lt;span sec:authentication=&quot;principal.authorities&quot;&gt;&lt;/span&gt;` , but get the following error after the code above:\r\n```\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateProcessingException: Error retrieving value for property &quot;principal.authorities&quot; of authentication object of class org.springframework.security.authentication.UsernamePasswordAuthenticationToken (index:115)\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\torg.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\torg.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\torg.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n```\r\nI use Spring MVC 5 and thymeleaf-extras-springsecurity4. Without changing role during the session tags of extras work. How can the authentication be updated also in html?\r\nEdit\r\n-----------------\r\nI&#39;ve tried to use thymeleaf-extras-springsecurity5 and got an alert with &#39;Bad credentials&#39; when the page reloads after authentication update. In trace there are no errors now, but it shows the previous role. Also updated my code like this:\r\n```\r\nUsernamePasswordAuthenticationToken newAuth = new  UsernamePasswordAuthenticationToken(newUser.geteMail(), newUser.getPassword(), AuthorityUtils.createAuthorityList(newUser.getUserRole().name()));\r\nAuthentication auth = authenticationManager.authenticate(newAuth);\r\n        \r\nSecurityContext sc = SecurityContextHolder.getContext();\r\nsc.setAuthentication(auth);\r\nHttpSession session = req.getSession(true);\r\nsession.setAttribute(SPRING_SECURITY_CONTEXT_KEY, sc);\r\n```","title":"Spring Security and Thymeleaf with updated authentication","body":"<p>During one session I change user role with:</p>\n\n<pre><code>Authentication newAuth = new  UsernamePasswordAuthenticationToken(newUser.geteMail(), newUser.getPassword(), AuthorityUtils.createAuthorityList(newUser.getUserRole().name()));\n        SecurityContextHolder.getContext().setAuthentication(newAuth);\n        RequestContextHolder.currentRequestAttributes().setAttribute(\"SPRING_SECURITY_CONTEXT\", newAuth, RequestAttributes.SCOPE_SESSION);\n</code></pre>\n\n<p>It changes in java code.\nI'm trying to recieve user role in html using <code>&lt;span sec:authentication=\"principal.authorities\"&gt;&lt;/span&gt;</code> , but get the following error after the code above:</p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateProcessingException: Error retrieving value for property \"principal.authorities\" of authentication object of class org.springframework.security.authentication.UsernamePasswordAuthenticationToken (index:115)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n</code></pre>\n\n<p>I use Spring MVC 5 and thymeleaf-extras-springsecurity4. Without changing role during the session tags of extras work. How can the authentication be updated also in html?</p>\n\n<h2>Edit</h2>\n\n<p>I've tried to use thymeleaf-extras-springsecurity5 and got an alert with 'Bad credentials' when the page reloads after authentication update. In trace there are no errors now, but it shows the previous role. Also updated my code like this:</p>\n\n<pre><code>UsernamePasswordAuthenticationToken newAuth = new  UsernamePasswordAuthenticationToken(newUser.geteMail(), newUser.getPassword(), AuthorityUtils.createAuthorityList(newUser.getUserRole().name()));\nAuthentication auth = authenticationManager.authenticate(newAuth);\n\nSecurityContext sc = SecurityContextHolder.getContext();\nsc.setAuthentication(auth);\nHttpSession session = req.getSession(true);\nsession.setAttribute(SPRING_SECURITY_CONTEXT_KEY, sc);\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1666652206,"post_id":74187538,"comment_id":130983829,"body_markdown":"Saving passwords in clear text is very dangerous as Nd mu&#223; b es avoided","body":"Saving passwords in clear text is very dangerous as Nd mu&#223; b es avoided"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666652708,"post_id":74187538,"comment_id":130983932,"body_markdown":"*String user = userTxtF.getText(); String pass = passwordTxtF.getText();* Those local variables are not present in the method bodies you have posted. IOW that can&#39;t be the real code","body":"<i>String user = userTxtF.getText(); String pass = passwordTxtF.getText();</i> Those local variables are not present in the method bodies you have posted. IOW that can&#39;t be the real code"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1666653967,"post_id":74187538,"comment_id":130984155,"body_markdown":"Have you tried the query in some MySQL client? What&#39;s the result?","body":"Have you tried the query in some MySQL client? What&#39;s the result?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666654105,"post_id":74187538,"comment_id":130984186,"body_markdown":"Do you have instance variables named &#39;user&#39; and &#39;pass&#39; as well as those local ones? If so, those local variables I referred to earlier will prevent them being assigned to, with the result that they might well be empty when you try to use them in that query","body":"Do you have instance variables named &#39;user&#39; and &#39;pass&#39; as well as those local ones? If so, those local variables I referred to earlier will prevent them being assigned to, with the result that they might well be empty when you try to use them in that query"},{"owner":{"account_id":26721652,"reputation":13,"user_id":20325375,"display_name":"Dox"},"score":0,"creation_date":1666660170,"post_id":74187538,"comment_id":130985063,"body_markdown":"@g00se you&#39;re right it wasn&#39;t in the main method in the application as well. I didn&#39;t know it would matter since there was no error message. I learnt something new. Once I moved it into the method it worked perfectly.Thank you!","body":"@g00se you&#39;re right it wasn&#39;t in the main method in the application as well. I didn&#39;t know it would matter since there was no error message. I learnt something new. Once I moved it into the method it worked perfectly.Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":26721652,"reputation":13,"user_id":20325375,"display_name":"Dox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666953909,"creation_date":1666660464,"answer_id":74188235,"question_id":74187538,"body_markdown":"The issue was that the declaration of user and pass were outside of the method/code for the button. I would never have thought that the solution to this would be so simple. Thanks to [g00se](https://stackoverflow.com/users/16376827/g00se) for pointing that out in the comments:\r\n\r\n&gt; *String user = userTxtF.getText(); String pass = passwordTxtF.getText();* Those local variables are not present in the method bodies you have posted. IOW that can&#39;t be the real code – [g00se](https://stackoverflow.com/users/16376827/g00se) [Oct 24 at 23:05](https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130983932_74187538)\r\n\r\n&gt; Do you have instance variables named &#39;user&#39; and &#39;pass&#39; as well as those local ones? If so, those local variables I referred to earlier will prevent them being assigned to, with the result that they might well be empty when you try to use them in that query – [g00se](https://stackoverflow.com/users/16376827/g00se) [Oct 24 at 23:28](https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130984186_74187538)\r\n\r\n&gt; @g00se you&#39;re right it wasn&#39;t in the main method in the application as well. I didn&#39;t know it would matter since there was no error message. I learnt something new. Once I moved it into the method it worked perfectly.Thank you! – [Dox](https://stackoverflow.com/users/20325375/dox) [Oct 25 at 1:09](https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130985063_74187538)","title":"Java(Ant) application connected to MySql database table but not reading values","body":"<p>The issue was that the declaration of user and pass were outside of the method/code for the button. I would never have thought that the solution to this would be so simple. Thanks to <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a> for pointing that out in the comments:</p>\n<blockquote>\n<p><em>String user = userTxtF.getText(); String pass = passwordTxtF.getText();</em> Those local variables are not present in the method bodies you have posted. IOW that can't be the real code – <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a> <a href=\"https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130983932_74187538\">Oct 24 at 23:05</a></p>\n</blockquote>\n<blockquote>\n<p>Do you have instance variables named 'user' and 'pass' as well as those local ones? If so, those local variables I referred to earlier will prevent them being assigned to, with the result that they might well be empty when you try to use them in that query – <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a> <a href=\"https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130984186_74187538\">Oct 24 at 23:28</a></p>\n</blockquote>\n<blockquote>\n<p>@g00se you're right it wasn't in the main method in the application as well. I didn't know it would matter since there was no error message. I learnt something new. Once I moved it into the method it worked perfectly.Thank you! – <a href=\"https://stackoverflow.com/users/20325375/dox\">Dox</a> <a href=\"https://stackoverflow.com/questions/74187538/javaant-application-connected-to-mysql-database-table-but-not-reading-values/74188235#comment130985063_74187538\">Oct 25 at 1:09</a></p>\n</blockquote>\n"}],"owner":{"account_id":26721652,"reputation":13,"user_id":20325375,"display_name":"Dox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666953909,"creation_date":1666651603,"question_id":74187538,"body_markdown":"Attached is the button with the code for the connection inside it(For privacy reasons I&#39;m removing the password from the code.). I know(through trial and error) that the button works with no issues, the application is successfully connected to the database table and that that everything that&#39;s supposed to be case sensitive is typed correctly. I also tried a different MySql connector(java.8.0.30.jar). I will attach a snip of the [database][1] . Both username and password are type varchar if that makes a difference(I&#39;ve tried changing them to type text). Both values are &quot;Dox&quot; on the database. The only logical reason I can think of is that there&#39;s something wrong with the query I&#39;m using but I&#39;ve tried many different ones and non work. The output is the else statement . There are no error messages in the compiler. I&#39;m using MySql as my database and NetBeans 15 as my IDE. Sorry if this is too much information...still relatively new here\r\n\r\n```\r\nloginButtonF.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        try {\r\n\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/rgi_student&quot;, &quot;root&quot;, &quot;&quot;);\r\n            PreparedStatement pst = null;\r\n\r\n            ResultSet rs = null;\r\n\r\n            String sqlquery = &quot;SELECT * FROM richfield.members Where username = ? AND password = ?&quot;;\r\n            pst = con.prepareStatement(sqlquery);\r\n            pst.setString(1, user);\r\n            pst.setString(2, pass);\r\n            rs = pst.executeQuery();\r\n\r\n            if (rs.next()) {\r\n                JOptionPane.showMessageDialog(null, &quot;Welcome&quot; + &quot; &quot; + user);\r\n            }\r\n\r\n            else {\r\n                JOptionPane.showMessageDialog(null, &quot;Incorrect Password or Username&quot;);\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            System.out.println(ex);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nDeclaration of user and pass\r\n\r\n```\r\nString user = userTxtF.getText(); \r\nString pass = passwordTxtF.getText();\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XhDjq.png","title":"Java(Ant) application connected to MySql database table but not reading values","body":"<p>Attached is the button with the code for the connection inside it(For privacy reasons I'm removing the password from the code.). I know(through trial and error) that the button works with no issues, the application is successfully connected to the database table and that that everything that's supposed to be case sensitive is typed correctly. I also tried a different MySql connector(java.8.0.30.jar). I will attach a snip of the <a href=\"https://i.stack.imgur.com/XhDjq.png\" rel=\"nofollow noreferrer\">database</a> . Both username and password are type varchar if that makes a difference(I've tried changing them to type text). Both values are &quot;Dox&quot; on the database. The only logical reason I can think of is that there's something wrong with the query I'm using but I've tried many different ones and non work. The output is the else statement . There are no error messages in the compiler. I'm using MySql as my database and NetBeans 15 as my IDE. Sorry if this is too much information...still relatively new here</p>\n<pre><code>loginButtonF.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        try {\n\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/rgi_student&quot;, &quot;root&quot;, &quot;&quot;);\n            PreparedStatement pst = null;\n\n            ResultSet rs = null;\n\n            String sqlquery = &quot;SELECT * FROM richfield.members Where username = ? AND password = ?&quot;;\n            pst = con.prepareStatement(sqlquery);\n            pst.setString(1, user);\n            pst.setString(2, pass);\n            rs = pst.executeQuery();\n\n            if (rs.next()) {\n                JOptionPane.showMessageDialog(null, &quot;Welcome&quot; + &quot; &quot; + user);\n            }\n\n            else {\n                JOptionPane.showMessageDialog(null, &quot;Incorrect Password or Username&quot;);\n            }\n\n        } catch (Exception ex) {\n            System.out.println(ex);\n        }\n    }\n});\n</code></pre>\n<p>Declaration of user and pass</p>\n<pre><code>String user = userTxtF.getText(); \nString pass = passwordTxtF.getText();\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666950691,"post_id":74233572,"comment_id":131060858,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666950876,"post_id":74233572,"comment_id":131060922,"body_markdown":"@Stultuske Not Precisely. Can you help me where can i can make changes in code to get rid of the error. Can you also add a point why the user is still null even after i added a line userID=mAuth.getCurrentUser().getUid();","body":"@Stultuske Not Precisely. Can you help me where can i can make changes in code to get rid of the error. Can you also add a point why the user is still null even after i added a line userID=mAuth.getCurrentUser().getUid();"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666952600,"post_id":74233572,"comment_id":131061524,"body_markdown":"At which particular line of code are you getting that error?","body":"At which particular line of code are you getting that error?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666953845,"post_id":74233572,"comment_id":131061863,"body_markdown":"@AlexMamo I am even unable to find that .But if i remove this line from On start method _mAuth.addAuthStateListener(mAuthListener);_  it works well. But without that line i cannot add my data into realtime database;","body":"@AlexMamo I am even unable to find that .But if i remove this line from On start method <i>mAuth.addAuthStateListener(mAuthListener);</i>  it works well. But without that line i cannot add my data into realtime database;"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666954507,"post_id":74233572,"comment_id":131062043,"body_markdown":"Does Lalit Fauzdar&#39;s answer solve the problem?","body":"Does Lalit Fauzdar&#39;s answer solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666953726,"creation_date":1666953726,"answer_id":74234206,"question_id":74233572,"body_markdown":"Your code&#39;s flow is wrong. You&#39;re adding AuthListener in `onStart()` as `mAuth.addAuthStateListener(mAuthListener);` but you&#39;re initializing this `mAuthListener` later in the `doRegiter()`, which means while adding it in `onStart()`, it&#39;s not initialized and null which gives the error `Null Pointer Exception`.\r\n\r\nFor the solution, you should call the function `setUpFirebaseAuth` in `onStart` before adding it to the `mAuth` as:\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        setupFirebaseAuth();\r\n        mAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n","title":"My app is getting a null pointer exception immediately after i enter into the register activity, I am unable to figure out the reason","body":"<p>Your code's flow is wrong. You're adding AuthListener in <code>onStart()</code> as <code>mAuth.addAuthStateListener(mAuthListener);</code> but you're initializing this <code>mAuthListener</code> later in the <code>doRegiter()</code>, which means while adding it in <code>onStart()</code>, it's not initialized and null which gives the error <code>Null Pointer Exception</code>.</p>\n<p>For the solution, you should call the function <code>setUpFirebaseAuth</code> in <code>onStart</code> before adding it to the <code>mAuth</code> as:</p>\n<pre><code>@Override\npublic void onStart() {\n    super.onStart();\n    setupFirebaseAuth();\n    mAuth.addAuthStateListener(mAuthListener);\n}\n</code></pre>\n"}],"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74234206,"answer_count":1,"score":0,"last_activity_date":1666953726,"creation_date":1666950628,"question_id":74233572,"body_markdown":"**Problem**\r\nThis is the code for register activity and i want to make user register and also add user name and user id details in realtimedatabase. But app gets crashed after opening register activity\r\n\r\n**Error**\r\n\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                 Process: com.example.movies4u, PID: 18933\r\n                 java.lang.NullPointerException: Attempt to invoke interface method &#39;void com.google.firebase.auth.FirebaseAuth$AuthStateListener.onAuthStateChanged(com.google.firebase.auth.FirebaseAuth)&#39; on a null object reference\r\n                 \tat com.google.firebase.auth.zzl.run(com.google.firebase:firebase-auth@@21.0.3:1)\r\n                 \tat android.os.Handler.handleCallback(Handler.java:873)\r\n                 \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                 \tat android.os.Looper.loop(Looper.java:224)\r\n                 \tat android.app.ActivityThread.main(ActivityThread.java:7081)\r\n                 \tat java.lang.reflect.Method.invoke(Native Method)\r\n                 \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                 \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\r\n```\r\n\r\n**Java**\r\n\r\n\r\n```\r\npackage com.example.movies4u;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.movies4u.Utils.FirebaseMethods;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseAuthUserCollisionException;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class activity_register extends AppCompatActivity {\r\n    TextView HaveAccount;\r\n    EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\r\n    String username,email,password;\r\n    Button btnRegister;\r\n    FirebaseAuth mAuth;\r\n    ProgressBar pb;\r\n    private String userID;\r\n    private FirebaseAuth.AuthStateListener mAuthListener;\r\n    private FirebaseMethods firebaseMethods;\r\n    private FirebaseDatabase mFirebaseDatabase;\r\n    private DatabaseReference myRef;\r\n\r\n    private String append;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\r\n        setContentView(R.layout.activity_register);\r\n        firebaseMethods =new FirebaseMethods(activity_register.this);\r\n\r\n        HaveAccount= (TextView) findViewById(R.id.HaveAccount);\r\n        pb = findViewById(R.id.progressBar3);\r\n        inputUsername=findViewById(R.id.inputUsername);\r\n        inputEmail=findViewById(R.id.inputEmail);\r\n        inputPassword=findViewById(R.id.inputPassword);\r\n        inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\r\n        btnRegister=findViewById(R.id.btnRegister);\r\n        username=inputUsername.getText().toString();\r\n        email=inputEmail.getText().toString();\r\n        password=inputPassword.getText().toString();\r\n\r\n        pb.setVisibility(View.GONE);\r\n        HaveAccount.setOnClickListener(view -&gt; {\r\n            Intent loginintent=new Intent(activity_register.this,login_activity.class);\r\n            startActivity(loginintent);\r\n        });\r\n\r\n        mAuth=FirebaseAuth.getInstance();\r\n        btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\r\n    }\r\n\r\n    private void ValidateDataandDoRegister() {\r\n        String username=inputUsername.getText().toString().trim();\r\n        String email=inputEmail.getText().toString().trim();\r\n        String password=inputPassword.getText().toString().trim();\r\n        String confirmPassword=inputConfirmPassword.getText().toString().trim();\r\n        if(email.isEmpty()){\r\n            inputEmail.setError(&quot;Enter Email Address&quot;);\r\n            inputEmail.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(email.length()&lt;10){\r\n            inputEmail.setError(&quot;Enter valid Email&quot;);\r\n            inputEmail.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(password.isEmpty()){\r\n            inputPassword.setError(&quot;Enter the password&quot;);\r\n            inputPassword.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(password.length()&lt;8){\r\n            inputPassword.setError(&quot;Password should be greater than 8 characters&quot;);\r\n            inputPassword.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(confirmPassword.isEmpty()){\r\n            inputConfirmPassword.setError(&quot;Re-Enter the Password&quot;);\r\n            inputConfirmPassword.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(confirmPassword.length()&lt;8){\r\n            inputConfirmPassword.setError(&quot;Password should be greater than 8 characters&quot;);\r\n            inputConfirmPassword.requestFocus();\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else if(!password.equals(confirmPassword)){\r\n            inputPassword.setError(&quot;Password not matched&quot;);\r\n            inputPassword.requestFocus();\r\n            inputConfirmPassword.setError(&quot;Password not matched&quot;);\r\n            inputConfirmPassword.requestFocus();\r\n            inputPassword.setText(&quot;&quot;);\r\n            inputConfirmPassword.setText(&quot;&quot;);\r\n            pb.setVisibility(View.GONE);\r\n        }\r\n        else{\r\n            pb.setVisibility(View.VISIBLE);\r\n            doRegister(username,email,password);\r\n        }\r\n    }\r\n\r\n    private void doRegister(String username,String email, String password) {\r\n        pb.setVisibility(View.VISIBLE);\r\n        mAuth.createUserWithEmailAndPassword(email, password).addOnSuccessListener(task -&gt; {\r\n            if(task != null ){\r\n                if(mAuth.getCurrentUser() != null){\r\n                    userID=mAuth.getCurrentUser().getUid();\r\n                }\r\n\r\n//                firebaseMethods.registerNewEmail(username,email,password);\r\n                setupFirebaseAuth();\r\n                sendVerificationEmail();\r\n//                firebaseMethods.addNewUser(email, username);\r\n            }\r\n\r\n        }).addOnFailureListener(e -&gt; {\r\n            if(e instanceof FirebaseAuthUserCollisionException){\r\n                btnRegister.setEnabled(true);\r\n                inputEmail.setError(&quot;Email Already Registered&quot;);\r\n                pb.setVisibility(View.GONE);\r\n                inputEmail.requestFocus();\r\n            }\r\n            else{\r\n                btnRegister.setEnabled(true);\r\n                pb.setVisibility(View.GONE);\r\n                Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void sendVerificationEmail() {\r\n        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\r\n            if(task != null &amp;&amp; task.isSuccessful()){\r\n                btnRegister.setEnabled(true);\r\n                pb.setVisibility(View.GONE);\r\n                Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\r\n                //fixing the bug\r\n                mAuth.signOut();\r\n            }\r\n            else {\r\n                btnRegister.setEnabled(true);\r\n                pb.setVisibility(View.GONE);\r\n                Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /*\r\n    ------------------------------------ Firebase ---------------------------------------------\r\n     */\r\n\r\n    /**\r\n     * Setup the firebase auth object\r\n     */\r\n    private void setupFirebaseAuth(){\r\n        Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\r\n        myRef = mFirebaseDatabase.getReference();\r\n\r\n        //cannot get into this part of code\r\n        mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                FirebaseUser user=firebaseAuth.getCurrentUser();\r\n                if (user != null) {\r\n                    // User is signed in\r\n                    Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\r\n\r\n                    myRef.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            //1st check: Make sure the username is not already in use\r\n                            if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\r\n                                //to randomly generate key to make sure username is unique\r\n                                append = myRef.push().getKey().substring(3,10);\r\n                                Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\r\n                            }\r\n                            username = username + append;\r\n\r\n                            //add new user to the database\r\n//                            firebaseMethods.addNewUser(email, username);\r\n                            Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n                            Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                    finish();\r\n\r\n                } else {\r\n                    // User is signed out\r\n                    Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                    Log.d(TAG, &quot;onAuthStateChanged:signed _out&quot;);\r\n                }\r\n                // ...\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        mAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        if (mAuthListener != null) {\r\n            mAuth.removeAuthStateListener(mAuthListener);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI am expecting to store the user data in a realtime database. But i am getting a null pointer exception after i enter into the register activity. I guess it is because of the null user. But i should get a non-null user, because i am implementing that method after the user clicking on the register button and after the all the fields are verified .","title":"My app is getting a null pointer exception immediately after i enter into the register activity, I am unable to figure out the reason","body":"<p><strong>Problem</strong>\nThis is the code for register activity and i want to make user register and also add user name and user id details in realtimedatabase. But app gets crashed after opening register activity</p>\n<p><strong>Error</strong></p>\n<pre><code>FATAL EXCEPTION: main\n                 Process: com.example.movies4u, PID: 18933\n                 java.lang.NullPointerException: Attempt to invoke interface method 'void com.google.firebase.auth.FirebaseAuth$AuthStateListener.onAuthStateChanged(com.google.firebase.auth.FirebaseAuth)' on a null object reference\n                    at com.google.firebase.auth.zzl.run(com.google.firebase:firebase-auth@@21.0.3:1)\n                    at android.os.Handler.handleCallback(Handler.java:873)\n                    at android.os.Handler.dispatchMessage(Handler.java:99)\n                    at android.os.Looper.loop(Looper.java:224)\n                    at android.app.ActivityThread.main(ActivityThread.java:7081)\n                    at java.lang.reflect.Method.invoke(Native Method)\n                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\n                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>package com.example.movies4u;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.movies4u.Utils.FirebaseMethods;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseAuthUserCollisionException;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class activity_register extends AppCompatActivity {\n    TextView HaveAccount;\n    EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\n    String username,email,password;\n    Button btnRegister;\n    FirebaseAuth mAuth;\n    ProgressBar pb;\n    private String userID;\n    private FirebaseAuth.AuthStateListener mAuthListener;\n    private FirebaseMethods firebaseMethods;\n    private FirebaseDatabase mFirebaseDatabase;\n    private DatabaseReference myRef;\n\n    private String append;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\n        setContentView(R.layout.activity_register);\n        firebaseMethods =new FirebaseMethods(activity_register.this);\n\n        HaveAccount= (TextView) findViewById(R.id.HaveAccount);\n        pb = findViewById(R.id.progressBar3);\n        inputUsername=findViewById(R.id.inputUsername);\n        inputEmail=findViewById(R.id.inputEmail);\n        inputPassword=findViewById(R.id.inputPassword);\n        inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\n        btnRegister=findViewById(R.id.btnRegister);\n        username=inputUsername.getText().toString();\n        email=inputEmail.getText().toString();\n        password=inputPassword.getText().toString();\n\n        pb.setVisibility(View.GONE);\n        HaveAccount.setOnClickListener(view -&gt; {\n            Intent loginintent=new Intent(activity_register.this,login_activity.class);\n            startActivity(loginintent);\n        });\n\n        mAuth=FirebaseAuth.getInstance();\n        btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\n    }\n\n    private void ValidateDataandDoRegister() {\n        String username=inputUsername.getText().toString().trim();\n        String email=inputEmail.getText().toString().trim();\n        String password=inputPassword.getText().toString().trim();\n        String confirmPassword=inputConfirmPassword.getText().toString().trim();\n        if(email.isEmpty()){\n            inputEmail.setError(&quot;Enter Email Address&quot;);\n            inputEmail.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(email.length()&lt;10){\n            inputEmail.setError(&quot;Enter valid Email&quot;);\n            inputEmail.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(password.isEmpty()){\n            inputPassword.setError(&quot;Enter the password&quot;);\n            inputPassword.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(password.length()&lt;8){\n            inputPassword.setError(&quot;Password should be greater than 8 characters&quot;);\n            inputPassword.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(confirmPassword.isEmpty()){\n            inputConfirmPassword.setError(&quot;Re-Enter the Password&quot;);\n            inputConfirmPassword.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(confirmPassword.length()&lt;8){\n            inputConfirmPassword.setError(&quot;Password should be greater than 8 characters&quot;);\n            inputConfirmPassword.requestFocus();\n            pb.setVisibility(View.GONE);\n        }\n        else if(!password.equals(confirmPassword)){\n            inputPassword.setError(&quot;Password not matched&quot;);\n            inputPassword.requestFocus();\n            inputConfirmPassword.setError(&quot;Password not matched&quot;);\n            inputConfirmPassword.requestFocus();\n            inputPassword.setText(&quot;&quot;);\n            inputConfirmPassword.setText(&quot;&quot;);\n            pb.setVisibility(View.GONE);\n        }\n        else{\n            pb.setVisibility(View.VISIBLE);\n            doRegister(username,email,password);\n        }\n    }\n\n    private void doRegister(String username,String email, String password) {\n        pb.setVisibility(View.VISIBLE);\n        mAuth.createUserWithEmailAndPassword(email, password).addOnSuccessListener(task -&gt; {\n            if(task != null ){\n                if(mAuth.getCurrentUser() != null){\n                    userID=mAuth.getCurrentUser().getUid();\n                }\n\n//                firebaseMethods.registerNewEmail(username,email,password);\n                setupFirebaseAuth();\n                sendVerificationEmail();\n//                firebaseMethods.addNewUser(email, username);\n            }\n\n        }).addOnFailureListener(e -&gt; {\n            if(e instanceof FirebaseAuthUserCollisionException){\n                btnRegister.setEnabled(true);\n                inputEmail.setError(&quot;Email Already Registered&quot;);\n                pb.setVisibility(View.GONE);\n                inputEmail.requestFocus();\n            }\n            else{\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void sendVerificationEmail() {\n        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\n            if(task != null &amp;&amp; task.isSuccessful()){\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\n                //fixing the bug\n                mAuth.signOut();\n            }\n            else {\n                btnRegister.setEnabled(true);\n                pb.setVisibility(View.GONE);\n                Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n\n    /*\n    ------------------------------------ Firebase ---------------------------------------------\n     */\n\n    /**\n     * Setup the firebase auth object\n     */\n    private void setupFirebaseAuth(){\n        Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\n\n        mAuth = FirebaseAuth.getInstance();\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\n        myRef = mFirebaseDatabase.getReference();\n\n        //cannot get into this part of code\n        mAuthListener = new FirebaseAuth.AuthStateListener() {\n            @Override\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n                FirebaseUser user=firebaseAuth.getCurrentUser();\n                if (user != null) {\n                    // User is signed in\n                    Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\n\n                    myRef.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(DataSnapshot dataSnapshot) {\n                            //1st check: Make sure the username is not already in use\n                            if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\n                                //to randomly generate key to make sure username is unique\n                                append = myRef.push().getKey().substring(3,10);\n                                Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\n                            }\n                            username = username + append;\n\n                            //add new user to the database\n//                            firebaseMethods.addNewUser(email, username);\n                            Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onCancelled(DatabaseError databaseError) {\n                            Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                    finish();\n\n                } else {\n                    // User is signed out\n                    Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                    Log.d(TAG, &quot;onAuthStateChanged:signed _out&quot;);\n                }\n                // ...\n            }\n        };\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mAuth.addAuthStateListener(mAuthListener);\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        if (mAuthListener != null) {\n            mAuth.removeAuthStateListener(mAuthListener);\n        }\n    }\n\n}\n</code></pre>\n<p>I am expecting to store the user data in a realtime database. But i am getting a null pointer exception after i enter into the register activity. I guess it is because of the null user. But i should get a non-null user, because i am implementing that method after the user clicking on the register button and after the all the fields are verified .</p>\n"},{"tags":["java","spring","spring-boot","java-melody"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666943201,"post_id":74231685,"comment_id":131058430,"body_markdown":"You are using incompatible versions of libraries or are mixing versions of jars from a asingle framework. Judging from the error it is probably an incompatible Spring Boot version for the version of the Java Melody auto-configuration.","body":"You are using incompatible versions of libraries or are mixing versions of jars from a asingle framework. Judging from the error it is probably an incompatible Spring Boot version for the version of the Java Melody auto-configuration."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1666950242,"post_id":74231685,"comment_id":131060689,"body_markdown":"Please share your pom.xml","body":"Please share your pom.xml"},{"owner":{"account_id":26757312,"reputation":1,"user_id":20355742,"display_name":"ArulmuliVarman"},"score":0,"creation_date":1666951997,"post_id":74231685,"comment_id":131061334,"body_markdown":"Hi @Flakiewicz , Please find my pom.xml. I checked all the versions.","body":"Hi @Flakiewicz , Please find my pom.xml. I checked all the versions."}],"owner":{"account_id":26757312,"reputation":1,"user_id":20355742,"display_name":"ArulmuliVarman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666953044,"creation_date":1666940481,"question_id":74231685,"body_markdown":"I took the code from github branch of spring boot application and updated the maven project but am facing the below error and application gets terminated.\r\n\r\n```\r\njava.lang.IllegalStateException: Could not evaluate condition on net.bull.javamelody.JavaMelodyAutoConfiguration#defaultAdvisorAutoProxyCreator due to org/springframework/boot/autoconfigure/quartz/SchedulerFactoryBeanCustomizer not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:55) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:102) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:178) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:333) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:98) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:678) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:520) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat war.App.main(App.java:19) ~[classes/:na]\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/autoconfigure/quartz/SchedulerFactoryBeanCustomizer\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:609) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:521) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:507) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:567) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:683) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:627) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1445) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:975) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:289) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.addBeanType(BeanTypeRegistry.java:278) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:259) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:171) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:139) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:113) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.quartz.SchedulerFactoryBeanCustomizer\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 37 common frames omitted\r\n```\r\n\r\n\r\nI tried changing javamelody versions in pom.xml too.\r\n\r\nMy Pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                                http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;mdts&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mdts&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;OKSMTV2&lt;/name&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n        &lt;properties&gt;\r\n            &lt;context.path&gt;spring-mvc&lt;/context.path&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jrs-client-releases&lt;/id&gt;\r\n                &lt;name&gt;JasperReports Server CE releases repository&lt;/name&gt;\r\n                &lt;url&gt;http://jaspersoft.artifactoryonline.com/jaspersoft/jaspersoft-clients-releases/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jrs-ce-releases&lt;/id&gt;\r\n                &lt;name&gt;JasperReports Server CE releases repository&lt;/name&gt;\r\n                &lt;url&gt;https://jaspersoft.artifactoryonline.com/jaspersoft/jrs-ce-releases/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.ibatis/ibatis-sqlmap --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.ibatis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ibatis-sqlmap&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;19.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-ImportXHTML --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n                &lt;version&gt;8.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Flying Saucer dependencies to be added to the project pom.xml --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.7&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;bouncycastle&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flying-saucer-core&lt;/artifactId&gt;\r\n                &lt;version&gt;9.1.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\r\n                &lt;version&gt;9.1.16&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Flying Saucer dependencies END --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- jUNIT dependencies Start --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- mp3 files dependencies start --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mp3spi&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.5-1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vorbisspi&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.3-1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.mpatric/mp3agic --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mpatric&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mp3agic&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- mp3 files dependencies end --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n                &lt;version&gt;5.5.13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itext-rtf&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path-assert --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.skyscreamer/jsonassert --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-ldap --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/commons-net/commons-net --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- jUNIT dependencies End--&gt;\r\n            &lt;!-- Swagger2 dependencies End--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;20.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Swagger2 dependencies End--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.87.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- AspectJ dependencies Start--&gt;\r\n            &lt;!--changed &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;  --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- AspectJ dependencies End--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\nThis the pom.xml being used for the application. Tried changing spring boot starter version and also the javamelody version.","title":"java.lang.IllegalStateException: Could not evaluate condition on net.bull.javamelody.JavaMelodyAutoConfiguration#","body":"<p>I took the code from github branch of spring boot application and updated the maven project but am facing the below error and application gets terminated.</p>\n<pre><code>java.lang.IllegalStateException: Could not evaluate condition on net.bull.javamelody.JavaMelodyAutoConfiguration#defaultAdvisorAutoProxyCreator due to org/springframework/boot/autoconfigure/quartz/SchedulerFactoryBeanCustomizer not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:55) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:102) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:178) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:333) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:98) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:678) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:520) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at war.App.main(App.java:19) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/autoconfigure/quartz/SchedulerFactoryBeanCustomizer\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:609) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:521) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:507) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:567) ~[spring-core-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:683) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:627) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1445) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:975) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:289) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.addBeanType(BeanTypeRegistry.java:278) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry$OptimizedBeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:259) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:171) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:139) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:113) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    ... 17 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.quartz.SchedulerFactoryBeanCustomizer\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 37 common frames omitted\n</code></pre>\n<p>I tried changing javamelody versions in pom.xml too.</p>\n<p>My Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n                            http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;mdts&lt;/groupId&gt;\n    &lt;artifactId&gt;mdts&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;OKSMTV2&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;context.path&gt;spring-mvc&lt;/context.path&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jrs-client-releases&lt;/id&gt;\n            &lt;name&gt;JasperReports Server CE releases repository&lt;/name&gt;\n            &lt;url&gt;http://jaspersoft.artifactoryonline.com/jaspersoft/jaspersoft-clients-releases/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jrs-ce-releases&lt;/id&gt;\n            &lt;name&gt;JasperReports Server CE releases repository&lt;/name&gt;\n            &lt;url&gt;https://jaspersoft.artifactoryonline.com/jaspersoft/jrs-ce-releases/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.ibatis/ibatis-sqlmap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ibatis&lt;/groupId&gt;\n            &lt;artifactId&gt;ibatis-sqlmap&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-ImportXHTML --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n            &lt;version&gt;8.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Flying Saucer dependencies to be added to the project pom.xml --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n            &lt;artifactId&gt;flying-saucer-core&lt;/artifactId&gt;\n            &lt;version&gt;9.1.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n            &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\n            &lt;version&gt;9.1.16&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Flying Saucer dependencies END --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jUNIT dependencies Start --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- mp3 files dependencies start --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\n            &lt;artifactId&gt;mp3spi&lt;/artifactId&gt;\n            &lt;version&gt;1.9.5-1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\n            &lt;artifactId&gt;vorbisspi&lt;/artifactId&gt;\n            &lt;version&gt;1.0.3-1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.mpatric/mp3agic --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mpatric&lt;/groupId&gt;\n            &lt;artifactId&gt;mp3agic&lt;/artifactId&gt;\n            &lt;version&gt;0.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- mp3 files dependencies end --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext-rtf&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path-assert --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.skyscreamer/jsonassert --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-ldap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-net/commons-net --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jUNIT dependencies End--&gt;\n        &lt;!-- Swagger2 dependencies End--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Swagger2 dependencies End--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\n            &lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.87.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- AspectJ dependencies Start--&gt;\n        &lt;!--changed &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- AspectJ dependencies End--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This the pom.xml being used for the application. Tried changing spring boot starter version and also the javamelody version.</p>\n"},{"tags":["java","linux","windows","bash","command"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666953422,"post_id":74234013,"comment_id":131061748,"body_markdown":"You generally *don&#39;t* need to quote stuff if you&#39;re using `ProcessBuilder` properly. `echo` is a shell built-in, so you need to invoke the shell interpreter on each system explicitly. That will probably be `bash` on Linux and `cmd` on Windows","body":"You generally <i>don&#39;t</i> need to quote stuff if you&#39;re using <code>ProcessBuilder</code> properly. <code>echo</code> is a shell built-in, so you need to invoke the shell interpreter on each system explicitly. That will probably be <code>bash</code> on Linux and <code>cmd</code> on Windows"},{"owner":{"account_id":7019272,"reputation":89,"user_id":5379390,"accept_rate":14,"display_name":"vinx"},"score":0,"creation_date":1666961626,"post_id":74234013,"comment_id":131064375,"body_markdown":"Thanks for comment. So if invoke cmd instead a GitBash it will be fine?\nIn this case is the echo command but","body":"Thanks for comment. So if invoke cmd instead a GitBash it will be fine? In this case is the echo command but"},{"owner":{"account_id":7019272,"reputation":89,"user_id":5379390,"accept_rate":14,"display_name":"vinx"},"score":0,"creation_date":1666961999,"post_id":74234013,"comment_id":131064493,"body_markdown":"I run it with &quot;C:/Program Files/Git/git-bash.exe&quot; under Windows, do I need to use cmd.exe instead?","body":"I run it with &quot;C:/Program Files/Git/git-bash.exe&quot; under Windows, do I need to use cmd.exe instead?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666972950,"post_id":74234013,"comment_id":131068412,"body_markdown":"Actually, in Linux, `echo` is also an executable. But nonetheless, it might be better to treat it as the built-in one instead, then you have &#39;symmetry&#39; between the two OSs. You also have a redirect, which is most definitely a shell interpreter thing. I don&#39;t know git-bash.exe but I would guess it would behave like bash w.r.t. echo. Make sure you inherit IO in `ProcessBuilder` so you see it print to stdout","body":"Actually, in Linux, <code>echo</code> is also an executable. But nonetheless, it might be better to treat it as the built-in one instead, then you have &#39;symmetry&#39; between the two OSs. You also have a redirect, which is most definitely a shell interpreter thing. I don&#39;t know git-bash.exe but I would guess it would behave like bash w.r.t. echo. Make sure you inherit IO in <code>ProcessBuilder</code> so you see it print to stdout"}],"owner":{"account_id":7019272,"reputation":89,"user_id":5379390,"accept_rate":14,"display_name":"vinx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666952792,"creation_date":1666952792,"question_id":74234013,"body_markdown":"I am trying to run some Unix commands by using Java on both Windows GitBash and Linux bash (AWS EC2 instance).\r\n\r\nCode is here [Open git bash using ProcessBuilder and execute command in it][1]\r\n\r\nHowever, the same code works perfectly fine on Linux and fails under Windows GithBash.\r\n\r\nThis is the command passed to the ProcessBuilder which give trouble\r\n\r\n       String Message = &quot;Something+here:HH::1234&#39;Description One+Possible spaces&#39;Something else::here&#39;AnotherDescription&#39;Another One:12345&#39;Description&#39;&quot;;\r\n\r\n       String cmd1 = &quot;echo \\&quot;&quot; + Message + &quot;\\&quot; &gt; &quot; + destinationPath;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53189986/open-git-bash-using-processbuilder-and-execute-command-in-it\r\n\r\nI need to include the quotes and spaces in the Message.\r\n\r\nWhat could be the reason of this difference?\r\n\r\nIn Windows GitBash I get the message partially prompted. Don&#39;t get past the first space. File is not created, quote is not displayed:\r\n\r\n     \r\n    &gt; Trying to execute command echo &quot;Something+here:HH::1234Description One+Possible spaces Something else::hereAnotherDescription Another One:12345Description&quot; &gt; destinationPath\r\n    &gt; Something+here:HH::1234Description\r\n \r\nsingle quotes are not showed.\r\n\r\nWhile in Linux the all Message is prompted and file is created:\r\n\r\n    &gt; Trying to execute echo &quot;Something+here:HH::1234&#39;Description One+Possible spaces&#39;Something else::here&#39;AnotherDescription&#39;Another One:12345&#39;Description&#39;&quot; &gt; destinationPath\r\n\r\nsingle quotes are showed and file is created.\r\n\r\nWhat can be the reason of this?\r\n","title":"Different behavior on Running Unix Commands from Java on GitBash Windows and Linux","body":"<p>I am trying to run some Unix commands by using Java on both Windows GitBash and Linux bash (AWS EC2 instance).</p>\n<p>Code is here <a href=\"https://stackoverflow.com/questions/53189986/open-git-bash-using-processbuilder-and-execute-command-in-it\">Open git bash using ProcessBuilder and execute command in it</a></p>\n<p>However, the same code works perfectly fine on Linux and fails under Windows GithBash.</p>\n<p>This is the command passed to the ProcessBuilder which give trouble</p>\n<pre><code>   String Message = &quot;Something+here:HH::1234'Description One+Possible spaces'Something else::here'AnotherDescription'Another One:12345'Description'&quot;;\n\n   String cmd1 = &quot;echo \\&quot;&quot; + Message + &quot;\\&quot; &gt; &quot; + destinationPath;\n</code></pre>\n<p>I need to include the quotes and spaces in the Message.</p>\n<p>What could be the reason of this difference?</p>\n<p>In Windows GitBash I get the message partially prompted. Don't get past the first space. File is not created, quote is not displayed:</p>\n<pre><code>&gt; Trying to execute command echo &quot;Something+here:HH::1234Description One+Possible spaces Something else::hereAnotherDescription Another One:12345Description&quot; &gt; destinationPath\n&gt; Something+here:HH::1234Description\n</code></pre>\n<p>single quotes are not showed.</p>\n<p>While in Linux the all Message is prompted and file is created:</p>\n<pre><code>&gt; Trying to execute echo &quot;Something+here:HH::1234'Description One+Possible spaces'Something else::here'AnotherDescription'Another One:12345'Description'&quot; &gt; destinationPath\n</code></pre>\n<p>single quotes are showed and file is created.</p>\n<p>What can be the reason of this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":2,"creation_date":1606949046,"post_id":65117135,"comment_id":115122179,"body_markdown":"with the second code, everyone will know what is happening. the first will probably cause some head scratches as to what logging has to do with MethodHandles.","body":"with the second code, everyone will know what is happening. the first will probably cause some head scratches as to what logging has to do with MethodHandles."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1606949157,"post_id":65117135,"comment_id":115122214,"body_markdown":"@Clashsoft I think it&#39;ll be alright if you see the same thing all over the codebase.","body":"@Clashsoft I think it&#39;ll be alright if you see the same thing all over the codebase."},{"owner":{"account_id":340621,"reputation":1221,"user_id":1723838,"display_name":"Vishal Akkalkote"},"score":0,"creation_date":1633704701,"post_id":65117135,"comment_id":122838665,"body_markdown":"From the performance, perspective is really doesn&#39;t matter much. The first one is something not followed mostly and makes few devs wonder what&#39;s happening. The second one is most of the dev comfortable with and more readable.","body":"From the performance, perspective is really doesn&#39;t matter much. The first one is something not followed mostly and makes few devs wonder what&#39;s happening. The second one is most of the dev comfortable with and more readable."},{"owner":{"account_id":3955758,"reputation":2928,"user_id":3264295,"display_name":"mukunda"},"score":0,"creation_date":1677532220,"post_id":65117135,"comment_id":133353050,"body_markdown":"@Clashsoft yeah that&#39;s why I&#39;m here :)","body":"@Clashsoft yeah that&#39;s why I&#39;m here :)"}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1606948791,"creation_date":1606948791,"answer_id":65117229,"question_id":65117135,"body_markdown":"Using `MethodHandles.lookup().lookupClass()` avoids embedding the class name, which will often be wrong when the line is copyed and pasted. ","title":"Passing MethodHandles.lookup().lookupClass() vs passing Class&lt;?&gt; to getLogger method","body":"<p>Using <code>MethodHandles.lookup().lookupClass()</code> avoids embedding the class name, which will often be wrong when the line is copyed and pasted.</p>\n"}],"owner":{"account_id":1299431,"reputation":6587,"user_id":1249664,"accept_rate":85,"display_name":"auser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2307,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65117229,"answer_count":1,"score":6,"last_activity_date":1666952547,"creation_date":1606948325,"question_id":65117135,"body_markdown":"I recently came across a logger declared as below:\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\r\n\r\nIs there an advantage to declaring the logger in this manner as opposed to declaring it &#39;normally&#39; like this:\r\n\r\n    `private static final Logger logger = LoggerFactory.getLogger(MyClass.class`);\r\n","title":"Passing MethodHandles.lookup().lookupClass() vs passing Class&lt;?&gt; to getLogger method","body":"<p>I recently came across a logger declared as below:</p>\n<pre><code>private static final Logger logger = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\n</code></pre>\n<p>Is there an advantage to declaring the logger in this manner as opposed to declaring it 'normally' like this:</p>\n<pre><code>`private static final Logger logger = LoggerFactory.getLogger(MyClass.class`);\n</code></pre>\n"},{"tags":["java","spring-boot","group-by","hashmap","sum"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1666952399,"post_id":74233855,"comment_id":131061473,"body_markdown":"Can you, please, specify what&#39;s wrong with the code you&#39;ve posted? And it&#39;s also unclear how the image you&#39;ve posted is related to the question, consider **replacing** it with an informative description. Also, see [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Can you, please, specify what&#39;s wrong with the code you&#39;ve posted? And it&#39;s also unclear how the image you&#39;ve posted is related to the question, consider <b>replacing</b> it with an informative description. Also, see <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1666952650,"post_id":74233855,"comment_id":131061538,"body_markdown":"I&#39;m afraid I don&#39;t understand what the code is trying to accomplish. You have a set of `Don`s that you iterate to create a `PartnNatureDon`, but you overwrite the `assistance` with the last one you encounter. You seem to not be setting `natureDon` at all, and I don&#39;t know how you would without overwriting again. Now you&#39;re asking how to add up some contained amounts, but with the relations between the three types this unclear, I won&#39;t even make a guess.","body":"I&#39;m afraid I don&#39;t understand what the code is trying to accomplish. You have a set of <code>Don</code>s that you iterate to create a <code>PartnNatureDon</code>, but you overwrite the <code>assistance</code> with the last one you encounter. You seem to not be setting <code>natureDon</code> at all, and I don&#39;t know how you would without overwriting again. Now you&#39;re asking how to add up some contained amounts, but with the relations between the three types this unclear, I won&#39;t even make a guess."}],"answers":[{"tags":[],"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666952533,"creation_date":1666952533,"answer_id":74233958,"question_id":74233855,"body_markdown":"\r\n\r\n    natureDonList.forEach (natureDon1 -&gt; {\r\n\tif(montant.containtsKey(natureDon1.getLibelle())){\r\n\t   montant.put(natureDon1.getLibelle(), montant.get(natureDon1.getLibelle())+Double.valueOf(don.getMontantNatureDon().get(natureDon1.getLibelle())));\r\n\t}else{\r\n\t montant.putIfAbsent(natureDon1.getLibelle(), Double.valueOf(don.getMontantNatureDon().get(natureDon1.getLibelle())));\r\n\t}\r\n\r\n                });","title":"How to group the elements of a HashMap by key and sum the values?","body":"<pre><code>natureDonList.forEach (natureDon1 -&gt; {\nif(montant.containtsKey(natureDon1.getLibelle())){\n   montant.put(natureDon1.getLibelle(), montant.get(natureDon1.getLibelle())+Double.valueOf(don.getMontantNatureDon().get(natureDon1.getLibelle())));\n}else{\n montant.putIfAbsent(natureDon1.getLibelle(), Double.valueOf(don.getMontantNatureDon().get(natureDon1.getLibelle())));\n}\n\n            });\n</code></pre>\n"}],"owner":{"account_id":21029741,"reputation":3,"user_id":15454397,"display_name":"Krah Landry Koffi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1666953063,"accepted_answer_id":74233958,"answer_count":1,"score":-2,"last_activity_date":1666952533,"creation_date":1666952000,"question_id":74233855,"body_markdown":"[![Illustrative image of what I currently have in the HashMap.](https://i.stack.imgur.com/EgArz.png)](https://i.stack.imgur.com/EgArz.png)\r\n\r\nHello, I would like to please group the HashMap items by nature and then sum the amounts for the repeating items.\r\nI have to save the HashMap elements in the PartDonNature model.\r\n\r\n\r\n```\r\npublic class PartNatureDon extends BaseEntity{\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;nature_don_col_id&quot;, nullable = false)\r\n    private NatureDon natureDon;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;assistance_col_id&quot;, nullable = false)\r\n    private Assistance assistance;\r\n\r\n    @Column\r\n    private double montant;\r\n}\r\n```\r\n\r\n\r\n```\r\npublic void savePartNatureDon(){\r\n    PartNatureDon partNatureDon = new PartNatureDon();\r\n    Set&lt;Don&gt; dons = selected.getDons();\r\n\r\n    List&lt;NatureDon&gt; natureDonList = new ArrayList&lt;&gt;();\r\n    for (Don don : dons){\r\n        partNatureDon.setAssistance(don.getAssistance());\r\n        \r\n        List&lt;NatureDon&gt; natureDons = don.getNatureDonList();\r\n        HashMap&lt;String, Double&gt; montant = new HashMap&lt;&gt;();\r\n        for (NatureDon natureDon : natureDons){\r\n\r\n            if (!natureDonList.stream().anyMatch(n-&gt;n.getLibelle().equals(natureDon.getLibelle()))) {\r\n                natureDonList.add(natureDon);\r\n\r\n                natureDonList.forEach (natureDon1 -&gt; {\r\n                        montant.putIfAbsent(natureDon1.getLibelle(), Double.valueOf(don.getMontantNatureDon().get(natureDon1.getLibelle())));\r\n                        montant.computeIfPresent(natureDon1.getLibelle(), (n, nature) -&gt; Double.valueOf(nature + don.getMontantNatureDon().get(natureDon1.getLibelle())));\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n","title":"How to group the elements of a HashMap by key and sum the values?","body":"<p><a href=\"https://i.stack.imgur.com/EgArz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EgArz.png\" alt=\"Illustrative image of what I currently have in the HashMap.\" /></a></p>\n<p>Hello, I would like to please group the HashMap items by nature and then sum the amounts for the repeating items.\nI have to save the HashMap elements in the PartDonNature model.</p>\n<pre><code>public class PartNatureDon extends BaseEntity{\n\n    @ManyToOne\n    @JoinColumn(name = &quot;nature_don_col_id&quot;, nullable = false)\n    private NatureDon natureDon;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;assistance_col_id&quot;, nullable = false)\n    private Assistance assistance;\n\n    @Column\n    private double montant;\n}\n</code></pre>\n<pre><code>public void savePartNatureDon(){\n    PartNatureDon partNatureDon = new PartNatureDon();\n    Set&lt;Don&gt; dons = selected.getDons();\n\n    List&lt;NatureDon&gt; natureDonList = new ArrayList&lt;&gt;();\n    for (Don don : dons){\n        partNatureDon.setAssistance(don.getAssistance());\n        \n        List&lt;NatureDon&gt; natureDons = don.getNatureDonList();\n        HashMap&lt;String, Double&gt; montant = new HashMap&lt;&gt;();\n        for (NatureDon natureDon : natureDons){\n\n            if (!natureDonList.stream().anyMatch(n-&gt;n.getLibelle().equals(natureDon.getLibelle()))) {\n                natureDonList.add(natureDon);\n\n                natureDonList.forEach (natureDon1 -&gt; {\n                        montant.putIfAbsent(natureDon1.getLibelle(), Double.valueOf(don.getMontantNatureDon().get(natureDon1.getLibelle())));\n                        montant.computeIfPresent(natureDon1.getLibelle(), (n, nature) -&gt; Double.valueOf(nature + don.getMontantNatureDon().get(natureDon1.getLibelle())));\n                });\n            }\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666951884,"creation_date":1666950740,"answer_id":74233594,"question_id":74232918,"body_markdown":"From [oreilly.com](https://www.oreilly.com/library/view/head-first-servlets/9780596516680/ch10s08.html): \r\n\r\n&gt; You CANNOT use scripting code in the body of a Tag File tag\r\n\r\nThus, the only way to create tags that allow all JSP expressions (including nesting components) is to use a Java file that implements BodyTag.\r\n\r\nThis is a remarkable limitation of JSP tag files.","title":"tag file with fully evaluated body content (like EVAL_BODY_INCLUDE)","body":"<p>From <a href=\"https://www.oreilly.com/library/view/head-first-servlets/9780596516680/ch10s08.html\" rel=\"nofollow noreferrer\">oreilly.com</a>:</p>\n<blockquote>\n<p>You CANNOT use scripting code in the body of a Tag File tag</p>\n</blockquote>\n<p>Thus, the only way to create tags that allow all JSP expressions (including nesting components) is to use a Java file that implements BodyTag.</p>\n<p>This is a remarkable limitation of JSP tag files.</p>\n"}],"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74233594,"answer_count":1,"score":0,"last_activity_date":1666951884,"creation_date":1666947527,"question_id":74232918,"body_markdown":"I want my tag file to support full JSP code in its body.\r\n\r\nFor example, I want to write a tag file that wraps its content in a div:\r\n\r\n***dialog.tag***\r\n```\r\n&lt;%@tag pageEncoding=&quot;UTF-8&quot; body-content=&quot;scriptless&quot; %&gt;\r\n\r\n&lt;div class=&quot;dialog&quot;&gt;\r\n    &lt;jsp:doBody /&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nAnd then I would like to use it like this:\r\n\r\n***use-dialog.tag***\r\n```\r\n&lt;%@tag pageEncoding=&quot;UTF-8&quot; %&gt;\r\n\r\n&lt;%@attribute name=&quot;someAttribute&quot; type=&quot;java.lang.String&quot; required=&quot;false&quot; %&gt;\r\n\r\n&lt;%@taglib prefix=&quot;mytaglib&quot; uri=&quot;/WEB-INF/tlds/mytaglib&quot; %&gt;\r\n\r\n&lt;mytaglib:dialog&gt;\r\n    &lt;%-- use variable in body content --%&gt;\r\n    Hello &lt;%= someAttribute %&gt;\r\n\r\n    &lt;%-- use other tags in body content --%&gt;\r\n    &lt;mytaglib:some-other-tag someParameter=&quot;5&quot; /&gt;\r\n&lt;/mytaglib:dialog&gt;\r\n```\r\n\r\nHowever, Scriptlets (`&lt;% ... %&gt;`) and Scriptlet Expressions (`&lt;%= ... %&gt;`) are not allowed in this case. Other available values for `body-content` (`empty`, `scriptless`, `tagdependent`) do not work either. The error message is:\r\n\r\n`Scripting elements ( &amp;lt;%!, &amp;lt;jsp:declaration, &amp;lt;%=, &amp;lt;jsp:expression, &amp;lt;%, &amp;lt;jsp:scriptlet ) are disallowed here.`\r\n\r\n---\r\nThus composing / nesting tag files is not possible this way. I think this is a huge limitation of JSP tag files.\r\n\r\nIn contrast, in other frameworks you can compose and nest components as you please (for example [reactjs](https://reactjs.org/docs/composition-vs-inheritance.html)).\r\n\r\n---\r\nHowever, by using a Java class that implements `BodyTag`, it is perfectly possible to evaluate the body content of the tag:\r\n\r\n```\r\npublic class Dialog implements BodyTag\r\n{\r\n    private PageContext pageContext;\r\n\r\n    @Override\r\n    public void setPageContext(PageContext pageContext)\r\n    {\r\n        this.pageContext = pageContext;\r\n    }\r\n\r\n    @Override\r\n    public int doStartTag()\r\n    {\r\n        try\r\n        {\r\n            JspWriter out = pageContext.getOut();\r\n            out.print(&quot;&lt;div class=\\&quot;dialog\\&quot;&gt;&quot;);\r\n        }\r\n        catch (Exception e) { /* Handle exception*/ }\r\n\r\n        // Evaluate body content of this tag\r\n        return EVAL_BODY_INCLUDE;\r\n    }\r\n\r\n    @Override\r\n    public int doEndTag()\r\n    {\r\n        try\r\n        {\r\n            JspWriter out = pageContext.getOut();\r\n            out.print(&quot;&lt;/div&quot;);\r\n        }\r\n        catch (Exception e) { /* Handle exception*/ }\r\n\r\n        // Continue evaluating the rest of the JSP page\r\n        return EVAL_PAGE;\r\n    }\r\n\r\n    /* implement other methods of the interface ... */\r\n}\r\n```\r\n\r\nThe `Dialog.java` Java class works, whereas the `dialog.tag` file does not allow full JSP expressions in its body. Thus my question:\r\n\r\n---\r\n\r\n**Is there any way to have a tag file that evaluates its body with full JSP code support, just like `EVAL_BODY_INCLUDE` does when implementing BodyTag in a Java file?**","title":"tag file with fully evaluated body content (like EVAL_BODY_INCLUDE)","body":"<p>I want my tag file to support full JSP code in its body.</p>\n<p>For example, I want to write a tag file that wraps its content in a div:</p>\n<p><em><strong>dialog.tag</strong></em></p>\n<pre><code>&lt;%@tag pageEncoding=&quot;UTF-8&quot; body-content=&quot;scriptless&quot; %&gt;\n\n&lt;div class=&quot;dialog&quot;&gt;\n    &lt;jsp:doBody /&gt;\n&lt;/div&gt;\n</code></pre>\n<p>And then I would like to use it like this:</p>\n<p><em><strong>use-dialog.tag</strong></em></p>\n<pre><code>&lt;%@tag pageEncoding=&quot;UTF-8&quot; %&gt;\n\n&lt;%@attribute name=&quot;someAttribute&quot; type=&quot;java.lang.String&quot; required=&quot;false&quot; %&gt;\n\n&lt;%@taglib prefix=&quot;mytaglib&quot; uri=&quot;/WEB-INF/tlds/mytaglib&quot; %&gt;\n\n&lt;mytaglib:dialog&gt;\n    &lt;%-- use variable in body content --%&gt;\n    Hello &lt;%= someAttribute %&gt;\n\n    &lt;%-- use other tags in body content --%&gt;\n    &lt;mytaglib:some-other-tag someParameter=&quot;5&quot; /&gt;\n&lt;/mytaglib:dialog&gt;\n</code></pre>\n<p>However, Scriptlets (<code>&lt;% ... %&gt;</code>) and Scriptlet Expressions (<code>&lt;%= ... %&gt;</code>) are not allowed in this case. Other available values for <code>body-content</code> (<code>empty</code>, <code>scriptless</code>, <code>tagdependent</code>) do not work either. The error message is:</p>\n<p><code>Scripting elements ( &amp;lt;%!, &amp;lt;jsp:declaration, &amp;lt;%=, &amp;lt;jsp:expression, &amp;lt;%, &amp;lt;jsp:scriptlet ) are disallowed here.</code></p>\n<hr />\n<p>Thus composing / nesting tag files is not possible this way. I think this is a huge limitation of JSP tag files.</p>\n<p>In contrast, in other frameworks you can compose and nest components as you please (for example <a href=\"https://reactjs.org/docs/composition-vs-inheritance.html\" rel=\"nofollow noreferrer\">reactjs</a>).</p>\n<hr />\n<p>However, by using a Java class that implements <code>BodyTag</code>, it is perfectly possible to evaluate the body content of the tag:</p>\n<pre><code>public class Dialog implements BodyTag\n{\n    private PageContext pageContext;\n\n    @Override\n    public void setPageContext(PageContext pageContext)\n    {\n        this.pageContext = pageContext;\n    }\n\n    @Override\n    public int doStartTag()\n    {\n        try\n        {\n            JspWriter out = pageContext.getOut();\n            out.print(&quot;&lt;div class=\\&quot;dialog\\&quot;&gt;&quot;);\n        }\n        catch (Exception e) { /* Handle exception*/ }\n\n        // Evaluate body content of this tag\n        return EVAL_BODY_INCLUDE;\n    }\n\n    @Override\n    public int doEndTag()\n    {\n        try\n        {\n            JspWriter out = pageContext.getOut();\n            out.print(&quot;&lt;/div&quot;);\n        }\n        catch (Exception e) { /* Handle exception*/ }\n\n        // Continue evaluating the rest of the JSP page\n        return EVAL_PAGE;\n    }\n\n    /* implement other methods of the interface ... */\n}\n</code></pre>\n<p>The <code>Dialog.java</code> Java class works, whereas the <code>dialog.tag</code> file does not allow full JSP expressions in its body. Thus my question:</p>\n<hr />\n<p><strong>Is there any way to have a tag file that evaluates its body with full JSP code support, just like <code>EVAL_BODY_INCLUDE</code> does when implementing BodyTag in a Java file?</strong></p>\n"},{"tags":["java","tiff","javax.imageio","twelvemonkeys"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1667298888,"post_id":74233779,"comment_id":131130330,"body_markdown":"My initial hunch is, it will be easier (and likely more performant) to use an encrypted file system, and possibly specify the directory using `ImageIO.setCacheDirectory(encryptedPath)`, than any of the variants involving implementing custom streams in Java... But one thing I don&#39;t get in this scenario... Where/how is your *input data* stored? If it&#39;s already &quot;seekable&quot;, you may not need a cache (memory or disk) at all.","body":"My initial hunch is, it will be easier (and likely more performant) to use an encrypted file system, and possibly specify the directory using <code>ImageIO.setCacheDirectory(encryptedPath)</code>, than any of the variants involving implementing custom streams in Java... But one thing I don&#39;t get in this scenario... Where/how is your <i>input data</i> stored? If it&#39;s already &quot;seekable&quot;, you may not need a cache (memory or disk) at all."},{"owner":{"account_id":8347648,"reputation":656,"user_id":6270875,"accept_rate":100,"display_name":"hiaclibe"},"score":0,"creation_date":1667568566,"post_id":74233779,"comment_id":131203306,"body_markdown":"Yes, I&#39;m downloading this from external service and store it already on disc (via CipherOutputStream). Thats why I spotted unencrypted content during processing. Deactivate ImageIO cache means data in memory and for big tiffs you get OOM. Activate cache is always plain file (via RandomAccessFile), what I dont want. Securing outside of java with encrypted file system would be my last hope, but thats why I asked, because I want that inside the java app.","body":"Yes, I&#39;m downloading this from external service and store it already on disc (via CipherOutputStream). Thats why I spotted unencrypted content during processing. Deactivate ImageIO cache means data in memory and for big tiffs you get OOM. Activate cache is always plain file (via RandomAccessFile), what I dont want. Securing outside of java with encrypted file system would be my last hope, but thats why I asked, because I want that inside the java app."}],"owner":{"account_id":8347648,"reputation":656,"user_id":6270875,"accept_rate":100,"display_name":"hiaclibe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666951547,"creation_date":1666951547,"question_id":74233779,"body_markdown":"Problem:\r\nI read and write large multipage tiffs. During my test I have seen plain tiffs on disk. I know I can disable writing to disk with\r\n\r\n    ImageIO.setUseCache(false)\r\n\r\nbut then all data is in memory, what may lead to OutOfMemoryException.\r\n\r\n\r\nIs there any way to encrypt the cache/temp file created by ImageIO.createImageInputStream() and ImageIO.createImageOutputStream()?\r\n\r\nMy current variants, what I can/will try\r\n* Registering a custom ImageInputStream/ImageOutputStream(Spi)for encrypted files similar to &quot;javax.imageio.stream.FileImageInputStream&quot;. Is there any documentation/tutorial how to do that?\r\n* Extends RandomAccessFile to write encrypted and read decrypted to/from file due to existing &quot;javax.imageio.stream.FileImageInputStream&quot; already accepts RandomAccessFile. Is there already a solution for that?\r\n* last hope is to secure/encrypt the temp folder outside of my java app, but that would be error prone.\r\n\r\n\r\nPS: I would use AES128/256 encryption with temp. key/IV (save that in memory) !\r\n","title":"ImageIO with encrypted File cache","body":"<p>Problem:\nI read and write large multipage tiffs. During my test I have seen plain tiffs on disk. I know I can disable writing to disk with</p>\n<pre><code>ImageIO.setUseCache(false)\n</code></pre>\n<p>but then all data is in memory, what may lead to OutOfMemoryException.</p>\n<p>Is there any way to encrypt the cache/temp file created by ImageIO.createImageInputStream() and ImageIO.createImageOutputStream()?</p>\n<p>My current variants, what I can/will try</p>\n<ul>\n<li>Registering a custom ImageInputStream/ImageOutputStream(Spi)for encrypted files similar to &quot;javax.imageio.stream.FileImageInputStream&quot;. Is there any documentation/tutorial how to do that?</li>\n<li>Extends RandomAccessFile to write encrypted and read decrypted to/from file due to existing &quot;javax.imageio.stream.FileImageInputStream&quot; already accepts RandomAccessFile. Is there already a solution for that?</li>\n<li>last hope is to secure/encrypt the temp folder outside of my java app, but that would be error prone.</li>\n</ul>\n<p>PS: I would use AES128/256 encryption with temp. key/IV (save that in memory) !</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1666950286,"post_id":74233322,"comment_id":131060706,"body_markdown":"You might want to look into [NumberFormat](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/NumberFormat.html) for your use case.","body":"You might want to look into <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/NumberFormat.html\" rel=\"nofollow noreferrer\">NumberFormat</a> for your use case."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1666950895,"post_id":74233322,"comment_id":131060935,"body_markdown":"Not related to your specific problem, but using `BigDecimal.valueOf(double)` is asking for trouble.","body":"Not related to your specific problem, but using <code>BigDecimal.valueOf(double)</code> is asking for trouble."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666951271,"post_id":74233322,"comment_id":131061074,"body_markdown":"isn&#39;t `0E-8` exactly `0.00000000`?","body":"isn&#39;t <code>0E-8</code> exactly <code>0.00000000</code>?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1666951330,"post_id":74233322,"comment_id":131061096,"body_markdown":"Mark means `BigDecimal.valueOf(&quot;2.000&quot;)` even provides a precision, whereas `BigDecimal.valueOf(2.1)` uses the floating point 2.1, an actual approximation, maybe something like 2.0999934.","body":"Mark means <code>BigDecimal.valueOf(&quot;2.000&quot;)</code> even provides a precision, whereas <code>BigDecimal.valueOf(2.1)</code> uses the floating point 2.1, an actual approximation, maybe something like 2.0999934."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1667031268,"post_id":74233322,"comment_id":131078266,"body_markdown":"I find the sweeping rule applies here - never use `toString` to format something for the end user.","body":"I find the sweeping rule applies here - never use <code>toString</code> to format something for the end user."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1666951045,"creation_date":1666951045,"answer_id":74233672,"question_id":74233322,"body_markdown":"Whether `toString` returns the number in exponential notation or not is documented [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#toString()):\r\n\r\n&gt; first, the absolute value of the unscaled value of the `BigDecimal` is\r\n&gt; converted to a string in base ten using the characters &#39;0&#39; through &#39;9&#39;\r\n&gt; with no leading zeros (except if its value is zero, in which case a\r\n&gt; single &#39;0&#39; character is used).\r\n&gt; \r\n&gt; Next, an adjusted exponent is calculated; this is the negated scale,\r\n&gt; plus the number of characters in the converted unscaled value, less\r\n&gt; one. That is, `-scale+(ulength-1)`, where `ulength` is the length of\r\n&gt; the absolute value of the unscaled value in decimal digits (its\r\n&gt; precision).\r\n&gt; \r\n&gt; If the scale is greater than or equal to zero and the adjusted\r\n&gt; exponent is greater than or equal to -6, the number will be converted\r\n&gt; to a character form without using exponential notation. [...]\r\n&gt; \r\n&gt; Otherwise (that is, if the scale is negative, or the adjusted exponent\r\n&gt; is less than -6), the number will be converted to a character form\r\n&gt; using exponential notation. [...]\r\n\r\nIn the 0 case, the unscaled value is &quot;0&quot;, according to the documentation. This has the length of 1. Therefore, the adjusted exponent is -8 + (1 - 1) = -8. This is less than -6, so it is displayed in exponential notation.\r\n\r\nWhen the number is 2, the unscaled value is &quot;200000000&quot;, and the scale of 8 scales it down it &quot;2.00000000&quot;. The unscaled value has a length of 9. Therefore, the adjusted exponent is -8 + (9 - 1) = 0. This is greater than -6, and the scale of 8 is greater than 0, so 2.00000000 is not displayed in  exponential notation.\r\n\r\nNote that you can always get a string that is not in exponential notation by calling [`toPlainString`][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#toPlainString()","title":"Weird side effect when rounding BigDecimals","body":"<p>Whether <code>toString</code> returns the number in exponential notation or not is documented <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#toString()\" rel=\"noreferrer\">here</a>:</p>\n<blockquote>\n<p>first, the absolute value of the unscaled value of the <code>BigDecimal</code> is\nconverted to a string in base ten using the characters '0' through '9'\nwith no leading zeros (except if its value is zero, in which case a\nsingle '0' character is used).</p>\n<p>Next, an adjusted exponent is calculated; this is the negated scale,\nplus the number of characters in the converted unscaled value, less\none. That is, <code>-scale+(ulength-1)</code>, where <code>ulength</code> is the length of\nthe absolute value of the unscaled value in decimal digits (its\nprecision).</p>\n<p>If the scale is greater than or equal to zero and the adjusted\nexponent is greater than or equal to -6, the number will be converted\nto a character form without using exponential notation. [...]</p>\n<p>Otherwise (that is, if the scale is negative, or the adjusted exponent\nis less than -6), the number will be converted to a character form\nusing exponential notation. [...]</p>\n</blockquote>\n<p>In the 0 case, the unscaled value is &quot;0&quot;, according to the documentation. This has the length of 1. Therefore, the adjusted exponent is -8 + (1 - 1) = -8. This is less than -6, so it is displayed in exponential notation.</p>\n<p>When the number is 2, the unscaled value is &quot;200000000&quot;, and the scale of 8 scales it down it &quot;2.00000000&quot;. The unscaled value has a length of 9. Therefore, the adjusted exponent is -8 + (9 - 1) = 0. This is greater than -6, and the scale of 8 is greater than 0, so 2.00000000 is not displayed in  exponential notation.</p>\n<p>Note that you can always get a string that is not in exponential notation by calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#toPlainString()\" rel=\"noreferrer\"><code>toPlainString</code></a>.</p>\n"}],"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666951128,"creation_date":1666949559,"question_id":74233322,"body_markdown":"I am trying to use only the 8 digits after the floating point and round the rest to the ceiling. When the input is 0.0, after the rounding operation, I have `0E-8` instead of `0.00000000`\r\n\r\n    val test = BigDecimal.valueOf(0.0)\r\n    println(test.setScale(8, RoundingMode.CEILING))    \r\n\r\n\r\nWhen I change the value with 2.0 the result is fine as I expected `2.00000000`\r\n\r\nI am new at Kotlin. I don&#39;t understand the reason.\r\n","title":"Weird side effect when rounding BigDecimals","body":"<p>I am trying to use only the 8 digits after the floating point and round the rest to the ceiling. When the input is 0.0, after the rounding operation, I have <code>0E-8</code> instead of <code>0.00000000</code></p>\n<pre><code>val test = BigDecimal.valueOf(0.0)\nprintln(test.setScale(8, RoundingMode.CEILING))    \n</code></pre>\n<p>When I change the value with 2.0 the result is fine as I expected <code>2.00000000</code></p>\n<p>I am new at Kotlin. I don't understand the reason.</p>\n"},{"tags":["java","mysql","spring-boot","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666292613,"creation_date":1666120548,"answer_id":74116357,"question_id":74097987,"body_markdown":"There are many reasons why connections can be terminated. Usually there&#39;s something in the  middle, tipically a firewall, that drops connections after set amount of time. Find what time that is and set the max life to at least 1 minutes before that. Hikari has a background thread that expires connections but I think it triggers every few seconds; I&#39;m mentioning this as it&#39;s not exact to the millisecond. \r\n\r\nA note that Hikari will try to keep the minimumIdle number of connections, so usually new connections will be open in the background and won&#39;t create a pause in the application to wait for a new connection.\r\n\r\n# Edit\r\nI&#39;m not familiar with Azure, so I&#39;m not sure if the network stack drops connections after a certain amount of time. Personally, I never set the idle timeout nor max-life settings as long as the ones you have as the chances of a connection dropping is quite high in a cloud environment (in my experience). As an example, in AWS, our data team suggests to use a max lifetime of 5 minutes and idletimeout of 1 minute and this is in a platform with high traffic.\r\n\r\nOpening a DB connection is quite fast and usually happens behind the scenes. My suggestion would be to use these settings, but you have to validate them that they work ok for the load of your application (based on the ones you added on the comment below):\r\n\r\n```\r\n# set this equal to maximum pool size if the traffic has burst\r\nspring.datasource.hikari.minimumIdle=5\r\nspring.datasource.hikari.maximumPoolSize=30\r\n# It&#39;s the same as the default = 30 minutes\r\nspring.datasource.hikari.maxLifetime=1800000   \r\n# It&#39;s the same as the default = 10 minutes\r\nspring.datasource.hikari.keepalive-time=60000  \r\n```","title":"what should be the Hikari maxLifetime for mysql wait_time out value 28800","body":"<p>There are many reasons why connections can be terminated. Usually there's something in the  middle, tipically a firewall, that drops connections after set amount of time. Find what time that is and set the max life to at least 1 minutes before that. Hikari has a background thread that expires connections but I think it triggers every few seconds; I'm mentioning this as it's not exact to the millisecond.</p>\n<p>A note that Hikari will try to keep the minimumIdle number of connections, so usually new connections will be open in the background and won't create a pause in the application to wait for a new connection.</p>\n<h1>Edit</h1>\n<p>I'm not familiar with Azure, so I'm not sure if the network stack drops connections after a certain amount of time. Personally, I never set the idle timeout nor max-life settings as long as the ones you have as the chances of a connection dropping is quite high in a cloud environment (in my experience). As an example, in AWS, our data team suggests to use a max lifetime of 5 minutes and idletimeout of 1 minute and this is in a platform with high traffic.</p>\n<p>Opening a DB connection is quite fast and usually happens behind the scenes. My suggestion would be to use these settings, but you have to validate them that they work ok for the load of your application (based on the ones you added on the comment below):</p>\n<pre><code># set this equal to maximum pool size if the traffic has burst\nspring.datasource.hikari.minimumIdle=5\nspring.datasource.hikari.maximumPoolSize=30\n# It's the same as the default = 30 minutes\nspring.datasource.hikari.maxLifetime=1800000   \n# It's the same as the default = 10 minutes\nspring.datasource.hikari.keepalive-time=60000  \n</code></pre>\n"}],"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666951116,"creation_date":1666012828,"question_id":74097987,"body_markdown":"I have a spring boot application with below HikariCP properties enabled in application.properties and in mysql i have wait_timeout = 28800\r\n\r\n```\r\nspring.datasource.hikari.minimumIdle=9\r\nspring.datasource.hikari.maximumPoolSize=10\r\nspring.datasource.hikari.maxLifetime=28799990\r\n```\r\n\r\nI still get the below error\r\n\r\n\r\n&gt;13:02:46.103 [http-nio-8082-exec-2] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@13f6e098 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n\r\nwhat values i need to set in HikariCP to fix this issue\r\n\r\nThanks in advance\r\n\r\n\r\n**Edit**\r\n\r\n  ```  public class DailyReportRepo {\r\n\t@Autowired\r\n\tJdbcTemplate jdbcTemplate;\r\n\t\r\n\tpublic Map&lt;String, Object&gt; getSlideData(String date, String sp){\r\n\t\tSimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(sp)\r\n\t\t\t\t.withoutProcedureColumnMetaDataAccess()\r\n\t            .useInParameterNames(ReportGeneratorConstants.TIMEPERIOD)\r\n\t            .declareParameters(\r\n\t                    new SqlParameter(ReportGeneratorConstants.TIMEPERIOD,java.sql.Types.VARCHAR)\r\n\t            );\r\n\t\tMap&lt;String,String&gt; map=new HashMap&lt;&gt;();\r\n\t\tmap.put(ReportGeneratorConstants.TIMEPERIOD, date);\r\n\t\t\r\n\t\treturn simpleJdbcCall.execute(map);\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\nI am using simpleJdbcCall to call the stored procedure, I know that simpleJdbcCall uses multithread to run the stored procedure, What i want to know is, does simpleJdbcCall releases/close all connection to pool once execute() is completed (does spring boot take care of closing connections) if yes, where i can see the code for it.\r\n","title":"what should be the Hikari maxLifetime for mysql wait_time out value 28800","body":"<p>I have a spring boot application with below HikariCP properties enabled in application.properties and in mysql i have wait_timeout = 28800</p>\n<pre><code>spring.datasource.hikari.minimumIdle=9\nspring.datasource.hikari.maximumPoolSize=10\nspring.datasource.hikari.maxLifetime=28799990\n</code></pre>\n<p>I still get the below error</p>\n<blockquote>\n<p>13:02:46.103 [http-nio-8082-exec-2] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@13f6e098 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.</p>\n</blockquote>\n<p>what values i need to set in HikariCP to fix this issue</p>\n<p>Thanks in advance</p>\n<p><strong>Edit</strong></p>\n<pre><code>  @Autowired\n  JdbcTemplate jdbcTemplate;\n  \n  public Map&lt;String, Object&gt; getSlideData(String date, String sp){\n      SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(sp)\n              .withoutProcedureColumnMetaDataAccess()\n              .useInParameterNames(ReportGeneratorConstants.TIMEPERIOD)\n              .declareParameters(\n                      new SqlParameter(ReportGeneratorConstants.TIMEPERIOD,java.sql.Types.VARCHAR)\n              );\n      Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\n      map.put(ReportGeneratorConstants.TIMEPERIOD, date);\n      \n      return simpleJdbcCall.execute(map);\n      \n  }\n}\n\n</code></pre>\n<p>I am using simpleJdbcCall to call the stored procedure, I know that simpleJdbcCall uses multithread to run the stored procedure, What i want to know is, does simpleJdbcCall releases/close all connection to pool once execute() is completed (does spring boot take care of closing connections) if yes, where i can see the code for it.</p>\n"},{"tags":["java","lua","redis","spring-data","pipelining"],"comments":[{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1505913290,"post_id":46323026,"comment_id":79606835,"body_markdown":"Using spring-data-redis-1.6.6.RELEASE.jar","body":"Using spring-data-redis-1.6.6.RELEASE.jar"}],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1505916632,"creation_date":1505916246,"answer_id":46324242,"question_id":46323026,"body_markdown":"The majority of your questions are available within the Spring Data Redis [reference documentation](https://docs.spring.io/spring-data/redis/docs/current/reference/html/#pipeline).\r\n\r\nBefore digging into Pipelining, a single multi-get from one Hash does not require Pipelining because it&#39;s only a single command. Pipelining won&#39;t improve performance/stability/… of your Redis interaction.\r\n\r\nPipelining is arranged as callback and intended to issue multiple commands without awaiting the result immediately – think of it as a batch where you get all results later. Because pipelining synchronizes responses at the very end, you don&#39;t receive result values within the callback but at the very end, when the pipelining session is synchronized and `executePipelined(…)` terminates.\r\n\r\nYour code should rather look like:\r\n\r\n    List&lt;Object&gt; results = getRedisTemplate().executePipelined(new RedisCallback&lt;Object&gt;() {\r\n \r\n        @Override\r\n        public Object doInRedis(RedisConnection connection) {\r\n\r\n                connection.hMGet(key.getBytes(), params);\r\n                \r\n                return null;\r\n        }\r\n    });\r\n\r\n    List&lt;Object&gt; hmget = (List&lt;Object&gt;) results.get(0);\r\n\r\nYou have to use only the connection that you receive as callback argument because the connection has entered pipelining mode. Obtaining a connection from outside the callback (like `template.getConnectionFactory().getConnection()`) will open a new connection and execute Redis commands with awaiting responses – no pipelining is applied to any external obtained connection.\r\n\r\nYou can also use methods of `RedisTemplate` instead of working with the plain connection. `executePipelined(…)` binds the connection used in the callback to the current Thread and reuses that bound connection if you call template API methods.\r\n\r\nRegarding your Lua question: The code/method calls are not transposed to Lua.","title":"Spring Data Redis: Redis Pipeline returning always null","body":"<p>The majority of your questions are available within the Spring Data Redis <a href=\"https://docs.spring.io/spring-data/redis/docs/current/reference/html/#pipeline\" rel=\"noreferrer\">reference documentation</a>.</p>\n\n<p>Before digging into Pipelining, a single multi-get from one Hash does not require Pipelining because it's only a single command. Pipelining won't improve performance/stability/… of your Redis interaction.</p>\n\n<p>Pipelining is arranged as callback and intended to issue multiple commands without awaiting the result immediately – think of it as a batch where you get all results later. Because pipelining synchronizes responses at the very end, you don't receive result values within the callback but at the very end, when the pipelining session is synchronized and <code>executePipelined(…)</code> terminates.</p>\n\n<p>Your code should rather look like:</p>\n\n<pre><code>List&lt;Object&gt; results = getRedisTemplate().executePipelined(new RedisCallback&lt;Object&gt;() {\n\n    @Override\n    public Object doInRedis(RedisConnection connection) {\n\n            connection.hMGet(key.getBytes(), params);\n\n            return null;\n    }\n});\n\nList&lt;Object&gt; hmget = (List&lt;Object&gt;) results.get(0);\n</code></pre>\n\n<p>You have to use only the connection that you receive as callback argument because the connection has entered pipelining mode. Obtaining a connection from outside the callback (like <code>template.getConnectionFactory().getConnection()</code>) will open a new connection and execute Redis commands with awaiting responses – no pipelining is applied to any external obtained connection.</p>\n\n<p>You can also use methods of <code>RedisTemplate</code> instead of working with the plain connection. <code>executePipelined(…)</code> binds the connection used in the callback to the current Thread and reuses that bound connection if you call template API methods.</p>\n\n<p>Regarding your Lua question: The code/method calls are not transposed to Lua.</p>\n"},{"tags":[],"owner":{"account_id":13528513,"reputation":49,"user_id":9759662,"display_name":"琴罢倚松玩鹤"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666951054,"creation_date":1666950904,"answer_id":74233638,"question_id":46323026,"body_markdown":"Regarding question: \r\n&gt; 4) I see many examples about doInRedis API is returning null; Why so? How to return/get valid Object from that?\r\n\r\nHere is the answer:\r\n&gt; https://docs.spring.io/spring-data/redis/docs/current/reference/html/#pipeline\r\n```\r\n//pop a specified number of items from a queue\r\nList&lt;Object&gt; results = stringRedisTemplate.executePipelined(\r\n  new RedisCallback&lt;Object&gt;() {\r\n    public Object doInRedis(RedisConnection connection) throws DataAccessException {\r\n      StringRedisConnection stringRedisConn = (StringRedisConnection)connection;\r\n      for(int i=0; i&lt; batchSize; i++) {\r\n        stringRedisConn.rPop(&quot;myqueue&quot;);\r\n      }\r\n    return null;\r\n  }\r\n});\r\n```\r\nNote that the value returned from the RedisCallback is `required to be null`, as this value is discarded in favor of returning the results of the pipelined commands.\r\n","title":"Spring Data Redis: Redis Pipeline returning always null","body":"<p>Regarding question:</p>\n<blockquote>\n<ol start=\"4\">\n<li>I see many examples about doInRedis API is returning null; Why so? How to return/get valid Object from that?</li>\n</ol>\n</blockquote>\n<p>Here is the answer:</p>\n<blockquote>\n<p><a href=\"https://docs.spring.io/spring-data/redis/docs/current/reference/html/#pipeline\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/redis/docs/current/reference/html/#pipeline</a></p>\n</blockquote>\n<pre><code>//pop a specified number of items from a queue\nList&lt;Object&gt; results = stringRedisTemplate.executePipelined(\n  new RedisCallback&lt;Object&gt;() {\n    public Object doInRedis(RedisConnection connection) throws DataAccessException {\n      StringRedisConnection stringRedisConn = (StringRedisConnection)connection;\n      for(int i=0; i&lt; batchSize; i++) {\n        stringRedisConn.rPop(&quot;myqueue&quot;);\n      }\n    return null;\n  }\n});\n</code></pre>\n<p>Note that the value returned from the RedisCallback is <code>required to be null</code>, as this value is discarded in favor of returning the results of the pipelined commands.</p>\n"}],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9135,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46324242,"answer_count":2,"score":5,"last_activity_date":1666951054,"creation_date":1505913127,"question_id":46323026,"body_markdown":"I would like to retrieve multiple hashmap values with only specified fields. So I opted-in to Redis pipeline.\r\n\r\nWhile testing the below code, i see `redisResponse1` is always null, where as `redisResponse2` has value.\r\n\r\n\r\n\t\tgetRedisTemplate().executePipelined(new RedisCallback&lt;Object&gt;() { \r\n\t\t\t@Override\r\n\t\t\tpublic Object doInRedis(RedisConnection connection) throws DataAccessException {\r\n                    List&lt;byte[]&gt; redisResponse1 = connection.hMGet(key.getBytes(), params);\r\n\t\t\t\t\tList&lt;byte[]&gt; redisResponse2 = getRedisTemplate().getConnectionFactory().getConnection().hMGet(key.getBytes(), specificParams);\r\n                    return null;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\nWhen I look into the code and found that below, where \r\n\r\na) `redisResponse2` is not executed with pipeline option &lt;BR&gt;&lt;BR&gt;\r\nb) `redisResponse1` is executed with pipeline (isPipelined() == true) but returning always null.&lt;BR&gt;&lt;BR&gt;\r\n\r\n\tpublic List&lt;byte[]&gt; hMGet(byte[] key, byte[]... fields) {\r\n\t\ttry {\r\n\t\t\tif (isPipelined()) {\r\n\t\t\t\tpipeline(new JedisResult(pipeline.hmget(key, fields)));\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (isQueueing()) {\r\n\t\t\t\ttransaction(new JedisResult(transaction.hmget(key, fields)));\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn jedis.hmget(key, fields);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tthrow convertJedisAccessException(ex);\r\n\t\t}\r\n\t}\r\n\r\nSo questions are \r\n\r\n1) How do I achieve my use case with pipeline option? &lt;BR&gt;&lt;BR&gt;\r\n2) What is the impact accessing `getRedisTemplate().getConnectionFactory().getConnection()` within this RedisCallback? &lt;BR&gt;&lt;BR&gt;\r\n3) How this whole pipeline concept is working? Is it like dynamic Lua? where this Java code is converted as Lua script and send to Redis as script, executed in Redis and come back? Surprised on within this callback; the code is accessing/updating the outer class variables as well, so what will happen to all that variables? All those outer class variables also send to redis in lua? &lt;BR&gt;&lt;BR&gt;\r\n4) I see many examples about `doInRedis` API is returning `null`; Why so? How to return/get valid Object from that?&lt;BR&gt;","title":"Spring Data Redis: Redis Pipeline returning always null","body":"<p>I would like to retrieve multiple hashmap values with only specified fields. So I opted-in to Redis pipeline.</p>\n\n<p>While testing the below code, i see <code>redisResponse1</code> is always null, where as <code>redisResponse2</code> has value.</p>\n\n<pre><code>    getRedisTemplate().executePipelined(new RedisCallback&lt;Object&gt;() { \n        @Override\n        public Object doInRedis(RedisConnection connection) throws DataAccessException {\n                List&lt;byte[]&gt; redisResponse1 = connection.hMGet(key.getBytes(), params);\n                List&lt;byte[]&gt; redisResponse2 = getRedisTemplate().getConnectionFactory().getConnection().hMGet(key.getBytes(), specificParams);\n                return null;\n        }\n    });\n</code></pre>\n\n<p>When I look into the code and found that below, where </p>\n\n<p>a) <code>redisResponse2</code> is not executed with pipeline option <BR><BR>\nb) <code>redisResponse1</code> is executed with pipeline (isPipelined() == true) but returning always null.<BR><BR></p>\n\n<pre><code>public List&lt;byte[]&gt; hMGet(byte[] key, byte[]... fields) {\n    try {\n        if (isPipelined()) {\n            pipeline(new JedisResult(pipeline.hmget(key, fields)));\n            return null;\n        }\n        if (isQueueing()) {\n            transaction(new JedisResult(transaction.hmget(key, fields)));\n            return null;\n        }\n        return jedis.hmget(key, fields);\n    } catch (Exception ex) {\n        throw convertJedisAccessException(ex);\n    }\n}\n</code></pre>\n\n<p>So questions are </p>\n\n<p>1) How do I achieve my use case with pipeline option? <BR><BR>\n2) What is the impact accessing <code>getRedisTemplate().getConnectionFactory().getConnection()</code> within this RedisCallback? <BR><BR>\n3) How this whole pipeline concept is working? Is it like dynamic Lua? where this Java code is converted as Lua script and send to Redis as script, executed in Redis and come back? Surprised on within this callback; the code is accessing/updating the outer class variables as well, so what will happen to all that variables? All those outer class variables also send to redis in lua? <BR><BR>\n4) I see many examples about <code>doInRedis</code> API is returning <code>null</code>; Why so? How to return/get valid Object from that?<BR></p>\n"},{"tags":["java","spring","hibernate","jpa","flush"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1666945585,"post_id":74232316,"comment_id":131059173,"body_markdown":"Can you test it so that you make two separate @Transactional methods and one method (not transactional) that call those new methods in the correct order?","body":"Can you test it so that you make two separate @Transactional methods and one method (not transactional) that call those new methods in the correct order?"},{"owner":{"account_id":16781769,"reputation":763,"user_id":12131806,"display_name":"Nagulan S"},"score":0,"creation_date":1666945826,"post_id":74232316,"comment_id":131059270,"body_markdown":"can do that but it changes the logic. I don&#39;t want my status to be updated if there is any error in the first transactional method or save my data if there is any error in updating the status (second transactional method).","body":"can do that but it changes the logic. I don&#39;t want my status to be updated if there is any error in the first transactional method or save my data if there is any error in updating the status (second transactional method)."}],"answers":[{"tags":[],"owner":{"account_id":20832804,"reputation":1,"user_id":15301698,"display_name":"tristancxm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666945717,"creation_date":1666945717,"answer_id":74232552,"question_id":74232316,"body_markdown":"i guess you set attribute of &quot;small data&quot; (for example smallData.setField1(value1)) earlier than &quot;large data&quot;.","title":"Execution Order of Flush() after a @Transactional method is executed","body":"<p>i guess you set attribute of &quot;small data&quot; (for example smallData.setField1(value1)) earlier than &quot;large data&quot;.</p>\n"},{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666950824,"creation_date":1666949749,"answer_id":74233365,"question_id":74232316,"body_markdown":"In case of error, the transaction will be rollbacked and it&#39;s like the data hasn&#39;t be saved in the db. So it shouldn&#39;t matter in which order the two operations are executed ([assuming the transaction isolation in the database is configured correctly][1]). Hibernate, underneath, will pick the right order to execute the operations to make everything works.\r\n\r\nBut if it&#39;s really important for the `saveAll` to run before tha `save`, in the `JpaRepository`, there should be a method [saveAllAndFlush][2]:\r\n```\r\n@Transactional\r\nmymethod(){\r\n    repo.saveAllAndFlush(Large data);\r\n    repo.save(small data); //updates db that the large data is written\r\n}\r\n```\r\n\r\nThe difference is that it it will flush the changes to the database without committing the transaction.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-transactional-propagation-isolation#transactional-isolations\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAllAndFlush-java.lang.Iterable-","title":"Execution Order of Flush() after a @Transactional method is executed","body":"<p>In case of error, the transaction will be rollbacked and it's like the data hasn't be saved in the db. So it shouldn't matter in which order the two operations are executed (<a href=\"https://www.baeldung.com/spring-transactional-propagation-isolation#transactional-isolations\" rel=\"nofollow noreferrer\">assuming the transaction isolation in the database is configured correctly</a>). Hibernate, underneath, will pick the right order to execute the operations to make everything works.</p>\n<p>But if it's really important for the <code>saveAll</code> to run before tha <code>save</code>, in the <code>JpaRepository</code>, there should be a method <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAllAndFlush-java.lang.Iterable-\" rel=\"nofollow noreferrer\">saveAllAndFlush</a>:</p>\n<pre><code>@Transactional\nmymethod(){\n    repo.saveAllAndFlush(Large data);\n    repo.save(small data); //updates db that the large data is written\n}\n</code></pre>\n<p>The difference is that it it will flush the changes to the database without committing the transaction.</p>\n"}],"owner":{"account_id":16781769,"reputation":763,"user_id":12131806,"display_name":"Nagulan S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666950824,"creation_date":1666944356,"question_id":74232316,"body_markdown":"    @Transactional\r\n    mymethod(){\r\n        repo.saveAll(Large data);\r\n        repo.save(small data); //updates db that the large data is written\r\n    }\r\n\r\n**What I&#39;m experiencing:**  \r\nAfter the transactional method&#39;s successful execution the two datas are flushed async. That is the small data is written before the large data.\r\n\r\n**What I want:**  \r\nAfter the transactional method&#39;s successful execution the saveAll&#39;s data should be flushed first then the save&#39;s data should be flushed.\r\n\r\nIs my understanding of, flush() of saveAll and save happening in async is correct? If yes, then how can I order the execution of flush of saveAll and save.","title":"Execution Order of Flush() after a @Transactional method is executed","body":"<pre><code>@Transactional\nmymethod(){\n    repo.saveAll(Large data);\n    repo.save(small data); //updates db that the large data is written\n}\n</code></pre>\n<p><strong>What I'm experiencing:</strong><br />\nAfter the transactional method's successful execution the two datas are flushed async. That is the small data is written before the large data.</p>\n<p><strong>What I want:</strong><br />\nAfter the transactional method's successful execution the saveAll's data should be flushed first then the save's data should be flushed.</p>\n<p>Is my understanding of, flush() of saveAll and save happening in async is correct? If yes, then how can I order the execution of flush of saveAll and save.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1666911894,"post_id":74220692,"comment_id":131053511,"body_markdown":"Why not just call `verify` in a loop, one time for each element in `elements`?","body":"Why not just call <code>verify</code> in a loop, one time for each element in <code>elements</code>?"},{"owner":{"account_id":310349,"reputation":839,"user_id":623280,"accept_rate":80,"display_name":"geronimo"},"score":0,"creation_date":1666939004,"post_id":74220692,"comment_id":131057344,"body_markdown":"@JeffBowman You&#39;re right, that does what I want. Seems like I was overthinking it, not realizing that `verify` by default doesn&#39;t care about the order. If you make that an answer, I&#39;ll accept it :-)","body":"@JeffBowman You&#39;re right, that does what I want. Seems like I was overthinking it, not realizing that <code>verify</code> by default doesn&#39;t care about the order. If you make that an answer, I&#39;ll accept it :-)"}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666950711,"creation_date":1666950711,"answer_id":74233589,"question_id":74220692,"body_markdown":"The most straightforward way is to skip matcher usage and just ensure that you make one call to `verify` for each set element. Mockito doesn&#39;t check order unless you opt in with [`inOrder`](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InOrder.html).\r\n\r\n```java\r\nfor (String element : elements) {\r\n  verify(list).add(element);\r\n}\r\n```\r\n\r\n(Side note: Don&#39;t mock Collections like Lists outside of toy or example problems.)","title":"How do I write a Mockito ArgumentMatcher to verify that each element of a set is used","body":"<p>The most straightforward way is to skip matcher usage and just ensure that you make one call to <code>verify</code> for each set element. Mockito doesn't check order unless you opt in with <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InOrder.html\" rel=\"nofollow noreferrer\"><code>inOrder</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String element : elements) {\n  verify(list).add(element);\n}\n</code></pre>\n<p>(Side note: Don't mock Collections like Lists outside of toy or example problems.)</p>\n"}],"owner":{"account_id":310349,"reputation":839,"user_id":623280,"accept_rate":80,"display_name":"geronimo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74233589,"answer_count":1,"score":0,"last_activity_date":1666950711,"creation_date":1666866937,"question_id":74220692,"body_markdown":"I need to verify that a given method is called N times, and that every element of a given list is passed as argument. How can I do that using Mockito?\r\n\r\nSay I have a method that adds elements to a list:\r\n\r\n```\r\npublic void addElementsToList(List&lt;String&gt; theList, List&lt;String&gt; theElements) {\r\n   for(String element : theElements) {\r\n      theList.add(element);\r\n   }\r\n}\r\n```\r\n\r\nThe test should verify that if the `addElementsToList` method is called, each element is added exactly once (but I don&#39;t care about the order).\r\n\r\n```\r\n@Test\r\npublic testAddElements() {\r\n    List&lt;String&gt; list = mock(List.class);\r\n    List&lt;String&gt; elements = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    addElementsToList(list, elements);\r\n    Mockito.verify(list, times(3))\r\n           .add(ArgumentMatchers.argThat(new ArgumentMatcher&lt;String&gt;() {\r\n             Set&lt;String&gt; expected = new HashSet&lt;&gt;(elements);\r\n             @Override\r\n             public boolean matches(String argument) {\r\n               return expected.remove(argument);\r\n             }\r\n           }));\r\n}\r\n```\r\n\r\nWhen I run this test, it fails with the message that there have been no interactions with the mock:\r\n\r\n```\r\norg.mockito.exceptions.verification.TooLittleActualInvocations: \r\nlist.add(&lt;custom argument matcher&gt;);\r\nWanted 3 times:\r\n-&gt; at my.test.package.TestClass.testAddElements(TestClass.java:100)\r\nBut was 0 times.\r\n```\r\n\r\nWhen I change the ArgumentMatcher.matches method to simply check that the `expected` set contains the argument, then the test succeeds:\r\n\r\n```\r\n             @Override\r\n             public boolean matches(String argument) {\r\n               return expected.contains(argument);\r\n             }\r\n```\r\n\r\nObviously, this test would also succeed if the same argument would be passed multiple times.\r\n\r\n**How do I check that a method is called exactly once for each element?**","title":"How do I write a Mockito ArgumentMatcher to verify that each element of a set is used","body":"<p>I need to verify that a given method is called N times, and that every element of a given list is passed as argument. How can I do that using Mockito?</p>\n<p>Say I have a method that adds elements to a list:</p>\n<pre><code>public void addElementsToList(List&lt;String&gt; theList, List&lt;String&gt; theElements) {\n   for(String element : theElements) {\n      theList.add(element);\n   }\n}\n</code></pre>\n<p>The test should verify that if the <code>addElementsToList</code> method is called, each element is added exactly once (but I don't care about the order).</p>\n<pre><code>@Test\npublic testAddElements() {\n    List&lt;String&gt; list = mock(List.class);\n    List&lt;String&gt; elements = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n    addElementsToList(list, elements);\n    Mockito.verify(list, times(3))\n           .add(ArgumentMatchers.argThat(new ArgumentMatcher&lt;String&gt;() {\n             Set&lt;String&gt; expected = new HashSet&lt;&gt;(elements);\n             @Override\n             public boolean matches(String argument) {\n               return expected.remove(argument);\n             }\n           }));\n}\n</code></pre>\n<p>When I run this test, it fails with the message that there have been no interactions with the mock:</p>\n<pre><code>org.mockito.exceptions.verification.TooLittleActualInvocations: \nlist.add(&lt;custom argument matcher&gt;);\nWanted 3 times:\n-&gt; at my.test.package.TestClass.testAddElements(TestClass.java:100)\nBut was 0 times.\n</code></pre>\n<p>When I change the ArgumentMatcher.matches method to simply check that the <code>expected</code> set contains the argument, then the test succeeds:</p>\n<pre><code>             @Override\n             public boolean matches(String argument) {\n               return expected.contains(argument);\n             }\n</code></pre>\n<p>Obviously, this test would also succeed if the same argument would be passed multiple times.</p>\n<p><strong>How do I check that a method is called exactly once for each element?</strong></p>\n"},{"tags":["java","json","spring","jackson"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666950014,"creation_date":1666950014,"answer_id":74233425,"question_id":74233368,"body_markdown":"You can pass the original name into the annotation, and give a different name to your attribute, for example:\r\n\r\n    @JsonProperty(&quot;x5t#S256&quot;)\r\n    private String differentName;","title":"Using Jackson to convert JSON file which has &quot;#&quot; as one of the names, namely &quot;x5t#S256&quot;","body":"<p>You can pass the original name into the annotation, and give a different name to your attribute, for example:</p>\n<pre><code>@JsonProperty(&quot;x5t#S256&quot;)\nprivate String differentName;\n</code></pre>\n"}],"owner":{"account_id":15460738,"reputation":197,"user_id":11153497,"display_name":"Lyle Phillips"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1666950441,"accepted_answer_id":74233425,"answer_count":1,"score":1,"last_activity_date":1666950539,"creation_date":1666949772,"question_id":74233368,"body_markdown":"I have a JSON name value pair which I would like to convert to a Java object.\r\n\r\nThe JSON is as follows \r\n\r\n```json\r\n{\r\n    &quot;x5t#S256&quot;: &quot;vaule&quot;,\r\n}\r\n```\r\n\r\nThe below does not work because of illegal character\r\n\r\n```java\r\npublic class Key {\r\n     @JsonProperty\r\n     private String x5t#S256;\r\n}\r\n```\r\n\r\nAs you might guess this has to do with JWKS sets, but that&#39;s not relevant for now. It seems like quite straightforward question, but I have not been able to find anything on google.\r\n\r\n","title":"Using Jackson to convert JSON file which has &quot;#&quot; as one of the names, namely &quot;x5t#S256&quot;","body":"<p>I have a JSON name value pair which I would like to convert to a Java object.</p>\n<p>The JSON is as follows</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;x5t#S256&quot;: &quot;vaule&quot;,\n}\n</code></pre>\n<p>The below does not work because of illegal character</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Key {\n     @JsonProperty\n     private String x5t#S256;\n}\n</code></pre>\n<p>As you might guess this has to do with JWKS sets, but that's not relevant for now. It seems like quite straightforward question, but I have not been able to find anything on google.</p>\n"},{"tags":["java","apache","sockets","tomcat","servlets"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1473857220,"post_id":39490316,"comment_id":66299160,"body_markdown":"Could you post apache revers proxy configuration for the servlet ?","body":"Could you post apache revers proxy configuration for the servlet ?"},{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1473857308,"post_id":39490316,"comment_id":66299216,"body_markdown":"I can not access to apache configuration, it is a host on the net","body":"I can not access to apache configuration, it is a host on the net"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1473857687,"post_id":39490316,"comment_id":66299466,"body_markdown":"Maybe logs of the apache ?","body":"Maybe logs of the apache ?"},{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1473857836,"post_id":39490316,"comment_id":66299582,"body_markdown":"I will try to grab it and post here","body":"I will try to grab it and post here"},{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1473859024,"post_id":39490316,"comment_id":66300423,"body_markdown":"I have added apache logs as Edit1 to the question body","body":"I have added apache logs as Edit1 to the question body"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1473859360,"post_id":39490316,"comment_id":66300641,"body_markdown":"Are apache and servlet in the same machine ? And check the servlet at 127.0.0.1:12007","body":"Are apache and servlet in the same machine ? And check the servlet at 127.0.0.1:12007"},{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1473859986,"post_id":39490316,"comment_id":66301085,"body_markdown":"Both resides in the same server, as mentioned in the question, with some header, request redirect to the servlet","body":"Both resides in the same server, as mentioned in the question, with some header, request redirect to the servlet"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1473860120,"post_id":39490316,"comment_id":66301198,"body_markdown":"Logs say that apache can&#39;t connect to the servlet. So maybe servlet is not running...","body":"Logs say that apache can&#39;t connect to the servlet. So maybe servlet is not running..."},{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1473860235,"post_id":39490316,"comment_id":66301264,"body_markdown":"You are right, but the servlet answers to some request and running now","body":"You are right, but the servlet answers to some request and running now"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1473861182,"post_id":39490316,"comment_id":66301990,"body_markdown":"Without apache configuration it is not easy to find what is doing wrong. For me it need that :    SetEnv proxy-sendchunked       1\n                                    SetEnv proxy-sendcl            0","body":"Without apache configuration it is not easy to find what is doing wrong. For me it need that :    SetEnv proxy-sendchunked       1                                     SetEnv proxy-sendcl            0"},{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1473864716,"post_id":39490316,"comment_id":66304530,"body_markdown":"We have another complicated application on this machine, and works fine, I think, there is no problem on HTTPD configuration, I should find a set of correct HTTP request header and replace with existing one, Thank you for taking the time","body":"We have another complicated application on this machine, and works fine, I think, there is no problem on HTTPD configuration, I should find a set of correct HTTP request header and replace with existing one, Thank you for taking the time"}],"answers":[{"tags":[],"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476515454,"creation_date":1476515454,"answer_id":40056168,"question_id":39490316,"body_markdown":"It is **impossible** to use HTTP to create a **full-duplex** connection between the client and server. There are a number of problems in doing so. The first thing to note is that **HTTP uses a request-response paradigm**, not a full-duplex streaming paradigm.This means that the client sends a request, and when the complete request has been sent then the server sends the response. This is the case even if so-called keep-alive is used, i.e.  multiple requests are sent over the same TCP connection. Because this behavior is fundamental to the protocol most implementations make certain (valid) assumptions which make it difficult to create a full-duplex connection.&lt;br/&gt;\r\n\r\nSolutions\r\n=========\r\n\r\nThe easiest solution is to change your application to use a request-response paradigm. If you are trying to tunnel through an HTTP proxy and for some reason really can&#39;t change your paradigm, then here are a couple ideas.\r\n\r\n - &lt;b&gt;Use 2 connections:&lt;/b&gt;\r\n\r\nEach connection gives you a simplex stream. Do a simple GET on the first connection and have the server send back a response either without a Content-length header or with a very large Content-length header (or if you&#39;re doing HTTP/1.1 you can use the chunked transfer encoding). Also, send the &quot;Pragma: no-cache&quot; and &quot;Cache-Control: no-cache&quot; headers to keep any proxy from caching the response. This response will then give you the server-&gt;client simplex stream. Then do a POST with a very large Content-length header on the second connection to get the client-&gt;server stream (the response is never received). Note that this won&#39;t work with a number of proxies because they will never forward the POST (because they&#39;re waiting for the complete data).\r\n\r\n - &lt;b&gt;Use n+1 connections:&lt;/b&gt;\r\n\r\nIf you are using URLConnection or going through certain proxies then you won&#39;t get real client-&gt;server stream (because they buffer it all before sending the request). Therefore you must split your client-&gt;server stream into blocks and send each block in a separate request. The server-&gt;client stream is done as above. Note however that this solution may potentially mean you&#39;ll be sending a large number of requests, and if your server or proxy doesn&#39;t handle keep-alives then that also means a large number of connections being created. In either case you will still have either write your own (simple) HTTP server, or then write some server side handler using an API native to the server.&lt;br/&gt;&lt;br/&gt;\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://www.innovation.ch/java/HTTPClient/fullduplex.html","title":"Apache HTTPD close connection or does not redirect request to servlet container","body":"<p>It is <strong>impossible</strong> to use HTTP to create a <strong>full-duplex</strong> connection between the client and server. There are a number of problems in doing so. The first thing to note is that <strong>HTTP uses a request-response paradigm</strong>, not a full-duplex streaming paradigm.This means that the client sends a request, and when the complete request has been sent then the server sends the response. This is the case even if so-called keep-alive is used, i.e.  multiple requests are sent over the same TCP connection. Because this behavior is fundamental to the protocol most implementations make certain (valid) assumptions which make it difficult to create a full-duplex connection.<br/></p>\n\n<h1>Solutions</h1>\n\n<p>The easiest solution is to change your application to use a request-response paradigm. If you are trying to tunnel through an HTTP proxy and for some reason really can't change your paradigm, then here are a couple ideas.</p>\n\n<ul>\n<li><b>Use 2 connections:</b></li>\n</ul>\n\n<p>Each connection gives you a simplex stream. Do a simple GET on the first connection and have the server send back a response either without a Content-length header or with a very large Content-length header (or if you're doing HTTP/1.1 you can use the chunked transfer encoding). Also, send the \"Pragma: no-cache\" and \"Cache-Control: no-cache\" headers to keep any proxy from caching the response. This response will then give you the server->client simplex stream. Then do a POST with a very large Content-length header on the second connection to get the client->server stream (the response is never received). Note that this won't work with a number of proxies because they will never forward the POST (because they're waiting for the complete data).</p>\n\n<ul>\n<li><b>Use n+1 connections:</b></li>\n</ul>\n\n<p>If you are using URLConnection or going through certain proxies then you won't get real client->server stream (because they buffer it all before sending the request). Therefore you must split your client->server stream into blocks and send each block in a separate request. The server->client stream is done as above. Note however that this solution may potentially mean you'll be sending a large number of requests, and if your server or proxy doesn't handle keep-alives then that also means a large number of connections being created. In either case you will still have either write your own (simple) HTTP server, or then write some server side handler using an API native to the server.<br/><br/>\n<a href=\"https://www.innovation.ch/java/HTTPClient/fullduplex.html\" rel=\"nofollow\">Reference</a></p>\n"}],"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666950462,"creation_date":1473855598,"question_id":39490316,"body_markdown":"We have a system includes two parts:\r\n\r\nPart I:\r\nA Servlet with &quot;/aaa&quot; url mapping.\r\n\r\nPart II:\r\nA simple socket program which connects to our servlet and streams binary data.\r\n\r\nThe system works fine but, after coming an Apache HTTPD between two parts (our servlet and socket program), the HTTPD prevents data stream.\r\n\r\nIn the other words, the HTTPD does not redirect request to the Tomcat, I think it waits to receive request completely.\r\n\r\nRequest header for start out streaming is:\r\n\r\n```none\r\nPOST /aaa HTTP/1.1\r\nHost: mysite.com\r\nContent-Type: application/octet-stream\r\nContent-Length: 2147483647\r\nconnection: keep-alive\r\n```\r\n\r\nIf I replace `Content-Length: 2147483647` header with `Transfer-Encoding: chunked`, the request will not be redirected to servlet.\r\n\r\nAlso if I set the `Content-Length` to a smaller value, the request will be redirected to servlet but, the connection will be closed.\r\n\r\nThe following lines has been come in apache error_log file repeatedly\r\n\r\n```none\r\n[Wed Sep 07 07:30:34.180585 2016] [proxy_http:error] [pid 2253:tid 140090191890176] [client 162.93.19.34:45769] AH01114: HTTP: failed to make connection to backend: 127.0.0.1, referer: example.com/aaa/\r\n[Wed Sep 07 07:30:34.180700 2016] [proxy:error] [pid 2253:tid 140090191890176] (111)Connection refused: AH00957: HTTP: attempt to connect to 127.0.0.1:12007 (127.0.0.1) failed\r\n\r\n[Wed Sep 14 06:25:18.406899 2016] [proxy_http:error] [pid 27777:tid 140089871005440] (70008)Partial results are valid but processing is incomplete: [client 162.93.19.34:60284] AH01110: error reading response\r\n```\r\n\r\nWhat is your suggestion for an HTTP header to work this correctly?","title":"Apache HTTPD close connection or does not redirect request to servlet container","body":"<p>We have a system includes two parts:</p>\n<p>Part I:\nA Servlet with &quot;/aaa&quot; url mapping.</p>\n<p>Part II:\nA simple socket program which connects to our servlet and streams binary data.</p>\n<p>The system works fine but, after coming an Apache HTTPD between two parts (our servlet and socket program), the HTTPD prevents data stream.</p>\n<p>In the other words, the HTTPD does not redirect request to the Tomcat, I think it waits to receive request completely.</p>\n<p>Request header for start out streaming is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>POST /aaa HTTP/1.1\nHost: mysite.com\nContent-Type: application/octet-stream\nContent-Length: 2147483647\nconnection: keep-alive\n</code></pre>\n<p>If I replace <code>Content-Length: 2147483647</code> header with <code>Transfer-Encoding: chunked</code>, the request will not be redirected to servlet.</p>\n<p>Also if I set the <code>Content-Length</code> to a smaller value, the request will be redirected to servlet but, the connection will be closed.</p>\n<p>The following lines has been come in apache error_log file repeatedly</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Wed Sep 07 07:30:34.180585 2016] [proxy_http:error] [pid 2253:tid 140090191890176] [client 162.93.19.34:45769] AH01114: HTTP: failed to make connection to backend: 127.0.0.1, referer: example.com/aaa/\n[Wed Sep 07 07:30:34.180700 2016] [proxy:error] [pid 2253:tid 140090191890176] (111)Connection refused: AH00957: HTTP: attempt to connect to 127.0.0.1:12007 (127.0.0.1) failed\n\n[Wed Sep 14 06:25:18.406899 2016] [proxy_http:error] [pid 27777:tid 140089871005440] (70008)Partial results are valid but processing is incomplete: [client 162.93.19.34:60284] AH01110: error reading response\n</code></pre>\n<p>What is your suggestion for an HTTP header to work this correctly?</p>\n"},{"tags":["java","kotlin","printing","awt"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666883974,"post_id":74224069,"comment_id":131045434,"body_markdown":"I would guess it is because you passed `null` as the last argument to `drawImage`.","body":"I would guess it is because you passed <code>null</code> as the last argument to <code>drawImage</code>."},{"owner":{"account_id":19372,"reputation":2711,"user_id":45364,"accept_rate":60,"display_name":"Sean"},"score":0,"creation_date":1666914629,"post_id":74224069,"comment_id":131053942,"body_markdown":"I would&#39;ve guess that too, but it&#39;s not the problem. `theConsumer` is an `ImageConsumer`, the last parameter of `drawImage` is an `ImageObserver`. Adding an observer there doesn&#39;t prevent the NPE","body":"I would&#39;ve guess that too, but it&#39;s not the problem. <code>theConsumer</code> is an <code>ImageConsumer</code>, the last parameter of <code>drawImage</code> is an <code>ImageObserver</code>. Adding an observer there doesn&#39;t prevent the NPE"},{"owner":{"account_id":19372,"reputation":2711,"user_id":45364,"accept_rate":60,"display_name":"Sean"},"score":0,"creation_date":1666914912,"post_id":74224069,"comment_id":131053971,"body_markdown":"This is a question about Java libraries. My code is written in Kotlin, but there&#39;s nothing related to Kotlin in the question, I just didn&#39;t feel like translating my code to Java.","body":"This is a question about Java libraries. My code is written in Kotlin, but there&#39;s nothing related to Kotlin in the question, I just didn&#39;t feel like translating my code to Java."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1666950938,"post_id":74224069,"comment_id":131060949,"body_markdown":"`loadImage1` loads the image asynchroneously and evidently not completely when starting to draw. Load it synchroneously, perhaps something for ImageIO.","body":"<code>loadImage1</code> loads the image asynchroneously and evidently not completely when starting to draw. Load it synchroneously, perhaps something for ImageIO."},{"owner":{"account_id":19372,"reputation":2711,"user_id":45364,"accept_rate":60,"display_name":"Sean"},"score":0,"creation_date":1666961435,"post_id":74224069,"comment_id":131064289,"body_markdown":"That&#39;s it! loadImage was calling `getScaledInstance`. I thought `drawImage` was supposed to work asynchronously in that case. Replacing `getScaledIntance` with a synchronous version fixes the NPE.","body":"That&#39;s it! loadImage was calling <code>getScaledInstance</code>. I thought <code>drawImage</code> was supposed to work asynchronously in that case. Replacing <code>getScaledIntance</code> with a synchronous version fixes the NPE."}],"owner":{"account_id":19372,"reputation":2711,"user_id":45364,"accept_rate":60,"display_name":"Sean"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666950092,"creation_date":1666882266,"question_id":74224069,"body_markdown":"I&#39;m writing an application that uses a printer (like inkjet, laser, etc) and I&#39;m using a `Printable` to print my page. `drawImage` throws an NPE, but the image displays correctly. I&#39;ve tested this with Temurin 17.0.5 and Oracle OpenJDK 19.0.1.\r\n\r\nAdditional information:\r\nThis is happening on Ubuntu 22.04 and I haven&#39;t tested it on any other platforms. The NPE happens after `drawImage` returns typically. If I have the program block until `observer` is notified, the NPE remains.\r\n\r\nException:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;java.awt.image.ImageConsumer.setColorModel(java.awt.image.ColorModel)&quot; because &quot;this.theConsumer&quot; is null\r\n\tat java.desktop/sun.awt.image.OffScreenImageSource.sendPixels(OffScreenImageSource.java:171)\r\n\tat java.desktop/sun.awt.image.OffScreenImageSource.produce(OffScreenImageSource.java:187)\r\n\tat java.desktop/sun.awt.image.OffScreenImageSource.addConsumer(OffScreenImageSource.java:66)\r\n\tat java.desktop/sun.awt.image.OffScreenImageSource.startProduction(OffScreenImageSource.java:80)\r\n\tat java.desktop/java.awt.image.FilteredImageSource.startProduction(FilteredImageSource.java:184)\r\n\tat java.desktop/sun.awt.image.ImageRepresentation.startProduction(ImageRepresentation.java:732)\r\n\tat java.desktop/sun.awt.image.ToolkitImage.addWatcher(ToolkitImage.java:221)\r\n\tat java.desktop/sun.awt.image.ToolkitImage.getHeight(ToolkitImage.java:142)\r\n\tat java.desktop/sun.print.PeekGraphics$ImageWaiter.waitForDimensions(PeekGraphics.java:1888)\r\n\tat java.desktop/sun.print.PeekGraphics$ImageWaiter.&lt;init&gt;(PeekGraphics.java:1876)\r\n\tat java.desktop/sun.print.PeekGraphics.drawImage(PeekGraphics.java:955)\r\n    ... the rest is my code\r\n```\r\n\r\nMy code is Kotlin and something like:\r\n\r\n```kotlin\r\nclass MyPrintable : Printable {\r\n    override fun print(graphics: Graphics, pageFormat: PageFormat, pageIndex: Int): Int {\r\n        if (pageIndex &gt; 0) {\r\n            return NO_SUCH_PAGE\r\n        }\r\n        val g2d = graphics as Graphics2D\r\n\r\n        drawString(...)\r\n        drawString(...)\r\n\r\n        val image1: BufferedImage = loadImage1()\r\n        // The following line throws an NPE asynchronously\r\n        drawImage(image1.getScaledInstance(width, height, Image.SCALE_SMOOTH), x, y, null)\r\n\r\n        val image2: BufferedImage = loadImage2()\r\n        drawImage(image1.getScaledInstance(width, height, Image.SCALE_SMOOTH), x2, y2, null)\r\n\r\n        return PAGE_EXISTS\r\n    }\r\n}\r\n```\r\n\r\nIt seems to only throw an exception on the first `drawImage` despite them being on basically the same code path.","title":"Why does Graphics2d.drawImage throw a NullPointerException?","body":"<p>I'm writing an application that uses a printer (like inkjet, laser, etc) and I'm using a <code>Printable</code> to print my page. <code>drawImage</code> throws an NPE, but the image displays correctly. I've tested this with Temurin 17.0.5 and Oracle OpenJDK 19.0.1.</p>\n<p>Additional information:\nThis is happening on Ubuntu 22.04 and I haven't tested it on any other platforms. The NPE happens after <code>drawImage</code> returns typically. If I have the program block until <code>observer</code> is notified, the NPE remains.</p>\n<p>Exception:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.ImageConsumer.setColorModel(java.awt.image.ColorModel)&quot; because &quot;this.theConsumer&quot; is null\n    at java.desktop/sun.awt.image.OffScreenImageSource.sendPixels(OffScreenImageSource.java:171)\n    at java.desktop/sun.awt.image.OffScreenImageSource.produce(OffScreenImageSource.java:187)\n    at java.desktop/sun.awt.image.OffScreenImageSource.addConsumer(OffScreenImageSource.java:66)\n    at java.desktop/sun.awt.image.OffScreenImageSource.startProduction(OffScreenImageSource.java:80)\n    at java.desktop/java.awt.image.FilteredImageSource.startProduction(FilteredImageSource.java:184)\n    at java.desktop/sun.awt.image.ImageRepresentation.startProduction(ImageRepresentation.java:732)\n    at java.desktop/sun.awt.image.ToolkitImage.addWatcher(ToolkitImage.java:221)\n    at java.desktop/sun.awt.image.ToolkitImage.getHeight(ToolkitImage.java:142)\n    at java.desktop/sun.print.PeekGraphics$ImageWaiter.waitForDimensions(PeekGraphics.java:1888)\n    at java.desktop/sun.print.PeekGraphics$ImageWaiter.&lt;init&gt;(PeekGraphics.java:1876)\n    at java.desktop/sun.print.PeekGraphics.drawImage(PeekGraphics.java:955)\n    ... the rest is my code\n</code></pre>\n<p>My code is Kotlin and something like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyPrintable : Printable {\n    override fun print(graphics: Graphics, pageFormat: PageFormat, pageIndex: Int): Int {\n        if (pageIndex &gt; 0) {\n            return NO_SUCH_PAGE\n        }\n        val g2d = graphics as Graphics2D\n\n        drawString(...)\n        drawString(...)\n\n        val image1: BufferedImage = loadImage1()\n        // The following line throws an NPE asynchronously\n        drawImage(image1.getScaledInstance(width, height, Image.SCALE_SMOOTH), x, y, null)\n\n        val image2: BufferedImage = loadImage2()\n        drawImage(image1.getScaledInstance(width, height, Image.SCALE_SMOOTH), x2, y2, null)\n\n        return PAGE_EXISTS\n    }\n}\n</code></pre>\n<p>It seems to only throw an exception on the first <code>drawImage</code> despite them being on basically the same code path.</p>\n"},{"tags":["java","csv","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666950086,"creation_date":1666950086,"answer_id":74233448,"question_id":74187451,"body_markdown":"To write CSV with Jackson, I created a utility class:\r\n\r\n    public class CsvUtils&lt;T&gt; {\r\n    \r\n    \tprivate final Class&lt;T&gt; typeParameterClass;\r\n    \t\r\n    \tpublic CsvUtils(final Class&lt;T&gt; typeParameterClass) {\r\n    \t\tthis.typeParameterClass = typeParameterClass;\r\n    \t}\r\n\r\n        // path of the folder where the CSV file will be saved\r\n        private static final String SRC_TEST_RESOURCES_PATH = &quot;./src/test/resources/&quot;;\r\n        private static final String CSV_EXTENSION = &quot;.csv&quot;;\r\n        private static final String UNDERSCORE = &quot;_&quot;;\r\n    \r\n    \tpublic void writeCSV(final String fileName, final List&lt;T&gt; records) throws IOException {\r\n    \t\tfinal String fileNameWithTime = fileName + UNDERSCORE + System.currentTimeMillis() + CSV_EXTENSION;\r\n    \t\tfinal File file = new File(SRC_TEST_RESOURCES_PATH + fileNameWithTime);\r\n    \r\n    \t\tfinal CsvMapper mapper = new CsvMapper();\r\n    \t\tmapper.configure(Feature.IGNORE_UNKNOWN, true);\r\n    \t\t\r\n    \t\tCsvSchema schema = getCsvSchema(mapper);\r\n    \r\n    \t\tfinal ObjectWriter writer = mapper.writerFor(typeParameterClass).with(schema);\r\n    \t\t\r\n    \t\twriter.writeValues(file).writeAll(records);\r\n    \t}\r\n    }\r\n\r\nto use it \r\n\r\n    CsvUtils&lt;SearchRecord&gt; csvSearchRecord = new CsvUtils&lt;&gt;(SearchRecord.class);\r\n    csvSearchRecord.writeCSV(&quot;output&quot;, searchRecords);\r\n\r\nHope it works also for you.","title":"Write ElasticSearch response to CSV with Jackson CSV Mapper","body":"<p>To write CSV with Jackson, I created a utility class:</p>\n<pre><code>public class CsvUtils&lt;T&gt; {\n\n    private final Class&lt;T&gt; typeParameterClass;\n    \n    public CsvUtils(final Class&lt;T&gt; typeParameterClass) {\n        this.typeParameterClass = typeParameterClass;\n    }\n\n    // path of the folder where the CSV file will be saved\n    private static final String SRC_TEST_RESOURCES_PATH = &quot;./src/test/resources/&quot;;\n    private static final String CSV_EXTENSION = &quot;.csv&quot;;\n    private static final String UNDERSCORE = &quot;_&quot;;\n\n    public void writeCSV(final String fileName, final List&lt;T&gt; records) throws IOException {\n        final String fileNameWithTime = fileName + UNDERSCORE + System.currentTimeMillis() + CSV_EXTENSION;\n        final File file = new File(SRC_TEST_RESOURCES_PATH + fileNameWithTime);\n\n        final CsvMapper mapper = new CsvMapper();\n        mapper.configure(Feature.IGNORE_UNKNOWN, true);\n        \n        CsvSchema schema = getCsvSchema(mapper);\n\n        final ObjectWriter writer = mapper.writerFor(typeParameterClass).with(schema);\n        \n        writer.writeValues(file).writeAll(records);\n    }\n}\n</code></pre>\n<p>to use it</p>\n<pre><code>CsvUtils&lt;SearchRecord&gt; csvSearchRecord = new CsvUtils&lt;&gt;(SearchRecord.class);\ncsvSearchRecord.writeCSV(&quot;output&quot;, searchRecords);\n</code></pre>\n<p>Hope it works also for you.</p>\n"}],"owner":{"account_id":24678406,"reputation":28,"user_id":18572479,"display_name":"mayonnaisebrightfish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666950086,"creation_date":1666650688,"question_id":74187451,"body_markdown":"I have a response from ElasticSearch which contains many nested objects. Trying to use Jackson to write this out as a CSV. \r\n\r\nMy response from ElasticSearch is inside a record:\r\n\r\n```java\r\npublic record SearchRecord(String id, @JsonUnwrapped Map&lt;String, Object&gt; values) {}\r\n```\r\nwhere the actual results live inside the `values` property, and from what I&#39;ve read on the Jackson readme should work as a `Map&lt;String, Object&gt;`\r\n\r\nwhere I&#39;m getting a bit lost is how I should be configuring the CSV mapper based on the above `record`\r\n\r\nWhat I&#39;ve attempted is \r\n\r\n```java\r\n@SneakyThrows\r\npublic void writeResults(final List&lt;SearchRecord&gt; searchRecords) {\r\n    final CsvMapper csvMapper = CsvMapper.builder().build();\r\n\r\n    csvMapper.writerWithSchemaFor(SearchRecord.class)\r\n        .with(CsvSchema.emptySchema())\r\n        .writeValue(new File(&quot;./output.csv&quot;), searchRecords);\r\n}\r\n```\r\nBut that failed with \r\n\r\n```java\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Incompatible types: declared root type ([simple type, class com.example.SearchRecord]) vs `java.util.LinkedList`\r\n``` \r\n\r\nI found an [issue on GitHub](https://github.com/FasterXML/jackson-dataformats-text/issues/189) with someone trying to do the same thing, which pointed me to using `@JsonUnwrapped` but that didn&#39;t help unfortunately. \r\n\r\nIs there anything else I can try?\r\n\r\n","title":"Write ElasticSearch response to CSV with Jackson CSV Mapper","body":"<p>I have a response from ElasticSearch which contains many nested objects. Trying to use Jackson to write this out as a CSV.</p>\n<p>My response from ElasticSearch is inside a record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record SearchRecord(String id, @JsonUnwrapped Map&lt;String, Object&gt; values) {}\n</code></pre>\n<p>where the actual results live inside the <code>values</code> property, and from what I've read on the Jackson readme should work as a <code>Map&lt;String, Object&gt;</code></p>\n<p>where I'm getting a bit lost is how I should be configuring the CSV mapper based on the above <code>record</code></p>\n<p>What I've attempted is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SneakyThrows\npublic void writeResults(final List&lt;SearchRecord&gt; searchRecords) {\n    final CsvMapper csvMapper = CsvMapper.builder().build();\n\n    csvMapper.writerWithSchemaFor(SearchRecord.class)\n        .with(CsvSchema.emptySchema())\n        .writeValue(new File(&quot;./output.csv&quot;), searchRecords);\n}\n</code></pre>\n<p>But that failed with</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Incompatible types: declared root type ([simple type, class com.example.SearchRecord]) vs `java.util.LinkedList`\n</code></pre>\n<p>I found an <a href=\"https://github.com/FasterXML/jackson-dataformats-text/issues/189\" rel=\"nofollow noreferrer\">issue on GitHub</a> with someone trying to do the same thing, which pointed me to using <code>@JsonUnwrapped</code> but that didn't help unfortunately.</p>\n<p>Is there anything else I can try?</p>\n"},{"tags":["java","android-studio","file","uri"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1666791335,"post_id":74197561,"comment_id":131019328,"body_markdown":"And which line throws the exception?  And do you have a stack trace to share?","body":"And which line throws the exception?  And do you have a stack trace to share?"},{"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"score":0,"creation_date":1666794795,"post_id":74197561,"comment_id":131020818,"body_markdown":"FileNotFoundException is thrown.  I don&#39;t have stacktrace though","body":"FileNotFoundException is thrown.  I don&#39;t have stacktrace though"},{"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"score":0,"creation_date":1666794851,"post_id":74197561,"comment_id":131020841,"body_markdown":"org.mapsforge.map.reader.header.MapFileException: file does not exist: content:/com.android.externalstorage.documents/document/primary%3Aestonia.map this is the excpetion but it comes from another library but it is not the cause.","body":"org.mapsforge.map.reader.header.MapFileException: file does not exist: content:/com.android.externalstorage.documents/document/prim&zwnj;&#8203;ary%3Aestonia.map this is the excpetion but it comes from another library but it is not the cause."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1666797093,"post_id":74197561,"comment_id":131021757,"body_markdown":"If you do not have a stack trace then do work on getting one.  Among other things, that would help you answer the question I actually asked (*which line* throws the exception?), which should be of interest to you, too.","body":"If you do not have a stack trace then do work on getting one.  Among other things, that would help you answer the question I actually asked (<i>which line</i> throws the exception?), which should be of interest to you, too."},{"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"score":0,"creation_date":1666797568,"post_id":74197561,"comment_id":131021952,"body_markdown":"I added to my original question where I got the exception. This does not help me though, no stack trace would as it would just tell me that the file does not exist but I know that it does.","body":"I added to my original question where I got the exception. This does not help me though, no stack trace would as it would just tell me that the file does not exist but I know that it does."},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1666936390,"post_id":74197561,"comment_id":131056823,"body_markdown":"Perhaps for using this API, it expects you to have some basic knowledge in Java software development.","body":"Perhaps for using this API, it expects you to have some basic knowledge in Java software development."}],"answers":[{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666809238,"creation_date":1666809238,"answer_id":74212636,"question_id":74197561,"body_markdown":"Try below code\r\n```\r\n            File oFile = new File(data.getData().getPath());\r\n            if (oFile.exists()){\r\n                Toast.makeText(this, &quot;exist: &quot;+oFile.exists(), Toast.LENGTH_SHORT).show(); //returns true\r\n                openMap(oFile);\r\n            }else{\r\n                Log.w(&quot;File&quot;, &quot;File does not exist&quot;);\r\n            }\r\n```\r\n\r\nLet me know if the problem not solved yet.","title":"File does not exist exception although file does exist","body":"<p>Try below code</p>\n<pre><code>            File oFile = new File(data.getData().getPath());\n            if (oFile.exists()){\n                Toast.makeText(this, &quot;exist: &quot;+oFile.exists(), Toast.LENGTH_SHORT).show(); //returns true\n                openMap(oFile);\n            }else{\n                Log.w(&quot;File&quot;, &quot;File does not exist&quot;);\n            }\n</code></pre>\n<p>Let me know if the problem not solved yet.</p>\n"},{"tags":[],"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666949596,"creation_date":1666949596,"answer_id":74233334,"question_id":74197561,"body_markdown":"The problem was with the Uri. If I hard code path to the file then everything is fine, but with file choosing intent I can&#39;t actually access the real file path, as far as I know. File contents can still be read but I needed the path. \r\n\r\n    File oFile = new File(Environment.getExternalStorageDirectory() + filePath)\r\n\r\nThis did the trick and I got the actual file loaded.\r\n ","title":"File does not exist exception although file does exist","body":"<p>The problem was with the Uri. If I hard code path to the file then everything is fine, but with file choosing intent I can't actually access the real file path, as far as I know. File contents can still be read but I needed the path.</p>\n<pre><code>File oFile = new File(Environment.getExternalStorageDirectory() + filePath)\n</code></pre>\n<p>This did the trick and I got the actual file loaded.</p>\n"}],"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74233334,"answer_count":2,"score":1,"last_activity_date":1666949596,"creation_date":1666716351,"question_id":74197561,"body_markdown":"I need to user to choose a file from storage. Once user chooses the file I can&#39;t do anything with it because it comes back with an exception &quot;File does not exist&quot;, although it most certainly does. Permissions are granted and I even take persistent URI permission.\r\nThis sample code is not the prettiest, I know but it still shouldn&#39;t give me that excpetion I think. Did I write something wrong or that could cause this problem?\r\n\r\nCurrently this sample code doesn&#39;t throw an exception but if statement fails and logs &quot;File does not exist&quot;. I need it to pass if statement and call openMap(). If I were to remove the if statement I would get `org.mapsforge.map.reader.header.MapFileException: file does not exist: content:/com.android.externalstorage.documents/document/primary%3Aestonia.map`\r\n\r\n\r\n        final ActivityResultLauncher&lt;Intent&gt; sARL = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            if (result.getResultCode() == Activity.RESULT_OK){\r\n                Intent data = result.getData();\r\n                assert data != null;\r\n                Uri uri = data.getData();\r\n                File oFile = new File(uri.getPath());\r\n                getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                if (new File(uri.getPath()).exists()){\r\n                    openMap(oFile);\r\n                }else{\r\n                    Log.w(&quot;File&quot;, &quot;File does not exist&quot;);\r\n                }\r\n\r\n            }\r\n        }\r\n    });\r\n\r\n    public void openFileDialog(){\r\n        Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        data.setType(&quot;*/*&quot;);\r\n        data = Intent.createChooser(data, &quot;Choose tile&quot;);\r\n\r\n        sARL.launch(data);\r\n    }","title":"File does not exist exception although file does exist","body":"<p>I need to user to choose a file from storage. Once user chooses the file I can't do anything with it because it comes back with an exception &quot;File does not exist&quot;, although it most certainly does. Permissions are granted and I even take persistent URI permission.\nThis sample code is not the prettiest, I know but it still shouldn't give me that excpetion I think. Did I write something wrong or that could cause this problem?</p>\n<p>Currently this sample code doesn't throw an exception but if statement fails and logs &quot;File does not exist&quot;. I need it to pass if statement and call openMap(). If I were to remove the if statement I would get <code>org.mapsforge.map.reader.header.MapFileException: file does not exist: content:/com.android.externalstorage.documents/document/primary%3Aestonia.map</code></p>\n<pre><code>    final ActivityResultLauncher&lt;Intent&gt; sARL = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n    @Override\n    public void onActivityResult(ActivityResult result) {\n        if (result.getResultCode() == Activity.RESULT_OK){\n            Intent data = result.getData();\n            assert data != null;\n            Uri uri = data.getData();\n            File oFile = new File(uri.getPath());\n            getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            if (new File(uri.getPath()).exists()){\n                openMap(oFile);\n            }else{\n                Log.w(&quot;File&quot;, &quot;File does not exist&quot;);\n            }\n\n        }\n    }\n});\n\npublic void openFileDialog(){\n    Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n    data.setType(&quot;*/*&quot;);\n    data = Intent.createChooser(data, &quot;Choose tile&quot;);\n\n    sARL.launch(data);\n}\n</code></pre>\n"},{"tags":["java","mysql","syntax","rmi","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666949568,"creation_date":1666949568,"answer_id":74233324,"question_id":74231989,"body_markdown":"The main problem is that parameter binding using the `?` syntax only works to bind _values_ in the SQL statement. It cannot be used for operators such as `&gt;=`, `=`, etc.\r\n\r\nYou&#39;ll need to use string concatenation to build the query string. As pointed out by Ksu in the comments, the semicolon should also be left out.\r\n\r\n    String sql = &quot;SELECT * FROM total WHERE totals &quot; + signString + &quot; ?&quot;;\r\n\r\n    PreparedStatement stmt = con.prepareStatement(sql);\r\n    stmt.setString(1,amount);\r\n\r\nYou may be aware that using string concatenation to build a SQL query is usually discouraged, because it can lead to SQL injection vulnerabilities. This is one reason that bind parameters are preferred.\r\n\r\nIn this case, where the `signString` value is completely controlled by the program, with no opportunity for malicious users to inject another value, it is safe to use concatenation here.\r\n\r\nIt&#39;s still advisable to use bind parameters where they are allowed, as in the example above.","title":"&quot;com.mysql.jdbc.exceptions.MySQLSyntaxErrorException&quot; greater than and lesser than signs maybe?","body":"<p>The main problem is that parameter binding using the <code>?</code> syntax only works to bind <em>values</em> in the SQL statement. It cannot be used for operators such as <code>&gt;=</code>, <code>=</code>, etc.</p>\n<p>You'll need to use string concatenation to build the query string. As pointed out by Ksu in the comments, the semicolon should also be left out.</p>\n<pre><code>String sql = &quot;SELECT * FROM total WHERE totals &quot; + signString + &quot; ?&quot;;\n\nPreparedStatement stmt = con.prepareStatement(sql);\nstmt.setString(1,amount);\n</code></pre>\n<p>You may be aware that using string concatenation to build a SQL query is usually discouraged, because it can lead to SQL injection vulnerabilities. This is one reason that bind parameters are preferred.</p>\n<p>In this case, where the <code>signString</code> value is completely controlled by the program, with no opportunity for malicious users to inject another value, it is safe to use concatenation here.</p>\n<p>It's still advisable to use bind parameters where they are allowed, as in the example above.</p>\n"}],"owner":{"account_id":26757601,"reputation":1,"user_id":20355992,"display_name":"Semi Ravitisai Vainitoba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666949568,"creation_date":1666942415,"question_id":74231989,"body_markdown":"com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39;1&#39;&#39; at line 1\r\n\r\n\r\n    try\r\n    {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);  \r\n        Connection con=DriverManager.getConnection( &quot;jdbc:mysql://localhost:3306/jsupermarket&quot;,&quot;root&quot;,&quot;&quot;);  \r\n\r\n        String signString =&quot;&quot;;\r\n        if (type == 1)//greater\r\n        {\r\n            signString  = &quot;&gt;=&quot; ;\r\n            System.out.print(&quot;1 selected \\n&quot;);\r\n        }\r\n        if (type == 2)//lesser\r\n        {\r\n            signString  = &quot;&lt;=&quot; ;\r\n            System.out.print(&quot;2 selected \\n&quot;);\r\n        }\r\n        if (type == 3)//equa;\r\n        {\r\n            signString  = &quot;=&quot; ;\r\n            System.out.print(&quot;3 selected \\n&quot;);\r\n        }\r\n\r\n        String sql = &quot;SELECT * FROM total WHERE totals ? ?;&quot;;\r\n\r\n        PreparedStatement stmt = con.prepareStatement(sql);\r\n        stmt.setString(1,signString);\r\n        stmt.setString(2,amount);\r\n\r\n        ResultSet rs = stmt.executeQuery();\r\n\r\n\r\nThe statement was to return the data according the condition replaced after the &quot;WHERE&quot; statement. I get that syntax error, but I don&#39;t see the problem, help please\r\n\r\nWhen data is received, it saves in a 2D ARRAY than is returned to another class called &#39;client&#39; whereby the data is to be dispersed to a JTable\r\n\r\n*I am utilizing RMI","title":"&quot;com.mysql.jdbc.exceptions.MySQLSyntaxErrorException&quot; greater than and lesser than signs maybe?","body":"<p>com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ''1'' at line 1</p>\n<pre><code>try\n{\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);  \n    Connection con=DriverManager.getConnection( &quot;jdbc:mysql://localhost:3306/jsupermarket&quot;,&quot;root&quot;,&quot;&quot;);  \n\n    String signString =&quot;&quot;;\n    if (type == 1)//greater\n    {\n        signString  = &quot;&gt;=&quot; ;\n        System.out.print(&quot;1 selected \\n&quot;);\n    }\n    if (type == 2)//lesser\n    {\n        signString  = &quot;&lt;=&quot; ;\n        System.out.print(&quot;2 selected \\n&quot;);\n    }\n    if (type == 3)//equa;\n    {\n        signString  = &quot;=&quot; ;\n        System.out.print(&quot;3 selected \\n&quot;);\n    }\n\n    String sql = &quot;SELECT * FROM total WHERE totals ? ?;&quot;;\n\n    PreparedStatement stmt = con.prepareStatement(sql);\n    stmt.setString(1,signString);\n    stmt.setString(2,amount);\n\n    ResultSet rs = stmt.executeQuery();\n</code></pre>\n<p>The statement was to return the data according the condition replaced after the &quot;WHERE&quot; statement. I get that syntax error, but I don't see the problem, help please</p>\n<p>When data is received, it saves in a 2D ARRAY than is returned to another class called 'client' whereby the data is to be dispersed to a JTable</p>\n<p>*I am utilizing RMI</p>\n"},{"tags":["java","windows","intellij-idea","javadoc"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1666871667,"post_id":74221033,"comment_id":131040638,"body_markdown":"https://www.oracle.com/java/technologies/javase-jdk8-doc-downloads.html","body":"<a href=\"https://www.oracle.com/java/technologies/javase-jdk8-doc-downloads.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase-jdk8-doc-downloads.html</a>"},{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":0,"creation_date":1666872922,"post_id":74221033,"comment_id":131041065,"body_markdown":"@ThomasBehr Those are for JDK 8 Update 351","body":"@ThomasBehr Those are for JDK 8 Update 351"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666878911,"post_id":74221033,"comment_id":131043426,"body_markdown":"Why do you specifically need it for Java 8 update 321? Update to the latest Java 8 version and use its documentation.","body":"Why do you specifically need it for Java 8 update 321? Update to the latest Java 8 version and use its documentation."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1666882313,"post_id":74221033,"comment_id":131044795,"body_markdown":"@sinclair Does not matter. Public API does not change in patch releases.","body":"@sinclair Does not matter. Public API does not change in patch releases."},{"owner":{"account_id":19330651,"reputation":78,"user_id":14132343,"display_name":"denizeve"},"score":0,"creation_date":1666947103,"post_id":74221033,"comment_id":131059669,"body_markdown":"@MarkRotteveel because those are not my personal projects and that specific version of Java is obligatory.","body":"@MarkRotteveel because those are not my personal projects and that specific version of Java is obligatory."}],"answers":[{"tags":[],"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666871886,"creation_date":1666871886,"answer_id":74221678,"question_id":74221033,"body_markdown":"Javadoc: https://javadl.oracle.com/webapps/download/AutoDL?BundleId=245778_df5ad55fdd604472a86a45a217032c7d\r\n\r\nThe source should be part of the JDK, search for `src.zip` in your JDK directory.\r\n\r\n[How to attach JDK source code to IntelliJ IDEA][1]\r\n\r\n\r\n  [1]: https://mkyong.com/java/how-to-attach-jdk-source-code-to-intellij-idea/","title":"I cannot find javadoc or source files for JDK 8 Update 321 on the net","body":"<p>Javadoc: <a href=\"https://javadl.oracle.com/webapps/download/AutoDL?BundleId=245778_df5ad55fdd604472a86a45a217032c7d\" rel=\"nofollow noreferrer\">https://javadl.oracle.com/webapps/download/AutoDL?BundleId=245778_df5ad55fdd604472a86a45a217032c7d</a></p>\n<p>The source should be part of the JDK, search for <code>src.zip</code> in your JDK directory.</p>\n<p><a href=\"https://mkyong.com/java/how-to-attach-jdk-source-code-to-intellij-idea/\" rel=\"nofollow noreferrer\">How to attach JDK source code to IntelliJ IDEA</a></p>\n"},{"tags":[],"owner":{"account_id":19330651,"reputation":78,"user_id":14132343,"display_name":"denizeve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666949543,"creation_date":1666949543,"answer_id":74233320,"question_id":74221033,"body_markdown":"I didn&#39;t know that patch releases don&#39;t change the public API, so both Thomas Behr&#39;s comment and sinclair&#39;s answer are valid.\r\n\r\nOnly thing to add is that the **javadoc** zip should be included in IntelliJ IDA via *File -&gt; Project Structure -&gt; Platform Settings -&gt; SDKs -&gt; **Documentation Paths** (instead of **Sourcepath**)*.","title":"I cannot find javadoc or source files for JDK 8 Update 321 on the net","body":"<p>I didn't know that patch releases don't change the public API, so both Thomas Behr's comment and sinclair's answer are valid.</p>\n<p>Only thing to add is that the <strong>javadoc</strong> zip should be included in IntelliJ IDA via <em>File -&gt; Project Structure -&gt; Platform Settings -&gt; SDKs -&gt; <strong>Documentation Paths</strong> (instead of <strong>Sourcepath</strong>)</em>.</p>\n"}],"owner":{"account_id":19330651,"reputation":78,"user_id":14132343,"display_name":"denizeve"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74221678,"answer_count":2,"score":0,"last_activity_date":1666949543,"creation_date":1666868485,"question_id":74221033,"body_markdown":"In the projects in IntelliJ IDEA I am using **JDK 8 Update 321**, but I am missing javadoc or source for the SDK.\r\n\r\nOS is Windows 10.\r\n\r\nI realy tried, but wasn&#39;t able to find either on the internet.","title":"I cannot find javadoc or source files for JDK 8 Update 321 on the net","body":"<p>In the projects in IntelliJ IDEA I am using <strong>JDK 8 Update 321</strong>, but I am missing javadoc or source for the SDK.</p>\n<p>OS is Windows 10.</p>\n<p>I realy tried, but wasn't able to find either on the internet.</p>\n"},{"tags":["java","spring","spring-security","keycloak","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666949465,"creation_date":1666806435,"answer_id":74212089,"question_id":74205664,"body_markdown":"Do not use Keycloak adapters, [it is very deprecated][1].\r\n\r\nI **strongly recommend** you take the time to read this set of [3 tutorials][2] which end with exactly what you want: configure spring-security to populate security-context with a custom `Authentication` implementation containing data retrieved from a JWT access-token (issued by Keycloak or whatever).\r\n\r\nBad news is it based on spring-boot. Good news is everything is open-source and you can inspect any @Bean configured.\r\n\r\nIf you don&#39;t have spring-boot, you&#39;ll have a little more work to provide your application context with a `SecurityFilterChain` bean for an **OAuth2 resource-server with a JWT decoder**. I let you refer to the doc to have one defined in your conf.\r\n\r\nOnce you have it, defining your own `Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;` on resource-server JWT decoder configurer should be enough:\r\n```java\r\ninterface ClaimsToAuthoritiesConverter extends Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; {}\r\n\r\n@Bean\r\nClaimsToAuthoritiesConverter authoritiesConverter() {\r\n    return (Map&lt;String, Object&gt; claims) -&gt; {\r\n        // Override this with the actual private-claim(s) your authorization-server puts roles into\r\n        // like resource_access.some-client.roles or whatever\r\n        final var realmAccessClaim = (Map&lt;String, Object&gt;) claims.getOrDefault(&quot;realm_access&quot;, Map.of());\r\n        final var rolesClaim = (Collection&lt;String&gt;) realmAccessClaim.getOrDefault(&quot;roles&quot;, List.of());\r\n        return rolesClaim.stream().map(SimpleGrantedAuthority::new).toList();\r\n    };\r\n}\r\n\r\n@Bean\r\nSecurityFilterChain filterChain(HttpSecurity http, Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authoritiesConverter) throws Exception {\r\n    http.oauth2ResourceServer().jwt()\r\n        // omitted regular JWT decoder configuration like issuer, jwk-set-uri, etc.\r\n        .jwtAuthenticationConverter(jwt -&gt; new YourOwnAuthentication(jwt.getTokenValue(), jwt.getClaims(), authoritiesConverter));\r\n    // Some more security conf like CORS etc.\r\n    return http.build();\r\n}\r\n```\r\n\r\nThis converter from `Jwt` to your own implementation of `AbstractAuthenticationToken` is called **after** the JWT access-token was sucessfully decoded and validated. In other words, it is pretty safe to interfere at this stage, it is just a matter of formating **valid** authentication data in the most convenient way for your business code and security rules.\r\n\r\nTips for designing `YourOwnAuthentication`:\r\n```java\r\npublic class YourOwnAuthentication extends AbstractAuthenticationToken {\r\n    private final CustomObject principal;\r\n    private final String bearerString;\r\n\r\n    public YourOwnAuthentication (String bearerString, Map&lt;String, Object&gt; claims, Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authoritiesConverter) {\r\n        super(authoritiesConverter.convert(claims));\r\n        super.setAuthenticated(true);\r\n        this.bearerString = bearerString;\r\n        this.principal = new CustomObject(claims); // I connot figure out how you&#39;ll actually build that\r\n    }\r\n\r\n    @Override\r\n    public String getCredentials() {\r\n        return bearerString;\r\n    }\r\n\r\n    @Override\r\n    public CustomObject getPrincipal() {\r\n        return principal;\r\n    }\r\n    \r\n    public String getBearerString() {\r\n        return bearerString;\r\n    }\r\n}\r\n```\r\nSide note: in addition to &quot;manually&quot; access your `CustomObject` instance from security-context as you do in your question you&#39;ll also be able to access it with spring &quot;magic&quot; authentication parameters for @Controller methods:\r\n- `@PreAuthorise(&quot;isAuthenticated()&quot;) ResponseEntity&lt;?&gt; controllerMethod(YourOwnAuthentication auth)` and then declare `CustomObject customObject = auth.getPrincipal();` (note there is no cast here)\r\n- `@PreAuthorise(&quot;isAuthenticated()&quot;) ResponseEntity&lt;?&gt; controllerMethod(@AuthenticationPrincipal CustomObject customObject)`\r\n\r\nLast, a production ready authorities converter [here][3]\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [3]: https://github.com/ch4mpy/spring-addons/blob/master/spring-addons-oauth2/src/main/java/com/c4_soft/springaddons/security/oauth2/config/ConfigurableClaimSet2AuthoritiesConverter.java","title":"How to use a custom object instead of KeycloakPrincipal","body":"<p>Do not use Keycloak adapters, <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">it is very deprecated</a>.</p>\n<p>I <strong>strongly recommend</strong> you take the time to read this set of <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">3 tutorials</a> which end with exactly what you want: configure spring-security to populate security-context with a custom <code>Authentication</code> implementation containing data retrieved from a JWT access-token (issued by Keycloak or whatever).</p>\n<p>Bad news is it based on spring-boot. Good news is everything is open-source and you can inspect any @Bean configured.</p>\n<p>If you don't have spring-boot, you'll have a little more work to provide your application context with a <code>SecurityFilterChain</code> bean for an <strong>OAuth2 resource-server with a JWT decoder</strong>. I let you refer to the doc to have one defined in your conf.</p>\n<p>Once you have it, defining your own <code>Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;</code> on resource-server JWT decoder configurer should be enough:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ClaimsToAuthoritiesConverter extends Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; {}\n\n@Bean\nClaimsToAuthoritiesConverter authoritiesConverter() {\n    return (Map&lt;String, Object&gt; claims) -&gt; {\n        // Override this with the actual private-claim(s) your authorization-server puts roles into\n        // like resource_access.some-client.roles or whatever\n        final var realmAccessClaim = (Map&lt;String, Object&gt;) claims.getOrDefault(&quot;realm_access&quot;, Map.of());\n        final var rolesClaim = (Collection&lt;String&gt;) realmAccessClaim.getOrDefault(&quot;roles&quot;, List.of());\n        return rolesClaim.stream().map(SimpleGrantedAuthority::new).toList();\n    };\n}\n\n@Bean\nSecurityFilterChain filterChain(HttpSecurity http, Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authoritiesConverter) throws Exception {\n    http.oauth2ResourceServer().jwt()\n        // omitted regular JWT decoder configuration like issuer, jwk-set-uri, etc.\n        .jwtAuthenticationConverter(jwt -&gt; new YourOwnAuthentication(jwt.getTokenValue(), jwt.getClaims(), authoritiesConverter));\n    // Some more security conf like CORS etc.\n    return http.build();\n}\n</code></pre>\n<p>This converter from <code>Jwt</code> to your own implementation of <code>AbstractAuthenticationToken</code> is called <strong>after</strong> the JWT access-token was sucessfully decoded and validated. In other words, it is pretty safe to interfere at this stage, it is just a matter of formating <strong>valid</strong> authentication data in the most convenient way for your business code and security rules.</p>\n<p>Tips for designing <code>YourOwnAuthentication</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourOwnAuthentication extends AbstractAuthenticationToken {\n    private final CustomObject principal;\n    private final String bearerString;\n\n    public YourOwnAuthentication (String bearerString, Map&lt;String, Object&gt; claims, Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authoritiesConverter) {\n        super(authoritiesConverter.convert(claims));\n        super.setAuthenticated(true);\n        this.bearerString = bearerString;\n        this.principal = new CustomObject(claims); // I connot figure out how you'll actually build that\n    }\n\n    @Override\n    public String getCredentials() {\n        return bearerString;\n    }\n\n    @Override\n    public CustomObject getPrincipal() {\n        return principal;\n    }\n    \n    public String getBearerString() {\n        return bearerString;\n    }\n}\n</code></pre>\n<p>Side note: in addition to &quot;manually&quot; access your <code>CustomObject</code> instance from security-context as you do in your question you'll also be able to access it with spring &quot;magic&quot; authentication parameters for @Controller methods:</p>\n<ul>\n<li><code>@PreAuthorise(&quot;isAuthenticated()&quot;) ResponseEntity&lt;?&gt; controllerMethod(YourOwnAuthentication auth)</code> and then declare <code>CustomObject customObject = auth.getPrincipal();</code> (note there is no cast here)</li>\n<li><code>@PreAuthorise(&quot;isAuthenticated()&quot;) ResponseEntity&lt;?&gt; controllerMethod(@AuthenticationPrincipal CustomObject customObject)</code></li>\n</ul>\n<p>Last, a production ready authorities converter <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/spring-addons-oauth2/src/main/java/com/c4_soft/springaddons/security/oauth2/config/ConfigurableClaimSet2AuthoritiesConverter.java\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":20211307,"reputation":115,"user_id":14823855,"display_name":"Pieter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74212089,"answer_count":1,"score":0,"last_activity_date":1666949465,"creation_date":1666777372,"question_id":74205664,"body_markdown":"I have a Spring (not Spring Boot) REST API that is secured using Spring Security. Many endpoints require authentication in the form of a JWT before they can be accessed. Often the principal is fetched to access information from the token:\r\n```java\r\nCustomObject customObject = (CustomObject) SecurityContextHolder\r\n      .getContext()\r\n      .getAuthentication()\r\n      .getPrincipal();\r\n```\r\nI&#39;m attempting to change the REST API to accept Keycloak tokens. Following the Keycloak documentation I&#39;ve added the `keycloak-spring-security-adapter` dependency, setup a local Keycloak instance using Docker for development and added a `keycloak.json` to the API project. Everything seems to work, the API accepts an access token in the Authorization header of requests. However, when attempting to access information from the token an exception occurs because the `KeycloakPrincipal` class can&#39;t be cast to our `CustomObject` class.\r\n\r\nI don&#39;t want to go through the whole project and change all casts when getting the principal from `CustomObject` to `KeycloakPrincipal` as that would be a significant amount of work. Besides, using the `KeycloakPrincipal` object makes our code implementation specific (Keycloak in this case), what if we want to move to a different token provider.\r\n\r\nIs it possible to change the default `KeycloakPrincipal` set on the security context to a custom object so the above code for getting the principal still works? If so, what would be the best way to do that, through a Spring filter maybe?","title":"How to use a custom object instead of KeycloakPrincipal","body":"<p>I have a Spring (not Spring Boot) REST API that is secured using Spring Security. Many endpoints require authentication in the form of a JWT before they can be accessed. Often the principal is fetched to access information from the token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CustomObject customObject = (CustomObject) SecurityContextHolder\n      .getContext()\n      .getAuthentication()\n      .getPrincipal();\n</code></pre>\n<p>I'm attempting to change the REST API to accept Keycloak tokens. Following the Keycloak documentation I've added the <code>keycloak-spring-security-adapter</code> dependency, setup a local Keycloak instance using Docker for development and added a <code>keycloak.json</code> to the API project. Everything seems to work, the API accepts an access token in the Authorization header of requests. However, when attempting to access information from the token an exception occurs because the <code>KeycloakPrincipal</code> class can't be cast to our <code>CustomObject</code> class.</p>\n<p>I don't want to go through the whole project and change all casts when getting the principal from <code>CustomObject</code> to <code>KeycloakPrincipal</code> as that would be a significant amount of work. Besides, using the <code>KeycloakPrincipal</code> object makes our code implementation specific (Keycloak in this case), what if we want to move to a different token provider.</p>\n<p>Is it possible to change the default <code>KeycloakPrincipal</code> set on the security context to a custom object so the above code for getting the principal still works? If so, what would be the best way to do that, through a Spring filter maybe?</p>\n"},{"tags":["java","sql","csv","db2","export"],"answers":[{"tags":[],"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666949270,"creation_date":1666949270,"answer_id":74233270,"question_id":74231984,"body_markdown":"[IBM Data Server Client and driver types](https://www.ibm.com/docs/en/db2/11.5?topic=overviews-data-server-clients).  \r\nThe [IBM Data Server Driver Package](http://www.ibm.com/support/fixcentral/quickorder?source=dbluesearch&amp;product=ibm%2FInformation+Management%2FIBM+Data+Server+Client+Packages&amp;release=11.5.8.0&amp;platform=Windows+64-bit,+x86&amp;searchtype=fix&amp;fixids=*dsdriver*FP000), for example, contains the [Command line processor plus](https://www.ibm.com/docs/en/db2/11.5?topic=commands-command-line-processor-plus-clpplus) utility which can run various db2 commands, statements and scripts including the Db2 [EXPORT command](https://www.ibm.com/docs/en/db2/11.5?topic=commands-export).  \r\n\r\nUsage:\r\n\r\nFrom the OS command line:\r\n\r\n    clpplus -nw user/password@host:port/database @s1.sql\r\n\r\nThe contents of the `s1.sql` file used as a parameter above:\r\n\r\n    SET ECHO ON;\r\n    EXPORT TO &quot;full\\path\\to\\my_file.csv&quot; of del \r\n    SELECT * \r\n    FROM MYTABLE;\r\n    EXIT\r\n\r\nYou may use whatever valid SELECT statement in the EXPORT command.","title":"SQL DB2 Database Table automatic export to .csv on WIndows","body":"<p><a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=overviews-data-server-clients\" rel=\"nofollow noreferrer\">IBM Data Server Client and driver types</a>.<br />\nThe <a href=\"http://www.ibm.com/support/fixcentral/quickorder?source=dbluesearch&amp;product=ibm%2FInformation+Management%2FIBM+Data+Server+Client+Packages&amp;release=11.5.8.0&amp;platform=Windows+64-bit,+x86&amp;searchtype=fix&amp;fixids=*dsdriver*FP000\" rel=\"nofollow noreferrer\">IBM Data Server Driver Package</a>, for example, contains the <a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=commands-command-line-processor-plus-clpplus\" rel=\"nofollow noreferrer\">Command line processor plus</a> utility which can run various db2 commands, statements and scripts including the Db2 <a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=commands-export\" rel=\"nofollow noreferrer\">EXPORT command</a>.</p>\n<p>Usage:</p>\n<p>From the OS command line:</p>\n<pre><code>clpplus -nw user/password@host:port/database @s1.sql\n</code></pre>\n<p>The contents of the <code>s1.sql</code> file used as a parameter above:</p>\n<pre><code>SET ECHO ON;\nEXPORT TO &quot;full\\path\\to\\my_file.csv&quot; of del \nSELECT * \nFROM MYTABLE;\nEXIT\n</code></pre>\n<p>You may use whatever valid SELECT statement in the EXPORT command.</p>\n"}],"owner":{"account_id":26402625,"reputation":11,"user_id":20052876,"display_name":"Juju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666949270,"creation_date":1666942375,"question_id":74231984,"body_markdown":"I am currently training to be an application developer and am in my second month.\r\n\r\nNow I got a task that felt impossible for me.\r\nI have also googled since yesterday but did not find anything.\r\n\r\n\r\n\r\nI have to insert the data from a database that I access with SQL Explorer into a .csv file. and save it on my machine\r\n\r\nIt should work automatically, but for testing it doesn&#39;t have to. \r\n\r\nI use Eclipse and program with Java, have seen something on the Internet that it works with MySQL, but the DB2 database is connected with the SQL Explorer.\r\nMy plan is a solution, programming in java to update everyday the csv thats basically my task\r\n\r\nSorry if it doesn&#39;t fit here on Stackoverflow, I&#39;m totally lost because I&#39;m still in the trial period.\r\n\r\nGreetings from Germany \r\n\r\n\r\n\r\n","title":"SQL DB2 Database Table automatic export to .csv on WIndows","body":"<p>I am currently training to be an application developer and am in my second month.</p>\n<p>Now I got a task that felt impossible for me.\nI have also googled since yesterday but did not find anything.</p>\n<p>I have to insert the data from a database that I access with SQL Explorer into a .csv file. and save it on my machine</p>\n<p>It should work automatically, but for testing it doesn't have to.</p>\n<p>I use Eclipse and program with Java, have seen something on the Internet that it works with MySQL, but the DB2 database is connected with the SQL Explorer.\nMy plan is a solution, programming in java to update everyday the csv thats basically my task</p>\n<p>Sorry if it doesn't fit here on Stackoverflow, I'm totally lost because I'm still in the trial period.</p>\n<p>Greetings from Germany</p>\n"},{"tags":["java","eclipse","debugging","return-value"],"comments":[{"owner":{"display_name":"user672348"},"score":8,"creation_date":1300851367,"post_id":217116,"comment_id":6114451,"body_markdown":"That&#39;s why I switched to the Community Version of IntelliJ -- the Eclipse folks just don&#39;t seem to understand how important this is.  (If they ever fix it, I&#39;ll switch back the day it&#39;s released.)","body":"That&#39;s why I switched to the Community Version of IntelliJ -- the Eclipse folks just don&#39;t seem to understand how important this is.  (If they ever fix it, I&#39;ll switch back the day it&#39;s released.)"},{"owner":{"account_id":14684,"reputation":62911,"user_id":30453,"accept_rate":82,"display_name":"IAdapter"},"score":0,"creation_date":1323090217,"post_id":217116,"comment_id":10350819,"body_markdown":"@James Mitchell this looks like a great idea for a plugin. I will add it to me todo list and will try to do it when I find time(not soon)","body":"@James Mitchell this looks like a great idea for a plugin. I will add it to me todo list and will try to do it when I find time(not soon)"},{"owner":{"account_id":104628,"reputation":1915,"user_id":279611,"accept_rate":86,"display_name":"Alexey Tigarev"},"score":0,"creation_date":1379228804,"post_id":217116,"comment_id":27741711,"body_markdown":"@user672348 But how to do that in IntelliJ IDEA?","body":"@user672348 But how to do that in IntelliJ IDEA?"},{"owner":{"account_id":22022,"reputation":6448,"user_id":53974,"display_name":"Blaisorblade"},"score":0,"creation_date":1392474243,"post_id":217116,"comment_id":32984597,"body_markdown":"@AlexeyTigarev: IIRC, it&#39;s just displayed when you do &quot;Step Return&quot; (or the equivalent).","body":"@AlexeyTigarev: IIRC, it&#39;s just displayed when you do &quot;Step Return&quot; (or the equivalent)."},{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":2,"creation_date":1481642245,"post_id":217116,"comment_id":69452945,"body_markdown":"Brace yourself for Eclipse Oxygen (mid 2017 release date). [The M2 milestone includes this feature](https://www.eclipse.org/eclipse/news/4.7/M2/#step-show-methodresult).","body":"Brace yourself for Eclipse Oxygen (mid 2017 release date). <a href=\"https://www.eclipse.org/eclipse/news/4.7/M2/#step-show-methodresult\" rel=\"nofollow noreferrer\">The M2 milestone includes this feature</a>."},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1495628902,"post_id":217116,"comment_id":75333059,"body_markdown":"@user672348 and did you switch? :&gt;","body":"@user672348 and did you switch? :&gt;"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1547739041,"post_id":217116,"comment_id":95303032,"body_markdown":"@Abdull: Thanks for pointing this out. I added it to the top answer.","body":"@Abdull: Thanks for pointing this out. I added it to the top answer."}],"answers":[{"tags":[],"owner":{"account_id":8423,"reputation":735986,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1224458509,"creation_date":1224458509,"answer_id":217152,"question_id":217116,"body_markdown":"Tough one.  My experience, outside of Eclipse, is that if you might need to see the return value, it is best to assign it to a local variable in the function so that the return statement is a simple `return varname;` and not `return(some * expression || other);`.  However, that&#39;s not dreadfully helpful to you since you say you can&#39;t (or don&#39;t want to) modify or even recompile the code.  So, I don&#39;t have a good answer for you - perhaps you need to reconsider your requirement.","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>Tough one.  My experience, outside of Eclipse, is that if you might need to see the return value, it is best to assign it to a local variable in the function so that the return statement is a simple <code>return varname;</code> and not <code>return(some * expression || other);</code>.  However, that's not dreadfully helpful to you since you say you can't (or don't want to) modify or even recompile the code.  So, I don't have a good answer for you - perhaps you need to reconsider your requirement.</p>\n"},{"tags":[],"owner":{"account_id":12089,"reputation":43,"user_id":23636,"display_name":"stephmara"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1224459137,"creation_date":1224459137,"answer_id":217166,"question_id":217116,"body_markdown":"Depending on the return statement, you can highlight the expression that is being returned and from the right-click menu, there should be something like &quot;evaluate expression&quot; (I don&#39;t have eclipse in front of me now, but it&#39;s something like that).  It will show you what is going to be returned. ","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>Depending on the return statement, you can highlight the expression that is being returned and from the right-click menu, there should be something like \"evaluate expression\" (I don't have eclipse in front of me now, but it's something like that).  It will show you what is going to be returned. </p>\n"},{"tags":[],"owner":{"account_id":6347,"reputation":6694,"user_id":10638,"accept_rate":67,"display_name":"DJ."},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1224474064,"creation_date":1224474064,"answer_id":217470,"question_id":217116,"body_markdown":"I am curious about to learn the answer to this question also. \r\n\r\nIn the past, when dealing with 3rd party library like that, what I did is to create a wrapper class or child class that delegate to the parent class and do my debugging in the wrapper/child class. It takes extra work though.","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>I am curious about to learn the answer to this question also. </p>\n\n<p>In the past, when dealing with 3rd party library like that, what I did is to create a wrapper class or child class that delegate to the parent class and do my debugging in the wrapper/child class. It takes extra work though.</p>\n"},{"tags":[],"owner":{"account_id":2051,"reputation":9795,"user_id":2823,"accept_rate":69,"display_name":"zvikico"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1392480740,"creation_date":1227111534,"answer_id":302443,"question_id":217116,"body_markdown":"That&#39;s why I always stick with the following pattern for methods:\r\n\r\n    MyReturnedType foo() {\r\n         MyReturnedType   result = null;\r\n \r\n         // do your stuff, modify the result or not\r\n         \r\n         return result;\r\n    }\r\n\r\n\r\nMy rules:\r\n\r\n 1. Only one return statement, only at the end of the method (finally allowed after it)\r\n 2. Always have a local called result which holds the returned value, starting from a default.\r\n\r\nNaturally, the most trivial getters are exempt.","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>That's why I always stick with the following pattern for methods:</p>\n\n<pre><code>MyReturnedType foo() {\n     MyReturnedType   result = null;\n\n     // do your stuff, modify the result or not\n\n     return result;\n}\n</code></pre>\n\n<p>My rules:</p>\n\n<ol>\n<li>Only one return statement, only at the end of the method (finally allowed after it)</li>\n<li>Always have a local called result which holds the returned value, starting from a default.</li>\n</ol>\n\n<p>Naturally, the most trivial getters are exempt.</p>\n"},{"tags":[],"owner":{"display_name":"Daniel Meyer"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1547739234,"creation_date":1232460037,"answer_id":461387,"question_id":217116,"body_markdown":"This feature was added to Eclipse version 4.7 M2 under [Eclipse bug 40912][1].\r\n\r\nTo use it:\r\n\r\n* step over the `return` statement (using &quot;Step Over&quot; or &quot;Step Return&quot;)\r\n* now the first line in the variable view will show the result of the return statement, as &quot;[statement xxx] returned: &quot;\r\n\r\nSee [Eclipse Project Oxygen (4.7) M2 - New and Noteworthy][2] for details.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=40912\r\n  [2]: https://www.eclipse.org/eclipse/news/4.7/M2/#step-show-methodresult","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>This feature was added to Eclipse version 4.7 M2 under <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=40912\" rel=\"noreferrer\">Eclipse bug 40912</a>.</p>\n\n<p>To use it:</p>\n\n<ul>\n<li>step over the <code>return</code> statement (using \"Step Over\" or \"Step Return\")</li>\n<li>now the first line in the variable view will show the result of the return statement, as \"[statement xxx] returned: \"</li>\n</ul>\n\n<p>See <a href=\"https://www.eclipse.org/eclipse/news/4.7/M2/#step-show-methodresult\" rel=\"noreferrer\">Eclipse Project Oxygen (4.7) M2 - New and Noteworthy</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":21831,"reputation":1232,"user_id":53369,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1232470284,"creation_date":1232470284,"answer_id":462124,"question_id":217116,"body_markdown":"This is a bit far-fetched, but as there doesn&#39;t seem to be a simple way:\r\n\r\nYou could use AspectJ to instrument the JAR with aspects that get hold of the return value of the methods you&#39;re interested in. According to Eclipse&#39;s documentation, AspectJ programs can be [debugged][1] like other programs.\r\n\r\nThere are two options to weave your classes without recompiling the library :\r\n\r\n* Post-compile weaving if processing the binary JAR is acceptable;\r\n\r\n* Load-time weaving, which requires activating a weaving agent in the VM.\r\n\r\nSee the eclipse documentation (link above) and also the [AspectJ Development Environment Guide][2].\r\n\r\n\r\n  [1]: http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.ajdt.doc.user/questions/usingajdt/debugging.htm\r\n  [2]: http://www.eclipse.org/aspectj/doc/released/devguide/index.html","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>This is a bit far-fetched, but as there doesn't seem to be a simple way:</p>\n\n<p>You could use AspectJ to instrument the JAR with aspects that get hold of the return value of the methods you're interested in. According to Eclipse's documentation, AspectJ programs can be <a href=\"http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.ajdt.doc.user/questions/usingajdt/debugging.htm\" rel=\"nofollow noreferrer\">debugged</a> like other programs.</p>\n\n<p>There are two options to weave your classes without recompiling the library :</p>\n\n<ul>\n<li><p>Post-compile weaving if processing the binary JAR is acceptable;</p></li>\n<li><p>Load-time weaving, which requires activating a weaving agent in the VM.</p></li>\n</ul>\n\n<p>See the eclipse documentation (link above) and also the <a href=\"http://www.eclipse.org/aspectj/doc/released/devguide/index.html\" rel=\"nofollow noreferrer\">AspectJ Development Environment Guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1261827192,"creation_date":1261827192,"answer_id":1963207,"question_id":217116,"body_markdown":"This is actually a long standing bug in Eclipse, dating back from the very first days of the IDE: https://bugs.eclipse.org/bugs/show_bug.cgi?id=40912","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>This is actually a long standing bug in Eclipse, dating back from the very first days of the IDE: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=40912\" rel=\"noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=40912</a></p>\n"},{"tags":[],"owner":{"account_id":3921285,"reputation":738,"user_id":3243336,"display_name":"Satish"},"down_vote_count":4,"up_vote_count":39,"is_accepted":false,"score":35,"last_activity_date":1390891407,"creation_date":1390891407,"answer_id":21398654,"question_id":217116,"body_markdown":"Found a really good shortcut for this.\r\nSelect the expression which returns the value and press \r\n\r\n    Ctrl + Shift + D\r\n\r\nThis will display the value of the return statement. This is really helpful in cases where you can&#39;t or don&#39;t want to change just for debugging purpose.\r\n\r\nHope this helps.\r\n\r\nNote: Have not tested this with third party libraries, but it is working fine for my code.\r\nTested this on *Eclipse Java EE IDE for Web Developers. Version: Juno Service Release 1*\r\n","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>Found a really good shortcut for this.\nSelect the expression which returns the value and press </p>\n\n<pre><code>Ctrl + Shift + D\n</code></pre>\n\n<p>This will display the value of the return statement. This is really helpful in cases where you can't or don't want to change just for debugging purpose.</p>\n\n<p>Hope this helps.</p>\n\n<p>Note: Have not tested this with third party libraries, but it is working fine for my code.\nTested this on <em>Eclipse Java EE IDE for Web Developers. Version: Juno Service Release 1</em></p>\n"},{"tags":[],"owner":{"account_id":295514,"reputation":2157,"user_id":599971,"accept_rate":55,"display_name":"ejaenv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547049737,"creation_date":1547049737,"answer_id":54114002,"question_id":217116,"body_markdown":"&quot;Now when you return from a method, in the upper method, in the variable view it shows the return value of the previously finished call&quot; [1]\r\n\r\n\r\n[1] https://coffeeorientedprogramming.wordpress.com/2016/09/23/eclipse-see-return-value-during-debugging/\r\n","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>\"Now when you return from a method, in the upper method, in the variable view it shows the return value of the previously finished call\" [1]</p>\n\n<p>[1] <a href=\"https://coffeeorientedprogramming.wordpress.com/2016/09/23/eclipse-see-return-value-during-debugging/\" rel=\"nofollow noreferrer\">https://coffeeorientedprogramming.wordpress.com/2016/09/23/eclipse-see-return-value-during-debugging/</a></p>\n"},{"tags":[],"owner":{"account_id":13484620,"reputation":427,"user_id":9728769,"display_name":"drac_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666949151,"creation_date":1666949151,"answer_id":74233246,"question_id":217116,"body_markdown":"For @Daniel Meyer answer&#39;s to work, ensure that ***&#39;Show method result after a step operation (if supported by the VM; may be slow)&#39;*** is *checked*. The option is accessible via;\r\n\r\n```Windows&gt; Preferences&gt; Java&gt; Debug&gt; Show method result......```","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>For @Daniel Meyer answer's to work, ensure that <em><strong>'Show method result after a step operation (if supported by the VM; may be slow)'</strong></em> is <em>checked</em>. The option is accessible via;</p>\n<p><code>Windows&gt; Preferences&gt; Java&gt; Debug&gt; Show method result......</code></p>\n"}],"owner":{"account_id":721,"reputation":13438,"user_id":943,"accept_rate":81,"display_name":"RodeoClown"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27095,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"accepted_answer_id":461387,"answer_count":10,"score":102,"last_activity_date":1666949151,"creation_date":1224457038,"question_id":217116,"body_markdown":"Is it possible to see the return value of a method after the line has been run and before the instruction pointer returns to the calling function?\r\n\r\nI am debugging code I can&#39;t modify *(read: don&#39;t want to re-compile a third party library)*, and sometimes it jumps to code I don&#39;t have source to or the return expression has side effects that stop me being able to just run the expression in the *Display* tab.\r\n\r\nOften the return value is used in a compound statement, and so the *Variables* view will never show me the value (hence wanting to see the result before control returns to the calling function).\r\n\r\n**UPDATE:** I can&#39;t use the expression viewer as there are side-effects in the statement.\r\n","title":"Can I find out the return value before returning while debugging in Eclipse?","body":"<p>Is it possible to see the return value of a method after the line has been run and before the instruction pointer returns to the calling function?</p>\n\n<p>I am debugging code I can't modify <em>(read: don't want to re-compile a third party library)</em>, and sometimes it jumps to code I don't have source to or the return expression has side effects that stop me being able to just run the expression in the <em>Display</em> tab.</p>\n\n<p>Often the return value is used in a compound statement, and so the <em>Variables</em> view will never show me the value (hence wanting to see the result before control returns to the calling function).</p>\n\n<p><strong>UPDATE:</strong> I can't use the expression viewer as there are side-effects in the statement.</p>\n"},{"tags":["java","json","gson","pojo"],"answers":[{"tags":[],"owner":{"account_id":24078725,"reputation":54,"user_id":18053644,"display_name":"Digua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666948871,"creation_date":1666948871,"answer_id":74233199,"question_id":74230850,"body_markdown":"your json text &quot;Time Series (5min)&quot; don&#39;t has a dates child,and this json structure is so complex。you can modify your timeSeries like this：\r\n\r\n       @SerializedName(&quot;Time Series (5min)&quot;)\r\n       @Expose\r\n       private Map&lt;String, date&gt; timeSeries\r\n  \r\n   \r\n\r\n\r\n","title":"Dynamic JSON value in POJO","body":"<p>your json text &quot;Time Series (5min)&quot; don't has a dates child,and this json structure is so complex。you can modify your timeSeries like this：</p>\n<pre><code>   @SerializedName(&quot;Time Series (5min)&quot;)\n   @Expose\n   private Map&lt;String, date&gt; timeSeries\n</code></pre>\n"}],"owner":{"account_id":23583393,"reputation":3,"user_id":17622131,"display_name":"Nicholas Joshua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666948871,"creation_date":1666933336,"question_id":74230850,"body_markdown":"Having trouble with dynamic JSON values and translating that into POJO classes. My retrofit2 response comes up with null so I assume my structuring is wrong. \r\n\r\n\r\nMy expected JSON output: \r\n\r\n`\r\n```\r\n{\r\n    &quot;Meta Data&quot;: {\r\n        &quot;1. Information&quot;: &quot;Intraday (5min) open, high, low, close prices and volume&quot;,\r\n        &quot;2. Symbol&quot;: &quot;IBM&quot;,\r\n        &quot;3. Last Refreshed&quot;: &quot;2022-10-26 19:40:00&quot;,\r\n        &quot;4. Interval&quot;: &quot;5min&quot;,\r\n        &quot;5. Output Size&quot;: &quot;Compact&quot;,\r\n        &quot;6. Time Zone&quot;: &quot;US/Eastern&quot;\r\n    },\r\n    &quot;Time Series (5min)&quot;: {\r\n        &quot;2022-10-26 19:40:00&quot;: {\r\n            &quot;1. open&quot;: &quot;135.0600&quot;,\r\n            &quot;2. high&quot;: &quot;135.0700&quot;,\r\n            &quot;3. low&quot;: &quot;135.0400&quot;,\r\n            &quot;4. close&quot;: &quot;135.0700&quot;,\r\n            &quot;5. volume&quot;: &quot;500&quot;\r\n        },\r\n        &quot;2022-10-26 19:05:00&quot;: {\r\n            &quot;1. open&quot;: &quot;135.3500&quot;,\r\n            &quot;2. high&quot;: &quot;135.3500&quot;,\r\n            &quot;3. low&quot;: &quot;135.3500&quot;,\r\n            &quot;4. close&quot;: &quot;135.3500&quot;,\r\n            &quot;5. volume&quot;: &quot;106&quot;\r\n        },\r\n        &quot;2022-10-26 18:50:00&quot;: {\r\n            &quot;1. open&quot;: &quot;135.0300&quot;,\r\n            &quot;2. high&quot;: &quot;135.0300&quot;,\r\n            &quot;3. low&quot;: &quot;135.0300&quot;,\r\n            &quot;4. close&quot;: &quot;135.0300&quot;,\r\n            &quot;5. volume&quot;: &quot;100&quot;\r\n        },\r\n        &quot;2022-10-26 17:50:00&quot;: {\r\n            &quot;1. open&quot;: &quot;135.0300&quot;,\r\n            &quot;2. high&quot;: &quot;135.0300&quot;,\r\n            &quot;3. low&quot;: &quot;135.0300&quot;,\r\n            &quot;4. close&quot;: &quot;135.0300&quot;,\r\n            &quot;5. volume&quot;: &quot;200&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n`\r\n\r\nDailyQuote.java class \r\n\r\n`\r\n```\r\n...\r\n\r\n\r\n\r\npublic class DailyQuote {\r\n\r\n    @SerializedName(&quot;Meta Data&quot;)\r\n    @Expose\r\n    private MetaData metaData;\r\n    @SerializedName(&quot;Time Series (5min)&quot;)\r\n    @Expose\r\n    private TimeSeries timeSeries;\r\n\r\n    /**\r\n     * No args constructor for use in serialization\r\n     *\r\n     */\r\n    public DailyQuote() {\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param metaData\r\n     * @param timeSeries\r\n     */\r\n    public DailyQuote(MetaData metaData, TimeSeries timeSeries) {\r\n        super();\r\n        this.metaData = metaData;\r\n        this.timeSeries = timeSeries;\r\n    }\r\n\r\n    public MetaData getMetaData() {\r\n        return metaData;\r\n    }\r\n\r\n    public void setMetaData(MetaData metaData) {\r\n        this.metaData = metaData;\r\n    }\r\n\r\n    public TimeSeries getTimeSeries() {\r\n        return timeSeries;\r\n    }\r\n\r\n    public void setTimeSeries(TimeSeries timeSeries) {\r\n        this.timeSeries = timeSeries;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n`\r\n\r\nMetaData.java class\r\n\r\n`\r\n```\r\n...\r\npublic class MetaData {\r\n\r\n    @SerializedName(&quot;1. Information&quot;)\r\n    @Expose\r\n    private String _1Information;\r\n    @SerializedName(&quot;2. Symbol&quot;)\r\n    @Expose\r\n    private String _2Symbol;\r\n    @SerializedName(&quot;3. Last Refreshed&quot;)\r\n    @Expose\r\n    private String _3LastRefreshed;\r\n    @SerializedName(&quot;4. Interval&quot;)\r\n    @Expose\r\n    private String _4Interval;\r\n    @SerializedName(&quot;5. Output Size&quot;)\r\n    @Expose\r\n    private String _5OutputSize;\r\n    @SerializedName(&quot;6. Time Zone&quot;)\r\n    @Expose\r\n    private String _6TimeZone;\r\n\r\n    /**\r\n     * No args constructor for use in serialization\r\n     *\r\n     */\r\n    public MetaData() {\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param _3LastRefreshed\r\n     * @param _5OutputSize\r\n     * @param _1Information\r\n     * @param _4Interval\r\n     * @param _6TimeZone\r\n     * @param _2Symbol\r\n     */\r\n    public MetaData(String _1Information, String _2Symbol, String _3LastRefreshed, String _4Interval, String _5OutputSize, String _6TimeZone) {\r\n        super();\r\n        this._1Information = _1Information;\r\n        this._2Symbol = _2Symbol;\r\n        this._3LastRefreshed = _3LastRefreshed;\r\n        this._4Interval = _4Interval;\r\n        this._5OutputSize = _5OutputSize;\r\n        this._6TimeZone = _6TimeZone;\r\n    }\r\n\r\n    public String get1Information() {\r\n        return _1Information;\r\n    }\r\n\r\n    public void set1Information(String _1Information) {\r\n        this._1Information = _1Information;\r\n    }\r\n\r\n    public String get2Symbol() {\r\n        return _2Symbol;\r\n    }\r\n\r\n    public void set2Symbol(String _2Symbol) {\r\n        this._2Symbol = _2Symbol;\r\n    }\r\n\r\n    public String get3LastRefreshed() {\r\n        return _3LastRefreshed;\r\n    }\r\n\r\n    public void set3LastRefreshed(String _3LastRefreshed) {\r\n        this._3LastRefreshed = _3LastRefreshed;\r\n    }\r\n\r\n    public String get4Interval() {\r\n        return _4Interval;\r\n    }\r\n\r\n    public void set4Interval(String _4Interval) {\r\n        this._4Interval = _4Interval;\r\n    }\r\n\r\n    public String get5OutputSize() {\r\n        return _5OutputSize;\r\n    }\r\n\r\n    public void set5OutputSize(String _5OutputSize) {\r\n        this._5OutputSize = _5OutputSize;\r\n    }\r\n\r\n    public String get6TimeZone() {\r\n        return _6TimeZone;\r\n    }\r\n\r\n    public void set6TimeZone(String _6TimeZone) {\r\n        this._6TimeZone = _6TimeZone;\r\n    }\r\n\r\n}\r\n```\r\n`\r\n\r\nTimeSeries.java class \r\n\r\n`\r\n```\r\n...\r\npublic class TimeSeries {\r\n    @Expose\r\n    private Map&lt;String, date&gt; dates;\r\n\r\n\r\n    public TimeSeries(Map&lt;String,date&gt; dates){\r\n        super();\r\n        this.dates = dates;\r\n    }\r\n    public Map&lt;String, date&gt; getDates() {\r\n        return dates;\r\n    }\r\n    public void setDates(Map&lt;String,date&gt; dates){\r\n        this.dates = dates;\r\n    }\r\n}\r\n```\r\n`\r\n\r\nAnd date.java class\r\n\r\n`\r\n```\r\npublic class date {\r\n\r\n    @SerializedName(&quot;1. open&quot;)\r\n    @Expose\r\n    private String _1Open;\r\n    @SerializedName(&quot;2. high&quot;)\r\n    @Expose\r\n    private String _2High;\r\n    @SerializedName(&quot;3. low&quot;)\r\n    @Expose\r\n    private String _3Low;\r\n    @SerializedName(&quot;4. close&quot;)\r\n    @Expose\r\n    private String _4Close;\r\n    @SerializedName(&quot;5. volume&quot;)\r\n    @Expose\r\n    private String _5Volume;\r\n\r\n    /**\r\n     * No args constructor for use in serialization\r\n     *\r\n     */\r\n    public date() {\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param _3Low\r\n     * @param _1Open\r\n     * @param _5Volume\r\n     * @param _2High\r\n     * @param _4Close\r\n     */\r\n    public date(String _1Open, String _2High, String _3Low, String _4Close, String _5Volume) {\r\n        super();\r\n        this._1Open = _1Open;\r\n        this._2High = _2High;\r\n        this._3Low = _3Low;\r\n        this._4Close = _4Close;\r\n        this._5Volume = _5Volume;\r\n    }\r\n\r\n    public String get1Open() {\r\n        return _1Open;\r\n    }\r\n\r\n    public void set1Open(String _1Open) {\r\n        this._1Open = _1Open;\r\n    }\r\n\r\n    public String get2High() {\r\n        return _2High;\r\n    }\r\n\r\n    public void set2High(String _2High) {\r\n        this._2High = _2High;\r\n    }\r\n\r\n    public String get3Low() {\r\n        return _3Low;\r\n    }\r\n\r\n    public void set3Low(String _3Low) {\r\n        this._3Low = _3Low;\r\n    }\r\n\r\n    public String get4Close() {\r\n        return _4Close;\r\n    }\r\n\r\n    public void set4Close(String _4Close) {\r\n        this._4Close = _4Close;\r\n    }\r\n\r\n    public String get5Volume() {\r\n        return _5Volume;\r\n    }\r\n\r\n    public void set5Volume(String _5Volume) {\r\n        this._5Volume = _5Volume;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;List:{&quot; +\r\n                &quot;Open=&#39;&quot; + get1Open() + &#39;\\&#39;&#39; +\r\n                &quot;, High=&#39;&quot; + get2High() + &#39;\\&#39;&#39; +\r\n                &quot;, Low=&#39;&quot; + get3Low() + &#39;\\&#39;&#39; +\r\n                &quot;, Close=&#39;&quot; + get4Close() + &#39;\\&#39;&#39; +\r\n                &quot;, Volume=&#39;&quot; + get5Volume();\r\n    }\r\n\r\n}\r\n```\r\n`\r\n\r\nMy retrofit2 enqueue responsebody for metadata works but when i look towards the TimeSeries it produces null results. I followed this: https://stackoverflow.com/questions/29178077/gson-fromjson-how-to-use-dynamic-json-value-on-my-pojo-class , as it had similar JSON structuring of dynamic keys but to no avail. I am using GSON library and do not wish to use Jackson. \r\n\r\nThanks. \r\n","title":"Dynamic JSON value in POJO","body":"<p>Having trouble with dynamic JSON values and translating that into POJO classes. My retrofit2 response comes up with null so I assume my structuring is wrong.</p>\n<p>My expected JSON output:</p>\n<p>`</p>\n<pre><code>{\n    &quot;Meta Data&quot;: {\n        &quot;1. Information&quot;: &quot;Intraday (5min) open, high, low, close prices and volume&quot;,\n        &quot;2. Symbol&quot;: &quot;IBM&quot;,\n        &quot;3. Last Refreshed&quot;: &quot;2022-10-26 19:40:00&quot;,\n        &quot;4. Interval&quot;: &quot;5min&quot;,\n        &quot;5. Output Size&quot;: &quot;Compact&quot;,\n        &quot;6. Time Zone&quot;: &quot;US/Eastern&quot;\n    },\n    &quot;Time Series (5min)&quot;: {\n        &quot;2022-10-26 19:40:00&quot;: {\n            &quot;1. open&quot;: &quot;135.0600&quot;,\n            &quot;2. high&quot;: &quot;135.0700&quot;,\n            &quot;3. low&quot;: &quot;135.0400&quot;,\n            &quot;4. close&quot;: &quot;135.0700&quot;,\n            &quot;5. volume&quot;: &quot;500&quot;\n        },\n        &quot;2022-10-26 19:05:00&quot;: {\n            &quot;1. open&quot;: &quot;135.3500&quot;,\n            &quot;2. high&quot;: &quot;135.3500&quot;,\n            &quot;3. low&quot;: &quot;135.3500&quot;,\n            &quot;4. close&quot;: &quot;135.3500&quot;,\n            &quot;5. volume&quot;: &quot;106&quot;\n        },\n        &quot;2022-10-26 18:50:00&quot;: {\n            &quot;1. open&quot;: &quot;135.0300&quot;,\n            &quot;2. high&quot;: &quot;135.0300&quot;,\n            &quot;3. low&quot;: &quot;135.0300&quot;,\n            &quot;4. close&quot;: &quot;135.0300&quot;,\n            &quot;5. volume&quot;: &quot;100&quot;\n        },\n        &quot;2022-10-26 17:50:00&quot;: {\n            &quot;1. open&quot;: &quot;135.0300&quot;,\n            &quot;2. high&quot;: &quot;135.0300&quot;,\n            &quot;3. low&quot;: &quot;135.0300&quot;,\n            &quot;4. close&quot;: &quot;135.0300&quot;,\n            &quot;5. volume&quot;: &quot;200&quot;\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>DailyQuote.java class</p>\n<p>`</p>\n<pre><code>...\n\n\n\npublic class DailyQuote {\n\n    @SerializedName(&quot;Meta Data&quot;)\n    @Expose\n    private MetaData metaData;\n    @SerializedName(&quot;Time Series (5min)&quot;)\n    @Expose\n    private TimeSeries timeSeries;\n\n    /**\n     * No args constructor for use in serialization\n     *\n     */\n    public DailyQuote() {\n    }\n\n    /**\n     *\n     * @param metaData\n     * @param timeSeries\n     */\n    public DailyQuote(MetaData metaData, TimeSeries timeSeries) {\n        super();\n        this.metaData = metaData;\n        this.timeSeries = timeSeries;\n    }\n\n    public MetaData getMetaData() {\n        return metaData;\n    }\n\n    public void setMetaData(MetaData metaData) {\n        this.metaData = metaData;\n    }\n\n    public TimeSeries getTimeSeries() {\n        return timeSeries;\n    }\n\n    public void setTimeSeries(TimeSeries timeSeries) {\n        this.timeSeries = timeSeries;\n    }\n\n\n\n}\n</code></pre>\n<p>`</p>\n<p>MetaData.java class</p>\n<p>`</p>\n<pre><code>...\npublic class MetaData {\n\n    @SerializedName(&quot;1. Information&quot;)\n    @Expose\n    private String _1Information;\n    @SerializedName(&quot;2. Symbol&quot;)\n    @Expose\n    private String _2Symbol;\n    @SerializedName(&quot;3. Last Refreshed&quot;)\n    @Expose\n    private String _3LastRefreshed;\n    @SerializedName(&quot;4. Interval&quot;)\n    @Expose\n    private String _4Interval;\n    @SerializedName(&quot;5. Output Size&quot;)\n    @Expose\n    private String _5OutputSize;\n    @SerializedName(&quot;6. Time Zone&quot;)\n    @Expose\n    private String _6TimeZone;\n\n    /**\n     * No args constructor for use in serialization\n     *\n     */\n    public MetaData() {\n    }\n\n    /**\n     *\n     * @param _3LastRefreshed\n     * @param _5OutputSize\n     * @param _1Information\n     * @param _4Interval\n     * @param _6TimeZone\n     * @param _2Symbol\n     */\n    public MetaData(String _1Information, String _2Symbol, String _3LastRefreshed, String _4Interval, String _5OutputSize, String _6TimeZone) {\n        super();\n        this._1Information = _1Information;\n        this._2Symbol = _2Symbol;\n        this._3LastRefreshed = _3LastRefreshed;\n        this._4Interval = _4Interval;\n        this._5OutputSize = _5OutputSize;\n        this._6TimeZone = _6TimeZone;\n    }\n\n    public String get1Information() {\n        return _1Information;\n    }\n\n    public void set1Information(String _1Information) {\n        this._1Information = _1Information;\n    }\n\n    public String get2Symbol() {\n        return _2Symbol;\n    }\n\n    public void set2Symbol(String _2Symbol) {\n        this._2Symbol = _2Symbol;\n    }\n\n    public String get3LastRefreshed() {\n        return _3LastRefreshed;\n    }\n\n    public void set3LastRefreshed(String _3LastRefreshed) {\n        this._3LastRefreshed = _3LastRefreshed;\n    }\n\n    public String get4Interval() {\n        return _4Interval;\n    }\n\n    public void set4Interval(String _4Interval) {\n        this._4Interval = _4Interval;\n    }\n\n    public String get5OutputSize() {\n        return _5OutputSize;\n    }\n\n    public void set5OutputSize(String _5OutputSize) {\n        this._5OutputSize = _5OutputSize;\n    }\n\n    public String get6TimeZone() {\n        return _6TimeZone;\n    }\n\n    public void set6TimeZone(String _6TimeZone) {\n        this._6TimeZone = _6TimeZone;\n    }\n\n}\n</code></pre>\n<p>`</p>\n<p>TimeSeries.java class</p>\n<p>`</p>\n<pre><code>...\npublic class TimeSeries {\n    @Expose\n    private Map&lt;String, date&gt; dates;\n\n\n    public TimeSeries(Map&lt;String,date&gt; dates){\n        super();\n        this.dates = dates;\n    }\n    public Map&lt;String, date&gt; getDates() {\n        return dates;\n    }\n    public void setDates(Map&lt;String,date&gt; dates){\n        this.dates = dates;\n    }\n}\n</code></pre>\n<p>`</p>\n<p>And date.java class</p>\n<p>`</p>\n<pre><code>public class date {\n\n    @SerializedName(&quot;1. open&quot;)\n    @Expose\n    private String _1Open;\n    @SerializedName(&quot;2. high&quot;)\n    @Expose\n    private String _2High;\n    @SerializedName(&quot;3. low&quot;)\n    @Expose\n    private String _3Low;\n    @SerializedName(&quot;4. close&quot;)\n    @Expose\n    private String _4Close;\n    @SerializedName(&quot;5. volume&quot;)\n    @Expose\n    private String _5Volume;\n\n    /**\n     * No args constructor for use in serialization\n     *\n     */\n    public date() {\n    }\n\n    /**\n     *\n     * @param _3Low\n     * @param _1Open\n     * @param _5Volume\n     * @param _2High\n     * @param _4Close\n     */\n    public date(String _1Open, String _2High, String _3Low, String _4Close, String _5Volume) {\n        super();\n        this._1Open = _1Open;\n        this._2High = _2High;\n        this._3Low = _3Low;\n        this._4Close = _4Close;\n        this._5Volume = _5Volume;\n    }\n\n    public String get1Open() {\n        return _1Open;\n    }\n\n    public void set1Open(String _1Open) {\n        this._1Open = _1Open;\n    }\n\n    public String get2High() {\n        return _2High;\n    }\n\n    public void set2High(String _2High) {\n        this._2High = _2High;\n    }\n\n    public String get3Low() {\n        return _3Low;\n    }\n\n    public void set3Low(String _3Low) {\n        this._3Low = _3Low;\n    }\n\n    public String get4Close() {\n        return _4Close;\n    }\n\n    public void set4Close(String _4Close) {\n        this._4Close = _4Close;\n    }\n\n    public String get5Volume() {\n        return _5Volume;\n    }\n\n    public void set5Volume(String _5Volume) {\n        this._5Volume = _5Volume;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;List:{&quot; +\n                &quot;Open='&quot; + get1Open() + '\\'' +\n                &quot;, High='&quot; + get2High() + '\\'' +\n                &quot;, Low='&quot; + get3Low() + '\\'' +\n                &quot;, Close='&quot; + get4Close() + '\\'' +\n                &quot;, Volume='&quot; + get5Volume();\n    }\n\n}\n</code></pre>\n<p>`</p>\n<p>My retrofit2 enqueue responsebody for metadata works but when i look towards the TimeSeries it produces null results. I followed this: <a href=\"https://stackoverflow.com/questions/29178077/gson-fromjson-how-to-use-dynamic-json-value-on-my-pojo-class\">Gson.fromJson, how to use dynamic json value on my POJO class?</a> , as it had similar JSON structuring of dynamic keys but to no avail. I am using GSON library and do not wish to use Jackson.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","http","https"],"comments":[{"owner":{"account_id":1065004,"reputation":5298,"user_id":1065810,"accept_rate":100,"display_name":"Karim"},"score":2,"creation_date":1432373535,"post_id":30411059,"comment_id":48908837,"body_markdown":"Maybe I&#39;m missing something. Can&#39;t you check if the URL string starts with `https://` or `http//` ?","body":"Maybe I&#39;m missing something. Can&#39;t you check if the URL string starts with <code>https:&#47;&#47;</code> or <code>http&#47;&#47;</code> ?"},{"owner":{"account_id":1786570,"reputation":561,"user_id":1627932,"accept_rate":72,"display_name":"Dino"},"score":0,"creation_date":1432373812,"post_id":30411059,"comment_id":48908899,"body_markdown":"Yes I can @Karim, but what happens if the user selects the wrong string? That is the problem I am having.","body":"Yes I can @Karim, but what happens if the user selects the wrong string? That is the problem I am having."},{"owner":{"account_id":1065004,"reputation":5298,"user_id":1065810,"accept_rate":100,"display_name":"Karim"},"score":1,"creation_date":1432374207,"post_id":30411059,"comment_id":48908984,"body_markdown":"Use `HttpsURLConnection` in all cases then, or instead of checking for `httpSelection.equals(...)`, check immediately whether the URL starts with `https://` or `http://` and don&#39;t ask the user to select anything.","body":"Use <code>HttpsURLConnection</code> in all cases then, or instead of checking for <code>httpSelection.equals(...)</code>, check immediately whether the URL starts with <code>https:&#47;&#47;</code> or <code>http:&#47;&#47;</code> and don&#39;t ask the user to select anything."},{"owner":{"account_id":1786570,"reputation":561,"user_id":1627932,"accept_rate":72,"display_name":"Dino"},"score":0,"creation_date":1432375583,"post_id":30411059,"comment_id":48909338,"body_markdown":"@Karim I think this might be the best solution so far. Regardless of what the user selected `https://` or `http://` it will always work. Although I am not sure if this is the right approach.","body":"@Karim I think this might be the best solution so far. Regardless of what the user selected <code>https:&#47;&#47;</code> or <code>http:&#47;&#47;</code> it will always work. Although I am not sure if this is the right approach."},{"owner":{"account_id":1786570,"reputation":561,"user_id":1627932,"accept_rate":72,"display_name":"Dino"},"score":0,"creation_date":1432378476,"post_id":30411059,"comment_id":48910050,"body_markdown":"@Karim I have just realised that it still won&#39;t work correctly as when the URL is https and the user types in http instead it will give me the same as before.","body":"@Karim I have just realised that it still won&#39;t work correctly as when the URL is https and the user types in http instead it will give me the same as before."}],"answers":[{"tags":[],"owner":{"account_id":4290407,"reputation":10159,"user_id":3506946,"display_name":"Dhaval Patel"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1432374105,"creation_date":1432373565,"answer_id":30411104,"question_id":30411059,"body_markdown":"You can Use android [URLUtil][1] to check whether url is HTTP or HTTPS:\r\n\r\n    public static boolean isHttpUrl (String url)\r\n    Returns True iff the url is an http: url.\r\n\r\n    public static boolean isHttpsUrl (String url) \r\n    Returns True iff the url is an https: url.\r\n\r\nEdit:\r\n\r\n    public static boolean isValidUrl (String url)\r\n    Returns True iff the url is valid.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/webkit/URLUtil.html","title":"Check if URL is HTTPS or HTTP protocol?","body":"<p>You can Use android <a href=\"http://developer.android.com/reference/android/webkit/URLUtil.html\" rel=\"noreferrer\">URLUtil</a> to check whether url is HTTP or HTTPS:</p>\n\n<pre><code>public static boolean isHttpUrl (String url)\nReturns True iff the url is an http: url.\n\npublic static boolean isHttpsUrl (String url) \nReturns True iff the url is an https: url.\n</code></pre>\n\n<p>Edit:</p>\n\n<pre><code>public static boolean isValidUrl (String url)\nReturns True iff the url is valid.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1374485,"reputation":15558,"user_id":1308767,"display_name":"Bojan Kseneman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432373777,"creation_date":1432373777,"answer_id":30411132,"question_id":30411059,"body_markdown":"    URLConnection result = url.openConnection();\r\n    if (result instanceof HttpsURLConnection) {\r\n       // https\r\n    }\r\n    else if (result instanceof HttpURLConnection) {\r\n       // http\r\n    }\r\n    else {\r\n      // null or something bad happened\r\n    }","title":"Check if URL is HTTPS or HTTP protocol?","body":"<pre><code>URLConnection result = url.openConnection();\nif (result instanceof HttpsURLConnection) {\n   // https\n}\nelse if (result instanceof HttpURLConnection) {\n   // http\n}\nelse {\n  // null or something bad happened\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4062106,"reputation":7114,"user_id":3338360,"accept_rate":25,"display_name":"Kartheek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432373937,"creation_date":1432373937,"answer_id":30411158,"question_id":30411059,"body_markdown":"This can be checked by using [Util][1].\r\n\r\n - [isHttpUrl][2] returns True iff the url is an http: url.\r\n - [isHttpsUrl][3] returns True iff the url is an https: url.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/webkit/URLUtil.html\r\n  [2]: http://developer.android.com/reference/android/webkit/URLUtil.html#isHttpUrl(java.lang.String)\r\n  [3]: http://developer.android.com/reference/android/webkit/URLUtil.html#isHttpsUrl(java.lang.String)","title":"Check if URL is HTTPS or HTTP protocol?","body":"<p>This can be checked by using <a href=\"http://developer.android.com/reference/android/webkit/URLUtil.html\" rel=\"nofollow\">Util</a>.</p>\n\n<ul>\n<li><a href=\"http://developer.android.com/reference/android/webkit/URLUtil.html#isHttpUrl(java.lang.String)\" rel=\"nofollow\">isHttpUrl</a> returns True iff the url is an http: url.</li>\n<li><a href=\"http://developer.android.com/reference/android/webkit/URLUtil.html#isHttpsUrl(java.lang.String)\" rel=\"nofollow\">isHttpsUrl</a> returns True iff the url is an https: url.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1429805,"reputation":3847,"user_id":2946760,"accept_rate":73,"display_name":"Antwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432374164,"creation_date":1432374164,"answer_id":30411186,"question_id":30411059,"body_markdown":"you can try this    \r\n\r\n    \tboolean httpYes, httpsYes;\r\n\t     try {\r\n\t\t\r\n\t\t  URL url = new URL(weburi);\r\n\t\t  urlConnection = (HttpURLConnection) url.openConnection();\r\n\t\t  inputStream = new BufferedInputStream((urlConnection.getInputStream()));\r\n\t\thttpYes = True;\r\n\t\t}\r\n\t\r\n\r\n\t\tcatch (Exception e) {\r\n\t\t//Toast Message displays and settings intent re-starts\r\n\t\t\t  URL url = new URL(weburi);\r\n\t\t\t  urlHttpsConnection = (HttpsURLConnection) url.openConnection();\r\n\t\t\t  urlHttpsConnection.setSSLSocketFactory(context.getSocketFactory());\r\n\t\t\t  inputStream = urlHttpsConnection.getInputStream();\r\n\t\t\t  https=True;\r\n\t\t}","title":"Check if URL is HTTPS or HTTP protocol?","body":"<p>you can try this    </p>\n\n<pre><code>    boolean httpYes, httpsYes;\n     try {\n\n      URL url = new URL(weburi);\n      urlConnection = (HttpURLConnection) url.openConnection();\n      inputStream = new BufferedInputStream((urlConnection.getInputStream()));\n    httpYes = True;\n    }\n\n\n    catch (Exception e) {\n    //Toast Message displays and settings intent re-starts\n          URL url = new URL(weburi);\n          urlHttpsConnection = (HttpsURLConnection) url.openConnection();\n          urlHttpsConnection.setSSLSocketFactory(context.getSocketFactory());\n          inputStream = urlHttpsConnection.getInputStream();\n          https=True;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1786570,"reputation":561,"user_id":1627932,"accept_rate":72,"display_name":"Dino"},"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1432384407,"creation_date":1432384407,"answer_id":30412732,"question_id":30411059,"body_markdown":"I think this works, at least it seems to be working, what do you guys think? I place this if statement just before the `httpsYes = True` and `httpYes = True`. \r\n\r\nIt seems that when the HTTPS protocol is selected it wants to redirect using response code 302, but for all other instances it connects with response code 200. I throw a new `ConnectionException()` error as that takes the user back to the settings screen to correct the URL error. \r\n\r\nFor the HTTPS protocol:\r\n\r\n    if (httpsURLConnection.getResponseCode() != 200) {\r\n         throw new ConnectException();\r\n    }\r\n\r\nFor the HTTP protocol:\r\n\r\n    if (urlConnection.getResponseCode() != 200) {\r\n         throw new ConnectException();\r\n    }\r\n\r\nComments? Should I use `urlConnection.getResponseCode() &gt; 199 &amp;&amp; &lt; 300`? To cover all successful connects?","title":"Check if URL is HTTPS or HTTP protocol?","body":"<p>I think this works, at least it seems to be working, what do you guys think? I place this if statement just before the <code>httpsYes = True</code> and <code>httpYes = True</code>. </p>\n\n<p>It seems that when the HTTPS protocol is selected it wants to redirect using response code 302, but for all other instances it connects with response code 200. I throw a new <code>ConnectionException()</code> error as that takes the user back to the settings screen to correct the URL error. </p>\n\n<p>For the HTTPS protocol:</p>\n\n<pre><code>if (httpsURLConnection.getResponseCode() != 200) {\n     throw new ConnectException();\n}\n</code></pre>\n\n<p>For the HTTP protocol:</p>\n\n<pre><code>if (urlConnection.getResponseCode() != 200) {\n     throw new ConnectException();\n}\n</code></pre>\n\n<p>Comments? Should I use <code>urlConnection.getResponseCode() &gt; 199 &amp;&amp; &lt; 300</code>? To cover all successful connects?</p>\n"},{"tags":[],"owner":{"account_id":11263930,"reputation":739,"user_id":8261384,"display_name":"Armando Cordova"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1513275915,"creation_date":1513275915,"answer_id":47819871,"question_id":30411059,"body_markdown":"My recommendation is created function expression regular. \r\nfor example:\r\n\r\n\tpublic void testUrl(Object urlHttp){\r\n\r\n\t\tString url = &quot;https://www.google.com&quot;;\r\n\r\n\t\tif(url.matches(&quot;^(https?)://.*$&quot;)){\r\n\t\t Object o = (HttpsURLConnection) urlHttp;\r\n\t\t}else{\r\n\t\t Object o = (HttpURLConnection) urlHttp;\r\n\t\t}\r\n\t}\r\n\r\n\r\nRegards","title":"Check if URL is HTTPS or HTTP protocol?","body":"<p>My recommendation is created function expression regular. \nfor example:</p>\n\n<pre><code>public void testUrl(Object urlHttp){\n\n    String url = \"https://www.google.com\";\n\n    if(url.matches(\"^(https?)://.*$\")){\n     Object o = (HttpsURLConnection) urlHttp;\n    }else{\n     Object o = (HttpURLConnection) urlHttp;\n    }\n}\n</code></pre>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666948547,"creation_date":1516623172,"answer_id":48381352,"question_id":30411059,"body_markdown":"I have checked [URLUtil][1] class and checked that its contain so many methods for these kind of stuff, but i just extend the answer that you can simply do as below also :-\r\n\r\n    public static boolean isHttpOrHttpsUrl(String url) {\r\n            return url.matches(&quot;^(http|https|ftp)://.*$&quot;);\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/URLUtil.html","title":"Check if URL is HTTPS or HTTP protocol?","body":"<p>I have checked <a href=\"https://developer.android.com/reference/android/webkit/URLUtil.html\" rel=\"nofollow noreferrer\">URLUtil</a> class and checked that its contain so many methods for these kind of stuff, but i just extend the answer that you can simply do as below also :-</p>\n<pre><code>public static boolean isHttpOrHttpsUrl(String url) {\n        return url.matches(&quot;^(http|https|ftp)://.*$&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1312849,"reputation":400,"user_id":3820361,"display_name":"Ashnet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524827255,"creation_date":1524827255,"answer_id":50061102,"question_id":30411059,"body_markdown":"Try this code:\r\n\r\n    mConnexion = (URLUtil.isHttpsUrl(mStringUrl)) ? (HttpsURLConnection) url.openConnection() : (HttpURLConnection) url.openConnection();","title":"Check if URL is HTTPS or HTTP protocol?","body":"<p>Try this code:</p>\n\n<pre><code>mConnexion = (URLUtil.isHttpsUrl(mStringUrl)) ? (HttpsURLConnection) url.openConnection() : (HttpURLConnection) url.openConnection();\n</code></pre>\n"}],"owner":{"account_id":1786570,"reputation":561,"user_id":1627932,"accept_rate":72,"display_name":"Dino"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29269,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30412732,"answer_count":8,"score":5,"last_activity_date":1666948547,"creation_date":1432373247,"question_id":30411059,"body_markdown":"I am currently using the following to read a file from android docs [here][1] and [here][2]. The user selects (in the settings screen) if their site uses HTTP or HTTPS protocol. If their website uses the HTTP protocol then it works for both `HttpURLConnection` and `HttpsURLConnection`, but if their site uses HTTPS protocol then it doesn&#39;t work for `HttpURLConnection` protocol and worst of all it doesn&#39;t give me an exception error. Below is the sample code that I am using. \r\n\r\nSo in essence, how can I check to see if the web url is HTTPS protocol so checking if the user selected the correct protocol?  \r\n    \r\n    InputStream inputStream;\r\n    HttpURLConnection urlConnection;\r\n    HttpsURLConnection urlHttpsConnection;\r\n    boolean httpYes, httpsYes; \r\n    try {\r\n    if (httpSelection.equals(&quot;http://&quot;)) {\r\n      URL url = new URL(weburi);\r\n      urlConnection = (HttpURLConnection) url.openConnection();\r\n      inputStream = new BufferedInputStream((urlConnection.getInputStream()));\r\n    httpYes = True;\r\n    }\r\n    if (httpSelection.equals(&quot;https://&quot;)) {\r\n      URL url = new URL(weburi);\r\n      urlHttpsConnection = (HttpsURLConnection) url.openConnection();\r\n      urlHttpsConnection.setSSLSocketFactory(context.getSocketFactory());\r\n      inputStream = urlHttpsConnection.getInputStream();\r\n      https=True;\r\n    }\r\n    \r\n    catch (Exception e) {\r\n    //Toast Message displays and settings intent re-starts\r\n    }\r\n    finally {\r\n      readFile(in);\r\n    if(httpYes){ \r\n        urlConnection.disconnect();\r\n        httpYes = False;\r\n     }\r\n    if(httpsYes){ \r\n        urlHttpsConnection.disconnect();\r\n        httpsYes = False;\r\n     } \r\n    }\r\n    }\r\n\r\nEDIT:\r\n\r\nTo elaborate some more. I need to see if it returns a valid response from a website? So if the user selected http instead of https how can I check to see if http is the incorrect prefix/protocol?\r\n\r\nHow can I check if the website uses HTTPS or HTTP protocol? If the user then only puts in say **www.google.com** and I append **https://** or **http://** prefix to it, how do I know which one is the correct one to use?\r\n\r\n  [1]: http://developer.android.com/reference/javax/net/ssl/HttpsURLConnection.html\r\n  [2]: http://developer.android.com/reference/java/net/HttpURLConnection.html","title":"Check if URL is HTTPS or HTTP protocol?","body":"<p>I am currently using the following to read a file from android docs <a href=\"http://developer.android.com/reference/javax/net/ssl/HttpsURLConnection.html\" rel=\"noreferrer\">here</a> and <a href=\"http://developer.android.com/reference/java/net/HttpURLConnection.html\" rel=\"noreferrer\">here</a>. The user selects (in the settings screen) if their site uses HTTP or HTTPS protocol. If their website uses the HTTP protocol then it works for both <code>HttpURLConnection</code> and <code>HttpsURLConnection</code>, but if their site uses HTTPS protocol then it doesn't work for <code>HttpURLConnection</code> protocol and worst of all it doesn't give me an exception error. Below is the sample code that I am using. </p>\n\n<p>So in essence, how can I check to see if the web url is HTTPS protocol so checking if the user selected the correct protocol?  </p>\n\n<pre><code>InputStream inputStream;\nHttpURLConnection urlConnection;\nHttpsURLConnection urlHttpsConnection;\nboolean httpYes, httpsYes; \ntry {\nif (httpSelection.equals(\"http://\")) {\n  URL url = new URL(weburi);\n  urlConnection = (HttpURLConnection) url.openConnection();\n  inputStream = new BufferedInputStream((urlConnection.getInputStream()));\nhttpYes = True;\n}\nif (httpSelection.equals(\"https://\")) {\n  URL url = new URL(weburi);\n  urlHttpsConnection = (HttpsURLConnection) url.openConnection();\n  urlHttpsConnection.setSSLSocketFactory(context.getSocketFactory());\n  inputStream = urlHttpsConnection.getInputStream();\n  https=True;\n}\n\ncatch (Exception e) {\n//Toast Message displays and settings intent re-starts\n}\nfinally {\n  readFile(in);\nif(httpYes){ \n    urlConnection.disconnect();\n    httpYes = False;\n }\nif(httpsYes){ \n    urlHttpsConnection.disconnect();\n    httpsYes = False;\n } \n}\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>To elaborate some more. I need to see if it returns a valid response from a website? So if the user selected http instead of https how can I check to see if http is the incorrect prefix/protocol?</p>\n\n<p>How can I check if the website uses HTTPS or HTTP protocol? If the user then only puts in say <strong>www.google.com</strong> and I append <strong>https://</strong> or <strong>http://</strong> prefix to it, how do I know which one is the correct one to use?</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mocking"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1666952185,"post_id":74233080,"comment_id":131061404,"body_markdown":"Does your API expect authorization ? in form of header or something ? You may think of mocking it or passing it as well","body":"Does your API expect authorization ? in form of header or something ? You may think of mocking it or passing it as well"},{"owner":{"account_id":25887068,"reputation":3,"user_id":19614984,"display_name":"Tushar Kawade"},"score":0,"creation_date":1667192856,"post_id":74233080,"comment_id":131104365,"body_markdown":"Thank you for the response @Harsh, Yes I am using spring security for authorization. I have used the @WithMockUser(username = &quot;tushar&quot;, password = &quot;tushar&quot;, roles = &quot;ADMIN&quot;) annotation but still I am getting a 403 status code.","body":"Thank you for the response @Harsh, Yes I am using spring security for authorization. I have used the @WithMockUser(username = &quot;tushar&quot;, password = &quot;tushar&quot;, roles = &quot;ADMIN&quot;) annotation but still I am getting a 403 status code."}],"owner":{"account_id":25887068,"reputation":3,"user_id":19614984,"display_name":"Tushar Kawade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666948477,"creation_date":1666948361,"question_id":74233080,"body_markdown":"I am trying to mock itemService.deleteItem() method but getting a 403 status code, (I am using spring security, and for that, I have used @WithMockUser annotation)\r\n\r\nController:\r\n\\`\r\n\r\n&gt; @DeleteMapping(&quot;/deleteitem&quot;)\r\n&gt; @ApiOperation(&quot;Delete item from database&quot;)\r\n&gt; public ResponseEntity\\&lt;ItemsModel\\&gt; deleteItem(@RequestBody DeleteItemDto deleteItemDto) {\r\n&gt;    return itemService.deleteItem(deleteItemDto);\r\n&gt; \r\n&gt; }\r\n\r\n\\`\r\n\r\nService:\r\n\r\n```\r\npublic ResponseEntity&lt;ItemsModel&gt; deleteItem(DeleteItemDto deleteItemDto)\r\n{\r\n int itemId = deleteItemDto.getItemId();\r\nOptional&lt;ItemsModel&gt; itemsModel  =  itemRepo.findById(itemId);\r\nif(itemsModel.isPresent())\r\n{\r\n   try\r\n   {\r\n   itemRepo.delete(itemsModel.get());\r\n   \r\n   }\r\n   catch (Exception e) {\r\n      logger.log(Level.INFO,&quot;Exception while deleting item&quot;+e);\r\n      return new ResponseEntity&lt;&gt;( HttpStatus.NOT_ACCEPTABLE);\r\n\r\n   }\r\n   return ResponseEntity.ok(itemsModel.get());    \r\n   }\r\nelse\r\n{\r\n   return new ResponseEntity&lt;&gt;(HttpStatus.NOT_ACCEPTABLE);\r\n}\r\n\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```\r\n@Test\r\nvoid testDeleteItem() throws Exception {\r\n   Mockito.when(itemRepo.findById(ArgumentMatchers.any())).thenReturn(Optional.of(new ItemsModel()));\r\n   ItemsModel itemsModel=mock(ItemsModel.class);\r\n// itemsModel.setItemId(401);\r\n   doNothing().when(itemRepo).delete(itemsModel);\r\n\r\n   MvcResult mvcResult=mockMvc.perform(MockMvcRequestBuilders.delete(&quot;/admin/deleteitem/&quot;).accept(MediaType.APPLICATION_JSON)).andReturn();\r\n\r\nassertEquals(200,mvcResult.getResponse().getStatus());\r\n}\r\n```\r\n\r\nError message:\r\n\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = DELETE\r\n      Request URI = /admin/deleteitem/\r\n       Parameters = {}\r\n          Headers = [Accept:&quot;application/json&quot;]\r\n             Body = null\r\n    Session Attrs = {org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository.CSRF_TOKEN=org.springframework.security.web.csrf.DefaultCsrfToken@1fa35f7e, SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=tushar, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]}\r\n\r\nHandler:\r\n             Type = null\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 403\r\n    Error message = Forbidden\r\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\norg.opentest4j.AssertionFailedError: \r\nExpected :200\r\nActual   :403\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n\tat org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\r\n\tat org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:150)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:145)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:527)\r\n```","title":"Why I am getting 403 forbidden error with mockmvc?","body":"<p>I am trying to mock itemService.deleteItem() method but getting a 403 status code, (I am using spring security, and for that, I have used @WithMockUser annotation)</p>\n<p>Controller:\n`</p>\n<blockquote>\n<p>@DeleteMapping(&quot;/deleteitem&quot;)\n@ApiOperation(&quot;Delete item from database&quot;)\npublic ResponseEntity&lt;ItemsModel&gt; deleteItem(@RequestBody DeleteItemDto deleteItemDto) {\nreturn itemService.deleteItem(deleteItemDto);</p>\n<p>}</p>\n</blockquote>\n<p>`</p>\n<p>Service:</p>\n<pre><code>public ResponseEntity&lt;ItemsModel&gt; deleteItem(DeleteItemDto deleteItemDto)\n{\n int itemId = deleteItemDto.getItemId();\nOptional&lt;ItemsModel&gt; itemsModel  =  itemRepo.findById(itemId);\nif(itemsModel.isPresent())\n{\n   try\n   {\n   itemRepo.delete(itemsModel.get());\n   \n   }\n   catch (Exception e) {\n      logger.log(Level.INFO,&quot;Exception while deleting item&quot;+e);\n      return new ResponseEntity&lt;&gt;( HttpStatus.NOT_ACCEPTABLE);\n\n   }\n   return ResponseEntity.ok(itemsModel.get());    \n   }\nelse\n{\n   return new ResponseEntity&lt;&gt;(HttpStatus.NOT_ACCEPTABLE);\n}\n\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>@Test\nvoid testDeleteItem() throws Exception {\n   Mockito.when(itemRepo.findById(ArgumentMatchers.any())).thenReturn(Optional.of(new ItemsModel()));\n   ItemsModel itemsModel=mock(ItemsModel.class);\n// itemsModel.setItemId(401);\n   doNothing().when(itemRepo).delete(itemsModel);\n\n   MvcResult mvcResult=mockMvc.perform(MockMvcRequestBuilders.delete(&quot;/admin/deleteitem/&quot;).accept(MediaType.APPLICATION_JSON)).andReturn();\n\nassertEquals(200,mvcResult.getResponse().getStatus());\n}\n</code></pre>\n<p>Error message:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = DELETE\n      Request URI = /admin/deleteitem/\n       Parameters = {}\n          Headers = [Accept:&quot;application/json&quot;]\n             Body = null\n    Session Attrs = {org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository.CSRF_TOKEN=org.springframework.security.web.csrf.DefaultCsrfToken@1fa35f7e, SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=tushar, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]}\n\nHandler:\n             Type = null\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 403\n    Error message = Forbidden\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\norg.opentest4j.AssertionFailedError: \nExpected :200\nActual   :403\n&lt;Click to see difference&gt;\n\n\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\n    at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:150)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:145)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:527)\n</code></pre>\n"},{"tags":["java","apache-tika","last-modified","file-properties","datecreated"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1666120301,"post_id":74107418,"comment_id":130859291,"body_markdown":"Do you want to know when the file was first created, or when it was first put on your machine?","body":"Do you want to know when the file was first created, or when it was first put on your machine?"},{"owner":{"account_id":25139388,"reputation":126,"user_id":18985864,"display_name":"Ruhul Hussain"},"score":0,"creation_date":1666127790,"post_id":74107418,"comment_id":130861385,"body_markdown":"I need to know when it was created and last modified.","body":"I need to know when it was created and last modified."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1666167374,"post_id":74107418,"comment_id":130868865,"body_markdown":"On your machine, or on the machine where it was created?","body":"On your machine, or on the machine where it was created?"},{"owner":{"account_id":25139388,"reputation":126,"user_id":18985864,"display_name":"Ruhul Hussain"},"score":0,"creation_date":1666275515,"post_id":74107418,"comment_id":130902215,"body_markdown":"on the machine where it was created. See since I am doing robocopy so I&#39;ll have the created, modified and accessed date time same as the machine. \nI can see these dates when I&#39;m seeing the properties of the file, I am also able to get the same when I&#39;m using FileAttributes. \nBut I&#39;m not able to get these dates when I&#39;m trying to read the metadata using tika Metadata class (which actually works on inputstream). and in real time scenario, I&#39;ll not have the file directly, I&#39;ll have the file embedded in zip or in email attachments which means that the stream of the file but not the file.","body":"on the machine where it was created. See since I am doing robocopy so I&#39;ll have the created, modified and accessed date time same as the machine.  I can see these dates when I&#39;m seeing the properties of the file, I am also able to get the same when I&#39;m using FileAttributes.  But I&#39;m not able to get these dates when I&#39;m trying to read the metadata using tika Metadata class (which actually works on inputstream). and in real time scenario, I&#39;ll not have the file directly, I&#39;ll have the file embedded in zip or in email attachments which means that the stream of the file but not the file."}],"answers":[{"tags":[],"owner":{"account_id":25139388,"reputation":126,"user_id":18985864,"display_name":"Ruhul Hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666948077,"creation_date":1666948077,"answer_id":74233027,"question_id":74107418,"body_markdown":"I got the solution. I was parsing the inputstream of the file to extract the metadata of file in Metadata class using Parser class, which was returning creation date time and last modified date time as null for few files. \r\n\r\nHowever when I tried parsing the inputstream of the file using Tika class instead of Parser class (both are the classes from apache tika), that worked for me and I&#39;m able to get all the metadata now. \r\n\r\nBelow code was my older approach, which wasn&#39;t giving me created, last modified date time. \r\n\r\n    public void fetchMetaData(InputStream inputStream) {\r\n        BodyContentHandler handler = new BodyContentHandler();\r\n        Metadata metadata = new Metadata();\r\n        ParseContext pcontext = new ParseContext();\r\n\r\n        try {\r\n            Parser parser = new AutoDetectParser();\r\n            parser.parse(inputStream, handler, metadata, pcontext);\r\n            System.out.println(&quot;creation date from metadata &quot; + metadata.get(&quot;dcterms:created&quot;));\r\n            System.out.println(&quot;modified date from metadata &quot; + metadata.get(&quot;dcterms:modified&quot;));\r\n            //Below loop will get all the metadata keys available in the metadata and will print the values assigned to these keys\r\n            for (String key : metadata.names()) {\r\n                System.out.println(key + &quot; = &quot; + metadata.get(key));\r\n            }\r\n        } catch (TikaException | SAXException | IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nand below is the solution that worked. \r\n\r\n    public void fetchMetaData(InputStream inputStream){\r\n        try {\r\n            Tika tika = new Tika();\r\n            Metadata metadata = new Metadata();\r\n            tika.parse(inputStream, metadata);\r\n            System.out.println(&quot;creation date from metadata &quot;+metadata.get(&quot;dcterms:created&quot;));  //created date time\r\n            System.out.println(&quot;modified date from metadata &quot;+metadata.get(&quot;dcterms:modified&quot;)); //last modified date time\r\n            \r\n            for(String key : metadata.names())\r\n                System.out.println(key+&quot; = &quot;+metadata.get(key));\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n  }\r\n\r\n\r\n ","title":"Extracting the createdDateTime and LastModifiedDateTime of a file using inputstream of the file. I&#39;m unable to get it using Metadata class from Tika","body":"<p>I got the solution. I was parsing the inputstream of the file to extract the metadata of file in Metadata class using Parser class, which was returning creation date time and last modified date time as null for few files.</p>\n<p>However when I tried parsing the inputstream of the file using Tika class instead of Parser class (both are the classes from apache tika), that worked for me and I'm able to get all the metadata now.</p>\n<p>Below code was my older approach, which wasn't giving me created, last modified date time.</p>\n<pre><code>public void fetchMetaData(InputStream inputStream) {\n    BodyContentHandler handler = new BodyContentHandler();\n    Metadata metadata = new Metadata();\n    ParseContext pcontext = new ParseContext();\n\n    try {\n        Parser parser = new AutoDetectParser();\n        parser.parse(inputStream, handler, metadata, pcontext);\n        System.out.println(&quot;creation date from metadata &quot; + metadata.get(&quot;dcterms:created&quot;));\n        System.out.println(&quot;modified date from metadata &quot; + metadata.get(&quot;dcterms:modified&quot;));\n        //Below loop will get all the metadata keys available in the metadata and will print the values assigned to these keys\n        for (String key : metadata.names()) {\n            System.out.println(key + &quot; = &quot; + metadata.get(key));\n        }\n    } catch (TikaException | SAXException | IOException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>and below is the solution that worked.</p>\n<pre><code>public void fetchMetaData(InputStream inputStream){\n    try {\n        Tika tika = new Tika();\n        Metadata metadata = new Metadata();\n        tika.parse(inputStream, metadata);\n        System.out.println(&quot;creation date from metadata &quot;+metadata.get(&quot;dcterms:created&quot;));  //created date time\n        System.out.println(&quot;modified date from metadata &quot;+metadata.get(&quot;dcterms:modified&quot;)); //last modified date time\n        \n        for(String key : metadata.names())\n            System.out.println(key+&quot; = &quot;+metadata.get(key));\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25139388,"reputation":126,"user_id":18985864,"display_name":"Ruhul Hussain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74233027,"answer_count":1,"score":1,"last_activity_date":1666948077,"creation_date":1666079072,"question_id":74107418,"body_markdown":"I have some files which will be either email attachments or zip attachments. which means that I have stream of the file instead of file or its actual path. \r\nI need to get the created date time and last modified date time of the file using the InputStream of the file. \r\nI tried Metadata from apache tika, It&#39;s not giving me these two things, however I can see these two properties in the file properties. \r\nAlso I&#39;m able to get the created date time and modified date time of the same files using BasicFileAttribute. But the BasicFileAttribute will work on the file path and won&#39;t work with the stream of the file. \r\nconsider the scenario below - \r\n\r\nI have a file say myTestFile.txt\r\nfor this file, I can see the createdDateTime and modifiedDateTime in the file properties. and I&#39;m able to get these two data using BasicFileAttribute. \r\nBut for the same file, when I&#39;m using Apache tike Metadata to parse with the stream of the file to get the createdDateTime and lastmodifiedDateTime, It&#39;s not giving me any of the two dates. \r\n\r\nI need to get the solution for createdDateTime and lastModifiedDateTime with the stream instead of the file or filepath because in the production environment, I&#39;ll only have the stream and not the actual file or the file path.\r\n\r\nThanks","title":"Extracting the createdDateTime and LastModifiedDateTime of a file using inputstream of the file. I&#39;m unable to get it using Metadata class from Tika","body":"<p>I have some files which will be either email attachments or zip attachments. which means that I have stream of the file instead of file or its actual path.\nI need to get the created date time and last modified date time of the file using the InputStream of the file.\nI tried Metadata from apache tika, It's not giving me these two things, however I can see these two properties in the file properties.\nAlso I'm able to get the created date time and modified date time of the same files using BasicFileAttribute. But the BasicFileAttribute will work on the file path and won't work with the stream of the file.\nconsider the scenario below -</p>\n<p>I have a file say myTestFile.txt\nfor this file, I can see the createdDateTime and modifiedDateTime in the file properties. and I'm able to get these two data using BasicFileAttribute.\nBut for the same file, when I'm using Apache tike Metadata to parse with the stream of the file to get the createdDateTime and lastmodifiedDateTime, It's not giving me any of the two dates.</p>\n<p>I need to get the solution for createdDateTime and lastModifiedDateTime with the stream instead of the file or filepath because in the production environment, I'll only have the stream and not the actual file or the file path.</p>\n<p>Thanks</p>\n"},{"tags":["java","operator-keyword"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1666946982,"post_id":74232758,"comment_id":131059628,"body_markdown":"parenthesis don&#39;t change the fact that each individual component is evaluated left-to-right.","body":"parenthesis don&#39;t change the fact that each individual component is evaluated left-to-right."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1666947123,"post_id":74232758,"comment_id":131059678,"body_markdown":"Why would the second `a++` (the one in the parentheses) be evaluated first?","body":"Why would the second <code>a++</code> (the one in the parentheses) be evaluated first?"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1666947127,"post_id":74232758,"comment_id":131059681,"body_markdown":"`a++` will return the original value and only then increment. So what you have above is equal to `6*(6-7*5)`","body":"<code>a++</code> will return the original value and only then increment. So what you have above is equal to <code>6*(6-7*5)</code>"},{"owner":{"account_id":17184893,"reputation":1835,"user_id":12439683,"display_name":"Daraan"},"score":0,"creation_date":1667243616,"post_id":74232758,"comment_id":131119841,"body_markdown":"also remember there is `++a` which first increments then gives the value back","body":"also remember there is <code>++a</code> which first increments then gives the value back"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666948042,"creation_date":1666948042,"answer_id":74233019,"question_id":74232758,"body_markdown":"According to the [Java Language Specification section 15.7.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.7.1),\r\n\r\n&gt; The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.\r\n\r\nSo in your case, the unparenthesised `a++` is evaluated before `(a++) * b`, which makes the right hand side of the assignment equal to `6 - 7 * 5`.  That&#39;s equal to `-29`, and multiplying `a` by `-29` gives `-174`.","title":"output is not what I expected because of operator precedence","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.7.1\" rel=\"nofollow noreferrer\">Java Language Specification section 15.7.1</a>,</p>\n<blockquote>\n<p>The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.</p>\n</blockquote>\n<p>So in your case, the unparenthesised <code>a++</code> is evaluated before <code>(a++) * b</code>, which makes the right hand side of the assignment equal to <code>6 - 7 * 5</code>.  That's equal to <code>-29</code>, and multiplying <code>a</code> by <code>-29</code> gives <code>-174</code>.</p>\n"}],"owner":{"account_id":6490096,"reputation":13,"user_id":5024433,"display_name":"Doyun Kim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74233019,"answer_count":1,"score":-1,"last_activity_date":1666948042,"creation_date":1666946762,"question_id":74232758,"body_markdown":"```\r\nint a = 6;\r\nint b = 5;\r\n\r\nSystem.out.print(a *= a++ - (a++) * b);\r\n```\r\n\r\nresult out -174\r\n\r\n\r\n\r\nI thought (a++) -&gt; 6\r\nand following the operation ordering, 7 - (6) * 5 =&gt; -23\r\nthen a should be now 8.\r\nso 8 *= -23 =&gt; -184 is what I thought\r\n\r\nPlease help me out step by step which was wrong and I misunderstand.\r\n\r\nThanks","title":"output is not what I expected because of operator precedence","body":"<pre><code>int a = 6;\nint b = 5;\n\nSystem.out.print(a *= a++ - (a++) * b);\n</code></pre>\n<p>result out -174</p>\n<p>I thought (a++) -&gt; 6\nand following the operation ordering, 7 - (6) * 5 =&gt; -23\nthen a should be now 8.\nso 8 *= -23 =&gt; -184 is what I thought</p>\n<p>Please help me out step by step which was wrong and I misunderstand.</p>\n<p>Thanks</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1681912,"reputation":1280,"user_id":1545982,"accept_rate":64,"display_name":"Emz"},"score":1,"creation_date":1439806135,"post_id":32047689,"comment_id":51995173,"body_markdown":"In eclipse it never warns of public or protected methods. Maybe it is the same here?","body":"In eclipse it never warns of public or protected methods. Maybe it is the same here?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1439806535,"post_id":32047689,"comment_id":51995372,"body_markdown":"Do your methods implement an interface?  This means that even though the method is not used it cannot be removed.","body":"Do your methods implement an interface?  This means that even though the method is not used it cannot be removed."},{"owner":{"account_id":3386472,"reputation":4990,"user_id":2842342,"accept_rate":52,"display_name":"Karthik"},"score":2,"creation_date":1439806585,"post_id":32047689,"comment_id":51995391,"body_markdown":"This happens when you are implementing methods of an Interface and this is not a bug.","body":"This happens when you are implementing methods of an Interface and this is not a bug."}],"answers":[{"tags":[],"owner":{"account_id":67383,"reputation":17785,"user_id":197205,"display_name":"Peter Gromov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1511483381,"creation_date":1439811385,"answer_id":32049386,"question_id":32047689,"body_markdown":"Most likely it&#39;s not a bug, it&#39;s a limitation for performance reasons. Methods likely to take a long time when searching for usages are skipped.\r\n\r\nA workaround is to run Unused Declaration inspection explicitly in all your project via Analyze | Inspect Code or Analyze | Run Inspection by Name. That&#39;ll take some time. You can also set up TeamCity server to do it for you automatically every night.","title":"Intellij IDEA doesn&#39;t grey out some unused methods","body":"<p>Most likely it's not a bug, it's a limitation for performance reasons. Methods likely to take a long time when searching for usages are skipped.</p>\n\n<p>A workaround is to run Unused Declaration inspection explicitly in all your project via Analyze | Inspect Code or Analyze | Run Inspection by Name. That'll take some time. You can also set up TeamCity server to do it for you automatically every night.</p>\n"},{"tags":[],"owner":{"account_id":9999029,"reputation":347,"user_id":7395686,"accept_rate":40,"display_name":"Amine Messabhia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535118626,"creation_date":1535115706,"answer_id":52005114,"question_id":32047689,"body_markdown":"I used to have it working like charm, but one time, I by mistake clicked on alt+Enter on an unused method, and chose to suppress the inspection on unused code. Ever since then, I stopped getting the grayed out methods and code, so since there is a way to get it undone, there sure must be a way to get it back working.\r\n\r\nAfter 5 minutes of searching, I found a solution:\r\n\r\nSettings --&gt; Editor --&gt; Inspections --&gt; Java --&gt; Declaration Redundancy --&gt; Unused Declaration\r\n\r\nMake sure you check &quot;Unused Declaration&quot;\r\n\r\nAnd I just checked by creating a new useless method, working like a charm.\r\n","title":"Intellij IDEA doesn&#39;t grey out some unused methods","body":"<p>I used to have it working like charm, but one time, I by mistake clicked on alt+Enter on an unused method, and chose to suppress the inspection on unused code. Ever since then, I stopped getting the grayed out methods and code, so since there is a way to get it undone, there sure must be a way to get it back working.</p>\n\n<p>After 5 minutes of searching, I found a solution:</p>\n\n<p>Settings --> Editor --> Inspections --> Java --> Declaration Redundancy --> Unused Declaration</p>\n\n<p>Make sure you check \"Unused Declaration\"</p>\n\n<p>And I just checked by creating a new useless method, working like a charm.</p>\n"},{"tags":[],"owner":{"account_id":7796409,"reputation":576,"user_id":5897324,"accept_rate":100,"display_name":"Richard Miller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571319734,"creation_date":1571319734,"answer_id":58434106,"question_id":32047689,"body_markdown":"It might be a bug if you&#39;re using a method with a very common name.\r\n\r\nIf you tried @Peter Gromov method above, and your method is still yellow, it might be the case that this is a bug.\r\n\r\nI had a very common named method, named &quot;stop&quot;.\r\n\r\n - Looking for usages (using ALT + F7) didn&#39;t show anything.\r\n - Analyzing the whole project, clearly showed that this method did not have any use.\r\n\r\n\r\nDespite that, the method was still yellow.\r\n\r\n\r\nI was surprised to find out, that if I try to refactor the method name, I get a pop-up warning that this will change in other places as well.\r\n\r\nTurns out, that the refactoring warned about changing the method name in TODO comments. Somehow Lint recognized the TODO comments as using this method.\r\n\r\nMy advice is to just not name your methods as something that may be written in a TODO comment.\r\n\r\nSee this image, where I am using a method named &quot;stop&quot; :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zYxAH.png","title":"Intellij IDEA doesn&#39;t grey out some unused methods","body":"<p>It might be a bug if you're using a method with a very common name.</p>\n\n<p>If you tried @Peter Gromov method above, and your method is still yellow, it might be the case that this is a bug.</p>\n\n<p>I had a very common named method, named \"stop\".</p>\n\n<ul>\n<li>Looking for usages (using ALT + F7) didn't show anything.</li>\n<li>Analyzing the whole project, clearly showed that this method did not have any use.</li>\n</ul>\n\n<p>Despite that, the method was still yellow.</p>\n\n<p>I was surprised to find out, that if I try to refactor the method name, I get a pop-up warning that this will change in other places as well.</p>\n\n<p>Turns out, that the refactoring warned about changing the method name in TODO comments. Somehow Lint recognized the TODO comments as using this method.</p>\n\n<p>My advice is to just not name your methods as something that may be written in a TODO comment.</p>\n\n<p>See this image, where I am using a method named \"stop\" :\n<a href=\"https://i.stack.imgur.com/zYxAH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zYxAH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":26758366,"reputation":21,"user_id":20356672,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666947585,"creation_date":1666947585,"answer_id":74232929,"question_id":32047689,"body_markdown":"My answer is quite late, but perhaps it will help others to identify their problem:\r\n\r\nIntelliJ didn&#39;t mark methods as unused for me, because they were overloaded methods, for example:\r\n\r\n```\r\n    1: methodName(String argument)\r\n    2: methodName(ArrayList&lt;String&gt; argument)\r\n```\r\n\r\nThe first method was no longer used, but the second method was. IntelliJ (I assume) simply checks the method names, and sees that the method name is used, even though one of them is no longer used.\r\n\r\nI have checked the other answers on this page for finding unused methods, but have not found a solution to filter out unused, overloaded methods.","title":"Intellij IDEA doesn&#39;t grey out some unused methods","body":"<p>My answer is quite late, but perhaps it will help others to identify their problem:</p>\n<p>IntelliJ didn't mark methods as unused for me, because they were overloaded methods, for example:</p>\n<pre><code>    1: methodName(String argument)\n    2: methodName(ArrayList&lt;String&gt; argument)\n</code></pre>\n<p>The first method was no longer used, but the second method was. IntelliJ (I assume) simply checks the method names, and sees that the method name is used, even though one of them is no longer used.</p>\n<p>I have checked the other answers on this page for finding unused methods, but have not found a solution to filter out unused, overloaded methods.</p>\n"}],"owner":{"account_id":118763,"reputation":22824,"user_id":1015678,"accept_rate":67,"display_name":"Lahiru Chandima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5298,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":32049386,"answer_count":4,"score":15,"last_activity_date":1666947585,"creation_date":1439806042,"question_id":32047689,"body_markdown":"In intellij IDEA, if a method is unused, the method is shown in a gray color. But in some cases, IDEA doesn&#39;t grey out the method, but when I check the references of those methods using alt + F7, IDEA says that the method is unused.\r\n\r\nIs this a IDEA bug or is there any reason why IDEA wouldn&#39;t grey out these specific methods? If it is a bug, is there some workaround to make IDEA identify that method is unused?","title":"Intellij IDEA doesn&#39;t grey out some unused methods","body":"<p>In intellij IDEA, if a method is unused, the method is shown in a gray color. But in some cases, IDEA doesn't grey out the method, but when I check the references of those methods using alt + F7, IDEA says that the method is unused.</p>\n\n<p>Is this a IDEA bug or is there any reason why IDEA wouldn't grey out these specific methods? If it is a bug, is there some workaround to make IDEA identify that method is unused?</p>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":3349175,"reputation":750,"user_id":2813567,"display_name":"shiwanginio"},"score":0,"creation_date":1622880695,"post_id":3286626,"comment_id":119922586,"body_markdown":"http://tutorials.jenkov.com/java-concurrency/thread-pools.html","body":"<a href=\"http://tutorials.jenkov.com/java-concurrency/thread-pools.html\" rel=\"nofollow noreferrer\">tutorials.jenkov.com/java-concurrency/thread-pools.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":35717,"reputation":131899,"user_id":101258,"accept_rate":100,"display_name":"Justin Ethier"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1369064047,"creation_date":1279594045,"answer_id":3286641,"question_id":3286626,"body_markdown":"[Thread Pools][1] from the Java Tutorials has a good overview:\r\n\r\n&gt; Using worker threads minimizes the overhead due to thread creation. Thread objects use a significant amount of memory, and in a large-scale application, allocating and deallocating many thread objects creates a significant memory management overhead.\r\n\r\n\r\n  [1]:http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html","title":"What is the use of a Thread pool in Java?","body":"<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\" rel=\"nofollow noreferrer\">Thread Pools</a> from the Java Tutorials has a good overview:</p>\n\n<blockquote>\n  <p>Using worker threads minimizes the overhead due to thread creation. Thread objects use a significant amount of memory, and in a large-scale application, allocating and deallocating many thread objects creates a significant memory management overhead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":36553,"reputation":2661,"user_id":104302,"accept_rate":81,"display_name":"S73417H"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1369065169,"creation_date":1279594592,"answer_id":3286693,"question_id":3286626,"body_markdown":"A simple [Google][1] search will result in a wealth of information regarding Java thread pools and thread pools in general.\r\n\r\nHere are some helpful links:\r\n\r\n* [http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html][2]\r\n\r\n* [http://en.wikipedia.org/wiki/Thread_pool_pattern][3]\r\n\r\n\r\n  [1]: http://www.google.com\r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\r\n  [3]: http://en.wikipedia.org/wiki/Thread_pool_pattern","title":"What is the use of a Thread pool in Java?","body":"<p>A simple <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">Google</a> search will result in a wealth of information regarding Java thread pools and thread pools in general.</p>\n\n<p>Here are some helpful links:</p>\n\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html</a></p></li>\n<li><p><a href=\"http://en.wikipedia.org/wiki/Thread_pool_pattern\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Thread_pool_pattern</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":55445,"reputation":77403,"user_id":166067,"accept_rate":77,"display_name":"Amir Rachum"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1279595226,"creation_date":1279595226,"answer_id":3286724,"question_id":3286626,"body_markdown":"A thread pool is a group of threads initially created that waits for jobs and executes them. The idea is to have the threads always existing, so that we won&#39;t have to pay overhead time for creating them every time. They are appropriate when we know there&#39;s a stream of jobs to process, even though there could be some time when there are no jobs.\r\n\r\nHere&#39;s a nice diagram from [Wikipedia][1]:\r\n![alt text][2]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Thread_pool_pattern\r\n  [2]: https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Thread_pool.svg/580px-Thread_pool.svg.png","title":"What is the use of a Thread pool in Java?","body":"<p>A thread pool is a group of threads initially created that waits for jobs and executes them. The idea is to have the threads always existing, so that we won't have to pay overhead time for creating them every time. They are appropriate when we know there's a stream of jobs to process, even though there could be some time when there are no jobs.</p>\n\n<p>Here's a nice diagram from <a href=\"http://en.wikipedia.org/wiki/Thread_pool_pattern\" rel=\"noreferrer\">Wikipedia</a>:\n<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Thread_pool.svg/580px-Thread_pool.svg.png\" alt=\"alt text\"></p>\n"},{"tags":[],"owner":{"account_id":168855,"reputation":284,"user_id":394560,"accept_rate":40,"display_name":"Kapil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279605146,"creation_date":1279605146,"answer_id":3287346,"question_id":3286626,"body_markdown":"You may assume Threads to be actual workers and Thread Pools to be group of workers.\r\nYou may create multiple groups for various reasons like priority, purpose, etc.\r\nSo, while one pool may be for general purpose tasks like background schedules, email broadcasting, etc. there might be a transaction processing pool to simultaneously process multiple transactions.  In case of an Executor Service, I am sure you would not like to delay the transactional jobs to be completed after other non-critical activities like broadcasting confirmation emails or database maintenance activities are not completed.\r\nYou may segregate them into pools and maintain them independently.\r\nThat&#39;s a very simplistic answer without getting into technical jargons.\r\nRegards,\r\nKT","title":"What is the use of a Thread pool in Java?","body":"<p>You may assume Threads to be actual workers and Thread Pools to be group of workers.\nYou may create multiple groups for various reasons like priority, purpose, etc.\nSo, while one pool may be for general purpose tasks like background schedules, email broadcasting, etc. there might be a transaction processing pool to simultaneously process multiple transactions.  In case of an Executor Service, I am sure you would not like to delay the transactional jobs to be completed after other non-critical activities like broadcasting confirmation emails or database maintenance activities are not completed.\nYou may segregate them into pools and maintain them independently.\nThat's a very simplistic answer without getting into technical jargons.\nRegards,\nKT</p>\n"},{"tags":[],"owner":{"account_id":3254254,"reputation":153,"user_id":2743796,"display_name":"Avinash Ganta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421321129,"creation_date":1421321129,"answer_id":27962331,"question_id":3286626,"body_markdown":"Thread Pools are useful only in a Server-client kind of situation where the number/occurrence of client requests cannot be determined/predicted.\r\n\r\nIn this scenario, creating a new Thread each time a client request is made has two dis-advantages:\r\n\r\n1) Run time latency for thread creation:\r\nCreation of a thread requires some time, thus the actual job does not start as soon as the request comes in. The client may notice a slight delay.\r\n\r\nThis criteria is crucial in interactive systems, where the client expects an immediate action.\r\n\r\n2) Uncontrolled use of System Resources:\r\nThreads consume system resources (memory etc.), thus the system may run out of resources in case there is an unprecedented flow of client requests.\r\n\r\nThread pools address the above concerns by:&lt;br&gt;\r\n1) Creating specified number of threads on server start-up instead of creating them during the run-time.&lt;br&gt;\r\n2) Limiting the number of threads that are running at any given time.\r\n\r\nNote: The above is applicable for Thread Pools of Fixed Sizes.","title":"What is the use of a Thread pool in Java?","body":"<p>Thread Pools are useful only in a Server-client kind of situation where the number/occurrence of client requests cannot be determined/predicted.</p>\n\n<p>In this scenario, creating a new Thread each time a client request is made has two dis-advantages:</p>\n\n<p>1) Run time latency for thread creation:\nCreation of a thread requires some time, thus the actual job does not start as soon as the request comes in. The client may notice a slight delay.</p>\n\n<p>This criteria is crucial in interactive systems, where the client expects an immediate action.</p>\n\n<p>2) Uncontrolled use of System Resources:\nThreads consume system resources (memory etc.), thus the system may run out of resources in case there is an unprecedented flow of client requests.</p>\n\n<p>Thread pools address the above concerns by:<br>\n1) Creating specified number of threads on server start-up instead of creating them during the run-time.<br>\n2) Limiting the number of threads that are running at any given time.</p>\n\n<p>Note: The above is applicable for Thread Pools of Fixed Sizes.</p>\n"},{"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1666947536,"creation_date":1499766138,"answer_id":45030882,"question_id":3286626,"body_markdown":"**Thread pool** is a pool of already created worker thread ready to do the job. It creates `Thread` and manage them. Instead of creating Thread and discarding them once task is done, thread-pool reuses threads in form of worker thread. \r\n\r\n**Why?**\r\n\r\nBecause creation of Thread is time consuming process and it delays request processing.  It also limits number of clients based upon how many thread per JVM is allowed, which is obviously a limited number. \r\n\r\n\r\n----------\r\n**Create fixed size thread pool using Executor framework -**\r\n\r\n\r\n\r\nJava 5 introduced a full feature built-in Thread Pool framework commonly known as **Executor framework**.\r\n\r\n\r\n Creating fixed size thread pool using Java 5 `Executor` framework is pretty easy because of static factory methods provided by `Executors` class. All you need to do is define your task which you want to execute concurrently and than submit that task to `ExecutorService`.\r\n \r\n From here, Thread pool will take care of how to execute that task; it can be executed by any free worker thread.\r\n\r\n\r\n\r\n    public class ThreadPoolExample {\r\n        public static void main(String args[]) {\r\n           ExecutorService service = Executors.newFixedThreadPool(10); //create 10 worker threads in Thread Pool\r\n           for (int i =0; i&lt;100; i++){\r\n               service.submit(new Task(i)); //submit that to be done \r\n           }\r\n           service.shutdown();\r\n        }  \r\n    }\r\n    \r\n    final class Task implements Runnable {\r\n        private int taskId;  \r\n        public Task(int id){\r\n            this.taskId = id;\r\n        }\r\n      \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Task ID : &quot; + this.taskId +&quot; performed by &quot; \r\n                               + Thread.currentThread().getName());\r\n        }  \r\n    }\r\n\r\n    Output:\r\n    Task ID : 0 performed by pool-1-thread-1\r\n    Task ID : 3 performed by pool-1-thread-4\r\n    Task ID : 2 performed by pool-1-thread-3\r\n    Task ID : 1 performed by pool-1-thread-2\r\n    Task ID : 5 performed by pool-1-thread-6\r\n    Task ID : 4 performed by pool-1-thread-5\r\n\r\n    *Output may vary from system to system\r\n","title":"What is the use of a Thread pool in Java?","body":"<p><strong>Thread pool</strong> is a pool of already created worker thread ready to do the job. It creates <code>Thread</code> and manage them. Instead of creating Thread and discarding them once task is done, thread-pool reuses threads in form of worker thread.</p>\n<p><strong>Why?</strong></p>\n<p>Because creation of Thread is time consuming process and it delays request processing.  It also limits number of clients based upon how many thread per JVM is allowed, which is obviously a limited number.</p>\n<hr />\n<p><strong>Create fixed size thread pool using Executor framework -</strong></p>\n<p>Java 5 introduced a full feature built-in Thread Pool framework commonly known as <strong>Executor framework</strong>.</p>\n<p>Creating fixed size thread pool using Java 5 <code>Executor</code> framework is pretty easy because of static factory methods provided by <code>Executors</code> class. All you need to do is define your task which you want to execute concurrently and than submit that task to <code>ExecutorService</code>.</p>\n<p>From here, Thread pool will take care of how to execute that task; it can be executed by any free worker thread.</p>\n<pre><code>public class ThreadPoolExample {\n    public static void main(String args[]) {\n       ExecutorService service = Executors.newFixedThreadPool(10); //create 10 worker threads in Thread Pool\n       for (int i =0; i&lt;100; i++){\n           service.submit(new Task(i)); //submit that to be done \n       }\n       service.shutdown();\n    }  \n}\n\nfinal class Task implements Runnable {\n    private int taskId;  \n    public Task(int id){\n        this.taskId = id;\n    }\n  \n    @Override\n    public void run() {\n        System.out.println(&quot;Task ID : &quot; + this.taskId +&quot; performed by &quot; \n                           + Thread.currentThread().getName());\n    }  \n}\n\nOutput:\nTask ID : 0 performed by pool-1-thread-1\nTask ID : 3 performed by pool-1-thread-4\nTask ID : 2 performed by pool-1-thread-3\nTask ID : 1 performed by pool-1-thread-2\nTask ID : 5 performed by pool-1-thread-6\nTask ID : 4 performed by pool-1-thread-5\n\n*Output may vary from system to system\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11506037,"reputation":1545,"user_id":8432237,"accept_rate":50,"display_name":"NeeruKSingh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601835233,"creation_date":1601835233,"answer_id":64198218,"question_id":3286626,"body_markdown":"&gt; Already great answers are there to explain it but Lets understand it\r\n&gt; with an example:\r\n\r\n**Problem without thread pool:** Consider a web server application where each HTTP request is handled by a separate thread. If the application simply creates a new thread for every new HTTP request, and the system receives more requests than it can handle immediately, the application will suddenly stop responding to all requests when the overhead of all those threads exceed the capacity of the system.\r\n\r\n\r\n**Solution with thread pool:** With a limit on the number of the threads that can be created, the application will not be servicing HTTP requests as quickly as they come in, but it will be servicing them as quickly as the system can sustain.\r\n\r\nFor more details(overhead of all the threads): https://stackoverflow.com/questions/5483047/why-is-creating-a-thread-said-to-be-expensive","title":"What is the use of a Thread pool in Java?","body":"<blockquote>\n<p>Already great answers are there to explain it but Lets understand it\nwith an example:</p>\n</blockquote>\n<p><strong>Problem without thread pool:</strong> Consider a web server application where each HTTP request is handled by a separate thread. If the application simply creates a new thread for every new HTTP request, and the system receives more requests than it can handle immediately, the application will suddenly stop responding to all requests when the overhead of all those threads exceed the capacity of the system.</p>\n<p><strong>Solution with thread pool:</strong> With a limit on the number of the threads that can be created, the application will not be servicing HTTP requests as quickly as they come in, but it will be servicing them as quickly as the system can sustain.</p>\n<p>For more details(overhead of all the threads): <a href=\"https://stackoverflow.com/questions/5483047/why-is-creating-a-thread-said-to-be-expensive\">Why is creating a Thread said to be expensive?</a></p>\n"}],"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28847,"favorite_count":0,"down_vote_count":2,"up_vote_count":41,"accepted_answer_id":3286724,"answer_count":7,"score":39,"last_activity_date":1666947536,"creation_date":1279593910,"question_id":3286626,"body_markdown":"What is the use of a Thread pool? Is there a good real world example?","title":"What is the use of a Thread pool in Java?","body":"<p>What is the use of a Thread pool? Is there a good real world example?</p>\n"},{"tags":["java","spring","java-8"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1570006682,"post_id":58198247,"comment_id":102774744,"body_markdown":"Looks like you have to whitelist some class for deserialisation. Check the release notes of your Weblogic server to see if it mentions serialization somewhere.","body":"Looks like you have to whitelist some class for deserialisation. Check the release notes of your Weblogic server to see if it mentions serialization somewhere."},{"owner":{"account_id":8700436,"reputation":241,"user_id":6510529,"display_name":"stephanmathew"},"score":0,"creation_date":1570007192,"post_id":58198247,"comment_id":102775013,"body_markdown":"But the final ApplicationEvent event which is sent through RMI is serializable and has serialization uid. It should be serialized and deserialized to be sent by first application and received by other application. You mean I should whitelist this class for deserialization on the receiver side ?","body":"But the final ApplicationEvent event which is sent through RMI is serializable and has serialization uid. It should be serialized and deserialized to be sent by first application and received by other application. You mean I should whitelist this class for deserialization on the receiver side ?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1570007907,"post_id":58198247,"comment_id":102775357,"body_markdown":"It looks like a newer version of Weblogic uses [serialization filters](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/ObjectInputFilter.html). It doesn&#39;t matter that the class is Serializable, or anything. This class is filtered. And you need to whitelist it. I have no idea how Weblogic works, I just know which java facility was used to get such an error trace.","body":"It looks like a newer version of Weblogic uses <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/ObjectInputFilter.html\" rel=\"nofollow noreferrer\">serialization filters</a>. It doesn&#39;t matter that the class is Serializable, or anything. This class is filtered. And you need to whitelist it. I have no idea how Weblogic works, I just know which java facility was used to get such an error trace."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1570009774,"post_id":58198247,"comment_id":102776303,"body_markdown":"Note that while `java.io.ObjectInputFilter` has been added in Java&#160;9, the functionality existed already in Java&#160;8, buried in `sun.misc.ObjectInputFilter`.","body":"Note that while <code>java.io.ObjectInputFilter</code> has been added in Java 9, the functionality existed already in Java 8, buried in <code>sun.misc.ObjectInputFilter</code>."},{"owner":{"account_id":8700436,"reputation":241,"user_id":6510529,"display_name":"stephanmathew"},"score":0,"creation_date":1570010022,"post_id":58198247,"comment_id":102776424,"body_markdown":"I added this class to whitelist but it didn&#39;t help Dweblogic.oif.serialFilter=&quot;mypackage.ApplicationEvent&quot;. Logs shows &lt;Oct 2, 2019 11:49:03 AM CEST&gt; &lt;Info&gt; &lt;java.io.serialization&gt; &lt;BEA-000000&gt; &lt;ObjectInputFilter REJECTED: class java.rmi.server.RemoteObjectInvocationHandler, array length: -1, nRefs: 7, depth: 2, bytes What helped was setting Dweblogic.oif.serialFilter=&quot;*&quot; But I am not sure if it is correct. I could add RemoteObjectInvocationHandler to the filter if this is correct way, but it is not my class it is jdk class.","body":"I added this class to whitelist but it didn&#39;t help Dweblogic.oif.serialFilter=&quot;mypackage.ApplicationEvent&quot;. Logs shows &lt;Oct 2, 2019 11:49:03 AM CEST&gt; &lt;Info&gt; &lt;java.io.serialization&gt; &lt;BEA-000000&gt; &lt;ObjectInputFilter REJECTED: class java.rmi.server.RemoteObjectInvocationHandler, array length: -1, nRefs: 7, depth: 2, bytes What helped was setting Dweblogic.oif.serialFilter=&quot;*&quot; But I am not sure if it is correct. I could add RemoteObjectInvocationHandler to the filter if this is correct way, but it is not my class it is jdk class."},{"owner":{"account_id":8700436,"reputation":241,"user_id":6510529,"display_name":"stephanmathew"},"score":1,"creation_date":1570010662,"post_id":58198247,"comment_id":102776744,"body_markdown":"Just received instructions from weblogic :) JAVA_OPTIONS=&quot;${JAVA_OPTIONS} -Dweblogic.oif.serialFilterScope=weblogic","body":"Just received instructions from weblogic :) JAVA_OPTIONS=&quot;${JAVA_OPTIONS} -Dweblogic.oif.serialFilterScope=weblogic"},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":0,"creation_date":1573502255,"post_id":58198247,"comment_id":103895145,"body_markdown":"@stephanmathew: As you solved your question, why not self-answer it? :) This comment is rather hidden","body":"@stephanmathew: As you solved your question, why not self-answer it? :) This comment is rather hidden"}],"answers":[{"tags":[],"owner":{"account_id":16930330,"reputation":94,"user_id":12244794,"display_name":"tiberiuemilian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574870212,"creation_date":1574865867,"answer_id":59072719,"question_id":58198247,"body_markdown":"I used the solution proposed above in a similiar situation and it works for me:\r\n```\r\nJAVA_OPTIONS=&quot;${JAVA_OPTIONS} -Dweblogic.oif.serialFilterScope=weblogic\r\n```\r\nYou can find the description of the Weblogic settings [here][1].\r\n\r\n  [1]: https://docs.oracle.com/middleware/12213/wls/SECMG/conf-security-for-domain.htm#SECMG-GUID-902F255F-7325-4F48-A127-57F9851B5330","title":"Spring-RMI event causes java.io.InvalidClassException: filter status: REJECTED","body":"<p>I used the solution proposed above in a similiar situation and it works for me:</p>\n\n<pre><code>JAVA_OPTIONS=\"${JAVA_OPTIONS} -Dweblogic.oif.serialFilterScope=weblogic\n</code></pre>\n\n<p>You can find the description of the Weblogic settings <a href=\"https://docs.oracle.com/middleware/12213/wls/SECMG/conf-security-for-domain.htm#SECMG-GUID-902F255F-7325-4F48-A127-57F9851B5330\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":15483439,"reputation":1,"user_id":11170082,"display_name":"G&#233;rald Even"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585554039,"creation_date":1585554039,"answer_id":60926010,"question_id":58198247,"body_markdown":"I faced the same situation when migrating from weblogic 12.1.3.0 to weblogic 12.2.1.4.\r\nUltimately I debugged the weblogic server into java.io.ObjectInputStream#filterCheck, in debug I could see the filter being used.\r\n\r\nVery strangely weblogic 12.2.1.4 comes with a preset filter that does not allow for java.rmi.server.* classes to be serialized .\r\n\r\nTherefore the fix that worked for me was to add the whole package to the allowed filter:\r\n```\r\njava.rmi.server.*\r\n```\r\n\r\nOracle documentation explains that the default behaviour will be &quot;combine&quot; what we define will take precedence over the predefined filter.\r\n\r\n(windows)\r\n```\r\nset JAVA_OPTIONS=-Dweblogic.oif.serialFilter=java.rmi.server.* %JAVA_OPTIONS%\r\n```\r\n(*nix)\r\n```\r\nexport JAVA_OPTIONS=-Dweblogic.oif.serialFilter=java.rmi.server.* $JAVA_OPTIONS\r\n```","title":"Spring-RMI event causes java.io.InvalidClassException: filter status: REJECTED","body":"<p>I faced the same situation when migrating from weblogic 12.1.3.0 to weblogic 12.2.1.4.\nUltimately I debugged the weblogic server into java.io.ObjectInputStream#filterCheck, in debug I could see the filter being used.</p>\n\n<p>Very strangely weblogic 12.2.1.4 comes with a preset filter that does not allow for java.rmi.server.* classes to be serialized .</p>\n\n<p>Therefore the fix that worked for me was to add the whole package to the allowed filter:</p>\n\n<pre><code>java.rmi.server.*\n</code></pre>\n\n<p>Oracle documentation explains that the default behaviour will be \"combine\" what we define will take precedence over the predefined filter.</p>\n\n<p>(windows)</p>\n\n<pre><code>set JAVA_OPTIONS=-Dweblogic.oif.serialFilter=java.rmi.server.* %JAVA_OPTIONS%\n</code></pre>\n\n<p>(*nix)</p>\n\n<pre><code>export JAVA_OPTIONS=-Dweblogic.oif.serialFilter=java.rmi.server.* $JAVA_OPTIONS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11432440,"reputation":23,"user_id":8380786,"display_name":"sridhar vaishnava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654845112,"creation_date":1654845112,"answer_id":72570381,"question_id":58198247,"body_markdown":"I did see the same thing not with the spring framework but with deploying servlet based rmi in WebLogic.\r\n\r\nI did the code change\r\n\r\n`import java.rmi.server.*;` \r\n\r\n\r\nand added the system property\r\n\r\n     -Dweblogic.oif.serialFilterScope=weblogic  \r\n\r\nthis worked.\r\n","title":"Spring-RMI event causes java.io.InvalidClassException: filter status: REJECTED","body":"<p>I did see the same thing not with the spring framework but with deploying servlet based rmi in WebLogic.</p>\n<p>I did the code change</p>\n<p><code>import java.rmi.server.*;</code></p>\n<p>and added the system property</p>\n<pre><code> -Dweblogic.oif.serialFilterScope=weblogic  \n</code></pre>\n<p>this worked.</p>\n"}],"owner":{"account_id":8700436,"reputation":241,"user_id":6510529,"display_name":"stephanmathew"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8779,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1666946933,"creation_date":1570006350,"question_id":58198247,"body_markdown":"**The problem**\r\n\r\nProblem with Spring 4.3.3 and Java 8 when project uses RMI. Application throws exception during using RMI to send event to other application. It was working fine (application is few years old) but it broke after some patch installation on Weblogic server.\r\n\r\n**The code**\r\n\r\nThe application uses spring-context \r\n\r\n    org.springframework.context.support.AbstractApplicationContext\r\n\r\n     private void publishEvent(final ApplicationEvent event) {\r\n            taskExecutor.submit(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    publisher.publishEvent(event);\r\n                }\r\n            });\r\n        }\r\n\r\n**The logs**\r\n\r\n    &gt; 2019-10-01 10:42:14,366 ERROR .c.b.i.i.ImportServiceImpl - An unexpected error occurred during the synchronous import process.\r\n    org.springframework.remoting.RemoteLookupFailureException: Lookup of RMI stub failed; nested exception is java.rmi.UnmarshalException: error unmarshalling return; nested exception is:\r\n            java.io.InvalidClassException: filter status: REJECTED\r\n            at org.springframework.remoting.rmi.RmiClientInterceptor.lookupStub(RmiClientInterceptor.java:215)\r\n            at org.springframework.remoting.rmi.RmiClientInterceptor.getStub(RmiClientInterceptor.java:237)\r\n            at org.springframework.remoting.rmi.RmiClientInterceptor.invoke(RmiClientInterceptor.java:258)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n     \t\t\r\n    (...)\t\t\r\n    \t\t\r\n     \t\t\r\n    &gt;\tCaused by: java.rmi.UnmarshalException: error unmarshalling return; nested exception is:\r\n            java.io.InvalidClassException: filter status: REJECTED\r\n            at sun.rmi.registry.RegistryImpl_Stub.lookup(RegistryImpl_Stub.java:125)\r\n            at java.rmi.Naming.lookup(Naming.java:101)\r\n            at org.springframework.remoting.rmi.RmiClientInterceptor.lookupStub(RmiClientInterceptor.java:200)\r\n            ... 104 common frames omitted\r\n    Caused by: java.io.InvalidClassException: filter status: REJECTED\r\n            at java.io.ObjectInputStream.filterCheck(ObjectInputStream.java:1255)\r\n            at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1878)\r\n            at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2287)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2211)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2069)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\r\n            at java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\r\n            at sun.rmi.registry.RegistryImpl_Stub.lookup(RegistryImpl_Stub.java:123)\r\n            ... 106 common frames omitted","title":"Spring-RMI event causes java.io.InvalidClassException: filter status: REJECTED","body":"<p><strong>The problem</strong></p>\n\n<p>Problem with Spring 4.3.3 and Java 8 when project uses RMI. Application throws exception during using RMI to send event to other application. It was working fine (application is few years old) but it broke after some patch installation on Weblogic server.</p>\n\n<p><strong>The code</strong></p>\n\n<p>The application uses spring-context </p>\n\n<pre><code>org.springframework.context.support.AbstractApplicationContext\n\n private void publishEvent(final ApplicationEvent event) {\n        taskExecutor.submit(new Runnable() {\n            @Override\n            public void run() {\n                publisher.publishEvent(event);\n            }\n        });\n    }\n</code></pre>\n\n<p><strong>The logs</strong></p>\n\n<pre><code>&gt; 2019-10-01 10:42:14,366 ERROR .c.b.i.i.ImportServiceImpl - An unexpected error occurred during the synchronous import process.\norg.springframework.remoting.RemoteLookupFailureException: Lookup of RMI stub failed; nested exception is java.rmi.UnmarshalException: error unmarshalling return; nested exception is:\n        java.io.InvalidClassException: filter status: REJECTED\n        at org.springframework.remoting.rmi.RmiClientInterceptor.lookupStub(RmiClientInterceptor.java:215)\n        at org.springframework.remoting.rmi.RmiClientInterceptor.getStub(RmiClientInterceptor.java:237)\n        at org.springframework.remoting.rmi.RmiClientInterceptor.invoke(RmiClientInterceptor.java:258)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\n(...)       \n\n\n&gt;   Caused by: java.rmi.UnmarshalException: error unmarshalling return; nested exception is:\n        java.io.InvalidClassException: filter status: REJECTED\n        at sun.rmi.registry.RegistryImpl_Stub.lookup(RegistryImpl_Stub.java:125)\n        at java.rmi.Naming.lookup(Naming.java:101)\n        at org.springframework.remoting.rmi.RmiClientInterceptor.lookupStub(RmiClientInterceptor.java:200)\n        ... 104 common frames omitted\nCaused by: java.io.InvalidClassException: filter status: REJECTED\n        at java.io.ObjectInputStream.filterCheck(ObjectInputStream.java:1255)\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1878)\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2287)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2211)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2069)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\n        at sun.rmi.registry.RegistryImpl_Stub.lookup(RegistryImpl_Stub.java:123)\n        ... 106 common frames omitted\n</code></pre>\n"},{"tags":["java","selenium","geckodriver","selenium3"],"answers":[{"tags":[],"owner":{"account_id":12376409,"reputation":96,"user_id":9023989,"display_name":"shubham chawla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666946532,"creation_date":1543987790,"answer_id":53625709,"question_id":53624918,"body_markdown":"**Exception in thread &quot;main&quot; java.lang.IllegalStateException:** This exception comes when your gecko driver version doesn&#39;t support the firefox browser version you are using.\r\n\r\nTo check which gecko driver version is compatible with your browser follow the link below.\r\n\r\n\r\nhttps://github.com/mozilla/geckodriver/releases\r\n\r\n\r\nThere you&#39;ll find all the details on each driver, its properties and compatible firefox version.","title":"Geckodriver Error: Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path to the driver executable must be set by","body":"<p><strong>Exception in thread &quot;main&quot; java.lang.IllegalStateException:</strong> This exception comes when your gecko driver version doesn't support the firefox browser version you are using.</p>\n<p>To check which gecko driver version is compatible with your browser follow the link below.</p>\n<p><a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">https://github.com/mozilla/geckodriver/releases</a></p>\n<p>There you'll find all the details on each driver, its properties and compatible firefox version.</p>\n"}],"owner":{"account_id":13920184,"reputation":3,"user_id":10050808,"display_name":"Fromkos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53625709,"answer_count":1,"score":0,"last_activity_date":1666946532,"creation_date":1543981875,"question_id":53624918,"body_markdown":"Selenium standalone server lib is added, Gecko driver (latest version). All set but error still appears.\r\n\r\nI&#39;m using:\r\n\r\n - Java 8 Update 191\r\n - Windows 10, 64 bit\r\n - Mozilla 48.0.2\r\n - Selenium 3.141.59\r\n\r\nCode:\r\n\r\n    package test;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    \r\n    public class FistSeleniumTest {\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \r\n    \t{\r\n    \t\t\r\n    \t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;D:\\\\Portnov\\\\Java\\\\First Project\\\\SeleniumTest\\\\libs\\\\geckodriver\\\\geckodriver.exe&quot;);\r\n    \r\n    \t\tDesiredCapabilities capabilities = DesiredCapabilities.firefox();\r\n    \t\tcapabilities.setCapability(&quot;marionette&quot;, true);\r\n    \t\t\r\n    \t\tWebDriver driver = new FirefoxDriver();\r\n    \t\tdriver.get(&quot;https://seleniumhq.org/&quot;);\r\n    \t}\r\n    }\r\n\r\nError when ran in Eclipse:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path\r\n&gt; to the driver executable must be set by the webdriver.gecko.driver\r\n&gt; system property; for more information, see\r\n&gt; https://github.com/mozilla/geckodriver. The latest version can be\r\n&gt; downloaded from https://github.com/mozilla/geckodriver/releases \tat\r\n&gt; com.google.common.base.Preconditions.checkState(Preconditions.java:847)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:134)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.firefox.GeckoDriverService.access$100(GeckoDriverService.java:44)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.firefox.GeckoDriverService$Builder.findDefaultExecutable(GeckoDriverService.java:167)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:190)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:147)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:125)\r\n&gt; \tat test.FistSeleniumTest.main(FistSeleniumTest.java:10)\r\n\r\n","title":"Geckodriver Error: Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path to the driver executable must be set by","body":"<p>Selenium standalone server lib is added, Gecko driver (latest version). All set but error still appears.</p>\n\n<p>I'm using:</p>\n\n<ul>\n<li>Java 8 Update 191</li>\n<li>Windows 10, 64 bit</li>\n<li>Mozilla 48.0.2</li>\n<li>Selenium 3.141.59</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>package test;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\n\npublic class FistSeleniumTest {\n\n    public static void main(String[] args)\n\n    {\n\n        System.setProperty(\"webdriver.gecko.driver\", \"D:\\\\Portnov\\\\Java\\\\First Project\\\\SeleniumTest\\\\libs\\\\geckodriver\\\\geckodriver.exe\");\n\n        DesiredCapabilities capabilities = DesiredCapabilities.firefox();\n        capabilities.setCapability(\"marionette\", true);\n\n        WebDriver driver = new FirefoxDriver();\n        driver.get(\"https://seleniumhq.org/\");\n    }\n}\n</code></pre>\n\n<p>Error when ran in Eclipse:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: The path\n  to the driver executable must be set by the webdriver.gecko.driver\n  system property; for more information, see\n  <a href=\"https://github.com/mozilla/geckodriver\" rel=\"nofollow noreferrer\">https://github.com/mozilla/geckodriver</a>. The latest version can be\n  downloaded from <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">https://github.com/mozilla/geckodriver/releases</a>   at\n  com.google.common.base.Preconditions.checkState(Preconditions.java:847)\n    at\n  org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:134)\n    at\n  org.openqa.selenium.firefox.GeckoDriverService.access$100(GeckoDriverService.java:44)\n    at\n  org.openqa.selenium.firefox.GeckoDriverService$Builder.findDefaultExecutable(GeckoDriverService.java:167)\n    at\n  org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\n    at\n  org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:190)\n    at\n  org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:147)\n    at\n  org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:125)\n    at test.FistSeleniumTest.main(FistSeleniumTest.java:10)</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666933033,"post_id":74230768,"comment_id":131056340,"body_markdown":"I don&#39;t see how this can be right: `if (rowTotal[r] != r)`  In a magic square, all totals are the same, right?  But here&#39;s you&#39;re checking if the row total is the same as the index value (0, 1, 2, ...) which would make all the rows different.  I think you need to go back and re-think your logic.","body":"I don&#39;t see how this can be right: <code>if (rowTotal[r] != r)</code>  In a magic square, all totals are the same, right?  But here&#39;s you&#39;re checking if the row total is the same as the index value (0, 1, 2, ...) which would make all the rows different.  I think you need to go back and re-think your logic."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666944173,"creation_date":1666943682,"answer_id":74232210,"question_id":74230768,"body_markdown":"I initialize the variables inside the loop, otherwise the totals will not be correct:\r\n\r\n        while (true) {\r\n            int[][] array = new int[4][4];\r\n            int[] rowTotal = new int[4];\r\n            int[] columnTotal = new int[4];\r\n\r\nthe first number you read is either the sentinel, or array[0][0]:\r\n\r\n            int number = input.nextInt();\r\n            if (number == -999) {\r\n                break;\r\n            }\r\n            array[0][0] = number;\r\n\r\nNow you need to read the remainder of row 0:\r\n\r\n            for (int column = 1; column &lt; array[0].length; column++) {\r\n                array[0][column] = input.nextInt();\r\n            }\r\n\r\nand then the other rows:\r\n\r\n            for (int row = 1; row &lt; array.length; row++) {\r\n                for (int column = 0; column &lt; array[row].length; column++) {\r\n                    array[row][column] = input.nextInt();\r\n                }\r\n            }\r\n\r\nNow, the calculations; column totals:\r\n\r\n            for (int column = 0; column &lt; array.length; column++) {\r\n                for (int row = 0; row &lt; array.length; row++) {\r\n                    columnTotal[column] += array[row][column];\r\n                }\r\n            }\r\n\r\nrow totals:\r\n\r\n            for (int row = 0; row &lt; array.length; row++) {\r\n                for (int column = 0; column &lt; array.length; column++) {\r\n                    rowTotal[row] += array[row][column];\r\n                }\r\n            }\r\n\r\ndiagonals:\r\n\r\n            int diagonalOne = 0;\r\n            for (int row = 0; row &lt; array.length; row++) {\r\n                diagonalOne += array[row][row];\r\n            }\r\n\r\n            int otherDiagonal = 0;\r\n            for (int row = 0; row &lt; array.length; row++) {\r\n                otherDiagonal += array[row][array.length - row - 1];\r\n            }\r\n\r\nthen the comparisons:\r\n\r\n\r\n            int row = rowTotal[0];\r\n\r\n            boolean rowEqual = true;\r\n\r\n            for (int r = 0; r &lt; array.length; r++) {\r\n                if (rowTotal[r] != row) {\r\n                    rowEqual = false;\r\n                }\r\n            }\r\n\r\n            int col = columnTotal[0];\r\n\r\n            boolean columnEqual = true;\r\n\r\n            for (int column = 0; column &lt; array.length; column++) {\r\n                if (columnTotal[column] != col) {\r\n                    columnEqual = false;\r\n                }\r\n            }\r\n\r\n            int diagonal = diagonalOne;\r\n\r\n            boolean diagonalEqual = true;\r\n\r\n            if (otherDiagonal != diagonal) {\r\n                diagonalEqual = false;\r\n            }\r\n\r\n            boolean isMagic = false;\r\n\r\n            if (rowEqual &amp;&amp; columnEqual &amp;&amp; diagonalEqual) {\r\n                if (row == col &amp;&amp; col == diagonal) {\r\n                    isMagic = true;\r\n                }\r\n            }\r\n\r\n            if (isMagic) {\r\n                System.out.println(&quot;Is a magic square&quot;);\r\n            } else {\r\n                System.out.println(&quot;NOT a magic square&quot;);\r\n            }\r\n\r\nOf course you wouldn&#39;t need to store the totals in arrays: you could just compare them as you compute them.\r\n\r\n\r\n            int sum = 0;\r\n            for (int row = 0; row &lt; array.length; row++) {\r\n                sum += array[row][row];\r\n            }\r\n\r\n            boolean isMagic = true;\r\n            int magicNumber = sum;\r\n\r\n            sum = 0;\r\n            for (int row = 0; row &lt; array.length; row++) {\r\n                sum += array[row][array.length - row - 1];\r\n            }\r\n\r\n            if (sum != magicNumber) {\r\n                isMagic = false;\r\n            }\r\n\r\n            for (int column = 0; column &lt; array.length; column++) {\r\n                sum = 0;\r\n                for (int row = 0; row &lt; array.length; row++) {\r\n                    sum += array[row][column];\r\n                }\r\n                if (sum != magicNumber) {\r\n                    isMagic = false;\r\n                }\r\n            }\r\n\r\n            for (int row = 0; row &lt; array.length; row++) {\r\n                sum = 0;\r\n                for (int column = 0; column &lt; array.length; column++) {\r\n                    sum += array[row][column];\r\n                }\r\n                if (sum != magicNumber) {\r\n                    isMagic = false;\r\n                }\r\n            }\r\n","title":"Why it is not printing the magic square is magic?","body":"<p>I initialize the variables inside the loop, otherwise the totals will not be correct:</p>\n<pre><code>    while (true) {\n        int[][] array = new int[4][4];\n        int[] rowTotal = new int[4];\n        int[] columnTotal = new int[4];\n</code></pre>\n<p>the first number you read is either the sentinel, or array[0][0]:</p>\n<pre><code>        int number = input.nextInt();\n        if (number == -999) {\n            break;\n        }\n        array[0][0] = number;\n</code></pre>\n<p>Now you need to read the remainder of row 0:</p>\n<pre><code>        for (int column = 1; column &lt; array[0].length; column++) {\n            array[0][column] = input.nextInt();\n        }\n</code></pre>\n<p>and then the other rows:</p>\n<pre><code>        for (int row = 1; row &lt; array.length; row++) {\n            for (int column = 0; column &lt; array[row].length; column++) {\n                array[row][column] = input.nextInt();\n            }\n        }\n</code></pre>\n<p>Now, the calculations; column totals:</p>\n<pre><code>        for (int column = 0; column &lt; array.length; column++) {\n            for (int row = 0; row &lt; array.length; row++) {\n                columnTotal[column] += array[row][column];\n            }\n        }\n</code></pre>\n<p>row totals:</p>\n<pre><code>        for (int row = 0; row &lt; array.length; row++) {\n            for (int column = 0; column &lt; array.length; column++) {\n                rowTotal[row] += array[row][column];\n            }\n        }\n</code></pre>\n<p>diagonals:</p>\n<pre><code>        int diagonalOne = 0;\n        for (int row = 0; row &lt; array.length; row++) {\n            diagonalOne += array[row][row];\n        }\n\n        int otherDiagonal = 0;\n        for (int row = 0; row &lt; array.length; row++) {\n            otherDiagonal += array[row][array.length - row - 1];\n        }\n</code></pre>\n<p>then the comparisons:</p>\n<pre><code>        int row = rowTotal[0];\n\n        boolean rowEqual = true;\n\n        for (int r = 0; r &lt; array.length; r++) {\n            if (rowTotal[r] != row) {\n                rowEqual = false;\n            }\n        }\n\n        int col = columnTotal[0];\n\n        boolean columnEqual = true;\n\n        for (int column = 0; column &lt; array.length; column++) {\n            if (columnTotal[column] != col) {\n                columnEqual = false;\n            }\n        }\n\n        int diagonal = diagonalOne;\n\n        boolean diagonalEqual = true;\n\n        if (otherDiagonal != diagonal) {\n            diagonalEqual = false;\n        }\n\n        boolean isMagic = false;\n\n        if (rowEqual &amp;&amp; columnEqual &amp;&amp; diagonalEqual) {\n            if (row == col &amp;&amp; col == diagonal) {\n                isMagic = true;\n            }\n        }\n\n        if (isMagic) {\n            System.out.println(&quot;Is a magic square&quot;);\n        } else {\n            System.out.println(&quot;NOT a magic square&quot;);\n        }\n</code></pre>\n<p>Of course you wouldn't need to store the totals in arrays: you could just compare them as you compute them.</p>\n<pre><code>        int sum = 0;\n        for (int row = 0; row &lt; array.length; row++) {\n            sum += array[row][row];\n        }\n\n        boolean isMagic = true;\n        int magicNumber = sum;\n\n        sum = 0;\n        for (int row = 0; row &lt; array.length; row++) {\n            sum += array[row][array.length - row - 1];\n        }\n\n        if (sum != magicNumber) {\n            isMagic = false;\n        }\n\n        for (int column = 0; column &lt; array.length; column++) {\n            sum = 0;\n            for (int row = 0; row &lt; array.length; row++) {\n                sum += array[row][column];\n            }\n            if (sum != magicNumber) {\n                isMagic = false;\n            }\n        }\n\n        for (int row = 0; row &lt; array.length; row++) {\n            sum = 0;\n            for (int column = 0; column &lt; array.length; column++) {\n                sum += array[row][column];\n            }\n            if (sum != magicNumber) {\n                isMagic = false;\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666946490,"creation_date":1666946490,"answer_id":74232704,"question_id":74230768,"body_markdown":"```java\r\npublic class Foo {\r\n\r\n    public static void main(String... args) throws IOException {\r\n        File file = new File(&quot;Lab8Data.txt&quot;);\r\n        int[][] square = readSquareFromFile(file);\r\n        boolean magicSquare = isMagicSquare(square);\r\n        System.out.println(magicSquare);\r\n    }\r\n\r\n    private static int[][] readSquareFromFile(File file) {\r\n        // TODO read from file\r\n        return new int[][] {\r\n                { 1, 15, 14, 4 },\r\n                { 12, 6, 7, 9 },\r\n                { 8, 10, 11, 5 },\r\n                { 13, 3, 2, 16 } };\r\n    }\r\n\r\n    private static boolean isMagicSquare(int[][] square) {\r\n        int magicNumber = Arrays.stream(square[0]).sum();\r\n        return isRowsMagic(square, magicNumber)\r\n                &amp;&amp; isColumnsMagic(square, magicNumber)\r\n                &amp;&amp; isDiagonalsMagic(square, magicNumber);\r\n    }\r\n\r\n    private static boolean isRowsMagic(int[][] square, int magicNumber) {\r\n        for (int row = 0; row &lt; square.length; row++) {\r\n            int sum = 0;\r\n\r\n            for (int col = 0; col &lt; square[row].length; col++)\r\n                sum += square[row][col];\r\n\r\n            if (sum != magicNumber)\r\n                return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private static boolean isColumnsMagic(int[][] square, int magicNumber) {\r\n        for (int col = 0; col &lt; square[0].length; col++) {\r\n            int sum = 0;\r\n\r\n            for (int row = 0; row &lt; square.length; row++)\r\n                sum += square[row][col];\r\n\r\n            if (sum != magicNumber)\r\n                return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private static boolean isDiagonalsMagic(int[][] square, int magicNumber) {\r\n        return getLeftDiagonalSum(square) == magicNumber &amp;&amp; getRightDiagonalSum(square) == magicNumber;\r\n    }\r\n\r\n    private static int getLeftDiagonalSum(int[][] square) {\r\n        int sum = 0;\r\n\r\n        for (int i = 0; i &lt; square.length; i++)\r\n            sum += square[i][i];\r\n\r\n        return sum;\r\n    }\r\n\r\n    private static int getRightDiagonalSum(int[][] square) {\r\n        int sum = 0;\r\n\r\n        for (int row = 0, col = square.length - 1; row &lt; square.length; row++, col--)\r\n            sum += square[row][col];\r\n\r\n        return sum;\r\n    }\r\n\r\n}\r\n```","title":"Why it is not printing the magic square is magic?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    public static void main(String... args) throws IOException {\n        File file = new File(&quot;Lab8Data.txt&quot;);\n        int[][] square = readSquareFromFile(file);\n        boolean magicSquare = isMagicSquare(square);\n        System.out.println(magicSquare);\n    }\n\n    private static int[][] readSquareFromFile(File file) {\n        // TODO read from file\n        return new int[][] {\n                { 1, 15, 14, 4 },\n                { 12, 6, 7, 9 },\n                { 8, 10, 11, 5 },\n                { 13, 3, 2, 16 } };\n    }\n\n    private static boolean isMagicSquare(int[][] square) {\n        int magicNumber = Arrays.stream(square[0]).sum();\n        return isRowsMagic(square, magicNumber)\n                &amp;&amp; isColumnsMagic(square, magicNumber)\n                &amp;&amp; isDiagonalsMagic(square, magicNumber);\n    }\n\n    private static boolean isRowsMagic(int[][] square, int magicNumber) {\n        for (int row = 0; row &lt; square.length; row++) {\n            int sum = 0;\n\n            for (int col = 0; col &lt; square[row].length; col++)\n                sum += square[row][col];\n\n            if (sum != magicNumber)\n                return false;\n        }\n\n        return true;\n    }\n\n    private static boolean isColumnsMagic(int[][] square, int magicNumber) {\n        for (int col = 0; col &lt; square[0].length; col++) {\n            int sum = 0;\n\n            for (int row = 0; row &lt; square.length; row++)\n                sum += square[row][col];\n\n            if (sum != magicNumber)\n                return false;\n        }\n\n        return true;\n    }\n\n    private static boolean isDiagonalsMagic(int[][] square, int magicNumber) {\n        return getLeftDiagonalSum(square) == magicNumber &amp;&amp; getRightDiagonalSum(square) == magicNumber;\n    }\n\n    private static int getLeftDiagonalSum(int[][] square) {\n        int sum = 0;\n\n        for (int i = 0; i &lt; square.length; i++)\n            sum += square[i][i];\n\n        return sum;\n    }\n\n    private static int getRightDiagonalSum(int[][] square) {\n        int sum = 0;\n\n        for (int row = 0, col = square.length - 1; row &lt; square.length; row++, col--)\n            sum += square[row][col];\n\n        return sum;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26744898,"reputation":1,"user_id":20345094,"display_name":"annie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666946490,"creation_date":1666932558,"question_id":74230768,"body_markdown":"I have to write a program that reads a file containing set of 16 numbers and creates a magic square. A magic square is one where the sum of each row, column, and diagonal is the same. I have to use the sentinel method to control your loop. The sentinel value is -999. When I run the code it shows that all are not magic square. When I run it it looks like the following.\r\n\r\n1 2 3 4\r\n\r\n5 6 7 8\r\n\r\n9 10 11 12\r\n\r\n13 14 15 16\r\n\r\nNOT a magic square\r\n\r\n1 15 14 4\r\n\r\n12 6 7 9\r\n\r\n8 10 11 5\r\n\r\n13 3 2 16\r\n\r\nNOT a magic square\r\n\r\n30 8 20 11\r\n\r\n3 10 21 35\r\n\r\n24 25 13 7\r\n\r\n12 26 15 16\r\n\r\nNOT a magic square\r\n\r\n14 8 19 92\r\n\r\n37 53 16 27\r\n\r\n67 10 54 2\r\n\r\n15 62 44 12\r\n\r\nNOT a magic square\r\n\r\n2 5 6 1\r\n\r\n8 5 2 9\r\n\r\n4 5 6 7\r\n\r\n3 2 7 5\r\n\r\nNOT a magic square\r\n\r\nThe following is the code.\r\n\r\n```\r\nimport java.io.File;\r\n\r\nimport java.io.IOException;\r\n\r\nimport java.util.Scanner;\r\n\r\nclass square {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        File data = new File(&quot;Lab8Data.txt&quot;);\r\n\r\n        Scanner input = new Scanner(data);\r\n\r\n        int[][] array = new int[4][4];\r\n        int[] rowTotal = new int[4];\r\n        int[] columnTotal = new int[4];\r\n\r\n        for (int row = 0; row &lt; array.length; row++)\r\n\r\n            array[0][row] = input.nextInt();\r\n\r\n        while (array[0][0] != -999) {\r\n\r\n            for (int column = 1; column &lt; array.length; column++)\r\n\r\n                for (int row = 0; row &lt; 4; row++)\r\n\r\n                    array[column][row] = input.nextInt();\r\n\r\n            for (int column = 0; column &lt; array.length; column++) {\r\n\r\n                for (int row = 0; row &lt; array.length; row++)\r\n\r\n                    System.out.print(array[column][row] + &quot; &quot;);\r\n\r\n                System.out.println();\r\n\r\n            }\r\n\r\n\r\n            for (int column = 0; column &lt; array.length; column++)\r\n\r\n                for (int row = 0; row &lt; array.length; row++)\r\n\r\n                    rowTotal[column] += array[column][row];\r\n\r\n\r\n\r\n            for (int row = 0; row &lt; array.length; row++)\r\n\r\n                for (int column = 0; column &lt; array.length; column++)\r\n\r\n                    columnTotal[row] += array[column][row];\r\n\r\n\r\n            int diagonalOne = 0;\r\n            for(int row = 0; row &lt; array.length; row++)\r\n                diagonalOne = diagonalOne + array[row][row];\r\n\r\n            int otherDiagonal = 0;\r\n            for (int row = 0; row &lt; array.length; row++) {\r\n                otherDiagonal = otherDiagonal + array[row][Math.abs(3 - row)];\r\n\r\n                int rows = rowTotal[0];\r\n\r\n                boolean rowEqual = true;\r\n\r\n                for (int r = 0; r &lt; array.length; r++)\r\n\r\n                    if (rowTotal[r] != r)\r\n\r\n                        rowEqual = false;\r\n\r\n                int col = columnTotal[0];\r\n\r\n                boolean columnEqual = true;\r\n\r\n                for (int column = 0; column &lt; array.length; column++)\r\n\r\n                    if (rowTotal[column] != col)\r\n\r\n                        columnEqual = false;\r\n\r\n                int diagonal = diagonalOne;\r\n\r\n                boolean diagonalEqual = true;\r\n\r\n                if (otherDiagonal != diagonal)\r\n\r\n                    diagonalEqual = false;\r\n\r\n                boolean isMagic = false;\r\n\r\n                if (rowEqual &amp;&amp; columnEqual &amp;&amp; diagonalEqual)\r\n\r\n                    if (rows == col &amp;&amp; col == diagonal)\r\n\r\n                        isMagic = true;\r\n\r\n                if (isMagic)\r\n\r\n                    System.out.println(&quot;Is a magic square&quot;);\r\n\r\n                else\r\n\r\n                    System.out.println(&quot;NOT a magic square&quot;);\r\n\r\n                for (int r = 0; r &lt; 4; r++)\r\n\r\n                    array[0][r] = input.nextInt();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis should be a magic square.\r\n\r\n1 15 14 4\r\n\r\n12 6 7 9\r\n\r\n8 10 11 5\r\n\r\n13 3 2 16\r\n\r\nWhat should I do to make it print if the square is magic correctly.","title":"Why it is not printing the magic square is magic?","body":"<p>I have to write a program that reads a file containing set of 16 numbers and creates a magic square. A magic square is one where the sum of each row, column, and diagonal is the same. I have to use the sentinel method to control your loop. The sentinel value is -999. When I run the code it shows that all are not magic square. When I run it it looks like the following.</p>\n<p>1 2 3 4</p>\n<p>5 6 7 8</p>\n<p>9 10 11 12</p>\n<p>13 14 15 16</p>\n<p>NOT a magic square</p>\n<p>1 15 14 4</p>\n<p>12 6 7 9</p>\n<p>8 10 11 5</p>\n<p>13 3 2 16</p>\n<p>NOT a magic square</p>\n<p>30 8 20 11</p>\n<p>3 10 21 35</p>\n<p>24 25 13 7</p>\n<p>12 26 15 16</p>\n<p>NOT a magic square</p>\n<p>14 8 19 92</p>\n<p>37 53 16 27</p>\n<p>67 10 54 2</p>\n<p>15 62 44 12</p>\n<p>NOT a magic square</p>\n<p>2 5 6 1</p>\n<p>8 5 2 9</p>\n<p>4 5 6 7</p>\n<p>3 2 7 5</p>\n<p>NOT a magic square</p>\n<p>The following is the code.</p>\n<pre><code>import java.io.File;\n\nimport java.io.IOException;\n\nimport java.util.Scanner;\n\nclass square {\n\n    public static void main(String[] args) throws IOException {\n\n        File data = new File(&quot;Lab8Data.txt&quot;);\n\n        Scanner input = new Scanner(data);\n\n        int[][] array = new int[4][4];\n        int[] rowTotal = new int[4];\n        int[] columnTotal = new int[4];\n\n        for (int row = 0; row &lt; array.length; row++)\n\n            array[0][row] = input.nextInt();\n\n        while (array[0][0] != -999) {\n\n            for (int column = 1; column &lt; array.length; column++)\n\n                for (int row = 0; row &lt; 4; row++)\n\n                    array[column][row] = input.nextInt();\n\n            for (int column = 0; column &lt; array.length; column++) {\n\n                for (int row = 0; row &lt; array.length; row++)\n\n                    System.out.print(array[column][row] + &quot; &quot;);\n\n                System.out.println();\n\n            }\n\n\n            for (int column = 0; column &lt; array.length; column++)\n\n                for (int row = 0; row &lt; array.length; row++)\n\n                    rowTotal[column] += array[column][row];\n\n\n\n            for (int row = 0; row &lt; array.length; row++)\n\n                for (int column = 0; column &lt; array.length; column++)\n\n                    columnTotal[row] += array[column][row];\n\n\n            int diagonalOne = 0;\n            for(int row = 0; row &lt; array.length; row++)\n                diagonalOne = diagonalOne + array[row][row];\n\n            int otherDiagonal = 0;\n            for (int row = 0; row &lt; array.length; row++) {\n                otherDiagonal = otherDiagonal + array[row][Math.abs(3 - row)];\n\n                int rows = rowTotal[0];\n\n                boolean rowEqual = true;\n\n                for (int r = 0; r &lt; array.length; r++)\n\n                    if (rowTotal[r] != r)\n\n                        rowEqual = false;\n\n                int col = columnTotal[0];\n\n                boolean columnEqual = true;\n\n                for (int column = 0; column &lt; array.length; column++)\n\n                    if (rowTotal[column] != col)\n\n                        columnEqual = false;\n\n                int diagonal = diagonalOne;\n\n                boolean diagonalEqual = true;\n\n                if (otherDiagonal != diagonal)\n\n                    diagonalEqual = false;\n\n                boolean isMagic = false;\n\n                if (rowEqual &amp;&amp; columnEqual &amp;&amp; diagonalEqual)\n\n                    if (rows == col &amp;&amp; col == diagonal)\n\n                        isMagic = true;\n\n                if (isMagic)\n\n                    System.out.println(&quot;Is a magic square&quot;);\n\n                else\n\n                    System.out.println(&quot;NOT a magic square&quot;);\n\n                for (int r = 0; r &lt; 4; r++)\n\n                    array[0][r] = input.nextInt();\n\n            }\n\n        }\n\n    }\n}\n</code></pre>\n<p>This should be a magic square.</p>\n<p>1 15 14 4</p>\n<p>12 6 7 9</p>\n<p>8 10 11 5</p>\n<p>13 3 2 16</p>\n<p>What should I do to make it print if the square is magic correctly.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":0,"creation_date":1659420677,"post_id":73201843,"comment_id":129284001,"body_markdown":"Does this answer your question? [Maven artifact and groupId naming](https://stackoverflow.com/questions/3724415/maven-artifact-and-groupid-naming)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3724415/maven-artifact-and-groupid-naming\">Maven artifact and groupId naming</a>"},{"owner":{"account_id":1859247,"reputation":11,"user_id":1684181,"display_name":"user1684181"},"score":0,"creation_date":1659454024,"post_id":73201843,"comment_id":129296232,"body_markdown":"@toniedzwiedz, yes I looked at that post but it&#39;s not helping. It says &quot;...that has to be at least as a domain name you control&quot;, in my case if I directly translate the domain to groupId then it becomes &quot;com.mycompany.www&quot;. Not sure using &quot;www&quot; is a good idea. And what should be the alternative in this kind of scenario?","body":"@toniedzwiedz, yes I looked at that post but it&#39;s not helping. It says &quot;...that has to be at least as a domain name you control&quot;, in my case if I directly translate the domain to groupId then it becomes &quot;com.mycompany.www&quot;. Not sure using &quot;www&quot; is a good idea. And what should be the alternative in this kind of scenario?"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1687715005,"post_id":73201843,"comment_id":134971878,"body_markdown":"They don&#39;t mean &quot;www&quot;. By &quot;domain name&quot;, they mean the name that is registered, which would be &quot;mycompany.com&quot;.","body":"They don&#39;t mean &quot;www&quot;. By &quot;domain name&quot;, they mean the name that is registered, which would be &quot;mycompany.com&quot;."}],"answers":[{"tags":[],"owner":{"account_id":11849278,"reputation":58,"user_id":8671041,"display_name":"veena vikraman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660198746,"creation_date":1660198746,"answer_id":73316086,"question_id":73201843,"body_markdown":"As toniedzwiedz mentioned in a reply, https://stackoverflow.com/questions/3724415/maven-artifact-and-groupid-naming; this post must be the answer to your question. But then, since you mentioned it is a bit confusing, I will try to explain what I do normally, while creating projects. \r\n\r\nYou can read further here https://docs.oracle.com/javase/specs/jls/se6/html/packages.html#7.7\r\n\r\nIn your case, you can use **com.mycompany** as your parent package groupId.***There is nothing wrong with having only two parts in it***. There is no restriction in that regard as far as I know. Even you can have just one unique word as groupId. But to maintain the uniqueness and common standards, they enforce to follow the package naming conventions. ","title":"Maven GroupId Naming Best Practices","body":"<p>As toniedzwiedz mentioned in a reply, <a href=\"https://stackoverflow.com/questions/3724415/maven-artifact-and-groupid-naming;\">Maven artifact and groupId naming</a> this post must be the answer to your question. But then, since you mentioned it is a bit confusing, I will try to explain what I do normally, while creating projects.</p>\n<p>You can read further here <a href=\"https://docs.oracle.com/javase/specs/jls/se6/html/packages.html#7.7\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se6/html/packages.html#7.7</a></p>\n<p>In your case, you can use <strong>com.mycompany</strong> as your parent package groupId.<em><strong>There is nothing wrong with having only two parts in it</strong></em>. There is no restriction in that regard as far as I know. Even you can have just one unique word as groupId. But to maintain the uniqueness and common standards, they enforce to follow the package naming conventions.</p>\n"}],"owner":{"account_id":1859247,"reputation":11,"user_id":1684181,"display_name":"user1684181"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666946387,"creation_date":1659412918,"question_id":73201843,"body_markdown":"I have to create multiple maven projects and am confused about what groupId I should use for one of the projects. Just to clarify, these projects are not dependent on each other.\r\n\r\nWe have domains like:&lt;br/&gt;\r\nwww.mycompany.com&lt;br/&gt;\r\nsubdomain1.mycompany.com&lt;br/&gt;\r\nsubdomain2.mycompany.com&lt;br/&gt;\r\n\r\nIt is easy to decide on groupId for the sub-projects as I can easily translate them from the URL. For example, com.mycompany.subdomain1 and com.mycompany.subdomain2\r\n\r\nI am unable to decide on what should be the groupId for the main project(www.mycompany.com). I am new to the Maven world and have no idea what best practice should apply here. Is it ok to go with com.mycompany.www as groupId? If not, what are the other recommendations here?\r\n\r\nThank you!\r\n","title":"Maven GroupId Naming Best Practices","body":"<p>I have to create multiple maven projects and am confused about what groupId I should use for one of the projects. Just to clarify, these projects are not dependent on each other.</p>\n<p>We have domains like:<br/>\n<a href=\"http://www.mycompany.com\" rel=\"nofollow noreferrer\">www.mycompany.com</a><br/>\nsubdomain1.mycompany.com<br/>\nsubdomain2.mycompany.com<br/></p>\n<p>It is easy to decide on groupId for the sub-projects as I can easily translate them from the URL. For example, com.mycompany.subdomain1 and com.mycompany.subdomain2</p>\n<p>I am unable to decide on what should be the groupId for the main project(<a href=\"http://www.mycompany.com\" rel=\"nofollow noreferrer\">www.mycompany.com</a>). I am new to the Maven world and have no idea what best practice should apply here. Is it ok to go with com.mycompany.www as groupId? If not, what are the other recommendations here?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","kotlin","android-view","android-graphics"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666946010,"creation_date":1666946010,"answer_id":74232613,"question_id":74231886,"body_markdown":"If AndroidPath extends Path, then it can be used wherever a Path object is expected.  Because it is a Path object.  It&#39;s just also an AndroidPath object.  That&#39;s how inheritance works.","title":"Draw androidx AndroidPath on Canvas","body":"<p>If AndroidPath extends Path, then it can be used wherever a Path object is expected.  Because it is a Path object.  It's just also an AndroidPath object.  That's how inheritance works.</p>\n"}],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74232613,"answer_count":1,"score":0,"last_activity_date":1666946010,"creation_date":1666941841,"question_id":74231886,"body_markdown":"i want to draw androidx androidPath on canvas by using AndroidPath class which is extending Path Class.It is defined in \r\nandroidx.compose.ui.graphics.Path \r\n\r\nreference : \r\nhttps://developer.android.com/reference/kotlin/androidx/compose/ui/graphics/AndroidPath#quadraticBezierTo(kotlin.Float,kotlin.Float,kotlin.Float,kotlin.Float)\r\n\r\nbut canvas.drawPath take only path not androidPath\r\n\r\n\r\n```\r\npublic void drawPath(@NonNull Path path, @NonNull Paint paint) {\r\n    super.drawPath(path, paint);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ncan anyone suggest me any way to draw androidx AndroidPath on canvas ??  ","title":"Draw androidx AndroidPath on Canvas","body":"<p>i want to draw androidx androidPath on canvas by using AndroidPath class which is extending Path Class.It is defined in\nandroidx.compose.ui.graphics.Path</p>\n<p>reference :\n<a href=\"https://developer.android.com/reference/kotlin/androidx/compose/ui/graphics/AndroidPath#quadraticBezierTo(kotlin.Float,kotlin.Float,kotlin.Float,kotlin.Float)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/androidx/compose/ui/graphics/AndroidPath#quadraticBezierTo(kotlin.Float,kotlin.Float,kotlin.Float,kotlin.Float)</a></p>\n<p>but canvas.drawPath take only path not androidPath</p>\n<pre><code>public void drawPath(@NonNull Path path, @NonNull Paint paint) {\n    super.drawPath(path, paint);\n}\n</code></pre>\n<p>can anyone suggest me any way to draw androidx AndroidPath on canvas ??</p>\n"},{"tags":["java","spring-boot","annotations","spring-retry"],"owner":{"account_id":11297354,"reputation":173,"user_id":8284457,"display_name":"Sangeetharaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666945983,"creation_date":1666945983,"question_id":74232607,"body_markdown":"I am working on spring boot project. @Retryable is not working on private methods due to proxy. I like to create a custom annotation that helps private method to retry on particular exception like how spring-retry works on public methods. I went through multiple sites but didn&#39;t get proper solution.","title":"How to create custom annotation for private methods to retry on particular exception","body":"<p>I am working on spring boot project. @Retryable is not working on private methods due to proxy. I like to create a custom annotation that helps private method to retry on particular exception like how spring-retry works on public methods. I went through multiple sites but didn't get proper solution.</p>\n"},{"tags":["java","android","gradle","lombok"],"comments":[{"owner":{"account_id":17474859,"reputation":2389,"user_id":12669945,"display_name":"Atmas"},"score":0,"creation_date":1615996971,"post_id":66675531,"comment_id":117866661,"body_markdown":"Just looking at https://projectlombok.org/setup/gradle -- Do you need &quot;testCompileOnly &quot; and &quot;testAnnotationProcessor &quot; as well?","body":"Just looking at <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">projectlombok.org/setup/gradle</a> -- Do you need &quot;testCompileOnly &quot; and &quot;testAnnotationProcessor &quot; as well?"},{"owner":{"account_id":8395095,"reputation":467,"user_id":8967183,"accept_rate":100,"display_name":"Pointyhat"},"score":0,"creation_date":1615998812,"post_id":66675531,"comment_id":117867637,"body_markdown":"nope, same error","body":"nope, same error"},{"owner":{"account_id":17474859,"reputation":2389,"user_id":12669945,"display_name":"Atmas"},"score":0,"creation_date":1615999199,"post_id":66675531,"comment_id":117867877,"body_markdown":"I&#39;m less familiar with Gradle (more Maven), but I suspect someone who is will want to see your entire configuration file just to see if you&#39;ve included the basic assumptions/requirements in the fresh project files you&#39;ve generated. Maybe you can include that as well to help your question?","body":"I&#39;m less familiar with Gradle (more Maven), but I suspect someone who is will want to see your entire configuration file just to see if you&#39;ve included the basic assumptions/requirements in the fresh project files you&#39;ve generated. Maybe you can include that as well to help your question?"}],"answers":[{"tags":[],"owner":{"account_id":21029978,"reputation":66,"user_id":15454595,"display_name":"nico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616437741,"creation_date":1616437741,"answer_id":66751876,"question_id":66675531,"body_markdown":"Instead of integrating lombok via the dependencies yourself you could try using the lombok-plugin and see if the problem still exists.\r\n\r\nE.g. \r\n\r\n    plugins {\r\n      id &quot;io.freefair.lombok&quot; version &quot;5.3.0&quot;\r\n    }\r\n\r\nFor further information on usage of the plugin please see: https://plugins.gradle.org/plugin/io.freefair.lombok and https://docs.freefair.io/gradle-plugins/5.3.0/reference/","title":"Lombok issue - Could not find org.projectlombok","body":"<p>Instead of integrating lombok via the dependencies yourself you could try using the lombok-plugin and see if the problem still exists.</p>\n<p>E.g.</p>\n<pre><code>plugins {\n  id &quot;io.freefair.lombok&quot; version &quot;5.3.0&quot;\n}\n</code></pre>\n<p>For further information on usage of the plugin please see: <a href=\"https://plugins.gradle.org/plugin/io.freefair.lombok\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/io.freefair.lombok</a> and <a href=\"https://docs.freefair.io/gradle-plugins/5.3.0/reference/\" rel=\"nofollow noreferrer\">https://docs.freefair.io/gradle-plugins/5.3.0/reference/</a></p>\n"},{"tags":[],"owner":{"account_id":7066718,"reputation":489,"user_id":5409810,"display_name":"Danilo Mz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625971503,"creation_date":1625971503,"answer_id":68332878,"question_id":66675531,"body_markdown":"If on Android Studio, you may want to check the following:\r\n\r\n- that annotation processing is enabled (`Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Annotation Processors.`)\r\n\r\n- that no extra lombok dependencies were inadvertently added to the `build.gradle` files besides the two you already listed. In my case I found an extra `implementation &#39;org.projectlombok:lombok:1.18.20&#39;` dependency in app `build.gradle` file. \r\n\r\n- that `mavenCentral()` is added to the list of repositories as below:\r\n\r\n```\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n```\r\n After fixing those 3 issues lombok worked fine for me.","title":"Lombok issue - Could not find org.projectlombok","body":"<p>If on Android Studio, you may want to check the following:</p>\n<ul>\n<li><p>that annotation processing is enabled (<code>Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Annotation Processors.</code>)</p>\n</li>\n<li><p>that no extra lombok dependencies were inadvertently added to the <code>build.gradle</code> files besides the two you already listed. In my case I found an extra <code>implementation 'org.projectlombok:lombok:1.18.20'</code> dependency in app <code>build.gradle</code> file.</p>\n</li>\n<li><p>that <code>mavenCentral()</code> is added to the list of repositories as below:</p>\n</li>\n</ul>\n<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n<p>After fixing those 3 issues lombok worked fine for me.</p>\n"},{"tags":[],"owner":{"account_id":1873786,"reputation":4203,"user_id":1695458,"accept_rate":86,"display_name":"EM-Creations"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653570314,"creation_date":1653570314,"answer_id":72392304,"question_id":66675531,"body_markdown":"I had this issue when I was using an `implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:&lt;VERSION&gt;&quot;)` call in the `dependencies` block of a `build.gradle` file.\r\n\r\nThe issue was that it was applying the version automatically to my `compileOnly &quot;org.projectlombok:lombok&quot;` call but not `annotationProcessor &quot;org.projectlombok:lombok&quot;` call. I discovered this when running the `depdendencies` Gradle task on the project.\r\n\r\nI&#39;m still looking into why it isn&#39;t working for `annotationProcessor` definitions, but a workaround is to specify a version number in both the `compileOnly` and `annotationProcessor` calls and keep them in sync.","title":"Lombok issue - Could not find org.projectlombok","body":"<p>I had this issue when I was using an <code>implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:&lt;VERSION&gt;&quot;)</code> call in the <code>dependencies</code> block of a <code>build.gradle</code> file.</p>\n<p>The issue was that it was applying the version automatically to my <code>compileOnly &quot;org.projectlombok:lombok&quot;</code> call but not <code>annotationProcessor &quot;org.projectlombok:lombok&quot;</code> call. I discovered this when running the <code>depdendencies</code> Gradle task on the project.</p>\n<p>I'm still looking into why it isn't working for <code>annotationProcessor</code> definitions, but a workaround is to specify a version number in both the <code>compileOnly</code> and <code>annotationProcessor</code> calls and keep them in sync.</p>\n"},{"tags":[],"owner":{"account_id":16953442,"reputation":11,"user_id":12262437,"display_name":"Evgeniy Kudlay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666945874,"creation_date":1666945874,"answer_id":74232587,"question_id":66675531,"body_markdown":"Found a solution for not working `annotationProcessor` definition without specifying version from a transitive dependency.\r\n\r\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:&lt;VERSION&gt;&quot;)\r\n    annotationProcessor &quot;org.projectlombok:lombok&quot;\r\n\r\nto make it work need to add:\r\n\r\n    annotationProcessor &quot;org.springframework.boot:spring-boot-dependencies:&lt;VERSION&gt;&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok&quot;\r\n\r\nfound it here: https://stackoverflow.com/questions/70397868/why-doesnt-my-annotationprocessor-configuration-see-the-version-in-my-gradle-pl","title":"Lombok issue - Could not find org.projectlombok","body":"<p>Found a solution for not working <code>annotationProcessor</code> definition without specifying version from a transitive dependency.</p>\n<pre><code>implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:&lt;VERSION&gt;&quot;)\nannotationProcessor &quot;org.projectlombok:lombok&quot;\n</code></pre>\n<p>to make it work need to add:</p>\n<pre><code>annotationProcessor &quot;org.springframework.boot:spring-boot-dependencies:&lt;VERSION&gt;&quot;\nannotationProcessor &quot;org.projectlombok:lombok&quot;\n</code></pre>\n<p>found it here: <a href=\"https://stackoverflow.com/questions/70397868/why-doesnt-my-annotationprocessor-configuration-see-the-version-in-my-gradle-pl\">Why doesn&#39;t my annotationProcessor configuration see the version in my Gradle Platform?</a></p>\n"}],"owner":{"account_id":8395095,"reputation":467,"user_id":8967183,"accept_rate":100,"display_name":"Pointyhat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12063,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1666945874,"creation_date":1615992739,"question_id":66675531,"body_markdown":"I get the following error, on a fresh android project with 2 modules and with just 5-6 new classes.\r\n\r\n    Execution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n       &gt; Could not find org.projectlombok:lombok:.\r\n         Required by:\r\n             project :app\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\nI cannot figure out what is going on, both of build.gradle files contain the lombok dependency\r\n\r\n    dependencies {\r\n    ...\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.16&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.16&#39;\r\n    }","title":"Lombok issue - Could not find org.projectlombok","body":"<p>I get the following error, on a fresh android project with 2 modules and with just 5-6 new classes.</p>\n<pre><code>Execution failed for task ':app:checkDebugAarMetadata'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Could not find org.projectlombok:lombok:.\n     Required by:\n         project :app\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>I cannot figure out what is going on, both of build.gradle files contain the lombok dependency</p>\n<pre><code>dependencies {\n...\n    compileOnly 'org.projectlombok:lombok:1.18.16'\n    annotationProcessor 'org.projectlombok:lombok:1.18.16'\n}\n</code></pre>\n"},{"tags":["java","sorting","cycle-sort"],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666945646,"creation_date":1666945646,"answer_id":74232547,"question_id":74232508,"body_markdown":"The reason is that the value of `arr[i] - 1` changes when you do `arr[i] = arr[arr[i] - 1];`. This means that on the next line, you are actually accessing a different index.\r\n\r\nIntroducing the `correct`-variable fixes this issue, because the value of the variable will not change when you mutate `arr[i]`.","title":"Why is this Cyclic sort not working in Java","body":"<p>The reason is that the value of <code>arr[i] - 1</code> changes when you do <code>arr[i] = arr[arr[i] - 1];</code>. This means that on the next line, you are actually accessing a different index.</p>\n<p>Introducing the <code>correct</code>-variable fixes this issue, because the value of the variable will not change when you mutate <code>arr[i]</code>.</p>\n"}],"owner":{"account_id":26215991,"reputation":1,"user_id":19894119,"display_name":"Kanak Tanwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666945809,"creation_date":1666945388,"question_id":74232508,"body_markdown":"I made a simple cyclic sort program whose code is given below\r\n\r\nCode 1:\r\n\r\n\r\n    static void cyclicSort(int[] arr) {\r\n        int i = 0;\r\n        while (i &lt; arr.length) {\r\n            if (arr[i] != arr[arr[i] - 1]) {\r\n                int temp = arr[i];\r\n                arr[i] = arr[arr[i] - 1];\r\n                arr[arr[i] - 1] = temp;\r\n            } else {\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\nBut the program does not work when I call this function and try to print the sorted array.\r\n\r\nIt does not give an error. There is simply no output.\r\n\r\n\r\nBut when I use the following code the program works.\r\n\r\nCode 2:\r\n\r\n    static void cyclicSort(int[] arr) {\r\n        int i = 0;\r\n        while (i &lt; arr.length) {\r\n            int correct = arr[i] - 1;\r\n            if (arr[i] != arr[correct]) {\r\n                int temp = arr[i];\r\n                arr[i] = arr[correct];\r\n                arr[correct] = temp;\r\n            } else {\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThe only difference between code 1 and code 2 is that in code 2 I have created a new variable `correct`, which is equal to `arr[i] - 1` and in CODE 1 I have directly used `arr[i] - 1`.\r\n\r\nI have rechecked the code a number of times and this is the only difference, so why is it that the code is not working in code 1?","title":"Why is this Cyclic sort not working in Java","body":"<p>I made a simple cyclic sort program whose code is given below</p>\n<p>Code 1:</p>\n<pre><code>static void cyclicSort(int[] arr) {\n    int i = 0;\n    while (i &lt; arr.length) {\n        if (arr[i] != arr[arr[i] - 1]) {\n            int temp = arr[i];\n            arr[i] = arr[arr[i] - 1];\n            arr[arr[i] - 1] = temp;\n        } else {\n            i++;\n        }\n    }\n}\n</code></pre>\n<p>But the program does not work when I call this function and try to print the sorted array.</p>\n<p>It does not give an error. There is simply no output.</p>\n<p>But when I use the following code the program works.</p>\n<p>Code 2:</p>\n<pre><code>static void cyclicSort(int[] arr) {\n    int i = 0;\n    while (i &lt; arr.length) {\n        int correct = arr[i] - 1;\n        if (arr[i] != arr[correct]) {\n            int temp = arr[i];\n            arr[i] = arr[correct];\n            arr[correct] = temp;\n        } else {\n            i++;\n        }\n    }\n}\n</code></pre>\n<p>The only difference between code 1 and code 2 is that in code 2 I have created a new variable <code>correct</code>, which is equal to <code>arr[i] - 1</code> and in CODE 1 I have directly used <code>arr[i] - 1</code>.</p>\n<p>I have rechecked the code a number of times and this is the only difference, so why is it that the code is not working in code 1?</p>\n"},{"tags":["java","linux","windows"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666945565,"creation_date":1666945565,"answer_id":74232535,"question_id":74232396,"body_markdown":"You are trying to find time deviations, maybe even synchronize clocks across the network. This adds complexity because neither of the two machines know how much lag is in the network passing the data.\r\n\r\nThe NTP protocol mitigates all this. I&#39;d use an existing implementation. But if you do not want to synchronize the system clock but still understand how it is done, check out the protocol documentation: http://www.ntp.org/rfc.html","title":"Get time diff between windows and linux machine using java or any other API","body":"<p>You are trying to find time deviations, maybe even synchronize clocks across the network. This adds complexity because neither of the two machines know how much lag is in the network passing the data.</p>\n<p>The NTP protocol mitigates all this. I'd use an existing implementation. But if you do not want to synchronize the system clock but still understand how it is done, check out the protocol documentation: <a href=\"http://www.ntp.org/rfc.html\" rel=\"nofollow noreferrer\">http://www.ntp.org/rfc.html</a></p>\n"}],"owner":{"account_id":21344635,"reputation":87,"user_id":15714815,"display_name":"Koret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666945565,"creation_date":1666944815,"question_id":74232396,"body_markdown":"I have a code running on Windows and Linux machine.\r\nMessage will be sent from windows to Linux machine and we include `sent_time` on message.\r\nLinux machine will receive the message and we stamp `receive_time` on message.\r\nBoth the time are calculated using standard java API `System.currentTimeMillis()`.\r\n\r\nProblem here is, `receive_time` is ahead of `sent_time` which is not right as message was sent first and then received. This mostly looks to be clock sync issue between Windows and Linux machine.\r\n\r\nHow can we get the clock diff between Windows and Linux machine? (Not sure how to run program on both the machines and claculate time diff which is in millis)\r\nif there is any sync issue, how can we get and add delta time `receive_time` ?\r\n\r\nPlease note that all the libraries are same on both machines.\r\n","title":"Get time diff between windows and linux machine using java or any other API","body":"<p>I have a code running on Windows and Linux machine.\nMessage will be sent from windows to Linux machine and we include <code>sent_time</code> on message.\nLinux machine will receive the message and we stamp <code>receive_time</code> on message.\nBoth the time are calculated using standard java API <code>System.currentTimeMillis()</code>.</p>\n<p>Problem here is, <code>receive_time</code> is ahead of <code>sent_time</code> which is not right as message was sent first and then received. This mostly looks to be clock sync issue between Windows and Linux machine.</p>\n<p>How can we get the clock diff between Windows and Linux machine? (Not sure how to run program on both the machines and claculate time diff which is in millis)\nif there is any sync issue, how can we get and add delta time <code>receive_time</code> ?</p>\n<p>Please note that all the libraries are same on both machines.</p>\n"},{"tags":["java","performance","database-performance"],"comments":[{"owner":{"account_id":1419439,"reputation":1433,"user_id":1344386,"accept_rate":100,"display_name":"Stefan"},"score":3,"creation_date":1469184145,"post_id":38523672,"comment_id":64443286,"body_markdown":"This is impossible to answer with the information you provided. Are specific queries slow? Are there concurrency/locking issues? Is there code that is slow in some situations? You should pinpoint the actual cause of the slowness rather than just adding resources and hope the performance will improve.","body":"This is impossible to answer with the information you provided. Are specific queries slow? Are there concurrency/locking issues? Is there code that is slow in some situations? You should pinpoint the actual cause of the slowness rather than just adding resources and hope the performance will improve."},{"owner":{"account_id":7891472,"reputation":171,"user_id":6070434,"accept_rate":50,"display_name":"Sawyer"},"score":0,"creation_date":1469184401,"post_id":38523672,"comment_id":64443438,"body_markdown":"Yeah, I too think that there is not particular solution to fix the performance issue on time and there are no solutions which happen in short time. Code fixes or adding resources, load balancing all of them take time.","body":"Yeah, I too think that there is not particular solution to fix the performance issue on time and there are no solutions which happen in short time. Code fixes or adding resources, load balancing all of them take time."},{"owner":{"account_id":7891472,"reputation":171,"user_id":6070434,"accept_rate":50,"display_name":"Sawyer"},"score":0,"creation_date":1469192993,"post_id":38523672,"comment_id":64448712,"body_markdown":"edited the Question","body":"edited the Question"},{"owner":{"account_id":1419439,"reputation":1433,"user_id":1344386,"accept_rate":100,"display_name":"Stefan"},"score":1,"creation_date":1469198207,"post_id":38523672,"comment_id":64452237,"body_markdown":"My first comment also applies to your edited question. What threads are blocked exactly? What do they do? Which specific call is slow? Pinpoint your performance issue(s) so you can analyse it (or ask questions about it).","body":"My first comment also applies to your edited question. What threads are blocked exactly? What do they do? Which specific call is slow? Pinpoint your performance issue(s) so you can analyse it (or ask questions about it)."}],"answers":[{"tags":[],"owner":{"account_id":4432046,"reputation":126,"user_id":3608973,"display_name":"Dagurdan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666945154,"creation_date":1469183085,"answer_id":38524069,"question_id":38523672,"body_markdown":"Unless you give more specifics, I can only say yes and yes....sort of. I would recommend reading these two articles to get an idea of how you should prioritize scaling:\r\n\r\n* [Scaling Your Java EE Applications - TheServerSide](https://web.archive.org/web/20160420185629/http://www.theserverside.com/news/1363681/Scaling-Your-Java-EE-Applications)\r\n\r\n* [The Basics of Scaling Java EE Applications - DZone](https://dzone.com/articles/the-basics-of-scaling-java-ee-applications)\r\n\r\nI personally find that state-less API&#39;s are most often inherently more scale-able and are something to strive for.","title":"Ways to increase performance of an application","body":"<p>Unless you give more specifics, I can only say yes and yes....sort of. I would recommend reading these two articles to get an idea of how you should prioritize scaling:</p>\n<ul>\n<li><p><a href=\"https://web.archive.org/web/20160420185629/http://www.theserverside.com/news/1363681/Scaling-Your-Java-EE-Applications\" rel=\"nofollow noreferrer\">Scaling Your Java EE Applications - TheServerSide</a></p>\n</li>\n<li><p><a href=\"https://dzone.com/articles/the-basics-of-scaling-java-ee-applications\" rel=\"nofollow noreferrer\">The Basics of Scaling Java EE Applications - DZone</a></p>\n</li>\n</ul>\n<p>I personally find that state-less API's are most often inherently more scale-able and are something to strive for.</p>\n"}],"owner":{"account_id":7891472,"reputation":171,"user_id":6070434,"accept_rate":50,"display_name":"Sawyer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":38524069,"answer_count":1,"score":2,"last_activity_date":1666945154,"creation_date":1469181934,"question_id":38523672,"body_markdown":"I work on a Production system which is built up using Java Environment, Oracle Database and a Weblogic application server supporting 50 users.\r\n\r\nI would like to know how do I improve performance of this application on time, on the spot , if the number of users accessing this application grow at large and if I face performance issues.\r\n\r\nI think the ways are to \r\n\r\n1. Increase the Connection pooling capacity\r\n2. Increase the cache size\r\n\r\nWe face the slowness in the application with following issues\r\n\r\n1. Strucks threads inside Weblogic related to pending DB requests\r\n2. Growing number of users accessing LDAP.\r\n\r\n\r\nI was said that these fixes are for long time. I would like to know how do I come up with a solution such as to give a performance boost on time, on the spot when the issue is faced.\r\n  \r\n","title":"Ways to increase performance of an application","body":"<p>I work on a Production system which is built up using Java Environment, Oracle Database and a Weblogic application server supporting 50 users.</p>\n\n<p>I would like to know how do I improve performance of this application on time, on the spot , if the number of users accessing this application grow at large and if I face performance issues.</p>\n\n<p>I think the ways are to </p>\n\n<ol>\n<li>Increase the Connection pooling capacity</li>\n<li>Increase the cache size</li>\n</ol>\n\n<p>We face the slowness in the application with following issues</p>\n\n<ol>\n<li>Strucks threads inside Weblogic related to pending DB requests</li>\n<li>Growing number of users accessing LDAP.</li>\n</ol>\n\n<p>I was said that these fixes are for long time. I would like to know how do I come up with a solution such as to give a performance boost on time, on the spot when the issue is faced.</p>\n"},{"tags":["java","spring","hibernate","jpa","locking"],"comments":[{"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"score":0,"creation_date":1666866055,"post_id":74211805,"comment_id":131038836,"body_markdown":"Include some code snippet what you have done so far, can elaborate your problem better.","body":"Include some code snippet what you have done so far, can elaborate your problem better."}],"answers":[{"tags":[],"owner":{"account_id":16781769,"reputation":763,"user_id":12131806,"display_name":"Nagulan S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666945071,"creation_date":1666945071,"answer_id":74232449,"question_id":74211805,"body_markdown":"I declared the pessimistic_write lock in the **parent&#39;s repo.findby** method. As I only want the parent row to be locked and its working.\r\n\r\nCode:\r\n\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n        List&lt;...&gt; findWithLockById(...);","title":"Is it possible to acquire a lock while modifying a child &amp; parent entity?","body":"<p>I declared the pessimistic_write lock in the <strong>parent's repo.findby</strong> method. As I only want the parent row to be locked and its working.</p>\n<p>Code:</p>\n<pre><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\n    List&lt;...&gt; findWithLockById(...);\n</code></pre>\n"}],"owner":{"account_id":16781769,"reputation":763,"user_id":12131806,"display_name":"Nagulan S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74232449,"answer_count":1,"score":0,"last_activity_date":1666945071,"creation_date":1666804888,"question_id":74211805,"body_markdown":"**My scenario:**  \r\nI am having a Parent and children entity. I want to read a child along with its parent, update it and save it back. I want the whole operation to happen with a lock. \r\n\r\n**Current flow of execution:**\r\n\r\n 1. Get PARENT and CHILD Entity\r\n 2. Convert Entity to Domain objects (Following DDD design)\r\n 3. Update parent and child\r\n 4. Convert the CHILD Domain to CHILD Entity\r\n 3. Save the CHILD Entity. (Parent gets auto-saved as child has a ManyToOne relationship with parent object)\r\n\r\nTo **get** parent entity a findbyId method in ParentRepositoy is called and to **get** child method a FindById method in ChildrenRepository is called. \r\n\r\nTo **save** child and parent, saveAll method in childrenRepository is called. (Parent gets auto-saved through ManyToOne relationship)\r\n\r\n\r\nI want here a Persistent_write lock, which should cover from read to write. But I am not sure which object to lock or which repository method to lock.\r\n\r\nCan anyone help me out here, or elaborate if I misunderstood anything here.\r\n\r\n","title":"Is it possible to acquire a lock while modifying a child &amp; parent entity?","body":"<p><strong>My scenario:</strong><br />\nI am having a Parent and children entity. I want to read a child along with its parent, update it and save it back. I want the whole operation to happen with a lock.</p>\n<p><strong>Current flow of execution:</strong></p>\n<ol>\n<li>Get PARENT and CHILD Entity</li>\n<li>Convert Entity to Domain objects (Following DDD design)</li>\n<li>Update parent and child</li>\n<li>Convert the CHILD Domain to CHILD Entity</li>\n<li>Save the CHILD Entity. (Parent gets auto-saved as child has a ManyToOne relationship with parent object)</li>\n</ol>\n<p>To <strong>get</strong> parent entity a findbyId method in ParentRepositoy is called and to <strong>get</strong> child method a FindById method in ChildrenRepository is called.</p>\n<p>To <strong>save</strong> child and parent, saveAll method in childrenRepository is called. (Parent gets auto-saved through ManyToOne relationship)</p>\n<p>I want here a Persistent_write lock, which should cover from read to write. But I am not sure which object to lock or which repository method to lock.</p>\n<p>Can anyone help me out here, or elaborate if I misunderstood anything here.</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1666942714,"post_id":74232023,"comment_id":131058323,"body_markdown":"What have you tried so far? Can you show the code you tried?","body":"What have you tried so far? Can you show the code you tried?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1666943349,"post_id":74232023,"comment_id":131058474,"body_markdown":"You could `split` that `String` by (an arbitrary amount of) whitespace(s) and simply take indexes 2, 6 and 7 from the resulting `String[]`. That will only reliably work with this `String` or, more generally, ones of this very form.","body":"You could <code>split</code> that <code>String</code> by (an arbitrary amount of) whitespace(s) and simply take indexes 2, 6 and 7 from the resulting <code>String[]</code>. That will only reliably work with this <code>String</code> or, more generally, ones of this very form."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1666943555,"post_id":74232023,"comment_id":131058540,"body_markdown":"Perhaps [regular expression](https://docs.oracle.com/javase/tutorial/essential/regex/) is appropriate?","body":"Perhaps <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expression</a> is appropriate?"},{"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"score":0,"creation_date":1666944733,"post_id":74232023,"comment_id":131058910,"body_markdown":"yes i applied the regular expression ^CLAIM_NUMBER (.*) AND INCIDENT_DATE (.*)$ and i got the solution thank you","body":"yes i applied the regular expression ^CLAIM_NUMBER (.*) AND INCIDENT_DATE (.*)$ and i got the solution thank you"}],"answers":[{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666944281,"creation_date":1666944281,"answer_id":74232304,"question_id":74232023,"body_markdown":"If the text is always the same, then you can do that with `String#substring()`.\r\n\r\n```\r\nString data = &quot;CLAIM NUMBER 1234563 AND INCIDENT DATE 12/12/2020 12:00:00 &quot;;\r\nString number = data.substring(13, 20);\r\nString datetime = data.substring(39, 58);\r\nSystem.out.println(number + &quot;, &quot; + datetime);\r\n// output: 1234563, 12/12/2020 12:00:00\r\n```","title":"Java: Getting a substring from a string starting after a particular String","body":"<p>If the text is always the same, then you can do that with <code>String#substring()</code>.</p>\n<pre><code>String data = &quot;CLAIM NUMBER 1234563 AND INCIDENT DATE 12/12/2020 12:00:00 &quot;;\nString number = data.substring(13, 20);\nString datetime = data.substring(39, 58);\nSystem.out.println(number + &quot;, &quot; + datetime);\n// output: 1234563, 12/12/2020 12:00:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666945038,"creation_date":1666945038,"answer_id":74232445,"question_id":74232023,"body_markdown":"It is better to use regexp to extract data from formatted string.\r\n```java\r\nfinal String regex = &quot;CLAIM NUMBER\\\\s+(?&lt;claimNumber&gt;\\\\S+)\\\\s+AND INCIDENT DATE\\\\s+(?&lt;incidentDate&gt;\\\\S+\\\\s+\\\\S+)&quot;;\r\nfinal String str = &quot;CLAIM NUMBER 1234563 AND INCIDENT DATE 12/12/2020 12:00:00&quot;;\r\nPattern pattern = Pattern.compile(regex);\r\nMatcher matcher = pattern.matcher(str);\r\n\r\nif(matcher.matches()) {\r\n    String claimNumber = matcher.group(&quot;claimNumber&quot;);\r\n    String incidentDate = matcher.group(&quot;incidentDate&quot;);\r\n}\r\n```","title":"Java: Getting a substring from a string starting after a particular String","body":"<p>It is better to use regexp to extract data from formatted string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String regex = &quot;CLAIM NUMBER\\\\s+(?&lt;claimNumber&gt;\\\\S+)\\\\s+AND INCIDENT DATE\\\\s+(?&lt;incidentDate&gt;\\\\S+\\\\s+\\\\S+)&quot;;\nfinal String str = &quot;CLAIM NUMBER 1234563 AND INCIDENT DATE 12/12/2020 12:00:00&quot;;\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(str);\n\nif(matcher.matches()) {\n    String claimNumber = matcher.group(&quot;claimNumber&quot;);\n    String incidentDate = matcher.group(&quot;incidentDate&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1666968365,"accepted_answer_id":74232445,"answer_count":2,"score":-2,"last_activity_date":1666945038,"creation_date":1666942578,"question_id":74232023,"body_markdown":"I have a string:\r\n```none\r\nCLAIM NUMBER 1234563 AND INCIDENT DATE 12/12/2020 12:00:00 \r\n```\r\nI would like to extract `1234563` and `12/12/2020 12:00:00` from this, i.e. the substring after the NUMBER and DATE.\r\n\r\nCould someone please provide some help?\r\n\r\nI tried though the the substring and index but it&#39;s not giving expected answer.","title":"Java: Getting a substring from a string starting after a particular String","body":"<p>I have a string:</p>\n<pre class=\"lang-none prettyprint-override\"><code>CLAIM NUMBER 1234563 AND INCIDENT DATE 12/12/2020 12:00:00 \n</code></pre>\n<p>I would like to extract <code>1234563</code> and <code>12/12/2020 12:00:00</code> from this, i.e. the substring after the NUMBER and DATE.</p>\n<p>Could someone please provide some help?</p>\n<p>I tried though the the substring and index but it's not giving expected answer.</p>\n"},{"tags":["java","concurrency","hashset"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1460710486,"post_id":5379794,"comment_id":60878914,"body_markdown":"See also http://stackoverflow.com/questions/20039470/are-final-unmodifiable-sets-thread-safe","body":"See also <a href=\"http://stackoverflow.com/questions/20039470/are-final-unmodifiable-sets-thread-safe\" title=\"are final unmodifiable sets thread safe\">stackoverflow.com/questions/20039470/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":263812,"reputation":7348,"user_id":549641,"display_name":"jmg"},"down_vote_count":5,"up_vote_count":10,"is_accepted":false,"score":5,"last_activity_date":1300721269,"creation_date":1300721269,"answer_id":5379830,"question_id":5379794,"body_markdown":"Every data structure is thread-safe if you don&#39;t mutate it.\r\n\r\nBecause you have to mutate a HashSet in order to initialize it, it is necessary to synchronize once between the thread which initialized the set and all reading threads. You have to do it only *one* time. For example when you pass the reference to the unmodifiable set to a new thread which never touched it before. ","title":"is Java HashSet thread-safe for read only?","body":"<p>Every data structure is thread-safe if you don't mutate it.</p>\n\n<p>Because you have to mutate a HashSet in order to initialize it, it is necessary to synchronize once between the thread which initialized the set and all reading threads. You have to do it only <em>one</em> time. For example when you pass the reference to the unmodifiable set to a new thread which never touched it before. </p>\n"},{"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"down_vote_count":2,"up_vote_count":48,"is_accepted":true,"score":46,"last_activity_date":1300721277,"creation_date":1300721277,"answer_id":5379832,"question_id":5379794,"body_markdown":"From the Javadoc:\r\n\r\n&gt;Note that this implementation is not synchronized. If multiple threads access a hash set concurrently, and at least one of the threads modifies the set, it must be synchronized externally\r\n\r\nReading doesn&#39;t modify a set, therefore you&#39;re fine.","title":"is Java HashSet thread-safe for read only?","body":"<p>From the Javadoc:</p>\n\n<blockquote>\n  <p>Note that this implementation is not synchronized. If multiple threads access a hash set concurrently, and at least one of the threads modifies the set, it must be synchronized externally</p>\n</blockquote>\n\n<p>Reading doesn't modify a set, therefore you're fine.</p>\n"},{"tags":[],"owner":{"account_id":73019,"reputation":17177,"user_id":210526,"accept_rate":82,"display_name":"unholysampler"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1300721287,"creation_date":1300721287,"answer_id":5379836,"question_id":5379794,"body_markdown":"If the shared memory will never be changed, you can always read without synchronizing. Making the set unmodifiable will just enforce the fact that no writes can be made.","title":"is Java HashSet thread-safe for read only?","body":"<p>If the shared memory will never be changed, you can always read without synchronizing. Making the set unmodifiable will just enforce the fact that no writes can be made.</p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1300722334,"creation_date":1300721382,"answer_id":5379854,"question_id":5379794,"body_markdown":"`HashSet` will be threadsafe if used in a read-only manner.  That doesn&#39;t mean that *any* Set that you pass to `Collections.unmodifiableSet()` will be threadsafe.  \r\n\r\nImagine this naive implementation of `contains` that caches the last value checked:\r\n\r\n\r\n    Object lastKey;\r\n    boolean lastContains;\r\n\r\n    public boolean contains(Object key) {\r\n       if ( key == lastKey ) {\r\n          return lastContains;\r\n       } else {\r\n          lastKey = key;\r\n          lastContains = doContains(key);\r\n          return lastContains;\r\n       }\r\n    }\r\n\r\nClearly this wouldn&#39;t be threadsafe.","title":"is Java HashSet thread-safe for read only?","body":"<p><code>HashSet</code> will be threadsafe if used in a read-only manner.  That doesn't mean that <em>any</em> Set that you pass to <code>Collections.unmodifiableSet()</code> will be threadsafe.  </p>\n\n<p>Imagine this naive implementation of <code>contains</code> that caches the last value checked:</p>\n\n<pre><code>Object lastKey;\nboolean lastContains;\n\npublic boolean contains(Object key) {\n   if ( key == lastKey ) {\n      return lastContains;\n   } else {\n      lastKey = key;\n      lastContains = doContains(key);\n      return lastContains;\n   }\n}\n</code></pre>\n\n<p>Clearly this wouldn't be threadsafe.</p>\n"},{"tags":[],"owner":{"account_id":52809,"reputation":13434,"user_id":157852,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666943785,"creation_date":1300721482,"answer_id":5379876,"question_id":5379794,"body_markdown":"Yes, it is safe for concurrent read access. Here is the relevant sentence from the documentation:\r\n\r\n&gt;If multiple threads access a hash set concurrently, and at least one of the threads modifies the set, it must be synchronized externally.\r\n\r\nIt states that you only need to synchronize if `at least one` thread modifies it.\r\n\r\nSource: https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html","title":"is Java HashSet thread-safe for read only?","body":"<p>Yes, it is safe for concurrent read access. Here is the relevant sentence from the documentation:</p>\n<blockquote>\n<p>If multiple threads access a hash set concurrently, and at least one of the threads modifies the set, it must be synchronized externally.</p>\n</blockquote>\n<p>It states that you only need to synchronize if <code>at least one</code> thread modifies it.</p>\n<p>Source: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html</a></p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1300879001,"creation_date":1300721792,"answer_id":5379941,"question_id":5379794,"body_markdown":"It would be thread safe, but only owing to the fact that `Collections.unmodifiableSet()` internally publishes the target `Set` in safe manner (via the `final` field).\r\n\r\n**Note that in general statements such as &quot;read-only objects are always thread-safe&quot; are not correct, since they don&#39;t take into account possibility of operation reordering.**\r\n\r\nIt&#39;s (theoretically) possible that, due to operation reordering, a reference to that read-only object will become visible to other threads before object is completely initialized and populated with data. To eliminate this possibility you need to publish references to the object in safe manner, for example, by storing them in `final` fields, as it&#39;s done by `Collections.unmodifiableSet()`.","title":"is Java HashSet thread-safe for read only?","body":"<p>It would be thread safe, but only owing to the fact that <code>Collections.unmodifiableSet()</code> internally publishes the target <code>Set</code> in safe manner (via the <code>final</code> field).</p>\n\n<p><strong>Note that in general statements such as \"read-only objects are always thread-safe\" are not correct, since they don't take into account possibility of operation reordering.</strong></p>\n\n<p>It's (theoretically) possible that, due to operation reordering, a reference to that read-only object will become visible to other threads before object is completely initialized and populated with data. To eliminate this possibility you need to publish references to the object in safe manner, for example, by storing them in <code>final</code> fields, as it's done by <code>Collections.unmodifiableSet()</code>.</p>\n"},{"tags":[],"owner":{"account_id":20044,"reputation":4699,"user_id":47508,"accept_rate":62,"display_name":"richs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300724349,"creation_date":1300724349,"answer_id":5380463,"question_id":5379794,"body_markdown":"I don&#39;t believe it is thread safe just because you run Collections.unmodifiableSet().  Even though the HashSet if fully initialized and you marked it as unmodifiable, doesn&#39;t mean that those changes will be visible to other threads.  Even worse, in the absence of synchronization, a compilier is allowed to re-order instructions, which could mean that not only does a reading thread see missing data but it can also see the hashset in a wierd state.  Therefore you will need some synchronization.  I believe one way around this is to create the hashset as final and to fully initialize it in the constructor.  Here is a good article on the JMM http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html.   Read the section on How do final fields work under the new JMM?  \r\n\r\n&lt;b&gt;\r\nThe ability to see the correctly constructed value for the field is nice, but if the field itself is a reference, then you also want your code to see the up to date values for the object (or array) to which it points. If your field is a final field, this is also guaranteed. So, you can have a final pointer to an array and not have to worry about other threads seeing the correct values for the array reference, but incorrect values for the contents of the array. Again, by &quot;correct&quot; here, we mean &quot;up to date as of the end of the object&#39;s constructor&quot;, not &quot;the latest value available&quot;.\r\n&lt;/b&gt;","title":"is Java HashSet thread-safe for read only?","body":"<p>I don't believe it is thread safe just because you run Collections.unmodifiableSet().  Even though the HashSet if fully initialized and you marked it as unmodifiable, doesn't mean that those changes will be visible to other threads.  Even worse, in the absence of synchronization, a compilier is allowed to re-order instructions, which could mean that not only does a reading thread see missing data but it can also see the hashset in a wierd state.  Therefore you will need some synchronization.  I believe one way around this is to create the hashset as final and to fully initialize it in the constructor.  Here is a good article on the JMM <a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html\" rel=\"nofollow\">http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html</a>.   Read the section on How do final fields work under the new JMM?  </p>\n\n<p><b>\nThe ability to see the correctly constructed value for the field is nice, but if the field itself is a reference, then you also want your code to see the up to date values for the object (or array) to which it points. If your field is a final field, this is also guaranteed. So, you can have a final pointer to an array and not have to worry about other threads seeing the correct values for the array reference, but incorrect values for the contents of the array. Again, by \"correct\" here, we mean \"up to date as of the end of the object's constructor\", not \"the latest value available\".\n</b></p>\n"}],"owner":{"account_id":38146,"reputation":1653,"user_id":109318,"accept_rate":50,"display_name":"Asaf Mesika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41041,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":5379832,"answer_count":7,"score":33,"last_activity_date":1666943785,"creation_date":1300721121,"question_id":5379794,"body_markdown":"If I have an instance of an HashSet after I ran it through Collections.unmodifiableSet(), is it thread-safe?\r\n\r\nI&#39;m asking this since Set documentation states that it&#39;s not, but I&#39;m only performing read operations.\r\n\r\n","title":"is Java HashSet thread-safe for read only?","body":"<p>If I have an instance of an HashSet after I ran it through Collections.unmodifiableSet(), is it thread-safe?</p>\n\n<p>I'm asking this since Set documentation states that it's not, but I'm only performing read operations.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666860560,"post_id":74219218,"comment_id":131036879,"body_markdown":"Do the lines always contain 4 integers?","body":"Do the lines always contain 4 integers?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1666860683,"post_id":74219218,"comment_id":131036928,"body_markdown":"You cannot handle both lines at the same time. You need to read one line and fill arrA, then the second line to fill arrB.","body":"You cannot handle both lines at the same time. You need to read one line and fill arrA, then the second line to fill arrB."},{"owner":{"account_id":23675179,"reputation":27,"user_id":17701500,"display_name":"newsenpai"},"score":0,"creation_date":1666860735,"post_id":74219218,"comment_id":131036943,"body_markdown":"It should be a parameter, they can contain up to 12 integers.","body":"It should be a parameter, they can contain up to 12 integers."}],"answers":[{"tags":[],"owner":{"account_id":23963297,"reputation":56,"user_id":17953108,"display_name":"刷题养家"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666861387,"creation_date":1666861387,"answer_id":74219399,"question_id":74219218,"body_markdown":"may be like this\r\n\r\n    String s = sc.readLine();\r\n    Integer[] arrA = Arrays.stream(s.split(&quot; &quot;)).map(Integer::parseInt).collect(Collectors.toList()).toArray(new Integer[0]);","title":"JAVA reading integers from a file to two different arrays","body":"<p>may be like this</p>\n<pre><code>String s = sc.readLine();\nInteger[] arrA = Arrays.stream(s.split(&quot; &quot;)).map(Integer::parseInt).collect(Collectors.toList()).toArray(new Integer[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666943679,"creation_date":1666943679,"answer_id":74232209,"question_id":74219218,"body_markdown":"    public class ReadFileToArray {\r\n    public static void main(String[] args) throws IOException {\r\n        Path path = Paths.get(&quot;./abc.txt&quot;);\r\n        List&lt;List&lt;char[]&gt;&gt; listOfArrays = new ArrayList&lt;&gt;();\r\n\r\n        if (Files.exists(path)) {\r\n            List&lt;String&gt; readAllLines = Files.readAllLines(path);\r\n            if (!CollectionUtils.isEmpty(readAllLines)) {\r\n                readAllLines.forEach(line -&gt; {\r\n                    if (Objects.nonNull(line)) {\r\n                        listOfArrays.add(Collections.singletonList(line.toCharArray()));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        if (!CollectionUtils.isEmpty(listOfArrays)) {\r\n            listOfArrays.forEach(listOfArray -&gt; listOfArray.forEach(System.out::println));\r\n        }\r\n    } }\r\n\r\nFile : abc.txt\r\n\r\n3 5 7 9\r\n\r\n2 4 6 5\r\n\r\n**Output:**\r\n\r\n3 5 7 9\r\n\r\n2 4 6 5","title":"JAVA reading integers from a file to two different arrays","body":"<pre><code>public class ReadFileToArray {\npublic static void main(String[] args) throws IOException {\n    Path path = Paths.get(&quot;./abc.txt&quot;);\n    List&lt;List&lt;char[]&gt;&gt; listOfArrays = new ArrayList&lt;&gt;();\n\n    if (Files.exists(path)) {\n        List&lt;String&gt; readAllLines = Files.readAllLines(path);\n        if (!CollectionUtils.isEmpty(readAllLines)) {\n            readAllLines.forEach(line -&gt; {\n                if (Objects.nonNull(line)) {\n                    listOfArrays.add(Collections.singletonList(line.toCharArray()));\n                }\n            });\n        }\n    }\n\n    if (!CollectionUtils.isEmpty(listOfArrays)) {\n        listOfArrays.forEach(listOfArray -&gt; listOfArray.forEach(System.out::println));\n    }\n} }\n</code></pre>\n<p>File : abc.txt</p>\n<p>3 5 7 9</p>\n<p>2 4 6 5</p>\n<p><strong>Output:</strong></p>\n<p>3 5 7 9</p>\n<p>2 4 6 5</p>\n"}],"owner":{"account_id":23675179,"reputation":27,"user_id":17701500,"display_name":"newsenpai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1666943679,"creation_date":1666860533,"question_id":74219218,"body_markdown":"My in-file looks like that.\r\n\r\n```\r\n3 5 7 9\r\n2 4 6 5\r\n```\r\n\r\nI want the values from the first line, put into **arrayA**, and values from the second line into **arrayB**. That&#39;s what I have for now.\r\n\r\n```\r\n        while(sc.hasNextLine()) {\r\n            while (sc.hasNextInt()) {\r\n                arrA[i] = sc.nextInt();\r\n                arrB[i] = Integer.parseInt(sc.nextLine());\r\n                i++;\r\n            }\r\n        }\r\n```\r\n\r\n","title":"JAVA reading integers from a file to two different arrays","body":"<p>My in-file looks like that.</p>\n<pre><code>3 5 7 9\n2 4 6 5\n</code></pre>\n<p>I want the values from the first line, put into <strong>arrayA</strong>, and values from the second line into <strong>arrayB</strong>. That's what I have for now.</p>\n<pre><code>        while(sc.hasNextLine()) {\n            while (sc.hasNextInt()) {\n                arrA[i] = sc.nextInt();\n                arrB[i] = Integer.parseInt(sc.nextLine());\n                i++;\n            }\n        }\n</code></pre>\n"},{"tags":["java","arrays","string","sequence"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1666941605,"post_id":74231827,"comment_id":131058018,"body_markdown":"Check out [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code.","body":"Check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666941735,"post_id":74231827,"comment_id":131058061,"body_markdown":"in the if you should also check if you are at the end of the array (`i==numItems-1`)","body":"in the if you should also check if you are at the end of the array (<code>i==numItems-1</code>)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666942027,"post_id":74231827,"comment_id":131058149,"body_markdown":"&quot;The list is preceded by the number of items.&quot; - that means the leading 8 is not part of the list.","body":"&quot;The list is preceded by the number of items.&quot; - that means the leading 8 is not part of the list."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1666943019,"post_id":74231827,"comment_id":131058389,"body_markdown":"If you want a proper answer, you should post a [mcve]. How is `listItems` declared? Is it `Object[] listItems` ? Note that an [array](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html) is not the same as a [list](https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html). Also, since this appears to be an assignment, are there any limitations? Can you use any part of the Java programming language to implement the requirements? Can you use any class or interface in the [JDK](https://docs.oracle.com/en/java/javase/17/docs/api/) ?","body":"If you want a proper answer, you should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. How is <code>listItems</code> declared? Is it <code>Object[] listItems</code> ? Note that an <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">array</a> is not the same as a <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">list</a>. Also, since this appears to be an assignment, are there any limitations? Can you use any part of the Java programming language to implement the requirements? Can you use any class or interface in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/\" rel=\"nofollow noreferrer\">JDK</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666943674,"creation_date":1666943674,"answer_id":74232208,"question_id":74231827,"body_markdown":"```java\r\npublic static int findLongestConsecutiveNumberSequenceLength(Object[] items) {\r\n    int res = 0;\r\n\r\n    for (int i = 0, cur = 0; i &lt; items.length; i++) {\r\n        cur = &quot;I&quot;.equals(items[i]) ? 0 : cur + 1;\r\n        res = Math.max(res, cur);\r\n    }\r\n\r\n    return res;\r\n}\r\n```","title":"How to find the longest consecutive sequence of numbers in a string array in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static int findLongestConsecutiveNumberSequenceLength(Object[] items) {\n    int res = 0;\n\n    for (int i = 0, cur = 0; i &lt; items.length; i++) {\n        cur = &quot;I&quot;.equals(items[i]) ? 0 : cur + 1;\n        res = Math.max(res, cur);\n    }\n\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":26746710,"reputation":1,"user_id":20346677,"display_name":"Ashley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666943674,"creation_date":1666941415,"question_id":74231827,"body_markdown":"Given a list in which each item is either the letter &quot;I&quot; (incomplete) or a number (completed), output the length of the longest sequence of complete passes. The list is preceded by the number of items. Given 8 4 15 9 I 30 2 I 20, the output is 3 (because the longest sequence of complete passes is 4 15 9).\r\n\r\nI am able to find the correct number if the sequence is a mix of numbers and I&#39;s, but not if the sequence is only I&#39;s or only numbers.\r\n\r\n    int currSeq = 0;\r\n    int longestSeq = 0;\r\n    int lastIndex = 0;\r\n    boolean hasHit = false;\r\n\r\n    for (i = 0; i &lt; numItems; i++) {\r\n        currSeq = i - lastIndex;\r\n        if (listItems[i].equals(&quot;I&quot;) &amp;&amp; currSeq &gt; longestSeq) {\r\n            longestSeq = currSeq - (hasHit ? 1 : 0);\r\n            lastIndex = i;\r\n            hasHit = true;\r\n        }\r\n    }\r\n","title":"How to find the longest consecutive sequence of numbers in a string array in Java?","body":"<p>Given a list in which each item is either the letter &quot;I&quot; (incomplete) or a number (completed), output the length of the longest sequence of complete passes. The list is preceded by the number of items. Given 8 4 15 9 I 30 2 I 20, the output is 3 (because the longest sequence of complete passes is 4 15 9).</p>\n<p>I am able to find the correct number if the sequence is a mix of numbers and I's, but not if the sequence is only I's or only numbers.</p>\n<pre><code>int currSeq = 0;\nint longestSeq = 0;\nint lastIndex = 0;\nboolean hasHit = false;\n\nfor (i = 0; i &lt; numItems; i++) {\n    currSeq = i - lastIndex;\n    if (listItems[i].equals(&quot;I&quot;) &amp;&amp; currSeq &gt; longestSeq) {\n        longestSeq = currSeq - (hasHit ? 1 : 0);\n        lastIndex = i;\n        hasHit = true;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3452167,"reputation":523,"user_id":2891585,"accept_rate":89,"display_name":"Snacks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1411459425,"creation_date":1411459425,"answer_id":25989970,"question_id":25786922,"body_markdown":"I left this project for some time, and came back to it yesterday. AND I MADE IT. The problem was that the UNITY receiver had to be also registered in the ANDROID manifest, in fact i think it has to be registered in both of the manifests. I hope this helps someone someday :D","title":"ANDROID sendBroadcast to UNITY BroadcastReceiver not working","body":"<p>I left this project for some time, and came back to it yesterday. AND I MADE IT. The problem was that the UNITY receiver had to be also registered in the ANDROID manifest, in fact i think it has to be registered in both of the manifests. I hope this helps someone someday :D</p>\n"}],"owner":{"account_id":3452167,"reputation":523,"user_id":2891585,"accept_rate":89,"display_name":"Snacks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4266,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25989970,"answer_count":1,"score":2,"last_activity_date":1666942860,"creation_date":1410436820,"question_id":25786922,"body_markdown":"I&#39;m working on an android project, and i&#39;ve stumbled on a little problem. I made a rolling ball game from the unity tutorial page, and now i want to send the controls from an android application. This is crucial, i don&#39;t want the game to intercept the controls itself. I was using this tutorial:\r\n\r\nhttp://jeanmeyblum.weebly.com/scripts--tutorials/communication-between-an-android-app-and-unity\r\n\r\nI made a service in the android application, which i think is quite OK. I tested it if it&#39;s running in the debugger, and it is. Then i made the receiver according to the instruction, the same with the plugin part. When i run the game (which is in an activity in the android application), the receiver is ALMOST working, he gets the &quot;text&quot; value that i set in the static variable, but only the value that was in the declaration at the beginning (so i think that the plugin part is working correctly).\r\nThe problem is that the onReceive() method is not being called, thus the &quot;text&quot; value wont change to &quot;-1&quot; which would move the ball in the opposite direction (the ball is always moving in the +1 direction).\r\n\r\nHere is the code:\r\n\r\n    public class MyReceiver extends BroadcastReceiver {\r\n\t\r\n    \tprivate static MyReceiver instance;\r\n    \t// text that will be read by Unity\r\n    \tpublic static String text = &quot;1&quot;;\r\n    \t// Triggered when an Intent is catched\r\n    \t@Override\r\n    \tpublic void onReceive(Context context, Intent intent) {\r\n    \t\t// We get the data the Intent has\r\n    \t\tString sentIntent = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n    \t\t//if (sentIntent != null) {\r\n    \t\t\ttext = &quot;-1&quot;;\r\n    \t\t//}\r\n    \t}\r\n    \tpublic static void createInstance()\r\n    \t{\r\n    \t\tif(instance ==  null)\r\n    \t\t{\r\n    \t\t\tinstance = new MyReceiver();\r\n    \t\t}\t\r\n    \t}\r\n    }\r\n\r\nAnd the Service:\r\n\r\n    public class MyService extends Service {\r\n    \r\n    \tprivate final Handler handler = new Handler();\r\n    \tprivate int numIntent = 0;\r\n    \t\r\n    \t// It&#39;s the code we want our Handler to execute to send data\r\n    \tprivate Runnable sendData = new Runnable() {\r\n    \t\t// the specific method which will be executed by the handler\r\n    \t\tpublic void run() {\r\n    \t\t\tnumIntent++;\r\n    \t\t\t\r\n    \t\t\t// sendIntent is the object that will be broadcast outside our app\r\n    \t\t\tIntent sendIntent = new Intent();\r\n    \r\n    \t\t\t// We add flags for example to work from background\t\t\t\r\n    \t\t\tsendIntent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION|Intent.FLAG_FROM_BACKGROUND|Intent.FLAG_INCLUDE_STOPPED_PACKAGES\t);\r\n    \t\t\t\r\n    \t\t\t// SetAction uses a string which is an important name as it identifies the sender of the intent and that we will give to the receiver to know what to listen.\r\n    \t\t\t// By convention, it&#39;s suggested to use the current package name\r\n    \t\t\tsendIntent.setAction(&quot;com.example.package&quot;);\r\n    \t\t\t\r\n    \t\t\t// Here we fill the Intent with our data, here just a string with an incremented number in it.\r\n    \t\t\tsendIntent.putExtra(Intent.EXTRA_TEXT, &quot;1000&quot;);\r\n    \t\t\t// And here it goes ! our message is send to any other app that want to listen to it.\r\n    \t\t\tsendBroadcast(sendIntent);\r\n    \t\t\t\r\n    \t\t\t// In our case we run this method each second with postDelayed\r\n    \t\t\thandler.removeCallbacks(this);\r\n    \t\t\thandler.postDelayed(this, 1000);\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \t// When service is started\r\n    \tpublic void onStart(Intent intent, int startid) {\r\n    \t\t// We first start the Handler\r\n    \t\thandler.removeCallbacks(sendData);\r\n    \t\thandler.postDelayed(sendData, 1000);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic IBinder onBind(Intent intent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nI also edited the manifests:\r\n\r\n    &lt;service\r\n            android:name=&quot;com.example.MyService&quot;\r\n            android:enabled=&quot;true&quot; &gt;\r\n            &lt;/service&gt;\r\n\r\nand the receiver:\r\n\r\n    &lt;receiver android:name=&quot;com.example.receiver.MyReceiver&quot;&gt;\r\n         \t\t&lt;intent-filter&gt;\r\n            \t\t&lt;action android:name=&quot;com.example.package&quot;&gt;\r\n            \t\t&lt;/action&gt;\r\n          \t\t&lt;/intent-filter&gt;\r\n        \t&lt;/receiver&gt;\r\n\r\nI can see the MyService in the phones settings, and the game gets the declared &quot;text&quot; value. The problem is the onReceive method i thin, which is never even called. Can anyone help me with this?","title":"ANDROID sendBroadcast to UNITY BroadcastReceiver not working","body":"<p>I'm working on an android project, and i've stumbled on a little problem. I made a rolling ball game from the unity tutorial page, and now i want to send the controls from an android application. This is crucial, i don't want the game to intercept the controls itself. I was using this tutorial:</p>\n\n<p><a href=\"http://jeanmeyblum.weebly.com/scripts--tutorials/communication-between-an-android-app-and-unity\" rel=\"nofollow\">http://jeanmeyblum.weebly.com/scripts--tutorials/communication-between-an-android-app-and-unity</a></p>\n\n<p>I made a service in the android application, which i think is quite OK. I tested it if it's running in the debugger, and it is. Then i made the receiver according to the instruction, the same with the plugin part. When i run the game (which is in an activity in the android application), the receiver is ALMOST working, he gets the \"text\" value that i set in the static variable, but only the value that was in the declaration at the beginning (so i think that the plugin part is working correctly).\nThe problem is that the onReceive() method is not being called, thus the \"text\" value wont change to \"-1\" which would move the ball in the opposite direction (the ball is always moving in the +1 direction).</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public class MyReceiver extends BroadcastReceiver {\n\n    private static MyReceiver instance;\n    // text that will be read by Unity\n    public static String text = \"1\";\n    // Triggered when an Intent is catched\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        // We get the data the Intent has\n        String sentIntent = intent.getStringExtra(Intent.EXTRA_TEXT);\n        //if (sentIntent != null) {\n            text = \"-1\";\n        //}\n    }\n    public static void createInstance()\n    {\n        if(instance ==  null)\n        {\n            instance = new MyReceiver();\n        }   \n    }\n}\n</code></pre>\n\n<p>And the Service:</p>\n\n<pre><code>public class MyService extends Service {\n\n    private final Handler handler = new Handler();\n    private int numIntent = 0;\n\n    // It's the code we want our Handler to execute to send data\n    private Runnable sendData = new Runnable() {\n        // the specific method which will be executed by the handler\n        public void run() {\n            numIntent++;\n\n            // sendIntent is the object that will be broadcast outside our app\n            Intent sendIntent = new Intent();\n\n            // We add flags for example to work from background         \n            sendIntent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION|Intent.FLAG_FROM_BACKGROUND|Intent.FLAG_INCLUDE_STOPPED_PACKAGES  );\n\n            // SetAction uses a string which is an important name as it identifies the sender of the intent and that we will give to the receiver to know what to listen.\n            // By convention, it's suggested to use the current package name\n            sendIntent.setAction(\"com.example.package\");\n\n            // Here we fill the Intent with our data, here just a string with an incremented number in it.\n            sendIntent.putExtra(Intent.EXTRA_TEXT, \"1000\");\n            // And here it goes ! our message is send to any other app that want to listen to it.\n            sendBroadcast(sendIntent);\n\n            // In our case we run this method each second with postDelayed\n            handler.removeCallbacks(this);\n            handler.postDelayed(this, 1000);\n        }\n    };\n\n    // When service is started\n    public void onStart(Intent intent, int startid) {\n        // We first start the Handler\n        handler.removeCallbacks(sendData);\n        handler.postDelayed(sendData, 1000);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>I also edited the manifests:</p>\n\n<pre><code>&lt;service\n        android:name=\"com.example.MyService\"\n        android:enabled=\"true\" &gt;\n        &lt;/service&gt;\n</code></pre>\n\n<p>and the receiver:</p>\n\n<pre><code>&lt;receiver android:name=\"com.example.receiver.MyReceiver\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.example.package\"&gt;\n                &lt;/action&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n\n<p>I can see the MyService in the phones settings, and the game gets the declared \"text\" value. The problem is the onReceive method i thin, which is never even called. Can anyone help me with this?</p>\n"},{"tags":["java","openapi","swagger-codegen"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1612207229,"post_id":65994355,"comment_id":116689562,"body_markdown":"Try adding `default: []` on the same level as `type: array` - does this work?","body":"Try adding <code>default: []</code> on the same level as <code>type: array</code> - does this work?"},{"owner":{"account_id":19665341,"reputation":41,"user_id":15122868,"display_name":"Roman Lukyanov"},"score":0,"creation_date":1612258436,"post_id":65994355,"comment_id":116703968,"body_markdown":"I tried it, it doesn&#39;t work","body":"I tried it, it doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":5844270,"reputation":318,"user_id":4604830,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1666942811,"creation_date":1666942811,"answer_id":74232062,"question_id":65994355,"body_markdown":"There is an open issue with the *swagger codegen* ignoring the `default: []` for array.   See [[JAVA] Empty array not getting picked as default for the defined model in Open API AKA Swagger generated code](https://github.com/swagger-api/swagger-codegen/issues/10874) for more information.  \r\nIt&#39;s suggested to use `required` as a workaround for now.","title":"How to set a default empty list in swagger codegen","body":"<p>There is an open issue with the <em>swagger codegen</em> ignoring the <code>default: []</code> for array.   See <a href=\"https://github.com/swagger-api/swagger-codegen/issues/10874\" rel=\"noreferrer\">[JAVA] Empty array not getting picked as default for the defined model in Open API AKA Swagger generated code</a> for more information.<br />\nIt's suggested to use <code>required</code> as a workaround for now.</p>\n"}],"owner":{"account_id":19665341,"reputation":41,"user_id":15122868,"display_name":"Roman Lukyanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666942811,"creation_date":1612189246,"question_id":65994355,"body_markdown":"\r\nThere is an entity with a field\r\n\r\n          cises:\r\n            type: array\r\n            description: An array of brands. The length must match the value of the quantity field, or the array must be empty\r\n            items:\r\n              type: string\r\n\r\nCode java\r\n```\r\n  @SerializedName(&quot;cises&quot;)\r\n  private List&lt;String&gt; cises = null;\r\n```\r\nHow to use swagger codegen to set an empty list by default, instead of null\r\n","title":"How to set a default empty list in swagger codegen","body":"<p>There is an entity with a field</p>\n<pre><code>      cises:\n        type: array\n        description: An array of brands. The length must match the value of the quantity field, or the array must be empty\n        items:\n          type: string\n</code></pre>\n<p>Code java</p>\n<pre><code>  @SerializedName(&quot;cises&quot;)\n  private List&lt;String&gt; cises = null;\n</code></pre>\n<p>How to use swagger codegen to set an empty list by default, instead of null</p>\n"},{"tags":["java","spring-security","amazon-cognito","spring-webflux","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":6147401,"reputation":17,"user_id":4792923,"display_name":"muks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666942508,"creation_date":1666942508,"answer_id":74232008,"question_id":70499095,"body_markdown":"Check if you have an artifact &quot;spring-boot-starter-security&quot; included in your pom, this leads to the login page redirects. ","title":"Calling any endpoint redirects to the login page in Spring Boot Web Flux application","body":"<p>Check if you have an artifact &quot;spring-boot-starter-security&quot; included in your pom, this leads to the login page redirects.</p>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666942508,"creation_date":1640629434,"question_id":70499095,"body_markdown":"I am facing an issue with Spring Security, namely, I can log in to the application but when trying to call any endpoint different than the default login URL ```/``` my application redirect me to the Cognito login page. My ```WebSecurityConfiguration``` looks like:\r\n\r\n```\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\n@PropertySource(&quot;classpath:security.properties&quot;)\r\npublic class WebSecurityConfiguration {\r\n\r\n  public static final String ADMIN_LOGIN_URL = &quot;/auth/login&quot;;\r\n  public static final String USER_LOGIN_URL = &quot;/auth/loginUser&quot;;\r\n  public static final String LOGOUT_URL = &quot;/auth/signOut&quot;;\r\n  public static final String SIGNUP_BY_ADMIN_URL = &quot;/auth/signUp&quot;;\r\n  public static final String SIGNUP_URL = &quot;/registration&quot;;\r\n  public static final String API_DOCS_URL = &quot;/v2/api-docs&quot;;\r\n  public static final String NUTRITION_URL = &quot;/nutrition/api/**&quot;;\r\n  public static final String OAUTH2_URL = &quot;/oauth2/**&quot;;\r\n  public static final String LOGIN_URL = &quot;/login&quot;;\r\n  public static final String DEFAULT_URL = &quot;/&quot;;\r\n  public static final String OAUTH2_LOGIN_URL = &quot;/login**&quot;;\r\n  public static final String OAUTH2_WILDCARD_URL = &quot;/oauth2/**&quot;;\r\n  public static final String WHO_AM_I_URL = &quot;/who&quot;;\r\n\r\n  private final ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate;\r\n\r\n  public WebSecurityConfiguration(\r\n      @Qualifier(&quot;reactiveWhitelistingRedisTemplate&quot;)\r\n          ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate) {\r\n    this.reactiveRedisTemplate = reactiveRedisTemplate;\r\n  }\r\n\r\n  @Bean\r\n  public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\r\n\r\n    return httpSecurity\r\n        .csrf().disable()\r\n        .formLogin().disable()\r\n        .httpBasic().disable()\r\n        .authorizeExchange()\r\n        .pathMatchers(OAUTH2_URL, WHO_AM_I_URL, SIGNUP_URL)\r\n        .permitAll()\r\n        .anyExchange()\r\n        .authenticated()\r\n        .and()\r\n        .oauth2Login()\r\n        .and()\r\n        .build();\r\n  }\r\n}\r\n```\r\n\r\n```application.yml``` looks like:\r\n\r\n```\r\nspring:\r\n  main:\r\n    allow-bean-definition-overriding: true\r\n  application:\r\n    name: api-gateway\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          cognito:\r\n            client-id: XXX\r\n            client-secret: XXX\r\n            scope: openid\r\n            redirect-uri: http://localhost:8080/login/oauth2/code/cognito\r\n            clientName: fitnesstest\r\n        provider:\r\n          cognito:\r\n            issuerUri: https://cognito-idp.eu-central-1.amazonaws.com/eu-central-1_XXX\r\n```\r\n\r\nMy ```RoutingHandler``` looks like:\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class RoutingHandlers {\r\n\r\n  private final CognitoAuthenticationService authService;\r\n\r\n  public Mono&lt;ServerResponse&gt; signUpUser(ServerRequest serverRequest) {\r\n    Mono&lt;UserSignUpRequest&gt; signUpRequestDto = serverRequest.bodyToMono(UserSignUpRequest.class);\r\n\r\n    var signUpResult = authService.signUpUser(signUpRequestDto);\r\n    return ServerResponse.status(201)\r\n        .body(fromPublisher(signUpResult, UserSignUpResponse.class))\r\n        .onErrorResume(\r\n            e -&gt;\r\n                ServerResponse.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .body(BodyInserters.fromValue(e.getMessage())));\r\n  }\r\n}\r\n```\r\n\r\nwith ```RouterConfiguration```\r\n\r\n```\r\n@Component\r\npublic class ApiGatewayRouterConfiguration {\r\n\r\n  @Bean\r\n  public RouterFunction&lt;ServerResponse&gt; routerFunction(RoutingHandlers routingHandlers) {\r\n    return RouterFunctions.route(\r\n        POST(&quot;/register&quot;).and(accept(MediaType.APPLICATION_JSON)), routingHandlers::signUpUser);\r\n  }\r\n}\r\n```\r\n\r\nI tried to split ```pathMatcher```&#39;s, comment-out \r\n\r\n```\r\n.anyExchange().authenticated()\r\n```\r\nbut with this approach after a login attempt, I am receiving 403.\r\n\r\nWill be grateful for suggestions on how to fix this issue. Cheers! \r\n\r\nEDIT\r\nTypical material fatigue...\r\nIt seems that with small tweaks in ```WebSecurityConfiguration```\r\nit&#39;s working fine:\r\n\r\n```\r\n  @Bean\r\n  public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\r\n\r\n    return httpSecurity\r\n        .csrf().disable()\r\n        .formLogin().disable()\r\n        .httpBasic()\r\n        .and()\r\n        .authorizeExchange()\r\n        .pathMatchers(OAUTH2_URL, WHO_AM_I_URL, SIGNUP_URL)\r\n        .permitAll()\r\n        .anyExchange()\r\n        .authenticated()\r\n        .and()\r\n        .oauth2Login()\r\n        .and()\r\n        .build();\r\n}\r\n```\r\n\r\nand wrong URL here: \r\n```\r\npublic static final String SIGNUP_URL = &quot;/register&quot;;\r\n```","title":"Calling any endpoint redirects to the login page in Spring Boot Web Flux application","body":"<p>I am facing an issue with Spring Security, namely, I can log in to the application but when trying to call any endpoint different than the default login URL <code>/</code> my application redirect me to the Cognito login page. My <code>WebSecurityConfiguration</code> looks like:</p>\n<pre><code>@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\n@PropertySource(&quot;classpath:security.properties&quot;)\npublic class WebSecurityConfiguration {\n\n  public static final String ADMIN_LOGIN_URL = &quot;/auth/login&quot;;\n  public static final String USER_LOGIN_URL = &quot;/auth/loginUser&quot;;\n  public static final String LOGOUT_URL = &quot;/auth/signOut&quot;;\n  public static final String SIGNUP_BY_ADMIN_URL = &quot;/auth/signUp&quot;;\n  public static final String SIGNUP_URL = &quot;/registration&quot;;\n  public static final String API_DOCS_URL = &quot;/v2/api-docs&quot;;\n  public static final String NUTRITION_URL = &quot;/nutrition/api/**&quot;;\n  public static final String OAUTH2_URL = &quot;/oauth2/**&quot;;\n  public static final String LOGIN_URL = &quot;/login&quot;;\n  public static final String DEFAULT_URL = &quot;/&quot;;\n  public static final String OAUTH2_LOGIN_URL = &quot;/login**&quot;;\n  public static final String OAUTH2_WILDCARD_URL = &quot;/oauth2/**&quot;;\n  public static final String WHO_AM_I_URL = &quot;/who&quot;;\n\n  private final ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate;\n\n  public WebSecurityConfiguration(\n      @Qualifier(&quot;reactiveWhitelistingRedisTemplate&quot;)\n          ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate) {\n    this.reactiveRedisTemplate = reactiveRedisTemplate;\n  }\n\n  @Bean\n  public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\n\n    return httpSecurity\n        .csrf().disable()\n        .formLogin().disable()\n        .httpBasic().disable()\n        .authorizeExchange()\n        .pathMatchers(OAUTH2_URL, WHO_AM_I_URL, SIGNUP_URL)\n        .permitAll()\n        .anyExchange()\n        .authenticated()\n        .and()\n        .oauth2Login()\n        .and()\n        .build();\n  }\n}\n</code></pre>\n<p><code>application.yml</code> looks like:</p>\n<pre><code>spring:\n  main:\n    allow-bean-definition-overriding: true\n  application:\n    name: api-gateway\n  security:\n    oauth2:\n      client:\n        registration:\n          cognito:\n            client-id: XXX\n            client-secret: XXX\n            scope: openid\n            redirect-uri: http://localhost:8080/login/oauth2/code/cognito\n            clientName: fitnesstest\n        provider:\n          cognito:\n            issuerUri: https://cognito-idp.eu-central-1.amazonaws.com/eu-central-1_XXX\n</code></pre>\n<p>My <code>RoutingHandler</code> looks like:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class RoutingHandlers {\n\n  private final CognitoAuthenticationService authService;\n\n  public Mono&lt;ServerResponse&gt; signUpUser(ServerRequest serverRequest) {\n    Mono&lt;UserSignUpRequest&gt; signUpRequestDto = serverRequest.bodyToMono(UserSignUpRequest.class);\n\n    var signUpResult = authService.signUpUser(signUpRequestDto);\n    return ServerResponse.status(201)\n        .body(fromPublisher(signUpResult, UserSignUpResponse.class))\n        .onErrorResume(\n            e -&gt;\n                ServerResponse.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .body(BodyInserters.fromValue(e.getMessage())));\n  }\n}\n</code></pre>\n<p>with <code>RouterConfiguration</code></p>\n<pre><code>@Component\npublic class ApiGatewayRouterConfiguration {\n\n  @Bean\n  public RouterFunction&lt;ServerResponse&gt; routerFunction(RoutingHandlers routingHandlers) {\n    return RouterFunctions.route(\n        POST(&quot;/register&quot;).and(accept(MediaType.APPLICATION_JSON)), routingHandlers::signUpUser);\n  }\n}\n</code></pre>\n<p>I tried to split <code>pathMatcher</code>'s, comment-out</p>\n<pre><code>.anyExchange().authenticated()\n</code></pre>\n<p>but with this approach after a login attempt, I am receiving 403.</p>\n<p>Will be grateful for suggestions on how to fix this issue. Cheers!</p>\n<p>EDIT\nTypical material fatigue...\nIt seems that with small tweaks in <code>WebSecurityConfiguration</code>\nit's working fine:</p>\n<pre><code>  @Bean\n  public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\n\n    return httpSecurity\n        .csrf().disable()\n        .formLogin().disable()\n        .httpBasic()\n        .and()\n        .authorizeExchange()\n        .pathMatchers(OAUTH2_URL, WHO_AM_I_URL, SIGNUP_URL)\n        .permitAll()\n        .anyExchange()\n        .authenticated()\n        .and()\n        .oauth2Login()\n        .and()\n        .build();\n}\n</code></pre>\n<p>and wrong URL here:</p>\n<pre><code>public static final String SIGNUP_URL = &quot;/register&quot;;\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1661160280,"post_id":73435875,"comment_id":129697128,"body_markdown":"This is basically a fork/join requirement, and can be implemented with a (remotely) partitioned step. Results can be aggregated with a `StepExecutionAggregator`. I shared a sample of how to do that [here](https://github.com/fmbenhassine/spring-batch-lab/tree/main/issues/so53366710). Hope this helps.","body":"This is basically a fork/join requirement, and can be implemented with a (remotely) partitioned step. Results can be aggregated with a <code>StepExecutionAggregator</code>. I shared a sample of how to do that <a href=\"https://github.com/fmbenhassine/spring-batch-lab/tree/main/issues/so53366710\" rel=\"nofollow noreferrer\">here</a>. Hope this helps."}],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661693393,"creation_date":1661098138,"answer_id":73436114,"question_id":73435875,"body_markdown":"I&#39;ve had a similar task like yours, unlikly we were using java 1.7 and spring 3.x. I can provide a configuiration in xml so maybe you will be able to use annotation configuration for this I&#39;ve not tryed.\r\n```\r\n&lt;batch:job id=&quot;dualAgeRestrictionJob&quot;&gt;\r\n    &lt;-- use a listner if you need --&gt;\r\n\t&lt;batch:listeners&gt;\r\n\t\t&lt;batch:listener ref=&quot;dualAgeRestrictionJobListener&quot; /&gt;\r\n\t&lt;/batch:listeners&gt;\r\n\t&lt;!-- master step, 10 threads (grid-size) --&gt;\r\n\t&lt;batch:step id=&quot;dualMasterStep&quot;&gt;\r\n\t\t&lt;partition step=&quot;dualSlaveStep&quot;\r\n\t\t\tpartitioner=&quot;arInputRangePartitioner&quot;&gt;\r\n\t\t\t&lt;handler grid-size=&quot;${AR_GRID_SIZE}&quot; task-executor=&quot;taskExecutor&quot; /&gt;\r\n\t\t&lt;/partition&gt;\r\n\t&lt;/batch:step&gt;\t\r\n&lt;/batch:job&gt;\r\n&lt;-- here you define your reader processor and writer and the commit interval --&gt;\r\n&lt;batch:step id=&quot;dualSlaveStep&quot;&gt;\r\n    &lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;&gt;\r\n\t\t&lt;batch:chunk reader=&quot;arInputPagingItemReader&quot;\r\n\t\t\twriter=&quot;arOutputWriter&quot; processor=&quot;arInputItemProcessor&quot;\r\n\t\t\tcommit-interval=&quot;${AR_COMMIT_INTERVAL}&quot; /&gt;\r\n\t&lt;/batch:tasklet&gt;\r\n&lt;/batch:step&gt;\r\n&lt;!-- The partitioner --&gt;\r\n&lt;bean id=&quot;arInputRangePartitioner&quot; class=&quot;com.example.ArInputRangePartitioner&quot;&gt;\r\n\t&lt;property name=&quot;arInputDao&quot; ref=&quot;arInputJDBCTemplate&quot; /&gt;\r\n\t&lt;property name=&quot;statsForMail&quot; ref=&quot;statsForMail&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;taskExecutor&quot;\r\n\t\tclass=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt;\r\n\t&lt;property name=&quot;corePoolSize&quot; value=&quot;${AR_CORE_POOL_SIZE}&quot; /&gt;\r\n\t&lt;property name=&quot;maxPoolSize&quot; value=&quot;${AR_MAX_POOL_SIZE}&quot; /&gt;\r\n\t&lt;property name=&quot;allowCoreThreadTimeOut&quot; value=&quot;${AR_ALLOW_CORE_THREAD_TIME_OUT}&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;transactionManager&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n\t&lt;property name=&quot;dataSource&quot; ref=&quot;kvrDatasource&quot; /&gt;\r\n&lt;/bean&gt;\r\n```\r\nThe partitioner makes a query to count the rows and make chunks for each thread:\r\n```\r\npublic class ArInputRangePartitioner implements Partitioner {\r\n\t\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(ArInputRangePartitioner.class);\r\n\r\n\tprivate ArInputDao arInputDao;\r\n\t\r\n\tprivate StatsForMail statsForMail;\r\n\r\n\t@Override\r\n\tpublic Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\r\n\t\tMap&lt;String, ExecutionContext&gt; result = new HashMap&lt;String, ExecutionContext&gt;();\r\n        // You can make a query and then divede the from to for each thread\r\n\t\tMap&lt;Integer,Integer&gt; idMap = arInputDao.getOrderIdList();\r\n\t\tInteger countRow = idMap.size();\r\n\t\tstatsForMail.setNumberOfRecords( countRow );  \r\n\t\tInteger range = countRow / gridSize;\r\n\t\tInteger remains = countRow % gridSize;\r\n\t\tint fromId = 1;\r\n\t\tint toId = range;\r\n\t\tfor (int i = 1; i &lt;= gridSize; i++) {\r\n\t\t\tExecutionContext value = new ExecutionContext();\r\n\t\t\tif(i == gridSize) {\r\n\t\t\t\ttoId += remains;\r\n\t\t\t}\r\n\t\t\tlogger.info(&quot;\\nStarting : Thread {}&quot;, i);\r\n\t\t\tlogger.info(&quot;fromId : {}&quot;, idMap.get(fromId) );\r\n\t\t\tlogger.info(&quot;toId : {}&quot;, idMap.get(toId) );\r\n\t\t\tvalue.putInt(&quot;fromId&quot;, idMap.get(fromId) );\r\n\t\t\tvalue.putInt(&quot;toId&quot;, idMap.get(toId) );\r\n\t\t\tvalue.putString(&quot;name&quot;, &quot;Thread&quot; + i);\r\n\t\t\tresult.put(&quot;partition&quot; + i, value);\r\n\t\t\tfromId = toId + 1;\r\n\t\t\ttoId += range;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic ArInputDao getArInputDao() {\r\n\t\treturn arInputDao;\r\n\t}\r\n\r\n\tpublic void setArInputDao(ArInputDao arInputDao) {\r\n\t\tthis.arInputDao = arInputDao;\r\n\t}\r\n\r\n\tpublic StatsForMail getStatsForMail() {\r\n\t\treturn statsForMail;\r\n\t}\r\n\r\n\tpublic void setStatsForMail(StatsForMail statsForMail) {\r\n\t\tthis.statsForMail = statsForMail;\r\n\t}\r\n\r\n}\r\n```\r\nThis is the configuration for the reader and writer:\r\n```\r\n&lt;bean id=&quot;arInputPagingItemReader&quot; class=&quot;org.springframework.batch.item.database.JdbcPagingItemReader&quot; scope=&quot;step&quot; &gt;\r\n\t&lt;property name=&quot;dataSource&quot; ref=&quot;kvrDatasource&quot; /&gt;\r\n\t&lt;property name=&quot;queryProvider&quot;&gt;\r\n\t\t&lt;bean class=&quot;org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean&quot; &gt;\r\n\t\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;kvrDatasource&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;selectClause&quot; value=&quot;${AR_INPUT_PAGING_ITEM_READER_SELECT}&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;fromClause&quot; value=&quot;${AR_INPUT_PAGING_ITEM_READER_FROM}&quot; /&gt;\t\t\t&lt;property name=&quot;whereClause&quot; value=&quot;${AR_INPUT_PAGING_ITEM_READER_WHERE}&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;sortKey&quot; value=&quot;${AR_INPUT_PAGING_ITEM_READER_SORT}&quot; /&gt;\r\n\t\t&lt;/bean&gt;\r\n\t&lt;/property&gt;\r\n\t&lt;!-- Inject via the ExecutionContext in rangePartitioner --&gt;\r\n\t&lt;property name=&quot;parameterValues&quot;&gt;\r\n\t\t&lt;map&gt;\r\n\t\t\t&lt;entry key=&quot;fromId&quot; value=&quot;#{stepExecutionContext[fromId]}&quot; /&gt;\r\n\t\t\t&lt;entry key=&quot;toId&quot; value=&quot;#{stepExecutionContext[toId]}&quot; /&gt;\r\n\t\t&lt;/map&gt;\r\n\t&lt;/property&gt;\r\n\t&lt;property name=&quot;pageSize&quot; value=&quot;${AR_PAGE_SIZE}&quot; /&gt;\r\n\t&lt;property name=&quot;rowMapper&quot; ref=&quot;arOutInRowMapper&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;arOutputWriter&quot;\r\n\t\tclass=&quot;org.springframework.batch.item.database.JdbcBatchItemWriter&quot;\r\n\t\tscope=&quot;step&quot;&gt;\r\n\t&lt;property name=&quot;dataSource&quot; ref=&quot;kvrDatasource&quot; /&gt;\r\n\t&lt;property name=&quot;sql&quot; value=&quot;${SQL_AR_OUTPUT_INSERT}&quot;/&gt;\r\n\t&lt;property name=&quot;itemSqlParameterSourceProvider&quot;&gt;\r\n\t    &lt;bean class=&quot;org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider&quot; /&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\nMaybe some one knows how to convert this with modern spring-batch/spring-boot\r\n\r\nPS: Don&#39;t use a lot of thread otherwise spring batch will lose a lot of time to fill it&#39;s own tables. You have to make some benchmark to understand the correct configuration\r\n\r\nI also suggest to not use jpa/hibernate with millions of rows, in my case I’ve used jdbcTemplate\r\n\r\n**EDIT** for annotation configuration see this [question](https://stackoverflow.com/questions/73514579/spring-batch-partitioned-step-duplicated-processing/73515255?noredirect=1#comment129826750_73515255)\r\n\r\nFollow an example of configuration with partitioner\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class JobConfig {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(JobConfig.class);\r\n    \r\n        private final JobBuilderFactory jobBuilderFactory;\r\n        private final StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Value(value = &quot;classpath:employees.csv&quot;)\r\n        private Resource resource;\r\n    \r\n        @Bean(&quot;MyJob1&quot;)\r\n        public Job createJob(@Qualifier(&quot;MyStep1&quot;) Step stepMaster) {\r\n            return jobBuilderFactory.get(&quot;MyJob1&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(stepMaster)\r\n                .build();\r\n        }\r\n    \r\n        @Bean(&quot;MyStep1&quot;)\r\n        public Step step(PartitionHandler partitionHandler, Partitioner partitioner) {\r\n            return stepBuilderFactory.get(&quot;MyStep1&quot;)\r\n                .partitioner(&quot;slaveStep&quot;, partitioner)\r\n                .partitionHandler(partitionHandler)\r\n                .build();\r\n        }\r\n    \r\n        @Bean(&quot;slaveStep&quot;)\r\n        public Step slaveStep(FlatFileItemReader&lt;Employee&gt; reader) {\r\n            return stepBuilderFactory.get(&quot;slaveStep&quot;)\r\n                .&lt;Employee, Employee&gt;chunk(1)\r\n                .reader(reader)\r\n                .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\r\n                    System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\r\n                    return employee;\r\n                })\r\n                .writer(list -&gt; {\r\n                    for (Employee item : list) {\r\n                        System.out.println(item);\r\n                    }\r\n                })\r\n                .build();\r\n        }\r\n        \r\n        @Bean\r\n        public Partitioner partitioner() {\r\n            return gridSize -&gt; {\r\n                Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\r\n                int lines = 0;\r\n                try(BufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()))) {\r\n                    while (reader.readLine() != null) lines++;\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                int range = lines / gridSize;\r\n                int remains = lines % gridSize;\r\n                int fromLine = 0;\r\n                int toLine = range;\r\n                for (int i = 1; i &lt;= gridSize; i++) {\r\n                    if(i == gridSize) {\r\n                        toLine += remains;\r\n                    }\r\n                    ExecutionContext value = new ExecutionContext();\r\n                    value.putInt(&quot;fromLine&quot;, fromLine);\r\n                    value.putInt(&quot;toLine&quot;, toLine);\r\n                    fromLine = toLine;\r\n                    toLine += range;\r\n                    result.put(&quot;partition&quot; + i, value);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n            \r\n    \r\n        @StepScope\r\n        @Bean\r\n        public FlatFileItemReader&lt;Employee&gt; flatFileItemReader(@Value(&quot;#{stepExecutionContext[&#39;fromLine&#39;]}&quot;) int startLine, @Value(&quot;#{stepExecutionContext[&#39;toLine&#39;]}&quot;) int lastLine) {\r\n            FlatFileItemReader&lt;Employee&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n            reader.setResource(resource);\r\n    \r\n            DefaultLineMapper&lt;Employee&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n            lineMapper.setFieldSetMapper(fieldSet -&gt; {\r\n                String[] values = fieldSet.getValues();\r\n                return Employee.builder()\r\n                        .id(Integer.parseInt(values[0]))\r\n                        .firstName(values[1])\r\n                        .build();\r\n            });\r\n    \r\n            lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\r\n            reader.setLineMapper(lineMapper);\r\n            reader.setCurrentItemCount(startLine);\r\n            reader.setMaxItemCount(lastLine);\r\n    \r\n            return reader;\r\n        }\r\n    \r\n        @Bean\r\n        public PartitionHandler partitionHandler(@Qualifier(&quot;slaveStep&quot;) Step step, TaskExecutor taskExecutor) {\r\n            TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\r\n    \r\n            taskExecutorPartitionHandler.setTaskExecutor(taskExecutor);\r\n            taskExecutorPartitionHandler.setStep(step);\r\n            taskExecutorPartitionHandler.setGridSize(5);\r\n    \r\n            return taskExecutorPartitionHandler;\r\n        }\r\n    \r\n        @Bean\r\n        public TaskExecutor taskExecutor() {\r\n            ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n            taskExecutor.setMaxPoolSize(5);\r\n            taskExecutor.setCorePoolSize(5);\r\n            taskExecutor.setQueueCapacity(5);\r\n            taskExecutor.afterPropertiesSet();\r\n            return taskExecutor;\r\n        }\r\n        \r\n    }\r\n\r\n","title":"spring batch and Multi-threaded step","body":"<p>I've had a similar task like yours, unlikly we were using java 1.7 and spring 3.x. I can provide a configuiration in xml so maybe you will be able to use annotation configuration for this I've not tryed.</p>\n<pre><code>&lt;batch:job id=&quot;dualAgeRestrictionJob&quot;&gt;\n    &lt;-- use a listner if you need --&gt;\n    &lt;batch:listeners&gt;\n        &lt;batch:listener ref=&quot;dualAgeRestrictionJobListener&quot; /&gt;\n    &lt;/batch:listeners&gt;\n    &lt;!-- master step, 10 threads (grid-size) --&gt;\n    &lt;batch:step id=&quot;dualMasterStep&quot;&gt;\n        &lt;partition step=&quot;dualSlaveStep&quot;\n            partitioner=&quot;arInputRangePartitioner&quot;&gt;\n            &lt;handler grid-size=&quot;${AR_GRID_SIZE}&quot; task-executor=&quot;taskExecutor&quot; /&gt;\n        &lt;/partition&gt;\n    &lt;/batch:step&gt;   \n&lt;/batch:job&gt;\n&lt;-- here you define your reader processor and writer and the commit interval --&gt;\n&lt;batch:step id=&quot;dualSlaveStep&quot;&gt;\n    &lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;&gt;\n        &lt;batch:chunk reader=&quot;arInputPagingItemReader&quot;\n            writer=&quot;arOutputWriter&quot; processor=&quot;arInputItemProcessor&quot;\n            commit-interval=&quot;${AR_COMMIT_INTERVAL}&quot; /&gt;\n    &lt;/batch:tasklet&gt;\n&lt;/batch:step&gt;\n&lt;!-- The partitioner --&gt;\n&lt;bean id=&quot;arInputRangePartitioner&quot; class=&quot;com.example.ArInputRangePartitioner&quot;&gt;\n    &lt;property name=&quot;arInputDao&quot; ref=&quot;arInputJDBCTemplate&quot; /&gt;\n    &lt;property name=&quot;statsForMail&quot; ref=&quot;statsForMail&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;taskExecutor&quot;\n        class=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt;\n    &lt;property name=&quot;corePoolSize&quot; value=&quot;${AR_CORE_POOL_SIZE}&quot; /&gt;\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;${AR_MAX_POOL_SIZE}&quot; /&gt;\n    &lt;property name=&quot;allowCoreThreadTimeOut&quot; value=&quot;${AR_ALLOW_CORE_THREAD_TIME_OUT}&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;transactionManager&quot;\n        class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;kvrDatasource&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>The partitioner makes a query to count the rows and make chunks for each thread:</p>\n<pre><code>public class ArInputRangePartitioner implements Partitioner {\n    \n    private static final Logger logger = LoggerFactory.getLogger(ArInputRangePartitioner.class);\n\n    private ArInputDao arInputDao;\n    \n    private StatsForMail statsForMail;\n\n    @Override\n    public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\n        Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;String, ExecutionContext&gt;();\n        // You can make a query and then divede the from to for each thread\n        Map&lt;Integer,Integer&gt; idMap = arInputDao.getOrderIdList();\n        Integer countRow = idMap.size();\n        statsForMail.setNumberOfRecords( countRow );  \n        Integer range = countRow / gridSize;\n        Integer remains = countRow % gridSize;\n        int fromId = 1;\n        int toId = range;\n        for (int i = 1; i &lt;= gridSize; i++) {\n            ExecutionContext value = new ExecutionContext();\n            if(i == gridSize) {\n                toId += remains;\n            }\n            logger.info(&quot;\\nStarting : Thread {}&quot;, i);\n            logger.info(&quot;fromId : {}&quot;, idMap.get(fromId) );\n            logger.info(&quot;toId : {}&quot;, idMap.get(toId) );\n            value.putInt(&quot;fromId&quot;, idMap.get(fromId) );\n            value.putInt(&quot;toId&quot;, idMap.get(toId) );\n            value.putString(&quot;name&quot;, &quot;Thread&quot; + i);\n            result.put(&quot;partition&quot; + i, value);\n            fromId = toId + 1;\n            toId += range;\n        }\n        return result;\n    }\n    \n    public ArInputDao getArInputDao() {\n        return arInputDao;\n    }\n\n    public void setArInputDao(ArInputDao arInputDao) {\n        this.arInputDao = arInputDao;\n    }\n\n    public StatsForMail getStatsForMail() {\n        return statsForMail;\n    }\n\n    public void setStatsForMail(StatsForMail statsForMail) {\n        this.statsForMail = statsForMail;\n    }\n\n}\n</code></pre>\n<p>This is the configuration for the reader and writer:</p>\n<pre><code>&lt;bean id=&quot;arInputPagingItemReader&quot; class=&quot;org.springframework.batch.item.database.JdbcPagingItemReader&quot; scope=&quot;step&quot; &gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;kvrDatasource&quot; /&gt;\n    &lt;property name=&quot;queryProvider&quot;&gt;\n        &lt;bean class=&quot;org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean&quot; &gt;\n            &lt;property name=&quot;dataSource&quot; ref=&quot;kvrDatasource&quot; /&gt;\n            &lt;property name=&quot;selectClause&quot; value=&quot;${AR_INPUT_PAGING_ITEM_READER_SELECT}&quot; /&gt;\n            &lt;property name=&quot;fromClause&quot; value=&quot;${AR_INPUT_PAGING_ITEM_READER_FROM}&quot; /&gt;          &lt;property name=&quot;whereClause&quot; value=&quot;${AR_INPUT_PAGING_ITEM_READER_WHERE}&quot; /&gt;\n            &lt;property name=&quot;sortKey&quot; value=&quot;${AR_INPUT_PAGING_ITEM_READER_SORT}&quot; /&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;!-- Inject via the ExecutionContext in rangePartitioner --&gt;\n    &lt;property name=&quot;parameterValues&quot;&gt;\n        &lt;map&gt;\n            &lt;entry key=&quot;fromId&quot; value=&quot;#{stepExecutionContext[fromId]}&quot; /&gt;\n            &lt;entry key=&quot;toId&quot; value=&quot;#{stepExecutionContext[toId]}&quot; /&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;pageSize&quot; value=&quot;${AR_PAGE_SIZE}&quot; /&gt;\n    &lt;property name=&quot;rowMapper&quot; ref=&quot;arOutInRowMapper&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;arOutputWriter&quot;\n        class=&quot;org.springframework.batch.item.database.JdbcBatchItemWriter&quot;\n        scope=&quot;step&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;kvrDatasource&quot; /&gt;\n    &lt;property name=&quot;sql&quot; value=&quot;${SQL_AR_OUTPUT_INSERT}&quot;/&gt;\n    &lt;property name=&quot;itemSqlParameterSourceProvider&quot;&gt;\n        &lt;bean class=&quot;org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider&quot; /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Maybe some one knows how to convert this with modern spring-batch/spring-boot</p>\n<p>PS: Don't use a lot of thread otherwise spring batch will lose a lot of time to fill it's own tables. You have to make some benchmark to understand the correct configuration</p>\n<p>I also suggest to not use jpa/hibernate with millions of rows, in my case I’ve used jdbcTemplate</p>\n<p><strong>EDIT</strong> for annotation configuration see this <a href=\"https://stackoverflow.com/questions/73514579/spring-batch-partitioned-step-duplicated-processing/73515255?noredirect=1#comment129826750_73515255\">question</a></p>\n<p>Follow an example of configuration with partitioner</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class JobConfig {\n\n    private static final Logger log = LoggerFactory.getLogger(JobConfig.class);\n\n    private final JobBuilderFactory jobBuilderFactory;\n    private final StepBuilderFactory stepBuilderFactory;\n\n    @Value(value = &quot;classpath:employees.csv&quot;)\n    private Resource resource;\n\n    @Bean(&quot;MyJob1&quot;)\n    public Job createJob(@Qualifier(&quot;MyStep1&quot;) Step stepMaster) {\n        return jobBuilderFactory.get(&quot;MyJob1&quot;)\n            .incrementer(new RunIdIncrementer())\n            .start(stepMaster)\n            .build();\n    }\n\n    @Bean(&quot;MyStep1&quot;)\n    public Step step(PartitionHandler partitionHandler, Partitioner partitioner) {\n        return stepBuilderFactory.get(&quot;MyStep1&quot;)\n            .partitioner(&quot;slaveStep&quot;, partitioner)\n            .partitionHandler(partitionHandler)\n            .build();\n    }\n\n    @Bean(&quot;slaveStep&quot;)\n    public Step slaveStep(FlatFileItemReader&lt;Employee&gt; reader) {\n        return stepBuilderFactory.get(&quot;slaveStep&quot;)\n            .&lt;Employee, Employee&gt;chunk(1)\n            .reader(reader)\n            .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\n                System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\n                return employee;\n            })\n            .writer(list -&gt; {\n                for (Employee item : list) {\n                    System.out.println(item);\n                }\n            })\n            .build();\n    }\n    \n    @Bean\n    public Partitioner partitioner() {\n        return gridSize -&gt; {\n            Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\n            int lines = 0;\n            try(BufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()))) {\n                while (reader.readLine() != null) lines++;\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            int range = lines / gridSize;\n            int remains = lines % gridSize;\n            int fromLine = 0;\n            int toLine = range;\n            for (int i = 1; i &lt;= gridSize; i++) {\n                if(i == gridSize) {\n                    toLine += remains;\n                }\n                ExecutionContext value = new ExecutionContext();\n                value.putInt(&quot;fromLine&quot;, fromLine);\n                value.putInt(&quot;toLine&quot;, toLine);\n                fromLine = toLine;\n                toLine += range;\n                result.put(&quot;partition&quot; + i, value);\n            }\n            return result;\n        };\n    }\n        \n\n    @StepScope\n    @Bean\n    public FlatFileItemReader&lt;Employee&gt; flatFileItemReader(@Value(&quot;#{stepExecutionContext['fromLine']}&quot;) int startLine, @Value(&quot;#{stepExecutionContext['toLine']}&quot;) int lastLine) {\n        FlatFileItemReader&lt;Employee&gt; reader = new FlatFileItemReader&lt;&gt;();\n        reader.setResource(resource);\n\n        DefaultLineMapper&lt;Employee&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        lineMapper.setFieldSetMapper(fieldSet -&gt; {\n            String[] values = fieldSet.getValues();\n            return Employee.builder()\n                    .id(Integer.parseInt(values[0]))\n                    .firstName(values[1])\n                    .build();\n        });\n\n        lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\n        reader.setLineMapper(lineMapper);\n        reader.setCurrentItemCount(startLine);\n        reader.setMaxItemCount(lastLine);\n\n        return reader;\n    }\n\n    @Bean\n    public PartitionHandler partitionHandler(@Qualifier(&quot;slaveStep&quot;) Step step, TaskExecutor taskExecutor) {\n        TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\n\n        taskExecutorPartitionHandler.setTaskExecutor(taskExecutor);\n        taskExecutorPartitionHandler.setStep(step);\n        taskExecutorPartitionHandler.setGridSize(5);\n\n        return taskExecutorPartitionHandler;\n    }\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setMaxPoolSize(5);\n        taskExecutor.setCorePoolSize(5);\n        taskExecutor.setQueueCapacity(5);\n        taskExecutor.afterPropertiesSet();\n        return taskExecutor;\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7067192,"reputation":67,"user_id":5410150,"display_name":"Akshay Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666942075,"creation_date":1666942075,"answer_id":74231934,"question_id":73435875,"body_markdown":"We had a similar use case where I had to start off with reading millions of records based on certain criteria as input from a rest endpoint and process it parallelly using 20-30 threads to meet extreme deadlines. But subsequent challenges were that same complex queries were made to database and then partitioned to be shared across generated threads.\r\n\r\n- Better solution:\r\nWe solved it by reading the data once and then internally partition it and pass it to threads initiated.\r\n\r\nA typical batch process would have the objective -&gt; to read, make some http calls/ manipulate the data, and write it to a response log table.\r\n\r\nSpring batch provides the capability to keep track of the records processed so that a restart can be initiated to pick up the remaining lot to process. An alternative to this can be a flag in your master table to mark the record as processed so it need not be picked during restart.\r\n\r\nMultiple challenges faced were :\r\n\r\n - support of joins in the query reader\r\n - partitioning of data.\r\n - same record being processed again\r\n------------------------------------------\r\n- Coming to multi processing -&gt;\r\n\r\nLets say you have 10000 records and you need to process 5 records parallelly.\r\n\r\nMultiple creative solutions can be implemented but the two most often used that fit all use cases would be\r\n\r\n- partitioning data on no of records.\r\n- partitioning data on the mod of value of index data if numeric.\r\n\r\nConsidering the memory the machine will be able to serve, a suitable number of threads can be selected. Eg 5. =&gt; 10000/5 =&gt; each thread would process 2000 records.\r\n\r\nPartitioning is a processing to split the ranges and allowing each step execution process to pick it in its own thread and run it. For the above step we will need to split those ranges and pass it while query execution to make it fetch records for the range and continue the process in a separate thread.\r\n\r\n- Thread 0 : 1–2000\r\n\r\n- Thread 1 : 2001–4000\r\n\r\n- Thread 2 : 4001–6000\r\n\r\n- Thread 3 : 6001–8000\r\n\r\n- Thread 4 : 8001–10000\r\n\r\nAnother logic for partitioning would be assigning the threads 0 to 4 and query basis the modulo of the number. But one drawback of this could be that one particular range would receive more load compared to others whereas the previous approach would ensure that everyone gets a fair share.\r\n\r\nThe split data is passed on to the separate thread which will start processing it and write data at the commit interval ( chunk size ) mentioned in the step.\r\n\r\n------------------------------------------\r\n\r\nCode :\r\n- READER\r\n```\r\n@Bean\r\n@StepScope\r\npublic JdbcPagingItemReader&lt;YourDataType&gt; dataReaders(\r\n    @Value(&quot;#{jobParameters[param1]}&quot;) final String param1, \r\n    @Value(&quot;#{stepExecutionContext[&#39;modulo&#39;]}&quot;) Long modulo) throws Exception {\r\n    logger.info(&quot;Thread started reading for modulo index : &quot; + modulo);\r\n    JdbcPagingItemReader&lt;YourDataType&gt; reader = new JdbcPagingItemReader &lt;&gt; ();\r\n    reader.setDataSource(getDataSource());\r\n    reader.setRowMapper(new YourDataTypeRowMapper());\r\n    reader.setQueryProvider(queryProvider(param1, modulo));\r\n    return reader;\r\n\r\npublic OraclePagingQueryProvider queryProvider(String param1, Long modulo) throws Exception {\r\n    OraclePagingQueryProvider provider = new OraclePagingQueryProvider();\r\n    provider.setSelectclause(&quot;your elements to query&quot;);\r\n    provider.setFromClause(&quot;your tables/ joined tables&quot;);\r\n    provider.setWhereclause(&quot;where clauses AND MOD (TO_NUMBER(yourkey) = &quot; + modulo);\r\n    Map&lt;String,Order&gt; sortkeys = new HashMap&lt;&gt;();\r\n    sortKeys.put(&quot;yoursortkey&quot;, Order.ASCENDING);\r\n    provider.setSortKeys(sortKeys);\r\n    return provider;\r\n}\r\n```\r\nSample data reader -&gt; param1 is any parameter that user would want to input. modulo is a step execution parameter — passed from the Partitioner object.\r\n\r\nParitioner object if to be used for modulo 5 would have modulo 0|1|2|3|4 and this would spawn 5 threads which would interact with the reader and fetch data for the divided sets.\r\n\r\n------------------------------------------\r\n\r\n- WRITER\r\n```\r\n@Bean\r\npublic JdbcbatchItemWriter&lt;YourDataType&gt; dataWriter() throws Exception {\r\n    logger.info(&quot;Initializing data writer&quot;); \r\n    JdbcBatchItemWriter&lt;YourDataType&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;(); \r\n    databaseItemWriter.setDataSource(injectyourdatasourcehere); \r\n    databaseItemWriter.setsql(INSERT_QUERY_HERE); \r\n    ItemPreparedStatementsetter&lt;RespData&gt; ps = new YourResponsePreparedStatement(); \r\n    databaseItemWriter.setItemPreparedStatementsetter(ps); \r\n    return databaseItemWriter;\r\n}\r\n\r\npublic class Your ResponsePreparedStatement implements ItemPreparedStatementSetter&lt;RespData&gt; {\r\n    public void setValues (RespData respData, PreparedStatement preparedStatement)throws SQLException {\r\n        preparedStatement.setString(1, respData.getYourData());\r\n    }\r\n}\r\n```\r\nResponse Writer to log response to any table to keep tab of the processed data for analytics or business reporting.\r\n\r\n------------------------------------------\r\n\r\n- PROCESSOR\r\n```\r\n@Bean \r\npublic ItemProcessor&lt;YourDataType,RespData&gt; processor() {\r\n\r\n   return new YOURProcessor();\r\n\r\n}\r\n```\r\nProcessor where the core logic for the data manipulation would be written. Response returned is of the type which is expected by the Data writer.\r\n\r\n------------------------------------------\r\n\r\n- If you wish to skip spring batch tables auto creation, overriding batch configuration would solve the issue.\r\n```\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @EnableBatchProcessing\r\n    public class BatchConfiguration extends DefaultBatchConfigurer {\r\n\r\n    @Override\r\n    public void setDataSource(DataSource dataSource) {}\r\n    }\r\n```\r\nelse such an exception could be encountered:\r\n\r\n    \r\n\r\n&gt; at java.lang.Thread.run(Thread.java:829) [?:?]Caused by:\r\n&gt; org.springframework.dao.CannotSerializeTransactionException:\r\n&gt; PreparedStatementCallback; SQL [INSERT into\r\n&gt; BATCH_JOB_INSTANCE(JOB_INSTANCE_ID, JOB_NAME, JOB_KEY, VERSION) values\r\n&gt; (?, ?, ?, ?)]; ORA-08177: can’t serialize access for this transaction\r\n&gt; ; nested exception is java.sql.SQLException: ORA-08177: can’t\r\n&gt; serialize access for this transaction\r\n\r\n------------------------------------------\r\n\r\nColumn Range partitioner can be created as:\r\n```\r\n@Component \r\npublic class ColumnRangePartitioner implements Partitioner { \r\nMap&lt;String,ExecutionContext&gt; result = new HashMap(); \r\n\r\n@Override \r\npublic Map&lt;String,ExecutionContext&gt; partition(int gridsize) {\r\n    Map&lt;String,ExecutionContext&gt; result = new HashMap&lt;&gt;(); \r\n     int start = 0; \r\n     while (start &lt; gridSize) { \r\n     ExecutionContext value = new ExecutionContext(); \r\n     result.put(&quot;partition : &quot; + start, value);\r\n     value.putInt(&quot;modulo&quot;, start); \r\n     start += 1;\r\n   }\r\n  return result;\r\n }\r\n}\r\n```\r\n - Setting up of job and step \r\n\r\n\r\n\r\nour job will be focusing on executing step1 — which will spawn threads based on the partitioner provided — here columnrange partitioner — to process the step.\r\n\r\nGrid size is the no of parallel threads ( modulo to be calculated of using ).\r\n\r\nEvery processStep step is a series of reading the data for that specific thread assigned modulo, processing it and then writing it.\r\n```\r\n@Bean\r\npublic ColumnRangePartitioner getParitioner () throws Exception {\r\n    ColumnRangePartitioner columnRangePartitioner = new ColumnRangePartitioner();\r\n    return columnRangePartitioner;\r\n}\r\n\r\n@Bean\r\npublic Step step1(@Qualifier(&quot;processStep&quot;) Step processStep, \r\n                StepBuilderFactory stepBuilderFactory) throws Exception {\r\nreturn stepBuilderFactory.get(&quot;step1&quot;)\r\n                         .listener(jobCompletionNotifier)\r\n                         .partitioner(processStep.getName(),getParitioner())\r\n                         .step(processStep)\r\n                         .gridSize(parallelThreads)\r\n                         .taskExecutor(taskExecutor())\r\n                         .build();\r\n}\r\n\r\n\r\n@Bean\r\npublic Step processStep(\r\n@Qualifier(&quot;DataReader&quot;) ItemReader&lt;ReadType&gt;  reader, \r\n@Qualifier(&quot;LogWRITE&quot;) ItemWriter&lt;WriterType&gt; writer, \r\nStepBuilderFactory stepBuilderFactory) throws Exception {\r\nreturn stepBuilderFactory.get(&quot;processStep&quot;)\r\n                        .&lt;ReadType,WriterType&gt; chunk(1)\r\n                        .reader(reader)\r\n                        .processor(processor())\r\n                        .writer (writer)\r\n                        .faultTolerant()\r\n                        .skip(Exception.class)\r\n                        .skipLimit(exceptionLimit)\r\n                        .build();\r\n \r\n}\r\n\r\n@Bean\r\npublic SimpleAsyncTaskExecutor taskExecutor() {\r\n    SimpleAsyncTaskExecutor asyncTaskExecutor = new SimpleAsyncTaskExecutor();\r\n    return asyncTaskExecutor;\r\n}\r\n\r\n\r\n\r\n@Bean\r\npublic Job our JOB (@Qualifier(&quot;step1&quot;) Step step1, JobBuilderFactory jobBuilderFactory) throws Exception {\r\nreturn jobBuilderFactory.get(&quot;ourjob&quot;)\r\n                        .start(step1)\r\n                        .incrementer(new RunIdIncrementer())\r\n                        .preventRestart()\r\n                        .build();   \r\n}\r\n\r\n\r\n```\r\nThis might be an usual spring batch solution but would be applicable to every migration requirement involving commonly used SQL DB/ java based solutions.\r\n\r\n------------------------------------------\r\n\r\n- We did add customizations to the application\r\n\r\nAvoid executing the join query again and then filtering. complex joins could impact database performance. Hence a better solution would be to fetch the data once and split it internally. Memory used by the application would be huge and the hashmap would be populated with all the data your query would fetch but java is capable of handling that. That fetched data could be passed to the ListItemReader to process list of data for that particular thread parallelly.\r\n\r\nFor processing parallel requests ( not threads but parallel api calls to this application ) modification can be made to process a certain query once only keeping a lock on it using a semaphore so that other threads are waiting on it. Once lock is release those waiting threads would find that data to be present and db will not be queries again.\r\n\r\nThe code would for the above impl would be complex for this blog scope. Feel free to ask if any use case is required by your application.\r\n\r\n------------------------------------------\r\n\r\nWould love to solve any issues regarding the same. Feel free to reach out to me(Akshay) at akshay.patell1702@gmail.com or my colleague(Sagar) at sagarnagdev61@gmail.com\r\n\r\n","title":"spring batch and Multi-threaded step","body":"<p>We had a similar use case where I had to start off with reading millions of records based on certain criteria as input from a rest endpoint and process it parallelly using 20-30 threads to meet extreme deadlines. But subsequent challenges were that same complex queries were made to database and then partitioned to be shared across generated threads.</p>\n<ul>\n<li>Better solution:\nWe solved it by reading the data once and then internally partition it and pass it to threads initiated.</li>\n</ul>\n<p>A typical batch process would have the objective -&gt; to read, make some http calls/ manipulate the data, and write it to a response log table.</p>\n<p>Spring batch provides the capability to keep track of the records processed so that a restart can be initiated to pick up the remaining lot to process. An alternative to this can be a flag in your master table to mark the record as processed so it need not be picked during restart.</p>\n<p>Multiple challenges faced were :</p>\n<ul>\n<li>support of joins in the query reader</li>\n<li>partitioning of data.</li>\n<li>same record being processed again</li>\n</ul>\n<hr />\n<ul>\n<li>Coming to multi processing -&gt;</li>\n</ul>\n<p>Lets say you have 10000 records and you need to process 5 records parallelly.</p>\n<p>Multiple creative solutions can be implemented but the two most often used that fit all use cases would be</p>\n<ul>\n<li>partitioning data on no of records.</li>\n<li>partitioning data on the mod of value of index data if numeric.</li>\n</ul>\n<p>Considering the memory the machine will be able to serve, a suitable number of threads can be selected. Eg 5. =&gt; 10000/5 =&gt; each thread would process 2000 records.</p>\n<p>Partitioning is a processing to split the ranges and allowing each step execution process to pick it in its own thread and run it. For the above step we will need to split those ranges and pass it while query execution to make it fetch records for the range and continue the process in a separate thread.</p>\n<ul>\n<li><p>Thread 0 : 1–2000</p>\n</li>\n<li><p>Thread 1 : 2001–4000</p>\n</li>\n<li><p>Thread 2 : 4001–6000</p>\n</li>\n<li><p>Thread 3 : 6001–8000</p>\n</li>\n<li><p>Thread 4 : 8001–10000</p>\n</li>\n</ul>\n<p>Another logic for partitioning would be assigning the threads 0 to 4 and query basis the modulo of the number. But one drawback of this could be that one particular range would receive more load compared to others whereas the previous approach would ensure that everyone gets a fair share.</p>\n<p>The split data is passed on to the separate thread which will start processing it and write data at the commit interval ( chunk size ) mentioned in the step.</p>\n<hr />\n<p>Code :</p>\n<ul>\n<li>READER</li>\n</ul>\n<pre><code>@Bean\n@StepScope\npublic JdbcPagingItemReader&lt;YourDataType&gt; dataReaders(\n    @Value(&quot;#{jobParameters[param1]}&quot;) final String param1, \n    @Value(&quot;#{stepExecutionContext['modulo']}&quot;) Long modulo) throws Exception {\n    logger.info(&quot;Thread started reading for modulo index : &quot; + modulo);\n    JdbcPagingItemReader&lt;YourDataType&gt; reader = new JdbcPagingItemReader &lt;&gt; ();\n    reader.setDataSource(getDataSource());\n    reader.setRowMapper(new YourDataTypeRowMapper());\n    reader.setQueryProvider(queryProvider(param1, modulo));\n    return reader;\n\npublic OraclePagingQueryProvider queryProvider(String param1, Long modulo) throws Exception {\n    OraclePagingQueryProvider provider = new OraclePagingQueryProvider();\n    provider.setSelectclause(&quot;your elements to query&quot;);\n    provider.setFromClause(&quot;your tables/ joined tables&quot;);\n    provider.setWhereclause(&quot;where clauses AND MOD (TO_NUMBER(yourkey) = &quot; + modulo);\n    Map&lt;String,Order&gt; sortkeys = new HashMap&lt;&gt;();\n    sortKeys.put(&quot;yoursortkey&quot;, Order.ASCENDING);\n    provider.setSortKeys(sortKeys);\n    return provider;\n}\n</code></pre>\n<p>Sample data reader -&gt; param1 is any parameter that user would want to input. modulo is a step execution parameter — passed from the Partitioner object.</p>\n<p>Paritioner object if to be used for modulo 5 would have modulo 0|1|2|3|4 and this would spawn 5 threads which would interact with the reader and fetch data for the divided sets.</p>\n<hr />\n<ul>\n<li>WRITER</li>\n</ul>\n<pre><code>@Bean\npublic JdbcbatchItemWriter&lt;YourDataType&gt; dataWriter() throws Exception {\n    logger.info(&quot;Initializing data writer&quot;); \n    JdbcBatchItemWriter&lt;YourDataType&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;(); \n    databaseItemWriter.setDataSource(injectyourdatasourcehere); \n    databaseItemWriter.setsql(INSERT_QUERY_HERE); \n    ItemPreparedStatementsetter&lt;RespData&gt; ps = new YourResponsePreparedStatement(); \n    databaseItemWriter.setItemPreparedStatementsetter(ps); \n    return databaseItemWriter;\n}\n\npublic class Your ResponsePreparedStatement implements ItemPreparedStatementSetter&lt;RespData&gt; {\n    public void setValues (RespData respData, PreparedStatement preparedStatement)throws SQLException {\n        preparedStatement.setString(1, respData.getYourData());\n    }\n}\n</code></pre>\n<p>Response Writer to log response to any table to keep tab of the processed data for analytics or business reporting.</p>\n<hr />\n<ul>\n<li>PROCESSOR</li>\n</ul>\n<pre><code>@Bean \npublic ItemProcessor&lt;YourDataType,RespData&gt; processor() {\n\n   return new YOURProcessor();\n\n}\n</code></pre>\n<p>Processor where the core logic for the data manipulation would be written. Response returned is of the type which is expected by the Data writer.</p>\n<hr />\n<ul>\n<li>If you wish to skip spring batch tables auto creation, overriding batch configuration would solve the issue.</li>\n</ul>\n<pre><code>    @Configuration\n    @EnableAutoConfiguration\n    @EnableBatchProcessing\n    public class BatchConfiguration extends DefaultBatchConfigurer {\n\n    @Override\n    public void setDataSource(DataSource dataSource) {}\n    }\n</code></pre>\n<p>else such an exception could be encountered:</p>\n<blockquote>\n<p>at java.lang.Thread.run(Thread.java:829) [?:?]Caused by:\norg.springframework.dao.CannotSerializeTransactionException:\nPreparedStatementCallback; SQL [INSERT into\nBATCH_JOB_INSTANCE(JOB_INSTANCE_ID, JOB_NAME, JOB_KEY, VERSION) values\n(?, ?, ?, ?)]; ORA-08177: can’t serialize access for this transaction\n; nested exception is java.sql.SQLException: ORA-08177: can’t\nserialize access for this transaction</p>\n</blockquote>\n<hr />\n<p>Column Range partitioner can be created as:</p>\n<pre><code>@Component \npublic class ColumnRangePartitioner implements Partitioner { \nMap&lt;String,ExecutionContext&gt; result = new HashMap(); \n\n@Override \npublic Map&lt;String,ExecutionContext&gt; partition(int gridsize) {\n    Map&lt;String,ExecutionContext&gt; result = new HashMap&lt;&gt;(); \n     int start = 0; \n     while (start &lt; gridSize) { \n     ExecutionContext value = new ExecutionContext(); \n     result.put(&quot;partition : &quot; + start, value);\n     value.putInt(&quot;modulo&quot;, start); \n     start += 1;\n   }\n  return result;\n }\n}\n</code></pre>\n<ul>\n<li>Setting up of job and step</li>\n</ul>\n<p>our job will be focusing on executing step1 — which will spawn threads based on the partitioner provided — here columnrange partitioner — to process the step.</p>\n<p>Grid size is the no of parallel threads ( modulo to be calculated of using ).</p>\n<p>Every processStep step is a series of reading the data for that specific thread assigned modulo, processing it and then writing it.</p>\n<pre><code>@Bean\npublic ColumnRangePartitioner getParitioner () throws Exception {\n    ColumnRangePartitioner columnRangePartitioner = new ColumnRangePartitioner();\n    return columnRangePartitioner;\n}\n\n@Bean\npublic Step step1(@Qualifier(&quot;processStep&quot;) Step processStep, \n                StepBuilderFactory stepBuilderFactory) throws Exception {\nreturn stepBuilderFactory.get(&quot;step1&quot;)\n                         .listener(jobCompletionNotifier)\n                         .partitioner(processStep.getName(),getParitioner())\n                         .step(processStep)\n                         .gridSize(parallelThreads)\n                         .taskExecutor(taskExecutor())\n                         .build();\n}\n\n\n@Bean\npublic Step processStep(\n@Qualifier(&quot;DataReader&quot;) ItemReader&lt;ReadType&gt;  reader, \n@Qualifier(&quot;LogWRITE&quot;) ItemWriter&lt;WriterType&gt; writer, \nStepBuilderFactory stepBuilderFactory) throws Exception {\nreturn stepBuilderFactory.get(&quot;processStep&quot;)\n                        .&lt;ReadType,WriterType&gt; chunk(1)\n                        .reader(reader)\n                        .processor(processor())\n                        .writer (writer)\n                        .faultTolerant()\n                        .skip(Exception.class)\n                        .skipLimit(exceptionLimit)\n                        .build();\n \n}\n\n@Bean\npublic SimpleAsyncTaskExecutor taskExecutor() {\n    SimpleAsyncTaskExecutor asyncTaskExecutor = new SimpleAsyncTaskExecutor();\n    return asyncTaskExecutor;\n}\n\n\n\n@Bean\npublic Job our JOB (@Qualifier(&quot;step1&quot;) Step step1, JobBuilderFactory jobBuilderFactory) throws Exception {\nreturn jobBuilderFactory.get(&quot;ourjob&quot;)\n                        .start(step1)\n                        .incrementer(new RunIdIncrementer())\n                        .preventRestart()\n                        .build();   \n}\n\n\n</code></pre>\n<p>This might be an usual spring batch solution but would be applicable to every migration requirement involving commonly used SQL DB/ java based solutions.</p>\n<hr />\n<ul>\n<li>We did add customizations to the application</li>\n</ul>\n<p>Avoid executing the join query again and then filtering. complex joins could impact database performance. Hence a better solution would be to fetch the data once and split it internally. Memory used by the application would be huge and the hashmap would be populated with all the data your query would fetch but java is capable of handling that. That fetched data could be passed to the ListItemReader to process list of data for that particular thread parallelly.</p>\n<p>For processing parallel requests ( not threads but parallel api calls to this application ) modification can be made to process a certain query once only keeping a lock on it using a semaphore so that other threads are waiting on it. Once lock is release those waiting threads would find that data to be present and db will not be queries again.</p>\n<p>The code would for the above impl would be complex for this blog scope. Feel free to ask if any use case is required by your application.</p>\n<hr />\n<p>Would love to solve any issues regarding the same. Feel free to reach out to me(Akshay) at akshay.patell1702@gmail.com or my colleague(Sagar) at sagarnagdev61@gmail.com</p>\n"}],"owner":{"account_id":13485851,"reputation":1,"user_id":9729683,"display_name":"bridgeis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666942075,"creation_date":1661096309,"question_id":73435875,"body_markdown":"I am currently working on a Batch that consumes data from a large SQL database with millions of rows.\r\n\r\nIt does some processing in the processor that consists of grouping rows retrieved from the Reader via a large sql query with joins.\r\n\r\nAnd the Writer writes the result to another table.\r\n\r\nThe problem is that this Batch has performance problems, because the Sql selection queries take a lot of time and the steps are not executed in multithreading.\r\n\r\n\r\nSo I&#39;d like to run them in multitheading but the problem is that the steps group the rows by calculating a total amount of all the rows with the same types for example.\r\n\r\n\r\nSo if I put it in multitheading how can I do that when each partition is going to be processed in a different thread knowing that it&#39;s millions of rows that I can&#39;t store in the context to retrieve them after the step and do the grouping.\r\nand I can&#39;t save them in the database either since it&#39;s millions of rows \r\nDo you have any idea how I can do this?\r\nI hope I was able to explain my problem well.\r\nAnd thanks in advance for your help\r\n\r\n","title":"spring batch and Multi-threaded step","body":"<p>I am currently working on a Batch that consumes data from a large SQL database with millions of rows.</p>\n<p>It does some processing in the processor that consists of grouping rows retrieved from the Reader via a large sql query with joins.</p>\n<p>And the Writer writes the result to another table.</p>\n<p>The problem is that this Batch has performance problems, because the Sql selection queries take a lot of time and the steps are not executed in multithreading.</p>\n<p>So I'd like to run them in multitheading but the problem is that the steps group the rows by calculating a total amount of all the rows with the same types for example.</p>\n<p>So if I put it in multitheading how can I do that when each partition is going to be processed in a different thread knowing that it's millions of rows that I can't store in the context to retrieve them after the step and do the grouping.\nand I can't save them in the database either since it's millions of rows\nDo you have any idea how I can do this?\nI hope I was able to explain my problem well.\nAnd thanks in advance for your help</p>\n"},{"tags":["java","visual-studio-code","formatting"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1666339923,"post_id":74141710,"comment_id":130918297,"body_markdown":"What formatting did you modify? What special settings have you made? Please provide more details.","body":"What formatting did you modify? What special settings have you made? Please provide more details."},{"owner":{"account_id":9882868,"reputation":529,"user_id":7318386,"display_name":"Vlad"},"score":0,"creation_date":1666421037,"post_id":74141710,"comment_id":130937360,"body_markdown":"I have changed everything from &quot;do not insert&quot; to &quot;insert&quot; just to check if anything changes, but nothing happens no matter what I change","body":"I have changed everything from &quot;do not insert&quot; to &quot;insert&quot; just to check if anything changes, but nothing happens no matter what I change"}],"answers":[{"tags":[],"owner":{"account_id":23243918,"reputation":56,"user_id":17332762,"display_name":"Shi Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666941995,"creation_date":1666941995,"answer_id":74231912,"question_id":74141710,"body_markdown":"It seems that double backward slash `\\\\` should be used as the windows path splitor. So your setting should be `D:\\\\Others\\\\formatter.xml`. \r\n\r\nBesides, the path which is relatd to the workspace folder is supported, e.g., `.vscode\\\\formatter.xml` points to profile `formatter.xml` in `.vscode` folder from workspace folder. No need to use URI format.\r\n\r\nI suggest to use command `Java: Open Java Formatter Settings` to automatically generate a formatting profile for you. After that, you can find it in workspace (if exists) settings.json. If you want to custom formatter rules, just to replace the content in that file.","title":"VS Code ignores Java formatter XML file","body":"<p>It seems that double backward slash <code>\\\\</code> should be used as the windows path splitor. So your setting should be <code>D:\\\\Others\\\\formatter.xml</code>.</p>\n<p>Besides, the path which is relatd to the workspace folder is supported, e.g., <code>.vscode\\\\formatter.xml</code> points to profile <code>formatter.xml</code> in <code>.vscode</code> folder from workspace folder. No need to use URI format.</p>\n<p>I suggest to use command <code>Java: Open Java Formatter Settings</code> to automatically generate a formatting profile for you. After that, you can find it in workspace (if exists) settings.json. If you want to custom formatter rules, just to replace the content in that file.</p>\n"}],"owner":{"account_id":9882868,"reputation":529,"user_id":7318386,"display_name":"Vlad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1666941995,"creation_date":1666276558,"question_id":74141710,"body_markdown":"I&#39;m trying to get the VS Code Redhat Java formatter (from the &quot;Language Support for Java(TM) by Red Hat&quot; extension) to work with a custom .xml, but nothing seems to work. I&#39;ve tried:\r\n\r\n - setting &quot;java.format.settings.url&quot;: &quot;D:\\\\Others\\\\formatter.xml&quot; in the workspace (.vscode) settings.json file\r\n- setting it in the global settings JSON\r\n- restarting VS Code and reloading the window\r\n- placing the file in %APPDATA%\\Roaming\\Code\\User and using a relative path in &quot;java.format.settings.url&quot;\r\n- placing the file locally in .vscode\r\n- used &quot;file:&quot; when specifying the path\r\n\r\nThe formatting is always the same, regardless of the settings in the XML file. The base XML file is the one mentioned here: https://code.visualstudio.com/docs/java/java-linting. Am I missing something?","title":"VS Code ignores Java formatter XML file","body":"<p>I'm trying to get the VS Code Redhat Java formatter (from the &quot;Language Support for Java(TM) by Red Hat&quot; extension) to work with a custom .xml, but nothing seems to work. I've tried:</p>\n<ul>\n<li>setting &quot;java.format.settings.url&quot;: &quot;D:\\Others\\formatter.xml&quot; in the workspace (.vscode) settings.json file</li>\n<li>setting it in the global settings JSON</li>\n<li>restarting VS Code and reloading the window</li>\n<li>placing the file in %APPDATA%\\Roaming\\Code\\User and using a relative path in &quot;java.format.settings.url&quot;</li>\n<li>placing the file locally in .vscode</li>\n<li>used &quot;file:&quot; when specifying the path</li>\n</ul>\n<p>The formatting is always the same, regardless of the settings in the XML file. The base XML file is the one mentioned here: <a href=\"https://code.visualstudio.com/docs/java/java-linting\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-linting</a>. Am I missing something?</p>\n"},{"tags":["java","aem","apache-felix","sling"],"answers":[{"tags":[],"owner":{"account_id":1238064,"reputation":9263,"user_id":1201244,"display_name":"rakhi4110"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1615435618,"creation_date":1615345865,"answer_id":66557815,"question_id":66556618,"body_markdown":"The scr annotations are deprecated in AEM and it is recommended to use the official OSGi Declarative Services annotations going forward. There is a [seminar by Adobe][1] on using the OSGi R7 annotations.\r\n\r\nThe new way of writing the same would be\r\n\r\n\r\n    import org.osgi.service.component.annotations.Component;\r\n    import org.apache.sling.event.jobs.Job;\r\n    import org.apache.sling.event.jobs.consumer.JobConsumer;\r\n\r\n    @Component(\r\n        immediate = true,\r\n        service = JobConsumer.class,\r\n        property = {\r\n            JobConsumer.PROPERTY_TOPICS +&quot;=my/special/jobtopic&quot;\r\n        }\r\n    )\r\n    public class MyJobConsumer implements JobConsumer {\r\n    \r\n        public JobResult process(final Job job) {\r\n            // process the job and return the result\r\n            return JobResult.OK;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://helpx.adobe.com/experience-manager/kt/eseminars/gems/Using-OSGi-R7-in-AEM.html","title":"How to create JobConsumer in Sling?","body":"<p>The scr annotations are deprecated in AEM and it is recommended to use the official OSGi Declarative Services annotations going forward. There is a <a href=\"https://helpx.adobe.com/experience-manager/kt/eseminars/gems/Using-OSGi-R7-in-AEM.html\" rel=\"nofollow noreferrer\">seminar by Adobe</a> on using the OSGi R7 annotations.</p>\n<p>The new way of writing the same would be</p>\n<pre><code>import org.osgi.service.component.annotations.Component;\nimport org.apache.sling.event.jobs.Job;\nimport org.apache.sling.event.jobs.consumer.JobConsumer;\n\n@Component(\n    immediate = true,\n    service = JobConsumer.class,\n    property = {\n        JobConsumer.PROPERTY_TOPICS +&quot;=my/special/jobtopic&quot;\n    }\n)\npublic class MyJobConsumer implements JobConsumer {\n\n    public JobResult process(final Job job) {\n        // process the job and return the result\n        return JobResult.OK;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11849278,"reputation":58,"user_id":8671041,"display_name":"veena vikraman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666941714,"creation_date":1666941714,"answer_id":74231866,"question_id":66556618,"body_markdown":"You can refer to the below blog. I have tried to explain it here.\r\n\r\nhttps://www.linkedin.com/pulse/aem-how-write-sling-jobs-aem-veena-vikraman","title":"How to create JobConsumer in Sling?","body":"<p>You can refer to the below blog. I have tried to explain it here.</p>\n<p><a href=\"https://www.linkedin.com/pulse/aem-how-write-sling-jobs-aem-veena-vikraman\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/aem-how-write-sling-jobs-aem-veena-vikraman</a></p>\n"}],"owner":{"account_id":17966389,"reputation":163,"user_id":13056188,"display_name":"watopin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66557815,"answer_count":2,"score":1,"last_activity_date":1666941714,"creation_date":1615335561,"question_id":66556618,"body_markdown":"According to Apache Sling official site(https://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html#job-consumers), this is the way to write JobConsumer.\r\n\r\n```\r\nimport org.apache.felix.scr.annotations.Component;\r\nimport org.apache.felix.scr.annotations.Service;\r\nimport org.apache.sling.event.jobs.Job;\r\nimport org.apache.sling.event.jobs.consumer.JobConsumer;\r\n\r\n@Component\r\n@Service(value={JobConsumer.class})\r\n@Property(name=JobConsumer.PROPERTY_TOPICS, value=&quot;my/special/jobtopic&quot;,)\r\npublic class MyJobConsumer implements JobConsumer {\r\n\r\n    public JobResult process(final Job job) {\r\n        // process the job and return the result\r\n        return JobResult.OK;\r\n    }\r\n}\r\n```\r\n\r\nHowever @Service and @Property are both deprecated annotations.\r\nI want to know the proper way to create JobConsumer.\r\nDoes anyone know how to write a code equivalent to the above?","title":"How to create JobConsumer in Sling?","body":"<p>According to Apache Sling official site(<a href=\"https://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html#job-consumers\" rel=\"nofollow noreferrer\">https://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html#job-consumers</a>), this is the way to write JobConsumer.</p>\n<pre><code>import org.apache.felix.scr.annotations.Component;\nimport org.apache.felix.scr.annotations.Service;\nimport org.apache.sling.event.jobs.Job;\nimport org.apache.sling.event.jobs.consumer.JobConsumer;\n\n@Component\n@Service(value={JobConsumer.class})\n@Property(name=JobConsumer.PROPERTY_TOPICS, value=&quot;my/special/jobtopic&quot;,)\npublic class MyJobConsumer implements JobConsumer {\n\n    public JobResult process(final Job job) {\n        // process the job and return the result\n        return JobResult.OK;\n    }\n}\n</code></pre>\n<p>However @Service and @Property are both deprecated annotations.\nI want to know the proper way to create JobConsumer.\nDoes anyone know how to write a code equivalent to the above?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":15448309,"reputation":36,"user_id":11144554,"display_name":"Masoud Sarabadani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666941609,"creation_date":1666941609,"answer_id":74231852,"question_id":74231607,"body_markdown":"your code is correct but your logic is not.\r\nyou have to navigate your user to an auth fragment in both cases.\r\n\r\nand then if the user is logged in you can navigate him/her to his own home fragment or where ever u want, but if he/she is not logged it you can notify him/her","title":"How to execute PendingIntent manually?","body":"<p>your code is correct but your logic is not.\nyou have to navigate your user to an auth fragment in both cases.</p>\n<p>and then if the user is logged in you can navigate him/her to his own home fragment or where ever u want, but if he/she is not logged it you can notify him/her</p>\n"}],"owner":{"account_id":22284115,"reputation":53,"user_id":16512061,"display_name":"farfalletonde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666941609,"creation_date":1666939939,"question_id":74231607,"body_markdown":"I show a notification and user navigates to a certain fragment when clicked on that notification.\r\n\r\n```\r\nfun showNotification() {\r\n    val pendingIntent = NavDeepLinkBuilder(this)\r\n        .setGraph(R.navigation.nav_graph)\r\n        .setDestination(R.id.fragment)\r\n        .createPendingIntent()\r\n    ...\r\n}\r\n```\r\nIt does navigate correctly. However before navigating, I also want to check whether the user is logged in or not. The problem is that I can&#39;t check it because pendingIntent gets triggered as soon as I click on the notification. Is there a way for me to control before it gets executed?\r\n\r\nI want something like this\r\n\r\n\r\n```\r\nif (isLoggedIn) pendingIntent.execute()\r\nelse navigateToLoginPage()\r\n```\r\n\r\n\r\nI tried overriding onNewIntent function however it didn&#39;t trigger at all.","title":"How to execute PendingIntent manually?","body":"<p>I show a notification and user navigates to a certain fragment when clicked on that notification.</p>\n<pre><code>fun showNotification() {\n    val pendingIntent = NavDeepLinkBuilder(this)\n        .setGraph(R.navigation.nav_graph)\n        .setDestination(R.id.fragment)\n        .createPendingIntent()\n    ...\n}\n</code></pre>\n<p>It does navigate correctly. However before navigating, I also want to check whether the user is logged in or not. The problem is that I can't check it because pendingIntent gets triggered as soon as I click on the notification. Is there a way for me to control before it gets executed?</p>\n<p>I want something like this</p>\n<pre><code>if (isLoggedIn) pendingIntent.execute()\nelse navigateToLoginPage()\n</code></pre>\n<p>I tried overriding onNewIntent function however it didn't trigger at all.</p>\n"},{"tags":["java","spring","lombok","inject"],"answers":[{"tags":[],"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1567776355,"creation_date":1567776355,"answer_id":57822928,"question_id":57822861,"body_markdown":"The second one will put the annotations you mention on the generated constructor.\r\n\r\nFor example, this: `@RequiredArgsConstructor(onConstructor = @__(@Inject))`\r\nwill generate a constructor annotated with `@Inject`","title":"What is the difference between @RequiredArgsConstructor(onConstructor = @__(@Inject)) and @RequiredArgsConstructor?","body":"<p>The second one will put the annotations you mention on the generated constructor.</p>\n\n<p>For example, this: <code>@RequiredArgsConstructor(onConstructor = @__(@Inject))</code>\nwill generate a constructor annotated with <code>@Inject</code></p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1666941584,"creation_date":1567776391,"answer_id":57822939,"question_id":57822861,"body_markdown":"    @RequiredArgsConstructor\r\n    class MyClass {\r\n      private final DependencyA a;\r\n      private final DependencyB b;\r\n    }\r\n\r\nwill generate \r\n\r\n    public MyClass(DependencyA a, DependencyB b) {\r\n      this.a = a;\r\n      this.b = b;\r\n    }\r\n\r\nwhile \r\n\r\n    @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n    class MyClass {\r\n      private final DependencyA a;\r\n      private final DependencyB b;\r\n    }\r\n\r\nwill generate\r\n\r\n    @Inject\r\n    public MyClass(DependencyA a, DependencyB b) {\r\n      this.a = a;\r\n      this.b = b;\r\n    }\r\n\r\nFrom JDK 8 onwards, the syntax `@RequiredArgsConstructor(onConstructor_ = {@Inject})` is also accepted.\r\n\r\n&gt; I know `RequiredArgsConstructor` injects all the final dependencies.\r\n\r\nAll *required* dependencies which consists of `final` and `@NonNull` fields.","title":"What is the difference between @RequiredArgsConstructor(onConstructor = @__(@Inject)) and @RequiredArgsConstructor?","body":"<pre><code>@RequiredArgsConstructor\nclass MyClass {\n  private final DependencyA a;\n  private final DependencyB b;\n}\n</code></pre>\n<p>will generate</p>\n<pre><code>public MyClass(DependencyA a, DependencyB b) {\n  this.a = a;\n  this.b = b;\n}\n</code></pre>\n<p>while</p>\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\nclass MyClass {\n  private final DependencyA a;\n  private final DependencyB b;\n}\n</code></pre>\n<p>will generate</p>\n<pre><code>@Inject\npublic MyClass(DependencyA a, DependencyB b) {\n  this.a = a;\n  this.b = b;\n}\n</code></pre>\n<p>From JDK 8 onwards, the syntax <code>@RequiredArgsConstructor(onConstructor_ = {@Inject})</code> is also accepted.</p>\n<blockquote>\n<p>I know <code>RequiredArgsConstructor</code> injects all the final dependencies.</p>\n</blockquote>\n<p>All <em>required</em> dependencies which consists of <code>final</code> and <code>@NonNull</code> fields.</p>\n"},{"tags":[],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625738638,"creation_date":1599671348,"answer_id":63816369,"question_id":57822861,"body_markdown":"I will explain those annotations with simple examples\r\n\r\n**when to use @RequiredArgsConstructor**\r\n\r\n*vanilla java*\r\n\r\n    public class Item {\r\n        private final String price;\r\n        public Item(String price) {\r\n            this.price=price;\r\n        }\r\n    }\r\n\r\nIf you have a field or fields which is final (not null) then go with @RequiredArgsConstructor\r\n\r\n*lombok java*\r\n\r\n    @RequiredArgsConstructor\r\n    public class Item {\r\n        private final String price;\r\n    }\r\n\r\n**when to use @RequiredArgsConstructor(onConstructor = @__(@Inject))**\r\n\r\n*vanilla java*\r\n\r\n    public class Item {\r\n        private final Shop shop;\r\n        public Item(Shop shop) {\r\n            this.shop=shop;\r\n        }\r\n    }\r\n\r\nIf you have a field with your own type and bean instance is created in the configuration class. Then you can inject that bean instance to the shop filed of Item class using constructor injection with the help of  @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n\r\nBut my recommendation is don&#39;t use  @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\nwhen you are working with Spring. you can overcome it in 2 ways.\r\n\r\n1.Using @Autowired Annotation\r\n\r\n    public class Item {\r\n        private final Shop shop;\r\n        @Autowired\r\n        public Item(Shop shop) {\r\n            this.shop=shop;\r\n        }\r\n    }\r\n\r\n2.Using @AllArgsConstructor Annotation\r\n\r\n    @AllArgsConstructor\r\n    public class Item {\r\n        private final Shop shop;\r\n    }\r\n\r\n \r\n\r\nI will add an extra point for someone&#39;s assist \r\n\r\n**when to use @AllArgsConstructor**\r\n\r\n*vanilla java*\r\n\r\n    public class Item {\r\n        private String price;\r\n        public Item(String price) {\r\n            this.price=price;\r\n        }\r\n    }\r\n\r\nif you have a field or Fields which is not final (nullable) then go with @AllArgsConstructor.\r\n\r\n*lombok java*\r\n\r\n    @AllArgsConstructor\r\n    public class Item {\r\n        private String price;\r\n    }\r\n\r\n**Note**\r\n\r\n**@AllArgsConstructor** can be used with both final and non-final fields.\r\n \r\n**@RequiredArgsConstructor** can not be used with the non-final field.\r\n","title":"What is the difference between @RequiredArgsConstructor(onConstructor = @__(@Inject)) and @RequiredArgsConstructor?","body":"<p>I will explain those annotations with simple examples</p>\n<p><strong>when to use @RequiredArgsConstructor</strong></p>\n<p><em>vanilla java</em></p>\n<pre><code>public class Item {\n    private final String price;\n    public Item(String price) {\n        this.price=price;\n    }\n}\n</code></pre>\n<p>If you have a field or fields which is final (not null) then go with @RequiredArgsConstructor</p>\n<p><em>lombok java</em></p>\n<pre><code>@RequiredArgsConstructor\npublic class Item {\n    private final String price;\n}\n</code></pre>\n<p><strong>when to use @RequiredArgsConstructor(onConstructor = @__(@Inject))</strong></p>\n<p><em>vanilla java</em></p>\n<pre><code>public class Item {\n    private final Shop shop;\n    public Item(Shop shop) {\n        this.shop=shop;\n    }\n}\n</code></pre>\n<p>If you have a field with your own type and bean instance is created in the configuration class. Then you can inject that bean instance to the shop filed of Item class using constructor injection with the help of  @RequiredArgsConstructor(onConstructor = @__(@Inject))</p>\n<p>But my recommendation is don't use  @RequiredArgsConstructor(onConstructor = @__(@Inject))\nwhen you are working with Spring. you can overcome it in 2 ways.</p>\n<p>1.Using @Autowired Annotation</p>\n<pre><code>public class Item {\n    private final Shop shop;\n    @Autowired\n    public Item(Shop shop) {\n        this.shop=shop;\n    }\n}\n</code></pre>\n<p>2.Using @AllArgsConstructor Annotation</p>\n<pre><code>@AllArgsConstructor\npublic class Item {\n    private final Shop shop;\n}\n</code></pre>\n<p>I will add an extra point for someone's assist</p>\n<p><strong>when to use @AllArgsConstructor</strong></p>\n<p><em>vanilla java</em></p>\n<pre><code>public class Item {\n    private String price;\n    public Item(String price) {\n        this.price=price;\n    }\n}\n</code></pre>\n<p>if you have a field or Fields which is not final (nullable) then go with @AllArgsConstructor.</p>\n<p><em>lombok java</em></p>\n<pre><code>@AllArgsConstructor\npublic class Item {\n    private String price;\n}\n</code></pre>\n<p><strong>Note</strong></p>\n<p><strong>@AllArgsConstructor</strong> can be used with both final and non-final fields.</p>\n<p><strong>@RequiredArgsConstructor</strong> can not be used with the non-final field.</p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1609754445,"creation_date":1600042670,"answer_id":63876726,"question_id":57822861,"body_markdown":"The answers given have explained clearly what is the difference as asked by the OP. But i also feel that knowing **why you would need** `@RequiredArgsConstructor(onConstructor = @__(@Inject))` instead of `@RequiredArgsConstructor`? is also important. If you are interested, read on...\r\n\r\nIn short, when Spring construct your beans (the classes annotated with @Component or related @Controller, @Service, @Repository - they all have @Component + extra functionality), Spring will need to look at the class constructor, to construct it. If you have only 1 constructor in your class, fine, no confusion, you only need `@RequiredArgsConstructor`.\r\n\r\nWhat if you have 2 or more constructors? Which one does Spring use to construct your bean? Enter [Lombok&#39;s](https://projectlombok.org/features/constructor) `@RequiredArgsConstructor(onConstructor = @__(@Inject))` or **the more popular** `@RequiredArgsConstructor(onConstructor = @__(@Autowired))`. As the annotation&#39;s attribute *says*, it puts **@Autowired** **on** *the* **constructor** to tell Spring to use that constructor at construction time.\r\n\r\nThat&#39;s it!&lt;br&gt;&lt;br&gt;\r\nP.S I recommend [this article](https://www.baeldung.com/spring-injection-lombok) if you want to read more about it.","title":"What is the difference between @RequiredArgsConstructor(onConstructor = @__(@Inject)) and @RequiredArgsConstructor?","body":"<p>The answers given have explained clearly what is the difference as asked by the OP. But i also feel that knowing <strong>why you would need</strong> <code>@RequiredArgsConstructor(onConstructor = @__(@Inject))</code> instead of <code>@RequiredArgsConstructor</code>? is also important. If you are interested, read on...</p>\n<p>In short, when Spring construct your beans (the classes annotated with @Component or related @Controller, @Service, @Repository - they all have @Component + extra functionality), Spring will need to look at the class constructor, to construct it. If you have only 1 constructor in your class, fine, no confusion, you only need <code>@RequiredArgsConstructor</code>.</p>\n<p>What if you have 2 or more constructors? Which one does Spring use to construct your bean? Enter <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">Lombok's</a> <code>@RequiredArgsConstructor(onConstructor = @__(@Inject))</code> or <strong>the more popular</strong> <code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))</code>. As the annotation's attribute <em>says</em>, it puts <strong>@Autowired</strong> <strong>on</strong> <em>the</em> <strong>constructor</strong> to tell Spring to use that constructor at construction time.</p>\n<p>That's it!<br><br>\nP.S I recommend <a href=\"https://www.baeldung.com/spring-injection-lombok\" rel=\"nofollow noreferrer\">this article</a> if you want to read more about it.</p>\n"}],"owner":{"account_id":12232105,"reputation":410,"user_id":8927753,"display_name":"rishabhjainps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28902,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":57822939,"answer_count":4,"score":16,"last_activity_date":1666941584,"creation_date":1567776083,"question_id":57822861,"body_markdown":"What is the difference between Lombok&#39;s \r\n\r\n    @RequiredArgsConstructor \r\n\r\nand \r\n\r\n    @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n\r\n\r\nI know that `RequiredArgsConstructor` injects all the final dependencies in constructor only.","title":"What is the difference between @RequiredArgsConstructor(onConstructor = @__(@Inject)) and @RequiredArgsConstructor?","body":"<p>What is the difference between Lombok's </p>\n\n<pre><code>@RequiredArgsConstructor \n</code></pre>\n\n<p>and </p>\n\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\n</code></pre>\n\n<p>I know that <code>RequiredArgsConstructor</code> injects all the final dependencies in constructor only.</p>\n"},{"tags":["java","logging","java-8","log4j"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1627078462,"post_id":68505415,"comment_id":121070011,"body_markdown":"Have the build server save the info to a property file which goes in the artifact.  Read file at runtime. Log as needed.  You most likely really need the git commit hash","body":"Have the build server save the info to a property file which goes in the artifact.  Read file at runtime. Log as needed.  You most likely really need the git commit hash"}],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627078484,"creation_date":1627078484,"answer_id":68505498,"question_id":68505415,"body_markdown":"You can do it with [lookups][1]. You could store the build date with something like the following:\r\n\r\n```java \r\norg.apache.logging.log4j.ThreadContext.put(&quot;buildDate&quot;, &quot;01/01/1970&quot;);\r\n```\r\n\r\nThen use it in your log4j configuration with something like this:\r\n\r\n```XML \r\n&lt;File name=&quot;Application&quot; fileName=&quot;application.log&quot;&gt;\r\n  &lt;PatternLayout&gt;\r\n    &lt;pattern&gt;%d %p %c{1.} [%t] $${ctx:buildDate} %m%n&lt;/pattern&gt;\r\n  &lt;/PatternLayout&gt;\r\n&lt;/File&gt;\r\n```\r\n\r\nSame with the version. In my example I have hardcoded the value for the date, but you could retrieve it from a config file or an environment variable, etc.\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/lookups.html","title":"can we include build date and version in log4j info","body":"<p>You can do it with <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">lookups</a>. You could store the build date with something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.apache.logging.log4j.ThreadContext.put(&quot;buildDate&quot;, &quot;01/01/1970&quot;);\n</code></pre>\n<p>Then use it in your log4j configuration with something like this:</p>\n<pre><code>&lt;File name=&quot;Application&quot; fileName=&quot;application.log&quot;&gt;\n  &lt;PatternLayout&gt;\n    &lt;pattern&gt;%d %p %c{1.} [%t] $${ctx:buildDate} %m%n&lt;/pattern&gt;\n  &lt;/PatternLayout&gt;\n&lt;/File&gt;\n</code></pre>\n<p>Same with the version. In my example I have hardcoded the value for the date, but you could retrieve it from a config file or an environment variable, etc.</p>\n"},{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627158110,"creation_date":1627158110,"answer_id":68513560,"question_id":68505415,"body_markdown":"You can include the build date and version in your log statements.\r\n\r\nFor achieving this you have use two things\r\n\r\n 1. Get the build date and version dynamically or from a file\r\n 2. Update the logging pattern \r\n\r\nBuild plugin configuration : If you are using Spring Boot, your pom.xml should have &lt;br/&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;build-info&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;build-info&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAccessing Build Properties : After configuring your spring-boot-maven-plugin and building your application, you can access information about your application&#39;s build through BuildProperties object. &lt;br/&gt;\r\n\r\n    @Autowired\r\n    BuildProperties buildProperties;\r\n\r\nGet the values\r\n\r\n    \r\n    buildProperties.getName(); // Artifact&#39;s name from the pom.xml file    \r\n    buildProperties.getVersion(); // Artifact version    \r\n    buildProperties.getTime(); // Date and Time of the build    \r\n    buildProperties.getArtifact(); // Artifact ID from the pom file    \r\n    buildProperties.getGroup(); // Group ID from the pom file\r\n\r\n \r\nAdd the values using ThreadContext or MDC\r\n\r\n    MDC.put(&quot;build_date&quot;, buildProperties.getTime());\r\n    MDC.put(&quot;build_version&quot;, buildProperties.getVersion());\r\n\r\nUpdate the logging pattern: Sample pattern\r\n\r\n#Note the %X{userName} - this is how you fetch data from Mapped Diagnostic Context (MDC)\r\n   \r\n\r\n    log4j.appender.consoleAppender.layout.ConversionPattern = %-4r [%t] %5p %c %x - %m - %X{build_date} - %X{build_version}%n\r\n\r\n","title":"can we include build date and version in log4j info","body":"<p>You can include the build date and version in your log statements.</p>\n<p>For achieving this you have use two things</p>\n<ol>\n<li>Get the build date and version dynamically or from a file</li>\n<li>Update the logging pattern</li>\n</ol>\n<p>Build plugin configuration : If you are using Spring Boot, your pom.xml should have <br/></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;build-info&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;build-info&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Accessing Build Properties : After configuring your spring-boot-maven-plugin and building your application, you can access information about your application's build through BuildProperties object. <br/></p>\n<pre><code>@Autowired\nBuildProperties buildProperties;\n</code></pre>\n<p>Get the values</p>\n<pre><code>buildProperties.getName(); // Artifact's name from the pom.xml file    \nbuildProperties.getVersion(); // Artifact version    \nbuildProperties.getTime(); // Date and Time of the build    \nbuildProperties.getArtifact(); // Artifact ID from the pom file    \nbuildProperties.getGroup(); // Group ID from the pom file\n</code></pre>\n<p>Add the values using ThreadContext or MDC</p>\n<pre><code>MDC.put(&quot;build_date&quot;, buildProperties.getTime());\nMDC.put(&quot;build_version&quot;, buildProperties.getVersion());\n</code></pre>\n<p>Update the logging pattern: Sample pattern</p>\n<p>#Note the %X{userName} - this is how you fetch data from Mapped Diagnostic Context (MDC)</p>\n<pre><code>log4j.appender.consoleAppender.layout.ConversionPattern = %-4r [%t] %5p %c %x - %m - %X{build_date} - %X{build_version}%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666941283,"creation_date":1666941283,"answer_id":74231812,"question_id":68505415,"body_markdown":"If you are using Spring you can also do Spring Boot Lookup https://logging.apache.org/log4j/2.x/manual/lookups.html#SpringLookup\r\n\r\n 1. you have a pom.xml, lets say you want to log project.version from log4j\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.xyx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cpf-orchestration&lt;/artifactId&gt;\r\n    &lt;version&gt;Oct27_test1&lt;/version&gt;\r\n    &lt;name&gt;cpf&lt;/name&gt;\r\n    ...\r\n\r\n``` \r\n 2. Add this dependency\r\n ```xml\r\n\t\t&lt;!-- Require for log4j to log spring properties -&gt; ${spring:x} --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-spring-boot&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n   \r\n   ```\r\n\r\n 3. your application.properties, reference the property\r\n ````\r\napplication-version=@project.version@\r\n````\r\n 4. update your log4j2-spring.xml\r\n```xml\r\n        &lt;Property name=&quot;SPLUNK_PATTERN&quot;\r\n                  value=&quot;%d{dd MMM yyyy HH:mm:ss}{America/Los_Angeles} | %logger:%M()| version:${spring:application-version} | msg=%m | %throwable{20}&quot;/&gt;\r\n\r\n```\r\n\r\n\r\n\r\n","title":"can we include build date and version in log4j info","body":"<p>If you are using Spring you can also do Spring Boot Lookup <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html#SpringLookup\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/lookups.html#SpringLookup</a></p>\n<ol>\n<li>you have a pom.xml, lets say you want to log project.version from log4j</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.xyx&lt;/groupId&gt;\n    &lt;artifactId&gt;cpf-orchestration&lt;/artifactId&gt;\n    &lt;version&gt;Oct27_test1&lt;/version&gt;\n    &lt;name&gt;cpf&lt;/name&gt;\n    ...\n\n</code></pre>\n<ol start=\"2\">\n<li>Add this dependency</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>       &lt;!-- Require for log4j to log spring properties -&gt; ${spring:x} --&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n           &lt;artifactId&gt;log4j-spring-boot&lt;/artifactId&gt;\n           &lt;version&gt;2.16.0&lt;/version&gt;\n       &lt;/dependency&gt;\n  \n</code></pre>\n<ol start=\"3\">\n<li>your application.properties, reference the property</li>\n</ol>\n<pre><code>application-version=@project.version@\n</code></pre>\n<ol start=\"4\">\n<li>update your log4j2-spring.xml</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;Property name=&quot;SPLUNK_PATTERN&quot;\n                  value=&quot;%d{dd MMM yyyy HH:mm:ss}{America/Los_Angeles} | %logger:%M()| version:${spring:application-version} | msg=%m | %throwable{20}&quot;/&gt;\n\n</code></pre>\n"}],"owner":{"account_id":24553,"reputation":15108,"user_id":62539,"accept_rate":88,"display_name":"MedicineMan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1666941283,"creation_date":1627077715,"question_id":68505415,"body_markdown":"I would like to include build information (build version, date) in log statements.  Can this be done?  I&#39;m using log4j in a Java 8 application. ","title":"can we include build date and version in log4j info","body":"<p>I would like to include build information (build version, date) in log statements.  Can this be done?  I'm using log4j in a Java 8 application.</p>\n"},{"tags":["java","cuba-platform"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1666783602,"post_id":74206942,"comment_id":131016463,"body_markdown":"you would need another condition added to your query, how else?","body":"you would need another condition added to your query, how else?"},{"owner":{"account_id":26737261,"reputation":1,"user_id":20338634,"display_name":"SanyaKirilloff"},"score":0,"creation_date":1666784289,"post_id":74206942,"comment_id":131016688,"body_markdown":"Could you be more specific about, what you mean?","body":"Could you be more specific about, what you mean?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666784349,"post_id":74206942,"comment_id":131016706,"body_markdown":"you have put one condition about the timestamp in it; clearly, you need to put in two","body":"you have put one condition about the timestamp in it; clearly, you need to put in two"},{"owner":{"account_id":26737261,"reputation":1,"user_id":20338634,"display_name":"SanyaKirilloff"},"score":0,"creation_date":1666784946,"post_id":74206942,"comment_id":131016878,"body_markdown":"Sorry, I don&#39;t quite understand how to do it right. Need to add another date to the method to check? Can you please tell me how the request should look like?","body":"Sorry, I don&#39;t quite understand how to do it right. Need to add another date to the method to check? Can you please tell me how the request should look like?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666785051,"post_id":74206942,"comment_id":131016922,"body_markdown":"either you wrote this code and should understand pretty well what I&#39;m saying, or you should be asking the person who did write the code.","body":"either you wrote this code and should understand pretty well what I&#39;m saying, or you should be asking the person who did write the code."}],"answers":[{"tags":[],"owner":{"account_id":2315254,"reputation":463,"user_id":2032468,"display_name":"alexb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666941217,"creation_date":1666941217,"answer_id":74231800,"question_id":74206942,"body_markdown":"I would suggest to rewrite query to use &gt;= and &lt;= conditions, instead of &quot;between&quot;.\r\nAlso, change the &quot;eclipselink.sql&quot; logger to DEBUG level to view real SQL issued to the database. It will make the situation clear.","title":"How do I check that dates from one range are not in another range?","body":"<p>I would suggest to rewrite query to use &gt;= and &lt;= conditions, instead of &quot;between&quot;.\nAlso, change the &quot;eclipselink.sql&quot; logger to DEBUG level to view real SQL issued to the database. It will make the situation clear.</p>\n"}],"owner":{"account_id":26737261,"reputation":1,"user_id":20338634,"display_name":"SanyaKirilloff"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666941217,"creation_date":1666783478,"question_id":74206942,"body_markdown":"I have such the task: there are assets (computer, printer and so on) that departments can reserve for themselves. Naturally, booking dates can&#39;t overlap. I wrote the method that accepts a set assets and date. I Check this date with the dates of already existing reservations and, if it falls into an already active reservation, then I throw an error to the user that the date is busy. If it doesn&#39;t fit, I&#39;ll reserve it for that date. The problem is that method is currently not working correctly and doesn&#39;t take into account all the options. For example, department has reserved an asset from 27.10.2022 to 27.10.2022. While another department will be able to reserve the same asset from 26.10.2022 to 28.10.2022. This logic is wrong.\r\n\r\nPlease help me implement this method correctly.\r\n\r\n```\r\npublic boolean isDateWithinRangeAssetReservations(Set&lt;Asset&gt; assets, Date checkDate) {\r\n\r\n    Date checkDateWithTruncate = DateUtils.truncate(checkDate, Calendar.DAY_OF_MONTH);\r\n\r\n    String query = &quot;select e from am_AssetReservation e where e.refAsset IN :assets and (:checkDate between e.dateFrom and e.dateTo) and e.isActive = true&quot;;\r\n    List&lt;AssetReservation&gt; assetReservations = dataManager.load(AssetReservation.class)\r\n            .query(query)\r\n            .parameter(&quot;assets&quot;, assets)\r\n            .parameter(&quot;checkDate&quot;, checkDateWithTruncate)\r\n            .list();\r\n    return !assetReservations.isEmpty();\r\n```\r\n\r\n\r\n```\r\nAbove is the implementation of my method whose logic is not working properly\r\n```\r\n","title":"How do I check that dates from one range are not in another range?","body":"<p>I have such the task: there are assets (computer, printer and so on) that departments can reserve for themselves. Naturally, booking dates can't overlap. I wrote the method that accepts a set assets and date. I Check this date with the dates of already existing reservations and, if it falls into an already active reservation, then I throw an error to the user that the date is busy. If it doesn't fit, I'll reserve it for that date. The problem is that method is currently not working correctly and doesn't take into account all the options. For example, department has reserved an asset from 27.10.2022 to 27.10.2022. While another department will be able to reserve the same asset from 26.10.2022 to 28.10.2022. This logic is wrong.</p>\n<p>Please help me implement this method correctly.</p>\n<pre><code>public boolean isDateWithinRangeAssetReservations(Set&lt;Asset&gt; assets, Date checkDate) {\n\n    Date checkDateWithTruncate = DateUtils.truncate(checkDate, Calendar.DAY_OF_MONTH);\n\n    String query = &quot;select e from am_AssetReservation e where e.refAsset IN :assets and (:checkDate between e.dateFrom and e.dateTo) and e.isActive = true&quot;;\n    List&lt;AssetReservation&gt; assetReservations = dataManager.load(AssetReservation.class)\n            .query(query)\n            .parameter(&quot;assets&quot;, assets)\n            .parameter(&quot;checkDate&quot;, checkDateWithTruncate)\n            .list();\n    return !assetReservations.isEmpty();\n</code></pre>\n<pre><code>Above is the implementation of my method whose logic is not working properly\n</code></pre>\n"},{"tags":["java","android","json","android-listview","local"],"comments":[{"owner":{"account_id":1634908,"reputation":11162,"user_id":1508671,"accept_rate":62,"display_name":"KOTIOS"},"score":0,"creation_date":1384317703,"post_id":19945411,"comment_id":29684326,"body_markdown":"what was the output of above code? it seems that u hv parse string into json object..","body":"what was the output of above code? it seems that u hv parse string into json object.."},{"owner":{"account_id":3553464,"reputation":2243,"user_id":2967747,"display_name":"theWildSushii"},"score":0,"creation_date":1384318461,"post_id":19945411,"comment_id":29684570,"body_markdown":"@GrlsHu I&#39;m actually testing that code :D","body":"@GrlsHu I&#39;m actually testing that code :D"},{"owner":{"display_name":"user456814"},"score":0,"creation_date":1407979676,"post_id":19945411,"comment_id":39429365,"body_markdown":"Almost duplicate of [Reading a json file in Android](http://stackoverflow.com/q/13814503/456814).","body":"Almost duplicate of <a href=\"http://stackoverflow.com/q/13814503/456814\">Reading a json file in Android</a>."},{"owner":{"account_id":4363738,"reputation":825,"user_id":3560104,"display_name":"Anil Singhania"},"score":0,"creation_date":1530258866,"post_id":19945411,"comment_id":89181358,"body_markdown":"@Sushii Check out my answer.- https://stackoverflow.com/a/51095837/3560104","body":"@Sushii Check out my answer.- <a href=\"https://stackoverflow.com/a/51095837/3560104\">stackoverflow.com/a/51095837/3560104</a>"}],"answers":[{"tags":[],"owner":{"account_id":2063229,"reputation":29168,"user_id":1839336,"accept_rate":68,"display_name":"GrIsHu"},"down_vote_count":4,"up_vote_count":401,"is_accepted":true,"score":397,"last_activity_date":1528497367,"creation_date":1384317835,"answer_id":19945484,"question_id":19945411,"body_markdown":"As Faizan describes in [their answer here][1]:\r\n\r\nFirst of all read the Json  File from your assests file using below code.\r\n    \r\nand then you can simply read this string return by this function as\r\n\r\n    public String loadJSONFromAsset() {\r\n        String json = null;\r\n        try {\r\n            InputStream is = getActivity().getAssets().open(&quot;yourfilename.json&quot;);\r\n            int size = is.available();\r\n            byte[] buffer = new byte[size];\r\n            is.read(buffer);\r\n            is.close();\r\n            json = new String(buffer, &quot;UTF-8&quot;);\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n            return null;\r\n        }\r\n        return json;\r\n    }\r\n\r\nand use this method like that\r\n\r\n        try {\r\n            JSONObject obj = new JSONObject(loadJSONFromAsset());\r\n            JSONArray m_jArry = obj.getJSONArray(&quot;formules&quot;);\r\n            ArrayList&lt;HashMap&lt;String, String&gt;&gt; formList = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n            HashMap&lt;String, String&gt; m_li;\r\n    \r\n            for (int i = 0; i &lt; m_jArry.length(); i++) {\r\n                JSONObject jo_inside = m_jArry.getJSONObject(i);\r\n                Log.d(&quot;Details--&gt;&quot;, jo_inside.getString(&quot;formule&quot;));\r\n                String formula_value = jo_inside.getString(&quot;formule&quot;);\r\n                String url_value = jo_inside.getString(&quot;url&quot;);\r\n    \r\n                //Add your values in your `ArrayList` as below:\r\n                m_li = new HashMap&lt;String, String&gt;();\r\n                m_li.put(&quot;formule&quot;, formula_value);\r\n                m_li.put(&quot;url&quot;, url_value);\r\n    \r\n                formList.add(m_li);\r\n            }\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n   \r\n\r\nFor further details regarding JSON [Read HERE][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13814503/reading-a-json-file-in-android/13814551#13814551\r\n  [2]: http://www.vogella.com/articles/AndroidJSON/article.html","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<p>As Faizan describes in <a href=\"https://stackoverflow.com/questions/13814503/reading-a-json-file-in-android/13814551#13814551\">their answer here</a>:</p>\n\n<p>First of all read the Json  File from your assests file using below code.</p>\n\n<p>and then you can simply read this string return by this function as</p>\n\n<pre><code>public String loadJSONFromAsset() {\n    String json = null;\n    try {\n        InputStream is = getActivity().getAssets().open(\"yourfilename.json\");\n        int size = is.available();\n        byte[] buffer = new byte[size];\n        is.read(buffer);\n        is.close();\n        json = new String(buffer, \"UTF-8\");\n    } catch (IOException ex) {\n        ex.printStackTrace();\n        return null;\n    }\n    return json;\n}\n</code></pre>\n\n<p>and use this method like that</p>\n\n<pre><code>    try {\n        JSONObject obj = new JSONObject(loadJSONFromAsset());\n        JSONArray m_jArry = obj.getJSONArray(\"formules\");\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; formList = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n        HashMap&lt;String, String&gt; m_li;\n\n        for (int i = 0; i &lt; m_jArry.length(); i++) {\n            JSONObject jo_inside = m_jArry.getJSONObject(i);\n            Log.d(\"Details--&gt;\", jo_inside.getString(\"formule\"));\n            String formula_value = jo_inside.getString(\"formule\");\n            String url_value = jo_inside.getString(\"url\");\n\n            //Add your values in your `ArrayList` as below:\n            m_li = new HashMap&lt;String, String&gt;();\n            m_li.put(\"formule\", formula_value);\n            m_li.put(\"url\", url_value);\n\n            formList.add(m_li);\n        }\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>For further details regarding JSON <a href=\"http://www.vogella.com/articles/AndroidJSON/article.html\" rel=\"noreferrer\">Read HERE</a></p>\n"},{"tags":[],"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1535650315,"creation_date":1384317868,"answer_id":19945493,"question_id":19945411,"body_markdown":" \r\n\r\n    { // json object node\r\n        &quot;formules&quot;: [ // json array formules\r\n        { // json object \r\n          &quot;formule&quot;: &quot;Linear Motion&quot;, // string\r\n          &quot;url&quot;: &quot;qp1&quot;\r\n        }\r\n\r\nWhat you are doing\r\n\r\n      Context context = null; // context is null \r\n        try {\r\n            String jsonLocation = AssetJSONFile(&quot;formules.json&quot;, context);\r\n\r\nSo change to\r\n\r\n       try {\r\n            String jsonLocation = AssetJSONFile(&quot;formules.json&quot;, CatList.this);\r\n\r\n\r\nTo parse   \r\n\r\nI believe you get the string from the assests folder.\r\n    \r\n    try\r\n    {\r\n    String jsonLocation = AssetJSONFile(&quot;formules.json&quot;, context);\r\n    JSONObject jsonobject = new JSONObject(jsonLocation);\r\n    JSONArray jarray = (JSONArray) jsonobject.getJSONArray(&quot;formules&quot;);\r\n    for(int i=0;i&lt;jarray.length();i++)\r\n    {\r\n    JSONObject jb =(JSONObject) jarray.get(i);\r\n    String formula = jb.getString(&quot;formule&quot;);\r\n    String url = jb.getString(&quot;url&quot;);\r\n    }\r\n    } catch (IOException e) {\r\n            e.printStackTrace();\r\n    } catch (JSONException e) {\r\n            e.printStackTrace();\r\n    }\r\n","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<pre><code>{ // json object node\n    \"formules\": [ // json array formules\n    { // json object \n      \"formule\": \"Linear Motion\", // string\n      \"url\": \"qp1\"\n    }\n</code></pre>\n\n<p>What you are doing</p>\n\n<pre><code>  Context context = null; // context is null \n    try {\n        String jsonLocation = AssetJSONFile(\"formules.json\", context);\n</code></pre>\n\n<p>So change to</p>\n\n<pre><code>   try {\n        String jsonLocation = AssetJSONFile(\"formules.json\", CatList.this);\n</code></pre>\n\n<p>To parse   </p>\n\n<p>I believe you get the string from the assests folder.</p>\n\n<pre><code>try\n{\nString jsonLocation = AssetJSONFile(\"formules.json\", context);\nJSONObject jsonobject = new JSONObject(jsonLocation);\nJSONArray jarray = (JSONArray) jsonobject.getJSONArray(\"formules\");\nfor(int i=0;i&lt;jarray.length();i++)\n{\nJSONObject jb =(JSONObject) jarray.get(i);\nString formula = jb.getString(\"formule\");\nString url = jb.getString(\"url\");\n}\n} catch (IOException e) {\n        e.printStackTrace();\n} catch (JSONException e) {\n        e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4363738,"reputation":825,"user_id":3560104,"display_name":"Anil Singhania"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1530258683,"creation_date":1530254887,"answer_id":51095837,"question_id":19945411,"body_markdown":"Method to read JSON file from Assets folder and return as a string object.\r\n\r\n    public static String getAssetJsonData(Context context) {\r\n                String json = null;\r\n                try {\r\n                    InputStream is = context.getAssets().open(&quot;myJson.json&quot;);\r\n                    int size = is.available();\r\n                    byte[] buffer = new byte[size];\r\n                    is.read(buffer);\r\n                    is.close();\r\n                    json = new String(buffer, &quot;UTF-8&quot;);\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                    return null;\r\n                }\r\n        \r\n                Log.e(&quot;data&quot;, json);\r\n                return json;\r\n        \r\n            }\r\n\r\n\r\n Now for parsing data in your activity:-\r\n\r\n\r\n    String data = getAssetJsonData(getApplicationContext());\r\n            Type type = new TypeToken&lt;Your Data model&gt;() {\r\n            }.getType();\r\n      &lt;Your Data model&gt; modelObject = new Gson().fromJson(data, type);","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<p>Method to read JSON file from Assets folder and return as a string object.</p>\n\n<pre><code>public static String getAssetJsonData(Context context) {\n            String json = null;\n            try {\n                InputStream is = context.getAssets().open(\"myJson.json\");\n                int size = is.available();\n                byte[] buffer = new byte[size];\n                is.read(buffer);\n                is.close();\n                json = new String(buffer, \"UTF-8\");\n            } catch (IOException ex) {\n                ex.printStackTrace();\n                return null;\n            }\n\n            Log.e(\"data\", json);\n            return json;\n\n        }\n</code></pre>\n\n<p>Now for parsing data in your activity:-</p>\n\n<pre><code>String data = getAssetJsonData(getApplicationContext());\n        Type type = new TypeToken&lt;Your Data model&gt;() {\n        }.getType();\n  &lt;Your Data model&gt; modelObject = new Gson().fromJson(data, type);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2742803,"reputation":17015,"user_id":2363918,"accept_rate":34,"display_name":"Libin"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1551304997,"creation_date":1551304997,"answer_id":54915209,"question_id":19945411,"body_markdown":"With Kotlin have this extension function to read the file return as string.\r\n\r\n`fun AssetManager.readAssetsFile(fileName : String): String = open(fileName).bufferedReader().use{it.readText()}`\r\n\r\nParse the output string using any JSON parser. ","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<p>With Kotlin have this extension function to read the file return as string.</p>\n\n<p><code>fun AssetManager.readAssetsFile(fileName : String): String = open(fileName).bufferedReader().use{it.readText()}</code></p>\n\n<p>Parse the output string using any JSON parser. </p>\n"},{"tags":[],"owner":{"account_id":7528696,"reputation":1247,"user_id":5717791,"display_name":"Williaan Lopes"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1627560811,"creation_date":1560042133,"answer_id":56511233,"question_id":19945411,"body_markdown":"Using [OKIO][1]\r\n\r\n    implementation(&quot;com.squareup.okio:okio:3.0.0-alpha.4&quot;)\r\n\r\nWith Java:\r\n\r\n    public static String readJsonFromAssets(Context context, String filePath) {\r\n            \r\n                try {\r\n                    InputStream input = context.getAssets().open(filePath);\r\n                    BufferedSource source = Okio.buffer(Okio.source(input));\r\n                    return source.readByteString().string(Charset.forName(&quot;utf-8&quot;));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            \r\n                return null;\r\n        }\r\n\r\nWith Kotlin:\r\n\r\n    fun readJsonFromAssets(context: Context, filePath: String): String? {\r\n        try {\r\n            val source = context.assets.open(filePath).source().buffer()\r\n            return source.readByteString().string(Charset.forName(&quot;utf-8&quot;))\r\n                \r\n         } catch (e: IOException) {\r\n                e.printStackTrace()\r\n         }\r\n         return null\r\n    }\r\n\r\nand then...\r\n\r\n    String data = readJsonFromAssets(context, &quot;json/some.json&quot;); //here is my file inside the folder assets/json/some.json\r\n\r\n    Type reviewType = new TypeToken&lt;List&lt;Object&gt;&gt;() {}.getType();\r\n\r\n    if (data != null) {\r\n        Object object = new Gson().fromJson(data, reviewType);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/square/okio","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<p>Using <a href=\"https://github.com/square/okio\" rel=\"noreferrer\">OKIO</a></p>\n<pre><code>implementation(&quot;com.squareup.okio:okio:3.0.0-alpha.4&quot;)\n</code></pre>\n<p>With Java:</p>\n<pre><code>public static String readJsonFromAssets(Context context, String filePath) {\n        \n            try {\n                InputStream input = context.getAssets().open(filePath);\n                BufferedSource source = Okio.buffer(Okio.source(input));\n                return source.readByteString().string(Charset.forName(&quot;utf-8&quot;));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        \n            return null;\n    }\n</code></pre>\n<p>With Kotlin:</p>\n<pre><code>fun readJsonFromAssets(context: Context, filePath: String): String? {\n    try {\n        val source = context.assets.open(filePath).source().buffer()\n        return source.readByteString().string(Charset.forName(&quot;utf-8&quot;))\n            \n     } catch (e: IOException) {\n            e.printStackTrace()\n     }\n     return null\n}\n</code></pre>\n<p>and then...</p>\n<pre><code>String data = readJsonFromAssets(context, &quot;json/some.json&quot;); //here is my file inside the folder assets/json/some.json\n\nType reviewType = new TypeToken&lt;List&lt;Object&gt;&gt;() {}.getType();\n\nif (data != null) {\n    Object object = new Gson().fromJson(data, reviewType);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560409736,"creation_date":1560409736,"answer_id":56575095,"question_id":19945411,"body_markdown":"**Source code How to fetch Local Json from Assets folder**\r\n    \r\nhttps://drive.google.com/open?id=1NG1amTVWPNViim_caBr8eeB4zczTDK2p\r\n        \r\n        {\r\n            &quot;responseCode&quot;: &quot;200&quot;,\r\n            &quot;responseMessage&quot;: &quot;Recode Fetch Successfully!&quot;,\r\n            &quot;responseTime&quot;: &quot;10:22&quot;,\r\n            &quot;employeesList&quot;: [\r\n                {\r\n                    &quot;empId&quot;: &quot;1&quot;,\r\n                    &quot;empName&quot;: &quot;Keshav&quot;,\r\n                    &quot;empFatherName&quot;: &quot;Mr Ramesh Chand Gera&quot;,\r\n                    &quot;empSalary&quot;: &quot;9654267338&quot;,\r\n                    &quot;empDesignation&quot;: &quot;Sr. Java Developer&quot;,\r\n                    &quot;leaveBalance&quot;: &quot;3&quot;,\r\n                    &quot;pfBalance&quot;: &quot;60,000&quot;,\r\n                    &quot;pfAccountNo.&quot;: &quot;12345678&quot;\r\n                },\r\n                {\r\n                    &quot;empId&quot;: &quot;2&quot;,\r\n                    &quot;empName&quot;: &quot;Ram&quot;,\r\n                    &quot;empFatherName&quot;: &quot;Mr Dasrath ji&quot;,\r\n                    &quot;empSalary&quot;: &quot;9999999999&quot;,\r\n                    &quot;empDesignation&quot;: &quot;Sr. Java Developer&quot;,\r\n                    &quot;leaveBalance&quot;: &quot;3&quot;,\r\n                    &quot;pfBalance&quot;: &quot;60,000&quot;,\r\n                    &quot;pfAccountNo.&quot;: &quot;12345678&quot;\r\n                },\r\n                {\r\n                    &quot;empId&quot;: &quot;3&quot;,\r\n                    &quot;empName&quot;: &quot;Manisha&quot;,\r\n                    &quot;empFatherName&quot;: &quot;Mr Ramesh Chand Gera&quot;,\r\n                    &quot;empSalary&quot;: &quot;8826420999&quot;,\r\n                    &quot;empDesignation&quot;: &quot;BusinessMan&quot;,\r\n                    &quot;leaveBalance&quot;: &quot;3&quot;,\r\n                    &quot;pfBalance&quot;: &quot;60,000&quot;,\r\n                    &quot;pfAccountNo.&quot;: &quot;12345678&quot;\r\n                },\r\n                {\r\n                    &quot;empId&quot;: &quot;4&quot;,\r\n                    &quot;empName&quot;: &quot;Happy&quot;,\r\n                    &quot;empFatherName&quot;: &quot;Mr Ramesh Chand Gera&quot;,\r\n                    &quot;empSalary&quot;: &quot;9582401701&quot;,\r\n                    &quot;empDesignation&quot;: &quot;Two Wheeler&quot;,\r\n                    &quot;leaveBalance&quot;: &quot;3&quot;,\r\n                    &quot;pfBalance&quot;: &quot;60,000&quot;,\r\n                    &quot;pfAccountNo.&quot;: &quot;12345678&quot;\r\n                },\r\n                {\r\n                    &quot;empId&quot;: &quot;5&quot;,\r\n                    &quot;empName&quot;: &quot;Ritu&quot;,\r\n                    &quot;empFatherName&quot;: &quot;Mr Keshav Gera&quot;,\r\n                    &quot;empSalary&quot;: &quot;8888888888&quot;,\r\n                    &quot;empDesignation&quot;: &quot;Sararat Vibhag&quot;,\r\n                    &quot;leaveBalance&quot;: &quot;3&quot;,\r\n                    &quot;pfBalance&quot;: &quot;60,000&quot;,\r\n                    &quot;pfAccountNo.&quot;: &quot;12345678&quot;\r\n                }\r\n            ]\r\n        }\r\n    \r\n    \r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_employee);\r\n    \r\n    \r\n            emp_recycler_view = (RecyclerView) findViewById(R.id.emp_recycler_view);\r\n    \r\n            emp_recycler_view.setLayoutManager(new LinearLayoutManager(EmployeeActivity.this, \r\n            LinearLayoutManager.VERTICAL, false));\r\n            emp_recycler_view.setItemAnimator(new DefaultItemAnimator());\r\n    \r\n            employeeAdapter = new EmployeeAdapter(EmployeeActivity.this , employeeModelArrayList);\r\n    \r\n            emp_recycler_view.setAdapter(employeeAdapter);\r\n    \r\n            getJsonFileFromLocally();\r\n        }\r\n    \r\n    \r\n    \r\n        public String loadJSONFromAsset() {\r\n            String json = null;\r\n            try {\r\n                InputStream is = EmployeeActivity.this.getAssets().open(&quot;employees.json&quot;);       //TODO Json File  name from assets folder\r\n                int size = is.available();\r\n                byte[] buffer = new byte[size];\r\n                is.read(buffer);\r\n                is.close();\r\n                json = new String(buffer, &quot;UTF-8&quot;);\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n                return null;\r\n            }\r\n            return json;\r\n        }\r\n    \r\n        private void getJsonFileFromLocally() {\r\n            try {\r\n    \r\n                JSONObject jsonObject = new JSONObject(loadJSONFromAsset());\r\n                String responseCode = jsonObject.getString(&quot;responseCode&quot;);\r\n                String responseMessage = jsonObject.getString(&quot;responseMessage&quot;);\r\n                String responseTime = jsonObject.getString(&quot;responseTime&quot;);\r\n    \r\n                Log.e(&quot;keshav&quot;, &quot;responseCode --&gt;&quot; + responseCode);\r\n                Log.e(&quot;keshav&quot;, &quot;responseMessage --&gt;&quot; + responseMessage);\r\n                Log.e(&quot;keshav&quot;, &quot;responseTime --&gt;&quot; + responseTime);\r\n    \r\n    \r\n                if(responseCode.equals(&quot;200&quot;)){\r\n    \r\n                }else{\r\n                    Toast.makeText(this, &quot;No Receord Found &quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n    \r\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;employeesList&quot;);                  //TODO pass array object name\r\n                Log.e(&quot;keshav&quot;, &quot;m_jArry --&gt;&quot; + jsonArray.length());\r\n    \r\n    \r\n                for (int i = 0; i &lt; jsonArray.length(); i++)\r\n                {\r\n                    EmployeeModel employeeModel = new EmployeeModel();\r\n    \r\n                    JSONObject jsonObjectEmployee = jsonArray.getJSONObject(i);\r\n    \r\n    \r\n                    String empId = jsonObjectEmployee.getString(&quot;empId&quot;);\r\n                    String empName = jsonObjectEmployee.getString(&quot;empName&quot;);\r\n                    String empDesignation = jsonObjectEmployee.getString(&quot;empDesignation&quot;);\r\n                    String empSalary = jsonObjectEmployee.getString(&quot;empSalary&quot;);\r\n                    String empFatherName = jsonObjectEmployee.getString(&quot;empFatherName&quot;);\r\n    \r\n                    employeeModel.setEmpId(&quot;&quot;+empId);\r\n                    employeeModel.setEmpName(&quot;&quot;+empName);\r\n                    employeeModel.setEmpDesignation(&quot;&quot;+empDesignation);\r\n                    employeeModel.setEmpSalary(&quot;&quot;+empSalary);\r\n                    employeeModel.setEmpFatherNamer(&quot;&quot;+empFatherName);\r\n    \r\n                    employeeModelArrayList.add(employeeModel);\r\n    \r\n                }       // for\r\n    \r\n                if(employeeModelArrayList!=null) {\r\n                    employeeAdapter.dataChanged(employeeModelArrayList);\r\n                }\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<p><strong>Source code How to fetch Local Json from Assets folder</strong></p>\n\n<p><a href=\"https://drive.google.com/open?id=1NG1amTVWPNViim_caBr8eeB4zczTDK2p\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=1NG1amTVWPNViim_caBr8eeB4zczTDK2p</a></p>\n\n<pre><code>    {\n        \"responseCode\": \"200\",\n        \"responseMessage\": \"Recode Fetch Successfully!\",\n        \"responseTime\": \"10:22\",\n        \"employeesList\": [\n            {\n                \"empId\": \"1\",\n                \"empName\": \"Keshav\",\n                \"empFatherName\": \"Mr Ramesh Chand Gera\",\n                \"empSalary\": \"9654267338\",\n                \"empDesignation\": \"Sr. Java Developer\",\n                \"leaveBalance\": \"3\",\n                \"pfBalance\": \"60,000\",\n                \"pfAccountNo.\": \"12345678\"\n            },\n            {\n                \"empId\": \"2\",\n                \"empName\": \"Ram\",\n                \"empFatherName\": \"Mr Dasrath ji\",\n                \"empSalary\": \"9999999999\",\n                \"empDesignation\": \"Sr. Java Developer\",\n                \"leaveBalance\": \"3\",\n                \"pfBalance\": \"60,000\",\n                \"pfAccountNo.\": \"12345678\"\n            },\n            {\n                \"empId\": \"3\",\n                \"empName\": \"Manisha\",\n                \"empFatherName\": \"Mr Ramesh Chand Gera\",\n                \"empSalary\": \"8826420999\",\n                \"empDesignation\": \"BusinessMan\",\n                \"leaveBalance\": \"3\",\n                \"pfBalance\": \"60,000\",\n                \"pfAccountNo.\": \"12345678\"\n            },\n            {\n                \"empId\": \"4\",\n                \"empName\": \"Happy\",\n                \"empFatherName\": \"Mr Ramesh Chand Gera\",\n                \"empSalary\": \"9582401701\",\n                \"empDesignation\": \"Two Wheeler\",\n                \"leaveBalance\": \"3\",\n                \"pfBalance\": \"60,000\",\n                \"pfAccountNo.\": \"12345678\"\n            },\n            {\n                \"empId\": \"5\",\n                \"empName\": \"Ritu\",\n                \"empFatherName\": \"Mr Keshav Gera\",\n                \"empSalary\": \"8888888888\",\n                \"empDesignation\": \"Sararat Vibhag\",\n                \"leaveBalance\": \"3\",\n                \"pfBalance\": \"60,000\",\n                \"pfAccountNo.\": \"12345678\"\n            }\n        ]\n    }\n\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_employee);\n\n\n        emp_recycler_view = (RecyclerView) findViewById(R.id.emp_recycler_view);\n\n        emp_recycler_view.setLayoutManager(new LinearLayoutManager(EmployeeActivity.this, \n        LinearLayoutManager.VERTICAL, false));\n        emp_recycler_view.setItemAnimator(new DefaultItemAnimator());\n\n        employeeAdapter = new EmployeeAdapter(EmployeeActivity.this , employeeModelArrayList);\n\n        emp_recycler_view.setAdapter(employeeAdapter);\n\n        getJsonFileFromLocally();\n    }\n\n\n\n    public String loadJSONFromAsset() {\n        String json = null;\n        try {\n            InputStream is = EmployeeActivity.this.getAssets().open(\"employees.json\");       //TODO Json File  name from assets folder\n            int size = is.available();\n            byte[] buffer = new byte[size];\n            is.read(buffer);\n            is.close();\n            json = new String(buffer, \"UTF-8\");\n        } catch (IOException ex) {\n            ex.printStackTrace();\n            return null;\n        }\n        return json;\n    }\n\n    private void getJsonFileFromLocally() {\n        try {\n\n            JSONObject jsonObject = new JSONObject(loadJSONFromAsset());\n            String responseCode = jsonObject.getString(\"responseCode\");\n            String responseMessage = jsonObject.getString(\"responseMessage\");\n            String responseTime = jsonObject.getString(\"responseTime\");\n\n            Log.e(\"keshav\", \"responseCode --&gt;\" + responseCode);\n            Log.e(\"keshav\", \"responseMessage --&gt;\" + responseMessage);\n            Log.e(\"keshav\", \"responseTime --&gt;\" + responseTime);\n\n\n            if(responseCode.equals(\"200\")){\n\n            }else{\n                Toast.makeText(this, \"No Receord Found \", Toast.LENGTH_SHORT).show();\n            }\n\n            JSONArray jsonArray = jsonObject.getJSONArray(\"employeesList\");                  //TODO pass array object name\n            Log.e(\"keshav\", \"m_jArry --&gt;\" + jsonArray.length());\n\n\n            for (int i = 0; i &lt; jsonArray.length(); i++)\n            {\n                EmployeeModel employeeModel = new EmployeeModel();\n\n                JSONObject jsonObjectEmployee = jsonArray.getJSONObject(i);\n\n\n                String empId = jsonObjectEmployee.getString(\"empId\");\n                String empName = jsonObjectEmployee.getString(\"empName\");\n                String empDesignation = jsonObjectEmployee.getString(\"empDesignation\");\n                String empSalary = jsonObjectEmployee.getString(\"empSalary\");\n                String empFatherName = jsonObjectEmployee.getString(\"empFatherName\");\n\n                employeeModel.setEmpId(\"\"+empId);\n                employeeModel.setEmpName(\"\"+empName);\n                employeeModel.setEmpDesignation(\"\"+empDesignation);\n                employeeModel.setEmpSalary(\"\"+empSalary);\n                employeeModel.setEmpFatherNamer(\"\"+empFatherName);\n\n                employeeModelArrayList.add(employeeModel);\n\n            }       // for\n\n            if(employeeModelArrayList!=null) {\n                employeeAdapter.dataChanged(employeeModelArrayList);\n            }\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7812735,"reputation":1441,"user_id":5908465,"accept_rate":12,"display_name":"Shreeya Chhatrala"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1587054288,"creation_date":1583297914,"answer_id":60519332,"question_id":19945411,"body_markdown":"If you are using **Kotlin** in android then you can create *Extension function*.  \r\nExtension Functions are defined outside of any class - yet they reference the class name and can use `this`. In our case we use `applicationContext`.  \r\nSo in Utility class you can define all extension functions.\r\n\r\n\r\n----------\r\n**Utility.kt**\r\n\r\n    fun Context.loadJSONFromAssets(fileName: String): String {\r\n        return applicationContext.assets.open(fileName).bufferedReader().use { reader -&gt;\r\n            reader.readText()\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n**MainActivity.kt**\r\n\r\nYou can define private function for load JSON data from assert like this:\r\n\r\n     lateinit var facilityModelList: ArrayList&lt;FacilityModel&gt;\r\n     private fun bindJSONDataInFacilityList() {\r\n        facilityModelList = ArrayList&lt;FacilityModel&gt;()\r\n        val facilityJsonArray = JSONArray(loadJSONFromAsserts(&quot;NDoH_facility_list.json&quot;)) // Extension Function call here\r\n        for (i in 0 until facilityJsonArray.length()){\r\n            val facilityModel = FacilityModel()\r\n            val facilityJSONObject = facilityJsonArray.getJSONObject(i)\r\n            facilityModel.Facility = facilityJSONObject.getString(&quot;Facility&quot;)\r\n            facilityModel.District = facilityJSONObject.getString(&quot;District&quot;)\r\n            facilityModel.Province = facilityJSONObject.getString(&quot;Province&quot;)\r\n            facilityModel.Subdistrict = facilityJSONObject.getString(&quot;Facility&quot;)\r\n            facilityModel.code = facilityJSONObject.getInt(&quot;code&quot;)\r\n            facilityModel.gps_latitude = facilityJSONObject.getDouble(&quot;gps_latitude&quot;)\r\n            facilityModel.gps_longitude = facilityJSONObject.getDouble(&quot;gps_longitude&quot;)\r\n\r\n            facilityModelList.add(facilityModel)\r\n        }\r\n    }\r\n\r\nYou have to pass `facilityModelList` in your `ListView`\r\n\r\n----------\r\n**FacilityModel.kt**\r\n\r\n    class FacilityModel: Serializable {\r\n        var District: String = &quot;&quot;\r\n        var Facility: String = &quot;&quot;\r\n        var Province: String = &quot;&quot;\r\n        var Subdistrict: String = &quot;&quot;\r\n        var code: Int = 0\r\n        var gps_latitude: Double= 0.0\r\n        var gps_longitude: Double= 0.0\r\n    }\r\n\r\n----------\r\n\r\nIn my case JSON response start with JSONArray\r\n\r\n    [\r\n      {\r\n        &quot;code&quot;: 875933,\r\n        &quot;Province&quot;: &quot;Eastern Cape&quot;,\r\n        &quot;District&quot;: &quot;Amathole DM&quot;,\r\n        &quot;Subdistrict&quot;: &quot;Amahlathi LM&quot;,\r\n        &quot;Facility&quot;: &quot;Amabele Clinic&quot;,\r\n        &quot;gps_latitude&quot;: -32.6634,\r\n        &quot;gps_longitude&quot;: 27.5239\r\n      },\r\n    \r\n      {\r\n        &quot;code&quot;: 455242,\r\n        &quot;Province&quot;: &quot;Eastern Cape&quot;,\r\n        &quot;District&quot;: &quot;Amathole DM&quot;,\r\n        &quot;Subdistrict&quot;: &quot;Amahlathi LM&quot;,\r\n        &quot;Facility&quot;: &quot;Burnshill Clinic&quot;,\r\n        &quot;gps_latitude&quot;: -32.7686,\r\n        &quot;gps_longitude&quot;: 27.055\r\n      }\r\n    ]\r\n\r\n\r\n","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<p>If you are using <strong>Kotlin</strong> in android then you can create <em>Extension function</em>.<br>\nExtension Functions are defined outside of any class - yet they reference the class name and can use <code>this</code>. In our case we use <code>applicationContext</code>.<br>\nSo in Utility class you can define all extension functions.</p>\n\n<hr>\n\n<p><strong>Utility.kt</strong></p>\n\n<pre><code>fun Context.loadJSONFromAssets(fileName: String): String {\n    return applicationContext.assets.open(fileName).bufferedReader().use { reader -&gt;\n        reader.readText()\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<p>You can define private function for load JSON data from assert like this:</p>\n\n<pre><code> lateinit var facilityModelList: ArrayList&lt;FacilityModel&gt;\n private fun bindJSONDataInFacilityList() {\n    facilityModelList = ArrayList&lt;FacilityModel&gt;()\n    val facilityJsonArray = JSONArray(loadJSONFromAsserts(\"NDoH_facility_list.json\")) // Extension Function call here\n    for (i in 0 until facilityJsonArray.length()){\n        val facilityModel = FacilityModel()\n        val facilityJSONObject = facilityJsonArray.getJSONObject(i)\n        facilityModel.Facility = facilityJSONObject.getString(\"Facility\")\n        facilityModel.District = facilityJSONObject.getString(\"District\")\n        facilityModel.Province = facilityJSONObject.getString(\"Province\")\n        facilityModel.Subdistrict = facilityJSONObject.getString(\"Facility\")\n        facilityModel.code = facilityJSONObject.getInt(\"code\")\n        facilityModel.gps_latitude = facilityJSONObject.getDouble(\"gps_latitude\")\n        facilityModel.gps_longitude = facilityJSONObject.getDouble(\"gps_longitude\")\n\n        facilityModelList.add(facilityModel)\n    }\n}\n</code></pre>\n\n<p>You have to pass <code>facilityModelList</code> in your <code>ListView</code></p>\n\n<hr>\n\n<p><strong>FacilityModel.kt</strong></p>\n\n<pre><code>class FacilityModel: Serializable {\n    var District: String = \"\"\n    var Facility: String = \"\"\n    var Province: String = \"\"\n    var Subdistrict: String = \"\"\n    var code: Int = 0\n    var gps_latitude: Double= 0.0\n    var gps_longitude: Double= 0.0\n}\n</code></pre>\n\n<hr>\n\n<p>In my case JSON response start with JSONArray</p>\n\n<pre><code>[\n  {\n    \"code\": 875933,\n    \"Province\": \"Eastern Cape\",\n    \"District\": \"Amathole DM\",\n    \"Subdistrict\": \"Amahlathi LM\",\n    \"Facility\": \"Amabele Clinic\",\n    \"gps_latitude\": -32.6634,\n    \"gps_longitude\": 27.5239\n  },\n\n  {\n    \"code\": 455242,\n    \"Province\": \"Eastern Cape\",\n    \"District\": \"Amathole DM\",\n    \"Subdistrict\": \"Amahlathi LM\",\n    \"Facility\": \"Burnshill Clinic\",\n    \"gps_latitude\": -32.7686,\n    \"gps_longitude\": 27.055\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1618457999,"creation_date":1591514091,"answer_id":62242045,"question_id":19945411,"body_markdown":"Just summarising [@libing&#39;s answer][1] with a sample that worked for me.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    val gson = Gson()\r\n    val todoItem: TodoItem = gson.fromJson(this.assets.readAssetsFile(&quot;versus.json&quot;), TodoItem::class.java)\r\n\r\n`private fun AssetManager.readAssetsFile(fileName : String): String = open(fileName).bufferedReader().use{it.readText()}`\r\n\r\nWithout this extension function the same can be achieved by using `BufferedReader` and `InputStreamReader` this way:\r\n\r\n    val i: InputStream = this.assets.open(&quot;versus.json&quot;)\r\n    val br = BufferedReader(InputStreamReader(i))\r\n    val todoItem: TodoItem = gson.fromJson(br, TodoItem::class.java)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54915209/6654475\r\n  [2]: https://i.stack.imgur.com/zWE9Z.png","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<p>Just summarising <a href=\"https://stackoverflow.com/a/54915209/6654475\">@libing's answer</a> with a sample that worked for me.</p>\n<p><a href=\"https://i.stack.imgur.com/zWE9Z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zWE9Z.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>val gson = Gson()\nval todoItem: TodoItem = gson.fromJson(this.assets.readAssetsFile(&quot;versus.json&quot;), TodoItem::class.java)\n</code></pre>\n<p><code>private fun AssetManager.readAssetsFile(fileName : String): String = open(fileName).bufferedReader().use{it.readText()}</code></p>\n<p>Without this extension function the same can be achieved by using <code>BufferedReader</code> and <code>InputStreamReader</code> this way:</p>\n<pre><code>val i: InputStream = this.assets.open(&quot;versus.json&quot;)\nval br = BufferedReader(InputStreamReader(i))\nval todoItem: TodoItem = gson.fromJson(br, TodoItem::class.java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4363738,"reputation":825,"user_id":3560104,"display_name":"Anil Singhania"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629897423,"creation_date":1629897423,"answer_id":68923678,"question_id":19945411,"body_markdown":"    You have to write a function to read the Json File from your assests folder.\r\n    \r\n    public String loadJSONFile() {\r\n        String json = null;\r\n        try {\r\n            InputStream inputStream = getAssets().open(&quot;yourfilename.json&quot;);\r\n            int size = inputStream.available();\r\n            byte[] byteArray = new byte[size];\r\n            inputStream.read(byteArray);\r\n            inputStream.close();\r\n            json = new String(byteArray, &quot;UTF-8&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return json;\r\n    }","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<pre><code>You have to write a function to read the Json File from your assests folder.\n\npublic String loadJSONFile() {\n    String json = null;\n    try {\n        InputStream inputStream = getAssets().open(&quot;yourfilename.json&quot;);\n        int size = inputStream.available();\n        byte[] byteArray = new byte[size];\n        inputStream.read(byteArray);\n        inputStream.close();\n        json = new String(byteArray, &quot;UTF-8&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n    return json;\n}\n</code></pre>\n"}],"owner":{"account_id":3553464,"reputation":2243,"user_id":2967747,"display_name":"theWildSushii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336548,"favorite_count":0,"down_vote_count":0,"up_vote_count":224,"accepted_answer_id":19945484,"answer_count":9,"score":224,"last_activity_date":1666941215,"creation_date":1384317501,"question_id":19945411,"body_markdown":"I&#39;m currently developing a physics app that is supposed to show a list of formulas and even solve some of them (the only problem is the `ListView`)\r\n\r\n**This is my main layout**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:measureWithLargestChild=&quot;false&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.CatList&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/titlebar&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Title1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:text=&quot;@string/app_name&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n            android:textColor=&quot;#ff1c00&quot;\r\n            android:textIsSelectable=&quot;false&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listFormulas&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;/ListView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n**And this is my main activity**\r\n```\r\npackage com.wildsushii.quickphysics;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport android.os.Bundle;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.res.AssetManager;\r\nimport android.view.Menu;\r\nimport android.widget.ListView;\r\n\r\npublic class CatList extends Activity {\r\n\r\n    public static String AssetJSONFile(String filename, Context context) throws IOException {\r\n        AssetManager manager = context.getAssets();\r\n        InputStream file = manager.open(filename);\r\n        byte[] formArray = new byte[file.available()];\r\n        file.read(formArray);\r\n        file.close();\r\n\r\n        return new String(formArray);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cat_list);\r\n        ListView categoriesL = (ListView) findViewById(R.id.listFormulas);\r\n\r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; formList = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n        Context context = null;\r\n        try {\r\n            String jsonLocation = AssetJSONFile(&quot;formules.json&quot;, context);\r\n            JSONObject formArray = (new JSONObject()).getJSONObject(&quot;formules&quot;);\r\n            String formule = formArray.getString(&quot;formule&quot;);\r\n            String url = formArray.getString(&quot;url&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //My problem is here!!\r\n    }\r\n    \r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.cat_list, menu);\r\n        return true;\r\n    }\r\n}\r\n```\r\nI actually know I can make this without using JSON but I need more practice parsing JSON. By the way, this is the JSON\r\n```\r\n{\r\n\t&quot;formules&quot;: [\r\n    {\r\n      &quot;formule&quot;: &quot;Linear Motion&quot;,\r\n      &quot;url&quot;: &quot;qp1&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Constant Acceleration Motion&quot;,\r\n      &quot;url&quot;: &quot;qp2&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Projectile Motion&quot;,\r\n      &quot;url&quot;: &quot;qp3&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Force&quot;,\r\n      &quot;url&quot;: &quot;qp4&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Work, Power, Energy&quot;,\r\n      &quot;url&quot;: &quot;qp5&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Rotary Motion&quot;,\r\n      &quot;url&quot;: &quot;qp6&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Harmonic Motion&quot;,\r\n      &quot;url&quot;: &quot;qp7&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Gravity&quot;,\r\n      &quot;url&quot;: &quot;qp8&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Lateral and Longitudinal Waves&quot;,\r\n      &quot;url&quot;: &quot;qp9&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Sound Waves&quot;,\r\n      &quot;url&quot;: &quot;qp10&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Electrostatics&quot;,\r\n      &quot;url&quot;: &quot;qp11&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Direct Current&quot;,\r\n      &quot;url&quot;: &quot;qp12&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Magnetic Field&quot;,\r\n      &quot;url&quot;: &quot;qp13&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Alternating Current&quot;,\r\n      &quot;url&quot;: &quot;qp14&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Thermodynamics&quot;,\r\n      &quot;url&quot;: &quot;qp15&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Hydrogen Atom&quot;,\r\n      &quot;url&quot;: &quot;qp16&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Optics&quot;,\r\n      &quot;url&quot;: &quot;qp17&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Modern Physics&quot;,\r\n      &quot;url&quot;: &quot;qp18&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Hydrostatics&quot;,\r\n      &quot;url&quot;: &quot;qp19&quot;\r\n    },\r\n    {\r\n      &quot;formule&quot;: &quot;Astronomy&quot;,\r\n      &quot;url&quot;: &quot;qp20&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nI have tried a lot of things and even delete the entire project to make a new one :(","title":"How can I parse a local JSON file from assets folder into a ListView?","body":"<p>I'm currently developing a physics app that is supposed to show a list of formulas and even solve some of them (the only problem is the <code>ListView</code>)</p>\n<p><strong>This is my main layout</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:measureWithLargestChild=&quot;false&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.CatList&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/titlebar&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/Title1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:text=&quot;@string/app_name&quot;\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n            android:textColor=&quot;#ff1c00&quot;\n            android:textIsSelectable=&quot;false&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listFormulas&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;/ListView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>And this is my main activity</strong></p>\n<pre><code>package com.wildsushii.quickphysics;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.res.AssetManager;\nimport android.view.Menu;\nimport android.widget.ListView;\n\npublic class CatList extends Activity {\n\n    public static String AssetJSONFile(String filename, Context context) throws IOException {\n        AssetManager manager = context.getAssets();\n        InputStream file = manager.open(filename);\n        byte[] formArray = new byte[file.available()];\n        file.read(formArray);\n        file.close();\n\n        return new String(formArray);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_cat_list);\n        ListView categoriesL = (ListView) findViewById(R.id.listFormulas);\n\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; formList = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n        Context context = null;\n        try {\n            String jsonLocation = AssetJSONFile(&quot;formules.json&quot;, context);\n            JSONObject formArray = (new JSONObject()).getJSONObject(&quot;formules&quot;);\n            String formule = formArray.getString(&quot;formule&quot;);\n            String url = formArray.getString(&quot;url&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        //My problem is here!!\n    }\n    \n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.cat_list, menu);\n        return true;\n    }\n}\n</code></pre>\n<p>I actually know I can make this without using JSON but I need more practice parsing JSON. By the way, this is the JSON</p>\n<pre><code>{\n    &quot;formules&quot;: [\n    {\n      &quot;formule&quot;: &quot;Linear Motion&quot;,\n      &quot;url&quot;: &quot;qp1&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Constant Acceleration Motion&quot;,\n      &quot;url&quot;: &quot;qp2&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Projectile Motion&quot;,\n      &quot;url&quot;: &quot;qp3&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Force&quot;,\n      &quot;url&quot;: &quot;qp4&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Work, Power, Energy&quot;,\n      &quot;url&quot;: &quot;qp5&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Rotary Motion&quot;,\n      &quot;url&quot;: &quot;qp6&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Harmonic Motion&quot;,\n      &quot;url&quot;: &quot;qp7&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Gravity&quot;,\n      &quot;url&quot;: &quot;qp8&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Lateral and Longitudinal Waves&quot;,\n      &quot;url&quot;: &quot;qp9&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Sound Waves&quot;,\n      &quot;url&quot;: &quot;qp10&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Electrostatics&quot;,\n      &quot;url&quot;: &quot;qp11&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Direct Current&quot;,\n      &quot;url&quot;: &quot;qp12&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Magnetic Field&quot;,\n      &quot;url&quot;: &quot;qp13&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Alternating Current&quot;,\n      &quot;url&quot;: &quot;qp14&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Thermodynamics&quot;,\n      &quot;url&quot;: &quot;qp15&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Hydrogen Atom&quot;,\n      &quot;url&quot;: &quot;qp16&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Optics&quot;,\n      &quot;url&quot;: &quot;qp17&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Modern Physics&quot;,\n      &quot;url&quot;: &quot;qp18&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Hydrostatics&quot;,\n      &quot;url&quot;: &quot;qp19&quot;\n    },\n    {\n      &quot;formule&quot;: &quot;Astronomy&quot;,\n      &quot;url&quot;: &quot;qp20&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I have tried a lot of things and even delete the entire project to make a new one :(</p>\n"},{"tags":["java","android","react-native","gradle","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1666854938,"post_id":74207214,"comment_id":131034935,"body_markdown":"Looking at `libjna-java` [here](https://launchpad.net/ubuntu/+source/libjna-java/5.9.0-1) it doesn&#39;t seem to include the native binaries.  The `android-aarch64` jar is present in the [github repo](https://github.com/java-native-access/jna/tree/master/lib/native) but for some reason isn&#39;t included in the published JAR, per the list [here](https://github.com/java-native-access/jna/blob/master/build.xml#L479).  Can you download it and include it?","body":"Looking at <code>libjna-java</code> <a href=\"https://launchpad.net/ubuntu/+source/libjna-java/5.9.0-1\" rel=\"nofollow noreferrer\">here</a> it doesn&#39;t seem to include the native binaries.  The <code>android-aarch64</code> jar is present in the <a href=\"https://github.com/java-native-access/jna/tree/master/lib/native\" rel=\"nofollow noreferrer\">github repo</a> but for some reason isn&#39;t included in the published JAR, per the list <a href=\"https://github.com/java-native-access/jna/blob/master/build.xml#L479\" rel=\"nofollow noreferrer\">here</a>.  Can you download it and include it?"},{"owner":{"account_id":7613230,"reputation":200,"user_id":5773498,"accept_rate":92,"display_name":"Flippy"},"score":0,"creation_date":1666865008,"post_id":74207214,"comment_id":131038487,"body_markdown":"I renamed all the android .jar files (creating a folder with the identical name and including the specific libjnidispatch.so) and added them to the jar file I included and currently use with ```implementation files(&#39;libs/jna.5.12.1.jar&#39;)``` inside my ```build.gradle``` and also placed the folder ```android-aarch64``` and only ```aarch64``` with the .so file into my ```jniLibs``` folder, but they still can&#39;t be found. Could it be that any search path is fasulty?","body":"I renamed all the android .jar files (creating a folder with the identical name and including the specific libjnidispatch.so) and added them to the jar file I included and currently use with <code>implementation files(&#39;libs&#47;jna.5.12.1.jar&#39;)</code> inside my <code>build.gradle</code> and also placed the folder <code>android-aarch64</code> and only <code>aarch64</code> with the .so file into my <code>jniLibs</code> folder, but they still can&#39;t be found. Could it be that any search path is fasulty?"}],"answers":[{"tags":[],"owner":{"account_id":7613230,"reputation":200,"user_id":5773498,"accept_rate":92,"display_name":"Flippy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666941145,"creation_date":1666941145,"answer_id":74231789,"question_id":74207214,"body_markdown":"Using ```implementation files(&#39;libs/jna.5.12.1.jar&#39;)``` inside ```app/build.gradle``` on android requires to add ```@aar``` to the end of ```jar```. \r\n```\r\nimplementation files(&#39;libs/jna.5.12.1.jar@aar&#39;)\r\n```","title":"Native Library (com/sun/jna/android-arm/libjnidispatch.so) not found in resource path (.)","body":"<p>Using <code>implementation files('libs/jna.5.12.1.jar')</code> inside <code>app/build.gradle</code> on android requires to add <code>@aar</code> to the end of <code>jar</code>.</p>\n<pre><code>implementation files('libs/jna.5.12.1.jar@aar')\n</code></pre>\n"}],"owner":{"account_id":7613230,"reputation":200,"user_id":5773498,"accept_rate":92,"display_name":"Flippy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74231789,"answer_count":1,"score":1,"last_activity_date":1666941145,"creation_date":1666784699,"question_id":74207214,"body_markdown":"In my android app I want to call c/c++ code from my dynamic library (.so) I built with the following CMakeLists.txt \r\n```\r\ncmake_minimum_required(VERSION 3.1)\r\nproject(testproject)\r\n\r\n# Use C++ 11 by default\r\nset(CMAKE_CXX_STANDARD 17)\r\n\r\n# Set Release as default build type\r\nif (NOT CMAKE_BUILD_TYPE)\r\n    set(CMAKE_BUILD_TYPE Release)\r\nendif (NOT CMAKE_BUILD_TYPE)\r\n\r\n# find header &amp; source\r\nfile(GLOB_RECURSE SOURCE_C &quot;src/*.c&quot;)\r\nfile(GLOB_RECURSE HEADER &quot;include/*.h&quot;)\r\n\r\nadd_library(${PROJECT_NAME}  SHARED\r\n  ${SOURCE_C}\r\n  ${HEADER}\r\n)\r\n\r\n# includes\r\ninclude_directories( /include )\r\ntarget_include_directories(${PROJECT_NAME}  PUBLIC ${CMAKE_CURRENT_LIST_DIR}/include)\r\n\r\nsource_group(&quot;Header include&quot; FILES ${HEADER})\r\nsource_group(&quot;Source src&quot;     FILES ${SOURCE_C})\r\n```\r\nIn this dummy library I only have a c-file src/testproject.c and a header inside of include/testproject.h\r\n\r\nboth only consist of minor functionalities (only for reproducing my error)\r\n```c\r\n// testproject.c\r\n#include &lt;stddef.h&gt;\r\n#include &lt;stdlib.h&gt;\r\n#include &quot;../include/testproject.h&quot;\r\n\r\nint testFunc() {\r\n\treturn 15;\r\n}\r\n```\r\n\r\n```c\r\n// testproject.h\r\nint testFunc();\r\n```\r\nI want to use JNA to bridge between c and Java. My Java-ReactNative connection is working. But when I call my library function ```testFunc()``` I receive the following error message:\r\n```\r\nCould not invoke JavaCaller.getLib\r\nnull\r\nNative library (com/sun/jna/android-aarch64/libjnidispatch.so) not found in resource path (.)\r\n```\r\nMy project structure is the following:\r\n```\r\nandroid-app-src-main-java-com-devname-projectname-JavaCaller.java\r\n             |         |                           |\r\n             |         |                       TestLib.java\r\n             |         |\r\n             |      jniLibs-libtestproject.so\r\n             |         |\r\n             |    &quot;android-aarch64&quot;-libjnidispatch.so\r\n             |         |\r\n             |      aarch64-libjnidispatch.so\r\n             |\r\n           libs-&quot;jna-5.12.1.jar&quot;\r\n```\r\nI load my library within my TestLib.java\r\n```java\r\npackage com.devname.projectname;\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\n\r\npublic interface TestLib extends Library{\r\n    TestLibINSTANCE = (TestLib) Native.loadLibrary(&quot;testproject&quot;, TestLib.class);\r\n    int testFunc();\r\n}\r\n```\r\nAnd call the ```testFunc()``` within my TestCaller.java\r\n```java\r\npublic class TetsCaller extends ReactContextBaseJavaModule {\r\n   ...\r\n    @ReactMethod\r\n    public void getLib(Callback callback) {\r\n        int test = TestLib.INSTANCE.testFunc();\r\n        callback.invoke(test);\r\n        return;\r\n    }\r\n   ...\r\n}\r\n```\r\nAnd my ```app/build.gradle``` file\r\n```\r\napply plugin: &quot;com.android.application&quot;\r\n\r\nimport com.android.build.OutputFile\r\nimport org.apache.tools.ant.taskdefs.condition.Os\r\n\r\ndef projectRoot = rootDir.getAbsoluteFile().getParentFile().getAbsolutePath()\r\n\r\ndef reactNativeRoot = new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native/package.json&#39;)&quot;].execute(null, rootDir).text.trim()).getParentFile().getAbsolutePath()\r\n\r\nproject.ext.react = [\r\n    entryFile: [&quot;node&quot;, &quot;-e&quot;, &quot;require(&#39;expo/scripts/resolveAppEntry&#39;)&quot;, projectRoot, &quot;android&quot;].execute(null, rootDir).text.trim(),\r\n    enableHermes: (findProperty(&#39;expo.jsEngine&#39;) ?: &quot;jsc&quot;) == &quot;hermes&quot;,\r\n    hermesCommand: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native/package.json&#39;)&quot;].execute(null, rootDir).text.trim()).getParentFile().getAbsolutePath() + &quot;/sdks/hermesc/%OS-BIN%/hermesc&quot;,\r\n    cliPath: &quot;${reactNativeRoot}/cli.js&quot;,\r\n    composeSourceMapsPath: &quot;${reactNativeRoot}/scripts/compose-source-maps.js&quot;,\r\n]\r\n\r\napply from: new File(reactNativeRoot, &quot;react.gradle&quot;)\r\n\r\ndef enableSeparateBuildPerCPUArchitecture = false\r\n\r\n/**\r\n * Run Proguard to shrink the Java bytecode in release builds.\r\n */\r\ndef enableProguardInReleaseBuilds = (findProperty(&#39;android.enableProguardInReleaseBuilds&#39;) ?: false).toBoolean()\r\n\r\ndef jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n\r\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\r\n\r\n/**\r\n * Architectures to build native code for.\r\n */\r\ndef reactNativeArchitectures() {\r\n    def value = project.getProperties().get(&quot;reactNativeArchitectures&quot;)\r\n    return value ? value.split(&quot;,&quot;) : [&quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;x86_64&quot;, &quot;arm64-v8a&quot;]\r\n}\r\n\r\nandroid {\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDir([&#39;src/main/jniLibs&#39;])\r\n        }\r\n    }\r\n\r\n    packagingOptions {\r\n        pickFirst &#39;lib/x86/libc++_shared.so&#39;\r\n        pickFirst &#39;lib/x86_64/libc++_shared.so&#39;\r\n        pickFirst &#39;lib/armeabi-v7a/libc++_shared.so&#39;\r\n        pickFirst &#39;lib/arm64-v8a/libc++_shared.so&#39;\r\n    }\r\n    ndkVersion rootProject.ext.ndkVersion\r\n\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    defaultConfig {\r\n        applicationId &#39;com.developername.projectname&#39;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0.0&quot;\r\n        buildConfigField &quot;boolean&quot;, &quot;IS_NEW_ARCHITECTURE_ENABLED&quot;, isNewArchitectureEnabled().toString()\r\n        // ndk {\r\n        //     abiFilters &#39;linux-arm&#39;\r\n        // }\r\n\r\n        if (isNewArchitectureEnabled()) {\r\n            // We configure the NDK build only if you decide to opt-in for the New Architecture.\r\n            externalNativeBuild {\r\n                ndkBuild {\r\n                    arguments &quot;APP_PLATFORM=android-21&quot;,\r\n                        &quot;APP_STL=c++_shared&quot;,\r\n                        &quot;NDK_TOOLCHAIN_VERSION=clang&quot;,\r\n                        &quot;GENERATED_SRC_DIR=$buildDir/generated/source&quot;,\r\n                        &quot;PROJECT_BUILD_DIR=$buildDir&quot;,\r\n                        &quot;REACT_ANDROID_DIR=${reactNativeRoot}/ReactAndroid&quot;,\r\n                        &quot;REACT_ANDROID_BUILD_DIR=${reactNativeRoot}/ReactAndroid/build&quot;,\r\n                        &quot;NODE_MODULES_DIR=$rootDir/../node_modules&quot;\r\n                    cFlags &quot;-Wall&quot;, &quot;-Werror&quot;, &quot;-fexceptions&quot;, &quot;-frtti&quot;, &quot;-DWITH_INSPECTOR=1&quot;\r\n                    cppFlags &quot;-std=c++17&quot;\r\n                    // Make sure this target name is the same you specify inside the\r\n                    // src/main/jni/Android.mk file for the `LOCAL_MODULE` variable.\r\n                    targets &quot;projectname_appmodules&quot;\r\n\r\n                    // Fix for windows limit on number of character in file paths and in command lines\r\n                    if (Os.isFamily(Os.FAMILY_WINDOWS)) {\r\n                        arguments &quot;NDK_APP_SHORT_COMMANDS=true&quot;\r\n                    }\r\n                }\r\n            }\r\n            if (!enableSeparateBuildPerCPUArchitecture) {\r\n                ndk {\r\n                    abiFilters (*reactNativeArchitectures())\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (isNewArchitectureEnabled()) {\r\n        // We configure the NDK build only if you decide to opt-in for the New Architecture.\r\n        externalNativeBuild {\r\n            ndkBuild {\r\n                path &quot;$projectDir/src/main/jni/Android.mk&quot;\r\n            }\r\n        }\r\n        def reactAndroidProjectDir = project(&#39;:ReactAndroid&#39;).projectDir\r\n        def packageReactNdkDebugLibs = tasks.register(&quot;packageReactNdkDebugLibs&quot;, Copy) {\r\n            dependsOn(&quot;:ReactAndroid:packageReactNdkDebugLibsForBuck&quot;)\r\n            from(&quot;$reactAndroidProjectDir/src/main/jni/prebuilt/lib&quot;)\r\n            into(&quot;$buildDir/react-ndk/exported&quot;)\r\n        }\r\n        def packageReactNdkReleaseLibs = tasks.register(&quot;packageReactNdkReleaseLibs&quot;, Copy) {\r\n            dependsOn(&quot;:ReactAndroid:packageReactNdkReleaseLibsForBuck&quot;)\r\n            from(&quot;$reactAndroidProjectDir/src/main/jni/prebuilt/lib&quot;)\r\n            into(&quot;$buildDir/react-ndk/exported&quot;)\r\n        }\r\n        afterEvaluate {\r\n            // If you wish to add a custom TurboModule or component locally,\r\n            // you should uncomment this line.\r\n            // preBuild.dependsOn(&quot;generateCodegenArtifactsFromSchema&quot;)\r\n            preDebugBuild.dependsOn(packageReactNdkDebugLibs)\r\n            preReleaseBuild.dependsOn(packageReactNdkReleaseLibs)\r\n\r\n            // Due to a bug inside AGP, we have to explicitly set a dependency\r\n            // between configureNdkBuild* tasks and the preBuild tasks.\r\n            // This can be removed once this is solved: https://issuetracker.google.com/issues/207403732\r\n            configureNdkBuildRelease.dependsOn(preReleaseBuild)\r\n            configureNdkBuildDebug.dependsOn(preDebugBuild)\r\n            reactNativeArchitectures().each { architecture -&gt;\r\n                tasks.findByName(&quot;configureNdkBuildDebug[${architecture}]&quot;)?.configure {\r\n                    dependsOn(&quot;preDebugBuild&quot;)\r\n                }\r\n                tasks.findByName(&quot;configureNdkBuildRelease[${architecture}]&quot;)?.configure {\r\n                    dependsOn(&quot;preReleaseBuild&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    splits {\r\n        abi {\r\n            reset()\r\n            enable enableSeparateBuildPerCPUArchitecture\r\n            universalApk false  // If true, also generate a universal APK\r\n            include (*reactNativeArchitectures())\r\n        }\r\n    }\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n        release {\r\n            // Caution! In production, you need to generate your own keystore file.\r\n            // see https://reactnative.dev/docs/signed-apk-android.\r\n            signingConfig signingConfigs.debug\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n    // applicationVariants are e.g. debug, release\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.each { output -&gt;\r\n            // For each separate APK per architecture, set a unique version code as described here:\r\n            // https://developer.android.com/studio/build/configure-apk-splits.html\r\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n            def abi = output.getFilter(OutputFile.ABI)\r\n            if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                output.versionCodeOverride =\r\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\n// Apply static values from `gradle.properties` to the `android.packagingOptions`\r\n// Accepts values in comma delimited lists, example:\r\n// android.packagingOptions.pickFirsts=/LICENSE,**/picasa.ini\r\n[&quot;pickFirsts&quot;, &quot;excludes&quot;, &quot;merges&quot;, &quot;doNotStrip&quot;].each { prop -&gt;\r\n    // Split option: &#39;foo,bar&#39; -&gt; [&#39;foo&#39;, &#39;bar&#39;]\r\n    def options = (findProperty(&quot;android.packagingOptions.$prop&quot;) ?: &quot;&quot;).split(&quot;,&quot;);\r\n    // Trim all elements in place.\r\n    for (i in 0..&lt;options.size()) options[i] = options[i].trim();\r\n    // `[] - &quot;&quot;` is essentially `[&quot;&quot;].filter(Boolean)` removing all empty strings.\r\n    options -= &quot;&quot;\r\n\r\n    if (options.length &gt; 0) {\r\n        println &quot;android.packagingOptions.$prop += $options ($options.length)&quot;\r\n        // Ex: android.packagingOptions.pickFirsts += &#39;**/SCCS/**&#39;\r\n        options.each {\r\n            android.packagingOptions[prop] += it\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;net.java.dev.jna:jna:5.12.1&#39;\r\n    //noinspection GradleDynamicVersion\r\n    implementation &quot;com.facebook.react:react-native:+&quot;\r\n    implementation project(path: &#39;:openCV&#39;)\r\n\r\n    def isGifEnabled = (findProperty(&#39;expo.gif.enabled&#39;) ?: &quot;&quot;) == &quot;true&quot;;\r\n    def isWebpEnabled = (findProperty(&#39;expo.webp.enabled&#39;) ?: &quot;&quot;) == &quot;true&quot;;\r\n    def isWebpAnimatedEnabled = (findProperty(&#39;expo.webp.animated&#39;) ?: &quot;&quot;) == &quot;true&quot;;\r\n    def frescoVersion = rootProject.ext.frescoVersion\r\n\r\n    // If your app supports Android versions before Ice Cream Sandwich (API level 14)\r\n    if (isGifEnabled || isWebpEnabled) {\r\n        implementation &quot;com.facebook.fresco:fresco:${frescoVersion}&quot;\r\n        implementation &quot;com.facebook.fresco:imagepipeline-okhttp3:${frescoVersion}&quot;\r\n    }\r\n\r\n    if (isGifEnabled) {\r\n        // For animated gif support\r\n        implementation &quot;com.facebook.fresco:animated-gif:${frescoVersion}&quot;\r\n    }\r\n\r\n    if (isWebpEnabled) {\r\n        // For webp support\r\n        implementation &quot;com.facebook.fresco:webpsupport:${frescoVersion}&quot;\r\n        if (isWebpAnimatedEnabled) {\r\n            // Animated webp support\r\n            implementation &quot;com.facebook.fresco:animated-webp:${frescoVersion}&quot;\r\n        }\r\n    }\r\n\r\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\r\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.fbjni&#39;\r\n    }\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n        exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n    }\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n    }\r\n\r\n    if (enableHermes) {\r\n        //noinspection GradleDynamicVersion\r\n        implementation(&quot;com.facebook.react:hermes-engine:+&quot;) { // From node_modules\r\n            exclude group:&#39;com.facebook.fbjni&#39;\r\n        }\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n}\r\n\r\nif (isNewArchitectureEnabled()) {\r\n    // If new architecture is enabled, we let you build RN from source\r\n    // Otherwise we fallback to a prebuilt .aar bundled in the NPM package.\r\n    // This will be applied to all the imported transtitive dependency.\r\n    configurations.all {\r\n        resolutionStrategy.dependencySubstitution {\r\n            substitute(module(&quot;com.facebook.react:react-native&quot;))\r\n                    .using(project(&quot;:ReactAndroid&quot;))\r\n                    .because(&quot;On New Architecture we&#39;re building React Native from source&quot;)\r\n            substitute(module(&quot;com.facebook.react:hermes-engine&quot;))\r\n                    .using(project(&quot;:ReactAndroid:hermes-engine&quot;))\r\n                    .because(&quot;On New Architecture we&#39;re building Hermes from source&quot;)\r\n        }\r\n    }\r\n}\r\n\r\n// Run this once to be able to run the application with BUCK\r\n// puts all compile dependencies into folder libs for BUCK to use\r\ntask copyDownloadableDepsToLibs(type: Copy) {\r\n    from configurations.implementation\r\n    into &#39;libs&#39;\r\n}\r\n\r\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;@react-native-community/cli-platform-android/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\r\napplyNativeModulesAppBuildGradle(project)\r\n\r\ndef isNewArchitectureEnabled() {\r\n    // To opt-in for the New Architecture, you can either:\r\n    // - Set `newArchEnabled` to true inside the `gradle.properties` file\r\n    // - Invoke gradle with `-newArchEnabled=true`\r\n    // - Set an environment variable `ORG_GRADLE_PROJECT_newArchEnabled=true`\r\n    return project.hasProperty(&quot;newArchEnabled&quot;) &amp;&amp; project.newArchEnabled == &quot;true&quot;\r\n}\r\n```\r\nAm I missing something in using JNA? Do I maybe have to ```exclude``` jna inside of my gradle file? I think my dynamic library and my calling seems fine, so the error has to be inside of my gradle file or setting up a wrong path anywhere.\r\n\r\nAlso from what I have seen within my ```build.gradle```, the line directory referenced in line ```from(&quot;$reactAndroidProjectDir/src/main/jni/prebuilt/lib&quot;)``` seems to be empty\r\n\r\n**Edit:**\r\n\r\nAlso jna has been installed using ```sudo apt-get install libjna-java```.\r\n\r\n**Edit2:**\r\n\r\nI tried to reproduce the path ```com/sun/jna/android-aarch64/``` from the error message by modifying the ```jna.jar```file (renaming to .zip and back to .jar) and duplicating and renaming the ```linux-aarch64```-directory to ```android-aarch64```. Placing the jna.jar into my ```src/lib dir``` and adding it with Android Studio, the line  ```implementation &#39;net.java.dev.jna:jna:5.12.1&#39;``` gets replaced by ```implementation group: &#39;net.java.dev.jna&#39;, name: &#39;jna&#39;, version: &#39;5.12.1``` and the error is still the same. Even though the file should be inside of the directory now.\r\n\r\n**Edit3:**\r\n\r\nAs pointed out by **Daniel Widdis** the android-* folders/jar-files are not included in the currently provided jna.jar, therefore I downloaded them, created the corresponding folders inside of my jna.jar and added them (only including the ```libjnidispatch.so```). Because I use ```implementation files(&#39;libs/jna.5.12.1.jar&#39;)``` inside of my gradle, they should be picked from the jar. I also created the folders ```aarch64``` and ```android-aarch64``` including the ```libjnidispatch.so``` but the error still keeps coming up. I suppose it is something with my path set up, but I can&#39;t tell where. \r\n\r\nAlso using ```implementation &#39;net.java.dev.jna:jna:5.12.1``` inside of my gradle and commenting out the ```implementation files(...)``` does not solve this issue.","title":"Native Library (com/sun/jna/android-arm/libjnidispatch.so) not found in resource path (.)","body":"<p>In my android app I want to call c/c++ code from my dynamic library (.so) I built with the following CMakeLists.txt</p>\n<pre><code>cmake_minimum_required(VERSION 3.1)\nproject(testproject)\n\n# Use C++ 11 by default\nset(CMAKE_CXX_STANDARD 17)\n\n# Set Release as default build type\nif (NOT CMAKE_BUILD_TYPE)\n    set(CMAKE_BUILD_TYPE Release)\nendif (NOT CMAKE_BUILD_TYPE)\n\n# find header &amp; source\nfile(GLOB_RECURSE SOURCE_C &quot;src/*.c&quot;)\nfile(GLOB_RECURSE HEADER &quot;include/*.h&quot;)\n\nadd_library(${PROJECT_NAME}  SHARED\n  ${SOURCE_C}\n  ${HEADER}\n)\n\n# includes\ninclude_directories( /include )\ntarget_include_directories(${PROJECT_NAME}  PUBLIC ${CMAKE_CURRENT_LIST_DIR}/include)\n\nsource_group(&quot;Header include&quot; FILES ${HEADER})\nsource_group(&quot;Source src&quot;     FILES ${SOURCE_C})\n</code></pre>\n<p>In this dummy library I only have a c-file src/testproject.c and a header inside of include/testproject.h</p>\n<p>both only consist of minor functionalities (only for reproducing my error)</p>\n<pre class=\"lang-c prettyprint-override\"><code>// testproject.c\n#include &lt;stddef.h&gt;\n#include &lt;stdlib.h&gt;\n#include &quot;../include/testproject.h&quot;\n\nint testFunc() {\n    return 15;\n}\n</code></pre>\n<pre class=\"lang-c prettyprint-override\"><code>// testproject.h\nint testFunc();\n</code></pre>\n<p>I want to use JNA to bridge between c and Java. My Java-ReactNative connection is working. But when I call my library function <code>testFunc()</code> I receive the following error message:</p>\n<pre><code>Could not invoke JavaCaller.getLib\nnull\nNative library (com/sun/jna/android-aarch64/libjnidispatch.so) not found in resource path (.)\n</code></pre>\n<p>My project structure is the following:</p>\n<pre><code>android-app-src-main-java-com-devname-projectname-JavaCaller.java\n             |         |                           |\n             |         |                       TestLib.java\n             |         |\n             |      jniLibs-libtestproject.so\n             |         |\n             |    &quot;android-aarch64&quot;-libjnidispatch.so\n             |         |\n             |      aarch64-libjnidispatch.so\n             |\n           libs-&quot;jna-5.12.1.jar&quot;\n</code></pre>\n<p>I load my library within my TestLib.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.devname.projectname;\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\n\npublic interface TestLib extends Library{\n    TestLibINSTANCE = (TestLib) Native.loadLibrary(&quot;testproject&quot;, TestLib.class);\n    int testFunc();\n}\n</code></pre>\n<p>And call the <code>testFunc()</code> within my TestCaller.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TetsCaller extends ReactContextBaseJavaModule {\n   ...\n    @ReactMethod\n    public void getLib(Callback callback) {\n        int test = TestLib.INSTANCE.testFunc();\n        callback.invoke(test);\n        return;\n    }\n   ...\n}\n</code></pre>\n<p>And my <code>app/build.gradle</code> file</p>\n<pre><code>apply plugin: &quot;com.android.application&quot;\n\nimport com.android.build.OutputFile\nimport org.apache.tools.ant.taskdefs.condition.Os\n\ndef projectRoot = rootDir.getAbsoluteFile().getParentFile().getAbsolutePath()\n\ndef reactNativeRoot = new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim()).getParentFile().getAbsolutePath()\n\nproject.ext.react = [\n    entryFile: [&quot;node&quot;, &quot;-e&quot;, &quot;require('expo/scripts/resolveAppEntry')&quot;, projectRoot, &quot;android&quot;].execute(null, rootDir).text.trim(),\n    enableHermes: (findProperty('expo.jsEngine') ?: &quot;jsc&quot;) == &quot;hermes&quot;,\n    hermesCommand: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim()).getParentFile().getAbsolutePath() + &quot;/sdks/hermesc/%OS-BIN%/hermesc&quot;,\n    cliPath: &quot;${reactNativeRoot}/cli.js&quot;,\n    composeSourceMapsPath: &quot;${reactNativeRoot}/scripts/compose-source-maps.js&quot;,\n]\n\napply from: new File(reactNativeRoot, &quot;react.gradle&quot;)\n\ndef enableSeparateBuildPerCPUArchitecture = false\n\n/**\n * Run Proguard to shrink the Java bytecode in release builds.\n */\ndef enableProguardInReleaseBuilds = (findProperty('android.enableProguardInReleaseBuilds') ?: false).toBoolean()\n\ndef jscFlavor = 'org.webkit:android-jsc:+'\n\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\n\n/**\n * Architectures to build native code for.\n */\ndef reactNativeArchitectures() {\n    def value = project.getProperties().get(&quot;reactNativeArchitectures&quot;)\n    return value ? value.split(&quot;,&quot;) : [&quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;x86_64&quot;, &quot;arm64-v8a&quot;]\n}\n\nandroid {\n    sourceSets {\n        main {\n            jniLibs.srcDir(['src/main/jniLibs'])\n        }\n    }\n\n    packagingOptions {\n        pickFirst 'lib/x86/libc++_shared.so'\n        pickFirst 'lib/x86_64/libc++_shared.so'\n        pickFirst 'lib/armeabi-v7a/libc++_shared.so'\n        pickFirst 'lib/arm64-v8a/libc++_shared.so'\n    }\n    ndkVersion rootProject.ext.ndkVersion\n\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    defaultConfig {\n        applicationId 'com.developername.projectname'\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0.0&quot;\n        buildConfigField &quot;boolean&quot;, &quot;IS_NEW_ARCHITECTURE_ENABLED&quot;, isNewArchitectureEnabled().toString()\n        // ndk {\n        //     abiFilters 'linux-arm'\n        // }\n\n        if (isNewArchitectureEnabled()) {\n            // We configure the NDK build only if you decide to opt-in for the New Architecture.\n            externalNativeBuild {\n                ndkBuild {\n                    arguments &quot;APP_PLATFORM=android-21&quot;,\n                        &quot;APP_STL=c++_shared&quot;,\n                        &quot;NDK_TOOLCHAIN_VERSION=clang&quot;,\n                        &quot;GENERATED_SRC_DIR=$buildDir/generated/source&quot;,\n                        &quot;PROJECT_BUILD_DIR=$buildDir&quot;,\n                        &quot;REACT_ANDROID_DIR=${reactNativeRoot}/ReactAndroid&quot;,\n                        &quot;REACT_ANDROID_BUILD_DIR=${reactNativeRoot}/ReactAndroid/build&quot;,\n                        &quot;NODE_MODULES_DIR=$rootDir/../node_modules&quot;\n                    cFlags &quot;-Wall&quot;, &quot;-Werror&quot;, &quot;-fexceptions&quot;, &quot;-frtti&quot;, &quot;-DWITH_INSPECTOR=1&quot;\n                    cppFlags &quot;-std=c++17&quot;\n                    // Make sure this target name is the same you specify inside the\n                    // src/main/jni/Android.mk file for the `LOCAL_MODULE` variable.\n                    targets &quot;projectname_appmodules&quot;\n\n                    // Fix for windows limit on number of character in file paths and in command lines\n                    if (Os.isFamily(Os.FAMILY_WINDOWS)) {\n                        arguments &quot;NDK_APP_SHORT_COMMANDS=true&quot;\n                    }\n                }\n            }\n            if (!enableSeparateBuildPerCPUArchitecture) {\n                ndk {\n                    abiFilters (*reactNativeArchitectures())\n                }\n            }\n        }\n    }\n\n    if (isNewArchitectureEnabled()) {\n        // We configure the NDK build only if you decide to opt-in for the New Architecture.\n        externalNativeBuild {\n            ndkBuild {\n                path &quot;$projectDir/src/main/jni/Android.mk&quot;\n            }\n        }\n        def reactAndroidProjectDir = project(':ReactAndroid').projectDir\n        def packageReactNdkDebugLibs = tasks.register(&quot;packageReactNdkDebugLibs&quot;, Copy) {\n            dependsOn(&quot;:ReactAndroid:packageReactNdkDebugLibsForBuck&quot;)\n            from(&quot;$reactAndroidProjectDir/src/main/jni/prebuilt/lib&quot;)\n            into(&quot;$buildDir/react-ndk/exported&quot;)\n        }\n        def packageReactNdkReleaseLibs = tasks.register(&quot;packageReactNdkReleaseLibs&quot;, Copy) {\n            dependsOn(&quot;:ReactAndroid:packageReactNdkReleaseLibsForBuck&quot;)\n            from(&quot;$reactAndroidProjectDir/src/main/jni/prebuilt/lib&quot;)\n            into(&quot;$buildDir/react-ndk/exported&quot;)\n        }\n        afterEvaluate {\n            // If you wish to add a custom TurboModule or component locally,\n            // you should uncomment this line.\n            // preBuild.dependsOn(&quot;generateCodegenArtifactsFromSchema&quot;)\n            preDebugBuild.dependsOn(packageReactNdkDebugLibs)\n            preReleaseBuild.dependsOn(packageReactNdkReleaseLibs)\n\n            // Due to a bug inside AGP, we have to explicitly set a dependency\n            // between configureNdkBuild* tasks and the preBuild tasks.\n            // This can be removed once this is solved: https://issuetracker.google.com/issues/207403732\n            configureNdkBuildRelease.dependsOn(preReleaseBuild)\n            configureNdkBuildDebug.dependsOn(preDebugBuild)\n            reactNativeArchitectures().each { architecture -&gt;\n                tasks.findByName(&quot;configureNdkBuildDebug[${architecture}]&quot;)?.configure {\n                    dependsOn(&quot;preDebugBuild&quot;)\n                }\n                tasks.findByName(&quot;configureNdkBuildRelease[${architecture}]&quot;)?.configure {\n                    dependsOn(&quot;preReleaseBuild&quot;)\n                }\n            }\n        }\n    }\n\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include (*reactNativeArchitectures())\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n    }\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\n            }\n\n        }\n    }\n}\n\n// Apply static values from `gradle.properties` to the `android.packagingOptions`\n// Accepts values in comma delimited lists, example:\n// android.packagingOptions.pickFirsts=/LICENSE,**/picasa.ini\n[&quot;pickFirsts&quot;, &quot;excludes&quot;, &quot;merges&quot;, &quot;doNotStrip&quot;].each { prop -&gt;\n    // Split option: 'foo,bar' -&gt; ['foo', 'bar']\n    def options = (findProperty(&quot;android.packagingOptions.$prop&quot;) ?: &quot;&quot;).split(&quot;,&quot;);\n    // Trim all elements in place.\n    for (i in 0..&lt;options.size()) options[i] = options[i].trim();\n    // `[] - &quot;&quot;` is essentially `[&quot;&quot;].filter(Boolean)` removing all empty strings.\n    options -= &quot;&quot;\n\n    if (options.length &gt; 0) {\n        println &quot;android.packagingOptions.$prop += $options ($options.length)&quot;\n        // Ex: android.packagingOptions.pickFirsts += '**/SCCS/**'\n        options.each {\n            android.packagingOptions[prop] += it\n        }\n    }\n}\n\ndependencies {\n    implementation 'net.java.dev.jna:jna:5.12.1'\n    //noinspection GradleDynamicVersion\n    implementation &quot;com.facebook.react:react-native:+&quot;\n    implementation project(path: ':openCV')\n\n    def isGifEnabled = (findProperty('expo.gif.enabled') ?: &quot;&quot;) == &quot;true&quot;;\n    def isWebpEnabled = (findProperty('expo.webp.enabled') ?: &quot;&quot;) == &quot;true&quot;;\n    def isWebpAnimatedEnabled = (findProperty('expo.webp.animated') ?: &quot;&quot;) == &quot;true&quot;;\n    def frescoVersion = rootProject.ext.frescoVersion\n\n    // If your app supports Android versions before Ice Cream Sandwich (API level 14)\n    if (isGifEnabled || isWebpEnabled) {\n        implementation &quot;com.facebook.fresco:fresco:${frescoVersion}&quot;\n        implementation &quot;com.facebook.fresco:imagepipeline-okhttp3:${frescoVersion}&quot;\n    }\n\n    if (isGifEnabled) {\n        // For animated gif support\n        implementation &quot;com.facebook.fresco:animated-gif:${frescoVersion}&quot;\n    }\n\n    if (isWebpEnabled) {\n        // For webp support\n        implementation &quot;com.facebook.fresco:webpsupport:${frescoVersion}&quot;\n        if (isWebpAnimatedEnabled) {\n            // Animated webp support\n            implementation &quot;com.facebook.fresco:animated-webp:${frescoVersion}&quot;\n        }\n    }\n\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.fbjni'\n    }\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n    }\n\n    if (enableHermes) {\n        //noinspection GradleDynamicVersion\n        implementation(&quot;com.facebook.react:hermes-engine:+&quot;) { // From node_modules\n            exclude group:'com.facebook.fbjni'\n        }\n    } else {\n        implementation jscFlavor\n    }\n}\n\nif (isNewArchitectureEnabled()) {\n    // If new architecture is enabled, we let you build RN from source\n    // Otherwise we fallback to a prebuilt .aar bundled in the NPM package.\n    // This will be applied to all the imported transtitive dependency.\n    configurations.all {\n        resolutionStrategy.dependencySubstitution {\n            substitute(module(&quot;com.facebook.react:react-native&quot;))\n                    .using(project(&quot;:ReactAndroid&quot;))\n                    .because(&quot;On New Architecture we're building React Native from source&quot;)\n            substitute(module(&quot;com.facebook.react:hermes-engine&quot;))\n                    .using(project(&quot;:ReactAndroid:hermes-engine&quot;))\n                    .because(&quot;On New Architecture we're building Hermes from source&quot;)\n        }\n    }\n}\n\n// Run this once to be able to run the application with BUCK\n// puts all compile dependencies into folder libs for BUCK to use\ntask copyDownloadableDepsToLibs(type: Copy) {\n    from configurations.implementation\n    into 'libs'\n}\n\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native-community/cli-platform-android/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\napplyNativeModulesAppBuildGradle(project)\n\ndef isNewArchitectureEnabled() {\n    // To opt-in for the New Architecture, you can either:\n    // - Set `newArchEnabled` to true inside the `gradle.properties` file\n    // - Invoke gradle with `-newArchEnabled=true`\n    // - Set an environment variable `ORG_GRADLE_PROJECT_newArchEnabled=true`\n    return project.hasProperty(&quot;newArchEnabled&quot;) &amp;&amp; project.newArchEnabled == &quot;true&quot;\n}\n</code></pre>\n<p>Am I missing something in using JNA? Do I maybe have to <code>exclude</code> jna inside of my gradle file? I think my dynamic library and my calling seems fine, so the error has to be inside of my gradle file or setting up a wrong path anywhere.</p>\n<p>Also from what I have seen within my <code>build.gradle</code>, the line directory referenced in line <code>from(&quot;$reactAndroidProjectDir/src/main/jni/prebuilt/lib&quot;)</code> seems to be empty</p>\n<p><strong>Edit:</strong></p>\n<p>Also jna has been installed using <code>sudo apt-get install libjna-java</code>.</p>\n<p><strong>Edit2:</strong></p>\n<p>I tried to reproduce the path <code>com/sun/jna/android-aarch64/</code> from the error message by modifying the <code>jna.jar</code>file (renaming to .zip and back to .jar) and duplicating and renaming the <code>linux-aarch64</code>-directory to <code>android-aarch64</code>. Placing the jna.jar into my <code>src/lib dir</code> and adding it with Android Studio, the line  <code>implementation 'net.java.dev.jna:jna:5.12.1'</code> gets replaced by <code>implementation group: 'net.java.dev.jna', name: 'jna', version: '5.12.1</code> and the error is still the same. Even though the file should be inside of the directory now.</p>\n<p><strong>Edit3:</strong></p>\n<p>As pointed out by <strong>Daniel Widdis</strong> the android-* folders/jar-files are not included in the currently provided jna.jar, therefore I downloaded them, created the corresponding folders inside of my jna.jar and added them (only including the <code>libjnidispatch.so</code>). Because I use <code>implementation files('libs/jna.5.12.1.jar')</code> inside of my gradle, they should be picked from the jar. I also created the folders <code>aarch64</code> and <code>android-aarch64</code> including the <code>libjnidispatch.so</code> but the error still keeps coming up. I suppose it is something with my path set up, but I can't tell where.</p>\n<p>Also using <code>implementation 'net.java.dev.jna:jna:5.12.1</code> inside of my gradle and commenting out the <code>implementation files(...)</code> does not solve this issue.</p>\n"},{"tags":["java","visual-studio-code","processing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665754819,"post_id":74069813,"comment_id":130778451,"body_markdown":"Looks like it&#39;s expecting a parameter which you&#39;re not giving it. You&#39;re supplying no (non-positional) parameters - those are all options/directives. The IDE might well get one or more parameters &#39;automatically&#39; Perhaps [this](https://www.dsfcode.com/using-processing-via-the-command-line/) might help...","body":"Looks like it&#39;s expecting a parameter which you&#39;re not giving it. You&#39;re supplying no (non-positional) parameters - those are all options/directives. The IDE might well get one or more parameters &#39;automatically&#39; Perhaps <a href=\"https://www.dsfcode.com/using-processing-via-the-command-line/\" rel=\"nofollow noreferrer\">this</a> might help..."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665985703,"post_id":74069813,"comment_id":130818729,"body_markdown":"Please provide more details about the error.","body":"Please provide more details about the error."},{"owner":{"account_id":16620351,"reputation":98,"user_id":12010891,"display_name":"lennart"},"score":0,"creation_date":1666904446,"post_id":74069813,"comment_id":131051955,"body_markdown":"I have the same error, maybe it has something to do with the new Java update, i did yesterday.","body":"I have the same error, maybe it has something to do with the new Java update, i did yesterday."}],"answers":[{"tags":[],"owner":{"account_id":16620351,"reputation":98,"user_id":12010891,"display_name":"lennart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666940869,"creation_date":1666940869,"answer_id":74231754,"question_id":74069813,"body_markdown":"For me, it helped to rename my project to a name without:\r\n - spaces\r\n- any special characters\r\n- numbers\r\n\r\n\r\nBe sure to change the name of the directory, as it has to be same as the `.pde` file.","title":"Runing processing Sketch with vs code/terminal extension in ubuntu throws error","body":"<p>For me, it helped to rename my project to a name without:</p>\n<ul>\n<li>spaces</li>\n<li>any special characters</li>\n<li>numbers</li>\n</ul>\n<p>Be sure to change the name of the directory, as it has to be same as the <code>.pde</code> file.</p>\n"}],"owner":{"account_id":17109147,"reputation":1325,"user_id":12380466,"display_name":"Lenn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666940869,"creation_date":1665753321,"question_id":74069813,"body_markdown":"I want to run a processing sketch and not use the processing IDE (I&#39;d like to use vs code and its extension, but also running it from the command line would be ok)  under ubuntu 20.04. \r\nI installed the `processing-java` under `/opt/processing-4.0.1/processing-java`. \r\n\r\nThen I want to run this example sketch which I grabbed from the website: \r\n\r\n```\r\n/**\r\n * Array 2D. \r\n * \r\n * Demonstrates the syntax for creating a two-dimensional (2D) array.\r\n * Values in a 2D array are accessed through two index values.  \r\n * 2D arrays are useful for storing images. In this example, each dot \r\n * is colored in relation to its distance from the center of the image. \r\n */\r\n\r\nfloat[][] distances;\r\nfloat maxDistance;\r\nint spacer;\r\n\r\nvoid setup() {\r\n  size(640, 360);\r\n  maxDistance = dist(width/2, height/2, width, height);\r\n  distances = new float[width][height];\r\n  for (int y = 0; y &lt; height; y++) {\r\n    for (int x = 0; x &lt; width; x++) {\r\n      float distance = dist(width/2, height/2, x, y);\r\n      distances[x][y] = distance/maxDistance * 255;\r\n    }\r\n  }\r\n  spacer = 10;\r\n  strokeWeight(6);\r\n  noLoop();  // Run once and stop\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  // This embedded loop skips over values in the arrays based on\r\n  // the spacer variable, so there are more values in the array\r\n  // than are drawn here. Change the value of the spacer variable\r\n  // to change the density of the points\r\n  for (int y = 0; y &lt; height; y += spacer) {\r\n    for (int x = 0; x &lt; width; x += spacer) {\r\n      stroke(distances[x][y]);\r\n      point(x + spacer/2, y + spacer/2);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nFor that I use that command:\r\n```\r\n/opt/processing-4.0.1/processing-java --sketch=&lt;name_of_folter_with_sketch&gt; --output=~/Desktop --force --run\r\n``` \r\nYet I receive this error (I receive the same error when trying to run the sketch from the vs-code extension):\r\n\r\n```\r\n/opt/processing-4.0.1/processing-java --sketch=2dPerlinNoise --output=~/Desktop   --build\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat processing.app.Sketch.getMainName(Sketch.java:1699)\r\n\tat processing.mode.java.JavaBuild.preprocess(JavaBuild.java:144)\r\n\tat processing.mode.java.JavaBuild.build(JavaBuild.java:110)\r\n\tat processing.mode.java.Commander.&lt;init&gt;(Commander.java:233)\r\n\tat processing.mode.java.Commander.main(Commander.java:417)\r\n```\r\nIn the Processing-IDE it runs with no problems... \r\nAny idea on what I might be doing wrong?\r\n\r\nAny ide","title":"Runing processing Sketch with vs code/terminal extension in ubuntu throws error","body":"<p>I want to run a processing sketch and not use the processing IDE (I'd like to use vs code and its extension, but also running it from the command line would be ok)  under ubuntu 20.04.\nI installed the <code>processing-java</code> under <code>/opt/processing-4.0.1/processing-java</code>.</p>\n<p>Then I want to run this example sketch which I grabbed from the website:</p>\n<pre><code>/**\n * Array 2D. \n * \n * Demonstrates the syntax for creating a two-dimensional (2D) array.\n * Values in a 2D array are accessed through two index values.  \n * 2D arrays are useful for storing images. In this example, each dot \n * is colored in relation to its distance from the center of the image. \n */\n\nfloat[][] distances;\nfloat maxDistance;\nint spacer;\n\nvoid setup() {\n  size(640, 360);\n  maxDistance = dist(width/2, height/2, width, height);\n  distances = new float[width][height];\n  for (int y = 0; y &lt; height; y++) {\n    for (int x = 0; x &lt; width; x++) {\n      float distance = dist(width/2, height/2, x, y);\n      distances[x][y] = distance/maxDistance * 255;\n    }\n  }\n  spacer = 10;\n  strokeWeight(6);\n  noLoop();  // Run once and stop\n}\n\nvoid draw() {\n  background(0);\n  // This embedded loop skips over values in the arrays based on\n  // the spacer variable, so there are more values in the array\n  // than are drawn here. Change the value of the spacer variable\n  // to change the density of the points\n  for (int y = 0; y &lt; height; y += spacer) {\n    for (int x = 0; x &lt; width; x += spacer) {\n      stroke(distances[x][y]);\n      point(x + spacer/2, y + spacer/2);\n    }\n  }\n}\n</code></pre>\n<p>For that I use that command:</p>\n<pre><code>/opt/processing-4.0.1/processing-java --sketch=&lt;name_of_folter_with_sketch&gt; --output=~/Desktop --force --run\n</code></pre>\n<p>Yet I receive this error (I receive the same error when trying to run the sketch from the vs-code extension):</p>\n<pre><code>/opt/processing-4.0.1/processing-java --sketch=2dPerlinNoise --output=~/Desktop   --build\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at processing.app.Sketch.getMainName(Sketch.java:1699)\n    at processing.mode.java.JavaBuild.preprocess(JavaBuild.java:144)\n    at processing.mode.java.JavaBuild.build(JavaBuild.java:110)\n    at processing.mode.java.Commander.&lt;init&gt;(Commander.java:233)\n    at processing.mode.java.Commander.main(Commander.java:417)\n</code></pre>\n<p>In the Processing-IDE it runs with no problems...\nAny idea on what I might be doing wrong?</p>\n<p>Any ide</p>\n"},{"tags":["java","android","access-token","agora.io","videocall"],"answers":[{"tags":[],"owner":{"account_id":18730896,"reputation":1,"user_id":13656315,"display_name":"eshetu eliyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666940616,"creation_date":1666940616,"answer_id":74231710,"question_id":74161984,"body_markdown":"i have solved it !\r\nin the documentation it says to place the folder in `src` of project mode. i have tried but it didn&#39;t work. so i placed the `io` directory in normal java package in app mode. \r\n \r\n\r\n     implementation &quot;commons-codec:commons-codec:1.11&quot;\r\ni have added above library in my project and all works fine\r\n","title":"doe&#39;s any one know how to use agoraRTC TokenGenerator in android?","body":"<p>i have solved it !\nin the documentation it says to place the folder in <code>src</code> of project mode. i have tried but it didn't work. so i placed the <code>io</code> directory in normal java package in app mode.</p>\n<pre><code> implementation &quot;commons-codec:commons-codec:1.11&quot;\n</code></pre>\n<p>i have added above library in my project and all works fine</p>\n"}],"owner":{"account_id":18730896,"reputation":1,"user_id":13656315,"display_name":"eshetu eliyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666940616,"creation_date":1666425821,"question_id":74161984,"body_markdown":"I followed [this documenttation](https://docs.agora.io/en/video-calling/develop/integrate-token-generation) and applied each instruction correctly. I placed the files in the `/src` folder. but when I tried to import the files it doesn&#39;t work correctly as it says.\r\n\r\n    import io.agora.media.RtcTokenBuilder;\r\n    import io.agora.media.RtcTokenBuilder.Role;\r\n it shows error in `io.agora.media` part. I don&#39;t know how to import from the `/src` folder any help?\r\n\r\n\r\n \r\n\r\n","title":"doe&#39;s any one know how to use agoraRTC TokenGenerator in android?","body":"<p>I followed <a href=\"https://docs.agora.io/en/video-calling/develop/integrate-token-generation\" rel=\"nofollow noreferrer\">this documenttation</a> and applied each instruction correctly. I placed the files in the <code>/src</code> folder. but when I tried to import the files it doesn't work correctly as it says.</p>\n<pre><code>import io.agora.media.RtcTokenBuilder;\nimport io.agora.media.RtcTokenBuilder.Role;\n</code></pre>\n<p>it shows error in <code>io.agora.media</code> part. I don't know how to import from the <code>/src</code> folder any help?</p>\n"},{"tags":["java","configuration","hocon"],"answers":[{"tags":[],"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1327430894,"creation_date":1327430894,"answer_id":8992317,"question_id":8992262,"body_markdown":"There&#39;s a Java library to handle JSON files if that&#39;s what you&#39;re looking for:\r\n\r\nhttp://www.json.org/java/index.html\r\n\r\nCheck out other tools on the main page:\r\n\r\nhttp://json.org/","title":"Human editable JSON-like or YAML-like program configuration in Java","body":"<p>There's a Java library to handle JSON files if that's what you're looking for:</p>\n\n<p><a href=\"http://www.json.org/java/index.html\" rel=\"nofollow\">http://www.json.org/java/index.html</a></p>\n\n<p>Check out other tools on the main page:</p>\n\n<p><a href=\"http://json.org/\" rel=\"nofollow\">http://json.org/</a></p>\n"},{"tags":[],"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327431201,"creation_date":1327431201,"answer_id":8992376,"question_id":8992262,"body_markdown":"[Apache Commons Configuration API][1] and [Constretto][2] seem to be somewhat popular and support multiple formats (no JSON mentioned, though). I&#39;ve personally never tried either, so YMMV.\r\n\r\n\r\n  [1]: http://commons.apache.org/configuration/\r\n  [2]: http://constretto.jira.com/wiki/display/CC/Introduction","title":"Human editable JSON-like or YAML-like program configuration in Java","body":"<p><a href=\"http://commons.apache.org/configuration/\" rel=\"nofollow\">Apache Commons Configuration API</a> and <a href=\"http://constretto.jira.com/wiki/display/CC/Introduction\" rel=\"nofollow\">Constretto</a> seem to be somewhat popular and support multiple formats (no JSON mentioned, though). I've personally never tried either, so YMMV.</p>\n"},{"tags":[],"owner":{"account_id":1328045,"reputation":8993,"user_id":1272477,"accept_rate":100,"display_name":"mguymon"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1353979686,"creation_date":1353979686,"answer_id":13576082,"question_id":8992262,"body_markdown":"I think https://github.com/typesafehub/config is exactly what you are looking for. The format is called *HOCON* for *Human-Optimized Config Object Notation* and it a super-set of *JSON*. \r\n\r\n[Examples of HOCON][1]:\r\n\r\n*HOCON* that is also valid *JSON*:\r\n\r\n    {\r\n        &quot;foo&quot; : {\r\n            &quot;bar&quot; : 10,\r\n            &quot;baz&quot; : 12\r\n        }\r\n    }\r\n\r\nHOCON also supports standard properties format, so the following is valid as well:\r\n\r\n    foo.bar=10\r\n    foo.baz=12\r\n\r\nOne of the features I find very useful is inheritance, this allows you to layer configurations. For instance a library would have a `reference.conf`, and the application using the library would have an `application.conf`. The settings in the `application.conf` will override the defaults in `reference.conf`.\r\n\r\n[Standard Behavior][2] for loading configs:\r\n\r\n&gt; The convenience method ConfigFactory.load() loads the following\r\n&gt; (first-listed are higher priority):\r\n&gt; \r\n&gt; * system properties application.conf (all resources on classpath with\r\n&gt; this name) \r\n&gt; * application.json (all resources on classpath with this\r\n&gt; name) \r\n&gt; * application.properties (all resources on classpath with this\r\n&gt; name) \r\n&gt; * reference.conf (all resources on classpath with this name)\r\n\r\n\r\n  [1]: https://github.com/typesafehub/config#examples-of-hocon\r\n  [2]: https://github.com/typesafehub/config#standard-behavior","title":"Human editable JSON-like or YAML-like program configuration in Java","body":"<p>I think <a href=\"https://github.com/typesafehub/config\" rel=\"noreferrer\">https://github.com/typesafehub/config</a> is exactly what you are looking for. The format is called <em>HOCON</em> for <em>Human-Optimized Config Object Notation</em> and it a super-set of <em>JSON</em>. </p>\n\n<p><a href=\"https://github.com/typesafehub/config#examples-of-hocon\" rel=\"noreferrer\">Examples of HOCON</a>:</p>\n\n<p><em>HOCON</em> that is also valid <em>JSON</em>:</p>\n\n<pre><code>{\n    \"foo\" : {\n        \"bar\" : 10,\n        \"baz\" : 12\n    }\n}\n</code></pre>\n\n<p>HOCON also supports standard properties format, so the following is valid as well:</p>\n\n<pre><code>foo.bar=10\nfoo.baz=12\n</code></pre>\n\n<p>One of the features I find very useful is inheritance, this allows you to layer configurations. For instance a library would have a <code>reference.conf</code>, and the application using the library would have an <code>application.conf</code>. The settings in the <code>application.conf</code> will override the defaults in <code>reference.conf</code>.</p>\n\n<p><a href=\"https://github.com/typesafehub/config#standard-behavior\" rel=\"noreferrer\">Standard Behavior</a> for loading configs:</p>\n\n<blockquote>\n  <p>The convenience method ConfigFactory.load() loads the following\n  (first-listed are higher priority):</p>\n  \n  <ul>\n  <li>system properties application.conf (all resources on classpath with\n  this name) </li>\n  <li>application.json (all resources on classpath with this\n  name) </li>\n  <li>application.properties (all resources on classpath with this\n  name) </li>\n  <li>reference.conf (all resources on classpath with this name)</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":103755,"reputation":21224,"user_id":277740,"accept_rate":51,"display_name":"tokhi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666940057,"creation_date":1397639760,"answer_id":23104973,"question_id":8992262,"body_markdown":"I found this [HOCON][1] example:\r\n\r\n    my.organization {\r\n        project {\r\n            name = &quot;DeathStar&quot;\r\n            description = ${my.organization.project.name} &quot;is a tool to take control over whole world. By world I mean couch, computer and fridge ;)&quot;\r\n        }\r\n        team {\r\n            members = [\r\n                &quot;Aneta&quot;\r\n                &quot;Kamil&quot;\r\n                &quot;Lukasz&quot;\r\n                &quot;Marcin&quot;\r\n            ]\r\n        }\r\n    }\r\n    my.organization.team.avgAge = 26\r\n\r\nto read values:\r\n\r\n    val config = ConfigFactory.load()\r\n    config.getString(&quot;my.organization.project.name&quot;)  // =&gt; DeathStar\r\n    config.getString(&quot;my.organization.project.description&quot;) // =&gt; DeathStar is a tool to take control over whole world. By world I mean couch, computer and fridge ;)\r\n    config.getInt(&quot;my.organization.team.avgAge&quot;) // =&gt; 26\r\n    config.getStringList(&quot;my.organization.team.members&quot;) // =&gt; [Aneta, Kamil, Lukasz, Marcin]\r\n\r\n*Reference*: [marcinkubala.wordpress.com][2]\r\n\r\n\r\n  [1]: https://github.com/lightbend/config\r\n  [2]: http://marcinkubala.wordpress.com/2013/10/09/typesace-config-hocon/","title":"Human editable JSON-like or YAML-like program configuration in Java","body":"<p>I found this <a href=\"https://github.com/lightbend/config\" rel=\"nofollow noreferrer\">HOCON</a> example:</p>\n<pre><code>my.organization {\n    project {\n        name = &quot;DeathStar&quot;\n        description = ${my.organization.project.name} &quot;is a tool to take control over whole world. By world I mean couch, computer and fridge ;)&quot;\n    }\n    team {\n        members = [\n            &quot;Aneta&quot;\n            &quot;Kamil&quot;\n            &quot;Lukasz&quot;\n            &quot;Marcin&quot;\n        ]\n    }\n}\nmy.organization.team.avgAge = 26\n</code></pre>\n<p>to read values:</p>\n<pre><code>val config = ConfigFactory.load()\nconfig.getString(&quot;my.organization.project.name&quot;)  // =&gt; DeathStar\nconfig.getString(&quot;my.organization.project.description&quot;) // =&gt; DeathStar is a tool to take control over whole world. By world I mean couch, computer and fridge ;)\nconfig.getInt(&quot;my.organization.team.avgAge&quot;) // =&gt; 26\nconfig.getStringList(&quot;my.organization.team.members&quot;) // =&gt; [Aneta, Kamil, Lukasz, Marcin]\n</code></pre>\n<p><em>Reference</em>: <a href=\"http://marcinkubala.wordpress.com/2013/10/09/typesace-config-hocon/\" rel=\"nofollow noreferrer\">marcinkubala.wordpress.com</a></p>\n"}],"owner":{"account_id":7307,"reputation":7664,"user_id":12649,"accept_rate":82,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9856,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":13576082,"answer_count":4,"score":10,"last_activity_date":1666940057,"creation_date":1327430679,"question_id":8992262,"body_markdown":"Is there a Java library similar to libconfig for C++, where the config file is stored in a JSON-like format that can be edited by humans, and later read from the program? \r\n\r\nI don&#39;t want to use Spring or any of the larger frameworks. What I&#39;m looking for is a small, fast, self-contained library. I looked at `java.util.Properties`, but it doesn&#39;t seem to support hierarchical/nested config data.","title":"Human editable JSON-like or YAML-like program configuration in Java","body":"<p>Is there a Java library similar to libconfig for C++, where the config file is stored in a JSON-like format that can be edited by humans, and later read from the program? </p>\n\n<p>I don't want to use Spring or any of the larger frameworks. What I'm looking for is a small, fast, self-contained library. I looked at <code>java.util.Properties</code>, but it doesn't seem to support hierarchical/nested config data.</p>\n"},{"tags":["java","spring","log4j","slf4j"],"comments":[{"owner":{"account_id":174874,"reputation":1481,"user_id":404501,"display_name":"Markus Kull"},"score":0,"creation_date":1549274584,"post_id":49688304,"comment_id":95830550,"body_markdown":"Had the same error when trying to get a log4j v1 library to work with SpringBoot2+slf4j+logback because i added log4j-1.2-api trying to route log4j v1 to v2. Much simpler log4j-over-slf4j was the solution.","body":"Had the same error when trying to get a log4j v1 library to work with SpringBoot2+slf4j+logback because i added log4j-1.2-api trying to route log4j v1 to v2. Much simpler log4j-over-slf4j was the solution."}],"answers":[{"tags":[],"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1523015466,"creation_date":1523015466,"answer_id":49692197,"question_id":49688304,"body_markdown":"In Maven, you can **exclude** a sub dependency from a dependency. Try this:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t    &lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t    &lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"SLF4JLoggerContext cannot be cast to LoggerContext","body":"<p>In Maven, you can <strong>exclude</strong> a sub dependency from a dependency. Try this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666940010,"creation_date":1666940010,"answer_id":74231622,"question_id":49688304,"body_markdown":"For me is spring-boot-starter-logging conflict with log4j-spring-boot, I exclude the log4j from spring-boot-starter-logging\r\n\r\n```xml\r\n        &lt;!-- Karate log depends on logback during test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;!-- Exclude the log4j that conflict with log4j-spring-boot --&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```","title":"SLF4JLoggerContext cannot be cast to LoggerContext","body":"<p>For me is spring-boot-starter-logging conflict with log4j-spring-boot, I exclude the log4j from spring-boot-starter-logging</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- Karate log depends on logback during test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude the log4j that conflict with log4j-spring-boot --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"}],"owner":{"account_id":6289243,"reputation":1529,"user_id":4887464,"accept_rate":100,"display_name":"Olga Pshenichnikova"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15051,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":49692197,"answer_count":2,"score":11,"last_activity_date":1666940010,"creation_date":1523002369,"question_id":49688304,"body_markdown":"I get known error: \r\n\r\n    Getting Exception org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\r\n\r\nI know that the solution is to remove log4j-to-slf4j from the classpath, as described here: https://stackoverflow.com/questions/25891737/getting-exception-org-apache-logging-slf4j-slf4jloggercontext-cannot-be-cast-to\r\n\r\nBut the project is build with maven and contains `spring-boot-starter-web` which imports the dependency. I can not get rid from `spring-boot-starter-web`, and I need `log4j`.  \r\n\r\nHere is the pom:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;ru.beinteractive&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;newlps&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;name&gt;newlps&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\t\r\n    \t&lt;dependencies&gt;\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.14.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.externalsortinginjava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;externalsortinginjava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t   &lt;type&gt;jar&lt;/type&gt;\r\n    \t\t   &lt;version&gt;20171018&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n    \t\t   &lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quartz-jobs&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t   &lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.opera&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;operadriver&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;9.4.8.v20171121&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;webAppConfig&gt;\r\n    \t\t\t\t\t\t&lt;allowDuplicateFragmentNames&gt;\r\n    \t\t\t\t\t\t\ttrue\r\n    \t\t\t\t\t\t&lt;/allowDuplicateFragmentNames&gt;\r\n    \t\t\t\t\t&lt;/webAppConfig&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;warName&gt;newlps&lt;/warName&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\t\t\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-releases&lt;/id&gt;\r\n                &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n                &lt;id&gt;repository.spring.release&lt;/id&gt;\r\n                &lt;name&gt;Spring GA Repository&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"SLF4JLoggerContext cannot be cast to LoggerContext","body":"<p>I get known error: </p>\n\n<pre><code>Getting Exception org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\n</code></pre>\n\n<p>I know that the solution is to remove log4j-to-slf4j from the classpath, as described here: <a href=\"https://stackoverflow.com/questions/25891737/getting-exception-org-apache-logging-slf4j-slf4jloggercontext-cannot-be-cast-to\">Getting Exception org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext</a></p>\n\n<p>But the project is build with maven and contains <code>spring-boot-starter-web</code> which imports the dependency. I can not get rid from <code>spring-boot-starter-web</code>, and I need <code>log4j</code>.  </p>\n\n<p>Here is the pom:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ru.beinteractive&lt;/groupId&gt;\n    &lt;artifactId&gt;newlps&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;newlps&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;   \n    &lt;dependencies&gt;  \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.externalsortinginjava&lt;/groupId&gt;\n            &lt;artifactId&gt;externalsortinginjava&lt;/artifactId&gt;\n            &lt;version&gt;0.1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.json&lt;/groupId&gt;\n           &lt;artifactId&gt;json&lt;/artifactId&gt;\n           &lt;type&gt;jar&lt;/type&gt;\n           &lt;version&gt;20171018&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n           &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz-jobs&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n           &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n           &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opera&lt;/groupId&gt;\n            &lt;artifactId&gt;operadriver&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.4.8.v20171121&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webAppConfig&gt;\n                        &lt;allowDuplicateFragmentNames&gt;\n                            true\n                        &lt;/allowDuplicateFragmentNames&gt;\n                    &lt;/webAppConfig&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;warName&gt;newlps&lt;/warName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;      \n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;repository.spring.release&lt;/id&gt;\n            &lt;name&gt;Spring GA Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":22201335,"reputation":329,"user_id":16441984,"display_name":"Programmerabc"},"score":1,"creation_date":1666620513,"post_id":74182132,"comment_id":130974024,"body_markdown":"Can you elaborate where are you writing and compiling it and also give a snippet for the output. I don&#39;t think this is how class works. The `class InvertString` needs to be in a separate file. Also `i&lt;=0` is not correct it should be `i&gt;=0`","body":"Can you elaborate where are you writing and compiling it and also give a snippet for the output. I don&#39;t think this is how class works. The <code>class InvertString</code> needs to be in a separate file. Also <code>i&lt;=0</code> is not correct it should be <code>i&gt;=0</code>"}],"answers":[{"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666620316,"creation_date":1666620316,"answer_id":74182355,"question_id":74182132,"body_markdown":"The error is here: \r\n\r\n    i &lt;= 0\r\n\r\nIt should be `i &gt;= 0`.\r\n\r\nBut simpler would be to use: `new StringBuilder(text).reverse().toString()`","title":"Java Class to convert a string returns empty","body":"<p>The error is here:</p>\n<pre><code>i &lt;= 0\n</code></pre>\n<p>It should be <code>i &gt;= 0</code>.</p>\n<p>But simpler would be to use: <code>new StringBuilder(text).reverse().toString()</code></p>\n"}],"owner":{"account_id":25787310,"reputation":1,"user_id":19531879,"display_name":"user19531879"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1667665921,"accepted_answer_id":74182355,"answer_count":1,"score":-1,"last_activity_date":1666939973,"creation_date":1666619471,"question_id":74182132,"body_markdown":"Class to convert a string returns empty:\r\n\r\nHello! I am creating a class with a method to invert a String (by the way, I have already done this many times, only not as a class and instantiated in an object) The program compiles and does not show an error, it only returns the empty string and does not take the reversed string value.\r\n\r\n```java\r\n    public class InvertString {\r\n    \t//Attribute\r\n    \tpublic String invertedString = &quot;&quot;;\r\n    \t//Method\r\n    \tpublic String mInvertString(String text) {\r\n    \t\t\r\n    \t\tfor (int i = text.length()-1; i &lt;= 0; i--) {\r\n    \t\t\tinvertedString += text.charAt(i);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn invertedString;\r\n    \t}\r\n    }\r\n    \r\n    \r\n    public class MainInvertString {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tInvertString invertString = new InvertString();\r\n    \t\tString test = invertString.mInvertString(&quot;Hello&quot;);\r\n    \t\tSystem.out.println(&quot;Result: &quot;+test);\r\n    \r\n    \t}\r\n    \r\n    }\r\n```","title":"Java Class to convert a string returns empty","body":"<p>Class to convert a string returns empty:</p>\n<p>Hello! I am creating a class with a method to invert a String (by the way, I have already done this many times, only not as a class and instantiated in an object) The program compiles and does not show an error, it only returns the empty string and does not take the reversed string value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class InvertString {\n        //Attribute\n        public String invertedString = &quot;&quot;;\n        //Method\n        public String mInvertString(String text) {\n            \n            for (int i = text.length()-1; i &lt;= 0; i--) {\n                invertedString += text.charAt(i);\n            }\n            \n            return invertedString;\n        }\n    }\n    \n    \n    public class MainInvertString {\n    \n        public static void main(String[] args) {\n            // TODO Auto-generated method stub\n            InvertString invertString = new InvertString();\n            String test = invertString.mInvertString(&quot;Hello&quot;);\n            System.out.println(&quot;Result: &quot;+test);\n    \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","dto"],"answers":[{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666939369,"creation_date":1666939369,"answer_id":74231522,"question_id":74230158,"body_markdown":"I think you could replace both your `ResponseUserDTO` and `RequestUserDTO` with `UserDTO` and extend `BaseResponseDTO` on it, when you send a request body using `UserDTO` the code won&#39;t care if you send it along with the `BaseResponseDTO` or not (since I didn&#39;t see any validation here), so if you not gonna use those in your request function it will be just fine\r\n\r\n    public abstract class BaseResponseDTO {\r\n          protected UUID id;\r\n          protected Integer version;\r\n          protected Date created;\r\n          protected Date modified;\r\n    }\r\n    public class UserDTO extends BaseResponseDTO {\r\n          private String firstName;\r\n          private String lastName;\r\n    }\r\n","title":"Avoiding code duplication while using seperate DTOs for request and reponse","body":"<p>I think you could replace both your <code>ResponseUserDTO</code> and <code>RequestUserDTO</code> with <code>UserDTO</code> and extend <code>BaseResponseDTO</code> on it, when you send a request body using <code>UserDTO</code> the code won't care if you send it along with the <code>BaseResponseDTO</code> or not (since I didn't see any validation here), so if you not gonna use those in your request function it will be just fine</p>\n<pre><code>public abstract class BaseResponseDTO {\n      protected UUID id;\n      protected Integer version;\n      protected Date created;\n      protected Date modified;\n}\npublic class UserDTO extends BaseResponseDTO {\n      private String firstName;\n      private String lastName;\n}\n</code></pre>\n"}],"owner":{"account_id":13833192,"reputation":37,"user_id":9985476,"display_name":"mac501"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666939369,"creation_date":1666925584,"question_id":74230158,"body_markdown":"I&#39;m using the DTO pattern for managing HTTP bodies in a Spring Boot REST application. I have seperate DTOs for requests and responses as the response contains additional data. I&#39;m using inheritance for the response DTO as the additional data included is the same for all response objects. The structure is as following (annotations and methods ommited for clearance):\r\n\r\n```\r\npublic abstract class BaseResponseDTO {\r\n    protected UUID id;\r\n    protected Integer version;\r\n    protected Date created;\r\n    protected Date modified;\r\n}\r\n\r\npublic class RequestUserDTO {\r\n    private String firstName;\r\n    private String lastName;\r\n}\r\n\r\npublic class ResponseUserDTO extends BaseResponseDTO {\r\n    private String firstName;\r\n    private String lastName;\r\n}\r\n```\r\n\r\nThere is obvious code duplication here. It would be ideal for the ResponseUserDTO to extend both BaseResponseDTO and RequestUserDTO which is not allowed.\r\n\r\nOther option would be to use composition and have something as follows:\r\n\r\n```\r\npublic abstract class BaseResponseDTO {\r\n    protected UUID id;\r\n    protected Integer version;\r\n    protected Date created;\r\n    protected Date modified;\r\n}\r\n\r\npublic class UserDTO {\r\n    private String firstName;\r\n    private String lastName;\r\n}\r\n\r\npublic class RequestUserDTO {\r\n    private UserDTO payload;\r\n}\r\n\r\npublic class ResponseUserDTO extends BaseResponseDTO {\r\n    private UserDTO payload;\r\n}\r\n```\r\n\r\nThe problems I have with this approach are:\r\n\r\n 1. It still does not prevent code duplication\r\n 2. It forces client to wrap the body in `payload`\r\n\r\nWhat can be done about that?","title":"Avoiding code duplication while using seperate DTOs for request and reponse","body":"<p>I'm using the DTO pattern for managing HTTP bodies in a Spring Boot REST application. I have seperate DTOs for requests and responses as the response contains additional data. I'm using inheritance for the response DTO as the additional data included is the same for all response objects. The structure is as following (annotations and methods ommited for clearance):</p>\n<pre><code>public abstract class BaseResponseDTO {\n    protected UUID id;\n    protected Integer version;\n    protected Date created;\n    protected Date modified;\n}\n\npublic class RequestUserDTO {\n    private String firstName;\n    private String lastName;\n}\n\npublic class ResponseUserDTO extends BaseResponseDTO {\n    private String firstName;\n    private String lastName;\n}\n</code></pre>\n<p>There is obvious code duplication here. It would be ideal for the ResponseUserDTO to extend both BaseResponseDTO and RequestUserDTO which is not allowed.</p>\n<p>Other option would be to use composition and have something as follows:</p>\n<pre><code>public abstract class BaseResponseDTO {\n    protected UUID id;\n    protected Integer version;\n    protected Date created;\n    protected Date modified;\n}\n\npublic class UserDTO {\n    private String firstName;\n    private String lastName;\n}\n\npublic class RequestUserDTO {\n    private UserDTO payload;\n}\n\npublic class ResponseUserDTO extends BaseResponseDTO {\n    private UserDTO payload;\n}\n</code></pre>\n<p>The problems I have with this approach are:</p>\n<ol>\n<li>It still does not prevent code duplication</li>\n<li>It forces client to wrap the body in <code>payload</code></li>\n</ol>\n<p>What can be done about that?</p>\n"},{"tags":["java","regex","elasticsearch"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1666937717,"post_id":74231234,"comment_id":131057055,"body_markdown":"Try `[0-9]` instead of `\\\\d`","body":"Try <code>[0-9]</code> instead of <code>\\\\d</code>"},{"owner":{"account_id":24895138,"reputation":3,"user_id":18766481,"display_name":"Yxisen"},"score":0,"creation_date":1666938043,"post_id":74231234,"comment_id":131057124,"body_markdown":"@Bohemian I have tried what you suggested, not workd either.","body":"@Bohemian I have tried what you suggested, not workd either."},{"owner":{"account_id":24895138,"reputation":3,"user_id":18766481,"display_name":"Yxisen"},"score":0,"creation_date":1666939439,"post_id":74231234,"comment_id":131057449,"body_markdown":"@Bohemian Thank you!  I forget to change the fist `\\\\d{8}` just now, so it not worked.","body":"@Bohemian Thank you!  I forget to change the fist <code>\\\\d{8}</code> just now, so it not worked."}],"answers":[{"tags":[],"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666939246,"creation_date":1666937921,"answer_id":74231334,"question_id":74231234,"body_markdown":"Check this [page](https://www.elastic.co/guide/en/elasticsearch/reference/current/regexp-syntax.html) for regular expression syntax.\r\n\r\n\r\n1. use [0-9] instead of \\d.\r\n\r\n````\r\n{\r\n  &quot;from&quot;: 0,\r\n  &quot;size&quot;: 10,\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must&quot;: [\r\n        {\r\n          &quot;bool&quot;: {\r\n            &quot;filter&quot;: [\r\n              {\r\n                &quot;regexp&quot;: {\r\n                  &quot;next_follow_time.keyword&quot;: {\r\n                     &quot;value&quot;: &quot;&quot;&quot;([0-9]{8}-[01],)*(((202210((2[89])|(3[01])))|(2022((1[12]))[0-9]{2})|(20((2[3-9])|([3-9][0-9]))[0-9]]{4}))-[01])([,][0-9]{8}-[01])*&quot;&quot;&quot;\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n````","title":"Regex query not works in EleasticSearch but works in java","body":"<p>Check this <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/regexp-syntax.html\" rel=\"nofollow noreferrer\">page</a> for regular expression syntax.</p>\n<ol>\n<li>use [0-9] instead of \\d.</li>\n</ol>\n<pre><code>{\n  &quot;from&quot;: 0,\n  &quot;size&quot;: 10,\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;bool&quot;: {\n            &quot;filter&quot;: [\n              {\n                &quot;regexp&quot;: {\n                  &quot;next_follow_time.keyword&quot;: {\n                     &quot;value&quot;: &quot;&quot;&quot;([0-9]{8}-[01],)*(((202210((2[89])|(3[01])))|(2022((1[12]))[0-9]{2})|(20((2[3-9])|([3-9][0-9]))[0-9]]{4}))-[01])([,][0-9]{8}-[01])*&quot;&quot;&quot;\n                  }\n                }\n              }\n            ]\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24895138,"reputation":3,"user_id":18766481,"display_name":"Yxisen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74231334,"answer_count":1,"score":0,"last_activity_date":1666939246,"creation_date":1666937166,"question_id":74231234,"body_markdown":"The Regex works in java but is not woked in ElasticSearch.\r\n\r\n\r\nJava:\r\n\r\n```java\r\n\r\nPattern pattern = Pattern.compile(&quot;(\\\\d{8}-[01],)*(((202210((2[89])|(3[01])))|(2022((1[12]))\\\\d{2})|(20((2[3-9])|([3-9][0-9]))\\\\d{4}))-[01])*([,]\\\\d{8}-[01])*&quot;);\r\nMatcher matcher = pattern.matcher(&quot;20221027-0,20221028-1&quot;);\r\nSystem.out.println(matcher.matches());\r\n```\r\n\r\nIt prints `true`\r\n\r\nBut when I using EleasticSearch, it was not woked. \r\n\r\nThe folloing json is the document what I want to query in EleasticSearch.\r\n\r\n```json\r\n\r\n{\r\n    &quot;_index&quot;: &quot;eagle_clue_v1&quot;,\r\n    &quot;_type&quot;: &quot;_doc&quot;,\r\n    &quot;_id&quot;: &quot;51740&quot;,\r\n    &quot;_score&quot;: 0.0,\r\n    &quot;_source&quot;: {\r\n        &quot;id&quot;: 51740,\r\n        &quot;next_follow_time&quot;: &quot;20221027-0,20221028-1&quot;\r\n    }\r\n}\r\n```\r\n\r\nThe following query was not worked\r\n\r\n```\r\nPOST /eagle_clue_v1/_search\r\n{\r\n    &quot;from&quot;: 0,\r\n    &quot;size&quot;: 10,\r\n    &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;must&quot;: [\r\n                {\r\n                    &quot;bool&quot;: {\r\n                        &quot;filter&quot;: [\r\n                            {\r\n                                &quot;terms&quot;: {\r\n                                    &quot;id&quot;: [\r\n                                        &quot;51740&quot;\r\n                                    ]\r\n                                }\r\n                            },\r\n                            {\r\n                                &quot;regexp&quot;: {\r\n                                    &quot;next_follow_time.keyword&quot;: {\r\n                                        &quot;value&quot;: &quot;(\\\\d{8}-[01],)*(((202210((2[89])|(3[01])))|(2022((1[12]))\\\\d{2})|(20((2[3-9])|([3-9][0-9]))\\\\d{4}))-[01])([,]\\\\d{8}-[01])*&quot;\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Regex query not works in EleasticSearch but works in java","body":"<p>The Regex works in java but is not woked in ElasticSearch.</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nPattern pattern = Pattern.compile(&quot;(\\\\d{8}-[01],)*(((202210((2[89])|(3[01])))|(2022((1[12]))\\\\d{2})|(20((2[3-9])|([3-9][0-9]))\\\\d{4}))-[01])*([,]\\\\d{8}-[01])*&quot;);\nMatcher matcher = pattern.matcher(&quot;20221027-0,20221028-1&quot;);\nSystem.out.println(matcher.matches());\n</code></pre>\n<p>It prints <code>true</code></p>\n<p>But when I using EleasticSearch, it was not woked.</p>\n<p>The folloing json is the document what I want to query in EleasticSearch.</p>\n<pre class=\"lang-json prettyprint-override\"><code>\n{\n    &quot;_index&quot;: &quot;eagle_clue_v1&quot;,\n    &quot;_type&quot;: &quot;_doc&quot;,\n    &quot;_id&quot;: &quot;51740&quot;,\n    &quot;_score&quot;: 0.0,\n    &quot;_source&quot;: {\n        &quot;id&quot;: 51740,\n        &quot;next_follow_time&quot;: &quot;20221027-0,20221028-1&quot;\n    }\n}\n</code></pre>\n<p>The following query was not worked</p>\n<pre><code>POST /eagle_clue_v1/_search\n{\n    &quot;from&quot;: 0,\n    &quot;size&quot;: 10,\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must&quot;: [\n                {\n                    &quot;bool&quot;: {\n                        &quot;filter&quot;: [\n                            {\n                                &quot;terms&quot;: {\n                                    &quot;id&quot;: [\n                                        &quot;51740&quot;\n                                    ]\n                                }\n                            },\n                            {\n                                &quot;regexp&quot;: {\n                                    &quot;next_follow_time.keyword&quot;: {\n                                        &quot;value&quot;: &quot;(\\\\d{8}-[01],)*(((202210((2[89])|(3[01])))|(2022((1[12]))\\\\d{2})|(20((2[3-9])|([3-9][0-9]))\\\\d{4}))-[01])([,]\\\\d{8}-[01])*&quot;\n                                    }\n                                }\n                            }\n                        ]\n                    }\n                }\n            ]\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658541492,"creation_date":1658541492,"answer_id":73087527,"question_id":73084346,"body_markdown":"You can add JDK installations via the setting: `java.configuration.runtimes`\r\n\r\ne.g.\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\Program Files\\\\AdoptOpenJDK\\\\jdk-8.0.302.8-hotspot&quot;,\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\Program Files\\\\AdoptOpenJDK\\\\jdk-11.0.10.9-hotspot&quot;\r\n        }\r\n    ]\r\n```","title":"How set specific JRE version on Vscode","body":"<p>You can add JDK installations via the setting: <code>java.configuration.runtimes</code></p>\n<p>e.g.</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;C:\\\\Program Files\\\\AdoptOpenJDK\\\\jdk-8.0.302.8-hotspot&quot;,\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\n            &quot;path&quot;: &quot;C:\\\\Program Files\\\\AdoptOpenJDK\\\\jdk-11.0.10.9-hotspot&quot;\n        }\n    ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658720395,"creation_date":1658720395,"answer_id":73103822,"question_id":73084346,"body_markdown":"**Here are two modification methods:**\r\n\r\n1. Please set the `pom.xml` file for the maven project\r\n\r\n```xml\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\n2. Modify the `.settings\\org.eclipse.jdt.core.prefs` file under the Java project\r\n\r\n```prefs\r\neclipse.preferences.version=1\r\norg.eclipse.jdt.core.compiler.codegen.targetPlatform=11\r\norg.eclipse.jdt.core.compiler.compliance=11\r\norg.eclipse.jdt.core.compiler.problem.enablePreviewFeatures=disabled\r\norg.eclipse.jdt.core.compiler.problem.forbiddenReference=ignore\r\norg.eclipse.jdt.core.compiler.problem.reportPreviewFeatures=ignore\r\norg.eclipse.jdt.core.compiler.processAnnotations=enabled\r\norg.eclipse.jdt.core.compiler.release=disabled\r\norg.eclipse.jdt.core.compiler.source=11\r\n```","title":"How set specific JRE version on Vscode","body":"<p><strong>Here are two modification methods:</strong></p>\n<ol>\n<li>Please set the <code>pom.xml</code> file for the maven project</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Modify the <code>.settings\\org.eclipse.jdt.core.prefs</code> file under the Java project</li>\n</ol>\n<pre><code>eclipse.preferences.version=1\norg.eclipse.jdt.core.compiler.codegen.targetPlatform=11\norg.eclipse.jdt.core.compiler.compliance=11\norg.eclipse.jdt.core.compiler.problem.enablePreviewFeatures=disabled\norg.eclipse.jdt.core.compiler.problem.forbiddenReference=ignore\norg.eclipse.jdt.core.compiler.problem.reportPreviewFeatures=ignore\norg.eclipse.jdt.core.compiler.processAnnotations=enabled\norg.eclipse.jdt.core.compiler.release=disabled\norg.eclipse.jdt.core.compiler.source=11\n</code></pre>\n"}],"owner":{"account_id":19499399,"reputation":7,"user_id":14265872,"display_name":"Valencia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666939207,"creation_date":1658512709,"question_id":73084346,"body_markdown":"I&#39;m trying to build a AEM project with maven, but when opening the project with vscode the error\r\n ***The compiler compliance specified is 1.8 but a JRE 11 is used*** is show. \r\n\r\nI tried configuring the java runtime pressing ctrl + shift + p, but its shows that i&#39;m only using the 1.8 versions\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xizms.png\r\n  [2]: https://i.stack.imgur.com/FyfZu.png\r\n\r\n\r\nHow can I set vscode to use the right JRE version?","title":"How set specific JRE version on Vscode","body":"<p>I'm trying to build a AEM project with maven, but when opening the project with vscode the error\n<em><strong>The compiler compliance specified is 1.8 but a JRE 11 is used</strong></em> is show.</p>\n<p>I tried configuring the java runtime pressing ctrl + shift + p, but its shows that i'm only using the 1.8 versions\n<a href=\"https://i.stack.imgur.com/Xizms.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xizms.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/FyfZu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyfZu.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I set vscode to use the right JRE version?</p>\n"},{"tags":["java","spring","spring-boot","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1666682391,"post_id":74189201,"comment_id":130988659,"body_markdown":"So it can&#39;t find a lot of stuff. How are you doing the install? What repositories/ does Eclipse know about?","body":"So it can&#39;t find a lot of stuff. How are you doing the install? What repositories/ does Eclipse know about?"}],"answers":[{"tags":[],"owner":{"account_id":24961106,"reputation":11,"user_id":18825062,"display_name":"Gokul Seetharaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666939189,"creation_date":1666682368,"answer_id":74190344,"question_id":74189201,"body_markdown":"You can download STS on this website [https://spring.io/tools][1] STS is also an eclipse software and it&#39;s used for Spring development.\r\n\r\n\r\n  [1]: https://spring.io/tools","title":"I can&#39;t install Spring STS in Eclipse","body":"<p>You can download STS on this website <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">https://spring.io/tools</a> STS is also an eclipse software and it's used for Spring development.</p>\n"}],"owner":{"account_id":26723618,"reputation":1,"user_id":20327025,"display_name":"Nauval Laudza Munadjat P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666939189,"creation_date":1666672839,"question_id":74189201,"body_markdown":"[![Error dialog][1]][1]\r\n\r\nDetails :\r\n```none\r\nAn error occurred while collecting items to be installed\r\nsession context was:(profile=C__Users_asusm_eclipse_java-2022-09_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nNo repository found containing: osgi.bundle,com.hierynomus.sshj,0.24.0\r\nNo repository found containing: osgi.bundle,com.jcraft.jzlib,1.1.3.v20220502-1820\r\nNo repository found containing: osgi.bundle,io.projectreactor.reactor-core,3.3.1.202003091750-RELEASE\r\nNo repository found containing: osgi.bundle,org.apache.commons.lang3,3.4.0\r\nNo repository found containing: osgi.bundle,org.dadacoalition.yedit,1.0.18.201602092025-RELEASE-SIGNED\r\nNo repository found containing: osgi.bundle,org.reactivestreams.reactive-streams,1.0.3\r\nNo repository found containing: org.eclipse.update.feature,org.springframework.boot.ide.main.feature,4.16.0.202209151144\r\nNo repository found containing: binary,org.springframework.boot.ide.main.feature_root,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.beans.ui.live,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.dash,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.dash.cf,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.dash.docker,4.16.0.202209151144\r\nNo repository found containing: org.eclipse.update.feature,org.springframework.ide.eclipse.boot.dash.feature,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.launch,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.refactoring,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.restart,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.templates,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.validation,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.wizard,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.buildship30,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.docker.client,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.editor.support,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.imports,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.maven.pom,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.xml.namespaces,4.16.0.202209151144\r\nNo repository found containing: org.eclipse.update.feature,org.springframework.ide.eclipse.xml.namespaces.feature,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springframework.tooling.boot.ls,1.39.0.202209151102\r\nNo repository found containing: org.eclipse.update.feature,org.springframework.tooling.boot.ls.feature,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springframework.tooling.cloudfoundry.manifest.ls,1.39.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springframework.tooling.jdt.ls.commons,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springframework.tooling.ls.eclipse.commons,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springframework.tooling.ls.eclipse.gotosymbol,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.boot.ls,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.cloudfoundry.client.v2,4.16.0.202209151144\r\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.core,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.frameworks.core,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.frameworks.ui,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.jdk_tools,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.livexp,4.16.0.202209151102\r\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.ui,4.16.0.202209151102\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/Y0kfP.png","title":"I can&#39;t install Spring STS in Eclipse","body":"<p><a href=\"https://i.stack.imgur.com/Y0kfP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y0kfP.png\" alt=\"Error dialog\" /></a></p>\n<p>Details :</p>\n<pre class=\"lang-none prettyprint-override\"><code>An error occurred while collecting items to be installed\nsession context was:(profile=C__Users_asusm_eclipse_java-2022-09_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nNo repository found containing: osgi.bundle,com.hierynomus.sshj,0.24.0\nNo repository found containing: osgi.bundle,com.jcraft.jzlib,1.1.3.v20220502-1820\nNo repository found containing: osgi.bundle,io.projectreactor.reactor-core,3.3.1.202003091750-RELEASE\nNo repository found containing: osgi.bundle,org.apache.commons.lang3,3.4.0\nNo repository found containing: osgi.bundle,org.dadacoalition.yedit,1.0.18.201602092025-RELEASE-SIGNED\nNo repository found containing: osgi.bundle,org.reactivestreams.reactive-streams,1.0.3\nNo repository found containing: org.eclipse.update.feature,org.springframework.boot.ide.main.feature,4.16.0.202209151144\nNo repository found containing: binary,org.springframework.boot.ide.main.feature_root,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.beans.ui.live,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.dash,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.dash.cf,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.dash.docker,4.16.0.202209151144\nNo repository found containing: org.eclipse.update.feature,org.springframework.ide.eclipse.boot.dash.feature,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.launch,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.refactoring,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.restart,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.templates,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.validation,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.boot.wizard,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.buildship30,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.docker.client,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.editor.support,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.imports,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.maven.pom,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.ide.eclipse.xml.namespaces,4.16.0.202209151144\nNo repository found containing: org.eclipse.update.feature,org.springframework.ide.eclipse.xml.namespaces.feature,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springframework.tooling.boot.ls,1.39.0.202209151102\nNo repository found containing: org.eclipse.update.feature,org.springframework.tooling.boot.ls.feature,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springframework.tooling.cloudfoundry.manifest.ls,1.39.0.202209151102\nNo repository found containing: osgi.bundle,org.springframework.tooling.jdt.ls.commons,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springframework.tooling.ls.eclipse.commons,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springframework.tooling.ls.eclipse.gotosymbol,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.boot.ls,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.cloudfoundry.client.v2,4.16.0.202209151144\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.core,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.frameworks.core,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.frameworks.ui,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.jdk_tools,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.livexp,4.16.0.202209151102\nNo repository found containing: osgi.bundle,org.springsource.ide.eclipse.commons.ui,4.16.0.202209151102\n</code></pre>\n"},{"tags":["java","file","javafx","deserialization","file-handling"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":2,"creation_date":1666803298,"post_id":74211473,"comment_id":131024133,"body_markdown":"Can&#39;t you just catch the `FileNotFoundException` exception, and then execute the commented lines only when you do so?","body":"Can&#39;t you just catch the <code>FileNotFoundException</code> exception, and then execute the commented lines only when you do so?"},{"owner":{"account_id":22625133,"reputation":29,"user_id":16803333,"display_name":"Ignacio"},"score":0,"creation_date":1666805408,"post_id":74211473,"comment_id":131024781,"body_markdown":"Thank you for the answer. I am rather new to java, the code for file handling was taken from some slides. How may I catch the exception? I have attempted a `try {DeserializeDatabase()}` ,with the catch being adding those two objects but I probably did it wrong and it did not quite work.","body":"Thank you for the answer. I am rather new to java, the code for file handling was taken from some slides. How may I catch the exception? I have attempted a <code>try {DeserializeDatabase()}</code> ,with the catch being adding those two objects but I probably did it wrong and it did not quite work."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1666806390,"post_id":74211473,"comment_id":131025115,"body_markdown":"`java.util.prefs.Preferences` is ideal for this.","body":"<code>java.util.prefs.Preferences</code> is ideal for this."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1666848111,"post_id":74211473,"comment_id":131033466,"body_markdown":"For an example of `Preferences` use in a Makery tutorial for doing something like this, see the [makery tutorial](https://code.makery.ch/library/javafx-tutorial/part5/).","body":"For an example of <code>Preferences</code> use in a Makery tutorial for doing something like this, see the <a href=\"https://code.makery.ch/library/javafx-tutorial/part5/\" rel=\"nofollow noreferrer\">makery tutorial</a>."}],"answers":[{"tags":[],"owner":{"account_id":22625133,"reputation":29,"user_id":16803333,"display_name":"Ignacio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666939153,"creation_date":1666814226,"answer_id":74213577,"question_id":74211473,"body_markdown":"User @CryptoFool was right. I ended up catching the `FileNotFoundException` and added the default objects there. The method ended up as:\r\n\r\n    public  void DeserializeDatabase() {\r\n        try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;members.dat&quot;))) {\r\n            while (true) {\r\n                try {\r\n                    User user = (User) ois.readObject();\r\n                    users.add(user);\r\n                } catch (EOFException eofe) {\r\n                    break;\r\n                } catch (ClassNotFoundException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        } catch (IOException fnf) {\r\n            users.add(new User(//user stuff);\r\n            users.add(new User(//user stuff);\r\n        }\r\n    }","title":"Filling in List if found for deserialization is not found","body":"<p>User @CryptoFool was right. I ended up catching the <code>FileNotFoundException</code> and added the default objects there. The method ended up as:</p>\n<pre><code>public  void DeserializeDatabase() {\n    try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;members.dat&quot;))) {\n        while (true) {\n            try {\n                User user = (User) ois.readObject();\n                users.add(user);\n            } catch (EOFException eofe) {\n                break;\n            } catch (ClassNotFoundException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    } catch (IOException fnf) {\n        users.add(new User(//user stuff);\n        users.add(new User(//user stuff);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22625133,"reputation":29,"user_id":16803333,"display_name":"Ignacio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74213577,"answer_count":1,"score":1,"last_activity_date":1666939153,"creation_date":1666803068,"question_id":74211473,"body_markdown":"I have a javafx application with a Controller which has a `List` of `Book` objects. I&#39;ve managed to serialize this list when I want, and deserialize it when my application closes or updates the List. However, I would like to make it so that if the file is not found (aka, the first time the application is run), the List would instead be filled with predetermined objects. How may I achieve this?\r\n\r\nHere&#39;s the method I use to deserialize:\r\n```\r\npublic  void DeserializeDatabase() throws FileNotFoundException { //the name database is just required for the exercise\r\n        try (ObjectInputStream ois = new ObjectInputStream(\r\n                new FileInputStream(&quot;members.dat&quot;))) {\r\n            while (true) {\r\n                try {\r\n                    User user = (User)ois.readObject();\r\n                    users.add(user);\r\n                } catch (EOFException eofe){\r\n                    break;\r\n                } catch (ClassNotFoundException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nHere&#39;s the constructor for the Controller:\r\n```\r\n public Database() throws FileNotFoundException {\r\n        this.users = new ArrayList&lt;&gt;();\r\n        //users.add(new User(1, &quot;user1&quot;, &quot;lastName1&quot;, LocalDate.of(2020, 4, 29), &quot;0000&quot;));\r\n        //users.add(new User(2, &quot;user2&quot;, &quot;lastName2&quot;, LocalDate.of(1992, 4, 17), &quot;0000&quot;));\r\n        DeserializeDatabase();\r\n    }\r\n``` \r\n(the commented out objects are the ones I would like to add if the file is not found)\r\n\r\nAny help is greatly appreciated, please do tell if more information is required","title":"Filling in List if found for deserialization is not found","body":"<p>I have a javafx application with a Controller which has a <code>List</code> of <code>Book</code> objects. I've managed to serialize this list when I want, and deserialize it when my application closes or updates the List. However, I would like to make it so that if the file is not found (aka, the first time the application is run), the List would instead be filled with predetermined objects. How may I achieve this?</p>\n<p>Here's the method I use to deserialize:</p>\n<pre><code>public  void DeserializeDatabase() throws FileNotFoundException { //the name database is just required for the exercise\n        try (ObjectInputStream ois = new ObjectInputStream(\n                new FileInputStream(&quot;members.dat&quot;))) {\n            while (true) {\n                try {\n                    User user = (User)ois.readObject();\n                    users.add(user);\n                } catch (EOFException eofe){\n                    break;\n                } catch (ClassNotFoundException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Here's the constructor for the Controller:</p>\n<pre><code> public Database() throws FileNotFoundException {\n        this.users = new ArrayList&lt;&gt;();\n        //users.add(new User(1, &quot;user1&quot;, &quot;lastName1&quot;, LocalDate.of(2020, 4, 29), &quot;0000&quot;));\n        //users.add(new User(2, &quot;user2&quot;, &quot;lastName2&quot;, LocalDate.of(1992, 4, 17), &quot;0000&quot;));\n        DeserializeDatabase();\n    }\n</code></pre>\n<p>(the commented out objects are the ones I would like to add if the file is not found)</p>\n<p>Any help is greatly appreciated, please do tell if more information is required</p>\n"},{"tags":["java","android","kotlin","android-room"],"comments":[{"owner":{"account_id":15366220,"reputation":2061,"user_id":11085663,"display_name":"Saeid Lotfi"},"score":0,"creation_date":1596031679,"post_id":63154562,"comment_id":111679732,"body_markdown":"did u added to database ?","body":"did u added to database ?"},{"owner":{"account_id":17936402,"reputation":764,"user_id":13032644,"display_name":"imn"},"score":0,"creation_date":1596039252,"post_id":63154562,"comment_id":111684033,"body_markdown":"@SaeedLotfi Yes of course","body":"@SaeedLotfi Yes of course"},{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":1,"creation_date":1596041832,"post_id":63154562,"comment_id":111685277,"body_markdown":"Your post includes a TypeConverter for `List&lt;FoodItem&gt;`.  Do you have one for `List&lt;Meal&gt;`?","body":"Your post includes a TypeConverter for <code>List&lt;FoodItem&gt;</code>.  Do you have one for <code>List&lt;Meal&gt;</code>?"},{"owner":{"account_id":3324705,"reputation":495,"user_id":2795035,"accept_rate":31,"display_name":"Shashi Shiva L"},"score":0,"creation_date":1666852216,"post_id":63154562,"comment_id":131034263,"body_markdown":"@imnithish If you found the solution please post it here.","body":"@imnithish If you found the solution please post it here."}],"answers":[{"tags":[],"owner":{"account_id":19542366,"reputation":29,"user_id":14299876,"display_name":"Nephes Dr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603564853,"creation_date":1603523507,"answer_id":64510898,"question_id":63154562,"body_markdown":"You have to add the annotation ```@Embedded``` to your second data class ```Meal```","title":"Android Room Type Converter for Custom Object","body":"<p>You have to add the annotation <code>@Embedded</code> to your second data class <code>Meal</code></p>\n"},{"tags":[],"owner":{"account_id":11501392,"reputation":946,"user_id":8429100,"display_name":"Guilherme Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607552779,"creation_date":1607552779,"answer_id":65225831,"question_id":63154562,"body_markdown":"Try adding @TypeConverters before breakfast.\r\n\r\n```\r\n@TypeConverters(Converter::class)\r\nvar breakfast: List&lt;Meal&gt;\r\n``` ","title":"Android Room Type Converter for Custom Object","body":"<p>Try adding @TypeConverters before breakfast.</p>\n<pre><code>@TypeConverters(Converter::class)\nvar breakfast: List&lt;Meal&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17936402,"reputation":764,"user_id":13032644,"display_name":"imn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666938755,"creation_date":1666938755,"answer_id":74231443,"question_id":63154562,"body_markdown":"Updated working code:\r\n\r\n    @Entity(tableName = &quot;calorie_daily_table&quot;)\r\n    data class CalorieDaily(\r\n    @PrimaryKey\r\n    var date: String,\r\n    @TypeConverters(Converters::class)\r\n    var breakfast: List&lt;Meal&gt;)\r\n\r\n    data class Meal(\r\n    var foodItem: String,\r\n    var foodQuantity: String,\r\n    var calorie: Int)\r\n\r\n\r\n    class Converter {\r\n    var gson = Gson()\r\n\r\n    @TypeConverter\r\n    fun fromBreakfast(mealItems: List&lt;Meal&gt;): String {\r\n    return gson.toJson(mealItems)\r\n    }\r\n\r\n    @TypeConverter\r\n    fun toBreakfast(data: String): List&lt;Meal&gt; {\r\n    val listType = object : TypeToken&lt;List&lt;Meal&gt;&gt;() {\r\n    }.type\r\n    return gson.fromJson(data, listType)\r\n    }\r\n    }","title":"Android Room Type Converter for Custom Object","body":"<p>Updated working code:</p>\n<pre><code>@Entity(tableName = &quot;calorie_daily_table&quot;)\ndata class CalorieDaily(\n@PrimaryKey\nvar date: String,\n@TypeConverters(Converters::class)\nvar breakfast: List&lt;Meal&gt;)\n\ndata class Meal(\nvar foodItem: String,\nvar foodQuantity: String,\nvar calorie: Int)\n\n\nclass Converter {\nvar gson = Gson()\n\n@TypeConverter\nfun fromBreakfast(mealItems: List&lt;Meal&gt;): String {\nreturn gson.toJson(mealItems)\n}\n\n@TypeConverter\nfun toBreakfast(data: String): List&lt;Meal&gt; {\nval listType = object : TypeToken&lt;List&lt;Meal&gt;&gt;() {\n}.type\nreturn gson.fromJson(data, listType)\n}\n}\n</code></pre>\n"}],"owner":{"account_id":17936402,"reputation":764,"user_id":13032644,"display_name":"imn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3481,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1666938755,"creation_date":1596028820,"question_id":63154562,"body_markdown":"I&#39;m getting an error while using a list of custom object with Room.\r\n\r\n    error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.\r\n\r\nSo my data class is like this:\r\n\r\n    @Entity(tableName = &quot;calorie_daily_table&quot;)\r\n    data class CalorieDaily(\r\n    @PrimaryKey\r\n    var date: String,\r\n    var breakfast: List&lt;Meal&gt;)\r\n\r\n    data class Meal(\r\n    var foodItem: String,\r\n    var foodQuantity: String,\r\n    var calorie: Int)\r\n\r\n\r\nHow can i write a TypeConverter to handle this?\r\n\r\nSo, I&#39;ve something like this:\r\n\r\n    class Converter {\r\n\r\n    var gson = Gson()\r\n\r\n    @TypeConverter\r\n    fun foodItemToString(foodItems: List&lt;FoodItem&gt;): String {\r\n        return gson.toJson(foodItems)\r\n    }\r\n\r\n    @TypeConverter\r\n    fun stringToFoodItem(data: String): List&lt;FoodItem&gt; {\r\n        val listType = object : TypeToken&lt;List&lt;FoodItem&gt;&gt;() {\r\n        }.type\r\n        return gson.fromJson(data, listType)\r\n    }\r\n    }\r\n\r\nBut, still getting the same error.\r\n","title":"Android Room Type Converter for Custom Object","body":"<p>I'm getting an error while using a list of custom object with Room.</p>\n<pre><code>error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.\n</code></pre>\n<p>So my data class is like this:</p>\n<pre><code>@Entity(tableName = &quot;calorie_daily_table&quot;)\ndata class CalorieDaily(\n@PrimaryKey\nvar date: String,\nvar breakfast: List&lt;Meal&gt;)\n\ndata class Meal(\nvar foodItem: String,\nvar foodQuantity: String,\nvar calorie: Int)\n</code></pre>\n<p>How can i write a TypeConverter to handle this?</p>\n<p>So, I've something like this:</p>\n<pre><code>class Converter {\n\nvar gson = Gson()\n\n@TypeConverter\nfun foodItemToString(foodItems: List&lt;FoodItem&gt;): String {\n    return gson.toJson(foodItems)\n}\n\n@TypeConverter\nfun stringToFoodItem(data: String): List&lt;FoodItem&gt; {\n    val listType = object : TypeToken&lt;List&lt;FoodItem&gt;&gt;() {\n    }.type\n    return gson.fromJson(data, listType)\n}\n}\n</code></pre>\n<p>But, still getting the same error.</p>\n"},{"tags":["java","web-services","rest","jersey-2.0"],"comments":[{"owner":{"account_id":2624730,"reputation":6476,"user_id":2272004,"accept_rate":52,"display_name":"greyfox"},"score":0,"creation_date":1436543331,"post_id":30002246,"comment_id":50673912,"body_markdown":"Wish someone had an answer to this, I have the same question","body":"Wish someone had an answer to this, I have the same question"}],"answers":[{"tags":[],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597013659,"creation_date":1436965263,"answer_id":31431151,"question_id":30002246,"body_markdown":"The @suspend annotation makes the caller actually wait until your done work.  Lets say you have a lot of work to do on another thread.  when you use jersey @suspend the caller just sits there and waits (so on a web browser they just see a spinner) until your AsyncResponse object returns data to it.  \r\n\r\nImagine you had a really long operation you had to do and you want to do it on another thread (or multiple threads). Now we can have the user wait until we are done.  Don&#39;t forget in jersey you&#39;ll need to add the &quot; &lt;async-supported&gt;true&lt;/async-supported&gt;&quot; right in the jersey servlet definition in web.xml to get it to work. ","title":"jersey ws 2.0 @suspended AsyncResponse, what does it do?","body":"<p>The @suspend annotation makes the caller actually wait until your done work.  Lets say you have a lot of work to do on another thread.  when you use jersey @suspend the caller just sits there and waits (so on a web browser they just see a spinner) until your AsyncResponse object returns data to it.</p>\n<p>Imagine you had a really long operation you had to do and you want to do it on another thread (or multiple threads). Now we can have the user wait until we are done.  Don't forget in jersey you'll need to add the &quot; true&quot; right in the jersey servlet definition in web.xml to get it to work.</p>\n"},{"tags":[],"owner":{"account_id":2278862,"reputation":611,"user_id":2004499,"display_name":"Abhishek Mishra"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1666938683,"creation_date":1506238578,"answer_id":46387729,"question_id":30002246,"body_markdown":"@Suspended have more definite if you used it, else it will not make any difference of using it.\r\n\r\nLet&#39;s talk about benefits of it:\r\n - @Suspended will pause/Suspend the current thread until it gets response,by default #NO_TIMEOUT no suspend timeout set. So it doesn&#39;t mean your request response (I/O)thread will get free and be available for other request.\r\n - Now Assume you want your service to be a response with some specific time, but the method you are calling from resource not guarantee the response time, then how will you manage your service response time? At that time, you can set suspend timeout for your service using `@Suspended`, and even provide a fall back response when time get exceed.\r\n\r\nBelow is some sample of code for setting suspend/pause timeout\r\n\r\n    public void longRunningOperation(@Suspended AsyncResponse ar) {\r\n           ar.setTimeoutHandler(customHandler);\r\n           ar.setTimeout(10, TimeUnit.SECONDS);\r\n           final String result = executeLongRunningOperation();\r\n           ar.resume(result);\r\n    }\r\n\r\n[for more details refer this][1]\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/async.html#d0e10368","title":"jersey ws 2.0 @suspended AsyncResponse, what does it do?","body":"<p>@Suspended have more definite if you used it, else it will not make any difference of using it.</p>\n<p>Let's talk about benefits of it:</p>\n<ul>\n<li>@Suspended will pause/Suspend the current thread until it gets response,by default #NO_TIMEOUT no suspend timeout set. So it doesn't mean your request response (I/O)thread will get free and be available for other request.</li>\n<li>Now Assume you want your service to be a response with some specific time, but the method you are calling from resource not guarantee the response time, then how will you manage your service response time? At that time, you can set suspend timeout for your service using <code>@Suspended</code>, and even provide a fall back response when time get exceed.</li>\n</ul>\n<p>Below is some sample of code for setting suspend/pause timeout</p>\n<pre><code>public void longRunningOperation(@Suspended AsyncResponse ar) {\n       ar.setTimeoutHandler(customHandler);\n       ar.setTimeout(10, TimeUnit.SECONDS);\n       final String result = executeLongRunningOperation();\n       ar.resume(result);\n}\n</code></pre>\n<p><a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/async.html#d0e10368\" rel=\"nofollow noreferrer\">for more details refer this</a></p>\n"},{"tags":[],"owner":{"account_id":284086,"reputation":793,"user_id":581966,"accept_rate":75,"display_name":"John Calcote"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570749064,"creation_date":1570748750,"answer_id":58332201,"question_id":30002246,"body_markdown":"The @Suspended annotation is added before an AsyncResponse parameter on the resource method to tell the underlying web server not to expect this thread to return a response for the remote caller:\r\n\r\n    @POST\r\n    public void asyncPost(@Suspended final AsyncResponse ar, ... &lt;args&gt;) {\r\n        someAsyncMethodInYourServer(&lt;args&gt;, new AsyncMethodCallback() {\r\n            @Override\r\n            void completed(&lt;results&gt;) {\r\n                ar.complete(Response.ok(&lt;results&gt;).build());\r\n            }\r\n\r\n            @Override\r\n            void failed(Throwable t) {\r\n                ar.failed(t);\r\n            }\r\n        }\r\n    }\r\n\r\nRather, the AsyncResponse object is used by the thread that calls completed or failed on the callback object to return an &#39;ok&#39; or throw an error to the client.\r\n\r\nConsider using such asynchronous resources in conjunction with an async jersey client. If you&#39;re trying to implement a ReST service that exposes a fundamentally async api, these patterns allow you to project the async api through the ReST interface.\r\n\r\nWe don&#39;t create async interfaces because we have a process that takes a long time (minutes or hours) to run, but rather because we don&#39;t want our threads to ever sleep - we send the request and register a callback handler to be called later when the result is ready - from milliseconds to seconds later - in a synchronous interface, the calling thread would be sleeping during that time, rather than doing something useful. One of the fastest web servers ever written is single threaded and completely asynchronous. That thread never sleeps, and because there is only one thread, there&#39;s no context switching going on under the covers (at least within that process).","title":"jersey ws 2.0 @suspended AsyncResponse, what does it do?","body":"<p>The @Suspended annotation is added before an AsyncResponse parameter on the resource method to tell the underlying web server not to expect this thread to return a response for the remote caller:</p>\n\n<pre><code>@POST\npublic void asyncPost(@Suspended final AsyncResponse ar, ... &lt;args&gt;) {\n    someAsyncMethodInYourServer(&lt;args&gt;, new AsyncMethodCallback() {\n        @Override\n        void completed(&lt;results&gt;) {\n            ar.complete(Response.ok(&lt;results&gt;).build());\n        }\n\n        @Override\n        void failed(Throwable t) {\n            ar.failed(t);\n        }\n    }\n}\n</code></pre>\n\n<p>Rather, the AsyncResponse object is used by the thread that calls completed or failed on the callback object to return an 'ok' or throw an error to the client.</p>\n\n<p>Consider using such asynchronous resources in conjunction with an async jersey client. If you're trying to implement a ReST service that exposes a fundamentally async api, these patterns allow you to project the async api through the ReST interface.</p>\n\n<p>We don't create async interfaces because we have a process that takes a long time (minutes or hours) to run, but rather because we don't want our threads to ever sleep - we send the request and register a callback handler to be called later when the result is ready - from milliseconds to seconds later - in a synchronous interface, the calling thread would be sleeping during that time, rather than doing something useful. One of the fastest web servers ever written is single threaded and completely asynchronous. That thread never sleeps, and because there is only one thread, there's no context switching going on under the covers (at least within that process).</p>\n"}],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10792,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":46387729,"answer_count":3,"score":10,"last_activity_date":1666938683,"creation_date":1430569337,"question_id":30002246,"body_markdown":"I am analyzing some jersey 2.0 code and i have a question on how the following method works:\r\n\r\n   \r\n\r\n    @Stateless\r\n      @Path(&quot;/mycoolstuff&quot;)\r\n      public class MyEjbResource {\r\n        …\r\n        @GET\r\n        @Asynchronous //does this mean the method executes on child thread ?\r\n        public void longRunningOperation(@Suspended AsyncResponse ar) {\r\n          final String result = executeLongRunningOperation();\r\n          ar.resume(result);\r\n        }\r\n    \r\n        private String executeLongRunningOperation() { … }\r\n      }\r\n\r\nLets say im at a web browser and i type in www.mysite/mycoolstuff\r\nthis will execute the method but im not understanding what the asyncResponse is used for neither the @Asynchronous annotation.  From the browser how would i notice its asychnronous ? what would be the difference in removing the annotation ? Also the suspended annotation after reading the [documentation][1] i&#39;m not clear its purpose. \r\n\r\nis the @Asynchronous annotation simply telling the program to execute this method on a new thread ? is it a convenience method for doing &quot;new Thread(.....)&quot; ?\r\n\r\nUpdate: this annotation relieves the server of hanging onto the request processing thread. Throughput can be better. Anyway from the official [docs][2]:\r\n\r\n    \r\n\r\n&gt; Request processing on the server works by default in a synchronous processing mode, which means that a client connection of a request is processed in a single I/O container thread. Once the thread processing the request returns to the I/O container, the container can safely assume that the request processing is finished and that the client connection can be safely released including all the resources associated with the connection. This model is typically sufficient for processing of requests for which the processing resource method execution takes a relatively short time. However, in cases where a resource method execution is known to take a long time to compute the result, server-side asynchronous processing model should be used. In this model, the association between a request processing thread and client connection is broken. I/O container that handles incoming request may no longer assume that a client connection can be safely closed when a request processing thread returns. Instead a facility for explicitly suspending, resuming and closing client connections needs to be exposed. Note that the use of server-side asynchronous processing model will not improve the request processing time perceived by the client. It will however increase the throughput of the server, by releasing the initial request processing thread back to the I/O container while the request may still be waiting in a queue for processing or the processing may still be running on another dedicated thread. The released I/O container thread can be used to accept and process new incoming request connections.\r\n\r\n\r\n  [1]: https://jersey.java.net/apidocs/2.11/jersey/javax/ws/rs/container/Suspended.html\r\n  [2]: https://jersey.java.net/documentation/latest/async.html","title":"jersey ws 2.0 @suspended AsyncResponse, what does it do?","body":"<p>I am analyzing some jersey 2.0 code and i have a question on how the following method works:</p>\n\n<pre><code>@Stateless\n  @Path(\"/mycoolstuff\")\n  public class MyEjbResource {\n    …\n    @GET\n    @Asynchronous //does this mean the method executes on child thread ?\n    public void longRunningOperation(@Suspended AsyncResponse ar) {\n      final String result = executeLongRunningOperation();\n      ar.resume(result);\n    }\n\n    private String executeLongRunningOperation() { … }\n  }\n</code></pre>\n\n<p>Lets say im at a web browser and i type in www.mysite/mycoolstuff\nthis will execute the method but im not understanding what the asyncResponse is used for neither the @Asynchronous annotation.  From the browser how would i notice its asychnronous ? what would be the difference in removing the annotation ? Also the suspended annotation after reading the <a href=\"https://jersey.java.net/apidocs/2.11/jersey/javax/ws/rs/container/Suspended.html\" rel=\"noreferrer\">documentation</a> i'm not clear its purpose. </p>\n\n<p>is the @Asynchronous annotation simply telling the program to execute this method on a new thread ? is it a convenience method for doing \"new Thread(.....)\" ?</p>\n\n<p>Update: this annotation relieves the server of hanging onto the request processing thread. Throughput can be better. Anyway from the official <a href=\"https://jersey.java.net/documentation/latest/async.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Request processing on the server works by default in a synchronous processing mode, which means that a client connection of a request is processed in a single I/O container thread. Once the thread processing the request returns to the I/O container, the container can safely assume that the request processing is finished and that the client connection can be safely released including all the resources associated with the connection. This model is typically sufficient for processing of requests for which the processing resource method execution takes a relatively short time. However, in cases where a resource method execution is known to take a long time to compute the result, server-side asynchronous processing model should be used. In this model, the association between a request processing thread and client connection is broken. I/O container that handles incoming request may no longer assume that a client connection can be safely closed when a request processing thread returns. Instead a facility for explicitly suspending, resuming and closing client connections needs to be exposed. Note that the use of server-side asynchronous processing model will not improve the request processing time perceived by the client. It will however increase the throughput of the server, by releasing the initial request processing thread back to the I/O container while the request may still be waiting in a queue for processing or the processing may still be running on another dedicated thread. The released I/O container thread can be used to accept and process new incoming request connections.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","timeout","scheduled-tasks"],"comments":[{"owner":{"account_id":1340125,"reputation":180,"user_id":1281964,"display_name":"Jefferson"},"score":0,"creation_date":1688599757,"post_id":74230801,"comment_id":135096787,"body_markdown":"Hey Yves... Good evening!\nDid you have found any solution for this question? \nI have the same problem now...","body":"Hey Yves... Good evening! Did you have found any solution for this question?  I have the same problem now..."},{"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"score":0,"creation_date":1688607953,"post_id":74230801,"comment_id":135097519,"body_markdown":"@Jefferson No I haven&#39;t. For now I simply set `fixedDelay` as the execution of my task won&#39;t spend more than 2 min in most of cases... As my understanding, we have to develop our custom TaskScheduler for this.","body":"@Jefferson No I haven&#39;t. For now I simply set <code>fixedDelay</code> as the execution of my task won&#39;t spend more than 2 min in most of cases... As my understanding, we have to develop our custom TaskScheduler for this."}],"answers":[{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666938494,"creation_date":1666938494,"answer_id":74231408,"question_id":74230801,"body_markdown":"I found another question that may be related to yours here\r\nhttps://stackoverflow.com/a/31740351/10297961\r\n\r\nthe answer suggested you should try to implement some ThreadPoolTaskScheduler config to control your scheduler ","title":"How to set a timeout in the Scheduled task of Springboot","body":"<p>I found another question that may be related to yours here\n<a href=\"https://stackoverflow.com/a/31740351/10297961\">https://stackoverflow.com/a/31740351/10297961</a></p>\n<p>the answer suggested you should try to implement some ThreadPoolTaskScheduler config to control your scheduler</p>\n"}],"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1584,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666938494,"creation_date":1666932809,"question_id":74230801,"body_markdown":"I&#39;m using Springboot to develop a web server.\r\n\r\nIn my project, I need to execute some task periodically so I used the Scheduled:\r\n\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n\r\n    public class TextFilter {    \r\n        @Scheduled(fixedDelay = 5 * 60 * 1000) // 5min\r\n        public void updateSensitiveWords() {\r\n            // do something\r\n        }\r\n    }\r\n\r\nAs you see, the function `updateSensitiveWords` will be executed after 5 minutes when the last execution has finished.\r\n\r\nHowever, I need to worry about the case, where the execution may spend too much time for some reason, e.g. 20 min. So I think I need to set a timeout for the function, something like this:\r\n\r\n    public class TextFilter {    \r\n        @Scheduled(fixedDelay = 5 * 60 * 1000, timeout = 2 * 60 * 1000)\r\n        public void updateSensitiveWords() {\r\n            // do something\r\n        }\r\n    }\r\nWhich means that if the execution of the function spends more than 2 min, abort/stop the execution and wait for the next time.\r\n\r\nWhat is the proper way to do so? Does Springboot provide some mechanism to do so?","title":"How to set a timeout in the Scheduled task of Springboot","body":"<p>I'm using Springboot to develop a web server.</p>\n<p>In my project, I need to execute some task periodically so I used the Scheduled:</p>\n<pre><code>import org.springframework.scheduling.annotation.Scheduled;\n\npublic class TextFilter {    \n    @Scheduled(fixedDelay = 5 * 60 * 1000) // 5min\n    public void updateSensitiveWords() {\n        // do something\n    }\n}\n</code></pre>\n<p>As you see, the function <code>updateSensitiveWords</code> will be executed after 5 minutes when the last execution has finished.</p>\n<p>However, I need to worry about the case, where the execution may spend too much time for some reason, e.g. 20 min. So I think I need to set a timeout for the function, something like this:</p>\n<pre><code>public class TextFilter {    \n    @Scheduled(fixedDelay = 5 * 60 * 1000, timeout = 2 * 60 * 1000)\n    public void updateSensitiveWords() {\n        // do something\n    }\n}\n</code></pre>\n<p>Which means that if the execution of the function spends more than 2 min, abort/stop the execution and wait for the next time.</p>\n<p>What is the proper way to do so? Does Springboot provide some mechanism to do so?</p>\n"},{"tags":["java","thread-safety"],"comments":[{"owner":{"account_id":3695522,"reputation":561,"user_id":3076981,"accept_rate":73,"display_name":"Arpit"},"score":2,"creation_date":1666935955,"post_id":74231072,"comment_id":131056759,"body_markdown":"why not to add synchronised setters in the POJO","body":"why not to add synchronised setters in the POJO"}],"answers":[{"tags":[],"owner":{"account_id":20627481,"reputation":46,"user_id":15142989,"display_name":"vickllny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666937622,"creation_date":1666937622,"answer_id":74231287,"question_id":74231072,"body_markdown":"In fact, there is an AtomicReferenceFieldUpdater class under the J.U.C package, you can use an instance of AtomicReferenceFieldUpdater to update object properties and it is thread-safe.\r\nInteger and Long data types can use AtomicIntegerFieldUpdater and AtomicLongFieldUpdater.\r\n\r\nDefine your POJO class\r\n\r\n    public class UserPojo {\r\n      volatile String userName;\r\n      volatile String password;\r\n      \r\n      public void setPassword(String password){\r\n        this.password = password;\r\n      }\r\n      \r\n      public void setUserName(String userName){\r\n        this.userName = userName;\r\n      }\r\n      \r\n      public String getUserName(){\r\n        return this.userName;\r\n      }\r\n      \r\n      public String getPassword(){\r\n        return this.password;\r\n      }\r\n    }\r\n\r\nTest\r\n\r\n    public class Test {\r\n\r\n      public static void main(String[] args){\r\n        //create updater\r\n        final AtomicReferenceFieldUpdater&lt;UserPojo, String&gt; updater = AtomicReferenceFieldUpdater.newUpdater(UserPojo.class, String.class, &quot;userName&quot;);\r\n        //UserPojo instance\r\n        UserPojo user = new UserPojo();\r\n        String userName = &quot;vickllny&quot;;\r\n        user.setUserName(userName);\r\n        //10 threads\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            final int count = i;\r\n            new Thread(() -&gt; {\r\n                //cas update\r\n                updater.compareAndSet(user, userName, userName + count);\r\n            }).start();\r\n        }\r\n     \r\n        //Wait for the thread to finish executing\r\n        try {\r\n            TimeUnit.SECONDS.sleep(3);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n      }\r\n    }\r\n","title":"How to create atomic POJO in java to handle thread safety?","body":"<p>In fact, there is an AtomicReferenceFieldUpdater class under the J.U.C package, you can use an instance of AtomicReferenceFieldUpdater to update object properties and it is thread-safe.\nInteger and Long data types can use AtomicIntegerFieldUpdater and AtomicLongFieldUpdater.</p>\n<p>Define your POJO class</p>\n<pre><code>public class UserPojo {\n  volatile String userName;\n  volatile String password;\n  \n  public void setPassword(String password){\n    this.password = password;\n  }\n  \n  public void setUserName(String userName){\n    this.userName = userName;\n  }\n  \n  public String getUserName(){\n    return this.userName;\n  }\n  \n  public String getPassword(){\n    return this.password;\n  }\n}\n</code></pre>\n<p>Test</p>\n<pre><code>public class Test {\n\n  public static void main(String[] args){\n    //create updater\n    final AtomicReferenceFieldUpdater&lt;UserPojo, String&gt; updater = AtomicReferenceFieldUpdater.newUpdater(UserPojo.class, String.class, &quot;userName&quot;);\n    //UserPojo instance\n    UserPojo user = new UserPojo();\n    String userName = &quot;vickllny&quot;;\n    user.setUserName(userName);\n    //10 threads\n    for (int i = 0; i &lt; 10; i++) {\n        final int count = i;\n        new Thread(() -&gt; {\n            //cas update\n            updater.compareAndSet(user, userName, userName + count);\n        }).start();\n    }\n \n    //Wait for the thread to finish executing\n    try {\n        TimeUnit.SECONDS.sleep(3);\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74231287,"answer_count":1,"score":0,"last_activity_date":1666938292,"creation_date":1666935595,"question_id":74231072,"body_markdown":"Under the package `java.util.concurrent.atomic` there are several classes like `AtomicInteger, AtomicBoolean` etc. to handle thread safety.\r\n\r\nHow can I create my POJO that has the same atomic properties to handle thread safety? Is this a bad practice to make POJO atomic?\r\n\r\nAre we supposed to use atomic fields in the POJO instead of atomic POJO?\r\n\r\nThe atomic classes do not implement or extend any `Atomic` interface or class, rather each of them has its own implementation. So if I want to define my `AtomicPojo` do I have to implement the same methods, or is there any third-party interface/class that can help me regarding this?\r\n\r\n","title":"How to create atomic POJO in java to handle thread safety?","body":"<p>Under the package <code>java.util.concurrent.atomic</code> there are several classes like <code>AtomicInteger, AtomicBoolean</code> etc. to handle thread safety.</p>\n<p>How can I create my POJO that has the same atomic properties to handle thread safety? Is this a bad practice to make POJO atomic?</p>\n<p>Are we supposed to use atomic fields in the POJO instead of atomic POJO?</p>\n<p>The atomic classes do not implement or extend any <code>Atomic</code> interface or class, rather each of them has its own implementation. So if I want to define my <code>AtomicPojo</code> do I have to implement the same methods, or is there any third-party interface/class that can help me regarding this?</p>\n"},{"tags":["java","json","rest","web-services","spring-boot"],"comments":[{"owner":{"account_id":1299298,"reputation":4175,"user_id":1249545,"accept_rate":90,"display_name":"dvelopp"},"score":0,"creation_date":1599590582,"post_id":46195015,"comment_id":112818612,"body_markdown":"Have you solved this problem? I&#39;m also interested in the solution.","body":"Have you solved this problem? I&#39;m also interested in the solution."},{"owner":{"account_id":1427657,"reputation":925,"user_id":1350772,"accept_rate":67,"display_name":"Sergio Martinez"},"score":1,"creation_date":1638889034,"post_id":46195015,"comment_id":124204180,"body_markdown":"@dvelopp nope would love to but no.","body":"@dvelopp nope would love to but no."}],"answers":[{"tags":[],"owner":{"account_id":23225212,"reputation":629,"user_id":17316835,"display_name":"HKBN-ITDS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666938292,"creation_date":1666938292,"answer_id":74231381,"question_id":46195015,"body_markdown":"This exception means your response type not match with your request header. If you are expecting JSON/Stream to be returned, your request header should be `{&quot;Accept&quot;:&quot;application/octet-stream,application/json&quot;}`.","title":"Return JSON on error when header {&quot;Accept&quot;:&quot;application/octet-stream&quot;} in request","body":"<p>This exception means your response type not match with your request header. If you are expecting JSON/Stream to be returned, your request header should be <code>{&quot;Accept&quot;:&quot;application/octet-stream,application/json&quot;}</code>.</p>\n"}],"owner":{"account_id":1427657,"reputation":925,"user_id":1350772,"accept_rate":67,"display_name":"Sergio Martinez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1666938292,"creation_date":1505298235,"question_id":46195015,"body_markdown":"I&#180;m having some issues when returning some errors from a rest WebService.\r\n\r\nMaking a request with the header `{&quot;Accept&quot;:&quot;application/octet-stream&quot;}` \r\n(the service returns a document `ResponseEntity&lt;InputStreamResource&gt;` if all the process goes well). \r\n\r\nWhen all the process goes well the document is downloaded fine, but when an error is occurred and the code jumps to the `@ControllerAdvice` and tries to return a JSON error. Here comes the problem, when trying to return the JSON springs crashes:\r\n\r\n    org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation \r\n\r\nHere is a example of some code:\r\n\r\nController\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET, produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_OCTET_STREAM_VALUE })\r\n    \tpublic ResponseEntity&lt;CustomError&gt; test() throws Exception {\r\n    \t\tthrow new Exception();\r\n    \t}\r\n\r\nControllerAdvice\r\n\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerAdvice {\r\n        private static final Logger logger = LogManager.getLogger(ExceptionHandlerAdvice.class);\r\n        \r\n    \t@ExceptionHandler({Exception.class,Throwable.class})\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;CustomError&gt; handleUnhandledException(Exception exception) {\r\n       \t\tCustomError error = new CustomError(exception.getMessage());\r\n    \t\treturn new ResponseEntity&lt;CustomError&gt;(error, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nCustomError:\r\n\r\n    public class CustomError {\r\n    \r\n    \tprivate String errorDescription;\r\n    \r\n    \tpublic CustomError(String errorDescription) {\r\n    \t\tsuper();\r\n    \t\tthis.errorDescription = errorDescription;\r\n    \t}\r\n    \r\n    \tpublic String getErrorDescription() {\r\n    \t\treturn errorDescription;\r\n    \t}\r\n    \r\n    \tpublic void setErrorDescription(String errorDescription) {\r\n    \t\tthis.errorDescription = errorDescription;\r\n    \t}\r\n    \r\n    }\r\n\r\nI&#180;ve also tried returning new headers on @controllerAdvice \r\n\r\n    @ExceptionHandler({Exception.class,Throwable.class})\r\n      @ResponseBody\r\n      public ResponseEntity&lt;CustomError&gt; handleUnhandledException(Exception exception) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        CustomError error = new CustomError(exception.getMessage());\r\n        return new ResponseEntity&lt;CustomError&gt;(error,headers, HttpStatus.INTERNAL_SERVER_ERROR);\r\n      }\r\n\r\nAny idea how can I make this work or ignore Accept header on response?\r\nIt&#180;s possible?\r\n\r\nThanks in advance","title":"Return JSON on error when header {&quot;Accept&quot;:&quot;application/octet-stream&quot;} in request","body":"<p>I´m having some issues when returning some errors from a rest WebService.</p>\n\n<p>Making a request with the header <code>{\"Accept\":\"application/octet-stream\"}</code> \n(the service returns a document <code>ResponseEntity&lt;InputStreamResource&gt;</code> if all the process goes well). </p>\n\n<p>When all the process goes well the document is downloaded fine, but when an error is occurred and the code jumps to the <code>@ControllerAdvice</code> and tries to return a JSON error. Here comes the problem, when trying to return the JSON springs crashes:</p>\n\n<pre><code>org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation \n</code></pre>\n\n<p>Here is a example of some code:</p>\n\n<p>Controller</p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET, produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_OCTET_STREAM_VALUE })\n    public ResponseEntity&lt;CustomError&gt; test() throws Exception {\n        throw new Exception();\n    }\n</code></pre>\n\n<p>ControllerAdvice</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerAdvice {\n    private static final Logger logger = LogManager.getLogger(ExceptionHandlerAdvice.class);\n\n    @ExceptionHandler({Exception.class,Throwable.class})\n    @ResponseBody\n    public ResponseEntity&lt;CustomError&gt; handleUnhandledException(Exception exception) {\n        CustomError error = new CustomError(exception.getMessage());\n        return new ResponseEntity&lt;CustomError&gt;(error, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n}\n</code></pre>\n\n<p>CustomError:</p>\n\n<pre><code>public class CustomError {\n\n    private String errorDescription;\n\n    public CustomError(String errorDescription) {\n        super();\n        this.errorDescription = errorDescription;\n    }\n\n    public String getErrorDescription() {\n        return errorDescription;\n    }\n\n    public void setErrorDescription(String errorDescription) {\n        this.errorDescription = errorDescription;\n    }\n\n}\n</code></pre>\n\n<p>I´ve also tried returning new headers on @controllerAdvice </p>\n\n<pre><code>@ExceptionHandler({Exception.class,Throwable.class})\n  @ResponseBody\n  public ResponseEntity&lt;CustomError&gt; handleUnhandledException(Exception exception) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    CustomError error = new CustomError(exception.getMessage());\n    return new ResponseEntity&lt;CustomError&gt;(error,headers, HttpStatus.INTERNAL_SERVER_ERROR);\n  }\n</code></pre>\n\n<p>Any idea how can I make this work or ignore Accept header on response?\nIt´s possible?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666890154,"creation_date":1666890154,"answer_id":74225746,"question_id":74225348,"body_markdown":"The full answer to that question is too much code to be copied here. I have packaged such a thing as a [TabSheet][1] add-on component, which can be found at Vaadin&#39;s Directory. It is noteworthy to mention here that similar TabSheet component will be included as an official component in Vaadin 23 soon.\r\n\r\n\r\n  [1]: https://vaadin.com/directory/component/tabsheet","title":"Vaadin: How to add Tabs dynamically and give them a view","body":"<p>The full answer to that question is too much code to be copied here. I have packaged such a thing as a <a href=\"https://vaadin.com/directory/component/tabsheet\" rel=\"nofollow noreferrer\">TabSheet</a> add-on component, which can be found at Vaadin's Directory. It is noteworthy to mention here that similar TabSheet component will be included as an official component in Vaadin 23 soon.</p>\n"}],"owner":{"account_id":15644869,"reputation":1,"user_id":11287264,"display_name":"Ygerg GT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666937710,"creation_date":1666888069,"question_id":74225348,"body_markdown":"I&#39;m trying to use an &quot;Add&quot; tab to create new Tabs and attach a view to them. In my mind I&#39;d to create something like the Excel sheets: when created, every view is a basic view in which the user can insert data. \r\n\r\nI tried this:\r\n\r\n```\r\nprivate void create() {\r\n\ttabs = new Tabs();\r\n\tplus = new Tab(&quot;+&quot;);\r\n\r\n\tplus.getElement().addEventListener(&quot;click&quot;, e -&gt; {\r\n\t\taddTab();\r\n\t});\r\n\t\t\r\n\ttabs.add(plus)\r\n\t\t\r\n}\r\n\r\nprivate void addTab() {\r\n\tTab tab = new Tab(&quot;New tab&quot;);\r\n\tRouterLink billview = new RouterLink(BasicView.class);\r\n\t\t\r\n\ttab.add(billview);\r\n\ttabs.add(tab);\r\n\t\t\r\n}\r\n\r\npublic class BasicView extends VerticalLayout{\r\n\t\r\n\t\r\n\tpublic BasicView() {\r\n\r\n\t\tTextField text = new TextField(&quot;Text&quot;);\r\n\t\tadd(text);\r\n\t}\r\n\t\r\n}\r\n```\r\nBut this creates tabs that have the same view (link), I want to have different views.\r\nCan anyone tell me how to achieve this?\r\n","title":"Vaadin: How to add Tabs dynamically and give them a view","body":"<p>I'm trying to use an &quot;Add&quot; tab to create new Tabs and attach a view to them. In my mind I'd to create something like the Excel sheets: when created, every view is a basic view in which the user can insert data.</p>\n<p>I tried this:</p>\n<pre><code>private void create() {\n    tabs = new Tabs();\n    plus = new Tab(&quot;+&quot;);\n\n    plus.getElement().addEventListener(&quot;click&quot;, e -&gt; {\n        addTab();\n    });\n        \n    tabs.add(plus)\n        \n}\n\nprivate void addTab() {\n    Tab tab = new Tab(&quot;New tab&quot;);\n    RouterLink billview = new RouterLink(BasicView.class);\n        \n    tab.add(billview);\n    tabs.add(tab);\n        \n}\n\npublic class BasicView extends VerticalLayout{\n    \n    \n    public BasicView() {\n\n        TextField text = new TextField(&quot;Text&quot;);\n        add(text);\n    }\n    \n}\n</code></pre>\n<p>But this creates tabs that have the same view (link), I want to have different views.\nCan anyone tell me how to achieve this?</p>\n"},{"tags":["java","pdf","extract","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1666938884,"post_id":74230707,"comment_id":131057307,"body_markdown":"Unless the pdf is properly tagged, there is no indication in the pdf about its structure, in particular what content is a table. Unfortunately tagging information in a PDF is optional. Thus, are your pdfs tagged properly?","body":"Unless the pdf is properly tagged, there is no indication in the pdf about its structure, in particular what content is a table. Unfortunately tagging information in a PDF is optional. Thus, are your pdfs tagged properly?"},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1666939389,"post_id":74230707,"comment_id":131057436,"body_markdown":"i am not sure if my PDF is properly tagged. any way to check it ?","body":"i am not sure if my PDF is properly tagged. any way to check it ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666947646,"post_id":74230707,"comment_id":131059836,"body_markdown":"You can try using the code from the [ExtractMarkedContent](https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/extract/ExtractMarkedContent.java) test, e.g. test method `testExtractTestWPhromma` with helper method `showContent`. If that code outputs something usable, the your PDF seems tagged in a usable way. That was code for [this stack overflow answer](https://stackoverflow.com/a/54983991/1729265) in the section titled &quot;Extraction of content with tags&quot;.","body":"You can try using the code from the <a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/extract/ExtractMarkedContent.java\" rel=\"nofollow noreferrer\">ExtractMarkedContent</a> test, e.g. test method <code>testExtractTestWPhromma</code> with helper method <code>showContent</code>. If that code outputs something usable, the your PDF seems tagged in a usable way. That was code for <a href=\"https://stackoverflow.com/a/54983991/1729265\">this stack overflow answer</a> in the section titled &quot;Extraction of content with tags&quot;."}],"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666937533,"creation_date":1666931927,"question_id":74230707,"body_markdown":"I am trying to extract data from PDF by header/table. I am not sure if the PDF data is considered to be header or table. I tried to find if there are any metadata in the PDF, but it is null instead.\r\n\r\nHere are the PDF examples:\r\n\r\nI want to get the lists and amount of each list from the Summary Of Charges Header.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBased on the summary of charges, there are the amount and qty for each charges. \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BWHrb.png\r\n  [2]: https://i.stack.imgur.com/OgxtE.png\r\n\r\nthis is my code for the metadata which metadata variable comes out as null:\r\n\r\nPDDocument document = PDDocument.load(new File(&quot;invoice.pdf&quot;));\r\n\t\t\r\n\t\tif(!document.isEncrypted()) {\r\n\t\t\tPDFTextStripper stripper  = new PDFTextStripper();\r\n\t\t\tstripper.setSortByPosition(true);\r\n\t\t\tString text = stripper.getText(document);\r\n\t\t\t\r\n\t\t\tPDDocumentInformation info = document.getDocumentInformation();\r\n\t\t\tPDDocumentCatalog catalog = document.getDocumentCatalog();\r\n\t\t\tPDMetadata metadata = catalog.getMetadata();\r\n\t\t\tInputStream stream = metadata.createInputStream();\r\n\t\t}\r\n\t\tdocument.close();`\r\n\r\n\r\nand this code basically just give me chunks of texts.\r\n\r\nPDDocument document = PDDocument.load(new File(&quot;invoice.pdf&quot;));\r\n\t\t\r\n\t\tif(!document.isEncrypted()) {\r\n\t\t\tPDFTextStripper stripper  = new PDFTextStripper();\r\n\t\t\tstripper.setSortByPosition(true);\r\n\t\t\tString text = stripper.getText(document);\r\n\t\t\t//InputStream stream = metadata.createInputStream();\r\n\t\t\tSystem.out.print(&quot;Text:&quot; + text);\r\n\t\t}\r\n\t\tdocument.close();","title":"extracting data by table/header using pdfbox","body":"<p>I am trying to extract data from PDF by header/table. I am not sure if the PDF data is considered to be header or table. I tried to find if there are any metadata in the PDF, but it is null instead.</p>\n<p>Here are the PDF examples:</p>\n<p>I want to get the lists and amount of each list from the Summary Of Charges Header.\n<a href=\"https://i.stack.imgur.com/BWHrb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BWHrb.png\" alt=\"enter image description here\" /></a></p>\n<p>Based on the summary of charges, there are the amount and qty for each charges.\n<a href=\"https://i.stack.imgur.com/OgxtE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OgxtE.png\" alt=\"enter image description here\" /></a></p>\n<p>this is my code for the metadata which metadata variable comes out as null:</p>\n<p>PDDocument document = PDDocument.load(new File(&quot;invoice.pdf&quot;));</p>\n<pre><code>    if(!document.isEncrypted()) {\n        PDFTextStripper stripper  = new PDFTextStripper();\n        stripper.setSortByPosition(true);\n        String text = stripper.getText(document);\n        \n        PDDocumentInformation info = document.getDocumentInformation();\n        PDDocumentCatalog catalog = document.getDocumentCatalog();\n        PDMetadata metadata = catalog.getMetadata();\n        InputStream stream = metadata.createInputStream();\n    }\n    document.close();`\n</code></pre>\n<p>and this code basically just give me chunks of texts.</p>\n<p>PDDocument document = PDDocument.load(new File(&quot;invoice.pdf&quot;));</p>\n<pre><code>    if(!document.isEncrypted()) {\n        PDFTextStripper stripper  = new PDFTextStripper();\n        stripper.setSortByPosition(true);\n        String text = stripper.getText(document);\n        //InputStream stream = metadata.createInputStream();\n        System.out.print(&quot;Text:&quot; + text);\n    }\n    document.close();\n</code></pre>\n"},{"tags":["java","command-prompt"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1652539955,"post_id":72241294,"comment_id":127633179,"body_markdown":"Do your environment is set?","body":"Do your environment is set?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1652540102,"post_id":72241294,"comment_id":127633211,"body_markdown":"What environment variable did you add? And what value does it have? Because I would assume one (or both) are not correct. Also did you add that to your `PATH`?","body":"What environment variable did you add? And what value does it have? Because I would assume one (or both) are not correct. Also did you add that to your <code>PATH</code>?"},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1652540645,"post_id":72241294,"comment_id":127633346,"body_markdown":"I just guess there is some vc-runtime-rdist library is missing in the environment.\nCould you find the java.exe/javac.exe, and use some depend-x86/x64.exe to find the \ndependency?","body":"I just guess there is some vc-runtime-rdist library is missing in the environment. Could you find the java.exe/javac.exe, and use some depend-x86/x64.exe to find the  dependency?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1652545582,"post_id":72241294,"comment_id":127634385,"body_markdown":"In PowerShell (not cmd) try using `where.exe java.exe` to see which location your Path is using to find `java` command.","body":"In PowerShell (not cmd) try using <code>where.exe java.exe</code> to see which location your Path is using to find <code>java</code> command."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1652545618,"post_id":72241294,"comment_id":127634393,"body_markdown":"looks like ytou hjave a noop script n amed java on your path","body":"looks like ytou hjave a noop script n amed java on your path"},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652603497,"post_id":72241294,"comment_id":127641914,"body_markdown":"Hi , Harry . yes my environment is set.","body":"Hi , Harry . yes my environment is set."},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652603660,"post_id":72241294,"comment_id":127641948,"body_markdown":"In user variable -var name-`JAVA_HOME` value-`C:\\Program Files (x86)\\Java\\jre1.8.0_333`","body":"In user variable -var name-<code>JAVA_HOME</code> value-<code>C:\\Program Files (x86)\\Java\\jre1.8.0_333</code>"},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652603774,"post_id":72241294,"comment_id":127641967,"body_markdown":"In system variable-`JAVA_HOME `value-`C:\\Program Files (x86)\\Java\\jre1.8.0_333`  and path is `%JAVA_HOME%\\bin`","body":"In system variable-<code>JAVA_HOME </code>value-<code>C:\\Program Files (x86)\\Java\\jre1.8.0_333</code>  and path is <code>%JAVA_HOME%\\bin</code>"},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652604012,"post_id":72241294,"comment_id":127642001,"body_markdown":"After runnung command on power shell i got this result     -                                       \n`PS C:\\Users\\absasahu&gt; where.exe java.exe\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe\n                                            C:\\Program Files (x86)\\Java\\jre1.8.0_333\\bin\\java.exe`","body":"After runnung command on power shell i got this result     -                                        <code>PS C:\\Users\\absasahu&gt; where.exe java.exe C:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe                                             C:\\Program Files (x86)\\Java\\jre1.8.0_333\\bin\\java.exe</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1652612974,"post_id":72241294,"comment_id":127643479,"body_markdown":"Reinstall java then","body":"Reinstall java then"},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652678573,"post_id":72241294,"comment_id":127655098,"body_markdown":"Reinstalled Java , still not working.","body":"Reinstalled Java , still not working."}],"answers":[{"tags":[],"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652791948,"creation_date":1652791948,"answer_id":72274415,"question_id":72241294,"body_markdown":"I got an answer to this. \r\n\r\nHere this came after running the command `where java.exe`,\r\nhere I see that I have two java.exe. On inside Common files and another inside Java. So , Because of this only I wasn&#39;t getting the answer.\r\n\r\n```\r\n\r\nPS C:\\Users\\absasahu&gt; where.exe java.exe \r\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe \r\n                                            \r\nC:\\Program Files (x86)\\Java\\jre1.8.0_333\\bin\\java.exe\r\n```\r\nAfter deleting the first java.exe file, I got my work done.\r\n https://i.stack.imgur.com/KSKal.png\r\n\r\n\r\n ","title":"Cmd is not showing Java Version","body":"<p>I got an answer to this.</p>\n<p>Here this came after running the command <code>where java.exe</code>,\nhere I see that I have two java.exe. On inside Common files and another inside Java. So , Because of this only I wasn't getting the answer.</p>\n<pre><code>\nPS C:\\Users\\absasahu&gt; where.exe java.exe \nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe \n                                            \nC:\\Program Files (x86)\\Java\\jre1.8.0_333\\bin\\java.exe\n</code></pre>\n<p>After deleting the first java.exe file, I got my work done.\n<a href=\"https://i.stack.imgur.com/KSKal.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/KSKal.png</a></p>\n"},{"tags":[],"owner":{"account_id":26757003,"reputation":1,"user_id":20355475,"display_name":"user20355475"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666937466,"creation_date":1666937466,"answer_id":74231272,"question_id":72241294,"body_markdown":"Hi download java this one:\r\n\r\n https://download.oracle.com/java/19/latest/jdk-19_windows-x64_bin.exe ( sha256)\r\nThen go Settings , environment variable , JAVA_HOME  C:\\Program Files\\Java\\jdk-19\\NewJava . I created newJava as folder while installing Java . and also set path C:\\Program Files\\Java\\jdk-19\\NewJava\\bin\r\n\r\nThen type in command prompt java -version","title":"Cmd is not showing Java Version","body":"<p>Hi download java this one:</p>\n<p><a href=\"https://download.oracle.com/java/19/latest/jdk-19_windows-x64_bin.exe\" rel=\"nofollow noreferrer\">https://download.oracle.com/java/19/latest/jdk-19_windows-x64_bin.exe</a> ( sha256)\nThen go Settings , environment variable , JAVA_HOME  C:\\Program Files\\Java\\jdk-19\\NewJava . I created newJava as folder while installing Java . and also set path C:\\Program Files\\Java\\jdk-19\\NewJava\\bin</p>\n<p>Then type in command prompt java -version</p>\n"}],"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666937466,"creation_date":1652539704,"question_id":72241294,"body_markdown":"I am running for `Java -version` &amp; `javac -version` in my cmd, but it isn&#39;t showing any output.\r\nIt just goes to the next line, and doesn&#39;t show anything.\r\nCan anyone here can help me. Any solution ,guys?\r\nI have also added an environment variable for it. \r\nI have attached a screenshot of it. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yNPNl.png","title":"Cmd is not showing Java Version","body":"<p>I am running for <code>Java -version</code> &amp; <code>javac -version</code> in my cmd, but it isn't showing any output.\nIt just goes to the next line, and doesn't show anything.\nCan anyone here can help me. Any solution ,guys?\nI have also added an environment variable for it.\nI have attached a screenshot of it.</p>\n<p><a href=\"https://i.stack.imgur.com/yNPNl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNPNl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","confluent-platform","ksqldb"],"comments":[{"owner":{"account_id":18509753,"reputation":246,"user_id":13485258,"display_name":"st123"},"score":0,"creation_date":1633575258,"post_id":68007528,"comment_id":122797861,"body_markdown":"how did you solve this","body":"how did you solve this"}],"answers":[{"tags":[],"owner":{"account_id":2593402,"reputation":26,"user_id":2247567,"display_name":"Linh Vu Tran Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625322632,"creation_date":1625322632,"answer_id":68237157,"question_id":68007528,"body_markdown":"Did you check the API_KEY/API_SECRET on your Confluent Cloud cluster to see if it is granted access to KSQLDB?","title":"KsqlClientException: Received 401 response from server: Unauthorized. Error code: 40100","body":"<p>Did you check the API_KEY/API_SECRET on your Confluent Cloud cluster to see if it is granted access to KSQLDB?</p>\n"}],"owner":{"account_id":686716,"reputation":352,"user_id":546232,"accept_rate":57,"display_name":"Alec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68237157,"answer_count":1,"score":1,"last_activity_date":1666937314,"creation_date":1623864664,"question_id":68007528,"body_markdown":"Trying to connect to Confluent hosted KSQL db.\r\n\r\n        String username = API_KEY;\t\t\r\n\t\tString password = API_SECRET;\r\n\t\t\r\n\t\tString CONFLUENT_CLOUD_HOST = &quot;pksqlc-xxxxx.us-east-2.aws.confluent.cloud&quot;;\r\n\t\t\r\n\t\tClientOptions options = ClientOptions.create()\r\n\t\t\t\t.setHost(CONFLUENT_CLOUD_HOST)\r\n\t\t\t\t.setPort(443)\r\n\t\t\t\t.setBasicAuthCredentials(username, password)\r\n\t\t\t\t.setUseTls(true)\r\n\t\t\t\t.setUseAlpn(true)\r\n\t\t\t\t;\r\n\t\tClient client = Client.create(options);\r\n\r\n        List&lt;StreamInfo&gt; streams = client.listStreams().get();\r\n\r\nAnd i get an exception during `client.listStreams().get()`:\r\n\r\n ```\r\nException in thread &quot;main&quot; java.util.concurrent.ExecutionException: io.confluent.ksql.api.client.exception.KsqlClientException: Received 401 response from server: Unauthorized. Error code: 40100\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n ```\r\n\r\nWhat am i missing here? ","title":"KsqlClientException: Received 401 response from server: Unauthorized. Error code: 40100","body":"<p>Trying to connect to Confluent hosted KSQL db.</p>\n<pre><code>    String username = API_KEY;      \n    String password = API_SECRET;\n    \n    String CONFLUENT_CLOUD_HOST = &quot;pksqlc-xxxxx.us-east-2.aws.confluent.cloud&quot;;\n    \n    ClientOptions options = ClientOptions.create()\n            .setHost(CONFLUENT_CLOUD_HOST)\n            .setPort(443)\n            .setBasicAuthCredentials(username, password)\n            .setUseTls(true)\n            .setUseAlpn(true)\n            ;\n    Client client = Client.create(options);\n\n    List&lt;StreamInfo&gt; streams = client.listStreams().get();\n</code></pre>\n<p>And i get an exception during <code>client.listStreams().get()</code>:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.concurrent.ExecutionException: io.confluent.ksql.api.client.exception.KsqlClientException: Received 401 response from server: Unauthorized. Error code: 40100\n   at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n   at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n</code></pre>\n<p>What am i missing here?</p>\n"},{"tags":["java","eclipse","formatting"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1405616918,"post_id":24809536,"comment_id":38510682,"body_markdown":"Did you save the file with a &quot;.java&quot; extension from &quot;gedit&quot;?","body":"Did you save the file with a &quot;.java&quot; extension from &quot;gedit&quot;?"},{"owner":{"account_id":3954797,"reputation":513,"user_id":3263727,"accept_rate":58,"display_name":"Reggie"},"score":0,"creation_date":1405617425,"post_id":24809536,"comment_id":38510943,"body_markdown":"Yes. Is that a problem?","body":"Yes. Is that a problem?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1405617486,"post_id":24809536,"comment_id":38510975,"body_markdown":"Are you positive? Is it in your Java project?","body":"Are you positive? Is it in your Java project?"},{"owner":{"account_id":3954797,"reputation":513,"user_id":3263727,"accept_rate":58,"display_name":"Reggie"},"score":0,"creation_date":1405617859,"post_id":24809536,"comment_id":38511158,"body_markdown":"I haven&#39;t actually been using Eclipse to manage the project. I&#39;ve just been using it as a text editor. So far I&#39;ve only been editing other people&#39;s files and everything has worked just fine. This is the first file I&#39;ve actually created. It&#39;s definitely saved with the .java extension, it has the correct package and imports at the top, it&#39;s in the project folder, and it&#39;s a valid class.","body":"I haven&#39;t actually been using Eclipse to manage the project. I&#39;ve just been using it as a text editor. So far I&#39;ve only been editing other people&#39;s files and everything has worked just fine. This is the first file I&#39;ve actually created. It&#39;s definitely saved with the .java extension, it has the correct package and imports at the top, it&#39;s in the project folder, and it&#39;s a valid class."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1405617924,"post_id":24809536,"comment_id":38511191,"body_markdown":"Are you in the Java perspective? Given what you&#39;ve described, it should work.","body":"Are you in the Java perspective? Given what you&#39;ve described, it should work."},{"owner":{"account_id":3954797,"reputation":513,"user_id":3263727,"accept_rate":58,"display_name":"Reggie"},"score":0,"creation_date":1405618436,"post_id":24809536,"comment_id":38511470,"body_markdown":"Yes, I&#39;m in the Java perspective. I think it recognizes that, because it formats everything as expected for a single line if I press enter at the beginning of the line.","body":"Yes, I&#39;m in the Java perspective. I think it recognizes that, because it formats everything as expected for a single line if I press enter at the beginning of the line."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1405618621,"post_id":24809536,"comment_id":38511581,"body_markdown":"Are you sure the file is unformatted? Try select all (ctrl-a) then ctrl-shift-f.","body":"Are you sure the file is unformatted? Try select all (ctrl-a) then ctrl-shift-f."},{"owner":{"account_id":3954797,"reputation":513,"user_id":3263727,"accept_rate":58,"display_name":"Reggie"},"score":0,"creation_date":1405621328,"post_id":24809536,"comment_id":38513113,"body_markdown":"I&#39;m sure the document is unformatted. This is why I can say that pressing enter at the beginning of a line formats that line--because I see it fix the formatting. (ctrl + a) (ctrl + shift + f) doesn&#39;t work, but it turns out (ctrl + a) (ctrl + i) does.","body":"I&#39;m sure the document is unformatted. This is why I can say that pressing enter at the beginning of a line formats that line--because I see it fix the formatting. (ctrl + a) (ctrl + shift + f) doesn&#39;t work, but it turns out (ctrl + a) (ctrl + i) does."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405618039,"creation_date":1405618039,"answer_id":24809884,"question_id":24809536,"body_markdown":"Eclipse can only format a Java file when it is in a Java `Source Folder` of a `Java Project`. It won&#39;t do random ones you just Open from the File menu.","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>Eclipse can only format a Java file when it is in a Java <code>Source Folder</code> of a <code>Java Project</code>. It won't do random ones you just Open from the File menu.</p>\n"},{"tags":[],"owner":{"account_id":4021329,"reputation":196,"user_id":3311560,"display_name":"codewiz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508406776,"creation_date":1405619193,"answer_id":24810203,"question_id":24809536,"body_markdown":"I don&#39;t understand why it wouldn&#39;t format the code with &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt; by try selecting the whole document with &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;A&lt;/kbd&gt;) and then using &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; to format the document. You may have the same problem though.","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>I don't understand why it wouldn't format the code with <kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>F</kbd> by try selecting the whole document with <kbd>CTRL</kbd> + <kbd>A</kbd>) and then using <kbd>CTRL</kbd> + <kbd>I</kbd> to format the document. You may have the same problem though.</p>\n"},{"tags":[],"owner":{"account_id":3283174,"reputation":3350,"user_id":2763256,"accept_rate":86,"display_name":"Kacy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441701362,"creation_date":1441701362,"answer_id":32452988,"question_id":24809536,"body_markdown":"I had this exact same problem just now.  The auto formatter seemed to not work for only a single file.  I even deleted and recreated the file but no luck. I eventually decided to keep working and all of a sudden it worked again.\r\n\r\nThe problem was I had a syntax error (a random comma laying around) that the auto formatter did not know how to format.  Fixing the syntax error allowed the auto formatter to do its thing again.","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>I had this exact same problem just now.  The auto formatter seemed to not work for only a single file.  I even deleted and recreated the file but no luck. I eventually decided to keep working and all of a sudden it worked again.</p>\n\n<p>The problem was I had a syntax error (a random comma laying around) that the auto formatter did not know how to format.  Fixing the syntax error allowed the auto formatter to do its thing again.</p>\n"},{"tags":[],"owner":{"account_id":985758,"reputation":14835,"user_id":1004301,"display_name":"Lee Duhem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463583966,"creation_date":1463583966,"answer_id":37303535,"question_id":24809536,"body_markdown":"I also encountered this problem. And I figured out the reason by luck.\r\n\r\nI am using IBus input method, and when IBus in Chinese mode, &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; does not format Java source code in Eclipse Java project. When I changed IBus to English mode, that shortcut works just fine.","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>I also encountered this problem. And I figured out the reason by luck.</p>\n\n<p>I am using IBus input method, and when IBus in Chinese mode, <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>F</kbd> does not format Java source code in Eclipse Java project. When I changed IBus to English mode, that shortcut works just fine.</p>\n"},{"tags":[],"owner":{"account_id":4904233,"reputation":248,"user_id":3951415,"display_name":"Arash moradabadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467532941,"creation_date":1467532941,"answer_id":38167920,"question_id":24809536,"body_markdown":"Check the followings:\r\n\r\n 1. The chosen active formatter profile is exactly what you want(You can find it in **Preferences-&gt;Java-&gt;Code Style-&gt;Formatter**)\r\n 2. The code lines which needs to format is selected correctly\r\n 3. **And the most important one** is **not to have any syntax error** in the file which is formatting","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>Check the followings:</p>\n\n<ol>\n<li>The chosen active formatter profile is exactly what you want(You can find it in <strong>Preferences->Java->Code Style->Formatter</strong>)</li>\n<li>The code lines which needs to format is selected correctly</li>\n<li><strong>And the most important one</strong> is <strong>not to have any syntax error</strong> in the file which is formatting</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":533893,"reputation":6266,"user_id":1407170,"accept_rate":83,"display_name":"sffc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508406600,"creation_date":1489532453,"answer_id":42798130,"question_id":24809536,"body_markdown":"Check for weird syntax in your file.  In my case, I had a method with an underscore parameter name:\r\n\r\n    @Deprecated\r\n    public synchronized void setParseMaxDigits(int _) {}\r\n\r\nI had to delete sections of my file until I pinpointed that this was the function causing &lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; to not format the file.  As soon as I changed the above method to,\r\n\r\n    @Deprecated\r\n    public synchronized void setParseMaxDigits(int unused) {}\r\n\r\nthen &lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; started working again.","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>Check for weird syntax in your file.  In my case, I had a method with an underscore parameter name:</p>\n\n<pre><code>@Deprecated\npublic synchronized void setParseMaxDigits(int _) {}\n</code></pre>\n\n<p>I had to delete sections of my file until I pinpointed that this was the function causing <kbd>SHIFT</kbd>+<kbd>CTRL</kbd>+<kbd>F</kbd> to not format the file.  As soon as I changed the above method to,</p>\n\n<pre><code>@Deprecated\npublic synchronized void setParseMaxDigits(int unused) {}\n</code></pre>\n\n<p>then <kbd>SHIFT</kbd>+<kbd>CTRL</kbd>+<kbd>F</kbd> started working again.</p>\n"},{"tags":[],"owner":{"account_id":6583222,"reputation":351,"user_id":5086860,"display_name":"henriquefalc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532961493,"creation_date":1532961493,"answer_id":51596470,"question_id":24809536,"body_markdown":"The following is the solution that worked for me:\r\n\r\nIn **Window -&gt; Preferences -&gt; General -&gt; Keys**, look for all commands using the Ctrl+Shift+F shortcut. To do so, click on the **Binding** column, so the commands will be sorted by shortcut, then scroll down the grid.\r\n\r\nIn my case, there was another command using this shortcut, that probably had higher priority than the format source command. So I just cleared the **Binding** field for it, and leave only the &quot;Format&quot; commands using Ctrl+Shift+F.","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>The following is the solution that worked for me:</p>\n\n<p>In <strong>Window -> Preferences -> General -> Keys</strong>, look for all commands using the Ctrl+Shift+F shortcut. To do so, click on the <strong>Binding</strong> column, so the commands will be sorted by shortcut, then scroll down the grid.</p>\n\n<p>In my case, there was another command using this shortcut, that probably had higher priority than the format source command. So I just cleared the <strong>Binding</strong> field for it, and leave only the \"Format\" commands using Ctrl+Shift+F.</p>\n"},{"tags":[],"owner":{"account_id":20059178,"reputation":1,"user_id":14706262,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606308380,"creation_date":1606306502,"answer_id":65004530,"question_id":24809536,"body_markdown":"**This is an issue caused by the *Razer Cortex* application**. Its keybind for enabling/disabling its in-game FPS monitor is the same as Eclipse&#39;s keybind for formatting a highlighted block of code (Ctrl + Shift + F). This program takes precedence over Eclipse in that regard. \r\n\r\nCircumventing this issue is extremely simple:\r\n\r\n 1. Open the **Razer Cortex** application\r\n 2. *Change* or *disable* the keybind for showing/hiding the **FPS Display**\r\n\r\n Your formatting keybind will work in Eclipse now :)","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p><strong>This is an issue caused by the <em>Razer Cortex</em> application</strong>. Its keybind for enabling/disabling its in-game FPS monitor is the same as Eclipse's keybind for formatting a highlighted block of code (Ctrl + Shift + F). This program takes precedence over Eclipse in that regard.</p>\n<p>Circumventing this issue is extremely simple:</p>\n<ol>\n<li>Open the <strong>Razer Cortex</strong> application</li>\n<li><em>Change</em> or <em>disable</em> the keybind for showing/hiding the <strong>FPS Display</strong></li>\n</ol>\n<p>Your formatting keybind will work in Eclipse now :)</p>\n"},{"tags":[],"owner":{"account_id":9279641,"reputation":401,"user_id":6891192,"display_name":"K.Andy Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666936938,"creation_date":1666936938,"answer_id":74231214,"question_id":24809536,"body_markdown":"Lee Duhem&#39;s answer let me realize where the issue is.The key `CTRL + SHIFT + F` may be conflicted by other apps,in my case,it&#39;s language input method.\r\n\r\nSystem: Windows 10\r\n\r\n\r\n 1. Go to settings Language options\r\n[![enter image description here][1]][1]\r\n\r\n 2. Open Microsoft Pinyin Options\r\n[![enter image description here][2]][2]\r\n\r\n 3. Swift off or change another hot key\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EJX1A.png\r\n  [2]: https://i.stack.imgur.com/C4tjq.png\r\n  [3]: https://i.stack.imgur.com/1yBBI.png","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>Lee Duhem's answer let me realize where the issue is.The key <code>CTRL + SHIFT + F</code> may be conflicted by other apps,in my case,it's language input method.</p>\n<p>System: Windows 10</p>\n<ol>\n<li><p>Go to settings Language options\n<a href=\"https://i.stack.imgur.com/EJX1A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJX1A.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Open Microsoft Pinyin Options\n<a href=\"https://i.stack.imgur.com/C4tjq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4tjq.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Swift off or change another hot key\n<a href=\"https://i.stack.imgur.com/1yBBI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1yBBI.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":3954797,"reputation":513,"user_id":3263727,"accept_rate":58,"display_name":"Reggie"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16509,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":9,"score":4,"last_activity_date":1666936938,"creation_date":1405616727,"question_id":24809536,"body_markdown":"I made a new Java file in Gedit. \r\n\r\nWhen I open it in Eclipse (&lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt;), it does not format the code. \r\n\r\n(&lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt;) still formats other Java files (which I also did not create in Eclipse), and it even formats individual lines of code in this particular file when I press (enter) at the beginning of a line. \r\n\r\nIt just will not format the entire file with (&lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt;). I restored defaults in: \r\n\r\n`Window &gt; Preferences &gt; General &gt; Keys` \r\n\r\nBut still nothing. I have installed no plugins. \r\n\r\n***`Any idea why Eclipse isn&#39;t recognizing the file as something that should be formatted when I use`*** &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt;***`?`***","title":"Eclipse (ctrl+shift+f) does nothing","body":"<p>I made a new Java file in Gedit. </p>\n\n<p>When I open it in Eclipse (<kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>F</kbd>), it does not format the code. </p>\n\n<p>(<kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>F</kbd>) still formats other Java files (which I also did not create in Eclipse), and it even formats individual lines of code in this particular file when I press (enter) at the beginning of a line. </p>\n\n<p>It just will not format the entire file with (<kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>F</kbd>). I restored defaults in: </p>\n\n<p><code>Window &gt; Preferences &gt; General &gt; Keys</code> </p>\n\n<p>But still nothing. I have installed no plugins. </p>\n\n<p><strong><em><code>Any idea why Eclipse isn't recognizing the file as something that should be formatted when I use</code></em></strong> <kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>F</kbd><strong><em><code>?</code></em></strong></p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":17743196,"reputation":55,"user_id":12883017,"display_name":"Şageldi Aly&#253;ew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666936517,"creation_date":1666936517,"answer_id":74231167,"question_id":74230851,"body_markdown":"**You can use state management tool REDUX**\r\n[Redux repo][1]\r\n\r\n**or you can use public static variables it&#39;s simple way**\r\n\r\n    Class A{\r\n       public static int shared_id=1;\r\n       button.setOnClickListener(new View.OnClickListener() {\r\n         @Override\r\n         public void onClick(View view) {\r\n            shared_id=2;\r\n         }\r\n    }\r\n    Class B{\r\n     System.out.println(A.shared_id);\r\n    }\r\n\r\n  [1]: https://yarikx.github.io/Reductor-introduction/","title":"i got values from recyclerview using holder i want to transfer that data to another recycerview adapter","body":"<p><strong>You can use state management tool REDUX</strong>\n<a href=\"https://yarikx.github.io/Reductor-introduction/\" rel=\"nofollow noreferrer\">Redux repo</a></p>\n<p><strong>or you can use public static variables it's simple way</strong></p>\n<pre><code>Class A{\n   public static int shared_id=1;\n   button.setOnClickListener(new View.OnClickListener() {\n     @Override\n     public void onClick(View view) {\n        shared_id=2;\n     }\n}\nClass B{\n System.out.println(A.shared_id);\n}\n</code></pre>\n"}],"owner":{"account_id":26462488,"reputation":1,"user_id":20104220,"display_name":"uthai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666936517,"creation_date":1666933340,"question_id":74230851,"body_markdown":"i got values from recyclerview using holder\r\n\r\ni want to transfer that data to another recycerview adapter\r\n\r\nlike shopping cart to my cart page\r\n\r\nheres my code \r\n\r\n\r\n```\r\nFrom a RecyclerView Adapter\r\nbutton=itemView.findViewById(R.id.btn_add);\r\nbutton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        String productName= og.getProduct_name();\r\n        String productPrice=og.getProduct_discountPrice();\r\n        String id=og.getProduct_id();\r\n        String category=og.getCategory_id();\r\n        String imageUrl=og.getImageUrl();\r\n        Toast.makeText(context1, &quot;Product Added&quot;, Toast.LENGTH_SHORT).show();\r\n        Log.i(&quot;pds&quot;,&quot;products are &quot;+ productName + productPrice +&quot; id is &quot; + id +&quot; c id is &quot;+ category +&quot; url &quot;+ imageUrl);\r\n        Intent intent=new Intent(context1,CartPageActivity.class);\r\n        intent.putExtra(&quot;finProductName&quot;,productName);\r\n        intent.putExtra(&quot;finProductPrice&quot;,productPrice);\r\n        intent.putExtra(&quot;finId&quot;,id);\r\n        intent.putExtra(&quot;finCategory&quot;,category);\r\n        intent.putExtra(&quot;finImageUrl&quot;,imageUrl);\r\n        context1.startActivity(intent);\r\n    }\r\n\r\n});\r\n   \r\n```\r\n\r\n\r\nI dont know how to pass values \r\n\r\ni got values from recyclerview using holder\r\n\r\ni want to transfer that data to another recycerview adapter\r\n\r\nlike shopping cart to my cart page","title":"i got values from recyclerview using holder i want to transfer that data to another recycerview adapter","body":"<p>i got values from recyclerview using holder</p>\n<p>i want to transfer that data to another recycerview adapter</p>\n<p>like shopping cart to my cart page</p>\n<p>heres my code</p>\n<pre><code>From a RecyclerView Adapter\nbutton=itemView.findViewById(R.id.btn_add);\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        String productName= og.getProduct_name();\n        String productPrice=og.getProduct_discountPrice();\n        String id=og.getProduct_id();\n        String category=og.getCategory_id();\n        String imageUrl=og.getImageUrl();\n        Toast.makeText(context1, &quot;Product Added&quot;, Toast.LENGTH_SHORT).show();\n        Log.i(&quot;pds&quot;,&quot;products are &quot;+ productName + productPrice +&quot; id is &quot; + id +&quot; c id is &quot;+ category +&quot; url &quot;+ imageUrl);\n        Intent intent=new Intent(context1,CartPageActivity.class);\n        intent.putExtra(&quot;finProductName&quot;,productName);\n        intent.putExtra(&quot;finProductPrice&quot;,productPrice);\n        intent.putExtra(&quot;finId&quot;,id);\n        intent.putExtra(&quot;finCategory&quot;,category);\n        intent.putExtra(&quot;finImageUrl&quot;,imageUrl);\n        context1.startActivity(intent);\n    }\n\n});\n   \n</code></pre>\n<p>I dont know how to pass values</p>\n<p>i got values from recyclerview using holder</p>\n<p>i want to transfer that data to another recycerview adapter</p>\n<p>like shopping cart to my cart page</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666935802,"creation_date":1666935802,"answer_id":74231097,"question_id":74231096,"body_markdown":"All that is needed is to add the API Key as a header, like this:\r\n`.header(AuthConfiguration.API_KEY_HEADER, AuthConfiguration.API_KEY_VALUE)`\r\n\r\nThat means the test should look like this:\r\n```\r\n\t@Test\r\n\tvoid callingValidateEndpointWithValidFileShouldReturnResponseWithStatusOk()\r\n\t\tthrows Exception {\r\n\t\tMockMultipartFile file =\r\n\t\t\tMockMultipathFileBuilder.buildFromFilePath(TestFiles.VALID_FILE);\r\n\r\n\t\tmockMvc.perform(\r\n\t\t\tMockMvcRequestBuilders.multipart(Endpoints.VALIDATE)\r\n\t\t\t\t.file(file)\r\n\t\t\t\t.header(AuthConfiguration.API_KEY_HEADER, AuthConfiguration.API_KEY_VALUE)\r\n\t\t).andExpect(status().isOk());\r\n\t}\r\n```","title":"Testing API Key Authentication in Spring Boot","body":"<p>All that is needed is to add the API Key as a header, like this:\n<code>.header(AuthConfiguration.API_KEY_HEADER, AuthConfiguration.API_KEY_VALUE)</code></p>\n<p>That means the test should look like this:</p>\n<pre><code>    @Test\n    void callingValidateEndpointWithValidFileShouldReturnResponseWithStatusOk()\n        throws Exception {\n        MockMultipartFile file =\n            MockMultipathFileBuilder.buildFromFilePath(TestFiles.VALID_FILE);\n\n        mockMvc.perform(\n            MockMvcRequestBuilders.multipart(Endpoints.VALIDATE)\n                .file(file)\n                .header(AuthConfiguration.API_KEY_HEADER, AuthConfiguration.API_KEY_VALUE)\n        ).andExpect(status().isOk());\n    }\n</code></pre>\n"}],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666935802,"creation_date":1666935802,"question_id":74231096,"body_markdown":"I have a Spring Boot Application where an endpoint is secured with an API Key like this:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@Order(1)\r\npublic class AuthConfiguration {\r\n\tpublic static final String API_KEY_VALUE = &quot;skrdgvsnelrkv&quot;;\r\n\tpublic static final String API_KEY_HEADER = &quot;API_KEY&quot;;\r\n\r\n\t@Value(API_KEY_HEADER)\r\n\tprivate String principalRequestHeader;\r\n\r\n\t@Value(API_KEY_VALUE)\r\n\tprivate String principalRequestValue;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\tAuthFilter apiKeyFilter = new AuthFilter(principalRequestHeader);\r\n\t\tapiKeyFilter.setAuthenticationManager(new AuthenticationManager() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Authentication authenticate(Authentication authentication)\r\n\t\t\t\tthrows AuthenticationException {\r\n\t\t\t\tString principal = (String) authentication.getPrincipal();\r\n\t\t\t\tif (!principalRequestValue.equals(principal)) {\r\n\t\t\t\t\tthrow new BadCredentialsException(\r\n\t\t\t\t\t\t&quot;The API key was not found or not the expected value.&quot;\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tauthentication.setAuthenticated(true);\r\n\t\t\t\treturn authentication;\r\n\t\t\t}\r\n\t\t});\r\n\t\thttp.antMatcher(Endpoints.VALIDATE)\r\n\t\t\t.csrf()\r\n\t\t\t.disable()\r\n\t\t\t.sessionManagement()\r\n\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t.and()\r\n\t\t\t.addFilter(apiKeyFilter)\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated();\r\n\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\nI have tests for that endpoint before, but now they understandably fail with a 403 Forbidden error. Here&#39;s how one of them looks like:\r\n\r\n```\r\n@AutoConfigureTestEntityManager\r\n@SpringBootTest\r\n@ContextConfiguration(classes = { TestContext.class })\r\n@TestPropertySource(properties = { &quot;spring.main.allow-bean-definition-overriding=true&quot; })\r\n@AutoConfigureMockMvc\r\nclass ControllerTest {\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\r\n\t@Test\r\n\tvoid callingValidateEndpointWithValidFileShouldReturnResponseWithStatusOk()\r\n\t\tthrows Exception {\r\n\t\tMockMultipartFile file =\r\n\t\t\tMockMultipathFileBuilder.buildFromFilePath(TestFiles.VALID_FILE);\r\n\r\n\t\tmockMvc.perform(MockMvcRequestBuilders.multipart(Endpoints.VALIDATE).file(file))\r\n            .andExpect(status().isOk());\r\n\t}\r\n}\r\n```\r\n\r\nHow do I need to adjust this test to make it pass?","title":"Testing API Key Authentication in Spring Boot","body":"<p>I have a Spring Boot Application where an endpoint is secured with an API Key like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class AuthConfiguration {\n    public static final String API_KEY_VALUE = &quot;skrdgvsnelrkv&quot;;\n    public static final String API_KEY_HEADER = &quot;API_KEY&quot;;\n\n    @Value(API_KEY_HEADER)\n    private String principalRequestHeader;\n\n    @Value(API_KEY_VALUE)\n    private String principalRequestValue;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        AuthFilter apiKeyFilter = new AuthFilter(principalRequestHeader);\n        apiKeyFilter.setAuthenticationManager(new AuthenticationManager() {\n\n            @Override\n            public Authentication authenticate(Authentication authentication)\n                throws AuthenticationException {\n                String principal = (String) authentication.getPrincipal();\n                if (!principalRequestValue.equals(principal)) {\n                    throw new BadCredentialsException(\n                        &quot;The API key was not found or not the expected value.&quot;\n                    );\n                }\n                authentication.setAuthenticated(true);\n                return authentication;\n            }\n        });\n        http.antMatcher(Endpoints.VALIDATE)\n            .csrf()\n            .disable()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilter(apiKeyFilter)\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated();\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>I have tests for that endpoint before, but now they understandably fail with a 403 Forbidden error. Here's how one of them looks like:</p>\n<pre><code>@AutoConfigureTestEntityManager\n@SpringBootTest\n@ContextConfiguration(classes = { TestContext.class })\n@TestPropertySource(properties = { &quot;spring.main.allow-bean-definition-overriding=true&quot; })\n@AutoConfigureMockMvc\nclass ControllerTest {\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    void callingValidateEndpointWithValidFileShouldReturnResponseWithStatusOk()\n        throws Exception {\n        MockMultipartFile file =\n            MockMultipathFileBuilder.buildFromFilePath(TestFiles.VALID_FILE);\n\n        mockMvc.perform(MockMvcRequestBuilders.multipart(Endpoints.VALIDATE).file(file))\n            .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>How do I need to adjust this test to make it pass?</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1666944282,"post_id":74230910,"comment_id":131058773,"body_markdown":"You should check your screen resolution using `javafx.geometry.Rectangle2D` to check if the width is good: `Rectangle2D screenBounds = Screen.getPrimary().getBounds(); System.out.println(screenBounds);`","body":"You should check your screen resolution using <code>javafx.geometry.Rectangle2D</code> to check if the width is good: <code>Rectangle2D screenBounds = Screen.getPrimary().getBounds(); System.out.println(screenBounds);</code>"},{"owner":{"account_id":4269116,"reputation":91,"user_id":3491432,"accept_rate":33,"display_name":"user3491432"},"score":0,"creation_date":1666947656,"post_id":74230910,"comment_id":131059840,"body_markdown":"i get Rectangle2D [minX = 0.0, minY=0.0, maxX=1920.0, maxY=1080.0, width=1920.0, height=1080.0] which is what I expected. still don&#39;t help me with my problem.","body":"i get Rectangle2D [minX = 0.0, minY=0.0, maxX=1920.0, maxY=1080.0, width=1920.0, height=1080.0] which is what I expected. still don&#39;t help me with my problem."},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1666958518,"post_id":74230910,"comment_id":131063357,"body_markdown":"Is it the same thing when you replace `getBounds()` by `getVisualBounds()`? (screen resolution without Windows bars and borders)","body":"Is it the same thing when you replace <code>getBounds()</code> by <code>getVisualBounds()</code>? (screen resolution without Windows bars and borders)"},{"owner":{"account_id":4269116,"reputation":91,"user_id":3491432,"accept_rate":33,"display_name":"user3491432"},"score":0,"creation_date":1667004316,"post_id":74230910,"comment_id":131075547,"body_markdown":"I get Rectangle2D [minX = 0.0, minY=0.0, maxX=1920.0, maxY=1040.0, width=1920.0, height=1040.0]\nThe -40 to the Y is obviously the taskbar of windows but the again the problem is in the X axis not the Y axis.","body":"I get Rectangle2D [minX = 0.0, minY=0.0, maxX=1920.0, maxY=1040.0, width=1920.0, height=1040.0] The -40 to the Y is obviously the taskbar of windows but the again the problem is in the X axis not the Y axis."}],"owner":{"account_id":4269116,"reputation":91,"user_id":3491432,"accept_rate":33,"display_name":"user3491432"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666934016,"creation_date":1666934016,"question_id":74230910,"body_markdown":"So I’m learning how to use JavaFx and am tasting out a simply blank window to get started and I encountered a Strang problem. In the code you can see that the position of the stage is 0:0 but as you can see in the screenshot while the Y position is correct the X position is off by a little. I managed to figure out that the offset is about 7 pixels. Meaning that if I type -7 for the X position it will be right in the corner as intended but typing in 0 gives me this strange result.\r\n\r\nHere is my code\r\n\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\n\r\npublic class FxTest extends Application {\r\n\t\t\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\t\t\t\r\n\t\t//set up Stage Object\r\n\t\tprimaryStage.setTitle(&quot;Hello World 2&quot;);  \r\n\t\tprimaryStage.setX(0);\r\n\t\tprimaryStage.setY(0);\r\n\t\tprimaryStage.setWidth(400);\r\n\t\tprimaryStage.setHeight(400);\r\n\t\tprimaryStage.show();\t\r\n\t\t\r\n\t}// end start method\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\t\r\n\t\tlaunch();\r\n\t\t\t\t\t\t\r\n\t}//end of main method\r\n\t\r\n}//end class FxTest\r\n\r\nHere is a screenshot of were the Stage window ends up\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/daqbA.jpg\r\nalso I&#39;m using eclipse IDE","title":"javafx stage seems to have invisible width","body":"<p>So I’m learning how to use JavaFx and am tasting out a simply blank window to get started and I encountered a Strang problem. In the code you can see that the position of the stage is 0:0 but as you can see in the screenshot while the Y position is correct the X position is off by a little. I managed to figure out that the offset is about 7 pixels. Meaning that if I type -7 for the X position it will be right in the corner as intended but typing in 0 gives me this strange result.</p>\n<p>Here is my code</p>\n<p>import javafx.application.Application;\nimport javafx.stage.Stage;</p>\n<p>public class FxTest extends Application {</p>\n<pre><code>@Override\npublic void start(Stage primaryStage) throws Exception {\n            \n    //set up Stage Object\n    primaryStage.setTitle(&quot;Hello World 2&quot;);  \n    primaryStage.setX(0);\n    primaryStage.setY(0);\n    primaryStage.setWidth(400);\n    primaryStage.setHeight(400);\n    primaryStage.show();    \n    \n}// end start method\n\n\npublic static void main(String[] args) {\n            \n    launch();\n                    \n}//end of main method\n</code></pre>\n<p>}//end class FxTest</p>\n<p>Here is a screenshot of were the Stage window ends up\n<a href=\"https://i.stack.imgur.com/daqbA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/daqbA.jpg\" alt=\"enter image description here\" /></a></p>\n<p>also I'm using eclipse IDE</p>\n"},{"tags":["java","lombok","dagger","gradle-kotlin-dsl"],"answers":[{"tags":[],"owner":{"account_id":13997894,"reputation":149,"user_id":10110256,"display_name":"NITIKA KHATKAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666932954,"creation_date":1666932954,"answer_id":74230814,"question_id":74221941,"body_markdown":"The issue was the ordering of brazil gradle dependencies,\r\n\r\nChanging it to below order worked\r\n\r\n    dependencies {\r\n        brazilGradle.run().forEach { runtimeOnly(it) }\r\n        brazilGradle.build().forEach { implementation(it) }\r\n        brazilGradle.testbuild().forEach { testImplementation(it) }\r\n    \r\n        // Gradle version of: &lt;ht:import file=&quot;lombok/happier-trails.xml&quot;/&gt;\r\n        brazilGradle.tool(&quot;Lombok&quot;).forEach {\r\n            compileOnly(it)\r\n            annotationProcessor(it)\r\n            testCompileOnly(it)\r\n            testAnnotationProcessor(it)\r\n        }\r\n    \r\n        brazilGradle.tool(&quot;DaggerRuntime&quot;).forEach {\r\n            annotationProcessor(it)\r\n            compileOnly(it)\r\n        }\r\n    \r\n        brazilGradle.tool(&quot;LambdaDaggerLauncher&quot;).forEach {\r\n            annotationProcessor(it)\r\n            compileOnly(it)\r\n        }\r\n    }","title":"cannot be provided without an @Inject constructor or from an @Provides-annotated method in dagger","body":"<p>The issue was the ordering of brazil gradle dependencies,</p>\n<p>Changing it to below order worked</p>\n<pre><code>dependencies {\n    brazilGradle.run().forEach { runtimeOnly(it) }\n    brazilGradle.build().forEach { implementation(it) }\n    brazilGradle.testbuild().forEach { testImplementation(it) }\n\n    // Gradle version of: &lt;ht:import file=&quot;lombok/happier-trails.xml&quot;/&gt;\n    brazilGradle.tool(&quot;Lombok&quot;).forEach {\n        compileOnly(it)\n        annotationProcessor(it)\n        testCompileOnly(it)\n        testAnnotationProcessor(it)\n    }\n\n    brazilGradle.tool(&quot;DaggerRuntime&quot;).forEach {\n        annotationProcessor(it)\n        compileOnly(it)\n    }\n\n    brazilGradle.tool(&quot;LambdaDaggerLauncher&quot;).forEach {\n        annotationProcessor(it)\n        compileOnly(it)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13997894,"reputation":149,"user_id":10110256,"display_name":"NITIKA KHATKAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74230814,"answer_count":1,"score":0,"last_activity_date":1666932954,"creation_date":1666873256,"question_id":74221941,"body_markdown":"\r\n\r\nI have added lombok dependency in build.gradle.kts as\r\n\r\n    dependencies {\r\n        brazilGradle.run().forEach { runtimeOnly(it) }\r\n        brazilGradle.build().forEach { implementation(it) }\r\n        brazilGradle.testbuild().forEach { testImplementation(it) }\r\n    \r\n        brazilGradle.tool(&quot;LambdaDaggerLauncher&quot;).forEach {\r\n            annotationProcessor(it)\r\n            compileOnly(it)\r\n        }\r\n        brazilGradle.tool(&quot;DaggerBuildTool&quot;).forEach {\r\n            annotationProcessor(it)\r\n            compileOnly(it)\r\n        }\r\n    \r\n        // Gradle version of: &lt;ht:import file=&quot;lombok/happier-trails.xml&quot;/&gt;\r\n        brazilGradle.tool(&quot;Lombok&quot;).forEach {\r\n            compileOnly(it)\r\n            annotationProcessor(it)\r\n            testCompileOnly(it)\r\n            testAnnotationProcessor(it)\r\n        }\r\n    }\r\n\r\nHave added the lombok dependency in config file\r\n\r\n    build-tools = {\r\n        1.0 = {\r\n            \r\n            JDK11 = 1.0;\r\n            Lombok = 1.18.x;\r\n            LombokUtils = 1.1;\r\n    \r\n            ...\r\n\r\n        };\r\n    };\r\n\r\nTried adding LombokApi too\r\n\r\nThe handler is written as\r\n\r\n    @Slf4j\r\n    @AllArgsConstructor(onConstructor = @__({ @Inject}))\r\n    public class Handler implements RequestHandler&lt;APIGatewayV2HTTPEvent, APIGatewayV2HTTPResponse&gt; {\r\n    \r\n        private final Service service;\r\n    \r\n        @Override\r\n        public APIGatewayV2HTTPResponse handleRequest(final APIGatewayV2HTTPEvent apiGatewayV2HTTPEvent,\r\n                                                      final Context context) {\r\n            log.info(&quot;Received input: {}&quot;, apiGatewayV2HTTPEvent);\r\n            return service.processRequest(apiGatewayV2HTTPEvent, context);\r\n        }\r\n    }\r\n\r\nand dagger injection as\r\n\r\n    @Singleton\r\n    @Component(modules = {AppModule.class})\r\n    public interface AppComponent {\r\n    \r\n        @LambdaHandler(withAppConfig = true, appName = &quot;Lambda&quot;)\r\n        Handler buildHandler();\r\n    }\r\n    \r\n    @Module\r\n    public class AppModule {\r\n    \r\n        @Provides\r\n        @Singleton\r\n        public Service getService(final ApiGatewayEventProcessor ApiGatewayEventProcessor) {\r\n            return new Service(ApiGatewayEventProcessor);\r\n        }\r\n    }\r\n\r\nBut I am getting this error:\r\n\r\n    error: com.amazon.lambda.Handler cannot be provided without an @Inject constructor or from an @Provides-annotated method. Handler buildHandler();\r\n\r\nWhat am I missing? I tried using @Inject directly like\r\n\r\n    public class Handler implements RequestHandler&lt;APIGatewayV2HTTPEvent, APIGatewayV2HTTPResponse&gt; {\r\n    \r\n        private final Service service;\r\n    \r\n        @Inject\r\n        public Handler(final Service service) {\r\n            this.service = service;\r\n        }\r\n    \r\n        @Override\r\n        public APIGatewayV2HTTPResponse handleRequest(final APIGatewayV2HTTPEvent apiGatewayV2HTTPEvent,\r\n                                                      final Context context) {\r\n            log.info(&quot;Received input: {}&quot;, apiGatewayV2HTTPEvent);\r\n            return service.processRequest(apiGatewayV2HTTPEvent, context);\r\n        }\r\n\r\nand this is working. What am I doing wrong with the @AllArgsConstructor implementation\r\n\r\n","title":"cannot be provided without an @Inject constructor or from an @Provides-annotated method in dagger","body":"<p>I have added lombok dependency in build.gradle.kts as</p>\n<pre><code>dependencies {\n    brazilGradle.run().forEach { runtimeOnly(it) }\n    brazilGradle.build().forEach { implementation(it) }\n    brazilGradle.testbuild().forEach { testImplementation(it) }\n\n    brazilGradle.tool(&quot;LambdaDaggerLauncher&quot;).forEach {\n        annotationProcessor(it)\n        compileOnly(it)\n    }\n    brazilGradle.tool(&quot;DaggerBuildTool&quot;).forEach {\n        annotationProcessor(it)\n        compileOnly(it)\n    }\n\n    // Gradle version of: &lt;ht:import file=&quot;lombok/happier-trails.xml&quot;/&gt;\n    brazilGradle.tool(&quot;Lombok&quot;).forEach {\n        compileOnly(it)\n        annotationProcessor(it)\n        testCompileOnly(it)\n        testAnnotationProcessor(it)\n    }\n}\n</code></pre>\n<p>Have added the lombok dependency in config file</p>\n<pre><code>build-tools = {\n    1.0 = {\n        \n        JDK11 = 1.0;\n        Lombok = 1.18.x;\n        LombokUtils = 1.1;\n\n        ...\n\n    };\n};\n</code></pre>\n<p>Tried adding LombokApi too</p>\n<p>The handler is written as</p>\n<pre><code>@Slf4j\n@AllArgsConstructor(onConstructor = @__({ @Inject}))\npublic class Handler implements RequestHandler&lt;APIGatewayV2HTTPEvent, APIGatewayV2HTTPResponse&gt; {\n\n    private final Service service;\n\n    @Override\n    public APIGatewayV2HTTPResponse handleRequest(final APIGatewayV2HTTPEvent apiGatewayV2HTTPEvent,\n                                                  final Context context) {\n        log.info(&quot;Received input: {}&quot;, apiGatewayV2HTTPEvent);\n        return service.processRequest(apiGatewayV2HTTPEvent, context);\n    }\n}\n</code></pre>\n<p>and dagger injection as</p>\n<pre><code>@Singleton\n@Component(modules = {AppModule.class})\npublic interface AppComponent {\n\n    @LambdaHandler(withAppConfig = true, appName = &quot;Lambda&quot;)\n    Handler buildHandler();\n}\n\n@Module\npublic class AppModule {\n\n    @Provides\n    @Singleton\n    public Service getService(final ApiGatewayEventProcessor ApiGatewayEventProcessor) {\n        return new Service(ApiGatewayEventProcessor);\n    }\n}\n</code></pre>\n<p>But I am getting this error:</p>\n<pre><code>error: com.amazon.lambda.Handler cannot be provided without an @Inject constructor or from an @Provides-annotated method. Handler buildHandler();\n</code></pre>\n<p>What am I missing? I tried using @Inject directly like</p>\n<pre><code>public class Handler implements RequestHandler&lt;APIGatewayV2HTTPEvent, APIGatewayV2HTTPResponse&gt; {\n\n    private final Service service;\n\n    @Inject\n    public Handler(final Service service) {\n        this.service = service;\n    }\n\n    @Override\n    public APIGatewayV2HTTPResponse handleRequest(final APIGatewayV2HTTPEvent apiGatewayV2HTTPEvent,\n                                                  final Context context) {\n        log.info(&quot;Received input: {}&quot;, apiGatewayV2HTTPEvent);\n        return service.processRequest(apiGatewayV2HTTPEvent, context);\n    }\n</code></pre>\n<p>and this is working. What am I doing wrong with the @AllArgsConstructor implementation</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9066,"page":926,"page_size":100}
