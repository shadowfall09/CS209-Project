{"items":[{"tags":["java","spring-mvc","servlets","post","get"],"answers":[{"tags":[],"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513082735,"creation_date":1513082445,"answer_id":47772915,"question_id":47772883,"body_markdown":"You have annotated your method with `POST`\r\n\r\n    @RequestMapping(value=&quot;/empresa&quot;, method= RequestMethod.POST)\r\n\r\nSo change this to \r\n\r\n    @RequestMapping(value=&quot;/empresa&quot;, method= RequestMethod.GET)\r\n\r\nIf you want it to be a `POST` request try **form submit** instead of `href`\r\n\r\nStill you need `href`? then try this\r\n\r\nhttps://stackoverflow.com/questions/3915917/make-a-link-use-post-instead-of-get","title":"Spring MVC Request method &#39;GET&#39; not supported","body":"<p>You have annotated your method with <code>POST</code></p>\n\n<pre><code>@RequestMapping(value=\"/empresa\", method= RequestMethod.POST)\n</code></pre>\n\n<p>So change this to </p>\n\n<pre><code>@RequestMapping(value=\"/empresa\", method= RequestMethod.GET)\n</code></pre>\n\n<p>If you want it to be a <code>POST</code> request try <strong>form submit</strong> instead of <code>href</code></p>\n\n<p>Still you need <code>href</code>? then try this</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3915917/make-a-link-use-post-instead-of-get\">Make a link use POST instead of GET</a></p>\n"},{"tags":[],"owner":{"account_id":22367616,"reputation":11,"user_id":16583145,"display_name":"Piyush Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648359537,"creation_date":1648359537,"answer_id":71633955,"question_id":47772883,"body_markdown":"You are facing this issue because browser never sends anything, browser only receives requests and forwards them to your back end logic.\r\n\r\nDifference between GET is simple fetching of data without any data from your side and POST is in information that you send with your request ( for example you send data that you need to save specific customer, I need this firstName, lastName, email etc to be saved  ). With that being said, you can switch between **@GetMapping** or **@PostMapping** depending what you need for your application.\r\n\r\nTo be more precise between get and post\r\n\r\n**GET** A GET method should be used to retrieve data from the server. Multiple get requests to the same URL should be valid and no data should be changed on the server side.\r\n\r\nHowever, this doesn&#39;t mean it is not possible to make a GET request change things server side, but you should try to make sure you are following the standard.\r\n\r\n**POST** A POST method should be used when you need to create, update or delete data on the server side. Making the same POST request multiple times may not be safe and may result in inconsistent data. The content of a POST request is sent in the request body. Hence, you don&#39;t see the parameters in your browser, but it is easy to see them if you wanted to (Even using the browser developer tools) so it is no more safe than a GET request.","title":"Spring MVC Request method &#39;GET&#39; not supported","body":"<p>You are facing this issue because browser never sends anything, browser only receives requests and forwards them to your back end logic.</p>\n<p>Difference between GET is simple fetching of data without any data from your side and POST is in information that you send with your request ( for example you send data that you need to save specific customer, I need this firstName, lastName, email etc to be saved  ). With that being said, you can switch between <strong>@GetMapping</strong> or <strong>@PostMapping</strong> depending what you need for your application.</p>\n<p>To be more precise between get and post</p>\n<p><strong>GET</strong> A GET method should be used to retrieve data from the server. Multiple get requests to the same URL should be valid and no data should be changed on the server side.</p>\n<p>However, this doesn't mean it is not possible to make a GET request change things server side, but you should try to make sure you are following the standard.</p>\n<p><strong>POST</strong> A POST method should be used when you need to create, update or delete data on the server side. Making the same POST request multiple times may not be safe and may result in inconsistent data. The content of a POST request is sent in the request body. Hence, you don't see the parameters in your browser, but it is easy to see them if you wanted to (Even using the browser developer tools) so it is no more safe than a GET request.</p>\n"}],"owner":{"account_id":7015649,"reputation":49,"user_id":5377099,"accept_rate":71,"display_name":"renan gado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4372,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47772915,"answer_count":2,"score":2,"last_activity_date":1648359537,"creation_date":1513082324,"question_id":47772883,"body_markdown":"I have found few questions on this topic however it does not necessary answer my question\r\n\r\nBasicaly\r\nI am passing some values via `url` so data can be gathered from database. I can do it via `method= RequestMethod.GET` however I would like to do it via `POST` so users doesnt see parameters in URL.\r\n\r\nI am not sure i am using the best method, i bet there is something much advance in order to achieve this .\r\n\r\n    Cotroller class\r\n        @RequestMapping(value=&quot;/empresa&quot;, method= RequestMethod.POST)\r\n\t    public String empresa(Model model, Principal principal,    @RequestParam(&quot;get_Business_ID&quot;) String get_Business_ID){\r\n\t\t\r\n\t\t// get selected business\r\n\t\tList&lt;Business&gt; selectedBusiness = businessService.getBusinessByBusinessID(get_Business_ID);\r\n\t\tSystem.out.println(&quot;business selected= &quot;+ selectedBusiness.get(0).getBusiness_name());\t\t\r\n\t\tmodel.addAttribute(&quot;selectedBusiness&quot;,selectedBusiness);\r\n\t\t\r\n\t\t//Destaque semanal\r\n\t\tList&lt;Business&gt; businessList = businessService.getCurrentBusiness();\r\n\t\tmodel.addAttribute(&quot;businessList&quot;, businessList);\r\n\t\t\r\n\t\treturn &quot;empresa&quot;;\r\n\t}\r\n\r\n       JSP page link \r\n     href=&quot;${pageContext.request.contextPath}/empresa?get_Business_ID=${business.business_id}&quot;\r\n\r\n\r\n&gt; error Type Status Report\r\n&gt; \r\n&gt; Message Request method &#39;GET&#39; not supported\r\n&gt; \r\n&gt; Description The method received in the request-line is known by the\r\n&gt; origin server but not supported by the target resource.\r\n\r\nmaybe RequestMethod.GET only works if i am using a form with post method?\r\n\r\nIs there any other way to achieve this?\r\n\r\nThanks in advance\r\n\r\n\r\n\r\n","title":"Spring MVC Request method &#39;GET&#39; not supported","body":"<p>I have found few questions on this topic however it does not necessary answer my question</p>\n\n<p>Basicaly\nI am passing some values via <code>url</code> so data can be gathered from database. I can do it via <code>method= RequestMethod.GET</code> however I would like to do it via <code>POST</code> so users doesnt see parameters in URL.</p>\n\n<p>I am not sure i am using the best method, i bet there is something much advance in order to achieve this .</p>\n\n<pre><code>Cotroller class\n    @RequestMapping(value=\"/empresa\", method= RequestMethod.POST)\n    public String empresa(Model model, Principal principal,    @RequestParam(\"get_Business_ID\") String get_Business_ID){\n\n    // get selected business\n    List&lt;Business&gt; selectedBusiness = businessService.getBusinessByBusinessID(get_Business_ID);\n    System.out.println(\"business selected= \"+ selectedBusiness.get(0).getBusiness_name());      \n    model.addAttribute(\"selectedBusiness\",selectedBusiness);\n\n    //Destaque semanal\n    List&lt;Business&gt; businessList = businessService.getCurrentBusiness();\n    model.addAttribute(\"businessList\", businessList);\n\n    return \"empresa\";\n}\n\n   JSP page link \n href=\"${pageContext.request.contextPath}/empresa?get_Business_ID=${business.business_id}\"\n</code></pre>\n\n<blockquote>\n  <p>error Type Status Report</p>\n  \n  <p>Message Request method 'GET' not supported</p>\n  \n  <p>Description The method received in the request-line is known by the\n  origin server but not supported by the target resource.</p>\n</blockquote>\n\n<p>maybe RequestMethod.GET only works if i am using a form with post method?</p>\n\n<p>Is there any other way to achieve this?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","regex","string","regex-group"],"comments":[{"owner":{"account_id":363391,"reputation":219556,"user_id":707111,"accept_rate":100,"display_name":"Ry-"},"score":1,"creation_date":1648355442,"post_id":71633688,"comment_id":126601082,"body_markdown":"Do you absolutely need to use a single regex? If your input is always a URL, this is easier without regex.","body":"Do you absolutely need to use a single regex? If your input is always a URL, this is easier without regex."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1648356654,"post_id":71633688,"comment_id":126601222,"body_markdown":"you can use [java.net.URL](https://docs.oracle.com/javase/7/docs/api/java/net/URL.html), it has `getHost()` method to return the host you wanted. remember to enclose it within try-catch.","body":"you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">java.net.URL</a>, it has <code>getHost()</code> method to return the host you wanted. remember to enclose it within try-catch."},{"owner":{"account_id":21744581,"reputation":103,"user_id":16051445,"display_name":"Agustin Netto"},"score":0,"creation_date":1648357210,"post_id":71633688,"comment_id":126601271,"body_markdown":"@Ry- _Do you absolutely need to use a single regex_ yes, since the text may not be formatted appropriately and may contain gibberish at beginning or end so we would need regex to extract it..","body":"@Ry- <i>Do you absolutely need to use a single regex</i> yes, since the text may not be formatted appropriately and may contain gibberish at beginning or end so we would need regex to extract it.."}],"answers":[{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648358259,"creation_date":1648358259,"answer_id":71633865,"question_id":71633688,"body_markdown":"I&#39;d use the standard [URI class](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html) instead of a regular expression to parse out the domain:\r\n\r\n```java\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.util.Optional;\r\n\r\npublic class Demo {\r\n    private static Optional&lt;String&gt; getHostname(String domain) {\r\n        try {\r\n            // Add a scheme if missing\r\n            if (domain.indexOf(&quot;://&quot;) == -1) {\r\n                domain = &quot;https://&quot; + domain;\r\n            }\r\n            URI uri = new URI(domain);\r\n            return Optional.ofNullable(uri.getHost()).map(s -&gt; s.startsWith(&quot;www.&quot;) ? s.substring(4) : s);\r\n        } catch (URISyntaxException e) {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String[] domains = new String[] {\r\n            &quot;p.io&quot;,\r\n            &quot;amazon.com&quot;,\r\n            &quot;d.amazon.ca&quot;,\r\n            &quot;domain.amazon.co.uk&quot;,\r\n            &quot;https://regex101.com/&quot;,\r\n            &quot;www.regex101.comdddd&quot;, // .comdddd is (potentially) a valid TLD; not sure why your output removes the d&#39;s                                                                                                                            \r\n            &quot;www.wix.com.co&quot;,\r\n            &quot;https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions&quot;,\r\n            &quot;smile.amazon.com&quot;\r\n        };\r\n        for (String domain : domains) {\r\n            System.out.println(getHostname(domain).orElse(&quot;hostname not found&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\noutputs\r\n\r\n```none\r\np.io\r\namazon.com\r\nd.amazon.ca\r\ndomain.amazon.co.uk\r\nregex101.com\r\nregex101.comdddd\r\nwix.com.co\r\nstackoverflow.com\r\nsmile.amazon.com\r\n```","title":"How to Make this Regex Greedy?","body":"<p>I'd use the standard <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html\" rel=\"nofollow noreferrer\">URI class</a> instead of a regular expression to parse out the domain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.Optional;\n\npublic class Demo {\n    private static Optional&lt;String&gt; getHostname(String domain) {\n        try {\n            // Add a scheme if missing\n            if (domain.indexOf(&quot;://&quot;) == -1) {\n                domain = &quot;https://&quot; + domain;\n            }\n            URI uri = new URI(domain);\n            return Optional.ofNullable(uri.getHost()).map(s -&gt; s.startsWith(&quot;www.&quot;) ? s.substring(4) : s);\n        } catch (URISyntaxException e) {\n            return Optional.empty();\n        }\n    }\n\n    public static void main(String[] args) {\n        String[] domains = new String[] {\n            &quot;p.io&quot;,\n            &quot;amazon.com&quot;,\n            &quot;d.amazon.ca&quot;,\n            &quot;domain.amazon.co.uk&quot;,\n            &quot;https://regex101.com/&quot;,\n            &quot;www.regex101.comdddd&quot;, // .comdddd is (potentially) a valid TLD; not sure why your output removes the d's                                                                                                                            \n            &quot;www.wix.com.co&quot;,\n            &quot;https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions&quot;,\n            &quot;smile.amazon.com&quot;\n        };\n        for (String domain : domains) {\n            System.out.println(getHostname(domain).orElse(&quot;hostname not found&quot;));\n        }\n    }\n}\n</code></pre>\n<p>outputs</p>\n<pre class=\"lang-none prettyprint-override\"><code>p.io\namazon.com\nd.amazon.ca\ndomain.amazon.co.uk\nregex101.com\nregex101.comdddd\nwix.com.co\nstackoverflow.com\nsmile.amazon.com\n</code></pre>\n"}],"owner":{"account_id":21744581,"reputation":103,"user_id":16051445,"display_name":"Agustin Netto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1648358259,"creation_date":1648355054,"question_id":71633688,"body_markdown":"I&#39;m trying to extract the domain + subdomain from any URL (*without* the full `URL` suffix or `http` and `www` prefix).\r\n\r\nI have [the following lists][1] of domains:\r\n\r\n    p.io -&gt; p.io\r\n    amazon.com -&gt; amazon.com\r\n    d.amazon.ca -&gt; d.amazon.ca\r\n    domain.amazon.co.uk -&gt; domain.amazon.co.uk\r\n    https://regex101.com/ -&gt; regex101.com\r\n    www.regex101.comdddd -&gt; regex101.com\r\n    www.wix.com.co -&gt; wix.com.co\r\n    https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions -&gt; stackoverflow.com\r\n    smile.amazon.com -&gt; smile.amazon.com\r\n\r\n\r\nI&#39;m using [the following regex][1] to extract domain + subdomain:\r\n\r\n    [^w.\\:\\/]+[a-zA-Z\\.]?\\.[a-zA-Z]{1,3}(\\.[a-zA-Z]{1,3})?(\\.[a-zA-Z]{0,3})?|[w]{1,2}[^w.]+\\.[a-zA-Z]{1,3}(\\.[a-zA-Z]{1,3})?\r\n\r\nThe issue is that it is splitting several domains into two such as: `d.amazon.ca` -&gt; `d.ama` + `zon.ca` and matching some non domain text such as: `what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions` as seen in image below:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHow can I force the regex to be greedy in the sense that it matches the full domain as a single match?\r\n\r\nI&#39;m using Java.\r\n\r\n\r\n  [1]: https://regex101.com/r/evzG4V/1\r\n  [2]: https://i.stack.imgur.com/uX3x4.jpg","title":"How to Make this Regex Greedy?","body":"<p>I'm trying to extract the domain + subdomain from any URL (<em>without</em> the full <code>URL</code> suffix or <code>http</code> and <code>www</code> prefix).</p>\n<p>I have <a href=\"https://regex101.com/r/evzG4V/1\" rel=\"nofollow noreferrer\">the following lists</a> of domains:</p>\n<pre><code>p.io -&gt; p.io\namazon.com -&gt; amazon.com\nd.amazon.ca -&gt; d.amazon.ca\ndomain.amazon.co.uk -&gt; domain.amazon.co.uk\nhttps://regex101.com/ -&gt; regex101.com\nwww.regex101.comdddd -&gt; regex101.com\nwww.wix.com.co -&gt; wix.com.co\nhttps://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions -&gt; stackoverflow.com\nsmile.amazon.com -&gt; smile.amazon.com\n</code></pre>\n<p>I'm using <a href=\"https://regex101.com/r/evzG4V/1\" rel=\"nofollow noreferrer\">the following regex</a> to extract domain + subdomain:</p>\n<pre><code>[^w.\\:\\/]+[a-zA-Z\\.]?\\.[a-zA-Z]{1,3}(\\.[a-zA-Z]{1,3})?(\\.[a-zA-Z]{0,3})?|[w]{1,2}[^w.]+\\.[a-zA-Z]{1,3}(\\.[a-zA-Z]{1,3})?\n</code></pre>\n<p>The issue is that it is splitting several domains into two such as: <code>d.amazon.ca</code> -&gt; <code>d.ama</code> + <code>zon.ca</code> and matching some non domain text such as: <code>what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions</code> as seen in image below:</p>\n<p><a href=\"https://i.stack.imgur.com/uX3x4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uX3x4.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How can I force the regex to be greedy in the sense that it matches the full domain as a single match?</p>\n<p>I'm using Java.</p>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1648318245,"post_id":71628302,"comment_id":126595921,"body_markdown":"You can enter the right URL (`jdbc:h2:mem:AS;`) on the H2 console login screen and it should work fine.","body":"You can enter the right URL (<code>jdbc:h2:mem:AS;</code>) on the H2 console login screen and it should work fine."},{"owner":{"account_id":6408904,"reputation":410,"user_id":4969251,"display_name":"Animesh Mukherkjee"},"score":0,"creation_date":1648357646,"post_id":71628302,"comment_id":126601315,"body_markdown":"Yes this is the right approach","body":"Yes this is the right approach"}],"answers":[{"tags":[],"owner":{"account_id":6408904,"reputation":410,"user_id":4969251,"display_name":"Animesh Mukherkjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648357685,"creation_date":1648357685,"answer_id":71633825,"question_id":71628302,"body_markdown":"As mentioned by user g00glen00b in comments, one has to explicitly enter the URL in the H2 console.","title":"SpringBoot H2 setup issue","body":"<p>As mentioned by user g00glen00b in comments, one has to explicitly enter the URL in the H2 console.</p>\n"}],"owner":{"account_id":6408904,"reputation":410,"user_id":4969251,"display_name":"Animesh Mukherkjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71633825,"answer_count":1,"score":1,"last_activity_date":1648357685,"creation_date":1648299921,"question_id":71628302,"body_markdown":"Configuration Details\r\n1. Spring: 2.6\r\n2. IDE: Intellij\r\n3. Java 11\r\n\r\nI have created a spring boot application with plugins as \r\n\r\n 1. Spring Web\r\n 2. H2 Database\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;guru.springframework&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring5webapp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;spring5webapp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n**application.properties**\r\n```\r\nspring.h2.console.enabled=true\r\nspring.datasource.url=jdbc:h2:mem:AS;\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.h2.console.settings.trace=true\r\n```\r\n**commandLineRunner**\r\n```\r\n@Component\r\npublic class BootStrapData implements CommandLineRunner {\r\n\r\n\r\n    private final AuthorRepository authorRepository;\r\n    private final BookRepository bookRepository;\r\n    private final PublisherRepository publisherRepository;\r\n\r\n    public BootStrapData(AuthorRepository authorRepository, BookRepository bookRepository,\r\n                         PublisherRepository publisherRepository) {\r\n        this.authorRepository = authorRepository;\r\n        this.bookRepository = bookRepository;\r\n        this.publisherRepository = publisherRepository;\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        Author eric = new Author(&quot;Eric&quot;, &quot;Evans&quot;);\r\n        authorRepository.save(eric);\r\n        System.out.println(&quot;Started in bootstrap&quot;);\r\n        System.out.println(&quot;Number of Authors &quot; + authorRepository.count());\r\n\r\n    }\r\n}\r\n```\r\n\r\n**authorRepository.java**\r\n```\r\npublic interface AuthorRepository extends CrudRepository&lt;Author, Long&gt; {\r\n\r\n}\r\n```\r\n**Author.java (Pojo)**\r\n```\r\npackage guru.springframework.spring5webapp.domain;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n\r\n@Entity\r\npublic class Author {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    @ManyToMany(mappedBy = &quot;authors&quot;)\r\n    private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\r\n\r\n    public Author() {\r\n    }\r\n\r\n    public Author(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Set&lt;Book&gt; getBooks() {\r\n        return books;\r\n    }\r\n\r\n    public void setBooks(Set&lt;Book&gt; books) {\r\n        this.books = books;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Author{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, books=&quot; + books +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Author author = (Author) o;\r\n\r\n        return id != null ? id.equals(author.id) : author.id == null;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id != null ? id.hashCode() : 0;\r\n    }\r\n}\r\n```\r\n\r\nWhen I am starting the application and go to http://localhost:8080/h2-console, I see a JDBC Url of \r\njdbc:h2:~/test instead of jdbc:h2:mem:AS. Logging in the console I do not see the Author table.\r\n\r\nI have seen the content of following posts in stackoverflow but of no use\r\n1. [Post1][1]\r\n2. [Post2][2]\r\n\r\nMy github project is at [here][3] it has further more interaction of Pojos\r\nWhat is the mistake in the project?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5763747/h2-in-memory-database-table-not-found\r\n  [2]: https://stackoverflow.com/questions/46219282/not-able-to-view-h2-database-tables-and-values-created-in-java\r\n  [3]: https://github.com/Animesh420/spring5webapp","title":"SpringBoot H2 setup issue","body":"<p>Configuration Details</p>\n<ol>\n<li>Spring: 2.6</li>\n<li>IDE: Intellij</li>\n<li>Java 11</li>\n</ol>\n<p>I have created a spring boot application with plugins as</p>\n<ol>\n<li>Spring Web</li>\n<li>H2 Database</li>\n</ol>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;guru.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring5webapp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;spring5webapp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:AS;\nspring.datasource.driverClassName=org.h2.Driver\nspring.h2.console.settings.trace=true\n</code></pre>\n<p><strong>commandLineRunner</strong></p>\n<pre><code>@Component\npublic class BootStrapData implements CommandLineRunner {\n\n\n    private final AuthorRepository authorRepository;\n    private final BookRepository bookRepository;\n    private final PublisherRepository publisherRepository;\n\n    public BootStrapData(AuthorRepository authorRepository, BookRepository bookRepository,\n                         PublisherRepository publisherRepository) {\n        this.authorRepository = authorRepository;\n        this.bookRepository = bookRepository;\n        this.publisherRepository = publisherRepository;\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        Author eric = new Author(&quot;Eric&quot;, &quot;Evans&quot;);\n        authorRepository.save(eric);\n        System.out.println(&quot;Started in bootstrap&quot;);\n        System.out.println(&quot;Number of Authors &quot; + authorRepository.count());\n\n    }\n}\n</code></pre>\n<p><strong>authorRepository.java</strong></p>\n<pre><code>public interface AuthorRepository extends CrudRepository&lt;Author, Long&gt; {\n\n}\n</code></pre>\n<p><strong>Author.java (Pojo)</strong></p>\n<pre><code>package guru.springframework.spring5webapp.domain;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n\n@Entity\npublic class Author {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String firstName;\n    private String lastName;\n\n    @ManyToMany(mappedBy = &quot;authors&quot;)\n    private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\n\n    public Author() {\n    }\n\n    public Author(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public Set&lt;Book&gt; getBooks() {\n        return books;\n    }\n\n    public void setBooks(Set&lt;Book&gt; books) {\n        this.books = books;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Author{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, firstName='&quot; + firstName + '\\'' +\n                &quot;, lastName='&quot; + lastName + '\\'' +\n                &quot;, books=&quot; + books +\n                '}';\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Author author = (Author) o;\n\n        return id != null ? id.equals(author.id) : author.id == null;\n    }\n\n    @Override\n    public int hashCode() {\n        return id != null ? id.hashCode() : 0;\n    }\n}\n</code></pre>\n<p>When I am starting the application and go to http://localhost:8080/h2-console, I see a JDBC Url of\njdbc:h2:~/test instead of jdbc:h2:mem:AS. Logging in the console I do not see the Author table.</p>\n<p>I have seen the content of following posts in stackoverflow but of no use</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/5763747/h2-in-memory-database-table-not-found\">Post1</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46219282/not-able-to-view-h2-database-tables-and-values-created-in-java\">Post2</a></li>\n</ol>\n<p>My github project is at <a href=\"https://github.com/Animesh420/spring5webapp\" rel=\"nofollow noreferrer\">here</a> it has further more interaction of Pojos\nWhat is the mistake in the project?</p>\n"},{"tags":["java","oracle","hibernate","jpa","sys-refcursor"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1358246668,"post_id":14335939,"comment_id":19924935,"body_markdown":"A named query is not the same thing as a stored procedure.  I&#39;m not sure you can do what you&#39;re proposing.","body":"A named query is not the same thing as a stored procedure.  I&#39;m not sure you can do what you&#39;re proposing."},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1358247246,"post_id":14335939,"comment_id":19925213,"body_markdown":"@duffymo So using Hibernate 4, what is the best way to call a database function?","body":"@duffymo So using Hibernate 4, what is the best way to call a database function?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1358247730,"post_id":14335939,"comment_id":19925468,"body_markdown":"Something like this: http://stackoverflow.com/questions/4524841/call-stored-procedure-in-hibernate","body":"Something like this: <a href=\"http://stackoverflow.com/questions/4524841/call-stored-procedure-in-hibernate\" title=\"call stored procedure in hibernate\">stackoverflow.com/questions/4524841/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1358256501,"creation_date":1358256501,"answer_id":14338821,"question_id":14335939,"body_markdown":"You seem to be confusing Oracle functions with Oracle stored procedures.\r\n\r\nFunctions can be invoked from a select statement - user defined functions like yours act the same way as the built-in functions, like min() and max(). They cannot be invoked by an external &quot;call&quot; like stored procedures can.\r\n\r\nSee http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions231.htm#i1012049 for the definition of a function.\r\n\r\nYou probably will need to re-write your function as a stored procedure.","title":"How to call Oracle Function or Procedure using Hibernate (EntityManager) or JPA","body":"<p>You seem to be confusing Oracle functions with Oracle stored procedures.</p>\n\n<p>Functions can be invoked from a select statement - user defined functions like yours act the same way as the built-in functions, like min() and max(). They cannot be invoked by an external \"call\" like stored procedures can.</p>\n\n<p>See <a href=\"http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions231.htm#i1012049\" rel=\"nofollow\">http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions231.htm#i1012049</a> for the definition of a function.</p>\n\n<p>You probably will need to re-write your function as a stored procedure.</p>\n"},{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358391234,"creation_date":1358391234,"answer_id":14371479,"question_id":14335939,"body_markdown":"JPA 2.1 early draft states that there will be support for stored procedures, [according to Arun Gupta][1] from Oracle.\n\n&gt; Support for Stored Procedures: Added support for the invocation of predefined database functions and user-defined database functions to the Java Persistence query language.\n&gt;\n&gt; There are different variants of `EntityManager.createXXXStoredProcedureQuery` methods that return a StoredProcedureQuery for executing a stored procedure.  Just liked `@NamedQuery`, there is `@NamedStoredProcedureQuery` that specifies and names a stored procedure, its parameters, and its result type. This annotation can be specified on an entity or mapped superclass. The name specified in the annotation is then used in `EntityManager.createNamedStoredProcedureQuery`. The IN, OUT, and INOUT parameters can be set and used to retrieve values passed back from the procedure. For example:\n\n\n    @Entity\n    @NamedStoredProcedureQuery(name=&quot;topGiftsStoredProcedure&quot;, procedureName=&quot;Top10Gifts&quot;)\n    public class Product {\n     . . .\n    }\n\n    // In your client\n\n    StoredProcedreQuery query = EntityManager.createNamedStoredProcedureQuery(&quot;topGiftsStoredProcedure&quot;);\n    query.registerStoredProcedureParameter(1, String.class, ParameterMode.INOUT);\n    query.setParameter(1, &quot;top10&quot;);\n    query.registerStoredProcedureParameter(2, Integer.class, ParameterMode.IN);\n    query.setParameter(2, 100);\n    // there are other setParameter methods for defining the temporal type of a parameter\n    . . .\n    query.execute();\n    String response = query.getOutputParameterValue(1);\n\nAs for when the spec is going to be finalized, or when Hibernate will support JPA 2.1, I can&#39;t say.  But it might be worth keeping an eye out.\n\n  [1]: https://blogs.oracle.com/arungupta/entry/jpa_2_1_early_draft","title":"How to call Oracle Function or Procedure using Hibernate (EntityManager) or JPA","body":"<p>JPA 2.1 early draft states that there will be support for stored procedures, <a href=\"https://blogs.oracle.com/arungupta/entry/jpa_2_1_early_draft\" rel=\"nofollow noreferrer\">according to Arun Gupta</a> from Oracle.</p>\n<blockquote>\n<p>Support for Stored Procedures: Added support for the invocation of predefined database functions and user-defined database functions to the Java Persistence query language.</p>\n<p>There are different variants of <code>EntityManager.createXXXStoredProcedureQuery</code> methods that return a StoredProcedureQuery for executing a stored procedure.  Just liked <code>@NamedQuery</code>, there is <code>@NamedStoredProcedureQuery</code> that specifies and names a stored procedure, its parameters, and its result type. This annotation can be specified on an entity or mapped superclass. The name specified in the annotation is then used in <code>EntityManager.createNamedStoredProcedureQuery</code>. The IN, OUT, and INOUT parameters can be set and used to retrieve values passed back from the procedure. For example:</p>\n</blockquote>\n<pre><code>@Entity\n@NamedStoredProcedureQuery(name=&quot;topGiftsStoredProcedure&quot;, procedureName=&quot;Top10Gifts&quot;)\npublic class Product {\n . . .\n}\n\n// In your client\n\nStoredProcedreQuery query = EntityManager.createNamedStoredProcedureQuery(&quot;topGiftsStoredProcedure&quot;);\nquery.registerStoredProcedureParameter(1, String.class, ParameterMode.INOUT);\nquery.setParameter(1, &quot;top10&quot;);\nquery.registerStoredProcedureParameter(2, Integer.class, ParameterMode.IN);\nquery.setParameter(2, 100);\n// there are other setParameter methods for defining the temporal type of a parameter\n. . .\nquery.execute();\nString response = query.getOutputParameterValue(1);\n</code></pre>\n<p>As for when the spec is going to be finalized, or when Hibernate will support JPA 2.1, I can't say.  But it might be worth keeping an eye out.</p>\n"},{"tags":[],"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1648357624,"creation_date":1360130527,"answer_id":14722588,"question_id":14335939,"body_markdown":"Oracle function or a stored procedure can be called using EntityManager in the following manner.\r\n\r\n**For Oracle Function**\r\n\r\nCreate a function with sys_refcursor as return type\r\n\r\n    CREATE OR REPLACE FUNCTION my_function\r\n    (p_val IN varchar2)\r\n        RETURN SYS_REFCURSOR\r\n      AS\r\n        my_cursor SYS_REFCURSOR;\r\n      BEGIN\r\n        OPEN my_cursor FOR SELECT emp_name FROM employees\r\n        WHERE lower(emp_name) like lower(p_val||&#39;%&#39;);\r\n        RETURN my_cursor;    \r\n      END;\r\n\r\nIn Entity class, define function as\r\n\r\n    @javax.persistence.NamedNativeQuery(name = &quot;getFunc&quot;, query = &quot;{? =  call\r\n    my_function(:empName) }&quot;, resultClass = Employee.class, hints = {\r\n    @javax.persistence.QueryHint(name = &quot;org.hibernate.callable&quot;, value = &quot;true&quot;) })\r\n\r\n**For Oracle Stored Procedure**\r\n\r\nCreate procedure with `sys_refcursor` as first OUT parameter\r\n\r\n    CREATE OR REPLACE PROCEDURE myProcedure(p_cursor out sys_refcursor,\r\n         p_val  in varchar2\r\n    )\r\n     AS\r\n    BEGIN\r\n         OPEN o_cursor FOR\r\n              SELECT     emp_name \r\n                 FROM     employees \r\n                WHERE     LOWER (emp_name) LIKE lower(p_val||&#39;%&#39;);\r\n\r\nIn Entity class define procedure as\r\n\r\n    @javax.persistence.NamedNativeQuery(name = &quot;getProc&quot;, query = &quot;{ call\r\n    my_procedure(?,:empName) }&quot;, resultClass = Employee.class, hints = {\r\n    @javax.persistence.QueryHint(name = &quot;org.hibernate.callable&quot;, value = &quot;true&quot;) })\r\n\r\nand finally in DAO class, call function or procedure as\r\n\r\n    Query query = entityManager.createNamedQuery(&quot;getFunc&quot;); // if procedure then getProc \r\n    query.setParameter(&quot;empName&quot;,&quot;smith&quot;); \r\n    query.getResultList(); \r\n\r\nThanks\r\n\r\n  ","title":"How to call Oracle Function or Procedure using Hibernate (EntityManager) or JPA","body":"<p>Oracle function or a stored procedure can be called using EntityManager in the following manner.</p>\n<p><strong>For Oracle Function</strong></p>\n<p>Create a function with sys_refcursor as return type</p>\n<pre><code>CREATE OR REPLACE FUNCTION my_function\n(p_val IN varchar2)\n    RETURN SYS_REFCURSOR\n  AS\n    my_cursor SYS_REFCURSOR;\n  BEGIN\n    OPEN my_cursor FOR SELECT emp_name FROM employees\n    WHERE lower(emp_name) like lower(p_val||'%');\n    RETURN my_cursor;    \n  END;\n</code></pre>\n<p>In Entity class, define function as</p>\n<pre><code>@javax.persistence.NamedNativeQuery(name = &quot;getFunc&quot;, query = &quot;{? =  call\nmy_function(:empName) }&quot;, resultClass = Employee.class, hints = {\n@javax.persistence.QueryHint(name = &quot;org.hibernate.callable&quot;, value = &quot;true&quot;) })\n</code></pre>\n<p><strong>For Oracle Stored Procedure</strong></p>\n<p>Create procedure with <code>sys_refcursor</code> as first OUT parameter</p>\n<pre><code>CREATE OR REPLACE PROCEDURE myProcedure(p_cursor out sys_refcursor,\n     p_val  in varchar2\n)\n AS\nBEGIN\n     OPEN o_cursor FOR\n          SELECT     emp_name \n             FROM     employees \n            WHERE     LOWER (emp_name) LIKE lower(p_val||'%');\n</code></pre>\n<p>In Entity class define procedure as</p>\n<pre><code>@javax.persistence.NamedNativeQuery(name = &quot;getProc&quot;, query = &quot;{ call\nmy_procedure(?,:empName) }&quot;, resultClass = Employee.class, hints = {\n@javax.persistence.QueryHint(name = &quot;org.hibernate.callable&quot;, value = &quot;true&quot;) })\n</code></pre>\n<p>and finally in DAO class, call function or procedure as</p>\n<pre><code>Query query = entityManager.createNamedQuery(&quot;getFunc&quot;); // if procedure then getProc \nquery.setParameter(&quot;empName&quot;,&quot;smith&quot;); \nquery.getResultList(); \n</code></pre>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":2701354,"reputation":31,"user_id":2332011,"display_name":"Fabi&#225;n Escalante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431067032,"creation_date":1431067032,"answer_id":30117294,"question_id":14335939,"body_markdown":"The previous solution doesn&#180;t seem to work with eclipselink. I got this running with native queries under JPA with \r\n\r\n\r\n\t\t\t\tList result = em.createNativeQuery(&quot;select YOURFUNCTION(?) from dual &quot;)\r\n\t\t\t\t\t      .setParameter(1, ONEPARAMETER)\r\n\t\t\t\t\t      .getResultList();\r\n\r\n","title":"How to call Oracle Function or Procedure using Hibernate (EntityManager) or JPA","body":"<p>The previous solution doesnt seem to work with eclipselink. I got this running with native queries under JPA with </p>\n\n<pre><code>            List result = em.createNativeQuery(\"select YOURFUNCTION(?) from dual \")\n                      .setParameter(1, ONEPARAMETER)\n                      .getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610261156,"creation_date":1478497919,"answer_id":40458620,"question_id":14335939,"body_markdown":"For your function,\r\n\r\n    create or replace \r\n    FUNCTION my_function(p_val IN varchar2)\r\n        RETURN SYS_REFCURSOR\r\n      AS\r\n        my_cursor SYS_REFCURSOR;\r\n      BEGIN\r\n        OPEN my_cursor FOR SELECT emp_name FROM employees\r\n        WHERE lower(emp_name) like lower(p_val||&#39;%&#39;);\r\n        RETURN my_cursor;    \r\n      END;\r\n\r\nYou can define the following `NamedNativeQuery`:\r\n\r\n    @NamedNativeQuery(\r\n        name = &quot;my_function&quot;,\r\n        query = &quot;{ ? = call my_function( ? ) }&quot;,\r\n        callable = true,\r\n        resultClass = String.class\r\n    )\r\n\r\nAnd, you can call the query like this:\r\n\r\n    List&lt;String&gt; employeeNames = entityManager\r\n        .createNamedQuery(&quot;my_function&quot;)\r\n        .setParameter(1, 1L)\r\n        .getResultList();\r\n\r\nFor a stored procedure:\r\n\r\n    CREATE OR REPLACE \r\n    PROCEDURE my_procedure(p_val IN VARCHAR2, \r\n        my_cursor OUT SYS_REFCURSOR,\r\n    ) \r\n    AS\r\n    BEGIN\r\n        OPEN my_cursor FOR\r\n        SELECT emp_name FROM employees\r\n        WHERE lower(emp_name) like lower(p_val||&#39;%&#39;);\r\n    END;\r\n\r\n, you can use the following JPA 2.1 query:\r\n\r\n    StoredProcedureQuery query = entityManager\r\n        .createStoredProcedureQuery(&quot;my_procedure&quot;)\r\n        .registerStoredProcedureParameter(1, String.class, \r\n             ParameterMode.IN)\r\n        .registerStoredProcedureParameter(2, Class.class, \r\n             ParameterMode.REF_CURSOR)\r\n        .setParameter(1, 1L);\r\n     \r\n    query.execute();\r\n     \r\n    List&lt;Object[]&gt; result = query.getResultList();\r\n","title":"How to call Oracle Function or Procedure using Hibernate (EntityManager) or JPA","body":"<p>For your function,</p>\n<pre><code>create or replace \nFUNCTION my_function(p_val IN varchar2)\n    RETURN SYS_REFCURSOR\n  AS\n    my_cursor SYS_REFCURSOR;\n  BEGIN\n    OPEN my_cursor FOR SELECT emp_name FROM employees\n    WHERE lower(emp_name) like lower(p_val||'%');\n    RETURN my_cursor;    \n  END;\n</code></pre>\n<p>You can define the following <code>NamedNativeQuery</code>:</p>\n<pre><code>@NamedNativeQuery(\n    name = &quot;my_function&quot;,\n    query = &quot;{ ? = call my_function( ? ) }&quot;,\n    callable = true,\n    resultClass = String.class\n)\n</code></pre>\n<p>And, you can call the query like this:</p>\n<pre><code>List&lt;String&gt; employeeNames = entityManager\n    .createNamedQuery(&quot;my_function&quot;)\n    .setParameter(1, 1L)\n    .getResultList();\n</code></pre>\n<p>For a stored procedure:</p>\n<pre><code>CREATE OR REPLACE \nPROCEDURE my_procedure(p_val IN VARCHAR2, \n    my_cursor OUT SYS_REFCURSOR,\n) \nAS\nBEGIN\n    OPEN my_cursor FOR\n    SELECT emp_name FROM employees\n    WHERE lower(emp_name) like lower(p_val||'%');\nEND;\n</code></pre>\n<p>, you can use the following JPA 2.1 query:</p>\n<pre><code>StoredProcedureQuery query = entityManager\n    .createStoredProcedureQuery(&quot;my_procedure&quot;)\n    .registerStoredProcedureParameter(1, String.class, \n         ParameterMode.IN)\n    .registerStoredProcedureParameter(2, Class.class, \n         ParameterMode.REF_CURSOR)\n    .setParameter(1, 1L);\n \nquery.execute();\n \nList&lt;Object[]&gt; result = query.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12109712,"reputation":387,"user_id":8847101,"display_name":"ukchaudhary"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509708197,"creation_date":1509708197,"answer_id":47094602,"question_id":14335939,"body_markdown":"**For Procedure:**\r\n\r\n    CREATE OR REPLACE PROCEDURE my_procedure(p_val IN VARCHAR2, \r\n      my_cursor OUT SYS_REFCURSOR) \r\n    AS\r\n    BEGIN\r\n      OPEN my_cursor FOR SELECT emp_name FROM employees \r\n          WHERE lower(emp_name) like lower(p_val||&#39;%&#39;);\r\n    END;\r\n\r\n**Alternative Solution: Call procedure with sys_refcursor as OUT parameter without defining @NamedNativeQuery**\r\n\r\n    StoredProcedureQuery query = entityManager.createStoredProcedureQuery(&quot;myProcedure&quot;);\r\n\t\tquery.registerStoredProcedureParameter(1, void.class, ParameterMode.REF_CURSOR);\r\n\t\tquery.registerStoredProcedureParameter(2, String.class, ParameterMode.IN);\r\n\t\tquery.setParameter(2, &quot;Umesh&quot;);\r\n\t\tList result = query.getResultList();","title":"How to call Oracle Function or Procedure using Hibernate (EntityManager) or JPA","body":"<p><strong>For Procedure:</strong></p>\n\n<pre><code>CREATE OR REPLACE PROCEDURE my_procedure(p_val IN VARCHAR2, \n  my_cursor OUT SYS_REFCURSOR) \nAS\nBEGIN\n  OPEN my_cursor FOR SELECT emp_name FROM employees \n      WHERE lower(emp_name) like lower(p_val||'%');\nEND;\n</code></pre>\n\n<p><strong>Alternative Solution: Call procedure with sys_refcursor as OUT parameter without defining @NamedNativeQuery</strong></p>\n\n<pre><code>StoredProcedureQuery query = entityManager.createStoredProcedureQuery(\"myProcedure\");\n    query.registerStoredProcedureParameter(1, void.class, ParameterMode.REF_CURSOR);\n    query.registerStoredProcedureParameter(2, String.class, ParameterMode.IN);\n    query.setParameter(2, \"Umesh\");\n    List result = query.getResultList();\n</code></pre>\n"}],"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68299,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":14722588,"answer_count":6,"score":13,"last_activity_date":1648357624,"creation_date":1358246431,"question_id":14335939,"body_markdown":"I have an Oracle function which return sys-refcursor and when I call this function using Hibernate, I am getting the following exception.\r\n\r\n    Hibernate: { ? = call my_function(?) }\r\n     org.hibernate.exception.GenericJDBCException: could not execute query\r\n    javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1360)\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1288)\r\n    \tat org.hibernate.ejb.QueryImpl.getSingleResult(QueryImpl.java:313)\r\n\r\nHow can I resolve this?\r\n\r\n**Oracle function**\r\n\r\n    create or replace \r\n    FUNCTION my_function(p_val IN varchar2)\r\n        RETURN SYS_REFCURSOR\r\n      AS\r\n        my_cursor SYS_REFCURSOR;\r\n      BEGIN\r\n        OPEN my_cursor FOR SELECT emp_name FROM employees\r\n        WHERE lower(emp_name) like lower(p_val||&#39;%&#39;);\r\n        RETURN my_cursor;    \r\n      END;\r\n\r\n**My Entity class**\r\n\r\n    @Entity\r\n    @javax.persistence.NamedNativeQuery(name = &quot;getFunc&quot;, query = \r\n    &quot;{ ? = call my_function(:empName) }&quot;, \r\n     resultClass = Employee.class, hints = \r\n     { @javax.persistence.QueryHint(name = &quot;org.hibernate.callable&quot;, value = &quot;true&quot;) })\r\n     @Table(name = &quot;EMPLOYEES&quot;)\r\n\r\n**and in DAO** \r\n\r\n        @Override\r\n        \tpublic void findEmployees(QueryData data,\r\n        \t\t\tString empName) {\r\n        \r\n            List query = (List) entityManager.createNamedQuery(&quot;getFunc&quot;)\r\n            \t\t\t\t .setParameter(&quot;empName&quot;, empName)\r\n            \t\t\t\t .getSingleResult();\r\n            \t\tdata.setResult(query);\r\n    }\r\n\r\n","title":"How to call Oracle Function or Procedure using Hibernate (EntityManager) or JPA","body":"<p>I have an Oracle function which return sys-refcursor and when I call this function using Hibernate, I am getting the following exception.</p>\n\n<pre><code>Hibernate: { ? = call my_function(?) }\n org.hibernate.exception.GenericJDBCException: could not execute query\njavax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1360)\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1288)\n    at org.hibernate.ejb.QueryImpl.getSingleResult(QueryImpl.java:313)\n</code></pre>\n\n<p>How can I resolve this?</p>\n\n<p><strong>Oracle function</strong></p>\n\n<pre><code>create or replace \nFUNCTION my_function(p_val IN varchar2)\n    RETURN SYS_REFCURSOR\n  AS\n    my_cursor SYS_REFCURSOR;\n  BEGIN\n    OPEN my_cursor FOR SELECT emp_name FROM employees\n    WHERE lower(emp_name) like lower(p_val||'%');\n    RETURN my_cursor;    \n  END;\n</code></pre>\n\n<p><strong>My Entity class</strong></p>\n\n<pre><code>@Entity\n@javax.persistence.NamedNativeQuery(name = \"getFunc\", query = \n\"{ ? = call my_function(:empName) }\", \n resultClass = Employee.class, hints = \n { @javax.persistence.QueryHint(name = \"org.hibernate.callable\", value = \"true\") })\n @Table(name = \"EMPLOYEES\")\n</code></pre>\n\n<p><strong>and in DAO</strong> </p>\n\n<pre><code>    @Override\n        public void findEmployees(QueryData data,\n                String empName) {\n\n        List query = (List) entityManager.createNamedQuery(\"getFunc\")\n                         .setParameter(\"empName\", empName)\n                         .getSingleResult();\n                data.setResult(query);\n}\n</code></pre>\n"},{"tags":["java","robot","robocode"],"answers":[{"tags":[],"owner":{"account_id":24673402,"reputation":9,"user_id":18568108,"display_name":"Siwoo Park"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648357623,"creation_date":1648168422,"answer_id":71610925,"question_id":71602257,"body_markdown":"I think I found why\r\n\r\nIn `while(true)` I wrote `turnRadarRight(90)`;\r\n\r\nMaybe this is the priority action so it would delay the shooting\r\n\r\nSo I changed it to `turnRadarRight(30);` it will take less time to finish the act\r\n\r\nIt worked!","title":"Why is fire being delayed in robocode","body":"<p>I think I found why</p>\n<p>In <code>while(true)</code> I wrote <code>turnRadarRight(90)</code>;</p>\n<p>Maybe this is the priority action so it would delay the shooting</p>\n<p>So I changed it to <code>turnRadarRight(30);</code> it will take less time to finish the act</p>\n<p>It worked!</p>\n"}],"owner":{"account_id":24673402,"reputation":9,"user_id":18568108,"display_name":"Siwoo Park"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71610925,"answer_count":1,"score":1,"last_activity_date":1648357623,"creation_date":1648123697,"question_id":71602257,"body_markdown":"```java\r\npackage com.gshs;\r\n\r\nimport robocode.*;\r\n\r\npublic class Gshs_21043 extends Robot\r\n{\r\n\tpublic void run() {\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\t\r\n\t\t\tturnRadarRight(90);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void onScannedRobot(ScannedRobotEvent e) {\r\n\t\tturnRight(e.getBearing());\r\n        fire(3);\r\n\t\tahead(e.getDistance());\r\n\t}\r\n\r\n\tpublic void onHitByBullet(HitByBulletEvent e) {\r\n\t\t// Replace the next line with any behavior you would like\r\n\t\tback(10);\r\n\t}\r\n\r\n\tpublic void onHitWall(HitWallEvent e) {\r\n\t\t// Replace the next line with any behavior you would like\r\n\t\tback(20);\r\n\t\t\r\n\t}\t\r\n}\r\n```\r\n\r\nIn onScannedRobot, I wrote fire(3) then ahead, but when I build and run, when my robot scans the target robot, it runs towards the target, and when it arrives there, my robot shoots.\r\n\r\nIt acts just like the two lines are switched, so I tried switching two lines just in case, but this didn&#39;t work. Can anyone tell me what is wrong?\r\n\r\n\r\n","title":"Why is fire being delayed in robocode","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.gshs;\n\nimport robocode.*;\n\npublic class Gshs_21043 extends Robot\n{\n    public void run() {\n        \n        while(true) {\n            \n            turnRadarRight(90);\n            \n        }\n    }\n\n    public void onScannedRobot(ScannedRobotEvent e) {\n        turnRight(e.getBearing());\n        fire(3);\n        ahead(e.getDistance());\n    }\n\n    public void onHitByBullet(HitByBulletEvent e) {\n        // Replace the next line with any behavior you would like\n        back(10);\n    }\n\n    public void onHitWall(HitWallEvent e) {\n        // Replace the next line with any behavior you would like\n        back(20);\n        \n    }   \n}\n</code></pre>\n<p>In onScannedRobot, I wrote fire(3) then ahead, but when I build and run, when my robot scans the target robot, it runs towards the target, and when it arrives there, my robot shoots.</p>\n<p>It acts just like the two lines are switched, so I tried switching two lines just in case, but this didn't work. Can anyone tell me what is wrong?</p>\n"},{"tags":["java","sorting","arraylist","compare","arr"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1609913461,"post_id":65590907,"comment_id":115966972,"body_markdown":"You&#39;re saying that `1 &gt; 5` and also `5 &lt; 1` and also `5 &gt; 5`.","body":"You&#39;re saying that <code>1 &gt; 5</code> and also <code>5 &lt; 1</code> and also <code>5 &gt; 5</code>."}],"answers":[{"tags":[],"owner":{"account_id":6776330,"reputation":1548,"user_id":5217986,"accept_rate":29,"display_name":"Anoop LL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609915235,"creation_date":1609913632,"answer_id":65591028,"question_id":65590907,"body_markdown":"So your understanding about [`Comparator`][1] is wrong. \r\n\r\nFrom the name itself we can assume that it needs to compare something right? but in your code you are not comparing anything but you are printing the values in comparator which is wrong.\r\n\r\nIf you check the arguments of the comparator you can see two integers are passing to it. Those integers are actually your array elements. You need to compare those elemets.\r\n\r\n```java\r\npublic int compare(Integer a,Integer b)\r\n    {\r\n        if(a &lt; b){\r\n            return 1;\r\n        }else if( a == b){\r\n            return 0;\r\n        }\r\n        else {\r\n            return -1;\r\n\r\n        }\r\n    }\r\n```\r\n\r\nLike this and print your array in main. It will be sorted \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html","title":"How comparator works in Java?","body":"<p>So your understanding about <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> is wrong.</p>\n<p>From the name itself we can assume that it needs to compare something right? but in your code you are not comparing anything but you are printing the values in comparator which is wrong.</p>\n<p>If you check the arguments of the comparator you can see two integers are passing to it. Those integers are actually your array elements. You need to compare those elemets.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int compare(Integer a,Integer b)\n    {\n        if(a &lt; b){\n            return 1;\n        }else if( a == b){\n            return 0;\n        }\n        else {\n            return -1;\n\n        }\n    }\n</code></pre>\n<p>Like this and print your array in main. It will be sorted</p>\n"}],"owner":{"account_id":19617510,"reputation":1,"user_id":14358637,"display_name":"zeelprajapati321"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1609927500,"accepted_answer_id":65591028,"answer_count":1,"score":-2,"last_activity_date":1648357407,"creation_date":1609912721,"question_id":65590907,"body_markdown":"&gt; how comparetor works in java ?\r\n\r\n\r\n\r\n\r\n    import java.util.*;\r\n    public class S {\r\n        static Scanner sc = new Scanner(System.in);\r\n        static Integer a[] = new Integer[3];\r\n    \r\n        public static void main(String[] args) {\r\n            int t = sc.nextInt();\r\n            while (t-- &gt; 0) {\r\n                int n=3;\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    a[i] = sc.nextInt();\r\n                }\r\n                Arrays.sort(a,new Sort1());\r\n            }\r\n        }\r\n    }\r\n    class Sort1 implements Comparator&lt;Integer&gt;\r\n    {\r\n        public int compare(Integer a,Integer b)\r\n    \r\n        {\r\n            for(int a1:S.a){\r\n                System.out.print(a1+&quot; &quot;);\r\n            }\r\n            System.out.println();\r\n            // return a-b;\r\n            return 1;\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n\r\n Input:\r\n\r\n    1\r\n    5 2 7\r\noutput\r\n\r\n    5 2 7\r\n\r\nwhy output is not 7 5 2?\r\n\r\nwhat am I think if we return 1 than.\r\n    \r\n    1.5\r\n    2.5 2(becuse of one return)=&gt;2 5\r\n    3.7 2 5=&gt;7 5 2\r\nIn brief I  am curious about how internal values are compare and sorting is done.\r\n","title":"How comparator works in Java?","body":"<blockquote>\n<p>how comparetor works in java ?</p>\n</blockquote>\n<pre><code>import java.util.*;\npublic class S {\n    static Scanner sc = new Scanner(System.in);\n    static Integer a[] = new Integer[3];\n\n    public static void main(String[] args) {\n        int t = sc.nextInt();\n        while (t-- &gt; 0) {\n            int n=3;\n            for (int i = 0; i &lt; n; i++) {\n                a[i] = sc.nextInt();\n            }\n            Arrays.sort(a,new Sort1());\n        }\n    }\n}\nclass Sort1 implements Comparator&lt;Integer&gt;\n{\n    public int compare(Integer a,Integer b)\n\n    {\n        for(int a1:S.a){\n            System.out.print(a1+&quot; &quot;);\n        }\n        System.out.println();\n        // return a-b;\n        return 1;\n    }\n}\n</code></pre>\n<p>Input:</p>\n<pre><code>1\n5 2 7\n</code></pre>\n<p>output</p>\n<pre><code>5 2 7\n</code></pre>\n<p>why output is not 7 5 2?</p>\n<p>what am I think if we return 1 than.</p>\n<pre><code>1.5\n2.5 2(becuse of one return)=&gt;2 5\n3.7 2 5=&gt;7 5 2\n</code></pre>\n<p>In brief I  am curious about how internal values are compare and sorting is done.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648358991,"post_id":71633794,"comment_id":126601454,"body_markdown":"According the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JFrame.html#setDefaultCloseOperation(int)) - *&quot;EXIT_ON_CLOSE (defined in WindowConstants): Exit the application using the System exit method. Use this only in applications.&quot;*.  To understand why you might use, you need to understand under what conditions the JVM &quot;normally&quot; exists (of its own accord). The JVM will exit (normally) when the only remaining running threads are `daemon` threads.","body":"According the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JFrame.html#setDefaultCloseOperation(int)\" rel=\"nofollow noreferrer\">JavaDocs</a> - <i>&quot;EXIT_ON_CLOSE (defined in WindowConstants): Exit the application using the System exit method. Use this only in applications.&quot;</i>.  To understand why you might use, you need to understand under what conditions the JVM &quot;normally&quot; exists (of its own accord). The JVM will exit (normally) when the only remaining running threads are <code>daemon</code> threads."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648359039,"post_id":71633794,"comment_id":126601457,"body_markdown":"Swing will also stop the event dispatching thread when the last window is &quot;disposed&quot;, which will allow the the JVM to exit &quot;normally&quot;.  You &quot;might&quot; use `EXIT_ON_CLOSE` if you know that you will have some non-daemon threads left running after a user closes the window and you want the JVM to exit anyway","body":"Swing will also stop the event dispatching thread when the last window is &quot;disposed&quot;, which will allow the the JVM to exit &quot;normally&quot;.  You &quot;might&quot; use <code>EXIT_ON_CLOSE</code> if you know that you will have some non-daemon threads left running after a user closes the window and you want the JVM to exit anyway"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648478408,"post_id":71633794,"comment_id":126627656,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24699032,"reputation":1,"user_id":18590585,"display_name":"Ashish Srivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648357095,"creation_date":1648357095,"question_id":71633794,"body_markdown":"fr.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\nI want to proper explanation of it (fr.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)) why we use it","title":"fr.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE) what is the use of this in gui in java","body":"<p>fr.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</p>\n<p>I want to proper explanation of it (fr.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)) why we use it</p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648354077,"creation_date":1648354077,"answer_id":71633630,"question_id":71622684,"body_markdown":"You can&#39;t rely on globals like that.\r\n\r\nGenerally you&#39;d do this by calling `insert`, `update`, and `modify` to make changes to working memory.\r\n\r\nYour example is a little strange (what is this weird map of &quot;Strawberries&quot;-&gt;???), but it would generally look something like this:\r\n\r\n```\r\nrule &quot;Init&quot;\r\nwhen\r\n  not( ArrayList() )\r\nthen\r\n  insert( new ArrayList() )\r\nend\r\n\r\nrule &quot;Strawberries&quot;\r\nsalience 1\r\nwhen\r\n  $concatList: ArrayList()\r\n  Map( $fruit: this[&quot;Strawberries&quot;] )\r\nthen\r\n  $concatList.add($fruit)\r\nend\r\n\r\nrule &quot;Cherries&quot;\r\nsalience 1\r\nwhen\r\n  $concatList: ArrayList()\r\n  Map( $fruit: this[&quot;Cherries&quot;] )\r\nthen\r\n  $concatList.add($fruit)\r\nend\r\n\r\nrule &quot;Output&quot;\r\nwhen\r\n  $concatList: ArrayList()\r\nthen\r\n  String s = String.join(&quot;;&quot;, $concatList);\r\n  outputMap.put(&quot;Output&quot;, s);\r\nend\r\n```\r\n\r\nIn the `Init` rule, I insert an ArrayList into working memory if it doesn&#39;t already exist. Then the &quot;Strawberries&quot; and &quot;Cherries&quot; rules add whatever those values from the Map are into that list. And finally the Output rule joins all the values and shoves it into the &quot;outputMap&quot; global.\r\n\r\nIf you need your rules to be aware of changes to the objects in working memory, you&#39;d call `modify` or `update`. Modify will change the object in working memory and reevaluate subsequent rules with the new values. Update is like calling &quot;fire rules&quot; anew with the new values.","title":"Is there a way to have a drools variable persist between rules?","body":"<p>You can't rely on globals like that.</p>\n<p>Generally you'd do this by calling <code>insert</code>, <code>update</code>, and <code>modify</code> to make changes to working memory.</p>\n<p>Your example is a little strange (what is this weird map of &quot;Strawberries&quot;-&gt;???), but it would generally look something like this:</p>\n<pre><code>rule &quot;Init&quot;\nwhen\n  not( ArrayList() )\nthen\n  insert( new ArrayList() )\nend\n\nrule &quot;Strawberries&quot;\nsalience 1\nwhen\n  $concatList: ArrayList()\n  Map( $fruit: this[&quot;Strawberries&quot;] )\nthen\n  $concatList.add($fruit)\nend\n\nrule &quot;Cherries&quot;\nsalience 1\nwhen\n  $concatList: ArrayList()\n  Map( $fruit: this[&quot;Cherries&quot;] )\nthen\n  $concatList.add($fruit)\nend\n\nrule &quot;Output&quot;\nwhen\n  $concatList: ArrayList()\nthen\n  String s = String.join(&quot;;&quot;, $concatList);\n  outputMap.put(&quot;Output&quot;, s);\nend\n</code></pre>\n<p>In the <code>Init</code> rule, I insert an ArrayList into working memory if it doesn't already exist. Then the &quot;Strawberries&quot; and &quot;Cherries&quot; rules add whatever those values from the Map are into that list. And finally the Output rule joins all the values and shoves it into the &quot;outputMap&quot; global.</p>\n<p>If you need your rules to be aware of changes to the objects in working memory, you'd call <code>modify</code> or <code>update</code>. Modify will change the object in working memory and reevaluate subsequent rules with the new values. Update is like calling &quot;fire rules&quot; anew with the new values.</p>\n"}],"owner":{"account_id":10747167,"reputation":23,"user_id":7908004,"display_name":"SD&#39;Anc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71633630,"answer_count":1,"score":0,"last_activity_date":1648354077,"creation_date":1648239641,"question_id":71622684,"body_markdown":"What I&#39;m trying to do is concatenate various strings that are individually stored into a global outputMap. However, I have some constraints.\r\n\r\n 1. I am not allowed to add any pair into the outputMap that doesn&#39;t have a key of &quot;Output&quot;.\r\n 2. I am not allowed to insert/set any globals into the kie session aside from the outputMap.\r\n 3. These sub-rules that end in letters below need to be defined as separate rules.\r\n\r\n So I tried the following solution with another global variable that isn&#39;t being set by a kie session.\r\n\r\n```\r\nimport java.util.*\r\n\r\nglobal java.util.Map outputMap;\r\nglobal java.util.List concatList;\r\n\r\nrule 101A\r\nsalience 3\r\nwhen\r\n       $v1:Map()\r\n       $fruit:String() from $v1.get(&quot;Strawberries&quot;);\r\nthen\r\n       outputMap.put(&quot;Output&quot;, $fruit);\r\n       if(concatList == null)\r\n       {\r\n              concatList = new List&lt;String&gt;();\r\n       }\r\n       concatList.add($fruit);\r\nend\r\n\r\nrule 101B\r\nsalience 2\r\nwhen\r\n       $v1:Map()\r\n       $fruit:String() from $v1.get(&quot;Cherries&quot;);\r\nthen\r\n       outputMap.put(&quot;Output&quot;, $fruit);\r\n       if(concatList == null)\r\n       {\r\n              concatList = new List&lt;String&gt;();\r\n       }\r\n       concatList.add($fruit);\r\nend\r\n\r\nrule 101\r\nsalience 1\r\nwhen\r\n       $v1:Map()\r\n       $fruit:String() from $v1.get(&quot;All&quot;);\r\nthen\r\n       String s = &quot;&quot;;\r\n       for(int i=0; i&lt;concatList.size(); ++i)\r\n       {\r\n              s+=concatList.get(i);\r\n       }\r\n       outputMap.put(&quot;Output&quot;, s);\r\nend\r\n```\r\n\r\nThe problem with this method is that the global concatList&#39;s value seems to reset after every rule execution since I can&#39;t insert it into a kie session, and since I have the first constraint, I can&#39;t just simply insert it into the output map and retrieve it later. \r\n\r\nMy question is, is there a way to have a variable persist between rules without it being defined in a kie session?\r\n\r\n\r\n**TLDR:** Above question\r\n\r\nThanks","title":"Is there a way to have a drools variable persist between rules?","body":"<p>What I'm trying to do is concatenate various strings that are individually stored into a global outputMap. However, I have some constraints.</p>\n<ol>\n<li>I am not allowed to add any pair into the outputMap that doesn't have a key of &quot;Output&quot;.</li>\n<li>I am not allowed to insert/set any globals into the kie session aside from the outputMap.</li>\n<li>These sub-rules that end in letters below need to be defined as separate rules.</li>\n</ol>\n<p>So I tried the following solution with another global variable that isn't being set by a kie session.</p>\n<pre><code>import java.util.*\n\nglobal java.util.Map outputMap;\nglobal java.util.List concatList;\n\nrule 101A\nsalience 3\nwhen\n       $v1:Map()\n       $fruit:String() from $v1.get(&quot;Strawberries&quot;);\nthen\n       outputMap.put(&quot;Output&quot;, $fruit);\n       if(concatList == null)\n       {\n              concatList = new List&lt;String&gt;();\n       }\n       concatList.add($fruit);\nend\n\nrule 101B\nsalience 2\nwhen\n       $v1:Map()\n       $fruit:String() from $v1.get(&quot;Cherries&quot;);\nthen\n       outputMap.put(&quot;Output&quot;, $fruit);\n       if(concatList == null)\n       {\n              concatList = new List&lt;String&gt;();\n       }\n       concatList.add($fruit);\nend\n\nrule 101\nsalience 1\nwhen\n       $v1:Map()\n       $fruit:String() from $v1.get(&quot;All&quot;);\nthen\n       String s = &quot;&quot;;\n       for(int i=0; i&lt;concatList.size(); ++i)\n       {\n              s+=concatList.get(i);\n       }\n       outputMap.put(&quot;Output&quot;, s);\nend\n</code></pre>\n<p>The problem with this method is that the global concatList's value seems to reset after every rule execution since I can't insert it into a kie session, and since I have the first constraint, I can't just simply insert it into the output map and retrieve it later.</p>\n<p>My question is, is there a way to have a variable persist between rules without it being defined in a kie session?</p>\n<p><strong>TLDR:</strong> Above question</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3916939,"reputation":267,"user_id":3240544,"accept_rate":19,"display_name":"user3240544"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1615527976,"creation_date":1615527976,"answer_id":66594810,"question_id":66594639,"body_markdown":"As far as I remember when you are using Spring Security you do not need a controller -  a UsernamePasswordAuthenticationFilter is registered in the security filter chain and does the authentication job. So I guess you can check it and adjust your logic accordingly. [link][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/a82cab7afdb1fc58830b1c415f1874d36b2c6c92/web/src/main/java/org/springframework/security/web/authentication/UsernamePasswordAuthenticationFilter.java#L68","title":"Spring Security. How do I get a user email address?","body":"<p>As far as I remember when you are using Spring Security you do not need a controller -  a UsernamePasswordAuthenticationFilter is registered in the security filter chain and does the authentication job. So I guess you can check it and adjust your logic accordingly. <a href=\"https://github.com/spring-projects/spring-security/blob/a82cab7afdb1fc58830b1c415f1874d36b2c6c92/web/src/main/java/org/springframework/security/web/authentication/UsernamePasswordAuthenticationFilter.java#L68\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":18482079,"reputation":336,"user_id":13463952,"display_name":"bliss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615545025,"creation_date":1615528105,"answer_id":66594833,"question_id":66594639,"body_markdown":"````\r\npublic static User getCurrentUser() {\r\n    return (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n}\r\n````\r\nYou need to configure a new User class that implements UserDetails and have UserDetailService&#39;s loadUserByUsername method return an instance of this User. Refer to this [article](https://www.baeldung.com/spring-security-authentication-with-a-database).\r\n\r\nEdit:\r\nI misread the original post. The revised answer by jms should handle your issue.","title":"Spring Security. How do I get a user email address?","body":"<pre><code>public static User getCurrentUser() {\n    return (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n}\n</code></pre>\n<p>You need to configure a new User class that implements UserDetails and have UserDetailService's loadUserByUsername method return an instance of this User. Refer to this <a href=\"https://www.baeldung.com/spring-security-authentication-with-a-database\" rel=\"nofollow noreferrer\">article</a>.</p>\n<p>Edit:\nI misread the original post. The revised answer by jms should handle your issue.</p>\n"},{"tags":[],"owner":{"account_id":12527141,"reputation":747,"user_id":9390343,"display_name":"jms"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615536396,"creation_date":1615531361,"answer_id":66595386,"question_id":66594639,"body_markdown":"Assuming that you use the provided UsernamePasswordAuthenticationFilter and didn&#39;t do any overrides to this, and that the user is already logged in to your system; you can access the username as follows:\r\n\r\n    @GetMapping(value = &quot;/login&quot;)\r\n    public String loginGet (Authentication auth) {\r\n        String username = auth.getName();\r\n        return &quot;login&quot;;\r\n    }\r\n\r\nSpring will automatically inject the default Authentication token which is `UsernamePasswordAuthenticationToken` here.\r\n\r\n--------------------------------------------------------------------------\r\n\r\n**EDIT**: Seems I mistook the question for already logged in. In case this is a login failure issue you can do the following:\r\n\r\nStep 1: Create a new AuthenticationException as follows:\r\n\r\n    public class UserBlockedException extends UsernameNotFoundException {\r\n        public UserBlockedException(String msg) {\r\n    \t    super(msg);\r\n        }\r\n    } \r\n\r\nStep 2: Throw the above exception in the UserDetail @Service class with the message you need to show to the user if user is blocked.\r\n\r\nStep 3: Show the error message in the login?error=true form:\r\n\r\n    &lt;div th:if=&quot;${param.error}&quot;&gt;\r\n      Login Failed. Reason: &lt;span th:text=&quot;${session[&quot;SPRING_SECURITY_LAST_EXCEPTION&quot;].message&quot;&gt;&lt;/span&gt; \r\n    &lt;/div&gt;\r\n\r\nSpring Security will use the default `SimpleUrlAuthenticationFailureHandler` to handle your error. It will save your exception as a session attribute which you access in thymeleaf as shown in Step 3.","title":"Spring Security. How do I get a user email address?","body":"<p>Assuming that you use the provided UsernamePasswordAuthenticationFilter and didn't do any overrides to this, and that the user is already logged in to your system; you can access the username as follows:</p>\n<pre><code>@GetMapping(value = &quot;/login&quot;)\npublic String loginGet (Authentication auth) {\n    String username = auth.getName();\n    return &quot;login&quot;;\n}\n</code></pre>\n<p>Spring will automatically inject the default Authentication token which is <code>UsernamePasswordAuthenticationToken</code> here.</p>\n<hr />\n<p><strong>EDIT</strong>: Seems I mistook the question for already logged in. In case this is a login failure issue you can do the following:</p>\n<p>Step 1: Create a new AuthenticationException as follows:</p>\n<pre><code>public class UserBlockedException extends UsernameNotFoundException {\n    public UserBlockedException(String msg) {\n        super(msg);\n    }\n} \n</code></pre>\n<p>Step 2: Throw the above exception in the UserDetail @Service class with the message you need to show to the user if user is blocked.</p>\n<p>Step 3: Show the error message in the login?error=true form:</p>\n<pre><code>&lt;div th:if=&quot;${param.error}&quot;&gt;\n  Login Failed. Reason: &lt;span th:text=&quot;${session[&quot;SPRING_SECURITY_LAST_EXCEPTION&quot;].message&quot;&gt;&lt;/span&gt; \n&lt;/div&gt;\n</code></pre>\n<p>Spring Security will use the default <code>SimpleUrlAuthenticationFailureHandler</code> to handle your error. It will save your exception as a session attribute which you access in thymeleaf as shown in Step 3.</p>\n"},{"tags":[],"owner":{"account_id":20998177,"reputation":1143,"user_id":15429494,"display_name":"Sathnindu Kottage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648352926,"creation_date":1648352926,"answer_id":71633553,"question_id":66594639,"body_markdown":"Check this and implement,\r\n\r\n    public String getDetails(Authentication authentication, Principal principal) {\r\n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\r\n        List&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n                .map(item -&gt; item.getAuthority())\r\n                .collect(Collectors.toList());\r\n\r\n        return userDetails.getEmail();\r\n    }","title":"Spring Security. How do I get a user email address?","body":"<p>Check this and implement,</p>\n<pre><code>public String getDetails(Authentication authentication, Principal principal) {\n    UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\n    List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n            .map(item -&gt; item.getAuthority())\n            .collect(Collectors.toList());\n\n    return userDetails.getEmail();\n}\n</code></pre>\n"}],"owner":{"account_id":20934960,"reputation":9,"user_id":15380328,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1599,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1648352926,"creation_date":1615526780,"question_id":66594639,"body_markdown":"**How do I get the user email address in the controller?**\r\n\r\nI am trying to get the email address of a user in the controller who is trying to log in, but for some reason was blocked. I want to inform the user that the user with this email address has been blocked. But for this, I need to get his email address.\r\n\r\n**Question**! How do I get the user email address in the controller?\r\n\r\nI have **SecurityConfig**, **UserDetail**, **LoginController**.\r\n\r\nHere I have added the whole project - https://github.com/romanych2021/mytest made specifically for this question\r\n\r\n\r\n**SecurityConfig**\r\n\r\n\t\tpackage com.mytest.security;\r\n\r\n\t\timport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n\t\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\t\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\t\timport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\t\timport org.springframework.security.core.userdetails.UserDetailsService;\r\n\r\n\t\t@EnableWebSecurity\r\n\t\tpublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t\t    private final\r\n\t\t    UserDetailsService userDetailsService;\r\n\r\n\t\t    public SecurityConfig(UserDetailsService userDetailsService) {\r\n\t\t        this.userDetailsService = userDetailsService;\r\n\t\t    }\r\n\r\n\r\n\t\t    @Override\r\n\t\t    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t        auth.userDetailsService(userDetailsService);\r\n\t\t    }\r\n\r\n\r\n\t\t    @Override\r\n\t\t    protected void configure(HttpSecurity http) throws Exception {\r\n\t\t        http\r\n\t\t                .authorizeRequests()\r\n\r\n\t\t                .mvcMatchers(&quot;/login&quot;).anonymous()\r\n\t\t                .mvcMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\r\n\r\n\t\t                .and()\r\n\t\t                .csrf().disable()\r\n\t\t                .formLogin()\r\n\t\t                .loginPage(&quot;/login&quot;)\r\n\t\t                .loginProcessingUrl(&quot;/login&quot;)\r\n\t\t                .defaultSuccessUrl(&quot;/&quot;)\r\n\t\t                .failureUrl(&quot;/login?error=true&quot;)\r\n\t\t                .usernameParameter(&quot;email&quot;)\r\n\t\t                .passwordParameter(&quot;password&quot;)\r\n\r\n\t\t                .and()\r\n\t\t                .exceptionHandling()\r\n\t\t                .accessDeniedPage(&quot;/403&quot;)\r\n\r\n\t\t                .and()\r\n\t\t                .logout()\r\n\t\t                .permitAll()\r\n\t\t                .logoutUrl(&quot;/logout&quot;)\r\n\t\t                .logoutSuccessUrl(&quot;/&quot;)\r\n\r\n\t\t                .invalidateHttpSession(true)\r\n\t\t                .deleteCookies(&quot;JSESSIONID&quot;);\r\n\t\t    }\r\n\r\n\r\n\t\t}\r\n\r\n**UserDetail**\r\n\r\n\t\tpackage com.mytest.security;\r\n\r\n\t\timport com.mytest.model.User;\r\n\t\timport com.mytest.service.UserRepository;\r\n\r\n\t\timport org.springframework.beans.factory.annotation.Autowired;\r\n\t\timport org.springframework.security.core.GrantedAuthority;\r\n\t\timport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n\t\timport org.springframework.security.core.userdetails.UserDetails;\r\n\t\timport org.springframework.security.core.userdetails.UserDetailsService;\r\n\t\timport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n\t\timport org.springframework.stereotype.Service;\r\n\r\n\t\timport java.util.ArrayList;\r\n\t\timport java.util.Collection;\r\n\t\timport java.util.List;\r\n\r\n\t\t@Service\r\n\t\tpublic class UserDetail implements UserDetailsService {\r\n\r\n\t\t    @Autowired\r\n\t\t    UserRepository userRepository;\r\n\r\n\t\t    @Override\r\n\t\t    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n\r\n\t\t        User user = userRepository.findUserByEmail(email);\r\n\r\n\r\n\t\t        if (user == null){\r\n\t\t            throw new UsernameNotFoundException(&quot;There is no such user &quot; + email);\r\n\t\t        }\r\n\r\n\r\n\t\t        return new org.springframework.security.core.userdetails.User(\r\n\t\t                user.getEmail(),\r\n\t\t                user.getPassword(),\r\n\t\t                user.getEnabled(),\r\n\t\t                user.getAccount_non_expired(),\r\n\t\t                user.getCredentials_non_expired(),\r\n\t\t                user.getAccount_non_locked(),\r\n\t\t                getAuthorities());\r\n\r\n\t\t    }\r\n\r\n\r\n\t\t    private Collection&lt;? extends GrantedAuthority&gt; getAuthorities(){\r\n\r\n\t\t        List&lt;SimpleGrantedAuthority&gt; authList = new ArrayList&lt;&gt;();\r\n\t\t        authList.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n\r\n\t\t        return authList;\r\n\r\n\t\t    }\r\n\r\n\t\t}\r\n\r\n**LoginController**\r\n\r\n\t\tpackage com.mytest.controller;\r\n\r\n\t\timport org.springframework.stereotype.Controller;\r\n\t\timport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n\t\t@Controller\r\n\t\tpublic class LoginController {\r\n\r\n\t\t    @GetMapping(value = &quot;/login&quot;)\r\n\t\t    public String loginGet () {\r\n\r\n\t\t    \t// How do I get the user&#39;s email address here?\r\n\r\n\t\t        return &quot;login&quot;;\r\n\t\t    }\r\n\r\n\t\t}\r\n","title":"Spring Security. How do I get a user email address?","body":"<p><strong>How do I get the user email address in the controller?</strong></p>\n<p>I am trying to get the email address of a user in the controller who is trying to log in, but for some reason was blocked. I want to inform the user that the user with this email address has been blocked. But for this, I need to get his email address.</p>\n<p><strong>Question</strong>! How do I get the user email address in the controller?</p>\n<p>I have <strong>SecurityConfig</strong>, <strong>UserDetail</strong>, <strong>LoginController</strong>.</p>\n<p>Here I have added the whole project - <a href=\"https://github.com/romanych2021/mytest\" rel=\"nofollow noreferrer\">https://github.com/romanych2021/mytest</a> made specifically for this question</p>\n<p><strong>SecurityConfig</strong></p>\n<pre><code>    package com.mytest.security;\n\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n    import org.springframework.security.core.userdetails.UserDetailsService;\n\n    @EnableWebSecurity\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n        private final\n        UserDetailsService userDetailsService;\n\n        public SecurityConfig(UserDetailsService userDetailsService) {\n            this.userDetailsService = userDetailsService;\n        }\n\n\n        @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth.userDetailsService(userDetailsService);\n        }\n\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                    .authorizeRequests()\n\n                    .mvcMatchers(&quot;/login&quot;).anonymous()\n                    .mvcMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\n\n                    .and()\n                    .csrf().disable()\n                    .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .loginProcessingUrl(&quot;/login&quot;)\n                    .defaultSuccessUrl(&quot;/&quot;)\n                    .failureUrl(&quot;/login?error=true&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .passwordParameter(&quot;password&quot;)\n\n                    .and()\n                    .exceptionHandling()\n                    .accessDeniedPage(&quot;/403&quot;)\n\n                    .and()\n                    .logout()\n                    .permitAll()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .logoutSuccessUrl(&quot;/&quot;)\n\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;);\n        }\n\n\n    }\n</code></pre>\n<p><strong>UserDetail</strong></p>\n<pre><code>    package com.mytest.security;\n\n    import com.mytest.model.User;\n    import com.mytest.service.UserRepository;\n\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.security.core.GrantedAuthority;\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\n    import org.springframework.security.core.userdetails.UserDetails;\n    import org.springframework.security.core.userdetails.UserDetailsService;\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\n    import org.springframework.stereotype.Service;\n\n    import java.util.ArrayList;\n    import java.util.Collection;\n    import java.util.List;\n\n    @Service\n    public class UserDetail implements UserDetailsService {\n\n        @Autowired\n        UserRepository userRepository;\n\n        @Override\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n\n            User user = userRepository.findUserByEmail(email);\n\n\n            if (user == null){\n                throw new UsernameNotFoundException(&quot;There is no such user &quot; + email);\n            }\n\n\n            return new org.springframework.security.core.userdetails.User(\n                    user.getEmail(),\n                    user.getPassword(),\n                    user.getEnabled(),\n                    user.getAccount_non_expired(),\n                    user.getCredentials_non_expired(),\n                    user.getAccount_non_locked(),\n                    getAuthorities());\n\n        }\n\n\n        private Collection&lt;? extends GrantedAuthority&gt; getAuthorities(){\n\n            List&lt;SimpleGrantedAuthority&gt; authList = new ArrayList&lt;&gt;();\n            authList.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n\n            return authList;\n\n        }\n\n    }\n</code></pre>\n<p><strong>LoginController</strong></p>\n<pre><code>    package com.mytest.controller;\n\n    import org.springframework.stereotype.Controller;\n    import org.springframework.web.bind.annotation.GetMapping;\n\n    @Controller\n    public class LoginController {\n\n        @GetMapping(value = &quot;/login&quot;)\n        public String loginGet () {\n\n            // How do I get the user's email address here?\n\n            return &quot;login&quot;;\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","swing","jpanel","mouseevent"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1648319392,"post_id":71630274,"comment_id":126596173,"body_markdown":"Refer to lesson [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) in trail _Creating a GUI With Swing_ which is part of Oracle&#39;s [Java tutorials](https://docs.oracle.com/javase/tutorial/index.html).","body":"Refer to lesson <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> in trail <i>Creating a GUI With Swing</i> which is part of Oracle&#39;s <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java tutorials</a>."},{"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"score":0,"creation_date":1648324378,"post_id":71630274,"comment_id":126597165,"body_markdown":"Here&#39;s a good summary too: https://riptutorial.com/swing/example/16993/using-the-graphics-class","body":"Here&#39;s a good summary too: <a href=\"https://riptutorial.com/swing/example/16993/using-the-graphics-class\" rel=\"nofollow noreferrer\">riptutorial.com/swing/example/16993/using-the-graphics-class</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1648324749,"post_id":71630274,"comment_id":126597237,"body_markdown":"You need to invoke `super.paintComponent(...)` at the start of your custom painting code to make sure the background of the component is painted so you don&#39;t get the painting artifacts that you see.","body":"You need to invoke <code>super.paintComponent(...)</code> at the start of your custom painting code to make sure the background of the component is painted so you don&#39;t get the painting artifacts that you see."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648349716,"creation_date":1648349716,"answer_id":71633382,"question_id":71630274,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nI reworked your code and created the following GUI.\r\n\r\n[![Drawing Pad][1]][1]\r\n\r\nI replaced your two `JToggleButtons` with one `JToggleButton`.  That way, the state is either to draw or to erase.\r\n\r\nI created a drawing `JPanel`.  In Swing, the drawing `JPanel` is completely erased each and every time the `JPanel` is repainted.  That means you have to redraw the entire image each time you call for a `JPanel` repaint.\r\n\r\nI broke up your monolithic `main` method into several methods and classes.  This helps to keep the code organized and makes the code simpler to read, understand, and more importantly, debug.\r\n\r\nThe first line of any Swing application is a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread][2].\r\n\r\nI used [Swing layout managers][3] to create the GUI.  The JFrame uses a default `BorderLayout`.  The drawing `JPanel` has a preferred size.\r\n\r\nI created an application model to hold all of the drawing points.  I kept a `java.util.List` of these drawing points so I could redraw the entire image each and every time I repainted the drawing `JPanel`.\r\n\r\nI used a `MouseAdapter` so I only had to code the `MouseListener` and `MouseMotionListener` methods I actually needed.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Point;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JToggleButton;\r\n    import javax.swing.JToolBar;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class SimpleDrawingPad implements Runnable {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new SimpleDrawingPad());\r\n    \t}\r\n    \t\r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \t\r\n    \tprivate final SimpleDrawingModel model;\r\n    \t\r\n    \tpublic SimpleDrawingPad() {\r\n    \t\tthis.model = new SimpleDrawingModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(this, model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Drawing Pad&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createToolBar(), BorderLayout.NORTH);\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JToolBar createToolBar() {\r\n    \t\tJToolBar toolBar = new JToolBar();\r\n    \t\ttoolBar.setRollover(true);\r\n    \t\t\r\n    \t\tJToggleButton button = new JToggleButton(&quot; Draw &quot;);\r\n    \t\tbutton.addActionListener(event -&gt; {\r\n    \t\t\tif (button.isSelected()) {\r\n    \t\t\t\tbutton.setText(&quot;Erase&quot;);\r\n    \t\t\t\tmodel.setDrawingColor(Color.WHITE);\r\n    \t\t\t} else {\r\n    \t\t\t\tbutton.setText(&quot; Draw &quot;);\r\n    \t\t\t\tmodel.setDrawingColor(Color.BLACK);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttoolBar.add(button);\r\n    \t\t\r\n    \t\treturn toolBar;\r\n    \t}\r\n    \t\r\n    \tpublic void repaint() {\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    \t\r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t\tprivate final SimpleDrawingModel model;\r\n    \t\t\r\n    \t\tpublic DrawingPanel(SimpleDrawingPad view, SimpleDrawingModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setBackground(Color.WHITE);\r\n    \t\t\tthis.setPreferredSize(new Dimension(640, 480));\r\n    \t\t\t\r\n    \t\t\tDrawingListener listener = new DrawingListener(view, model);\r\n    \t\t\tthis.addMouseListener(listener);\r\n    \t\t\tthis.addMouseMotionListener(listener);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\t\r\n    \t\t\tfor (DrawingPoint drawingPoint : model.getDrawingPoints()) {\r\n    \t\t\t\tg.setColor(drawingPoint.getDrawingColor());\r\n    \t\t\t\tPoint point = drawingPoint.getDrawingPoint();\r\n    \t\t\t\tint lineThickness = drawingPoint.getLineThickness();\r\n    \t\t\t\tg.fillRect(point.x, point.y, lineThickness, lineThickness);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class DrawingListener extends MouseAdapter {\r\n    \t\t\r\n    \t\tprivate final SimpleDrawingPad view;\r\n    \t\t\r\n    \t\tprivate final SimpleDrawingModel model;\r\n    \t\t\r\n    \t\tpublic DrawingListener(SimpleDrawingPad view,\r\n    \t\t\t\tSimpleDrawingModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mousePressed(MouseEvent event) {\r\n    \t\t\tDrawingPoint drawingPoint = new DrawingPoint(event.getPoint(), \r\n    \t\t\t\t\tmodel.getDrawingColor(), model.getLineThickness());\r\n    \t\t\tmodel.addDrawingPoint(drawingPoint);\r\n    \t\t\tview.repaint();\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void mouseDragged(MouseEvent event) {\r\n    \t\t\tDrawingPoint drawingPoint = new DrawingPoint(event.getPoint(), \r\n    \t\t\t\t\tmodel.getDrawingColor(), model.getLineThickness());\r\n    \t\t\tmodel.addDrawingPoint(drawingPoint);\r\n    \t\t\tview.repaint();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class SimpleDrawingModel {\r\n    \t\t\r\n    \t\tprivate int lineThickness;\r\n    \t\t\r\n    \t\tprivate Color drawingColor;\r\n    \t\t\r\n    \t\tprivate List&lt;DrawingPoint&gt; drawingPoints;\r\n    \t\t\r\n    \t\tpublic SimpleDrawingModel() {\r\n    \t\t\tthis.lineThickness = 10;\r\n    \t\t\tthis.drawingColor = Color.BLACK;\r\n    \t\t\tthis.drawingPoints = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \r\n    \t\tpublic int getLineThickness() {\r\n    \t\t\treturn lineThickness;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setLineThickness(int lineThickness) {\r\n    \t\t\tthis.lineThickness = lineThickness;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getDrawingColor() {\r\n    \t\t\treturn drawingColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setDrawingColor(Color drawingColor) {\r\n    \t\t\tthis.drawingColor = drawingColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;DrawingPoint&gt; getDrawingPoints() {\r\n    \t\t\treturn drawingPoints;\r\n    \t\t}\r\n    \r\n    \t\tpublic void addDrawingPoint(DrawingPoint drawingPoint) {\r\n    \t\t\tthis.drawingPoints.add(drawingPoint);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class DrawingPoint {\r\n    \t\t\r\n    \t\tprivate final int lineThickness;\r\n    \t\t\r\n    \t\tprivate final Color drawingColor;\r\n    \t\t\r\n    \t\tprivate final Point drawingPoint;\r\n    \r\n    \t\tpublic DrawingPoint(Point drawingPoint, Color drawingColor,\r\n    \t\t\t\tint lineThickness) {\r\n    \t\t\tthis.drawingPoint = drawingPoint;\r\n    \t\t\tthis.drawingColor = drawingColor;\r\n    \t\t\tthis.lineThickness = lineThickness;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getLineThickness() {\r\n    \t\t\treturn lineThickness;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getDrawingColor() {\r\n    \t\t\treturn drawingColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getDrawingPoint() {\r\n    \t\t\treturn drawingPoint;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SCPRm.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\r\n","title":"Here is a simple drawing pad. Why do the buttons appear in the corner when the UpdateUI() is called during a mouseevent? How do I fix it?","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>I reworked your code and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/SCPRm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SCPRm.png\" alt=\"Drawing Pad\" /></a></p>\n<p>I replaced your two <code>JToggleButtons</code> with one <code>JToggleButton</code>.  That way, the state is either to draw or to erase.</p>\n<p>I created a drawing <code>JPanel</code>.  In Swing, the drawing <code>JPanel</code> is completely erased each and every time the <code>JPanel</code> is repainted.  That means you have to redraw the entire image each time you call for a <code>JPanel</code> repaint.</p>\n<p>I broke up your monolithic <code>main</code> method into several methods and classes.  This helps to keep the code organized and makes the code simpler to read, understand, and more importantly, debug.</p>\n<p>The first line of any Swing application is a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I used <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Swing layout managers</a> to create the GUI.  The JFrame uses a default <code>BorderLayout</code>.  The drawing <code>JPanel</code> has a preferred size.</p>\n<p>I created an application model to hold all of the drawing points.  I kept a <code>java.util.List</code> of these drawing points so I could redraw the entire image each and every time I repainted the drawing <code>JPanel</code>.</p>\n<p>I used a <code>MouseAdapter</code> so I only had to code the <code>MouseListener</code> and <code>MouseMotionListener</code> methods I actually needed.</p>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JToggleButton;\nimport javax.swing.JToolBar;\nimport javax.swing.SwingUtilities;\n\npublic class SimpleDrawingPad implements Runnable {\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new SimpleDrawingPad());\n    }\n    \n    private final DrawingPanel drawingPanel;\n    \n    private final SimpleDrawingModel model;\n    \n    public SimpleDrawingPad() {\n        this.model = new SimpleDrawingModel();\n        this.drawingPanel = new DrawingPanel(this, model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Drawing Pad&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createToolBar(), BorderLayout.NORTH);\n        frame.add(drawingPanel, BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JToolBar createToolBar() {\n        JToolBar toolBar = new JToolBar();\n        toolBar.setRollover(true);\n        \n        JToggleButton button = new JToggleButton(&quot; Draw &quot;);\n        button.addActionListener(event -&gt; {\n            if (button.isSelected()) {\n                button.setText(&quot;Erase&quot;);\n                model.setDrawingColor(Color.WHITE);\n            } else {\n                button.setText(&quot; Draw &quot;);\n                model.setDrawingColor(Color.BLACK);\n            }\n        });\n        toolBar.add(button);\n        \n        return toolBar;\n    }\n    \n    public void repaint() {\n        drawingPanel.repaint();\n    }\n    \n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        \n        private final SimpleDrawingModel model;\n        \n        public DrawingPanel(SimpleDrawingPad view, SimpleDrawingModel model) {\n            this.model = model;\n            this.setBackground(Color.WHITE);\n            this.setPreferredSize(new Dimension(640, 480));\n            \n            DrawingListener listener = new DrawingListener(view, model);\n            this.addMouseListener(listener);\n            this.addMouseMotionListener(listener);\n        }\n        \n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            \n            for (DrawingPoint drawingPoint : model.getDrawingPoints()) {\n                g.setColor(drawingPoint.getDrawingColor());\n                Point point = drawingPoint.getDrawingPoint();\n                int lineThickness = drawingPoint.getLineThickness();\n                g.fillRect(point.x, point.y, lineThickness, lineThickness);\n            }\n        }\n        \n    }\n    \n    public class DrawingListener extends MouseAdapter {\n        \n        private final SimpleDrawingPad view;\n        \n        private final SimpleDrawingModel model;\n        \n        public DrawingListener(SimpleDrawingPad view,\n                SimpleDrawingModel model) {\n            this.view = view;\n            this.model = model;\n        }\n\n        @Override\n        public void mousePressed(MouseEvent event) {\n            DrawingPoint drawingPoint = new DrawingPoint(event.getPoint(), \n                    model.getDrawingColor(), model.getLineThickness());\n            model.addDrawingPoint(drawingPoint);\n            view.repaint();\n        }\n        \n        @Override\n        public void mouseDragged(MouseEvent event) {\n            DrawingPoint drawingPoint = new DrawingPoint(event.getPoint(), \n                    model.getDrawingColor(), model.getLineThickness());\n            model.addDrawingPoint(drawingPoint);\n            view.repaint();\n        }\n        \n    }\n    \n    public class SimpleDrawingModel {\n        \n        private int lineThickness;\n        \n        private Color drawingColor;\n        \n        private List&lt;DrawingPoint&gt; drawingPoints;\n        \n        public SimpleDrawingModel() {\n            this.lineThickness = 10;\n            this.drawingColor = Color.BLACK;\n            this.drawingPoints = new ArrayList&lt;&gt;();\n        }\n\n        public int getLineThickness() {\n            return lineThickness;\n        }\n\n        public void setLineThickness(int lineThickness) {\n            this.lineThickness = lineThickness;\n        }\n\n        public Color getDrawingColor() {\n            return drawingColor;\n        }\n\n        public void setDrawingColor(Color drawingColor) {\n            this.drawingColor = drawingColor;\n        }\n\n        public List&lt;DrawingPoint&gt; getDrawingPoints() {\n            return drawingPoints;\n        }\n\n        public void addDrawingPoint(DrawingPoint drawingPoint) {\n            this.drawingPoints.add(drawingPoint);\n        }\n        \n    }\n    \n    public class DrawingPoint {\n        \n        private final int lineThickness;\n        \n        private final Color drawingColor;\n        \n        private final Point drawingPoint;\n\n        public DrawingPoint(Point drawingPoint, Color drawingColor,\n                int lineThickness) {\n            this.drawingPoint = drawingPoint;\n            this.drawingColor = drawingColor;\n            this.lineThickness = lineThickness;\n        }\n\n        public int getLineThickness() {\n            return lineThickness;\n        }\n\n        public Color getDrawingColor() {\n            return drawingColor;\n        }\n\n        public Point getDrawingPoint() {\n            return drawingPoint;\n        }\n        \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":19566044,"reputation":3,"user_id":14318177,"display_name":"Kai Kishpaugh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648349716,"creation_date":1648315535,"question_id":71630274,"body_markdown":"If I push the buttons pen/eraser in the When I call repaint(), it creates an image of the button in the top corner. Why is this happening? How can I prevent these button images from appearing?\r\n\r\nI have attempted to layer the frames and many other things but I can&#39;t seem to figure it out.\r\n\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    public class Main extends JPanel implements MouseListener, MouseMotionListener {\r\n        private int lineThickness = 10;\r\n        private int xMousePos, yMousePos;\r\n        private boolean isPressed = true;\r\n        private static JLayeredPane layered;\r\n        private static JToolBar toolBar;\r\n        private static JToggleButton pen, eraser, color;\r\n        private static Main screen;\r\n        private static JFrame app, toolWindow;\r\n        private static Color drawColor;\r\n        private static int i=0;\r\n        public Main() {\r\n            addMouseListener(this);\r\n            addMouseMotionListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            g.setColor(drawColor);\r\n            g.fillRect(xMousePos, yMousePos, lineThickness, lineThickness);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            screen = new Main();\r\n            screen.setBounds(0, 0, 20, 20);\r\n            app = new JFrame(&quot;Drawing-Pad&quot;);\r\n            JPanel panel = new JPanel();\r\n            panel.setLayout(new GridLayout(2, 1));\r\n            panel.setFocusable(false);\r\n            panel.setBounds(0, 0, 600, 60);\r\n            panel.setBackground(Color.RED);\r\n    \r\n            app.setBackground(Color.WHITE);\r\n            app.add(panel);\r\n            app.add(screen);\r\n            app.setVisible(true);\r\n            app.setBounds(0, 0, 600, 400);\r\n    \r\n    \r\n            pen = new JToggleButton(&quot;Pen&quot;);\r\n            eraser = new JToggleButton(&quot;Eraser&quot;);\r\n            toolBar = new JToolBar();\r\n            toolBar.add(pen);\r\n            toolBar.add(eraser);\r\n            panel.add(toolBar);\r\n    \r\n            pen.addActionListener(e-&gt;{\r\n                ++i;\r\n                eraser.setSelected(false);\r\n                drawColor = Color.BLACK;\r\n            });\r\n    \r\n            eraser.addActionListener(e-&gt;{\r\n                ++i;\r\n                pen.setSelected(false);\r\n                drawColor = Color.WHITE;\r\n            });\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            //isPressed = false;\r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            xMousePos = e.getX();\r\n            yMousePos = e.getY();\r\n            if(e.getY()&gt;60 &amp;&amp; i == 0) updateUI();\r\n            i=0;\r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            xMousePos = e.getX();\r\n            yMousePos = e.getY();\r\n            if(e.getY()&gt;60 &amp;&amp; i == 0) updateUI();\r\n            i=0;\r\n        }\r\n    \r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n            xMousePos = e.getX();\r\n            yMousePos = e.getY();\r\n        }\r\n    }\r\n    \r\n\r\n**I don&#39;t know why this is happening please help.** ","title":"Here is a simple drawing pad. Why do the buttons appear in the corner when the UpdateUI() is called during a mouseevent? How do I fix it?","body":"<p>If I push the buttons pen/eraser in the When I call repaint(), it creates an image of the button in the top corner. Why is this happening? How can I prevent these button images from appearing?</p>\n<p>I have attempted to layer the frames and many other things but I can't seem to figure it out.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\npublic class Main extends JPanel implements MouseListener, MouseMotionListener {\n    private int lineThickness = 10;\n    private int xMousePos, yMousePos;\n    private boolean isPressed = true;\n    private static JLayeredPane layered;\n    private static JToolBar toolBar;\n    private static JToggleButton pen, eraser, color;\n    private static Main screen;\n    private static JFrame app, toolWindow;\n    private static Color drawColor;\n    private static int i=0;\n    public Main() {\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        g.setColor(drawColor);\n        g.fillRect(xMousePos, yMousePos, lineThickness, lineThickness);\n    }\n\n    public static void main(String[] args) {\n        screen = new Main();\n        screen.setBounds(0, 0, 20, 20);\n        app = new JFrame(&quot;Drawing-Pad&quot;);\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridLayout(2, 1));\n        panel.setFocusable(false);\n        panel.setBounds(0, 0, 600, 60);\n        panel.setBackground(Color.RED);\n\n        app.setBackground(Color.WHITE);\n        app.add(panel);\n        app.add(screen);\n        app.setVisible(true);\n        app.setBounds(0, 0, 600, 400);\n\n\n        pen = new JToggleButton(&quot;Pen&quot;);\n        eraser = new JToggleButton(&quot;Eraser&quot;);\n        toolBar = new JToolBar();\n        toolBar.add(pen);\n        toolBar.add(eraser);\n        panel.add(toolBar);\n\n        pen.addActionListener(e-&gt;{\n            ++i;\n            eraser.setSelected(false);\n            drawColor = Color.BLACK;\n        });\n\n        eraser.addActionListener(e-&gt;{\n            ++i;\n            pen.setSelected(false);\n            drawColor = Color.WHITE;\n        });\n    }\n\n\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        //isPressed = false;\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        xMousePos = e.getX();\n        yMousePos = e.getY();\n        if(e.getY()&gt;60 &amp;&amp; i == 0) updateUI();\n        i=0;\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        xMousePos = e.getX();\n        yMousePos = e.getY();\n        if(e.getY()&gt;60 &amp;&amp; i == 0) updateUI();\n        i=0;\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        xMousePos = e.getX();\n        yMousePos = e.getY();\n    }\n}\n</code></pre>\n<p><strong>I don't know why this is happening please help.</strong></p>\n"},{"tags":["java","string","dictionary","enums"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1545219031,"post_id":53850260,"comment_id":94548007,"body_markdown":"What are you actually trying to do? For example `Validation.type.class` would *compile*; but does this actually do what you want?","body":"What are you actually trying to do? For example <code>Validation.type.class</code> would <i>compile</i>; but does this actually do what you want?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1545219504,"post_id":53850260,"comment_id":94548231,"body_markdown":"Make sure you follow the Java Naming Conventions: class and enum names always start with uppercase, i.e. `type` should be `Type`.","body":"Make sure you follow the Java Naming Conventions: class and enum names always start with uppercase, i.e. <code>type</code> should be <code>Type</code>."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1545219506,"post_id":53850260,"comment_id":94548235,"body_markdown":"Do you need a `Map`? Will (correcting case) `Validation.Type.valueOf()` not work?","body":"Do you need a <code>Map</code>? Will (correcting case) <code>Validation.Type.valueOf()</code> not work?"},{"owner":{"account_id":2626520,"reputation":350,"user_id":2273402,"accept_rate":50,"display_name":"Pradeep"},"score":0,"creation_date":1545305233,"post_id":53850260,"comment_id":94582581,"body_markdown":"@AndyTurner : Validation.type.class solves compilation problem, but I don&#39;t know how i can create an instance back using the class.","body":"@AndyTurner : Validation.type.class solves compilation problem, but I don&#39;t know how i can create an instance back using the class."}],"answers":[{"tags":[],"owner":{"account_id":5572640,"reputation":5109,"user_id":4417306,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1545219011,"creation_date":1545219011,"answer_id":53850308,"question_id":53850260,"body_markdown":"This is probably what you&#39;re looking for, `Map&lt;String, Object&gt;` is changed to `Map&lt;String, Validation.type&gt;`:\r\n\r\n    Map&lt;String, Validation.type&gt; validationMap = new HashMap&lt;String, Validation.type&gt;();\r\n    validationMap.put(&quot;type&quot;, Validation.type.INTERNAL);\r\n    validationMap.put(&quot;type2&quot;, Validation.type.EXTERNAL);\r\n\r\n\r\n----------\r\nYour original code would have worked, if you had changed `Validation.type` to `Validation.type.INTERNAL` for example, however your `validationMap` map allows the storage of ***any*** `Object`, so `validationMap.put(&quot;type2&quot;, 123.123);` would also have worked, which is unlikely to be something you want.","title":"How to create a map with enum values in java?","body":"<p>This is probably what you're looking for, <code>Map&lt;String, Object&gt;</code> is changed to <code>Map&lt;String, Validation.type&gt;</code>:</p>\n\n<pre><code>Map&lt;String, Validation.type&gt; validationMap = new HashMap&lt;String, Validation.type&gt;();\nvalidationMap.put(\"type\", Validation.type.INTERNAL);\nvalidationMap.put(\"type2\", Validation.type.EXTERNAL);\n</code></pre>\n\n<hr>\n\n<p>Your original code would have worked, if you had changed <code>Validation.type</code> to <code>Validation.type.INTERNAL</code> for example, however your <code>validationMap</code> map allows the storage of <strong><em>any</em></strong> <code>Object</code>, so <code>validationMap.put(\"type2\", 123.123);</code> would also have worked, which is unlikely to be something you want.</p>\n"},{"tags":[],"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545228970,"creation_date":1545219349,"answer_id":53850400,"question_id":53850260,"body_markdown":"Is this what you need?\r\n\r\n    Map&lt;String, List&lt;Validation.type&gt;&gt; validationMap = new HashMap&lt;&gt;();\r\n    validationMap.put(&quot;type&quot;, \r\n       Arrays.asList(Validation.type.EXTERNAL,Validation.type.INTERNAL));\r\n\r\n","title":"How to create a map with enum values in java?","body":"<p>Is this what you need?</p>\n\n<pre><code>Map&lt;String, List&lt;Validation.type&gt;&gt; validationMap = new HashMap&lt;&gt;();\nvalidationMap.put(\"type\", \n   Arrays.asList(Validation.type.EXTERNAL,Validation.type.INTERNAL));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19109422,"reputation":23,"user_id":13955737,"display_name":"David R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648349642,"creation_date":1648349642,"answer_id":71633376,"question_id":53850260,"body_markdown":"I believe Your code does not work because Validation.Type is not an instance (of an enum). When you put a value in your map, I believe you would want to put in an actual instance as a value. I suppose that is why the above answers suggest adding an actual instance to the Map such as Type.INTERNAL or using a class instance.\r\n\r\nThis code will run\r\n\r\n        Map&lt;String, Object&gt; validationMap = new HashMap&lt;String, Object&gt;();\r\n        // this works\r\n        validationMap.put(&quot;type&quot;, Validation.Type.EXTERNAL);\r\n        // as shown by:\r\n        System.out.println(validationMap.toString());\r\n        // here is an analogy:\r\n        // make an instance of a class\r\n        Validation validation = new Validation();\r\n        // this works\r\n        validationMap.put(&quot;classType&quot;,validation);\r\n        Validation validationGet = (Validation) validationMap.get(&quot;classType&quot;);\r\n        System.out.println(validationMap.toString());\r\n        // by analogy this will not work because Validation is not an instance:\r\n        // validationMap.put(&quot;classType&quot;,Validation);\r\n\r\nAnd the output on my machine is:\r\n{type=EXTERNAL}\r\n\r\n{type=EXTERNAL, classType=Validation@3feba861}\r\n\r\n\r\n","title":"How to create a map with enum values in java?","body":"<p>I believe Your code does not work because Validation.Type is not an instance (of an enum). When you put a value in your map, I believe you would want to put in an actual instance as a value. I suppose that is why the above answers suggest adding an actual instance to the Map such as Type.INTERNAL or using a class instance.</p>\n<p>This code will run</p>\n<pre><code>    Map&lt;String, Object&gt; validationMap = new HashMap&lt;String, Object&gt;();\n    // this works\n    validationMap.put(&quot;type&quot;, Validation.Type.EXTERNAL);\n    // as shown by:\n    System.out.println(validationMap.toString());\n    // here is an analogy:\n    // make an instance of a class\n    Validation validation = new Validation();\n    // this works\n    validationMap.put(&quot;classType&quot;,validation);\n    Validation validationGet = (Validation) validationMap.get(&quot;classType&quot;);\n    System.out.println(validationMap.toString());\n    // by analogy this will not work because Validation is not an instance:\n    // validationMap.put(&quot;classType&quot;,Validation);\n</code></pre>\n<p>And the output on my machine is:\n{type=EXTERNAL}</p>\n<p>{type=EXTERNAL, classType=Validation@3feba861}</p>\n"}],"owner":{"account_id":2626520,"reputation":350,"user_id":2273402,"accept_rate":50,"display_name":"Pradeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1648349642,"creation_date":1545218829,"question_id":53850260,"body_markdown":"I need to validate the value of a parameters passed as part of REST API. These parameters are a fixed set of values. I thought of using a map having parameter name as key and enum as value. So I can check if the value sent in REST API is one of the enum keys.\r\n\r\nBut I am not able to create a Map with String key and enum value in java, tried creating Map&lt;String, Object&gt; and then putting and enum as value, but it fails.\r\n\r\n    class Validation {\r\n    \tenum Type {\r\n    \t\tINTERNAL,\r\n    \t\tEXTERNAL\r\n    \t}; \r\n    }\r\n    \r\n    Map&lt;String, Object&gt; validationMap = new HashMap&lt;String, Object&gt;();\r\n    validationMap.put(&quot;type&quot;, Validation.Type);\r\n\r\nThis is throwing an error that type is not defined.","title":"How to create a map with enum values in java?","body":"<p>I need to validate the value of a parameters passed as part of REST API. These parameters are a fixed set of values. I thought of using a map having parameter name as key and enum as value. So I can check if the value sent in REST API is one of the enum keys.</p>\n\n<p>But I am not able to create a Map with String key and enum value in java, tried creating Map and then putting and enum as value, but it fails.</p>\n\n<pre><code>class Validation {\n    enum Type {\n        INTERNAL,\n        EXTERNAL\n    }; \n}\n\nMap&lt;String, Object&gt; validationMap = new HashMap&lt;String, Object&gt;();\nvalidationMap.put(\"type\", Validation.Type);\n</code></pre>\n\n<p>This is throwing an error that type is not defined.</p>\n"},{"tags":["java","multithreading","wait","synchronized","java-threads"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1636595630,"post_id":69922297,"comment_id":123602091,"body_markdown":"How does it fail? `int count;` -&gt; Not threadsafe. Use AtomicInteger etc for thread-safe operations.","body":"How does it fail? <code>int count;</code> -&gt; Not threadsafe. Use AtomicInteger etc for thread-safe operations."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1636605519,"post_id":69922297,"comment_id":123603764,"body_markdown":"@Solomon: using sleep is the right idea here I think.","body":"@Solomon: using sleep is the right idea here I think."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1636606011,"post_id":69922297,"comment_id":123603856,"body_markdown":"Now that I&#39;ve finally got it through my thick head what is going on here... Yeah. `sleep(100)` (instead of `wait(100)`) would make the test pass, but whether or not that is &quot;the right idea&quot; is a whole nother question. Depends what the test is supposed to prove I guess.","body":"Now that I&#39;ve finally got it through my thick head what is going on here... Yeah. <code>sleep(100)</code> (instead of <code>wait(100)</code>) would make the test pass, but whether or not that is &quot;the right idea&quot; is a whole nother question. Depends what the test is supposed to prove I guess."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636639669,"creation_date":1636605348,"answer_id":69923237,"question_id":69922297,"body_markdown":"Solomons suggestion to use sleep is a good one. If you use sleep instead of wait, you should see the test pass.\r\n\r\n Using wait causes the thread to relinquish the lock, allowing other threads to proceed and overwrite the value in count. When the thread&#39;s wait times out, it acquires the lock again, then writes a value to count that may be stale by now. \r\n\r\nThe typical usage of wait is when your thread can&#39;t do anything useful until some condition is met. Some other thread eventually  satisfies that condition and a notification gets sent that will inform the thread it can resume work. In the meantime, since there is nothing useful the thread can do, it releases the lock it is holding (because other threads need the lock in order to make progress meeting the condition that the thread is waiting for) and goes dormant. \r\n\r\nSleep doesn&#39;t release the lock so there won&#39;t be interference from other threads. For either the sleeping case or the case where you delete the wait call, the lock is held for the duration of the operation, nothing else can change count, so it is threadsafe. \r\n\r\nBe aware that in real life, outside of learning exercises, sleeping with a lock held is usually  not a great idea. You want to minimize the time that a task holds a lock so you can get more throughput. Threads denying each other the use of a lock is not helpful. \r\n\r\nAlso be aware that getCount needs to be synchronized as well, since it is reading a value written by another thread. ","title":"My java unit test failed if there is a call to wait method inside a synchronized method","body":"<p>Solomons suggestion to use sleep is a good one. If you use sleep instead of wait, you should see the test pass.</p>\n<p>Using wait causes the thread to relinquish the lock, allowing other threads to proceed and overwrite the value in count. When the thread's wait times out, it acquires the lock again, then writes a value to count that may be stale by now.</p>\n<p>The typical usage of wait is when your thread can't do anything useful until some condition is met. Some other thread eventually  satisfies that condition and a notification gets sent that will inform the thread it can resume work. In the meantime, since there is nothing useful the thread can do, it releases the lock it is holding (because other threads need the lock in order to make progress meeting the condition that the thread is waiting for) and goes dormant.</p>\n<p>Sleep doesn't release the lock so there won't be interference from other threads. For either the sleeping case or the case where you delete the wait call, the lock is held for the duration of the operation, nothing else can change count, so it is threadsafe.</p>\n<p>Be aware that in real life, outside of learning exercises, sleeping with a lock held is usually  not a great idea. You want to minimize the time that a task holds a lock so you can get more throughput. Threads denying each other the use of a lock is not helpful.</p>\n<p>Also be aware that getCount needs to be synchronized as well, since it is reading a value written by another thread.</p>\n"}],"owner":{"account_id":3718993,"reputation":13,"user_id":3094452,"display_name":"Chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69923237,"answer_count":1,"score":1,"last_activity_date":1648347032,"creation_date":1636595312,"question_id":69922297,"body_markdown":"I am learning multi-threads programming in java recently. And I don&#39;t understand why the following test case will fail. Any explanation will be much appreciated.\r\n\r\nHere is `MyCounter.java`.\r\n```\r\npublic class MyCounter {\r\n    private int count;\r\n\r\n    public synchronized void incrementSynchronized() throws InterruptedException {\r\n        int temp = count;\r\n        wait(100);  // &lt;-----\r\n        count = temp + 1;\r\n    }\r\n\r\n    public int getCount() {\r\n        return count;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is my unit test class.\r\n```\r\npublic class MyCounterTest {\r\n    @Test\r\n    public void testSummationWithConcurrency() throws InterruptedException {\r\n        int numberOfThreads = 100;\r\n        ExecutorService service = Executors.newFixedThreadPool(10);\r\n        CountDownLatch latch = new CountDownLatch(numberOfThreads);\r\n        MyCounter counter = new MyCounter();\r\n        for (int i = 0; i &lt; numberOfThreads; i++) {\r\n            service.submit(() -&gt; {\r\n                try {\r\n                    counter.incrementSynchronized();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                latch.countDown();\r\n            });\r\n        }\r\n        latch.await();\r\n        assertEquals(numberOfThreads, counter.getCount());\r\n    }\r\n}\r\n```\r\n\r\nBut if I remove `wait(100)` from the synchronized method `incrementSynchronized`, the test will succeed. I don&#39;t understand why `wait(100)` will affect the result.","title":"My java unit test failed if there is a call to wait method inside a synchronized method","body":"<p>I am learning multi-threads programming in java recently. And I don't understand why the following test case will fail. Any explanation will be much appreciated.</p>\n<p>Here is <code>MyCounter.java</code>.</p>\n<pre><code>public class MyCounter {\n    private int count;\n\n    public synchronized void incrementSynchronized() throws InterruptedException {\n        int temp = count;\n        wait(100);  // &lt;-----\n        count = temp + 1;\n    }\n\n    public int getCount() {\n        return count;\n    }\n}\n\n</code></pre>\n<p>This is my unit test class.</p>\n<pre><code>public class MyCounterTest {\n    @Test\n    public void testSummationWithConcurrency() throws InterruptedException {\n        int numberOfThreads = 100;\n        ExecutorService service = Executors.newFixedThreadPool(10);\n        CountDownLatch latch = new CountDownLatch(numberOfThreads);\n        MyCounter counter = new MyCounter();\n        for (int i = 0; i &lt; numberOfThreads; i++) {\n            service.submit(() -&gt; {\n                try {\n                    counter.incrementSynchronized();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                latch.countDown();\n            });\n        }\n        latch.await();\n        assertEquals(numberOfThreads, counter.getCount());\n    }\n}\n</code></pre>\n<p>But if I remove <code>wait(100)</code> from the synchronized method <code>incrementSynchronized</code>, the test will succeed. I don't understand why <code>wait(100)</code> will affect the result.</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":4108680,"reputation":501,"user_id":3371872,"display_name":"John C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440189520,"creation_date":1440189520,"answer_id":32148910,"question_id":32145160,"body_markdown":"You can execute a `Callable&lt;T&gt;` like a `Runnable` by wrapping it in a `FutureTask&lt;T&gt;` (which implements `Runnable`). You can retrieve the returned value by calling the `&lt;T&gt; get()` function of the `FutureTask&lt;T&gt;` you wrapped the callable with.","title":"Does Callable interface is also used to create thread like Runnable??","body":"<p>You can execute a <code>Callable&lt;T&gt;</code> like a <code>Runnable</code> by wrapping it in a <code>FutureTask&lt;T&gt;</code> (which implements <code>Runnable</code>). You can retrieve the returned value by calling the <code>&lt;T&gt; get()</code> function of the <code>FutureTask&lt;T&gt;</code> you wrapped the callable with.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440193284,"creation_date":1440189773,"answer_id":32148971,"question_id":32145160,"body_markdown":"Runnable and Callable are similar, they are both ways to specify a task which can be performed by an Executor. Callable exists for tasks that need to return a result.\r\n\r\nRunnable and Callable are not used to &quot;create a thread&quot;. Defining objects using these interfaces lets you keep separate the specification of what task you need performed from the specification of what infrastructure should perform the task. When you create a Runnable or Callable and pass it to an Executor, the executor can do things like hand it off to an existing thread drawn from a pool (http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html) or execute it in the current thread ([SingleTheadExecutor][1]). There isn&#39;t a requirement that a Runnable or Callable needs to create its own thread. \r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor","title":"Does Callable interface is also used to create thread like Runnable??","body":"<p>Runnable and Callable are similar, they are both ways to specify a task which can be performed by an Executor. Callable exists for tasks that need to return a result.</p>\n\n<p>Runnable and Callable are not used to \"create a thread\". Defining objects using these interfaces lets you keep separate the specification of what task you need performed from the specification of what infrastructure should perform the task. When you create a Runnable or Callable and pass it to an Executor, the executor can do things like hand it off to an existing thread drawn from a pool (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html</a>) or execute it in the current thread (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor\" rel=\"nofollow\">SingleTheadExecutor</a>). There isn't a requirement that a Runnable or Callable needs to create its own thread. </p>\n"}],"owner":{"account_id":6827492,"reputation":1,"user_id":5252746,"display_name":"abhishek bhalwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648346869,"creation_date":1440174280,"question_id":32145160,"body_markdown":"Does Callable interface is also used to create thread like Runnable??\r\n\r\nAs I have used it with executer framework so it work like same as runnable.\r\nI have seen only two traditional ways to create a Thread so far till now.\r\nPlease Help","title":"Does Callable interface is also used to create thread like Runnable??","body":"<p>Does Callable interface is also used to create thread like Runnable??</p>\n\n<p>As I have used it with executer framework so it work like same as runnable.\nI have seen only two traditional ways to create a Thread so far till now.\nPlease Help</p>\n"},{"tags":["java","android","string","kotlin","expression"],"comments":[{"owner":{"account_id":2578864,"reputation":2991,"user_id":2235972,"display_name":"denvercoder9"},"score":0,"creation_date":1574876743,"post_id":59070919,"comment_id":104388985,"body_markdown":"the string will contain ONLY `true`, `false`, `&amp;&amp;`, `||`, `!` and `()`? If yes, then you could write a simple program with stack to solve this. It&#39;s similar to &quot;balance parentheses&quot; problem.","body":"the string will contain ONLY <code>true</code>, <code>false</code>, <code>&amp;&amp;</code>, <code>||</code>, <code>!</code> and <code>()</code>? If yes, then you could write a simple program with stack to solve this. It&#39;s similar to &quot;balance parentheses&quot; problem."},{"owner":{"account_id":6257013,"reputation":244,"user_id":4865235,"display_name":"Pragya Singla"},"score":0,"creation_date":1574881345,"post_id":59070919,"comment_id":104390971,"body_markdown":"Thanks for your answer. yes it will only contain true, false, &amp;&amp;, ||, ! and ().","body":"Thanks for your answer. yes it will only contain true, false, &amp;&amp;, ||, ! and ()."}],"answers":[{"tags":[],"owner":{"account_id":11448833,"reputation":431,"user_id":8391757,"accept_rate":25,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600185688,"creation_date":1600185688,"answer_id":63905720,"question_id":59070919,"body_markdown":"I know my answer will not help you in your case where your string expression contain true, false, &amp;&amp;, ||, ! and (). BUT for those who wants to evaluate mathematical expressions I found [this library][1] that handles almost all mathematical operators.\r\n\r\nAdd it to your project and use it this way\r\n\r\n        // In root build.gradle\r\n        repositories {\r\n        maven {\r\n            url  &quot;https://dl.bintray.com/kaendagger/KParser&quot;\r\n              }\r\n        } \r\n\r\n        //Add in the dependencies\r\n        dependencies{\r\n         implementation &#39;io.kaen.dagger:KParser-jvm:0.1.1&#39;\r\n        }\r\n\r\n\r\nAnd then in your code you can do something like this\r\n\r\n    val parser = ExpressionParser()\r\n    val result = parser.evaluate(&quot;5+1+cos(PI)-2*2/4&quot;)\r\n    println(result)\r\n\r\n  [1]: https://github.com/RotBolt/KParser","title":"Evaluate string expression in kotlin without using script engine","body":"<p>I know my answer will not help you in your case where your string expression contain true, false, &amp;&amp;, ||, ! and (). BUT for those who wants to evaluate mathematical expressions I found <a href=\"https://github.com/RotBolt/KParser\" rel=\"nofollow noreferrer\">this library</a> that handles almost all mathematical operators.</p>\n<p>Add it to your project and use it this way</p>\n<pre><code>    // In root build.gradle\n    repositories {\n    maven {\n        url  &quot;https://dl.bintray.com/kaendagger/KParser&quot;\n          }\n    } \n\n    //Add in the dependencies\n    dependencies{\n     implementation 'io.kaen.dagger:KParser-jvm:0.1.1'\n    }\n</code></pre>\n<p>And then in your code you can do something like this</p>\n<pre><code>val parser = ExpressionParser()\nval result = parser.evaluate(&quot;5+1+cos(PI)-2*2/4&quot;)\nprintln(result)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19388858,"reputation":41,"user_id":14178017,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648345488,"creation_date":1634322411,"answer_id":69589114,"question_id":59070919,"body_markdown":"## **Kotlin Android**\r\n\r\n***\r\n\r\n#### app.gradle file\r\n\r\nAdd a new dependency\r\n\r\n    dependencies {\r\n        implementation &#39;net.objecthunter:exp4j:0.4.8&#39;\r\n    }\r\n\r\n#### main.kt file\r\n```kt\r\n    var value = TextView.text.toString()\r\n    var result = ExpressionBuilder(value).build().evaluate()\r\n```","title":"Evaluate string expression in kotlin without using script engine","body":"<h2><strong>Kotlin Android</strong></h2>\n<hr />\n<h4>app.gradle file</h4>\n<p>Add a new dependency</p>\n<pre><code>dependencies {\n    implementation 'net.objecthunter:exp4j:0.4.8'\n}\n</code></pre>\n<h4>main.kt file</h4>\n<pre><code>    var value = TextView.text.toString()\n    var result = ExpressionBuilder(value).build().evaluate()\n</code></pre>\n"}],"owner":{"account_id":6257013,"reputation":244,"user_id":4865235,"display_name":"Pragya Singla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2304,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1648345488,"creation_date":1574859915,"question_id":59070919,"body_markdown":"I want to evaluate the string expression without using script engine:\r\n\r\nstring expression can be like:\r\n\r\n&gt;   &quot;((true&amp;&amp;(!false)||true)&amp;&amp;true)&amp;&amp;true&quot; \r\n\r\nAnybody have any idea how this can be done in android using kotlin\r\n\r\nThanks","title":"Evaluate string expression in kotlin without using script engine","body":"<p>I want to evaluate the string expression without using script engine:</p>\n\n<p>string expression can be like:</p>\n\n<blockquote>\n  <p>\"((true&amp;&amp;(!false)||true)&amp;&amp;true)&amp;&amp;true\" </p>\n</blockquote>\n\n<p>Anybody have any idea how this can be done in android using kotlin</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","weblogic12c"],"comments":[{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1405753327,"post_id":24835051,"comment_id":38563541,"body_markdown":"That&#39;s not really very much information. Did it come from your application, or from the server? If it&#39;s the application did you try deploying in another container? Probably you are going to need to show the code.","body":"That&#39;s not really very much information. Did it come from your application, or from the server? If it&#39;s the application did you try deploying in another container? Probably you are going to need to show the code."},{"owner":{"account_id":4332572,"reputation":804,"user_id":3537656,"display_name":"Carlos"},"score":0,"creation_date":1405956206,"post_id":24835051,"comment_id":38622994,"body_markdown":"Hi Dave thanks for your answer, I deploy de application in tomcat and works fine, but when I try to make a deploy in WEBLOGIC I recieve this message, I was using this guide [link](http://spring.io/blog/2014/03/07/deploying-spring-boot-applications) but it doesn&#39;t work. \n\nsorry for the english it&#39;s not my main lenguaje.","body":"Hi Dave thanks for your answer, I deploy de application in tomcat and works fine, but when I try to make a deploy in WEBLOGIC I recieve this message, I was using this guide <a href=\"http://spring.io/blog/2014/03/07/deploying-spring-boot-applications\" rel=\"nofollow noreferrer\">link</a> but it doesn&#39;t work.   sorry for the english it&#39;s not my main lenguaje."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1405961638,"post_id":24835051,"comment_id":38626249,"body_markdown":"It&#39;s really not clear where the 403 came from. Some Los might help, but really I doubt we are going to make any progress without your code. Do you think you could make a minimal webapp that has this problem and post it on github.","body":"It&#39;s really not clear where the 403 came from. Some Los might help, but really I doubt we are going to make any progress without your code. Do you think you could make a minimal webapp that has this problem and post it on github."},{"owner":{"account_id":4332572,"reputation":804,"user_id":3537656,"display_name":"Carlos"},"score":0,"creation_date":1405965086,"post_id":24835051,"comment_id":38628264,"body_markdown":"Dave, I made a little &quot;Hello World&quot;  this is the [link](https://github.com/purrox/Spring-example) and I have the same result 10.4.4 403 Forbidden in WebLogic and works fine in Tomcat. I hope you can help with that.","body":"Dave, I made a little &quot;Hello World&quot;  this is the <a href=\"https://github.com/purrox/Spring-example\" rel=\"nofollow noreferrer\">link</a> and I have the same result 10.4.4 403 Forbidden in WebLogic and works fine in Tomcat. I hope you can help with that."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1405965422,"post_id":24835051,"comment_id":38628466,"body_markdown":"Thanks that&#39;s useful. First question: why don&#39;t you use the latest Boot (1.1.4.RELEASE or 1.1.5.BUILD-SNAPSHOT as of today)? Second question: does the Weblogic target container support servlet 3.0?","body":"Thanks that&#39;s useful. First question: why don&#39;t you use the latest Boot (1.1.4.RELEASE or 1.1.5.BUILD-SNAPSHOT as of today)? Second question: does the Weblogic target container support servlet 3.0?"},{"owner":{"account_id":4332572,"reputation":804,"user_id":3537656,"display_name":"Carlos"},"score":0,"creation_date":1405971664,"post_id":24835051,"comment_id":38631930,"body_markdown":"It&#39;s a good question, I don&#39;t know why am I using an older version and as far as I understand Weblogic 12c supports  servlet 3.0","body":"It&#39;s a good question, I don&#39;t know why am I using an older version and as far as I understand Weblogic 12c supports  servlet 3.0"},{"owner":{"account_id":4332572,"reputation":804,"user_id":3537656,"display_name":"Carlos"},"score":0,"creation_date":1406049652,"post_id":24835051,"comment_id":38670292,"body_markdown":"@DaveSyer sorry for bother you, but you don&#39;t have any clue about it?","body":"@DaveSyer sorry for bother you, but you don&#39;t have any clue about it?"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1406118631,"post_id":24835051,"comment_id":38701514,"body_markdown":"Sorry, I&#39;m still a bit hazy on the steps to reproduce. Who is getting a 403 from where?","body":"Sorry, I&#39;m still a bit hazy on the steps to reproduce. Who is getting a 403 from where?"},{"owner":{"account_id":4332572,"reputation":804,"user_id":3537656,"display_name":"Carlos"},"score":0,"creation_date":1406130657,"post_id":24835051,"comment_id":38710920,"body_markdown":"Dave the 403 is getting when I try to access the url generated for weblogic [link](http://cdn.imghack.se/images/2bdf99230195284b66949cc4af7e1c38.png)","body":"Dave the 403 is getting when I try to access the url generated for weblogic <a href=\"http://cdn.imghack.se/images/2bdf99230195284b66949cc4af7e1c38.png\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1406154862,"post_id":24835051,"comment_id":38724422,"body_markdown":"Any logging on the server? What if you add DEBUG level for everything? Is Spring even getting to process the request.","body":"Any logging on the server? What if you add DEBUG level for everything? Is Spring even getting to process the request."}],"answers":[{"tags":[],"owner":{"account_id":4874710,"reputation":2435,"user_id":3930172,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1409945762,"creation_date":1409682061,"answer_id":25629835,"question_id":24835051,"body_markdown":"I reviewed your code and saw an issue in this class of your code:\r\nhttps://github.com/purrox/Spring-example/blob/master/src/main/java/hello/Application.java\r\n\r\nYou&#39;re doing it correctly (as defined in the SpringBoot docs) but it seems there&#39;s a bug with Weblogic12C (or maybe an interpretation of the standard). It seems like Weblogic12C Searches for a class that implements WebApplicationInitializer DIRECTLY. Notice how your code extends SpringBootServletInitializer (which implements WebApplicationInitializer). Weblogic12C doesn&#39;t like it that way it seems. So, the simplest way is to make your Application class implement WebApplicationInitializer. So, change this line:\r\n\r\n    public class Application extends SpringBootServletInitializer {  \r\n\r\nto this:\r\n\r\n    public class Application extends SpringBootServletInitializer implements WebApplicationInitializer {  \r\n\r\nNote: once you fix the above, you&#39;ll run into another Weblogic12C deploy issue: &quot;java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath&quot;. To fix that other issue, create a new file src/main/webapp/WEB-INF/weblogic.xml and put this content in it:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\r\n            &lt;wls:weblogic-version&gt;12.1.1&lt;/wls:weblogic-version&gt;\r\n            &lt;wls:context-root&gt;helloApp&lt;/wls:context-root&gt;\r\n            &lt;wls:container-descriptor&gt;\r\n                &lt;wls:prefer-application-packages&gt;\r\n                    &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\r\n                &lt;/wls:prefer-application-packages&gt;\r\n            &lt;/wls:container-descriptor&gt;\r\n        &lt;/wls:weblogic-web-app&gt;\r\n","title":"Deploy Spring Boot app in Weblogic","body":"<p>I reviewed your code and saw an issue in this class of your code:\n<a href=\"https://github.com/purrox/Spring-example/blob/master/src/main/java/hello/Application.java\" rel=\"noreferrer\">https://github.com/purrox/Spring-example/blob/master/src/main/java/hello/Application.java</a></p>\n\n<p>You're doing it correctly (as defined in the SpringBoot docs) but it seems there's a bug with Weblogic12C (or maybe an interpretation of the standard). It seems like Weblogic12C Searches for a class that implements WebApplicationInitializer DIRECTLY. Notice how your code extends SpringBootServletInitializer (which implements WebApplicationInitializer). Weblogic12C doesn't like it that way it seems. So, the simplest way is to make your Application class implement WebApplicationInitializer. So, change this line:</p>\n\n<pre><code>public class Application extends SpringBootServletInitializer {  \n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>public class Application extends SpringBootServletInitializer implements WebApplicationInitializer {  \n</code></pre>\n\n<p>Note: once you fix the above, you'll run into another Weblogic12C deploy issue: \"java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath\". To fix that other issue, create a new file src/main/webapp/WEB-INF/weblogic.xml and put this content in it:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;wls:weblogic-web-app xmlns:wls=\"http://xmlns.oracle.com/weblogic/weblogic-web-app\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd\"&gt;\n        &lt;wls:weblogic-version&gt;12.1.1&lt;/wls:weblogic-version&gt;\n        &lt;wls:context-root&gt;helloApp&lt;/wls:context-root&gt;\n        &lt;wls:container-descriptor&gt;\n            &lt;wls:prefer-application-packages&gt;\n                &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\n            &lt;/wls:prefer-application-packages&gt;\n        &lt;/wls:container-descriptor&gt;\n    &lt;/wls:weblogic-web-app&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409711759,"creation_date":1409711759,"answer_id":25635345,"question_id":24835051,"body_markdown":"You need to add &quot;implements WebApplicationInitializer&quot; to your hello.Application.\r\n\r\nThis is redundant as it extends SpringBootServletInitializer, which itself implements WebApplicationInitializer, however, as @Pierre points out, weblogic requires a class to directly implement it.","title":"Deploy Spring Boot app in Weblogic","body":"<p>You need to add \"implements WebApplicationInitializer\" to your hello.Application.</p>\n\n<p>This is redundant as it extends SpringBootServletInitializer, which itself implements WebApplicationInitializer, however, as @Pierre points out, weblogic requires a class to directly implement it.</p>\n"},{"tags":[],"owner":{"account_id":8711733,"reputation":149,"user_id":6517707,"display_name":"Naresh Hawk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471610249,"creation_date":1471610249,"answer_id":39039250,"question_id":24835051,"body_markdown":"If you are going to use `multipart` file request, you may still find issues in deploying the war. \r\n\r\nThe root of the problem is that OrderedCharacterEncodingFilter is running after HiddenHttpMethodFilter. `HiddenHttpMethodFilter` triggers processing of the request body as it calls `getParameter` on the request. `OrderedCharacterEncodingFilter` then runs and sets the request&#39;s encoding. Setting the request&#39;s encoding after its body has been processed is bad and, on WebLogic, causes the request to lose track of all its multipart data.\r\n\r\nA workaround is to disable the character encoding filter in application.properties:\r\n\r\n    spring.http.encoding.enabled: false","title":"Deploy Spring Boot app in Weblogic","body":"<p>If you are going to use <code>multipart</code> file request, you may still find issues in deploying the war. </p>\n\n<p>The root of the problem is that OrderedCharacterEncodingFilter is running after HiddenHttpMethodFilter. <code>HiddenHttpMethodFilter</code> triggers processing of the request body as it calls <code>getParameter</code> on the request. <code>OrderedCharacterEncodingFilter</code> then runs and sets the request's encoding. Setting the request's encoding after its body has been processed is bad and, on WebLogic, causes the request to lose track of all its multipart data.</p>\n\n<p>A workaround is to disable the character encoding filter in application.properties:</p>\n\n<pre><code>spring.http.encoding.enabled: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475136087,"creation_date":1475136087,"answer_id":39764622,"question_id":24835051,"body_markdown":"I hit this issue last time. After applying all proposals from this post I was still getting error 403. In my case the problem was in the `web.xml` file. I was using version 2.5 instead of 3.0 without configuring it to load an `ApplicationContext` via a `DispatcherServlet`.\r\n\r\nFrom the post: https://stackoverflow.com/questions/15985378/what-exactly-is-the-web-app-version-what-does-it-affect.\r\n\r\n    Versioning refers to XML schema version that syntax of your web.xml file must obey. More important, it also indicates the version of Servlet specification that your application implements.\r\n\r\nAnd from Spring documentation http://docs.spring.io/spring-boot/docs/current/reference/html/howto-traditional-deployment.html: \r\n\r\n    Older Servlet containers dont have support for the ServletContextInitializer bootstrap process used in Servlet 3.0. You can still use Spring and Spring Boot in these containers but you are going to need to add a web.xml to your application and configure it to load an ApplicationContext via a DispatcherServlet.\r\n\r\nFinally I&#39;ve changed the version of `web.xml` file to 3.0 and it starts working.\r\n\r\n","title":"Deploy Spring Boot app in Weblogic","body":"<p>I hit this issue last time. After applying all proposals from this post I was still getting error 403. In my case the problem was in the <code>web.xml</code> file. I was using version 2.5 instead of 3.0 without configuring it to load an <code>ApplicationContext</code> via a <code>DispatcherServlet</code>.</p>\n\n<p>From the post: <a href=\"https://stackoverflow.com/questions/15985378/what-exactly-is-the-web-app-version-what-does-it-affect\">What exactly is the web-app version? What does it affect?</a>.</p>\n\n<pre><code>Versioning refers to XML schema version that syntax of your web.xml file must obey. More important, it also indicates the version of Servlet specification that your application implements.\n</code></pre>\n\n<p>And from Spring documentation <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-traditional-deployment.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/howto-traditional-deployment.html</a>: </p>\n\n<pre><code>Older Servlet containers dont have support for the ServletContextInitializer bootstrap process used in Servlet 3.0. You can still use Spring and Spring Boot in these containers but you are going to need to add a web.xml to your application and configure it to load an ApplicationContext via a DispatcherServlet.\n</code></pre>\n\n<p>Finally I've changed the version of <code>web.xml</code> file to 3.0 and it starts working.</p>\n"},{"tags":[],"owner":{"account_id":10213320,"reputation":270,"user_id":7539777,"display_name":"akarahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621409921,"creation_date":1621409921,"answer_id":67598873,"question_id":24835051,"body_markdown":"I had the same issue while deploying SpringBoot 2.3.5.RELEASE app to Oracle WebLogic Server 12.2.1.4.0 version. In my case just implementing SpringBootServletInitializer resolved it, no need to implement WebApplicationInitializer\r\n\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class Application extends SpringBootServletInitializer {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Application.class);\r\n    }\r\n\r\n}\r\n```","title":"Deploy Spring Boot app in Weblogic","body":"<p>I had the same issue while deploying SpringBoot 2.3.5.RELEASE app to Oracle WebLogic Server 12.2.1.4.0 version. In my case just implementing SpringBootServletInitializer resolved it, no need to implement WebApplicationInitializer</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class Application extends SpringBootServletInitializer {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648344422,"creation_date":1648344422,"answer_id":71633051,"question_id":24835051,"body_markdown":"Use this project for reference to deploy spring boot application in weblogic 12.1.3 server. (mainly files like pom.xml, weblogic.xml, etc\r\n\r\nhttps://github.com/baranirajarathinam/wls1213\r\n\r\n","title":"Deploy Spring Boot app in Weblogic","body":"<p>Use this project for reference to deploy spring boot application in weblogic 12.1.3 server. (mainly files like pom.xml, weblogic.xml, etc</p>\n<p><a href=\"https://github.com/baranirajarathinam/wls1213\" rel=\"nofollow noreferrer\">https://github.com/baranirajarathinam/wls1213</a></p>\n"}],"owner":{"account_id":4332572,"reputation":804,"user_id":3537656,"display_name":"Carlos"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35395,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":25629835,"answer_count":6,"score":13,"last_activity_date":1648344422,"creation_date":1405725009,"question_id":24835051,"body_markdown":"I&#39;m having a trouble deploying a Spring boot application in webLogic 12C.\r\n\r\n10.4.4 403 Forbidden \r\nThe server understood the request, but is refusing to fulfill it. Authorization will not help and the request SHOULD NOT be repeated. If the request method was not HEAD and the server wishes to make public why the request has not been fulfilled, it SHOULD describe the reason for the refusal in the entity. This status code is commonly used when the server does not wish to reveal exactly why the request has been refused, or when no other response is applicable.\r\n\r\nI was wondering if someone can help with that.","title":"Deploy Spring Boot app in Weblogic","body":"<p>I'm having a trouble deploying a Spring boot application in webLogic 12C.</p>\n\n<p>10.4.4 403 Forbidden \nThe server understood the request, but is refusing to fulfill it. Authorization will not help and the request SHOULD NOT be repeated. If the request method was not HEAD and the server wishes to make public why the request has not been fulfilled, it SHOULD describe the reason for the refusal in the entity. This status code is commonly used when the server does not wish to reveal exactly why the request has been refused, or when no other response is applicable.</p>\n\n<p>I was wondering if someone can help with that.</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":19536235,"reputation":163,"user_id":14294960,"display_name":"DjongaNelson Lontrowski"},"score":0,"creation_date":1602691860,"post_id":64015869,"comment_id":113802775,"body_markdown":"Yes, i do. I update my gradle version and define in build.gradles the path used. I recommend (the versions in build.gradle and proprietiers file were differents) to go File&gt;Settings&gt;Build, Execution and Deployment, and configure Gradle version found, in the project structure the version different can be cause issues too.","body":"Yes, i do. I update my gradle version and define in build.gradles the path used. I recommend (the versions in build.gradle and proprietiers file were differents) to go File&gt;Settings&gt;Build, Execution and Deployment, and configure Gradle version found, in the project structure the version different can be cause issues too."},{"owner":{"account_id":9591999,"reputation":1172,"user_id":10462531,"display_name":"Kes Walker"},"score":0,"creation_date":1602700438,"post_id":64015869,"comment_id":113806600,"body_markdown":"Thanks for the reply :) What is your gradle version &amp; gradle plugin version?","body":"Thanks for the reply :) What is your gradle version &amp; gradle plugin version?"},{"owner":{"account_id":19536235,"reputation":163,"user_id":14294960,"display_name":"DjongaNelson Lontrowski"},"score":0,"creation_date":1602701295,"post_id":64015869,"comment_id":113806948,"body_markdown":"Currently is `&#39; classpath &#39;com.android.tools.build:gradle:4.0.2&#39; &#39;`","body":"Currently is <code>&#39; classpath &#39;com.android.tools.build:gradle:4.0.2&#39; &#39;</code>"},{"owner":{"account_id":19536235,"reputation":163,"user_id":14294960,"display_name":"DjongaNelson Lontrowski"},"score":0,"creation_date":1602701505,"post_id":64015869,"comment_id":113807028,"body_markdown":"Check if too &#39;gradle-wrapper.properties&#39; gradle version is latest (you can check the latest version on the release notes)","body":"Check if too &#39;gradle-wrapper.properties&#39; gradle version is latest (you can check the latest version on the release notes)"}],"answers":[{"tags":[],"owner":{"account_id":11167870,"reputation":597,"user_id":8195926,"display_name":"Sahitya Pasnoor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1609871062,"creation_date":1608053992,"answer_id":65310937,"question_id":64015869,"body_markdown":"Add \r\n```implementation &#39;com.google.guava:guava:30.0-android&#39;```\r\ninstead of this line from your gradle file\r\n ```implementation(&#39;com.google.guava:guava:29.0-jre&#39;)```\r\n\r\nAdding only android dependency seems to be working.","title":"java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher","body":"<p>Add\n<code>implementation 'com.google.guava:guava:30.0-android'</code>\ninstead of this line from your gradle file\n<code>implementation('com.google.guava:guava:29.0-jre')</code></p>\n<p>Adding only android dependency seems to be working.</p>\n"},{"tags":[],"owner":{"account_id":13734147,"reputation":51,"user_id":9910943,"display_name":"R. Cozendey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648342429,"creation_date":1644606407,"answer_id":71085378,"question_id":64015869,"body_markdown":"If you replace\r\n\r\n    implementation(&#39;com.google.guava:guava:29.0-jre&#39;)\r\n\r\nfor this\r\n\r\n    implementation (&#39;com.google.guava:guava&#39;) {\r\n        version {\r\n            strictly &#39;29.0-android&#39;\r\n        }\r\n    }\r\n\r\nit should work. (You can use this guava version, or any later version)\r\n\r\n","title":"java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher","body":"<p>If you replace</p>\n<pre><code>implementation('com.google.guava:guava:29.0-jre')\n</code></pre>\n<p>for this</p>\n<pre><code>implementation ('com.google.guava:guava') {\n    version {\n        strictly '29.0-android'\n    }\n}\n</code></pre>\n<p>it should work. (You can use this guava version, or any later version)</p>\n"}],"owner":{"account_id":19536235,"reputation":163,"user_id":14294960,"display_name":"DjongaNelson Lontrowski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2960,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1648342429,"creation_date":1600800086,"question_id":64015869,"body_markdown":"i&#39;m trying run my app on Lollipop devices, after Lollipop the app run fine, but, in 5.0 or less version of Android my app crash and this error returned:\r\n\r\n\r\n`Process: com.myApp.agr1010, PID: 4353\r\n    java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher`\r\n\r\nBut, my Build.Gradle already include `MultiDexEnable true`\r\n\r\nThis my Build.gradle:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &quot;29.0.3&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.myApp.agr1010&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 29\r\n        multiDexEnabled true\r\n        versionCode 3\r\n        versionName &quot;0.8.9-Alpha Release&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = 1.8\r\n        targetCompatibility = 1.8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation(&#39;com.google.guava:guava:29.0-jre&#39;)\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:18.1.0&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.3.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.3.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    implementation &#39;androidx.work:work-runtime:2.4.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.0-rc01&#39; // Material Design Google\r\n    implementation &#39;androidx.core:core:1.3.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:17.0.0&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    // and a lot of implementation...\r\n}\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n```\r\n\r\n\r\nAnd my complete logCat:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: AsyncTask #4\r\n    Process: com.myApp.agr1010, PID: 4353\r\n    java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher\r\n        at com.google.common.base.Splitter.on(Splitter.java:127)\r\n        at io.grpc.internal.GrpcUtil.&lt;clinit&gt;(GrpcUtil.java:197)\r\n        at io.grpc.internal.AbstractManagedChannelImplBuilder.&lt;clinit&gt;(AbstractManagedChannelImplBuilder.java:90)\r\n        at io.grpc.okhttp.OkHttpChannelProvider.builderForTarget(OkHttpChannelProvider.java:46)\r\n        at io.grpc.okhttp.OkHttpChannelProvider.builderForTarget(OkHttpChannelProvider.java:26)\r\n        at io.grpc.ManagedChannelBuilder.forTarget(ManagedChannelBuilder.java:76)\r\n        at com.google.firebase.firestore.remote.GrpcCallProvider.initChannel(GrpcCallProvider.java:113)\r\n        at com.google.firebase.firestore.remote.GrpcCallProvider.lambda$initChannelTask$6(GrpcCallProvider.java:256)\r\n        at com.google.firebase.firestore.remote.GrpcCallProvider$$Lambda$5.call(GrpcCallProvider.java)\r\n        at com.google.android.gms.tasks.zzz.run(com.google.android.gms:play-services-tasks@@17.0.2:2)\r\n        at com.google.firebase.firestore.util.ThrottledForwardingExecutor.lambda$execute$0(ThrottledForwardingExecutor.java:54)\r\n        at com.google.firebase.firestore.util.ThrottledForwardingExecutor$$Lambda$1.run(ThrottledForwardingExecutor.java)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n        at java.lang.Thread.run(Thread.java:818)\r\n```\r\n\r\n\r\nI already tried add MultiDex to Androidx and android support, but, same problem happens again, how i can solve this?","title":"java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher","body":"<p>i'm trying run my app on Lollipop devices, after Lollipop the app run fine, but, in 5.0 or less version of Android my app crash and this error returned:</p>\n<p><code>Process: com.myApp.agr1010, PID: 4353 java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher</code></p>\n<p>But, my Build.Gradle already include <code>MultiDexEnable true</code></p>\n<p>This my Build.gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.3&quot;\n    defaultConfig {\n        applicationId &quot;com.myApp.agr1010&quot;\n        minSdkVersion 21\n        targetSdkVersion 29\n        multiDexEnabled true\n        versionCode 3\n        versionName &quot;0.8.9-Alpha Release&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n        }\n    }\n    compileOptions {\n        sourceCompatibility = 1.8\n        targetCompatibility = 1.8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation('com.google.guava:guava:29.0-jre')\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.1'\n    implementation 'com.google.android.gms:play-services-auth:18.1.0'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.navigation:navigation-fragment:2.3.0'\n    implementation 'androidx.navigation:navigation-ui:2.3.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation 'androidx.work:work-runtime:2.4.0'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.0-rc01' // Material Design Google\n    implementation 'androidx.core:core:1.3.1'\n    implementation 'com.google.android.gms:play-services-location:17.0.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    // and a lot of implementation...\n}\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.firebase-perf'\napply plugin: 'com.google.firebase.crashlytics'\n</code></pre>\n<p>And my complete logCat:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #4\n    Process: com.myApp.agr1010, PID: 4353\n    java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher\n        at com.google.common.base.Splitter.on(Splitter.java:127)\n        at io.grpc.internal.GrpcUtil.&lt;clinit&gt;(GrpcUtil.java:197)\n        at io.grpc.internal.AbstractManagedChannelImplBuilder.&lt;clinit&gt;(AbstractManagedChannelImplBuilder.java:90)\n        at io.grpc.okhttp.OkHttpChannelProvider.builderForTarget(OkHttpChannelProvider.java:46)\n        at io.grpc.okhttp.OkHttpChannelProvider.builderForTarget(OkHttpChannelProvider.java:26)\n        at io.grpc.ManagedChannelBuilder.forTarget(ManagedChannelBuilder.java:76)\n        at com.google.firebase.firestore.remote.GrpcCallProvider.initChannel(GrpcCallProvider.java:113)\n        at com.google.firebase.firestore.remote.GrpcCallProvider.lambda$initChannelTask$6(GrpcCallProvider.java:256)\n        at com.google.firebase.firestore.remote.GrpcCallProvider$$Lambda$5.call(GrpcCallProvider.java)\n        at com.google.android.gms.tasks.zzz.run(com.google.android.gms:play-services-tasks@@17.0.2:2)\n        at com.google.firebase.firestore.util.ThrottledForwardingExecutor.lambda$execute$0(ThrottledForwardingExecutor.java:54)\n        at com.google.firebase.firestore.util.ThrottledForwardingExecutor$$Lambda$1.run(ThrottledForwardingExecutor.java)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n<p>I already tried add MultiDex to Androidx and android support, but, same problem happens again, how i can solve this?</p>\n"},{"tags":["java","swing","jframe"],"answers":[{"tags":[],"owner":{"account_id":35227,"reputation":39176,"user_id":99692,"accept_rate":50,"display_name":"Kevin Reid"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1333841523,"creation_date":1333841523,"answer_id":10059218,"question_id":10059020,"body_markdown":"JPanel does not support semi-transparent backgrounds. There are two steps needed to take care of this problem:\r\n\r\n* First, to have any correctly-functioning transparency at all, you **must** `setOpaque(false)` on the panel; otherwise you will have glitches, because an opaque panel is assumed to completely cover what is underneath its bounds.\r\n\r\n* However, when `opaque` is `false`, the panel also does not draw its background at all (!) so you will have to draw a background in paintComponent.\r\n\r\nHere is a drop-in replacement class which will take care of both of these steps.\r\n\r\n\r\n    private class TransparentPanel extends JPanel {\r\n        {\r\n            setOpaque(false);\r\n        }\r\n        public void paintComponent(Graphics g) {\r\n            g.setColor(getBackground());\r\n            Rectangle r = g.getClipBounds();\r\n            g.fillRect(r.x, r.y, r.width, r.height);\r\n            super.paintComponent(g);\r\n        }\r\n    }\r\n\r\nIve checked that it works in your program if I change the first panel creation to:\r\n\r\n    final JPanel panel = new TransparentPanel();","title":"Transparent JPanel","body":"<p>JPanel does not support semi-transparent backgrounds. There are two steps needed to take care of this problem:</p>\n\n<ul>\n<li><p>First, to have any correctly-functioning transparency at all, you <strong>must</strong> <code>setOpaque(false)</code> on the panel; otherwise you will have glitches, because an opaque panel is assumed to completely cover what is underneath its bounds.</p></li>\n<li><p>However, when <code>opaque</code> is <code>false</code>, the panel also does not draw its background at all (!) so you will have to draw a background in paintComponent.</p></li>\n</ul>\n\n<p>Here is a drop-in replacement class which will take care of both of these steps.</p>\n\n<pre><code>private class TransparentPanel extends JPanel {\n    {\n        setOpaque(false);\n    }\n    public void paintComponent(Graphics g) {\n        g.setColor(getBackground());\n        Rectangle r = g.getClipBounds();\n        g.fillRect(r.x, r.y, r.width, r.height);\n        super.paintComponent(g);\n    }\n}\n</code></pre>\n\n<p>Ive checked that it works in your program if I change the first panel creation to:</p>\n\n<pre><code>final JPanel panel = new TransparentPanel();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5701273,"reputation":309,"user_id":4506154,"accept_rate":50,"display_name":"itsthatblackkid"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1436348668,"creation_date":1436348668,"answer_id":31288991,"question_id":10059020,"body_markdown":"It&#39;s easy to do it like so: \r\n\r\n    // initialise JPanel \r\n    JPanel somePanel = new JPanel(new GridBagLayout());\r\n    somePanel.setBackground(new Color(0,0,0,x);\r\n\r\nx in this case is the level of transparency you&#39;re looking for \r\n0 being invisible, 100 being solid. \r\n\r\ne.g: \r\n\r\n    somePanel.setBackground(new Color(0,0,0,55)\r\n\r\nSee: \r\nhttp://docs.oracle.com/javase/7/docs/api/java/awt/Color.html\r\nhttp://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html","title":"Transparent JPanel","body":"<p>It's easy to do it like so: </p>\n\n<pre><code>// initialise JPanel \nJPanel somePanel = new JPanel(new GridBagLayout());\nsomePanel.setBackground(new Color(0,0,0,x);\n</code></pre>\n\n<p>x in this case is the level of transparency you're looking for \n0 being invisible, 100 being solid. </p>\n\n<p>e.g: </p>\n\n<pre><code>somePanel.setBackground(new Color(0,0,0,55)\n</code></pre>\n\n<p>See: \n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Color.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/awt/Color.html</a>\n<a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html</a></p>\n"}],"owner":{"account_id":1388106,"reputation":315,"user_id":1319627,"accept_rate":64,"display_name":"Pawan Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35532,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10059218,"answer_count":2,"score":14,"last_activity_date":1648342257,"creation_date":1333839244,"question_id":10059020,"body_markdown":"I want to create a semi-transparent JPanel. I&#39;ve done it by simply using RGBA value of color constructor but problem is when i m using event handling is not woking properly. My requirement is a semi transparent Jpanel when mouse enters it border of this panel became visible and if mouse exit the border shoud not visible. I have done this by following code but problem is its not working properly for transparent backgroud (RGBA) but it working fine for RGB color. \r\n\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class MDCW extends JFrame {\r\n    \r\n    \t  private JPanel contentPane;\r\n    \r\n    \t /**\r\n    \t * Launch the application.\r\n    \t */\r\n    \t public static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tMDCW frame = new MDCW();\r\n    \t\t\t\t\tframe.setVisible(true);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the frame.\r\n    \t */\r\n    \tpublic MDCW() {\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetBounds(100, 100, 1013, 551);\r\n    \t\tcontentPane = new JPanel();\r\n    \t\tcontentPane.setBackground(new Color(0, 139, 139));\r\n    \t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\tsetContentPane(contentPane);\r\n    \t\tcontentPane.setLayout(null);\r\n    \t\t\r\n    \t\tfinal JPanel panel = new JPanel();\r\n    \t\t\r\n    \t\tpanel.setBackground(new Color(0, 0, 0,50));\r\n    \t\tpanel.addMouseListener(new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseEntered(MouseEvent e) {\r\n    \t\t\t\tpanel.setBorder(new LineBorder(new Color(255, 255, 255), 5));\t\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseExited(MouseEvent e) {\r\n    \t\t\t\tpanel.setBorder(null);\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tpanel.setBounds(360, 155, 215, 215);\r\n    \t\tcontentPane.add(panel);\r\n    \t\t\r\n    \t\tfinal JPanel panel_1 = new JPanel();\r\n    \t\tpanel_1.setBackground(new Color(0, 0, 0));\r\n    \t\tpanel_1.addMouseListener(new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseEntered(MouseEvent e) {\r\n    \t\t\t\tpanel_1.setBorder(new LineBorder(new Color(255, 255, 255), 5));\t\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseExited(MouseEvent e) {\r\n    \t\t\t\tpanel_1.setBorder(null);\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tpanel_1.setBounds(84, 155, 215, 215);\r\n    \t\tcontentPane.add(panel_1);\r\n    \t}\r\n    }\r\n","title":"Transparent JPanel","body":"<p>I want to create a semi-transparent JPanel. I've done it by simply using RGBA value of color constructor but problem is when i m using event handling is not woking properly. My requirement is a semi transparent Jpanel when mouse enters it border of this panel became visible and if mouse exit the border shoud not visible. I have done this by following code but problem is its not working properly for transparent backgroud (RGBA) but it working fine for RGB color. </p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.border.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class MDCW extends JFrame {\n\n      private JPanel contentPane;\n\n     /**\n     * Launch the application.\n     */\n     public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    MDCW frame = new MDCW();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public MDCW() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 1013, 551);\n        contentPane = new JPanel();\n        contentPane.setBackground(new Color(0, 139, 139));\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n\n        final JPanel panel = new JPanel();\n\n        panel.setBackground(new Color(0, 0, 0,50));\n        panel.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                panel.setBorder(new LineBorder(new Color(255, 255, 255), 5));   \n            }\n            @Override\n            public void mouseExited(MouseEvent e) {\n                panel.setBorder(null);  \n            }\n        });\n        panel.setBounds(360, 155, 215, 215);\n        contentPane.add(panel);\n\n        final JPanel panel_1 = new JPanel();\n        panel_1.setBackground(new Color(0, 0, 0));\n        panel_1.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                panel_1.setBorder(new LineBorder(new Color(255, 255, 255), 5)); \n            }\n            @Override\n            public void mouseExited(MouseEvent e) {\n                panel_1.setBorder(null);    \n            }\n        });\n        panel_1.setBounds(84, 155, 215, 215);\n        contentPane.add(panel_1);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648312757,"post_id":71629452,"comment_id":126594741,"body_markdown":"You are mixing different spring boot versions... spring-boot-starter-web 2.6.3 while the version property for spring boot is set to 2.1.3.RELEASE...you should first clean that up....the spring-boot-maven-plugin is version 2.6.4 and the question why do you need the given include configuration which does not make sense?","body":"You are mixing different spring boot versions... spring-boot-starter-web 2.6.3 while the version property for spring boot is set to 2.1.3.RELEASE...you should first clean that up....the spring-boot-maven-plugin is version 2.6.4 and the question why do you need the given include configuration which does not make sense?"}],"answers":[{"tags":[],"owner":{"account_id":16426356,"reputation":1936,"user_id":11866308,"display_name":"Allen D. Ball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648312054,"creation_date":1648312054,"answer_id":71629855,"question_id":71629452,"body_markdown":"It looks like you&#39;re using inconsistent versions of Spring Boot and Spring\r\nFramework.  I suggest getting more of your dependencies from\r\n`spring-boot-dependencies`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&lt;groupId&gt;io.releve&lt;/groupId&gt;\r\n&lt;artifactId&gt;releveproject&lt;/artifactId&gt;\r\n&lt;packaging&gt;pom&lt;/packaging&gt;\r\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n&lt;modules&gt;\r\n    &lt;module&gt;application&lt;/module&gt;\r\n    &lt;module&gt;bootloader&lt;/module&gt;\r\n    &lt;module&gt;domain&lt;/module&gt;\r\n    &lt;module&gt;infrastructure&lt;/module&gt;\r\n&lt;/modules&gt;\r\n\r\n&lt;properties&gt;\r\n    &lt;application.name.value&gt;relevebancaire&lt;/application.name.value&gt;\r\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;spring-boot.version&gt;2.1.3.RELEASE&lt;/spring-boot.version&gt;\r\n        &lt;sonar.organization&gt;ibrahimbakhaled&lt;/sonar.organization&gt;\r\n        &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\r\n    &lt;sonar.exclusions&gt;\r\n        **/*BootloaderApplicationLauncher.java,\r\n        **/*Configuration.java,\r\n        **/config/**,\r\n        **/domain/**,\r\n        **/adapter/**,\r\n        **/entity/**,\r\n        **/repository/**,\r\n        **/api/**,\r\n        **/**Test**/**,\r\n        **/cdg.releve/**\r\n    &lt;/sonar.exclusions&gt;\r\n    &lt;sonar.jdbc.dialect&gt;mysql&lt;/sonar.jdbc.dialect&gt;\r\n    &lt;sonar.projectName&gt;${application.name.value}&lt;/sonar.projectName&gt;\r\n    &lt;sonar.projectVersion&gt;0.0.1-SNAPSHOT&lt;/sonar.projectVersion&gt;\r\n    &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n    &lt;sonar.binaries&gt;build/classes&lt;/sonar.binaries&gt;\r\n    &lt;sonar.sources&gt;src&lt;/sonar.sources&gt;\r\n    &lt;sonar.tests&gt;src/test&lt;/sonar.tests&gt;\r\n    &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\r\n    &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n\r\n&lt;build&gt;\r\n\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.0.905&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;verify&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;sonar&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;spring-releases&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n&lt;pluginRepositories&gt;\r\n    &lt;pluginRepository&gt;\r\n        &lt;id&gt;spring-releases&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    &lt;/pluginRepository&gt;\r\n&lt;/pluginRepositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nNote the reduced dependency management and the version used for\r\n`spring-boot-maven-plugin`.\r\n\r\nYou can further reduce the size/complexity of your POM if you use\r\n`spring-boot-dependencies` as your parent POM:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&lt;groupId&gt;io.releve&lt;/groupId&gt;\r\n&lt;artifactId&gt;releveproject&lt;/artifactId&gt;\r\n&lt;packaging&gt;pom&lt;/packaging&gt;\r\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n&lt;modules&gt;\r\n    &lt;module&gt;application&lt;/module&gt;\r\n    &lt;module&gt;bootloader&lt;/module&gt;\r\n    &lt;module&gt;domain&lt;/module&gt;\r\n    &lt;module&gt;infrastructure&lt;/module&gt;\r\n&lt;/modules&gt;\r\n\r\n&lt;properties&gt;\r\n    &lt;application.name.value&gt;relevebancaire&lt;/application.name.value&gt;\r\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;sonar.organization&gt;ibrahimbakhaled&lt;/sonar.organization&gt;\r\n        &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\r\n    &lt;sonar.exclusions&gt;\r\n        **/*BootloaderApplicationLauncher.java,\r\n        **/*Configuration.java,\r\n        **/config/**,\r\n        **/domain/**,\r\n        **/adapter/**,\r\n        **/entity/**,\r\n        **/repository/**,\r\n        **/api/**,\r\n        **/**Test**/**,\r\n        **/cdg.releve/**\r\n    &lt;/sonar.exclusions&gt;\r\n    &lt;sonar.jdbc.dialect&gt;mysql&lt;/sonar.jdbc.dialect&gt;\r\n    &lt;sonar.projectName&gt;${application.name.value}&lt;/sonar.projectName&gt;\r\n    &lt;sonar.projectVersion&gt;0.0.1-SNAPSHOT&lt;/sonar.projectVersion&gt;\r\n    &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n    &lt;sonar.binaries&gt;build/classes&lt;/sonar.binaries&gt;\r\n    &lt;sonar.sources&gt;src&lt;/sonar.sources&gt;\r\n    &lt;sonar.tests&gt;src/test&lt;/sonar.tests&gt;\r\n    &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\r\n    &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;build&gt;\r\n\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.0.905&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;verify&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;sonar&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;spring-releases&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n&lt;pluginRepositories&gt;\r\n    &lt;pluginRepository&gt;\r\n        &lt;id&gt;spring-releases&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    &lt;/pluginRepository&gt;\r\n&lt;/pluginRepositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThis technique allows you to override Spring Boot dependency version\r\nproperties defined in `spring-boot-dependencies` simply by defining the same\r\nproperty in you POM `&lt;properties/&gt;` with the version you want to use.\r\n","title":"Unable to parse configuration of mojo org.springframework.boot:spring-boot-maven-plugin","body":"<p>It looks like you're using inconsistent versions of Spring Boot and Spring\nFramework.  I suggest getting more of your dependencies from\n<code>spring-boot-dependencies</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;io.releve&lt;/groupId&gt;\n&lt;artifactId&gt;releveproject&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;modules&gt;\n    &lt;module&gt;application&lt;/module&gt;\n    &lt;module&gt;bootloader&lt;/module&gt;\n    &lt;module&gt;domain&lt;/module&gt;\n    &lt;module&gt;infrastructure&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;properties&gt;\n    &lt;application.name.value&gt;relevebancaire&lt;/application.name.value&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-boot.version&gt;2.1.3.RELEASE&lt;/spring-boot.version&gt;\n        &lt;sonar.organization&gt;ibrahimbakhaled&lt;/sonar.organization&gt;\n        &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\n    &lt;sonar.exclusions&gt;\n        **/*BootloaderApplicationLauncher.java,\n        **/*Configuration.java,\n        **/config/**,\n        **/domain/**,\n        **/adapter/**,\n        **/entity/**,\n        **/repository/**,\n        **/api/**,\n        **/**Test**/**,\n        **/cdg.releve/**\n    &lt;/sonar.exclusions&gt;\n    &lt;sonar.jdbc.dialect&gt;mysql&lt;/sonar.jdbc.dialect&gt;\n    &lt;sonar.projectName&gt;${application.name.value}&lt;/sonar.projectName&gt;\n    &lt;sonar.projectVersion&gt;0.0.1-SNAPSHOT&lt;/sonar.projectVersion&gt;\n    &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n    &lt;sonar.binaries&gt;build/classes&lt;/sonar.binaries&gt;\n    &lt;sonar.sources&gt;src&lt;/sonar.sources&gt;\n    &lt;sonar.tests&gt;src/test&lt;/sonar.tests&gt;\n    &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\n    &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n\n&lt;build&gt;\n\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0.905&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;sonar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Note the reduced dependency management and the version used for\n<code>spring-boot-maven-plugin</code>.</p>\n<p>You can further reduce the size/complexity of your POM if you use\n<code>spring-boot-dependencies</code> as your parent POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;io.releve&lt;/groupId&gt;\n&lt;artifactId&gt;releveproject&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n&lt;modules&gt;\n    &lt;module&gt;application&lt;/module&gt;\n    &lt;module&gt;bootloader&lt;/module&gt;\n    &lt;module&gt;domain&lt;/module&gt;\n    &lt;module&gt;infrastructure&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;properties&gt;\n    &lt;application.name.value&gt;relevebancaire&lt;/application.name.value&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;sonar.organization&gt;ibrahimbakhaled&lt;/sonar.organization&gt;\n        &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\n    &lt;sonar.exclusions&gt;\n        **/*BootloaderApplicationLauncher.java,\n        **/*Configuration.java,\n        **/config/**,\n        **/domain/**,\n        **/adapter/**,\n        **/entity/**,\n        **/repository/**,\n        **/api/**,\n        **/**Test**/**,\n        **/cdg.releve/**\n    &lt;/sonar.exclusions&gt;\n    &lt;sonar.jdbc.dialect&gt;mysql&lt;/sonar.jdbc.dialect&gt;\n    &lt;sonar.projectName&gt;${application.name.value}&lt;/sonar.projectName&gt;\n    &lt;sonar.projectVersion&gt;0.0.1-SNAPSHOT&lt;/sonar.projectVersion&gt;\n    &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n    &lt;sonar.binaries&gt;build/classes&lt;/sonar.binaries&gt;\n    &lt;sonar.sources&gt;src&lt;/sonar.sources&gt;\n    &lt;sonar.tests&gt;src/test&lt;/sonar.tests&gt;\n    &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\n    &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0.905&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;sonar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This technique allows you to override Spring Boot dependency version\nproperties defined in <code>spring-boot-dependencies</code> simply by defining the same\nproperty in you POM <code>&lt;properties/&gt;</code> with the version you want to use.</p>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648312615,"creation_date":1648312615,"answer_id":71629932,"question_id":71629452,"body_markdown":"&gt;Cannot find default setter in class org.springframework.boot.maven.Include\r\n\r\nThe error message gives you the hint what is wrong.\r\n\r\nThe `include` element should contain `groupId` and `artifactId` instead of `**/*Test.java` (are you putting something wrong here?) according to [spring boot maven plugin document][1], so the pom should look like\r\n```xml\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;some-groupId&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;some-artifactId&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-repackage-parameters-details-includes","title":"Unable to parse configuration of mojo org.springframework.boot:spring-boot-maven-plugin","body":"<blockquote>\n<p>Cannot find default setter in class org.springframework.boot.maven.Include</p>\n</blockquote>\n<p>The error message gives you the hint what is wrong.</p>\n<p>The <code>include</code> element should contain <code>groupId</code> and <code>artifactId</code> instead of <code>**/*Test.java</code> (are you putting something wrong here?) according to <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-repackage-parameters-details-includes\" rel=\"nofollow noreferrer\">spring boot maven plugin document</a>, so the pom should look like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;\n                        &lt;groupId&gt;some-groupId&lt;/groupId&gt;\n                        &lt;artifactId&gt;some-artifactId&lt;/artifactId&gt;\n                    &lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648342073,"creation_date":1648342073,"answer_id":71632912,"question_id":71629452,"body_markdown":"Thanks I just solved it, removed those includes tags and after there was an error of sonarscanner which needs java 11 to analyze and fixed that. All worked Thanks.","title":"Unable to parse configuration of mojo org.springframework.boot:spring-boot-maven-plugin","body":"<p>Thanks I just solved it, removed those includes tags and after there was an error of sonarscanner which needs java 11 to analyze and fixed that. All worked Thanks.</p>\n"}],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648342073,"creation_date":1648309073,"question_id":71629452,"body_markdown":"I&#39;m getting this error while doing `mvn clean install`\r\nthis error happened just after integrating sonarqube.\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default)\r\n&gt; on project bootloader: Unable to parse configuration of mojo\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.6.4:run for\r\n&gt; parameter include: Cannot find default setter in class org\r\n&gt; .springframework.boot.maven.Include -&gt; [Help 1]\r\n\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;io.releve&lt;/groupId&gt;\r\n    &lt;artifactId&gt;releveproject&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;application&lt;/module&gt;\r\n        &lt;module&gt;bootloader&lt;/module&gt;\r\n        &lt;module&gt;domain&lt;/module&gt;\r\n        &lt;module&gt;infrastructure&lt;/module&gt;\r\n\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;application.name.value&gt;relevebancaire&lt;/application.name.value&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;spring-boot.version&gt;2.1.3.RELEASE&lt;/spring-boot.version&gt;\r\n            &lt;sonar.organization&gt;ibrahimbakhaled&lt;/sonar.organization&gt;\r\n            &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\r\n        &lt;sonar.exclusions&gt;\r\n            **/*BootloaderApplicationLauncher.java,\r\n            **/*Configuration.java,\r\n            **/config/**,\r\n            **/domain/**,\r\n            **/adapter/**,\r\n            **/entity/**,\r\n            **/repository/**,\r\n            **/api/**,\r\n            **/**Test**/**,\r\n            **/cdg.releve/**\r\n        &lt;/sonar.exclusions&gt;\r\n        &lt;sonar.jdbc.dialect&gt;mysql&lt;/sonar.jdbc.dialect&gt;\r\n        &lt;sonar.projectName&gt;${application.name.value}&lt;/sonar.projectName&gt;\r\n        &lt;sonar.projectVersion&gt;0.0.1-SNAPSHOT&lt;/sonar.projectVersion&gt;\r\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n        &lt;sonar.binaries&gt;build/classes&lt;/sonar.binaries&gt;\r\n        &lt;sonar.sources&gt;src&lt;/sonar.sources&gt;\r\n        &lt;sonar.tests&gt;src/test&lt;/sonar.tests&gt;\r\n        &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\r\n        &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n\r\n            &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n            &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0.905&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;sonar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;","title":"Unable to parse configuration of mojo org.springframework.boot:spring-boot-maven-plugin","body":"<p>I'm getting this error while doing <code>mvn clean install</code>\nthis error happened just after integrating sonarqube.</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default)\non project bootloader: Unable to parse configuration of mojo\norg.springframework.boot:spring-boot-maven-plugin:2.6.4:run for\nparameter include: Cannot find default setter in class org\n.springframework.boot.maven.Include -&gt; [Help 1]</p>\n</blockquote>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;io.releve&lt;/groupId&gt;\n&lt;artifactId&gt;releveproject&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;modules&gt;\n    &lt;module&gt;application&lt;/module&gt;\n    &lt;module&gt;bootloader&lt;/module&gt;\n    &lt;module&gt;domain&lt;/module&gt;\n    &lt;module&gt;infrastructure&lt;/module&gt;\n\n&lt;/modules&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\n            &lt;version&gt;3.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n\n&lt;properties&gt;\n    &lt;application.name.value&gt;relevebancaire&lt;/application.name.value&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-boot.version&gt;2.1.3.RELEASE&lt;/spring-boot.version&gt;\n        &lt;sonar.organization&gt;ibrahimbakhaled&lt;/sonar.organization&gt;\n        &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\n    &lt;sonar.exclusions&gt;\n        **/*BootloaderApplicationLauncher.java,\n        **/*Configuration.java,\n        **/config/**,\n        **/domain/**,\n        **/adapter/**,\n        **/entity/**,\n        **/repository/**,\n        **/api/**,\n        **/**Test**/**,\n        **/cdg.releve/**\n    &lt;/sonar.exclusions&gt;\n    &lt;sonar.jdbc.dialect&gt;mysql&lt;/sonar.jdbc.dialect&gt;\n    &lt;sonar.projectName&gt;${application.name.value}&lt;/sonar.projectName&gt;\n    &lt;sonar.projectVersion&gt;0.0.1-SNAPSHOT&lt;/sonar.projectVersion&gt;\n    &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n    &lt;sonar.binaries&gt;build/classes&lt;/sonar.binaries&gt;\n    &lt;sonar.sources&gt;src&lt;/sonar.sources&gt;\n    &lt;sonar.tests&gt;src/test&lt;/sonar.tests&gt;\n    &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\n    &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0.905&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;sonar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n"},{"tags":["java","gradle","certificate"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1648274224,"post_id":71624165,"comment_id":126587946,"body_markdown":"**Check if your system clock is _way_ behind** with `date`","body":"<b>Check if your system clock is <i>way</i> behind</b> with <code>date</code>"}],"answers":[{"tags":[],"owner":{"account_id":14457688,"reputation":21,"user_id":10964044,"display_name":"Benjiboy50Fonz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648341621,"creation_date":1648341621,"answer_id":71632883,"question_id":71624165,"body_markdown":"I fixed the problem with the help of @dave_thompson_085. Unfortunately, my Raspberry Pi does not have an RTC, so it never remembered the date when I restarted it. I&#39;m afraid there isn&#39;t a permanent solution to my scenario, but by running `timedatectl set-ntp 0` and `timedatectl set-time &quot;yyyy-mm-dd hh:mm:ss&quot;`, I was able to fix it to build the project. ","title":"Java security error: validity check failed","body":"<p>I fixed the problem with the help of @dave_thompson_085. Unfortunately, my Raspberry Pi does not have an RTC, so it never remembered the date when I restarted it. I'm afraid there isn't a permanent solution to my scenario, but by running <code>timedatectl set-ntp 0</code> and <code>timedatectl set-time &quot;yyyy-mm-dd hh:mm:ss&quot;</code>, I was able to fix it to build the project.</p>\n"}],"owner":{"account_id":14457688,"reputation":21,"user_id":10964044,"display_name":"Benjiboy50Fonz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648341621,"creation_date":1648251529,"question_id":71624165,"body_markdown":"Currently working on my Rasberry Pi Zero, and am getting this error when I try to build a gradle project. I can&#39;t seem to find anything online that talks about this. Can someone point me in the right direction? I run `./gradlew build`, which yields this:\r\n```\r\nDownloading https://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\r\n        at sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:324)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\r\n        at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\r\n        at sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\r\n        at sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\r\n        at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\r\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\r\n        at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n        at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\r\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1392)\r\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1300)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:435)\r\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500)\r\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\r\n        at org.gradle.wrapper.Download.downloadInternal(Download.java:78)\r\n        at org.gradle.wrapper.Download.download(Download.java:63)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:68)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\r\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\r\n        at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:386)\r\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:291)\r\n        at sun.security.validator.Validator.validate(Validator.java:271)\r\n        at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:315)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:223)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\r\n        at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\r\n        ... 23 more\r\nCaused by: java.security.cert.CertPathValidatorException: validity check failed\r\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\r\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:220)\r\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\r\n        at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\r\n        at java.security.cert.CertPathValidator.validate(CertPathValidator.java:292)\r\n        at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:381)\r\n        ... 29 more\r\nCaused by: java.security.cert.CertificateNotYetValidException: NotBefore: Mon Jan 27 12:48:08 GMT 2020\r\n        at sun.security.x509.CertificateValidity.valid(CertificateValidity.java:273)\r\n        at sun.security.x509.X509CertImpl.checkValidity(X509CertImpl.java:677)\r\n        at sun.security.provider.certpath.BasicChecker.verifyValidity(BasicChecker.java:190)\r\n        at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:144)\r\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\r\n        ... 34 more\r\n```\r\n\r\nThe closest thing I found dealt with the age of the JDK. I ran `sudo apt-install default-jdk`, which returned this: \r\n```\r\nReading package lists... Done\r\nBuilding dependency tree\r\nReading state information... Done\r\ndefault-jdk is already the newest version (2:1.8-58+deb9u1+b3).\r\n0 upgraded, 0 newly installed, 0 to remove and 280 not upgraded.\r\n```\r\nThanks!","title":"Java security error: validity check failed","body":"<p>Currently working on my Rasberry Pi Zero, and am getting this error when I try to build a gradle project. I can't seem to find anything online that talks about this. Can someone point me in the right direction? I run <code>./gradlew build</code>, which yields this:</p>\n<pre><code>Downloading https://services.gradle.org/distributions/gradle-6.3-bin.zip\n\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\n        at sun.security.ssl.Alert.createSSLException(Alert.java:131)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:324)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\n        at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\n        at sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\n        at sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\n        at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\n        at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n        at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1392)\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1300)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:435)\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572)\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500)\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\n        at org.gradle.wrapper.Download.downloadInternal(Download.java:78)\n        at org.gradle.wrapper.Download.download(Download.java:63)\n        at org.gradle.wrapper.Install$1.call(Install.java:68)\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\nCaused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\n        at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:386)\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:291)\n        at sun.security.validator.Validator.validate(Validator.java:271)\n        at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:315)\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:223)\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\n        at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\n        ... 23 more\nCaused by: java.security.cert.CertPathValidatorException: validity check failed\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:220)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)\n        at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\n        at java.security.cert.CertPathValidator.validate(CertPathValidator.java:292)\n        at sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:381)\n        ... 29 more\nCaused by: java.security.cert.CertificateNotYetValidException: NotBefore: Mon Jan 27 12:48:08 GMT 2020\n        at sun.security.x509.CertificateValidity.valid(CertificateValidity.java:273)\n        at sun.security.x509.X509CertImpl.checkValidity(X509CertImpl.java:677)\n        at sun.security.provider.certpath.BasicChecker.verifyValidity(BasicChecker.java:190)\n        at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:144)\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\n        ... 34 more\n</code></pre>\n<p>The closest thing I found dealt with the age of the JDK. I ran <code>sudo apt-install default-jdk</code>, which returned this:</p>\n<pre><code>Reading package lists... Done\nBuilding dependency tree\nReading state information... Done\ndefault-jdk is already the newest version (2:1.8-58+deb9u1+b3).\n0 upgraded, 0 newly installed, 0 to remove and 280 not upgraded.\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","json","android-studio","retrofit","pojo"],"comments":[{"owner":{"account_id":19021361,"reputation":401,"user_id":13885374,"display_name":"Jake"},"score":0,"creation_date":1648332141,"post_id":71632084,"comment_id":126598548,"body_markdown":"What is the error code?\nPerhaps the cause of the error is that you added not existing fields such as `waterUnitName`. Try to remove all non-existing fields and repeat the request.","body":"What is the error code? Perhaps the cause of the error is that you added not existing fields such as <code>waterUnitName</code>. Try to remove all non-existing fields and repeat the request."},{"owner":{"account_id":20155514,"reputation":11,"user_id":14781821,"display_name":"SteamGolem"},"score":0,"creation_date":1648332961,"post_id":71632084,"comment_id":126598672,"body_markdown":"Hi! The error is that the resulted output of the code is coming up as Body: com.example.myapplication.User@6fe68c1 instead of the list of data from the JSON itself","body":"Hi! The error is that the resulted output of the code is coming up as Body: com.example.myapplication.User@6fe68c1 instead of the list of data from the JSON itself"},{"owner":{"account_id":19021361,"reputation":401,"user_id":13885374,"display_name":"Jake"},"score":0,"creation_date":1648333070,"post_id":71632084,"comment_id":126598690,"body_markdown":"And you expect an object according to your code `Call&lt;User&gt; getUser();`. If you want a list then wrap User with List e.g. `Call&lt;List&lt;User&gt;&gt; getUser();`","body":"And you expect an object according to your code <code>Call&lt;User&gt; getUser();</code>. If you want a list then wrap User with List e.g. <code>Call&lt;List&lt;User&gt;&gt; getUser();</code>"},{"owner":{"account_id":20155514,"reputation":11,"user_id":14781821,"display_name":"SteamGolem"},"score":0,"creation_date":1648334291,"post_id":71632084,"comment_id":126598878,"body_markdown":"Just tried that unfortunately I got &quot;Expected begin_array but was begin_object at line 1 column 2 path $&quot; from the response","body":"Just tried that unfortunately I got &quot;Expected begin_array but was begin_object at line 1 column 2 path $&quot; from the response"},{"owner":{"account_id":19021361,"reputation":401,"user_id":13885374,"display_name":"Jake"},"score":0,"creation_date":1648334668,"post_id":71632084,"comment_id":126598940,"body_markdown":"Is it this `textViewResult.setText(&quot;Body: &quot; + response.body());` gives you `Body: com.example.myapplication.User@6fe68c1`? If yes, this is correct result.\nIf you want to get each fields to be represented on your textView you have to override `toString()` on your `User` object.","body":"Is it this <code>textViewResult.setText(&quot;Body: &quot; + response.body());</code> gives you <code>Body: com.example.myapplication.User@6fe68c1</code>? If yes, this is correct result. If you want to get each fields to be represented on your textView you have to override <code>toString()</code> on your <code>User</code> object."},{"owner":{"account_id":20155514,"reputation":11,"user_id":14781821,"display_name":"SteamGolem"},"score":0,"creation_date":1648335013,"post_id":71632084,"comment_id":126599004,"body_markdown":"The textViewResult.setText(&quot;Body: &quot; + response.body()); is indeed what gives the Body: com.example.myapplication.User@6fe68c1. What would I need to change in order to override toString on the User object?","body":"The textViewResult.setText(&quot;Body: &quot; + response.body()); is indeed what gives the Body: com.example.myapplication.User@6fe68c1. What would I need to change in order to override toString on the User object?"}],"answers":[{"tags":[],"owner":{"account_id":19021361,"reputation":401,"user_id":13885374,"display_name":"Jake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648339335,"creation_date":1648335021,"answer_id":71632394,"question_id":71632084,"body_markdown":"Solution:\r\n\r\nChange ```Call&lt;User&gt;()``` to ```Call&lt;Fitbit&gt;()```\r\nand ```response.body().getUser().toString()```\r\n\r\nIf you want `textViewResult.setText(&quot;Body: &quot; + response.body());` to give you string representation of your User data you have to override `toString()` function on your User object. For example:\r\n\r\n```@Generated(&quot;jsonschema2pojo&quot;)\r\npublic class User {\r\n\r\n    @SerializedName(&quot;age&quot;)\r\n    @Expose\r\n    ...\r\n\r\n    @Override\r\n    String toString() {\r\n       return &quot;age: &quot; + age + &quot; avatar: &quot; + avatar + ....;\r\n    }\r\n\r\n}\r\n```\r\n","title":"Retrofit Body isn&#39;t showing desired response from Nested JSON","body":"<p>Solution:</p>\n<p>Change <code>Call&lt;User&gt;()</code> to <code>Call&lt;Fitbit&gt;()</code>\nand <code>response.body().getUser().toString()</code></p>\n<p>If you want <code>textViewResult.setText(&quot;Body: &quot; + response.body());</code> to give you string representation of your User data you have to override <code>toString()</code> function on your User object. For example:</p>\n<pre><code>public class User {\n\n    @SerializedName(&quot;age&quot;)\n    @Expose\n    ...\n\n    @Override\n    String toString() {\n       return &quot;age: &quot; + age + &quot; avatar: &quot; + avatar + ....;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20155514,"reputation":11,"user_id":14781821,"display_name":"SteamGolem"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71632394,"answer_count":1,"score":0,"last_activity_date":1648339335,"creation_date":1648331263,"question_id":71632084,"body_markdown":"[![Edited in picture for debug][1]][1]I&#39;ve been trying to connect an Android App to the Fitbit API using Retrofit however I&#39;m struggling with getting a connection to a JSON with a nested user section. I&#39;ve managed to get the classes set up however get Body: com.example.myapplication.User@6fe68c1 when requesting the body back. \r\n\r\nWhilst learning about Retrofit I&#39;ve had no problems with using &lt;List&gt; however this seems to be different because of the &quot;user&quot; in the JSON.\r\n\r\nShortened JSON I&#39;m working from\r\n\r\n    {\r\n        &quot;user&quot;: {\r\n            &quot;age&quot;: 23,\r\n            &quot;avatar&quot;: &quot;https://static0.fitbit.com/images/profile/defaultProfile_100.png&quot;,\r\n            &quot;averageDailySteps&quot;: 2673,\r\n            &quot;dateOfBirth&quot;: &quot;1999-01-25&quot;,\r\n            &quot;displayName&quot;: &quot;Name.&quot;,\r\n            &quot;features&quot;: {\r\n                &quot;exerciseGoal&quot;: true\r\n            },\r\n            &quot;fullName&quot;: &quot;Full Name&quot;,\r\n            &quot;gender&quot;: &quot;MALE&quot;,\r\n            &quot;glucoseUnit&quot;: &quot;METRIC&quot;,\r\n            &quot;height&quot;: 180.3,\r\n            &quot;memberSince&quot;: &quot;2022-02-28&quot;,\r\n            &quot;startDayOfWeek&quot;: &quot;MONDAY&quot;,\r\n            &quot;strideLengthRunning&quot;: 123.10000000000001,\r\n            &quot;weight&quot;: 72.5,\r\n        }\r\n    }\r\n\r\nFitbit Class\r\n    \r\n        imports\r\n        \r\n        @Generated(&quot;jsonschema2pojo&quot;)\r\n        public class Fitbit {\r\n        \r\n            @SerializedName(&quot;user&quot;)\r\n            @Expose\r\n            private User user;\r\n        \r\n            public User getUser() {\r\n                return user;\r\n            }\r\n        \r\n            public void setUser(User user) {\r\n                this.user = user;\r\n            }\r\n        \r\n        }\r\n\r\nUser Class\r\n\r\n    imports\r\n    \r\n    @Generated(&quot;jsonschema2pojo&quot;)\r\n    public class User {\r\n    \r\n        @SerializedName(&quot;age&quot;)\r\n        @Expose\r\n        private Integer age;\r\n        @SerializedName(&quot;avatar&quot;)\r\n        @Expose\r\n        private String avatar;\r\n        @SerializedName(&quot;averageDailySteps&quot;)\r\n        @Expose\r\n        private Integer averageDailySteps;\r\n        @SerializedName(&quot;dateOfBirth&quot;)\r\n        @Expose\r\n        private String dateOfBirth;\r\n        @SerializedName(&quot;fullName&quot;)\r\n        @Expose\r\n        private String fullName;\r\n        @SerializedName(&quot;gender&quot;)\r\n        @Expose\r\n        private String gender;\r\n        @SerializedName(&quot;height&quot;)\r\n        @Expose\r\n        private Double height;\r\n        @SerializedName(&quot;memberSince&quot;)\r\n        @Expose\r\n        private String memberSince;\r\n        @SerializedName(&quot;startDayOfWeek&quot;)\r\n        @Expose\r\n        private String startDayOfWeek;\r\n        @SerializedName(&quot;strideLengthRunning&quot;)\r\n        @Expose\r\n        private Double strideLengthRunning;\r\n        @SerializedName(&quot;strideLengthWalking&quot;)\r\n        @Expose\r\n        private Double strideLengthWalking;\r\n        @SerializedName(&quot;timezone&quot;)\r\n        @Expose\r\n        private String timezone;\r\n        @SerializedName(&quot;waterUnitName&quot;)\r\n        @Expose\r\n        private String waterUnitName;\r\n        @SerializedName(&quot;weight&quot;)\r\n        @Expose\r\n        private Double weight;\r\n    \r\n        public Integer getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getAvatar() {\r\n            return avatar;\r\n        }\r\n    \r\n        public void setAvatar(String avatar) {\r\n            this.avatar = avatar;\r\n        }\r\n    \r\n        public Integer getAverageDailySteps() {\r\n            return averageDailySteps;\r\n        }\r\n    \r\n        public void setAverageDailySteps(Integer averageDailySteps) {\r\n            this.averageDailySteps = averageDailySteps;\r\n        }\r\n    \r\n        public String getDateOfBirth() {\r\n            return dateOfBirth;\r\n        }\r\n    \r\n        public void setDateOfBirth(String dateOfBirth) {\r\n            this.dateOfBirth = dateOfBirth;\r\n        }\r\n    \r\n        public String getFullName() {\r\n            return fullName;\r\n        }\r\n    \r\n        public void setFullName(String fullName) {\r\n            this.fullName = fullName;\r\n        }\r\n    \r\n        public String getGender() {\r\n            return gender;\r\n        }\r\n    \r\n        public void setGender(String gender) {\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public Double getHeight() {\r\n            return height;\r\n        }\r\n    \r\n        public void setHeight(Double height) {\r\n            this.height = height;\r\n        }\r\n    \r\n        public String getMemberSince() {\r\n            return memberSince;\r\n        }\r\n    \r\n        public void setMemberSince(String memberSince) {\r\n            this.memberSince = memberSince;\r\n        }\r\n    \r\n        public String getStartDayOfWeek() {\r\n            return startDayOfWeek;\r\n        }\r\n    \r\n        public void setStartDayOfWeek(String startDayOfWeek) {\r\n            this.startDayOfWeek = startDayOfWeek;\r\n        }\r\n    \r\n        public Double getStrideLengthRunning() {\r\n            return strideLengthRunning;\r\n        }\r\n    \r\n        public void setStrideLengthRunning(Double strideLengthRunning) {\r\n            this.strideLengthRunning = strideLengthRunning;\r\n        }\r\n    \r\n        public Double getStrideLengthWalking() {\r\n            return strideLengthWalking;\r\n        }\r\n    \r\n        public void setStrideLengthWalking(Double strideLengthWalking) {\r\n            this.strideLengthWalking = strideLengthWalking;\r\n        }\r\n    \r\n        public String getTimezone() {\r\n            return timezone;\r\n        }\r\n    \r\n        public void setTimezone(String timezone) {\r\n            this.timezone = timezone;\r\n        }\r\n    \r\n        public String getWaterUnitName() {\r\n            return waterUnitName;\r\n        }\r\n    \r\n        public void setWaterUnitName(String waterUnitName) {\r\n            this.waterUnitName = waterUnitName;\r\n        }\r\n    \r\n        public Double getWeight() {\r\n            return weight;\r\n        }\r\n    \r\n        public void setWeight(Double weight) {\r\n            this.weight = weight;\r\n        }\r\n    \r\n    }\r\n\r\nJsonPlaceholderAPI Interface Class\r\n\r\n    imports\r\n    \r\n    public interface JsonPlaceholderAPI {\r\n    \r\n        @Headers({&quot;Authorization: Bearer bearercodeinserted&quot;})\r\n        @GET(&quot;https://api.fitbit.com/1/user/-/profile.json&quot;)\r\n        Call&lt;User&gt; getUser();\r\n    }\r\n\r\nMainActivity\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private TextView textViewResult;\r\n\r\n    private JsonPlaceholderAPI jsonPlaceholderAPI;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textViewResult = findViewById(R.id.text_view_result);\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://jsonplaceholder.typicode.com/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        jsonPlaceholderAPI = retrofit.create(JsonPlaceholderAPI.class);\r\n        getUser();\r\n    }\r\n\r\n    private void getUser() {\r\n\r\n        Call&lt;User&gt; call = jsonPlaceholderAPI.getUser();\r\n\r\n        call.enqueue(new Callback&lt;User&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;User&gt; call, Response&lt;User&gt; response) {\r\n\r\n                if (!response.isSuccessful()) {\r\n                    textViewResult.setText(&quot;Code: &quot; + response.code());\r\n                    return;\r\n                }\r\n\r\n                textViewResult.setText(&quot;Body: &quot; + response.body());\r\n\r\n                }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;User&gt; call, Throwable t) {\r\n                textViewResult.setText(t.getMessage());\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xjAWY.png","title":"Retrofit Body isn&#39;t showing desired response from Nested JSON","body":"<p><a href=\"https://i.stack.imgur.com/xjAWY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xjAWY.png\" alt=\"Edited in picture for debug\" /></a>I've been trying to connect an Android App to the Fitbit API using Retrofit however I'm struggling with getting a connection to a JSON with a nested user section. I've managed to get the classes set up however get Body: com.example.myapplication.User@6fe68c1 when requesting the body back.</p>\n<p>Whilst learning about Retrofit I've had no problems with using  however this seems to be different because of the &quot;user&quot; in the JSON.</p>\n<p>Shortened JSON I'm working from</p>\n<pre><code>{\n    &quot;user&quot;: {\n        &quot;age&quot;: 23,\n        &quot;avatar&quot;: &quot;https://static0.fitbit.com/images/profile/defaultProfile_100.png&quot;,\n        &quot;averageDailySteps&quot;: 2673,\n        &quot;dateOfBirth&quot;: &quot;1999-01-25&quot;,\n        &quot;displayName&quot;: &quot;Name.&quot;,\n        &quot;features&quot;: {\n            &quot;exerciseGoal&quot;: true\n        },\n        &quot;fullName&quot;: &quot;Full Name&quot;,\n        &quot;gender&quot;: &quot;MALE&quot;,\n        &quot;glucoseUnit&quot;: &quot;METRIC&quot;,\n        &quot;height&quot;: 180.3,\n        &quot;memberSince&quot;: &quot;2022-02-28&quot;,\n        &quot;startDayOfWeek&quot;: &quot;MONDAY&quot;,\n        &quot;strideLengthRunning&quot;: 123.10000000000001,\n        &quot;weight&quot;: 72.5,\n    }\n}\n</code></pre>\n<p>Fitbit Class</p>\n<pre><code>    imports\n    \n    @Generated(&quot;jsonschema2pojo&quot;)\n    public class Fitbit {\n    \n        @SerializedName(&quot;user&quot;)\n        @Expose\n        private User user;\n    \n        public User getUser() {\n            return user;\n        }\n    \n        public void setUser(User user) {\n            this.user = user;\n        }\n    \n    }\n</code></pre>\n<p>User Class</p>\n<pre><code>imports\n\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class User {\n\n    @SerializedName(&quot;age&quot;)\n    @Expose\n    private Integer age;\n    @SerializedName(&quot;avatar&quot;)\n    @Expose\n    private String avatar;\n    @SerializedName(&quot;averageDailySteps&quot;)\n    @Expose\n    private Integer averageDailySteps;\n    @SerializedName(&quot;dateOfBirth&quot;)\n    @Expose\n    private String dateOfBirth;\n    @SerializedName(&quot;fullName&quot;)\n    @Expose\n    private String fullName;\n    @SerializedName(&quot;gender&quot;)\n    @Expose\n    private String gender;\n    @SerializedName(&quot;height&quot;)\n    @Expose\n    private Double height;\n    @SerializedName(&quot;memberSince&quot;)\n    @Expose\n    private String memberSince;\n    @SerializedName(&quot;startDayOfWeek&quot;)\n    @Expose\n    private String startDayOfWeek;\n    @SerializedName(&quot;strideLengthRunning&quot;)\n    @Expose\n    private Double strideLengthRunning;\n    @SerializedName(&quot;strideLengthWalking&quot;)\n    @Expose\n    private Double strideLengthWalking;\n    @SerializedName(&quot;timezone&quot;)\n    @Expose\n    private String timezone;\n    @SerializedName(&quot;waterUnitName&quot;)\n    @Expose\n    private String waterUnitName;\n    @SerializedName(&quot;weight&quot;)\n    @Expose\n    private Double weight;\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public String getAvatar() {\n        return avatar;\n    }\n\n    public void setAvatar(String avatar) {\n        this.avatar = avatar;\n    }\n\n    public Integer getAverageDailySteps() {\n        return averageDailySteps;\n    }\n\n    public void setAverageDailySteps(Integer averageDailySteps) {\n        this.averageDailySteps = averageDailySteps;\n    }\n\n    public String getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(String dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n    public Double getHeight() {\n        return height;\n    }\n\n    public void setHeight(Double height) {\n        this.height = height;\n    }\n\n    public String getMemberSince() {\n        return memberSince;\n    }\n\n    public void setMemberSince(String memberSince) {\n        this.memberSince = memberSince;\n    }\n\n    public String getStartDayOfWeek() {\n        return startDayOfWeek;\n    }\n\n    public void setStartDayOfWeek(String startDayOfWeek) {\n        this.startDayOfWeek = startDayOfWeek;\n    }\n\n    public Double getStrideLengthRunning() {\n        return strideLengthRunning;\n    }\n\n    public void setStrideLengthRunning(Double strideLengthRunning) {\n        this.strideLengthRunning = strideLengthRunning;\n    }\n\n    public Double getStrideLengthWalking() {\n        return strideLengthWalking;\n    }\n\n    public void setStrideLengthWalking(Double strideLengthWalking) {\n        this.strideLengthWalking = strideLengthWalking;\n    }\n\n    public String getTimezone() {\n        return timezone;\n    }\n\n    public void setTimezone(String timezone) {\n        this.timezone = timezone;\n    }\n\n    public String getWaterUnitName() {\n        return waterUnitName;\n    }\n\n    public void setWaterUnitName(String waterUnitName) {\n        this.waterUnitName = waterUnitName;\n    }\n\n    public Double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(Double weight) {\n        this.weight = weight;\n    }\n\n}\n</code></pre>\n<p>JsonPlaceholderAPI Interface Class</p>\n<pre><code>imports\n\npublic interface JsonPlaceholderAPI {\n\n    @Headers({&quot;Authorization: Bearer bearercodeinserted&quot;})\n    @GET(&quot;https://api.fitbit.com/1/user/-/profile.json&quot;)\n    Call&lt;User&gt; getUser();\n}\n</code></pre>\n<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate TextView textViewResult;\n\nprivate JsonPlaceholderAPI jsonPlaceholderAPI;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    textViewResult = findViewById(R.id.text_view_result);\n\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(&quot;https://jsonplaceholder.typicode.com/&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n\n    jsonPlaceholderAPI = retrofit.create(JsonPlaceholderAPI.class);\n    getUser();\n}\n\nprivate void getUser() {\n\n    Call&lt;User&gt; call = jsonPlaceholderAPI.getUser();\n\n    call.enqueue(new Callback&lt;User&gt;() {\n        @Override\n        public void onResponse(Call&lt;User&gt; call, Response&lt;User&gt; response) {\n\n            if (!response.isSuccessful()) {\n                textViewResult.setText(&quot;Code: &quot; + response.code());\n                return;\n            }\n\n            textViewResult.setText(&quot;Body: &quot; + response.body());\n\n            }\n\n        @Override\n        public void onFailure(Call&lt;User&gt; call, Throwable t) {\n            textViewResult.setText(t.getMessage());\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","eclipse","compiler-errors","eclipse-plugin","loggerfactory"],"comments":[{"owner":{"account_id":1077413,"reputation":7308,"user_id":1075247,"accept_rate":92,"display_name":"AncientSwordRage"},"score":0,"creation_date":1589359360,"post_id":53666644,"comment_id":109259118,"body_markdown":"Does this answer your question? [Building with Lombok&#39;s @Slf4j and Eclipse: Cannot find symbol log](https://stackoverflow.com/questions/16627751/building-with-lomboks-slf4j-and-eclipse-cannot-find-symbol-log)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16627751/building-with-lomboks-slf4j-and-eclipse-cannot-find-symbol-log\">Building with Lombok&#39;s @Slf4j and Eclipse: Cannot find symbol log</a>"}],"answers":[{"tags":[],"owner":{"account_id":14481582,"reputation":114,"user_id":10460681,"display_name":"TheYaINN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544177292,"creation_date":1544177292,"answer_id":53667324,"question_id":53666644,"body_markdown":"For what I know, in eclipse if you have &quot;cleaned and compiled&quot; it with maven and the dependencies didn&#39;t load properly try right clicking and go to maven, then &quot;Update Project&quot;, in the new window you should select everything related to that project and mark &quot;Force update of Snapshot/Releases&quot;, this could maybe solve your problem.","title":"Can&#39;t use @Slf4j annotation in my project because can&#39;t be resolved to a type but in another project works well","body":"<p>For what I know, in eclipse if you have \"cleaned and compiled\" it with maven and the dependencies didn't load properly try right clicking and go to maven, then \"Update Project\", in the new window you should select everything related to that project and mark \"Force update of Snapshot/Releases\", this could maybe solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":17002862,"reputation":453,"user_id":12299805,"display_name":"Phong Phuong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648339301,"creation_date":1648339301,"answer_id":71632747,"question_id":53666644,"body_markdown":"I had this problem, and I had to add the missing dependency:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Can&#39;t use @Slf4j annotation in my project because can&#39;t be resolved to a type but in another project works well","body":"<p>I had this problem, and I had to add the missing dependency:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n   &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14899585,"reputation":21,"user_id":10758797,"display_name":"aarauz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6995,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648339301,"creation_date":1544174852,"question_id":53666644,"body_markdown":"I moved a functionality of my Maven project because instead of a file.war, I wanted a .jar file to be able to run it from the command line. The problem is when I have been copying the dependencies of this project to the new one, my pom is the next one: \n\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;MY_GROUP_ID&lt;/groupId&gt;\n    &lt;version&gt;1.0.0.0&lt;/version&gt;\n    &lt;artifactId&gt;MY_ARTIFACT_ID&lt;/artifactId&gt;\n    &lt;description&gt;MY_DESCRIPTION&lt;/description&gt;\n    &lt;name&gt;MY_NAME&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;properties&gt;\n        &lt;log4j.version&gt;2.11.1&lt;/log4j.version&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n            &lt;version&gt;0.1.55&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;27.0.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n\nThe main problem that I get is that the methods log.error () and log.info () that I had written in code in the other application and that worked perfectly, in this new project do not work, when adding the @ Slf4j tag to my class, Example:\n\n      @Slf4j\n      @Data\n      public class MY_CLASS {\n      private String variable1;\n      private String variable2;\n      private String variable3;\n      private String variable4;\n      private String variable5;\n\n\nThe error that I get it&#39;s next one:\n\n&gt; Logger cannot be resolved to a type.\n&gt;\n&gt; org.slf4j cannot be resolved to a type.\n&gt;\n&gt; org.slf4j.LoggerFactory cannot be resolved to a type.\n\nI clean project, i reinstall project lombok, etc...\n\nThank&#39;s for help ^^\n\n\n","title":"Can&#39;t use @Slf4j annotation in my project because can&#39;t be resolved to a type but in another project works well","body":"<p>I moved a functionality of my Maven project because instead of a file.war, I wanted a .jar file to be able to run it from the command line. The problem is when I have been copying the dependencies of this project to the new one, my pom is the next one:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;MY_GROUP_ID&lt;/groupId&gt;\n&lt;version&gt;1.0.0.0&lt;/version&gt;\n&lt;artifactId&gt;MY_ARTIFACT_ID&lt;/artifactId&gt;\n&lt;description&gt;MY_DESCRIPTION&lt;/description&gt;\n&lt;name&gt;MY_NAME&lt;/name&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;log4j.version&gt;2.11.1&lt;/log4j.version&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.3.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n        &lt;version&gt;0.1.55&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.4&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;27.0.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The main problem that I get is that the methods log.error () and log.info () that I had written in code in the other application and that worked perfectly, in this new project do not work, when adding the @ Slf4j tag to my class, Example:</p>\n<pre><code>  @Slf4j\n  @Data\n  public class MY_CLASS {\n  private String variable1;\n  private String variable2;\n  private String variable3;\n  private String variable4;\n  private String variable5;\n</code></pre>\n<p>The error that I get it's next one:</p>\n<blockquote>\n<p>Logger cannot be resolved to a type.</p>\n<p>org.slf4j cannot be resolved to a type.</p>\n<p>org.slf4j.LoggerFactory cannot be resolved to a type.</p>\n</blockquote>\n<p>I clean project, i reinstall project lombok, etc...</p>\n<p>Thank's for help ^^</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1648307659,"post_id":71629116,"comment_id":126593549,"body_markdown":"Your `loadItems()` method doesn&#39;t have a return value, which you will recognize by the keyword `void`. Change your return value to `List&lt;Item&gt;` and add a return statement `return items;` Then you can call that method from your `Actions()` method by doing `this.itemSlist = loadItems();`","body":"Your <code>loadItems()</code> method doesn&#39;t have a return value, which you will recognize by the keyword <code>void</code>. Change your return value to <code>List&lt;Item&gt;</code> and add a return statement <code>return items;</code> Then you can call that method from your <code>Actions()</code> method by doing <code>this.itemSlist = loadItems();</code>"},{"owner":{"account_id":23619537,"reputation":1,"user_id":17653066,"display_name":"Smalls"},"score":0,"creation_date":1648308285,"post_id":71629116,"comment_id":126593694,"body_markdown":"Thank you @Eritrean - I followed your edits but am still getting the Index Out Of Bounds Exception - I&#39;ll update the code in my question.","body":"Thank you @Eritrean - I followed your edits but am still getting the Index Out Of Bounds Exception - I&#39;ll update the code in my question."}],"answers":[{"tags":[],"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648313740,"creation_date":1648313740,"answer_id":71630056,"question_id":71629116,"body_markdown":"Try the following approach:\r\n\r\n    public class Main{\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            ArrayList&lt;Item&gt; listItem = new List().getList();\r\n            System.out.println(&quot;Name: &quot; + listItem.get(0).getaName());\r\n            System.out.println(&quot;Description: &quot; + listItem.get(0).getaDescription());\r\n            System.out.println(&quot;CanTake: &quot; + listItem.get(0).isCanTake());\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n   \r\n\r\nClass List:\r\n\r\n    public class List {\r\n        \r\n               public ArrayList&lt;Item&gt; getList(){\r\n                        \r\n                    ArrayList&lt;Item&gt; listItems = new ArrayList&lt;&gt;();\r\n                        listItems.add(new Item(&quot;Name 1&quot;, &quot;Description 1&quot;, true));\r\n                        listItems.add(new Item(&quot;Name 2&quot;, &quot;Description 2&quot;, false));\r\n                        listItems.add(new Item(&quot;Name 3&quot;, &quot;Description 3&quot;, true));\r\n                        listItems.add(new Item(&quot;Name 4&quot;, &quot;Description 4&quot;, false));\r\n                        listItems.add(new Item(&quot;Name 5&quot;, &quot;Description 5&quot;, false));\r\n                    return listItems;\r\n                }        \r\n        }\r\n\r\n\r\nClass Item:\r\n\r\n    public class Item {\r\n        \r\n        private String Name;\r\n        private String Description;\r\n        private boolean CanTake;\r\n    \r\n        public Item(String Name, String Description, boolean CanTake) {\r\n            this.Name = Name;\r\n            this.Description = Description;\r\n            this.CanTake = CanTake;\r\n        }\r\n        \r\n        public String getaName() {\r\n            return Name;\r\n        }\r\n    \r\n        public void setaName(String aName) {\r\n            this.Name = aName;\r\n        }\r\n    \r\n        public String getaDescription() {\r\n            return Description;\r\n        }\r\n    \r\n        public void setaDescription(String aDescription) {\r\n            this.Description = aDescription;\r\n        }\r\n    \r\n        public boolean isCanTake() {\r\n            return CanTake;\r\n        }\r\n    \r\n        public void setCanTake(boolean canTake) {\r\n            this.CanTake = canTake;\r\n        }\r\n        \r\n    }\r\n\r\nResults:\r\n\r\n    run:\r\n    Name: Name 1\r\n    Description: Description 1\r\n    CanTake: true\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nI haven&#39;t checked the import of the txt file\r\n\r\nSteffi","title":"Fill ArrayList from Text file with multiple element types Java","body":"<p>Try the following approach:</p>\n<pre><code>public class Main{\n\n    public static void main(String[] args) {\n        \n        ArrayList&lt;Item&gt; listItem = new List().getList();\n        System.out.println(&quot;Name: &quot; + listItem.get(0).getaName());\n        System.out.println(&quot;Description: &quot; + listItem.get(0).getaDescription());\n        System.out.println(&quot;CanTake: &quot; + listItem.get(0).isCanTake());\n\n    }\n}\n</code></pre>\n<p>Class List:</p>\n<pre><code>public class List {\n    \n           public ArrayList&lt;Item&gt; getList(){\n                    \n                ArrayList&lt;Item&gt; listItems = new ArrayList&lt;&gt;();\n                    listItems.add(new Item(&quot;Name 1&quot;, &quot;Description 1&quot;, true));\n                    listItems.add(new Item(&quot;Name 2&quot;, &quot;Description 2&quot;, false));\n                    listItems.add(new Item(&quot;Name 3&quot;, &quot;Description 3&quot;, true));\n                    listItems.add(new Item(&quot;Name 4&quot;, &quot;Description 4&quot;, false));\n                    listItems.add(new Item(&quot;Name 5&quot;, &quot;Description 5&quot;, false));\n                return listItems;\n            }        \n    }\n</code></pre>\n<p>Class Item:</p>\n<pre><code>public class Item {\n    \n    private String Name;\n    private String Description;\n    private boolean CanTake;\n\n    public Item(String Name, String Description, boolean CanTake) {\n        this.Name = Name;\n        this.Description = Description;\n        this.CanTake = CanTake;\n    }\n    \n    public String getaName() {\n        return Name;\n    }\n\n    public void setaName(String aName) {\n        this.Name = aName;\n    }\n\n    public String getaDescription() {\n        return Description;\n    }\n\n    public void setaDescription(String aDescription) {\n        this.Description = aDescription;\n    }\n\n    public boolean isCanTake() {\n        return CanTake;\n    }\n\n    public void setCanTake(boolean canTake) {\n        this.CanTake = canTake;\n    }\n    \n}\n</code></pre>\n<p>Results:</p>\n<pre><code>run:\nName: Name 1\nDescription: Description 1\nCanTake: true\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n<p>I haven't checked the import of the txt file</p>\n<p>Steffi</p>\n"}],"owner":{"account_id":23619537,"reputation":1,"user_id":17653066,"display_name":"Smalls"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648339087,"creation_date":1648306646,"question_id":71629116,"body_markdown":"I want to fill an Arraylist from a .txt file however, the ArrayList contains objects (items) with multiple &#39;variables&#39;.\r\n\r\nThe class Item &#39;variables&#39; are String &amp; boolean.\r\n\r\n```\r\npublic Item(String aName, String aDescription, boolean canTake) {\r\n```\r\n\r\nThis is what I have in a different class to create/fill the ArrayList\r\n\r\n```\r\npublic List&lt;Item&gt; loadItems() throws FileNotFoundException{\r\n\tFile f = new File(&quot;Item.txt&quot;);  \t\r\n\t  Scanner sn = new Scanner(f);\r\n\t     while (sn.hasNext()){\r\n\t     \tString itm = sn.nextLine();\r\n\t     \tScanner sc = new Scanner(itm);\r\n\t     \tsc.useDelimiter(&quot;#&quot;); \r\n\t     \tString aName = sc.next();\r\n\t     \tString aDescription=sc.next();\r\n\t     \tBoolean canTake = sc.nextBoolean();\r\n\t     \taddItem(aName, aDescription, canTake);\r\n\t     \t\t}\r\n\t\t\t\treturn items;\r\n\t     \t}\r\n```\r\n\r\nIn a third class I create another ArrayList and call the loadItems() method so that I can reference specific item objects (i.e. item objects at element 0 of the list).\r\n\r\n```\r\n\tpublic Actions() throws FileNotFoundException {\r\n\t\tloadItems();\r\n\t\tthis.itemSlist = loadItems();\r\n\r\nItemList HomeList = new ItemList();\r\n\t\tHomeList.add(itemSlist.get(0));\r\n\t\tHomeList.add(itemSlist.get(1));\r\n```\r\n\r\nThe problem is this doesn&#39;t actually fill the ArrayList &amp; my output is: \\[\\] \\[\\] \\[\\] Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 2 out of bounds for length 0\r\n\r\nI know with ArrayLists you would generally just list.add(); but there a multiple variables for each object - not just a string or boolean value.\r\n\r\nI&#39;ve tried moving the loadItems method to different classes and tried using a basic scanner with the txtfile and can access single word item objects but not the multi variable ones.","title":"Fill ArrayList from Text file with multiple element types Java","body":"<p>I want to fill an Arraylist from a .txt file however, the ArrayList contains objects (items) with multiple 'variables'.</p>\n<p>The class Item 'variables' are String &amp; boolean.</p>\n<pre><code>public Item(String aName, String aDescription, boolean canTake) {\n</code></pre>\n<p>This is what I have in a different class to create/fill the ArrayList</p>\n<pre><code>public List&lt;Item&gt; loadItems() throws FileNotFoundException{\n    File f = new File(&quot;Item.txt&quot;);      \n      Scanner sn = new Scanner(f);\n         while (sn.hasNext()){\n            String itm = sn.nextLine();\n            Scanner sc = new Scanner(itm);\n            sc.useDelimiter(&quot;#&quot;); \n            String aName = sc.next();\n            String aDescription=sc.next();\n            Boolean canTake = sc.nextBoolean();\n            addItem(aName, aDescription, canTake);\n                }\n                return items;\n            }\n</code></pre>\n<p>In a third class I create another ArrayList and call the loadItems() method so that I can reference specific item objects (i.e. item objects at element 0 of the list).</p>\n<pre><code>    public Actions() throws FileNotFoundException {\n        loadItems();\n        this.itemSlist = loadItems();\n\nItemList HomeList = new ItemList();\n        HomeList.add(itemSlist.get(0));\n        HomeList.add(itemSlist.get(1));\n</code></pre>\n<p>The problem is this doesn't actually fill the ArrayList &amp; my output is: [] [] [] Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 2 out of bounds for length 0</p>\n<p>I know with ArrayLists you would generally just list.add(); but there a multiple variables for each object - not just a string or boolean value.</p>\n<p>I've tried moving the loadItems method to different classes and tried using a basic scanner with the txtfile and can access single word item objects but not the multi variable ones.</p>\n"},{"tags":["java","list","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1648327960,"post_id":71631737,"comment_id":126597872,"body_markdown":"Iterate through the entrySet of the map and return the keys of those entries where the value matches your search criteria.","body":"Iterate through the entrySet of the map and return the keys of those entries where the value matches your search criteria."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648336583,"post_id":71631737,"comment_id":126599217,"body_markdown":"Do you have a lot of data? How many Strings are there altogether in all the Lists?","body":"Do you have a lot of data? How many Strings are there altogether in all the Lists?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648338797,"creation_date":1648328161,"answer_id":71631769,"question_id":71631737,"body_markdown":"Iteration needs to be done over the ***entry set*** or over the ***key set***, it is impossible to access a *key* when have only a *value*.\r\n\r\nOperation `anyMatch()` returns a `boolean` value. You need to use either `findFirst()` to get a single result, or `collect()` to obtain a *collection* of names. In both cases, the predicate from the `anyMatch()` needs to be placed into the `filter()` operation.\r\n\r\nTerminal operation `findFirst()` returns  `Optional` because a result might not be present. You can extract a value from the optional in different ways, for instance, by applying `get()`, but in the case of empty optional it&#39;ll throw `NoSuchElementException`. In the example below, method `orElse()` is used to provide a default value.\r\n\r\n    String name =\r\n            map.entrySet().stream() // stream of map-entries\r\n                        .filter(entry -&gt; entry.getValue().contains(&quot;hamster&quot;))\r\n                        .map(Map.Entry::getKey)\r\n                        .findFirst()\r\n                        .orElse(&quot;no owner was found&quot;);\r\n\r\nOperation `collect()` expects as a parameter `Collector` (*an object that is responsible for populating a mutable container, like a collection with elements of the stream*).\r\n\r\n    List&lt;String&gt; names =\r\n           map.keySet().stream() // stream of owner names\r\n                       .filter(key -&gt; map.get(key).contains(&quot;hamster&quot;))\r\n                       .collect(Collectors.toList());  // Or `toList()` in Java 16+.\r\n\r\n\r\n**Note:**\r\n* When the two entries in your code will share the *same list*. Instead of invoking `list.clear();` need to create a ***new list*** so that every key will correspond to a distinct collection of pet-names.\r\n* Search will be more performant if you replace an `ArrayList` with a `HashSet` (i.e. *map* will be declared as `Map&lt;String,Set&lt;String&gt;&gt;`).","title":"How to find a key in a HashMap that is mapped to a List&lt;String&gt; value containing the given string","body":"<p>Iteration needs to be done over the <em><strong>entry set</strong></em> or over the <em><strong>key set</strong></em>, it is impossible to access a <em>key</em> when have only a <em>value</em>.</p>\n<p>Operation <code>anyMatch()</code> returns a <code>boolean</code> value. You need to use either <code>findFirst()</code> to get a single result, or <code>collect()</code> to obtain a <em>collection</em> of names. In both cases, the predicate from the <code>anyMatch()</code> needs to be placed into the <code>filter()</code> operation.</p>\n<p>Terminal operation <code>findFirst()</code> returns  <code>Optional</code> because a result might not be present. You can extract a value from the optional in different ways, for instance, by applying <code>get()</code>, but in the case of empty optional it'll throw <code>NoSuchElementException</code>. In the example below, method <code>orElse()</code> is used to provide a default value.</p>\n<pre><code>String name =\n        map.entrySet().stream() // stream of map-entries\n                    .filter(entry -&gt; entry.getValue().contains(&quot;hamster&quot;))\n                    .map(Map.Entry::getKey)\n                    .findFirst()\n                    .orElse(&quot;no owner was found&quot;);\n</code></pre>\n<p>Operation <code>collect()</code> expects as a parameter <code>Collector</code> (<em>an object that is responsible for populating a mutable container, like a collection with elements of the stream</em>).</p>\n<pre><code>List&lt;String&gt; names =\n       map.keySet().stream() // stream of owner names\n                   .filter(key -&gt; map.get(key).contains(&quot;hamster&quot;))\n                   .collect(Collectors.toList());  // Or `toList()` in Java 16+.\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>When the two entries in your code will share the <em>same list</em>. Instead of invoking <code>list.clear();</code> need to create a <em><strong>new list</strong></em> so that every key will correspond to a distinct collection of pet-names.</li>\n<li>Search will be more performant if you replace an <code>ArrayList</code> with a <code>HashSet</code> (i.e. <em>map</em> will be declared as <code>Map&lt;String,Set&lt;String&gt;&gt;</code>).</li>\n</ul>\n"}],"owner":{"account_id":17207598,"reputation":31,"user_id":12457812,"display_name":"NyanNyanMusume"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648338797,"creation_date":1648327856,"question_id":71631737,"body_markdown":"I have a ***map*** with a *pet owner&#39;s name* for *key* and a `List` of *pets* for a *value*.\r\n\r\nI want to get the names of the people who have a *hamster*.\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\nlist.add(&quot;dog&quot;);\r\nmap.put(&quot;Pesho&quot;, list);\r\n\r\nlist.clear();\r\nlist.add(&quot;dog&quot;);\r\nlist.add(&quot;cat&quot;);\r\nmap.put(&quot;Anne&quot;, list);\r\n\r\nlist.clear();\r\nlist.add(&quot;iguana&quot;);\r\nlist.add(&quot;hamster&quot;);\r\nlist.add(&quot;turtle&quot;);\r\nmap.put(&quot;Kate&quot;, list);\r\n\r\n // The stream only returns if someone in the map has a hamster\r\nSystem.out.println(map.values().stream()\r\n                      .anyMatch(pets -&gt; pets.contains(&quot;hamster&quot;))); ","title":"How to find a key in a HashMap that is mapped to a List&lt;String&gt; value containing the given string","body":"<p>I have a <em><strong>map</strong></em> with a <em>pet owner's name</em> for <em>key</em> and a <code>List</code> of <em>pets</em> for a <em>value</em>.</p>\n<p>I want to get the names of the people who have a <em>hamster</em>.</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\nlist.add(&quot;dog&quot;);\nmap.put(&quot;Pesho&quot;, list);\n\nlist.clear();\nlist.add(&quot;dog&quot;);\nlist.add(&quot;cat&quot;);\nmap.put(&quot;Anne&quot;, list);\n\nlist.clear();\nlist.add(&quot;iguana&quot;);\nlist.add(&quot;hamster&quot;);\nlist.add(&quot;turtle&quot;);\nmap.put(&quot;Kate&quot;, list);\n\n // The stream only returns if someone in the map has a hamster\nSystem.out.println(map.values().stream()\n                      .anyMatch(pets -&gt; pets.contains(&quot;hamster&quot;))); \n</code></pre>\n"},{"tags":["java","maven","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1648337425,"post_id":71632499,"comment_id":126599314,"body_markdown":"I&#39;m sure you **can** do this, but are you *certain* it&#39;s what you really want? Are you aware a JAR file is ***literally*** a zip file with some extra metadata? You&#39;re planning to zip a zip.","body":"I&#39;m sure you <b>can</b> do this, but are you <i>certain</i> it&#39;s what you really want? Are you aware a JAR file is <b><i>literally</i></b> a zip file with some extra metadata? You&#39;re planning to zip a zip."},{"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"score":0,"creation_date":1648337663,"post_id":71632499,"comment_id":126599348,"body_markdown":"If you want more context on why I&#39;m trying to do this, I want to provide a jar along with bat files that contain `java -jar ...` with some interactions to retrieve the actual arguments. The user should be able to use it simply by unzipping the file and clicking on the bat.","body":"If you want more context on why I&#39;m trying to do this, I want to provide a jar along with bat files that contain <code>java -jar ...</code> with some interactions to retrieve the actual arguments. The user should be able to use it simply by unzipping the file and clicking on the bat."}],"answers":[{"tags":[],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648338403,"creation_date":1648338403,"answer_id":71632674,"question_id":71632499,"body_markdown":"Ok I was just missing the `useProjectAttachments` option which is described in the [Assembly reference][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-assembly-plugin/assembly.html","title":"How do I create a zip file from a jar with dependencies?","body":"<p>Ok I was just missing the <code>useProjectAttachments</code> option which is described in the <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/assembly.html\" rel=\"nofollow noreferrer\">Assembly reference</a></p>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71632674,"answer_count":1,"score":0,"last_activity_date":1648338403,"creation_date":1648336291,"question_id":71632499,"body_markdown":"I want to generate a zip file which contains:\r\n\r\n - A fat jar\r\n - Some other static .bat files\r\n\r\nI tried to use `maven-assembly-plugin` because it seems to be able to do that.\r\n\r\nHere is my attempt:\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;my.company&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;some-application&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;some-application&lt;/name&gt;\r\n    \t&lt;!-- ... --&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;make-fat-jar&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t\t\t\t\t&lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t\t\t&lt;/descriptors&gt;\r\n    \t\t\t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;mainClass&gt;my.company.some-application.SomeApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**assembly.xml**\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\r\n    \t&lt;id&gt;data-initialization-batch&lt;/id&gt;\r\n    \t&lt;formats&gt;\r\n    \t\t&lt;format&gt;zip&lt;/format&gt;\r\n    \t&lt;/formats&gt;\r\n    \t&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    \t&lt;files&gt;\r\n    \t\t&lt;file&gt;\r\n    \t\t\t&lt;source&gt;compileDataInit.bat&lt;/source&gt;\r\n    \t\t&lt;/file&gt;\r\n    \t\t&lt;file&gt;\r\n    \t\t\t&lt;source&gt;dataInit.bat&lt;/source&gt;\r\n    \t\t&lt;/file&gt;\r\n    \t&lt;/files&gt;\r\n    \t&lt;dependencySets&gt;\r\n    \t\t&lt;dependencySet&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;my.company:some-application:jar:jar-with-dependencies&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/dependencySet&gt;\r\n    \t&lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nThis generates the following warning:\r\n\r\n&gt; [WARNING] The following patterns were never triggered in this artifact inclusion filter:\r\n&gt; o &#39;my.company:some-application:jar:jar-with-dependencies&#39;\r\n\r\nAnd the output zip file contains the bat files but no jar at all.\r\n\r\nWhat makes me believe that this configuration should work is this sentence in the [docs][1]:\r\n\r\n&gt; When the assembly is created it will use the assemblyId as the\r\n&gt; artifact&#39;s classifier and will attach the created assembly to the\r\n&gt; project so that it will be uploaded into the repository in the install\r\n&gt; and deploy phase.\r\n\r\nSome more details:\r\n\r\n - I have two executions because when I put one `descriptorRef` and one `descriptor` in the same `execution`, they are apparently unordered and can&#39;t depend on each other\r\n - When I use `&lt;include&gt;my.company:some-application&lt;/include&gt;` the regular jar gets properly included in the output zip, but I need the fat jar instead.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-assembly-plugin/usage.html","title":"How do I create a zip file from a jar with dependencies?","body":"<p>I want to generate a zip file which contains:</p>\n<ul>\n<li>A fat jar</li>\n<li>Some other static .bat files</li>\n</ul>\n<p>I tried to use <code>maven-assembly-plugin</code> because it seems to be able to do that.</p>\n<p>Here is my attempt:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;my.company&lt;/groupId&gt;\n    &lt;artifactId&gt;some-application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;some-application&lt;/name&gt;\n    &lt;!-- ... --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-fat-jar&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;descriptors&gt;\n                                &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\n                            &lt;/descriptors&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;my.company.some-application.SomeApplication&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>assembly.xml</strong></p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\n    &lt;id&gt;data-initialization-batch&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;files&gt;\n        &lt;file&gt;\n            &lt;source&gt;compileDataInit.bat&lt;/source&gt;\n        &lt;/file&gt;\n        &lt;file&gt;\n            &lt;source&gt;dataInit.bat&lt;/source&gt;\n        &lt;/file&gt;\n    &lt;/files&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;includes&gt;\n                &lt;include&gt;my.company:some-application:jar:jar-with-dependencies&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>This generates the following warning:</p>\n<blockquote>\n<p>[WARNING] The following patterns were never triggered in this artifact inclusion filter:\no 'my.company:some-application:jar:jar-with-dependencies'</p>\n</blockquote>\n<p>And the output zip file contains the bat files but no jar at all.</p>\n<p>What makes me believe that this configuration should work is this sentence in the <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>When the assembly is created it will use the assemblyId as the\nartifact's classifier and will attach the created assembly to the\nproject so that it will be uploaded into the repository in the install\nand deploy phase.</p>\n</blockquote>\n<p>Some more details:</p>\n<ul>\n<li>I have two executions because when I put one <code>descriptorRef</code> and one <code>descriptor</code> in the same <code>execution</code>, they are apparently unordered and can't depend on each other</li>\n<li>When I use <code>&lt;include&gt;my.company:some-application&lt;/include&gt;</code> the regular jar gets properly included in the output zip, but I need the fat jar instead.</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1648333893,"post_id":71632299,"comment_id":126598825,"body_markdown":"Are you asking how to use another project as a dependency? How you can get it&#39;s classes on the classpath?","body":"Are you asking how to use another project as a dependency? How you can get it&#39;s classes on the classpath?"},{"owner":{"account_id":16352528,"reputation":11,"user_id":11810634,"display_name":"Codding fox"},"score":0,"creation_date":1648334427,"post_id":71632299,"comment_id":126598903,"body_markdown":"@matt i need to get the file system path to that project programmatically","body":"@matt i need to get the file system path to that project programmatically"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1648334850,"post_id":71632299,"comment_id":126598974,"body_markdown":"Sounds very much like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). What do you intend to _do_ with the items you think you will retrieve?","body":"Sounds very much like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What do you intend to <i>do</i> with the items you think you will retrieve?"},{"owner":{"account_id":16352528,"reputation":11,"user_id":11810634,"display_name":"Codding fox"},"score":0,"creation_date":1648335256,"post_id":71632299,"comment_id":126599037,"body_markdown":"@chrylis-cautiouslyoptimistic- Pretty much i need the path to that project in order to find all the .class files and then load those through reflection, that is the big picture, I just need the path to notification project, i can find and load the .class files by myself","body":"@chrylis-cautiouslyoptimistic- Pretty much i need the path to that project in order to find all the .class files and then load those through reflection, that is the big picture, I just need the path to notification project, i can find and load the .class files by myself"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648335977,"creation_date":1648335977,"answer_id":71632470,"question_id":71632299,"body_markdown":"You can&#39;t. The classpath abstraction fundamentally doesn&#39;t have the &quot;list resources&quot; concept. It&#39;s just &quot;get me resource X&quot;, that&#39;s all it has.\r\n\r\nHence, &quot;I want to get a list of all classes so I can load them via reflection&quot; is __not possible without hackery__.\r\n\r\nFortunately, there is an actual solution. resource-listing. Generally, by using the SPI (Service Provider Interface) system.\r\n\r\nDuring _compilation_ (during which, the compiler/build tool certainly _does_ have a complete list of everything it is compiling), a text file is created. It contains the fully qualified class name of each and every relevant class, one such name per line. This text file is then included in the jar files. Now you can build up the process of &#39;give me an instance of each class of project X&#39; just fine using _just_ the API exposed by java&#39;s `ClassLoader`:\r\n\r\n* Load resource &quot;/meta-inf/services/com.foo.YourInterface&quot; and read it line by line.\r\n* Per line, run `Class.loadClass(thatLine).getConstructor().newInstance()`, cast it to `com.foo.YourInterface` and add it to a list.\r\n* return the list.\r\n\r\nVoila. No &#39;list&#39; directive (which doesn&#39;t exist) required. This is _exactly_ how java itself works when finding e.g. SQL drivers, charset encoding drivers, implementations of crypto, etcetera.\r\n\r\nThe basics for how to do this depends on your buildsystem. The compilation step (&quot;create a text file with all implementations&quot;) is build-dependent; you could write it by hand, or you can write your own build plugin, or you can use existing annotation processors that scan for an annotation and generate it automatically.\r\n\r\nThe runtime component (using the text file that is on the classpath, i.e. in the jar where the class files also are, load each and every class listed there, instantiate them, and return it to me as a list of instances) is baked into java itself: [ServiceLoader](https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html).\r\n\r\n","title":"Java get project file system location from another project","body":"<p>You can't. The classpath abstraction fundamentally doesn't have the &quot;list resources&quot; concept. It's just &quot;get me resource X&quot;, that's all it has.</p>\n<p>Hence, &quot;I want to get a list of all classes so I can load them via reflection&quot; is <strong>not possible without hackery</strong>.</p>\n<p>Fortunately, there is an actual solution. resource-listing. Generally, by using the SPI (Service Provider Interface) system.</p>\n<p>During <em>compilation</em> (during which, the compiler/build tool certainly <em>does</em> have a complete list of everything it is compiling), a text file is created. It contains the fully qualified class name of each and every relevant class, one such name per line. This text file is then included in the jar files. Now you can build up the process of 'give me an instance of each class of project X' just fine using <em>just</em> the API exposed by java's <code>ClassLoader</code>:</p>\n<ul>\n<li>Load resource &quot;/meta-inf/services/com.foo.YourInterface&quot; and read it line by line.</li>\n<li>Per line, run <code>Class.loadClass(thatLine).getConstructor().newInstance()</code>, cast it to <code>com.foo.YourInterface</code> and add it to a list.</li>\n<li>return the list.</li>\n</ul>\n<p>Voila. No 'list' directive (which doesn't exist) required. This is <em>exactly</em> how java itself works when finding e.g. SQL drivers, charset encoding drivers, implementations of crypto, etcetera.</p>\n<p>The basics for how to do this depends on your buildsystem. The compilation step (&quot;create a text file with all implementations&quot;) is build-dependent; you could write it by hand, or you can write your own build plugin, or you can use existing annotation processors that scan for an annotation and generate it automatically.</p>\n<p>The runtime component (using the text file that is on the classpath, i.e. in the jar where the class files also are, load each and every class listed there, instantiate them, and return it to me as a list of instances) is baked into java itself: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a>.</p>\n"},{"tags":[],"owner":{"account_id":16352528,"reputation":11,"user_id":11810634,"display_name":"Codding fox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648338040,"creation_date":1648338040,"answer_id":71632645,"question_id":71632299,"body_markdown":"I think i was not very clear as it was my first question, I just needed the file system path to the other project, I could find what i was looking for by using\r\n`System.getProperty(&quot;java.class.path&quot;)`\r\n\r\nIt contains the path to the compiled jar of the project i need, it&#39;s not the path i needed, but i can still get the entries of that file which is as much as useful as the path itself","title":"Java get project file system location from another project","body":"<p>I think i was not very clear as it was my first question, I just needed the file system path to the other project, I could find what i was looking for by using\n<code>System.getProperty(&quot;java.class.path&quot;)</code></p>\n<p>It contains the path to the compiled jar of the project i need, it's not the path i needed, but i can still get the entries of that file which is as much as useful as the path itself</p>\n"}],"owner":{"account_id":16352528,"reputation":11,"user_id":11810634,"display_name":"Codding fox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648338040,"creation_date":1648333763,"question_id":71632299,"body_markdown":"I&#39;m working on a multi project build where i need to get all .class files within a project and then load of all those through reflection by its file system location, given this project structure:\r\n\r\n    multi-project\r\n    |_ /app/\r\n    |   |_ src/\r\n    |_ /notification/\r\n    |   |_ /src/\r\n    |_ settings.gradle\r\n\r\nIn this multi project build my app project is dependent on notification project like this\r\n\r\n    dependencies {\r\n        implementation project(&quot;:notification&quot;)\r\n        // other dependencies\r\n    }\r\n\r\nAlthough it may look like a gradle related question at this point, it&#39;s not, it&#39;s build tool agnostic.\r\n\r\nCurrently I&#39;m working on app project, but i need to dynamically load all the classes located on notification project, i usually do this by  inspecting the file location of a project, but i need to get the location of notification project from a class that&#39;s located in app project\r\n\r\nI load all the classes of app project by using ClassLoader.getResources() in order to capture the path, but this class loader can not capture the path of the notification project","title":"Java get project file system location from another project","body":"<p>I'm working on a multi project build where i need to get all .class files within a project and then load of all those through reflection by its file system location, given this project structure:</p>\n<pre><code>multi-project\n|_ /app/\n|   |_ src/\n|_ /notification/\n|   |_ /src/\n|_ settings.gradle\n</code></pre>\n<p>In this multi project build my app project is dependent on notification project like this</p>\n<pre><code>dependencies {\n    implementation project(&quot;:notification&quot;)\n    // other dependencies\n}\n</code></pre>\n<p>Although it may look like a gradle related question at this point, it's not, it's build tool agnostic.</p>\n<p>Currently I'm working on app project, but i need to dynamically load all the classes located on notification project, i usually do this by  inspecting the file location of a project, but i need to get the location of notification project from a class that's located in app project</p>\n<p>I load all the classes of app project by using ClassLoader.getResources() in order to capture the path, but this class loader can not capture the path of the notification project</p>\n"},{"tags":["java","spring-boot","maven","jooq","jooq-codegen-maven"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1648202350,"post_id":71611831,"comment_id":126569949,"body_markdown":"The commercial editions of jOOQ 3.16 still support Java 8, see: https://www.jooq.org/download/versions","body":"The commercial editions of jOOQ 3.16 still support Java 8, see: <a href=\"https://www.jooq.org/download/versions\" rel=\"nofollow noreferrer\">jooq.org/download/versions</a>"}],"answers":[{"tags":[],"owner":{"account_id":24617626,"reputation":63,"user_id":18518406,"display_name":"Divyanshi Mangal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648337392,"creation_date":1648337392,"answer_id":71632587,"question_id":71611831,"body_markdown":"     postgresql.loadInto(tableName).batchAll() // Batch Upsert Operation\r\n                    .onDuplicateKeyUpdate()\r\n                    .loadRecords(list)\r\n                    .fields(tableName.fields())\r\n                    .execute();","title":"Is there equivalent of BatchMerge in jOOQ version 3.13.4?","body":"<pre><code> postgresql.loadInto(tableName).batchAll() // Batch Upsert Operation\n                .onDuplicateKeyUpdate()\n                .loadRecords(list)\n                .fields(tableName.fields())\n                .execute();\n</code></pre>\n"}],"owner":{"account_id":24617626,"reputation":63,"user_id":18518406,"display_name":"Divyanshi Mangal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648337392,"creation_date":1648178704,"question_id":71611831,"body_markdown":"I need to do upsert on batch records.\r\nI&#39;m using jOOQ version 3.13.4, and I cannot update to the latest jOOQ version because I&#39;m using Java 8. If I update the jOOQ version, then I get java.util.concurrent.flow not found errors with the current Java version. I have other constraints due to which I cannot update the Java version of my Spring Boot Application.\r\n\r\nIs there a workaround for batchUpsert/batchMerge in jOOQ 3.13.4?","title":"Is there equivalent of BatchMerge in jOOQ version 3.13.4?","body":"<p>I need to do upsert on batch records.\nI'm using jOOQ version 3.13.4, and I cannot update to the latest jOOQ version because I'm using Java 8. If I update the jOOQ version, then I get java.util.concurrent.flow not found errors with the current Java version. I have other constraints due to which I cannot update the Java version of my Spring Boot Application.</p>\n<p>Is there a workaround for batchUpsert/batchMerge in jOOQ 3.13.4?</p>\n"},{"tags":["java","android","sqlite","android-studio","android-sqlite"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1647989534,"post_id":71579799,"comment_id":126509555,"body_markdown":"I&#39;m not sure why your current code is broken. I suggest you look at Room library. `SQLiteOpenHelper` is the old way of doing things. Room provides a more robust way to interact with a SQLite database. For one thing, you can load a database from assets with only 3 lines of code: https://developer.android.com/training/data-storage/room/prepopulate","body":"I&#39;m not sure why your current code is broken. I suggest you look at Room library. <code>SQLiteOpenHelper</code> is the old way of doing things. Room provides a more robust way to interact with a SQLite database. For one thing, you can load a database from assets with only 3 lines of code: <a href=\"https://developer.android.com/training/data-storage/room/prepopulate\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/prepopulate</a>"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1647990262,"post_id":71579799,"comment_id":126509717,"body_markdown":"@Code-Apprentice SQLiteOpenHelper is NOT the old way of doing things.  It&#39;s a different way of doing things.  Room has a few things its good at, but a lot of negatives as well.  You should NOT be suggesting that people wholesale move off it without knowing a LOT more about their usecases","body":"@Code-Apprentice SQLiteOpenHelper is NOT the old way of doing things.  It&#39;s a different way of doing things.  Room has a few things its good at, but a lot of negatives as well.  You should NOT be suggesting that people wholesale move off it without knowing a LOT more about their usecases"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647990265,"post_id":71579799,"comment_id":126509720,"body_markdown":"&quot;and an empty database written to the correct path&quot; -- the implication is that the database file already exists with an empty database, perhaps from some previous run of your app, or from some previous installation of your app that got restored from an automatic backup. &quot;the only thing that I get is a crashing application&quot; -- your [mcve] should include a stack trace, if we are to provide help specific to the crash.","body":"&quot;and an empty database written to the correct path&quot; -- the implication is that the database file already exists with an empty database, perhaps from some previous run of your app, or from some previous installation of your app that got restored from an automatic backup. &quot;the only thing that I get is a crashing application&quot; -- your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should include a stack trace, if we are to provide help specific to the crash."},{"owner":{"account_id":24651321,"reputation":1,"user_id":18548405,"display_name":"Mark Rainey"},"score":0,"creation_date":1647992204,"post_id":71579799,"comment_id":126510079,"body_markdown":"@CommonsWare Thanks for the reply. I&#39;m a very new developer and this is my first app that I&#39;ve been asked to make. This is the last bug to squash. I&#39;ll add the stack trace to the main post.","body":"@CommonsWare Thanks for the reply. I&#39;m a very new developer and this is my first app that I&#39;ve been asked to make. This is the last bug to squash. I&#39;ll add the stack trace to the main post."},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1648020352,"post_id":71579799,"comment_id":126515014,"body_markdown":"&quot;SQLite database into Android Studio&quot; the database file you are trying to load is in your device right? not on your &quot;android studio&quot;","body":"&quot;SQLite database into Android Studio&quot; the database file you are trying to load is in your device right? not on your &quot;android studio&quot;"},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1648020568,"post_id":71579799,"comment_id":126515080,"body_markdown":"Before attempting the `SELECT` print the DB schema/tables/etc. that will help you find the root cause of the problem","body":"Before attempting the <code>SELECT</code> print the DB schema/tables/etc. that will help you find the root cause of the problem"},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1648020589,"post_id":71579799,"comment_id":126515093,"body_markdown":"Check https://stackoverflow.com/questions/14390331/android-sqlite-database-schema","body":"Check <a href=\"https://stackoverflow.com/questions/14390331/android-sqlite-database-schema\" title=\"android sqlite database schema\">stackoverflow.com/questions/14390331/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648337376,"creation_date":1648337376,"answer_id":71632585,"question_id":71579799,"body_markdown":"There are a few issues with your code.\r\n\r\n1. You are trying to make the database file a directory rather than making the parent the directory.\r\n\r\n2. You are not catering for later android versions that default to using WAL (write-ahead logging) as opposed to journal logging by using `getReabableDatabase` when creating (copying the asset).\r\n\r\n- `getReadableDatabase` will do as it says and create the database. The copy then overwrites this (if it works). \r\n- **However**, in WAL mode two additional files are created for the WAL logging and populated accordingly. Then:\r\n- After the asset has been copied SQLite determines that the WAL file is not the WAL file for the copied database and therefore fails to open the potentially corrupt database.\r\n- The Android API detects this failure but does what it has been asked and creates an empty database and hence the **Table not found**.\r\n\r\nUsing `getReadableDatabase` just to circumvent the databases directory not existing is overkill/inefficient as all the processing to create a new database is undertaken.\r\n\r\nHere&#39;s a rewrite of your code noting that:-\r\n\r\n- all of the access methods have been commented out (rather than create all the classes)\r\n- the `createDatabase` and `checkDatabase` methods have been commented out. They have been replaced by the `getDatabase` method.\r\n- the `CopyDatabase` method has been changed to return false if an io error occurs (getDatabase then throws a runTimeException)\r\n\r\nThe `getDatabase` method \r\n- checks to see if the database exists and returns if it does. Otherwise, it \r\n- checks to see if the parentFile (databases directory) exists, \r\n    - if not then it makes the directory (and potentially other ones although they should always exist)\r\n- calls the `CopyDatabase` method\r\n\r\n\r\nSo the code (with much of the original code commented out) is :-\r\n\r\n    public class DBAdapter extends SQLiteOpenHelper {\r\n       public static final String TAG = DBAdapter.class.getSimpleName();\r\n       public static int flag;\r\n       private static SQLiteDatabase db;\r\n       private static String DB_NAME = &quot;recipes.db&quot;;\r\n       public static String TABLE_NAME = &quot;DrinkRecipes_Loaded&quot;;\r\n       public static String DB_PATH = &quot;&quot;;\r\n       public static String COL_WORD = &quot;WORD&quot;;\r\n       String outFileName = &quot;&quot;;\r\n       public static Context myContext;\r\n       private String loadedTable = &quot;DrinkRecipes_Loaded&quot;;\r\n       private String specialtyTable = &quot;DrinkRecipes_Specialty&quot;;\r\n       private String beautyTable = &quot;DrinkRecipes_Beauty&quot;;\r\n       private String kidsTable = &quot;DrinkRecipes_Kids&quot;;\r\n       private String shakesTable = &quot;DrinkRecipes_Shakes&quot;;\r\n    \r\n    \r\n    \r\n       public DBAdapter(Context context) {\r\n          super(context, DB_NAME, null, 1);\r\n          this.myContext = context;\r\n          //ContextWrapper cw = new ContextWrapper(context); Not used\r\n          DB_PATH = context.getDatabasePath(DB_NAME).getPath();  // no need to hard code anything bar the DB name\r\n          /*\r\n          //DB_PATH = &quot;/data/data&quot; + BuildConfig.APPLICATION_ID + &quot;/databases/&quot;;\r\n          Log.e(TAG, &quot;Databasehelper: DB_PATH &quot; + DB_PATH);\r\n          outFileName = DB_PATH + DB_NAME;\r\n          File file = new File(DB_PATH);\r\n          Log.e(TAG, &quot;Databasehelper: &quot; + file.exists());\r\n          if (!file.exists()) {\r\n             file.getParentFile().mkdirs(); // CHANGED you don&#39;t want the database to be a directory\r\n          }\r\n           */\r\n          getDatabase(context);\r\n       }\r\n    \r\n       /*&lt;&lt;&lt;&lt;&lt; ADDED &gt;&gt;&gt;&gt;&gt;*/\r\n       private void getDatabase(Context context) {\r\n          File dbFile = new File(context.getDatabasePath((DB_NAME)).getPath());\r\n          if (dbFile.exists()) return; // Database found so all done\r\n          // Otherwise ensure that the database directory exists (does not by default until later versions)\r\n          if (!dbFile.getParentFile().exists()) {\r\n             dbFile.getParentFile().mkdirs();\r\n          }\r\n          if (!copyDataBase()) {\r\n             throw new RuntimeException(&quot;Unable to copy database from the asset (check the stack-trace).&quot;);\r\n          }\r\n       }\r\n    \r\n       /**\r\n        * Creates a empty database on the system and rewrites it with your own database.\r\n        */\r\n       /* NOTE NEEDED/UNSAFE as getDatabase create a database and for later version of Android it will be in WAL mode\r\n          thus the additional WAL files are created. When the database is then opened SQLite see that the WAL files are not\r\n          for the copied database and thus the open fails. Android&#39;s API then creates an new empty database file\r\n        */\r\n       /*\r\n       public void createDataBase() throws IOException {\r\n          boolean dbExist = checkDataBase();\r\n          if (dbExist) {\r\n             //do nothing - database already exist\r\n          } else {\r\n             //By calling this method and empty database will be created into the default system path\r\n             //of your application so we are gonna be able to overwrite that database with our database.\r\n             this.getReadableDatabase(); // Causes issues if in WAL mode and result in database\r\n             try {\r\n                copyDataBase();\r\n             } catch (IOException e) {\r\n                throw new Error(&quot;Error copying database&quot;);\r\n             }\r\n          }\r\n       }\r\n    \r\n        */\r\n    \r\n       /**\r\n        * Check if the database already exist to avoid re-copying the file each time you open the application.\r\n        *\r\n        * @return true if it exists, false if it doesn&#39;t\r\n        */\r\n       /*\r\n       private boolean checkDataBase() {\r\n          SQLiteDatabase checkDB = null;\r\n          try {\r\n             checkDB = SQLiteDatabase.openDatabase(outFileName, null, SQLiteDatabase.OPEN_READONLY);\r\n          } catch (SQLiteException e) {\r\n             try {\r\n                copyDataBase();\r\n             } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n             }\r\n          }\r\n    \r\n          if (checkDB != null) {\r\n             checkDB.close();\r\n          }\r\n          return checkDB != null ? true : false;\r\n       }\r\n    \r\n        */\r\n    \r\n       /**\r\n        * Copies your database from your local assets-folder to the just created empty database in the\r\n        * system folder, from where it can be accessed and handled.\r\n        * This is done by transfering bytestream.\r\n        */\r\n    \r\n       private boolean /* &lt;&lt;&lt;&lt;&lt; CHANGED SIGNATURE */ copyDataBase() {\r\n          Log.i(&quot;Database&quot;,\r\n                  &quot;New database is being copied to device!&quot;);\r\n          byte[] buffer = new byte[4096]; //Probably more efficient as default page size will be 4k\r\n          OutputStream myOutput = null;\r\n          int length;\r\n          // Open your local db as the input stream\r\n          InputStream myInput = null;\r\n          try {\r\n             myInput = myContext.getAssets().open(DB_NAME);\r\n             // transfer bytes from the inputfile to the\r\n             // outputfile\r\n             myOutput = new FileOutputStream(DB_PATH);\r\n             while ((length = myInput.read(buffer)) &gt; 0) {\r\n                myOutput.write(buffer, 0, length);\r\n             }\r\n             myOutput.close();\r\n             myOutput.flush();\r\n             myInput.close();\r\n             Log.i(&quot;Database&quot;,\r\n                     &quot;New database has been copied to device!&quot;);\r\n          } catch (IOException e) {\r\n             e.printStackTrace();\r\n             return false;\r\n          }\r\n          return true;\r\n       }\r\n    \r\n       public void openDataBase() throws SQLException {\r\n          //Open the database\r\n          String myPath = DB_PATH + DB_NAME;\r\n          db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\r\n          Log.e(TAG, &quot;openDataBase: Open &quot; + db.isOpen());\r\n       }\r\n       /*\r\n       // we have created a new method for reading loaded recipes.\r\n       public ArrayList&lt;recipeModal&gt; readLoadedRecipes() {\r\n          // on below line we are creating a\r\n          // database for reading our database.\r\n          SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n          // on below line we are creating a cursor with query to read data from database.\r\n          Cursor cursorRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\r\n    \r\n          // on below line we are creating a new array list.\r\n          ArrayList&lt;recipeModal&gt; recipeModalArrayList = new ArrayList&lt;&gt;();\r\n    \r\n          // moving our cursor to first position.\r\n          if (cursorRecipes.moveToFirst()) {\r\n             do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                recipeModalArrayList.add(new recipeModal(cursorRecipes.getString(0),\r\n                        cursorRecipes.getString(1),\r\n                        cursorRecipes.getString(2),\r\n                        cursorRecipes.getString(3),\r\n                        cursorRecipes.getString(4),\r\n                        cursorRecipes.getString(5),\r\n                        cursorRecipes.getString(6),\r\n                        cursorRecipes.getString(7),\r\n                        cursorRecipes.getString(8)));\r\n             } while (cursorRecipes.moveToNext());\r\n             // moving our cursor to next.\r\n          }\r\n          // at last closing our cursor\r\n          // and returning our array list.\r\n          cursorRecipes.close();\r\n          return recipeModalArrayList;\r\n       }\r\n    \r\n       // we have created a new method for reading loaded recipes.\r\n       public ArrayList&lt;beautyModal&gt; readBeautyRecipes() {\r\n          // on below line we are creating a\r\n          // database for reading our database.\r\n          SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n          // on below line we are creating a cursor with query to read data from database.\r\n          Cursor beautyRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + beautyTable, null);\r\n    \r\n          // on below line we are creating a new array list.\r\n          ArrayList&lt;beautyModal&gt; beautyModalArrayList = new ArrayList&lt;&gt;();\r\n    \r\n          // moving our cursor to first position.\r\n          if (beautyRecipes.moveToFirst()) {\r\n             do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                beautyModalArrayList.add(new beautyModal(beautyRecipes.getString(0),\r\n                        beautyRecipes.getString(1),\r\n                        beautyRecipes.getString(2),\r\n                        beautyRecipes.getString(3),\r\n                        beautyRecipes.getString(4),\r\n                        beautyRecipes.getString(5)));\r\n             } while (beautyRecipes.moveToNext());\r\n             // moving our cursor to next.\r\n          }\r\n          // at last closing our cursor\r\n          // and returning our array list.\r\n          beautyRecipes.close();\r\n          return beautyModalArrayList;\r\n       }\r\n    \r\n       // we have created a new method for reading loaded recipes.\r\n       public ArrayList&lt;specialtyModal&gt; readSpecialtyRecipes() {\r\n          // on below line we are creating a\r\n          // database for reading our database.\r\n          SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n          // on below line we are creating a cursor with query to read data from database.\r\n          Cursor specialtyRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + specialtyTable, null);\r\n    \r\n          // on below line we are creating a new array list.\r\n          ArrayList&lt;specialtyModal&gt; specialtyModalArrayList = new ArrayList&lt;&gt;();\r\n    \r\n          // moving our cursor to first position.\r\n          if (specialtyRecipes.moveToFirst()) {\r\n             do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                specialtyModalArrayList.add(new specialtyModal(specialtyRecipes.getString(0),\r\n                        specialtyRecipes.getString(1),\r\n                        specialtyRecipes.getString(2),\r\n                        specialtyRecipes.getString(3),\r\n                        specialtyRecipes.getString(4),\r\n                        specialtyRecipes.getString(5),\r\n                        specialtyRecipes.getString(6),\r\n                        specialtyRecipes.getString(7)));\r\n             } while (specialtyRecipes.moveToNext());\r\n             // moving our cursor to next.\r\n          }\r\n          // at last closing our cursor\r\n          // and returning our array list.\r\n          specialtyRecipes.close();\r\n          return specialtyModalArrayList;\r\n       }\r\n    \r\n       // we have created a new method for reading loaded recipes.\r\n       public ArrayList&lt;kidsModal&gt; readKidsRecipes() {\r\n          // on below line we are creating a\r\n          // database for reading our database.\r\n          SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n          // on below line we are creating a cursor with query to read data from database.\r\n          Cursor kidsRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + kidsTable, null);\r\n    \r\n          // on below line we are creating a new array list.\r\n          ArrayList&lt;kidsModal&gt; kidsModalArrayList = new ArrayList&lt;&gt;();\r\n    \r\n          // moving our cursor to first position.\r\n          if (kidsRecipes.moveToFirst()) {\r\n             do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                kidsModalArrayList.add(new kidsModal(kidsRecipes.getString(0),\r\n                        kidsRecipes.getString(1),\r\n                        kidsRecipes.getString(2),\r\n                        kidsRecipes.getString(3),\r\n                        kidsRecipes.getString(4)));\r\n             } while (kidsRecipes.moveToNext());\r\n             // moving our cursor to next.\r\n          }\r\n          // at last closing our cursor\r\n          // and returning our array list.\r\n          kidsRecipes.close();\r\n          return kidsModalArrayList;\r\n       }\r\n    \r\n       // we have created a new method for reading loaded recipes.\r\n       public ArrayList&lt;shakesModal&gt; readShakesRecipes() {\r\n          // on below line we are creating a\r\n          // database for reading our database.\r\n          SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n          // on below line we are creating a cursor with query to read data from database.\r\n          Cursor shakesRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + shakesTable, null);\r\n    \r\n          // on below line we are creating a new array list.\r\n          ArrayList&lt;shakesModal&gt; shakesModalArrayList = new ArrayList&lt;&gt;();\r\n    \r\n          // moving our cursor to first position.\r\n          if (shakesRecipes.moveToFirst()) {\r\n             do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                shakesModalArrayList.add(new shakesModal(shakesRecipes.getString(0),\r\n                        shakesRecipes.getString(1),\r\n                        shakesRecipes.getString(2),\r\n                        shakesRecipes.getString(3),\r\n                        shakesRecipes.getString(4)));\r\n             } while (shakesRecipes.moveToNext());\r\n             // moving our cursor to next.\r\n          }\r\n          // at last closing our cursor\r\n          // and returning our array list.\r\n          shakesRecipes.close();\r\n          return shakesModalArrayList;\r\n       }\r\n    \r\n    \r\n        */\r\n    \r\n       @Override\r\n       public synchronized void close() {\r\n          if (db != null)\r\n             db.close();\r\n          super.close();\r\n       }\r\n    \r\n       public void onCreate(SQLiteDatabase arg0) {\r\n       }\r\n    \r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase arg0, int arg1, int arg2) {\r\n       }\r\n    }\r\n\r\n\r\nThe above has been tested but using a substitute database renamed to recipes.db (NorthWind as it&#39;s pretty large) the log for a new install :-\r\n\r\n    2022-03-27 10:22:11.223 I/Database: New database is being copied to device!\r\n    2022-03-27 10:22:11.455 I/Database: New database has been copied to device!\r\n\r\nAppInspection confirms that the database has been successfully copied (**albeit not your database**):-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLikewise Device File Explorer shows :-\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75brI.png\r\n  [2]: https://i.stack.imgur.com/EdYlv.png","title":"Why isn&#39;t my SQLite database loading from Assets in Android Studio?","body":"<p>There are a few issues with your code.</p>\n<ol>\n<li><p>You are trying to make the database file a directory rather than making the parent the directory.</p>\n</li>\n<li><p>You are not catering for later android versions that default to using WAL (write-ahead logging) as opposed to journal logging by using <code>getReabableDatabase</code> when creating (copying the asset).</p>\n</li>\n</ol>\n<ul>\n<li><code>getReadableDatabase</code> will do as it says and create the database. The copy then overwrites this (if it works).</li>\n<li><strong>However</strong>, in WAL mode two additional files are created for the WAL logging and populated accordingly. Then:</li>\n<li>After the asset has been copied SQLite determines that the WAL file is not the WAL file for the copied database and therefore fails to open the potentially corrupt database.</li>\n<li>The Android API detects this failure but does what it has been asked and creates an empty database and hence the <strong>Table not found</strong>.</li>\n</ul>\n<p>Using <code>getReadableDatabase</code> just to circumvent the databases directory not existing is overkill/inefficient as all the processing to create a new database is undertaken.</p>\n<p>Here's a rewrite of your code noting that:-</p>\n<ul>\n<li>all of the access methods have been commented out (rather than create all the classes)</li>\n<li>the <code>createDatabase</code> and <code>checkDatabase</code> methods have been commented out. They have been replaced by the <code>getDatabase</code> method.</li>\n<li>the <code>CopyDatabase</code> method has been changed to return false if an io error occurs (getDatabase then throws a runTimeException)</li>\n</ul>\n<p>The <code>getDatabase</code> method</p>\n<ul>\n<li>checks to see if the database exists and returns if it does. Otherwise, it</li>\n<li>checks to see if the parentFile (databases directory) exists,\n<ul>\n<li>if not then it makes the directory (and potentially other ones although they should always exist)</li>\n</ul>\n</li>\n<li>calls the <code>CopyDatabase</code> method</li>\n</ul>\n<p>So the code (with much of the original code commented out) is :-</p>\n<pre><code>public class DBAdapter extends SQLiteOpenHelper {\n   public static final String TAG = DBAdapter.class.getSimpleName();\n   public static int flag;\n   private static SQLiteDatabase db;\n   private static String DB_NAME = &quot;recipes.db&quot;;\n   public static String TABLE_NAME = &quot;DrinkRecipes_Loaded&quot;;\n   public static String DB_PATH = &quot;&quot;;\n   public static String COL_WORD = &quot;WORD&quot;;\n   String outFileName = &quot;&quot;;\n   public static Context myContext;\n   private String loadedTable = &quot;DrinkRecipes_Loaded&quot;;\n   private String specialtyTable = &quot;DrinkRecipes_Specialty&quot;;\n   private String beautyTable = &quot;DrinkRecipes_Beauty&quot;;\n   private String kidsTable = &quot;DrinkRecipes_Kids&quot;;\n   private String shakesTable = &quot;DrinkRecipes_Shakes&quot;;\n\n\n\n   public DBAdapter(Context context) {\n      super(context, DB_NAME, null, 1);\n      this.myContext = context;\n      //ContextWrapper cw = new ContextWrapper(context); Not used\n      DB_PATH = context.getDatabasePath(DB_NAME).getPath();  // no need to hard code anything bar the DB name\n      /*\n      //DB_PATH = &quot;/data/data&quot; + BuildConfig.APPLICATION_ID + &quot;/databases/&quot;;\n      Log.e(TAG, &quot;Databasehelper: DB_PATH &quot; + DB_PATH);\n      outFileName = DB_PATH + DB_NAME;\n      File file = new File(DB_PATH);\n      Log.e(TAG, &quot;Databasehelper: &quot; + file.exists());\n      if (!file.exists()) {\n         file.getParentFile().mkdirs(); // CHANGED you don't want the database to be a directory\n      }\n       */\n      getDatabase(context);\n   }\n\n   /*&lt;&lt;&lt;&lt;&lt; ADDED &gt;&gt;&gt;&gt;&gt;*/\n   private void getDatabase(Context context) {\n      File dbFile = new File(context.getDatabasePath((DB_NAME)).getPath());\n      if (dbFile.exists()) return; // Database found so all done\n      // Otherwise ensure that the database directory exists (does not by default until later versions)\n      if (!dbFile.getParentFile().exists()) {\n         dbFile.getParentFile().mkdirs();\n      }\n      if (!copyDataBase()) {\n         throw new RuntimeException(&quot;Unable to copy database from the asset (check the stack-trace).&quot;);\n      }\n   }\n\n   /**\n    * Creates a empty database on the system and rewrites it with your own database.\n    */\n   /* NOTE NEEDED/UNSAFE as getDatabase create a database and for later version of Android it will be in WAL mode\n      thus the additional WAL files are created. When the database is then opened SQLite see that the WAL files are not\n      for the copied database and thus the open fails. Android's API then creates an new empty database file\n    */\n   /*\n   public void createDataBase() throws IOException {\n      boolean dbExist = checkDataBase();\n      if (dbExist) {\n         //do nothing - database already exist\n      } else {\n         //By calling this method and empty database will be created into the default system path\n         //of your application so we are gonna be able to overwrite that database with our database.\n         this.getReadableDatabase(); // Causes issues if in WAL mode and result in database\n         try {\n            copyDataBase();\n         } catch (IOException e) {\n            throw new Error(&quot;Error copying database&quot;);\n         }\n      }\n   }\n\n    */\n\n   /**\n    * Check if the database already exist to avoid re-copying the file each time you open the application.\n    *\n    * @return true if it exists, false if it doesn't\n    */\n   /*\n   private boolean checkDataBase() {\n      SQLiteDatabase checkDB = null;\n      try {\n         checkDB = SQLiteDatabase.openDatabase(outFileName, null, SQLiteDatabase.OPEN_READONLY);\n      } catch (SQLiteException e) {\n         try {\n            copyDataBase();\n         } catch (IOException e1) {\n            e1.printStackTrace();\n         }\n      }\n\n      if (checkDB != null) {\n         checkDB.close();\n      }\n      return checkDB != null ? true : false;\n   }\n\n    */\n\n   /**\n    * Copies your database from your local assets-folder to the just created empty database in the\n    * system folder, from where it can be accessed and handled.\n    * This is done by transfering bytestream.\n    */\n\n   private boolean /* &lt;&lt;&lt;&lt;&lt; CHANGED SIGNATURE */ copyDataBase() {\n      Log.i(&quot;Database&quot;,\n              &quot;New database is being copied to device!&quot;);\n      byte[] buffer = new byte[4096]; //Probably more efficient as default page size will be 4k\n      OutputStream myOutput = null;\n      int length;\n      // Open your local db as the input stream\n      InputStream myInput = null;\n      try {\n         myInput = myContext.getAssets().open(DB_NAME);\n         // transfer bytes from the inputfile to the\n         // outputfile\n         myOutput = new FileOutputStream(DB_PATH);\n         while ((length = myInput.read(buffer)) &gt; 0) {\n            myOutput.write(buffer, 0, length);\n         }\n         myOutput.close();\n         myOutput.flush();\n         myInput.close();\n         Log.i(&quot;Database&quot;,\n                 &quot;New database has been copied to device!&quot;);\n      } catch (IOException e) {\n         e.printStackTrace();\n         return false;\n      }\n      return true;\n   }\n\n   public void openDataBase() throws SQLException {\n      //Open the database\n      String myPath = DB_PATH + DB_NAME;\n      db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n      Log.e(TAG, &quot;openDataBase: Open &quot; + db.isOpen());\n   }\n   /*\n   // we have created a new method for reading loaded recipes.\n   public ArrayList&lt;recipeModal&gt; readLoadedRecipes() {\n      // on below line we are creating a\n      // database for reading our database.\n      SQLiteDatabase db = this.getReadableDatabase();\n\n      // on below line we are creating a cursor with query to read data from database.\n      Cursor cursorRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\n\n      // on below line we are creating a new array list.\n      ArrayList&lt;recipeModal&gt; recipeModalArrayList = new ArrayList&lt;&gt;();\n\n      // moving our cursor to first position.\n      if (cursorRecipes.moveToFirst()) {\n         do {\n            // on below line we are adding the data from cursor to our array list.\n            recipeModalArrayList.add(new recipeModal(cursorRecipes.getString(0),\n                    cursorRecipes.getString(1),\n                    cursorRecipes.getString(2),\n                    cursorRecipes.getString(3),\n                    cursorRecipes.getString(4),\n                    cursorRecipes.getString(5),\n                    cursorRecipes.getString(6),\n                    cursorRecipes.getString(7),\n                    cursorRecipes.getString(8)));\n         } while (cursorRecipes.moveToNext());\n         // moving our cursor to next.\n      }\n      // at last closing our cursor\n      // and returning our array list.\n      cursorRecipes.close();\n      return recipeModalArrayList;\n   }\n\n   // we have created a new method for reading loaded recipes.\n   public ArrayList&lt;beautyModal&gt; readBeautyRecipes() {\n      // on below line we are creating a\n      // database for reading our database.\n      SQLiteDatabase db = this.getReadableDatabase();\n\n      // on below line we are creating a cursor with query to read data from database.\n      Cursor beautyRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + beautyTable, null);\n\n      // on below line we are creating a new array list.\n      ArrayList&lt;beautyModal&gt; beautyModalArrayList = new ArrayList&lt;&gt;();\n\n      // moving our cursor to first position.\n      if (beautyRecipes.moveToFirst()) {\n         do {\n            // on below line we are adding the data from cursor to our array list.\n            beautyModalArrayList.add(new beautyModal(beautyRecipes.getString(0),\n                    beautyRecipes.getString(1),\n                    beautyRecipes.getString(2),\n                    beautyRecipes.getString(3),\n                    beautyRecipes.getString(4),\n                    beautyRecipes.getString(5)));\n         } while (beautyRecipes.moveToNext());\n         // moving our cursor to next.\n      }\n      // at last closing our cursor\n      // and returning our array list.\n      beautyRecipes.close();\n      return beautyModalArrayList;\n   }\n\n   // we have created a new method for reading loaded recipes.\n   public ArrayList&lt;specialtyModal&gt; readSpecialtyRecipes() {\n      // on below line we are creating a\n      // database for reading our database.\n      SQLiteDatabase db = this.getReadableDatabase();\n\n      // on below line we are creating a cursor with query to read data from database.\n      Cursor specialtyRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + specialtyTable, null);\n\n      // on below line we are creating a new array list.\n      ArrayList&lt;specialtyModal&gt; specialtyModalArrayList = new ArrayList&lt;&gt;();\n\n      // moving our cursor to first position.\n      if (specialtyRecipes.moveToFirst()) {\n         do {\n            // on below line we are adding the data from cursor to our array list.\n            specialtyModalArrayList.add(new specialtyModal(specialtyRecipes.getString(0),\n                    specialtyRecipes.getString(1),\n                    specialtyRecipes.getString(2),\n                    specialtyRecipes.getString(3),\n                    specialtyRecipes.getString(4),\n                    specialtyRecipes.getString(5),\n                    specialtyRecipes.getString(6),\n                    specialtyRecipes.getString(7)));\n         } while (specialtyRecipes.moveToNext());\n         // moving our cursor to next.\n      }\n      // at last closing our cursor\n      // and returning our array list.\n      specialtyRecipes.close();\n      return specialtyModalArrayList;\n   }\n\n   // we have created a new method for reading loaded recipes.\n   public ArrayList&lt;kidsModal&gt; readKidsRecipes() {\n      // on below line we are creating a\n      // database for reading our database.\n      SQLiteDatabase db = this.getReadableDatabase();\n\n      // on below line we are creating a cursor with query to read data from database.\n      Cursor kidsRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + kidsTable, null);\n\n      // on below line we are creating a new array list.\n      ArrayList&lt;kidsModal&gt; kidsModalArrayList = new ArrayList&lt;&gt;();\n\n      // moving our cursor to first position.\n      if (kidsRecipes.moveToFirst()) {\n         do {\n            // on below line we are adding the data from cursor to our array list.\n            kidsModalArrayList.add(new kidsModal(kidsRecipes.getString(0),\n                    kidsRecipes.getString(1),\n                    kidsRecipes.getString(2),\n                    kidsRecipes.getString(3),\n                    kidsRecipes.getString(4)));\n         } while (kidsRecipes.moveToNext());\n         // moving our cursor to next.\n      }\n      // at last closing our cursor\n      // and returning our array list.\n      kidsRecipes.close();\n      return kidsModalArrayList;\n   }\n\n   // we have created a new method for reading loaded recipes.\n   public ArrayList&lt;shakesModal&gt; readShakesRecipes() {\n      // on below line we are creating a\n      // database for reading our database.\n      SQLiteDatabase db = this.getReadableDatabase();\n\n      // on below line we are creating a cursor with query to read data from database.\n      Cursor shakesRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + shakesTable, null);\n\n      // on below line we are creating a new array list.\n      ArrayList&lt;shakesModal&gt; shakesModalArrayList = new ArrayList&lt;&gt;();\n\n      // moving our cursor to first position.\n      if (shakesRecipes.moveToFirst()) {\n         do {\n            // on below line we are adding the data from cursor to our array list.\n            shakesModalArrayList.add(new shakesModal(shakesRecipes.getString(0),\n                    shakesRecipes.getString(1),\n                    shakesRecipes.getString(2),\n                    shakesRecipes.getString(3),\n                    shakesRecipes.getString(4)));\n         } while (shakesRecipes.moveToNext());\n         // moving our cursor to next.\n      }\n      // at last closing our cursor\n      // and returning our array list.\n      shakesRecipes.close();\n      return shakesModalArrayList;\n   }\n\n\n    */\n\n   @Override\n   public synchronized void close() {\n      if (db != null)\n         db.close();\n      super.close();\n   }\n\n   public void onCreate(SQLiteDatabase arg0) {\n   }\n\n   @Override\n   public void onUpgrade(SQLiteDatabase arg0, int arg1, int arg2) {\n   }\n}\n</code></pre>\n<p>The above has been tested but using a substitute database renamed to recipes.db (NorthWind as it's pretty large) the log for a new install :-</p>\n<pre><code>2022-03-27 10:22:11.223 I/Database: New database is being copied to device!\n2022-03-27 10:22:11.455 I/Database: New database has been copied to device!\n</code></pre>\n<p>AppInspection confirms that the database has been successfully copied (<strong>albeit not your database</strong>):-</p>\n<p><a href=\"https://i.stack.imgur.com/75brI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/75brI.png\" alt=\"enter image description here\" /></a></p>\n<p>Likewise Device File Explorer shows :-\n<a href=\"https://i.stack.imgur.com/EdYlv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EdYlv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24651321,"reputation":1,"user_id":18548405,"display_name":"Mark Rainey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648337376,"creation_date":1647988942,"question_id":71579799,"body_markdown":"I&#39;m trying to load an existing SQLite database into Android Studio. However, the database adapter is returning an empty database instead of giving me a copy of my populated database.\r\n\r\nI&#39;ve got my permissions\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\nMy DBAdapter\r\n\r\n```\r\npackage com.example.testbed;\r\n\r\nimport android.app.SearchManager;\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.content.ContextWrapper;\r\nimport android.content.Intent;\r\nimport android.database.Cursor;\r\nimport android.database.SQLException;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteException;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.database.sqlite.SQLiteQueryBuilder;\r\nimport android.util.Log;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.ArrayList;\r\n\r\npublic class DBAdapter extends SQLiteOpenHelper{\r\n    public static final String TAG = DBAdapter.class.getSimpleName();\r\n    public static int flag;\r\n    private static SQLiteDatabase db;\r\n    private static String DB_NAME = &quot;recipes.db&quot;;\r\n    public static String TABLE_NAME = &quot;DrinkRecipes_Loaded&quot;;\r\n    public static String DB_PATH = &quot;&quot;;\r\n    public static String COL_WORD = &quot;WORD&quot;;\r\n    String outFileName = &quot;&quot;;\r\n    public static Context myContext;\r\n    private String loadedTable = &quot;DrinkRecipes_Loaded&quot;;\r\n    private String specialtyTable = &quot;DrinkRecipes_Specialty&quot;;\r\n    private String beautyTable = &quot;DrinkRecipes_Beauty&quot;;\r\n    private String kidsTable = &quot;DrinkRecipes_Kids&quot;;\r\n    private String shakesTable = &quot;DrinkRecipes_Shakes&quot;;\r\n\r\n\r\n\r\n    public DBAdapter(Context context) {\r\n        super(context, DB_NAME, null, 1);\r\n        this.myContext = context;\r\n        ContextWrapper cw = new ContextWrapper(context);\r\n        DB_PATH = &quot;/data/data&quot; + BuildConfig.APPLICATION_ID + &quot;/databases/&quot;;\r\n        Log.e(TAG, &quot;Databasehelper: DB_PATH &quot; + DB_PATH);\r\n        outFileName = DB_PATH + DB_NAME;\r\n        File file = new File(DB_PATH);\r\n        Log.e(TAG, &quot;Databasehelper: &quot; + file.exists());\r\n        if (!file.exists()) {\r\n            file.mkdir();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates a empty database on the system and rewrites it with your own database.\r\n     */\r\n    public void createDataBase() throws IOException {\r\n        boolean dbExist = checkDataBase();\r\n        if (dbExist) {\r\n            //do nothing - database already exist\r\n        } else {\r\n            //By calling this method and empty database will be created into the default system path\r\n            //of your application so we are gonna be able to overwrite that database with our database.\r\n            this.getReadableDatabase();\r\n            try {\r\n                copyDataBase();\r\n            } catch (IOException e) {\r\n                throw new Error(&quot;Error copying database&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\r\n     *\r\n     * @return true if it exists, false if it doesn&#39;t\r\n     */\r\n    private boolean checkDataBase() {\r\n        SQLiteDatabase checkDB = null;\r\n        try {\r\n            checkDB = SQLiteDatabase.openDatabase(outFileName, null, SQLiteDatabase.OPEN_READONLY);\r\n        } catch (SQLiteException e) {\r\n            try {\r\n                copyDataBase();\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }\r\n\r\n        if (checkDB != null) {\r\n            checkDB.close();\r\n        }\r\n        return checkDB != null ? true : false;\r\n    }\r\n\r\n    /**\r\n     * Copies your database from your local assets-folder to the just created empty database in the\r\n     * system folder, from where it can be accessed and handled.\r\n     * This is done by transfering bytestream.\r\n     */\r\n\r\n    private void copyDataBase() throws IOException {\r\n\r\n        Log.i(&quot;Database&quot;,\r\n                &quot;New database is being copied to device!&quot;);\r\n        byte[] buffer = new byte[1024];\r\n        OutputStream myOutput = null;\r\n        int length;\r\n        // Open your local db as the input stream\r\n        InputStream myInput = null;\r\n        try {\r\n            myInput = myContext.getAssets().open(DB_NAME);\r\n            // transfer bytes from the inputfile to the\r\n            // outputfile\r\n            myOutput = new FileOutputStream(DB_PATH + DB_NAME);\r\n            while ((length = myInput.read(buffer)) &gt; 0) {\r\n                myOutput.write(buffer, 0, length);\r\n            }\r\n            myOutput.close();\r\n            myOutput.flush();\r\n            myInput.close();\r\n            Log.i(&quot;Database&quot;,\r\n                    &quot;New database has been copied to device!&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void openDataBase() throws SQLException {\r\n        //Open the database\r\n        String myPath = DB_PATH + DB_NAME;\r\n        db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\r\n        Log.e(TAG, &quot;openDataBase: Open &quot; + db.isOpen());\r\n    }\r\n\r\n    // we have created a new method for reading loaded recipes.\r\n    public ArrayList&lt;recipeModal&gt; readLoadedRecipes() {\r\n        // on below line we are creating a\r\n        // database for reading our database.\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        // on below line we are creating a cursor with query to read data from database.\r\n        Cursor cursorRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\r\n\r\n        // on below line we are creating a new array list.\r\n        ArrayList&lt;recipeModal&gt; recipeModalArrayList = new ArrayList&lt;&gt;();\r\n\r\n        // moving our cursor to first position.\r\n        if (cursorRecipes.moveToFirst()) {\r\n            do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                recipeModalArrayList.add(new recipeModal(cursorRecipes.getString(0),\r\n                        cursorRecipes.getString(1),\r\n                        cursorRecipes.getString(2),\r\n                        cursorRecipes.getString(3),\r\n                        cursorRecipes.getString(4),\r\n                        cursorRecipes.getString(5),\r\n                        cursorRecipes.getString(6),\r\n                        cursorRecipes.getString(7),\r\n                        cursorRecipes.getString(8)));\r\n            } while (cursorRecipes.moveToNext());\r\n            // moving our cursor to next.\r\n        }\r\n        // at last closing our cursor\r\n        // and returning our array list.\r\n        cursorRecipes.close();\r\n        return recipeModalArrayList;\r\n    }\r\n\r\n    // we have created a new method for reading loaded recipes.\r\n    public ArrayList&lt;beautyModal&gt; readBeautyRecipes() {\r\n        // on below line we are creating a\r\n        // database for reading our database.\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        // on below line we are creating a cursor with query to read data from database.\r\n        Cursor beautyRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + beautyTable, null);\r\n\r\n        // on below line we are creating a new array list.\r\n        ArrayList&lt;beautyModal&gt; beautyModalArrayList = new ArrayList&lt;&gt;();\r\n\r\n        // moving our cursor to first position.\r\n        if (beautyRecipes.moveToFirst()) {\r\n            do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                beautyModalArrayList.add(new beautyModal(beautyRecipes.getString(0),\r\n                        beautyRecipes.getString(1),\r\n                        beautyRecipes.getString(2),\r\n                        beautyRecipes.getString(3),\r\n                        beautyRecipes.getString(4),\r\n                        beautyRecipes.getString(5)));\r\n            } while (beautyRecipes.moveToNext());\r\n            // moving our cursor to next.\r\n        }\r\n        // at last closing our cursor\r\n        // and returning our array list.\r\n        beautyRecipes.close();\r\n        return beautyModalArrayList;\r\n    }\r\n\r\n    // we have created a new method for reading loaded recipes.\r\n    public ArrayList&lt;specialtyModal&gt; readSpecialtyRecipes() {\r\n        // on below line we are creating a\r\n        // database for reading our database.\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        // on below line we are creating a cursor with query to read data from database.\r\n        Cursor specialtyRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + specialtyTable, null);\r\n\r\n        // on below line we are creating a new array list.\r\n        ArrayList&lt;specialtyModal&gt; specialtyModalArrayList = new ArrayList&lt;&gt;();\r\n\r\n        // moving our cursor to first position.\r\n        if (specialtyRecipes.moveToFirst()) {\r\n            do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                specialtyModalArrayList.add(new specialtyModal(specialtyRecipes.getString(0),\r\n                        specialtyRecipes.getString(1),\r\n                        specialtyRecipes.getString(2),\r\n                        specialtyRecipes.getString(3),\r\n                        specialtyRecipes.getString(4),\r\n                        specialtyRecipes.getString(5),\r\n                        specialtyRecipes.getString(6),\r\n                        specialtyRecipes.getString(7)));\r\n            } while (specialtyRecipes.moveToNext());\r\n            // moving our cursor to next.\r\n        }\r\n        // at last closing our cursor\r\n        // and returning our array list.\r\n        specialtyRecipes.close();\r\n        return specialtyModalArrayList;\r\n    }\r\n\r\n    // we have created a new method for reading loaded recipes.\r\n    public ArrayList&lt;kidsModal&gt; readKidsRecipes() {\r\n        // on below line we are creating a\r\n        // database for reading our database.\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        // on below line we are creating a cursor with query to read data from database.\r\n        Cursor kidsRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + kidsTable, null);\r\n\r\n        // on below line we are creating a new array list.\r\n        ArrayList&lt;kidsModal&gt; kidsModalArrayList = new ArrayList&lt;&gt;();\r\n\r\n        // moving our cursor to first position.\r\n        if (kidsRecipes.moveToFirst()) {\r\n            do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                kidsModalArrayList.add(new kidsModal(kidsRecipes.getString(0),\r\n                        kidsRecipes.getString(1),\r\n                        kidsRecipes.getString(2),\r\n                        kidsRecipes.getString(3),\r\n                        kidsRecipes.getString(4)));\r\n            } while (kidsRecipes.moveToNext());\r\n            // moving our cursor to next.\r\n        }\r\n        // at last closing our cursor\r\n        // and returning our array list.\r\n        kidsRecipes.close();\r\n        return kidsModalArrayList;\r\n    }\r\n\r\n    // we have created a new method for reading loaded recipes.\r\n    public ArrayList&lt;shakesModal&gt; readShakesRecipes() {\r\n        // on below line we are creating a\r\n        // database for reading our database.\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        // on below line we are creating a cursor with query to read data from database.\r\n        Cursor shakesRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + shakesTable, null);\r\n\r\n        // on below line we are creating a new array list.\r\n        ArrayList&lt;shakesModal&gt; shakesModalArrayList = new ArrayList&lt;&gt;();\r\n\r\n        // moving our cursor to first position.\r\n        if (shakesRecipes.moveToFirst()) {\r\n            do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                shakesModalArrayList.add(new shakesModal(shakesRecipes.getString(0),\r\n                        shakesRecipes.getString(1),\r\n                        shakesRecipes.getString(2),\r\n                        shakesRecipes.getString(3),\r\n                        shakesRecipes.getString(4)));\r\n            } while (shakesRecipes.moveToNext());\r\n            // moving our cursor to next.\r\n        }\r\n        // at last closing our cursor\r\n        // and returning our array list.\r\n        shakesRecipes.close();\r\n        return shakesModalArrayList;\r\n    }\r\n\r\n\r\n    @Override\r\n    public synchronized void close() {\r\n        if (db != null)\r\n            db.close();\r\n        super.close();\r\n    }\r\n\r\n    public void onCreate(SQLiteDatabase arg0) {\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase arg0, int arg1, int arg2) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd when I call it, the only thing that I get is a crashing application and an empty database written to the correct path. I&#39;m very desperate for some solutions to this problem and would appreciate any feedback.\r\n\r\nI&#39;ve tried a few different solutions that seemed promising on Google, but no luck.\r\n\r\nEDIT: Stack trace at error\r\n\r\n```\r\n\r\n    E/SQLiteLog: (1) no such table: DrinkRecipes_Loaded in &quot;SELECT * FROM DrinkRecipes_Loaded&quot;\r\n    D/AndroidRuntime: Shutting down VM\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.testbed, PID: 4732\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.testbed/com.example.testbed.ViewRecipes}: android.database.sqlite.SQLiteException: no such table: DrinkRecipes_Loaded (code 1 SQLITE_ERROR[1]): , while compiling: SELECT * FROM DrinkRecipes_Loaded\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3851)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4027)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:247)\r\n            at android.app.ActivityThread.main(ActivityThread.java:8676)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n         Caused by: android.database.sqlite.SQLiteException: no such table: DrinkRecipes_Loaded (code 1 SQLITE_ERROR[1]): , while compiling: SELECT * FROM DrinkRecipes_Loaded\r\n            at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n            at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1463)\r\n            at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:901)\r\n            at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\r\n            at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:62)\r\n            at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\r\n            at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\r\n            at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:2063)\r\n            at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:2002)\r\n            at com.example.testbed.DBAdapter.readLoadedRecipes(DBAdapter.java:128)\r\n            at com.example.testbed.ViewRecipes.onCreate(ViewRecipes.java:84)\r\n            at android.app.Activity.performCreate(Activity.java:8215)\r\n            at android.app.Activity.performCreate(Activity.java:8199)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3824)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4027)&#160;\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n            at android.os.Looper.loop(Looper.java:247)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:8676)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;\r\n\r\n```","title":"Why isn&#39;t my SQLite database loading from Assets in Android Studio?","body":"<p>I'm trying to load an existing SQLite database into Android Studio. However, the database adapter is returning an empty database instead of giving me a copy of my populated database.</p>\n<p>I've got my permissions</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>My DBAdapter</p>\n<pre><code>package com.example.testbed;\n\nimport android.app.SearchManager;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.content.ContextWrapper;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteException;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.database.sqlite.SQLiteQueryBuilder;\nimport android.util.Log;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\n\npublic class DBAdapter extends SQLiteOpenHelper{\n    public static final String TAG = DBAdapter.class.getSimpleName();\n    public static int flag;\n    private static SQLiteDatabase db;\n    private static String DB_NAME = &quot;recipes.db&quot;;\n    public static String TABLE_NAME = &quot;DrinkRecipes_Loaded&quot;;\n    public static String DB_PATH = &quot;&quot;;\n    public static String COL_WORD = &quot;WORD&quot;;\n    String outFileName = &quot;&quot;;\n    public static Context myContext;\n    private String loadedTable = &quot;DrinkRecipes_Loaded&quot;;\n    private String specialtyTable = &quot;DrinkRecipes_Specialty&quot;;\n    private String beautyTable = &quot;DrinkRecipes_Beauty&quot;;\n    private String kidsTable = &quot;DrinkRecipes_Kids&quot;;\n    private String shakesTable = &quot;DrinkRecipes_Shakes&quot;;\n\n\n\n    public DBAdapter(Context context) {\n        super(context, DB_NAME, null, 1);\n        this.myContext = context;\n        ContextWrapper cw = new ContextWrapper(context);\n        DB_PATH = &quot;/data/data&quot; + BuildConfig.APPLICATION_ID + &quot;/databases/&quot;;\n        Log.e(TAG, &quot;Databasehelper: DB_PATH &quot; + DB_PATH);\n        outFileName = DB_PATH + DB_NAME;\n        File file = new File(DB_PATH);\n        Log.e(TAG, &quot;Databasehelper: &quot; + file.exists());\n        if (!file.exists()) {\n            file.mkdir();\n        }\n    }\n\n    /**\n     * Creates a empty database on the system and rewrites it with your own database.\n     */\n    public void createDataBase() throws IOException {\n        boolean dbExist = checkDataBase();\n        if (dbExist) {\n            //do nothing - database already exist\n        } else {\n            //By calling this method and empty database will be created into the default system path\n            //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n            try {\n                copyDataBase();\n            } catch (IOException e) {\n                throw new Error(&quot;Error copying database&quot;);\n            }\n        }\n    }\n\n    /**\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\n     *\n     * @return true if it exists, false if it doesn't\n     */\n    private boolean checkDataBase() {\n        SQLiteDatabase checkDB = null;\n        try {\n            checkDB = SQLiteDatabase.openDatabase(outFileName, null, SQLiteDatabase.OPEN_READONLY);\n        } catch (SQLiteException e) {\n            try {\n                copyDataBase();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            }\n        }\n\n        if (checkDB != null) {\n            checkDB.close();\n        }\n        return checkDB != null ? true : false;\n    }\n\n    /**\n     * Copies your database from your local assets-folder to the just created empty database in the\n     * system folder, from where it can be accessed and handled.\n     * This is done by transfering bytestream.\n     */\n\n    private void copyDataBase() throws IOException {\n\n        Log.i(&quot;Database&quot;,\n                &quot;New database is being copied to device!&quot;);\n        byte[] buffer = new byte[1024];\n        OutputStream myOutput = null;\n        int length;\n        // Open your local db as the input stream\n        InputStream myInput = null;\n        try {\n            myInput = myContext.getAssets().open(DB_NAME);\n            // transfer bytes from the inputfile to the\n            // outputfile\n            myOutput = new FileOutputStream(DB_PATH + DB_NAME);\n            while ((length = myInput.read(buffer)) &gt; 0) {\n                myOutput.write(buffer, 0, length);\n            }\n            myOutput.close();\n            myOutput.flush();\n            myInput.close();\n            Log.i(&quot;Database&quot;,\n                    &quot;New database has been copied to device!&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void openDataBase() throws SQLException {\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n        Log.e(TAG, &quot;openDataBase: Open &quot; + db.isOpen());\n    }\n\n    // we have created a new method for reading loaded recipes.\n    public ArrayList&lt;recipeModal&gt; readLoadedRecipes() {\n        // on below line we are creating a\n        // database for reading our database.\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        // on below line we are creating a cursor with query to read data from database.\n        Cursor cursorRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\n\n        // on below line we are creating a new array list.\n        ArrayList&lt;recipeModal&gt; recipeModalArrayList = new ArrayList&lt;&gt;();\n\n        // moving our cursor to first position.\n        if (cursorRecipes.moveToFirst()) {\n            do {\n                // on below line we are adding the data from cursor to our array list.\n                recipeModalArrayList.add(new recipeModal(cursorRecipes.getString(0),\n                        cursorRecipes.getString(1),\n                        cursorRecipes.getString(2),\n                        cursorRecipes.getString(3),\n                        cursorRecipes.getString(4),\n                        cursorRecipes.getString(5),\n                        cursorRecipes.getString(6),\n                        cursorRecipes.getString(7),\n                        cursorRecipes.getString(8)));\n            } while (cursorRecipes.moveToNext());\n            // moving our cursor to next.\n        }\n        // at last closing our cursor\n        // and returning our array list.\n        cursorRecipes.close();\n        return recipeModalArrayList;\n    }\n\n    // we have created a new method for reading loaded recipes.\n    public ArrayList&lt;beautyModal&gt; readBeautyRecipes() {\n        // on below line we are creating a\n        // database for reading our database.\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        // on below line we are creating a cursor with query to read data from database.\n        Cursor beautyRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + beautyTable, null);\n\n        // on below line we are creating a new array list.\n        ArrayList&lt;beautyModal&gt; beautyModalArrayList = new ArrayList&lt;&gt;();\n\n        // moving our cursor to first position.\n        if (beautyRecipes.moveToFirst()) {\n            do {\n                // on below line we are adding the data from cursor to our array list.\n                beautyModalArrayList.add(new beautyModal(beautyRecipes.getString(0),\n                        beautyRecipes.getString(1),\n                        beautyRecipes.getString(2),\n                        beautyRecipes.getString(3),\n                        beautyRecipes.getString(4),\n                        beautyRecipes.getString(5)));\n            } while (beautyRecipes.moveToNext());\n            // moving our cursor to next.\n        }\n        // at last closing our cursor\n        // and returning our array list.\n        beautyRecipes.close();\n        return beautyModalArrayList;\n    }\n\n    // we have created a new method for reading loaded recipes.\n    public ArrayList&lt;specialtyModal&gt; readSpecialtyRecipes() {\n        // on below line we are creating a\n        // database for reading our database.\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        // on below line we are creating a cursor with query to read data from database.\n        Cursor specialtyRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + specialtyTable, null);\n\n        // on below line we are creating a new array list.\n        ArrayList&lt;specialtyModal&gt; specialtyModalArrayList = new ArrayList&lt;&gt;();\n\n        // moving our cursor to first position.\n        if (specialtyRecipes.moveToFirst()) {\n            do {\n                // on below line we are adding the data from cursor to our array list.\n                specialtyModalArrayList.add(new specialtyModal(specialtyRecipes.getString(0),\n                        specialtyRecipes.getString(1),\n                        specialtyRecipes.getString(2),\n                        specialtyRecipes.getString(3),\n                        specialtyRecipes.getString(4),\n                        specialtyRecipes.getString(5),\n                        specialtyRecipes.getString(6),\n                        specialtyRecipes.getString(7)));\n            } while (specialtyRecipes.moveToNext());\n            // moving our cursor to next.\n        }\n        // at last closing our cursor\n        // and returning our array list.\n        specialtyRecipes.close();\n        return specialtyModalArrayList;\n    }\n\n    // we have created a new method for reading loaded recipes.\n    public ArrayList&lt;kidsModal&gt; readKidsRecipes() {\n        // on below line we are creating a\n        // database for reading our database.\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        // on below line we are creating a cursor with query to read data from database.\n        Cursor kidsRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + kidsTable, null);\n\n        // on below line we are creating a new array list.\n        ArrayList&lt;kidsModal&gt; kidsModalArrayList = new ArrayList&lt;&gt;();\n\n        // moving our cursor to first position.\n        if (kidsRecipes.moveToFirst()) {\n            do {\n                // on below line we are adding the data from cursor to our array list.\n                kidsModalArrayList.add(new kidsModal(kidsRecipes.getString(0),\n                        kidsRecipes.getString(1),\n                        kidsRecipes.getString(2),\n                        kidsRecipes.getString(3),\n                        kidsRecipes.getString(4)));\n            } while (kidsRecipes.moveToNext());\n            // moving our cursor to next.\n        }\n        // at last closing our cursor\n        // and returning our array list.\n        kidsRecipes.close();\n        return kidsModalArrayList;\n    }\n\n    // we have created a new method for reading loaded recipes.\n    public ArrayList&lt;shakesModal&gt; readShakesRecipes() {\n        // on below line we are creating a\n        // database for reading our database.\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        // on below line we are creating a cursor with query to read data from database.\n        Cursor shakesRecipes = db.rawQuery(&quot;SELECT * FROM &quot; + shakesTable, null);\n\n        // on below line we are creating a new array list.\n        ArrayList&lt;shakesModal&gt; shakesModalArrayList = new ArrayList&lt;&gt;();\n\n        // moving our cursor to first position.\n        if (shakesRecipes.moveToFirst()) {\n            do {\n                // on below line we are adding the data from cursor to our array list.\n                shakesModalArrayList.add(new shakesModal(shakesRecipes.getString(0),\n                        shakesRecipes.getString(1),\n                        shakesRecipes.getString(2),\n                        shakesRecipes.getString(3),\n                        shakesRecipes.getString(4)));\n            } while (shakesRecipes.moveToNext());\n            // moving our cursor to next.\n        }\n        // at last closing our cursor\n        // and returning our array list.\n        shakesRecipes.close();\n        return shakesModalArrayList;\n    }\n\n\n    @Override\n    public synchronized void close() {\n        if (db != null)\n            db.close();\n        super.close();\n    }\n\n    public void onCreate(SQLiteDatabase arg0) {\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase arg0, int arg1, int arg2) {\n\n    }\n}\n</code></pre>\n<p>And when I call it, the only thing that I get is a crashing application and an empty database written to the correct path. I'm very desperate for some solutions to this problem and would appreciate any feedback.</p>\n<p>I've tried a few different solutions that seemed promising on Google, but no luck.</p>\n<p>EDIT: Stack trace at error</p>\n<pre><code>\n    E/SQLiteLog: (1) no such table: DrinkRecipes_Loaded in &quot;SELECT * FROM DrinkRecipes_Loaded&quot;\n    D/AndroidRuntime: Shutting down VM\n    E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.example.testbed, PID: 4732\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.testbed/com.example.testbed.ViewRecipes}: android.database.sqlite.SQLiteException: no such table: DrinkRecipes_Loaded (code 1 SQLITE_ERROR[1]): , while compiling: SELECT * FROM DrinkRecipes_Loaded\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3851)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4027)\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\n            at android.os.Handler.dispatchMessage(Handler.java:106)\n            at android.os.Looper.loop(Looper.java:247)\n            at android.app.ActivityThread.main(ActivityThread.java:8676)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n         Caused by: android.database.sqlite.SQLiteException: no such table: DrinkRecipes_Loaded (code 1 SQLITE_ERROR[1]): , while compiling: SELECT * FROM DrinkRecipes_Loaded\n            at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n            at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1463)\n            at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:901)\n            at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\n            at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:62)\n            at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\n            at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\n            at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:2063)\n            at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:2002)\n            at com.example.testbed.DBAdapter.readLoadedRecipes(DBAdapter.java:128)\n            at com.example.testbed.ViewRecipes.onCreate(ViewRecipes.java:84)\n            at android.app.Activity.performCreate(Activity.java:8215)\n            at android.app.Activity.performCreate(Activity.java:8199)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3824)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4027)\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\n            at android.os.Handler.dispatchMessage(Handler.java:106)\n            at android.os.Looper.loop(Looper.java:247)\n            at android.app.ActivityThread.main(ActivityThread.java:8676)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n\n</code></pre>\n"},{"tags":["java","kotlin","testing","garbage-collection"],"comments":[{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":2,"creation_date":1644993536,"post_id":71137040,"comment_id":125749350,"body_markdown":"Calling `System.gc()` does not force garbage collection. As documentation [says](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#gc()), it is only a suggestion. The JMV may decide otherwise and not run a Full Collection. Finalizers are being deprecated in future JVM releases. [JEP 421: Deprecate Finalization for Removal](https://openjdk.java.net/jeps/421). Recommendations (from the JEP summary) include the `try-with-resources` statement and `cleaners`.","body":"Calling <code>System.gc()</code> does not force garbage collection. As documentation <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#gc()\" rel=\"nofollow noreferrer\">says</a>, it is only a suggestion. The JMV may decide otherwise and not run a Full Collection. Finalizers are being deprecated in future JVM releases. <a href=\"https://openjdk.java.net/jeps/421\" rel=\"nofollow noreferrer\">JEP 421: Deprecate Finalization for Removal</a>. Recommendations (from the JEP summary) include the <code>try-with-resources</code> statement and <code>cleaners</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1644994481,"post_id":71137040,"comment_id":125749571,"body_markdown":"`finalize()` will be invoked by an arbitrary, intentionally unspecified thread. Are you sure that updating and reading `numTimesHasBeenDisposed` from different threads is safe? How does Kotlin implement this mutable closure?","body":"<code>finalize()</code> will be invoked by an arbitrary, intentionally unspecified thread. Are you sure that updating and reading <code>numTimesHasBeenDisposed</code> from different threads is safe? How does Kotlin implement this mutable closure?"},{"owner":{"account_id":407602,"reputation":4941,"user_id":777775,"accept_rate":77,"display_name":"Tom"},"score":0,"creation_date":1645006116,"post_id":71137040,"comment_id":125753498,"body_markdown":"Thanks for the comments. I understand that, at least in theory, calling `System.gc()` is no guarantee, and I understand that finalizers are called on a different thread and that trying to read a value that is updated on that other thread can in theory result in a race condition. And I&#39;d have suspected the issue was one of these things if any of my tests would fail non-deterministically. But note that the version which calls `f` _consistently_ passes, while the version which calls `println` directly consistently fails, so there seems to be a deterministic reason why that is.","body":"Thanks for the comments. I understand that, at least in theory, calling <code>System.gc()</code> is no guarantee, and I understand that finalizers are called on a different thread and that trying to read a value that is updated on that other thread can in theory result in a race condition. And I&#39;d have suspected the issue was one of these things if any of my tests would fail non-deterministically. But note that the version which calls <code>f</code> <i>consistently</i> passes, while the version which calls <code>println</code> directly consistently fails, so there seems to be a deterministic reason why that is."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1645086426,"post_id":71137040,"comment_id":125778431,"body_markdown":"Even race conditions can be reproducible and create the impression of determinism. But the details depend on how the compiled code looks like. I dont know if anyone at Stackoverflow has the necessary knowledge about the Kotlin compiler. Maybe it helps when you use `javap` or a similar tool to show the compiled code of both variants.","body":"Even race conditions can be reproducible and create the impression of determinism. But the details depend on how the compiled code looks like. I dont know if anyone at Stackoverflow has the necessary knowledge about the Kotlin compiler. Maybe it helps when you use <code>javap</code> or a similar tool to show the compiled code of both variants."},{"owner":{"account_id":407602,"reputation":4941,"user_id":777775,"accept_rate":77,"display_name":"Tom"},"score":0,"creation_date":1647357385,"post_id":71137040,"comment_id":126347951,"body_markdown":"As suggested, I used `javap` to get a better idea of what happens under the hood. I can&#39;t make much of it; can @Holger or anyone understand what happens and use it to answer the question?","body":"As suggested, I used <code>javap</code> to get a better idea of what happens under the hood. I can&#39;t make much of it; can @Holger or anyone understand what happens and use it to answer the question?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647361256,"creation_date":1647361256,"answer_id":71485593,"question_id":71137040,"body_markdown":"It seems, Kotlins `println()` function has a different behavior than Javas `System.out.println()` statement, regarding the order of evaluation.\r\n\r\nIn Java when you write\r\n\r\n```java\r\nSystem.out.println(new Object() { {\r\n    System.setOut(new PrintStream(OutputStream.nullOutputStream()));\r\n}});\r\n```\r\n\r\nThe message will still be printed because the method receiver, `System.out` is evaluated, i.e. the field is read, first, before the argument expression is evaluated, i.e. the inner class object is created and its constructor executed. So the code will change `System.out` first, before printing using the value, `System.out` had before the change.\r\n\r\nTherefore, the bytecode looks like\r\n\r\n```java-bytecode-asm\r\n  0: getstatic     #35                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n  3: new           #41                 // class my/test/EvaluationOrder$1\r\n  6: dup\r\n  7: invokespecial #43                 // Method my/test/EvaluationOrder$1.&quot;&lt;init&gt;&quot;:()V\r\n 10: invokevirtual #44                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n```\r\n\r\nThe first instruction pushes the value of `System.out` to the operand stack, then the more involved object instantiation sequence follows, `new` creates and pushes a new uninitialized object, `dup` duplicates the reference, the following `invokespecial` consumes one and executes the constructor.\r\n\r\nAfter that the stack contains the old value of `System.out`, followed by the reference to the initialized object, suitable to invoke the `println` method.\r\n\r\nThe bytecode generated by Kotlin is different:\r\n\r\n```java-bytecode-asm\r\n  8: new           #17                 // class t/FinalizationNotifier\r\n 11: dup\r\n 12: new           #65                 // class &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;\r\n 15: dup\r\n 16: aload_1\r\n 17: invokespecial #66                 // Method &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/internal/Ref$IntRef;)V\r\n 20: checkcast     #24                 // class kotlin/jvm/functions/Function0\r\n 23: invokespecial #27                 // Method t/FinalizationNotifier.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/functions/Function0;)V\r\n 26: astore_2\r\n 27: iconst_0\r\n 28: istore_3\r\n 29: getstatic     #70                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n 32: aload_2\r\n 33: invokevirtual #75                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n```\r\n\r\nYour use case is a bit more involved as the constructor invocation receives another freshly constructed object (instructions 12-20) but we can ignore this and focus on the other aspects.\r\n\r\nThe first cited instruction (number 8) is starting the creation of the object youre going to print while the reading of `System.out`, as part of the `print()` function, is done *afterwards*, in instruction 29.\r\n\r\nTo bring these references in the order required for `invokevirtual  println`, i.e. [`PrintStream`,&#160;argument object], the generated code introduces a synthetic variable to hold the reference to the constructed object temporarily. Instruction 26, `astore_2`, stores the reference to the constructed object into variable #2. Then, as said, instruction 29 pushes the current value of `System.out` to the stack&#185;, and instruction 32, `aload_2` loads the reference to the object from variable #2, which leads to the required stack contents to invoke `println` in instruction 33.\r\n\r\nWith one catch. Now, variable #2 contains a reference to the object and bytecode has no scopes nor variable deletion operations. The reference stays in the local variable until this variable is overwritten for a different purpose or the method returns. When we skim through the remaining code, we see that in this specific setup, variable #2 is not used again, therefore, when the code invokes `System.gc()`, the reference is still held in the synthetic variable and may prevent the garbage collection.\r\n\r\nAs explained in https://stackoverflow.com/q/24376768/2711488 being referenced by a local variable is not preventing the garbage collection per se. Formally, the object is still eligible to garbage collection when it is not used beyond that point. But whether it gets garbage collected in practice, depends on the optimization state of the method. So its not surprising when this code reproducibly prevents garbage collection in your scenario.\r\n\r\nIf Kotlin supports using `System.out.println()` with the same behavior as Java instead of its built-in `println()` function, it should change the behavior.\r\n\r\n&#185; for whatever reason, instructions 27 and 28 store the constant zero in variable #3 which is never used. This doesnt affect the behavior of the remaining code.","title":"Why does some garbage not get collected when forcing a GC sweep in Kotlin JVM, depending on seemingly irrelevant factors?","body":"<p>It seems, Kotlins <code>println()</code> function has a different behavior than Javas <code>System.out.println()</code> statement, regarding the order of evaluation.</p>\n<p>In Java when you write</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(new Object() { {\n    System.setOut(new PrintStream(OutputStream.nullOutputStream()));\n}});\n</code></pre>\n<p>The message will still be printed because the method receiver, <code>System.out</code> is evaluated, i.e. the field is read, first, before the argument expression is evaluated, i.e. the inner class object is created and its constructor executed. So the code will change <code>System.out</code> first, before printing using the value, <code>System.out</code> had before the change.</p>\n<p>Therefore, the bytecode looks like</p>\n<pre><code>  0: getstatic     #35                 // Field java/lang/System.out:Ljava/io/PrintStream;\n  3: new           #41                 // class my/test/EvaluationOrder$1\n  6: dup\n  7: invokespecial #43                 // Method my/test/EvaluationOrder$1.&quot;&lt;init&gt;&quot;:()V\n 10: invokevirtual #44                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n</code></pre>\n<p>The first instruction pushes the value of <code>System.out</code> to the operand stack, then the more involved object instantiation sequence follows, <code>new</code> creates and pushes a new uninitialized object, <code>dup</code> duplicates the reference, the following <code>invokespecial</code> consumes one and executes the constructor.</p>\n<p>After that the stack contains the old value of <code>System.out</code>, followed by the reference to the initialized object, suitable to invoke the <code>println</code> method.</p>\n<p>The bytecode generated by Kotlin is different:</p>\n<pre><code>  8: new           #17                 // class t/FinalizationNotifier\n 11: dup\n 12: new           #65                 // class &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;\n 15: dup\n 16: aload_1\n 17: invokespecial #66                 // Method &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/internal/Ref$IntRef;)V\n 20: checkcast     #24                 // class kotlin/jvm/functions/Function0\n 23: invokespecial #27                 // Method t/FinalizationNotifier.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/functions/Function0;)V\n 26: astore_2\n 27: iconst_0\n 28: istore_3\n 29: getstatic     #70                 // Field java/lang/System.out:Ljava/io/PrintStream;\n 32: aload_2\n 33: invokevirtual #75                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n</code></pre>\n<p>Your use case is a bit more involved as the constructor invocation receives another freshly constructed object (instructions 12-20) but we can ignore this and focus on the other aspects.</p>\n<p>The first cited instruction (number 8) is starting the creation of the object youre going to print while the reading of <code>System.out</code>, as part of the <code>print()</code> function, is done <em>afterwards</em>, in instruction 29.</p>\n<p>To bring these references in the order required for <code>invokevirtual  println</code>, i.e. [<code>PrintStream</code>,argument object], the generated code introduces a synthetic variable to hold the reference to the constructed object temporarily. Instruction 26, <code>astore_2</code>, stores the reference to the constructed object into variable #2. Then, as said, instruction 29 pushes the current value of <code>System.out</code> to the stack, and instruction 32, <code>aload_2</code> loads the reference to the object from variable #2, which leads to the required stack contents to invoke <code>println</code> in instruction 33.</p>\n<p>With one catch. Now, variable #2 contains a reference to the object and bytecode has no scopes nor variable deletion operations. The reference stays in the local variable until this variable is overwritten for a different purpose or the method returns. When we skim through the remaining code, we see that in this specific setup, variable #2 is not used again, therefore, when the code invokes <code>System.gc()</code>, the reference is still held in the synthetic variable and may prevent the garbage collection.</p>\n<p>As explained in <a href=\"https://stackoverflow.com/q/24376768/2711488\">Can java finalize an object when it is still in scope?</a> being referenced by a local variable is not preventing the garbage collection per se. Formally, the object is still eligible to garbage collection when it is not used beyond that point. But whether it gets garbage collected in practice, depends on the optimization state of the method. So its not surprising when this code reproducibly prevents garbage collection in your scenario.</p>\n<p>If Kotlin supports using <code>System.out.println()</code> with the same behavior as Java instead of its built-in <code>println()</code> function, it should change the behavior.</p>\n<p> for whatever reason, instructions 27 and 28 store the constant zero in variable #3 which is never used. This doesnt affect the behavior of the remaining code.</p>\n"},{"tags":[],"owner":{"account_id":407602,"reputation":4941,"user_id":777775,"accept_rate":77,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648335714,"creation_date":1647687849,"answer_id":71537602,"question_id":71137040,"body_markdown":"(Meta: answering my own question, not to diminish the accepted answer, but to add some information which might be useful to folks who happen to stumble upon similar issues and end up reading this.)\r\n\r\n**Cause**\r\n\r\nIt seems the Kotlin compiler sometimes introduces local variables under the hood to store various values a function uses, for reasons which might not be apparent to the developer (in fact, I&#39;ve got no idea why it does that; if somebody knows it will be cool if they add an answer or a comment). And once an object is referenced from a local variable, while in theory it can still be garbage-collected after the last use of that variable, it seems in practice it doesn&#39;t (at least in some set-ups, maybe not all  see [this question](https://stackoverflow.com/questions/24376768/can-java-finalize-an-object-when-it-is-still-in-scope) for example).\r\n\r\n**Diagnosis**\r\n\r\nOne way to diagnose such a situation is to look at the generated Java bytecode, e.g. by using `javap -c`, or one&#39;s IDE&#39;s _show bytecode_ option if there is one (on Intellij IDEA it&#39;s under `Tools` -&gt; `Kotlin` -&gt; `Show Kotlin Bytecode`). **Note:** Make sure to view the actual bytecode or at least bytecode which is congruent with the project&#39;s settings. For example, by default Intellij currently displays Kotlin bytecode generated through the legacy Kotlin compiler rather than the newer compiler which uses Kotlin IR, and in some cases that&#39;s different to the actual code being run, which is compiled via Kotlin IR (see [issue](https://youtrack.jetbrains.com/issue/KTIJ-15764)).\r\n\r\nThe bytecode will show `store` instructions for local variables, including such variables which are not explicitly defined in the code but rather added by the compiler.\r\n\r\nFor example, in the following excerpt from the bytecode posted in the question:\r\n\r\n```\r\n  public final void disposes of no-longer-used object when calling println directly();\r\n    Code:\r\n       0: new           #14                 // class kotlin/jvm/internal/Ref$IntRef\r\n       3: dup\r\n       4: invokespecial #15                 // Method kotlin/jvm/internal/Ref$IntRef.&quot;&lt;init&gt;&quot;:()V\r\n       7: astore_1\r\n       8: new           #17                 // class t/FinalizationNotifier\r\n      11: dup\r\n      12: new           #65                 // class &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;\r\n      15: dup\r\n      16: aload_1\r\n      17: invokespecial #66                 // Method &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/internal/Ref$IntRef;)V\r\n      20: checkcast     #24                 // class kotlin/jvm/functions/Function0\r\n      23: invokespecial #27                 // Method t/FinalizationNotifier.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/functions/Function0;)V\r\n      26: astore_2\r\n```\r\none can see the `FinalizationNotifier` instance being initialised starting at `8:` and finishing just before `26:`, and then `26: astore_2` keeps it in a local variable (no. 2; local variable no. 0 is the `this` instance, and no. 1 here is the `var numTimesHasBeenDisposed = 0`, initialised starting at `0:` and stored in `7:`).\r\n\r\n**When does it happen?**\r\n\r\nAs said above, I don&#39;t really know why the Kotlin compiler does it. And I&#39;m also far from knowing all the cases when it happens. But I did notice two distinct cases (the one from the minimal example in the question and the one from my actual use case):\r\n\r\n**When passing an expression to `println`:** This is what happened in the example in the question. When invoking `System.out.println` directly, the generated bytecode first gets `System.out` to the stack, then computes the expression passed to it leaving it next on the stack, and then invokes the `println` method. But when calling Kotlin&#39;s `println`, it is the expression that is passed to it which gets computed first, and only afterwards  as if a part of the `println` call itself  the bytecode gets `System.out`. Without resorting to storing the value of the expression in a local variable, the two elements end up on the stack in the reversed order than the one needed for the actual invocation. One way for Kotlin to address this could have been to preserve the original order (this could theoretically have some implications on the semantics, though I can hardly see how this would make any difference in practice). Another would be to `swap` the values on the stack. But for some reason Kotlin uses a local variable.\r\n\r\n**When constructing an array:** This is what happened in my actual use case. I was passing an ad-hoc built array to a function (through `vararg`, actually, but after trying out several cases it doesn&#39;t seem to make a difference). When compiling not through Kotlin IR the array was constructed on the stack, but when compiling the Kotlin IR the generated bytecode used a local variable to store the array.\r\n\r\nIf someone reading it has a similar problem in a similar case that might be the reason. And there may be other cases. Anyone aware of any is welcome to answer/comment/edit. Of course, you can diagnose the problem by looking at the bytecode as explained above, regardless of whether your case is listed here or not.\r\n\r\n**Remedy**\r\n\r\nI&#39;ve managed to come up with three different approaches to tackle the situation:\r\n\r\n* In the specific case of using `println`, one could simply call `System.out.println` directly.\r\n\r\n* More generally, one can wrap the code which creates the additional variable(s) in another function (which can, but doesn&#39;t have to, be a nested function). This way the local variables created are no longer reachable when execution of the wrapping function ends, and they do get garbage-collected. (This is what the one test from the original question which does pass does.)\r\n\r\n* Another option is to explicitly assign the value to a variable instead of letting Kotlin do that implicitly under the hood, and then assign something else to that variable (which must be a `var`, not a `val`) or mutate the value if it only serves as a container referencing the actual object we want garbage-collected (e.g. if it&#39;s an array one can clear it) later. (One can also make the variable nullable and assign `null` to it afterwards, but, depending on the specifics of the use case, that might sometimes require the use of some mechanism  e.g. the `!!` operator  to convert the value to the non-nullable type, which in turn is yet a new expression which might end up assigned to an implicit local variable, defeating the purpose of the whole transformation.)","title":"Why does some garbage not get collected when forcing a GC sweep in Kotlin JVM, depending on seemingly irrelevant factors?","body":"<p>(Meta: answering my own question, not to diminish the accepted answer, but to add some information which might be useful to folks who happen to stumble upon similar issues and end up reading this.)</p>\n<p><strong>Cause</strong></p>\n<p>It seems the Kotlin compiler sometimes introduces local variables under the hood to store various values a function uses, for reasons which might not be apparent to the developer (in fact, I've got no idea why it does that; if somebody knows it will be cool if they add an answer or a comment). And once an object is referenced from a local variable, while in theory it can still be garbage-collected after the last use of that variable, it seems in practice it doesn't (at least in some set-ups, maybe not all  see <a href=\"https://stackoverflow.com/questions/24376768/can-java-finalize-an-object-when-it-is-still-in-scope\">this question</a> for example).</p>\n<p><strong>Diagnosis</strong></p>\n<p>One way to diagnose such a situation is to look at the generated Java bytecode, e.g. by using <code>javap -c</code>, or one's IDE's <em>show bytecode</em> option if there is one (on Intellij IDEA it's under <code>Tools</code> -&gt; <code>Kotlin</code> -&gt; <code>Show Kotlin Bytecode</code>). <strong>Note:</strong> Make sure to view the actual bytecode or at least bytecode which is congruent with the project's settings. For example, by default Intellij currently displays Kotlin bytecode generated through the legacy Kotlin compiler rather than the newer compiler which uses Kotlin IR, and in some cases that's different to the actual code being run, which is compiled via Kotlin IR (see <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-15764\" rel=\"nofollow noreferrer\">issue</a>).</p>\n<p>The bytecode will show <code>store</code> instructions for local variables, including such variables which are not explicitly defined in the code but rather added by the compiler.</p>\n<p>For example, in the following excerpt from the bytecode posted in the question:</p>\n<pre><code>  public final void disposes of no-longer-used object when calling println directly();\n    Code:\n       0: new           #14                 // class kotlin/jvm/internal/Ref$IntRef\n       3: dup\n       4: invokespecial #15                 // Method kotlin/jvm/internal/Ref$IntRef.&quot;&lt;init&gt;&quot;:()V\n       7: astore_1\n       8: new           #17                 // class t/FinalizationNotifier\n      11: dup\n      12: new           #65                 // class &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;\n      15: dup\n      16: aload_1\n      17: invokespecial #66                 // Method &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/internal/Ref$IntRef;)V\n      20: checkcast     #24                 // class kotlin/jvm/functions/Function0\n      23: invokespecial #27                 // Method t/FinalizationNotifier.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/functions/Function0;)V\n      26: astore_2\n</code></pre>\n<p>one can see the <code>FinalizationNotifier</code> instance being initialised starting at <code>8:</code> and finishing just before <code>26:</code>, and then <code>26: astore_2</code> keeps it in a local variable (no. 2; local variable no. 0 is the <code>this</code> instance, and no. 1 here is the <code>var numTimesHasBeenDisposed = 0</code>, initialised starting at <code>0:</code> and stored in <code>7:</code>).</p>\n<p><strong>When does it happen?</strong></p>\n<p>As said above, I don't really know why the Kotlin compiler does it. And I'm also far from knowing all the cases when it happens. But I did notice two distinct cases (the one from the minimal example in the question and the one from my actual use case):</p>\n<p><strong>When passing an expression to <code>println</code>:</strong> This is what happened in the example in the question. When invoking <code>System.out.println</code> directly, the generated bytecode first gets <code>System.out</code> to the stack, then computes the expression passed to it leaving it next on the stack, and then invokes the <code>println</code> method. But when calling Kotlin's <code>println</code>, it is the expression that is passed to it which gets computed first, and only afterwards  as if a part of the <code>println</code> call itself  the bytecode gets <code>System.out</code>. Without resorting to storing the value of the expression in a local variable, the two elements end up on the stack in the reversed order than the one needed for the actual invocation. One way for Kotlin to address this could have been to preserve the original order (this could theoretically have some implications on the semantics, though I can hardly see how this would make any difference in practice). Another would be to <code>swap</code> the values on the stack. But for some reason Kotlin uses a local variable.</p>\n<p><strong>When constructing an array:</strong> This is what happened in my actual use case. I was passing an ad-hoc built array to a function (through <code>vararg</code>, actually, but after trying out several cases it doesn't seem to make a difference). When compiling not through Kotlin IR the array was constructed on the stack, but when compiling the Kotlin IR the generated bytecode used a local variable to store the array.</p>\n<p>If someone reading it has a similar problem in a similar case that might be the reason. And there may be other cases. Anyone aware of any is welcome to answer/comment/edit. Of course, you can diagnose the problem by looking at the bytecode as explained above, regardless of whether your case is listed here or not.</p>\n<p><strong>Remedy</strong></p>\n<p>I've managed to come up with three different approaches to tackle the situation:</p>\n<ul>\n<li><p>In the specific case of using <code>println</code>, one could simply call <code>System.out.println</code> directly.</p>\n</li>\n<li><p>More generally, one can wrap the code which creates the additional variable(s) in another function (which can, but doesn't have to, be a nested function). This way the local variables created are no longer reachable when execution of the wrapping function ends, and they do get garbage-collected. (This is what the one test from the original question which does pass does.)</p>\n</li>\n<li><p>Another option is to explicitly assign the value to a variable instead of letting Kotlin do that implicitly under the hood, and then assign something else to that variable (which must be a <code>var</code>, not a <code>val</code>) or mutate the value if it only serves as a container referencing the actual object we want garbage-collected (e.g. if it's an array one can clear it) later. (One can also make the variable nullable and assign <code>null</code> to it afterwards, but, depending on the specifics of the use case, that might sometimes require the use of some mechanism  e.g. the <code>!!</code> operator  to convert the value to the non-nullable type, which in turn is yet a new expression which might end up assigned to an implicit local variable, defeating the purpose of the whole transformation.)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":407602,"reputation":4941,"user_id":777775,"accept_rate":77,"display_name":"Tom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71485593,"answer_count":2,"score":1,"last_activity_date":1648335714,"creation_date":1644991276,"question_id":71137040,"body_markdown":"**Context**\r\n\r\nI&#39;m working on a Kotlin program which runs on the JVM and consumes large amounts of memory. While I do trust the garbage collector to (eventually) free memory used by objects which are no longer reachable, I don&#39;t trust future maintainers of the project (including my future self)  especially as the project progresses and becomes more evolved - to write the code in a way that makes sure that objects which are no longer needed are indeed unreachable.\r\n\r\nSo in order to reduce the risk, as part of my testing suite (which is already exhaustive with regards to the logic of the program&#39;s functionality) I&#39;m also writing (or trying to write, with different degrees of success) various tests which aim to ensure that references aren&#39;t kept to objects which have run their course.\r\n\r\nAs this is quite difficult to do directly, the technique I&#39;m using in the tests is to employ objects with finalizers, simulate the conditions when they&#39;re no longer needed, force garbage collection, and assert the finalizers have indeed run. (Note: my question is not about this technique per se, but if someone has comments or ideas for improvement or can propose alternatives  I&#39;ll be interested to hear!).\r\n\r\nThis generally works well, and can be shown to do the job, e.g. in TDD style: I write naive code which does the job as far as the business logic is concerned but doesn&#39;t take care of losing references to old objects, I write a test as described above, I make sure that the test fails, I add code to take care of memory (e.g., in simple cases, set references to `null`), and then see that the test passes.\r\n\r\n**My question**\r\n\r\nFor some reason, my tests don&#39;t always work (clarification: I don&#39;t mean that they fail non-deterministically; I mean that some of the tests consistently work and some consistently fail). The real examples from the project contain lots of intricate, proprietary details, but I&#39;ve managed to boil it down to the following minimal example:\r\n\r\n```kotlin\r\nimport kotlin.test.*\r\n\r\nclass FinalizationNotifier(val notify: () -&gt; Unit) { protected fun finalize() = notify() }\r\n\r\nclass GcTest {\r\n    @Test fun `disposes of no-longer-used object`() {\r\n        var numTimesHasBeenDisposed = 0\r\n        // The following line allocates a (FinalizationNotifier) object, but keeps no reference to it\r\n        f(FinalizationNotifier { numTimesHasBeenDisposed++ }) // Note call to f, which in turn calls println\r\n        assertEquals(0, numTimesHasBeenDisposed) // Finalizer has not been run yet\r\n        System.gc() // Force garbage collection\r\n        Thread.sleep(1) // seems to be necessary to make sure finalizers have been run\r\n        assertEquals(1, numTimesHasBeenDisposed) // Finalizer has indeed been run\r\n    }\r\n}\r\n\r\nfun&lt;T&gt; f(value: T) { println(value) }\r\n```\r\n\r\nThe test as written above passes, but if instead of calling `f` I call `println` directly  it fails (at the last assertion, i.e. the finalizer has not been run yet)! And my question is why that is, and/or what one should do in order to make sure (garbage gets collected and) finalizers are indeed run.\r\n\r\n(Note: this is not about using `println` or calling my own functions; my real code is much more complex, and does call my own functions, and has nothing to do with printing. This is just a minimal example I&#39;ve managed to come up with which shows the inconsistency.)\r\n\r\nIn case it matters, I&#39;m using Kotlin 1.5.10 on Java 11.0.6 (on macOS).\r\n\r\n**Update:**\r\n\r\nI&#39;ve written the two tests side-by-side (in file `T.kt` in package `t`); below please find the source code, as well as the disassembly (obtained using `javap -c`).\r\n\r\n```kotlin\r\npackage t\r\n\r\nimport kotlin.test.*\r\n\r\nclass FinalizationNotifier(val notify: () -&gt; Unit) { protected fun finalize() = notify() }\r\n\r\nclass GcTest {\r\n    @Test fun `disposes of no-longer-used object when calling own function`() {\r\n        var numTimesHasBeenDisposed = 0\r\n        f(FinalizationNotifier { numTimesHasBeenDisposed++ }) // Note call to f, which in turn calls println\r\n        assertEquals(0, numTimesHasBeenDisposed) // Finalizer has not been run yet\r\n        System.gc() // Force garbage collection\r\n        Thread.sleep(1) // seems to be necessary to make sure finalizers have been run\r\n        assertEquals(1, numTimesHasBeenDisposed) // Finalizer has indeed been run\r\n    }\r\n\r\n    @Test fun `disposes of no-longer-used object when calling println directly`() {\r\n        var numTimesHasBeenDisposed = 0\r\n        println(FinalizationNotifier { numTimesHasBeenDisposed++ }) // Note direct call to println\r\n        assertEquals(0, numTimesHasBeenDisposed) // Finalizer has not been run yet\r\n        System.gc() // Force garbage collection\r\n        Thread.sleep(1) // seems to be necessary to make sure finalizers have been run\r\n        assertEquals(1, numTimesHasBeenDisposed) // This fails for some reason\r\n    }\r\n}\r\n\r\nfun&lt;T&gt; f(value: T) { println(value) }\r\n```\r\n\r\n```\r\npublic final class t.FinalizationNotifier {\r\n  public t.FinalizationNotifier(kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt;);\r\n    Code:\r\n       0: aload_1\r\n       1: ldc           #10                 // String notify\r\n       3: invokestatic  #16                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V\r\n       6: aload_0\r\n       7: invokespecial #19                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n      10: aload_0\r\n      11: aload_1\r\n      12: putfield      #22                 // Field notify:Lkotlin/jvm/functions/Function0;\r\n      15: return\r\n\r\n  public final kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; getNotify();\r\n    Code:\r\n       0: aload_0\r\n       1: getfield      #22                 // Field notify:Lkotlin/jvm/functions/Function0;\r\n       4: areturn\r\n\r\n  protected final void finalize();\r\n    Code:\r\n       0: aload_0\r\n       1: getfield      #22                 // Field notify:Lkotlin/jvm/functions/Function0;\r\n       4: invokeinterface #34,  1           // InterfaceMethod kotlin/jvm/functions/Function0.invoke:()Ljava/lang/Object;\r\n       9: pop\r\n      10: return\r\n}\r\nCompiled from &quot;T.kt&quot;\r\nfinal class t.GcTest$disposes of no-longer-used object when calling own function$1 extends kotlin.jvm.internal.Lambda implements kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; {\r\n  final kotlin.jvm.internal.Ref$IntRef $numTimesHasBeenDisposed;\r\n\r\n  t.GcTest$disposes of no-longer-used object when calling own function$1(kotlin.jvm.internal.Ref$IntRef);\r\n    Code:\r\n       0: aload_0\r\n       1: aload_1\r\n       2: putfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\r\n       5: aload_0\r\n       6: iconst_0\r\n       7: invokespecial #16                 // Method kotlin/jvm/internal/Lambda.&quot;&lt;init&gt;&quot;:(I)V\r\n      10: return\r\n\r\n  public final void invoke();\r\n    Code:\r\n       0: aload_0\r\n       1: getfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\r\n       4: getfield      #26                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\r\n       7: istore_1\r\n       8: aload_0\r\n       9: getfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\r\n      12: iload_1\r\n      13: iconst_1\r\n      14: iadd\r\n      15: putfield      #26                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\r\n      18: return\r\n\r\n  public java.lang.Object invoke();\r\n    Code:\r\n       0: aload_0\r\n       1: invokevirtual #29                 // Method invoke:()V\r\n       4: getstatic     #35                 // Field kotlin/Unit.INSTANCE:Lkotlin/Unit;\r\n       7: areturn\r\n}\r\nCompiled from &quot;T.kt&quot;\r\nfinal class t.GcTest$disposes of no-longer-used object when calling println directly$1 extends kotlin.jvm.internal.Lambda implements kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; {\r\n  final kotlin.jvm.internal.Ref$IntRef $numTimesHasBeenDisposed;\r\n\r\n  t.GcTest$disposes of no-longer-used object when calling println directly$1(kotlin.jvm.internal.Ref$IntRef);\r\n    Code:\r\n       0: aload_0\r\n       1: aload_1\r\n       2: putfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\r\n       5: aload_0\r\n       6: iconst_0\r\n       7: invokespecial #16                 // Method kotlin/jvm/internal/Lambda.&quot;&lt;init&gt;&quot;:(I)V\r\n      10: return\r\n\r\n  public final void invoke();\r\n    Code:\r\n       0: aload_0\r\n       1: getfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\r\n       4: getfield      #26                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\r\n       7: istore_1\r\n       8: aload_0\r\n       9: getfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\r\n      12: iload_1\r\n      13: iconst_1\r\n      14: iadd\r\n      15: putfield      #26                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\r\n      18: return\r\n\r\n  public java.lang.Object invoke();\r\n    Code:\r\n       0: aload_0\r\n       1: invokevirtual #29                 // Method invoke:()V\r\n       4: getstatic     #35                 // Field kotlin/Unit.INSTANCE:Lkotlin/Unit;\r\n       7: areturn\r\n}\r\nCompiled from &quot;T.kt&quot;\r\npublic final class t.GcTest {\r\n  public t.GcTest();\r\n    Code:\r\n       0: aload_0\r\n       1: invokespecial #8                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4: return\r\n\r\n  public final void disposes of no-longer-used object when calling own function();\r\n    Code:\r\n       0: new           #14                 // class kotlin/jvm/internal/Ref$IntRef\r\n       3: dup\r\n       4: invokespecial #15                 // Method kotlin/jvm/internal/Ref$IntRef.&quot;&lt;init&gt;&quot;:()V\r\n       7: astore_1\r\n       8: new           #17                 // class t/FinalizationNotifier\r\n      11: dup\r\n      12: new           #19                 // class &quot;t/GcTest$disposes of no-longer-used object when calling own function$1&quot;\r\n      15: dup\r\n      16: aload_1\r\n      17: invokespecial #22                 // Method &quot;t/GcTest$disposes of no-longer-used object when calling own function$1&quot;.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/internal/Ref$IntRef;)V\r\n      20: checkcast     #24                 // class kotlin/jvm/functions/Function0\r\n      23: invokespecial #27                 // Method t/FinalizationNotifier.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/functions/Function0;)V\r\n      26: invokestatic  #33                 // Method t/TKt.f:(Ljava/lang/Object;)V\r\n      29: iconst_0\r\n      30: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n      33: aload_1\r\n      34: getfield      #43                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\r\n      37: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n      40: aconst_null\r\n      41: iconst_4\r\n      42: aconst_null\r\n      43: invokestatic  #49                 // Method kotlin/test/AssertionsKt.assertEquals$default:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ILjava/lang/Object;)V\r\n      46: invokestatic  #54                 // Method java/lang/System.gc:()V\r\n      49: lconst_1\r\n      50: invokestatic  #60                 // Method java/lang/Thread.sleep:(J)V\r\n      53: iconst_1\r\n      54: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n      57: aload_1\r\n      58: getfield      #43                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\r\n      61: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n      64: aconst_null\r\n      65: iconst_4\r\n      66: aconst_null\r\n      67: invokestatic  #49                 // Method kotlin/test/AssertionsKt.assertEquals$default:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ILjava/lang/Object;)V\r\n      70: return\r\n\r\n  public final void disposes of no-longer-used object when calling println directly();\r\n    Code:\r\n       0: new           #14                 // class kotlin/jvm/internal/Ref$IntRef\r\n       3: dup\r\n       4: invokespecial #15                 // Method kotlin/jvm/internal/Ref$IntRef.&quot;&lt;init&gt;&quot;:()V\r\n       7: astore_1\r\n       8: new           #17                 // class t/FinalizationNotifier\r\n      11: dup\r\n      12: new           #65                 // class &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;\r\n      15: dup\r\n      16: aload_1\r\n      17: invokespecial #66                 // Method &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/internal/Ref$IntRef;)V\r\n      20: checkcast     #24                 // class kotlin/jvm/functions/Function0\r\n      23: invokespecial #27                 // Method t/FinalizationNotifier.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/functions/Function0;)V\r\n      26: astore_2\r\n      27: iconst_0\r\n      28: istore_3\r\n      29: getstatic     #70                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n      32: aload_2\r\n      33: invokevirtual #75                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n      36: iconst_0\r\n      37: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n      40: aload_1\r\n      41: getfield      #43                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\r\n      44: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n      47: aconst_null\r\n      48: iconst_4\r\n      49: aconst_null\r\n      50: invokestatic  #49                 // Method kotlin/test/AssertionsKt.assertEquals$default:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ILjava/lang/Object;)V\r\n      53: invokestatic  #54                 // Method java/lang/System.gc:()V\r\n      56: lconst_1\r\n      57: invokestatic  #60                 // Method java/lang/Thread.sleep:(J)V\r\n      60: iconst_1\r\n      61: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n      64: aload_1\r\n      65: getfield      #43                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\r\n      68: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n      71: aconst_null\r\n      72: iconst_4\r\n      73: aconst_null\r\n      74: invokestatic  #49                 // Method kotlin/test/AssertionsKt.assertEquals$default:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ILjava/lang/Object;)V\r\n      77: return\r\n}\r\nCompiled from &quot;T.kt&quot;\r\npublic final class t.TKt {\r\n  public static final &lt;T&gt; void f(T);\r\n    Code:\r\n       0: iconst_0\r\n       1: istore_1\r\n       2: getstatic     #13                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n       5: aload_0\r\n       6: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n       9: return\r\n}\r\n```","title":"Why does some garbage not get collected when forcing a GC sweep in Kotlin JVM, depending on seemingly irrelevant factors?","body":"<p><strong>Context</strong></p>\n<p>I'm working on a Kotlin program which runs on the JVM and consumes large amounts of memory. While I do trust the garbage collector to (eventually) free memory used by objects which are no longer reachable, I don't trust future maintainers of the project (including my future self)  especially as the project progresses and becomes more evolved - to write the code in a way that makes sure that objects which are no longer needed are indeed unreachable.</p>\n<p>So in order to reduce the risk, as part of my testing suite (which is already exhaustive with regards to the logic of the program's functionality) I'm also writing (or trying to write, with different degrees of success) various tests which aim to ensure that references aren't kept to objects which have run their course.</p>\n<p>As this is quite difficult to do directly, the technique I'm using in the tests is to employ objects with finalizers, simulate the conditions when they're no longer needed, force garbage collection, and assert the finalizers have indeed run. (Note: my question is not about this technique per se, but if someone has comments or ideas for improvement or can propose alternatives  I'll be interested to hear!).</p>\n<p>This generally works well, and can be shown to do the job, e.g. in TDD style: I write naive code which does the job as far as the business logic is concerned but doesn't take care of losing references to old objects, I write a test as described above, I make sure that the test fails, I add code to take care of memory (e.g., in simple cases, set references to <code>null</code>), and then see that the test passes.</p>\n<p><strong>My question</strong></p>\n<p>For some reason, my tests don't always work (clarification: I don't mean that they fail non-deterministically; I mean that some of the tests consistently work and some consistently fail). The real examples from the project contain lots of intricate, proprietary details, but I've managed to boil it down to the following minimal example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import kotlin.test.*\n\nclass FinalizationNotifier(val notify: () -&gt; Unit) { protected fun finalize() = notify() }\n\nclass GcTest {\n    @Test fun `disposes of no-longer-used object`() {\n        var numTimesHasBeenDisposed = 0\n        // The following line allocates a (FinalizationNotifier) object, but keeps no reference to it\n        f(FinalizationNotifier { numTimesHasBeenDisposed++ }) // Note call to f, which in turn calls println\n        assertEquals(0, numTimesHasBeenDisposed) // Finalizer has not been run yet\n        System.gc() // Force garbage collection\n        Thread.sleep(1) // seems to be necessary to make sure finalizers have been run\n        assertEquals(1, numTimesHasBeenDisposed) // Finalizer has indeed been run\n    }\n}\n\nfun&lt;T&gt; f(value: T) { println(value) }\n</code></pre>\n<p>The test as written above passes, but if instead of calling <code>f</code> I call <code>println</code> directly  it fails (at the last assertion, i.e. the finalizer has not been run yet)! And my question is why that is, and/or what one should do in order to make sure (garbage gets collected and) finalizers are indeed run.</p>\n<p>(Note: this is not about using <code>println</code> or calling my own functions; my real code is much more complex, and does call my own functions, and has nothing to do with printing. This is just a minimal example I've managed to come up with which shows the inconsistency.)</p>\n<p>In case it matters, I'm using Kotlin 1.5.10 on Java 11.0.6 (on macOS).</p>\n<p><strong>Update:</strong></p>\n<p>I've written the two tests side-by-side (in file <code>T.kt</code> in package <code>t</code>); below please find the source code, as well as the disassembly (obtained using <code>javap -c</code>).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package t\n\nimport kotlin.test.*\n\nclass FinalizationNotifier(val notify: () -&gt; Unit) { protected fun finalize() = notify() }\n\nclass GcTest {\n    @Test fun `disposes of no-longer-used object when calling own function`() {\n        var numTimesHasBeenDisposed = 0\n        f(FinalizationNotifier { numTimesHasBeenDisposed++ }) // Note call to f, which in turn calls println\n        assertEquals(0, numTimesHasBeenDisposed) // Finalizer has not been run yet\n        System.gc() // Force garbage collection\n        Thread.sleep(1) // seems to be necessary to make sure finalizers have been run\n        assertEquals(1, numTimesHasBeenDisposed) // Finalizer has indeed been run\n    }\n\n    @Test fun `disposes of no-longer-used object when calling println directly`() {\n        var numTimesHasBeenDisposed = 0\n        println(FinalizationNotifier { numTimesHasBeenDisposed++ }) // Note direct call to println\n        assertEquals(0, numTimesHasBeenDisposed) // Finalizer has not been run yet\n        System.gc() // Force garbage collection\n        Thread.sleep(1) // seems to be necessary to make sure finalizers have been run\n        assertEquals(1, numTimesHasBeenDisposed) // This fails for some reason\n    }\n}\n\nfun&lt;T&gt; f(value: T) { println(value) }\n</code></pre>\n<pre><code>public final class t.FinalizationNotifier {\n  public t.FinalizationNotifier(kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt;);\n    Code:\n       0: aload_1\n       1: ldc           #10                 // String notify\n       3: invokestatic  #16                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V\n       6: aload_0\n       7: invokespecial #19                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n      10: aload_0\n      11: aload_1\n      12: putfield      #22                 // Field notify:Lkotlin/jvm/functions/Function0;\n      15: return\n\n  public final kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; getNotify();\n    Code:\n       0: aload_0\n       1: getfield      #22                 // Field notify:Lkotlin/jvm/functions/Function0;\n       4: areturn\n\n  protected final void finalize();\n    Code:\n       0: aload_0\n       1: getfield      #22                 // Field notify:Lkotlin/jvm/functions/Function0;\n       4: invokeinterface #34,  1           // InterfaceMethod kotlin/jvm/functions/Function0.invoke:()Ljava/lang/Object;\n       9: pop\n      10: return\n}\nCompiled from &quot;T.kt&quot;\nfinal class t.GcTest$disposes of no-longer-used object when calling own function$1 extends kotlin.jvm.internal.Lambda implements kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; {\n  final kotlin.jvm.internal.Ref$IntRef $numTimesHasBeenDisposed;\n\n  t.GcTest$disposes of no-longer-used object when calling own function$1(kotlin.jvm.internal.Ref$IntRef);\n    Code:\n       0: aload_0\n       1: aload_1\n       2: putfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\n       5: aload_0\n       6: iconst_0\n       7: invokespecial #16                 // Method kotlin/jvm/internal/Lambda.&quot;&lt;init&gt;&quot;:(I)V\n      10: return\n\n  public final void invoke();\n    Code:\n       0: aload_0\n       1: getfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\n       4: getfield      #26                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\n       7: istore_1\n       8: aload_0\n       9: getfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\n      12: iload_1\n      13: iconst_1\n      14: iadd\n      15: putfield      #26                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\n      18: return\n\n  public java.lang.Object invoke();\n    Code:\n       0: aload_0\n       1: invokevirtual #29                 // Method invoke:()V\n       4: getstatic     #35                 // Field kotlin/Unit.INSTANCE:Lkotlin/Unit;\n       7: areturn\n}\nCompiled from &quot;T.kt&quot;\nfinal class t.GcTest$disposes of no-longer-used object when calling println directly$1 extends kotlin.jvm.internal.Lambda implements kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; {\n  final kotlin.jvm.internal.Ref$IntRef $numTimesHasBeenDisposed;\n\n  t.GcTest$disposes of no-longer-used object when calling println directly$1(kotlin.jvm.internal.Ref$IntRef);\n    Code:\n       0: aload_0\n       1: aload_1\n       2: putfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\n       5: aload_0\n       6: iconst_0\n       7: invokespecial #16                 // Method kotlin/jvm/internal/Lambda.&quot;&lt;init&gt;&quot;:(I)V\n      10: return\n\n  public final void invoke();\n    Code:\n       0: aload_0\n       1: getfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\n       4: getfield      #26                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\n       7: istore_1\n       8: aload_0\n       9: getfield      #13                 // Field $numTimesHasBeenDisposed:Lkotlin/jvm/internal/Ref$IntRef;\n      12: iload_1\n      13: iconst_1\n      14: iadd\n      15: putfield      #26                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\n      18: return\n\n  public java.lang.Object invoke();\n    Code:\n       0: aload_0\n       1: invokevirtual #29                 // Method invoke:()V\n       4: getstatic     #35                 // Field kotlin/Unit.INSTANCE:Lkotlin/Unit;\n       7: areturn\n}\nCompiled from &quot;T.kt&quot;\npublic final class t.GcTest {\n  public t.GcTest();\n    Code:\n       0: aload_0\n       1: invokespecial #8                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public final void disposes of no-longer-used object when calling own function();\n    Code:\n       0: new           #14                 // class kotlin/jvm/internal/Ref$IntRef\n       3: dup\n       4: invokespecial #15                 // Method kotlin/jvm/internal/Ref$IntRef.&quot;&lt;init&gt;&quot;:()V\n       7: astore_1\n       8: new           #17                 // class t/FinalizationNotifier\n      11: dup\n      12: new           #19                 // class &quot;t/GcTest$disposes of no-longer-used object when calling own function$1&quot;\n      15: dup\n      16: aload_1\n      17: invokespecial #22                 // Method &quot;t/GcTest$disposes of no-longer-used object when calling own function$1&quot;.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/internal/Ref$IntRef;)V\n      20: checkcast     #24                 // class kotlin/jvm/functions/Function0\n      23: invokespecial #27                 // Method t/FinalizationNotifier.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/functions/Function0;)V\n      26: invokestatic  #33                 // Method t/TKt.f:(Ljava/lang/Object;)V\n      29: iconst_0\n      30: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n      33: aload_1\n      34: getfield      #43                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\n      37: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n      40: aconst_null\n      41: iconst_4\n      42: aconst_null\n      43: invokestatic  #49                 // Method kotlin/test/AssertionsKt.assertEquals$default:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ILjava/lang/Object;)V\n      46: invokestatic  #54                 // Method java/lang/System.gc:()V\n      49: lconst_1\n      50: invokestatic  #60                 // Method java/lang/Thread.sleep:(J)V\n      53: iconst_1\n      54: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n      57: aload_1\n      58: getfield      #43                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\n      61: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n      64: aconst_null\n      65: iconst_4\n      66: aconst_null\n      67: invokestatic  #49                 // Method kotlin/test/AssertionsKt.assertEquals$default:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ILjava/lang/Object;)V\n      70: return\n\n  public final void disposes of no-longer-used object when calling println directly();\n    Code:\n       0: new           #14                 // class kotlin/jvm/internal/Ref$IntRef\n       3: dup\n       4: invokespecial #15                 // Method kotlin/jvm/internal/Ref$IntRef.&quot;&lt;init&gt;&quot;:()V\n       7: astore_1\n       8: new           #17                 // class t/FinalizationNotifier\n      11: dup\n      12: new           #65                 // class &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;\n      15: dup\n      16: aload_1\n      17: invokespecial #66                 // Method &quot;t/GcTest$disposes of no-longer-used object when calling println directly$1&quot;.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/internal/Ref$IntRef;)V\n      20: checkcast     #24                 // class kotlin/jvm/functions/Function0\n      23: invokespecial #27                 // Method t/FinalizationNotifier.&quot;&lt;init&gt;&quot;:(Lkotlin/jvm/functions/Function0;)V\n      26: astore_2\n      27: iconst_0\n      28: istore_3\n      29: getstatic     #70                 // Field java/lang/System.out:Ljava/io/PrintStream;\n      32: aload_2\n      33: invokevirtual #75                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n      36: iconst_0\n      37: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n      40: aload_1\n      41: getfield      #43                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\n      44: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n      47: aconst_null\n      48: iconst_4\n      49: aconst_null\n      50: invokestatic  #49                 // Method kotlin/test/AssertionsKt.assertEquals$default:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ILjava/lang/Object;)V\n      53: invokestatic  #54                 // Method java/lang/System.gc:()V\n      56: lconst_1\n      57: invokestatic  #60                 // Method java/lang/Thread.sleep:(J)V\n      60: iconst_1\n      61: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n      64: aload_1\n      65: getfield      #43                 // Field kotlin/jvm/internal/Ref$IntRef.element:I\n      68: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n      71: aconst_null\n      72: iconst_4\n      73: aconst_null\n      74: invokestatic  #49                 // Method kotlin/test/AssertionsKt.assertEquals$default:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;ILjava/lang/Object;)V\n      77: return\n}\nCompiled from &quot;T.kt&quot;\npublic final class t.TKt {\n  public static final &lt;T&gt; void f(T);\n    Code:\n       0: iconst_0\n       1: istore_1\n       2: getstatic     #13                 // Field java/lang/System.out:Ljava/io/PrintStream;\n       5: aload_0\n       6: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n       9: return\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":2,"creation_date":1648302856,"post_id":71626713,"comment_id":126592639,"body_markdown":"I think you have to have the service injected as a component in the test class. I think calling from the same class as the `@Transactional` annotation doesn&#39;t work. Try changing that.","body":"I think you have to have the service injected as a component in the test class. I think calling from the same class as the <code>@Transactional</code> annotation doesn&#39;t work. Try changing that."},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":1,"creation_date":1648360862,"post_id":71626713,"comment_id":126601645,"body_markdown":"@K.Nicholas thank you. Yes, you are right. I understood about self-reference.","body":"@K.Nicholas thank you. Yes, you are right. I understood about self-reference."}],"answers":[{"tags":[],"owner":{"account_id":4331632,"reputation":838,"user_id":3536991,"accept_rate":93,"display_name":"TheITDejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648333661,"creation_date":1648333661,"answer_id":71632287,"question_id":71626713,"body_markdown":"To begin with, I&#39;m not sure if you understand what a transaction represents. If there&#39;s a unit of work that contains several functionalities to be executed, and you either want them to completely fail or completely pass - that&#39;s when you use a transaction.\r\n\r\nSo in the case of `test()` method - why should underlying mechanism (in this case Hibernate) care about rolling back something that happened within `save()` and `update()` when the `test()` itself isn&#39;t a transaction?\r\n\r\nSorry for asking more than answering, but as far as I can see - you need to annotate `test()` with the annotation, and not the individual methods. Or you can annotate them all.","title":"Why transactional does not rollback when RuntimeException occur?","body":"<p>To begin with, I'm not sure if you understand what a transaction represents. If there's a unit of work that contains several functionalities to be executed, and you either want them to completely fail or completely pass - that's when you use a transaction.</p>\n<p>So in the case of <code>test()</code> method - why should underlying mechanism (in this case Hibernate) care about rolling back something that happened within <code>save()</code> and <code>update()</code> when the <code>test()</code> itself isn't a transaction?</p>\n<p>Sorry for asking more than answering, but as far as I can see - you need to annotate <code>test()</code> with the annotation, and not the individual methods. Or you can annotate them all.</p>\n"},{"tags":[],"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1648334538,"creation_date":1648334538,"answer_id":71632353,"question_id":71626713,"body_markdown":"Due to way spring proxying works *by default*, you can not call a &quot;proxied&quot; method from within the instance.\r\n\r\nConsider that when you put `@Transactional` annotation on a method, Spring makes a proxy of that class and the proxy is where the transaction begin/commit/rollback gets handled. The proxy calls the actual class instance. Spring hides this from you.\r\n\r\nBut given that, if you have a method on the class instance (`test()`), that calls another method on itself (`this.save()`), that call doesn&#39;t goes through the proxy, and so there is no &quot;@Transactional&quot; proxy. There is nothing to do the rollback when the RuntimeException occurs.\r\n\r\nThere are ways to change the how Spring does the proxying which would allow this to work, but it has changed over the years. There are various alternatives. One way is to create create separate classes. Perhaps UserServiceHelper. The UserServiceHelper contains @Transactional methods that get called by UserService.  This same issue occurs when different @Transactional isolations and propagations are needed.\r\n\r\nRelated answers and info:\r\n * https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo\r\n *  https://stackoverflow.com/questions/4396284/does-spring-transactional-attribute-work-on-a-private-method?noredirect=1&amp;lq=1\r\n * https://stackoverflow.com/questions/16167278/spring-transaction-doesnt-rollback\r\n\r\n\r\nYour example code is not very clear as to what you are trying to do. Often, `@Transactional` would be put on the service class and apply to all public methods (like `test()`).\r\n","title":"Why transactional does not rollback when RuntimeException occur?","body":"<p>Due to way spring proxying works <em>by default</em>, you can not call a &quot;proxied&quot; method from within the instance.</p>\n<p>Consider that when you put <code>@Transactional</code> annotation on a method, Spring makes a proxy of that class and the proxy is where the transaction begin/commit/rollback gets handled. The proxy calls the actual class instance. Spring hides this from you.</p>\n<p>But given that, if you have a method on the class instance (<code>test()</code>), that calls another method on itself (<code>this.save()</code>), that call doesn't goes through the proxy, and so there is no &quot;@Transactional&quot; proxy. There is nothing to do the rollback when the RuntimeException occurs.</p>\n<p>There are ways to change the how Spring does the proxying which would allow this to work, but it has changed over the years. There are various alternatives. One way is to create create separate classes. Perhaps UserServiceHelper. The UserServiceHelper contains @Transactional methods that get called by UserService.  This same issue occurs when different @Transactional isolations and propagations are needed.</p>\n<p>Related answers and info:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo\">Spring @Transaction method call by the method within the same class, does not work?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4396284/does-spring-transactional-attribute-work-on-a-private-method?noredirect=1&amp;lq=1\">Does Spring @Transactional attribute work on a private method?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/16167278/spring-transaction-doesnt-rollback\">Spring Transaction Doesn&#39;t Rollback</a></li>\n</ul>\n<p>Your example code is not very clear as to what you are trying to do. Often, <code>@Transactional</code> would be put on the service class and apply to all public methods (like <code>test()</code>).</p>\n"}],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71632353,"answer_count":2,"score":2,"last_activity_date":1648334538,"creation_date":1648285818,"question_id":71626713,"body_markdown":"I want to test a non-transactional method in the service layer when inner methods are transactional separately. I want to know what will happen if some method throws an exception. Does it properly roll back or not? I also tried `rollbackFor` but it did not help. Any suggestions?\r\n\r\n - Spring v-2.5.1\r\n\r\n**app.properties**\r\n``` properties\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nserver.error.include-message=always\r\nserver.error.include-binding-errors=always\r\n```\r\n\r\n**Controller**\r\n\r\n``` java\r\n@PostMapping(&quot;/test&quot;)\r\n    public void test(){\r\n        service.test();\r\n    }\r\n```\r\n\r\n**Service**\r\n``` java\r\n@Service\r\npublic class UserService {\r\n  @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n\r\n    public void test() {\r\n        User user1 = new User();\r\n        String encodedPassword = passwordEncoder.encode(&quot;123&quot;);\r\n        user1.setUsername(&quot;username&quot;);\r\n        user1.setPassword(encodedPassword);\r\n        user1.setFirst_name(&quot;name1&quot;);\r\n        user1.setLast_name(&quot;family1&quot;);\r\n        save(user1);\r\n        User update = update(user1.getUsername());\r\n        throw new RuntimeException();// I expect Spring rollback all data for save and update methods\r\n//but it seems data has been committed before an exception occur.\r\n    }\r\n\r\n @Transactional\r\n    public void save(User user) {\r\n        if (userExists(user.getUsername()))\r\n            throw new ApiRequestException(&quot;Username has already taken!&quot;);\r\n        else {\r\n            User user1 = new User();\r\n            String encodedPassword = passwordEncoder.encode(user.getPassword());\r\n            user1.setUsername(user.getUsername());\r\n            user1.setPassword(encodedPassword);\r\n            user1.setFirst_name(user.getFirst_name());\r\n            user1.setLast_name(user.getLast_name());\r\n            user1.setCreate_date(user.getCreate_date());\r\n            user1.setModified_date(user.getModified_date());\r\n            user1.setCompany(user.getCompany());\r\n            user1.setAddresses(user.getAddresses());\r\n            userRepository.save(user1);\r\n          //  throw new RuntimeException(); Similarly I expect rollback here.\r\n        }\r\n    }\r\n\r\n    @Transactional\r\n    public User update(String username) {\r\n        User userFromDb = userRepository.findByUsername(username);\r\n        userFromDb.setFirst_name(&quot;new username&quot;);\r\n        userFromDb.setLast_name(&quot;new lastname&quot;);\r\n        return userRepository.save(userFromDb);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why transactional does not rollback when RuntimeException occur?","body":"<p>I want to test a non-transactional method in the service layer when inner methods are transactional separately. I want to know what will happen if some method throws an exception. Does it properly roll back or not? I also tried <code>rollbackFor</code> but it did not help. Any suggestions?</p>\n<ul>\n<li>Spring v-2.5.1</li>\n</ul>\n<p><strong>app.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto=create-drop\n\nserver.error.include-message=always\nserver.error.include-binding-errors=always\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/test&quot;)\n    public void test(){\n        service.test();\n    }\n</code></pre>\n<p><strong>Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n  @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n\n    public void test() {\n        User user1 = new User();\n        String encodedPassword = passwordEncoder.encode(&quot;123&quot;);\n        user1.setUsername(&quot;username&quot;);\n        user1.setPassword(encodedPassword);\n        user1.setFirst_name(&quot;name1&quot;);\n        user1.setLast_name(&quot;family1&quot;);\n        save(user1);\n        User update = update(user1.getUsername());\n        throw new RuntimeException();// I expect Spring rollback all data for save and update methods\n//but it seems data has been committed before an exception occur.\n    }\n\n @Transactional\n    public void save(User user) {\n        if (userExists(user.getUsername()))\n            throw new ApiRequestException(&quot;Username has already taken!&quot;);\n        else {\n            User user1 = new User();\n            String encodedPassword = passwordEncoder.encode(user.getPassword());\n            user1.setUsername(user.getUsername());\n            user1.setPassword(encodedPassword);\n            user1.setFirst_name(user.getFirst_name());\n            user1.setLast_name(user.getLast_name());\n            user1.setCreate_date(user.getCreate_date());\n            user1.setModified_date(user.getModified_date());\n            user1.setCompany(user.getCompany());\n            user1.setAddresses(user.getAddresses());\n            userRepository.save(user1);\n          //  throw new RuntimeException(); Similarly I expect rollback here.\n        }\n    }\n\n    @Transactional\n    public User update(String username) {\n        User userFromDb = userRepository.findByUsername(username);\n        userFromDb.setFirst_name(&quot;new username&quot;);\n        userFromDb.setLast_name(&quot;new lastname&quot;);\n        return userRepository.save(userFromDb);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":1988170,"reputation":2527,"user_id":1782868,"accept_rate":100,"display_name":"sorencito"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1648333584,"creation_date":1354879039,"answer_id":13762040,"question_id":13761920,"body_markdown":"Use mockito spies. You can check for nearly any method call using that testing Framework.\r\n\r\n https://github.com/mockito/mockito","title":"How do I unit test overridden methods which call super?","body":"<p>Use mockito spies. You can check for nearly any method call using that testing Framework.</p>\n<p><a href=\"https://github.com/mockito/mockito\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito</a></p>\n"},{"tags":[],"owner":{"account_id":2042321,"reputation":203,"user_id":1823181,"display_name":"Jan Schmidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354880444,"creation_date":1354880088,"answer_id":13762282,"question_id":13761920,"body_markdown":"Use JMockit and check the call to super with a Verification. \r\n\r\n[JMockit][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/jmockit/\r\n\r\nExample for this\r\n\r\n    public void test {\r\n      SubClass subClass = new SubClass();\r\n      subClass.subClassMethod();\r\n      new Verifications() {\r\n        // mock only this method of superClass - and only in this test\r\n        @Mocked (methods = &quot;superClassMethod&quot;) \r\n        SuperClass superClass; \r\n        {\r\n         superClass.superClassMethod();\r\n         times = 1; // specify invocation count\r\n        }\r\n      };\r\n \r\n     }","title":"How do I unit test overridden methods which call super?","body":"<p>Use JMockit and check the call to super with a Verification. </p>\n\n<p><a href=\"http://code.google.com/p/jmockit/\" rel=\"nofollow\">JMockit</a></p>\n\n<p>Example for this</p>\n\n<pre><code>public void test {\n  SubClass subClass = new SubClass();\n  subClass.subClassMethod();\n  new Verifications() {\n    // mock only this method of superClass - and only in this test\n    @Mocked (methods = \"superClassMethod\") \n    SuperClass superClass; \n    {\n     superClass.superClassMethod();\n     times = 1; // specify invocation count\n    }\n  };\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":989178,"reputation":3110,"user_id":1042273,"accept_rate":85,"display_name":"Tarek"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1397065404,"creation_date":1397065038,"answer_id":22969979,"question_id":13761920,"body_markdown":"This is probably not the answer you want (i.e not a workaround), &lt;strike&gt;but the answer you deserve&lt;/strike&gt; but you should never override a method and invoke super.\r\n\r\nI&#39;m working on a legacy project that does that a lot, it&#39;s a nightmare to maintain, to debug and to test.\r\n\r\nInstead, it&#39;s better to use an abstract class with a template method pattern:\r\n\r\n#Before\r\n    public class SuperClass&lt;T&gt; {\r\n      public void include(T t) {\r\n        validate(T);\r\n        dao.save(T);\r\n      }\r\n\r\n      // I&#39;ve found code like that.\r\n      public void validate(T t) {\r\n      }\r\n    }\r\n\r\n    public class SubClass1 extends SuperClass&lt;MyClass&gt; {\r\n      @Override\r\n      public void include(MyClass mc) {\r\n        doStuff(mc);\r\n        doMoreStuff(mc);\r\n        super.include(mc);\r\n      }\r\n\r\n      @Override\r\n      public void validate(MyClass mc) {\r\n        doValidationStuff();\r\n      }\r\n    }\r\n\r\n    public class SubClass2 extends SuperClass&lt;AnotherClass&gt; {\r\n      @Override\r\n      public void include(AnotherClass ac) {\r\n        doDifferentStuff();\r\n        super.include(mc);\r\n      }\r\n    }\r\n\r\n#After\r\n    public abstract class AbstractClass&lt;T&gt; {\r\n      abstract void validate(T t);\r\n\r\n      // this method can now be tested\r\n      public void include(T t) {\r\n        validate(T);\r\n        dao.save(T);\r\n      }\r\n    }\r\n\r\n    public class Class1 extends AbstractClass&lt;MyClass&gt; {\r\n      public void validate(MyClass mc) {\r\n        doValidationStuff();\r\n        doStuff(mc);\r\n        doMoreStuff(mc);\r\n      }\r\n    }\r\n\r\n    public class Class2 extends AbstractClass&lt;AnotherClass&gt; {\r\n      public void validate(AnotherClass ac) {\r\n        doDifferentStuff();\r\n      }\r\n    }\r\n\r\n\r\nAs you can see, this refactoring simplifies maintenance and testing, you don&#39;t have to worry about having to mock the superclass method call in the Class1 and Class2 tests, and the code is closed to modification and open to extension, i.e, more maintainable.","title":"How do I unit test overridden methods which call super?","body":"<p>This is probably not the answer you want (i.e not a workaround), <strike>but the answer you deserve</strike> but you should never override a method and invoke super.</p>\n\n<p>I'm working on a legacy project that does that a lot, it's a nightmare to maintain, to debug and to test.</p>\n\n<p>Instead, it's better to use an abstract class with a template method pattern:</p>\n\n<h1>Before</h1>\n\n<pre><code>public class SuperClass&lt;T&gt; {\n  public void include(T t) {\n    validate(T);\n    dao.save(T);\n  }\n\n  // I've found code like that.\n  public void validate(T t) {\n  }\n}\n\npublic class SubClass1 extends SuperClass&lt;MyClass&gt; {\n  @Override\n  public void include(MyClass mc) {\n    doStuff(mc);\n    doMoreStuff(mc);\n    super.include(mc);\n  }\n\n  @Override\n  public void validate(MyClass mc) {\n    doValidationStuff();\n  }\n}\n\npublic class SubClass2 extends SuperClass&lt;AnotherClass&gt; {\n  @Override\n  public void include(AnotherClass ac) {\n    doDifferentStuff();\n    super.include(mc);\n  }\n}\n</code></pre>\n\n<h1>After</h1>\n\n<pre><code>public abstract class AbstractClass&lt;T&gt; {\n  abstract void validate(T t);\n\n  // this method can now be tested\n  public void include(T t) {\n    validate(T);\n    dao.save(T);\n  }\n}\n\npublic class Class1 extends AbstractClass&lt;MyClass&gt; {\n  public void validate(MyClass mc) {\n    doValidationStuff();\n    doStuff(mc);\n    doMoreStuff(mc);\n  }\n}\n\npublic class Class2 extends AbstractClass&lt;AnotherClass&gt; {\n  public void validate(AnotherClass ac) {\n    doDifferentStuff();\n  }\n}\n</code></pre>\n\n<p>As you can see, this refactoring simplifies maintenance and testing, you don't have to worry about having to mock the superclass method call in the Class1 and Class2 tests, and the code is closed to modification and open to extension, i.e, more maintainable.</p>\n"}],"owner":{"account_id":443688,"reputation":2966,"user_id":835058,"accept_rate":93,"display_name":"mogronalol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10771,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1648333584,"creation_date":1354878644,"question_id":13761920,"body_markdown":"*http://stackoverflow.com/questions/6645263/unit-testing-overridden-methods-which-call-super (This question has similar wording but is not the same)*\r\n\r\nI have something along the lines of:\r\n\r\n    public class SuperClass {\r\n       private int superClassInteger = 2;\r\n\r\n       public void superClassMethod() {\r\n          superClassInteger = 5;\r\n       }\r\n       \r\n       public int getSuperClassInteger() {\r\n          return superClassInteger();\r\n       }\r\n    }\r\n\r\nThen in my test I have:\r\n\r\n    public class SuperClassTest {\r\n       public void testSuperClassMethod() {\r\n           SuperClass superClass = new SuperClass();\r\n           superClass.superClassMethod();\r\n           assertEquals(5, super.getSuperClassInteger())\r\n       }\r\n    }\r\n\r\nI then have a subclass:\r\n\r\n    public class SubClass {\r\n       private int subClassInteger = 2;\r\n\r\n       public void subClassMethod() {\r\n          super.superClassMethod();\r\n          subClassInteger = 32;\r\n       }\r\n       \r\n       public int getSuperClassInteger() {\r\n          subClassInteger;\r\n       }\r\n    }\r\n\r\nThen my test for the subclass:\r\n\r\n    public class SubClassTest {\r\n       public void testSubClassMethod() {\r\n           SubClass subClass = new SubClass();\r\n           subClass.subClassMethod();\r\n           assertEquals(5, subclass.getSuperClassInteger());\r\n           assertEquals(32, subclass.getSubClassInteger())\r\n       }\r\n    }\r\n\r\nMy problem is that to test the behavior of the subclass, I am repeating the test code I have for the super class.  I could take out: `assertEquals(5, subclass.getSuperClassInteger());` as I just want to test the business logic of the subclass.  However, the problem with this is that if somebody accidentally removes the call to `superClassMethod` the test will still pass.  So I need verify that a call to super is made.  What is a common way of testing this use case?\r\n\r\nNote:  I know composition / strategy pattern vs inheritance helps solve this problem but for that to be the solution you are basically saying that I should NEVER override a method and invoke super in my code (which I find hard to believe there will never be a use for)\r\n\r\n","title":"How do I unit test overridden methods which call super?","body":"<p><em>http://stackoverflow.com/questions/6645263/unit-testing-overridden-methods-which-call-super (This question has similar wording but is not the same)</em></p>\n\n<p>I have something along the lines of:</p>\n\n<pre><code>public class SuperClass {\n   private int superClassInteger = 2;\n\n   public void superClassMethod() {\n      superClassInteger = 5;\n   }\n\n   public int getSuperClassInteger() {\n      return superClassInteger();\n   }\n}\n</code></pre>\n\n<p>Then in my test I have:</p>\n\n<pre><code>public class SuperClassTest {\n   public void testSuperClassMethod() {\n       SuperClass superClass = new SuperClass();\n       superClass.superClassMethod();\n       assertEquals(5, super.getSuperClassInteger())\n   }\n}\n</code></pre>\n\n<p>I then have a subclass:</p>\n\n<pre><code>public class SubClass {\n   private int subClassInteger = 2;\n\n   public void subClassMethod() {\n      super.superClassMethod();\n      subClassInteger = 32;\n   }\n\n   public int getSuperClassInteger() {\n      subClassInteger;\n   }\n}\n</code></pre>\n\n<p>Then my test for the subclass:</p>\n\n<pre><code>public class SubClassTest {\n   public void testSubClassMethod() {\n       SubClass subClass = new SubClass();\n       subClass.subClassMethod();\n       assertEquals(5, subclass.getSuperClassInteger());\n       assertEquals(32, subclass.getSubClassInteger())\n   }\n}\n</code></pre>\n\n<p>My problem is that to test the behavior of the subclass, I am repeating the test code I have for the super class.  I could take out: <code>assertEquals(5, subclass.getSuperClassInteger());</code> as I just want to test the business logic of the subclass.  However, the problem with this is that if somebody accidentally removes the call to <code>superClassMethod</code> the test will still pass.  So I need verify that a call to super is made.  What is a common way of testing this use case?</p>\n\n<p>Note:  I know composition / strategy pattern vs inheritance helps solve this problem but for that to be the solution you are basically saying that I should NEVER override a method and invoke super in my code (which I find hard to believe there will never be a use for)</p>\n"},{"tags":["java","swing","jbutton","key-bindings"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1648324613,"post_id":71631122,"comment_id":126597207,"body_markdown":"You can only respond to a single  binding at a time. If you want to handle multiple bindings then you can use a map to keep track of which keys are pressed and then invoke the appropriate action. Check out the `KeyboardAnimation` example from [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/) for a working example of this approach.","body":"You can only respond to a single  binding at a time. If you want to handle multiple bindings then you can use a map to keep track of which keys are pressed and then invoke the appropriate action. Check out the <code>KeyboardAnimation</code> example from <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a> for a working example of this approach."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648327141,"creation_date":1648327141,"answer_id":71631663,"question_id":71631122,"body_markdown":"I personally would use the KeyListener interface to keep track of what the user has typed and then just register within a List&lt;Character&gt; the keys that have been pressed (without releasing) and then collect them once any key has been released.\r\n\r\nMake sure though to add to the list only the keys that are not present yet because the keyPressed event is fired multiple times while the user is holding down a key.\r\n\r\nI&#39;ve also created a little sample to give you the idea.\r\n\r\n```\r\npublic class MyClass extends JFrame implements KeyListener {\r\n\r\n    private JTextArea textArea;\r\n    private List&lt;Character&gt; listKeys;\r\n\r\n    public MyClass() {\r\n        setTitle(&quot;test&quot;);\r\n\r\n        listKeys = new ArrayList&lt;&gt;();\r\n        textArea = new JTextArea();\r\n        textArea.addKeyListener(this);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(textArea, BorderLayout.CENTER);\r\n\r\n        setLocation(50, 50);\r\n        setSize(500, 500);\r\n        setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        if (!listKeys.contains(e.getKeyChar())) {\r\n            listKeys.add(e.getKeyChar());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        if (listKeys.isEmpty()) {\r\n            return;\r\n        }\r\n\r\n        if (listKeys.size() &gt; 1) {\r\n            System.out.print(&quot;The key combination &quot;);\r\n        } else {\r\n            System.out.print(&quot;The key &quot;);\r\n        }\r\n        for (Character c : listKeys) {\r\n            System.out.print(c + &quot; &quot;);\r\n        }\r\n        System.out.println(&quot;has been entered&quot;);\r\n        listKeys.clear();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new MyClass();\r\n    }\r\n}\r\n```","title":"Java swing - Processing simultaneous key presses with key bindings","body":"<p>I personally would use the KeyListener interface to keep track of what the user has typed and then just register within a List the keys that have been pressed (without releasing) and then collect them once any key has been released.</p>\n<p>Make sure though to add to the list only the keys that are not present yet because the keyPressed event is fired multiple times while the user is holding down a key.</p>\n<p>I've also created a little sample to give you the idea.</p>\n<pre><code>public class MyClass extends JFrame implements KeyListener {\n\n    private JTextArea textArea;\n    private List&lt;Character&gt; listKeys;\n\n    public MyClass() {\n        setTitle(&quot;test&quot;);\n\n        listKeys = new ArrayList&lt;&gt;();\n        textArea = new JTextArea();\n        textArea.addKeyListener(this);\n\n        setLayout(new BorderLayout());\n        add(textArea, BorderLayout.CENTER);\n\n        setLocation(50, 50);\n        setSize(500, 500);\n        setVisible(true);\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (!listKeys.contains(e.getKeyChar())) {\n            listKeys.add(e.getKeyChar());\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        if (listKeys.isEmpty()) {\n            return;\n        }\n\n        if (listKeys.size() &gt; 1) {\n            System.out.print(&quot;The key combination &quot;);\n        } else {\n            System.out.print(&quot;The key &quot;);\n        }\n        for (Character c : listKeys) {\n            System.out.print(c + &quot; &quot;);\n        }\n        System.out.println(&quot;has been entered&quot;);\n        listKeys.clear();\n    }\n\n    public static void main(String[] args) {\n        new MyClass();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648333346,"creation_date":1648333346,"answer_id":71632259,"question_id":71631122,"body_markdown":"You need to decouple some of your concepts a little more.  For example, the `Action` API allows you to make use of the same `Action` (same instance of multiple instance of the same `Action`) on buttons (all buttons) as well as the key bindings.\r\n\r\nIn this case, you want to find away in which the `Action` is decoupled from the possible trigger (ie, don&#39;t assume it&#39;s a button or a key binding if possible)\r\n\r\nFor me, when the key binding is triggered, I&#39;d want to notify some kind of observer or manager that the action has taken place.  A possible consideration would also be, what do when it&#39;s pressed as apposed to when it&#39;s released, is there a difference?\r\n\r\n`KeyStroke` allows you to define both &quot;pressed&quot; and &quot;released&quot; triggers.  I would then use some kind of monitor to manage the state, ie a series of `boolean`s which are either `true` or `false` depending on the state of the action, this, however, doesn&#39;t scale well, so, instead, I&#39;d consider using a `enum` and a `Set` instead.\r\n\r\nThe following example will only highlight the labels while the key for the associated action is been held down.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            enum UserAction {\r\n                CRASH_HIT, RIDE_HIT, HI_HAT_HIT, RACK_TOM_HIT, SNARE_HIT, FLOOR_TOM_HIT, KICK_DRUM_HIT;\r\n            }\r\n\r\n            public interface Observer {\r\n                public void didActivateAction(UserAction action);\r\n                public void didDeactivateAction(UserAction action);\r\n            }\r\n\r\n            private Map&lt;UserAction, JLabel&gt; labels;\r\n            private Set&lt;UserAction&gt; activeActions = new TreeSet&lt;&gt;();\r\n            private final Set&lt;UserAction&gt; allActions = new TreeSet&lt;&gt;(Arrays.asList(UserAction.values()));\r\n\r\n            public TestPane() {            \r\n                labels = new HashMap&lt;&gt;();\r\n                for (UserAction action : UserAction.values()) {\r\n                    JLabel label = new JLabel(action.name());\r\n                    label.setBorder(new CompoundBorder(new LineBorder(Color.DARK_GRAY), new EmptyBorder(8, 8, 8, 8)));\r\n                    label.setOpaque(true);\r\n                    add(label);\r\n\r\n                    labels.put(action, label);\r\n                }\r\n\r\n                InputMap inputMap = getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap actionMap = getActionMap();\r\n\r\n                Observer observer = new Observer() {\r\n                    @Override\r\n                    public void didActivateAction(UserAction action) {\r\n                        if (activeActions.contains(action)) {\r\n                            // We don&#39;t want to deal with &quot;repeated&quot; key events\r\n                            return;\r\n                        }\r\n                        activeActions.add(action);\r\n                        // I could update the labels here, but this is a deliberate \r\n                        // example of how to decouple the action from the state\r\n                        // so the actions can be dealt with in as a single unit\r\n                        // of work, you can also take into consideratoin any\r\n                        // relationships which different inputs might have as well\r\n                        updateUIState();\r\n                    }\r\n\r\n                    @Override\r\n                    public void didDeactivateAction(UserAction action) {\r\n                        activeActions.remove(action);\r\n                        updateUIState();\r\n                    }\r\n                };\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_C, 0, false), &quot;pressed-crashHit&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_C, 0, true), &quot;released-crashHit&quot;);\r\n                actionMap.put(&quot;pressed-crashHit&quot;, new InputAction(UserAction.CRASH_HIT, true, observer));\r\n                actionMap.put(&quot;released-crashHit&quot;, new InputAction(UserAction.CRASH_HIT, false, observer));\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_R, 0, false), &quot;pressed-rideHit&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_R, 0, true), &quot;released-rideHit&quot;);\r\n                actionMap.put(&quot;pressed-rideHit&quot;, new InputAction(UserAction.RIDE_HIT, true, observer));\r\n                actionMap.put(&quot;released-rideHit&quot;, new InputAction(UserAction.RIDE_HIT, false, observer));\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_H, 0, false), &quot;pressed-hihatHit&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_H, 0, true), &quot;released-hihatHit&quot;);\r\n                actionMap.put(&quot;pressed-hihatHit&quot;, new InputAction(UserAction.HI_HAT_HIT, true, observer));\r\n                actionMap.put(&quot;released-hihatHit&quot;, new InputAction(UserAction.HI_HAT_HIT, false, observer));\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_T, 0, false), &quot;pressed-racktomHit&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_T, 0, true), &quot;released-racktomHit&quot;);\r\n                actionMap.put(&quot;pressed-racktomHit&quot;, new InputAction(UserAction.RACK_TOM_HIT, true, observer));\r\n                actionMap.put(&quot;released-racktomHit&quot;, new InputAction(UserAction.RACK_TOM_HIT, false, observer));\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, false), &quot;pressed-snareHit&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, true), &quot;released-snareHit&quot;);\r\n                actionMap.put(&quot;pressed-snareHit&quot;, new InputAction(UserAction.SNARE_HIT, true, observer));\r\n                actionMap.put(&quot;released-snareHit&quot;, new InputAction(UserAction.SNARE_HIT, false, observer));\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F, 0, false), &quot;pressed-floortomHit&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F, 0, true), &quot;released-floortomHit&quot;);\r\n                actionMap.put(&quot;pressed-floortomHit&quot;, new InputAction(UserAction.FLOOR_TOM_HIT, true, observer));\r\n                actionMap.put(&quot;released-floortomHit&quot;, new InputAction(UserAction.FLOOR_TOM_HIT, false, observer));\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false), &quot;pressed-kickdrumHit&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true), &quot;released-kickdrumHit&quot;);\r\n                actionMap.put(&quot;pressed-kickdrumHit&quot;, new InputAction(UserAction.KICK_DRUM_HIT, true, observer));\r\n                actionMap.put(&quot;released-kickdrumHit&quot;, new InputAction(UserAction.KICK_DRUM_HIT, false, observer));\r\n            }\r\n\r\n            protected void updateUIState() {\r\n                Set&lt;UserAction&gt; inactiveActions = new TreeSet&lt;&gt;(allActions);\r\n                inactiveActions.removeAll(activeActions);\r\n\r\n                for (UserAction action : inactiveActions) {\r\n                    JLabel label = labels.get(action);\r\n                    label.setBackground(null);\r\n                    label.setForeground(Color.BLACK);\r\n                }\r\n                for (UserAction action : activeActions) {\r\n                    JLabel label = labels.get(action);\r\n                    label.setBackground(Color.BLUE);\r\n                    label.setForeground(Color.WHITE);\r\n                }\r\n            }\r\n\r\n            // This could act as a base class, from which other, more dedicated\r\n            // implementations could be built, which did focused jobs, for example\r\n            // protected class ActivateCrashHit extends InputAction {\r\n            //    public ActivateCrashHit(Observer observer) {\r\n            //        super(UserAction.CRASH_HIT, true, observer);\r\n            //    }\r\n            //    // Override actionPerformed\r\n            // }\r\n            protected class InputAction extends AbstractAction {\r\n\r\n                private UserAction action;\r\n                private boolean activated;\r\n                private Observer observer;\r\n\r\n                public InputAction(UserAction action, boolean activated, Observer observer) {\r\n                    this.action = action;\r\n                    this.activated = activated;\r\n                    this.observer = observer;\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // This could perform other actions, but the intention of the\r\n                    // observer is provide an oppurunity for the interested party\r\n                    // to also make some kind of update, to allow the user to\r\n                    // see that that action occured\r\n                    if (activated) {\r\n                        observer.didActivateAction(action);\r\n                    } else {\r\n                        observer.didDeactivateAction(action);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sgitw.gif\r\n\r\nYou should also beware that that there is a hardware limitation on some keyboards which limit the number of simultaneous keys which can be pressed at any one time, although to be honest, I found it hard to press all the keys are once for this example any way","title":"Java swing - Processing simultaneous key presses with key bindings","body":"<p>You need to decouple some of your concepts a little more.  For example, the <code>Action</code> API allows you to make use of the same <code>Action</code> (same instance of multiple instance of the same <code>Action</code>) on buttons (all buttons) as well as the key bindings.</p>\n<p>In this case, you want to find away in which the <code>Action</code> is decoupled from the possible trigger (ie, don't assume it's a button or a key binding if possible)</p>\n<p>For me, when the key binding is triggered, I'd want to notify some kind of observer or manager that the action has taken place.  A possible consideration would also be, what do when it's pressed as apposed to when it's released, is there a difference?</p>\n<p><code>KeyStroke</code> allows you to define both &quot;pressed&quot; and &quot;released&quot; triggers.  I would then use some kind of monitor to manage the state, ie a series of <code>boolean</code>s which are either <code>true</code> or <code>false</code> depending on the state of the action, this, however, doesn't scale well, so, instead, I'd consider using a <code>enum</code> and a <code>Set</code> instead.</p>\n<p>The following example will only highlight the labels while the key for the associated action is been held down.</p>\n<p><a href=\"https://i.stack.imgur.com/Sgitw.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sgitw.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeSet;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        enum UserAction {\n            CRASH_HIT, RIDE_HIT, HI_HAT_HIT, RACK_TOM_HIT, SNARE_HIT, FLOOR_TOM_HIT, KICK_DRUM_HIT;\n        }\n\n        public interface Observer {\n            public void didActivateAction(UserAction action);\n            public void didDeactivateAction(UserAction action);\n        }\n\n        private Map&lt;UserAction, JLabel&gt; labels;\n        private Set&lt;UserAction&gt; activeActions = new TreeSet&lt;&gt;();\n        private final Set&lt;UserAction&gt; allActions = new TreeSet&lt;&gt;(Arrays.asList(UserAction.values()));\n\n        public TestPane() {            \n            labels = new HashMap&lt;&gt;();\n            for (UserAction action : UserAction.values()) {\n                JLabel label = new JLabel(action.name());\n                label.setBorder(new CompoundBorder(new LineBorder(Color.DARK_GRAY), new EmptyBorder(8, 8, 8, 8)));\n                label.setOpaque(true);\n                add(label);\n\n                labels.put(action, label);\n            }\n\n            InputMap inputMap = getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            Observer observer = new Observer() {\n                @Override\n                public void didActivateAction(UserAction action) {\n                    if (activeActions.contains(action)) {\n                        // We don't want to deal with &quot;repeated&quot; key events\n                        return;\n                    }\n                    activeActions.add(action);\n                    // I could update the labels here, but this is a deliberate \n                    // example of how to decouple the action from the state\n                    // so the actions can be dealt with in as a single unit\n                    // of work, you can also take into consideratoin any\n                    // relationships which different inputs might have as well\n                    updateUIState();\n                }\n\n                @Override\n                public void didDeactivateAction(UserAction action) {\n                    activeActions.remove(action);\n                    updateUIState();\n                }\n            };\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_C, 0, false), &quot;pressed-crashHit&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_C, 0, true), &quot;released-crashHit&quot;);\n            actionMap.put(&quot;pressed-crashHit&quot;, new InputAction(UserAction.CRASH_HIT, true, observer));\n            actionMap.put(&quot;released-crashHit&quot;, new InputAction(UserAction.CRASH_HIT, false, observer));\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_R, 0, false), &quot;pressed-rideHit&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_R, 0, true), &quot;released-rideHit&quot;);\n            actionMap.put(&quot;pressed-rideHit&quot;, new InputAction(UserAction.RIDE_HIT, true, observer));\n            actionMap.put(&quot;released-rideHit&quot;, new InputAction(UserAction.RIDE_HIT, false, observer));\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_H, 0, false), &quot;pressed-hihatHit&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_H, 0, true), &quot;released-hihatHit&quot;);\n            actionMap.put(&quot;pressed-hihatHit&quot;, new InputAction(UserAction.HI_HAT_HIT, true, observer));\n            actionMap.put(&quot;released-hihatHit&quot;, new InputAction(UserAction.HI_HAT_HIT, false, observer));\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_T, 0, false), &quot;pressed-racktomHit&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_T, 0, true), &quot;released-racktomHit&quot;);\n            actionMap.put(&quot;pressed-racktomHit&quot;, new InputAction(UserAction.RACK_TOM_HIT, true, observer));\n            actionMap.put(&quot;released-racktomHit&quot;, new InputAction(UserAction.RACK_TOM_HIT, false, observer));\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, false), &quot;pressed-snareHit&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, true), &quot;released-snareHit&quot;);\n            actionMap.put(&quot;pressed-snareHit&quot;, new InputAction(UserAction.SNARE_HIT, true, observer));\n            actionMap.put(&quot;released-snareHit&quot;, new InputAction(UserAction.SNARE_HIT, false, observer));\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F, 0, false), &quot;pressed-floortomHit&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F, 0, true), &quot;released-floortomHit&quot;);\n            actionMap.put(&quot;pressed-floortomHit&quot;, new InputAction(UserAction.FLOOR_TOM_HIT, true, observer));\n            actionMap.put(&quot;released-floortomHit&quot;, new InputAction(UserAction.FLOOR_TOM_HIT, false, observer));\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false), &quot;pressed-kickdrumHit&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true), &quot;released-kickdrumHit&quot;);\n            actionMap.put(&quot;pressed-kickdrumHit&quot;, new InputAction(UserAction.KICK_DRUM_HIT, true, observer));\n            actionMap.put(&quot;released-kickdrumHit&quot;, new InputAction(UserAction.KICK_DRUM_HIT, false, observer));\n        }\n\n        protected void updateUIState() {\n            Set&lt;UserAction&gt; inactiveActions = new TreeSet&lt;&gt;(allActions);\n            inactiveActions.removeAll(activeActions);\n\n            for (UserAction action : inactiveActions) {\n                JLabel label = labels.get(action);\n                label.setBackground(null);\n                label.setForeground(Color.BLACK);\n            }\n            for (UserAction action : activeActions) {\n                JLabel label = labels.get(action);\n                label.setBackground(Color.BLUE);\n                label.setForeground(Color.WHITE);\n            }\n        }\n\n        // This could act as a base class, from which other, more dedicated\n        // implementations could be built, which did focused jobs, for example\n        // protected class ActivateCrashHit extends InputAction {\n        //    public ActivateCrashHit(Observer observer) {\n        //        super(UserAction.CRASH_HIT, true, observer);\n        //    }\n        //    // Override actionPerformed\n        // }\n        protected class InputAction extends AbstractAction {\n\n            private UserAction action;\n            private boolean activated;\n            private Observer observer;\n\n            public InputAction(UserAction action, boolean activated, Observer observer) {\n                this.action = action;\n                this.activated = activated;\n                this.observer = observer;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // This could perform other actions, but the intention of the\n                // observer is provide an oppurunity for the interested party\n                // to also make some kind of update, to allow the user to\n                // see that that action occured\n                if (activated) {\n                    observer.didActivateAction(action);\n                } else {\n                    observer.didDeactivateAction(action);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>You should also beware that that there is a hardware limitation on some keyboards which limit the number of simultaneous keys which can be pressed at any one time, although to be honest, I found it hard to press all the keys are once for this example any way</p>\n"}],"owner":{"account_id":18041877,"reputation":18,"user_id":13113770,"display_name":"vaquilina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71631663,"answer_count":2,"score":0,"last_activity_date":1648333346,"creation_date":1648322536,"question_id":71631122,"body_markdown":"## Info\r\n\r\nHaving read through several related questions, I think I have a bit of a unique situation here.\r\n\r\nI am building a Java swing application to help drummers make simple shorthand song charts. There&#39;s a dialog where the user can &quot;key in&quot; a rhythm, which is to be recorded to a MIDI sequence \r\nand then processed into either tabulature or sheet music. This is intended to be used with short sections of a song.\r\n\r\n## Setup\r\n\r\nThe idea is when the bound JButtons fire their action while the sequence is being recorded, they&#39;ll generate a MidiMessage with timing information. I also want the buttons to visually indicate that they&#39;ve been activated.\r\n\r\nThe bound keys are currently firing correctly using the key bindings I&#39;ve implemented (except for simultaneous keypresses)...\r\n\r\n\r\n## Problem\r\n\r\nIt&#39;s important that simultaneous keypresses are registered as a single event--and the timing matters here.\r\n\r\nSo, for example, if the user pressed **H** (hi-hat) and **S** (snare) at the same time, it would register as a unison hit at the same place in the bar.\r\n\r\nI have tried using a KeyListener implementation similar to this: https://stackoverflow.com/a/13529058/13113770 , but with that setup I ran into issues with focus, and though it could detect simultaneous key presses, it would also process them individually.\r\n\r\nCould anyone shed some light on this for me?\r\n\r\n```\r\n  // code omitted\r\n\r\n  public PunchesDialog(Frame owner, Song partOwner, Part relevantPart)\r\n  {\r\n    super(owner, ModalityType.APPLICATION_MODAL);\r\n\r\n    this.partOwner = partOwner;\r\n    this.relevantPart = relevantPart;\r\n\r\n    // code omitted\r\n\r\n    /*\r\n     * Voices Panel\r\n     */\r\n\r\n    voices = new LinkedHashMap&lt;&gt;() {{\r\n      put(&quot;crash&quot;,    new VoiceButton(&quot;CRASH (C)&quot;,         crashHitAction));\r\n      put(&quot;ride&quot;,     new VoiceButton(&quot;RIDE (R)&quot;,          rideHitAction));\r\n      put(&quot;hihat&quot;,    new VoiceButton(&quot;HI-HAT (H)&quot;,        hihatHitAction));\r\n      put(&quot;racktom&quot;,  new VoiceButton(&quot;RACK TOM (T)&quot;,      racktomHitAction));\r\n      put(&quot;snare&quot;,    new VoiceButton(&quot;SNARE (S)&quot;,         snareHitAction));\r\n      put(&quot;floortom&quot;, new VoiceButton(&quot;FLOOR TOM (F)&quot;,     floortomHitAction));\r\n      put(&quot;kickdrum&quot;, new VoiceButton(&quot;KICK DRUM (SPACE)&quot;, kickdrumHitAction));\r\n    }};\r\n\r\n    Action crashHitAction = new CrashHitAction();\r\n    Action rideHitAction = new RideHitAction();\r\n    Action hihatHitAction = new HihatHitAction();\r\n    Action racktomHitAction = new RacktomHitAction();\r\n    Action snareHitAction = new SnareHitAction();\r\n    Action floortomHitAction = new FloortomHitAction();\r\n    Action kickdrumHitAction = new KickdrumHitAction();\r\n\r\n    KeyStroke key;\r\n    InputMap inputMap = ((JPanel) getContentPane()).\r\n      getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n    ActionMap actionMap = ((JPanel) getContentPane()).getActionMap();\r\n\r\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_C, 0);\r\n    inputMap.put(key, &quot;crashHit&quot;);\r\n    actionMap.put(&quot;crashHit&quot;, crashHitAction);\r\n\r\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_R, 0);\r\n    inputMap.put(key, &quot;rideHit&quot;);\r\n    actionMap.put(&quot;rideHit&quot;, rideHitAction);\r\n\r\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_H, 0);\r\n    inputMap.put(key, &quot;hihatHit&quot;);\r\n    actionMap.put(&quot;hihatHit&quot;, hihatHitAction);\r\n\r\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_T, 0);\r\n    inputMap.put(key, &quot;racktomHit&quot;);\r\n    actionMap.put(&quot;racktomHit&quot;, racktomHitAction);\r\n\r\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_S, 0);\r\n    inputMap.put(key, &quot;snareHit&quot;);\r\n    actionMap.put(&quot;snareHit&quot;, snareHitAction);\r\n\r\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_F, 0);\r\n    inputMap.put(key, &quot;floortomHit&quot;);\r\n    actionMap.put(&quot;floortomHit&quot;, floortomHitAction);\r\n\r\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0);\r\n    inputMap.put(key, &quot;kickdrumHit&quot;);\r\n    actionMap.put(&quot;kickdrumHit&quot;, kickdrumHitAction);\r\n\r\n    final JPanel pnlVoices = new JPanel(new MigLayout(\r\n          &quot;Insets 0, gap 0, wrap 2&quot;, &quot;[fill][fill]&quot;, &quot;fill&quot;));\r\n    pnlVoices.add(voices.get(&quot;crash&quot;),    &quot;w 100%, h 100%, grow&quot;);\r\n    pnlVoices.add(voices.get(&quot;ride&quot;),     &quot;w 100%&quot;);\r\n    pnlVoices.add(voices.get(&quot;hihat&quot;),    &quot;w 100%&quot;);\r\n    pnlVoices.add(voices.get(&quot;racktom&quot;),  &quot;w 100%&quot;);\r\n    pnlVoices.add(voices.get(&quot;snare&quot;),    &quot;w 100%&quot;);\r\n    pnlVoices.add(voices.get(&quot;floortom&quot;), &quot;w 100%&quot;);\r\n    pnlVoices.add(voices.get(&quot;kickdrum&quot;), &quot;span&quot;);\r\n\r\n    // code omitted\r\n\r\n  }\r\n\r\n  private class CrashHitAction extends AbstractAction\r\n  {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n      // voices.get(&quot;crash&quot;).doClick(100);\r\n      kfMgr.clearFocusOwner();\r\n\r\n      logger.debug(&quot;hit crash&quot;);\r\n    }\r\n  }\r\n\r\n  private class RideHitAction extends AbstractAction\r\n  {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n      // voices.get(&quot;ride&quot;).doClick(100);\r\n      kfMgr.clearFocusOwner();\r\n\r\n      logger.debug(&quot;hit ride&quot;);\r\n    }\r\n  }\r\n\r\n  private class HihatHitAction extends AbstractAction\r\n  {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n      // voices.get(&quot;hihat&quot;).doClick(100);\r\n      kfMgr.clearFocusOwner();\r\n\r\n      logger.debug(&quot;hit hihat&quot;);\r\n    }\r\n  }\r\n\r\n  private class RacktomHitAction extends AbstractAction\r\n  {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n      // voices.get(&quot;racktom&quot;).doClick(100);\r\n      kfMgr.clearFocusOwner();\r\n\r\n      logger.debug(&quot;hit racktom&quot;);\r\n    }\r\n  }\r\n\r\n  private class FloortomHitAction extends AbstractAction\r\n  {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n      // voices.get(&quot;floortom&quot;).doClick(100);\r\n      kfMgr.clearFocusOwner();\r\n\r\n      logger.debug(&quot;hit floortom&quot;);\r\n    }\r\n  }\r\n\r\n  private class SnareHitAction extends AbstractAction\r\n  {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n      // voices.get(&quot;snare&quot;).doClick(100);\r\n      kfMgr.clearFocusOwner();\r\n\r\n      logger.debug(&quot;hit snare&quot;);\r\n    }\r\n  }\r\n\r\n  private class KickdrumHitAction extends AbstractAction\r\n  {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n      // voices.get(&quot;kickdrum&quot;).doClick(100);\r\n      kfMgr.clearFocusOwner();\r\n\r\n      logger.debug(&quot;hit kickdrum&quot;);\r\n    }\r\n  }\r\n\r\n```\r\n\r\n***Screenshot of dialog here:*** https://i.stack.imgur.com/n4RzY.png","title":"Java swing - Processing simultaneous key presses with key bindings","body":"<h2>Info</h2>\n<p>Having read through several related questions, I think I have a bit of a unique situation here.</p>\n<p>I am building a Java swing application to help drummers make simple shorthand song charts. There's a dialog where the user can &quot;key in&quot; a rhythm, which is to be recorded to a MIDI sequence\nand then processed into either tabulature or sheet music. This is intended to be used with short sections of a song.</p>\n<h2>Setup</h2>\n<p>The idea is when the bound JButtons fire their action while the sequence is being recorded, they'll generate a MidiMessage with timing information. I also want the buttons to visually indicate that they've been activated.</p>\n<p>The bound keys are currently firing correctly using the key bindings I've implemented (except for simultaneous keypresses)...</p>\n<h2>Problem</h2>\n<p>It's important that simultaneous keypresses are registered as a single event--and the timing matters here.</p>\n<p>So, for example, if the user pressed <strong>H</strong> (hi-hat) and <strong>S</strong> (snare) at the same time, it would register as a unison hit at the same place in the bar.</p>\n<p>I have tried using a KeyListener implementation similar to this: <a href=\"https://stackoverflow.com/a/13529058/13113770\">https://stackoverflow.com/a/13529058/13113770</a> , but with that setup I ran into issues with focus, and though it could detect simultaneous key presses, it would also process them individually.</p>\n<p>Could anyone shed some light on this for me?</p>\n<pre><code>  // code omitted\n\n  public PunchesDialog(Frame owner, Song partOwner, Part relevantPart)\n  {\n    super(owner, ModalityType.APPLICATION_MODAL);\n\n    this.partOwner = partOwner;\n    this.relevantPart = relevantPart;\n\n    // code omitted\n\n    /*\n     * Voices Panel\n     */\n\n    voices = new LinkedHashMap&lt;&gt;() {{\n      put(&quot;crash&quot;,    new VoiceButton(&quot;CRASH (C)&quot;,         crashHitAction));\n      put(&quot;ride&quot;,     new VoiceButton(&quot;RIDE (R)&quot;,          rideHitAction));\n      put(&quot;hihat&quot;,    new VoiceButton(&quot;HI-HAT (H)&quot;,        hihatHitAction));\n      put(&quot;racktom&quot;,  new VoiceButton(&quot;RACK TOM (T)&quot;,      racktomHitAction));\n      put(&quot;snare&quot;,    new VoiceButton(&quot;SNARE (S)&quot;,         snareHitAction));\n      put(&quot;floortom&quot;, new VoiceButton(&quot;FLOOR TOM (F)&quot;,     floortomHitAction));\n      put(&quot;kickdrum&quot;, new VoiceButton(&quot;KICK DRUM (SPACE)&quot;, kickdrumHitAction));\n    }};\n\n    Action crashHitAction = new CrashHitAction();\n    Action rideHitAction = new RideHitAction();\n    Action hihatHitAction = new HihatHitAction();\n    Action racktomHitAction = new RacktomHitAction();\n    Action snareHitAction = new SnareHitAction();\n    Action floortomHitAction = new FloortomHitAction();\n    Action kickdrumHitAction = new KickdrumHitAction();\n\n    KeyStroke key;\n    InputMap inputMap = ((JPanel) getContentPane()).\n      getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\n    ActionMap actionMap = ((JPanel) getContentPane()).getActionMap();\n\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_C, 0);\n    inputMap.put(key, &quot;crashHit&quot;);\n    actionMap.put(&quot;crashHit&quot;, crashHitAction);\n\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_R, 0);\n    inputMap.put(key, &quot;rideHit&quot;);\n    actionMap.put(&quot;rideHit&quot;, rideHitAction);\n\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_H, 0);\n    inputMap.put(key, &quot;hihatHit&quot;);\n    actionMap.put(&quot;hihatHit&quot;, hihatHitAction);\n\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_T, 0);\n    inputMap.put(key, &quot;racktomHit&quot;);\n    actionMap.put(&quot;racktomHit&quot;, racktomHitAction);\n\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_S, 0);\n    inputMap.put(key, &quot;snareHit&quot;);\n    actionMap.put(&quot;snareHit&quot;, snareHitAction);\n\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_F, 0);\n    inputMap.put(key, &quot;floortomHit&quot;);\n    actionMap.put(&quot;floortomHit&quot;, floortomHitAction);\n\n    key = KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0);\n    inputMap.put(key, &quot;kickdrumHit&quot;);\n    actionMap.put(&quot;kickdrumHit&quot;, kickdrumHitAction);\n\n    final JPanel pnlVoices = new JPanel(new MigLayout(\n          &quot;Insets 0, gap 0, wrap 2&quot;, &quot;[fill][fill]&quot;, &quot;fill&quot;));\n    pnlVoices.add(voices.get(&quot;crash&quot;),    &quot;w 100%, h 100%, grow&quot;);\n    pnlVoices.add(voices.get(&quot;ride&quot;),     &quot;w 100%&quot;);\n    pnlVoices.add(voices.get(&quot;hihat&quot;),    &quot;w 100%&quot;);\n    pnlVoices.add(voices.get(&quot;racktom&quot;),  &quot;w 100%&quot;);\n    pnlVoices.add(voices.get(&quot;snare&quot;),    &quot;w 100%&quot;);\n    pnlVoices.add(voices.get(&quot;floortom&quot;), &quot;w 100%&quot;);\n    pnlVoices.add(voices.get(&quot;kickdrum&quot;), &quot;span&quot;);\n\n    // code omitted\n\n  }\n\n  private class CrashHitAction extends AbstractAction\n  {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      // voices.get(&quot;crash&quot;).doClick(100);\n      kfMgr.clearFocusOwner();\n\n      logger.debug(&quot;hit crash&quot;);\n    }\n  }\n\n  private class RideHitAction extends AbstractAction\n  {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      // voices.get(&quot;ride&quot;).doClick(100);\n      kfMgr.clearFocusOwner();\n\n      logger.debug(&quot;hit ride&quot;);\n    }\n  }\n\n  private class HihatHitAction extends AbstractAction\n  {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      // voices.get(&quot;hihat&quot;).doClick(100);\n      kfMgr.clearFocusOwner();\n\n      logger.debug(&quot;hit hihat&quot;);\n    }\n  }\n\n  private class RacktomHitAction extends AbstractAction\n  {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      // voices.get(&quot;racktom&quot;).doClick(100);\n      kfMgr.clearFocusOwner();\n\n      logger.debug(&quot;hit racktom&quot;);\n    }\n  }\n\n  private class FloortomHitAction extends AbstractAction\n  {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      // voices.get(&quot;floortom&quot;).doClick(100);\n      kfMgr.clearFocusOwner();\n\n      logger.debug(&quot;hit floortom&quot;);\n    }\n  }\n\n  private class SnareHitAction extends AbstractAction\n  {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      // voices.get(&quot;snare&quot;).doClick(100);\n      kfMgr.clearFocusOwner();\n\n      logger.debug(&quot;hit snare&quot;);\n    }\n  }\n\n  private class KickdrumHitAction extends AbstractAction\n  {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      // voices.get(&quot;kickdrum&quot;).doClick(100);\n      kfMgr.clearFocusOwner();\n\n      logger.debug(&quot;hit kickdrum&quot;);\n    }\n  }\n\n</code></pre>\n<p><em><strong>Screenshot of dialog here:</strong></em> <a href=\"https://i.stack.imgur.com/n4RzY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/n4RzY.png</a></p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1648307495,"post_id":71628392,"comment_id":126593516,"body_markdown":"What do you mean when you&#39;re talking &quot;still works&quot;? Spring context run succefully? Or your servlet paths is available still?","body":"What do you mean when you&#39;re talking &quot;still works&quot;? Spring context run succefully? Or your servlet paths is available still?"},{"owner":{"account_id":20502650,"reputation":21,"user_id":15046229,"display_name":"alexe"},"score":0,"creation_date":1648310936,"post_id":71628392,"comment_id":126594302,"body_markdown":"@DmitriiBykov yes, context runs successfully and servlet paths are still available too. I actually googled my question before, but most of answers look like &quot;If you annotate controller as component Spring will automatically recognize it as a contoller via RequestMapping annotation. So, controller is just like component, but it has SOME additional functionality&quot;. But what is the additional functionality is it?","body":"@DmitriiBykov yes, context runs successfully and servlet paths are still available too. I actually googled my question before, but most of answers look like &quot;If you annotate controller as component Spring will automatically recognize it as a contoller via RequestMapping annotation. So, controller is just like component, but it has SOME additional functionality&quot;. But what is the additional functionality is it?"},{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1648316905,"post_id":71628392,"comment_id":126595608,"body_markdown":"Annotations Repository Component Controller RestController are beans but Controller will return View for MVC, RestController will return json because this annotation incapsulates ResponseBody and Repository bean will wrape typical database exceptions. In older versions of Spring Conroller and RestController were also marker annotations for Spring factory fot macking URL after start Spring application","body":"Annotations Repository Component Controller RestController are beans but Controller will return View for MVC, RestController will return json because this annotation incapsulates ResponseBody and Repository bean will wrape typical database exceptions. In older versions of Spring Conroller and RestController were also marker annotations for Spring factory fot macking URL after start Spring application"}],"answers":[{"tags":[],"owner":{"account_id":4331632,"reputation":838,"user_id":3536991,"accept_rate":93,"display_name":"TheITDejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648332798,"creation_date":1648332798,"answer_id":71632212,"question_id":71628392,"body_markdown":"The not-in-depth description of individual annotations would be:\r\n\r\n - `@RequestMapping` registers your class for servlet mapping.\r\n - `@Component` registers your class for dependency injection.\r\n - `@ResponseBody` will add the return value of the method to the HTTP response body.\r\n\r\n***1st case*** - `@RestController` registers your class for DI and adds `@ResponseBody` annotation to it, `@RequestMapping` registers class for servlet mapping.\r\n\r\n***2nd case*** - `@Component` registers your class for DI and you added a manual `@ResponseBody` annotation to it, `@RequestMapping` registers class for servlet mapping.\r\n\r\nBoth of the cases above do the same thing, so that&#39;s why it &#39;just works&#39;.","title":"Why I can replace @RestContoller with @Component and it still works?","body":"<p>The not-in-depth description of individual annotations would be:</p>\n<ul>\n<li><code>@RequestMapping</code> registers your class for servlet mapping.</li>\n<li><code>@Component</code> registers your class for dependency injection.</li>\n<li><code>@ResponseBody</code> will add the return value of the method to the HTTP response body.</li>\n</ul>\n<p><em><strong>1st case</strong></em> - <code>@RestController</code> registers your class for DI and adds <code>@ResponseBody</code> annotation to it, <code>@RequestMapping</code> registers class for servlet mapping.</p>\n<p><em><strong>2nd case</strong></em> - <code>@Component</code> registers your class for DI and you added a manual <code>@ResponseBody</code> annotation to it, <code>@RequestMapping</code> registers class for servlet mapping.</p>\n<p>Both of the cases above do the same thing, so that's why it 'just works'.</p>\n"}],"owner":{"account_id":20502650,"reputation":21,"user_id":15046229,"display_name":"alexe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648332798,"creation_date":1648300803,"question_id":71628392,"body_markdown":"Can someone explain why replacement of **RestController** annotation with **Component** has no any visible effect in my case?\r\nMy controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/employees&quot;)\r\npublic class EmployeeController {\r\n\r\n    @Autowired\r\n    EmployeeService employeeService;\r\n\r\n    @PostMapping(&quot;&quot;)\r\n    public Employee saveEmployee(@Valid @RequestBody Employee employee) {\r\n        return employeeService.save(employee);\r\n    }\r\n\r\n\r\n    ...\r\n\r\n```\r\n\r\nThis works in the same way:\r\n```\r\n@Component\r\n@ResponseBody\r\n@RequestMapping(&quot;/api/employees&quot;)\r\npublic class EmployeeController {\r\n\r\n...\r\n```","title":"Why I can replace @RestContoller with @Component and it still works?","body":"<p>Can someone explain why replacement of <strong>RestController</strong> annotation with <strong>Component</strong> has no any visible effect in my case?\nMy controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/employees&quot;)\npublic class EmployeeController {\n\n    @Autowired\n    EmployeeService employeeService;\n\n    @PostMapping(&quot;&quot;)\n    public Employee saveEmployee(@Valid @RequestBody Employee employee) {\n        return employeeService.save(employee);\n    }\n\n\n    ...\n\n</code></pre>\n<p>This works in the same way:</p>\n<pre><code>@Component\n@ResponseBody\n@RequestMapping(&quot;/api/employees&quot;)\npublic class EmployeeController {\n\n...\n</code></pre>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554552107,"creation_date":1543743042,"answer_id":53578995,"question_id":53573747,"body_markdown":"Here is mcve demonstrating a mechanism to couple changing data to a `BarChart`. &lt;br/&gt;\r\nThere are other ways to achieve this  &quot;binding&quot;, but I tried to keep is simple. &lt;br/&gt;\r\nThe bubble sort algorithm is not relevant to the question, not the answer \r\n, so it is better left out. An mcve needs to demonstrate the question / answer, and not the application:\r\n\r\n\timport java.util.Random;\r\n\timport javafx.beans.Observable;\r\n\timport javafx.beans.property.IntegerProperty;\r\n\timport javafx.beans.property.SimpleIntegerProperty;\r\n\timport javafx.beans.property.SimpleStringProperty;\r\n\timport javafx.beans.property.StringProperty;\r\n\timport javafx.collections.FXCollections;\r\n\timport javafx.collections.ListChangeListener.Change;\r\n\timport javafx.collections.ObservableList;\r\n\timport javafx.event.ActionEvent;\r\n\timport javafx.fxml.FXML;\r\n\timport javafx.scene.chart.BarChart;\r\n\timport javafx.scene.chart.CategoryAxis;\r\n\timport javafx.scene.chart.NumberAxis;\r\n\timport javafx.scene.chart.XYChart;\r\n\timport javafx.scene.chart.XYChart.Data;\r\n\t\r\n\tpublic class FXMLDocumentController {\r\n\t\r\n\t\t@FXML private BarChart barChart;\r\n\t\tprivate ObservableList&lt;XYChart.Series&lt;String, Number&gt;&gt; barChartData;\r\n\t\tprivate ObservableList&lt;DataItem&gt; items;\r\n\t\tprivate  Random rnd = new Random();\r\n\t\tprivate static  int SIZE = 10;\r\n\t\r\n\t\t@FXML\r\n\t\tvoid initialize(){\r\n\t\t\t//an observable collection of DataItem objects, each representing data of one bar \r\n\t\t\titems = FXCollections.observableArrayList(\r\n\t\t            dataItem -&gt; new Observable[] { dataItem.nameProperty(), dataItem.valueProperty()});\r\n\t\t\t//initialize with random values \r\n\t\t\tfor (int i = 0; i &lt; SIZE; i++) {\r\n\t\t\t\titems.add(new DataItem(String.valueOf(i), rnd.nextInt(100)));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t@FXML\r\n\t\tprivate void handleButtonAction( ActionEvent ev) {\r\n\t\r\n\t\t\t ObservableList&lt;Data&lt;String, Number&gt;&gt; seriesData = new DataConvertor(items).getData();\r\n\t\t\t CategoryAxis osaX = new CategoryAxis();\r\n\t\t\t NumberAxis osaY = new NumberAxis();\r\n\t\t\tbarChartData = FXCollections.observableArrayList();\r\n\t\t\t BarChart.Series&lt;String, Number&gt; series1 = new BarChart.Series&lt;&gt;();\r\n\t\t\tseries1.setData(seriesData);\r\n\t\t\tbarChartData.add(series1);\r\n\t\t\tbarChart.setData(barChartData);\r\n\t\t}\r\n\t\r\n\t\t@FXML\r\n\t\tprivate void bubbleButton( ActionEvent ev) {\r\n\t\t\tBubbleSort vlakno=new BubbleSort(items);\r\n\t\t\tvlakno.start();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//pojo to represent items of one bar\r\n\tclass DataItem {\r\n\t\r\n\t    private StringProperty name = new SimpleStringProperty(this, &quot;name&quot;);\r\n\t    private IntegerProperty value = new SimpleIntegerProperty(this, &quot;value&quot;);\r\n\t\r\n\t    public DataItem( String name,  int value) {\r\n\t        setName(name);\r\n\t        setValue(value);\r\n\t    }\r\n\t    public StringProperty nameProperty() {\r\n\t        return name;\r\n\t    }\r\n\t    public String getName() {\r\n\t        return this.nameProperty().get();\r\n\t    }\r\n\t    public void setName( String name) {\r\n\t        this.nameProperty().set(name);\r\n\t    }\r\n\t    public  IntegerProperty valueProperty() {\r\n\t        return value;\r\n\t    }\r\n\t    public int getValue() {\r\n\t        return this.valueProperty().get();\r\n\t    }\r\n\t    public void setValue( int value) {\r\n\t        this.valueProperty().set(value);\r\n\t    }\r\n\t}\r\n\t\r\n\t//simple coupling between items and graph data \r\n\tclass DataConvertor{\r\n\t\r\n\t\tObservableList&lt;DataItem&gt; items;\r\n\t\tObservableList&lt;Data&lt;String, Number&gt;&gt;data;\r\n\t\t DataConvertor( ObservableList&lt;DataItem&gt; items) {\r\n\t\t\tsuper();\r\n\t\t\tthis.items = items;\r\n\t\t\tdata =  FXCollections.observableArrayList();\r\n\t\t\titems.forEach(item -&gt; data.add(new Data&lt;&gt;(item.getName(), item.getValue())));\r\n\t\t\titems.addListener( ( Change&lt;? extends DataItem&gt; arg0 ) -&gt; \tupdate());\r\n\t\t}\r\n\t\r\n\t\tvoid update() {\r\n\t\t\tfor(int i =0; i &lt; data.size(); i++){\r\n\t\t\t\t Data&lt;String, Number&gt; d = data.get(i);\r\n\t\t\t\td.setYValue(items.get(i).getValue());\r\n\t\t\t}\r\n\t\t\tdata.clear();\r\n\t\t\titems.forEach(item -&gt; data.add(new Data&lt;&gt;(item.getName(), item.getValue())));\r\n\t\t}\r\n\t\r\n\t\tObservableList&lt;Data&lt;String, Number&gt;&gt;getData(){\r\n\t\t\treturn data;\r\n\t\t}\r\n\t}\r\n\r\nThe `BubbleSort` class does not really sort. It only changes data periodically and randomly: \r\n\r\n\r\n\timport java.util.Random;\r\n\timport javafx.animation.PauseTransition;\r\n\timport javafx.collections.ObservableList;\r\n\timport javafx.util.Duration;\r\n\t\r\n\tclass BubbleSort  {\r\n\t\r\n\t\tprivate ObservableList&lt;DataItem&gt; items;\r\n\t\tprivate Random rnd = new Random();\r\n\t\tprivate PauseTransition periodicTask;\r\n\t\tprivate static final long CYCLE = 500;\r\n\t\r\n\t\tpublic BubbleSort(final ObservableList&lt;DataItem&gt; items) {\r\n\t\t\tthis.items = items;\r\n\t\t    periodicTask = new PauseTransition(Duration.millis(CYCLE));\r\n\t\t    periodicTask.setOnFinished((e) -&gt; {\r\n\t\t    \tcalculateNewValues();\r\n\t\t        periodicTask.playFromStart();\r\n\t\t    });\r\n\t\t}\r\n\t\r\n\t\tprivate void calculateNewValues() {\r\n\t\t\tfor(DataItem d : items){\r\n\t\t\t\td.setValue(rnd.nextInt(100));\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvoid start(){\r\n\t\t\tperiodicTask.playFromStart();\r\n\t\t}\r\n\t}\r\n\r\nNote that the posted fxml file in not complete. Those two tags are missing: \r\n\r\n    &lt;/children&gt;   \r\n    &lt;/AnchorPane&gt; \r\n","title":"Dynamic Bar chart in Java FX","body":"<p>Here is mcve demonstrating a mechanism to couple changing data to a <code>BarChart</code>. <br/>\nThere are other ways to achieve this  \"binding\", but I tried to keep is simple. <br/>\nThe bubble sort algorithm is not relevant to the question, not the answer \n, so it is better left out. An mcve needs to demonstrate the question / answer, and not the application:</p>\n\n<pre><code>import java.util.Random;\nimport javafx.beans.Observable;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ListChangeListener.Change;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.chart.BarChart;\nimport javafx.scene.chart.CategoryAxis;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.chart.XYChart;\nimport javafx.scene.chart.XYChart.Data;\n\npublic class FXMLDocumentController {\n\n    @FXML private BarChart barChart;\n    private ObservableList&lt;XYChart.Series&lt;String, Number&gt;&gt; barChartData;\n    private ObservableList&lt;DataItem&gt; items;\n    private  Random rnd = new Random();\n    private static  int SIZE = 10;\n\n    @FXML\n    void initialize(){\n        //an observable collection of DataItem objects, each representing data of one bar \n        items = FXCollections.observableArrayList(\n                dataItem -&gt; new Observable[] { dataItem.nameProperty(), dataItem.valueProperty()});\n        //initialize with random values \n        for (int i = 0; i &lt; SIZE; i++) {\n            items.add(new DataItem(String.valueOf(i), rnd.nextInt(100)));\n        }\n    }\n\n    @FXML\n    private void handleButtonAction( ActionEvent ev) {\n\n         ObservableList&lt;Data&lt;String, Number&gt;&gt; seriesData = new DataConvertor(items).getData();\n         CategoryAxis osaX = new CategoryAxis();\n         NumberAxis osaY = new NumberAxis();\n        barChartData = FXCollections.observableArrayList();\n         BarChart.Series&lt;String, Number&gt; series1 = new BarChart.Series&lt;&gt;();\n        series1.setData(seriesData);\n        barChartData.add(series1);\n        barChart.setData(barChartData);\n    }\n\n    @FXML\n    private void bubbleButton( ActionEvent ev) {\n        BubbleSort vlakno=new BubbleSort(items);\n        vlakno.start();\n    }\n}\n\n//pojo to represent items of one bar\nclass DataItem {\n\n    private StringProperty name = new SimpleStringProperty(this, \"name\");\n    private IntegerProperty value = new SimpleIntegerProperty(this, \"value\");\n\n    public DataItem( String name,  int value) {\n        setName(name);\n        setValue(value);\n    }\n    public StringProperty nameProperty() {\n        return name;\n    }\n    public String getName() {\n        return this.nameProperty().get();\n    }\n    public void setName( String name) {\n        this.nameProperty().set(name);\n    }\n    public  IntegerProperty valueProperty() {\n        return value;\n    }\n    public int getValue() {\n        return this.valueProperty().get();\n    }\n    public void setValue( int value) {\n        this.valueProperty().set(value);\n    }\n}\n\n//simple coupling between items and graph data \nclass DataConvertor{\n\n    ObservableList&lt;DataItem&gt; items;\n    ObservableList&lt;Data&lt;String, Number&gt;&gt;data;\n     DataConvertor( ObservableList&lt;DataItem&gt; items) {\n        super();\n        this.items = items;\n        data =  FXCollections.observableArrayList();\n        items.forEach(item -&gt; data.add(new Data&lt;&gt;(item.getName(), item.getValue())));\n        items.addListener( ( Change&lt;? extends DataItem&gt; arg0 ) -&gt;   update());\n    }\n\n    void update() {\n        for(int i =0; i &lt; data.size(); i++){\n             Data&lt;String, Number&gt; d = data.get(i);\n            d.setYValue(items.get(i).getValue());\n        }\n        data.clear();\n        items.forEach(item -&gt; data.add(new Data&lt;&gt;(item.getName(), item.getValue())));\n    }\n\n    ObservableList&lt;Data&lt;String, Number&gt;&gt;getData(){\n        return data;\n    }\n}\n</code></pre>\n\n<p>The <code>BubbleSort</code> class does not really sort. It only changes data periodically and randomly: </p>\n\n<pre><code>import java.util.Random;\nimport javafx.animation.PauseTransition;\nimport javafx.collections.ObservableList;\nimport javafx.util.Duration;\n\nclass BubbleSort  {\n\n    private ObservableList&lt;DataItem&gt; items;\n    private Random rnd = new Random();\n    private PauseTransition periodicTask;\n    private static final long CYCLE = 500;\n\n    public BubbleSort(final ObservableList&lt;DataItem&gt; items) {\n        this.items = items;\n        periodicTask = new PauseTransition(Duration.millis(CYCLE));\n        periodicTask.setOnFinished((e) -&gt; {\n            calculateNewValues();\n            periodicTask.playFromStart();\n        });\n    }\n\n    private void calculateNewValues() {\n        for(DataItem d : items){\n            d.setValue(rnd.nextInt(100));\n        }\n    }\n\n    void start(){\n        periodicTask.playFromStart();\n    }\n}\n</code></pre>\n\n<p>Note that the posted fxml file in not complete. Those two tags are missing: </p>\n\n<pre><code>&lt;/children&gt;   \n&lt;/AnchorPane&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648332350,"creation_date":1543743216,"answer_id":53579013,"question_id":53573747,"body_markdown":"I altered your program just to give you an idea of one way to accomplish this. I used `Timeline` to implement the `BubbleSort`.\r\n\r\n**Main**\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/53579013/230513\r\n */\r\npublic class BubbleSortAnimation extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}    \r\n```\r\n**Controller**\r\n```\r\nimport java.net.URL;\r\nimport java.util.Arrays;\r\nimport java.util.ResourceBundle;\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.Timeline;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.chart.BarChart;\r\nimport javafx.scene.chart.XYChart;\r\nimport javafx.util.Duration;\r\n\r\npublic class FXMLDocumentController implements Initializable {\r\n\r\n    private static final int N = 16;\r\n    private final BarChart.Series&lt;String, Integer&gt; series = new BarChart.Series&lt;&gt;();\r\n    private final Timeline timeline = new Timeline();\r\n    private final int[] pole = new int[N];\r\n    private int iteration;\r\n\r\n    @FXML\r\n    private BarChart&lt;String, Integer&gt; barChart;\r\n\r\n    @FXML\r\n    private void handleButtonAction(ActionEvent ae) {\r\n        for (int i = 0; i &lt; N; i++) {\r\n            pole[i] = (int) ((Math.random() * 100));\r\n            series.getData().get(i).setYValue(pole[i]);\r\n        }\r\n        iteration = 0;\r\n        timeline.stop();\r\n        timeline.getKeyFrames().clear();\r\n        timeline.getKeyFrames().add(new KeyFrame(Duration.millis(1000 / N), (ev) -&gt; {\r\n            System.out.println(iteration + &quot;: &quot; + Arrays.toString(pole));\r\n            for (int j = 0; j &lt; pole.length - (iteration) - 1; j++) {\r\n                if (pole[j] &lt; pole[j + 1]) {\r\n                    final int tmp = pole[j];\r\n                    pole[j] = pole[j + 1];\r\n                    pole[j + 1] = tmp;\r\n                }\r\n            }\r\n            // update series data for this iteration\r\n            for (int i = 0; i &lt; N; i++) {\r\n                series.getData().get(i).setYValue(pole[i]);\r\n            }\r\n            iteration++;\r\n        }));\r\n        timeline.setCycleCount(pole.length);\r\n        timeline.play();\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        for (int i = 0; i &lt; N; i++) {\r\n            series.getData().add(new XYChart.Data&lt;&gt;(String.valueOf(i), 0));\r\n        }\r\n        ObservableList&lt;BarChart.Series&lt;String, Integer&gt;&gt; chartData = FXCollections.observableArrayList();\r\n        chartData.add(series);\r\n        barChart.setData(chartData);\r\n        handleButtonAction(null); // iniialize\r\n    }\r\n}\r\n```\r\n**FXML**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.chart.BarChart?&gt;\r\n&lt;?import javafx.scene.chart.CategoryAxis?&gt;\r\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane id=&quot;AnchorPane&quot; fx:controller=&quot;FXMLDocumentController&quot; \r\n            xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt; \r\n    &lt;children&gt;  \r\n        &lt;Button fx:id=&quot;button&quot; layoutX=&quot;16&quot; layoutY=&quot;16&quot; onAction=&quot;#handleButtonAction&quot; text=&quot;Run&quot; /&gt;  \r\n        &lt;BarChart fx:id=&quot;barChart&quot; animated=&quot;false&quot; cache=&quot;false&quot; layoutX=&quot;16&quot; layoutY=&quot;64&quot; legendVisible=&quot;false&quot; prefHeight=&quot;400&quot; prefWidth=&quot;600&quot;&gt;  \r\n            &lt;xAxis&gt;  \r\n                &lt;CategoryAxis fx:id=&quot;domain&quot; side=&quot;BOTTOM&quot; /&gt;  \r\n            &lt;/xAxis&gt;  \r\n            &lt;yAxis&gt;  \r\n                &lt;NumberAxis fx:id=&quot;range&quot; side=&quot;LEFT&quot; /&gt;  \r\n            &lt;/yAxis&gt;  \r\n        &lt;/BarChart&gt;\r\n    &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\n[Improvements][1] to this code are due to @trashgod.\r\n\r\n\r\n  [1]: https://gist.github.com/trashgod/dfa2f2e228465449ac473bb96ad8ae72","title":"Dynamic Bar chart in Java FX","body":"<p>I altered your program just to give you an idea of one way to accomplish this. I used <code>Timeline</code> to implement the <code>BubbleSort</code>.</p>\n<p><strong>Main</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\n/**\n * @see https://stackoverflow.com/a/53579013/230513\n */\npublic class BubbleSortAnimation extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}    \n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>import java.net.URL;\nimport java.util.Arrays;\nimport java.util.ResourceBundle;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.chart.BarChart;\nimport javafx.scene.chart.XYChart;\nimport javafx.util.Duration;\n\npublic class FXMLDocumentController implements Initializable {\n\n    private static final int N = 16;\n    private final BarChart.Series&lt;String, Integer&gt; series = new BarChart.Series&lt;&gt;();\n    private final Timeline timeline = new Timeline();\n    private final int[] pole = new int[N];\n    private int iteration;\n\n    @FXML\n    private BarChart&lt;String, Integer&gt; barChart;\n\n    @FXML\n    private void handleButtonAction(ActionEvent ae) {\n        for (int i = 0; i &lt; N; i++) {\n            pole[i] = (int) ((Math.random() * 100));\n            series.getData().get(i).setYValue(pole[i]);\n        }\n        iteration = 0;\n        timeline.stop();\n        timeline.getKeyFrames().clear();\n        timeline.getKeyFrames().add(new KeyFrame(Duration.millis(1000 / N), (ev) -&gt; {\n            System.out.println(iteration + &quot;: &quot; + Arrays.toString(pole));\n            for (int j = 0; j &lt; pole.length - (iteration) - 1; j++) {\n                if (pole[j] &lt; pole[j + 1]) {\n                    final int tmp = pole[j];\n                    pole[j] = pole[j + 1];\n                    pole[j + 1] = tmp;\n                }\n            }\n            // update series data for this iteration\n            for (int i = 0; i &lt; N; i++) {\n                series.getData().get(i).setYValue(pole[i]);\n            }\n            iteration++;\n        }));\n        timeline.setCycleCount(pole.length);\n        timeline.play();\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        for (int i = 0; i &lt; N; i++) {\n            series.getData().add(new XYChart.Data&lt;&gt;(String.valueOf(i), 0));\n        }\n        ObservableList&lt;BarChart.Series&lt;String, Integer&gt;&gt; chartData = FXCollections.observableArrayList();\n        chartData.add(series);\n        barChart.setData(chartData);\n        handleButtonAction(null); // iniialize\n    }\n}\n</code></pre>\n<p><strong>FXML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.chart.BarChart?&gt;\n&lt;?import javafx.scene.chart.CategoryAxis?&gt;\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane id=&quot;AnchorPane&quot; fx:controller=&quot;FXMLDocumentController&quot; \n            xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt; \n    &lt;children&gt;  \n        &lt;Button fx:id=&quot;button&quot; layoutX=&quot;16&quot; layoutY=&quot;16&quot; onAction=&quot;#handleButtonAction&quot; text=&quot;Run&quot; /&gt;  \n        &lt;BarChart fx:id=&quot;barChart&quot; animated=&quot;false&quot; cache=&quot;false&quot; layoutX=&quot;16&quot; layoutY=&quot;64&quot; legendVisible=&quot;false&quot; prefHeight=&quot;400&quot; prefWidth=&quot;600&quot;&gt;  \n            &lt;xAxis&gt;  \n                &lt;CategoryAxis fx:id=&quot;domain&quot; side=&quot;BOTTOM&quot; /&gt;  \n            &lt;/xAxis&gt;  \n            &lt;yAxis&gt;  \n                &lt;NumberAxis fx:id=&quot;range&quot; side=&quot;LEFT&quot; /&gt;  \n            &lt;/yAxis&gt;  \n        &lt;/BarChart&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p><a href=\"https://gist.github.com/trashgod/dfa2f2e228465449ac473bb96ad8ae72\" rel=\"nofollow noreferrer\">Improvements</a> to this code are due to @trashgod.</p>\n"}],"owner":{"account_id":14862086,"reputation":31,"user_id":10732535,"display_name":"Martin Janda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1891,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1648332350,"creation_date":1543688459,"question_id":53573747,"body_markdown":"Hello I am trying to create bar chart which shows values of field. Values of field are changed by sorting algorithm and chart should show any of changes.\r\n\r\n\r\n   \r\n    public class FXMLDocumentController implements Initializable {\r\n    \r\n    \tstatic int[] pole = new int[10]; // field\r\n    \tint hodnota;\r\n    \r\n    \t@FXML               // bar chart\r\n    \tprivate BarChart barChart; \r\n    \r\n    \t@FXML\r\n    \tprivate void handleButtonAction(ActionEvent ev) { //button for filling up new random graph\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\thodnota = intValue((StrictMath.random() * 100));        \r\n    \t\t\tpole[i] = hodnota;\r\n    \t\t}\r\n    \r\n    \t\tfinal CategoryAxis osaX = new CategoryAxis();          \r\n    \t\tfinal NumberAxis osaY = new NumberAxis();\r\n    \t\tObservableList&lt;XYChart.Series&lt;String, Number&gt;&gt; barChartData = FXCollections.observableArrayList();\r\n    \t\tfinal BarChart.Series&lt;String, Number&gt; series1 = new BarChart.Series&lt;&gt;();\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;1&quot;, pole[0]));        \r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;2&quot;, pole[1]));\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;3&quot;, pole[2]));\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;4&quot;, pole[3]));\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;5&quot;, pole[4]));\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;6&quot;, pole[5]));\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;7&quot;, pole[6]));\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;8&quot;, pole[7]));\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;9&quot;, pole[8]));\r\n    \t\tseries1.getData().add(new XYChart.Data&lt;&gt;(&quot;10&quot;, pole[9]));\r\n    \t\tbarChartData.add(series1);\r\n    \t\tbarChart.setData(barChartData);\r\n    \t}\r\n    \r\n    \t@FXML // button which starts sorting algorhitm, it is changing values in field\r\n    \tprivate void bubbleButton(ActionEvent ev) { \r\n    \t\tBubbleSort vlakno=new BubbleSort(&quot;vypoctoveVlakno&quot;);\r\n    \t\tvlakno.start(); \r\n    \t}     \r\n    \r\n    \t@Override\r\n    \tpublic void initialize(URL url, ResourceBundle rb) {\r\n    \t\t// TODO\r\n    \t}\r\n    }\r\n\r\nI already tried to make a new thread which should load data again and again but it didn&#39;t work. Also tried to load them in the FXML controller but the graphics window gets stuck. I am actually very new to this.\r\n\r\nFXML document, main just loads stage from fxml\r\n\r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;610.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;radicialgoritmy.FXMLDocumentController&quot;&gt; \r\n    &lt;children&gt;  \r\n    &lt;Button fx:id=&quot;button&quot; layoutX=&quot;14.0&quot; layoutY=&quot;14.0&quot; onAction=&quot;#handleButtonAction&quot; text=&quot;Vygeneruj&quot; /&gt;  \r\n    &lt;BarChart fx:id=&quot;barChart&quot; animated=&quot;false&quot; cache=&quot;true&quot; layoutX=&quot;30.0&quot;     layoutY=&quot;188.0&quot; legendVisible=&quot;false&quot; prefHeight=&quot;292.0&quot; prefWidth=&quot;552.0&quot;&gt;  \r\n      &lt;xAxis&gt;  \r\n        &lt;CategoryAxis fx:id=&quot;osaX&quot; side=&quot;BOTTOM&quot; /&gt;  \r\n      &lt;/xAxis&gt;  \r\n      &lt;yAxis&gt;  \r\n        &lt;NumberAxis fx:id=&quot;osaY&quot; side=&quot;LEFT&quot; /&gt;  \r\n      &lt;/yAxis&gt;  \r\n    &lt;/BarChart&gt;\r\n      &lt;Button fx:id=&quot;bubble&quot; layoutX=&quot;100.0&quot; layoutY=&quot;14.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#bubbleButton&quot; text=&quot;BubbleSort&quot; /&gt; \r\n  &lt;/children&gt;  \r\n&lt;/AnchorPane&gt;\r\n\r\nClass for sorting Algorithm.\r\n\t\r\n\tclass BubbleSort extends Thread {\r\n\t\r\n\t\tpublic BubbleSort(final String jmeno) {\r\n\t\t\tsuper(jmeno);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tfor (int i = 0; i &lt; pole.length - 1; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; pole.length - i - 1; j++) {\r\n\t\t\t\t\tif (pole[j] &lt; pole[j + 1]) {\r\n\t\t\t\t\t\tfinal int tmp = pole[j];\r\n\t\t\t\t\t\tpole[j] = pole[j + 1];\r\n\t\t\t\t\t\tpole[j + 1] = tmp;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tThread.sleep(250);\r\n\t\t\t\t\t} catch (final InterruptedException ex) {\r\n\t\t\t\t\t\tLogger.getLogger(BubbleSort.class.getName()).log(Level.SEVERE, null, ex);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Dynamic Bar chart in Java FX","body":"<p>Hello I am trying to create bar chart which shows values of field. Values of field are changed by sorting algorithm and chart should show any of changes.</p>\n\n<pre><code>public class FXMLDocumentController implements Initializable {\n\n    static int[] pole = new int[10]; // field\n    int hodnota;\n\n    @FXML               // bar chart\n    private BarChart barChart; \n\n    @FXML\n    private void handleButtonAction(ActionEvent ev) { //button for filling up new random graph\n\n        for (int i = 0; i &lt; 10; i++) {\n            hodnota = intValue((StrictMath.random() * 100));        \n            pole[i] = hodnota;\n        }\n\n        final CategoryAxis osaX = new CategoryAxis();          \n        final NumberAxis osaY = new NumberAxis();\n        ObservableList&lt;XYChart.Series&lt;String, Number&gt;&gt; barChartData = FXCollections.observableArrayList();\n        final BarChart.Series&lt;String, Number&gt; series1 = new BarChart.Series&lt;&gt;();\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"1\", pole[0]));        \n        series1.getData().add(new XYChart.Data&lt;&gt;(\"2\", pole[1]));\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"3\", pole[2]));\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"4\", pole[3]));\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"5\", pole[4]));\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"6\", pole[5]));\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"7\", pole[6]));\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"8\", pole[7]));\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"9\", pole[8]));\n        series1.getData().add(new XYChart.Data&lt;&gt;(\"10\", pole[9]));\n        barChartData.add(series1);\n        barChart.setData(barChartData);\n    }\n\n    @FXML // button which starts sorting algorhitm, it is changing values in field\n    private void bubbleButton(ActionEvent ev) { \n        BubbleSort vlakno=new BubbleSort(\"vypoctoveVlakno\");\n        vlakno.start(); \n    }     \n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }\n}\n</code></pre>\n\n<p>I already tried to make a new thread which should load data again and again but it didn't work. Also tried to load them in the FXML controller but the graphics window gets stuck. I am actually very new to this.</p>\n\n<p>FXML document, main just loads stage from fxml</p>\n\n<pre><code>&lt;AnchorPane id=\"AnchorPane\" prefHeight=\"487.0\" prefWidth=\"610.0\" xmlns=\"http://javafx.com/javafx/8\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"radicialgoritmy.FXMLDocumentController\"&gt; \n&lt;children&gt;  \n&lt;Button fx:id=\"button\" layoutX=\"14.0\" layoutY=\"14.0\" onAction=\"#handleButtonAction\" text=\"Vygeneruj\" /&gt;  \n&lt;BarChart fx:id=\"barChart\" animated=\"false\" cache=\"true\" layoutX=\"30.0\"     layoutY=\"188.0\" legendVisible=\"false\" prefHeight=\"292.0\" prefWidth=\"552.0\"&gt;  \n  &lt;xAxis&gt;  \n    &lt;CategoryAxis fx:id=\"osaX\" side=\"BOTTOM\" /&gt;  \n  &lt;/xAxis&gt;  \n  &lt;yAxis&gt;  \n    &lt;NumberAxis fx:id=\"osaY\" side=\"LEFT\" /&gt;  \n  &lt;/yAxis&gt;  \n&lt;/BarChart&gt;\n  &lt;Button fx:id=\"bubble\" layoutX=\"100.0\" layoutY=\"14.0\" mnemonicParsing=\"false\" onAction=\"#bubbleButton\" text=\"BubbleSort\" /&gt; \n</code></pre>\n\n<p><br>\n</p>\n\n<p>Class for sorting Algorithm.</p>\n\n<pre><code>class BubbleSort extends Thread {\n\n    public BubbleSort(final String jmeno) {\n        super(jmeno);\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; pole.length - 1; i++) {\n            for (int j = 0; j &lt; pole.length - i - 1; j++) {\n                if (pole[j] &lt; pole[j + 1]) {\n                    final int tmp = pole[j];\n                    pole[j] = pole[j + 1];\n                    pole[j + 1] = tmp;\n                }\n                try {\n                    Thread.sleep(250);\n                } catch (final InterruptedException ex) {\n                    Logger.getLogger(BubbleSort.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648321370,"creation_date":1648321370,"answer_id":71630980,"question_id":71630931,"body_markdown":"The OpenAPI generator doesn&#39;t support all of the OAS3.0 features yet. It&#39;s listed on their roadmap: https://openapi-generator.tech/docs/roadmap/\r\n\r\n&gt; OAS3.0 features support: anyOf, oneOf, callbacks, etc\r\n\r\nThere are still several open issues for this: https://github.com/OpenAPITools/openapi-generator/issues?q=is%3Aissue+is%3Aopen+oneof\r\n\r\nUnfortunately that means you&#39;ll have to wait until support is added, or help implement support through a pull request, or find a different generator.\r\n\r\nWhen we encountered this issue, we solved it in two ways that probably won&#39;t help you:\r\n\r\n1) We updated the API spec where we could to not use `oneOf` at all (`allOf` worked OK).\r\n\r\n2) For a spec we couldn&#39;t update, we manually created the model classes using Jackson&#39;s polymorphism mechanisms (based on model classes generated earlier).","title":"org.openapi.generator to Java client + model with oneOff in swagger","body":"<p>The OpenAPI generator doesn't support all of the OAS3.0 features yet. It's listed on their roadmap: <a href=\"https://openapi-generator.tech/docs/roadmap/\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/roadmap/</a></p>\n<blockquote>\n<p>OAS3.0 features support: anyOf, oneOf, callbacks, etc</p>\n</blockquote>\n<p>There are still several open issues for this: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues?q=is%3Aissue+is%3Aopen+oneof\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues?q=is%3Aissue+is%3Aopen+oneof</a></p>\n<p>Unfortunately that means you'll have to wait until support is added, or help implement support through a pull request, or find a different generator.</p>\n<p>When we encountered this issue, we solved it in two ways that probably won't help you:</p>\n<ol>\n<li><p>We updated the API spec where we could to not use <code>oneOf</code> at all (<code>allOf</code> worked OK).</p>\n</li>\n<li><p>For a spec we couldn't update, we manually created the model classes using Jackson's polymorphism mechanisms (based on model classes generated earlier).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":937569,"reputation":35,"user_id":966217,"display_name":"user966217"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648332285,"creation_date":1648320931,"question_id":71630931,"body_markdown":"I&#39;m currently enrolled with a spring-boot project, and they are using an API first approach which I think is great except that this approach leads to us generating our ingoing API clients + input models, and the chosen tool org.openapi.generator 5.3.0 is really bad at it. \r\n\r\nI have an API spec like this (I removed non-important details):\r\n\r\n    /dummypath/{id}/documentation-demand&#39;:\r\n     get:\r\n      tags:\r\n        - dummy-documentation-demand\r\n      parameters:\r\n        -\r\n          name: id\r\n          schema:\r\n            $ref: &#39;#/components/schemas/someId&#39;\r\n          in: path\r\n          required: true\r\n      responses:\r\n        &#39;200&#39;:\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  allOf:\r\n                    - $ref: &#39;#/components/schemas/DocumentationDemand&#39;\r\n          description: &#39;Success.\r\n        \r\n\r\n    DocumentationDemand:\r\n      oneOf:\r\n        - $ref: &#39;#/components/schemas/DocumentationDemandOne&#39;\r\n        - $ref: &#39;#/components/schemas/DocumentationDemandTwo&#39;\r\n      discriminator:\r\n        mapping:\r\n          ONE: &#39;#/components/schemas/DocumentationDemandOne&#39;\r\n          TWO: &#39;#/components/schemas/DocumentationDemandTwo&#39;\r\n        propertyName: type\r\n      required:\r\n        - type\r\n      properties:\r\n        type:\r\n          type: string\r\n          enum:\r\n            - ONE\r\n            - TWO\r\n   \r\n    DocumentationDemandOne:\r\n      type: object\r\n      properties:\r\n        type:\r\n          type: string\r\n          enum:\r\n            - ONE\r\n    DocumentationDemandTwo:\r\n      type: object\r\n      properties:\r\n        type:\r\n          type: string\r\n          enum:\r\n            - TWO\r\n\r\nBasically I want an endpoint that gives a list of objects, that differ. But the &quot;type&quot; attribute tells you which one it is. In java this &quot;type&quot; doesn&#39;t make much sense, since the instance knows what it is, but for JSON it makes sense.\r\n\r\nThe generated models from the plugin seem all wrong. There is no common type for the two concrete classes, neither through interface or superclass. Secondly the discriminator map seems to wholly ignored. There is no common type enum created, no hardcoded type on the concrete classes. Is org.openapi.generator lacking support for this scenario, and if so, are there better generator plugins out there? Or is the an alternative way to express this in swagger? I&#39;ve tried using v.5.4.0 but it is no better.\r\n\r\n\r\nEDIT:\r\n\r\nSo I&#39;ve tried changing my spec to this:\r\n\r\n    /dummypath/{id}/documentation-demand&#39;:\r\n     get:\r\n       tags:\r\n         - dummy-documentation-demand\r\n       parameters:\r\n         -\r\n          name: id\r\n          schema:\r\n            $ref: &#39;#/components/schemas/someId&#39;\r\n          in: path\r\n          required: true\r\n      responses:\r\n        &#39;200&#39;:\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  allOf:\r\n                    - $ref: &#39;#/components/schemas/DocumentationDemand&#39;\r\n          description: &#39;Success.\r\n        \r\n    \r\n    DocumentationDemand:\r\n      discriminator:\r\n        mapping:\r\n          DocumentationDemandOne: &#39;#/components/schemas/DocumentationDemandOne&#39;\r\n          DocumentationDemandTwo: &#39;#/components/schemas/DocumentationDemandTwo&#39;\r\n        propertyName: type\r\n      required:\r\n        - type\r\n      properties:\r\n        type:\r\n          type: string\r\n    \r\n    DocumentationDemandOne:\r\n      type: object\r\n      \r\n    DocumentationDemandTwo:\r\n      type: object\r\n      \r\n\r\nAnd when the above model is returned as JSON the &quot;type&quot; property is not set...I mean I can always add &quot;type&quot; as an attribute on the two subtypes and set it manually, but come on...is there no functionallity (or support in plugin?) from discriminator ?\r\n","title":"org.openapi.generator to Java client + model with oneOff in swagger","body":"<p>I'm currently enrolled with a spring-boot project, and they are using an API first approach which I think is great except that this approach leads to us generating our ingoing API clients + input models, and the chosen tool org.openapi.generator 5.3.0 is really bad at it.</p>\n<p>I have an API spec like this (I removed non-important details):</p>\n<pre><code>/dummypath/{id}/documentation-demand':\n get:\n  tags:\n    - dummy-documentation-demand\n  parameters:\n    -\n      name: id\n      schema:\n        $ref: '#/components/schemas/someId'\n      in: path\n      required: true\n  responses:\n    '200':\n      content:\n        application/json:\n          schema:\n            type: array\n            items:\n              allOf:\n                - $ref: '#/components/schemas/DocumentationDemand'\n      description: 'Success.\n    \n\nDocumentationDemand:\n  oneOf:\n    - $ref: '#/components/schemas/DocumentationDemandOne'\n    - $ref: '#/components/schemas/DocumentationDemandTwo'\n  discriminator:\n    mapping:\n      ONE: '#/components/schemas/DocumentationDemandOne'\n      TWO: '#/components/schemas/DocumentationDemandTwo'\n    propertyName: type\n  required:\n    - type\n  properties:\n    type:\n      type: string\n      enum:\n        - ONE\n        - TWO\n\nDocumentationDemandOne:\n  type: object\n  properties:\n    type:\n      type: string\n      enum:\n        - ONE\nDocumentationDemandTwo:\n  type: object\n  properties:\n    type:\n      type: string\n      enum:\n        - TWO\n</code></pre>\n<p>Basically I want an endpoint that gives a list of objects, that differ. But the &quot;type&quot; attribute tells you which one it is. In java this &quot;type&quot; doesn't make much sense, since the instance knows what it is, but for JSON it makes sense.</p>\n<p>The generated models from the plugin seem all wrong. There is no common type for the two concrete classes, neither through interface or superclass. Secondly the discriminator map seems to wholly ignored. There is no common type enum created, no hardcoded type on the concrete classes. Is org.openapi.generator lacking support for this scenario, and if so, are there better generator plugins out there? Or is the an alternative way to express this in swagger? I've tried using v.5.4.0 but it is no better.</p>\n<p>EDIT:</p>\n<p>So I've tried changing my spec to this:</p>\n<pre><code>/dummypath/{id}/documentation-demand':\n get:\n   tags:\n     - dummy-documentation-demand\n   parameters:\n     -\n      name: id\n      schema:\n        $ref: '#/components/schemas/someId'\n      in: path\n      required: true\n  responses:\n    '200':\n      content:\n        application/json:\n          schema:\n            type: array\n            items:\n              allOf:\n                - $ref: '#/components/schemas/DocumentationDemand'\n      description: 'Success.\n    \n\nDocumentationDemand:\n  discriminator:\n    mapping:\n      DocumentationDemandOne: '#/components/schemas/DocumentationDemandOne'\n      DocumentationDemandTwo: '#/components/schemas/DocumentationDemandTwo'\n    propertyName: type\n  required:\n    - type\n  properties:\n    type:\n      type: string\n\nDocumentationDemandOne:\n  type: object\n  \nDocumentationDemandTwo:\n  type: object\n  \n</code></pre>\n<p>And when the above model is returned as JSON the &quot;type&quot; property is not set...I mean I can always add &quot;type&quot; as an attribute on the two subtypes and set it manually, but come on...is there no functionallity (or support in plugin?) from discriminator ?</p>\n"},{"tags":["java","spring","spring-mvc","spring-ioc"],"comments":[{"owner":{"account_id":1611333,"reputation":4067,"user_id":1490144,"accept_rate":68,"display_name":"Manu"},"score":0,"creation_date":1464450982,"post_id":37501016,"comment_id":62496928,"body_markdown":"Does Medicine have an id field? Can you post Medicine and MedicineRepository?","body":"Does Medicine have an id field? Can you post Medicine and MedicineRepository?"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":1,"creation_date":1464451011,"post_id":37501016,"comment_id":62496937,"body_markdown":"show us your `/tavalendo` JSP","body":"show us your <code>&#47;tavalendo</code> JSP"},{"owner":{"account_id":4255880,"reputation":391,"user_id":3481598,"accept_rate":67,"display_name":"davidwillianx"},"score":0,"creation_date":1464460658,"post_id":37501016,"comment_id":62499940,"body_markdown":"I postd some more code that could help to understand my problem @Manu","body":"I postd some more code that could help to understand my problem @Manu"},{"owner":{"account_id":4255880,"reputation":391,"user_id":3481598,"accept_rate":67,"display_name":"davidwillianx"},"score":0,"creation_date":1464460684,"post_id":37501016,"comment_id":62499946,"body_markdown":"@dit I dont have a JSP /tavalendo it&#39;s just a controller mapping this url, this controller is working pretty well.","body":"@dit I dont have a JSP /tavalendo it&#39;s just a controller mapping this url, this controller is working pretty well."}],"answers":[{"tags":[],"owner":{"account_id":1611333,"reputation":4067,"user_id":1490144,"accept_rate":68,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464461338,"creation_date":1464461338,"answer_id":37502692,"question_id":37501016,"body_markdown":"It seems Spring cannot find the id field of Medicine:\n\n    Invalid property &#39;id&#39; of bean class [java.util.LinkedHashMap]: Could not find field for property during fallback access!]\n\nActually, Medicine does not seem to have an `id` field, so you need to add it. ","title":"NotReadablePropertyException: Invalid property &#39;id&#39; of bean class [java.util.LinkedHashMap]","body":"<p>It seems Spring cannot find the id field of Medicine:</p>\n\n<pre><code>Invalid property 'id' of bean class [java.util.LinkedHashMap]: Could not find field for property during fallback access!]\n</code></pre>\n\n<p>Actually, Medicine does not seem to have an <code>id</code> field, so you need to add it. </p>\n"},{"tags":[],"owner":{"account_id":15325716,"reputation":1,"user_id":11056923,"display_name":"Yunior Concepci&#243;n L&#243;pez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550067650,"creation_date":1550067650,"answer_id":54672405,"question_id":37501016,"body_markdown":" 1) Converter Object to String\r\n\r\n    private String jsonObjectToString( T value ) throws AppException\r\n    {\r\n\r\n        try\r\n        {\r\n            ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n            String strJson = ow.writeValueAsString( value );\r\n            return strJson;\r\n        }\r\n        catch ( JsonProcessingException e )\r\n        {\r\n            LOG.error( e.getMessage(), e );\r\n            throw new AppException( e );\r\n        }\r\n\r\n    }\r\n\r\n2) Converter String to Object\r\n\r\n    @SuppressWarnings( &quot;unchecked&quot; )\r\n    private T jsonStringToObject( String strJson, Class&lt;?&gt; clazz ) throws AppException\r\n    {\r\n\r\n        try\r\n        {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            T object = ( T ) mapper.readValue( strJson, clazz );\r\n            return object;\r\n        }\r\n        catch ( IOException e )\r\n        {\r\n            LOG.error( e.getMessage(), e );\r\n            throw new AppException( e );\r\n        }\r\n\r\n    }\r\n\r\n3) Transforms the generic T to reset the Object Reference\r\n\r\n    private void yourMethod( CommonRq&lt;T&gt; rq ) throws AppException {\r\n\r\n       String newStrJson = jsonObjectToString( rq.getData() );\r\n       T newEntity = jsonStringToObject( newStrJson, getEntityClass() );\r\n       T result = this.mantenimientoService.create( newEntity );\r\n\r\n    }\r\n\r\n\r\nThis has worked for me....\r\n\r\n","title":"NotReadablePropertyException: Invalid property &#39;id&#39; of bean class [java.util.LinkedHashMap]","body":"<p>1) Converter Object to String</p>\n\n<pre><code>private String jsonObjectToString( T value ) throws AppException\n{\n\n    try\n    {\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n        String strJson = ow.writeValueAsString( value );\n        return strJson;\n    }\n    catch ( JsonProcessingException e )\n    {\n        LOG.error( e.getMessage(), e );\n        throw new AppException( e );\n    }\n\n}\n</code></pre>\n\n<p>2) Converter String to Object</p>\n\n<pre><code>@SuppressWarnings( \"unchecked\" )\nprivate T jsonStringToObject( String strJson, Class&lt;?&gt; clazz ) throws AppException\n{\n\n    try\n    {\n        ObjectMapper mapper = new ObjectMapper();\n        T object = ( T ) mapper.readValue( strJson, clazz );\n        return object;\n    }\n    catch ( IOException e )\n    {\n        LOG.error( e.getMessage(), e );\n        throw new AppException( e );\n    }\n\n}\n</code></pre>\n\n<p>3) Transforms the generic T to reset the Object Reference</p>\n\n<pre><code>private void yourMethod( CommonRq&lt;T&gt; rq ) throws AppException {\n\n   String newStrJson = jsonObjectToString( rq.getData() );\n   T newEntity = jsonStringToObject( newStrJson, getEntityClass() );\n   T result = this.mantenimientoService.create( newEntity );\n\n}\n</code></pre>\n\n<p>This has worked for me....</p>\n"},{"tags":[],"owner":{"account_id":3474679,"reputation":371,"user_id":3117977,"display_name":"Jawad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587830740,"creation_date":1587830740,"answer_id":61428579,"question_id":37501016,"body_markdown":"I ran into a similar issue recently and I was getting a similar exception when trying to create/update my resources:\r\n&gt; Invalid property &#39;id&#39; of bean class [org.springframework.hateoas.CollectionModel]: Could not find field for property during fallback access!\r\n\r\nAfter looking closely I seem to used an incorrect HTTP request header (Content-Type: text/uri-list instead of Content-Type: application/json) when making the call to the API due to which it wasn&#39;t able to deserialize the JSON payload.\r\n\r\nJust sharing in case somebody runs into something similar, it may save them some time when debugging","title":"NotReadablePropertyException: Invalid property &#39;id&#39; of bean class [java.util.LinkedHashMap]","body":"<p>I ran into a similar issue recently and I was getting a similar exception when trying to create/update my resources:</p>\n\n<blockquote>\n  <p>Invalid property 'id' of bean class [org.springframework.hateoas.CollectionModel]: Could not find field for property during fallback access!</p>\n</blockquote>\n\n<p>After looking closely I seem to used an incorrect HTTP request header (Content-Type: text/uri-list instead of Content-Type: application/json) when making the call to the API due to which it wasn't able to deserialize the JSON payload.</p>\n\n<p>Just sharing in case somebody runs into something similar, it may save them some time when debugging</p>\n"},{"tags":[],"owner":{"account_id":19335964,"reputation":61,"user_id":14136553,"display_name":"Bhushan Kathar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607526237,"creation_date":1607526237,"answer_id":65219340,"question_id":37501016,"body_markdown":"I had ran with same issue while using Projection in JPA.\r\n\r\nError Code:\r\n```\r\nOptional&lt;List&lt;AbcProj&gt;&gt; getData(--);\r\n```\r\nResolved after making below changes:\r\n```\r\nList&lt;AbcProj&gt; getData(--);\r\n```","title":"NotReadablePropertyException: Invalid property &#39;id&#39; of bean class [java.util.LinkedHashMap]","body":"<p>I had ran with same issue while using Projection in JPA.</p>\n<p>Error Code:</p>\n<pre><code>Optional&lt;List&lt;AbcProj&gt;&gt; getData(--);\n</code></pre>\n<p>Resolved after making below changes:</p>\n<pre><code>List&lt;AbcProj&gt; getData(--);\n</code></pre>\n"}],"owner":{"account_id":4255880,"reputation":391,"user_id":3481598,"accept_rate":67,"display_name":"davidwillianx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1648332040,"creation_date":1464450551,"question_id":37501016,"body_markdown":"I&#39;m trying to create an abstract service in my springMVC application. My data flows* perfect through my layers, but my persistence (Abstraction), could not find a way to save/delete/update my database, these are the classes:\r\n\r\n\r\n    abstract class BaseServiceImpl&lt;T, ID extends Serializable&gt;\r\n     implements BaseService&lt;T, ID&gt; {\r\n\r\n    protected abstract BaseRepository&lt;T, ID&gt; getRepository();\r\n\r\n    private BaseRepository&lt;T, ID&gt; repository;\r\n\r\n    public BaseServiceImpl(BaseRepository&lt;T, ID&gt; repository){\r\n       this.repository = repository;\r\n    }\r\n\r\n    public List&lt;T&gt; findAll(){\r\n        return getRepository().findAll();\r\n    }\r\n\r\n    public T find(ID id){\r\n        return getRepository().findOne(id);\r\n    }\r\n\r\n    public T save(T persisted){\r\n        return this.repository.save(persisted);\r\n    }\r\n\r\n    public void delete(ID id){\r\n        getRepository().delete(id);\r\n    }\r\n\r\n    public long count(){\r\n        return getRepository().count();\r\n    }\r\n\r\n    public boolean exists(ID id){\r\n        return getRepository().exists(id);\r\n    }  \r\n    }\r\n\r\n\r\n//---\r\n\r\n    @Service\r\n    public class MedicineServiceImpl\r\n    extends BaseServiceImpl&lt;Medicine, Integer&gt; \r\n    implements MedicineService {\r\n\r\n    @Autowired\r\n    private MedicineRepository repository;\r\n\r\n    @Autowired\r\n    public MedicineServiceImpl(MedicineRepository repository) {\r\n        super(repository);\r\n    }\r\n\r\n    @Override\r\n    public BaseRepository&lt;Medicine, Integer&gt; getRepository() {\r\n        return repository;\r\n    }\r\n    }\r\n\r\n//--\r\n\r\n    @MappedSuperclass\r\n    abstract class BaseDomain {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n    }\r\n\r\n\r\n//--\r\n    \r\n    @Entity\r\n    @Table(name = &quot;medicines&quot;)\r\n    public class Medicine\r\n    extends BaseDomain implements Serializable{\r\n\r\n    @NotNull\r\n    private String name;\r\n    private String description;\r\n    private String purpose;\r\n    @Column(name = &quot;active_principle&quot;)\r\n    private String activePrinciple;\r\n    @Column(name = &quot;therapeutic_class&quot;)\r\n    private String therapeuticClass;\r\n    @Column(name = &quot;ean_code&quot;)\r\n    private String eanCode;\r\n    @Column(name = &quot;ms_code&quot;)\r\n    private String msCode;\r\n    @Column(name = &quot;avisa_warning&quot;)\r\n    private String anvisaWarning;\r\n    @Column(name = &quot;lab_name&quot;)\r\n    private String labName;\r\n    @Column(name = &quot;lab_phone&quot;)\r\n    private String labPhone;\r\n\r\n    @NotNull\r\n    private String contraindication;\r\n\r\n    public Medicine() {\r\n    }\r\n    }\r\n\r\n//--\r\n\r\n    @NoRepositoryBean\r\n    public interface BaseRepository&lt;T,ID extends Serializable&gt;\r\n    extends Repository&lt;T,ID&gt; {\r\n\r\n    List&lt;T&gt; findAll();\r\n\r\n    long count();\r\n\r\n    void delete(ID id);\r\n\r\n    T save(T s);\r\n\r\n    T findOne(ID id);\r\n\r\n    boolean exists(ID id);\r\n\r\n    void delete(T deleted);\r\n\r\n    }\r\n//--\r\n\r\n    @Repository\r\n    public interface MedicineRepository \r\n    extends BaseRepository&lt;Medicine,    Integer&gt;{\r\n\r\n    }\r\n\r\nI got 500 status error and my tocatlog shows the following message:\r\n\r\n&gt; \r\nSEVERE: Servlet.service() for servlet [TavalendoDispatcherServlet] in context with path [/tavalendo] threw exception [Request processing failed; nested exception is org.springframework.beans.NotReadablePropertyException: Invalid property &#39;id&#39; of bean class [java.util.LinkedHashMap]: Could not find field for property during fallback access!] with root cause\r\norg.springframework.beans.NotReadablePropertyException: Invalid property &#39;id&#39; of bean class [java.util.LinkedHashMap]: Could not find field for property during fallback access!\r\n\tat org.springframework.data.util.DirectFieldAccessFallbackBeanWrapper.getPropertyValue(DirectFieldAccessFallbackBeanWrapper.java:56)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1079)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nDoes anyone can explain what happend?\r\n ","title":"NotReadablePropertyException: Invalid property &#39;id&#39; of bean class [java.util.LinkedHashMap]","body":"<p>I'm trying to create an abstract service in my springMVC application. My data flows* perfect through my layers, but my persistence (Abstraction), could not find a way to save/delete/update my database, these are the classes:</p>\n\n<pre><code>abstract class BaseServiceImpl&lt;T, ID extends Serializable&gt;\n implements BaseService&lt;T, ID&gt; {\n\nprotected abstract BaseRepository&lt;T, ID&gt; getRepository();\n\nprivate BaseRepository&lt;T, ID&gt; repository;\n\npublic BaseServiceImpl(BaseRepository&lt;T, ID&gt; repository){\n   this.repository = repository;\n}\n\npublic List&lt;T&gt; findAll(){\n    return getRepository().findAll();\n}\n\npublic T find(ID id){\n    return getRepository().findOne(id);\n}\n\npublic T save(T persisted){\n    return this.repository.save(persisted);\n}\n\npublic void delete(ID id){\n    getRepository().delete(id);\n}\n\npublic long count(){\n    return getRepository().count();\n}\n\npublic boolean exists(ID id){\n    return getRepository().exists(id);\n}  \n}\n</code></pre>\n\n<p>//---</p>\n\n<pre><code>@Service\npublic class MedicineServiceImpl\nextends BaseServiceImpl&lt;Medicine, Integer&gt; \nimplements MedicineService {\n\n@Autowired\nprivate MedicineRepository repository;\n\n@Autowired\npublic MedicineServiceImpl(MedicineRepository repository) {\n    super(repository);\n}\n\n@Override\npublic BaseRepository&lt;Medicine, Integer&gt; getRepository() {\n    return repository;\n}\n}\n</code></pre>\n\n<p>//--</p>\n\n<pre><code>@MappedSuperclass\nabstract class BaseDomain {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Integer id;\n\npublic Integer getId() {\n    return id;\n}\n\npublic void setId(Integer id) {\n    this.id = id;\n}\n}\n</code></pre>\n\n<p>//--</p>\n\n<pre><code>@Entity\n@Table(name = \"medicines\")\npublic class Medicine\nextends BaseDomain implements Serializable{\n\n@NotNull\nprivate String name;\nprivate String description;\nprivate String purpose;\n@Column(name = \"active_principle\")\nprivate String activePrinciple;\n@Column(name = \"therapeutic_class\")\nprivate String therapeuticClass;\n@Column(name = \"ean_code\")\nprivate String eanCode;\n@Column(name = \"ms_code\")\nprivate String msCode;\n@Column(name = \"avisa_warning\")\nprivate String anvisaWarning;\n@Column(name = \"lab_name\")\nprivate String labName;\n@Column(name = \"lab_phone\")\nprivate String labPhone;\n\n@NotNull\nprivate String contraindication;\n\npublic Medicine() {\n}\n}\n</code></pre>\n\n<p>//--</p>\n\n<pre><code>@NoRepositoryBean\npublic interface BaseRepository&lt;T,ID extends Serializable&gt;\nextends Repository&lt;T,ID&gt; {\n\nList&lt;T&gt; findAll();\n\nlong count();\n\nvoid delete(ID id);\n\nT save(T s);\n\nT findOne(ID id);\n\nboolean exists(ID id);\n\nvoid delete(T deleted);\n\n}\n</code></pre>\n\n<p>//--</p>\n\n<pre><code>@Repository\npublic interface MedicineRepository \nextends BaseRepository&lt;Medicine,    Integer&gt;{\n\n}\n</code></pre>\n\n<p>I got 500 status error and my tocatlog shows the following message:</p>\n\n<blockquote>\n  <p>SEVERE: Servlet.service() for servlet [TavalendoDispatcherServlet] in context with path [/tavalendo] threw exception [Request processing failed; nested exception is org.springframework.beans.NotReadablePropertyException: Invalid property 'id' of bean class [java.util.LinkedHashMap]: Could not find field for property during fallback access!] with root cause\n  org.springframework.beans.NotReadablePropertyException: Invalid property 'id' of bean class [java.util.LinkedHashMap]: Could not find field for property during fallback access!\n      at org.springframework.data.util.DirectFieldAccessFallbackBeanWrapper.getPropertyValue(DirectFieldAccessFallbackBeanWrapper.java:56)\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n      at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423)\n      at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1079)\n      at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625)\n      at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>Does anyone can explain what happend?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":19021361,"reputation":401,"user_id":13885374,"display_name":"Jake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648331350,"creation_date":1648331350,"answer_id":71632090,"question_id":71631153,"body_markdown":"You can do it with ```animate()```.\r\nFor example:\r\n```imageView.animate().rotation(90).setDuration(5000).start()```","title":"How to make the image rotate animation on button click in andorid studio?","body":"<p>You can do it with <code>animate()</code>.\nFor example:\n<code>imageView.animate().rotation(90).setDuration(5000).start()</code></p>\n"}],"owner":{"account_id":23562397,"reputation":25,"user_id":18215433,"display_name":"Amelia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71632090,"answer_count":1,"score":0,"last_activity_date":1648331350,"creation_date":1648322801,"question_id":71631153,"body_markdown":"In my app, I am trying to make a 90-degree rotation animation on button click and after the click of the button the imageview should not go to its original rotation.\r\n\r\ntill I am am just able to do the rotation animation but not able to figure out how to keep the image rotated after the animation\r\n\r\n ```\r\n  RotateAnimation rotateAnimation=new RotateAnimation(0, 90, RotateAnimation.RELATIVE_TO_SELF,\r\n                    .5f, RotateAnimation.RELATIVE_TO_SELF\r\n                    ,.5f);\r\n\r\n            rotateAnimation.setDuration(5000);\r\n            \r\n            imageView.startAnimation(rotateAnimation);\r\n  ```","title":"How to make the image rotate animation on button click in andorid studio?","body":"<p>In my app, I am trying to make a 90-degree rotation animation on button click and after the click of the button the imageview should not go to its original rotation.</p>\n<p>till I am am just able to do the rotation animation but not able to figure out how to keep the image rotated after the animation</p>\n<pre><code> RotateAnimation rotateAnimation=new RotateAnimation(0, 90, RotateAnimation.RELATIVE_TO_SELF,\n                   .5f, RotateAnimation.RELATIVE_TO_SELF\n                   ,.5f);\n\n           rotateAnimation.setDuration(5000);\n           \n           imageView.startAnimation(rotateAnimation);\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648316698,"creation_date":1648316698,"answer_id":71630446,"question_id":71628228,"body_markdown":"To use custom, not supported by default by `Spring` conversion library you need to implement your own `AbstractJsonHttpMessageConverter`:\r\n```java\r\nimport com.owlike.genson.Genson;\r\nimport com.owlike.genson.GensonBuilder;\r\nimport org.springframework.http.converter.json.AbstractJsonHttpMessageConverter;\r\nimport org.springframework.lang.Nullable;\r\nimport org.springframework.util.Assert;\r\n\r\nimport java.io.Reader;\r\nimport java.io.Writer;\r\nimport java.lang.reflect.Type;\r\n\r\npublic class GensonHttpMessageConverter extends AbstractJsonHttpMessageConverter {\r\n\r\n\tprivate Genson genson;\r\n\r\n\tpublic GensonHttpMessageConverter() {\r\n\t\tthis(new GensonBuilder()\r\n\t\t\t\t.useIndentation(true)\r\n\t\t\t\t.create());\r\n\t}\r\n\r\n\tpublic GensonHttpMessageConverter(Genson genson) {\r\n\t\tAssert.notNull(genson, &quot;A Genson instance is required&quot;);\r\n\t\tthis.genson = genson;\r\n\t}\r\n\r\n\tpublic void setGenson(Genson genson) {\r\n\t\tAssert.notNull(genson, &quot;A Genson instance is required&quot;);\r\n\t\tthis.genson = genson;\r\n\t}\r\n\r\n\tpublic Genson getGenson() {\r\n\t\treturn this.genson;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Object readInternal(Type resolvedType, Reader reader) {\r\n\t\treturn getGenson().deserializeInto(reader, resolvedType);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void writeInternal(Object object, @Nullable Type type, Writer writer) {\r\n\t\tgetGenson().serialize(object, writer);\r\n\t}\r\n}\r\n```\r\n\r\nAfter that you need to register it:\r\n```java\r\nimport com.example.genson.GensonHttpMessageConverter;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.converter.HttpMessageConverter;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\nimport java.util.List;\r\n\r\n@EnableWebMvc\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n\t@Override\r\n\tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\t\tconverters.add(new GensonHttpMessageConverter());\r\n\t}\r\n}\r\n```\r\n\r\nSee also:\r\n\r\n - [Http Message Converters with the Spring Framework][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-httpmessageconverter-rest","title":"How can I use a JSON processor rather than jackson or gson in my spring boot application?","body":"<p>To use custom, not supported by default by <code>Spring</code> conversion library you need to implement your own <code>AbstractJsonHttpMessageConverter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.owlike.genson.Genson;\nimport com.owlike.genson.GensonBuilder;\nimport org.springframework.http.converter.json.AbstractJsonHttpMessageConverter;\nimport org.springframework.lang.Nullable;\nimport org.springframework.util.Assert;\n\nimport java.io.Reader;\nimport java.io.Writer;\nimport java.lang.reflect.Type;\n\npublic class GensonHttpMessageConverter extends AbstractJsonHttpMessageConverter {\n\n    private Genson genson;\n\n    public GensonHttpMessageConverter() {\n        this(new GensonBuilder()\n                .useIndentation(true)\n                .create());\n    }\n\n    public GensonHttpMessageConverter(Genson genson) {\n        Assert.notNull(genson, &quot;A Genson instance is required&quot;);\n        this.genson = genson;\n    }\n\n    public void setGenson(Genson genson) {\n        Assert.notNull(genson, &quot;A Genson instance is required&quot;);\n        this.genson = genson;\n    }\n\n    public Genson getGenson() {\n        return this.genson;\n    }\n\n    @Override\n    protected Object readInternal(Type resolvedType, Reader reader) {\n        return getGenson().deserializeInto(reader, resolvedType);\n    }\n\n    @Override\n    protected void writeInternal(Object object, @Nullable Type type, Writer writer) {\n        getGenson().serialize(object, writer);\n    }\n}\n</code></pre>\n<p>After that you need to register it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.example.genson.GensonHttpMessageConverter;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport java.util.List;\n\n@EnableWebMvc\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(new GensonHttpMessageConverter());\n    }\n}\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-httpmessageconverter-rest\" rel=\"nofollow noreferrer\">Http Message Converters with the Spring Framework</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648330474,"creation_date":1648319681,"answer_id":71630792,"question_id":71628228,"body_markdown":"There is a guide for Spring Boot:\r\n&lt;br&gt;**1. First of all exclude JACKSON from your Spring Boot application**\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;!-- Exclude the default Jackson dependency --&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n**2. Register converter and Genson class** \r\n&lt;br&gt;Genson has HTTP converter for Spring [com.owlike.genson.ext.spring.GensonMessageConverter][1], [Sources][2].\r\nIn case Spring Boot application just create new bean with this converter. It will be applied automatically. \r\n&lt;br&gt;See https://stackoverflow.com/questions/43029021/registering-a-custom-messageconverter-in-spring-boot\r\n&lt;br&gt;[Documentation][3]\r\n&gt; Any HttpMessageConverter bean that is present in the context will be\r\n&gt; added to the list of converters\r\n\r\n```java\r\n    @Bean\r\n    public Genson genson() {\r\n        return new GensonBuilder().setHtmlSafe(true).setSkipNull(true).useBeanViews(true).create();\r\n    }\r\n\r\n    @Bean\r\n    public com.owlike.genson.ext.spring.GensonMessageConverter gensonMessageConverter() {\r\n        return new com.owlike.genson.ext.spring.GensonMessageConverter(genson());\r\n    }\r\n```\r\n&lt;br&gt; `spring.http.converters.preferred-json-mapper=genson` is not required, just remove this config.\r\n\r\n  [1]: http://genson.io/Documentation/Javadoc/index.html?com/owlike/genson/ext/spring/class-use/GensonMessageConverter.html\r\n  [2]: https://github.com/owlike/genson/blob/master/genson/src/main/java/com/owlike/genson/ext/spring/GensonMessageConverter.java\r\n  [3]: https://docs.spring.io/spring-boot/docs/1.5.12.RELEASE/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-message-converters","title":"How can I use a JSON processor rather than jackson or gson in my spring boot application?","body":"<p>There is a guide for Spring Boot:\n<br><strong>1. First of all exclude JACKSON from your Spring Boot application</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;!-- Exclude the default Jackson dependency --&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>2. Register converter and Genson class</strong>\n<br>Genson has HTTP converter for Spring <a href=\"http://genson.io/Documentation/Javadoc/index.html?com/owlike/genson/ext/spring/class-use/GensonMessageConverter.html\" rel=\"nofollow noreferrer\">com.owlike.genson.ext.spring.GensonMessageConverter</a>, <a href=\"https://github.com/owlike/genson/blob/master/genson/src/main/java/com/owlike/genson/ext/spring/GensonMessageConverter.java\" rel=\"nofollow noreferrer\">Sources</a>.\nIn case Spring Boot application just create new bean with this converter. It will be applied automatically.\n<br>See <a href=\"https://stackoverflow.com/questions/43029021/registering-a-custom-messageconverter-in-spring-boot\">Registering a custom MessageConverter in Spring Boot</a>\n<br><a href=\"https://docs.spring.io/spring-boot/docs/1.5.12.RELEASE/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-message-converters\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<blockquote>\n<p>Any HttpMessageConverter bean that is present in the context will be\nadded to the list of converters</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public Genson genson() {\n        return new GensonBuilder().setHtmlSafe(true).setSkipNull(true).useBeanViews(true).create();\n    }\n\n    @Bean\n    public com.owlike.genson.ext.spring.GensonMessageConverter gensonMessageConverter() {\n        return new com.owlike.genson.ext.spring.GensonMessageConverter(genson());\n    }\n</code></pre>\n<p><br> <code>spring.http.converters.preferred-json-mapper=genson</code> is not required, just remove this config.</p>\n"}],"owner":{"account_id":5718297,"reputation":186,"user_id":4517664,"display_name":"sajjad jafari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648330474,"creation_date":1648299341,"question_id":71628228,"body_markdown":"I want to use a JSON processor like [Genson][1] in my spring boot application.\r\n\r\nWhen you use `Jackson` or `Gson` you are so comfortable due to the spring boot auto-configuration for these two libraries. \r\n\r\nIn this [link][2], there is a great guide for replacing `Jackson` with `Gson`.\r\n\r\nFor solving my problem, I created the `genson` and `gensonBuilder` bean But what should I do to be able to add this line to my config? `spring.http.converters.preferred-json-mapper=genson`\r\n\r\nDo I need to do anything other than the above for replacing `Jackson` with `Genson` library? \r\n\r\n\r\n  [1]: https://github.com/owlike/genson\r\n  [2]: https://www.callicoder.com/configuring-spring-boot-to-use-gson-instead-of-jackson/","title":"How can I use a JSON processor rather than jackson or gson in my spring boot application?","body":"<p>I want to use a JSON processor like <a href=\"https://github.com/owlike/genson\" rel=\"nofollow noreferrer\">Genson</a> in my spring boot application.</p>\n<p>When you use <code>Jackson</code> or <code>Gson</code> you are so comfortable due to the spring boot auto-configuration for these two libraries.</p>\n<p>In this <a href=\"https://www.callicoder.com/configuring-spring-boot-to-use-gson-instead-of-jackson/\" rel=\"nofollow noreferrer\">link</a>, there is a great guide for replacing <code>Jackson</code> with <code>Gson</code>.</p>\n<p>For solving my problem, I created the <code>genson</code> and <code>gensonBuilder</code> bean But what should I do to be able to add this line to my config? <code>spring.http.converters.preferred-json-mapper=genson</code></p>\n<p>Do I need to do anything other than the above for replacing <code>Jackson</code> with <code>Genson</code> library?</p>\n"},{"tags":["java","rest","jersey","jax-rs","microservices"],"comments":[{"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1460721363,"post_id":36645517,"comment_id":60886199,"body_markdown":"If the context will never be exposed, why are you concerned in having `draws` twice?","body":"If the context will never be exposed, why are you concerned in having <code>draws</code> twice?"},{"owner":{"account_id":1241108,"reputation":1743,"user_id":1203687,"accept_rate":78,"display_name":"J2B"},"score":0,"creation_date":1460721555,"post_id":36645517,"comment_id":60886325,"body_markdown":"It&#39;s exposed internally, never to end users.","body":"It&#39;s exposed internally, never to end users."},{"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1460721645,"post_id":36645517,"comment_id":60886395,"body_markdown":"So, why don&#39;t you just change the context name to avoid having `draws` twice?","body":"So, why don&#39;t you just change the context name to avoid having <code>draws</code> twice?"},{"owner":{"account_id":1241108,"reputation":1743,"user_id":1203687,"accept_rate":78,"display_name":"J2B"},"score":0,"creation_date":1460721788,"post_id":36645517,"comment_id":60886505,"body_markdown":"To what? I mean, the name of the service and project is Draws. The context is the name of the service - which is added by the application server. All services can&#39;t be on the same base url.","body":"To what? I mean, the name of the service and project is Draws. The context is the name of the service - which is added by the application server. All services can&#39;t be on the same base url."},{"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1460722078,"post_id":36645517,"comment_id":60886708,"body_markdown":"Which URL will your external users see?","body":"Which URL will your external users see?"},{"owner":{"account_id":1241108,"reputation":1743,"user_id":1203687,"accept_rate":78,"display_name":"J2B"},"score":0,"creation_date":1460722259,"post_id":36645517,"comment_id":60886850,"body_markdown":"The service is as I said, used internally by gatways, the gateways are the clients and they will indeed see the full url. They make a service lookup for Draws. and will be returned http://host:port/Draws. Then they use the resource of that service which is called draws.","body":"The service is as I said, used internally by gatways, the gateways are the clients and they will indeed see the full url. They make a service lookup for Draws. and will be returned <a href=\"http://host:port/Draws\" rel=\"nofollow noreferrer\">host:port/Draws</a>. Then they use the resource of that service which is called draws."},{"owner":{"account_id":1241108,"reputation":1743,"user_id":1203687,"accept_rate":78,"display_name":"J2B"},"score":0,"creation_date":1460722436,"post_id":36645517,"comment_id":60886974,"body_markdown":"And there could potentially also be another service which contains an resource called draws, but that is not the case. That would then be http://host_port/AnotherService/draws","body":"And there could potentially also be another service which contains an resource called draws, but that is not the case. That would then be <a href=\"http://host_port/AnotherService/draws\" rel=\"nofollow noreferrer\">host_port/AnotherService/draws</a>"}],"answers":[{"tags":[],"owner":{"account_id":5758284,"reputation":6169,"user_id":4545506,"accept_rate":71,"display_name":"ykaragol"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1460723195,"creation_date":1460719513,"answer_id":36645880,"question_id":36645517,"body_markdown":"Don&#39;t mess your mind with books or library or chapters. Only look your entities: Is &quot;Draws&quot; your entity? Then it should be as `http://url:port/draws/{gameNo}`\r\n\r\nFor Rest API designing, you can read following resources:\r\n\r\n - [Rest In Practice][1]\r\n - [Richardson Maturity Model][2]\r\n\r\nI suggest you to have a look on Richardson Maturity Model.\r\n\r\nAlso I like [Github API][3]. (Old days they used to suggest us to read code to improve our talents, now you can read rest APIs also.)\r\n\r\n\r\n  [1]: http://shop.oreilly.com/product/9780596805838.do\r\n  [2]: http://martinfowler.com/articles/richardsonMaturityModel.html\r\n  [3]: https://developer.github.com/v3","title":"REST api service context and resources url","body":"<p>Don't mess your mind with books or library or chapters. Only look your entities: Is \"Draws\" your entity? Then it should be as <code>http://url:port/draws/{gameNo}</code></p>\n\n<p>For Rest API designing, you can read following resources:</p>\n\n<ul>\n<li><a href=\"http://shop.oreilly.com/product/9780596805838.do\" rel=\"nofollow\">Rest In Practice</a></li>\n<li><a href=\"http://martinfowler.com/articles/richardsonMaturityModel.html\" rel=\"nofollow\">Richardson Maturity Model</a></li>\n</ul>\n\n<p>I suggest you to have a look on Richardson Maturity Model.</p>\n\n<p>Also I like <a href=\"https://developer.github.com/v3\" rel=\"nofollow\">Github API</a>. (Old days they used to suggest us to read code to improve our talents, now you can read rest APIs also.)</p>\n"},{"tags":[],"owner":{"account_id":2017742,"reputation":1070,"user_id":1804618,"display_name":"upitau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648330399,"creation_date":1460720193,"answer_id":36646101,"question_id":36645517,"body_markdown":"If you design a Draws service, you url should be:\r\n\r\n&gt; http://url:port/draws/{gameNo}\r\n\r\nIf you plan to extend the service with other endpoints, probably you are designing something more generic. If this is the case, name it accordingly.\r\n\r\nIn any way you shouldn&#39;t go with draws/draws.\r\n\r\nAlso, I would recommend to use lower case and https (if you can).\r\n\r\nRecently I posted a summary of the most often questions that arise when designing RESTful API - [How To Design Practical RESTful API][1] , which could be helpful.\r\n\r\n\r\n  [1]: https://codewithyury.com/how-to-design-practical-restful-api/","title":"REST api service context and resources url","body":"<p>If you design a Draws service, you url should be:</p>\n<blockquote>\n<p>http://url:port/draws/{gameNo}</p>\n</blockquote>\n<p>If you plan to extend the service with other endpoints, probably you are designing something more generic. If this is the case, name it accordingly.</p>\n<p>In any way you shouldn't go with draws/draws.</p>\n<p>Also, I would recommend to use lower case and https (if you can).</p>\n<p>Recently I posted a summary of the most often questions that arise when designing RESTful API - <a href=\"https://codewithyury.com/how-to-design-practical-restful-api/\" rel=\"nofollow noreferrer\">How To Design Practical RESTful API</a> , which could be helpful.</p>\n"},{"tags":[],"owner":{"account_id":2679975,"reputation":307,"user_id":2315544,"accept_rate":78,"display_name":"clementino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1460721257,"creation_date":1460720367,"answer_id":36646154,"question_id":36645517,"body_markdown":"I would avoid using 2x &#39;draws&#39;.\r\n\r\nHere is a possible way to design the URI structure.\r\nPlease note, that segments should be lower case (so don&#39;t use &#39;Draws&#39;)\r\n\r\n    &lt;scheme&gt;://&lt;host&gt;[:&lt;port&gt;]/&lt;api-path&gt;/&lt;api-name&gt;/&lt;api-version&gt;/&lt;resource-path&gt;\r\n\r\n- **scheme** (eg. http) \r\n- **host** is a fully qualified hostname, a DNS alias hiding the equipment and physical location of the API implementation. It contains information about the environment when it is a non-productive environment (test, int).\r\n- **port** should be the default http port (80) and thus can be omitted. Other ports can be used for non-productive environments.\r\n- **api** **path** separates the REST API from other resources served by the server (e.g. a webapp). It is usually of the form &lt;context&gt;/api. For servers serving only REST apis, it can be omitted.\r\n- **api name** gathers a set of resources in a kind of package. This is the unit of publishing and versioning.\r\n- **api version** is the version of the API. It has the form v[major-version-number]\r\n- **resource** **path** is composed of the resource URI segments","title":"REST api service context and resources url","body":"<p>I would avoid using 2x 'draws'.</p>\n\n<p>Here is a possible way to design the URI structure.\nPlease note, that segments should be lower case (so don't use 'Draws')</p>\n\n<pre><code>&lt;scheme&gt;://&lt;host&gt;[:&lt;port&gt;]/&lt;api-path&gt;/&lt;api-name&gt;/&lt;api-version&gt;/&lt;resource-path&gt;\n</code></pre>\n\n<ul>\n<li><strong>scheme</strong> (eg. http) </li>\n<li><strong>host</strong> is a fully qualified hostname, a DNS alias hiding the equipment and physical location of the API implementation. It contains information about the environment when it is a non-productive environment (test, int).</li>\n<li><strong>port</strong> should be the default http port (80) and thus can be omitted. Other ports can be used for non-productive environments.</li>\n<li><strong>api</strong> <strong>path</strong> separates the REST API from other resources served by the server (e.g. a webapp). It is usually of the form /api. For servers serving only REST apis, it can be omitted.</li>\n<li><strong>api name</strong> gathers a set of resources in a kind of package. This is the unit of publishing and versioning.</li>\n<li><strong>api version</strong> is the version of the API. It has the form v[major-version-number]</li>\n<li><strong>resource</strong> <strong>path</strong> is composed of the resource URI segments</li>\n</ul>\n"}],"owner":{"account_id":1241108,"reputation":1743,"user_id":1203687,"accept_rate":78,"display_name":"J2B"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4717,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":36646154,"answer_count":3,"score":1,"last_activity_date":1648330399,"creation_date":1460718513,"question_id":36645517,"body_markdown":"We have serveral services running on an application server and every service has a context. The name of the service is automatically added to the url, since there can be multiple services on the same application server.  \r\nNow we are creating a new service, which is called Draws, meaning the url will be\r\n\r\n&gt;http://url:port/Draws\r\n\r\nHowever, now the discussion is the api paths (Resources) to this service. Since we are getting draws, in my mind this should be draws.\r\nWhich means it will have the url   \r\n\r\n&gt;http://url:port/Draws/draws/{gameNo}\r\n\r\n2x draws - **Thoughts?** \r\n\r\nThere are thoughts here that the service does only have draws and therefor Draws/{gameNo} is enough.  \r\nBut in my mind, draws resource is the api interface of the service, like Draws is the book in a library, draws is the chapter... And it should be possible to add more chapters to the book.\r\n\r\nThen to implementation, we are using Jersey. That would mean we would have a resource with @Path(&quot;{gameNo}&quot;).\r\n\r\n**Edit 1:**  \r\nThere are gateways in front of our services, so the context will never be exposed to end users, it&#39;s only there to point to an specific service. Since multiple services can run on the same host:port\r\n\r\n**Edit 2:**   \r\nContext part of the url is part of the service discovery lookup\r\n\r\n**Edit 3:**   \r\nWe are actually not versioning in url, but in Accept header, so actually my url is the same as clementinos but the version part of the url","title":"REST api service context and resources url","body":"<p>We have serveral services running on an application server and every service has a context. The name of the service is automatically added to the url, since there can be multiple services on the same application server.<br>\nNow we are creating a new service, which is called Draws, meaning the url will be</p>\n\n<blockquote>\n  <p><a href=\"http://url:port/Draws\" rel=\"nofollow\">http://url:port/Draws</a></p>\n</blockquote>\n\n<p>However, now the discussion is the api paths (Resources) to this service. Since we are getting draws, in my mind this should be draws.\nWhich means it will have the url   </p>\n\n<blockquote>\n  <p><a href=\"http://url:port/Draws/draws/\" rel=\"nofollow\">http://url:port/Draws/draws/</a>{gameNo}</p>\n</blockquote>\n\n<p>2x draws - <strong>Thoughts?</strong> </p>\n\n<p>There are thoughts here that the service does only have draws and therefor Draws/{gameNo} is enough.<br>\nBut in my mind, draws resource is the api interface of the service, like Draws is the book in a library, draws is the chapter... And it should be possible to add more chapters to the book.</p>\n\n<p>Then to implementation, we are using Jersey. That would mean we would have a resource with @Path(\"{gameNo}\").</p>\n\n<p><strong>Edit 1:</strong><br>\nThere are gateways in front of our services, so the context will never be exposed to end users, it's only there to point to an specific service. Since multiple services can run on the same host:port</p>\n\n<p><strong>Edit 2:</strong><br>\nContext part of the url is part of the service discovery lookup</p>\n\n<p><strong>Edit 3:</strong><br>\nWe are actually not versioning in url, but in Accept header, so actually my url is the same as clementinos but the version part of the url</p>\n"},{"tags":["java","android","dex","dx"],"answers":[{"tags":[],"owner":{"account_id":180207,"reputation":13745,"user_id":413379,"accept_rate":86,"display_name":"Justin Breitfeller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322774123,"creation_date":1322774123,"answer_id":8348395,"question_id":8348144,"body_markdown":"To dexify a jar file, you would use dx.bat inside of your sdk&#39;s platform-tools folder. You can also look at the -dex task inside of the build.xml file inside of your tools\\ant folder in your SDK.","title":"How to convert .jar or .class to .dex file?","body":"<p>To dexify a jar file, you would use dx.bat inside of your sdk's platform-tools folder. You can also look at the -dex task inside of the build.xml file inside of your tools\\ant folder in your SDK.</p>\n"},{"tags":[],"owner":{"account_id":1924905,"reputation":2102,"user_id":1735602,"display_name":"Pavel Netesa"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1356961860,"creation_date":1356956410,"answer_id":14101543,"question_id":8348144,"body_markdown":"Here is a solution that was helpful in my case... \r\n\r\nSuppose .jar file sits in &quot;c:\\temp\\in.jar&quot;. In command prompt window cd to ..\\android-sdk\\platform-tools.\r\nTo get .apk execute: \r\n\r\n    dx --dex --output=&quot;c:\\temp\\app.apk&quot; &quot;c:\\temp\\in.jar&quot;\r\n\r\nTo get .dex file execute:\r\n\r\n    dx --dex --output=&quot;c:\\temp\\dx.dex&quot; &quot;c:\\temp\\in.jar&quot;","title":"How to convert .jar or .class to .dex file?","body":"<p>Here is a solution that was helpful in my case... </p>\n\n<p>Suppose .jar file sits in \"c:\\temp\\in.jar\". In command prompt window cd to ..\\android-sdk\\platform-tools.\nTo get .apk execute: </p>\n\n<pre><code>dx --dex --output=\"c:\\temp\\app.apk\" \"c:\\temp\\in.jar\"\n</code></pre>\n\n<p>To get .dex file execute:</p>\n\n<pre><code>dx --dex --output=\"c:\\temp\\dx.dex\" \"c:\\temp\\in.jar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15164,"reputation":23711,"user_id":31751,"accept_rate":80,"display_name":"scottyab"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1369906468,"creation_date":1369906468,"answer_id":16832610,"question_id":8348144,"body_markdown":"Sounds like you need the [apktool][1], it allows you to repack and resign a apk, without the need to get in to running dx and aapt yourself. \r\n\r\n[Here&#39;s an article][2] on how to unpack and repack\r\n\r\n\r\n  [1]: https://code.google.com/p/android-apktool/\r\n  [2]: http://androidforums.com/esteem-all-things-root/520917-guide-how-properly-decompile-recompile-apks-apktool.html","title":"How to convert .jar or .class to .dex file?","body":"<p>Sounds like you need the <a href=\"https://code.google.com/p/android-apktool/\" rel=\"nofollow\">apktool</a>, it allows you to repack and resign a apk, without the need to get in to running dx and aapt yourself. </p>\n\n<p><a href=\"http://androidforums.com/esteem-all-things-root/520917-guide-how-properly-decompile-recompile-apks-apktool.html\" rel=\"nofollow\">Here's an article</a> on how to unpack and repack</p>\n"},{"tags":[],"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500408731,"creation_date":1500408405,"answer_id":45176102,"question_id":8348144,"body_markdown":"For mac, the dx command tool is stored in  different directory as said in the top answer. Here is how you do it in mac:\r\n\r\n       exampleName$ /Users/exampleName/Library/Android/sdk/build-tools/25.0.2/dx --dex --output=&quot;/Users/exampleName/Downloads/classes-dex2jar.jar&quot; &quot;/Users/exampleName/Downloads/name.dex&quot;\r\n\r\n**More detailed explanation:**\r\n\r\n - The dx tool is stored in the android SDK, but in a different directory on macs, the path for a mac is `/Users/exampleName/Library/Android/sdk/build-tools/25.0.2/`\r\n - The command is the same for windows and mac, the path is just different\r\n - The command for both platforms is  `dx --dex--output=&quot;c:\\temp\\app.apk&quot; &quot;c:\\temp\\in.jar&quot;`\r\n - The tool may take a few minutes to produce the dex file\r\n\r\nIf it&#39;s still not working for some reason, make sure you are following these requirements:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI know this is late, but I had to figure this out on my own after hours of trial and errorhope it helps some other mac user \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pX70B.png","title":"How to convert .jar or .class to .dex file?","body":"<p>For mac, the dx command tool is stored in  different directory as said in the top answer. Here is how you do it in mac:</p>\n\n<pre><code>   exampleName$ /Users/exampleName/Library/Android/sdk/build-tools/25.0.2/dx --dex --output=\"/Users/exampleName/Downloads/classes-dex2jar.jar\" \"/Users/exampleName/Downloads/name.dex\"\n</code></pre>\n\n<p><strong>More detailed explanation:</strong></p>\n\n<ul>\n<li>The dx tool is stored in the android SDK, but in a different directory on macs, the path for a mac is <code>/Users/exampleName/Library/Android/sdk/build-tools/25.0.2/</code></li>\n<li>The command is the same for windows and mac, the path is just different</li>\n<li>The command for both platforms is  <code>dx --dex--output=\"c:\\temp\\app.apk\" \"c:\\temp\\in.jar\"</code></li>\n<li>The tool may take a few minutes to produce the dex file</li>\n</ul>\n\n<p>If it's still not working for some reason, make sure you are following these requirements:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pX70B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pX70B.png\" alt=\"enter image description here\"></a></p>\n\n<p>I know this is late, but I had to figure this out on my own after hours of trial and errorhope it helps some other mac user </p>\n"},{"tags":[],"owner":{"account_id":871793,"reputation":513,"user_id":8919819,"display_name":"annoying_squid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546610955,"creation_date":1546551922,"answer_id":54030231,"question_id":8348144,"body_markdown":"To avoid downloading the entire Android Studio:\r\nYou can go to [command-tools download][1] and extract the folder.  Then go into it and find your `sdkmanager` tool.  Then on your command-line type `sdkmanager &quot;build-tools;28.0.1&quot;`.  You can select which version of build-tools is appropriate depending on the java version you are working with.  This will download it into the root directory of your command-line tools.  Go into this folder and you should see the `dx` tool.  Then you can type `dx --dex --output=&quot;nameoffile.dex&quot; nameoffile.jar`.\r\n\r\nA little extra note:  If you are trying to convert a massive jar you might get a `OUT OF MEMORY` error.  In this case you just pass the JVM the increase heap option `dx -JXmx256m ...`.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/#command-tools","title":"How to convert .jar or .class to .dex file?","body":"<p>To avoid downloading the entire Android Studio:\nYou can go to <a href=\"https://developer.android.com/studio/#command-tools\" rel=\"nofollow noreferrer\">command-tools download</a> and extract the folder.  Then go into it and find your <code>sdkmanager</code> tool.  Then on your command-line type <code>sdkmanager \"build-tools;28.0.1\"</code>.  You can select which version of build-tools is appropriate depending on the java version you are working with.  This will download it into the root directory of your command-line tools.  Go into this folder and you should see the <code>dx</code> tool.  Then you can type <code>dx --dex --output=\"nameoffile.dex\" nameoffile.jar</code>.</p>\n\n<p>A little extra note:  If you are trying to convert a massive jar you might get a <code>OUT OF MEMORY</code> error.  In this case you just pass the JVM the increase heap option <code>dx -JXmx256m ...</code>.</p>\n"}],"owner":{"account_id":1078673,"reputation":2560,"user_id":1076264,"accept_rate":75,"display_name":"Sadra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57449,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":14101543,"answer_count":5,"score":19,"last_activity_date":1648329789,"creation_date":1322772823,"question_id":8348144,"body_markdown":"I&#39;m going to edit the Opera Mini v6.5 server because it is blocked in our country.\r\n\r\nNow I have unpacked the `.apk` file extracted `classes.Dex` then converted it via `dex2jar.bat`, now modified the server.\r\n\r\nMy problem is I want to repack the `.jar` or `.class` to `classes.Dex`. How do I do it?\r\n\r\n","title":"How to convert .jar or .class to .dex file?","body":"<p>I'm going to edit the Opera Mini v6.5 server because it is blocked in our country.</p>\n<p>Now I have unpacked the <code>.apk</code> file extracted <code>classes.Dex</code> then converted it via <code>dex2jar.bat</code>, now modified the server.</p>\n<p>My problem is I want to repack the <code>.jar</code> or <code>.class</code> to <code>classes.Dex</code>. How do I do it?</p>\n"},{"tags":["java","performance","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1514924365,"post_id":48057226,"comment_id":83107975,"body_markdown":"How ofter/regular do those spikes occur? Maybe it&#39;s related to StreamsConfig parameter `commit.interval.ms` that is 30 seconds by default?","body":"How ofter/regular do those spikes occur? Maybe it&#39;s related to StreamsConfig parameter <code>commit.interval.ms</code> that is 30 seconds by default?"},{"owner":{"account_id":4295121,"reputation":21,"user_id":3510389,"display_name":"Prashanth"},"score":0,"creation_date":1515251441,"post_id":48057226,"comment_id":83233950,"body_markdown":"I am seeing this atleast once within a minute. I will try changing this parameter also. Thanks for the suggestion.","body":"I am seeing this atleast once within a minute. I will try changing this parameter also. Thanks for the suggestion."}],"answers":[{"tags":[],"owner":{"account_id":12547553,"reputation":599,"user_id":9130314,"display_name":"Hash Jang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514879274,"creation_date":1514879274,"answer_id":48057370,"question_id":48057226,"body_markdown":"After some amount of msgs producing, the data should be flushed to the disk.\r\n\r\nThis may cause the phenomenon you observed.\r\n\r\nPlease refer to the &quot;log.flush.interval.messages&quot; of kafka configuration: [Link][1]\r\n\r\n\r\n  [1]: http://kafka.apache.org/0101/documentation.html\r\n\r\nAfter in prod, I do not recommend you to change this property to improve. You should change your system conf:\r\n\r\n    /proc/sys/vm/dirty_background_ratio\r\n    /proc/sys/vm/dirty_ratio\r\n\r\nTo improve the efficiency of your own msgs flush","title":"Performance Issue: Latency Spike happens sometimes in Kafka Streams","body":"<p>After some amount of msgs producing, the data should be flushed to the disk.</p>\n\n<p>This may cause the phenomenon you observed.</p>\n\n<p>Please refer to the \"log.flush.interval.messages\" of kafka configuration: <a href=\"http://kafka.apache.org/0101/documentation.html\" rel=\"nofollow noreferrer\">Link</a></p>\n\n<p>After in prod, I do not recommend you to change this property to improve. You should change your system conf:</p>\n\n<pre><code>/proc/sys/vm/dirty_background_ratio\n/proc/sys/vm/dirty_ratio\n</code></pre>\n\n<p>To improve the efficiency of your own msgs flush</p>\n"}],"owner":{"account_id":4295121,"reputation":21,"user_id":3510389,"display_name":"Prashanth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648328883,"creation_date":1514878553,"question_id":48057226,"body_markdown":"I am doing Performance Testing in Kafka Streaming. I created a simple Streams API with Transformer.\r\n\r\n      // Stream data from input topic\r\n      builder.stream(Serdes.String(), Serdes.String(), inTopic)\r\n             // convert csv data to avro\r\n    \t\t .transformValues(new TransformSupplier())\r\n    \t\t // post converted data to output topic\r\n    \t\t .to(Serdes.String(), Serdes.ByteArray(), outTopic);\r\n\r\nI am using **inTopic** with 10 partitions and **outTopic** with 1 partition. I am seeing latency is good and around ~4-6 ms . But, I am facing sudden spike in the latency sometimes and it reaches even upto ~60 - 1000 ms. Then after few seconds, it gradually dropped latency down back to ~4-6 ms. This results in the average latency for my whole experiment to ~67 ms. \r\n\r\nWhat could be the reason for the sudden spike? Suggest me some performance tuning parameters if any.\r\n\r\nNote: I have provided default StreamsConfig only.\r\n","title":"Performance Issue: Latency Spike happens sometimes in Kafka Streams","body":"<p>I am doing Performance Testing in Kafka Streaming. I created a simple Streams API with Transformer.</p>\n\n<pre><code>  // Stream data from input topic\n  builder.stream(Serdes.String(), Serdes.String(), inTopic)\n         // convert csv data to avro\n         .transformValues(new TransformSupplier())\n         // post converted data to output topic\n         .to(Serdes.String(), Serdes.ByteArray(), outTopic);\n</code></pre>\n\n<p>I am using <strong>inTopic</strong> with 10 partitions and <strong>outTopic</strong> with 1 partition. I am seeing latency is good and around ~4-6 ms . But, I am facing sudden spike in the latency sometimes and it reaches even upto ~60 - 1000 ms. Then after few seconds, it gradually dropped latency down back to ~4-6 ms. This results in the average latency for my whole experiment to ~67 ms. </p>\n\n<p>What could be the reason for the sudden spike? Suggest me some performance tuning parameters if any.</p>\n\n<p>Note: I have provided default StreamsConfig only.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648216544,"post_id":71618028,"comment_id":126575076,"body_markdown":"Does this answer your question? [Where does the @Transactional annotation belong?](https://stackoverflow.com/questions/1079114/where-does-the-transactional-annotation-belong)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1079114/where-does-the-transactional-annotation-belong\">Where does the @Transactional annotation belong?</a>"},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1648216707,"post_id":71618028,"comment_id":126575159,"body_markdown":"@pringi Nope, the question is about low-level JDBC, no JPA or Hibernate","body":"@pringi Nope, the question is about low-level JDBC, no JPA or Hibernate"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1648216963,"post_id":71618028,"comment_id":126575259,"body_markdown":"&quot;How am I supposed to create a transaction there&quot;, it depends on how you&#39;ve designed your code. Clearly you haven&#39;t considered a situation where a transaction encompasses more than a single dao operation. Time for thinking about design and refactoring?","body":"&quot;How am I supposed to create a transaction there&quot;, it depends on how you&#39;ve designed your code. Clearly you haven&#39;t considered a situation where a transaction encompasses more than a single dao operation. Time for thinking about design and refactoring?"},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1648220691,"post_id":71618028,"comment_id":126576829,"body_markdown":"@Kayaman thank you, yes, that is true, my service layer is not suitable for executing dao methods in a transaction. But how can I do it? \nGetting connection in a service and passing it dao seems like a wrong decision.\nCould you please send a link or a github example, I would appreciate it so much!","body":"@Kayaman thank you, yes, that is true, my service layer is not suitable for executing dao methods in a transaction. But how can I do it?  Getting connection in a service and passing it dao seems like a wrong decision. Could you please send a link or a github example, I would appreciate it so much!"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648241920,"post_id":71618028,"comment_id":126583462,"body_markdown":"Keep the connection encapsulated in the dao, but call `dao.beginTrx();` and `dao.commit();` from the service. For example.","body":"Keep the connection encapsulated in the dao, but call <code>dao.beginTrx();</code> and <code>dao.commit();</code> from the service. For example."},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1648289809,"post_id":71618028,"comment_id":126590221,"body_markdown":"@Kayaman, \nThank you, but as far as I understand that means that dao class should have one instance of connection.\nAnd one method - `dao.beginTrx()` that initializes it with the one from connection pool and `dao.commit` that commit and closes the connection.\nBut is it safe to have a single instance of connection for a class?","body":"@Kayaman,  Thank you, but as far as I understand that means that dao class should have one instance of connection. And one method - <code>dao.beginTrx()</code> that initializes it with the one from connection pool and <code>dao.commit</code> that commit and closes the connection. But is it safe to have a single instance of connection for a class?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1648316985,"post_id":71618028,"comment_id":126595623,"body_markdown":"Well `ThreadLocal` could be used to take care of that. But this is just an example of how it could be done, encapsulating transaction logic inside the dao itself.","body":"Well <code>ThreadLocal</code> could be used to take care of that. But this is just an example of how it could be done, encapsulating transaction logic inside the dao itself."},{"owner":{"display_name":"user16722881"},"score":0,"creation_date":1648328878,"post_id":71618028,"comment_id":126598047,"body_markdown":"@Kayaman I really sorry to bother you, but there is noone I can ask.\nI&#39;ve updated my answer with the code I get Connection from ( ComboPooledDataSource  ). Is it possible to use it instead of ThreadLocal to achieve the same result?","body":"@Kayaman I really sorry to bother you, but there is noone I can ask. I&#39;ve updated my answer with the code I get Connection from ( ComboPooledDataSource  ). Is it possible to use it instead of ThreadLocal to achieve the same result?"}],"owner":{"display_name":"user16722881"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648328365,"creation_date":1648216214,"question_id":71618028,"body_markdown":"I have this method that is supposed to be executed in a transaction.\r\nAs I get and close connections in DAO, I suppose that it should to be a part of DAO.\r\n\r\n    void setStatusDeclinedAndRefund() {\r\n    // sets Order status to DECLINED\r\n    // refund money to user&#39;s balance\r\n    }\r\nBut I though DAO implementations should implement only CRUD methods, is it ok for such a method to be there?\r\n\r\nIf it violates, I can call 2 update methods from Service layer ( but how am I supposed to create a transaction there? *Open connection -&gt; pass it DAO* - seems like a pretty bad idea )\r\n\r\nUPD:\r\nThe class I get connections from ( just to show that I use ComboPooledDataSource for connections ).\r\n\r\n   \r\n\r\n     public class DBManager {\r\n      private static DBManager instance;\r\n      private ComboPooledDataSource cpds;\r\n    \r\n      /**\r\n       * Singleton.\r\n       */\r\n      public static synchronized DBManager getInstance() {\r\n        if (instance == null) {\r\n          instance = new DBManager();\r\n        }\r\n        return instance;\r\n      }\r\n    \r\n      private DBManager() {\r\n        try {\r\n          init();\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Create pool.\r\n       *\r\n       * @throws Exception the exception\r\n       */\r\n      private void init() throws Exception {\r\n        createPool();\r\n      }\r\n    \r\n      /**\r\n       * Establishes a connection to the database.\r\n       *\r\n       * @return the connection to the database\r\n       */\r\n      public Connection getConnection() {\r\n        Connection conn = null;\r\n        try {\r\n          conn = this.cpds.getConnection();\r\n        } catch (SQLException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return conn;\r\n      }\r\n    \r\n      /**\r\n       * Closes the connection.\r\n       *\r\n       * @param conn closes the database connection\r\n       */\r\n      public void closeConnection(Connection conn) {\r\n        try {\r\n          conn.close();\r\n        } catch (SQLException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Gets utils properties.\r\n       *\r\n       * @return the databases properties\r\n       * @throws IOException by failed or interrupted I/O operations.\r\n       */\r\n      private Properties getProperties() throws IOException {\r\n        Properties props = new Properties();\r\n        props.load(DBManager.class.getResourceAsStream(&quot;/db.properties&quot;));\r\n        return props;\r\n      }\r\n    \r\n      /**\r\n       * Create a pool.\r\n       *\r\n       * @throws Exception the exception\r\n       */\r\n      private void createPool() throws Exception {\r\n        Class.forName(&quot;org.postgresql.Driver&quot;);\r\n        Properties props = getProperties();\r\n        cpds = new ComboPooledDataSource();\r\n        cpds.setDriverClass(props.getProperty(&quot;driver&quot;));\r\n        cpds.setJdbcUrl(props.getProperty(&quot;url&quot;));\r\n        cpds.setUser(props.getProperty(&quot;user&quot;));\r\n        cpds.setPassword(props.getProperty(&quot;password&quot;));\r\n        cpds.setMaxStatements(180);\r\n      }\r\n    \r\n    }","title":"Does this method in DAO violate pattern?","body":"<p>I have this method that is supposed to be executed in a transaction.\nAs I get and close connections in DAO, I suppose that it should to be a part of DAO.</p>\n<pre><code>void setStatusDeclinedAndRefund() {\n// sets Order status to DECLINED\n// refund money to user's balance\n}\n</code></pre>\n<p>But I though DAO implementations should implement only CRUD methods, is it ok for such a method to be there?</p>\n<p>If it violates, I can call 2 update methods from Service layer ( but how am I supposed to create a transaction there? <em>Open connection -&gt; pass it DAO</em> - seems like a pretty bad idea )</p>\n<p>UPD:\nThe class I get connections from ( just to show that I use ComboPooledDataSource for connections ).</p>\n<pre><code> public class DBManager {\n  private static DBManager instance;\n  private ComboPooledDataSource cpds;\n\n  /**\n   * Singleton.\n   */\n  public static synchronized DBManager getInstance() {\n    if (instance == null) {\n      instance = new DBManager();\n    }\n    return instance;\n  }\n\n  private DBManager() {\n    try {\n      init();\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n\n  /**\n   * Create pool.\n   *\n   * @throws Exception the exception\n   */\n  private void init() throws Exception {\n    createPool();\n  }\n\n  /**\n   * Establishes a connection to the database.\n   *\n   * @return the connection to the database\n   */\n  public Connection getConnection() {\n    Connection conn = null;\n    try {\n      conn = this.cpds.getConnection();\n    } catch (SQLException e) {\n      e.printStackTrace();\n    }\n    return conn;\n  }\n\n  /**\n   * Closes the connection.\n   *\n   * @param conn closes the database connection\n   */\n  public void closeConnection(Connection conn) {\n    try {\n      conn.close();\n    } catch (SQLException e) {\n      e.printStackTrace();\n    }\n  }\n\n  /**\n   * Gets utils properties.\n   *\n   * @return the databases properties\n   * @throws IOException by failed or interrupted I/O operations.\n   */\n  private Properties getProperties() throws IOException {\n    Properties props = new Properties();\n    props.load(DBManager.class.getResourceAsStream(&quot;/db.properties&quot;));\n    return props;\n  }\n\n  /**\n   * Create a pool.\n   *\n   * @throws Exception the exception\n   */\n  private void createPool() throws Exception {\n    Class.forName(&quot;org.postgresql.Driver&quot;);\n    Properties props = getProperties();\n    cpds = new ComboPooledDataSource();\n    cpds.setDriverClass(props.getProperty(&quot;driver&quot;));\n    cpds.setJdbcUrl(props.getProperty(&quot;url&quot;));\n    cpds.setUser(props.getProperty(&quot;user&quot;));\n    cpds.setPassword(props.getProperty(&quot;password&quot;));\n    cpds.setMaxStatements(180);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"score":1,"creation_date":1264106756,"post_id":2112539,"comment_id":2048395,"body_markdown":"Why do you wish to store multiple values in a Set?  Perhaps an example of what you&#39;re trying to achieve would help.","body":"Why do you wish to store multiple values in a Set?  Perhaps an example of what you&#39;re trying to achieve would help."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":7,"creation_date":1264107904,"post_id":2112539,"comment_id":2048561,"body_markdown":"I think you misunderstood the whole meaning of the term **Set**. Use a List if you want duplicates.","body":"I think you misunderstood the whole meaning of the term <b>Set</b>. Use a List if you want duplicates."}],"answers":[{"tags":[],"owner":{"account_id":49953,"reputation":20780,"user_id":148909,"accept_rate":89,"display_name":"Schildmeijer"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1407539661,"creation_date":1264105115,"answer_id":2112544,"question_id":2112539,"body_markdown":"Ever considered using a [java.util.List][1] instead?\r\n\r\nOtherwise I would recommend a [Multiset][2] from [Google Guava][guava] (the successor to [Google Collections][3], which this answer originally recommended -ed.).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html\r\n  [2]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multiset.html\r\n  [guava]: https://code.google.com/p/guava-libraries/\r\n  [3]: http://code.google.com/p/google-collections/","title":"Duplicate values in the Set collection?","body":"<p>Ever considered using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html\" rel=\"noreferrer\">java.util.List</a> instead?</p>\n\n<p>Otherwise I would recommend a <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multiset.html\" rel=\"noreferrer\">Multiset</a> from <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a> (the successor to <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections</a>, which this answer originally recommended -ed.).</p>\n"},{"tags":[],"owner":{"account_id":18772,"reputation":6760,"user_id":43365,"accept_rate":94,"display_name":"Dan Polites"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1264105148,"creation_date":1264105148,"answer_id":2112547,"question_id":2112539,"body_markdown":"I don&#39;t believe that you can have duplicate values within a set. A set is defined as a collection of unique values. You may be better off using an ArrayList.","title":"Duplicate values in the Set collection?","body":"<p>I don't believe that you can have duplicate values within a set. A set is defined as a collection of unique values. You may be better off using an ArrayList.</p>\n"},{"tags":[],"owner":{"account_id":68204,"reputation":7679,"user_id":199148,"accept_rate":93,"display_name":"Kartoch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264105213,"creation_date":1264105213,"answer_id":2112550,"question_id":2112539,"body_markdown":"I don&#39;t think so. The only way would be to use a List. You can also trick with function equals(), hashcode() or compareTo() but it is going to be ankward.","title":"Duplicate values in the Set collection?","body":"<p>I don't think so. The only way would be to use a List. You can also trick with function equals(), hashcode() or compareTo() but it is going to be ankward.</p>\n"},{"tags":[],"owner":{"account_id":33553,"reputation":30834,"user_id":93995,"accept_rate":81,"display_name":"George Armhold"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1264108401,"creation_date":1264105225,"answer_id":2112552,"question_id":2112539,"body_markdown":"The very [definition][1] of a Set disallows duplicates.  I think perhaps you want to use another data structure, like a [List][2], which will allow dups.\r\n\r\n&gt; Is there any way to make the elements unique and have some copies of them?\r\n\r\nIf for some reason you really *do* need to store duplicates in a set, you&#39;ll either need to wrap them in some kind of holder object, or else override equals() and hashCode() of your model objects so that they do not evaluate as equivalent (and even *that* will fail if you are trying to store references to the same physical object multiple times).\r\n\r\nI think you need to re-evaluate what you are trying to accomplish here, or at least explain it more clearly to us.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Set_(computer_science)\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html","title":"Duplicate values in the Set collection?","body":"<p>The very <a href=\"http://en.wikipedia.org/wiki/Set_(computer_science)\" rel=\"noreferrer\">definition</a> of a Set disallows duplicates.  I think perhaps you want to use another data structure, like a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html\" rel=\"noreferrer\">List</a>, which will allow dups.</p>\n\n<blockquote>\n  <p>Is there any way to make the elements unique and have some copies of them?</p>\n</blockquote>\n\n<p>If for some reason you really <em>do</em> need to store duplicates in a set, you'll either need to wrap them in some kind of holder object, or else override equals() and hashCode() of your model objects so that they do not evaluate as equivalent (and even <em>that</em> will fail if you are trying to store references to the same physical object multiple times).</p>\n\n<p>I think you need to re-evaluate what you are trying to accomplish here, or at least explain it more clearly to us.</p>\n"},{"tags":[],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264105342,"creation_date":1264105342,"answer_id":2112564,"question_id":2112539,"body_markdown":"NO chance.... you can not have duplicate values in SET interface...\r\nIf you want duplicates then you can try Array-List","title":"Duplicate values in the Set collection?","body":"<p>NO chance.... you can not have duplicate values in SET interface...\nIf you want duplicates then you can try Array-List</p>\n"},{"tags":[],"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264105762,"creation_date":1264105762,"answer_id":2112617,"question_id":2112539,"body_markdown":"From the javadocs:\r\n\r\n&gt; &quot;sets contain no pair of elements e1\r\n&gt; and e2 such that e1.equals(e2), and at\r\n&gt; most one `null` element&quot;\r\n\r\nSo if your objects were to override .equals() so that it would return different values for whatever objects you intend on storing, then you could store them separately in a `Set` (you should also override hashcode() as well).  \r\n\r\nHowever, the very definition of a `Set` in Java is, \r\n\r\n&gt; &quot;A collection that contains no\r\n&gt; duplicate elements. &quot;\r\n\r\nSo you&#39;re really better off using a `List` or something else here.  Perhaps a `Map`, if you&#39;d like to store duplicate values based on different keys.  ","title":"Duplicate values in the Set collection?","body":"<p>From the javadocs:</p>\n\n<blockquote>\n  <p>\"sets contain no pair of elements e1\n  and e2 such that e1.equals(e2), and at\n  most one <code>null</code> element\"</p>\n</blockquote>\n\n<p>So if your objects were to override .equals() so that it would return different values for whatever objects you intend on storing, then you could store them separately in a <code>Set</code> (you should also override hashcode() as well).  </p>\n\n<p>However, the very definition of a <code>Set</code> in Java is, </p>\n\n<blockquote>\n  <p>\"A collection that contains no\n  duplicate elements. \"</p>\n</blockquote>\n\n<p>So you're really better off using a <code>List</code> or something else here.  Perhaps a <code>Map</code>, if you'd like to store duplicate values based on different keys.  </p>\n"},{"tags":[],"owner":{"account_id":91722,"reputation":3529,"user_id":251708,"display_name":"Gladwin Burboz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407540138,"creation_date":1264107839,"answer_id":2112887,"question_id":2112539,"body_markdown":"**Sun&#39;s view on &quot;bags&quot; (AKA multisets):**\r\n\r\n&gt; We are extremely sympathetic to the desire for type-safe collections. Rather than adding a &quot;band-aid&quot; to the framework that enforces type-safety in an ad hoc fashion, the framework has been designed to mesh with all of the parameterized-types proposals currently being discussed. In the event that parameterized types are added to the language, the entire collections framework will support compile-time type-safe usage, with no need for explicit casts. Unfortunately, this won&#39;t happen in the the 1.2 release. In the meantime, people who desire runtime type safety can implement their own gating functions in &quot;wrapper&quot; collections surrounding JDK collections. \r\n\r\n([source](https://web.archive.org/web/20130303031206/http://docs.oracle.com/javase/1.4.2/docs/guide/collections/designfaq.html#3); note it is old and possibly obsolete -ed.)\r\n\r\nApart from Google&#39;s collections API, you can use Apache Commons Collections.\r\n\r\n**Apache Commons Collections:**\r\n\r\nhttp://commons.apache.org/collections/\r\n\r\n[Javadoc for `Bag`](http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html)","title":"Duplicate values in the Set collection?","body":"<p><strong>Sun's view on \"bags\" (AKA multisets):</strong></p>\n\n<blockquote>\n  <p>We are extremely sympathetic to the desire for type-safe collections. Rather than adding a \"band-aid\" to the framework that enforces type-safety in an ad hoc fashion, the framework has been designed to mesh with all of the parameterized-types proposals currently being discussed. In the event that parameterized types are added to the language, the entire collections framework will support compile-time type-safe usage, with no need for explicit casts. Unfortunately, this won't happen in the the 1.2 release. In the meantime, people who desire runtime type safety can implement their own gating functions in \"wrapper\" collections surrounding JDK collections. </p>\n</blockquote>\n\n<p>(<a href=\"https://web.archive.org/web/20130303031206/http://docs.oracle.com/javase/1.4.2/docs/guide/collections/designfaq.html#3\" rel=\"nofollow noreferrer\">source</a>; note it is old and possibly obsolete -ed.)</p>\n\n<p>Apart from Google's collections API, you can use Apache Commons Collections.</p>\n\n<p><strong>Apache Commons Collections:</strong></p>\n\n<p><a href=\"http://commons.apache.org/collections/\" rel=\"nofollow noreferrer\">http://commons.apache.org/collections/</a></p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html\" rel=\"nofollow noreferrer\">Javadoc for <code>Bag</code></a></p>\n"},{"tags":[],"owner":{"account_id":40544,"reputation":174,"user_id":117479,"display_name":"VHF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264108875,"creation_date":1264108875,"answer_id":2113019,"question_id":2112539,"body_markdown":"As mentioned choose the right collection for the task and likely a List will be what you need. Messing with the equals(), hashcode() or compareTo() to break identity is generally a bad idea simply to wedge an instance into the wrong collection to start with. Worse yet it may break code in other areas of the application  that depend on these methods producing valid  comparison results and be very difficult to debug or track down such errors.  ","title":"Duplicate values in the Set collection?","body":"<p>As mentioned choose the right collection for the task and likely a List will be what you need. Messing with the equals(), hashcode() or compareTo() to break identity is generally a bad idea simply to wedge an instance into the wrong collection to start with. Worse yet it may break code in other areas of the application  that depend on these methods producing valid  comparison results and be very difficult to debug or track down such errors.  </p>\n"},{"tags":[],"owner":{"account_id":634429,"reputation":1,"user_id":399338,"display_name":"IndicCrusader"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279815749,"creation_date":1279815749,"answer_id":3311030,"question_id":2112539,"body_markdown":"This question was asked to me also in an interview. I think the answer is, ofcourse Set will not allow duplicate elements and instead ArrayList or other collections should be used for the same, however overriding equals() for the type of the object being stored in the set will allow you to manipulate on the comparison logic. And hence you may be able to store duplicate elements in the Set. Its more of a hack, which would allow non-unique elements in the Set and ofcourse is not recommended in production level code.","title":"Duplicate values in the Set collection?","body":"<p>This question was asked to me also in an interview. I think the answer is, ofcourse Set will not allow duplicate elements and instead ArrayList or other collections should be used for the same, however overriding equals() for the type of the object being stored in the set will allow you to manipulate on the comparison logic. And hence you may be able to store duplicate elements in the Set. Its more of a hack, which would allow non-unique elements in the Set and ofcourse is not recommended in production level code.</p>\n"},{"tags":[],"owner":{"account_id":1419270,"reputation":560,"user_id":1771440,"accept_rate":50,"display_name":"The PowerHouse"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1351089735,"creation_date":1351087527,"answer_id":13050922,"question_id":2112539,"body_markdown":"You can do so by overriding hashcode as given below:\r\n\r\n\r\n    public class Test  \r\n    {  \r\n        static int a=0;  \r\n \r\n        @Override  \r\n        public int hashCode()  \r\n        {  \r\n            a++;  \r\n            return a;  \r\n        }\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            Set&lt;Test&gt; s=new HashSet&lt;Test&gt;();\r\n            Test t1=new Test();\r\n            Test t2=t1;\r\n            s.add(t1);\r\n            s.add(t2);\r\n            System.out.println(s);\r\n            System.out.println(&quot;--Done--&quot;);\r\n        }\r\n    }\r\n","title":"Duplicate values in the Set collection?","body":"<p>You can do so by overriding hashcode as given below:</p>\n\n<pre><code>public class Test  \n{  \n    static int a=0;  \n\n    @Override  \n    public int hashCode()  \n    {  \n        a++;  \n        return a;  \n    }\n\n    public static void main(String[] args)\n    {\n        Set&lt;Test&gt; s=new HashSet&lt;Test&gt;();\n        Test t1=new Test();\n        Test t2=t1;\n        s.add(t1);\n        s.add(t2);\n        System.out.println(s);\n        System.out.println(\"--Done--\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094714,"reputation":1,"user_id":1863767,"display_name":"pawan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1354206276,"creation_date":1354204638,"answer_id":13629643,"question_id":2112539,"body_markdown":"    public class SET { \r\n    \r\n    \tpublic static void main(String[] args) { \r\n    \t\tSet set=new HashSet(); \r\n    \t\tset.add(new AB(10, &quot;pawan@email&quot;)); \r\n    \t\tset.add(new AB(10, &quot;pawan@email&quot;)); \r\n    \t\tset.add(new AB(10, &quot;pawan@email&quot;)); \r\n    \t\tIterator it=set.iterator(); \r\n    \t\twhile(it.hasNext()){ \r\n    \t\t\tObject o=it.next(); \r\n    \t\t\tSystem.out.println(o);\r\n    \t\t}\r\n    \t}\r\n    } \r\n    \r\n    public class AB{ \r\n    \r\n    \tint id;\r\n    \tString email;\r\n    \r\n    \tpublic AB() { \r\n    \t\tSystem.out.println(&quot;DC&quot;);\r\n    \t} \r\n    \r\n    \tAB(int id,String email){ \r\n    \t\tthis.id=id;\r\n    \t\tthis.email=email;\r\n    \t} \r\n    \r\n    \t@Override public String toString() { \r\n    \t\t// TODO Auto-generated method stub return &quot;&quot;+id+&quot;\\t&quot;+email;}\r\n    \t}\r\n    }","title":"Duplicate values in the Set collection?","body":"<pre><code>public class SET { \n\n    public static void main(String[] args) { \n        Set set=new HashSet(); \n        set.add(new AB(10, \"pawan@email\")); \n        set.add(new AB(10, \"pawan@email\")); \n        set.add(new AB(10, \"pawan@email\")); \n        Iterator it=set.iterator(); \n        while(it.hasNext()){ \n            Object o=it.next(); \n            System.out.println(o);\n        }\n    }\n} \n\npublic class AB{ \n\n    int id;\n    String email;\n\n    public AB() { \n        System.out.println(\"DC\");\n    } \n\n    AB(int id,String email){ \n        this.id=id;\n        this.email=email;\n    } \n\n    @Override public String toString() { \n        // TODO Auto-generated method stub return \"\"+id+\"\\t\"+email;}\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407540964,"creation_date":1407540964,"answer_id":25213733,"question_id":2112539,"body_markdown":"These sound like interview questions, so I&#39;ll answer them like interview questions...\r\n\r\n    Is it possible to allow duplicate values in the Set collection?\r\n\r\nYes, but it requires that the person implementing the `Set` violate the _design contract_ upon which `Set` is built.  Basically, I could write a class that extends `Set` and doesn&#39;t enforce `Set`&#39;s promises.\r\n\r\nIn addition, other violations are possible.  I could use a `Set` implementation that relies upon Java&#39;s `hashCode()` contract.  Then if I provided an `Object` that violates Java&#39;s hashcode contract, I might be able to place two objects into the set which are equal, but yeild different hashcodes (because they might not be checked in equality against each other due to being in different hash bucket chains.\r\n\r\n    Is there any way to make the elements unique and have some copies of them?\r\n\r\nIt basically depends on how you define uniqueness.  If an object&#39;s uniqueness is determined by its value, then one can have multiple copies of the same unique object; however, if the object&#39;s uniqueness is determined by its instance, then by definition it would not be possible to have multiple copies of the same object.  You could however have multiple references to them.\r\n\r\n    Is there any functions for Set collection for having duplicate values in it?\r\n\r\nThe `Set` interface doesn&#39;t have any functions for detecting / reporting duplicates; however, it is based on the Collections interface, which has to support the List interface, so it is possible to pass duplicates into a Set; however, a properly implemented `Set` will just ignore the duplicates, and present one copy of every element determined to be unique.","title":"Duplicate values in the Set collection?","body":"<p>These sound like interview questions, so I'll answer them like interview questions...</p>\n\n<pre><code>Is it possible to allow duplicate values in the Set collection?\n</code></pre>\n\n<p>Yes, but it requires that the person implementing the <code>Set</code> violate the <em>design contract</em> upon which <code>Set</code> is built.  Basically, I could write a class that extends <code>Set</code> and doesn't enforce <code>Set</code>'s promises.</p>\n\n<p>In addition, other violations are possible.  I could use a <code>Set</code> implementation that relies upon Java's <code>hashCode()</code> contract.  Then if I provided an <code>Object</code> that violates Java's hashcode contract, I might be able to place two objects into the set which are equal, but yeild different hashcodes (because they might not be checked in equality against each other due to being in different hash bucket chains.</p>\n\n<pre><code>Is there any way to make the elements unique and have some copies of them?\n</code></pre>\n\n<p>It basically depends on how you define uniqueness.  If an object's uniqueness is determined by its value, then one can have multiple copies of the same unique object; however, if the object's uniqueness is determined by its instance, then by definition it would not be possible to have multiple copies of the same object.  You could however have multiple references to them.</p>\n\n<pre><code>Is there any functions for Set collection for having duplicate values in it?\n</code></pre>\n\n<p>The <code>Set</code> interface doesn't have any functions for detecting / reporting duplicates; however, it is based on the Collections interface, which has to support the List interface, so it is possible to pass duplicates into a Set; however, a properly implemented <code>Set</code> will just ignore the duplicates, and present one copy of every element determined to be unique.</p>\n"},{"tags":[],"owner":{"account_id":14245361,"reputation":1,"user_id":10290612,"display_name":"Dileep Maurya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556734315,"creation_date":1556734315,"answer_id":55940672,"question_id":2112539,"body_markdown":"Well, In this case we are trying to break the purpose of specific collection. If we want to allow duplicate records simply use list or multimap. ","title":"Duplicate values in the Set collection?","body":"<p>Well, In this case we are trying to break the purpose of specific collection. If we want to allow duplicate records simply use list or multimap. </p>\n"},{"tags":[],"owner":{"account_id":17563125,"reputation":1,"user_id":12740632,"display_name":"Pradip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579418972,"creation_date":1579411659,"answer_id":59807399,"question_id":2112539,"body_markdown":"Set will store unique values and if you wants to store duplicate values then for list,but still if you want duplicate values in set then create set of ArrayList so that you can put duplicate elements into it.\r\n```\r\n Set&lt;ArrayList&gt; s = new HashSet&lt;ArrayList&gt;();\r\n\r\n ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n\r\n arr.add(&quot;First&quot;);\r\n\r\n arr.add(&quot;Second&quot;);\r\n\r\n arr.add(&quot;Third&quot;);\r\n\r\n arr.add(&quot;Fourth&quot;);\r\n\r\n arr.add(&quot;First&quot;);   \r\n\r\n s.add(arr);\r\n```","title":"Duplicate values in the Set collection?","body":"<p>Set will store unique values and if you wants to store duplicate values then for list,but still if you want duplicate values in set then create set of ArrayList so that you can put duplicate elements into it.</p>\n\n<pre><code> Set&lt;ArrayList&gt; s = new HashSet&lt;ArrayList&gt;();\n\n ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n\n arr.add(\"First\");\n\n arr.add(\"Second\");\n\n arr.add(\"Third\");\n\n arr.add(\"Fourth\");\n\n arr.add(\"First\");   \n\n s.add(arr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11721736,"reputation":21,"user_id":8580485,"display_name":"musiceni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648328254,"creation_date":1648301936,"answer_id":71628524,"question_id":2112539,"body_markdown":"You can use Tree Map instead :\r\n\r\nKey can be used as element you wish to store\r\nand Value will be the frequency of input element.\r\n\r\nThe insertion and removal will require custom handling.\r\n\r\n 1. Insertion : Check if the map already contains the element , if yes then increment its frequency. O(log N)\r\n 2. Removal : if the element&#39;s frequency is 1 then remove it , else decrease frequency by 1. O(log N) \r\n\r\nMore details can be found in the [java docs][1] of tree map\r\n\r\nOverall time complexity will remain same as TreeSet O(log N) but worse than a HashSet O(1)\r\n\r\n    firstEntry() -&gt; provides smallest element entry, Time Complexity : O(Log N)\r\n    lastEntry() -&gt; provides greatest element entry, Time Complexity : O(Log N)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html","title":"Duplicate values in the Set collection?","body":"<p>You can use Tree Map instead :</p>\n<p>Key can be used as element you wish to store\nand Value will be the frequency of input element.</p>\n<p>The insertion and removal will require custom handling.</p>\n<ol>\n<li>Insertion : Check if the map already contains the element , if yes then increment its frequency. O(log N)</li>\n<li>Removal : if the element's frequency is 1 then remove it , else decrease frequency by 1. O(log N)</li>\n</ol>\n<p>More details can be found in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">java docs</a> of tree map</p>\n<p>Overall time complexity will remain same as TreeSet O(log N) but worse than a HashSet O(1)</p>\n<pre><code>firstEntry() -&gt; provides smallest element entry, Time Complexity : O(Log N)\nlastEntry() -&gt; provides greatest element entry, Time Complexity : O(Log N)\n</code></pre>\n"}],"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76805,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":2112544,"answer_count":15,"score":14,"last_activity_date":1648328254,"creation_date":1264105050,"question_id":2112539,"body_markdown":"Is it possible to allow duplicate values in the Set collection?\r\n\r\nIs there any way to make the elements unique and have some copies of them?\r\nIs there any functions for Set collection for having duplicate values in it?\r\n\r\n","title":"Duplicate values in the Set collection?","body":"<p>Is it possible to allow duplicate values in the Set collection?</p>\n\n<p>Is there any way to make the elements unique and have some copies of them?\nIs there any functions for Set collection for having duplicate values in it?</p>\n"},{"tags":["java","object","if-statement"],"answers":[{"tags":[],"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648325543,"creation_date":1648325543,"answer_id":71631489,"question_id":71631431,"body_markdown":"Save the product outside of the IF query:     \r\n\r\n\r\n    System.out.println(&quot;Welcome to our hardware shop. We have three items in stock: \\n&quot; + &quot;Wrench CMMT12001\\n&quot;\r\n                + &quot;Power Drill 12v\\n&quot;\r\n                + &quot;Shovel D-Handle\\n&quot;\r\n                + &quot;Which product would you like to buy?&quot;);\r\n        \r\n        product = keyboard.nextLine();\r\n        \r\n        System.out.println(&quot;How many items of this product would you like?&quot;);\r\n        \r\n        items = keyboard.nextInt(); \r\n        \r\n        System.out.println(&quot;What is the date (00/00/0000) &quot;);\r\n        \r\n        date = keyboard.nextLine();\r\n        \r\n        int dayOfYear = dayOfYear(date);\r\n        \r\n        Products selected;\r\n        \r\n        if (product.equals(&quot;Wrench CMMT12001&quot;)) {\r\n            selected = new Products(productXID, product, productXPrice, &quot;X&quot;, items, dayOfYear);\r\n            \r\n        }\r\n        \r\n        else if (product.equals(&quot;Power Drill 12v&quot;)) {\r\n            selected = new Products(productYID, product, productYPrice, &quot;Y&quot;, items, dayOfYear);\r\n        }\r\n        \r\n        else if (product.equals(&quot;Shovel D-Handle&quot;)) {\r\n            selected = new Products(productZID, product, productZPrice, &quot;Z&quot;, items, dayOfYear);\r\n        }\r\n        \r\n        else \r\n            System.out.println(&quot;You did not enter a product.&quot;);\r\n            \r\n        }","title":"Java Inventory Program, How Do I Recall The Objects That are Created?","body":"<p>Save the product outside of the IF query:</p>\n<pre><code>System.out.println(&quot;Welcome to our hardware shop. We have three items in stock: \\n&quot; + &quot;Wrench CMMT12001\\n&quot;\n            + &quot;Power Drill 12v\\n&quot;\n            + &quot;Shovel D-Handle\\n&quot;\n            + &quot;Which product would you like to buy?&quot;);\n    \n    product = keyboard.nextLine();\n    \n    System.out.println(&quot;How many items of this product would you like?&quot;);\n    \n    items = keyboard.nextInt(); \n    \n    System.out.println(&quot;What is the date (00/00/0000) &quot;);\n    \n    date = keyboard.nextLine();\n    \n    int dayOfYear = dayOfYear(date);\n    \n    Products selected;\n    \n    if (product.equals(&quot;Wrench CMMT12001&quot;)) {\n        selected = new Products(productXID, product, productXPrice, &quot;X&quot;, items, dayOfYear);\n        \n    }\n    \n    else if (product.equals(&quot;Power Drill 12v&quot;)) {\n        selected = new Products(productYID, product, productYPrice, &quot;Y&quot;, items, dayOfYear);\n    }\n    \n    else if (product.equals(&quot;Shovel D-Handle&quot;)) {\n        selected = new Products(productZID, product, productZPrice, &quot;Z&quot;, items, dayOfYear);\n    }\n    \n    else \n        System.out.println(&quot;You did not enter a product.&quot;);\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":23480760,"reputation":1,"user_id":18591288,"display_name":"snell_express"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648327364,"creation_date":1648325004,"question_id":71631431,"body_markdown":"I am stuck on this. I have user input for some information on some products, and I make an if else if statement to declare which type of product it is after the user has inputted. Only issue is that I want to recall the object that is created. It will either be created as drill, wrench, or shovel. But how do I store this information so I can recall it, e.g I want to output the items price, id, type, etc?\r\n\r\n     System.out.println(&quot;Welcome to our hardware shop. We have three items in stock: \\n&quot; + &quot;Wrench CMMT12001\\n&quot;\r\n\t\t\t\t+ &quot;Power Drill 12v\\n&quot;\r\n\t\t\t\t+ &quot;Shovel D-Handle\\n&quot;\r\n\t\t\t\t+ &quot;Which product would you like to buy?&quot;);\r\n\t\t\r\n\t\tproduct = keyboard.nextLine();\r\n\t\t\r\n\t\tSystem.out.println(&quot;How many items of this product would you like?&quot;);\r\n\t\t\r\n\t\titems = keyboard.nextInt(); \r\n\t\t\r\n\t\tSystem.out.println(&quot;What is the date (00/00/0000) &quot;);\r\n\t\t\r\n\t\tdate = keyboard.nextLine();\r\n\t\t\r\n\t\tint dayOfYear = dayOfYear(date);\r\n\t\t\r\n\t\t\r\n\t\tif (product.equals(&quot;Wrench CMMT12001&quot;)) {\r\n\t\t\tProducts wrench = new Products(productXID, product, productXPrice, &quot;X&quot;, items, dayOfYear);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse if (product.equals(&quot;Power Drill 12v&quot;)) {\r\n\t\t\tProducts drill = new Products(productYID, product, productYPrice, &quot;Y&quot;, items, dayOfYear);\r\n\t\t}\r\n\t\t\r\n\t\telse if (product.equals(&quot;Shovel D-Handle&quot;)) {\r\n\t\t\tProducts shovel = new Products(productZID, product, productZPrice, &quot;Z&quot;, items, dayOfYear);\r\n\t\t}\r\n\t\t\r\n\t\telse \r\n\t\t\tSystem.out.println(&quot;You did not enter a product.&quot;);","title":"Java Inventory Program, How Do I Recall The Objects That are Created?","body":"<p>I am stuck on this. I have user input for some information on some products, and I make an if else if statement to declare which type of product it is after the user has inputted. Only issue is that I want to recall the object that is created. It will either be created as drill, wrench, or shovel. But how do I store this information so I can recall it, e.g I want to output the items price, id, type, etc?</p>\n<pre><code> System.out.println(&quot;Welcome to our hardware shop. We have three items in stock: \\n&quot; + &quot;Wrench CMMT12001\\n&quot;\n            + &quot;Power Drill 12v\\n&quot;\n            + &quot;Shovel D-Handle\\n&quot;\n            + &quot;Which product would you like to buy?&quot;);\n    \n    product = keyboard.nextLine();\n    \n    System.out.println(&quot;How many items of this product would you like?&quot;);\n    \n    items = keyboard.nextInt(); \n    \n    System.out.println(&quot;What is the date (00/00/0000) &quot;);\n    \n    date = keyboard.nextLine();\n    \n    int dayOfYear = dayOfYear(date);\n    \n    \n    if (product.equals(&quot;Wrench CMMT12001&quot;)) {\n        Products wrench = new Products(productXID, product, productXPrice, &quot;X&quot;, items, dayOfYear);\n        \n    }\n    \n    else if (product.equals(&quot;Power Drill 12v&quot;)) {\n        Products drill = new Products(productYID, product, productYPrice, &quot;Y&quot;, items, dayOfYear);\n    }\n    \n    else if (product.equals(&quot;Shovel D-Handle&quot;)) {\n        Products shovel = new Products(productZID, product, productZPrice, &quot;Z&quot;, items, dayOfYear);\n    }\n    \n    else \n        System.out.println(&quot;You did not enter a product.&quot;);\n</code></pre>\n"},{"tags":["java","xml","encoding","xml-parsing","domdocument"],"comments":[{"owner":{"account_id":46922,"reputation":14030,"user_id":138830,"accept_rate":86,"display_name":"gawi"},"score":0,"creation_date":1282849163,"post_id":3578395,"comment_id":3753112,"body_markdown":"Can your share a bit of your code?","body":"Can your share a bit of your code?"}],"answers":[{"tags":[],"owner":{"account_id":645084,"reputation":104,"user_id":432222,"display_name":"Ralph D"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1442343188,"creation_date":1282851228,"answer_id":3578821,"question_id":3578395,"body_markdown":"I solved it, given alot of trial and errors.\r\n\r\nI was using \r\n\r\n    OutputFormat format = new OutputFormat(document);\r\n\r\nbut changed it to \r\n\r\n    OutputFormat format = new OutputFormat(d, encoding, true);\r\n\r\nand this solved my problem. \r\n\r\n`encoding` is what I set it to be  \r\n`true` refers to whether or not indent is set.\r\n\r\nNote to self - read more carefully - I had looked at the javadoc hours ago - if only I&#39;d have read more carefully.","title":"Java, XML DocumentBuilder - setting the encoding when parsing","body":"<p>I solved it, given alot of trial and errors.</p>\n\n<p>I was using </p>\n\n<pre><code>OutputFormat format = new OutputFormat(document);\n</code></pre>\n\n<p>but changed it to </p>\n\n<pre><code>OutputFormat format = new OutputFormat(d, encoding, true);\n</code></pre>\n\n<p>and this solved my problem. </p>\n\n<p><code>encoding</code> is what I set it to be<br>\n<code>true</code> refers to whether or not indent is set.</p>\n\n<p>Note to self - read more carefully - I had looked at the javadoc hours ago - if only I'd have read more carefully.</p>\n"},{"tags":[],"owner":{"account_id":2154779,"reputation":31,"user_id":1910274,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1355756367,"creation_date":1355755133,"answer_id":13916193,"question_id":3578395,"body_markdown":"    // Read XML\r\n    String xml = &quot;xml&quot;\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder builder = factory.newDocumentBuilder();\r\n    Document document = builder.parse(new InputSource(new StringReader(xml)));\r\n\r\n    // Append formatting\r\n    OutputFormat format = new OutputFormat(document);\r\n\r\n    if (document.getXmlEncoding() != null) {\r\n      format.setEncoding(document.getXmlEncoding());\r\n    }\r\n\r\n    format.setLineWidth(100);\r\n    format.setIndenting(true);\r\n    format.setIndent(5);\r\n    Writer out = new StringWriter();\r\n    XMLSerializer serializer = new XMLSerializer(out, format);\r\n    serializer.serialize(document);\r\n    String result = out.toString();","title":"Java, XML DocumentBuilder - setting the encoding when parsing","body":"<pre><code>// Read XML\nString xml = \"xml\"\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = factory.newDocumentBuilder();\nDocument document = builder.parse(new InputSource(new StringReader(xml)));\n\n// Append formatting\nOutputFormat format = new OutputFormat(document);\n\nif (document.getXmlEncoding() != null) {\n  format.setEncoding(document.getXmlEncoding());\n}\n\nformat.setLineWidth(100);\nformat.setIndenting(true);\nformat.setIndent(5);\nWriter out = new StringWriter();\nXMLSerializer serializer = new XMLSerializer(out, format);\nserializer.serialize(document);\nString result = out.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":131106,"reputation":39102,"user_id":330867,"accept_rate":79,"display_name":"Cyril N."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392981545,"creation_date":1392981545,"answer_id":21932971,"question_id":3578395,"body_markdown":"Here&#39;s an updated answer since OutputFormat is deprecated :\r\n\r\n\r\n    TransformerFactory tf = TransformerFactory.newInstance();\r\n    Transformer transformer = tf.newTransformer();\r\n    transformer.setOutputProperty(OutputKeys.ENCODING, &quot;ISO-8859-1&quot;);\r\n    \t\t\r\n    StringWriter writer = new StringWriter();\r\n    transformer.transform(new DOMSource(document), new StreamResult(writer));\r\n    String output = writer.getBuffer().toString().replaceAll(&quot;\\n|\\r&quot;, &quot;&quot;);\r\n\r\nThe second part will return the XML Document as String","title":"Java, XML DocumentBuilder - setting the encoding when parsing","body":"<p>Here's an updated answer since OutputFormat is deprecated :</p>\n\n<pre><code>TransformerFactory tf = TransformerFactory.newInstance();\nTransformer transformer = tf.newTransformer();\ntransformer.setOutputProperty(OutputKeys.ENCODING, \"ISO-8859-1\");\n\nStringWriter writer = new StringWriter();\ntransformer.transform(new DOMSource(document), new StreamResult(writer));\nString output = writer.getBuffer().toString().replaceAll(\"\\n|\\r\", \"\");\n</code></pre>\n\n<p>The second part will return the XML Document as String</p>\n"},{"tags":[],"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479243016,"creation_date":1479243016,"answer_id":40619444,"question_id":3578395,"body_markdown":"This worked for me and is very simple. No need for a transformer or output formatter:\r\n\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder builder = factory.newDocumentBuilder();\r\n    InputSource is = new InputSource(inputStream);\r\n    is.setEncoding(&quot;ISO-8859-1&quot;); // set your encoding here\r\n    Document document = builder.parse(is);","title":"Java, XML DocumentBuilder - setting the encoding when parsing","body":"<p>This worked for me and is very simple. No need for a transformer or output formatter:</p>\n\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = factory.newDocumentBuilder();\nInputSource is = new InputSource(inputStream);\nis.setEncoding(\"ISO-8859-1\"); // set your encoding here\nDocument document = builder.parse(is);\n</code></pre>\n"}],"owner":{"account_id":645084,"reputation":104,"user_id":432222,"display_name":"Ralph D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41130,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1648326741,"creation_date":1282848162,"question_id":3578395,"body_markdown":"I&#39;m trying to save a tree (extends `JTree`) which holds an `XML` document to a `DOM Object` having changed it&#39;s structure.\r\n\r\nI have created a new document object, traversed the tree to retrieve the contents successfully (including the original encoding of the `XML` document), and now have a `ByteArrayInputStream` which has the tree contents (`XML` document) with the correct encoding.\r\n\r\nThe problem is when I parse the `ByteArrayInputStream` the encoding is changed to `UTF-8` (in the `XML` document) automatically. \r\n\r\nIs there a way to prevent this and use the correct encoding as provided in the `ByteArrayInputStream`. \r\n\r\nIt&#39;s also worth adding that I have already used the   \r\n    `transformer.setOutputProperty(OutputKeys.ENCODING, encoding)`  method to retrieve the right encoding.\r\n\r\nAny help would be appreciated.","title":"Java, XML DocumentBuilder - setting the encoding when parsing","body":"<p>I'm trying to save a tree (extends <code>JTree</code>) which holds an <code>XML</code> document to a <code>DOM Object</code> having changed it's structure.</p>\n\n<p>I have created a new document object, traversed the tree to retrieve the contents successfully (including the original encoding of the <code>XML</code> document), and now have a <code>ByteArrayInputStream</code> which has the tree contents (<code>XML</code> document) with the correct encoding.</p>\n\n<p>The problem is when I parse the <code>ByteArrayInputStream</code> the encoding is changed to <code>UTF-8</code> (in the <code>XML</code> document) automatically. </p>\n\n<p>Is there a way to prevent this and use the correct encoding as provided in the <code>ByteArrayInputStream</code>. </p>\n\n<p>It's also worth adding that I have already used the<br>\n    <code>transformer.setOutputProperty(OutputKeys.ENCODING, encoding)</code>  method to retrieve the right encoding.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin"],"comments":[{"owner":{"account_id":1324898,"reputation":4384,"user_id":1269953,"accept_rate":65,"display_name":"Pztar"},"score":1,"creation_date":1484338812,"post_id":41642538,"comment_id":70485477,"body_markdown":"share `gradle` file","body":"share <code>gradle</code> file"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1484339280,"post_id":41642538,"comment_id":70485708,"body_markdown":"Your links seem valid *Remove the line with `apply plugin: &#39;java&#39;`*","body":"Your links seem valid <i>Remove the line with <code>apply plugin: &#39;java&#39;</code></i>"},{"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"score":0,"creation_date":1484339916,"post_id":41642538,"comment_id":70485984,"body_markdown":"@Pztar shared gradle file.","body":"@Pztar shared gradle file."},{"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"score":0,"creation_date":1484339973,"post_id":41642538,"comment_id":70486008,"body_markdown":"@cricket_007 I dnt have that line in my gradle file.","body":"@cricket_007 I dnt have that line in my gradle file."},{"owner":{"account_id":1324898,"reputation":4384,"user_id":1269953,"accept_rate":65,"display_name":"Pztar"},"score":0,"creation_date":1484340692,"post_id":41642538,"comment_id":70486342,"body_markdown":"@ajc, try doing a `Rebuild` if that doesn&#39;t work then try going to `File` -&gt; `Invalidate Caches/Restart`-&gt; `Invalidate and Restart`","body":"@ajc, try doing a <code>Rebuild</code> if that doesn&#39;t work then try going to <code>File</code> -&gt; <code>Invalidate Caches&#47;Restart</code>-&gt; <code>Invalidate and Restart</code>"},{"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"score":0,"creation_date":1484341169,"post_id":41642538,"comment_id":70486545,"body_markdown":"@Pztar.. Tried both. No luck. I&#39;m not able to wrap my head around this, What can cause this? Is there a conflict between my jdk and android plugins?","body":"@Pztar.. Tried both. No luck. I&#39;m not able to wrap my head around this, What can cause this? Is there a conflict between my jdk and android plugins?"},{"owner":{"account_id":1324898,"reputation":4384,"user_id":1269953,"accept_rate":65,"display_name":"Pztar"},"score":0,"creation_date":1484343426,"post_id":41642538,"comment_id":70487474,"body_markdown":"@ajc, is your project pointing to the right `SDK` and `JDK` locations? Do you have any external dependencies in your project? Did you recently upgrade any part of `Android Studio` including `gradle`?","body":"@ajc, is your project pointing to the right <code>SDK</code> and <code>JDK</code> locations? Do you have any external dependencies in your project? Did you recently upgrade any part of <code>Android Studio</code> including <code>gradle</code>?"},{"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"score":0,"creation_date":1484343662,"post_id":41642538,"comment_id":70487560,"body_markdown":"I just installed Android Studio. Didnt get any option to upgrade anything yet. I already had a jdk installed, I pointed it to it and sdk is the one that is selected by default. So I believe they both are pointing correctly. I rt clicked project and &gt; Open Module Settings and selected sdk locations. They are right.","body":"I just installed Android Studio. Didnt get any option to upgrade anything yet. I already had a jdk installed, I pointed it to it and sdk is the one that is selected by default. So I believe they both are pointing correctly. I rt clicked project and &gt; Open Module Settings and selected sdk locations. They are right."},{"owner":{"account_id":1324898,"reputation":4384,"user_id":1269953,"accept_rate":65,"display_name":"Pztar"},"score":0,"creation_date":1484344141,"post_id":41642538,"comment_id":70487750,"body_markdown":"@ajc, see where it says `compile &#39;com.android.support:appcompat-v7:25.1.0&#39;` under dependencies, try to change it to `compile &#39;com.android.support:appcompat-v7:25.0.1&#39;`","body":"@ajc, see where it says <code>compile &#39;com.android.support:appcompat-v7:25.1.0&#39;</code> under dependencies, try to change it to <code>compile &#39;com.android.support:appcompat-v7:25.0.1&#39;</code>"},{"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"score":0,"creation_date":1484344346,"post_id":41642538,"comment_id":70487832,"body_markdown":"Tried it. Still the same. No difference!","body":"Tried it. Still the same. No difference!"},{"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"score":0,"creation_date":1484761671,"post_id":41642538,"comment_id":70646747,"body_markdown":"upload it in github so everyone can help you better","body":"upload it in github so everyone can help you better"},{"owner":{"account_id":6561829,"reputation":3178,"user_id":5821228,"accept_rate":64,"display_name":"Vishal Patoliya "},"score":0,"creation_date":1485166888,"post_id":41642538,"comment_id":70795493,"body_markdown":"which version of java you using ??","body":"which version of java you using ??"},{"owner":{"account_id":3448854,"reputation":648,"user_id":2888952,"display_name":"Arpan24x7"},"score":0,"creation_date":1485254452,"post_id":41642538,"comment_id":70839057,"body_markdown":"please set JDK 8 and check if still error please post here the line comes from message window in your AS","body":"please set JDK 8 and check if still error please post here the line comes from message window in your AS"},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1485257515,"post_id":41642538,"comment_id":70841071,"body_markdown":"Make sure that you have using JDK 1.8","body":"Make sure that you have using JDK 1.8"},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1485257834,"post_id":41642538,"comment_id":70841294,"body_markdown":"Please visit here http://stackoverflow.com/questions/39116095/android-studio-buildtools-24-0-1-requires-java-1-8-or-above/39116275#39116275","body":"Please visit here <a href=\"http://stackoverflow.com/questions/39116095/android-studio-buildtools-24-0-1-requires-java-1-8-or-above/39116275#39116275\" title=\"android studio buildtools 24 0 1 requires java 1 8 or above\">stackoverflow.com/questions/39116095/&hellip;</a>"},{"owner":{"account_id":6732270,"reputation":13013,"user_id":5188159,"accept_rate":89,"display_name":"Charu"},"score":0,"creation_date":1485263152,"post_id":41642538,"comment_id":70844707,"body_markdown":"@ajc check my answer","body":"@ajc check my answer"}],"answers":[{"tags":[],"owner":{"account_id":6236664,"reputation":5308,"user_id":4851751,"accept_rate":100,"display_name":"Doron Yakovlev Golani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484669893,"creation_date":1484669893,"answer_id":41702014,"question_id":41642538,"body_markdown":"Not sure if this would help, but maybe you can try to explicitly add the java compilation option:\r\n\r\n    android {\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_7\r\n            targetCompatibility JavaVersion.VERSION_1_7\r\n        }\r\n    }","title":"&#39;java&#39; plugin is not compatible with the Android plugins","body":"<p>Not sure if this would help, but maybe you can try to explicitly add the java compilation option:</p>\n\n<pre><code>android {\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1276736,"reputation":3863,"user_id":1231827,"display_name":"Kevin Brotcke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485074280,"creation_date":1485074280,"answer_id":41788916,"question_id":41642538,"body_markdown":"This means the Java plugin is being applied on top of the Android plugin. I don&#39;t see anything that stands out in your build files though. Some things to try:\r\n\r\n* Try doing a clean build from command-line. That will tell you if it&#39;s an Android Studio problem.\r\n* Create an empty app from a clean slate and see if it builds.\r\n* Update Android SDK to latest\r\n* Update Android Studio to the latest\r\n* Remove Android Studio project files and re-import\r\n* Make sure correct Java version is in your path and JAVA_HOME is set correctly\r\n* Check if there is any jars in your local lib folder that could be conflicting\r\n* Try using beta version of Android plugin `compile &#39;com.android.tools.build:gradle:2.3.0-beta2&#39;`","title":"&#39;java&#39; plugin is not compatible with the Android plugins","body":"<p>This means the Java plugin is being applied on top of the Android plugin. I don't see anything that stands out in your build files though. Some things to try:</p>\n\n<ul>\n<li>Try doing a clean build from command-line. That will tell you if it's an Android Studio problem.</li>\n<li>Create an empty app from a clean slate and see if it builds.</li>\n<li>Update Android SDK to latest</li>\n<li>Update Android Studio to the latest</li>\n<li>Remove Android Studio project files and re-import</li>\n<li>Make sure correct Java version is in your path and JAVA_HOME is set correctly</li>\n<li>Check if there is any jars in your local lib folder that could be conflicting</li>\n<li>Try using beta version of Android plugin <code>compile 'com.android.tools.build:gradle:2.3.0-beta2'</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7394142,"reputation":22,"user_id":5626652,"display_name":"Akhil"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1485176600,"creation_date":1485176600,"answer_id":41807071,"question_id":41642538,"body_markdown":"check if more than one jdk is installed.","title":"&#39;java&#39; plugin is not compatible with the Android plugins","body":"<p>check if more than one jdk is installed.</p>\n"},{"tags":[],"owner":{"account_id":9274054,"reputation":834,"user_id":6887226,"accept_rate":56,"display_name":"Nazim ch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485318349,"creation_date":1485253111,"answer_id":41825546,"question_id":41642538,"body_markdown":"I think path has not been set as enviorment variable.\r\n\r\ncheck have you declared the java sdk path . set the path as environment variable.\r\n\r\n type &quot;javac&quot; in cmd(cmd must have admin previlliage). \r\n\r\nIf compile is not successfful \r\n\r\n1 . Open the jdk location and copy the path of &quot;bin&quot; \r\n   \r\n2 . Open system properties in control panel.\r\n\r\n3 . Advanced system settings -&gt; then select &quot;environment variables&quot;\r\n\r\n4 . click on &quot;new&quot;\r\n\r\n5 . set variable name as &quot;path&quot; and variable value copied address\r\n\r\nthen try again","title":"&#39;java&#39; plugin is not compatible with the Android plugins","body":"<p>I think path has not been set as enviorment variable.</p>\n\n<p>check have you declared the java sdk path . set the path as environment variable.</p>\n\n<p>type \"javac\" in cmd(cmd must have admin previlliage). </p>\n\n<p>If compile is not successfful </p>\n\n<p>1 . Open the jdk location and copy the path of \"bin\" </p>\n\n<p>2 . Open system properties in control panel.</p>\n\n<p>3 . Advanced system settings -> then select \"environment variables\"</p>\n\n<p>4 . click on \"new\"</p>\n\n<p>5 . set variable name as \"path\" and variable value copied address</p>\n\n<p>then try again</p>\n"},{"tags":[],"owner":{"account_id":9951668,"reputation":1672,"user_id":7364024,"display_name":"ChaitanyaAtkuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485256919,"creation_date":1485256919,"answer_id":41826945,"question_id":41642538,"body_markdown":"Try removing these two lines of code from your build.gradle\r\n\r\n    androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n\r\nand\r\n\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n\r\n","title":"&#39;java&#39; plugin is not compatible with the Android plugins","body":"<p>Try removing these two lines of code from your build.gradle</p>\n\n<pre><code>androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n</code></pre>\n\n<p>and</p>\n\n<pre><code>testCompile 'junit:junit:4.12'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6528008,"reputation":422,"user_id":5050129,"accept_rate":75,"display_name":"vicky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617042520,"creation_date":1485270637,"answer_id":41831620,"question_id":41642538,"body_markdown":"Try this one\r\nProcedure :-\r\n\r\n1.right click on project  -&gt;**Open Module Settings**  or **F4**\r\n\r\n2.then goto  **SDK Location**\r\n\r\n3.after that      Check on **use embedded jdk(recommended)**\r\n\r\n\r\nyou can see image given below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DldJo.png\r\n\r\n\r\nbuild and run project.\r\n\r\nYou can also add this in your build.gradle file\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }","title":"&#39;java&#39; plugin is not compatible with the Android plugins","body":"<p>Try this one\nProcedure :-</p>\n<p>1.right click on project  -&gt;<strong>Open Module Settings</strong>  or <strong>F4</strong></p>\n<p>2.then goto  <strong>SDK Location</strong></p>\n<p>3.after that      Check on <strong>use embedded jdk(recommended)</strong></p>\n<p>you can see image given below</p>\n<p><a href=\"https://i.stack.imgur.com/DldJo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DldJo.png\" alt=\"enter image description here\" /></a></p>\n<p>build and run project.</p>\n<p>You can also add this in your build.gradle file</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11309756,"reputation":867,"user_id":8293191,"display_name":"tnJed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648326422,"creation_date":1648326422,"answer_id":71631579,"question_id":41642538,"body_markdown":"I experienced this error while updating from KAPT to KSP.  The [docs][1] say to add\r\n\r\n    id &#39;org.jetbrains.kotlin.jvm&#39;\r\nto the plugins block, but it appears that adding the Kotlin jvm plugin to the mix was causing my java plugin error.  Remove the reference and it compiles.  FYI the linked docs are more figurative than literal. \r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/ksp-quickstart.html#create-a-processor-of-your-own","title":"&#39;java&#39; plugin is not compatible with the Android plugins","body":"<p>I experienced this error while updating from KAPT to KSP.  The <a href=\"https://kotlinlang.org/docs/ksp-quickstart.html#create-a-processor-of-your-own\" rel=\"nofollow noreferrer\">docs</a> say to add</p>\n<pre><code>id 'org.jetbrains.kotlin.jvm'\n</code></pre>\n<p>to the plugins block, but it appears that adding the Kotlin jvm plugin to the mix was causing my java plugin error.  Remove the reference and it compiles.  FYI the linked docs are more figurative than literal.</p>\n"}],"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6466,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":7,"score":12,"last_activity_date":1648326422,"creation_date":1484337494,"question_id":41642538,"body_markdown":"I&#39;m getting an error right after I installed Android studio and Created a simple app. \r\n\r\nSteps followed: \r\n\r\n 1. Fresh download &amp; installed Android studio.\r\n 2. Created a new project.\r\n\r\nWhen the project loaded, The gradle failed with error: \r\n\r\n    Error:The &#39;java&#39; plugin has been applied, but it is not compatible with the Android plugins.\r\n\r\n\r\nModule Gradle File: \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;info.ankitjc.happybirthday&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 25\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:25.1.0&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n    }\r\n\r\nProject Gradle File: \r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.2.3&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\nI searched for possible solutions here. \r\n\r\n- https://stackoverflow.com/questions/26861011/android-compile-error-java-plugin-has-been-applied-not-compatible-with-android \r\n- https://stackoverflow.com/questions/30035887/gradle-error-java-plugin-is-not-compatible-with-android-plugins\r\n\r\nAfter File &gt; Invalidate Cache/Restart [![After File &gt; Invalidate Cache/Restart][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDkjd.png","title":"&#39;java&#39; plugin is not compatible with the Android plugins","body":"<p>I'm getting an error right after I installed Android studio and Created a simple app. </p>\n\n<p>Steps followed: </p>\n\n<ol>\n<li>Fresh download &amp; installed Android studio.</li>\n<li>Created a new project.</li>\n</ol>\n\n<p>When the project loaded, The gradle failed with error: </p>\n\n<pre><code>Error:The 'java' plugin has been applied, but it is not compatible with the Android plugins.\n</code></pre>\n\n<p>Module Gradle File: </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"info.ankitjc.happybirthday\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.1.0'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>Project Gradle File: </p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>I searched for possible solutions here. </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/26861011/android-compile-error-java-plugin-has-been-applied-not-compatible-with-android\">Android compile error; Java plugin has been applied, not compatible with android</a> </li>\n<li><a href=\"https://stackoverflow.com/questions/30035887/gradle-error-java-plugin-is-not-compatible-with-android-plugins\">Gradle error &quot;Java plugin is not compatible with android plugins&quot;</a></li>\n</ul>\n\n<p>After File > Invalidate Cache/Restart <a href=\"https://i.stack.imgur.com/gDkjd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDkjd.png\" alt=\"After File &gt; Invalidate Cache/Restart\"></a></p>\n"},{"tags":["java","string","collections","replaceall"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1648227981,"post_id":71620585,"comment_id":126579462,"body_markdown":"I can&#39;t understand the last paragraph of your question, but there is no reason to use `replaceAll` instead of `replace` here; you are not using regular expressions.","body":"I can&#39;t understand the last paragraph of your question, but there is no reason to use <code>replaceAll</code> instead of <code>replace</code> here; you are not using regular expressions."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648233112,"creation_date":1648227951,"answer_id":71620671,"question_id":71620585,"body_markdown":"Your code is resigning the variable `item`, it will not affect the list contents.\r\n\r\nTo be able to do that, you might change the type of variable `arr` to `List`. With that, you can iterate over it by using the traditional (*index based*) `for` loop.\r\n```\r\nList&lt;String&gt; arr = // initializing the list\r\n\r\nfor (int i = 0; i &lt; arr.size(); i++) {\r\n    String item = replace(arr.get(i)); // method replace provided below\r\n    arr.set(i, item);\r\n}\r\n```\r\nAnother option is to use **Java 8** `replaceAll()` method, which expects a ***function*** that will be applied to every element in the collection.\r\n```\r\narr.replaceAll(str -&gt; replace(str));\r\n```\r\n\r\n    public static String replace(String source) {\r\n        return source.toUpperCase()\r\n                .replaceAll(&quot;[LI|]&quot;, &quot;1&quot;)\r\n                .replaceAll(&quot;[GB]&quot;, &quot;6&quot;)\r\n                .replace(&quot;O&quot;, &quot;0&quot;);\r\n    }\r\n\r\n***Note*** that method `replaceAll()` that expect a *regular expression* is more expensive than `replace()`. Hence, when you don&#39;t need a *regex*, its better to use any flavor of `replace()` (with either `char` or `String` arguments).\r\n\r\nHere you can benefit from `replaceAll()` by processing characters `L`, `L` and `|` in one go with a regular expression `&quot;[LI|]&quot;`.\r\n\r\n[*For more information on regular expressions take a look at this tutorial*](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html)\r\n\r\nThere&#39;s also a *minor issue* in your code:\r\n* After `toUpperCase()` has been applied, it doesn&#39;t make sense to try to replace lowercase letters like &#39;l&#39; or &#39;i&#39;.\r\n* There&#39;s a clash `&quot;b&quot;, &quot;6&quot;` and `&quot;B&quot;, &quot;8&quot;`.\r\n\r\nI hope with all these hints you&#39;ll be able to manage to get it working.","title":"Replacing element inside a Collection by using regular expressions","body":"<p>Your code is resigning the variable <code>item</code>, it will not affect the list contents.</p>\n<p>To be able to do that, you might change the type of variable <code>arr</code> to <code>List</code>. With that, you can iterate over it by using the traditional (<em>index based</em>) <code>for</code> loop.</p>\n<pre><code>List&lt;String&gt; arr = // initializing the list\n\nfor (int i = 0; i &lt; arr.size(); i++) {\n    String item = replace(arr.get(i)); // method replace provided below\n    arr.set(i, item);\n}\n</code></pre>\n<p>Another option is to use <strong>Java 8</strong> <code>replaceAll()</code> method, which expects a <em><strong>function</strong></em> that will be applied to every element in the collection.</p>\n<pre><code>arr.replaceAll(str -&gt; replace(str));\n</code></pre>\n<pre><code>public static String replace(String source) {\n    return source.toUpperCase()\n            .replaceAll(&quot;[LI|]&quot;, &quot;1&quot;)\n            .replaceAll(&quot;[GB]&quot;, &quot;6&quot;)\n            .replace(&quot;O&quot;, &quot;0&quot;);\n}\n</code></pre>\n<p><em><strong>Note</strong></em> that method <code>replaceAll()</code> that expect a <em>regular expression</em> is more expensive than <code>replace()</code>. Hence, when you don't need a <em>regex</em>, its better to use any flavor of <code>replace()</code> (with either <code>char</code> or <code>String</code> arguments).</p>\n<p>Here you can benefit from <code>replaceAll()</code> by processing characters <code>L</code>, <code>L</code> and <code>|</code> in one go with a regular expression <code>&quot;[LI|]&quot;</code>.</p>\n<p><a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\"><em>For more information on regular expressions take a look at this tutorial</em></a></p>\n<p>There's also a <em>minor issue</em> in your code:</p>\n<ul>\n<li>After <code>toUpperCase()</code> has been applied, it doesn't make sense to try to replace lowercase letters like 'l' or 'i'.</li>\n<li>There's a clash <code>&quot;b&quot;, &quot;6&quot;</code> and <code>&quot;B&quot;, &quot;8&quot;</code>.</li>\n</ul>\n<p>I hope with all these hints you'll be able to manage to get it working.</p>\n"},{"tags":[],"owner":{"account_id":7860843,"reputation":364,"user_id":5941309,"display_name":"Nipuna Upeksha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648229053,"creation_date":1648229053,"answer_id":71620882,"question_id":71620585,"body_markdown":"Instead of using the `for` loop. You can use, `stream`.\r\nFor example, if you want to change `i` to `1` in every element, you can get it using the following code. And you want to \r\n```\r\nCollection&lt;String&gt; arr_new = arr.stream().map(String::toLowerCase).map(t-&gt;t.replaceAll(&quot;i&quot;,1)).map(String::toUpperCase);\r\n```\r\nHere, the first map converts the String to lower-case, the second map do replace what you need and the third map convert it to the upper case.\r\nI hope this is what you are looking for.","title":"Replacing element inside a Collection by using regular expressions","body":"<p>Instead of using the <code>for</code> loop. You can use, <code>stream</code>.\nFor example, if you want to change <code>i</code> to <code>1</code> in every element, you can get it using the following code. And you want to</p>\n<pre><code>Collection&lt;String&gt; arr_new = arr.stream().map(String::toLowerCase).map(t-&gt;t.replaceAll(&quot;i&quot;,1)).map(String::toUpperCase);\n</code></pre>\n<p>Here, the first map converts the String to lower-case, the second map do replace what you need and the third map convert it to the upper case.\nI hope this is what you are looking for.</p>\n"}],"owner":{"account_id":16100492,"reputation":33,"user_id":11621391,"display_name":"Lorenz Hart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71620671,"answer_count":2,"score":1,"last_activity_date":1648326060,"creation_date":1648227510,"question_id":71620585,"body_markdown":"I have a `Collection` of strings.\r\n\r\nI need to replace some characters with given relevant characters. \r\n\r\nI was tried this. But my code but doesn&#39;t work correctly.\r\n\r\n    public class MyPattern {\r\n        public static void main(String[] args)\r\n        {\r\n            String items;\r\n            Collection&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n            arr.add(&quot;I00.30&quot;);  //Expected output: 100.30\r\n            arr.add(&quot;8B4.99&quot;);  //Expected output: 884.99\r\n            arr.add(&quot;B37.2B&quot;);  //Expected output: 837.28\r\n            arr.add(&quot;292.b4&quot;);  //Expected output: 262.64\r\n            arr.add(&quot;24|.7O&quot;);  //Expected output: 241.70\r\n            arr.add(&quot;B55.I4&quot;);  //Expected output: 855.14\r\n            arr.add(&quot;444.07&quot;);  //Expected output: 444.07\r\n    \r\n            for(String item:arr)\r\n            {\r\n                System.out.println(item);\r\n                items = item.toUpperCase().replaceAll(&quot;l&quot;, &quot;1&quot;)\r\n                    .replaceAll(&quot;l&quot;, &quot;1&quot;)\r\n                    .replaceAll(&quot;i&quot;, &quot;1&quot;)\r\n                    .replaceAll(&quot;|&quot;, &quot;1&quot;)\r\n                    .replaceAll(&quot;G&quot;, &quot;6&quot;)\r\n                    .replaceAll(&quot;b&quot;, &quot;6&quot;)\r\n                    .replaceAll(&quot;B&quot;, &quot;8&quot;)\r\n                    .replaceAll(&quot;O&quot;, &quot;0&quot;);\r\n                System.out.println(items);\r\n            }\r\n        }\r\n    }\r\n\r\nThe letters passed in the `replaceAll()` method has to be replaced in every item in the *collection*. \r\n\r\nIs there any way to find the irrelevant character and replace it with the number (*as shown in the code above*) ?","title":"Replacing element inside a Collection by using regular expressions","body":"<p>I have a <code>Collection</code> of strings.</p>\n<p>I need to replace some characters with given relevant characters.</p>\n<p>I was tried this. But my code but doesn't work correctly.</p>\n<pre><code>public class MyPattern {\n    public static void main(String[] args)\n    {\n        String items;\n        Collection&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n        arr.add(&quot;I00.30&quot;);  //Expected output: 100.30\n        arr.add(&quot;8B4.99&quot;);  //Expected output: 884.99\n        arr.add(&quot;B37.2B&quot;);  //Expected output: 837.28\n        arr.add(&quot;292.b4&quot;);  //Expected output: 262.64\n        arr.add(&quot;24|.7O&quot;);  //Expected output: 241.70\n        arr.add(&quot;B55.I4&quot;);  //Expected output: 855.14\n        arr.add(&quot;444.07&quot;);  //Expected output: 444.07\n\n        for(String item:arr)\n        {\n            System.out.println(item);\n            items = item.toUpperCase().replaceAll(&quot;l&quot;, &quot;1&quot;)\n                .replaceAll(&quot;l&quot;, &quot;1&quot;)\n                .replaceAll(&quot;i&quot;, &quot;1&quot;)\n                .replaceAll(&quot;|&quot;, &quot;1&quot;)\n                .replaceAll(&quot;G&quot;, &quot;6&quot;)\n                .replaceAll(&quot;b&quot;, &quot;6&quot;)\n                .replaceAll(&quot;B&quot;, &quot;8&quot;)\n                .replaceAll(&quot;O&quot;, &quot;0&quot;);\n            System.out.println(items);\n        }\n    }\n}\n</code></pre>\n<p>The letters passed in the <code>replaceAll()</code> method has to be replaced in every item in the <em>collection</em>.</p>\n<p>Is there any way to find the irrelevant character and replace it with the number (<em>as shown in the code above</em>) ?</p>\n"},{"tags":["java","spring","spring-websocket"],"comments":[{"owner":{"account_id":22866153,"reputation":158,"user_id":17009760,"display_name":"Pioter88"},"score":0,"creation_date":1687249123,"post_id":71631504,"comment_id":134906219,"body_markdown":"You could try to set userdata in SecurityContext inside preSend, then access SecurityContextHolder inside PrincipalHandshakeHandler. Please commet if you solved this in diffrent way over time.","body":"You could try to set userdata in SecurityContext inside preSend, then access SecurityContextHolder inside PrincipalHandshakeHandler. Please commet if you solved this in diffrent way over time."},{"owner":{"account_id":16675767,"reputation":562,"user_id":12052235,"display_name":"Benjamin Barb&#233;"},"score":0,"creation_date":1699131886,"post_id":71631504,"comment_id":136493686,"body_markdown":"Did you had a solution for that ? :)","body":"Did you had a solution for that ? :)"}],"owner":{"account_id":8908789,"reputation":5958,"user_id":6649786,"accept_rate":100,"display_name":"Wais Kamal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1648325681,"creation_date":1648325681,"question_id":71631504,"body_markdown":"I am using SockJS + STOMP + Spring WebSocket with a configuration that receives user credentials during the handshake. The credentials are received in the `configureClientInboundChannel` method:\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.interceptors(new ChannelInterceptor() {\r\n            @Override\r\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n                StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message,\r\n                        StompHeaderAccessor.class);\r\n                if (accessor != null &amp;&amp; (StompCommand.CONNECT.equals(accessor.getCommand())\r\n                        || StompCommand.SEND.equals(accessor.getCommand()))) {\r\n                    List&lt;String&gt; auth = accessor.getNativeHeader(&quot;Authorization&quot;);\r\n                    System.out.printf(&quot;Authorization: %s%n&quot;, auth.get(0));\r\n                }\r\n                return message;\r\n            }\r\n        });\r\n    }\r\n\r\nI would like to add a `Principal` based on the token I receive in the header. I have a handler that registers `Principal`s:\r\n\r\n    public class PrincipalHandshakeHandler extends DefaultHandshakeHandler {\r\n        @Override\r\n        protected Principal determineUser(ServerHttpRequest request,\r\n                WebSocketHandler handler, Map&lt;String, Object&gt; attributes) {\r\n            System.out.println(attributes);\r\n            return new Principal() {\r\n                @Override\r\n                public String getName() {\r\n                    return userId;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nBut how do I get pass the token I get in `configureClientInboundChannel` to the above handshake handler? Basically, the token should go there in place of `userId`.","title":"How can I add a Principal in configureClientInboundChannel?","body":"<p>I am using SockJS + STOMP + Spring WebSocket with a configuration that receives user credentials during the handshake. The credentials are received in the <code>configureClientInboundChannel</code> method:</p>\n<pre><code>@Override\npublic void configureClientInboundChannel(ChannelRegistration registration) {\n    registration.interceptors(new ChannelInterceptor() {\n        @Override\n        public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n            StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message,\n                    StompHeaderAccessor.class);\n            if (accessor != null &amp;&amp; (StompCommand.CONNECT.equals(accessor.getCommand())\n                    || StompCommand.SEND.equals(accessor.getCommand()))) {\n                List&lt;String&gt; auth = accessor.getNativeHeader(&quot;Authorization&quot;);\n                System.out.printf(&quot;Authorization: %s%n&quot;, auth.get(0));\n            }\n            return message;\n        }\n    });\n}\n</code></pre>\n<p>I would like to add a <code>Principal</code> based on the token I receive in the header. I have a handler that registers <code>Principal</code>s:</p>\n<pre><code>public class PrincipalHandshakeHandler extends DefaultHandshakeHandler {\n    @Override\n    protected Principal determineUser(ServerHttpRequest request,\n            WebSocketHandler handler, Map&lt;String, Object&gt; attributes) {\n        System.out.println(attributes);\n        return new Principal() {\n            @Override\n            public String getName() {\n                return userId;\n            }\n        };\n    }\n}\n</code></pre>\n<p>But how do I get pass the token I get in <code>configureClientInboundChannel</code> to the above handshake handler? Basically, the token should go there in place of <code>userId</code>.</p>\n"},{"tags":["java","eclipse"],"owner":{"account_id":24699526,"reputation":1,"user_id":18591019,"display_name":"Dean"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648372122,"answer_count":1,"score":-1,"last_activity_date":1648324824,"creation_date":1648322677,"question_id":71631140,"body_markdown":"So I&#39;m doing an assignment for school and its my first CS class. We have to create a Mars Landing Simulator. On the line,\r\n\r\n    MarsLander lander = new MarsLander(850, engineIgnitionTime, engineThrust);\r\n\r\n The code on that line says &quot;MarsLander cannot be resolved to a type&quot;. Why is it saying that? I&#39;ve been stuck on this for three days. I have no clue what I&#39;m doing.\r\n```java\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class MarsLandingSimulator {\r\n\r\n\tprivate static final double ALTITUDE_START = 10000.0;\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;-----------------------------------------&quot;);\r\n\t\tSystem.out.println(&quot;|                                       |&quot;);\r\n\t\tSystem.out.println(&quot;| Welcome to the Mars Landing Simulator |&quot;);\r\n\t\tSystem.out.println(&quot;|                                       |&quot;);\r\n\t\tSystem.out.println(&quot;-----------------------------------------&quot;);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;&quot;\r\n\t\t\t\t+ &quot;This program will simulate the final phase\\n&quot;\r\n\t\t\t\t+ &quot;of a rocket landing on Mars! \\n\\n&quot;\r\n\t\t\t\t+ &quot;The rocket will free-fall from a height of\\n&quot;\r\n\t\t\t\t+ &quot;10,000 meters until the engines are ignited\\n&quot;\r\n\t\t\t\t+ &quot;at a certain time after the fall starts.\\n\\n&quot;\r\n\t\t\t\t+ &quot;Your job is to choose the engine ignition\\n&quot;\r\n\t\t\t\t+ &quot;time and engine thrust to make a safe landing.\\n\\n&quot;\r\n\t\t\t\t+ &quot;The lander&#39;s engines have enough fuel for\\n&quot;\r\n\t\t\t\t+ &quot;a 300 second burn.&quot;);\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\tString input = &quot;&quot;;\r\n\r\n\t\t// outer loop to give the user multiple chances\r\n\t\tdo {\r\n\t\t\t\r\n\t\t\tprintLine(40);\r\n\t\t\tSystem.out.printf(&quot;%-45s&quot;,&quot;Enter the engine ignition time (seconds): &quot;);\r\n\t\t\tinput = keyboard.nextLine();\r\n\t\t\tdouble engineIgnitionTime = Double.parseDouble(input);\r\n\r\n\t\t\tSystem.out.printf(&quot;%-45s&quot;,&quot;Enter the engine thrust (Newtons): &quot;);\r\n\t\t\tinput = keyboard.nextLine();\r\n\t\t\tdouble engineThrust = Double.parseDouble(input);\r\n\r\n\t\t\t// Create an instance of the MarsLander\r\n\t\t\t// During the final phase of landing, the mars lander\r\n\t\t\t// will have a mass of 850kg\r\n            MarsLander lander = new MarsLander(850, engineIgnitionTime, engineThrust);\r\n\t\t\t\r\n\t\t\t// Set the initial altitude\r\n\t\t\tlander.setAltitude(ALTITUDE_START);\r\n\t\t\t\r\n\t\t\t// run the simulation.\r\n\t\t\trunSimulation(lander);\r\n\t\t\t\r\n\t\t\t// try again prompt\r\n\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\tSystem.out.printf(&quot;Would you like to run another simulation? &quot;);\r\n\t\t\tinput = keyboard.nextLine();\r\n\t\t} while(input.toLowerCase().startsWith(&quot;y&quot;));\r\n\t\t\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\tSystem.out.println(&quot;Thank you for trying the Mars Landing Simulator.&quot;);\r\n\t\t\r\n\t\tkeyboard.close();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Helper method to print out a line with a given length.\r\n\t * @param length\r\n\t */\r\n\tprivate static void printLine(int length) {\r\n\t\tfor (int i=0; i&lt;length; i++) {\r\n\t\t\tSystem.out.print(&quot;-&quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Performs a simulation given a MarsLander object\r\n\t * with initial conditions pre-set.\r\n\t * @param lander\r\n\t */\r\n\tprivate static void runSimulation(MarsLander lander) {\r\n\t\t\r\n\t\t// Set the time increment\r\n\t\tdouble dt = 0.01;\r\n\t\t\r\n\t\t// Set the maximum simulation time in seconds\r\n\t\tdouble simulationTimeMax = 20 * 60; \r\n\t\t\r\n\t\t// index for displaying the result\r\n\t\tint displayIndex = 0;\r\n\t\tint displayPeriod = (int)(1.0 / dt);\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\n&quot;);\t\t\r\n\t\tSystem.out.println(&quot;LANDING TELEMETRY:&quot;);\r\n\t\t// print the column headers\r\n\t\tSystem.out.printf(&quot;%10s%10s%10s%10s\\n&quot;, &quot;ET(s)&quot;, &quot;A(m)&quot;, &quot;v(m/s)&quot;,&quot;a(m/s^2)&quot;);\r\n\t\tprintLine(40);\r\n\t\t\r\n\t\t// Simulate the fall of the Rocket.\r\n\t\tfor (double simulationTime = 0.0; simulationTime&lt;simulationTimeMax &amp;&amp; lander.getAltitude()&gt;0; simulationTime+=dt) {\r\n\t\t\t\r\n\t\t\t// Update the lander status at each point in the simulation\r\n\t\t\tlander.update(simulationTime);\r\n\t\t\t\r\n\t\t\t// Update the report output every display period to limit the amount of data\r\n\t\t\t// displayed to the user.\r\n\t\t\tif ((displayIndex++ % displayPeriod) == 0) {\r\n\t\t\t\tlander.display();\r\n\t\t\t}\r\n\t\t}\r\n\t\t// display the final state of the lander\r\n\t\tlander.display();\r\n\t\t\r\n\t\t// Create the landing report\r\n\t\tprintLine(40);\r\n\t\tSystem.out.println();\r\n\r\n\t\t// Create the final report\r\n\t\tSystem.out.println(&quot;LANDING REPORT:&quot;);\r\n\t\tprintLine(40);\r\n\t\tSystem.out.printf(&quot;%-20s %,10.1f (s)\\n&quot;, &quot;Elapsed Time:&quot;, lander.getTime());\r\n\t\tSystem.out.printf(&quot;%-20s %,10.1f (s)\\n&quot;, &quot;Engine Burn Time:&quot;, Math.abs(lander.getEngineBurnDuration()));\r\n\t\tSystem.out.printf(&quot;%-20s %,10.3f (m/s)\\n&quot;, &quot;Terminal Velocity:&quot;, Math.abs(lander.getVelocity()));\r\n\t\tSystem.out.printf(&quot;%-20s %,10.1f (%%)\\n&quot;, &quot;Fuel Remaining:&quot;, 100.0 * (MarsLander.ENGINE_MAX_BURN_DURATION - lander.getEngineBurnDuration()) / MarsLander.ENGINE_MAX_BURN_DURATION);\r\n\t\t\r\n\t\t\r\n\t\t// Evaluate the landing\t\t\t\r\n\t\t// Did we make it to the ground in time?\r\n\t\tString missionStatus = &quot;&quot;;\r\n\t\tif (lander.getAltitude() &gt; ALTITUDE_START) {\r\n\t\t\tmissionStatus = &quot;Landing failed.\\n&quot;\r\n\t\t\t\t\t+ &quot;The lander has returned to orbit\\n&quot;\r\n\t\t\t\t\t+ &quot;and is out of fuel for a second attempt.&quot;;\r\n\t\t}\r\n\t\telse if (lander.getAltitude()&gt;1.0) {\r\n\t\t\tmissionStatus = &quot;Landing failed.\\n&quot;\r\n\t\t\t\t\t+ &quot;Landing engine fuel has been exhausted.\\n&quot;\r\n\t\t\t\t\t+ &quot;The lander has sustained major damage\\n&quot;\r\n\t\t\t\t\t+ &quot;and is no longer functioning.&quot;;\r\n\t\t} \r\n\t\t// we made it to the ground but how fast were we going?\r\n\t\t// A landing speed greater than 1.0 m/s is considered a crash. \r\n\t\t// Major damage to the lander will have occurred\r\n\t\telse if (Math.abs(lander.getVelocity()) &gt; 1.0) {\r\n\t\t\tmissionStatus = &quot;Landing failed.\\n&quot;\r\n\t\t\t\t\t+ &quot;Terminal Velocity exceeded maximum safety limits.\\n&quot;\r\n\t\t\t\t\t+ &quot;The lander has sustained major damage\\n&quot;\r\n\t\t\t\t\t+ &quot;and is no longer functioning.&quot;;\r\n\t\t} \r\n\t\t// A landing speed between 1.0 and 0.1 m/s is considered a hard landing.\r\n\t\t// Minor damage may have occurred.\r\n\t\telse if (Math.abs(lander.getVelocity()) &gt; 0.1) {\r\n\t\t\tmissionStatus = &quot;Hard landing.\\n&quot;\r\n\t\t\t\t\t+ &quot;Terminal Velocity exceeded optimal safety limits.\\n&quot;\r\n\t\t\t\t\t+ &quot;The lander has sustanined minor damage\\n&quot;\r\n\t\t\t\t\t+ &quot;but is still mostly operational.&quot;;\r\n\t\t} \r\n\t\t// A landing speed between 0.1 and 0.01 meters per second is a good landing.\r\n\t\telse if (Math.abs(lander.getVelocity()) &gt; 0.01) {\r\n\t\t\tmissionStatus = &quot;Good landing.\\n&quot;\r\n\t\t\t\t\t+ &quot;The lander has not sustained any damage.\\n&quot;\r\n\t\t\t\t\t+ &quot;There is a slight probability that\\n&quot;\r\n\t\t\t\t\t+ &quot;some sensitive experiments were disturbed.&quot;;\r\n\t\t} \r\n\t\t\r\n\t\t// A landing speed below 0.01 meters per second is a perfect landing\r\n\t\telse {\r\n\t\t\tmissionStatus = &quot;Perfect landing.\\n&quot;\r\n\t\t\t\t\t+ &quot;No damage to the lander or experiments on board.\\n&quot;\r\n\t\t\t\t\t+ &quot;Congratulations!&quot;;\r\n\t\t}\r\n\t\tSystem.out.printf(&quot;\\n%s\\n%s\\n&quot;,&quot;Mission Status:&quot;, missionStatus);\r\n\t\tprintLine(40);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"Eclipse says &quot;cannot be resolved to a type&quot;","body":"<p>So I'm doing an assignment for school and its my first CS class. We have to create a Mars Landing Simulator. On the line,</p>\n<pre><code>MarsLander lander = new MarsLander(850, engineIgnitionTime, engineThrust);\n</code></pre>\n<p>The code on that line says &quot;MarsLander cannot be resolved to a type&quot;. Why is it saying that? I've been stuck on this for three days. I have no clue what I'm doing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\n\npublic class MarsLandingSimulator {\n\n    private static final double ALTITUDE_START = 10000.0;\n    \n\n    public static void main(String[] args) {\n        \n        System.out.println(&quot;-----------------------------------------&quot;);\n        System.out.println(&quot;|                                       |&quot;);\n        System.out.println(&quot;| Welcome to the Mars Landing Simulator |&quot;);\n        System.out.println(&quot;|                                       |&quot;);\n        System.out.println(&quot;-----------------------------------------&quot;);\n        System.out.println();\n        System.out.println(&quot;&quot;\n                + &quot;This program will simulate the final phase\\n&quot;\n                + &quot;of a rocket landing on Mars! \\n\\n&quot;\n                + &quot;The rocket will free-fall from a height of\\n&quot;\n                + &quot;10,000 meters until the engines are ignited\\n&quot;\n                + &quot;at a certain time after the fall starts.\\n\\n&quot;\n                + &quot;Your job is to choose the engine ignition\\n&quot;\n                + &quot;time and engine thrust to make a safe landing.\\n\\n&quot;\n                + &quot;The lander's engines have enough fuel for\\n&quot;\n                + &quot;a 300 second burn.&quot;);\n        System.out.println();\n        \n        Scanner keyboard = new Scanner(System.in);\n        String input = &quot;&quot;;\n\n        // outer loop to give the user multiple chances\n        do {\n            \n            printLine(40);\n            System.out.printf(&quot;%-45s&quot;,&quot;Enter the engine ignition time (seconds): &quot;);\n            input = keyboard.nextLine();\n            double engineIgnitionTime = Double.parseDouble(input);\n\n            System.out.printf(&quot;%-45s&quot;,&quot;Enter the engine thrust (Newtons): &quot;);\n            input = keyboard.nextLine();\n            double engineThrust = Double.parseDouble(input);\n\n            // Create an instance of the MarsLander\n            // During the final phase of landing, the mars lander\n            // will have a mass of 850kg\n            MarsLander lander = new MarsLander(850, engineIgnitionTime, engineThrust);\n            \n            // Set the initial altitude\n            lander.setAltitude(ALTITUDE_START);\n            \n            // run the simulation.\n            runSimulation(lander);\n            \n            // try again prompt\n            System.out.println(&quot;\\n&quot;);\n            System.out.printf(&quot;Would you like to run another simulation? &quot;);\n            input = keyboard.nextLine();\n        } while(input.toLowerCase().startsWith(&quot;y&quot;));\n                \n        \n        System.out.println(&quot;\\n&quot;);\n        System.out.println(&quot;Thank you for trying the Mars Landing Simulator.&quot;);\n        \n        keyboard.close();\n    }\n    \n    /**\n     * Helper method to print out a line with a given length.\n     * @param length\n     */\n    private static void printLine(int length) {\n        for (int i=0; i&lt;length; i++) {\n            System.out.print(&quot;-&quot;);\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n    \n    /**\n     * Performs a simulation given a MarsLander object\n     * with initial conditions pre-set.\n     * @param lander\n     */\n    private static void runSimulation(MarsLander lander) {\n        \n        // Set the time increment\n        double dt = 0.01;\n        \n        // Set the maximum simulation time in seconds\n        double simulationTimeMax = 20 * 60; \n        \n        // index for displaying the result\n        int displayIndex = 0;\n        int displayPeriod = (int)(1.0 / dt);\n        \n        System.out.println(&quot;\\n&quot;);       \n        System.out.println(&quot;LANDING TELEMETRY:&quot;);\n        // print the column headers\n        System.out.printf(&quot;%10s%10s%10s%10s\\n&quot;, &quot;ET(s)&quot;, &quot;A(m)&quot;, &quot;v(m/s)&quot;,&quot;a(m/s^2)&quot;);\n        printLine(40);\n        \n        // Simulate the fall of the Rocket.\n        for (double simulationTime = 0.0; simulationTime&lt;simulationTimeMax &amp;&amp; lander.getAltitude()&gt;0; simulationTime+=dt) {\n            \n            // Update the lander status at each point in the simulation\n            lander.update(simulationTime);\n            \n            // Update the report output every display period to limit the amount of data\n            // displayed to the user.\n            if ((displayIndex++ % displayPeriod) == 0) {\n                lander.display();\n            }\n        }\n        // display the final state of the lander\n        lander.display();\n        \n        // Create the landing report\n        printLine(40);\n        System.out.println();\n\n        // Create the final report\n        System.out.println(&quot;LANDING REPORT:&quot;);\n        printLine(40);\n        System.out.printf(&quot;%-20s %,10.1f (s)\\n&quot;, &quot;Elapsed Time:&quot;, lander.getTime());\n        System.out.printf(&quot;%-20s %,10.1f (s)\\n&quot;, &quot;Engine Burn Time:&quot;, Math.abs(lander.getEngineBurnDuration()));\n        System.out.printf(&quot;%-20s %,10.3f (m/s)\\n&quot;, &quot;Terminal Velocity:&quot;, Math.abs(lander.getVelocity()));\n        System.out.printf(&quot;%-20s %,10.1f (%%)\\n&quot;, &quot;Fuel Remaining:&quot;, 100.0 * (MarsLander.ENGINE_MAX_BURN_DURATION - lander.getEngineBurnDuration()) / MarsLander.ENGINE_MAX_BURN_DURATION);\n        \n        \n        // Evaluate the landing         \n        // Did we make it to the ground in time?\n        String missionStatus = &quot;&quot;;\n        if (lander.getAltitude() &gt; ALTITUDE_START) {\n            missionStatus = &quot;Landing failed.\\n&quot;\n                    + &quot;The lander has returned to orbit\\n&quot;\n                    + &quot;and is out of fuel for a second attempt.&quot;;\n        }\n        else if (lander.getAltitude()&gt;1.0) {\n            missionStatus = &quot;Landing failed.\\n&quot;\n                    + &quot;Landing engine fuel has been exhausted.\\n&quot;\n                    + &quot;The lander has sustained major damage\\n&quot;\n                    + &quot;and is no longer functioning.&quot;;\n        } \n        // we made it to the ground but how fast were we going?\n        // A landing speed greater than 1.0 m/s is considered a crash. \n        // Major damage to the lander will have occurred\n        else if (Math.abs(lander.getVelocity()) &gt; 1.0) {\n            missionStatus = &quot;Landing failed.\\n&quot;\n                    + &quot;Terminal Velocity exceeded maximum safety limits.\\n&quot;\n                    + &quot;The lander has sustained major damage\\n&quot;\n                    + &quot;and is no longer functioning.&quot;;\n        } \n        // A landing speed between 1.0 and 0.1 m/s is considered a hard landing.\n        // Minor damage may have occurred.\n        else if (Math.abs(lander.getVelocity()) &gt; 0.1) {\n            missionStatus = &quot;Hard landing.\\n&quot;\n                    + &quot;Terminal Velocity exceeded optimal safety limits.\\n&quot;\n                    + &quot;The lander has sustanined minor damage\\n&quot;\n                    + &quot;but is still mostly operational.&quot;;\n        } \n        // A landing speed between 0.1 and 0.01 meters per second is a good landing.\n        else if (Math.abs(lander.getVelocity()) &gt; 0.01) {\n            missionStatus = &quot;Good landing.\\n&quot;\n                    + &quot;The lander has not sustained any damage.\\n&quot;\n                    + &quot;There is a slight probability that\\n&quot;\n                    + &quot;some sensitive experiments were disturbed.&quot;;\n        } \n        \n        // A landing speed below 0.01 meters per second is a perfect landing\n        else {\n            missionStatus = &quot;Perfect landing.\\n&quot;\n                    + &quot;No damage to the lander or experiments on board.\\n&quot;\n                    + &quot;Congratulations!&quot;;\n        }\n        System.out.printf(&quot;\\n%s\\n%s\\n&quot;,&quot;Mission Status:&quot;, missionStatus);\n        printLine(40);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1647864127,"post_id":71557285,"comment_id":126470265,"body_markdown":"What do you need the `Function` to do?","body":"What do you need the <code>Function</code> to do?"},{"owner":{"account_id":15531330,"reputation":5,"user_id":11204752,"display_name":"chill day"},"score":0,"creation_date":1647865102,"post_id":71557285,"comment_id":126470657,"body_markdown":"Take object and add it to new copy of existing Set&lt;object&gt;.","body":"Take object and add it to new copy of existing Set&lt;object&gt;."}],"answers":[{"tags":[],"owner":{"account_id":13860929,"reputation":56,"user_id":11347947,"display_name":"naomimyselfandi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648295222,"creation_date":1647865054,"answer_id":71557517,"question_id":71557285,"body_markdown":"Any interface with exactly one non-default method is a _functional interface,_ and `Function` meets that condition. That means you can implement it using a _lambda expression._ For example, let&#39;s say we&#39;re using this `search` function to search someone&#39;s family tree:\r\n\r\n```java\r\nsearch(alice, (person) -&gt; person.getChildren(), (person) -&gt; person.getName().equals(&quot;Bob&quot;));\r\n```\r\n\r\nThe second argument, `(person) -&gt; person.getChildren()`, creates a `Function&lt;Person, Set&lt;Person&gt;&gt;` that calls `getChildren()` on its argument. (We know it should accept a `Person` and return a `Set&lt;Person&gt;` from how we&#39;re passing it to `search`.) Likewise, the third argument creates a `Predicate&lt;Person&gt;` that checks if their name is &quot;Bob&quot;.\r\n\r\nNow, there are two &quot;convenience&quot; features I&#39;m glossing over here. When the lambda only takes one argument (as is the case with both `Function` and `Predicate`), you can omit the parentheses around the name. Secondly, when a lambda only calls some method on its argument, you can use a _method reference,_ which is just a more concise way of writing the lambda:\r\n\r\n```java\r\nsearch(alice, Person::getChildren, person -&gt; person.getName().equals(&quot;Bob&quot;));\r\n```\r\n\r\nThat&#39;s entirely equivalent, just more concise.\r\n\r\nYou _can_ also implement functional interfaces the &quot;old-school&quot; way, i.e. by writing an (anonymous) class, but lambda syntax avoids a _lot_ of boilerplate and is more readable. It&#39;s still fundamentally doing the same thing (and your IDE should be able to transform the one to the other, if that&#39;s helpful for you).","title":"How to use function interface, and use it as function argument?","body":"<p>Any interface with exactly one non-default method is a <em>functional interface,</em> and <code>Function</code> meets that condition. That means you can implement it using a <em>lambda expression.</em> For example, let's say we're using this <code>search</code> function to search someone's family tree:</p>\n<pre class=\"lang-java prettyprint-override\"><code>search(alice, (person) -&gt; person.getChildren(), (person) -&gt; person.getName().equals(&quot;Bob&quot;));\n</code></pre>\n<p>The second argument, <code>(person) -&gt; person.getChildren()</code>, creates a <code>Function&lt;Person, Set&lt;Person&gt;&gt;</code> that calls <code>getChildren()</code> on its argument. (We know it should accept a <code>Person</code> and return a <code>Set&lt;Person&gt;</code> from how we're passing it to <code>search</code>.) Likewise, the third argument creates a <code>Predicate&lt;Person&gt;</code> that checks if their name is &quot;Bob&quot;.</p>\n<p>Now, there are two &quot;convenience&quot; features I'm glossing over here. When the lambda only takes one argument (as is the case with both <code>Function</code> and <code>Predicate</code>), you can omit the parentheses around the name. Secondly, when a lambda only calls some method on its argument, you can use a <em>method reference,</em> which is just a more concise way of writing the lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>search(alice, Person::getChildren, person -&gt; person.getName().equals(&quot;Bob&quot;));\n</code></pre>\n<p>That's entirely equivalent, just more concise.</p>\n<p>You <em>can</em> also implement functional interfaces the &quot;old-school&quot; way, i.e. by writing an (anonymous) class, but lambda syntax avoids a <em>lot</em> of boilerplate and is more readable. It's still fundamentally doing the same thing (and your IDE should be able to transform the one to the other, if that's helpful for you).</p>\n"}],"owner":{"account_id":15531330,"reputation":5,"user_id":11204752,"display_name":"chill day"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71557517,"answer_count":1,"score":-1,"last_activity_date":1648323869,"creation_date":1647864011,"question_id":71557285,"body_markdown":"I am not that good with function interface.\r\n\r\nHow to make `Function&lt;S, Set&lt;S&gt;&gt;` and how to send it as parameter?\r\n\r\n     public class Algorithms {\r\n        public static &lt;S&gt; Optional&lt;Node&lt;S&gt;&gt; search(S s0, Function&lt;S, Set&lt;S&gt;&gt; succ, Predicate&lt;S&gt; goal) {\r\n            .\r\n            .\r\n            .\r\n            return Optional.empty();\r\n        }\r\n    }","title":"How to use function interface, and use it as function argument?","body":"<p>I am not that good with function interface.</p>\n<p>How to make <code>Function&lt;S, Set&lt;S&gt;&gt;</code> and how to send it as parameter?</p>\n<pre><code> public class Algorithms {\n    public static &lt;S&gt; Optional&lt;Node&lt;S&gt;&gt; search(S s0, Function&lt;S, Set&lt;S&gt;&gt; succ, Predicate&lt;S&gt; goal) {\n        .\n        .\n        .\n        return Optional.empty();\n    }\n}\n</code></pre>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":1,"creation_date":1586236896,"post_id":61073258,"comment_id":108046791,"body_markdown":"`oldDelimiters` have two characters.","body":"<code>oldDelimiters</code> have two characters."},{"owner":{"account_id":4962635,"reputation":399,"user_id":3993203,"accept_rate":33,"display_name":"Chris Smith"},"score":0,"creation_date":1586236984,"post_id":61073258,"comment_id":108046811,"body_markdown":"@SudhirOjha That is correct. That is why I looped over oldDelimiters.","body":"@SudhirOjha That is correct. That is why I looped over oldDelimiters."},{"owner":{"account_id":15815442,"reputation":1196,"user_id":11411342,"display_name":"oriberu"},"score":1,"creation_date":1586237867,"post_id":61073258,"comment_id":108047049,"body_markdown":"Try a regex with a character class quantified one to many; for example: `String result = text.replaceAll(&quot;[ .]+&quot;, &quot;!&quot;);`.","body":"Try a regex with a character class quantified one to many; for example: <code>String result = text.replaceAll(&quot;[ .]+&quot;, &quot;!&quot;);</code>."},{"owner":{"account_id":4962635,"reputation":399,"user_id":3993203,"accept_rate":33,"display_name":"Chris Smith"},"score":0,"creation_date":1586237956,"post_id":61073258,"comment_id":108047077,"body_markdown":"@user85421 Yeah I fixed the single quote. I will update to reflect.","body":"@user85421 Yeah I fixed the single quote. I will update to reflect."},{"owner":{"account_id":4962635,"reputation":399,"user_id":3993203,"accept_rate":33,"display_name":"Chris Smith"},"score":0,"creation_date":1586238167,"post_id":61073258,"comment_id":108047141,"body_markdown":"@oriberu How can I add the delimiter variable in the regex? I tried `fileContent = fileContent.replaceAll(&quot;[oldDelimiter]+&quot;, newDelimiter);` but it didn&#39;t work.","body":"@oriberu How can I add the delimiter variable in the regex? I tried <code>fileContent = fileContent.replaceAll(&quot;[oldDelimiter]+&quot;, newDelimiter);</code> but it didn&#39;t work."},{"owner":{"account_id":15815442,"reputation":1196,"user_id":11411342,"display_name":"oriberu"},"score":1,"creation_date":1586238512,"post_id":61073258,"comment_id":108047237,"body_markdown":"@ChrisSmith Depends on your `oldDelimiter` string; if it contains a character (or several single characters) use something like `&quot;[&quot; + oldDelimiter + &quot;]+&quot;` for the expression part; if it is a single string, use something like `&quot;(?:&quot; + oldDelimiter + &quot;)+&quot;`. Sorry for the edits.","body":"@ChrisSmith Depends on your <code>oldDelimiter</code> string; if it contains a character (or several single characters) use something like <code>&quot;[&quot; + oldDelimiter + &quot;]+&quot;</code> for the expression part; if it is a single string, use something like <code>&quot;(?:&quot; + oldDelimiter + &quot;)+&quot;</code>. Sorry for the edits."},{"owner":{"account_id":4962635,"reputation":399,"user_id":3993203,"accept_rate":33,"display_name":"Chris Smith"},"score":0,"creation_date":1586238758,"post_id":61073258,"comment_id":108047294,"body_markdown":"@oriberu `&quot;[&quot; + oldDelimiter + &quot;]+&quot;` worked. I need to learn regex. Thank you.","body":"@oriberu <code>&quot;[&quot; + oldDelimiter + &quot;]+&quot;</code> worked. I need to learn regex. Thank you."},{"owner":{"account_id":15815442,"reputation":1196,"user_id":11411342,"display_name":"oriberu"},"score":1,"creation_date":1586238863,"post_id":61073258,"comment_id":108047328,"body_markdown":"@ChrisSmith I&#39;m all for solving things algorithmically, but there are scenarios where RE are very handy to get a quick solution.","body":"@ChrisSmith I&#39;m all for solving things algorithmically, but there are scenarios where RE are very handy to get a quick solution."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1586239403,"post_id":61073258,"comment_id":108047493,"body_markdown":"@ChrisSmith What should be the output for `abc .df`? Is it `abc!!df` or `abc!df`? Notice that your title says _How to replace consecutive characters with a single character_ , so it appears that double consecutive `!` is valid in this case.","body":"@ChrisSmith What should be the output for <code>abc .df</code>? Is it <code>abc!!df</code> or <code>abc!df</code>? Notice that your title says <i>How to replace consecutive characters with a single character</i> , so it appears that double consecutive <code>!</code> is valid in this case."},{"owner":{"account_id":4962635,"reputation":399,"user_id":3993203,"accept_rate":33,"display_name":"Chris Smith"},"score":0,"creation_date":1586240102,"post_id":61073258,"comment_id":108047748,"body_markdown":"@vivek_23 In the case you specified, the desired output is abc!!df. Essentially, replace each old delimiter `&quot; .&quot;` with and the new delimiter `&quot;!&quot;`. The new delimiter can be repeated as long as it is not due to consecutive old delimiters(like the two spaces in my example). Let me know if I did not explain it well.","body":"@vivek_23 In the case you specified, the desired output is abc!!df. Essentially, replace each old delimiter <code>&quot; .&quot;</code> with and the new delimiter <code>&quot;!&quot;</code>. The new delimiter can be repeated as long as it is not due to consecutive old delimiters(like the two spaces in my example). Let me know if I did not explain it well."}],"answers":[{"tags":[],"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586240978,"creation_date":1586240978,"answer_id":61074024,"question_id":61073258,"body_markdown":"Since you want to match consecutive characters from the old delimiter, a regex solution doesn&#39;t seem to be feasible here. You can instead match char by char if it belongs to one of the old delimiter chars and then set it with the new one as shown below.\r\n\r\n    import java.util.*;\r\n    public class Main{\r\n    \tpublic static void main(String[] args) {\r\n    \t    String fileContent = &quot;def  mnop.UVW&quot;;\r\n            String oldDelimiters = &quot; .&quot;;\r\n            \r\n            // add all old delimiters in a set for fast checks\r\n            Set&lt;Character&gt; set = new HashSet&lt;&gt;();\r\n            for(int i=0;i&lt;oldDelimiters.length();++i) set.add(oldDelimiters.charAt(i));\r\n            \r\n            /* \r\n               match all consecutive chars at once, check if it belongs to an old delimiter \r\n               and replace it with the new one\r\n            */\r\n            \r\n            String newDelimiter = &quot;!&quot;;\r\n            StringBuilder res = new StringBuilder(&quot;&quot;);\r\n            for(int i=0;i&lt;fileContent.length();++i){\r\n                if(set.contains(fileContent.charAt(i))){\r\n                    while(i + 1 &lt; fileContent.length() &amp;&amp; fileContent.charAt(i) == fileContent.charAt(i+1)) i++;\r\n                    res.append(newDelimiter);\r\n                }else{\r\n                    res.append(fileContent.charAt(i));        \r\n                }\r\n            }\r\n            \r\n            System.out.println(res.toString());\r\n    \t}\r\n    }\r\n\r\n**Demo:** https://onlinegdb.com/r1BC6qKP8","title":"Java: How to replace consecutive characters with a single character?","body":"<p>Since you want to match consecutive characters from the old delimiter, a regex solution doesn't seem to be feasible here. You can instead match char by char if it belongs to one of the old delimiter chars and then set it with the new one as shown below.</p>\n\n<pre><code>import java.util.*;\npublic class Main{\n    public static void main(String[] args) {\n        String fileContent = \"def  mnop.UVW\";\n        String oldDelimiters = \" .\";\n\n        // add all old delimiters in a set for fast checks\n        Set&lt;Character&gt; set = new HashSet&lt;&gt;();\n        for(int i=0;i&lt;oldDelimiters.length();++i) set.add(oldDelimiters.charAt(i));\n\n        /* \n           match all consecutive chars at once, check if it belongs to an old delimiter \n           and replace it with the new one\n        */\n\n        String newDelimiter = \"!\";\n        StringBuilder res = new StringBuilder(\"\");\n        for(int i=0;i&lt;fileContent.length();++i){\n            if(set.contains(fileContent.charAt(i))){\n                while(i + 1 &lt; fileContent.length() &amp;&amp; fileContent.charAt(i) == fileContent.charAt(i+1)) i++;\n                res.append(newDelimiter);\n            }else{\n                res.append(fileContent.charAt(i));        \n            }\n        }\n\n        System.out.println(res.toString());\n    }\n}\n</code></pre>\n\n<p><strong>Demo:</strong> <a href=\"https://onlinegdb.com/r1BC6qKP8\" rel=\"nofollow noreferrer\">https://onlinegdb.com/r1BC6qKP8</a></p>\n"},{"tags":[],"owner":{"account_id":15815442,"reputation":1196,"user_id":11411342,"display_name":"oriberu"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1586253480,"creation_date":1586249554,"answer_id":61076214,"question_id":61073258,"body_markdown":"The biggest difficulty to using a regex for this, is to create an expression from your `oldDelimiters` string. For example:\r\n\r\n```java\r\nString oldDelimiters = &quot; .&quot;;\r\nString expression = &quot;\\\\&quot; + String.join(&quot;+|\\\\&quot;, oldDelimiters.split(&quot;&quot;)) + &quot;+&quot;;\r\nString text = &quot;def  mnop.UVW;abc .df&quot;;\r\nString result = text.replaceAll(expression, &quot;!&quot;);\r\n```\r\n*(Edit: since characters in the expression are now escaped anyway, I removed the character classes and edited the following text to reflect that change.)*\r\n\r\nWhere the generated expression looks like `\\ +|\\.+`, i.e. each character is quantified and constitutes one alternative of the expression. The engine will match and replace one alternative at a time if it can be matched. `result` now contains:\r\n```\r\ndef!mnop!UVW;abc!!df\r\n```\r\n\r\nNot sure how backwards compatible this is due to `split()` behaviour in previous versions of Java (producing a leading space in splitting on the empty string), but with current versions this should be fine.\r\n\r\n*Edit: As it is, this breaks if the delimiting characters contain digits or characters representing unescaped regex tokens (i.e. `1`, `b`, etc.).*","title":"Java: How to replace consecutive characters with a single character?","body":"<p>The biggest difficulty to using a regex for this, is to create an expression from your <code>oldDelimiters</code> string. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String oldDelimiters = \" .\";\nString expression = \"\\\\\" + String.join(\"+|\\\\\", oldDelimiters.split(\"\")) + \"+\";\nString text = \"def  mnop.UVW;abc .df\";\nString result = text.replaceAll(expression, \"!\");\n</code></pre>\n\n<p><em>(Edit: since characters in the expression are now escaped anyway, I removed the character classes and edited the following text to reflect that change.)</em></p>\n\n<p>Where the generated expression looks like <code>\\ +|\\.+</code>, i.e. each character is quantified and constitutes one alternative of the expression. The engine will match and replace one alternative at a time if it can be matched. <code>result</code> now contains:</p>\n\n<pre><code>def!mnop!UVW;abc!!df\n</code></pre>\n\n<p>Not sure how backwards compatible this is due to <code>split()</code> behaviour in previous versions of Java (producing a leading space in splitting on the empty string), but with current versions this should be fine.</p>\n\n<p><em>Edit: As it is, this breaks if the delimiting characters contain digits or characters representing unescaped regex tokens (i.e. <code>1</code>, <code>b</code>, etc.).</em></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586252408,"creation_date":1586252408,"answer_id":61077039,"question_id":61073258,"body_markdown":"    s = s.replaceAll(&quot;([ \\\\.])[ \\\\.]+&quot;, &quot;$1&quot;);\r\n\r\nOr if only several _same_ delimiters have to be replaced:\r\n\r\n    s = s.replaceAll(&quot;([ \\\\.])\\\\1+&quot;, &quot;$1&quot;);\r\n\r\n- `[....]` is a group of alternative characters\r\n- First `(...)` is group 1, `$1`\r\n- `\\\\1` is the text of the first group","title":"Java: How to replace consecutive characters with a single character?","body":"<pre><code>s = s.replaceAll(\"([ \\\\.])[ \\\\.]+\", \"$1\");\n</code></pre>\n\n<p>Or if only several <em>same</em> delimiters have to be replaced:</p>\n\n<pre><code>s = s.replaceAll(\"([ \\\\.])\\\\1+\", \"$1\");\n</code></pre>\n\n<ul>\n<li><code>[....]</code> is a group of alternative characters</li>\n<li>First <code>(...)</code> is group 1, <code>$1</code></li>\n<li><code>\\\\1</code> is the text of the first group</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586253155,"creation_date":1586253155,"answer_id":61077274,"question_id":61073258,"body_markdown":"While not using regex, I thought a solution with `StreamS` was needed, because everyone loves streams:\r\n\r\n```\r\nprivate static class StatefulFilter implements Predicate&lt;String&gt; {\r\n\tprivate final String needle;\r\n\tprivate String last = null;\r\n\t\r\n\tpublic StatefulFilter(String needle) {\r\n\t\tthis.needle = needle;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean test(String value) {\r\n\t\tboolean duplicate = last != null &amp;&amp; last.equals(value) &amp;&amp; value.equals(needle);\r\n\t\tlast = value;\r\n\t\treturn !duplicate;\r\n\t}\r\n}\r\n\r\npublic static void main(String[] args) {\r\n\tSystem.out.println(\r\n\t\t&quot;def  mnop.UVW&quot;\r\n\t\t.codePoints()\r\n\t\t.sequential()\r\n\t\t.mapToObj(c -&gt; String.valueOf((char) c))\r\n\t\t.filter(new StatefulFilter(&quot; &quot;))\r\n\t\t.map(x -&gt; x.equals(&quot; &quot;) ? &quot;!&quot; : x)\r\n\t\t.collect(Collectors.joining(&quot;&quot;))\r\n\t);\r\n}\r\n```\r\n\r\nRunnable example: https://onlinegdb.com/BkY0R2twU\r\n\r\n**Explanation:**\r\n\r\nTheoretically, you aren&#39;t really supposed to have a stateful filter, but technically, as long as the stream is not parallelized, it works fine:\r\n\r\n`.codePoints()` - splits the `String` into a `Stream`\r\n\r\n`.sequential()` - since we care about the order of characters, our `Stream` may not be processed in parallel\r\n\r\n`.mapToObj(c -&gt; String.valueOf((char) c))` - the comparison in the filter is more intuitive if we convert to `String`, but it&#39;s not really needed\r\n\r\n`.filter(new StatefulFilter(&quot; &quot;))` - here we filter out any space that comes after another space\r\n\r\n`.map(x -&gt; x.equals(&quot; &quot;) ? &quot;!&quot; : x)` - now we can replace the remaining spaces with exclamation marks\r\n\r\n`.collect(Collectors.joining(&quot;&quot;))` - and finally we can join the characters together to reconstitute a `String`\r\n\r\nThe `StatefulFilter` itself is pretty straight forward - it checks whether a) we have a previous character at all, b) whether the previous character is the same as the current character and c) whether the current character is the delimiter (space). It returns `false` (meaning the character gets deleted) only if all a, b and c are true.\r\n\r\n","title":"Java: How to replace consecutive characters with a single character?","body":"<p>While not using regex, I thought a solution with <code>StreamS</code> was needed, because everyone loves streams:</p>\n\n<pre><code>private static class StatefulFilter implements Predicate&lt;String&gt; {\n    private final String needle;\n    private String last = null;\n\n    public StatefulFilter(String needle) {\n        this.needle = needle;\n    }\n\n    @Override\n    public boolean test(String value) {\n        boolean duplicate = last != null &amp;&amp; last.equals(value) &amp;&amp; value.equals(needle);\n        last = value;\n        return !duplicate;\n    }\n}\n\npublic static void main(String[] args) {\n    System.out.println(\n        \"def  mnop.UVW\"\n        .codePoints()\n        .sequential()\n        .mapToObj(c -&gt; String.valueOf((char) c))\n        .filter(new StatefulFilter(\" \"))\n        .map(x -&gt; x.equals(\" \") ? \"!\" : x)\n        .collect(Collectors.joining(\"\"))\n    );\n}\n</code></pre>\n\n<p>Runnable example: <a href=\"https://onlinegdb.com/BkY0R2twU\" rel=\"nofollow noreferrer\">https://onlinegdb.com/BkY0R2twU</a></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Theoretically, you aren't really supposed to have a stateful filter, but technically, as long as the stream is not parallelized, it works fine:</p>\n\n<p><code>.codePoints()</code> - splits the <code>String</code> into a <code>Stream</code></p>\n\n<p><code>.sequential()</code> - since we care about the order of characters, our <code>Stream</code> may not be processed in parallel</p>\n\n<p><code>.mapToObj(c -&gt; String.valueOf((char) c))</code> - the comparison in the filter is more intuitive if we convert to <code>String</code>, but it's not really needed</p>\n\n<p><code>.filter(new StatefulFilter(\" \"))</code> - here we filter out any space that comes after another space</p>\n\n<p><code>.map(x -&gt; x.equals(\" \") ? \"!\" : x)</code> - now we can replace the remaining spaces with exclamation marks</p>\n\n<p><code>.collect(Collectors.joining(\"\"))</code> - and finally we can join the characters together to reconstitute a <code>String</code></p>\n\n<p>The <code>StatefulFilter</code> itself is pretty straight forward - it checks whether a) we have a previous character at all, b) whether the previous character is the same as the current character and c) whether the current character is the delimiter (space). It returns <code>false</code> (meaning the character gets deleted) only if all a, b and c are true.</p>\n"}],"owner":{"account_id":4962635,"reputation":399,"user_id":3993203,"accept_rate":33,"display_name":"Chris Smith"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1648322650,"creation_date":1586236679,"question_id":61073258,"body_markdown":"How can I replace consecutive characters with a single character in java? \r\n```\r\nString fileContent = &quot;def  mnop.UVW&quot;;\r\nString oldDelimiters = &quot; .&quot;;\r\nString newDelimiter = &quot;!&quot;;\r\nfor (int i = 0; i &lt; oldDelimiters.length(); i++){\r\n    Character character = oldDelimiters.charAt(i);\r\n    fileContent = fileContent.replace(String.valueOf(character), newDelimiter);\r\n}\r\n```\r\nCurrent output: `def!!mnop!UVW`\r\n\r\nDesired output: `def!mnop!UVW`\r\n\r\nNotice the two spaces are replaced with two exclamation marks. How can I replace consecutive delimiters with one delimiter?","title":"Java: How to replace consecutive characters with a single character?","body":"<p>How can I replace consecutive characters with a single character in java? </p>\n\n<pre><code>String fileContent = \"def  mnop.UVW\";\nString oldDelimiters = \" .\";\nString newDelimiter = \"!\";\nfor (int i = 0; i &lt; oldDelimiters.length(); i++){\n    Character character = oldDelimiters.charAt(i);\n    fileContent = fileContent.replace(String.valueOf(character), newDelimiter);\n}\n</code></pre>\n\n<p>Current output: <code>def!!mnop!UVW</code></p>\n\n<p>Desired output: <code>def!mnop!UVW</code></p>\n\n<p>Notice the two spaces are replaced with two exclamation marks. How can I replace consecutive delimiters with one delimiter?</p>\n"},{"tags":["java","eclipse","tomcat","server"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1648321558,"post_id":71630926,"comment_id":126596576,"body_markdown":"You might have downloaded the wrong &quot;edition&quot; of eclipse: There are several pre-packaged environments, and you&#39;d need the one [for Java and Web Developers](https://www.eclipse.org/downloads/packages/) or one that includes the same plugins and others","body":"You might have downloaded the wrong &quot;edition&quot; of eclipse: There are several pre-packaged environments, and you&#39;d need the one <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">for Java and Web Developers</a> or one that includes the same plugins and others"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1648326240,"post_id":71630926,"comment_id":126597541,"body_markdown":"Instructions in https://wiki.eclipse.org/WTP_FAQ#How_do_I_install_WTP.3F have been updated.","body":"Instructions in <a href=\"https://wiki.eclipse.org/WTP_FAQ#How_do_I_install_WTP.3F\" rel=\"nofollow noreferrer\">wiki.eclipse.org/WTP_FAQ#How_do_I_install_WTP.3F</a> have been updated."}],"answers":[{"tags":[],"owner":{"account_id":15216511,"reputation":61,"user_id":10979744,"display_name":"Doron Cohen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648321948,"creation_date":1648321948,"answer_id":71631056,"question_id":71630926,"body_markdown":"Using [Eclipse EE][1] - if not already so - should solve this. \r\n (won&#39;t work with [Eclipse IDE for Java Developers][2].)\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/packages/release/2022-03/r/eclipse-ide-enterprise-java-and-web-developers\r\n  [2]: https://www.eclipse.org/downloads/packages/release/2022-03/r/eclipse-ide-java-developers","title":"How to run Tomcat on eclipse?","body":"<p>Using <a href=\"https://www.eclipse.org/downloads/packages/release/2022-03/r/eclipse-ide-enterprise-java-and-web-developers\" rel=\"nofollow noreferrer\">Eclipse EE</a> - if not already so - should solve this.\n(won't work with <a href=\"https://www.eclipse.org/downloads/packages/release/2022-03/r/eclipse-ide-java-developers\" rel=\"nofollow noreferrer\">Eclipse IDE for Java Developers</a>.)</p>\n"}],"owner":{"account_id":22171189,"reputation":9,"user_id":16416579,"display_name":"suki5523"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648321948,"creation_date":1648320886,"question_id":71630926,"body_markdown":"I have an issue with running Tomcat on my eclipse. My professors advise and some online articles said to find &quot;Server&quot; and &quot;Runtime Environment&quot; in the Preference or Window menu, but none of those first two exist on my eclipse, and have no clue what to do. If you know how to solve this, please let me know.\r\n\r\nI followed my instructor&#39;s instructions and googled the same topic, but no appropriate solutions were found.","title":"How to run Tomcat on eclipse?","body":"<p>I have an issue with running Tomcat on my eclipse. My professors advise and some online articles said to find &quot;Server&quot; and &quot;Runtime Environment&quot; in the Preference or Window menu, but none of those first two exist on my eclipse, and have no clue what to do. If you know how to solve this, please let me know.</p>\n<p>I followed my instructor's instructions and googled the same topic, but no appropriate solutions were found.</p>\n"},{"tags":["java","oop","design-patterns","refactoring","class-design"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648321852,"creation_date":1647169939,"answer_id":71456173,"question_id":71418611,"body_markdown":"As I understand, your goal is to impose *restrictions* by providing a **single point of extension** in your API and at the same time *expose* your *top-level abstractions* to end-users in order to allow them to utilize these abstractions in the code.\r\n\r\nYou can achieve both accessibility and control over the class hierarchy with **sealed classes and interfaces** introduced with **Java 17**.\r\n\r\n&lt;h3&gt;Sealed&lt;/h3&gt;\r\n\r\nThe feature was finalized by [JEP 409](https://openjdk.java.net/jeps/409).\r\n\r\n&gt; A **sealed** *class* or *interface* can be extended or implemented only by\r\n&gt; those classes and interfaces **permitted** to do so.\r\n\r\nI.e. if **sealed** modifier is being applied to a *class*/*interface* it implies that only *classes* or *interfaces* listed in the **permits** *clause* of its declaration are allowed to *extend*/*implement* this *class*/*interface*.\r\n\r\nThe **permits** *clause* needs to be always present in the declaration of a **sealed** *class*/*interface*. And for all *subclasses*/*subinterfaces* mentioned in the **permits** *clause* of their *parent* it&#39;s mandatory to *extend*/*implement* the **sealed** the *parent* **directly**.\r\n\r\nIn turn, every *subclass*/*subinterface* has to be declared either:\r\n* **sealed** (with it own **permits** *clause* etc.);\r\n* **non-sealed** - a modifier that &quot;breaks the seal&quot; and turns this child into a normal *class*/*interface* which can be extended without any restrictions;\r\n* **final** (only for classes).\r\n\r\nNote that both **sealed** and **non-sealed** modifiers play well with **abstract** modifier. Which is particularly useful for this task.\r\n\r\n&gt; A class which is *sealed or non-sealed may be **abstract***, and have\r\n&gt; abstract members. A sealed class may ***permit subclasses** which are\r\n&gt; **abstract***.\r\n\r\n&lt;h3&gt;Implementation&lt;/h3&gt;\r\n\r\nThe idea is to make both ***interfaces*** (existing and the one that needs to be implemented by the end-user) and existing ***abstract class*** `sealed` to impose restrictions on their extension. \r\n\r\nExisting ***final class*** will remain to be `final`.\r\n\r\nThe **extension point** will be represented by a `non-sealed` ***abstract class***, which extends the existing *abstract class* and implements the *interface* that defines a contract for *user-specific behavior*.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWith this approach, you can prevent the **critical behaviour** defined by the `Base` *interface* and `Root` class from being implemented in an undesired way, by marking these methods inside the `OpenChild` *class* with `final` modifier.  And at the same time provide a contract for *user-specific behavior* which all *custom classes* are expected to conform to.\r\n\r\nThat how it might look in the code:\r\n```java\r\npublic sealed interface Base permits Root {\r\n    // critical behaviour\r\n    void m1();\r\n    void m2();\r\n}\r\n\r\npublic sealed abstract class Root implements Base\r\n                            permits ClosedChild, OpenChild {\r\n    // critical behaviour\r\n    public void m1() {} // default implementation\r\n}\r\n\r\npublic final class ClosedChild extends Root { // can&#39;t be extended further\r\n    // critical behaviour\r\n    public void m2() { /* custom implementation */ }\r\n}\r\n\r\npublic sealed interface Outer {\r\n    // end-user-specific behaviour\r\n    void m3();\r\n    void m4();\r\n}\r\n\r\npublic non-sealed abstract class OpenChild extends Root implements Outer {\r\n    // critical behaviour\r\n    final public void m1() { super.m1(); }                 // locked\r\n    final public void m2() { /* custom implementation */ } // locked\r\n\r\n    // has to be implemented by the end user\r\n    public abstract void m5(); // + methods declared by Outer\r\n}\r\n```\r\n\r\n&lt;h3&gt;Alternatives&lt;/h3&gt;\r\n\r\nIf you are using an *earlier version* of Java and therefore can&#39;t utilize **sealed feature**, then unfortunately you need to make a *choice* between the ability to **control** the extension of your top-level abstractions and **accessibility** of these abstractions to the end-users.\r\n\r\nAs a partial solution, you can **hide** from the end-user everything apart from the existing **final class** `ClosedChild` and **extension point** `OpenChild`.\r\n\r\nIn order to do that, all the *classes* and *interfaces* mentioned above have to reside in a ***separate package***. *Classes* `OpenChild` and `ClosedChild` must be marked as `public`. *Interfaces* `Base`, `Outer` and *abstract class* `Root` have to be ***package private***, i.e. they will be visible to `OpenChild` and `ClosedChild`, but their behaviour will accessible from everywhere.\r\n\r\n**Note:** methods declared inside the `Base` *abstract class* in order to make them assemble to the end-user must be `public`, all methods in interfaces are public by default even the interface itself package private. \r\n\r\nAn example of this approach in the JDK is a package private abstract class `AbstractStringBuilder`, which is not publicly accessible. And its `public final` subclasses `StringBuilder` and `StringBuffer` share its behaviour.\r\n\r\n  [1]: https://i.stack.imgur.com/DdCrg.jpg","title":"How to ensure that future Implementations of an Interface will also extend a particular Class","body":"<p>As I understand, your goal is to impose <em>restrictions</em> by providing a <strong>single point of extension</strong> in your API and at the same time <em>expose</em> your <em>top-level abstractions</em> to end-users in order to allow them to utilize these abstractions in the code.</p>\n<p>You can achieve both accessibility and control over the class hierarchy with <strong>sealed classes and interfaces</strong> introduced with <strong>Java 17</strong>.</p>\n<h3>Sealed</h3>\n<p>The feature was finalized by <a href=\"https://openjdk.java.net/jeps/409\" rel=\"nofollow noreferrer\">JEP 409</a>.</p>\n<blockquote>\n<p>A <strong>sealed</strong> <em>class</em> or <em>interface</em> can be extended or implemented only by\nthose classes and interfaces <strong>permitted</strong> to do so.</p>\n</blockquote>\n<p>I.e. if <strong>sealed</strong> modifier is being applied to a <em>class</em>/<em>interface</em> it implies that only <em>classes</em> or <em>interfaces</em> listed in the <strong>permits</strong> <em>clause</em> of its declaration are allowed to <em>extend</em>/<em>implement</em> this <em>class</em>/<em>interface</em>.</p>\n<p>The <strong>permits</strong> <em>clause</em> needs to be always present in the declaration of a <strong>sealed</strong> <em>class</em>/<em>interface</em>. And for all <em>subclasses</em>/<em>subinterfaces</em> mentioned in the <strong>permits</strong> <em>clause</em> of their <em>parent</em> it's mandatory to <em>extend</em>/<em>implement</em> the <strong>sealed</strong> the <em>parent</em> <strong>directly</strong>.</p>\n<p>In turn, every <em>subclass</em>/<em>subinterface</em> has to be declared either:</p>\n<ul>\n<li><strong>sealed</strong> (with it own <strong>permits</strong> <em>clause</em> etc.);</li>\n<li><strong>non-sealed</strong> - a modifier that &quot;breaks the seal&quot; and turns this child into a normal <em>class</em>/<em>interface</em> which can be extended without any restrictions;</li>\n<li><strong>final</strong> (only for classes).</li>\n</ul>\n<p>Note that both <strong>sealed</strong> and <strong>non-sealed</strong> modifiers play well with <strong>abstract</strong> modifier. Which is particularly useful for this task.</p>\n<blockquote>\n<p>A class which is <em>sealed or non-sealed may be <strong>abstract</strong></em>, and have\nabstract members. A sealed class may <em><strong>permit subclasses</strong> which are\n<strong>abstract</strong></em>.</p>\n</blockquote>\n<h3>Implementation</h3>\n<p>The idea is to make both <em><strong>interfaces</strong></em> (existing and the one that needs to be implemented by the end-user) and existing <em><strong>abstract class</strong></em> <code>sealed</code> to impose restrictions on their extension.</p>\n<p>Existing <em><strong>final class</strong></em> will remain to be <code>final</code>.</p>\n<p>The <strong>extension point</strong> will be represented by a <code>non-sealed</code> <em><strong>abstract class</strong></em>, which extends the existing <em>abstract class</em> and implements the <em>interface</em> that defines a contract for <em>user-specific behavior</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/DdCrg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DdCrg.jpg\" alt=\"enter image description here\" /></a></p>\n<p>With this approach, you can prevent the <strong>critical behaviour</strong> defined by the <code>Base</code> <em>interface</em> and <code>Root</code> class from being implemented in an undesired way, by marking these methods inside the <code>OpenChild</code> <em>class</em> with <code>final</code> modifier.  And at the same time provide a contract for <em>user-specific behavior</em> which all <em>custom classes</em> are expected to conform to.</p>\n<p>That how it might look in the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface Base permits Root {\n    // critical behaviour\n    void m1();\n    void m2();\n}\n\npublic sealed abstract class Root implements Base\n                            permits ClosedChild, OpenChild {\n    // critical behaviour\n    public void m1() {} // default implementation\n}\n\npublic final class ClosedChild extends Root { // can't be extended further\n    // critical behaviour\n    public void m2() { /* custom implementation */ }\n}\n\npublic sealed interface Outer {\n    // end-user-specific behaviour\n    void m3();\n    void m4();\n}\n\npublic non-sealed abstract class OpenChild extends Root implements Outer {\n    // critical behaviour\n    final public void m1() { super.m1(); }                 // locked\n    final public void m2() { /* custom implementation */ } // locked\n\n    // has to be implemented by the end user\n    public abstract void m5(); // + methods declared by Outer\n}\n</code></pre>\n<h3>Alternatives</h3>\n<p>If you are using an <em>earlier version</em> of Java and therefore can't utilize <strong>sealed feature</strong>, then unfortunately you need to make a <em>choice</em> between the ability to <strong>control</strong> the extension of your top-level abstractions and <strong>accessibility</strong> of these abstractions to the end-users.</p>\n<p>As a partial solution, you can <strong>hide</strong> from the end-user everything apart from the existing <strong>final class</strong> <code>ClosedChild</code> and <strong>extension point</strong> <code>OpenChild</code>.</p>\n<p>In order to do that, all the <em>classes</em> and <em>interfaces</em> mentioned above have to reside in a <em><strong>separate package</strong></em>. <em>Classes</em> <code>OpenChild</code> and <code>ClosedChild</code> must be marked as <code>public</code>. <em>Interfaces</em> <code>Base</code>, <code>Outer</code> and <em>abstract class</em> <code>Root</code> have to be <em><strong>package private</strong></em>, i.e. they will be visible to <code>OpenChild</code> and <code>ClosedChild</code>, but their behaviour will accessible from everywhere.</p>\n<p><strong>Note:</strong> methods declared inside the <code>Base</code> <em>abstract class</em> in order to make them assemble to the end-user must be <code>public</code>, all methods in interfaces are public by default even the interface itself package private.</p>\n<p>An example of this approach in the JDK is a package private abstract class <code>AbstractStringBuilder</code>, which is not publicly accessible. And its <code>public final</code> subclasses <code>StringBuilder</code> and <code>StringBuffer</code> share its behaviour.</p>\n"}],"owner":{"account_id":11892308,"reputation":39,"user_id":8702751,"display_name":"Vanil Mar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648321852,"creation_date":1646884075,"question_id":71418611,"body_markdown":"I have an ***abstract class*** and two ***final classes*** that extend it. \r\n\r\nThe ***abstract class*** is also an implementation of an ***interface***.\r\n\r\nNow I have to remove one of the two *child classes* and **add an interface** so that people can still come in with their own implementations. \r\n\r\nBut I need to ensure that whoever implements the **new interface** is going to extend the **existing abstract class**. It is required because otherwise it won&#39;t be functioning. \r\n\r\nIs there a way to achieve that, or I can only document an implementation requirement?","title":"How to ensure that future Implementations of an Interface will also extend a particular Class","body":"<p>I have an <em><strong>abstract class</strong></em> and two <em><strong>final classes</strong></em> that extend it.</p>\n<p>The <em><strong>abstract class</strong></em> is also an implementation of an <em><strong>interface</strong></em>.</p>\n<p>Now I have to remove one of the two <em>child classes</em> and <strong>add an interface</strong> so that people can still come in with their own implementations.</p>\n<p>But I need to ensure that whoever implements the <strong>new interface</strong> is going to extend the <strong>existing abstract class</strong>. It is required because otherwise it won't be functioning.</p>\n<p>Is there a way to achieve that, or I can only document an implementation requirement?</p>\n"},{"tags":["java","arrays","list","casting","comparator"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1648322483,"post_id":71630910,"comment_id":126596758,"body_markdown":"Does this answer your question? [Very confused by Java 8 Comparator type inference](https://stackoverflow.com/questions/24436871/very-confused-by-java-8-comparator-type-inference)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24436871/very-confused-by-java-8-comparator-type-inference\">Very confused by Java 8 Comparator type inference</a>"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648321154,"creation_date":1648321154,"answer_id":71630962,"question_id":71630910,"body_markdown":"With just `Comparator.comparingInt`, the compiler can infer that the single generic method call and the desired type should be the same - `Comparator&lt;int[]&gt;`.\r\n\r\nThe second chained call disrupts the type inference completely. The desired type is still `Comparator&lt;int[]&gt;`, and this is what `thenComparingInt` should return. But the compiler is not (yet?) smart enough to determine what the return type of `Comparator.comparingInt` should be. That&#39;s why you get a compiler error.\r\n\r\nYour casts work, but you can make it a bit easier by telling the compiler what generic type to use for `Comparator.comparingInt`. Then, `thenComparingInt` continues from that generic type.\r\n\r\nThere are two ways I can think of:\r\n\r\n1) `list.sort(Comparator.&lt;int[]&gt;comparingInt(x -&gt; x[0]).thenComparingInt(x -&gt; x[1]))`\r\n\r\n2) `list.sort(Comparator.comparingInt((int[] x) -&gt; x[0]).thenComparingInt(x -&gt; x[1]))`\r\n\r\nIn the first case, you just tell the compiler &quot;the generic type for the method is `int[]`&quot;. In the second case, you let the compiler infer it from the argument, which you tell the compiler is a `Function&lt;int[], int&gt;` by specifying the input type.","title":"Why do I need to typecast when using thenComparing in Java","body":"<p>With just <code>Comparator.comparingInt</code>, the compiler can infer that the single generic method call and the desired type should be the same - <code>Comparator&lt;int[]&gt;</code>.</p>\n<p>The second chained call disrupts the type inference completely. The desired type is still <code>Comparator&lt;int[]&gt;</code>, and this is what <code>thenComparingInt</code> should return. But the compiler is not (yet?) smart enough to determine what the return type of <code>Comparator.comparingInt</code> should be. That's why you get a compiler error.</p>\n<p>Your casts work, but you can make it a bit easier by telling the compiler what generic type to use for <code>Comparator.comparingInt</code>. Then, <code>thenComparingInt</code> continues from that generic type.</p>\n<p>There are two ways I can think of:</p>\n<ol>\n<li><p><code>list.sort(Comparator.&lt;int[]&gt;comparingInt(x -&gt; x[0]).thenComparingInt(x -&gt; x[1]))</code></p>\n</li>\n<li><p><code>list.sort(Comparator.comparingInt((int[] x) -&gt; x[0]).thenComparingInt(x -&gt; x[1]))</code></p>\n</li>\n</ol>\n<p>In the first case, you just tell the compiler &quot;the generic type for the method is <code>int[]</code>&quot;. In the second case, you let the compiler infer it from the argument, which you tell the compiler is a <code>Function&lt;int[], int&gt;</code> by specifying the input type.</p>\n"}],"owner":{"account_id":9063612,"reputation":13,"user_id":6749308,"display_name":"rigby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648321154,"creation_date":1648320699,"question_id":71630910,"body_markdown":"I&#39;m deeply confused by why the first block of code can compile, while the second block of code can&#39;t compile.\r\n\r\nCan compile\r\n```\r\n        int[][] arr = {{2,2}, {1,2}, {3,4}};\r\n        List&lt;int[]&gt; list = Arrays.asList(arr);\r\n        \r\n        // sort by first element\r\n        list.sort(Comparator.comparingInt(x -&gt; x[0]));\r\n```\r\n\r\nCannot compile. Error is &quot;Array type expected; found: &#39;java.lang.Object&#39;&quot;\r\n```\r\n        int[][] arr = {{2,2}, {1,2}, {3,4}};\r\n        List&lt;int[]&gt; list = Arrays.asList(arr);\r\n\r\n        // sort by first element, then by second element\r\n        list.sort(Comparator.comparingInt(x -&gt; x[0]).thenComparingInt( x -&gt; x[1]));\r\n```\r\n\r\nIn order to fix the error, I had to do\r\n```\r\nlist.sort(Comparator.comparingInt(x -&gt; ((int[])x)[0]).thenComparingInt( x -&gt; ((int[])x)[1]));\r\n```\r\n\r\nMy question is, why I had to typecast if calling `comparingInt` and then `thenComparingInt`, while typecast is not needed if I was only calling `comparingInt`?\r\n","title":"Why do I need to typecast when using thenComparing in Java","body":"<p>I'm deeply confused by why the first block of code can compile, while the second block of code can't compile.</p>\n<p>Can compile</p>\n<pre><code>        int[][] arr = {{2,2}, {1,2}, {3,4}};\n        List&lt;int[]&gt; list = Arrays.asList(arr);\n        \n        // sort by first element\n        list.sort(Comparator.comparingInt(x -&gt; x[0]));\n</code></pre>\n<p>Cannot compile. Error is &quot;Array type expected; found: 'java.lang.Object'&quot;</p>\n<pre><code>        int[][] arr = {{2,2}, {1,2}, {3,4}};\n        List&lt;int[]&gt; list = Arrays.asList(arr);\n\n        // sort by first element, then by second element\n        list.sort(Comparator.comparingInt(x -&gt; x[0]).thenComparingInt( x -&gt; x[1]));\n</code></pre>\n<p>In order to fix the error, I had to do</p>\n<pre><code>list.sort(Comparator.comparingInt(x -&gt; ((int[])x)[0]).thenComparingInt( x -&gt; ((int[])x)[1]));\n</code></pre>\n<p>My question is, why I had to typecast if calling <code>comparingInt</code> and then <code>thenComparingInt</code>, while typecast is not needed if I was only calling <code>comparingInt</code>?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648231127,"creation_date":1648231127,"answer_id":71621270,"question_id":71621080,"body_markdown":"Well, You can do one thing here. Create a common class named `User` put all the common properties from `SysUser` and `RefUser` in that class. Then you can extend that in both the class and keep only distinct fields in the Child classes. This way any user do the operation will belong to `User` Class.\r\n\r\nAfter that you can do something like this in your Class:\r\n\r\n    public class Record extends Auditable&lt;String&gt; implements Serializable {}\r\n\r\n    @MappedSuperclass\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public abstract class Auditable&lt;User&gt; {\r\n\r\n    @CreatedBy\r\n    protected User createdBy;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @CreatedDate\r\n    protected Date createdDate;\r\n\r\n    @LastModifiedBy\r\n    protected T lastModifiedBy;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @LastModifiedDate\r\n    protected Date lastModifiedDate;\r\n    }\r\n This should solve your problem.","title":"&#39;Basic&#39; attribute type should not be &#39;Mapped Superclass&#39;","body":"<p>Well, You can do one thing here. Create a common class named <code>User</code> put all the common properties from <code>SysUser</code> and <code>RefUser</code> in that class. Then you can extend that in both the class and keep only distinct fields in the Child classes. This way any user do the operation will belong to <code>User</code> Class.</p>\n<p>After that you can do something like this in your Class:</p>\n<pre><code>public class Record extends Auditable&lt;String&gt; implements Serializable {}\n\n@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class Auditable&lt;User&gt; {\n\n@CreatedBy\nprotected User createdBy;\n\n@Temporal(TemporalType.TIMESTAMP)\n@CreatedDate\nprotected Date createdDate;\n\n@LastModifiedBy\nprotected T lastModifiedBy;\n\n@Temporal(TemporalType.TIMESTAMP)\n@LastModifiedDate\nprotected Date lastModifiedDate;\n}\n</code></pre>\n<p>This should solve your problem.</p>\n"}],"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648321115,"creation_date":1648230085,"question_id":71621080,"body_markdown":"I&#39;m using Spring Data JPA in my project. I would like to keep track of `@CreatedBy` and `@LastModifiedBy` when an entity is saved or updated to know which user does that activity. But the issue I am facing is I have 2 different types of users. Those are `SysUser` and `RefUser`. Both of the user types have permission to do CRUD operations in any entity.\r\n\r\nAnd another thing is I have seen the most examples persisting `@CreatedBy` and `@LastModifiedBy` as String fields. But the issue is when retrieving data from the database they are retrieving as User Ids (String values). I need to store user Ids as Strings, but when retrieving it should come the user&#39;s all details like user&#39;s id, name, gender etc.\r\n\r\n    public class Record extends Auditable&lt;String&gt; implements Serializable {}\r\n\r\n    @MappedSuperclass\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public abstract class Auditable&lt;T&gt; {\r\n    \r\n        @CreatedBy\r\n        protected T createdBy;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @CreatedDate\r\n        protected Date createdDate;\r\n    \r\n        @LastModifiedBy\r\n        protected T lastModifiedBy;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @LastModifiedDate\r\n        protected Date lastModifiedDate;\r\n    }\r\n\r\n\r\nAlso I have a common class annotated with `@MappedSuperClass` that extended by `SysUser` and `RefUser`. But when I am trying to add that common class as a filed like the following it says \r\n\r\n&gt; &#39;Basic&#39; attribute type should not be &#39;Mapped Superclass&#39;\r\n\r\n    private CommonEntity crUsr;\r\n    private CommonEntity upUsr;\r\n\r\nSo how can I achieve this? Anybody can help me? Thanks in advance.","title":"&#39;Basic&#39; attribute type should not be &#39;Mapped Superclass&#39;","body":"<p>I'm using Spring Data JPA in my project. I would like to keep track of <code>@CreatedBy</code> and <code>@LastModifiedBy</code> when an entity is saved or updated to know which user does that activity. But the issue I am facing is I have 2 different types of users. Those are <code>SysUser</code> and <code>RefUser</code>. Both of the user types have permission to do CRUD operations in any entity.</p>\n<p>And another thing is I have seen the most examples persisting <code>@CreatedBy</code> and <code>@LastModifiedBy</code> as String fields. But the issue is when retrieving data from the database they are retrieving as User Ids (String values). I need to store user Ids as Strings, but when retrieving it should come the user's all details like user's id, name, gender etc.</p>\n<pre><code>public class Record extends Auditable&lt;String&gt; implements Serializable {}\n\n@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class Auditable&lt;T&gt; {\n\n    @CreatedBy\n    protected T createdBy;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @CreatedDate\n    protected Date createdDate;\n\n    @LastModifiedBy\n    protected T lastModifiedBy;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @LastModifiedDate\n    protected Date lastModifiedDate;\n}\n</code></pre>\n<p>Also I have a common class annotated with <code>@MappedSuperClass</code> that extended by <code>SysUser</code> and <code>RefUser</code>. But when I am trying to add that common class as a filed like the following it says</p>\n<blockquote>\n<p>'Basic' attribute type should not be 'Mapped Superclass'</p>\n</blockquote>\n<pre><code>private CommonEntity crUsr;\nprivate CommonEntity upUsr;\n</code></pre>\n<p>So how can I achieve this? Anybody can help me? Thanks in advance.</p>\n"},{"tags":["java","algorithm","math","recursion"],"comments":[{"owner":{"account_id":481081,"reputation":4445,"user_id":894682,"accept_rate":87,"display_name":"Nixit Patel"},"score":0,"creation_date":1328233069,"post_id":9122277,"comment_id":11463777,"body_markdown":"is it 3*(f(n - 1) - f(n - 2)) or  (3*f(n-1))-f(n - 2)","body":"is it 3*(f(n - 1) - f(n - 2)) or  (3*f(n-1))-f(n - 2)"},{"owner":{"account_id":158544,"reputation":102715,"user_id":377270,"display_name":"sarnold"},"score":0,"creation_date":1328233978,"post_id":9122277,"comment_id":11463950,"body_markdown":"@nixit: it is usually safe to assume `*` has a higher precedence than `+` -- I think APL (and derived languages) and Smalltalk are the only languages that do not assign `*` a higher precedence than `+`. (Though one could argue that RPN also doesn&#39;t have higher precedence for `*` than `+`, but only because there _are_ no precedence rules for RPN...)","body":"@nixit: it is usually safe to assume <code>*</code> has a higher precedence than <code>+</code> -- I think APL (and derived languages) and Smalltalk are the only languages that do not assign <code>*</code> a higher precedence than <code>+</code>. (Though one could argue that RPN also doesn&#39;t have higher precedence for <code>*</code> than <code>+</code>, but only because there <i>are</i> no precedence rules for RPN...)"},{"owner":{"account_id":481081,"reputation":4445,"user_id":894682,"accept_rate":87,"display_name":"Nixit Patel"},"score":0,"creation_date":1328234985,"post_id":9122277,"comment_id":11464102,"body_markdown":"@sarnold yeah I know that but if we put value of 0 in to f(n) then the value I got is -1 so I get confused","body":"@sarnold yeah I know that but if we put value of 0 in to f(n) then the value I got is -1 so I get confused"},{"owner":{"account_id":158544,"reputation":102715,"user_id":377270,"display_name":"sarnold"},"score":0,"creation_date":1328235553,"post_id":9122277,"comment_id":11464180,"body_markdown":"@nixit: the unstated assumption here is that `f(n)` is defined only for non-negative integers and the formula `f(n) = 3 * f(n-1) - f(n-2)` is to be used only for integers greater than or equal to `2`. `f(0)` gives you the result `1` by definition.","body":"@nixit: the unstated assumption here is that <code>f(n)</code> is defined only for non-negative integers and the formula <code>f(n) = 3 * f(n-1) - f(n-2)</code> is to be used only for integers greater than or equal to <code>2</code>. <code>f(0)</code> gives you the result <code>1</code> by definition."}],"answers":[{"tags":[],"owner":{"account_id":8291,"reputation":860447,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1424081340,"creation_date":1328230357,"answer_id":9122291,"question_id":9122277,"body_markdown":"Yes, all recursive algorithms can be converted into iterative ones. The recursive solution to your problem is something like (pseudo-code):\r\n\r\n    def f(n):\r\n        if n == 0: return 1\r\n        if n == 1: return 3\r\n        return 3 * f(n-1) - f(n-2)\r\n\r\nSince you only have to remember the previous two terms to calculate the current one, you can use something like the following pseudo-code:\r\n\r\n    def f(n):\r\n        if n == 0:\r\n            return 1\r\n        if n == 1:\r\n            return 3\r\n        grandparent = 1\r\n        parent = 3\r\n        for i = 2 to n:\r\n            me = 3 * parent - grandparent\r\n            grandparent = parent\r\n            parent = me\r\n        return me\r\n\r\nThis simply handles the &quot;recursive&quot; termination condition first then iterates where it would normally call itself. At each iteration, you calculate the current term, then rotate the terms through the grandparent and parent.\r\n\r\nThere is no need to keep the grandparent around once you&#39;ve calculated the current iteration since it&#39;s no longer used.\r\n\r\nIn fact, it could be said that the iterative solution is better (from a performance viewpoint) since terms are not recalculated as they are in the recursive solution. The recursive solution _does_ have a certain elegance about it though (recursive solutions generally do).\r\n\r\n---\r\n\r\nOf course, like the Fibonacci sequence, that value you calculate rises very quickly so, if you want what&#39;s possibly the fastest solution (you should check all performance claims, including mine), a pre-calculated lookup table may be the way to go.\r\n\r\nUsing the following Java code to create a table of long values (that `while` condition is just a sneaky trick to catch overflow, which is the point at which you can stop building the array):\r\n\r\n    class GenLookup {\r\n        public static void main(String args[]) {\r\n            long a = 1, b = 3, c;\r\n            System.out.print (&quot;long lookup[] = { &quot; + a + &quot;L, &quot; + b + &quot;L&quot;);\r\n            c = 3 * b - a;\r\n            while ((c + a) / 3 == b) {\r\n                System.out.print (&quot;, &quot; + c + &quot;L&quot;);\r\n                a = b; b = c; c = 3 * b - a;\r\n            }\r\n            System.out.println (&quot; };&quot;);\r\n        }\r\n    } \r\n\r\ngives you an array definition that you can just plug in to a lookup function, as per the following example:\r\n\r\n    public static long fn (int n) {\r\n        long lookup[] = { 1L, 3L, 8L, 21L, 55L, 144L, 377L, 987L, 2584L, 6765L,\r\n            17711L, 46368L, 121393L, 317811L, 832040L, 2178309L, 5702887L,\r\n            14930352L, 39088169L, 102334155L, 267914296L, 701408733L,\r\n            1836311903L, 4807526976L, 12586269025L, 32951280099L, 86267571272L,\r\n            225851433717L, 591286729879L, 1548008755920L, 4052739537881L,\r\n            10610209857723L, 27777890035288L, 72723460248141L, 190392490709135L,\r\n            498454011879264L, 1304969544928657L, 3416454622906707L,\r\n            8944394323791464L, 23416728348467685L, 61305790721611591L,\r\n            160500643816367088L, 420196140727489673L, 1100087778366101931L,\r\n            2880067194370816120L, 7540113804746346429L };\r\n\r\n        if ((n &lt; 1) || (n &gt; lookup.length))\r\n            return -1L;\r\n\r\n        return lookup[n-1];\r\n    }\r\n\r\n---\r\n\r\nInterestingly enough, WolframAlpha comes up with a formulaic approach that doesn&#39;t even use iteration. If you go to [their site][1] and enter `f(0)=1, f(1)=3, f(n)=3f(n-1)-f(n-2)`, you&#39;ll get back the formula:\r\n\r\n![enter image description here][2]\r\n\r\nUnfortunately, it may not be as fast as the iteration, given the limited number of input values that result in something that can fit in a Java `long`, since it uses floating point. It&#39;s almost certainly (but, again, you would need to check this) slower than a table lookup.\r\n\r\nAnd, it&#39;s probably perfect in the world of maths where real-world limits like non-infinite storage don&#39;t come into play but, possibly due to the limits of IEEE precision, it breaks down at higher values of `n`.\r\n\r\nThe following functions are the equivalent of that expression and the lookup solution:\r\n\r\n    class CheckWolf {\r\n        public static long fn2 (int n) {\r\n            return (long)(\r\n                (5.0 - 3.0 * Math.sqrt(5.0)) *\r\n                    Math.pow(((3.0 - Math.sqrt(5.0)) / 2.0), n-1) +\r\n                (5.0 + 3.0 * Math.sqrt(5.0)) *\r\n                    Math.pow(((3.0 + Math.sqrt(5.0)) / 2.0), n-1)\r\n                ) / 10;\r\n        }\r\n\r\n        public static long fn (int n) {\r\n            long lookup[] = { 1L, 3L, 8L, 21L, 55L, 144L, 377L, 987L, 2584L, 6765L,\r\n                17711L, 46368L, 121393L, 317811L, 832040L, 2178309L, 5702887L,\r\n                14930352L, 39088169L, 102334155L, 267914296L, 701408733L,\r\n                1836311903L, 4807526976L, 12586269025L, 32951280099L, 86267571272L,\r\n                225851433717L, 591286729879L, 1548008755920L, 4052739537881L,\r\n                10610209857723L, 27777890035288L, 72723460248141L, 190392490709135L,\r\n                498454011879264L, 1304969544928657L, 3416454622906707L,\r\n                8944394323791464L, 23416728348467685L, 61305790721611591L,\r\n                160500643816367088L, 420196140727489673L, 1100087778366101931L,\r\n                2880067194370816120L, 7540113804746346429L };\r\n            if ((n &lt; 1) || (n &gt; lookup.length)) return -1L;\r\n            return lookup[n-1];\r\n        }\r\n\r\nNow we need a mainline to compare them:\r\n\r\n        public static void main(String args[]) {\r\n            for (int i = 1; i &lt; 50; i++)\r\n                if (fn(i) != fn2(i))\r\n                    System.out.println (&quot;BAD:  &quot; + i + &quot;: &quot; + fn(i) + &quot;, &quot; + fn2(i)\r\n                        + &quot; (&quot; + Math.abs(fn(i) - fn2(i)) + &quot;)&quot;);\r\n                else\r\n                    System.out.println (&quot;GOOD: &quot; + i + &quot;: &quot; + fn(i) + &quot;, &quot; + fn2(i));\r\n            }\r\n        }\r\n\r\nThis will output:\r\n\r\n    GOOD: 1: 1, 1\r\n    GOOD: 2: 3, 3\r\n    GOOD: 3: 8, 8\r\n    GOOD: 4: 21, 21\r\n    GOOD: 5: 55, 55\r\n    GOOD: 6: 144, 144\r\n    GOOD: 7: 377, 377\r\n    GOOD: 8: 987, 987\r\n    GOOD: 9: 2584, 2584\r\n    GOOD: 10: 6765, 6765\r\n    GOOD: 11: 17711, 17711\r\n    GOOD: 12: 46368, 46368\r\n    GOOD: 13: 121393, 121393\r\n    GOOD: 14: 317811, 317811\r\n    GOOD: 15: 832040, 832040\r\n    GOOD: 16: 2178309, 2178309\r\n    GOOD: 17: 5702887, 5702887\r\n    GOOD: 18: 14930352, 14930352\r\n    GOOD: 19: 39088169, 39088169\r\n    GOOD: 20: 102334155, 102334155\r\n    GOOD: 21: 267914296, 267914296\r\n    GOOD: 22: 701408733, 701408733\r\n    GOOD: 23: 1836311903, 1836311903\r\n    GOOD: 24: 4807526976, 4807526976\r\n    GOOD: 25: 12586269025, 12586269025\r\n\r\nLooking good up to here, some more:\r\n\r\n    GOOD: 26: 32951280099, 32951280099\r\n    GOOD: 27: 86267571272, 86267571272\r\n    GOOD: 28: 225851433717, 225851433717\r\n    GOOD: 29: 591286729879, 591286729879\r\n    GOOD: 30: 1548008755920, 1548008755920\r\n    GOOD: 31: 4052739537881, 4052739537881\r\n    GOOD: 32: 10610209857723, 10610209857723\r\n    GOOD: 33: 27777890035288, 27777890035288\r\n    GOOD: 34: 72723460248141, 72723460248141\r\n    GOOD: 35: 190392490709135, 190392490709135\r\n    GOOD: 36: 498454011879264, 498454011879264\r\n\r\nBut then something starts going awry:\r\n\r\n    BAD:  37: 1304969544928657, 1304969544928658 (1)\r\n    BAD:  38: 3416454622906707, 3416454622906709 (2)\r\n    BAD:  39: 8944394323791464, 8944394323791472 (8)\r\n    BAD:  40: 23416728348467685, 23416728348467705 (20)\r\n    BAD:  41: 61305790721611591, 61305790721611648 (57)\r\n    BAD:  42: 160500643816367088, 160500643816367232 (144)\r\n    BAD:  43: 420196140727489673, 420196140727490048 (375)\r\n\r\nThe fact that the above are tantalisingly close, and that the number of digits in the error is proportional to the number of digits in the result, indicates it&#39;s probably a loss-of-precision problem.\r\n\r\nAfter this point, the formulaic function just starts returning the maximum long value:\r\n\r\n    BAD:  44: 1100087778366101931, 922337203685477580 (177750574680624351)\r\n    BAD:  45: 2880067194370816120, 922337203685477580 (1957729990685338540)\r\n    BAD:  46: 7540113804746346429, 922337203685477580 (6617776601060868849)\r\n\r\nAnd then our lookup function breaks down as well since the numbers are too big for a long:\r\n\r\n    BAD:  47: -1, 922337203685477580 (922337203685477581)\r\n    BAD:  48: -1, 922337203685477580 (922337203685477581)\r\n    BAD:  49: -1, 922337203685477580 (922337203685477581)\r\n\r\n\r\n  [1]: http://www.wolframalpha.com/\r\n  [2]: http://i.stack.imgur.com/0lUPU.png\r\n","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>Yes, all recursive algorithms can be converted into iterative ones. The recursive solution to your problem is something like (pseudo-code):</p>\n\n<pre><code>def f(n):\n    if n == 0: return 1\n    if n == 1: return 3\n    return 3 * f(n-1) - f(n-2)\n</code></pre>\n\n<p>Since you only have to remember the previous two terms to calculate the current one, you can use something like the following pseudo-code:</p>\n\n<pre><code>def f(n):\n    if n == 0:\n        return 1\n    if n == 1:\n        return 3\n    grandparent = 1\n    parent = 3\n    for i = 2 to n:\n        me = 3 * parent - grandparent\n        grandparent = parent\n        parent = me\n    return me\n</code></pre>\n\n<p>This simply handles the \"recursive\" termination condition first then iterates where it would normally call itself. At each iteration, you calculate the current term, then rotate the terms through the grandparent and parent.</p>\n\n<p>There is no need to keep the grandparent around once you've calculated the current iteration since it's no longer used.</p>\n\n<p>In fact, it could be said that the iterative solution is better (from a performance viewpoint) since terms are not recalculated as they are in the recursive solution. The recursive solution <em>does</em> have a certain elegance about it though (recursive solutions generally do).</p>\n\n<hr>\n\n<p>Of course, like the Fibonacci sequence, that value you calculate rises very quickly so, if you want what's possibly the fastest solution (you should check all performance claims, including mine), a pre-calculated lookup table may be the way to go.</p>\n\n<p>Using the following Java code to create a table of long values (that <code>while</code> condition is just a sneaky trick to catch overflow, which is the point at which you can stop building the array):</p>\n\n<pre><code>class GenLookup {\n    public static void main(String args[]) {\n        long a = 1, b = 3, c;\n        System.out.print (\"long lookup[] = { \" + a + \"L, \" + b + \"L\");\n        c = 3 * b - a;\n        while ((c + a) / 3 == b) {\n            System.out.print (\", \" + c + \"L\");\n            a = b; b = c; c = 3 * b - a;\n        }\n        System.out.println (\" };\");\n    }\n} \n</code></pre>\n\n<p>gives you an array definition that you can just plug in to a lookup function, as per the following example:</p>\n\n<pre><code>public static long fn (int n) {\n    long lookup[] = { 1L, 3L, 8L, 21L, 55L, 144L, 377L, 987L, 2584L, 6765L,\n        17711L, 46368L, 121393L, 317811L, 832040L, 2178309L, 5702887L,\n        14930352L, 39088169L, 102334155L, 267914296L, 701408733L,\n        1836311903L, 4807526976L, 12586269025L, 32951280099L, 86267571272L,\n        225851433717L, 591286729879L, 1548008755920L, 4052739537881L,\n        10610209857723L, 27777890035288L, 72723460248141L, 190392490709135L,\n        498454011879264L, 1304969544928657L, 3416454622906707L,\n        8944394323791464L, 23416728348467685L, 61305790721611591L,\n        160500643816367088L, 420196140727489673L, 1100087778366101931L,\n        2880067194370816120L, 7540113804746346429L };\n\n    if ((n &lt; 1) || (n &gt; lookup.length))\n        return -1L;\n\n    return lookup[n-1];\n}\n</code></pre>\n\n<hr>\n\n<p>Interestingly enough, WolframAlpha comes up with a formulaic approach that doesn't even use iteration. If you go to <a href=\"http://www.wolframalpha.com/\" rel=\"noreferrer\">their site</a> and enter <code>f(0)=1, f(1)=3, f(n)=3f(n-1)-f(n-2)</code>, you'll get back the formula:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0lUPU.png\" alt=\"enter image description here\"></p>\n\n<p>Unfortunately, it may not be as fast as the iteration, given the limited number of input values that result in something that can fit in a Java <code>long</code>, since it uses floating point. It's almost certainly (but, again, you would need to check this) slower than a table lookup.</p>\n\n<p>And, it's probably perfect in the world of maths where real-world limits like non-infinite storage don't come into play but, possibly due to the limits of IEEE precision, it breaks down at higher values of <code>n</code>.</p>\n\n<p>The following functions are the equivalent of that expression and the lookup solution:</p>\n\n<pre><code>class CheckWolf {\n    public static long fn2 (int n) {\n        return (long)(\n            (5.0 - 3.0 * Math.sqrt(5.0)) *\n                Math.pow(((3.0 - Math.sqrt(5.0)) / 2.0), n-1) +\n            (5.0 + 3.0 * Math.sqrt(5.0)) *\n                Math.pow(((3.0 + Math.sqrt(5.0)) / 2.0), n-1)\n            ) / 10;\n    }\n\n    public static long fn (int n) {\n        long lookup[] = { 1L, 3L, 8L, 21L, 55L, 144L, 377L, 987L, 2584L, 6765L,\n            17711L, 46368L, 121393L, 317811L, 832040L, 2178309L, 5702887L,\n            14930352L, 39088169L, 102334155L, 267914296L, 701408733L,\n            1836311903L, 4807526976L, 12586269025L, 32951280099L, 86267571272L,\n            225851433717L, 591286729879L, 1548008755920L, 4052739537881L,\n            10610209857723L, 27777890035288L, 72723460248141L, 190392490709135L,\n            498454011879264L, 1304969544928657L, 3416454622906707L,\n            8944394323791464L, 23416728348467685L, 61305790721611591L,\n            160500643816367088L, 420196140727489673L, 1100087778366101931L,\n            2880067194370816120L, 7540113804746346429L };\n        if ((n &lt; 1) || (n &gt; lookup.length)) return -1L;\n        return lookup[n-1];\n    }\n</code></pre>\n\n<p>Now we need a mainline to compare them:</p>\n\n<pre><code>    public static void main(String args[]) {\n        for (int i = 1; i &lt; 50; i++)\n            if (fn(i) != fn2(i))\n                System.out.println (\"BAD:  \" + i + \": \" + fn(i) + \", \" + fn2(i)\n                    + \" (\" + Math.abs(fn(i) - fn2(i)) + \")\");\n            else\n                System.out.println (\"GOOD: \" + i + \": \" + fn(i) + \", \" + fn2(i));\n        }\n    }\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>GOOD: 1: 1, 1\nGOOD: 2: 3, 3\nGOOD: 3: 8, 8\nGOOD: 4: 21, 21\nGOOD: 5: 55, 55\nGOOD: 6: 144, 144\nGOOD: 7: 377, 377\nGOOD: 8: 987, 987\nGOOD: 9: 2584, 2584\nGOOD: 10: 6765, 6765\nGOOD: 11: 17711, 17711\nGOOD: 12: 46368, 46368\nGOOD: 13: 121393, 121393\nGOOD: 14: 317811, 317811\nGOOD: 15: 832040, 832040\nGOOD: 16: 2178309, 2178309\nGOOD: 17: 5702887, 5702887\nGOOD: 18: 14930352, 14930352\nGOOD: 19: 39088169, 39088169\nGOOD: 20: 102334155, 102334155\nGOOD: 21: 267914296, 267914296\nGOOD: 22: 701408733, 701408733\nGOOD: 23: 1836311903, 1836311903\nGOOD: 24: 4807526976, 4807526976\nGOOD: 25: 12586269025, 12586269025\n</code></pre>\n\n<p>Looking good up to here, some more:</p>\n\n<pre><code>GOOD: 26: 32951280099, 32951280099\nGOOD: 27: 86267571272, 86267571272\nGOOD: 28: 225851433717, 225851433717\nGOOD: 29: 591286729879, 591286729879\nGOOD: 30: 1548008755920, 1548008755920\nGOOD: 31: 4052739537881, 4052739537881\nGOOD: 32: 10610209857723, 10610209857723\nGOOD: 33: 27777890035288, 27777890035288\nGOOD: 34: 72723460248141, 72723460248141\nGOOD: 35: 190392490709135, 190392490709135\nGOOD: 36: 498454011879264, 498454011879264\n</code></pre>\n\n<p>But then something starts going awry:</p>\n\n<pre><code>BAD:  37: 1304969544928657, 1304969544928658 (1)\nBAD:  38: 3416454622906707, 3416454622906709 (2)\nBAD:  39: 8944394323791464, 8944394323791472 (8)\nBAD:  40: 23416728348467685, 23416728348467705 (20)\nBAD:  41: 61305790721611591, 61305790721611648 (57)\nBAD:  42: 160500643816367088, 160500643816367232 (144)\nBAD:  43: 420196140727489673, 420196140727490048 (375)\n</code></pre>\n\n<p>The fact that the above are tantalisingly close, and that the number of digits in the error is proportional to the number of digits in the result, indicates it's probably a loss-of-precision problem.</p>\n\n<p>After this point, the formulaic function just starts returning the maximum long value:</p>\n\n<pre><code>BAD:  44: 1100087778366101931, 922337203685477580 (177750574680624351)\nBAD:  45: 2880067194370816120, 922337203685477580 (1957729990685338540)\nBAD:  46: 7540113804746346429, 922337203685477580 (6617776601060868849)\n</code></pre>\n\n<p>And then our lookup function breaks down as well since the numbers are too big for a long:</p>\n\n<pre><code>BAD:  47: -1, 922337203685477580 (922337203685477581)\nBAD:  48: -1, 922337203685477580 (922337203685477581)\nBAD:  49: -1, 922337203685477580 (922337203685477581)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412970,"reputation":7777,"user_id":786351,"accept_rate":67,"display_name":"ElKamina"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1328230581,"creation_date":1328230581,"answer_id":9122325,"question_id":9122277,"body_markdown":"    def func(n):\r\n        f= array(n+1)\r\n        f[0]=1\r\n        f[1]=3\r\n        \r\n        for i in 2:n :\r\n            f[i] = 3*f[i-1]-f[i-2]\r\n        return f[n]","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<pre><code>def func(n):\n    f= array(n+1)\n    f[0]=1\n    f[1]=3\n\n    for i in 2:n :\n        f[i] = 3*f[i-1]-f[i-2]\n    return f[n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":289134,"reputation":372192,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328230890,"creation_date":1328230890,"answer_id":9122363,"question_id":9122277,"body_markdown":"[ Oops, I thought this was a Perl question. Still, the code should be readable enough to a Java developer. ]\r\n\r\nThis is really just moving the recursion to userland, but you could use:\r\n\r\n    sub f { \r\n        my ($n) = @_;\r\n        my @f = (1,3);\r\n        $f[$_] = 3 * $f[$_-1]- $f[$_-2] for 2 .. $n;\r\n        return $f[$n];\r\n    }\r\n\r\nOf course, this begs for caching. There&#39;s no need to recalculate values we already know.\r\n\r\n    my @f = (1,3);\r\n    sub f { \r\n        my ($n) = @_;\r\n        $f[$_] = 3 * $f[$_-1]- $f[$_-2] for @f .. $n;\r\n        return $f[$n];\r\n    }\r\n\r\n","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>[ Oops, I thought this was a Perl question. Still, the code should be readable enough to a Java developer. ]</p>\n\n<p>This is really just moving the recursion to userland, but you could use:</p>\n\n<pre><code>sub f { \n    my ($n) = @_;\n    my @f = (1,3);\n    $f[$_] = 3 * $f[$_-1]- $f[$_-2] for 2 .. $n;\n    return $f[$n];\n}\n</code></pre>\n\n<p>Of course, this begs for caching. There's no need to recalculate values we already know.</p>\n\n<pre><code>my @f = (1,3);\nsub f { \n    my ($n) = @_;\n    $f[$_] = 3 * $f[$_-1]- $f[$_-2] for @f .. $n;\n    return $f[$n];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1328232088,"creation_date":1328230940,"answer_id":9122372,"question_id":9122277,"body_markdown":"It&#39;s simple, in Java the solution looks like this:\r\n\r\n\tpublic int f(int n) {\r\n\r\n\t      int tmp;\r\n\t      int a = 3;\r\n\t      int b = 1;\r\n\r\n\t      for (int i = 0; i &lt; n; i++) {\r\n\t          tmp = a;\r\n\t          a = 3 * a - b;\r\n\t          b = tmp;\r\n\t      }\r\n\r\n\t      return b;\r\n\r\n\t}\r\n\r\nAll recursive solutions can be transformed into iterative solutions (the opposite is also true, see this [post](https://stackoverflow.com/questions/931762/can-every-recursion-be-converted-into-iteration)), albeit it&#39;s easier if the recursive solution it&#39;s in tail-recursive form.\r\n\r\nThe above algorithm can be understood as a dynamic-programming solution to the original recursion, it&#39;s very efficient since it only needs to save the two previous values at each point in the iteration.","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>It's simple, in Java the solution looks like this:</p>\n\n<pre><code>public int f(int n) {\n\n      int tmp;\n      int a = 3;\n      int b = 1;\n\n      for (int i = 0; i &lt; n; i++) {\n          tmp = a;\n          a = 3 * a - b;\n          b = tmp;\n      }\n\n      return b;\n\n}\n</code></pre>\n\n<p>All recursive solutions can be transformed into iterative solutions (the opposite is also true, see this <a href=\"https://stackoverflow.com/questions/931762/can-every-recursion-be-converted-into-iteration\">post</a>), albeit it's easier if the recursive solution it's in tail-recursive form.</p>\n\n<p>The above algorithm can be understood as a dynamic-programming solution to the original recursion, it's very efficient since it only needs to save the two previous values at each point in the iteration.</p>\n"},{"tags":[],"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328231209,"creation_date":1328231209,"answer_id":9122405,"question_id":9122277,"body_markdown":"The function is defined in terms of itself, so in one sense any implementation is recursive, unless some mathematician comes and tells us `f(n)` can be evaluated without evaluating `f(n-1)` and `f(n-2)`. As others have shown, there is a way to implement it in Java function that does not call itself.","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>The function is defined in terms of itself, so in one sense any implementation is recursive, unless some mathematician comes and tells us <code>f(n)</code> can be evaluated without evaluating <code>f(n-1)</code> and <code>f(n-2)</code>. As others have shown, there is a way to implement it in Java function that does not call itself.</p>\n"},{"tags":[],"owner":{"account_id":139391,"reputation":113641,"user_id":344949,"accept_rate":100,"display_name":"ypercube"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1328233760,"creation_date":1328231703,"answer_id":9122463,"question_id":9122277,"body_markdown":"If your question is about whether an equivalent non-recursive definition of the function can be found, you should search for properties of the [Fibonacci sequence][F].\r\n\r\nYour sequence can be found by writing the Fibonacci (without the first 2 numbers) and removing every 2nd number: 1, 3, 8, 21, 55, 144, ...\r\n\r\n    sqrt5 = sqrt(5)\r\n    phi = ( 1 + sqrt5 ) / 2\r\n    fibonacci(n) = round( power( phi, n ) / sqrt5 ) \r\n    f(n) = fibonacci( 2*n + 2 )\r\n\r\n[F]: http://en.wikipedia.org/wiki/Fibonacci_number","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>If your question is about whether an equivalent non-recursive definition of the function can be found, you should search for properties of the <a href=\"http://en.wikipedia.org/wiki/Fibonacci_number\" rel=\"noreferrer\">Fibonacci sequence</a>.</p>\n\n<p>Your sequence can be found by writing the Fibonacci (without the first 2 numbers) and removing every 2nd number: 1, 3, 8, 21, 55, 144, ...</p>\n\n<pre><code>sqrt5 = sqrt(5)\nphi = ( 1 + sqrt5 ) / 2\nfibonacci(n) = round( power( phi, n ) / sqrt5 ) \nf(n) = fibonacci( 2*n + 2 )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35328,"reputation":25373,"user_id":100020,"accept_rate":92,"display_name":"sdcvvc"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1328233275,"creation_date":1328233275,"answer_id":9122637,"question_id":9122277,"body_markdown":"Answers here are correct, but they work in O(n), while you can do it in O(log n), exponentially faster. Observe that\r\n\r\n    [f(n)  ] = [3 -1] [f(n-1)]\r\n    [f(n-1)]   [1  0] [f(n-2)]\r\n\r\nLet v&lt;sub&gt;n&lt;/sub&gt; be the vector [f(n), f(n-1)] and A the matrix as above, so you get v&lt;sub&gt;n&lt;/sub&gt; = A v&lt;sub&gt;n-1&lt;/sub&gt;, therefore v&lt;sub&gt;n&lt;/sub&gt; = A&lt;sup&gt;n-1&lt;/sup&gt; v&lt;sub&gt;1&lt;/sub&gt;. Compute (n-1)-th power of matrix A using [binary exponentiation][1] and multiply it by v&lt;sub&gt;1&lt;/sub&gt;. For more on linear recurrences see [here][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Binary_exponentiation\r\n  [2]: http://community.topcoder.com/tc?module=Static&amp;d1=features&amp;d2=010408","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>Answers here are correct, but they work in O(n), while you can do it in O(log n), exponentially faster. Observe that</p>\n\n<pre><code>[f(n)  ] = [3 -1] [f(n-1)]\n[f(n-1)]   [1  0] [f(n-2)]\n</code></pre>\n\n<p>Let v<sub>n</sub> be the vector [f(n), f(n-1)] and A the matrix as above, so you get v<sub>n</sub> = A v<sub>n-1</sub>, therefore v<sub>n</sub> = A<sup>n-1</sup> v<sub>1</sub>. Compute (n-1)-th power of matrix A using <a href=\"http://en.wikipedia.org/wiki/Binary_exponentiation\" rel=\"noreferrer\">binary exponentiation</a> and multiply it by v<sub>1</sub>. For more on linear recurrences see <a href=\"http://community.topcoder.com/tc?module=Static&amp;d1=features&amp;d2=010408\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1207854,"reputation":4608,"user_id":1177025,"display_name":"Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328240362,"creation_date":1328236224,"answer_id":9122953,"question_id":9122277,"body_markdown":"As requested by @paxdiablo I&#39;m making this an answer. It&#39;s a recurrence relation and can be solved non-recursively, similar to the fibonacci sequence mentioned in another answer. It turns out to be (Python notation).\r\n\r\n    def f(n):\r\n        return int((13**0.5-3)/(2*13**0.5)*((3-13**0.5)/2)**n + (0.5+3/(2*13**0.5))*((3+13**0.5)/2)**n)\r\n\r\n**However,** this forumula does most probably *not* work for large n, because of limited float precision. The given python version fails for n = 30:\r\n\r\n    &gt;&gt;&gt; print ([f(n) == 3 * f(n-1) + f(n-2) for n in range(2, 30)])\r\n    [True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, False]\r\n    &gt;&gt;&gt; print([f(n) for n in range(30)])\r\n    [1, 3, 10, 33, 109, 360, 1189, 3927, 12970, 42837, 141481, 467280, 1543321, 5097243, 16835050, 55602393, 183642229, 606529080, 2003229469, 6616217487, 21851881930, 72171863277, 238367471761, 787274278560, 2600190307441, 8587845200883, 28363725910090, 93679022931153, 309400794703549, 1021881407041801]\r\n\r\n\r\n**Warning:** I used a &quot;+&quot; instead of a &quot;-&quot;, so the formula is wrong. See comments.","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>As requested by @paxdiablo I'm making this an answer. It's a recurrence relation and can be solved non-recursively, similar to the fibonacci sequence mentioned in another answer. It turns out to be (Python notation).</p>\n\n<pre><code>def f(n):\n    return int((13**0.5-3)/(2*13**0.5)*((3-13**0.5)/2)**n + (0.5+3/(2*13**0.5))*((3+13**0.5)/2)**n)\n</code></pre>\n\n<p><strong>However,</strong> this forumula does most probably <em>not</em> work for large n, because of limited float precision. The given python version fails for n = 30:</p>\n\n<pre><code>&gt;&gt;&gt; print ([f(n) == 3 * f(n-1) + f(n-2) for n in range(2, 30)])\n[True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, False]\n&gt;&gt;&gt; print([f(n) for n in range(30)])\n[1, 3, 10, 33, 109, 360, 1189, 3927, 12970, 42837, 141481, 467280, 1543321, 5097243, 16835050, 55602393, 183642229, 606529080, 2003229469, 6616217487, 21851881930, 72171863277, 238367471761, 787274278560, 2600190307441, 8587845200883, 28363725910090, 93679022931153, 309400794703549, 1021881407041801]\n</code></pre>\n\n<p><strong>Warning:</strong> I used a \"+\" instead of a \"-\", so the formula is wrong. See comments.</p>\n"},{"tags":[],"owner":{"account_id":5840138,"reputation":27,"user_id":4610949,"display_name":"Sharief Muzammil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425038156,"creation_date":1425038156,"answer_id":28764570,"question_id":9122277,"body_markdown":"**The Fibonacci series sequence of numbers starts as: 0,1,1,2,3,5,8,13,21,34,55....**\r\n\r\n***this can be defined by simple recurrence relation F(n)=F(n-1)+F(n-2) for n&gt;1 and two initial conditions, F(0)=1 and F(1)=1***\r\n\r\n**Algorithm Fibonacci**\r\n\r\n*//Computes the nth Fibonacci number*\r\n\r\n*//Input: A non-negative integer*\r\n\r\n*//Output: The nth Fibonacci number*\r\n\r\n    1. Begin Fibo\r\n    2. integer n, i;\r\n    3.    if n&lt;=1 then\r\n    4.     return n;\r\n    5.  else\r\n    6.    F(0)&lt;-0; F(1)&lt;-1;\r\n    7.    for i&lt;-2 to n do\r\n    8.     F(i)&lt;-F(i-1)+F(i-2);\r\n    9.     F(i-2)=F(i-2);\r\n    10.    F(i-1)=F(i);\r\n    11. done\r\n    12. end if\r\n    13. end Fibo\r\n\r\n     \r\n    \r\n        ","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p><strong>The Fibonacci series sequence of numbers starts as: 0,1,1,2,3,5,8,13,21,34,55....</strong></p>\n\n<p><strong><em>this can be defined by simple recurrence relation F(n)=F(n-1)+F(n-2) for n>1 and two initial conditions, F(0)=1 and F(1)=1</em></strong></p>\n\n<p><strong>Algorithm Fibonacci</strong></p>\n\n<p><em>//Computes the nth Fibonacci number</em></p>\n\n<p><em>//Input: A non-negative integer</em></p>\n\n<p><em>//Output: The nth Fibonacci number</em></p>\n\n<pre><code>1. Begin Fibo\n2. integer n, i;\n3.    if n&lt;=1 then\n4.     return n;\n5.  else\n6.    F(0)&lt;-0; F(1)&lt;-1;\n7.    for i&lt;-2 to n do\n8.     F(i)&lt;-F(i-1)+F(i-2);\n9.     F(i-2)=F(i-2);\n10.    F(i-1)=F(i);\n11. done\n12. end if\n13. end Fibo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440951,"reputation":2790,"user_id":1361125,"display_name":"imanzabet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499512968,"creation_date":1499512968,"answer_id":44985664,"question_id":9122277,"body_markdown":"Here is simply a function with minimum line of code and maximum flexibility. \r\n\r\nYou can **add** any &quot;initial values&quot; and any other recursive &quot;function&quot; you want simply.\r\n\r\n    def fib(n):\r\n      fibs = [1, 3]       # &lt;--  your initial values here \r\n      if n == 1:\r\n        return fibs[0]\r\n      if n == 2:\r\n        return fibs[:1]\r\n      for i in range(2, n):\r\n        fibs.append(3*fibs[-1] - fibs[-2])  # &lt;-- your function here\r\n      return fibs\r\n\r\nAnd the result is:\r\n\r\n    n=10\r\n    print(fib(n))\r\n\r\n    [1, 3, 8, 21, 55, 144, 377, 987, 2584, 6765]","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>Here is simply a function with minimum line of code and maximum flexibility. </p>\n\n<p>You can <strong>add</strong> any \"initial values\" and any other recursive \"function\" you want simply.</p>\n\n<pre><code>def fib(n):\n  fibs = [1, 3]       # &lt;--  your initial values here \n  if n == 1:\n    return fibs[0]\n  if n == 2:\n    return fibs[:1]\n  for i in range(2, n):\n    fibs.append(3*fibs[-1] - fibs[-2])  # &lt;-- your function here\n  return fibs\n</code></pre>\n\n<p>And the result is:</p>\n\n<pre><code>n=10\nprint(fib(n))\n\n[1, 3, 8, 21, 55, 144, 377, 987, 2584, 6765]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2346053,"reputation":279,"user_id":2152719,"display_name":"Antonio Molinaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638201985,"creation_date":1638201985,"answer_id":70157672,"question_id":9122277,"body_markdown":"I don&#39;t know why nobody has proposed the following algorithm, which is way simpler and faster:\r\n\r\n```Java\r\nclass Fibonacci {\r\n\r\n\tpublic void compute(int n) {\r\n\t\tlong i=0;\r\n\t\tlong a=0,b=1,d=0;\r\n\r\n\t\twhile (i&lt;n) {\r\n\r\n\t\t    System.out.println(a);\r\n\t\t    d=a;\r\n\t\t    a=b;\r\n\t\t    b=b+d;\r\n\t\t    i+=1;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\tvar fib = new Fibonacci();\r\n\r\n\t\tfib.compute(90);\r\n\t}\r\n\r\n}\r\n```\r\nOutput:\r\n\r\n```\r\n0\r\n1\r\n1\r\n2\r\n3\r\n5\r\n8\r\n13\r\n21\r\n34\r\n55\r\n89\r\n144\r\n233\r\n377\r\n610\r\n987\r\n1597\r\n2584\r\n4181\r\n6765\r\n10946\r\n17711\r\n28657\r\n46368\r\n75025\r\n121393\r\n196418\r\n317811\r\n514229\r\n832040\r\n1346269\r\n2178309\r\n3524578\r\n5702887\r\n9227465\r\n14930352\r\n24157817\r\n39088169\r\n63245986\r\n102334155\r\n165580141\r\n267914296\r\n433494437\r\n701408733\r\n1134903170\r\n1836311903\r\n2971215073\r\n4807526976\r\n7778742049\r\n12586269025\r\n20365011074\r\n32951280099\r\n53316291173\r\n86267571272\r\n139583862445\r\n225851433717\r\n365435296162\r\n591286729879\r\n956722026041\r\n1548008755920\r\n2504730781961\r\n4052739537881\r\n6557470319842\r\n10610209857723\r\n17167680177565\r\n27777890035288\r\n44945570212853\r\n72723460248141\r\n117669030460994\r\n190392490709135\r\n308061521170129\r\n498454011879264\r\n806515533049393\r\n1304969544928657\r\n2111485077978050\r\n3416454622906707\r\n5527939700884757\r\n8944394323791464\r\n14472334024676221\r\n23416728348467685\r\n37889062373143906\r\n61305790721611591\r\n99194853094755497\r\n160500643816367088\r\n259695496911122585\r\n420196140727489673\r\n679891637638612258\r\n1100087778366101931\r\n1779979416004714189\r\n\r\n```","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>I don't know why nobody has proposed the following algorithm, which is way simpler and faster:</p>\n<pre><code>class Fibonacci {\n\n    public void compute(int n) {\n        long i=0;\n        long a=0,b=1,d=0;\n\n        while (i&lt;n) {\n\n            System.out.println(a);\n            d=a;\n            a=b;\n            b=b+d;\n            i+=1;\n        }\n    }\n\n    public static void main(String[] args) {\n    \n        var fib = new Fibonacci();\n\n        fib.compute(90);\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>0\n1\n1\n2\n3\n5\n8\n13\n21\n34\n55\n89\n144\n233\n377\n610\n987\n1597\n2584\n4181\n6765\n10946\n17711\n28657\n46368\n75025\n121393\n196418\n317811\n514229\n832040\n1346269\n2178309\n3524578\n5702887\n9227465\n14930352\n24157817\n39088169\n63245986\n102334155\n165580141\n267914296\n433494437\n701408733\n1134903170\n1836311903\n2971215073\n4807526976\n7778742049\n12586269025\n20365011074\n32951280099\n53316291173\n86267571272\n139583862445\n225851433717\n365435296162\n591286729879\n956722026041\n1548008755920\n2504730781961\n4052739537881\n6557470319842\n10610209857723\n17167680177565\n27777890035288\n44945570212853\n72723460248141\n117669030460994\n190392490709135\n308061521170129\n498454011879264\n806515533049393\n1304969544928657\n2111485077978050\n3416454622906707\n5527939700884757\n8944394323791464\n14472334024676221\n23416728348467685\n37889062373143906\n61305790721611591\n99194853094755497\n160500643816367088\n259695496911122585\n420196140727489673\n679891637638612258\n1100087778366101931\n1779979416004714189\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5391856,"reputation":190,"user_id":4294106,"display_name":"tavito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648320730,"creation_date":1648320730,"answer_id":71630912,"question_id":9122277,"body_markdown":"This is my non-recursive solution (javascript):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function fibonacci(n) {\r\n      let f = 0;\r\n      let g = 1;\r\n      for (let i = 0; i &lt;= n; i++) {\r\n        console.log(f);\r\n        f = f + g;\r\n        g = f - g;\r\n      }\r\n    }\r\n    \r\n    fibonacci(10);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>This is my non-recursive solution (javascript):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function fibonacci(n) {\n  let f = 0;\n  let g = 1;\n  for (let i = 0; i &lt;= n; i++) {\n    console.log(f);\n    f = f + g;\n    g = f - g;\n  }\n}\n\nfibonacci(10);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1079323,"reputation":2921,"user_id":1076742,"accept_rate":72,"display_name":"cclerv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55705,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":9122291,"answer_count":12,"score":18,"last_activity_date":1648320730,"creation_date":1328230274,"question_id":9122277,"body_markdown":"Given this pseudo code of a function\r\n\r\n    f(0) = 1; \r\n    f(1) = 3; \r\n    f(n) = 3 * f(n - 1) - f(n - 2); // for n &gt;= 2.\r\n \r\n\r\nIs there a non recursive way of doing this?","title":"What is a non recursive solution for Fibonacci-like sequence in Java?","body":"<p>Given this pseudo code of a function</p>\n\n<pre><code>f(0) = 1; \nf(1) = 3; \nf(n) = 3 * f(n - 1) - f(n - 2); // for n &gt;= 2.\n</code></pre>\n\n<p>Is there a non recursive way of doing this?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1648196868,"post_id":71613800,"comment_id":126568046,"body_markdown":"You don&#39;t need streams here. You need a map.","body":"You don&#39;t need streams here. You need a map."}],"answers":[{"tags":[],"owner":{"account_id":11939869,"reputation":814,"user_id":8737029,"display_name":"Vincent Passau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648196997,"creation_date":1648196534,"answer_id":71613943,"question_id":71613800,"body_markdown":"By computing only the value of the child and its first parent, you can do it with a simple filter on the list.\r\n\r\n    @Test\r\n    public void test() {\r\n        final Employee employee1 = new Employee(1, null, 4);\r\n        final Employee employee2 = new Employee(2, 1, 4);\r\n        final Employee employee3 = new Employee(3, null, 8);\r\n        final Employee employee4 = new Employee(4, 1, 3);\r\n        final Employee employee5 = new Employee(5, 2, 11);\r\n\r\n        final List&lt;Employee&gt; employees = List.of(employee1, employee2, employee3, employee4, employee5);\r\n        final List&lt;Pair&lt;Integer, Integer&gt;&gt; res = employees\r\n                .stream()\r\n                .map(emp -&gt; Pair.of(emp.id,\r\n                                emp.value + employees\r\n                                        .stream()\r\n                                        .filter(e -&gt; e.id.intValue() == Optional.ofNullable(emp.parentId).orElse(-1))\r\n                                        .findFirst().map(Employee::getValue)\r\n                                        .orElse(0)\r\n                        )\r\n                )\r\n                .collect(Collectors.toList());\r\n        res.forEach(System.out::println);\r\n    }\r\n\r\n    public class Employee {\r\n        public Integer id;\r\n        public Integer parentId;\r\n        public int value;\r\n        public Employee(final Integer id, final Integer parentId, final int value) {\r\n            this.id = id;\r\n            this.parentId = parentId;\r\n            this.value = value;\r\n        }\r\n        public int getValue() {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\nresult : \r\n\r\n    (1,4)\r\n    (2,8)\r\n    (3,8)\r\n    (4,7)\r\n    (5,15)\r\n\r\nNB: the object Pair I used comes from `org.apache.commons.lang3.tuple.Pair`","title":"Find the sum of values of an Employee and its Parent using stream","body":"<p>By computing only the value of the child and its first parent, you can do it with a simple filter on the list.</p>\n<pre><code>@Test\npublic void test() {\n    final Employee employee1 = new Employee(1, null, 4);\n    final Employee employee2 = new Employee(2, 1, 4);\n    final Employee employee3 = new Employee(3, null, 8);\n    final Employee employee4 = new Employee(4, 1, 3);\n    final Employee employee5 = new Employee(5, 2, 11);\n\n    final List&lt;Employee&gt; employees = List.of(employee1, employee2, employee3, employee4, employee5);\n    final List&lt;Pair&lt;Integer, Integer&gt;&gt; res = employees\n            .stream()\n            .map(emp -&gt; Pair.of(emp.id,\n                            emp.value + employees\n                                    .stream()\n                                    .filter(e -&gt; e.id.intValue() == Optional.ofNullable(emp.parentId).orElse(-1))\n                                    .findFirst().map(Employee::getValue)\n                                    .orElse(0)\n                    )\n            )\n            .collect(Collectors.toList());\n    res.forEach(System.out::println);\n}\n\npublic class Employee {\n    public Integer id;\n    public Integer parentId;\n    public int value;\n    public Employee(final Integer id, final Integer parentId, final int value) {\n        this.id = id;\n        this.parentId = parentId;\n        this.value = value;\n    }\n    public int getValue() {\n        return this.value;\n    }\n}\n</code></pre>\n<p>result :</p>\n<pre><code>(1,4)\n(2,8)\n(3,8)\n(4,7)\n(5,15)\n</code></pre>\n<p>NB: the object Pair I used comes from <code>org.apache.commons.lang3.tuple.Pair</code></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648319048,"creation_date":1648198868,"answer_id":71614365,"question_id":71613800,"body_markdown":"The most efficient way to achieve that is to create a ***map*** which will allow to retrieve the `value` of an `Employee` by its `id`.\r\n\r\nThen, in order to combine  the `value` of each `Employee` with its parent&#39;s `value`, use the *value* from the ***map*** or `0` if the *parent* is `null`.  \r\n\r\nMethod below generates a *map* with `id` used as a *key* and employee&#39;s `value` as a *value*.\r\n\r\n    public static Map&lt;Integer, Integer&gt; getEmplValueById(List&lt;Employee&gt; employees) {\r\n        return employees.stream()\r\n                .collect(Collectors.toMap(Employee::getId,\r\n                                          Employee::getValue));\r\n    }\r\n\r\nThe following method creates a *map* with `id` used as a *key* and the ***total value*** of an employee as a map&#39;s *value*.\r\n\r\n    public static Map&lt;Integer, Integer&gt; getEmplSumById(List&lt;Employee&gt; employees,\r\n                                                       Map&lt;Integer, Integer&gt; valueById) {\r\n        return employees.stream()\r\n                .collect(Collectors.toMap(Employee::getId,\r\n                            empl -&gt; empl.getValue() + \r\n                                    valueById.getOrDefault(empl.getParentId(), 0)));\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Employee&gt; employees = List.of(\r\n                new Employee(1, null, 4),\r\n                new Employee(2, 1, 4),\r\n                new Employee(3, null, 8),\r\n                new Employee(4, 1, 3),\r\n                new Employee(5, 2, 11));\r\n\r\n        Map&lt;Integer, Integer&gt; valueById = getEmplValueById(employees);\r\n\r\n        getEmplSumById(employees, valueById)\r\n             .forEach((k, v) -&gt; System.out.printf(&quot;ID %d \\t value %d\\n&quot;, k, v));\r\n    }\r\n\r\n**Output**\r\n```\r\nID 1 \t value 4\r\nID 2 \t value 8\r\nID 3 \t value 8\r\nID 4 \t value 7\r\nID 5 \t value 15\r\n```","title":"Find the sum of values of an Employee and its Parent using stream","body":"<p>The most efficient way to achieve that is to create a <em><strong>map</strong></em> which will allow to retrieve the <code>value</code> of an <code>Employee</code> by its <code>id</code>.</p>\n<p>Then, in order to combine  the <code>value</code> of each <code>Employee</code> with its parent's <code>value</code>, use the <em>value</em> from the <em><strong>map</strong></em> or <code>0</code> if the <em>parent</em> is <code>null</code>.</p>\n<p>Method below generates a <em>map</em> with <code>id</code> used as a <em>key</em> and employee's <code>value</code> as a <em>value</em>.</p>\n<pre><code>public static Map&lt;Integer, Integer&gt; getEmplValueById(List&lt;Employee&gt; employees) {\n    return employees.stream()\n            .collect(Collectors.toMap(Employee::getId,\n                                      Employee::getValue));\n}\n</code></pre>\n<p>The following method creates a <em>map</em> with <code>id</code> used as a <em>key</em> and the <em><strong>total value</strong></em> of an employee as a map's <em>value</em>.</p>\n<pre><code>public static Map&lt;Integer, Integer&gt; getEmplSumById(List&lt;Employee&gt; employees,\n                                                   Map&lt;Integer, Integer&gt; valueById) {\n    return employees.stream()\n            .collect(Collectors.toMap(Employee::getId,\n                        empl -&gt; empl.getValue() + \n                                valueById.getOrDefault(empl.getParentId(), 0)));\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Employee&gt; employees = List.of(\n            new Employee(1, null, 4),\n            new Employee(2, 1, 4),\n            new Employee(3, null, 8),\n            new Employee(4, 1, 3),\n            new Employee(5, 2, 11));\n\n    Map&lt;Integer, Integer&gt; valueById = getEmplValueById(employees);\n\n    getEmplSumById(employees, valueById)\n         .forEach((k, v) -&gt; System.out.printf(&quot;ID %d \\t value %d\\n&quot;, k, v));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>ID 1     value 4\nID 2     value 8\nID 3     value 8\nID 4     value 7\nID 5     value 15\n</code></pre>\n"}],"owner":{"account_id":1615706,"reputation":5192,"user_id":1493480,"accept_rate":73,"display_name":"Mistu4u"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71614365,"answer_count":2,"score":3,"last_activity_date":1648319048,"creation_date":1648195682,"question_id":71613800,"body_markdown":"Consider, I have the following class.\r\n\r\n    public class Employee {\r\n\r\n    private Integer id;\r\n    private Integer parentId;\r\n    private int value;\r\n    }\r\n\r\nNow I have the following records. \r\n\r\n        Employee employee1 = new Employee(1, null, 4);\r\n        Employee employee2 = new Employee(2, 1, 4);\r\n        Employee employee3 = new Employee(3, null, 8);\r\n        Employee employee4 = new Employee(4, 1, 3);\r\n        Employee employee5 = new Employee(5, 2, 11);\r\n\r\nSo the `parentId` is the `id` of an *employee* who is the boss of another *employee*. \r\n\r\nThe question is to find out the ***sum*** of the value of an *employee* and it&#39;s parent if it has any, or return the value as it is. So in this case, the result should be.\r\n\r\n|id |    value  |\r\n|---| ----------|\r\n|1  |    4      |\r\n|2  |    8      |\r\n|3  |    8      |\r\n|4  |    7      |\r\n|5  |    15     | \r\n\r\nHow to achieve this using java 8 streams? I have tried the following;\r\n\r\n      Optional&lt;Integer&gt; first = employees.stream().map(a -&gt; {\r\n                    int sum = 0;\r\n                    employees.stream().map(b -&gt; {\r\n                        if (Objects.equals(a.id, b.parentId)) {\r\n                            sum = sum + a.value + b.value;\r\n                        }else{\r\n                            sum  = sum + a.value;\r\n                        }\r\n                        return sum;\r\n                    });\r\n                    return sum;\r\n                }\r\n        ).findFirst();\r\n\r\nBut I am getting error with the sum variable that it should be final or effectively final.","title":"Find the sum of values of an Employee and its Parent using stream","body":"<p>Consider, I have the following class.</p>\n<pre><code>public class Employee {\n\nprivate Integer id;\nprivate Integer parentId;\nprivate int value;\n}\n</code></pre>\n<p>Now I have the following records.</p>\n<pre><code>    Employee employee1 = new Employee(1, null, 4);\n    Employee employee2 = new Employee(2, 1, 4);\n    Employee employee3 = new Employee(3, null, 8);\n    Employee employee4 = new Employee(4, 1, 3);\n    Employee employee5 = new Employee(5, 2, 11);\n</code></pre>\n<p>So the <code>parentId</code> is the <code>id</code> of an <em>employee</em> who is the boss of another <em>employee</em>.</p>\n<p>The question is to find out the <em><strong>sum</strong></em> of the value of an <em>employee</em> and it's parent if it has any, or return the value as it is. So in this case, the result should be.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>4</td>\n</tr>\n<tr>\n<td>2</td>\n<td>8</td>\n</tr>\n<tr>\n<td>3</td>\n<td>8</td>\n</tr>\n<tr>\n<td>4</td>\n<td>7</td>\n</tr>\n<tr>\n<td>5</td>\n<td>15</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>How to achieve this using java 8 streams? I have tried the following;</p>\n<pre><code>  Optional&lt;Integer&gt; first = employees.stream().map(a -&gt; {\n                int sum = 0;\n                employees.stream().map(b -&gt; {\n                    if (Objects.equals(a.id, b.parentId)) {\n                        sum = sum + a.value + b.value;\n                    }else{\n                        sum  = sum + a.value;\n                    }\n                    return sum;\n                });\n                return sum;\n            }\n    ).findFirst();\n</code></pre>\n<p>But I am getting error with the sum variable that it should be final or effectively final.</p>\n"},{"tags":["java","while-loop","operators"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1648309569,"post_id":71629487,"comment_id":126593986,"body_markdown":"You check `ssum` is less than 10, *then* you add `m` to it and print it. It&#39;s not the same value when you print it as when you checked it.","body":"You check <code>ssum</code> is less than 10, <i>then</i> you add <code>m</code> to it and print it. It&#39;s not the same value when you print it as when you checked it."}],"answers":[{"tags":[],"owner":{"account_id":7036011,"reputation":23,"user_id":5390096,"display_name":"Anup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648309598,"creation_date":1648309598,"answer_id":71629522,"question_id":71629487,"body_markdown":"the value of &#39;ssum&#39; is 10 when the while loop if condition is evaluated, which then gets changed to 15 inside the loop and printed as 15.","title":"Java &quot;&lt;=&quot; operator doenst give output, but &quot;&lt;&quot; does. What is the issue?","body":"<p>the value of 'ssum' is 10 when the while loop if condition is evaluated, which then gets changed to 15 inside the loop and printed as 15.</p>\n"}],"owner":{"account_id":24697817,"reputation":1,"user_id":18589531,"display_name":"27RedFox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1648318161,"creation_date":1648309318,"question_id":71629487,"body_markdown":"I&#39;m working on a while loop in Java, but the `&lt;=` operator isn&#39;t following the conditions, but the `&lt;` condition works fine. I don&#39;t understand what&#39;s the issue here.\r\n\r\n```java\r\nint m = 0;\r\nint ssum = 0;\r\n\r\nwhile (ssum &lt;= 10) \r\n{\r\n    m++;\r\n    ssum = ssum + m;\r\n    System.out.println(m + &quot;  &quot; + ssum + &quot;\\n&quot; );\r\n}\r\n```\r\n\r\nOutput for m and ssum with the `&lt;=` operator: (it should end when ssum is 10, but it goes on till 15)\r\n\r\n![output for m and ssum with `&lt;=` operator](https://i.stack.imgur.com/22SGu.png)\r\n\r\nOutput for m and ssum with `&lt;` operator:\r\n\r\n![output for m and ssum with `&lt;` operator](https://i.stack.imgur.com/HcxnJ.png)\r\n","title":"Java &quot;&lt;=&quot; operator doenst give output, but &quot;&lt;&quot; does. What is the issue?","body":"<p>I'm working on a while loop in Java, but the <code>&lt;=</code> operator isn't following the conditions, but the <code>&lt;</code> condition works fine. I don't understand what's the issue here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int m = 0;\nint ssum = 0;\n\nwhile (ssum &lt;= 10) \n{\n    m++;\n    ssum = ssum + m;\n    System.out.println(m + &quot;  &quot; + ssum + &quot;\\n&quot; );\n}\n</code></pre>\n<p>Output for m and ssum with the <code>&lt;=</code> operator: (it should end when ssum is 10, but it goes on till 15)</p>\n<p><img src=\"https://i.stack.imgur.com/22SGu.png\" alt=\"output for m and ssum with &lt;= operator\" /></p>\n<p>Output for m and ssum with <code>&lt;</code> operator:</p>\n<p><img src=\"https://i.stack.imgur.com/HcxnJ.png\" alt=\"output for m and ssum with &lt; operator\" /></p>\n"},{"tags":["java","gradle","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1648448017,"post_id":71630588,"comment_id":126616930,"body_markdown":"Is it TestNG? Here is a similar bug in IntelliJ: https://youtrack.jetbrains.com/issue/IDEA-221159","body":"Is it TestNG? Here is a similar bug in IntelliJ: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-221159\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-221159</a>"},{"owner":{"account_id":5585496,"reputation":78,"user_id":4425994,"display_name":"pcha"},"score":0,"creation_date":1648486950,"post_id":71630588,"comment_id":126630772,"body_markdown":"No, I&#39;m not using TestNg and I don&#39;t thin that it&#39;s a problem of IntelliJ because the github action does&#39;t work neither,","body":"No, I&#39;m not using TestNg and I don&#39;t thin that it&#39;s a problem of IntelliJ because the github action does&#39;t work neither,"},{"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"score":0,"creation_date":1663496018,"post_id":71630588,"comment_id":130249293,"body_markdown":"@pcha, Hi, have you found a solution? Thanks.","body":"@pcha, Hi, have you found a solution? Thanks."},{"owner":{"account_id":5585496,"reputation":78,"user_id":4425994,"display_name":"pcha"},"score":0,"creation_date":1663678881,"post_id":71630588,"comment_id":130292531,"body_markdown":"No, I didn&#39;t find the solution yet, I have the project stopped.","body":"No, I didn&#39;t find the solution yet, I have the project stopped."}],"owner":{"account_id":5585496,"reputation":78,"user_id":4425994,"display_name":"pcha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648317922,"creation_date":1648317922,"question_id":71630588,"body_markdown":"I&#39;m developing a custom language support plugin for IntelliJ following the [IntelliJ tutorial][1] (not strictly because I&#39;m adapting it to my language, but as strictly as possible). Now I&#39;m trying to write some tests but I can&#39;t even do a little POC because when I try to run the tests I see a message saying: &quot;Tests events were not received&quot;.\r\n[![Running tests on IntelliJ][2]][2]\r\n For developing my tests I&#39;m following the [IntelliJ guide][3] as well, and my test class is [BloblangParsingTest][4].\r\n\r\nMy code is visible on [GitHub][5] in the branch add-tests. I also added a [github action to run the tests][6] and I&#39;m getting the same result (the message mentioned above seems to be given by IntelliJ, but the console outputs are the same).\r\n[![GitHub action output][7]][7]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/docs/intellij/custom-language-support-tutorial.html\r\n  [2]: https://i.stack.imgur.com/rBAp3.png\r\n  [3]: https://plugins.jetbrains.com/docs/intellij/parsing-test.html\r\n  [4]: https://github.com/pcha/intellij-bloblang-support/blob/add-tests/src/test/java/org/pcha/benthos/language/BloblangParsingTest.java\r\n  [5]: https://github.com/pcha/intellij-bloblang-support/tree/add-tests\r\n  [6]: https://github.com/pcha/intellij-bloblang-support/runs/5703126255?check_suite_focus=true\r\n  [7]: https://i.stack.imgur.com/1jeLn.png","title":"Gradle &quot;test&quot; task returns &quot;Test events were not received&quot;","body":"<p>I'm developing a custom language support plugin for IntelliJ following the <a href=\"https://plugins.jetbrains.com/docs/intellij/custom-language-support-tutorial.html\" rel=\"nofollow noreferrer\">IntelliJ tutorial</a> (not strictly because I'm adapting it to my language, but as strictly as possible). Now I'm trying to write some tests but I can't even do a little POC because when I try to run the tests I see a message saying: &quot;Tests events were not received&quot;.\n<a href=\"https://i.stack.imgur.com/rBAp3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rBAp3.png\" alt=\"Running tests on IntelliJ\" /></a>\nFor developing my tests I'm following the <a href=\"https://plugins.jetbrains.com/docs/intellij/parsing-test.html\" rel=\"nofollow noreferrer\">IntelliJ guide</a> as well, and my test class is <a href=\"https://github.com/pcha/intellij-bloblang-support/blob/add-tests/src/test/java/org/pcha/benthos/language/BloblangParsingTest.java\" rel=\"nofollow noreferrer\">BloblangParsingTest</a>.</p>\n<p>My code is visible on <a href=\"https://github.com/pcha/intellij-bloblang-support/tree/add-tests\" rel=\"nofollow noreferrer\">GitHub</a> in the branch add-tests. I also added a <a href=\"https://github.com/pcha/intellij-bloblang-support/runs/5703126255?check_suite_focus=true\" rel=\"nofollow noreferrer\">github action to run the tests</a> and I'm getting the same result (the message mentioned above seems to be given by IntelliJ, but the console outputs are the same).\n<a href=\"https://i.stack.imgur.com/1jeLn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1jeLn.png\" alt=\"GitHub action output\" /></a></p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":1487089,"reputation":1546,"user_id":1395089,"display_name":"porfiriopartida"},"score":1,"creation_date":1380444558,"post_id":19076088,"comment_id":28198175,"body_markdown":"Try to read about java conventions.. Classes and Interfaces are capital and variables are not. It is easier to read the code.","body":"Try to read about java conventions.. Classes and Interfaces are capital and variables are not. It is easier to read the code."},{"owner":{"account_id":3366996,"reputation":3203,"user_id":2827314,"accept_rate":97,"display_name":"George Newton"},"score":0,"creation_date":1380444813,"post_id":19076088,"comment_id":28198234,"body_markdown":"Sorry, I forgot to capitalize the names. Will do now.","body":"Sorry, I forgot to capitalize the names. Will do now."}],"answers":[{"tags":[],"owner":{"account_id":22375,"reputation":30017,"user_id":55093,"accept_rate":99,"display_name":"Amokrane Chentir"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1380444504,"creation_date":1380444504,"answer_id":19076111,"question_id":19076088,"body_markdown":"*party* is a private instance attribute, you need to write a public getter to access it. \r\nAlso, you should be *implementing* your interface instead of *extending* it.\r\n\r\nAnd I recommend starting your class and interface names with a capital letter, this is a general naming convention in Java. The variables, on the other hand, should not start with a capital letter. I recommend you to read the [Code Convention for the Java Programming Language][1].\r\n\r\n    public class Citizen implements Person {\r\n         public String getParty() {\r\n             return party;\r\n         }    \r\n    }\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/codeconv-138413.html","title":"Accessing subclass variables via interface","body":"<p><em>party</em> is a private instance attribute, you need to write a public getter to access it. \nAlso, you should be <em>implementing</em> your interface instead of <em>extending</em> it.</p>\n\n<p>And I recommend starting your class and interface names with a capital letter, this is a general naming convention in Java. The variables, on the other hand, should not start with a capital letter. I recommend you to read the <a href=\"http://www.oracle.com/technetwork/java/codeconv-138413.html\" rel=\"nofollow\">Code Convention for the Java Programming Language</a>.</p>\n\n<pre><code>public class Citizen implements Person {\n     public String getParty() {\n         return party;\n     }    \n}\n</code></pre>\n"}],"owner":{"account_id":3366996,"reputation":3203,"user_id":2827314,"accept_rate":97,"display_name":"George Newton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19076111,"answer_count":1,"score":0,"last_activity_date":1648317151,"creation_date":1380444266,"question_id":19076088,"body_markdown":"I have the following Java code:\r\n\r\n    public interface Person {\r\n        int eat (String food);\r\n        int sleep (int time);\r\n        boolean doStuff (person partner);\r\n    }\r\n    \r\n    public class Citizen implements Person {\r\n        private int passion;\r\n        private int morality;\r\n        private String party;\r\n        public citizen () {\r\n            passion = 0;\r\n            morality = 100;\r\n            party = &quot;Democrat&quot;;\r\n        }\r\n        public boolean doStuff (person partner) {\r\n            passion += 10;\r\n            morality -= 10;\r\n            return true;\r\n        }\r\n        ... rest of implementation methods\r\n    }\r\n\r\nAnd in the main method, I have these lines:\r\n\r\n     Person Jon = new Citizen();\r\n     System.out.println(Jon.party);\r\n\r\nThe second line fails. I am unable to access a subclass&#39;s variables via an interface. Why is this? We can do this just fine with methods:\r\n\r\n     Person Jon = new Citizen();\r\n     Person Romney = new Citizen();\r\n     System.out.println(Jon.doStuff(Romney));\r\n\r\nThe above three lines work just fine - in other words, the methods of the interface are dynamic. Why is it not the same with variables, and is there a way around this?\r\n","title":"Accessing subclass variables via interface","body":"<p>I have the following Java code:</p>\n<pre><code>public interface Person {\n    int eat (String food);\n    int sleep (int time);\n    boolean doStuff (person partner);\n}\n\npublic class Citizen implements Person {\n    private int passion;\n    private int morality;\n    private String party;\n    public citizen () {\n        passion = 0;\n        morality = 100;\n        party = &quot;Democrat&quot;;\n    }\n    public boolean doStuff (person partner) {\n        passion += 10;\n        morality -= 10;\n        return true;\n    }\n    ... rest of implementation methods\n}\n</code></pre>\n<p>And in the main method, I have these lines:</p>\n<pre><code> Person Jon = new Citizen();\n System.out.println(Jon.party);\n</code></pre>\n<p>The second line fails. I am unable to access a subclass's variables via an interface. Why is this? We can do this just fine with methods:</p>\n<pre><code> Person Jon = new Citizen();\n Person Romney = new Citizen();\n System.out.println(Jon.doStuff(Romney));\n</code></pre>\n<p>The above three lines work just fine - in other words, the methods of the interface are dynamic. Why is it not the same with variables, and is there a way around this?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1648242213,"post_id":71623013,"comment_id":126583528,"body_markdown":"In most cases ALL UI related code should run on the Event Dispatching Thread. Your initialisation code should then be run in a separate different thread instead","body":"In most cases ALL UI related code should run on the Event Dispatching Thread. Your initialisation code should then be run in a separate different thread instead"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648244692,"post_id":71623013,"comment_id":126584188,"body_markdown":"For [example](https://stackoverflow.com/questions/14802662/splash-screen-progress-bar-not-drawing/14803941#14803941); [example](https://stackoverflow.com/questions/69275599/jframe-splash-screen-wont-display-an-image/69276856#69276856)","body":"For <a href=\"https://stackoverflow.com/questions/14802662/splash-screen-progress-bar-not-drawing/14803941#14803941\">example</a>; <a href=\"https://stackoverflow.com/questions/69275599/jframe-splash-screen-wont-display-an-image/69276856#69276856\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648307677,"creation_date":1648307677,"answer_id":71629270,"question_id":71623013,"body_markdown":"You might consider saving yourself writing code for splash screen by using the default Java splash screen parameter. Just add `-splash:/somepathto/splash.jpg` to your [java command line][1] and the [splash screen][2] will be presented at JVM startup.\r\n\r\nYour application can cancel the default splash screen at an appropriate moment by inserting a call to:\r\n\r\n    /**\r\n     * Closes splash screen if JVM startup parameter used:\r\n     *    JAVA.EXE -splash:&quot;/somepath/splash.jpg&quot; ...\r\n     */\r\n    public static void closeSplash() {\r\n        SplashScreen ss = SplashScreen.getSplashScreen();\r\n        if (ss != null) {\r\n            ss.close();\r\n        }\r\n    }\r\n\r\nIf you don&#39;t cancel the splashscreen, it will linger in the background until JVM exits.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/specs/man/java.html\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/SplashScreen.html","title":"Unable to terminate a thread","body":"<p>You might consider saving yourself writing code for splash screen by using the default Java splash screen parameter. Just add <code>-splash:/somepathto/splash.jpg</code> to your <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">java command line</a> and the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/SplashScreen.html\" rel=\"nofollow noreferrer\">splash screen</a> will be presented at JVM startup.</p>\n<p>Your application can cancel the default splash screen at an appropriate moment by inserting a call to:</p>\n<pre><code>/**\n * Closes splash screen if JVM startup parameter used:\n *    JAVA.EXE -splash:&quot;/somepath/splash.jpg&quot; ...\n */\npublic static void closeSplash() {\n    SplashScreen ss = SplashScreen.getSplashScreen();\n    if (ss != null) {\n        ss.close();\n    }\n}\n</code></pre>\n<p>If you don't cancel the splashscreen, it will linger in the background until JVM exits.</p>\n"},{"tags":[],"owner":{"account_id":1323683,"reputation":181,"user_id":1268971,"display_name":"Tom Magaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648317144,"creation_date":1648317144,"answer_id":71630497,"question_id":71623013,"body_markdown":"The post by DuncG is the solution I went with.  It&#39;s clean and easy to implement.","title":"Unable to terminate a thread","body":"<p>The post by DuncG is the solution I went with.  It's clean and easy to implement.</p>\n"}],"owner":{"account_id":1323683,"reputation":181,"user_id":1268971,"display_name":"Tom Magaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648317144,"creation_date":1648241753,"question_id":71623013,"body_markdown":"I am trying to present a splash screen during application initialization in a new thread so that processing can continue in the main thread.  The screen is presented but the thread does not stop when told to terminate by the main thread.  I have tried using a volatile boolean flag and the interrupt() method, neither of which stops the thread.\r\n\r\nHere&#39;s what I have so far:\r\n\r\nMain thread\r\n```\r\n        startScreen = new StartScreen(&quot;Loading Resume Builder&quot;);\r\n        Thread splashThread = new Thread(startScreen);\r\n        \r\n        splashThread.start();\r\n        \r\n        loadDB();\r\n        splashThread.interrupt();\r\n```\r\n\r\nnew thread\r\n```\r\npublic class StartScreen extends JFrame\r\n        implements Runnable {\r\n    \r\n    private static volatile boolean exit;\r\n\r\n    /**\r\n     * Creates new form StartScreen\r\n     *\r\n     * @param status\r\n     * @throws java.io.IOException\r\n     */\r\n    public StartScreen(String status) throws IOException {\r\n        initComponents();\r\n        setupFrame(status);\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        imageLabel = new javax.swing.JLabel();\r\n        statusLabel = new javax.swing.JLabel();\r\n\r\n        setAlwaysOnTop(true);\r\n        setMaximumSize(new java.awt.Dimension(400, 300));\r\n        setMinimumSize(new java.awt.Dimension(400, 300));\r\n        setPreferredSize(new java.awt.Dimension(640, 371));\r\n\r\n        statusLabel.setName(&quot;&quot;); // NOI18N\r\n        statusLabel.setOpaque(true);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(statusLabel)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n            .addComponent(imageLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                .addComponent(imageLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 369, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addComponent(statusLabel)\r\n                .addGap(16, 16, 16))\r\n        );\r\n\r\n        imageLabel.getAccessibleContext().setAccessibleName(&quot;&quot;);\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void setupFrame(String status) throws IOException {\r\n        setUndecorated(true);\r\n        setLocationRelativeTo(null);\r\n        \r\n        ImageIcon imageIcon = new ImageIcon(&quot;E:\\\\Users\\\\flash\\\\Documents\\\\&quot;\r\n                + &quot;NetBeansProjects\\\\ResumeBuilder\\\\&quot;\r\n                + &quot;career-g5c3a164de_640.jpg&quot;);\r\n        imageLabel.setIcon(imageIcon);\r\n        imageLabel.setOpaque(false);\r\n        imageLabel.setSize(new Dimension(395, 250));\r\n        \r\n        this.getContentPane().add(imageLabel);\r\n        \r\n        setStatus(status);\r\n        statusLabel.setLocation(new Point(10, 275));\r\n        this.add(statusLabel);\r\n        \r\n        setVisible(true);\r\n    }\r\n    \r\n    public void setStatus(String status) {\r\n        statusLabel.setText(status);\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JLabel imageLabel;\r\n    private javax.swing.JLabel statusLabel;\r\n    // End of variables declaration                   \r\n\r\n    @Override\r\n    public synchronized void run() {\r\n        if (!Thread.currentThread().isInterrupted()) {\r\n            \r\n        } else {\r\n            setVisible(false);\r\n            repaint();\r\n        }\r\n    }\r\n    \r\n    public static void close() {\r\n        exit = true;\r\n    }\r\n}\r\n```","title":"Unable to terminate a thread","body":"<p>I am trying to present a splash screen during application initialization in a new thread so that processing can continue in the main thread.  The screen is presented but the thread does not stop when told to terminate by the main thread.  I have tried using a volatile boolean flag and the interrupt() method, neither of which stops the thread.</p>\n<p>Here's what I have so far:</p>\n<p>Main thread</p>\n<pre><code>        startScreen = new StartScreen(&quot;Loading Resume Builder&quot;);\n        Thread splashThread = new Thread(startScreen);\n        \n        splashThread.start();\n        \n        loadDB();\n        splashThread.interrupt();\n</code></pre>\n<p>new thread</p>\n<pre><code>public class StartScreen extends JFrame\n        implements Runnable {\n    \n    private static volatile boolean exit;\n\n    /**\n     * Creates new form StartScreen\n     *\n     * @param status\n     * @throws java.io.IOException\n     */\n    public StartScreen(String status) throws IOException {\n        initComponents();\n        setupFrame(status);\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        imageLabel = new javax.swing.JLabel();\n        statusLabel = new javax.swing.JLabel();\n\n        setAlwaysOnTop(true);\n        setMaximumSize(new java.awt.Dimension(400, 300));\n        setMinimumSize(new java.awt.Dimension(400, 300));\n        setPreferredSize(new java.awt.Dimension(640, 371));\n\n        statusLabel.setName(&quot;&quot;); // NOI18N\n        statusLabel.setOpaque(true);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(statusLabel)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n            .addComponent(imageLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addComponent(imageLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 369, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(statusLabel)\n                .addGap(16, 16, 16))\n        );\n\n        imageLabel.getAccessibleContext().setAccessibleName(&quot;&quot;);\n    }// &lt;/editor-fold&gt;                        \n\n    private void setupFrame(String status) throws IOException {\n        setUndecorated(true);\n        setLocationRelativeTo(null);\n        \n        ImageIcon imageIcon = new ImageIcon(&quot;E:\\\\Users\\\\flash\\\\Documents\\\\&quot;\n                + &quot;NetBeansProjects\\\\ResumeBuilder\\\\&quot;\n                + &quot;career-g5c3a164de_640.jpg&quot;);\n        imageLabel.setIcon(imageIcon);\n        imageLabel.setOpaque(false);\n        imageLabel.setSize(new Dimension(395, 250));\n        \n        this.getContentPane().add(imageLabel);\n        \n        setStatus(status);\n        statusLabel.setLocation(new Point(10, 275));\n        this.add(statusLabel);\n        \n        setVisible(true);\n    }\n    \n    public void setStatus(String status) {\n        statusLabel.setText(status);\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JLabel imageLabel;\n    private javax.swing.JLabel statusLabel;\n    // End of variables declaration                   \n\n    @Override\n    public synchronized void run() {\n        if (!Thread.currentThread().isInterrupted()) {\n            \n        } else {\n            setVisible(false);\n            repaint();\n        }\n    }\n    \n    public static void close() {\n        exit = true;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648317127,"creation_date":1648317127,"answer_id":71630496,"question_id":71630462,"body_markdown":"You can use `@Embedded` and `@Embeddable`:\r\n\r\n```java\r\n@Entity\r\nclass Employee {\r\n    @Id\r\n    private int empId;\r\n    @Embedded // Add this\r\n    private Experience experience;\r\n}\r\n\r\n@Embeddable // Add this\r\nclass Experience {\r\n    private Integer experienceInMonth;\r\n    private Integer experienceInYears; \r\n}\r\n```","title":"How to represent one to one mapped class as columns in another class","body":"<p>You can use <code>@Embedded</code> and <code>@Embeddable</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Employee {\n    @Id\n    private int empId;\n    @Embedded // Add this\n    private Experience experience;\n}\n\n@Embeddable // Add this\nclass Experience {\n    private Integer experienceInMonth;\n    private Integer experienceInYears; \n}\n</code></pre>\n"}],"owner":{"account_id":13542573,"reputation":50,"user_id":9769888,"display_name":"notFound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648317127,"creation_date":1648316852,"question_id":71630462,"body_markdown":"Suppose there is an Employee and Experience class \r\n```\r\n@Entity\r\nclass Employee {\r\n    @Id\r\n    private int empId;\r\n    private Experience experience;\r\n}\r\n```\r\n```\r\nclass Experience {\r\n    private Integer experienceInMonth;\r\n    private Integer experienceInYears; \r\n}\r\n```\r\nEven though Experience is not Entity , I want to add its properties (experienceInMonth, experienceInYears) as column in Employee table . I do not wish wish to create Experience as a seperate Table but want to use its viarable as column. \r\n\r\nEmployee tabe conatin following fields - empId, experienceInMonth, experienceInYears","title":"How to represent one to one mapped class as columns in another class","body":"<p>Suppose there is an Employee and Experience class</p>\n<pre><code>@Entity\nclass Employee {\n    @Id\n    private int empId;\n    private Experience experience;\n}\n</code></pre>\n<pre><code>class Experience {\n    private Integer experienceInMonth;\n    private Integer experienceInYears; \n}\n</code></pre>\n<p>Even though Experience is not Entity , I want to add its properties (experienceInMonth, experienceInYears) as column in Employee table . I do not wish wish to create Experience as a seperate Table but want to use its viarable as column.</p>\n<p>Employee tabe conatin following fields - empId, experienceInMonth, experienceInYears</p>\n"},{"tags":["java","regex","perl"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1314993959,"creation_date":1314993475,"answer_id":7288638,"question_id":7288613,"body_markdown":"The Perl equivalent of:\r\n\r\n    /pattern/i\r\n\r\nin Java would be:\r\n\r\n    Pattern p = Pattern.compile(&quot;(?i)pattern&quot;);\r\n\r\nOr simply do:\r\n\r\n    System.out.println(&quot;PattErn&quot;.matches(&quot;(?i)pattern&quot;));\r\n\r\nNote that `&quot;string&quot;.matches(&quot;pattern&quot;)` validates the pattern against the _entire_ input string. In other words, the following would return false:\r\n\r\n    &quot;foo pattern bar&quot;.matches(&quot;pattern&quot;)\r\n","title":"How do I translate this Perl regular expression into Java?","body":"<p>The Perl equivalent of:</p>\n\n<pre><code>/pattern/i\n</code></pre>\n\n<p>in Java would be:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(?i)pattern\");\n</code></pre>\n\n<p>Or simply do:</p>\n\n<pre><code>System.out.println(\"PattErn\".matches(\"(?i)pattern\"));\n</code></pre>\n\n<p>Note that <code>\"string\".matches(\"pattern\")</code> validates the pattern against the <em>entire</em> input string. In other words, the following would return false:</p>\n\n<pre><code>\"foo pattern bar\".matches(\"pattern\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":403973,"reputation":140174,"user_id":772035,"accept_rate":95,"display_name":"Paul"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1314993508,"creation_date":1314993508,"answer_id":7288645,"question_id":7288613,"body_markdown":"Java regex do not have delimiters, and use a separate argument for modifies:\r\n\r\n     Pattern p = Pattern.compile(&quot;pattern&quot;, Pattern.CASE_INSENSITIVE);","title":"How do I translate this Perl regular expression into Java?","body":"<p>Java regex do not have delimiters, and use a separate argument for modifies:</p>\n\n<pre><code> Pattern p = Pattern.compile(\"pattern\", Pattern.CASE_INSENSITIVE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1648317006,"creation_date":1314995221,"answer_id":7288881,"question_id":7288613,"body_markdown":"&gt; How would you translate this Perl regex into Java?\r\n&gt;\r\n&gt;     /pattern/i\r\n\r\nYou can&#39;t.\r\n\r\nThere are a lot of reasons for this.  Here are a few:\r\n\r\n* Java doesn&#39;t support as expressive a regex language as Perl does.  It lacks grapheme support (like `\\X)` and full property support (like `\\p{Sentence_Break=SContinue}`), is missing Unicode named characters, doesn&#39;t have a `(?|...|...|)` branch reset operator, doesnt have named capture groups or a logical `\\x{...}` escape before Java 7, has no recursive regexes, etc etc etc. I could write a book on what Java is missing here: Get used to going back to a **very** primitive and awkward to use regex engine compared with what youre used to.\r\n\r\n*  Another even worse problem is because you have lookalike *faux amis* like `\\w` and and `\\b` and `\\s`, and even `\\p{alpha}` and `\\p{lower}`, which behave differently in Java compared with Perl; in some cases the Java versions are completely unusable and buggy.  Thats because Perl follows [UTS#18](http://unicode.org/reports/tr18/) but before Java 7, Java did not.  You **must** add the `UNICODE_CHARACTER_CLASSES` flag from Java 7 to get these to stop being broken. If you cant use Java 7, give up now, because Java had many many many other Unicode bugs before Java 7 and it just isnt worth the pain of dealing with them.\r\n\r\n* Java handles linebreaks via `^` and `$` and `.`, but Perl expects Unicode linebreaks to be `\\R`. You should look at `UNIX_LINES` to understand what is going on there. \r\n\r\n* Java does not by default apply any Unicode casefolding whatsoever. Make sure to add the `UNICODE_CASE` flag to your compilation.  Otherwise you wont get things like the various Greek sigmas all matching one another.\r\n\r\n* Finally, it is different because *at best* Java only does simple casefolding, while Perl always does full casefolding. That means that you wont get `\\xDF` to match &quot;SS&quot; case insensitively in Java, and similar related issues.\r\n\r\nIn summary, the closest you can get is to compile with the flags \r\n\r\n     CASE_INSENSITIVE | UNICODE_CASE | UNICODE_CHARACTER_CLASSES\r\n\r\nwhich is equivalent to an embedded `&quot;(?iuU)&quot;` in the pattern string.  \r\n\r\nAnd remember that match in Java doesnt mean match, perversely enough.\r\n\r\n------\r\n\r\nEDIT\r\n=====\r\n\r\nAnd heres the rest of the story...\r\n\r\n&gt; While compiles, it does not match &quot;PattErn&quot; for me, it fails\r\n&gt;\r\n&gt;        Pattern p = Pattern.compile(&quot;/pattern/i&quot;);\r\n&gt;        Matcher m = p.matcher(&quot;PattErn&quot;);\r\n&gt;        System.out.println(m.matches()); // prints &quot;false&quot;\r\n\r\nYou shouldnt have slashes around the pattern.\r\n\r\nThe best you can do is to translate\r\n\r\n    $line = &quot;I have your PaTTerN right here&quot;;\r\n    if ($line =~ /pattern/i) {\r\n        print &quot;matched.\\n&quot;;\r\n    }\r\n \r\nthis way\r\n\r\n    import java.util.regex.*;\r\n    \r\n    String line     = &quot;I have your PaTTerN right here&quot;;\r\n    String pattern  = &quot;pattern&quot;;      \r\n    Pattern regcomp = Pattern.compile(pattern, CASE_INSENSITIVE\r\n                                            | UNICODE_CASE\r\n                    // comment next line out for legacy Java \\b\\w\\s breakage \r\n                                            | UNICODE_CHARACTER_CLASSES  \r\n                                    );    \r\n    Matcher regexec = regcomp.matcher(line);    \r\n    if (regexec.find()) {\r\n        System.out.println(&quot;matched&quot;);\r\n    } \r\n\r\nThere, see how much easier that isnt? :)","title":"How do I translate this Perl regular expression into Java?","body":"<blockquote>\n<p>How would you translate this Perl regex into Java?</p>\n<pre><code>/pattern/i\n</code></pre>\n</blockquote>\n<p>You can't.</p>\n<p>There are a lot of reasons for this.  Here are a few:</p>\n<ul>\n<li><p>Java doesn't support as expressive a regex language as Perl does.  It lacks grapheme support (like <code>\\X)</code> and full property support (like <code>\\p{Sentence_Break=SContinue}</code>), is missing Unicode named characters, doesn't have a <code>(?|...|...|)</code> branch reset operator, doesnt have named capture groups or a logical <code>\\x{...}</code> escape before Java 7, has no recursive regexes, etc etc etc. I could write a book on what Java is missing here: Get used to going back to a <strong>very</strong> primitive and awkward to use regex engine compared with what youre used to.</p>\n</li>\n<li><p>Another even worse problem is because you have lookalike <em>faux amis</em> like <code>\\w</code> and and <code>\\b</code> and <code>\\s</code>, and even <code>\\p{alpha}</code> and <code>\\p{lower}</code>, which behave differently in Java compared with Perl; in some cases the Java versions are completely unusable and buggy.  Thats because Perl follows <a href=\"http://unicode.org/reports/tr18/\" rel=\"nofollow noreferrer\">UTS#18</a> but before Java 7, Java did not.  You <strong>must</strong> add the <code>UNICODE_CHARACTER_CLASSES</code> flag from Java 7 to get these to stop being broken. If you cant use Java 7, give up now, because Java had many many many other Unicode bugs before Java 7 and it just isnt worth the pain of dealing with them.</p>\n</li>\n<li><p>Java handles linebreaks via <code>^</code> and <code>$</code> and <code>.</code>, but Perl expects Unicode linebreaks to be <code>\\R</code>. You should look at <code>UNIX_LINES</code> to understand what is going on there.</p>\n</li>\n<li><p>Java does not by default apply any Unicode casefolding whatsoever. Make sure to add the <code>UNICODE_CASE</code> flag to your compilation.  Otherwise you wont get things like the various Greek sigmas all matching one another.</p>\n</li>\n<li><p>Finally, it is different because <em>at best</em> Java only does simple casefolding, while Perl always does full casefolding. That means that you wont get <code>\\xDF</code> to match &quot;SS&quot; case insensitively in Java, and similar related issues.</p>\n</li>\n</ul>\n<p>In summary, the closest you can get is to compile with the flags</p>\n<pre><code> CASE_INSENSITIVE | UNICODE_CASE | UNICODE_CHARACTER_CLASSES\n</code></pre>\n<p>which is equivalent to an embedded <code>&quot;(?iuU)&quot;</code> in the pattern string.</p>\n<p>And remember that match in Java doesnt mean match, perversely enough.</p>\n<hr />\n<h1>EDIT</h1>\n<p>And heres the rest of the story...</p>\n<blockquote>\n<p>While compiles, it does not match &quot;PattErn&quot; for me, it fails</p>\n<pre><code>   Pattern p = Pattern.compile(&quot;/pattern/i&quot;);\n   Matcher m = p.matcher(&quot;PattErn&quot;);\n   System.out.println(m.matches()); // prints &quot;false&quot;\n</code></pre>\n</blockquote>\n<p>You shouldnt have slashes around the pattern.</p>\n<p>The best you can do is to translate</p>\n<pre><code>$line = &quot;I have your PaTTerN right here&quot;;\nif ($line =~ /pattern/i) {\n    print &quot;matched.\\n&quot;;\n}\n</code></pre>\n<p>this way</p>\n<pre><code>import java.util.regex.*;\n\nString line     = &quot;I have your PaTTerN right here&quot;;\nString pattern  = &quot;pattern&quot;;      \nPattern regcomp = Pattern.compile(pattern, CASE_INSENSITIVE\n                                        | UNICODE_CASE\n                // comment next line out for legacy Java \\b\\w\\s breakage \n                                        | UNICODE_CHARACTER_CLASSES  \n                                );    \nMatcher regexec = regcomp.matcher(line);    \nif (regexec.find()) {\n    System.out.println(&quot;matched&quot;);\n} \n</code></pre>\n<p>There, see how much easier that isnt? :)</p>\n"}],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1847,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7288881,"answer_count":3,"score":5,"last_activity_date":1648317006,"creation_date":1314993322,"question_id":7288613,"body_markdown":"How would you translate this Perl regex into Java?\r\n\r\n    /pattern/i\r\n\r\nWhile compiles, it does not match &quot;PattErn&quot; for me, it fails\r\n\r\n\tPattern p = Pattern.compile(&quot;/pattern/i&quot;);\r\n\tMatcher m = p.matcher(&quot;PattErn&quot;);\r\n\r\n\tSystem.out.println(m.matches()); // prints &quot;false&quot;","title":"How do I translate this Perl regular expression into Java?","body":"<p>How would you translate this Perl regex into Java?</p>\n\n<pre><code>/pattern/i\n</code></pre>\n\n<p>While compiles, it does not match \"PattErn\" for me, it fails</p>\n\n<pre><code>Pattern p = Pattern.compile(\"/pattern/i\");\nMatcher m = p.matcher(\"PattErn\");\n\nSystem.out.println(m.matches()); // prints \"false\"\n</code></pre>\n"},{"tags":["java","swing","event-handling","awt"],"comments":[{"owner":{"account_id":2684759,"reputation":3106,"user_id":2319378,"display_name":"LionC"},"score":1,"creation_date":1367003720,"post_id":16243597,"comment_id":30104389,"body_markdown":"Your answer might be this post: http://stackoverflow.com/a/2553401/2319378","body":"Your answer might be this post: <a href=\"http://stackoverflow.com/a/2553401/2319378\">stackoverflow.com/a/2553401/2319378</a>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1367006246,"creation_date":1367004788,"answer_id":16243904,"question_id":16243597,"body_markdown":"&gt;  Every time the user clicks one of the spinner button (up or down), I want the result to update automatically.\r\n\r\nAdd a `DocumentListener` to the `Document` of the text field that is being used as the editor of the spinner.\r\n\r\nEdit:\r\n\r\n    JSpinner.DefaultEditor editor = (JSpinner.DefaultEditor)number.getEditor();\r\n    JTextField textField = editor.getTextField();\r\n    textField.getDocument().addDocumentListener( new DocumentListener()\r\n    {\r\n    \tpublic void insertUpdate(DocumentEvent e)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;insert&quot;);\r\n    \t}\r\n    \r\n    \tpublic void removeUpdate(DocumentEvent e)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;remove&quot;);\r\n    \t}\r\n    \r\n    \tpublic void changedUpdate(DocumentEvent e) {}\r\n    });\r\n\r\n","title":"JSpinner ActionListener alternative","body":"<blockquote>\n  <p>Every time the user clicks one of the spinner button (up or down), I want the result to update automatically.</p>\n</blockquote>\n\n<p>Add a <code>DocumentListener</code> to the <code>Document</code> of the text field that is being used as the editor of the spinner.</p>\n\n<p>Edit:</p>\n\n<pre><code>JSpinner.DefaultEditor editor = (JSpinner.DefaultEditor)number.getEditor();\nJTextField textField = editor.getTextField();\ntextField.getDocument().addDocumentListener( new DocumentListener()\n{\n    public void insertUpdate(DocumentEvent e)\n    {\n        System.out.println(\"insert\");\n    }\n\n    public void removeUpdate(DocumentEvent e)\n    {\n        System.out.println(\"remove\");\n    }\n\n    public void changedUpdate(DocumentEvent e) {}\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1385368060,"creation_date":1367005263,"answer_id":16244024,"question_id":16243597,"body_markdown":"You could add a [`ChangeListener`](http://docs.oracle.com/javase/7/docs/api/javax/swing/event/ChangeListener.html) to the spinner. This will be triggered by the button presses (or a direct edit of the field).\r\n\r\n    spinner.addChangeListener(new ChangeListener() {      \r\n      @Override\r\n      public void stateChanged(ChangeEvent e) {\r\n        // handle click\r\n      }\r\n    });","title":"JSpinner ActionListener alternative","body":"<p>You could add a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/event/ChangeListener.html\" rel=\"noreferrer\"><code>ChangeListener</code></a> to the spinner. This will be triggered by the button presses (or a direct edit of the field).</p>\n\n<pre><code>spinner.addChangeListener(new ChangeListener() {      \n  @Override\n  public void stateChanged(ChangeEvent e) {\n    // handle click\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6400541,"reputation":327,"user_id":4963374,"display_name":"David Rochin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648316261,"creation_date":1647968806,"answer_id":71576162,"question_id":16243597,"body_markdown":"This is the only way I&#39;ve found:\r\n\r\n    for (Component c : mySpinner.getComponents()) {\r\n        if (c instanceof JButton) {\r\n            ((JButton) c).addActionListener(...);\r\n        }\r\n        if (c instanceof JSpinner.DefaultEditor) {\r\n            ((JSpinner.DefaultEditor) c).getTextField().addActionListener(...);\r\n        }\r\n    }","title":"JSpinner ActionListener alternative","body":"<p>This is the only way I've found:</p>\n<pre><code>for (Component c : mySpinner.getComponents()) {\n    if (c instanceof JButton) {\n        ((JButton) c).addActionListener(...);\n    }\n    if (c instanceof JSpinner.DefaultEditor) {\n        ((JSpinner.DefaultEditor) c).getTextField().addActionListener(...);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2602914,"reputation":811,"user_id":2274782,"accept_rate":83,"display_name":"cvbattum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8173,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":16244024,"answer_count":3,"score":8,"last_activity_date":1648316261,"creation_date":1367003405,"question_id":16243597,"body_markdown":"In my program, I want to use a JSpinner for a number. This number will later be used to calculate something. Every time the user clicks one of the spinner buttons (up or down), I want the result to update automatically. Since you can&#39;t add an ActionListener to a JSpinner (which I think is really weird), I am asking here how to do something similar to this (I already have an ActionListener ready for this, which can be changed in any other listener of course).","title":"JSpinner ActionListener alternative","body":"<p>In my program, I want to use a JSpinner for a number. This number will later be used to calculate something. Every time the user clicks one of the spinner buttons (up or down), I want the result to update automatically. Since you can't add an ActionListener to a JSpinner (which I think is really weird), I am asking here how to do something similar to this (I already have an ActionListener ready for this, which can be changed in any other listener of course).</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","spring-jdbc"],"comments":[{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":1,"creation_date":1647829398,"post_id":70683551,"comment_id":126461809,"body_markdown":"From those docs it looks like the DataFrameReader makes the connection itself. It looks like you invoke the .jdbc() method on DataFrameReader and pass it those properties you defined above in the form of a Java Properties table.","body":"From those docs it looks like the DataFrameReader makes the connection itself. It looks like you invoke the .jdbc() method on DataFrameReader and pass it those properties you defined above in the form of a Java Properties table."}],"answers":[{"tags":[],"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648315891,"creation_date":1648315891,"answer_id":71630330,"question_id":70683551,"body_markdown":"As already noted in the comments and from a quick look at the source code [here][1], it looks like the implementation does not indeed support a datasource lookup.\r\n\r\nOne option is to extend below source code and to extend it to accept a connection object itself and to figure out error handling and remember to close it!\r\n\r\n  [1]: https://github.com/apache/spark/blob/branch-2.3/sql/core/src/main/scala/org/apache/spark/sql/DataFrameReader.scala","title":"Spark JDBC connectivity to SQL server using kerberos authentication in Java","body":"<p>As already noted in the comments and from a quick look at the source code <a href=\"https://github.com/apache/spark/blob/branch-2.3/sql/core/src/main/scala/org/apache/spark/sql/DataFrameReader.scala\" rel=\"nofollow noreferrer\">here</a>, it looks like the implementation does not indeed support a datasource lookup.</p>\n<p>One option is to extend below source code and to extend it to accept a connection object itself and to figure out error handling and remember to close it!</p>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648315891,"creation_date":1641998738,"question_id":70683551,"body_markdown":"I have a use case where the Saprk Data Set API has to connect to SQL server using jdbc to retrieve the data. \r\n\r\nThe DB is supporting the kerberos authentication thats why using Spring JTDS driver.\r\nThe code for JDBC connectivity is as :\r\n\r\n    /**\r\n     * Returns the data source for db connection\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private static DriverManagerDataSource getDataSource() throws Exception {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\r\n        dataSource.setDriverClassName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n        String dataSourceUrl = &quot;jdbc:jtds:sqlserver://&quot; + &quot;DBDEV.abc.com&quot; + &quot;/&quot;\r\n                + &quot;TestDB&quot;;\r\n        dataSource.setUrl(dataSourceUrl);\r\n\r\n        Properties connProps = new Properties();\r\n        connProps.setProperty(DescapDataConstants.APP_NAME_PROPERTY, &quot;Test&quot;);\r\n        connProps.setProperty(DescapDataConstants.USE_KERBEROS, Boolean.TRUE.toString());\r\n        connProps.setProperty(DescapDataConstants.LOGIN_TIMEOUT, &quot;60&quot;);\r\n        connProps.setProperty(DescapDataConstants.SOCKET_TIMEOUT, &quot;7200&quot;);\r\n        dataSource.setConnectionProperties(connProps);\r\n        return dataSource;\r\n    }\r\n\r\nBut there is no provision to use this Data source as per Spark JDBC API when checked on this page :\r\nhttps://spark.apache.org/docs/2.3.1/api/java/org/apache/spark/sql/DataFrameReader.html#jdbc-java.lang.String-java.lang.String-java.util.Properties-\r\n\r\nIs there any way to use Data Source for connecting to the JDBC via Spark API&#39;s.","title":"Spark JDBC connectivity to SQL server using kerberos authentication in Java","body":"<p>I have a use case where the Saprk Data Set API has to connect to SQL server using jdbc to retrieve the data.</p>\n<p>The DB is supporting the kerberos authentication thats why using Spring JTDS driver.\nThe code for JDBC connectivity is as :</p>\n<pre><code>/**\n * Returns the data source for db connection\n * @return\n * @throws Exception\n */\nprivate static DriverManagerDataSource getDataSource() throws Exception {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n    dataSource.setDriverClassName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n    String dataSourceUrl = &quot;jdbc:jtds:sqlserver://&quot; + &quot;DBDEV.abc.com&quot; + &quot;/&quot;\n            + &quot;TestDB&quot;;\n    dataSource.setUrl(dataSourceUrl);\n\n    Properties connProps = new Properties();\n    connProps.setProperty(DescapDataConstants.APP_NAME_PROPERTY, &quot;Test&quot;);\n    connProps.setProperty(DescapDataConstants.USE_KERBEROS, Boolean.TRUE.toString());\n    connProps.setProperty(DescapDataConstants.LOGIN_TIMEOUT, &quot;60&quot;);\n    connProps.setProperty(DescapDataConstants.SOCKET_TIMEOUT, &quot;7200&quot;);\n    dataSource.setConnectionProperties(connProps);\n    return dataSource;\n}\n</code></pre>\n<p>But there is no provision to use this Data source as per Spark JDBC API when checked on this page :\n<a href=\"https://spark.apache.org/docs/2.3.1/api/java/org/apache/spark/sql/DataFrameReader.html#jdbc-java.lang.String-java.lang.String-java.util.Properties-\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/2.3.1/api/java/org/apache/spark/sql/DataFrameReader.html#jdbc-java.lang.String-java.lang.String-java.util.Properties-</a></p>\n<p>Is there any way to use Data Source for connecting to the JDBC via Spark API's.</p>\n"},{"tags":["java","garbage-collection","heap-memory"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1648313685,"post_id":71629772,"comment_id":126594935,"body_markdown":"Both lines are identical in regard to the objects that will be created. But you can be assured that it won&#39;t be only two objects. Without checking the current implementations of `UUID.randomUUID()` and `UUID.toString()`, I would bet on at least six temporary objects plus the final `String`.","body":"Both lines are identical in regard to the objects that will be created. But you can be assured that it won&#39;t be only two objects. Without checking the current implementations of <code>UUID.randomUUID()</code> and <code>UUID.toString()</code>, I would bet on at least six temporary objects plus the final <code>String</code>."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648311830,"creation_date":1648311830,"answer_id":71629816,"question_id":71629772,"body_markdown":"There is no difference whatsoever between those two lines as far as the GC (or, really, any part of Java) is concerned.\r\n\r\nIt&#39;s very unusual to need to worry about optimizing for heap.  Do you have a program that already works and takes too much heap, or does too much GC?  If not, _do not worry about it_.  This is premature optimization which will likely make things worse.  Java&#39;s GC is really, really good at what it does.    If you are not sure about the difference between those two lines, then you should trust Java to be take care of its own memory usage.","title":"Which objects are available for GC?","body":"<p>There is no difference whatsoever between those two lines as far as the GC (or, really, any part of Java) is concerned.</p>\n<p>It's very unusual to need to worry about optimizing for heap.  Do you have a program that already works and takes too much heap, or does too much GC?  If not, <em>do not worry about it</em>.  This is premature optimization which will likely make things worse.  Java's GC is really, really good at what it does.    If you are not sure about the difference between those two lines, then you should trust Java to be take care of its own memory usage.</p>\n"}],"owner":{"account_id":904230,"reputation":2233,"user_id":939497,"accept_rate":40,"display_name":"Balconsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648315658,"creation_date":1648311547,"question_id":71629772,"body_markdown":"I am writing the program, which should be optimized for usage of heap and GC. Based on this I need to create as less objects as possible. So I am wondering if it is a matter for GC if I write the commands in one line?\r\n\r\nFor example this code creates 2 objects, which are avaliable for GC:\r\n\r\n\r\n    UUID uuid = UUID.randomUUID();\r\n    String s = uuid.toString();\r\n\r\n\r\nWhat if I rewrite this code in one line, like this:\r\n\r\n    String s = UUID.randomUUID().toString();\r\n\r\nWill the second variant also create 2 objects for GC or only the String object?","title":"Which objects are available for GC?","body":"<p>I am writing the program, which should be optimized for usage of heap and GC. Based on this I need to create as less objects as possible. So I am wondering if it is a matter for GC if I write the commands in one line?</p>\n<p>For example this code creates 2 objects, which are avaliable for GC:</p>\n<pre><code>UUID uuid = UUID.randomUUID();\nString s = uuid.toString();\n</code></pre>\n<p>What if I rewrite this code in one line, like this:</p>\n<pre><code>String s = UUID.randomUUID().toString();\n</code></pre>\n<p>Will the second variant also create 2 objects for GC or only the String object?</p>\n"},{"tags":["java","hibernate-criteria","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648314524,"creation_date":1648313444,"answer_id":71630020,"question_id":71629777,"body_markdown":"The good thing about the Criteria API is that you can use the CriteriaBuilder to build complex SQL statements based on the fields that you have. You can combine multiple criteria fields using `and` and `or` statements with ease. \r\n\r\nHow I approached something similar int he past is using a `GenericDao` class that takes a `Filter` that has builders for the most common operations (equals, qualsIgnoreCase, lessThan, greaterThan and so on). I actually have something similar in an open-source project I started: https://gitlab.com/pazvanti/logaritmical/-/blob/master/app/data/dao/GenericDao.java\r\nhttps://gitlab.com/pazvanti/logaritmical/-/blob/master/app/data/filter/JPAFilter.java\r\n\r\nNext, the implicit DAO class extends this `GenericDao` and when I want to do an operation (ex: find a user with the provided username) and there I create a `Filter`. \r\n\r\nNow, the magic is in the filter. This is the one that creates the `Predicate`.\r\nIn your request, you will receive something like this: field1=something&amp;field2=somethingElse and so on. The value can be preceded by the &#39;&lt;&#39; or &#39;&gt;&#39; if you want smaller or greater and you initialize your filter with the values. If you can retrieve the parameters as a Map&lt;String, String&gt;, even better. \r\n\r\nNow, for each field in the request, you create a predicate using the helper methods from the `JPAFilter` class and return he resulted `Predicate`. In the example below I assume that you don&#39;t have it as a Map, but as individual fields (it is easy to adapt the code for a Map):\r\n\r\n```java\r\npublic class SearchFilter extends JPAFilter {\r\n    private Optional&lt;String&gt; field1 = Optional.empty();\r\n    private Optional&lt;String&gt; field2 = Optional.empty();\r\n\r\n    @Override\r\n    public Predicate getPredicate(CriteriaBuilder criteriaBuilder, Root root) {\r\n        Predicate predicateField1 = field1.map(f -&gt; equals(criteriaBuilder, root, &quot;field1&quot;, f)).orElse(null);\r\n        Predicate predicateField2 = field2.map(f -&gt; equals(criteriaBuilder, root, &quot;field2&quot;, f)).orElse(null);\r\n\r\n        return andPredicateBuilder(criteriaBuilder, predicateField1, predicateField2);\r\n    }\r\n}\r\n```\r\n\r\nNow, I have the fields as Optional since in this case I assumed that you have them as Optional in your request mapping (Spring has this) and I know it is a bit controversial to have Optional as input params, but in this case I think it is acceptable (more on this here: https://petrepopescu.tech/2021/10/an-argument-for-using-optional-as-input-parameters/)\r\n\r\nThe way the `andPredicateBuilder()` is made is that it works properly even if one of the supplied predicates is null. Also, I made s simple mapping function, adjust to include for `&lt;` and `&gt;`.\r\n\r\nNow, in your DAO class, just supply the appropriate filter:\r\n\r\n```java\r\npublic class SearchDao extends GenericDAO {\r\n\r\n    public List&lt;MyEntity&gt; search(Filter filter) {\r\n       return get(filter);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSome adjustments need to be made (this is just starter code), like an easier way to initialize the filter (and doing this inside the DAO) and making sure that that the filter can only by applied for the specified entity (probably using generics, `JPAFIlter&lt;T&gt;` and having `SearchFilter extends JPAFilter&lt;MyEntity&gt;`). Also, some error handling can be added.\r\n\r\nOne disadvantage is that the fields have to match the variable names in your entity class.","title":"How to dynamic search with Criteria API in Java?","body":"<p>The good thing about the Criteria API is that you can use the CriteriaBuilder to build complex SQL statements based on the fields that you have. You can combine multiple criteria fields using <code>and</code> and <code>or</code> statements with ease.</p>\n<p>How I approached something similar int he past is using a <code>GenericDao</code> class that takes a <code>Filter</code> that has builders for the most common operations (equals, qualsIgnoreCase, lessThan, greaterThan and so on). I actually have something similar in an open-source project I started: <a href=\"https://gitlab.com/pazvanti/logaritmical/-/blob/master/app/data/dao/GenericDao.java\" rel=\"nofollow noreferrer\">https://gitlab.com/pazvanti/logaritmical/-/blob/master/app/data/dao/GenericDao.java</a>\n<a href=\"https://gitlab.com/pazvanti/logaritmical/-/blob/master/app/data/filter/JPAFilter.java\" rel=\"nofollow noreferrer\">https://gitlab.com/pazvanti/logaritmical/-/blob/master/app/data/filter/JPAFilter.java</a></p>\n<p>Next, the implicit DAO class extends this <code>GenericDao</code> and when I want to do an operation (ex: find a user with the provided username) and there I create a <code>Filter</code>.</p>\n<p>Now, the magic is in the filter. This is the one that creates the <code>Predicate</code>.\nIn your request, you will receive something like this: field1=something&amp;field2=somethingElse and so on. The value can be preceded by the '&lt;' or '&gt;' if you want smaller or greater and you initialize your filter with the values. If you can retrieve the parameters as a Map&lt;String, String&gt;, even better.</p>\n<p>Now, for each field in the request, you create a predicate using the helper methods from the <code>JPAFilter</code> class and return he resulted <code>Predicate</code>. In the example below I assume that you don't have it as a Map, but as individual fields (it is easy to adapt the code for a Map):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SearchFilter extends JPAFilter {\n    private Optional&lt;String&gt; field1 = Optional.empty();\n    private Optional&lt;String&gt; field2 = Optional.empty();\n\n    @Override\n    public Predicate getPredicate(CriteriaBuilder criteriaBuilder, Root root) {\n        Predicate predicateField1 = field1.map(f -&gt; equals(criteriaBuilder, root, &quot;field1&quot;, f)).orElse(null);\n        Predicate predicateField2 = field2.map(f -&gt; equals(criteriaBuilder, root, &quot;field2&quot;, f)).orElse(null);\n\n        return andPredicateBuilder(criteriaBuilder, predicateField1, predicateField2);\n    }\n}\n</code></pre>\n<p>Now, I have the fields as Optional since in this case I assumed that you have them as Optional in your request mapping (Spring has this) and I know it is a bit controversial to have Optional as input params, but in this case I think it is acceptable (more on this here: <a href=\"https://petrepopescu.tech/2021/10/an-argument-for-using-optional-as-input-parameters/\" rel=\"nofollow noreferrer\">https://petrepopescu.tech/2021/10/an-argument-for-using-optional-as-input-parameters/</a>)</p>\n<p>The way the <code>andPredicateBuilder()</code> is made is that it works properly even if one of the supplied predicates is null. Also, I made s simple mapping function, adjust to include for <code>&lt;</code> and <code>&gt;</code>.</p>\n<p>Now, in your DAO class, just supply the appropriate filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SearchDao extends GenericDAO {\n\n    public List&lt;MyEntity&gt; search(Filter filter) {\n       return get(filter);\n    }\n\n}\n</code></pre>\n<p>Some adjustments need to be made (this is just starter code), like an easier way to initialize the filter (and doing this inside the DAO) and making sure that that the filter can only by applied for the specified entity (probably using generics, <code>JPAFIlter&lt;T&gt;</code> and having <code>SearchFilter extends JPAFilter&lt;MyEntity&gt;</code>). Also, some error handling can be added.</p>\n<p>One disadvantage is that the fields have to match the variable names in your entity class.</p>\n"}],"owner":{"account_id":20072069,"reputation":1,"user_id":14716577,"display_name":"AbdulmelikCNG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71630020,"answer_count":1,"score":0,"last_activity_date":1648314524,"creation_date":1648311590,"question_id":71629777,"body_markdown":"I want to dynamic search with Criteria API in Java.\r\n\r\nIn the code I wrote, we need to write each entity in the url  bar in JSON. I don&#39;t want to write &quot;plaka&quot;. \r\n\r\nThe URL : &lt;**localhost:8080/api/city/query?city=Ankara&amp;plaka=**&gt; I want to only &quot;city&quot; or &quot;plaka&quot;\r\n\r\n[Here we need to write each entity, even if we are going to search with only 1 entity. Type Entity and it should be empty.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1S7KD.png\r\n\r\n**My code is as below. Suppose there is more than one entity, what I want to do is to search using a single entity it wants to search. As you can see in the photo, I don&#39;t want to write an entity that I don&#39;t need. can you help me what should I do?**\r\n\r\nMy code in Repository\r\n\r\n    public interface CityRepository extends JpaRepository&lt;City, Integer&gt; , JpaSpecificationExecutor&lt;City&gt; {\r\n\r\n    }\r\n\r\nMy code in Service\r\n\r\n    @Service\r\n    public class CityServiceImp implements CityService{\r\n\r\n\r\n    private static final String CITY = &quot;city&quot;;\r\n    private static final String PLAKA = &quot;plaka&quot;;\r\n    \r\n    @Override\r\n    public List&lt;City&gt; findCityByNameAndPlaka(String cityName, int plaka) {\r\n        GenericSpecification genericSpecification = new GenericSpecification&lt;City&gt;();\r\n        if (!cityName.equals(&quot;_&quot;))\r\n            genericSpecification.add(new SearchCriteria(CITY,cityName, SearchOperation.EQUAL));\r\n        if (plaka != -1)\r\n            genericSpecification.add(new SearchCriteria(PLAKA,plaka, SearchOperation.EQUAL));\r\n\r\n        return cityDao.findAll(genericSpecification);\r\n    }\r\n\r\n    @Autowired\r\n    CityRepository cityDao;\r\n\r\nMy code in Controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/city&quot;)\r\n    public class CityController {\r\n\r\n    @Autowired\r\n    private final CityService cityService;\r\n\r\n    public CityController(CityService cityService) {\r\n        this.cityService = cityService;\r\n\r\n   \r\n    @GetMapping(&quot;/query&quot;)\r\n    public List&lt;City&gt; query(@RequestParam String city, @RequestParam String plaka){\r\n\r\n        String c = city;\r\n        int p;\r\n\r\n        if (city.length() == 0)\r\n            c = &quot;_&quot;;\r\n\r\n        if (plaka.length() == 0) {\r\n            p = -1;\r\n        }\r\n        else\r\n            p = Integer.parseInt(plaka);\r\n\r\n        return cityService.findCityByNameAndPlaka(c,p);\r\n    }\r\n\r\nMy code in SearchCriteria\r\n\r\n    public class SearchCriteria {\r\n\r\n    private String key;\r\n    private Object value;\r\n    private SearchOperation operation;\r\n\r\n    public SearchCriteria(String key, Object value, SearchOperation operation) {\r\n        this.key = key;\r\n        this.value = value;\r\n        this.operation = operation;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public Object getValue() {\r\n        return value;\r\n    }\r\n\r\n    public SearchOperation getOperation() {\r\n        return operation;\r\n    }\r\n\r\nMy code in GenericSpecification\r\n\r\n    public class GenericSpecification&lt;T&gt; implements Specification&lt;T&gt; {\r\n\r\n    private List&lt;SearchCriteria&gt; list;\r\n\r\n    public GenericSpecification() {\r\n        this.list = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void add(SearchCriteria criteria){\r\n        list.add(criteria);\r\n    }\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n        for (SearchCriteria criteria : list) {\r\n            if (criteria.getOperation().equals(SearchOperation.GREATER_THAN)) {\r\n                predicates.add(builder.greaterThan(\r\n                        root.get(criteria.getKey()), criteria.getValue().toString()));\r\n            } else if (criteria.getOperation().equals(SearchOperation.LESS_THAN)) {\r\n                predicates.add(builder.lessThan(\r\n                        root.get(criteria.getKey()), criteria.getValue().toString()));\r\n            } else if (criteria.getOperation().equals(SearchOperation.GREATER_THAN_EQUAL)) {\r\n                predicates.add(builder.greaterThanOrEqualTo(\r\n                        root.get(criteria.getKey()), criteria.getValue().toString()));\r\n            } else if (criteria.getOperation().equals(SearchOperation.LESS_THAN_EQUAL)) {\r\n                predicates.add(builder.lessThanOrEqualTo(\r\n                        root.get(criteria.getKey()), criteria.getValue().toString()));\r\n            } else if (criteria.getOperation().equals(SearchOperation.NOT_EQUAL)) {\r\n                predicates.add(builder.notEqual(\r\n                        root.get(criteria.getKey()), criteria.getValue()));\r\n            } else if (criteria.getOperation().equals(SearchOperation.EQUAL)) {\r\n                predicates.add(builder.equal(\r\n                        root.get(criteria.getKey()), criteria.getValue()));\r\n            } else if (criteria.getOperation().equals(SearchOperation.MATCH)) {\r\n                predicates.add(builder.like(\r\n                        builder.lower(root.get(criteria.getKey())),\r\n                        &quot;%&quot; + criteria.getValue().toString().toLowerCase() + &quot;%&quot;));\r\n            } else if (criteria.getOperation().equals(SearchOperation.MATCH_END)) {\r\n                predicates.add(builder.like(\r\n                        builder.lower(root.get(criteria.getKey())),\r\n                        criteria.getValue().toString().toLowerCase() + &quot;%&quot;));\r\n            }\r\n        }\r\n\r\n        return builder.and(predicates.toArray(new Predicate[0]));\r\n    }\r\n\r\n  \r\nMy code in SearchOperation  \r\n   \r\n\r\n    public enum SearchOperation {\r\n    \r\n    GREATER_THAN,\r\n    LESS_THAN,\r\n    GREATER_THAN_EQUAL,\r\n    LESS_THAN_EQUAL,\r\n    NOT_EQUAL,\r\n    EQUAL,\r\n    MATCH,\r\n    MATCH_END,\r\n    }\r\n\r\n\r\n","title":"How to dynamic search with Criteria API in Java?","body":"<p>I want to dynamic search with Criteria API in Java.</p>\n<p>In the code I wrote, we need to write each entity in the url  bar in JSON. I don't want to write &quot;plaka&quot;.</p>\n<p>The URL : &lt;<strong>localhost:8080/api/city/query?city=Ankara&amp;plaka=</strong>&gt; I want to only &quot;city&quot; or &quot;plaka&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/1S7KD.png\" rel=\"nofollow noreferrer\">Here we need to write each entity, even if we are going to search with only 1 entity. Type Entity and it should be empty.</a></p>\n<p><strong>My code is as below. Suppose there is more than one entity, what I want to do is to search using a single entity it wants to search. As you can see in the photo, I don't want to write an entity that I don't need. can you help me what should I do?</strong></p>\n<p>My code in Repository</p>\n<pre><code>public interface CityRepository extends JpaRepository&lt;City, Integer&gt; , JpaSpecificationExecutor&lt;City&gt; {\n\n}\n</code></pre>\n<p>My code in Service</p>\n<pre><code>@Service\npublic class CityServiceImp implements CityService{\n\n\nprivate static final String CITY = &quot;city&quot;;\nprivate static final String PLAKA = &quot;plaka&quot;;\n\n@Override\npublic List&lt;City&gt; findCityByNameAndPlaka(String cityName, int plaka) {\n    GenericSpecification genericSpecification = new GenericSpecification&lt;City&gt;();\n    if (!cityName.equals(&quot;_&quot;))\n        genericSpecification.add(new SearchCriteria(CITY,cityName, SearchOperation.EQUAL));\n    if (plaka != -1)\n        genericSpecification.add(new SearchCriteria(PLAKA,plaka, SearchOperation.EQUAL));\n\n    return cityDao.findAll(genericSpecification);\n}\n\n@Autowired\nCityRepository cityDao;\n</code></pre>\n<p>My code in Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/city&quot;)\npublic class CityController {\n\n@Autowired\nprivate final CityService cityService;\n\npublic CityController(CityService cityService) {\n    this.cityService = cityService;\n\n\n@GetMapping(&quot;/query&quot;)\npublic List&lt;City&gt; query(@RequestParam String city, @RequestParam String plaka){\n\n    String c = city;\n    int p;\n\n    if (city.length() == 0)\n        c = &quot;_&quot;;\n\n    if (plaka.length() == 0) {\n        p = -1;\n    }\n    else\n        p = Integer.parseInt(plaka);\n\n    return cityService.findCityByNameAndPlaka(c,p);\n}\n</code></pre>\n<p>My code in SearchCriteria</p>\n<pre><code>public class SearchCriteria {\n\nprivate String key;\nprivate Object value;\nprivate SearchOperation operation;\n\npublic SearchCriteria(String key, Object value, SearchOperation operation) {\n    this.key = key;\n    this.value = value;\n    this.operation = operation;\n}\n\npublic String getKey() {\n    return key;\n}\n\npublic Object getValue() {\n    return value;\n}\n\npublic SearchOperation getOperation() {\n    return operation;\n}\n</code></pre>\n<p>My code in GenericSpecification</p>\n<pre><code>public class GenericSpecification&lt;T&gt; implements Specification&lt;T&gt; {\n\nprivate List&lt;SearchCriteria&gt; list;\n\npublic GenericSpecification() {\n    this.list = new ArrayList&lt;&gt;();\n}\n\npublic void add(SearchCriteria criteria){\n    list.add(criteria);\n}\n\n@Override\npublic Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n    for (SearchCriteria criteria : list) {\n        if (criteria.getOperation().equals(SearchOperation.GREATER_THAN)) {\n            predicates.add(builder.greaterThan(\n                    root.get(criteria.getKey()), criteria.getValue().toString()));\n        } else if (criteria.getOperation().equals(SearchOperation.LESS_THAN)) {\n            predicates.add(builder.lessThan(\n                    root.get(criteria.getKey()), criteria.getValue().toString()));\n        } else if (criteria.getOperation().equals(SearchOperation.GREATER_THAN_EQUAL)) {\n            predicates.add(builder.greaterThanOrEqualTo(\n                    root.get(criteria.getKey()), criteria.getValue().toString()));\n        } else if (criteria.getOperation().equals(SearchOperation.LESS_THAN_EQUAL)) {\n            predicates.add(builder.lessThanOrEqualTo(\n                    root.get(criteria.getKey()), criteria.getValue().toString()));\n        } else if (criteria.getOperation().equals(SearchOperation.NOT_EQUAL)) {\n            predicates.add(builder.notEqual(\n                    root.get(criteria.getKey()), criteria.getValue()));\n        } else if (criteria.getOperation().equals(SearchOperation.EQUAL)) {\n            predicates.add(builder.equal(\n                    root.get(criteria.getKey()), criteria.getValue()));\n        } else if (criteria.getOperation().equals(SearchOperation.MATCH)) {\n            predicates.add(builder.like(\n                    builder.lower(root.get(criteria.getKey())),\n                    &quot;%&quot; + criteria.getValue().toString().toLowerCase() + &quot;%&quot;));\n        } else if (criteria.getOperation().equals(SearchOperation.MATCH_END)) {\n            predicates.add(builder.like(\n                    builder.lower(root.get(criteria.getKey())),\n                    criteria.getValue().toString().toLowerCase() + &quot;%&quot;));\n        }\n    }\n\n    return builder.and(predicates.toArray(new Predicate[0]));\n}\n</code></pre>\n<p>My code in SearchOperation</p>\n<pre><code>public enum SearchOperation {\n\nGREATER_THAN,\nLESS_THAN,\nGREATER_THAN_EQUAL,\nLESS_THAN_EQUAL,\nNOT_EQUAL,\nEQUAL,\nMATCH,\nMATCH_END,\n}\n</code></pre>\n"},{"tags":["java","eclipse","spring","jar","classpath"],"comments":[{"owner":{"account_id":142885,"reputation":1766,"user_id":350874,"accept_rate":79,"display_name":"telebog"},"score":0,"creation_date":1543942222,"post_id":24897264,"comment_id":94096055,"body_markdown":"you can find here a solution https://stackoverflow.com/questions/3057841/too-long-line-in-manifest-file-while-trying-to-create-jar","body":"you can find here a solution <a href=\"https://stackoverflow.com/questions/3057841/too-long-line-in-manifest-file-while-trying-to-create-jar\" title=\"too long line in manifest file while trying to create jar\">stackoverflow.com/questions/3057841/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4510316,"reputation":5,"user_id":3666635,"display_name":"user3666635"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1406120223,"creation_date":1406120223,"answer_id":24911116,"question_id":24897264,"body_markdown":"Problem solved. I am not sure if it is the limitation of classpath size in MAINFEST file, but it really matters when it was too long, I changed all jar name as 1, 2 , 3... and be able to put all jars in the classpath, and it works. Please leave your comments if you have different opinion on this, Thanks. ","title":"An unexpected error occurred while trying to open jar","body":"<p>Problem solved. I am not sure if it is the limitation of classpath size in MAINFEST file, but it really matters when it was too long, I changed all jar name as 1, 2 , 3... and be able to put all jars in the classpath, and it works. Please leave your comments if you have different opinion on this, Thanks. </p>\n"},{"tags":[],"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648314455,"creation_date":1543941607,"answer_id":53617675,"question_id":24897264,"body_markdown":"This error may indicate (in a very unclear way though) an error in `MANIFEST.MF`. This can be emulated by an invalid empty line in the middle of the file or by lines too long. \r\n\r\n`MANIFEST.MF` is extremely manual-edit-unfriendly:\r\n\r\n* It must have a final empty line (or final line terminator in other words),\r\n* its lines must be 72 bytes (not chars, see the comment) long at most (I bet this was your true problem, you just fixed symptoms)\r\n* and continuation line must start with space...\r\n* and on top of it, the classpath entries must be URLs, not file paths.\r\n\r\nMore about its specification can be found here: https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html","title":"An unexpected error occurred while trying to open jar","body":"<p>This error may indicate (in a very unclear way though) an error in <code>MANIFEST.MF</code>. This can be emulated by an invalid empty line in the middle of the file or by lines too long.</p>\n<p><code>MANIFEST.MF</code> is extremely manual-edit-unfriendly:</p>\n<ul>\n<li>It must have a final empty line (or final line terminator in other words),</li>\n<li>its lines must be 72 bytes (not chars, see the comment) long at most (I bet this was your true problem, you just fixed symptoms)</li>\n<li>and continuation line must start with space...</li>\n<li>and on top of it, the classpath entries must be URLs, not file paths.</li>\n</ul>\n<p>More about its specification can be found here: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html</a></p>\n"},{"tags":[],"owner":{"account_id":15266811,"reputation":3,"user_id":11015176,"display_name":"Eric Lemaitre"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549325569,"creation_date":1549325569,"answer_id":54526154,"question_id":24897264,"body_markdown":"I will add that Properties in Manifest MUST NOT be dot separated, either dash or no separator: &quot;myProperty&quot; will work, &quot;my-property&quot; will work too, but &quot;my.property&quot; will fail with &quot;Error: An unexpected error occurred while trying to open file ...&quot; with no explanation at all.\r\nAlthough &quot;my.property&quot; would work as a Java property in some standalone application, it just breaks the launch of the embedded application inside a JAR when the Manifest is read.","title":"An unexpected error occurred while trying to open jar","body":"<p>I will add that Properties in Manifest MUST NOT be dot separated, either dash or no separator: \"myProperty\" will work, \"my-property\" will work too, but \"my.property\" will fail with \"Error: An unexpected error occurred while trying to open file ...\" with no explanation at all.\nAlthough \"my.property\" would work as a Java property in some standalone application, it just breaks the launch of the embedded application inside a JAR when the Manifest is read.</p>\n"}],"owner":{"account_id":4510316,"reputation":5,"user_id":3666635,"display_name":"user3666635"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24911116,"answer_count":3,"score":0,"last_activity_date":1648314455,"creation_date":1406061148,"question_id":24897264,"body_markdown":"I have a spring batch project exported as a runable Jar file, it has 4 main methods, only one main is working, the other main needs referenced jar jai-codec-1.1.3.jar, but when I put the jar in the classpath, the first main also could not working and it gives error message &quot;An unexpected error occurred  while trying to open jar&quot; \r\n\r\nhere is my mainfest file:\r\n\r\n&gt; Manifest-Version: 1.0 Class-Path: JARS/spring-jdbc-3.1.1.RELEASE.jar\r\n&gt; JARS/spring-context-3.2.3.RELEASE.jar JARS/log4j-1.2.14.jar\r\n&gt; JARS/spring-tx-3.2.3.RELEASE.jar JARS/spring-core-3.2.3.RELEASE.jar\r\n&gt; JARS/spring-beans-3.2.3.RELEASE.jar JARS/commons-logging-1.1.1.jar\r\n&gt; JARS/spring-aop-3.2.3.RELEASE.jar JARS/aopalliance-1.0.jar\r\n&gt; JARS/spring-expression-3.2.3.RELEASE.jar JARS/commons-dbcp-1.4.jar\r\n&gt; JARS/commons-pool-1.5.4.jar JARS/ojdbc6-11.2.0.3.jar\r\n&gt; JARS/commons-lang3-3.0.jar JARS/itextpdf-5.5.1.jar\r\n&gt; JARS/jdom2-2.0.5.jar JARS/jai-codec-1.1.3.jar\r\n\r\nI found out that it is not because the specific jar file, it is because the length of the classpath is exceeded the limit, is there a way to put more jars in the MAINFEST file classpath?\r\n\r\nalso I have defined all @autowired service and component classes but it still not working in jar, it only works when I defined those as bean in spring-config.\r\n\r\nAnyone can Help me to figure out why?\r\n\r\n","title":"An unexpected error occurred while trying to open jar","body":"<p>I have a spring batch project exported as a runable Jar file, it has 4 main methods, only one main is working, the other main needs referenced jar jai-codec-1.1.3.jar, but when I put the jar in the classpath, the first main also could not working and it gives error message \"An unexpected error occurred  while trying to open jar\" </p>\n\n<p>here is my mainfest file:</p>\n\n<blockquote>\n  <p>Manifest-Version: 1.0 Class-Path: JARS/spring-jdbc-3.1.1.RELEASE.jar\n  JARS/spring-context-3.2.3.RELEASE.jar JARS/log4j-1.2.14.jar\n  JARS/spring-tx-3.2.3.RELEASE.jar JARS/spring-core-3.2.3.RELEASE.jar\n  JARS/spring-beans-3.2.3.RELEASE.jar JARS/commons-logging-1.1.1.jar\n  JARS/spring-aop-3.2.3.RELEASE.jar JARS/aopalliance-1.0.jar\n  JARS/spring-expression-3.2.3.RELEASE.jar JARS/commons-dbcp-1.4.jar\n  JARS/commons-pool-1.5.4.jar JARS/ojdbc6-11.2.0.3.jar\n  JARS/commons-lang3-3.0.jar JARS/itextpdf-5.5.1.jar\n  JARS/jdom2-2.0.5.jar JARS/jai-codec-1.1.3.jar</p>\n</blockquote>\n\n<p>I found out that it is not because the specific jar file, it is because the length of the classpath is exceeded the limit, is there a way to put more jars in the MAINFEST file classpath?</p>\n\n<p>also I have defined all @autowired service and component classes but it still not working in jar, it only works when I defined those as bean in spring-config.</p>\n\n<p>Anyone can Help me to figure out why?</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1648239444,"post_id":71622287,"comment_id":126582820,"body_markdown":"The Appointment class does not have a district property","body":"The Appointment class does not have a district property"},{"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"score":0,"creation_date":1648282798,"post_id":71622287,"comment_id":126589084,"body_markdown":"I forgot to add the code here in the question, it is already in my real code. So do you see what is wrong in my sql? @Guillaume","body":"I forgot to add the code here in the question, it is already in my real code. So do you see what is wrong in my sql? @Guillaume"},{"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"score":0,"creation_date":1648282932,"post_id":71622287,"comment_id":126589106,"body_markdown":"Kindly see me updated Question","body":"Kindly see me updated Question"}],"answers":[{"tags":[],"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648313331,"creation_date":1648313331,"answer_id":71630008,"question_id":71622287,"body_markdown":"I found the Problem:\r\n\r\nIn the past in school time I learned from my informatics Teacher that in SQL it can happen that there is an hidden character which we entered or which got entered but we dont see it. So just write the SQL again using plain writing","title":"QuerySyntaxException - unexpected token: a (SQL statement not correct?)","body":"<p>I found the Problem:</p>\n<p>In the past in school time I learned from my informatics Teacher that in SQL it can happen that there is an hidden character which we entered or which got entered but we dont see it. So just write the SQL again using plain writing</p>\n"}],"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648313331,"creation_date":1648237207,"question_id":71622287,"body_markdown":"I get following error message when trying to fire an SQl Statement....the exception:\r\n\r\n    QuerySyntaxException: unexpected token: a near line 1, column 127 [SELECT DISTINCT e FROM com.taqwaapps.entity.Event e, com.taqwaapps.entity.Appointment a WHERE e.eventId = a.event.eventId&#160;AND a.district.city.name = &#39;Jeddah&#39; ]\r\n\r\n\r\nIt seems that following SQL Statement is not correct:\r\n\r\n    @Query(&quot;SELECT DISTINCT e &quot;\r\n\t\t\t+ &quot;FROM Event e, Appointment a &quot;\r\n\t\t\t+ &quot;WHERE e.eventId = a.event.eventId&#160;&quot;\r\n\t\t\t+ &quot;AND a.district.city.name = &#39;Jeddah&#39; &quot;)\r\n\tList&lt;Event&gt; getEventsFiltered(); \r\n\r\nMy Objects are:\r\n\r\n    @Entity\r\n    public class Event {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Long eventId;\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    public class Appointment {\r\n    \t\r\n    \t@JsonIgnore\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;eventId&quot;)\r\n    \tprivate Event event; \r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;districtId&quot;)\r\n        private District district; \r\n\r\n\r\nWhat is wrong? \r\n","title":"QuerySyntaxException - unexpected token: a (SQL statement not correct?)","body":"<p>I get following error message when trying to fire an SQl Statement....the exception:</p>\n<pre><code>QuerySyntaxException: unexpected token: a near line 1, column 127 [SELECT DISTINCT e FROM com.taqwaapps.entity.Event e, com.taqwaapps.entity.Appointment a WHERE e.eventId = a.event.eventIdAND a.district.city.name = 'Jeddah' ]\n</code></pre>\n<p>It seems that following SQL Statement is not correct:</p>\n<pre><code>@Query(&quot;SELECT DISTINCT e &quot;\n        + &quot;FROM Event e, Appointment a &quot;\n        + &quot;WHERE e.eventId = a.event.eventId&quot;\n        + &quot;AND a.district.city.name = 'Jeddah' &quot;)\nList&lt;Event&gt; getEventsFiltered(); \n</code></pre>\n<p>My Objects are:</p>\n<pre><code>@Entity\npublic class Event {\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Long eventId;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class Appointment {\n    \n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;eventId&quot;)\n    private Event event; \n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;districtId&quot;)\n    private District district; \n</code></pre>\n<p>What is wrong?</p>\n"},{"tags":["java","user-interface","hashmap","tableview","javafx-11"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648312417,"creation_date":1648312417,"answer_id":71629909,"question_id":71629578,"body_markdown":"Make a true data type for your TableView items.\r\n\r\n    public class Item {\r\n        private final StringProperty name;\r\n        private final DoubleProperty price;\r\n        private final DoubleProperty newPrice;\r\n\r\n        public Item() {\r\n            name = new SimpleStringProperty(this, &quot;name&quot;);\r\n            price = new SimpleDoubleProperty(this, &quot;price&quot;);\r\n            newPrice = new SimpleDoubleProperty(this, &quot;newPrice&quot;);\r\n        }\r\n\r\n        public Item(String name,\r\n                    double price) {\r\n            this();\r\n            setName(name);\r\n            setPrice(price);\r\n        }\r\n\r\n        public StringProperty nameProperty() {\r\n            return name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name.get();\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name.set(name);\r\n        }\r\n\r\n        public DoubleProperty priceProperty() {\r\n            return price;\r\n        }\r\n\r\n        public double getPrice() {\r\n            return price.get();\r\n        }\r\n\r\n        public void setPrice(double price) {\r\n            this.price.set(price);\r\n        }\r\n\r\n        public DoubleProperty newPriceProperty() {\r\n            return newPrice;\r\n        }\r\n\r\n        public double getNewPrice() {\r\n            return newPrice.get();\r\n        }\r\n\r\n        public void setNewPrice(double price) {\r\n            this.newPrice.set(price);\r\n        }\r\n    }\r\n\r\n(Note:  In real world applications, programmers should never use `double` to represent money amounts, since float and double are inexact numbers which can lose information.  [BigDecimal](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigDecimal.html) is the correct type for representing money.)\r\n\r\nNow your TableColumns cell value factories become a lot easier:\r\n\r\n    nameColumn.setCellValueFactory(f -&gt; f.getValue().nameProperty());\r\n    pricesColumn.setCellValueFactory(f -&gt; f.getValue().priceProperty());\r\n    newPriceColumn.setCellValueFactory(f -&gt; f.getValue().newPriceProperty());\r\n\r\nCreating those items is pretty similar to what youre already doing, albeit simpler:\r\n\r\n    private ObservableList&lt;Item&gt; generateData() {\r\n        ObservableList&lt;Item&gt; alldata = FXCollections.observableArrayList();\r\n\r\n        for (Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\r\n            alldata.add(new Item(entry.getKey(), entry.getValue()));\r\n        }\r\n\r\n        return alldata;\r\n    }\r\n","title":"Javafx: How to populate a TableView with a map?","body":"<p>Make a true data type for your TableView items.</p>\n<pre><code>public class Item {\n    private final StringProperty name;\n    private final DoubleProperty price;\n    private final DoubleProperty newPrice;\n\n    public Item() {\n        name = new SimpleStringProperty(this, &quot;name&quot;);\n        price = new SimpleDoubleProperty(this, &quot;price&quot;);\n        newPrice = new SimpleDoubleProperty(this, &quot;newPrice&quot;);\n    }\n\n    public Item(String name,\n                double price) {\n        this();\n        setName(name);\n        setPrice(price);\n    }\n\n    public StringProperty nameProperty() {\n        return name;\n    }\n\n    public String getName() {\n        return name.get();\n    }\n\n    public void setName(String name) {\n        this.name.set(name);\n    }\n\n    public DoubleProperty priceProperty() {\n        return price;\n    }\n\n    public double getPrice() {\n        return price.get();\n    }\n\n    public void setPrice(double price) {\n        this.price.set(price);\n    }\n\n    public DoubleProperty newPriceProperty() {\n        return newPrice;\n    }\n\n    public double getNewPrice() {\n        return newPrice.get();\n    }\n\n    public void setNewPrice(double price) {\n        this.newPrice.set(price);\n    }\n}\n</code></pre>\n<p>(Note:  In real world applications, programmers should never use <code>double</code> to represent money amounts, since float and double are inexact numbers which can lose information.  <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> is the correct type for representing money.)</p>\n<p>Now your TableColumns cell value factories become a lot easier:</p>\n<pre><code>nameColumn.setCellValueFactory(f -&gt; f.getValue().nameProperty());\npricesColumn.setCellValueFactory(f -&gt; f.getValue().priceProperty());\nnewPriceColumn.setCellValueFactory(f -&gt; f.getValue().newPriceProperty());\n</code></pre>\n<p>Creating those items is pretty similar to what youre already doing, albeit simpler:</p>\n<pre><code>private ObservableList&lt;Item&gt; generateData() {\n    ObservableList&lt;Item&gt; alldata = FXCollections.observableArrayList();\n\n    for (Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\n        alldata.add(new Item(entry.getKey(), entry.getValue()));\n    }\n\n    return alldata;\n}\n</code></pre>\n"}],"owner":{"account_id":24697734,"reputation":3,"user_id":18589466,"display_name":"Jeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71629909,"answer_count":1,"score":0,"last_activity_date":1648312417,"creation_date":1648310054,"question_id":71629578,"body_markdown":"I&#39;m having trouble trying to populate a TableView with a map\\&lt;String, Double\\&gt;. I&#39;ve been looking at different kind of questions on stack overflow and other pages as well, but my brain doesn&#39;t seem to get it.\r\n\r\nI have a class that holds a Map with product names as key, and normal prices as value. I&#39;ve created a tableView with a column for names and a main column for prices divided in two columns normal and new, as you can see below.\r\n\r\n```\r\npublic class CreatePricesPane extends GridPane {\r\n    private TableView table = new TableView&lt;&gt;();\r\n    private PriceList tempPriceList;\r\n\r\n\r\n    public CreatePricesPane(){\r\n        this.tempPriceList = Controller.getController().createPriceList();\r\n        this.setPadding(new Insets(20));\r\n        this.setHgap(70);\r\n        this.setVgap(10);\r\n        this.setGridLinesVisible(false);\r\n//        this.setPrefSize(800, 500);\r\n        this.setStyle(&quot;-fx-background-color: #fff&quot;);\r\n\r\n        //All about table\r\n        this.table.setEditable(true);\r\n        this.table.setItems(this.generateData());\r\n        TableColumn&lt;Map,String&gt; nameColumn = new TableColumn(&quot;Names&quot;);\r\n        nameColumn.setMinWidth(300);\r\n\r\n        TableColumn pricesColumn = new TableColumn(&quot;Prices&quot;);\r\n\r\n        TableColumn&lt;Map,Double&gt; normalPriceColumn = new TableColumn(&quot;Normal price&quot;);\r\n        normalPriceColumn.setMinWidth(150);\r\n//        normalPriceColumn.setCellValueFactory(new MapValueFactory&lt;&gt;());\r\n\r\n        TableColumn newPriceColumn = new TableColumn(&quot;New price&quot;);\r\n        newPriceColumn.setMinWidth(150);\r\n\r\n        pricesColumn.getColumns().addAll(normalPriceColumn,newPriceColumn);\r\n\r\n\r\n        table.setEditable(true);\r\n        table.getSelectionModel().setCellSelectionEnabled(true);\r\n        table.getColumns().setAll(nameColumn, pricesColumn);\r\n```\r\n\r\nI&#39;ve made this method to make the Map into a ObservableList.\r\n\r\n```\r\n    private ObservableList&lt;Map&lt;String, Double&gt;&gt; generateData(){\r\n        ObservableList&lt;Map&lt;String,Double&gt;&gt; alldata = FXCollections.observableArrayList();\r\n\r\n        Map&lt;String, Double&gt; map = new HashMap(this.tempPriceList.getPriceListMap());\r\n\r\n        for (Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\r\n            Map&lt;String, Double&gt; dataRow = new HashMap&lt;&gt;();\r\n            dataRow.put(entry.getKey(), entry.getValue());\r\n            alldata.add(dataRow);\r\n        }\r\n        return alldata;\r\n    }\r\n```\r\n\r\nThis is where I am stuck. I don&#39;t know how to populate each cell with this ObservableList. I do know I have to use &quot;setCellFactory&quot; in some way. Does anyone have any suggestions how to make the last code? Or send me in the right direction?\r\n\r\nThanks in advance!\r\n\r\nThis is what I have tried until now. But actually I&#39;m having trouble understanding what&#39;s going on in this code beneath. I hoped it would populate the table with names at start. No luck.\r\n\r\n```\r\n        Callback&lt;TableColumn&lt;Map, String&gt;, TableCell&lt;Map, String&gt;&gt;\r\n                cellFactoryForMap = new Callback&lt;TableColumn&lt;Map, String&gt;,\r\n                TableCell&lt;Map, String&gt;&gt;() {\r\n            @Override\r\n            public TableCell call(TableColumn p) {\r\n                return new TextFieldTableCell(new StringConverter() {\r\n                    @Override\r\n                    public String toString(Object t) {\r\n                        return t.toString();\r\n                    }\r\n                    @Override\r\n                    public Object fromString(String string) {\r\n                        return string;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\nnameColumn.setCellFactory(cellFactoryForMap);\r\n```","title":"Javafx: How to populate a TableView with a map?","body":"<p>I'm having trouble trying to populate a TableView with a map&lt;String, Double&gt;. I've been looking at different kind of questions on stack overflow and other pages as well, but my brain doesn't seem to get it.</p>\n<p>I have a class that holds a Map with product names as key, and normal prices as value. I've created a tableView with a column for names and a main column for prices divided in two columns normal and new, as you can see below.</p>\n<pre><code>public class CreatePricesPane extends GridPane {\n    private TableView table = new TableView&lt;&gt;();\n    private PriceList tempPriceList;\n\n\n    public CreatePricesPane(){\n        this.tempPriceList = Controller.getController().createPriceList();\n        this.setPadding(new Insets(20));\n        this.setHgap(70);\n        this.setVgap(10);\n        this.setGridLinesVisible(false);\n//        this.setPrefSize(800, 500);\n        this.setStyle(&quot;-fx-background-color: #fff&quot;);\n\n        //All about table\n        this.table.setEditable(true);\n        this.table.setItems(this.generateData());\n        TableColumn&lt;Map,String&gt; nameColumn = new TableColumn(&quot;Names&quot;);\n        nameColumn.setMinWidth(300);\n\n        TableColumn pricesColumn = new TableColumn(&quot;Prices&quot;);\n\n        TableColumn&lt;Map,Double&gt; normalPriceColumn = new TableColumn(&quot;Normal price&quot;);\n        normalPriceColumn.setMinWidth(150);\n//        normalPriceColumn.setCellValueFactory(new MapValueFactory&lt;&gt;());\n\n        TableColumn newPriceColumn = new TableColumn(&quot;New price&quot;);\n        newPriceColumn.setMinWidth(150);\n\n        pricesColumn.getColumns().addAll(normalPriceColumn,newPriceColumn);\n\n\n        table.setEditable(true);\n        table.getSelectionModel().setCellSelectionEnabled(true);\n        table.getColumns().setAll(nameColumn, pricesColumn);\n</code></pre>\n<p>I've made this method to make the Map into a ObservableList.</p>\n<pre><code>    private ObservableList&lt;Map&lt;String, Double&gt;&gt; generateData(){\n        ObservableList&lt;Map&lt;String,Double&gt;&gt; alldata = FXCollections.observableArrayList();\n\n        Map&lt;String, Double&gt; map = new HashMap(this.tempPriceList.getPriceListMap());\n\n        for (Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\n            Map&lt;String, Double&gt; dataRow = new HashMap&lt;&gt;();\n            dataRow.put(entry.getKey(), entry.getValue());\n            alldata.add(dataRow);\n        }\n        return alldata;\n    }\n</code></pre>\n<p>This is where I am stuck. I don't know how to populate each cell with this ObservableList. I do know I have to use &quot;setCellFactory&quot; in some way. Does anyone have any suggestions how to make the last code? Or send me in the right direction?</p>\n<p>Thanks in advance!</p>\n<p>This is what I have tried until now. But actually I'm having trouble understanding what's going on in this code beneath. I hoped it would populate the table with names at start. No luck.</p>\n<pre><code>        Callback&lt;TableColumn&lt;Map, String&gt;, TableCell&lt;Map, String&gt;&gt;\n                cellFactoryForMap = new Callback&lt;TableColumn&lt;Map, String&gt;,\n                TableCell&lt;Map, String&gt;&gt;() {\n            @Override\n            public TableCell call(TableColumn p) {\n                return new TextFieldTableCell(new StringConverter() {\n                    @Override\n                    public String toString(Object t) {\n                        return t.toString();\n                    }\n                    @Override\n                    public Object fromString(String string) {\n                        return string;\n                    }\n                });\n            }\n        };\n\nnameColumn.setCellFactory(cellFactoryForMap);\n</code></pre>\n"},{"tags":["java","html","css","blogger"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648298562,"post_id":71627235,"comment_id":126591783,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1712189,"reputation":426,"user_id":1569990,"display_name":"Osvaldo Correia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648312245,"creation_date":1648312245,"answer_id":71629879,"question_id":71627235,"body_markdown":" For Facebook, maybe something like this works:\r\n\r\n       &lt;b:if cond=&#39;data:blog.postImageUrl&#39;&gt;\r\n        &lt;meta expr:content=&#39;data:blog.postImageUrl&#39; property=&#39;og:image&#39;/&gt;\r\n          &lt;b:else/&gt;\r\n        &lt;meta content=&#39;YOUR-IMAGE-URL&#39; property=&#39;og:image&#39;/&gt;\r\n        &lt;/b:if&gt;\r\nAnd for Twitter, maybe...\r\n\r\n    &lt;b:if cond=&#39;data:blog.postImageUrl&#39;&gt;\r\n    &lt;meta expr:content=&#39;data:blog.postImageUrl&#39; name=&#39;twitter:image&#39;/&gt;\r\n      &lt;b:else/&gt;\r\n    &lt;meta content=&#39;YOUR-IMAGE-URL&#39; name=&#39;twitter:image&#39;/&gt;\r\n    &lt;/b:if&gt;\r\n\r\nI&#39;ve been using this to show a default image when the post don&#39;t have any image, but I assume it can be adjusted to the non-post pages by using the `&lt;b:if cond=&#39;data:blog.pageType != &amp;quot;item&amp;quot;&#39;&gt;` conditional.\r\n\r\nMaybe something along the lines of:\r\n\r\n    &lt;b:if cond=&#39;data:blog.pageType != &amp;quot;item&amp;quot;&#39;&gt;\r\n      &lt;meta content=&#39;YOUR-IMAGE-URL&#39; name=&#39;twitter:image&#39;/&gt;\r\n      &lt;meta content=&#39;YOUR-IMAGE-URL&#39; name=&#39;twitter:image&#39;/&gt;\r\n    &lt;/if&gt;\r\nOr if you want to only apply in the homepage, maybe using the conditional `&lt;b:if cond=&#39;data:blog.url == data:blog.homepageUrl&#39;&gt;`\r\n","title":"How to add custom thumbnail to a blogger homepage website when sharing main link?","body":"<p>For Facebook, maybe something like this works:</p>\n<pre><code>   &lt;b:if cond='data:blog.postImageUrl'&gt;\n    &lt;meta expr:content='data:blog.postImageUrl' property='og:image'/&gt;\n      &lt;b:else/&gt;\n    &lt;meta content='YOUR-IMAGE-URL' property='og:image'/&gt;\n    &lt;/b:if&gt;\n</code></pre>\n<p>And for Twitter, maybe...</p>\n<pre><code>&lt;b:if cond='data:blog.postImageUrl'&gt;\n&lt;meta expr:content='data:blog.postImageUrl' name='twitter:image'/&gt;\n  &lt;b:else/&gt;\n&lt;meta content='YOUR-IMAGE-URL' name='twitter:image'/&gt;\n&lt;/b:if&gt;\n</code></pre>\n<p>I've been using this to show a default image when the post don't have any image, but I assume it can be adjusted to the non-post pages by using the <code>&lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;</code> conditional.</p>\n<p>Maybe something along the lines of:</p>\n<pre><code>&lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;\n  &lt;meta content='YOUR-IMAGE-URL' name='twitter:image'/&gt;\n  &lt;meta content='YOUR-IMAGE-URL' name='twitter:image'/&gt;\n&lt;/if&gt;\n</code></pre>\n<p>Or if you want to only apply in the homepage, maybe using the conditional <code>&lt;b:if cond='data:blog.url == data:blog.homepageUrl'&gt;</code></p>\n"}],"owner":{"account_id":24695392,"reputation":1,"user_id":18587433,"display_name":"Kaushal Pathak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648312245,"creation_date":1648290635,"question_id":71627235,"body_markdown":"In my blog when I share my post link on social media its automatically use the post thumbnail as a link img but when I share the homepage link it took the latest posts img as the thumbnail of the link how can I add coustom thumbnail to my main/homepage link without changing the post thumbnail feature [like YouTube or Facebook when we share Maine link it shows a default thumbnail but when we share a post or a video it automatically show&#39;s the post thumbnail or video thumbnail] ","title":"How to add custom thumbnail to a blogger homepage website when sharing main link?","body":"<p>In my blog when I share my post link on social media its automatically use the post thumbnail as a link img but when I share the homepage link it took the latest posts img as the thumbnail of the link how can I add coustom thumbnail to my main/homepage link without changing the post thumbnail feature [like YouTube or Facebook when we share Maine link it shows a default thumbnail but when we share a post or a video it automatically show's the post thumbnail or video thumbnail]</p>\n"},{"tags":["java","angular","spring","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":19477844,"reputation":58,"user_id":14248903,"display_name":"Seon Woo Kim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648262276,"creation_date":1648261637,"answer_id":71624851,"question_id":71622700,"body_markdown":"What I understand from your problem is that you want your Spring boot app to route requests to views created by your Angular program and need some authentication features. \r\nFor me, I&#39;d rather divide the project into frontend and backend and use JWT tokens, but for your situations you can have a look on this official [Spring documentation][1]. It&#39;s a detailed post that integrates Spring boot and Angular, and it also deals with Spring security.  \r\n\r\n\r\n  [1]: https://medium.com/@majdasab/integrating-an-angular-project-with-spring-boot-e3a043b7307b","title":"Is there a way to put My Angular App Behind My Spring Boot App, embedded with tomcat","body":"<p>What I understand from your problem is that you want your Spring boot app to route requests to views created by your Angular program and need some authentication features.\nFor me, I'd rather divide the project into frontend and backend and use JWT tokens, but for your situations you can have a look on this official <a href=\"https://medium.com/@majdasab/integrating-an-angular-project-with-spring-boot-e3a043b7307b\" rel=\"nofollow noreferrer\">Spring documentation</a>. It's a detailed post that integrates Spring boot and Angular, and it also deals with Spring security.</p>\n"}],"owner":{"account_id":24147270,"reputation":34,"user_id":18112648,"display_name":"Collin Short"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71624851,"answer_count":1,"score":-1,"last_activity_date":1648312077,"creation_date":1648239748,"question_id":71622700,"body_markdown":"So I have a Spring Boot app, with an Angular Front-end. My plan is to embed Tomcat in the Spring Boot app for routing, reverse proxies, etc. What I want to happen is the user types in the URL, the Spring Boot tomcat server figures out if there is a domain linked to that request and so on, however if the user types in the specified IP and Port it brings up the Admin Panel which is the Angular CLI application which already has injections, and Authentication and session control. I don&#39;t want people being routed to the Admin Panel unless that condition is filled. I would like the http request to go to the tomcat server and if the condition is met then it pulls up the Angular App. However, I am not quite sure how one would go about this, is it possible to call the Angular app from the Spring application?\r\n\r\nUpdate:&lt;br&gt;\r\nAfter hearing some feedback I made a diagram to help explain what I am looking for: \r\n[Routing Diagram][1], so in this a client or user would type in ```&quot;https://example.com/&quot;``` in their browser, it would first go to angular being the frontend, angular realizes it does not have the example.com resource so it requests just example.com/ from the backend, which knows where the resource is and then injects the html file back into the front end. The only time in which a user would be greeted with the login page I have constructed is if they have typed in the primary IP address of the server, which I would probably end up injecting by some variable from the backend as the front end wouldn&#39;t know what the IP is... thats a different issue I would have to solve. Is there a better way to do this? Should I be using React.js instead of angular? so far my application structure is very similar to this github repository: https://github.com/liliumbosniacum/spring-security-angular I have modified it and fixed some of the code and am looking into better ways but this was my starting point. I really hope this clarifies, I am looking for if there is a better way to do this or if this is not how it should be done how should it be done? like just an explanation with a diagram on what a better way would be? and Is Angular the Right front end for me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZNMQ5.png","title":"Is there a way to put My Angular App Behind My Spring Boot App, embedded with tomcat","body":"<p>So I have a Spring Boot app, with an Angular Front-end. My plan is to embed Tomcat in the Spring Boot app for routing, reverse proxies, etc. What I want to happen is the user types in the URL, the Spring Boot tomcat server figures out if there is a domain linked to that request and so on, however if the user types in the specified IP and Port it brings up the Admin Panel which is the Angular CLI application which already has injections, and Authentication and session control. I don't want people being routed to the Admin Panel unless that condition is filled. I would like the http request to go to the tomcat server and if the condition is met then it pulls up the Angular App. However, I am not quite sure how one would go about this, is it possible to call the Angular app from the Spring application?</p>\n<p>Update:<br>\nAfter hearing some feedback I made a diagram to help explain what I am looking for:\n<a href=\"https://i.stack.imgur.com/ZNMQ5.png\" rel=\"nofollow noreferrer\">Routing Diagram</a>, so in this a client or user would type in <code>&quot;https://example.com/&quot;</code> in their browser, it would first go to angular being the frontend, angular realizes it does not have the example.com resource so it requests just example.com/ from the backend, which knows where the resource is and then injects the html file back into the front end. The only time in which a user would be greeted with the login page I have constructed is if they have typed in the primary IP address of the server, which I would probably end up injecting by some variable from the backend as the front end wouldn't know what the IP is... thats a different issue I would have to solve. Is there a better way to do this? Should I be using React.js instead of angular? so far my application structure is very similar to this github repository: <a href=\"https://github.com/liliumbosniacum/spring-security-angular\" rel=\"nofollow noreferrer\">https://github.com/liliumbosniacum/spring-security-angular</a> I have modified it and fixed some of the code and am looking into better ways but this was my starting point. I really hope this clarifies, I am looking for if there is a better way to do this or if this is not how it should be done how should it be done? like just an explanation with a diagram on what a better way would be? and Is Angular the Right front end for me?</p>\n"},{"tags":["java","arrays","matrix","vector","gaussian"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1648310102,"post_id":71626515,"comment_id":126594123,"body_markdown":"Does your assignmnet allow you to use an existing implementation or do you need to implement gaussian elimination yourself? Have you tried to google &quot;java gaussian elimination&quot;? If not, that is a good place to start.","body":"Does your assignmnet allow you to use an existing implementation or do you need to implement gaussian elimination yourself? Have you tried to google &quot;java gaussian elimination&quot;? If not, that is a good place to start."}],"answers":[{"tags":[],"owner":{"account_id":24226888,"reputation":458,"user_id":18181243,"display_name":"iroli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648311689,"creation_date":1648309219,"answer_id":71629474,"question_id":71626515,"body_markdown":"You can use the open source [la4j][1] library for example.\r\nThen your code might look like \r\n\r\n        ...\r\n        double[][] numbers_for_A = {\r\n                {1.0, 0.0, 0.0, 0.0, 0.0},\r\n                {-25.0, 50.0, -25.0, 0.0, 0.0},\r\n                {0.0, -25.0, 50.0, -25.0, 0.0},\r\n                {0.0, 0.0, -25.0, 50.0, -25.0},\r\n                {0.0, 0.0, 0.0, 0.0, 1.0}};\r\n        double[] numbers_for_b = {0.0, 1.115696, 1.115696, 1.115696, 0.0};\r\n\r\n        Matrix A = Matrix.from2DArray(numbers_for_A);\r\n        Vector b = Vector.fromArray(numbers_for_b);\r\n        GaussianSolver gs = new GaussianSolver(A);\r\n        Vector u = gs.solve(b);\r\n\r\n        System.out.println(u);\r\n\r\nYou can import library using maven dependency\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.la4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;la4j&lt;/artifactId&gt;\r\n            &lt;version&gt;0.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  \r\n\r\n\r\n  [1]: http://la4j.org/","title":"How to use the Gaussian Elimination algorithm in Java?","body":"<p>You can use the open source <a href=\"http://la4j.org/\" rel=\"nofollow noreferrer\">la4j</a> library for example.\nThen your code might look like</p>\n<pre><code>    ...\n    double[][] numbers_for_A = {\n            {1.0, 0.0, 0.0, 0.0, 0.0},\n            {-25.0, 50.0, -25.0, 0.0, 0.0},\n            {0.0, -25.0, 50.0, -25.0, 0.0},\n            {0.0, 0.0, -25.0, 50.0, -25.0},\n            {0.0, 0.0, 0.0, 0.0, 1.0}};\n    double[] numbers_for_b = {0.0, 1.115696, 1.115696, 1.115696, 0.0};\n\n    Matrix A = Matrix.from2DArray(numbers_for_A);\n    Vector b = Vector.fromArray(numbers_for_b);\n    GaussianSolver gs = new GaussianSolver(A);\n    Vector u = gs.solve(b);\n\n    System.out.println(u);\n</code></pre>\n<p>You can import library using maven dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.la4j&lt;/groupId&gt;\n        &lt;artifactId&gt;la4j&lt;/artifactId&gt;\n        &lt;version&gt;0.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15571101,"reputation":49,"user_id":11233501,"display_name":"BoroFel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71629474,"answer_count":1,"score":1,"last_activity_date":1648311689,"creation_date":1648284007,"question_id":71626515,"body_markdown":"I have the task to calculate u with the gaussian Eliminiation algorithm in:\r\n\r\nAu = b \r\n\r\nA is a Matrix (2-dimensional-Array) looking the following:\r\n\r\n```\r\n[1.0, 0.0, 0.0, 0.0, 0.0]\r\n[-25.0, 50.0, -25.0, 0.0, 0.0]\r\n[0.0, -25.0, 50.0, -25.0, 0.0]\r\n[0.0, 0.0, -25.0, 50.0, -25.0]\r\n[0.0, 0.0, 0.0, 0.0, 1.0]\r\n```\r\nb is a Vector (Array) looking the following:\r\n```\r\n[0.0, 1.115696, 1.115696, 1.115696, 0.0]\r\n```\r\n\r\nHow do i use the Gaussian Elimination algorithm on this? Is there already something that java has implemented? Or how would a code look like to calculate this? Im thankful for any kind of help!\r\n","title":"How to use the Gaussian Elimination algorithm in Java?","body":"<p>I have the task to calculate u with the gaussian Eliminiation algorithm in:</p>\n<p>Au = b</p>\n<p>A is a Matrix (2-dimensional-Array) looking the following:</p>\n<pre><code>[1.0, 0.0, 0.0, 0.0, 0.0]\n[-25.0, 50.0, -25.0, 0.0, 0.0]\n[0.0, -25.0, 50.0, -25.0, 0.0]\n[0.0, 0.0, -25.0, 50.0, -25.0]\n[0.0, 0.0, 0.0, 0.0, 1.0]\n</code></pre>\n<p>b is a Vector (Array) looking the following:</p>\n<pre><code>[0.0, 1.115696, 1.115696, 1.115696, 0.0]\n</code></pre>\n<p>How do i use the Gaussian Elimination algorithm on this? Is there already something that java has implemented? Or how would a code look like to calculate this? Im thankful for any kind of help!</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":24698069,"reputation":1,"user_id":18589740,"display_name":"anh14"},"score":0,"creation_date":1648311039,"post_id":71629698,"comment_id":126594321,"body_markdown":"package dow;\nimport java.sql.*;\n/**\n *\n * @author ANH\n */\npublic class ConnectionProvider {\n    public static Connection getCon(){\n        try{\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/cms&quot;,&quot;root&quot;,&quot;anh14&quot;);\n            Statement st = con.createStatement();\n            return con;\n        }\n        catch(Exception e){\n            return null;\n        }\n    }\n}","body":"package dow; import java.sql.*; /**  *  * @author ANH  */ public class ConnectionProvider {     public static Connection getCon(){         try{             Class.forName(&quot;com.mysql.jdbc.Driver&quot;);             Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/cms&zwnj;&#8203;&quot;,&quot;root&quot;,&quot;anh14&quot;);             Statement st = con.createStatement();             return con;         }         catch(Exception e){             return null;         }     } }"},{"owner":{"account_id":24698069,"reputation":1,"user_id":18589740,"display_name":"anh14"},"score":0,"creation_date":1648311051,"post_id":71629698,"comment_id":126594324,"body_markdown":"package dow;\n\nimport javax.swing.JOptionPane;\nimport java.sql.*;\n/**\n *\n * @author ANH\n */\npublic class DbOperations {\n    public static void setDataOrDelete(String Query, String msg){\n        try{\n            Connection con = ConnectionProvider.getCon();\n            Statement st = con.createStatement();\n            st.executeUpdate(Query);\n            if(!msg.equals(&quot;&quot;))\n                JOptionPane.showMessageDialog(null, msg);\n        }\n        catch(Exception e){\n            JOptionPane.showMessageDialog(null, e, &quot;Message&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n    }\n}","body":"package dow;  import javax.swing.JOptionPane; import java.sql.*; /**  *  * @author ANH  */ public class DbOperations {     public static void setDataOrDelete(String Query, String msg){         try{             Connection con = ConnectionProvider.getCon();             Statement st = con.createStatement();             st.executeUpdate(Query);             if(!msg.equals(&quot;&quot;))                 JOptionPane.showMessageDialog(null, msg);         }         catch(Exception e){             JOptionPane.showMessageDialog(null, e, &quot;Message&quot;, JOptionPane.ERROR_MESSAGE);         }     } }"},{"owner":{"account_id":24698069,"reputation":1,"user_id":18589740,"display_name":"anh14"},"score":0,"creation_date":1648311095,"post_id":71629698,"comment_id":126594331,"body_markdown":"package dow;\n\nimport javax.swing.JOptionPane;\npublic class tables {\n    public static void main(String[] args){\n       try{\n       String userTable= &quot;create table user(id int AUTO_INCREMENT primary key,name varchar(200),email varchar(200),mobileNumber varchar(10),address varchar(200),password varchar(200),securityQuestion varchar(200),answer varchar(200),status varchar(20),UNIQUE(email))&quot;;\n       DbOperations.setDataOrDelete(userTable, &quot;User Table Created Successfully&quot;);\n       }\n    catch(Exception e){\n     JOptionPane.showMessageDialog(null, e);\n    }\n    }\n}","body":"package dow;  import javax.swing.JOptionPane; public class tables {     public static void main(String[] args){        try{        String userTable= &quot;create table user(id int AUTO_INCREMENT primary key,name varchar(200),email varchar(200),mobileNumber varchar(10),address varchar(200),password varchar(200),securityQuestion varchar(200),answer varchar(200),status varchar(20),UNIQUE(email))&quot;;        DbOperations.setDataOrDelete(userTable, &quot;User Table Created Successfully&quot;);        }     catch(Exception e){      JOptionPane.showMessageDialog(null, e);     }     } }"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648311247,"creation_date":1648311247,"answer_id":71629740,"question_id":71629698,"body_markdown":"Fix your exception handling. The error you got cannot occur unless you wrote broken handling. This is _extremely_ common in answers and tutorials but is also completely wrong and not something you should EVER write:\r\n\r\n```java\r\ntry {\r\n  con = DriverManager.blablabla;\r\n} catch (Exception e) {\r\n  e.printStackTrace();\r\n}\r\n```\r\n\r\nThe reason that is wrong is that you clearly have no idea what it means when that exception occurs (you just print it, that&#39;s all you do), which isn&#39;t a complaint: MOST exceptions fall in that category - that you either don&#39;t really know what happened or have no chance of recovery even if you do. The problem isn&#39;t in doing nothing useful in the catch block - the problem is that _your code continues_. When an unrecoverable situation has occurred or when you haven&#39;t investigated what it means. That&#39;s riduclous. Don&#39;t do that.\r\n\r\nThe proper way to deal with exceptions when you don&#39;t want to bother / there is no point as recovery is impossible, is, in order of preference:\r\n\r\n* Just throw it onwards. `public static void main(String[] args) throws Exception` is what your main method should look like. You don&#39;t want to catch unrecoverable exceptions in the first place!\r\n\r\n* If that&#39;s somehow impossible (API design dictates that&#39;d be bad style, or due to limitations as you&#39;re overriding methods or in lambdas, you can&#39;t), then the &#39;I do not know what to do / cannot recover&#39; default catch block should be:\r\n\r\n```\r\ntry {\r\n  // stuff\r\n} catch (Exception e) {\r\n  throw new RuntimeException(&quot;unhandled&quot;, e);\r\n}\r\n```\r\n\r\nAnd __NOT__ `e.printStackTrace()`. Once you&#39;ve fixed that, this error will no longer occur. At that point, read the error you see - perhaps you have the wrong password, the mysql server is down, who knows. The error will tell you, but this question indicates that error has gotten lost someplace, or you&#39;re getting a billion errors and don&#39;t know which of the many many lines of error are relevant (the one you pasted isn&#39;t the problem).\r\n","title":"how to fix error java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot; because &quot;con&quot; is null","body":"<p>Fix your exception handling. The error you got cannot occur unless you wrote broken handling. This is <em>extremely</em> common in answers and tutorials but is also completely wrong and not something you should EVER write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  con = DriverManager.blablabla;\n} catch (Exception e) {\n  e.printStackTrace();\n}\n</code></pre>\n<p>The reason that is wrong is that you clearly have no idea what it means when that exception occurs (you just print it, that's all you do), which isn't a complaint: MOST exceptions fall in that category - that you either don't really know what happened or have no chance of recovery even if you do. The problem isn't in doing nothing useful in the catch block - the problem is that <em>your code continues</em>. When an unrecoverable situation has occurred or when you haven't investigated what it means. That's riduclous. Don't do that.</p>\n<p>The proper way to deal with exceptions when you don't want to bother / there is no point as recovery is impossible, is, in order of preference:</p>\n<ul>\n<li><p>Just throw it onwards. <code>public static void main(String[] args) throws Exception</code> is what your main method should look like. You don't want to catch unrecoverable exceptions in the first place!</p>\n</li>\n<li><p>If that's somehow impossible (API design dictates that'd be bad style, or due to limitations as you're overriding methods or in lambdas, you can't), then the 'I do not know what to do / cannot recover' default catch block should be:</p>\n</li>\n</ul>\n<pre><code>try {\n  // stuff\n} catch (Exception e) {\n  throw new RuntimeException(&quot;unhandled&quot;, e);\n}\n</code></pre>\n<p>And <strong>NOT</strong> <code>e.printStackTrace()</code>. Once you've fixed that, this error will no longer occur. At that point, read the error you see - perhaps you have the wrong password, the mysql server is down, who knows. The error will tell you, but this question indicates that error has gotten lost someplace, or you're getting a billion errors and don't know which of the many many lines of error are relevant (the one you pasted isn't the problem).</p>\n"}],"owner":{"account_id":24698069,"reputation":1,"user_id":18589740,"display_name":"anh14"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6732,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648561710,"answer_count":1,"score":-1,"last_activity_date":1648311247,"creation_date":1648310937,"question_id":71629698,"body_markdown":"how to fix error java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot; because &quot;con&quot; is null","title":"how to fix error java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot; because &quot;con&quot; is null","body":"<p>how to fix error java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot; because &quot;con&quot; is null</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":19021361,"reputation":401,"user_id":13885374,"display_name":"Jake"},"score":0,"creation_date":1648329846,"post_id":71629545,"comment_id":126598187,"body_markdown":"Can you share your code where you open a new activity. Perhaps your code above is indirect cause of your problem.","body":"Can you share your code where you open a new activity. Perhaps your code above is indirect cause of your problem."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648458913,"post_id":71629545,"comment_id":126620157,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Please respond with @AlexMamo","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Please respond with @AlexMamo"}],"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648311210,"creation_date":1648309771,"question_id":71629545,"body_markdown":"I&#39;m starting an activity from my item inside my recycler view, but for some reason when my app enters a specific if statement inside a firebase database (**single value event**) listener. I don&#39;t know why this is happening and i&#39;m trying 3 days now to solve this issue.\r\n\r\n**I tried** removing this if statement and my app is working properly.\r\n\r\nHere is my function with the firebase listener:\r\n\r\n    void sendNotificationToUser(String notificationType) {\r\n    \r\n        FirebaseAuth auth = FirebaseAuth.getInstance();\r\n        FirebaseUser user = auth.getCurrentUser();\r\n\r\n        final String[] notification_message = {&quot;none&quot;};\r\n        final String[] notification_title = {&quot;none&quot;};\r\n\r\n        usersRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                String notificationID = usersRef.push().getKey();\r\n                String currentDate = String.valueOf(android.text.format.DateFormat.format(&quot;dd-MM-yyyy&quot;, new java.util.Date()));\r\n\r\n                Calendar calendar = Calendar.getInstance();\r\n                int currentHour = calendar.get(Calendar.HOUR_OF_DAY);\r\n                int currentMinutes = calendar.get(Calendar.MINUTE);\r\n\r\n                if (notificationType.equals(&quot;profile_visit&quot;)) {\r\n\r\n                    notification_title[0] = &quot;New profile visitor&quot;;\r\n                    notification_message[0] = user.getDisplayName() + &quot; visited your profile&quot;;\r\n\r\n                    for (DataSnapshot snap : snapshot.getChildren()) {\r\n                        if (snap.child(&quot;name&quot;).getValue().toString().equals(username)) {\r\n                            String postAuthorID = snap.child(&quot;id&quot;).getValue().toString();\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;title&quot;).setValue(&quot;New profile visitor&quot;);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;type&quot;).setValue(&quot;profile_visit&quot;);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;date&quot;).setValue(currentDate + &quot;  &quot; + currentHour + &quot;:&quot; + currentMinutes);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;message&quot;).setValue(user.getDisplayName() + &quot; visited your profile&quot;);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (notificationType.equals(&quot;follow&quot;)) {\r\n\r\n                    notification_title[0] = &quot;New follower&quot;;\r\n                    notification_message[0] = user.getDisplayName() + &quot; started following you&quot;;\r\n\r\n                    for (DataSnapshot snap : snapshot.getChildren()) {\r\n                        if (snap.child(&quot;name&quot;).getValue().toString().equals(username)) {\r\n                            String postAuthorID = snap.child(&quot;id&quot;).getValue().toString();\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;title&quot;).setValue(notification_title[0]);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;type&quot;).setValue(&quot;new_follower&quot;);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;date&quot;).setValue(currentDate + &quot;  &quot; + currentHour + &quot;:&quot; + currentMinutes);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;message&quot;).setValue(notification_message[0]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (notificationType.equals(&quot;screenshot&quot;)) {\r\n\r\n                    notification_title[0] = &quot;Profile screenshot&quot;;\r\n                    notification_message[0] = user.getDisplayName() + &quot; screenshotted your profile&quot;;\r\n\r\n                    for (DataSnapshot snap : snapshot.getChildren()) {\r\n\r\n                        if (snap.child(&quot;name&quot;).getValue().toString().equals(username)) {\r\n                            String postAuthorID = snap.child(&quot;id&quot;).getValue().toString();\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;title&quot;).setValue(notification_title[0]);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;type&quot;).setValue(&quot;profile_screenshot&quot;);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;date&quot;).setValue(currentDate + &quot;  &quot; + currentHour + &quot;:&quot; + currentMinutes);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;message&quot;).setValue(notification_message[0]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                else if (notificationType.equals(&quot;unfollow&quot;)) {\r\n\r\n                    notification_title[0] = &quot;You lost a follower :(&quot;;\r\n                    notification_message[0] = user.getDisplayName() + &quot; unfollowed you&quot;;\r\n\r\n                    for (DataSnapshot snap : snapshot.getChildren()) {\r\n\r\n                        if (snap.child(&quot;name&quot;).getValue().toString().equals(username)) {\r\n                            String postAuthorID = snap.child(&quot;id&quot;).getValue().toString();\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;title&quot;).setValue(notification_title[0]);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;type&quot;).setValue(&quot;unfollow&quot;);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;date&quot;).setValue(currentDate + &quot;  &quot; + currentHour + &quot;:&quot; + currentMinutes);\r\n                            usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;message&quot;).setValue(notification_message[0]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Find user token from DB\r\n                // and add notification to Firestore\r\n                for (DataSnapshot userSnap : snapshot.getChildren()) {\r\n                    if (userSnap.child(&quot;name&quot;).getValue(String.class).equals(username)) {\r\n\r\n                        if (userSnap.child(&quot;fcm_token&quot;).exists()) {\r\n                            // add notification to Firestore to send\r\n                            // push notification from back-end\r\n                            String firestoreNotificationID = usersRef.push().getKey();\r\n                            Map&lt;String, Object&gt; notification = new HashMap&lt;&gt;();\r\n                            notification.put(&quot;token&quot;, userSnap.child(&quot;fcm_token&quot;).getValue(String.class));\r\n                            notification.put(&quot;title&quot;, notification_title[0]);\r\n                            notification.put(&quot;message&quot;, notification_message[0]);\r\n                            FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n                            firestore.collection(&quot;notifications&quot;)\r\n                                    .document(firestoreNotificationID).set(notification);\r\n                        }\r\n\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(UserProfileActivity.this, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }","title":"Activity starting again without any reason","body":"<p>I'm starting an activity from my item inside my recycler view, but for some reason when my app enters a specific if statement inside a firebase database (<strong>single value event</strong>) listener. I don't know why this is happening and i'm trying 3 days now to solve this issue.</p>\n<p><strong>I tried</strong> removing this if statement and my app is working properly.</p>\n<p>Here is my function with the firebase listener:</p>\n<pre><code>void sendNotificationToUser(String notificationType) {\n\n    FirebaseAuth auth = FirebaseAuth.getInstance();\n    FirebaseUser user = auth.getCurrentUser();\n\n    final String[] notification_message = {&quot;none&quot;};\n    final String[] notification_title = {&quot;none&quot;};\n\n    usersRef.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            String notificationID = usersRef.push().getKey();\n            String currentDate = String.valueOf(android.text.format.DateFormat.format(&quot;dd-MM-yyyy&quot;, new java.util.Date()));\n\n            Calendar calendar = Calendar.getInstance();\n            int currentHour = calendar.get(Calendar.HOUR_OF_DAY);\n            int currentMinutes = calendar.get(Calendar.MINUTE);\n\n            if (notificationType.equals(&quot;profile_visit&quot;)) {\n\n                notification_title[0] = &quot;New profile visitor&quot;;\n                notification_message[0] = user.getDisplayName() + &quot; visited your profile&quot;;\n\n                for (DataSnapshot snap : snapshot.getChildren()) {\n                    if (snap.child(&quot;name&quot;).getValue().toString().equals(username)) {\n                        String postAuthorID = snap.child(&quot;id&quot;).getValue().toString();\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;title&quot;).setValue(&quot;New profile visitor&quot;);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;type&quot;).setValue(&quot;profile_visit&quot;);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;date&quot;).setValue(currentDate + &quot;  &quot; + currentHour + &quot;:&quot; + currentMinutes);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;message&quot;).setValue(user.getDisplayName() + &quot; visited your profile&quot;);\n                        break;\n                    }\n                }\n            }\n\n            if (notificationType.equals(&quot;follow&quot;)) {\n\n                notification_title[0] = &quot;New follower&quot;;\n                notification_message[0] = user.getDisplayName() + &quot; started following you&quot;;\n\n                for (DataSnapshot snap : snapshot.getChildren()) {\n                    if (snap.child(&quot;name&quot;).getValue().toString().equals(username)) {\n                        String postAuthorID = snap.child(&quot;id&quot;).getValue().toString();\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;title&quot;).setValue(notification_title[0]);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;type&quot;).setValue(&quot;new_follower&quot;);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;date&quot;).setValue(currentDate + &quot;  &quot; + currentHour + &quot;:&quot; + currentMinutes);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;message&quot;).setValue(notification_message[0]);\n                        break;\n                    }\n                }\n            }\n\n            if (notificationType.equals(&quot;screenshot&quot;)) {\n\n                notification_title[0] = &quot;Profile screenshot&quot;;\n                notification_message[0] = user.getDisplayName() + &quot; screenshotted your profile&quot;;\n\n                for (DataSnapshot snap : snapshot.getChildren()) {\n\n                    if (snap.child(&quot;name&quot;).getValue().toString().equals(username)) {\n                        String postAuthorID = snap.child(&quot;id&quot;).getValue().toString();\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;title&quot;).setValue(notification_title[0]);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;type&quot;).setValue(&quot;profile_screenshot&quot;);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;date&quot;).setValue(currentDate + &quot;  &quot; + currentHour + &quot;:&quot; + currentMinutes);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;message&quot;).setValue(notification_message[0]);\n                        break;\n                    }\n                }\n            }\n\n            else if (notificationType.equals(&quot;unfollow&quot;)) {\n\n                notification_title[0] = &quot;You lost a follower :(&quot;;\n                notification_message[0] = user.getDisplayName() + &quot; unfollowed you&quot;;\n\n                for (DataSnapshot snap : snapshot.getChildren()) {\n\n                    if (snap.child(&quot;name&quot;).getValue().toString().equals(username)) {\n                        String postAuthorID = snap.child(&quot;id&quot;).getValue().toString();\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;title&quot;).setValue(notification_title[0]);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;type&quot;).setValue(&quot;unfollow&quot;);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;date&quot;).setValue(currentDate + &quot;  &quot; + currentHour + &quot;:&quot; + currentMinutes);\n                        usersRef.child(postAuthorID).child(&quot;notifications&quot;).child(notificationID).child(&quot;message&quot;).setValue(notification_message[0]);\n                        break;\n                    }\n                }\n            }\n\n            // Find user token from DB\n            // and add notification to Firestore\n            for (DataSnapshot userSnap : snapshot.getChildren()) {\n                if (userSnap.child(&quot;name&quot;).getValue(String.class).equals(username)) {\n\n                    if (userSnap.child(&quot;fcm_token&quot;).exists()) {\n                        // add notification to Firestore to send\n                        // push notification from back-end\n                        String firestoreNotificationID = usersRef.push().getKey();\n                        Map&lt;String, Object&gt; notification = new HashMap&lt;&gt;();\n                        notification.put(&quot;token&quot;, userSnap.child(&quot;fcm_token&quot;).getValue(String.class));\n                        notification.put(&quot;title&quot;, notification_title[0]);\n                        notification.put(&quot;message&quot;, notification_message[0]);\n                        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n                        firestore.collection(&quot;notifications&quot;)\n                                .document(firestoreNotificationID).set(notification);\n                    }\n\n                    break;\n                }\n            }\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(UserProfileActivity.this, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n\n}\n</code></pre>\n"},{"tags":["java","swing","graphics2d"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648250866,"creation_date":1648250866,"answer_id":71624107,"question_id":71623787,"body_markdown":"Start by taking a look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details on how painting works in Swing.\r\n\r\n`paint` does a lot of really important work, like setting the default color of the `Graphics` context based on the components `foreground` color, filling the background, setting the clip, etc.\r\n\r\nUnless you&#39;re really willing to take over ALL the control, you&#39;re best to avoid it.  Instead, prefer using `paintComponent`.\r\n\r\nYou may also need to supply some basic sizing hints for the component and in order to be shown on the screen the component will need to be added to some kind of window (ie `JFrame`)\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                boxes(g2d);\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void boxes(Graphics2D twoD) {\r\n                twoD.drawLine(getWidth() / 3, 0, getWidth() / 3, getHeight());\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"It won&#39;t draw the line","body":"<p>Start by taking a look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details on how painting works in Swing.</p>\n<p><code>paint</code> does a lot of really important work, like setting the default color of the <code>Graphics</code> context based on the components <code>foreground</code> color, filling the background, setting the clip, etc.</p>\n<p>Unless you're really willing to take over ALL the control, you're best to avoid it.  Instead, prefer using <code>paintComponent</code>.</p>\n<p>You may also need to supply some basic sizing hints for the component and in order to be shown on the screen the component will need to be added to some kind of window (ie <code>JFrame</code>)</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            boxes(g2d);\n            g2d.dispose();\n        }\n\n        protected void boxes(Graphics2D twoD) {\n            twoD.drawLine(getWidth() / 3, 0, getWidth() / 3, getHeight());\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24666738,"reputation":15,"user_id":18562263,"display_name":"Jessie Smetts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71624107,"answer_count":1,"score":1,"last_activity_date":1648311124,"creation_date":1648247396,"question_id":71623787,"body_markdown":"\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    class Game4 extends JPanel {\r\n      public Game4() {\r\n        setVisible(true);\r\n      }\r\n\r\n      public void paint(Graphics g) {\r\n        Graphics2D twoD = (Graphics2D) g; \r\n        boxes(twoD);\r\n      }\r\n    \r\n      public void boxes(Graphics2D twoD) {\r\n        twoD.drawLine(getWidth() / 3, 0, getWidth() / 3, getHeight());\r\n      }\r\n    }\r\n\r\nFor some reason, I can&#39;t get this code to draw out. I&#39;m not that good with `Graphics2D` so if I could get some help that would be great.","title":"It won&#39;t draw the line","body":"<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\nclass Game4 extends JPanel {\n  public Game4() {\n    setVisible(true);\n  }\n\n  public void paint(Graphics g) {\n    Graphics2D twoD = (Graphics2D) g; \n    boxes(twoD);\n  }\n\n  public void boxes(Graphics2D twoD) {\n    twoD.drawLine(getWidth() / 3, 0, getWidth() / 3, getHeight());\n  }\n}\n</code></pre>\n<p>For some reason, I can't get this code to draw out. I'm not that good with <code>Graphics2D</code> so if I could get some help that would be great.</p>\n"},{"tags":["java","jsf","primefaces","el","converters"],"comments":[{"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"score":0,"creation_date":1648380765,"post_id":71629675,"comment_id":126604675,"body_markdown":"That is strange because your code looks OK to me and you said it works in your PF reproducer.","body":"That is strange because your code looks OK to me and you said it works in your PF reproducer."},{"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"score":0,"creation_date":1648392591,"post_id":71629675,"comment_id":126607085,"body_markdown":"What happens if you remove `, managed = true` as I don&#39;t think that is necessary?","body":"What happens if you remove <code>, managed = true</code> as I don&#39;t think that is necessary?"},{"owner":{"account_id":5238279,"reputation":323,"user_id":4186189,"display_name":"Daniel Maldonado"},"score":0,"creation_date":1648472644,"post_id":71629675,"comment_id":126625381,"body_markdown":"If I remove the &quot;managed = true&quot; as suggested above I still get:  org.primefaces.application.exceptionhandler.PrimeExceptionHandler.logException null\n\tjava.lang.NullPointerException\n\t\tat view.ChainConverter.getAsObject(ChainConverter.java:25)\n\t\tat view.ChainConverter.getAsObject(ChainConverter.java:16)\n\t\t...\nThis is really driving me crazy!  I can get around it by not using the object and just one of its properties but Jesus.","body":"If I remove the &quot;managed = true&quot; as suggested above I still get:  org.primefaces.application.exceptionhandler.PrimeExceptionHa&zwnj;&#8203;ndler.logException null \tjava.lang.NullPointerException \t\tat view.ChainConverter.getAsObject(ChainConverter.java:25) \t\tat view.ChainConverter.getAsObject(ChainConverter.java:16) \t\t... This is really driving me crazy!  I can get around it by not using the object and just one of its properties but Jesus."}],"owner":{"account_id":5238279,"reputation":323,"user_id":4186189,"display_name":"Daniel Maldonado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648310817,"creation_date":1648310817,"question_id":71629675,"body_markdown":" - JVM Version: 14.0.2+12-46\r\n - myfaces-api 2.3.9 \r\n - myfaces-impl 2.3.9\r\n - apache-tomee-webprofile-8.0.4\r\n\r\nI am using the following converter for an simple entity class:\r\n\r\n    package view;\r\n    \r\n    import entities.Chain;\r\n    import managed.Chains;\r\n    import javax.faces.component.UIComponent;\r\n    import javax.faces.context.FacesContext;\r\n    import javax.faces.convert.Converter;\r\n    import javax.faces.convert.FacesConverter;\r\n    import javax.inject.Inject;\r\n    import javax.inject.Named;\r\n    \r\n    @Named\r\n    @FacesConverter(value = &quot;chainConverter&quot;, managed = true)\r\n    public class ChainConverter implements Converter&lt;Chain&gt; {\r\n       @Inject\r\n       Chains chains;   \r\n    \r\n       @Override\r\n       public Chain getAsObject(FacesContext context, UIComponent component, String value) {\r\n    \t\tif (value != null &amp;&amp; !value.trim().isEmpty()) {\r\n    \t\t\tChain found = chains.getAvailable().stream()\r\n    \t\t\t\t\t  .filter(chain -&gt; chain.getAbbreviation().equals(value))\r\n    \t\t\t\t\t  .findFirst()\r\n    \t\t\t\t\t  .orElse(null);\r\n    \t\t\treturn found;\r\n    \t\t}\r\n          return null;\r\n          \r\n       }\r\n    \r\n       @Override\r\n       public String getAsString(FacesContext context, UIComponent component, Chain chain) {\r\n          if (chain != null &amp;&amp; !chain.toString().isEmpty()){\r\n             return chain.getAbbreviation();\r\n             \r\n          }else{\r\n             return null;\r\n             \r\n          }\r\n          \r\n       }\r\n    \r\n    }\r\n\r\n\r\n\r\nGiven the example at:  https://www.primefaces.org/showcase/ui/input/oneMenu.xhtml\r\n\r\nI try to use the converter as follows:\r\n\r\n\r\n    &lt;p:selectOneMenu id=&quot;chain&quot; value=&quot;#{chains.chain}&quot; var=&quot;c&quot; converter=&quot;chainConverter&quot;&gt;\r\n       &lt;f:selectItem itemLabel=&quot;== Selecte Chain ==&quot; /&gt;\r\n       &lt;f:selectItems value=&quot;#{chains.available}&quot; var=&quot;chain&quot; itemLabel=&quot;#{chain.name}&quot; itemValue=&quot;#{chain}&quot; /&gt;\r\n          &lt;p:column&gt;\r\n        \t#{c.name}\r\n          &lt;/p:column&gt;\r\n          &lt;p:ajax event=&quot;valueChange&quot; listener=&quot;#{inventories.refreshSurvey}&quot; update=&quot;@form&quot; /&gt;\r\n    &lt;/p:selectOneMenu&gt;\r\n\r\nThe above &quot;converter=&quot; reference produces the following error:\r\n\r\n    org.primefaces.application.exceptionhandler.PrimeExceptionHandler.logException null\r\n    \tjava.lang.NullPointerException\r\n    \t\tat org.apache.myfaces.cdi.converter.FacesConverterCDIWrapper.getAsString(FacesConverterCDIWrapper.java:69)\r\n    \t\tat org.primefaces.renderkit.SelectRenderer.getOptionAsString(SelectRenderer.java:207)\r\n    \t\tat org.primefaces.component.selectonemenu.SelectOneMenuRenderer.encodeOption(SelectOneMenuRenderer.java:561)\r\n    \t\tat org.primefaces.component.selectonemenu.SelectOneMenuRenderer.encodeSelectItems(SelectOneMenuRenderer.java:524)\r\n    \t\tat org.primefaces.component.selectonemenu.SelectOneMenuRenderer.encodeHiddenSelect(SelectOneMenuRenderer.java:211)\r\n\r\n\r\nIf I change the converter reference to an el expression as follows:\r\n\r\n     converter=&quot;#{chainConverter}&quot;\r\n\r\nI get the error:\r\n\r\n\r\n    org.primefaces.application.exceptionhandler.PrimeExceptionHandler.logException Cannot convert [entities.Chain@928f] of type [class java.lang.String] to [class entities.Chain]\r\n    \tjavax.el.ELException: Cannot convert [entities.Chain@928f] of type [class java.lang.String] to [class entities.Chain]\r\n    \t\tat org.apache.el.lang.ELSupport.coerceToType(ELSupport.java:548)\r\n    \t\tat org.apache.el.parser.AstValue.setValue(AstValue.java:203)\r\n    \t\tat org.apache.el.ValueExpressionImpl.setValue(ValueExpressionImpl.java:263)\r\n    \t\tat org.apache.webbeans.el22.WrappedValueExpression.setValue(WrappedValueExpression.java:93)\r\n    \t\tat org.apache.webbeans.el22.WrappedValueExpression.setValue(WrappedValueExpression.java:93)\r\n\r\nHowever, the weirdest thing is that in one project it works while in the other project it does not.  For example in this sample project it works as expected:  https://github.com/dannymk/PrimefacesTest\r\n\r\nI have a nagging suspicion that there is a difference in a library version someplace in this project.  However, I really can&#39;t pinpoint the problem even after changing the pom file to match a working projects pom file.  This is definitely a head scratcher to me.","title":"JSF selectOneMenu converter null or class cast exception","body":"<ul>\n<li>JVM Version: 14.0.2+12-46</li>\n<li>myfaces-api 2.3.9</li>\n<li>myfaces-impl 2.3.9</li>\n<li>apache-tomee-webprofile-8.0.4</li>\n</ul>\n<p>I am using the following converter for an simple entity class:</p>\n<pre><code>package view;\n\nimport entities.Chain;\nimport managed.Chains;\nimport javax.faces.component.UIComponent;\nimport javax.faces.context.FacesContext;\nimport javax.faces.convert.Converter;\nimport javax.faces.convert.FacesConverter;\nimport javax.inject.Inject;\nimport javax.inject.Named;\n\n@Named\n@FacesConverter(value = &quot;chainConverter&quot;, managed = true)\npublic class ChainConverter implements Converter&lt;Chain&gt; {\n   @Inject\n   Chains chains;   \n\n   @Override\n   public Chain getAsObject(FacesContext context, UIComponent component, String value) {\n        if (value != null &amp;&amp; !value.trim().isEmpty()) {\n            Chain found = chains.getAvailable().stream()\n                      .filter(chain -&gt; chain.getAbbreviation().equals(value))\n                      .findFirst()\n                      .orElse(null);\n            return found;\n        }\n      return null;\n      \n   }\n\n   @Override\n   public String getAsString(FacesContext context, UIComponent component, Chain chain) {\n      if (chain != null &amp;&amp; !chain.toString().isEmpty()){\n         return chain.getAbbreviation();\n         \n      }else{\n         return null;\n         \n      }\n      \n   }\n\n}\n</code></pre>\n<p>Given the example at:  <a href=\"https://www.primefaces.org/showcase/ui/input/oneMenu.xhtml\" rel=\"nofollow noreferrer\">https://www.primefaces.org/showcase/ui/input/oneMenu.xhtml</a></p>\n<p>I try to use the converter as follows:</p>\n<pre><code>&lt;p:selectOneMenu id=&quot;chain&quot; value=&quot;#{chains.chain}&quot; var=&quot;c&quot; converter=&quot;chainConverter&quot;&gt;\n   &lt;f:selectItem itemLabel=&quot;== Selecte Chain ==&quot; /&gt;\n   &lt;f:selectItems value=&quot;#{chains.available}&quot; var=&quot;chain&quot; itemLabel=&quot;#{chain.name}&quot; itemValue=&quot;#{chain}&quot; /&gt;\n      &lt;p:column&gt;\n        #{c.name}\n      &lt;/p:column&gt;\n      &lt;p:ajax event=&quot;valueChange&quot; listener=&quot;#{inventories.refreshSurvey}&quot; update=&quot;@form&quot; /&gt;\n&lt;/p:selectOneMenu&gt;\n</code></pre>\n<p>The above &quot;converter=&quot; reference produces the following error:</p>\n<pre><code>org.primefaces.application.exceptionhandler.PrimeExceptionHandler.logException null\n    java.lang.NullPointerException\n        at org.apache.myfaces.cdi.converter.FacesConverterCDIWrapper.getAsString(FacesConverterCDIWrapper.java:69)\n        at org.primefaces.renderkit.SelectRenderer.getOptionAsString(SelectRenderer.java:207)\n        at org.primefaces.component.selectonemenu.SelectOneMenuRenderer.encodeOption(SelectOneMenuRenderer.java:561)\n        at org.primefaces.component.selectonemenu.SelectOneMenuRenderer.encodeSelectItems(SelectOneMenuRenderer.java:524)\n        at org.primefaces.component.selectonemenu.SelectOneMenuRenderer.encodeHiddenSelect(SelectOneMenuRenderer.java:211)\n</code></pre>\n<p>If I change the converter reference to an el expression as follows:</p>\n<pre><code> converter=&quot;#{chainConverter}&quot;\n</code></pre>\n<p>I get the error:</p>\n<pre><code>org.primefaces.application.exceptionhandler.PrimeExceptionHandler.logException Cannot convert [entities.Chain@928f] of type [class java.lang.String] to [class entities.Chain]\n    javax.el.ELException: Cannot convert [entities.Chain@928f] of type [class java.lang.String] to [class entities.Chain]\n        at org.apache.el.lang.ELSupport.coerceToType(ELSupport.java:548)\n        at org.apache.el.parser.AstValue.setValue(AstValue.java:203)\n        at org.apache.el.ValueExpressionImpl.setValue(ValueExpressionImpl.java:263)\n        at org.apache.webbeans.el22.WrappedValueExpression.setValue(WrappedValueExpression.java:93)\n        at org.apache.webbeans.el22.WrappedValueExpression.setValue(WrappedValueExpression.java:93)\n</code></pre>\n<p>However, the weirdest thing is that in one project it works while in the other project it does not.  For example in this sample project it works as expected:  <a href=\"https://github.com/dannymk/PrimefacesTest\" rel=\"nofollow noreferrer\">https://github.com/dannymk/PrimefacesTest</a></p>\n<p>I have a nagging suspicion that there is a difference in a library version someplace in this project.  However, I really can't pinpoint the problem even after changing the pom file to match a working projects pom file.  This is definitely a head scratcher to me.</p>\n"},{"tags":["java","haxeflixel","hxcpp"],"answers":[{"tags":[],"owner":{"account_id":5347367,"reputation":13,"user_id":4262535,"display_name":"HenryFBP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648310803,"creation_date":1648310803,"answer_id":71629674,"question_id":68929907,"body_markdown":"EDIT: Found this: &lt;https://gist.github.com/darmie/99fbd3512b49d0b8cc11fb93bf2b3f8c&gt;. Not sure if it works.\r\n\r\nI&#39;m not sure how to do this (Maybe you can make a GitHub issue on HaxeFlixel&#39;s page), but you could possibly use REST APIs as a way to use Java code within HaxeFlixel -- https://api.haxeflixel.com/lime/net/HTTPRequest.html -- expose your Java app over a REST API and consume it using `lime.net.HTTPRequest`.","title":"Is there a way for hxcpp to cross compile with Java?","body":"<p>EDIT: Found this: <a href=\"https://gist.github.com/darmie/99fbd3512b49d0b8cc11fb93bf2b3f8c\" rel=\"nofollow noreferrer\">https://gist.github.com/darmie/99fbd3512b49d0b8cc11fb93bf2b3f8c</a>. Not sure if it works.</p>\n<p>I'm not sure how to do this (Maybe you can make a GitHub issue on HaxeFlixel's page), but you could possibly use REST APIs as a way to use Java code within HaxeFlixel -- <a href=\"https://api.haxeflixel.com/lime/net/HTTPRequest.html\" rel=\"nofollow noreferrer\">https://api.haxeflixel.com/lime/net/HTTPRequest.html</a> -- expose your Java app over a REST API and consume it using <code>lime.net.HTTPRequest</code>.</p>\n"}],"owner":{"account_id":22557504,"reputation":1,"user_id":16745610,"display_name":"Axel Annand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648310803,"creation_date":1629925832,"question_id":68929907,"body_markdown":"I am asking this question because I keep getting an error with NativeCFFI in a haxeflixel project (it&#39;s not my project) when I try to build Java with haxeflixel&#39;s lime, and I am wondering what I should do to make hxcpp cross compile with Java? A command I need to run, or code that should be imported? I want to know how I can do this. I apparently tried to exclude NativeCFFI but then found out later it was needed.","title":"Is there a way for hxcpp to cross compile with Java?","body":"<p>I am asking this question because I keep getting an error with NativeCFFI in a haxeflixel project (it's not my project) when I try to build Java with haxeflixel's lime, and I am wondering what I should do to make hxcpp cross compile with Java? A command I need to run, or code that should be imported? I want to know how I can do this. I apparently tried to exclude NativeCFFI but then found out later it was needed.</p>\n"},{"tags":["java","command-line","compiler-errors","compilation","javacompiler"],"comments":[{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1648309890,"post_id":71629518,"comment_id":126594064,"body_markdown":"&quot;I tried this command &quot; - What command? The first or the second one?","body":"&quot;I tried this command &quot; - What command? The first or the second one?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648310636,"creation_date":1648310636,"answer_id":71629644,"question_id":71629518,"body_markdown":"The only really correct answer is: Toss all this stuff in the bin; go get yourself a build system, such as [maven](https://maven.apache.org/) or [gradle](https://gradle.org/).\r\n\r\n# Why?\r\n\r\n`javac` isn&#39;t particularly good at compiling many interconnected source files in different directories, and yet, just lumping all your code into one gigantic package isn&#39;t a good idea. These tools are. You just.. tell them to compile. They &#39;know&#39; that java sources are in `src/main/java`, and can be easily adjusted to consider 2 separate &#39;projects&#39; (`src/client/java` and `src/server/java`, in your case), and even deliver separate jars for these.\r\n\r\nThere&#39;s also the issue of dependency management: With these tools you just write a so-called GAV string (Group/Artifact/Version), such as `com.google.gson::gson::2.9.0` in a config file and maven/gradle just takes care of it. It knows where to find gson online and downloads it for you, and ensures it&#39;s on all the relevant classpaths automatically. This is nice: Sticking all those deps in your source control system means the source control size skyrockets which is annoying, so if not in source control, how do you transfer gson between computers / developers? The answer is: You don&#39;t - every system that needs it just downloads it automatically. Which maven and gradle can do for you.\r\n\r\nFinally, you get &#39;just compile ALL the files&#39; for free, you don&#39;t need to list 6 directories, as you are now. That&#39;s nice.\r\n\r\n## But I really want to use javac\r\n\r\nYou&#39;d be wrong. But if you must:\r\n\r\n## Error 1 in your snippets: `src` abuse\r\n\r\nYour `javac` command compiles all the various files _in place_, meaning, you now have `.class` files in a folder structure that includes `src` and now your project structure is lying to you. This isn&#39;t useful. If you really intend for java and class files to live in the same dir, then just get rid of `src` in the hierarchy. It shuold then just be `yourMainProjectDir/client/net/MyClient.java` and next to it, `MyClient.class`. Alternatively, use the `-d` switch to tell javac to output to a specific directory. For example, `bin`:\r\n\r\n```\r\njavac -d bin -cp &#39;lib/*&#39; client/gui/*.java ..and all other dirs here..\r\n```\r\n\r\n## Error 2 - filename instead of a fully qualified class name\r\n\r\n`java` __does not run files__. It runs classes. The sequential argument (which in your example was `src/server/WinsomeServerMain`) is _a fully qualified classname_. Something like `java.lang.String`, not something like `java/lang/String.class`. `java` will then scan each directory listed in the classpath (which _ARE_ files/directories, and passed with `-cp`) for that resource.\r\n\r\nIn your case, you need 2 separate things on the classpath: gson, and your own class files, which you just compiled.\r\n\r\nThus:\r\n\r\n```\r\njava -cp &#39;lib/*:bin&#39; server.WinsomeServerMain\r\n```\r\n\r\nA few things are happening here:\r\n\r\n* I don&#39;t actually know what your packages are, it&#39;s not clear from your question. You should have a `package xyz;` statement at the top of your `WinsomeServerMain.java` file. If it&#39;s `server`, the above is &#39;correct&#39;. If there is no package statement, _you need one_, packageless is invisible to everything except other stuff in its own package and should be abandoned the moment you introduce any hierarchy of any sort.\r\n\r\n* Java can handle * in classpaths, but you _must_ let java do the unpacking. On just about every shell environment except plain jane windows, the shell will see that * and unpack it for you, you don&#39;t want that, hence, you MUST use single quotes to tell the shell not to act on it. Also, java is very simplistic and just understands `*`. It does not understand `*.jar`, so don&#39;t type that. A classpath root contains classpaths. Hence, `bin` is a root (as the class files are directly in it), but `lib` is not (because the classfiles aren&#39;t in `lib` - they are in a jar file, and the jar file is in `lib`). Hence, that isn&#39;t a typo: `bin` is listed on its own, but it&#39;s `lib/*`. This means you can put whatever libraries you want in `lib` and `lib/*` will get them all.\r\n\r\n## How to deal with config files\r\n\r\nIf those config files are intended to be read only (&#39;shipped with your app&#39; - static data that never changes and that you know at compile time), you should stick them in the jar file and read them with `getResourceAsStream`. If they are intended to be user configurable, they shouldn&#39;t be &#39;with&#39; your class files - class files are code, and code should optimally be placed in a read-only location (at least, as far as the code is concerned). That is why sticking editable files next to them is a bad idea.\r\n\r\nA good solution is to ship templated versions inside the jar (read them with `YourClass.class.getResourceAsStream(&quot;/configtemplate.txt&quot;)` - which will find that file if it&#39;s in the root of the jar. On start, read `Paths.get(System.getProperty(&quot;user.home&quot;), &quot;myapp.config&quot;)` and if it is missing, create it, filling it with the template and telling the user to go edit it.\r\n\r\nThat writes to a user&#39;s home dir (C:\\Users\\YourUserName on windows, /home/youracct on linux, /Users/youracct on mac, etc), which is intended for this purpose, and is definitely writable.\r\n\r\n## Better deployment\r\n\r\nYet another advantage of build systems is that they make creation of nice deploys easier: You really want your files in a jar file that specifies its own classpath. build tools can do that. You optimally want to &#39;ship&#39; your app such that someone ends up with:\r\n\r\n```\r\nC:\\Program Files\\YourApp\\YourApp.jar\r\nC:\\Program Files\\YourApp\\lib\\gson.jar\r\n```\r\n\r\nand that the only thing that is needed to run the app is to type `java -jar YourApp.jar` or just doubleclick YourApp.jar in the explorer - and for all that to be platform agnostic (same deal on windows and macs). You can do that - jars can specify their own classpath which is resolved relative to the jar. This involves including a manifest that here would have key `Class-Path: lib/gson.jar` inside it. You can do it by hand (`jar cvmf MyManifest.mf MyApp.jar client/ui/*.class client/*.class etcetera` - something like that, where you create the MyManifest.mf text file and list that key inside it), but there are so many steps here, and gradle/maven automate it all.\r\n","title":"Compiling and running java project with many dependencies classes in other directories","body":"<p>The only really correct answer is: Toss all this stuff in the bin; go get yourself a build system, such as <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven</a> or <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">gradle</a>.</p>\n<h1>Why?</h1>\n<p><code>javac</code> isn't particularly good at compiling many interconnected source files in different directories, and yet, just lumping all your code into one gigantic package isn't a good idea. These tools are. You just.. tell them to compile. They 'know' that java sources are in <code>src/main/java</code>, and can be easily adjusted to consider 2 separate 'projects' (<code>src/client/java</code> and <code>src/server/java</code>, in your case), and even deliver separate jars for these.</p>\n<p>There's also the issue of dependency management: With these tools you just write a so-called GAV string (Group/Artifact/Version), such as <code>com.google.gson::gson::2.9.0</code> in a config file and maven/gradle just takes care of it. It knows where to find gson online and downloads it for you, and ensures it's on all the relevant classpaths automatically. This is nice: Sticking all those deps in your source control system means the source control size skyrockets which is annoying, so if not in source control, how do you transfer gson between computers / developers? The answer is: You don't - every system that needs it just downloads it automatically. Which maven and gradle can do for you.</p>\n<p>Finally, you get 'just compile ALL the files' for free, you don't need to list 6 directories, as you are now. That's nice.</p>\n<h2>But I really want to use javac</h2>\n<p>You'd be wrong. But if you must:</p>\n<h2>Error 1 in your snippets: <code>src</code> abuse</h2>\n<p>Your <code>javac</code> command compiles all the various files <em>in place</em>, meaning, you now have <code>.class</code> files in a folder structure that includes <code>src</code> and now your project structure is lying to you. This isn't useful. If you really intend for java and class files to live in the same dir, then just get rid of <code>src</code> in the hierarchy. It shuold then just be <code>yourMainProjectDir/client/net/MyClient.java</code> and next to it, <code>MyClient.class</code>. Alternatively, use the <code>-d</code> switch to tell javac to output to a specific directory. For example, <code>bin</code>:</p>\n<pre><code>javac -d bin -cp 'lib/*' client/gui/*.java ..and all other dirs here..\n</code></pre>\n<h2>Error 2 - filename instead of a fully qualified class name</h2>\n<p><code>java</code> <strong>does not run files</strong>. It runs classes. The sequential argument (which in your example was <code>src/server/WinsomeServerMain</code>) is <em>a fully qualified classname</em>. Something like <code>java.lang.String</code>, not something like <code>java/lang/String.class</code>. <code>java</code> will then scan each directory listed in the classpath (which <em>ARE</em> files/directories, and passed with <code>-cp</code>) for that resource.</p>\n<p>In your case, you need 2 separate things on the classpath: gson, and your own class files, which you just compiled.</p>\n<p>Thus:</p>\n<pre><code>java -cp 'lib/*:bin' server.WinsomeServerMain\n</code></pre>\n<p>A few things are happening here:</p>\n<ul>\n<li><p>I don't actually know what your packages are, it's not clear from your question. You should have a <code>package xyz;</code> statement at the top of your <code>WinsomeServerMain.java</code> file. If it's <code>server</code>, the above is 'correct'. If there is no package statement, <em>you need one</em>, packageless is invisible to everything except other stuff in its own package and should be abandoned the moment you introduce any hierarchy of any sort.</p>\n</li>\n<li><p>Java can handle * in classpaths, but you <em>must</em> let java do the unpacking. On just about every shell environment except plain jane windows, the shell will see that * and unpack it for you, you don't want that, hence, you MUST use single quotes to tell the shell not to act on it. Also, java is very simplistic and just understands <code>*</code>. It does not understand <code>*.jar</code>, so don't type that. A classpath root contains classpaths. Hence, <code>bin</code> is a root (as the class files are directly in it), but <code>lib</code> is not (because the classfiles aren't in <code>lib</code> - they are in a jar file, and the jar file is in <code>lib</code>). Hence, that isn't a typo: <code>bin</code> is listed on its own, but it's <code>lib/*</code>. This means you can put whatever libraries you want in <code>lib</code> and <code>lib/*</code> will get them all.</p>\n</li>\n</ul>\n<h2>How to deal with config files</h2>\n<p>If those config files are intended to be read only ('shipped with your app' - static data that never changes and that you know at compile time), you should stick them in the jar file and read them with <code>getResourceAsStream</code>. If they are intended to be user configurable, they shouldn't be 'with' your class files - class files are code, and code should optimally be placed in a read-only location (at least, as far as the code is concerned). That is why sticking editable files next to them is a bad idea.</p>\n<p>A good solution is to ship templated versions inside the jar (read them with <code>YourClass.class.getResourceAsStream(&quot;/configtemplate.txt&quot;)</code> - which will find that file if it's in the root of the jar. On start, read <code>Paths.get(System.getProperty(&quot;user.home&quot;), &quot;myapp.config&quot;)</code> and if it is missing, create it, filling it with the template and telling the user to go edit it.</p>\n<p>That writes to a user's home dir (C:\\Users\\YourUserName on windows, /home/youracct on linux, /Users/youracct on mac, etc), which is intended for this purpose, and is definitely writable.</p>\n<h2>Better deployment</h2>\n<p>Yet another advantage of build systems is that they make creation of nice deploys easier: You really want your files in a jar file that specifies its own classpath. build tools can do that. You optimally want to 'ship' your app such that someone ends up with:</p>\n<pre><code>C:\\Program Files\\YourApp\\YourApp.jar\nC:\\Program Files\\YourApp\\lib\\gson.jar\n</code></pre>\n<p>and that the only thing that is needed to run the app is to type <code>java -jar YourApp.jar</code> or just doubleclick YourApp.jar in the explorer - and for all that to be platform agnostic (same deal on windows and macs). You can do that - jars can specify their own classpath which is resolved relative to the jar. This involves including a manifest that here would have key <code>Class-Path: lib/gson.jar</code> inside it. You can do it by hand (<code>jar cvmf MyManifest.mf MyApp.jar client/ui/*.class client/*.class etcetera</code> - something like that, where you create the MyManifest.mf text file and list that key inside it), but there are so many steps here, and gradle/maven automate it all.</p>\n"}],"owner":{"account_id":18423407,"reputation":59,"user_id":13420412,"display_name":"Dylan Nico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71629644,"answer_count":1,"score":0,"last_activity_date":1648310636,"creation_date":1648309561,"question_id":71629518,"body_markdown":"I have this structure of all my directories:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Whrv.png\r\n\r\nI am trying to compile and execute ServerMain and ClientMain. The following compilation worked:\r\n\r\n    src&gt;javac -cp .;../lib/gson-2.8.2.jar client/gui/*.java client/net/*.java client/*.java server/*.java server/net/*.java server/exceptions/*.java server/controller/*.java server/data/*.java common/*.java\r\n\r\nI have to execute the program not in src, but in the previous directory, because in the code there is a function which read from configuration file in the cfg directory.\r\n\r\nI tried this command to execute but I have a lot of errors: ClassesNotFound or Errors in the path of cfg file (which is /cfg/server.cfg in the code) or the ServerMain is not found.\r\n\r\nThe following command is executed in the previous directory of src which is PROJECT in the images\r\n\r\n    java -cp lib/gson-2.8.2.jar src/server/WinsomeServerMain\r\n\r\nHow do I execute properly?","title":"Compiling and running java project with many dependencies classes in other directories","body":"<p>I have this structure of all my directories:</p>\n<p><a href=\"https://i.stack.imgur.com/0Whrv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Whrv.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to compile and execute ServerMain and ClientMain. The following compilation worked:</p>\n<pre><code>src&gt;javac -cp .;../lib/gson-2.8.2.jar client/gui/*.java client/net/*.java client/*.java server/*.java server/net/*.java server/exceptions/*.java server/controller/*.java server/data/*.java common/*.java\n</code></pre>\n<p>I have to execute the program not in src, but in the previous directory, because in the code there is a function which read from configuration file in the cfg directory.</p>\n<p>I tried this command to execute but I have a lot of errors: ClassesNotFound or Errors in the path of cfg file (which is /cfg/server.cfg in the code) or the ServerMain is not found.</p>\n<p>The following command is executed in the previous directory of src which is PROJECT in the images</p>\n<pre><code>java -cp lib/gson-2.8.2.jar src/server/WinsomeServerMain\n</code></pre>\n<p>How do I execute properly?</p>\n"},{"tags":["java","object","oop","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648222601,"creation_date":1648222601,"answer_id":71619564,"question_id":71619083,"body_markdown":"The problem in your code is that you try to return a `double` for `circle` in `Area()` but you have declared `Area()` to return an `int` in your abstract class. \r\n\r\nThere are two possible ways to fix this:\r\n#### Round `double` value for `Area()` of `circle()` to `int`\r\nYou can do this similar to the following. This will make sure that the rounded value will actually fit into an `int`. \r\n```java\r\nint longCastToInt;\r\ntry {\r\n   longCastToInt = Math.toIntExact(Math.round(my_int));\r\n} catch (ArithmeticException e){\r\n    System.err.println(&quot;Value is does not fit into an int value!&quot;);\r\n}\r\n```\r\nThis way is probably not the way you should go, as you will only get rounded results for `circle`.\r\n\r\n##### Use `double` in abstract class `shape` and adjust subclasses accordingly\r\nThis is what you should probably do. Adjust the return type of `Area()` to `double` and do that for all subclasses accordingly and your code will run and print the correct results.\r\n\r\nAbstract class `shape`\r\n```java\r\nabstract class shape {\r\n    public void printName() {\r\n        System.out.println(&quot;My name is Pranjal Sharma&quot;);\r\n    }\r\n    abstract public double Area();\r\n}\r\n```\r\n\r\nSubclass `rectangle`\r\n```java\r\nclass rectangle extends shape {\r\n    int l;\r\n    int b;\r\n    @Override\r\n    public double Area() {\r\n        return l * b;\r\n    }\r\n}\r\n```\r\n\r\nSubclass `circle`\r\n```java\r\nclass circle extends shape{\r\n    int r;\r\n    @Override\r\n    public double Area() {\r\n        return Math.PI*r*r;\r\n    }\r\n}\r\n```\r\n\r\nSubclass `square`\r\n```java\r\nclass square extends shape{\r\n    int side;\r\n    @Override\r\n    public double Area() {\r\n        return side*side;\r\n    }\r\n}\r\n```\r\n\r\nMy `main`.\r\n```java\r\npublic class oops_2 {\r\n    public static void main(String[] args) {\r\n        rectangle r = new rectangle();\r\n        r.l = 4;\r\n        r.b = 4;\r\n        System.out.println(r.Area());\r\n        square s=new square();\r\n        s.side=4;\r\n        System.out.println(s.Area());\r\n        circle c=new circle();\r\n        c.r=4;\r\n        System.out.println(c.Area());\r\n    }\r\n}\r\n```\r\n\r\nExpected output:\r\n```\r\n16.0\r\n16.0\r\n50.26548245743669\r\n```\r\n\r\n### Another remark\r\nYou should follow [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html), so start your class names with a capital letter (e.g. `circle` should be `Circle`) and start your methods with a lower case letter, so `Area()` should be `area()`.","title":"finding problem in abstract class in opps topic","body":"<p>The problem in your code is that you try to return a <code>double</code> for <code>circle</code> in <code>Area()</code> but you have declared <code>Area()</code> to return an <code>int</code> in your abstract class.</p>\n<p>There are two possible ways to fix this:</p>\n<h4>Round <code>double</code> value for <code>Area()</code> of <code>circle()</code> to <code>int</code></h4>\n<p>You can do this similar to the following. This will make sure that the rounded value will actually fit into an <code>int</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int longCastToInt;\ntry {\n   longCastToInt = Math.toIntExact(Math.round(my_int));\n} catch (ArithmeticException e){\n    System.err.println(&quot;Value is does not fit into an int value!&quot;);\n}\n</code></pre>\n<p>This way is probably not the way you should go, as you will only get rounded results for <code>circle</code>.</p>\n<h5>Use <code>double</code> in abstract class <code>shape</code> and adjust subclasses accordingly</h5>\n<p>This is what you should probably do. Adjust the return type of <code>Area()</code> to <code>double</code> and do that for all subclasses accordingly and your code will run and print the correct results.</p>\n<p>Abstract class <code>shape</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class shape {\n    public void printName() {\n        System.out.println(&quot;My name is Pranjal Sharma&quot;);\n    }\n    abstract public double Area();\n}\n</code></pre>\n<p>Subclass <code>rectangle</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class rectangle extends shape {\n    int l;\n    int b;\n    @Override\n    public double Area() {\n        return l * b;\n    }\n}\n</code></pre>\n<p>Subclass <code>circle</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class circle extends shape{\n    int r;\n    @Override\n    public double Area() {\n        return Math.PI*r*r;\n    }\n}\n</code></pre>\n<p>Subclass <code>square</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class square extends shape{\n    int side;\n    @Override\n    public double Area() {\n        return side*side;\n    }\n}\n</code></pre>\n<p>My <code>main</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class oops_2 {\n    public static void main(String[] args) {\n        rectangle r = new rectangle();\n        r.l = 4;\n        r.b = 4;\n        System.out.println(r.Area());\n        square s=new square();\n        s.side=4;\n        System.out.println(s.Area());\n        circle c=new circle();\n        c.r=4;\n        System.out.println(c.Area());\n    }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>16.0\n16.0\n50.26548245743669\n</code></pre>\n<h3>Another remark</h3>\n<p>You should follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>, so start your class names with a capital letter (e.g. <code>circle</code> should be <code>Circle</code>) and start your methods with a lower case letter, so <code>Area()</code> should be <code>area()</code>.</p>\n"}],"owner":{"account_id":24440789,"reputation":1,"user_id":18364522,"display_name":"1018_csds_Pranjal Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648310270,"creation_date":1648220531,"question_id":71619083,"body_markdown":"I will make an abstract class of shape and write a method of find a area of circle,rectangle &amp; square\r\nbut after proceeding the code my answer wa come for both rectangle and square but in circle it found an error.\r\n\r\nbelow is code.\r\n\r\nMy abstract class `shape`\r\n```java\r\nabstract class shape {\r\n    public void printName() {\r\n        System.out.println(&quot;My name is Pranjal Sharma&quot;);\r\n    }\r\n    abstract public int Area();\r\n}\r\n```\r\n\r\nSubclass `rectangle`\r\n```java\r\nclass rectangle extends shape {\r\n    int l;\r\n    int b;\r\n    @Override\r\n    public int Area() {\r\n        return l * b;\r\n    }\r\n}\r\n```\r\n\r\nSubclass `circle`\r\n```java\r\nclass circle extends shape{\r\n    int r;\r\n    @Override\r\n    public double Area() {\r\n        return Math.PI*r*r;\r\n    }\r\n}\r\n```\r\n\r\nSubclass `square`\r\n```java\r\nclass square extends shape{\r\n    int side;\r\n    @Override\r\n    public int Area() {\r\n        return side*side;\r\n    }\r\n}\r\n```\r\n\r\nMy `main`.\r\n```java\r\npublic class oops_2 {\r\n    public static void main(String[] args) {\r\n        rectangle r = new rectangle();\r\n        r.l = 4;\r\n        r.b = 4;\r\n        System.out.println(r.Area());\r\n        square s=new square();\r\n        s.side=4;\r\n        System.out.println(s.Area());\r\n        circle c=new circle();\r\n        c.r=4;\r\n        System.out.println(c.Area());\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy expectation was also code of circle was run.","title":"finding problem in abstract class in opps topic","body":"<p>I will make an abstract class of shape and write a method of find a area of circle,rectangle &amp; square\nbut after proceeding the code my answer wa come for both rectangle and square but in circle it found an error.</p>\n<p>below is code.</p>\n<p>My abstract class <code>shape</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class shape {\n    public void printName() {\n        System.out.println(&quot;My name is Pranjal Sharma&quot;);\n    }\n    abstract public int Area();\n}\n</code></pre>\n<p>Subclass <code>rectangle</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class rectangle extends shape {\n    int l;\n    int b;\n    @Override\n    public int Area() {\n        return l * b;\n    }\n}\n</code></pre>\n<p>Subclass <code>circle</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class circle extends shape{\n    int r;\n    @Override\n    public double Area() {\n        return Math.PI*r*r;\n    }\n}\n</code></pre>\n<p>Subclass <code>square</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class square extends shape{\n    int side;\n    @Override\n    public int Area() {\n        return side*side;\n    }\n}\n</code></pre>\n<p>My <code>main</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class oops_2 {\n    public static void main(String[] args) {\n        rectangle r = new rectangle();\n        r.l = 4;\n        r.b = 4;\n        System.out.println(r.Area());\n        square s=new square();\n        s.side=4;\n        System.out.println(s.Area());\n        circle c=new circle();\n        c.r=4;\n        System.out.println(c.Area());\n    }\n}\n</code></pre>\n<p>My expectation was also code of circle was run.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1648308339,"post_id":71621939,"comment_id":126593704,"body_markdown":"From a quick web search leading to [the official documentation](https://code.visualstudio.com/docs/getstarted/settings#_workspace-settings): Workspace settings as well as debugging and task configurations are stored at the root in a .vscode folder.","body":"From a quick web search leading to <a href=\"https://code.visualstudio.com/docs/getstarted/settings#_workspace-settings\" rel=\"nofollow noreferrer\">the official documentation</a>: Workspace settings as well as debugging and task configurations are stored at the root in a .vscode folder."}],"answers":[{"tags":[],"owner":{"account_id":18231926,"reputation":111,"user_id":13270701,"display_name":"hayden.mumm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648238448,"creation_date":1648238448,"answer_id":71622492,"question_id":71621939,"body_markdown":"It looks like that is just telling vscode where to look for your source files.\r\n\r\nI&#39;m not sure how you went about creating this project but I would suggest looking at the official documentation [here][1] and following along with that.\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project","title":".vscode folder in .java is not on the classpath of project","body":"<p>It looks like that is just telling vscode where to look for your source files.</p>\n<p>I'm not sure how you went about creating this project but I would suggest looking at the official documentation <a href=\"https://code.visualstudio.com/docs/java/java-project\" rel=\"nofollow noreferrer\">here</a> and following along with that.</p>\n"}],"owner":{"account_id":24646869,"reputation":3,"user_id":18544420,"display_name":"ardagunes2002 arda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648308560,"creation_date":1648234962,"question_id":71621939,"body_markdown":"When I create a folder that I create my whole studies like that and i create a new java program, i got this error without .vscode folder. Why? What does the .vscode file do and fix this error? Thanks for help.\r\n\r\n![VSCode screenshot](https://cdn.discordapp.com/attachments/818537627014922261/956991228887592960/unknown.png)\r\n\r\nI want to know what .vscode folder do? how can .vscode folder fix this situation?\r\n","title":".vscode folder in .java is not on the classpath of project","body":"<p>When I create a folder that I create my whole studies like that and i create a new java program, i got this error without .vscode folder. Why? What does the .vscode file do and fix this error? Thanks for help.</p>\n<p><img src=\"https://cdn.discordapp.com/attachments/818537627014922261/956991228887592960/unknown.png\" alt=\"VSCode screenshot\" /></p>\n<p>I want to know what .vscode folder do? how can .vscode folder fix this situation?</p>\n"},{"tags":["java","android","android-studio","agora.io"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648308106,"creation_date":1647852851,"answer_id":71554932,"question_id":71553889,"body_markdown":"Instead of using handler, I&#39;d prefer you to use `CountDownTimer`. In this, you can also stop it in the middle. You can refer the code below:\r\n```\r\n//In your class\r\nCountDownTimer mCountDownTimer;\r\n\r\n//when the network goes\r\nmCountDownTimer = new CountDownTimer((10 * 1000), (1 * 1000)){ // multiple the number of seconds by thousand to get the appropriate results. Here 10 * 1000 = 10000(10 seconds) and 1 * 1000 = 1000(1 second)\r\n   @Override\r\n   public void onTick(long millisInFuture){}\r\n   \r\n   @Override\r\n   public void onFinish(){\r\n      //10 seconds have finished. Drop the call.\r\n   }\r\n}.start();\r\n\r\n//If the internet comes back\r\nif(mCountDownTimer != null)\r\n   mCountDownTimer.cancel();\r\n```","title":"How to check if remote user or user internet disconnects or not in video call","body":"<p>Instead of using handler, I'd prefer you to use <code>CountDownTimer</code>. In this, you can also stop it in the middle. You can refer the code below:</p>\n<pre><code>//In your class\nCountDownTimer mCountDownTimer;\n\n//when the network goes\nmCountDownTimer = new CountDownTimer((10 * 1000), (1 * 1000)){ // multiple the number of seconds by thousand to get the appropriate results. Here 10 * 1000 = 10000(10 seconds) and 1 * 1000 = 1000(1 second)\n   @Override\n   public void onTick(long millisInFuture){}\n   \n   @Override\n   public void onFinish(){\n      //10 seconds have finished. Drop the call.\n   }\n}.start();\n\n//If the internet comes back\nif(mCountDownTimer != null)\n   mCountDownTimer.cancel();\n</code></pre>\n"}],"owner":{"account_id":22669042,"reputation":39,"user_id":16840989,"display_name":"Salman Afzal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71554932,"answer_count":1,"score":1,"last_activity_date":1648308106,"creation_date":1647846350,"question_id":71553889,"body_markdown":"I am making a video call app. I want to make a reconnection scenario just like whatsapp i.e. if the user or remote user internet disconnects after waiting for 10-15 seconds call should end for both. here is my code:\r\n\r\n      private final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\r\n        @Override\r\n        public void onJoinChannelSuccess(String channel, final int uid, int elapsed) {\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (AppSharedPreferences.getUser(context).getUserTypeId() == 2) {\r\n                        updateDoctorStatus(&quot;3&quot;);\r\n                    }\r\n                    Log.e(&quot;Agora&quot;, &quot;Join channel success, uid: &quot; + (uid &amp; 0xFFFFFFFFL));\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onFirstRemoteVideoDecoded(final int uid, int width, int height, int elapsed) {\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.e(&quot;Agora&quot;, &quot;First remote video decoded, uid: &quot; + (uid &amp; 0xFFFFFFFFL));\r\n                    reconnectingView.setVisibility(View.GONE);\r\n                    timerRunning = true;\r\n                    appointmentStarted = true;\r\n                    if (reconnecting) {\r\n                        timeLeftInMillis = AppSharedPreferences.getCallTimer(VideoChatViewActivity.this);\r\n                        countDownTimer.cancel();\r\n                    }\r\n                    callingView.setVisibility(View.GONE);\r\n                    handler.removeCallbacks(runnableCode);\r\n                    callHandler.removeCallbacks(runnableforCalling);\r\n                    startMeeting();\r\n                    updateAppointmentStatus();\r\n                    setupRemoteVideo(uid);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onUserOffline(final int uid, final int reason) {\r\n            Log.e(&quot;Agora&quot;, &quot;User offline, reason: &quot; + reason);\r\n            ConnectivityManager cm = (ConnectivityManager) getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo nInfo = cm.getActiveNetworkInfo();\r\n            boolean connected = nInfo != null &amp;&amp; nInfo.isAvailable() &amp;&amp; nInfo.isConnected();\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.e(&quot;Agora&quot;, &quot;User offline, uid: &quot; + (uid &amp; 0xFFFFFFFFL));\r\n                    if (reason == 0) {\r\n                        onRemoteUserLeft();\r\n                        endCall();\r\n                    } else {\r\n                        timerRunning = false;\r\n                        reconnecting = true;\r\n                        reconnectingView.setVisibility(View.VISIBLE);\r\n                        reconnectingText.setText(&quot;Reconnecting....&quot;);\r\n                        Toast.makeText(VideoChatViewActivity.this, &quot;Doctor internet disconnected&quot;, Toast.LENGTH_LONG).show();\r\n                        reconnectingHandler.postDelayed(() -&gt; {\r\n                            if (reconnecting) {\r\n                                onRemoteUserLeft();\r\n                                endCall();\r\n                            }\r\n                        }, 10000);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onUserMuteVideo(final int uid, final boolean muted) {\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.e(&quot;Agora&quot;, &quot;User Muted, uid: &quot; + (uid &amp; 0xFFFFFFFFL));\r\n                    Log.e(&quot;Agora&quot;, &quot;User Muted,: &quot; + muted);\r\n                    if (muted)\r\n                        remote_off.setVisibility(View.VISIBLE);\r\n                    else\r\n                        remote_off.setVisibility(View.GONE);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onRejoinChannelSuccess(String channel, int uid, int elapsed) {\r\n            super.onRejoinChannelSuccess(channel, uid, elapsed);\r\n            reconnecting = false;\r\n            \r\n            Toast.makeText(VideoChatViewActivity.this, &quot;Reconnected&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        @Override\r\n        public void onNetworkQuality(int uid, final int txQuality, final int rxQuality) {\r\n            runOnUiThread(() -&gt; {\r\n                // Log.e(&quot;Quality&quot;, rxQuality + &quot;&quot;);\r\n                if (rxQuality == Quality.VBAD) {\r\n                    signals.setImageDrawable(getResources().getDrawable(R.drawable.signal1));\r\n                }\r\n                if (rxQuality == Quality.BAD) {\r\n                    signals.setImageDrawable(getResources().getDrawable(R.drawable.signal2));\r\n                }\r\n                if (rxQuality == Quality.POOR) {\r\n                    signals.setImageDrawable(getResources().getDrawable(R.drawable.signal3));\r\n                }\r\n                if (rxQuality == Quality.GOOD) {\r\n                    signals.setImageDrawable(getResources().getDrawable(R.drawable.signal4));\r\n                }\r\n                if (rxQuality == Quality.EXCELLENT) {\r\n                    signals.setImageDrawable(getResources().getDrawable(R.drawable.signal5));\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onConnectionStateChanged(int state, int reason) {\r\n            Log.d(TAG, &quot;Connection state changes to &quot;\r\n                    + state + &quot; reason: &quot; + reason);\r\n        }\r\n    };\r\n\r\nAny help will be appreciated. In the code above there is a problem, I have used a handler in onUserOffline method which will end call after 10 seconds of user offline, but if the user reconnects within 10 seconds the handler still works and the call ends after 10 seconds.","title":"How to check if remote user or user internet disconnects or not in video call","body":"<p>I am making a video call app. I want to make a reconnection scenario just like whatsapp i.e. if the user or remote user internet disconnects after waiting for 10-15 seconds call should end for both. here is my code:</p>\n<pre><code>  private final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\n    @Override\n    public void onJoinChannelSuccess(String channel, final int uid, int elapsed) {\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                if (AppSharedPreferences.getUser(context).getUserTypeId() == 2) {\n                    updateDoctorStatus(&quot;3&quot;);\n                }\n                Log.e(&quot;Agora&quot;, &quot;Join channel success, uid: &quot; + (uid &amp; 0xFFFFFFFFL));\n            }\n        });\n    }\n\n    @Override\n    public void onFirstRemoteVideoDecoded(final int uid, int width, int height, int elapsed) {\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                Log.e(&quot;Agora&quot;, &quot;First remote video decoded, uid: &quot; + (uid &amp; 0xFFFFFFFFL));\n                reconnectingView.setVisibility(View.GONE);\n                timerRunning = true;\n                appointmentStarted = true;\n                if (reconnecting) {\n                    timeLeftInMillis = AppSharedPreferences.getCallTimer(VideoChatViewActivity.this);\n                    countDownTimer.cancel();\n                }\n                callingView.setVisibility(View.GONE);\n                handler.removeCallbacks(runnableCode);\n                callHandler.removeCallbacks(runnableforCalling);\n                startMeeting();\n                updateAppointmentStatus();\n                setupRemoteVideo(uid);\n            }\n        });\n    }\n\n    @Override\n    public void onUserOffline(final int uid, final int reason) {\n        Log.e(&quot;Agora&quot;, &quot;User offline, reason: &quot; + reason);\n        ConnectivityManager cm = (ConnectivityManager) getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo nInfo = cm.getActiveNetworkInfo();\n        boolean connected = nInfo != null &amp;&amp; nInfo.isAvailable() &amp;&amp; nInfo.isConnected();\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                Log.e(&quot;Agora&quot;, &quot;User offline, uid: &quot; + (uid &amp; 0xFFFFFFFFL));\n                if (reason == 0) {\n                    onRemoteUserLeft();\n                    endCall();\n                } else {\n                    timerRunning = false;\n                    reconnecting = true;\n                    reconnectingView.setVisibility(View.VISIBLE);\n                    reconnectingText.setText(&quot;Reconnecting....&quot;);\n                    Toast.makeText(VideoChatViewActivity.this, &quot;Doctor internet disconnected&quot;, Toast.LENGTH_LONG).show();\n                    reconnectingHandler.postDelayed(() -&gt; {\n                        if (reconnecting) {\n                            onRemoteUserLeft();\n                            endCall();\n                        }\n                    }, 10000);\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onUserMuteVideo(final int uid, final boolean muted) {\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                Log.e(&quot;Agora&quot;, &quot;User Muted, uid: &quot; + (uid &amp; 0xFFFFFFFFL));\n                Log.e(&quot;Agora&quot;, &quot;User Muted,: &quot; + muted);\n                if (muted)\n                    remote_off.setVisibility(View.VISIBLE);\n                else\n                    remote_off.setVisibility(View.GONE);\n            }\n        });\n    }\n\n    @Override\n    public void onRejoinChannelSuccess(String channel, int uid, int elapsed) {\n        super.onRejoinChannelSuccess(channel, uid, elapsed);\n        reconnecting = false;\n        \n        Toast.makeText(VideoChatViewActivity.this, &quot;Reconnected&quot;, Toast.LENGTH_LONG).show();\n    }\n\n    @Override\n    public void onNetworkQuality(int uid, final int txQuality, final int rxQuality) {\n        runOnUiThread(() -&gt; {\n            // Log.e(&quot;Quality&quot;, rxQuality + &quot;&quot;);\n            if (rxQuality == Quality.VBAD) {\n                signals.setImageDrawable(getResources().getDrawable(R.drawable.signal1));\n            }\n            if (rxQuality == Quality.BAD) {\n                signals.setImageDrawable(getResources().getDrawable(R.drawable.signal2));\n            }\n            if (rxQuality == Quality.POOR) {\n                signals.setImageDrawable(getResources().getDrawable(R.drawable.signal3));\n            }\n            if (rxQuality == Quality.GOOD) {\n                signals.setImageDrawable(getResources().getDrawable(R.drawable.signal4));\n            }\n            if (rxQuality == Quality.EXCELLENT) {\n                signals.setImageDrawable(getResources().getDrawable(R.drawable.signal5));\n            }\n        });\n    }\n\n    @Override\n    public void onConnectionStateChanged(int state, int reason) {\n        Log.d(TAG, &quot;Connection state changes to &quot;\n                + state + &quot; reason: &quot; + reason);\n    }\n};\n</code></pre>\n<p>Any help will be appreciated. In the code above there is a problem, I have used a handler in onUserOffline method which will end call after 10 seconds of user offline, but if the user reconnects within 10 seconds the handler still works and the call ends after 10 seconds.</p>\n"},{"tags":["java","ssl","cxf","cxf-client"],"answers":[{"tags":[],"owner":{"account_id":7678106,"reputation":11,"user_id":17829625,"display_name":"Borna R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641284402,"creation_date":1641284402,"answer_id":70575845,"question_id":70575695,"body_markdown":"You need to import certificates to the keystore. This answer is a common solution. \r\n\r\n[https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ][1]\r\n\r\nAlso try adding keystore and truststore paths and passwords to VM options.\r\n\r\n    -Djavax.net.ssl.keyStore=C:\\...\\keystore.jks\r\n    -Djavax.net.ssl.keyStorePassword=password\r\n    -Djavax.net.ssl.trustStore=C:\\..\\truststore.jks\r\n    -Djavax.net.ssl.trustStorePassword=password\r\n    -Djavax.net.ssl.type=JKS\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ","title":"CXF:PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>You need to import certificates to the keystore. This answer is a common solution.</p>\n<p><a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\">&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;</a></p>\n<p>Also try adding keystore and truststore paths and passwords to VM options.</p>\n<pre><code>-Djavax.net.ssl.keyStore=C:\\...\\keystore.jks\n-Djavax.net.ssl.keyStorePassword=password\n-Djavax.net.ssl.trustStore=C:\\..\\truststore.jks\n-Djavax.net.ssl.trustStorePassword=password\n-Djavax.net.ssl.type=JKS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641311435,"creation_date":1641311435,"answer_id":70581498,"question_id":70575695,"body_markdown":"The error was actually a CXF one and not a certificate one. Specifically, the Binding Provider actually ignores JAXWS properties and i had to pass the SSL context as shown below:\r\n\r\n```\r\nSSLContext sc = &quot;your custom SSL Context&quot;\r\nTLSClientParameters tlsParams = new TLSClientParameters();\r\ntlsParams.setUseHttpsURLConnectionDefaultSslSocketFactory(false);\r\ntlsParams.setSSLSocketFactory(sc.getSocketFactory());\r\n```","title":"CXF:PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>The error was actually a CXF one and not a certificate one. Specifically, the Binding Provider actually ignores JAXWS properties and i had to pass the SSL context as shown below:</p>\n<pre><code>SSLContext sc = &quot;your custom SSL Context&quot;\nTLSClientParameters tlsParams = new TLSClientParameters();\ntlsParams.setUseHttpsURLConnectionDefaultSslSocketFactory(false);\ntlsParams.setSSLSocketFactory(sc.getSocketFactory());\n</code></pre>\n"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35828,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70581498,"answer_count":2,"score":2,"last_activity_date":1648307695,"creation_date":1641283547,"question_id":70575695,"body_markdown":"I built a CXF client to invoke a SOAP web service. I imported the server&#39;s certificates into my cacerts trust store (I understand that CXF uses cacerts by default) and i used the following code to implement the call. However, the following error is generated: \r\n\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n```\r\nQName serviceQName = new QName(&quot;Namespace&quot;, &quot;ServiceName&quot;);\r\nString urlString = &quot;https:endpoint?wsdl&quot;;\r\nQName portQName = new QName(&quot;Namespace&quot;, &quot;PortName&quot;);\r\n\r\nservice = Service.create(serviceQName);\r\nservice.addPort(portQName, SOAPBinding.SOAP11HTTP_BINDING, urlString);\r\nDispatch&lt;Source&gt; sourceDispatch = service.createDispatch(portQName, Source.class, Service.Mode.PAYLOAD);\r\nBindingProvider bindingProvider = sourceDispatch;\r\nbindingProvider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, urlString);\r\nSource result = sourceDispatch.invoke(new StreamSource(exchange.getIn().getBody(InputStream.class)));\r\n```","title":"CXF:PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I built a CXF client to invoke a SOAP web service. I imported the server's certificates into my cacerts trust store (I understand that CXF uses cacerts by default) and i used the following code to implement the call. However, the following error is generated:</p>\n<p>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n<pre><code>QName serviceQName = new QName(&quot;Namespace&quot;, &quot;ServiceName&quot;);\nString urlString = &quot;https:endpoint?wsdl&quot;;\nQName portQName = new QName(&quot;Namespace&quot;, &quot;PortName&quot;);\n\nservice = Service.create(serviceQName);\nservice.addPort(portQName, SOAPBinding.SOAP11HTTP_BINDING, urlString);\nDispatch&lt;Source&gt; sourceDispatch = service.createDispatch(portQName, Source.class, Service.Mode.PAYLOAD);\nBindingProvider bindingProvider = sourceDispatch;\nbindingProvider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, urlString);\nSource result = sourceDispatch.invoke(new StreamSource(exchange.getIn().getBody(InputStream.class)));\n</code></pre>\n"},{"tags":["java","encoding","netty","decoding"],"answers":[{"tags":[],"owner":{"account_id":2399793,"reputation":1241,"user_id":2097751,"display_name":"Chris O&#39;Toole"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1477593850,"creation_date":1477593850,"answer_id":40291978,"question_id":40289204,"body_markdown":"You can use [`ByteBuf.toString(Charset)`][1] to convert to string. \r\n\r\nYou can use [`String.getBytes(Charset)`][2] and [`Unpooled.wrappedBuffer(byte[])`][3] to convert to ByteBuf. \r\n\r\n\r\n  [1]: https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html#toString(java.nio.charset.Charset)\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes(java.nio.charset.Charset)\r\n  [3]: https://netty.io/4.0/api/io/netty/buffer/Unpooled.html#wrappedBuffer(byte[])","title":"How to convert a netty ByteBuf to a String and vice versa","body":"<p>You can use <a href=\"https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html#toString(java.nio.charset.Charset)\" rel=\"noreferrer\"><code>ByteBuf.toString(Charset)</code></a> to convert to string. </p>\n\n<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes(java.nio.charset.Charset)\" rel=\"noreferrer\"><code>String.getBytes(Charset)</code></a> and <a href=\"https://netty.io/4.0/api/io/netty/buffer/Unpooled.html#wrappedBuffer(byte[])\" rel=\"noreferrer\"><code>Unpooled.wrappedBuffer(byte[])</code></a> to convert to ByteBuf. </p>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571218958,"creation_date":1571218958,"answer_id":58410323,"question_id":40289204,"body_markdown":"You can create a `ByteBuf` from a String with `Unpooled.copiedBuffer(String, Charset)`.","title":"How to convert a netty ByteBuf to a String and vice versa","body":"<p>You can create a <code>ByteBuf</code> from a String with <code>Unpooled.copiedBuffer(String, Charset)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bng Rikimaru"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648307004,"creation_date":1648307004,"answer_id":71629170,"question_id":40289204,"body_markdown":"To convert ByteBuf to String, it needs:\r\n\r\n```\r\n public void channelRead(ChannelHandlerContext ctx, Object msg) {\r\n        ByteBuf in = (ByteBuf) msg;\r\n        String clientMessage = in.toString(CharsetUtil.UTF_8);\r\n```\r\n\r\nTo convert String to ByteBuf, it needs:\r\n\r\n```\r\n String message = &quot;text&quot;;\r\n ByteBuf in = Unpooled.wrappedBuffer(message.getBytes());\r\n```","title":"How to convert a netty ByteBuf to a String and vice versa","body":"<p>To convert ByteBuf to String, it needs:</p>\n<pre><code> public void channelRead(ChannelHandlerContext ctx, Object msg) {\n        ByteBuf in = (ByteBuf) msg;\n        String clientMessage = in.toString(CharsetUtil.UTF_8);\n</code></pre>\n<p>To convert String to ByteBuf, it needs:</p>\n<pre><code> String message = &quot;text&quot;;\n ByteBuf in = Unpooled.wrappedBuffer(message.getBytes());\n</code></pre>\n"}],"owner":{"account_id":5559483,"reputation":497,"user_id":4409427,"accept_rate":31,"display_name":"Kaleb Blue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12767,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":40291978,"answer_count":3,"score":13,"last_activity_date":1648307004,"creation_date":1477583722,"question_id":40289204,"body_markdown":"Is there a way to convert a netty ByteBuf to a String and vice versa?\r\n\r\n    public String toString(ByteBuf b){\r\n\r\n\t //return b enconded to a String\r\n    }\r\n\r\n    public Bytebuf ToByteBuff(String s){\r\n\r\n\t  //return s decoded to Bytebuf\r\n    }","title":"How to convert a netty ByteBuf to a String and vice versa","body":"<p>Is there a way to convert a netty ByteBuf to a String and vice versa?</p>\n\n<pre><code>public String toString(ByteBuf b){\n\n //return b enconded to a String\n}\n\npublic Bytebuf ToByteBuff(String s){\n\n  //return s decoded to Bytebuf\n}\n</code></pre>\n"},{"tags":["java","swing","look-and-feel","katalon-studio","flatlaf"],"answers":[{"tags":[],"owner":{"account_id":2171710,"reputation":968,"user_id":6336312,"accept_rate":78,"display_name":"Simos Sigma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648306492,"creation_date":1648306492,"answer_id":71629098,"question_id":71627804,"body_markdown":"I just had to add the [flatlaf-2.1.jar](https://search.maven.org/remotecontent?filepath=com/formdev/flatlaf/2.1/flatlaf-2.1.jar) file into my project as an external library.\r\n\r\nFrom menu &quot;**Project**&quot;  &quot;**Settings**&quot;  &quot;**Library Management**&quot;.\r\n\r\nThen I had to import it into my code `import com.formdev.flatlaf.FlatDarkLaf`.\r\n\r\nAnd use it like this `UIManager.setLookAndFeel(new FlatDarkLaf())`.\r\n\r\nBefore:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0DD8Q.png\r\n  [2]: https://i.stack.imgur.com/6anzM.png","title":"Is it possible to import FlatLaf - Flat Look and Feel into Katalon Studio?","body":"<p>I just had to add the <a href=\"https://search.maven.org/remotecontent?filepath=com/formdev/flatlaf/2.1/flatlaf-2.1.jar\" rel=\"nofollow noreferrer\">flatlaf-2.1.jar</a> file into my project as an external library.</p>\n<p>From menu &quot;<strong>Project</strong>&quot;  &quot;<strong>Settings</strong>&quot;  &quot;<strong>Library Management</strong>&quot;.</p>\n<p>Then I had to import it into my code <code>import com.formdev.flatlaf.FlatDarkLaf</code>.</p>\n<p>And use it like this <code>UIManager.setLookAndFeel(new FlatDarkLaf())</code>.</p>\n<p>Before:</p>\n<p><a href=\"https://i.stack.imgur.com/0DD8Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0DD8Q.png\" alt=\"enter image description here\" /></a></p>\n<p>After:</p>\n<p><a href=\"https://i.stack.imgur.com/6anzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6anzM.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2171710,"reputation":968,"user_id":6336312,"accept_rate":78,"display_name":"Simos Sigma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648306492,"creation_date":1648295290,"question_id":71627804,"body_markdown":"Is it possible to import &quot;[FlatLaf - Flat Look and Feel][1]&quot; into a **test case** of **Katalon Studio**?\r\n\r\n  [1]: https://www.formdev.com/flatlaf/","title":"Is it possible to import FlatLaf - Flat Look and Feel into Katalon Studio?","body":"<p>Is it possible to import &quot;<a href=\"https://www.formdev.com/flatlaf/\" rel=\"nofollow noreferrer\">FlatLaf - Flat Look and Feel</a>&quot; into a <strong>test case</strong> of <strong>Katalon Studio</strong>?</p>\n"},{"tags":["java","json","spring","spring-boot","postman"],"comments":[{"owner":{"account_id":3586369,"reputation":349,"user_id":2993464,"display_name":"Sanjay Choudhary"},"score":0,"creation_date":1648307695,"post_id":71629078,"comment_id":126593557,"body_markdown":"Why dont you just change queryparam name and keep field name as Fin like -@QueryParam(&quot;chassisNumber&quot;) String fin","body":"Why dont you just change queryparam name and keep field name as Fin like -@QueryParam(&quot;chassisNumber&quot;) String fin"},{"owner":{"account_id":24201654,"reputation":71,"user_id":18159400,"display_name":"Teja K"},"score":0,"creation_date":1648307951,"post_id":71629078,"comment_id":126593604,"body_markdown":"If i rename the @QueryParam , can i pass chassisNumber in Json?","body":"If i rename the @QueryParam , can i pass chassisNumber in Json?"},{"owner":{"account_id":3586369,"reputation":349,"user_id":2993464,"display_name":"Sanjay Choudhary"},"score":0,"creation_date":1648308064,"post_id":71629078,"comment_id":126593638,"body_markdown":"why dont you give it a try.","body":"why dont you give it a try."}],"owner":{"account_id":24201654,"reputation":71,"user_id":18159400,"display_name":"Teja K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648306293,"creation_date":1648306293,"question_id":71629078,"body_markdown":"This is My Springboot Post call, need to rename the Fin attribute to chassisNumber.\r\n\r\n    AddAdditionalInformationResponseDto addAdditionalInformation(\r\n\t\t\t\t@QueryParam(&quot;fin&quot;) String fin,\r\n\t\t\t\t@ApiParam(value = &quot;Date of first registration (Example:YYYY-MM-DD)&quot;, required = false, format = &quot;date&quot;) @QueryParam(&quot;firstRegistrationDate&quot;) String firstRegistrationDate,\r\n\t\t\t\t@ApiParam(value = &quot;license Plate(Example:1UPG459)&quot;, required = false) @QueryParam(&quot;licensePlate&quot;) String licensePlate,\r\n\t\t\t\t\r\n\t\t\t\t);\r\n\r\n\r\ncurrent Json:\r\n{\r\n&quot;fin&quot;:&quot;wer3rr&quot;,\r\n&quot;firstregistrationdate&quot;:02-09-2022,\r\n&quot;licenseplate&quot;:&quot;ap092323&quot;\r\n}\r\n\r\n\r\nExpected:\r\n\r\nurrent Json:\r\n{\r\n&quot;chassisNumber&quot;:&quot;wer3rr&quot;,\r\n&quot;firstregistrationdate&quot;:02-09-2022,\r\n&quot;licenseplate&quot;:&quot;ap092323&quot;\r\n}\r\n\r\n\r\nI don&#39;t want to rename fin, but in json i should pass chassis instead fin.","title":"how to rename the @Queryparam value(Fin) in springboot such that in JSON i can pass chassisNumber to instead Fin","body":"<p>This is My Springboot Post call, need to rename the Fin attribute to chassisNumber.</p>\n<pre><code>AddAdditionalInformationResponseDto addAdditionalInformation(\n            @QueryParam(&quot;fin&quot;) String fin,\n            @ApiParam(value = &quot;Date of first registration (Example:YYYY-MM-DD)&quot;, required = false, format = &quot;date&quot;) @QueryParam(&quot;firstRegistrationDate&quot;) String firstRegistrationDate,\n            @ApiParam(value = &quot;license Plate(Example:1UPG459)&quot;, required = false) @QueryParam(&quot;licensePlate&quot;) String licensePlate,\n            \n            );\n</code></pre>\n<p>current Json:\n{\n&quot;fin&quot;:&quot;wer3rr&quot;,\n&quot;firstregistrationdate&quot;:02-09-2022,\n&quot;licenseplate&quot;:&quot;ap092323&quot;\n}</p>\n<p>Expected:</p>\n<p>urrent Json:\n{\n&quot;chassisNumber&quot;:&quot;wer3rr&quot;,\n&quot;firstregistrationdate&quot;:02-09-2022,\n&quot;licenseplate&quot;:&quot;ap092323&quot;\n}</p>\n<p>I don't want to rename fin, but in json i should pass chassis instead fin.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":179512,"reputation":3361,"user_id":412234,"accept_rate":92,"display_name":"Kevin Kostlan"},"score":2,"creation_date":1345437807,"post_id":2154251,"comment_id":19787511,"body_markdown":"java.util.Arrays.fill() int[] arr = new int[10];\nand int arr[10] = {0}; all use internal loops.","body":"java.util.Arrays.fill() int[] arr = new int[10]; and int arr[10] = {0}; all use internal loops."}],"answers":[{"tags":[],"owner":{"account_id":70734,"reputation":14669,"user_id":204845,"accept_rate":68,"display_name":"Arne Deutsch"},"down_vote_count":3,"up_vote_count":55,"is_accepted":false,"score":52,"last_activity_date":1592287077,"creation_date":1264679903,"answer_id":2154260,"question_id":2154251,"body_markdown":"In java all elements(primitive integer types `byte` `short`, `int`, `long`) are initialised to 0 by default. You can save the loop.","title":"Any shortcut to initialize all array elements to zero?","body":"<p>In java all elements(primitive integer types <code>byte</code> <code>short</code>, <code>int</code>, <code>long</code>) are initialised to 0 by default. You can save the loop.</p>\n"},{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1264680167,"creation_date":1264680167,"answer_id":2154297,"question_id":2154251,"body_markdown":"You can save the loop, initialization is already made to 0. Even for a local variable.\r\n\r\nBut please correct the place where you place the brackets, for readability (recognized best-practice):\r\n\r\n    int[] arr = new int[10];\r\n","title":"Any shortcut to initialize all array elements to zero?","body":"<p>You can save the loop, initialization is already made to 0. Even for a local variable.</p>\n\n<p>But please correct the place where you place the brackets, for readability (recognized best-practice):</p>\n\n<pre><code>int[] arr = new int[10];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":656,"is_accepted":true,"score":655,"last_activity_date":1581808873,"creation_date":1264680570,"answer_id":2154340,"question_id":2154251,"body_markdown":"A default value of 0 for arrays of integral types is guaranteed by the [language spec][1]:\r\n\r\n&gt; Each class variable, instance variable, or array component is initialized with a *default value* when it is created (&#167;15.9, &#167;15.10) [...] For type `int`, the default value is zero, that is, `0`. &amp;nbsp;\r\n\r\nIf you want to initialize an one-dimensional array to a different value, you can use [java.util.Arrays.fill()][2] (which will of course use a loop internally).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#fill(int[],%20int)","title":"Any shortcut to initialize all array elements to zero?","body":"<p>A default value of 0 for arrays of integral types is guaranteed by the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\" rel=\"noreferrer\">language spec</a>:</p>\n\n<blockquote>\n  <p>Each class variable, instance variable, or array component is initialized with a <em>default value</em> when it is created (15.9, 15.10) [...] For type <code>int</code>, the default value is zero, that is, <code>0</code>. &nbsp;</p>\n</blockquote>\n\n<p>If you want to initialize an one-dimensional array to a different value, you can use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#fill(int[],%20int)\" rel=\"noreferrer\">java.util.Arrays.fill()</a> (which will of course use a loop internally).</p>\n"},{"tags":[],"owner":{"account_id":244931,"reputation":18072,"user_id":808804,"accept_rate":80,"display_name":"Adam Parkin"},"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1434639643,"creation_date":1314216035,"answer_id":7181518,"question_id":2154251,"body_markdown":"While the other answers are correct (int array values are by default initialized to 0), if you wanted to explicitly do so (say for example if you wanted an array filled with the value 42), you can use the fill() method of the [Arrays](http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#fill%28int[],%20int%29) class:\r\n\r\n    int [] myarray = new int[num_elts];\r\n    Arrays.fill(myarray, 42);\r\n\r\nOr if you&#39;re a fan of 1-liners, you can use the [`Collections.nCopies()`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#nCopies%28int,%20T%29) routine:\r\n\r\n    Integer[] arr = Collections.nCopies(3, 42).toArray(new Integer[0]);\r\n\r\nWould give arr the value:\r\n\r\n    [42, 42, 42]\r\n\r\n(though it&#39;s `Integer`, and not `int`, if you need the primitive type you could defer to the [Apache Commons `ArrayUtils.toPrimitive()`](http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#toPrimitive%28java.lang.Integer[]%29) routine:\r\n\r\n    int [] primarr = ArrayUtils.toPrimitive(arr);","title":"Any shortcut to initialize all array elements to zero?","body":"<p>While the other answers are correct (int array values are by default initialized to 0), if you wanted to explicitly do so (say for example if you wanted an array filled with the value 42), you can use the fill() method of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#fill%28int[],%20int%29\" rel=\"noreferrer\">Arrays</a> class:</p>\n\n<pre><code>int [] myarray = new int[num_elts];\nArrays.fill(myarray, 42);\n</code></pre>\n\n<p>Or if you're a fan of 1-liners, you can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#nCopies%28int,%20T%29\" rel=\"noreferrer\"><code>Collections.nCopies()</code></a> routine:</p>\n\n<pre><code>Integer[] arr = Collections.nCopies(3, 42).toArray(new Integer[0]);\n</code></pre>\n\n<p>Would give arr the value:</p>\n\n<pre><code>[42, 42, 42]\n</code></pre>\n\n<p>(though it's <code>Integer</code>, and not <code>int</code>, if you need the primitive type you could defer to the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#toPrimitive%28java.lang.Integer[]%29\" rel=\"noreferrer\">Apache Commons <code>ArrayUtils.toPrimitive()</code></a> routine:</p>\n\n<pre><code>int [] primarr = ArrayUtils.toPrimitive(arr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885381,"reputation":299,"user_id":1704708,"display_name":"Jugal Thakkar"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1370327578,"creation_date":1370327578,"answer_id":16911213,"question_id":2154251,"body_markdown":"How it Reduces the Performance of your application....? Read Following.\r\n\r\nIn Java Language Specification the **Default / Initial Value** for any Object can be given as Follows.\r\n\r\nFor type **byte**, the **default value** is **zero**, that is, the value of (byte) is **0**.\r\n\r\nFor type **short**, the **default value** is **zero**, that is, the value of (short) is **0**.\r\n\r\nFor type **int**, the **default value** is **zero**, that is, **0**.\r\n\r\nFor type **long**, the **default value** is **zero**, that is, **0L**.\r\n\r\nFor type **float**, the **default value** is **positive zero**, that is, **0.0f**.\r\n\r\nFor type **double**, the **default value** is **positive zero**, that is, **0.0d**.\r\n\r\nFor type **char**, the **default value** is the **null** character, that is, &#39;**\\u0000**&#39;.\r\n\r\nFor type **boolean**, the **default value** is **false**.\r\n\r\nFor **all reference types**, the **default value** is **null**.\r\n\r\n\r\n\r\nBy Considering all this you don&#39;t need to initialize with zero values for the array elements because by default all array elements are 0 for int array.\r\n\r\nBecause An **array** is a container object that holds a fixed number of values of a single type. \r\nNow the Type of array for you is **int** so consider the default value for all array elements will be **automatically 0** Because it is **holding int type**.\r\n\r\n\r\nNow **consider** the **array** for **String type** so that all array elements has **default value** is **null**.\r\n\r\n\r\n**Why don&#39;t do that......?**\r\n\r\nyou can assign null value by using loop as you suggest in your Question.\r\n\r\n    int arr[] = new int[10];\r\n    for(int i=0;i&lt;arr.length;i++)\r\n        arr[i] = 0;\r\n\r\n**But if you do so then it will an useless loss of machine cycle.\r\nand if you use in your application where you have many arrays and you do that for each array then it will affect the Application Performance up-to considerable level.**\r\n\r\nThe more use of machine cycle **==&gt;** More time to Process the data **==&gt; Output time will be significantly increase**. so that your application data processing can be considered as a low level(Slow up-to some Level).","title":"Any shortcut to initialize all array elements to zero?","body":"<p>How it Reduces the Performance of your application....? Read Following.</p>\n\n<p>In Java Language Specification the <strong>Default / Initial Value</strong> for any Object can be given as Follows.</p>\n\n<p>For type <strong>byte</strong>, the <strong>default value</strong> is <strong>zero</strong>, that is, the value of (byte) is <strong>0</strong>.</p>\n\n<p>For type <strong>short</strong>, the <strong>default value</strong> is <strong>zero</strong>, that is, the value of (short) is <strong>0</strong>.</p>\n\n<p>For type <strong>int</strong>, the <strong>default value</strong> is <strong>zero</strong>, that is, <strong>0</strong>.</p>\n\n<p>For type <strong>long</strong>, the <strong>default value</strong> is <strong>zero</strong>, that is, <strong>0L</strong>.</p>\n\n<p>For type <strong>float</strong>, the <strong>default value</strong> is <strong>positive zero</strong>, that is, <strong>0.0f</strong>.</p>\n\n<p>For type <strong>double</strong>, the <strong>default value</strong> is <strong>positive zero</strong>, that is, <strong>0.0d</strong>.</p>\n\n<p>For type <strong>char</strong>, the <strong>default value</strong> is the <strong>null</strong> character, that is, '<strong>\\u0000</strong>'.</p>\n\n<p>For type <strong>boolean</strong>, the <strong>default value</strong> is <strong>false</strong>.</p>\n\n<p>For <strong>all reference types</strong>, the <strong>default value</strong> is <strong>null</strong>.</p>\n\n<p>By Considering all this you don't need to initialize with zero values for the array elements because by default all array elements are 0 for int array.</p>\n\n<p>Because An <strong>array</strong> is a container object that holds a fixed number of values of a single type. \nNow the Type of array for you is <strong>int</strong> so consider the default value for all array elements will be <strong>automatically 0</strong> Because it is <strong>holding int type</strong>.</p>\n\n<p>Now <strong>consider</strong> the <strong>array</strong> for <strong>String type</strong> so that all array elements has <strong>default value</strong> is <strong>null</strong>.</p>\n\n<p><strong>Why don't do that......?</strong></p>\n\n<p>you can assign null value by using loop as you suggest in your Question.</p>\n\n<pre><code>int arr[] = new int[10];\nfor(int i=0;i&lt;arr.length;i++)\n    arr[i] = 0;\n</code></pre>\n\n<p><strong>But if you do so then it will an useless loss of machine cycle.\nand if you use in your application where you have many arrays and you do that for each array then it will affect the Application Performance up-to considerable level.</strong></p>\n\n<p>The more use of machine cycle <strong>==></strong> More time to Process the data <strong>==> Output time will be significantly increase</strong>. so that your application data processing can be considered as a low level(Slow up-to some Level).</p>\n"},{"tags":[],"owner":{"account_id":2305203,"reputation":960,"user_id":2024606,"accept_rate":20,"display_name":"Pankaj Goyal"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1386769128,"creation_date":1386769128,"answer_id":20520684,"question_id":2154251,"body_markdown":"If you are using Float or Integer then you can assign default value like this ...\r\n\r\n    Integer[] data = new Integer[20];\r\n    Arrays.fill(data,new Integer(0));","title":"Any shortcut to initialize all array elements to zero?","body":"<p>If you are using Float or Integer then you can assign default value like this ...</p>\n\n<pre><code>Integer[] data = new Integer[20];\nArrays.fill(data,new Integer(0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2874318,"reputation":482,"user_id":2466859,"accept_rate":33,"display_name":"Dhruvam Gupta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1456150462,"creation_date":1456150462,"answer_id":35555877,"question_id":2154251,"body_markdown":"declare the array as instance variable in the class i.e. out of every method and JVM will give it 0 as default value. You need not to worry anymore  ","title":"Any shortcut to initialize all array elements to zero?","body":"<p>declare the array as instance variable in the class i.e. out of every method and JVM will give it 0 as default value. You need not to worry anymore  </p>\n"},{"tags":[],"owner":{"account_id":8204920,"reputation":25,"user_id":6174983,"display_name":"nate"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1460078807,"creation_date":1460078807,"answer_id":36489990,"question_id":2154251,"body_markdown":"Yes, int values in an array are initialized to zero. But you are not guaranteed this. Oracle documentation states that this is a bad coding practice.","title":"Any shortcut to initialize all array elements to zero?","body":"<p>Yes, int values in an array are initialized to zero. But you are not guaranteed this. Oracle documentation states that this is a bad coding practice.</p>\n"},{"tags":[],"owner":{"account_id":5843602,"reputation":86,"user_id":5743343,"display_name":"Kavishankar Karunakaran"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1467961581,"creation_date":1467961581,"answer_id":38260784,"question_id":2154251,"body_markdown":"You can create a new empty array with your existing array size, and you can assign back them to your array. This may faster than other.\r\nSnipet: \r\n\r\n    package com.array.zero;\r\n    public class ArrayZero {\r\n\tpublic static void main(String[] args) {\r\n\t\t// Your array with data\r\n        int[] yourArray = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n        //Creating same sized array with 0\r\n\t\tint[] tempArray = new int[yourArray.length];\r\n        Assigning temp array to replace values by zero [0]\r\n\t\tyourArray = tempArray;\r\n\r\n        //testing the array size and value to be zero\r\n\t\tfor (int item : yourArray) {\r\n\t\t\tSystem.out.println(item);\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nResult :\r\n    \r\n    0\r\n    0\r\n    0\r\n    0\r\n    0    \r\n    0\r\n    0\r\n    0\r\n    0\r\n\r\n","title":"Any shortcut to initialize all array elements to zero?","body":"<p>You can create a new empty array with your existing array size, and you can assign back them to your array. This may faster than other.\nSnipet: </p>\n\n<pre><code>package com.array.zero;\npublic class ArrayZero {\npublic static void main(String[] args) {\n    // Your array with data\n    int[] yourArray = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n    //Creating same sized array with 0\n    int[] tempArray = new int[yourArray.length];\n    Assigning temp array to replace values by zero [0]\n    yourArray = tempArray;\n\n    //testing the array size and value to be zero\n    for (int item : yourArray) {\n        System.out.println(item);\n    }\n}\n}\n</code></pre>\n\n<p>Result :</p>\n\n<pre><code>0\n0\n0\n0\n0    \n0\n0\n0\n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9547068,"reputation":1,"user_id":7092669,"display_name":"Ubeyd"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1477857811,"creation_date":1477857811,"answer_id":40333055,"question_id":2154251,"body_markdown":"    \t\r\n\t\tint a=7, b=7 ,c=0,d=0;\r\n\t\tint dizi[][]=new int[a][b];\r\n\t\tfor(int i=0;i&lt;a;i++){\r\n\t\t\tfor(int q=d;q&lt;b;q++){\r\n\t\t\t\tdizi[i][q]=c;\t\t\t\t\r\n\t\t\t\tSystem.out.print(dizi[i][q]);\r\n\t\t\t\tc++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tc-=b+1;\r\n\t\t\tSystem.out.println();\t\t\t\t\r\n\t\t}\r\n\r\nresult \r\n    0123456\r\n    -1012345\r\n    -2-101234\r\n    -3-2-10123\r\n    -4-3-2-1012\r\n    -5-4-3-2-101\r\n    -6-5-4-3-2-10\r\n\r\n","title":"Any shortcut to initialize all array elements to zero?","body":"<pre><code>    int a=7, b=7 ,c=0,d=0;\n    int dizi[][]=new int[a][b];\n    for(int i=0;i&lt;a;i++){\n        for(int q=d;q&lt;b;q++){\n            dizi[i][q]=c;               \n            System.out.print(dizi[i][q]);\n            c++;\n        }\n\n        c-=b+1;\n        System.out.println();               \n    }\n</code></pre>\n\n<p>result \n    0123456\n    -1012345\n    -2-101234\n    -3-2-10123\n    -4-3-2-1012\n    -5-4-3-2-101\n    -6-5-4-3-2-10</p>\n"},{"tags":[],"owner":{"account_id":63479,"reputation":5810,"user_id":187883,"accept_rate":100,"display_name":"NateS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498038938,"creation_date":1498038938,"answer_id":44672782,"question_id":2154251,"body_markdown":"The int values are already zero after initialization, as everyone has mentioned. If you have a situation where you actually do need to set array values to zero and want to optimize that, use `System.arraycopy`:\r\n\r\n    static private int[] zeros = new float[64];\r\n    ...\r\n    int[] values = ...\r\n    if (zeros.length &lt; values.length) zeros = new int[values.length];\r\n    System.arraycopy(zeros, 0, values, 0, values.length);\r\n\r\nThis uses `memcpy` under the covers in most or all JRE implementations. Note the use of a static like this is safe even with multiple threads, since the worst case is multiple threads reallocate `zeros` concurrently, which doesn&#39;t hurt anything.\r\n\r\nYou could also use `Arrays.fill` as some others have mentioned. `Arrays.fill` *could* use `memcpy` in a smart JVM, but is probably just a Java loop and the bounds checking that entails.\r\n\r\nBenchmark your optimizations, of course.","title":"Any shortcut to initialize all array elements to zero?","body":"<p>The int values are already zero after initialization, as everyone has mentioned. If you have a situation where you actually do need to set array values to zero and want to optimize that, use <code>System.arraycopy</code>:</p>\n\n<pre><code>static private int[] zeros = new float[64];\n...\nint[] values = ...\nif (zeros.length &lt; values.length) zeros = new int[values.length];\nSystem.arraycopy(zeros, 0, values, 0, values.length);\n</code></pre>\n\n<p>This uses <code>memcpy</code> under the covers in most or all JRE implementations. Note the use of a static like this is safe even with multiple threads, since the worst case is multiple threads reallocate <code>zeros</code> concurrently, which doesn't hurt anything.</p>\n\n<p>You could also use <code>Arrays.fill</code> as some others have mentioned. <code>Arrays.fill</code> <em>could</em> use <code>memcpy</code> in a smart JVM, but is probably just a Java loop and the bounds checking that entails.</p>\n\n<p>Benchmark your optimizations, of course.</p>\n"},{"tags":[],"owner":{"account_id":549851,"reputation":49,"user_id":1511537,"display_name":"brahmananda Kar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502523344,"creation_date":1502523344,"answer_id":45647770,"question_id":2154251,"body_markdown":"Yet another approach by using lambda above java 8\r\n\r\n     Arrays.stream(new Integer[nodelist.size()]).map(e -&gt; \r\n     Integer.MAX_VALUE).toArray(Integer[]::new);","title":"Any shortcut to initialize all array elements to zero?","body":"<p>Yet another approach by using lambda above java 8</p>\n\n<pre><code> Arrays.stream(new Integer[nodelist.size()]).map(e -&gt; \n Integer.MAX_VALUE).toArray(Integer[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11782782,"reputation":19,"user_id":8621690,"display_name":"Ansh Srivastava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531377413,"creation_date":1531377413,"answer_id":51298783,"question_id":2154251,"body_markdown":"In c/cpp there is no shortcut but to initialize all the arrays with the zero subscript.Ex:\r\n\r\n      int arr[10] = {0};\r\n\r\nBut in java there is a magic tool called Arrays.fill() which will fill all the values in an array with the integer of your choice.Ex:\r\n\r\n      import java.util.Arrays;\r\n \r\n        public class Main\r\n        {\r\n          public static void main(String[] args)\r\n           {\r\n             int ar[] = {2, 2, 1, 8, 3, 2, 2, 4, 2};\r\n             Arrays.fill(ar, 10);\r\n             System.out.println(&quot;Array completely filled&quot; +                          \r\n                &quot; with 10\\n&quot; + Arrays.toString(ar));\r\n       }\r\n     }\r\n    ","title":"Any shortcut to initialize all array elements to zero?","body":"<p>In c/cpp there is no shortcut but to initialize all the arrays with the zero subscript.Ex:</p>\n\n<pre><code>  int arr[10] = {0};\n</code></pre>\n\n<p>But in java there is a magic tool called Arrays.fill() which will fill all the values in an array with the integer of your choice.Ex:</p>\n\n<pre><code>  import java.util.Arrays;\n\n    public class Main\n    {\n      public static void main(String[] args)\n       {\n         int ar[] = {2, 2, 1, 8, 3, 2, 2, 4, 2};\n         Arrays.fill(ar, 10);\n         System.out.println(\"Array completely filled\" +                          \n            \" with 10\\n\" + Arrays.toString(ar));\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10983760,"reputation":1014,"user_id":8070135,"display_name":"daemonThread"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580670844,"creation_date":1580670844,"answer_id":60029641,"question_id":2154251,"body_markdown":"Initialization is not require in case of zero because default value of int in Java is zero.\r\nFor values other than zero `java.util.Arrays` provides a number of options, simplest one is fill method.\r\n\r\n    int[] arr = new int[5];\r\n    Arrays.fill(arr, -1);\r\n    System.out.println(Arrays.toString(arr));  //[-1, -1, -1, -1, -1 ]\r\n\r\n    int [] arr = new int[5];\r\n    // fill value 1 from index 0, inclusive, to index 3, exclusive\r\n    Arrays.fill(arr, 0, 3, -1 )\r\n    System.out.println(Arrays.toString(arr)); // [-1, -1, -1, 0, 0]\r\n\r\nWe can also use Arrays.setAll() if we want to fill value on condition basis:\r\n\r\n    int[] array = new int[20];\r\n    Arrays.setAll(array, p -&gt; p &gt; 10 ? -1 : p);\r\n\r\n    int[] arr = new int[5];\r\n    Arrays.setAll(arr, i -&gt; i);\r\n    System.out.println(Arrays.toString(arr));\t// [0, 1, 2, 3, 4]","title":"Any shortcut to initialize all array elements to zero?","body":"<p>Initialization is not require in case of zero because default value of int in Java is zero.\nFor values other than zero <code>java.util.Arrays</code> provides a number of options, simplest one is fill method.</p>\n\n<pre><code>int[] arr = new int[5];\nArrays.fill(arr, -1);\nSystem.out.println(Arrays.toString(arr));  //[-1, -1, -1, -1, -1 ]\n\nint [] arr = new int[5];\n// fill value 1 from index 0, inclusive, to index 3, exclusive\nArrays.fill(arr, 0, 3, -1 )\nSystem.out.println(Arrays.toString(arr)); // [-1, -1, -1, 0, 0]\n</code></pre>\n\n<p>We can also use Arrays.setAll() if we want to fill value on condition basis:</p>\n\n<pre><code>int[] array = new int[20];\nArrays.setAll(array, p -&gt; p &gt; 10 ? -1 : p);\n\nint[] arr = new int[5];\nArrays.setAll(arr, i -&gt; i);\nSystem.out.println(Arrays.toString(arr));   // [0, 1, 2, 3, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2764790,"reputation":579,"user_id":2380799,"accept_rate":60,"display_name":"Andrej Buday"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614790254,"creation_date":1614790254,"answer_id":66461463,"question_id":2154251,"body_markdown":"You defined it correctly in your question, it is nearly the same as for C++. All you need to do for the primitive data type is to initialize the array. Default values are for int 0.\r\n\r\n    int[] intArray = new int[10];","title":"Any shortcut to initialize all array elements to zero?","body":"<p>You defined it correctly in your question, it is nearly the same as for C++. All you need to do for the primitive data type is to initialize the array. Default values are for int 0.</p>\n<pre><code>int[] intArray = new int[10];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648305244,"creation_date":1648305244,"answer_id":71628962,"question_id":2154251,"body_markdown":"you can simply do the following\r\n\r\n     int[] arrayOfZeros= new int[SizeVar];\r\n\r\n","title":"Any shortcut to initialize all array elements to zero?","body":"<p>you can simply do the following</p>\n<pre><code> int[] arrayOfZeros= new int[SizeVar];\n</code></pre>\n"}],"owner":{"account_id":43557,"reputation":11883,"user_id":127404,"accept_rate":86,"display_name":"gameover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647393,"favorite_count":0,"down_vote_count":0,"up_vote_count":341,"accepted_answer_id":2154340,"answer_count":16,"score":341,"last_activity_date":1648305244,"creation_date":1264679834,"question_id":2154251,"body_markdown":"In `C/C++` I used to do \r\n\r\n    int arr[10] = {0};\r\n\r\n...to initialize all my array elements to 0.\r\n\r\nIs there a similar shortcut in Java?\r\n\r\nI want to avoid using the loop, is it possible?\r\n\r\n    int arr[] = new int[10];\r\n    for(int i = 0; i &lt; arr.length; i++) {\r\n        arr[i] = 0;\r\n    }\r\n","title":"Any shortcut to initialize all array elements to zero?","body":"<p>In <code>C/C++</code> I used to do </p>\n\n<pre><code>int arr[10] = {0};\n</code></pre>\n\n<p>...to initialize all my array elements to 0.</p>\n\n<p>Is there a similar shortcut in Java?</p>\n\n<p>I want to avoid using the loop, is it possible?</p>\n\n<pre><code>int arr[] = new int[10];\nfor(int i = 0; i &lt; arr.length; i++) {\n    arr[i] = 0;\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648305166,"creation_date":1648305166,"answer_id":71628951,"question_id":71628903,"body_markdown":"Since you store the timestamp for the bakery, you don&#39;t need a calendar. Instead you can simply start from the current time in millis and subtract two years worth of milliseconds from that:\r\n```\r\nlong nowInMs = System.currentTimeMillis();\r\nlong twoYearsInMs = 2 * 365 * 24 * 60 * 60 * 1000;\r\nlong twoYearsAgoInMs = nowInMs - twoYearsInMs;\r\n```\r\n\r\nYou can then use this `twoYearsAgoInMs` to query the database with something like:\r\n\r\n```\r\nDatabaseReference sellerRef = FirebaseDatabase.getInstance().getReference(&quot;SellerRegFee&quot;);\r\nQuery query = sellerRef.orderByChild(&quot;Bakery/timestamp&quot;).endAt(twoYearsAgoInMs);\r\nquery.addListenerForSingleValueEven(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot sellerSnapshot: dataSnapshot.getChildren()) {\r\n            Log.i(&quot;seller&quot;, sellerSnapshot.getKey());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n}\r\n```","title":"Date difference calculation from time stamp saved in firebase node","body":"<p>Since you store the timestamp for the bakery, you don't need a calendar. Instead you can simply start from the current time in millis and subtract two years worth of milliseconds from that:</p>\n<pre><code>long nowInMs = System.currentTimeMillis();\nlong twoYearsInMs = 2 * 365 * 24 * 60 * 60 * 1000;\nlong twoYearsAgoInMs = nowInMs - twoYearsInMs;\n</code></pre>\n<p>You can then use this <code>twoYearsAgoInMs</code> to query the database with something like:</p>\n<pre><code>DatabaseReference sellerRef = FirebaseDatabase.getInstance().getReference(&quot;SellerRegFee&quot;);\nQuery query = sellerRef.orderByChild(&quot;Bakery/timestamp&quot;).endAt(twoYearsAgoInMs);\nquery.addListenerForSingleValueEven(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot sellerSnapshot: dataSnapshot.getChildren()) {\n            Log.i(&quot;seller&quot;, sellerSnapshot.getKey());\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24097899,"reputation":11,"user_id":18070121,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648305166,"creation_date":1648304726,"question_id":71628903,"body_markdown":"In my application, which uses android studio and firebase database, a seller can subscribe to a particular shop (ex. Bakery) for two years once he pay the registration fee. At the time of registration, I am saving the registration date and time to firebase realtime database as shown in figure: \r\n\r\n![enter image description here][1].  \r\n\r\nAfter two years, I want to show a toast message to seller that subscription period expired. For that I need to subtract date of registration (which I can take from fire base node) and current date, and I know how to get current date as shown below\r\n\r\n      Calendar calForDate = Calendar.getInstance(); \r\n        SimpleDateFormat currentDateFormat = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;); \r\n        currentDate = currentDateFormat.format(calForDate.getTime());\r\n        Calendar calForTime = Calendar.getInstance(); \r\n        SimpleDateFormat currentTimeFormat = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n        currentTime = currentTimeFormat.format(calForTime.getTime()); \r\n        long timestamp= System.currentTimeMillis();\r\n\r\nI just want to subtract current date from above code with registration date from firebase node and check whether 730 days (365*2) are over or not. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LY1Ux.png","title":"Date difference calculation from time stamp saved in firebase node","body":"<p>In my application, which uses android studio and firebase database, a seller can subscribe to a particular shop (ex. Bakery) for two years once he pay the registration fee. At the time of registration, I am saving the registration date and time to firebase realtime database as shown in figure:</p>\n<p><img src=\"https://i.stack.imgur.com/LY1Ux.png\" alt=\"enter image description here\" />.</p>\n<p>After two years, I want to show a toast message to seller that subscription period expired. For that I need to subtract date of registration (which I can take from fire base node) and current date, and I know how to get current date as shown below</p>\n<pre><code>  Calendar calForDate = Calendar.getInstance(); \n    SimpleDateFormat currentDateFormat = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;); \n    currentDate = currentDateFormat.format(calForDate.getTime());\n    Calendar calForTime = Calendar.getInstance(); \n    SimpleDateFormat currentTimeFormat = new SimpleDateFormat(&quot;hh:mm a&quot;);\n    currentTime = currentTimeFormat.format(calForTime.getTime()); \n    long timestamp= System.currentTimeMillis();\n</code></pre>\n<p>I just want to subtract current date from above code with registration date from firebase node and check whether 730 days (365*2) are over or not.</p>\n"},{"tags":["java","android","multithreading","android-asynctask"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":2,"creation_date":1648285046,"post_id":71626289,"comment_id":126589471,"body_markdown":"`onPostExecute` runs on main Thread So u are the one who is making UI thread to hang . Pls read about API first before using it . Also `Asynctask` is deprecated long ago so u might wanna use some other APIs for multi threading","body":"<code>onPostExecute</code> runs on main Thread So u are the one who is making UI thread to hang . Pls read about API first before using it . Also <code>Asynctask</code> is deprecated long ago so u might wanna use some other APIs for multi threading"}],"answers":[{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648304574,"creation_date":1648289439,"answer_id":71627103,"question_id":71626289,"body_markdown":"Use ThreadPool executor from official oracle and android developer documentations\r\n\r\n[Oracle Docs - java.util.concurrent.ThreadPoolExecutor][1]&lt;br/&gt;\r\n[Android Docs - java.util.concurrent.ThreadPoolExecutor][2]\r\n\r\nas you have specified you are using java the above two documentation is recommended by google as show below for `AsyncTask`\r\n\r\n&gt; This class was deprecated in API level 30.\r\nUse the standard java.util.concurrent or Kotlin concurrency utilities instead.\r\n\r\nThe ultimate objective is the android is saying that, if you want to update UI, simply use `runOnUiThread` with a new runnable you update the UI, which means for each UI update you may be creating fresh short term thread which only updates the UI and thread finishes and garbage collected\r\n\r\nSample Code&lt;br/&gt;\r\n-----------\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    int count = 0;\r\n    Executor ex;\r\n    MyThread th;\r\n\r\n    class MyThread extends Thread implements Runnable {\r\n        private boolean running=false;\r\n\r\n        public void setRunning(boolean running) {\r\n            this.running = running;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            while(running) {\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        count++;\r\n                        TextView tv = findViewById(R.id.textView);\r\n                        tv.setText(String.valueOf(count));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    public void onStartClick(View view) {\r\n        th = new MyThread();\r\n        ex = Executors.newSingleThreadExecutor();\r\n        th.setRunning(true);\r\n        ex.execute(th);\r\n    }\r\n\r\n    public void onStopClick(View view) {\r\n        if(th!=null) {\r\n            th.setRunning(false);\r\n        }\r\n    }\r\n}\r\n```\r\nall the member variables of the class should be only accessed inside runOnUiThread, for example `count++` count is a variable of the `MainActivity` if you want any value specific to the thread you put only inside the `MyThread` class\r\n\r\nNever try to access any of the `MainActivity` variable inside the `run()` method\r\n\r\nYou can also write `MyThread` as separate class, and set values similar to `th.setRunning` before starting the thread.\r\n\r\nIf you want a callback after the thread is completed use an interface which will give you a callback method in your `MainActivity`\r\n\r\nSo it is simply core java&lt;br/&gt;\r\nI have created an example with interface&lt;br/&gt;\r\n[Concurrent Executor Interface Example][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [2]: https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor\r\n  [3]: https://github.com/dickensas/android-java-examples/tree/main/ConcurrentExecutorInterface","title":"Thread freezes UI","body":"<p>Use ThreadPool executor from official oracle and android developer documentations</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">Oracle Docs - java.util.concurrent.ThreadPoolExecutor</a><br/>\n<a href=\"https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor\" rel=\"nofollow noreferrer\">Android Docs - java.util.concurrent.ThreadPoolExecutor</a></p>\n<p>as you have specified you are using java the above two documentation is recommended by google as show below for <code>AsyncTask</code></p>\n<blockquote>\n<p>This class was deprecated in API level 30.\nUse the standard java.util.concurrent or Kotlin concurrency utilities instead.</p>\n</blockquote>\n<p>The ultimate objective is the android is saying that, if you want to update UI, simply use <code>runOnUiThread</code> with a new runnable you update the UI, which means for each UI update you may be creating fresh short term thread which only updates the UI and thread finishes and garbage collected</p>\n<h2>Sample Code<br/></h2>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    int count = 0;\n    Executor ex;\n    MyThread th;\n\n    class MyThread extends Thread implements Runnable {\n        private boolean running=false;\n\n        public void setRunning(boolean running) {\n            this.running = running;\n        }\n\n        @Override\n        public void run() {\n            while(running) {\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        count++;\n                        TextView tv = findViewById(R.id.textView);\n                        tv.setText(String.valueOf(count));\n                    }\n                });\n            }\n        }\n    }\n\n    public void onStartClick(View view) {\n        th = new MyThread();\n        ex = Executors.newSingleThreadExecutor();\n        th.setRunning(true);\n        ex.execute(th);\n    }\n\n    public void onStopClick(View view) {\n        if(th!=null) {\n            th.setRunning(false);\n        }\n    }\n}\n</code></pre>\n<p>all the member variables of the class should be only accessed inside runOnUiThread, for example <code>count++</code> count is a variable of the <code>MainActivity</code> if you want any value specific to the thread you put only inside the <code>MyThread</code> class</p>\n<p>Never try to access any of the <code>MainActivity</code> variable inside the <code>run()</code> method</p>\n<p>You can also write <code>MyThread</code> as separate class, and set values similar to <code>th.setRunning</code> before starting the thread.</p>\n<p>If you want a callback after the thread is completed use an interface which will give you a callback method in your <code>MainActivity</code></p>\n<p>So it is simply core java<br/>\nI have created an example with interface<br/>\n<a href=\"https://github.com/dickensas/android-java-examples/tree/main/ConcurrentExecutorInterface\" rel=\"nofollow noreferrer\">Concurrent Executor Interface Example</a></p>\n"}],"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1648304574,"creation_date":1648281709,"question_id":71626289,"body_markdown":"I have this button that when clicked calls a thead to update user ui:\r\n\r\n    averageButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                new Testing().execute();\r\n            }\r\n        });\r\n\r\nThe method gets executed but it freezes the UI for 10 seconds. I want to update the UI everytime I call the averageMiles.append(mile) method.\r\n        \r\n        class Testing extends AsyncTask&lt;Void, Void, Void&gt; {\r\n        @Override\r\n        protected void onPostExecute(Void unused) {\r\n\r\n            int x = 0;\r\n            while (true) {\r\n\r\n                if (x == 10) {\r\n                    break;\r\n                }\r\n\r\n                ArrayList&lt;Double&gt; milesList = new ArrayList&lt;&gt;();\r\n\r\n\r\n                if (x == 0) {\r\n                    averageMiles.setText(&quot;mph: &quot;);\r\n                }\r\n\r\n                String mile = milesValue.getText().toString();\r\n                if (!isNum(mile)) {\r\n                    continue;\r\n                }\r\n\r\n                averageMiles.append(mile);\r\n                milesList.add(Double.valueOf(mile.trim()));\r\n                x++;\r\n                if (x == 10) {\r\n                    averageMiles.append(&quot;\\nAverage: &quot; + getAverage(milesList));\r\n                    return ;\r\n                } else {\r\n                    averageMiles.append(&quot;, &quot;);\r\n                }\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n\r\n\r\n        }","title":"Thread freezes UI","body":"<p>I have this button that when clicked calls a thead to update user ui:</p>\n<pre><code>averageButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            new Testing().execute();\n        }\n    });\n</code></pre>\n<p>The method gets executed but it freezes the UI for 10 seconds. I want to update the UI everytime I call the averageMiles.append(mile) method.</p>\n<pre><code>    class Testing extends AsyncTask&lt;Void, Void, Void&gt; {\n    @Override\n    protected void onPostExecute(Void unused) {\n\n        int x = 0;\n        while (true) {\n\n            if (x == 10) {\n                break;\n            }\n\n            ArrayList&lt;Double&gt; milesList = new ArrayList&lt;&gt;();\n\n\n            if (x == 0) {\n                averageMiles.setText(&quot;mph: &quot;);\n            }\n\n            String mile = milesValue.getText().toString();\n            if (!isNum(mile)) {\n                continue;\n            }\n\n            averageMiles.append(mile);\n            milesList.add(Double.valueOf(mile.trim()));\n            x++;\n            if (x == 10) {\n                averageMiles.append(&quot;\\nAverage: &quot; + getAverage(milesList));\n                return ;\n            } else {\n                averageMiles.append(&quot;, &quot;);\n            }\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"owner":{"account_id":24694412,"reputation":11,"user_id":18586565,"display_name":"Fiaz Aad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1648286327,"answer_count":0,"score":1,"last_activity_date":1648304449,"creation_date":1648281303,"question_id":71626248,"body_markdown":"I am using firebase authentication google sign in .APK works fine but showing error with status code 10: developer error in app bundle. Means when I am generating app bundle and test with firebase. It is showing this error.\r\n\r\nI try to change the firebase and connect with other account of firebase","title":"firebase authentication google sign","body":"<p>I am using firebase authentication google sign in .APK works fine but showing error with status code 10: developer error in app bundle. Means when I am generating app bundle and test with firebase. It is showing this error.</p>\n<p>I try to change the firebase and connect with other account of firebase</p>\n"},{"tags":["java","servlets","wildfly","jboss5.x"],"answers":[{"tags":[],"owner":{"account_id":249310,"reputation":2533,"user_id":525271,"accept_rate":67,"display_name":"Sergiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529653865,"creation_date":1529653865,"answer_id":50983188,"question_id":50968626,"body_markdown":"Changing the `&lt;url-pattern&gt;*&lt;/url-pattern&gt;` to `&lt;url-pattern&gt;/*&lt;/url-pattern&gt;` did the trick.","title":"WildFly 13 web app not showing login form","body":"<p>Changing the <code>&lt;url-pattern&gt;*&lt;/url-pattern&gt;</code> to <code>&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</code> did the trick.</p>\n"}],"owner":{"account_id":249310,"reputation":2533,"user_id":525271,"accept_rate":67,"display_name":"Sergiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648304384,"creation_date":1529584190,"question_id":50968626,"body_markdown":"I&#39;m currently migrating an app from JBoss 5 to WildFly 13.\r\nThe app consists of an EAR that packs a series of ejbs into a jar and several WAR files holding web apps.\r\n\r\nOne of the web apps&#39; web.xml looks like this:\r\n\r\n   \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\r\n&lt;web-app&gt;\r\n\r\n\t&lt;display-name&gt;My App&lt;/display-name&gt;\r\n\r\n\t&lt;!-- RESTful web services support --&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.test.Dispatcher&lt;/servlet-class&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\r\n\t&lt;!-- order of security-constraint in web.xml is very important!!! --&gt;\r\n\t&lt;security-constraint&gt;\r\n\t\t&lt;web-resource-collection&gt;\r\n\t\t\t&lt;web-resource-name&gt;Secure Content&lt;/web-resource-name&gt;\r\n\t\t\t&lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n\t\t&lt;/web-resource-collection&gt;\r\n\r\n\t\t&lt;auth-constraint&gt;\r\n\t\t\t&lt;role-name&gt;LOGON&lt;/role-name&gt;\r\n\t\t&lt;/auth-constraint&gt;\r\n\r\n\t\t&lt;user-data-constraint&gt;\r\n\t\t\t&lt;transport-guarantee&gt;NONE&lt;/transport-guarantee&gt;\r\n\t\t&lt;/user-data-constraint&gt;\r\n\t&lt;/security-constraint&gt;\r\n\r\n\t&lt;login-config&gt;\t\t\r\n\t\t&lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n\t&lt;/login-config&gt;\r\n\r\n\t&lt;security-role&gt;\r\n\t\t&lt;description&gt;automatic generated role&lt;/description&gt;\r\n\t\t&lt;role-name&gt;LOGON&lt;/role-name&gt;\r\n\t&lt;/security-role&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\nThe jboss-web only defines the security realm that I have configured:\r\n\r\n```xml\r\n    &lt;jboss-web&gt;\r\n      &lt;security-domain&gt;myRealm&lt;/security-domain&gt;\r\n    &lt;/jboss-web&gt;\r\n```\r\n\r\nFor all it&#39;s worth, due to the I would have expected that the BASIC auth method would prompt the browser login form to show up when I&#39;m calling any resource.\r\n\r\nThe security subsystem defines a custom security domain, named myRealm, that uses jdbc queries:\r\n\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:security:2.0&quot;&gt;\r\n\t&lt;security-domains&gt;\r\n\t\t&lt;security-domain name=&quot;myRealm&quot; cache-type=&quot;default&quot;&gt;\r\n\t\t\t&lt;authentication&gt;\r\n\t\t\t\t&lt;login-module code=&quot;com.login.LoginModule&quot; flag=&quot;required&quot; module=&quot;org.jboss.login&quot;&gt;\r\n\t\t\t\t\t&lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:jboss/datasources/datasourceDSXA&quot;/&gt;\r\n\t\t\t\t\t&lt;module-option name=&quot;hashAlgorithm&quot; value=&quot;SHA&quot;/&gt;\r\n\t\t\t\t\t&lt;module-option name=&quot;hashEncoding&quot; value=&quot;BASE64&quot;/&gt;\r\n\t\t\t\t\t&lt;module-option name=&quot;principalsQuery&quot; value=&quot;SELECT ....&quot;/&gt;\r\n\t\t\t\t\t&lt;module-option name=&quot;rolesQuery&quot; value=&quot;SELECT ....&quot;/&gt;\r\n\t\t\t\t\t&lt;module-option name=&quot;unauthenticatedIdentity&quot; value=&quot;guest&quot;/&gt;\r\n\t\t\t\t&lt;/login-module&gt;\r\n\t\t\t\t&lt;login-module code=&quot;Remoting&quot; flag=&quot;optional&quot;&gt;\r\n\t\t\t\t\t&lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n\t\t\t\t&lt;/login-module&gt;\r\n\t\t\t&lt;/authentication&gt;\r\n\t\t&lt;/security-domain&gt;\r\n&lt;/subsystem&gt;\r\n```\r\n\r\nThe undertow security domain is set to my custom one:\r\n\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:6.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;myRealm&quot;&gt;\r\n```\r\n\r\nIdeas on what I might be doing wrong ?","title":"WildFly 13 web app not showing login form","body":"<p>I'm currently migrating an app from JBoss 5 to WildFly 13.\nThe app consists of an EAR that packs a series of ejbs into a jar and several WAR files holding web apps.</p>\n<p>One of the web apps' web.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\n&lt;web-app&gt;\n\n    &lt;display-name&gt;My App&lt;/display-name&gt;\n\n    &lt;!-- RESTful web services support --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.test.Dispatcher&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n    &lt;!-- order of security-constraint in web.xml is very important!!! --&gt;\n    &lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;Secure Content&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;LOGON&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n\n        &lt;user-data-constraint&gt;\n            &lt;transport-guarantee&gt;NONE&lt;/transport-guarantee&gt;\n        &lt;/user-data-constraint&gt;\n    &lt;/security-constraint&gt;\n\n    &lt;login-config&gt;      \n        &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n    &lt;/login-config&gt;\n\n    &lt;security-role&gt;\n        &lt;description&gt;automatic generated role&lt;/description&gt;\n        &lt;role-name&gt;LOGON&lt;/role-name&gt;\n    &lt;/security-role&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>The jboss-web only defines the security realm that I have configured:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;jboss-web&gt;\n      &lt;security-domain&gt;myRealm&lt;/security-domain&gt;\n    &lt;/jboss-web&gt;\n</code></pre>\n<p>For all it's worth, due to the I would have expected that the BASIC auth method would prompt the browser login form to show up when I'm calling any resource.</p>\n<p>The security subsystem defines a custom security domain, named myRealm, that uses jdbc queries:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:security:2.0&quot;&gt;\n    &lt;security-domains&gt;\n        &lt;security-domain name=&quot;myRealm&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authentication&gt;\n                &lt;login-module code=&quot;com.login.LoginModule&quot; flag=&quot;required&quot; module=&quot;org.jboss.login&quot;&gt;\n                    &lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:jboss/datasources/datasourceDSXA&quot;/&gt;\n                    &lt;module-option name=&quot;hashAlgorithm&quot; value=&quot;SHA&quot;/&gt;\n                    &lt;module-option name=&quot;hashEncoding&quot; value=&quot;BASE64&quot;/&gt;\n                    &lt;module-option name=&quot;principalsQuery&quot; value=&quot;SELECT ....&quot;/&gt;\n                    &lt;module-option name=&quot;rolesQuery&quot; value=&quot;SELECT ....&quot;/&gt;\n                    &lt;module-option name=&quot;unauthenticatedIdentity&quot; value=&quot;guest&quot;/&gt;\n                &lt;/login-module&gt;\n                &lt;login-module code=&quot;Remoting&quot; flag=&quot;optional&quot;&gt;\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\n                &lt;/login-module&gt;\n            &lt;/authentication&gt;\n        &lt;/security-domain&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>The undertow security domain is set to my custom one:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:6.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;myRealm&quot;&gt;\n</code></pre>\n<p>Ideas on what I might be doing wrong ?</p>\n"},{"tags":["java","annotations","swagger","openapi","quarkus"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648229664,"post_id":71620927,"comment_id":126580029,"body_markdown":"You cannot do that. APIResponses has the following: @Target({ElementType.METHOD}). It can only be applied to methods. More info here: https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html","body":"You cannot do that. APIResponses has the following: @Target({ElementType.METHOD}). It can only be applied to methods. More info here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/annotation/&hellip;</a>"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1648241038,"post_id":71620927,"comment_id":126583253,"body_markdown":"@pringi Thanks for your response. But I found a question where they are doing this: https://stackoverflow.com/q/64236324/7584240 so I was trying to do something similar. Can you please have a look at that answer and provide some suggestion?","body":"@pringi Thanks for your response. But I found a question where they are doing this: <a href=\"https://stackoverflow.com/q/64236324/7584240\">stackoverflow.com/q/64236324/7584240</a> so I was trying to do something similar. Can you please have a look at that answer and provide some suggestion?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648287738,"post_id":71620927,"comment_id":126589893,"body_markdown":"You are using org.eclipse.microprofile.openapi.annotations.responses.APIResponses. This annotation has as target a method. In the question that you refer they are using swagger (in package oas). And in ApiResponses in swagger you have a different target (method and annotation type)","body":"You are using org.eclipse.microprofile.openapi.annotations.responses.APIRe&zwnj;&#8203;sponses. This annotation has as target a method. In the question that you refer they are using swagger (in package oas). And in ApiResponses in swagger you have a different target (method and annotation type)"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1648291459,"post_id":71620927,"comment_id":126590496,"body_markdown":"@pringi Thanks for looking into the question. Yes, actually even I tried to add that dependency and make according to modification but still for some reason it does not seem to work for me. I have added the code same based on that example above in my question. Can you please have a look and provide some response?","body":"@pringi Thanks for looking into the question. Yes, actually even I tried to add that dependency and make according to modification but still for some reason it does not seem to work for me. I have added the code same based on that example above in my question. Can you please have a look and provide some response?"}],"answers":[{"tags":[],"owner":{"account_id":1729031,"reputation":7249,"user_id":1583052,"accept_rate":86,"display_name":"Dipu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648304361,"creation_date":1648304361,"answer_id":71628865,"question_id":71620927,"body_markdown":"By default, the swagger defines a default set of response. To use your own response, you have to disable the default.\r\n\r\n```java\r\n@Configuration\r\npublic class SpringFoxConfig {\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .paths(PathSelectors.ant(&quot;/api/**&quot;))\r\n                .build()\r\n                .useDefaultResponseMessages(false);\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor openapi, you can use the properties to disable default option directly:\r\n\r\n```\r\nspringdoc.override-with-generic-response=false\r\n```","title":"Creating custom annotation with other annotation results into error &#39;@APIResponses&#39; not applicable to annotation type","body":"<p>By default, the swagger defines a default set of response. To use your own response, you have to disable the default.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SpringFoxConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .paths(PathSelectors.ant(&quot;/api/**&quot;))\n                .build()\n                .useDefaultResponseMessages(false);\n    }\n\n}\n</code></pre>\n<p>For openapi, you can use the properties to disable default option directly:</p>\n<pre><code>springdoc.override-with-generic-response=false\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648304361,"creation_date":1648229243,"question_id":71620927,"body_markdown":"I have a Quarkus application to which I would like to add some `opernapi @APIResponses` annotations as there are many annotations on the `Quarkus service` class I wanted to create a separate `@Interface` and add the `@APIResponses` annotation on this interface and later use this `Interface` annotation on my `Quarkus service`.\r\n\r\nWhen I create the new interface and add the `@APIResponses` then it would not work and I get the error: `&#39;@APIResponses&#39; not applicable to annotation type`. However if I directly use then I do not get any error.\r\n\r\nFollowing is my Interface which is creating custom annotations:\r\n```\r\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\r\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Documented\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\n@APIResponses(value = {\r\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;Successful.&quot;),\r\n        @APIResponse(responseCode = &quot;404&quot;, description = &quot;Invalid entries.&quot;),\r\n        @APIResponse(responseCode = &quot;401&quot;, description = &quot;Missing ot invalid authorization information.&quot;)\r\n})\r\npublic @interface PayloadResponse {\r\n}\r\n```\r\n\r\nIf I directly add the same `APIResponse` to my `Quarkus service` then I do NOT get any error, following is the code which is working currently:\r\n```\r\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\r\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\r\n\r\n@Path(&quot;/generate&quot;)\r\n@POST\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@APIResponses(value = {\r\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;Successful.&quot;),\r\n        @APIResponse(responseCode = &quot;404&quot;, description = &quot;Invalid entries.&quot;),\r\n        @APIResponse(responseCode = &quot;401&quot;, description = &quot;Missing ot invalid authorization information.&quot;)\r\n})\r\npublic Multi&lt;String&gt; generate(final Map&lt;String, Object&gt; input) throws CustomException {\r\n        \r\n}\r\n```\r\n\r\nHowever I would like to replace the above code with something like this:\r\n```\r\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\r\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\r\n\r\n@Path(&quot;/generate&quot;)\r\n@POST\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@PayloadResponse\r\npublic Multi&lt;String&gt; generate(final Map&lt;String, Object&gt; input) throws CustomException {\r\n        \r\n}\r\n```\r\n\r\n**Updated code based on example**\r\n\r\nAfter looking at the following code example: https://stackoverflow.com/q/64236324/7584240\r\nI tried to do something like that as well:\r\n```\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Documented\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\n@APIResponses(value = {\r\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;Successful.&quot;),\r\n        @APIResponse(responseCode = &quot;404&quot;, description = &quot;Invalid entries.&quot;),\r\n        @APIResponse(responseCode = &quot;401&quot;, description = &quot;Missing ot invalid authorization information.&quot;)\r\n})\r\npublic @interface PayloadResponse {\r\n}\r\n```\r\n\r\nAlso created the `application.properties` file:\r\n```\r\nspringfox.documentation.swagger.use-model-v3=false\r\n```\r\n\r\nAnd added the `@PayloadResponse` to my method But still it&#39;s not showing up in my `swagger-ui`. \r\n\r\nAlso, I observe that in the example code they are using `code` within `ApiResponse` but when I check that annotation within my code it only accepts `responseCode` of String type and not code of Integer type as they have described.\r\n\r\nCan someone please provide some explanation?","title":"Creating custom annotation with other annotation results into error &#39;@APIResponses&#39; not applicable to annotation type","body":"<p>I have a Quarkus application to which I would like to add some <code>opernapi @APIResponses</code> annotations as there are many annotations on the <code>Quarkus service</code> class I wanted to create a separate <code>@Interface</code> and add the <code>@APIResponses</code> annotation on this interface and later use this <code>Interface</code> annotation on my <code>Quarkus service</code>.</p>\n<p>When I create the new interface and add the <code>@APIResponses</code> then it would not work and I get the error: <code>'@APIResponses' not applicable to annotation type</code>. However if I directly use then I do not get any error.</p>\n<p>Following is my Interface which is creating custom annotations:</p>\n<pre><code>import org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\n\nimport java.lang.annotation.*;\n\n@Documented\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@APIResponses(value = {\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;Successful.&quot;),\n        @APIResponse(responseCode = &quot;404&quot;, description = &quot;Invalid entries.&quot;),\n        @APIResponse(responseCode = &quot;401&quot;, description = &quot;Missing ot invalid authorization information.&quot;)\n})\npublic @interface PayloadResponse {\n}\n</code></pre>\n<p>If I directly add the same <code>APIResponse</code> to my <code>Quarkus service</code> then I do NOT get any error, following is the code which is working currently:</p>\n<pre><code>import org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\n\n@Path(&quot;/generate&quot;)\n@POST\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@APIResponses(value = {\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;Successful.&quot;),\n        @APIResponse(responseCode = &quot;404&quot;, description = &quot;Invalid entries.&quot;),\n        @APIResponse(responseCode = &quot;401&quot;, description = &quot;Missing ot invalid authorization information.&quot;)\n})\npublic Multi&lt;String&gt; generate(final Map&lt;String, Object&gt; input) throws CustomException {\n        \n}\n</code></pre>\n<p>However I would like to replace the above code with something like this:</p>\n<pre><code>import org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\nimport org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\n\n@Path(&quot;/generate&quot;)\n@POST\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@PayloadResponse\npublic Multi&lt;String&gt; generate(final Map&lt;String, Object&gt; input) throws CustomException {\n        \n}\n</code></pre>\n<p><strong>Updated code based on example</strong></p>\n<p>After looking at the following code example: <a href=\"https://stackoverflow.com/q/64236324/7584240\">Swagger UI does not display response models from custom annotation interface</a>\nI tried to do something like that as well:</p>\n<pre><code>import io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\n\nimport java.lang.annotation.*;\n\n@Documented\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@APIResponses(value = {\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;Successful.&quot;),\n        @APIResponse(responseCode = &quot;404&quot;, description = &quot;Invalid entries.&quot;),\n        @APIResponse(responseCode = &quot;401&quot;, description = &quot;Missing ot invalid authorization information.&quot;)\n})\npublic @interface PayloadResponse {\n}\n</code></pre>\n<p>Also created the <code>application.properties</code> file:</p>\n<pre><code>springfox.documentation.swagger.use-model-v3=false\n</code></pre>\n<p>And added the <code>@PayloadResponse</code> to my method But still it's not showing up in my <code>swagger-ui</code>.</p>\n<p>Also, I observe that in the example code they are using <code>code</code> within <code>ApiResponse</code> but when I check that annotation within my code it only accepts <code>responseCode</code> of String type and not code of Integer type as they have described.</p>\n<p>Can someone please provide some explanation?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648290207,"post_id":71627161,"comment_id":126590280,"body_markdown":"Is `!HomeActivity.anonymous` returning `false`? If not, what are the values of `uname` and `userId` inside `onDataChange`? Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Is <code>!HomeActivity.anonymous</code> returning <code>false</code>? If not, what are the values of <code>uname</code> and <code>userId</code> inside <code>onDataChange</code>? Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"score":0,"creation_date":1648290779,"post_id":71627161,"comment_id":126590386,"body_markdown":"@AlexMamo `!HomeActivity.anonymous` is `true` and there is not problem with this if statement. Also `uname` and `userId` have the correct value only inside the `onDataChange`","body":"@AlexMamo <code>!HomeActivity.anonymous</code> is <code>true</code> and there is not problem with this if statement. Also <code>uname</code> and <code>userId</code> have the correct value only inside the <code>onDataChange</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648291373,"post_id":71627161,"comment_id":126590483,"body_markdown":"If you log the values of `callback_userID` and `callback_username` inside `openUserProfile()` method, what do you get printed out?","body":"If you log the values of <code>callback_userID</code> and <code>callback_username</code> inside <code>openUserProfile()</code> method, what do you get printed out?"},{"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"score":0,"creation_date":1648291599,"post_id":71627161,"comment_id":126590528,"body_markdown":"@AlexMamo I&#39;m getting the correct values inside `onDataChange`","body":"@AlexMamo I&#39;m getting the correct values inside <code>onDataChange</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648293146,"post_id":71627161,"comment_id":126590835,"body_markdown":"And inside openUserProfile()?","body":"And inside openUserProfile()?"},{"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"score":0,"creation_date":1648293164,"post_id":71627161,"comment_id":126590841,"body_markdown":"@AlexMamo of course","body":"@AlexMamo of course"},{"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"score":0,"creation_date":1648293755,"post_id":71627161,"comment_id":126590938,"body_markdown":"@AlexMamo I tried getting the values outside the onDataChange and inside openUserProfile() but I&#39;m not getting the correct value","body":"@AlexMamo I tried getting the values outside the onDataChange and inside openUserProfile() but I&#39;m not getting the correct value"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":2,"creation_date":1648304168,"post_id":71627161,"comment_id":126592887,"body_markdown":"Can you add some log statements to your code that show where you get the correct value, and where that is not showing anymore? Once you have that, please add both the updated code and its output to the question.","body":"Can you add some log statements to your code that show where you get the correct value, and where that is not showing anymore? Once you have that, please add both the updated code and its output to the question."}],"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648304108,"creation_date":1648290031,"question_id":71627161,"body_markdown":"I&#39;m trying to pass 2 variables from firebase `onDataChange` method to another activity but always the value is null inside the other activity. \r\n\r\nI tried the following things:\r\n\r\n- Using a callback interface method to start the start the activity when the async work done \r\n\r\n- Checking for null value inside `onDataChange` but always I&#39;m getting the correct value\r\n\r\nCan someone help me with this issue?\r\n\r\nMy database structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy code with the `onDataChange` method inside:\r\n\r\n    public interface FirebaseCallback {\r\n        void onCallback(String callback_userID, String callback_username);\r\n    }\r\n    \r\n    void openUserProfile(FirebaseCallback firebaseCallback) {\r\n        if (!HomeActivity.anonymous) {\r\n    \r\n            usersRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot snap : snapshot.getChildren()) {\r\n                        if (snap.child(&quot;name&quot;).getValue().toString().equals(username.getText().toString())) {\r\n                            String uname = username.getText().toString();\r\n                            String userId = snap.child(&quot;id&quot;).getValue(String.class);\r\n                            firebaseCallback.onCallback(userId, uname);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(context, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\nAnd I&#39;m calling the `openUserProfile()` like this below:\r\n\r\n    openUserProfile((callback_userID, callback_username) -&gt; {\r\n       Intent intent = new Intent(context, UserProfileActivity.class);\r\n       UserProfileActivity.userID = callback_userID;\r\n       UserProfileActivity.username  = callback_username;\r\n       context.startActivity(intent);\r\n       CustomIntent.customType(context, &quot;left-to-right&quot;);\r\n     });\r\n\r\nThe `userID` and `username` variables are 2 static variables inside `UserProfileActivityClass`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4K4TJ.png","title":"Can&#39;t pass variable from onDataChange to another class/activity","body":"<p>I'm trying to pass 2 variables from firebase <code>onDataChange</code> method to another activity but always the value is null inside the other activity.</p>\n<p>I tried the following things:</p>\n<ul>\n<li><p>Using a callback interface method to start the start the activity when the async work done</p>\n</li>\n<li><p>Checking for null value inside <code>onDataChange</code> but always I'm getting the correct value</p>\n</li>\n</ul>\n<p>Can someone help me with this issue?</p>\n<p>My database structure:</p>\n<p><a href=\"https://i.stack.imgur.com/4K4TJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4K4TJ.png\" alt=\"enter image description here\" /></a></p>\n<p>My code with the <code>onDataChange</code> method inside:</p>\n<pre><code>public interface FirebaseCallback {\n    void onCallback(String callback_userID, String callback_username);\n}\n\nvoid openUserProfile(FirebaseCallback firebaseCallback) {\n    if (!HomeActivity.anonymous) {\n\n        usersRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot snap : snapshot.getChildren()) {\n                    if (snap.child(&quot;name&quot;).getValue().toString().equals(username.getText().toString())) {\n                        String uname = username.getText().toString();\n                        String userId = snap.child(&quot;id&quot;).getValue(String.class);\n                        firebaseCallback.onCallback(userId, uname);\n                        break;\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(context, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>And I'm calling the <code>openUserProfile()</code> like this below:</p>\n<pre><code>openUserProfile((callback_userID, callback_username) -&gt; {\n   Intent intent = new Intent(context, UserProfileActivity.class);\n   UserProfileActivity.userID = callback_userID;\n   UserProfileActivity.username  = callback_username;\n   context.startActivity(intent);\n   CustomIntent.customType(context, &quot;left-to-right&quot;);\n });\n</code></pre>\n<p>The <code>userID</code> and <code>username</code> variables are 2 static variables inside <code>UserProfileActivityClass</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1648283327,"post_id":71626411,"comment_id":126589185,"body_markdown":"You don&#39;t have a method `clear()`, you only have a method `clear(boolean)`, so you need to call it with `clear(true)` or `clear(false)`.","body":"You don&#39;t have a method <code>clear()</code>, you only have a method <code>clear(boolean)</code>, so you need to call it with <code>clear(true)</code> or <code>clear(false)</code>."}],"answers":[{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648283363,"creation_date":1648283363,"answer_id":71626447,"question_id":71626411,"body_markdown":"You need to pass a boolean value while invoking the method. It depends on you want do you want to pass. Call your method like this:\r\n\r\n        boolean a = true;    // False can also be given depending on need\r\n        if((xRes * yRes) &gt; 2000000)\r\n        {\r\n            clear(a);\r\n        }\r\n\r\nYou can pass either true or false by changing the value of `a`.","title":"method clear in class Screen cannot be applied to given types error","body":"<p>You need to pass a boolean value while invoking the method. It depends on you want do you want to pass. Call your method like this:</p>\n<pre><code>    boolean a = true;    // False can also be given depending on need\n    if((xRes * yRes) &gt; 2000000)\n    {\n        clear(a);\n    }\n</code></pre>\n<p>You can pass either true or false by changing the value of <code>a</code>.</p>\n"},{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648283379,"creation_date":1648283379,"answer_id":71626448,"question_id":71626411,"body_markdown":"The clear metod has a strange implementation right now as it doesn&#39;t clear anything but maybe you will get to fixing that later.\r\n\r\nTo call the method in it&#39;s current form you need to provide an argument of true or false.\r\n\r\nLike this:\r\n\r\n```\r\nclear(true);\r\n```","title":"method clear in class Screen cannot be applied to given types error","body":"<p>The clear metod has a strange implementation right now as it doesn't clear anything but maybe you will get to fixing that later.</p>\n<p>To call the method in it's current form you need to provide an argument of true or false.</p>\n<p>Like this:</p>\n<pre><code>clear(true);\n</code></pre>\n"}],"owner":{"account_id":24694560,"reputation":15,"user_id":18586694,"display_name":"WhatsA.syntaxError"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1648283934,"accepted_answer_id":71626448,"answer_count":2,"score":-2,"last_activity_date":1648303966,"creation_date":1648283006,"question_id":71626411,"body_markdown":"I keep getting the error message\r\n\r\n```\r\nmethod clear in class Screen cannot be applied to given types;\r\nrequired: boolean\r\nfound: no arguments\r\nreason: actual and formal argument list differ in length\r\n```\r\nFor clear(), \r\n\r\nI&#39;m trying to do an exercise from a workbook that wants me to use the following headers and fill out the methods and constructor. The actual function of clear() doesn&#39;t matter, just that I use the headers and call the clear method if xRes x yRes &gt; 2000000)\r\n\r\nThe question,\r\n\r\n```\r\nExercise 3.55 Given the following class (only shown in fragments here),\r\npublic class Screen\r\n{\r\npublic Screen(int xRes, int yRes)\r\n{ ...\r\n}\r\npublic int numberOfPixels()\r\n{ ...\r\n}\r\npublic void clear(boolean invert)\r\n{ ...\r\n}\r\n}\r\nwrite some lines of Java code that create a Screen object. Then call its clear\r\nmethod if (and only if) its number of pixels is greater than two million. (Dont\r\nworry about things being logical here; the goal is only to write something that is\r\nsyntactically correcti.e., that would compile if we typed it in.)\r\n```\r\n\r\nMy code,\r\n    \r\n    /**\r\n     * Write a description of class Screen here.\r\n     *\r\n     * @author (your name)\r\n     * @version (a version number or a date)\r\n     */\r\n    public class Screen\r\n    {\r\n        // instance variables - replace the example below with your own\r\n        private int xRes;\r\n        private int yRes;\r\n        private boolean invert;\r\n        \r\n        /**\r\n         * Constructor for objects of class Screen\r\n         */\r\n        public Screen(int xRes, int yRes, boolean invert)\r\n        {\r\n            // initialise instance variables\r\n            this.xRes = xRes;\r\n            this.yRes = yRes;\r\n            if((xRes * yRes) &gt; 2000000)\r\n            {\r\n                clear(); // this is where i get my error\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * An example of a method - replace this comment with your own\r\n         *\r\n         * @param  y  a sample parameter for a method\r\n         * @return    the sum of x and y\r\n         */\r\n        public int numberOfPixels()\r\n        {\r\n            // put your code here\r\n            return xRes * yRes;\r\n        }\r\n        \r\n        public void clear(boolean invert)\r\n        {\r\n            this.invert = invert;\r\n        }\r\n    }\r\n    ","title":"method clear in class Screen cannot be applied to given types error","body":"<p>I keep getting the error message</p>\n<pre><code>method clear in class Screen cannot be applied to given types;\nrequired: boolean\nfound: no arguments\nreason: actual and formal argument list differ in length\n</code></pre>\n<p>For clear(),</p>\n<p>I'm trying to do an exercise from a workbook that wants me to use the following headers and fill out the methods and constructor. The actual function of clear() doesn't matter, just that I use the headers and call the clear method if xRes x yRes &gt; 2000000)</p>\n<p>The question,</p>\n<pre><code>Exercise 3.55 Given the following class (only shown in fragments here),\npublic class Screen\n{\npublic Screen(int xRes, int yRes)\n{ ...\n}\npublic int numberOfPixels()\n{ ...\n}\npublic void clear(boolean invert)\n{ ...\n}\n}\nwrite some lines of Java code that create a Screen object. Then call its clear\nmethod if (and only if) its number of pixels is greater than two million. (Dont\nworry about things being logical here; the goal is only to write something that is\nsyntactically correcti.e., that would compile if we typed it in.)\n</code></pre>\n<p>My code,</p>\n<pre><code>/**\n * Write a description of class Screen here.\n *\n * @author (your name)\n * @version (a version number or a date)\n */\npublic class Screen\n{\n    // instance variables - replace the example below with your own\n    private int xRes;\n    private int yRes;\n    private boolean invert;\n    \n    /**\n     * Constructor for objects of class Screen\n     */\n    public Screen(int xRes, int yRes, boolean invert)\n    {\n        // initialise instance variables\n        this.xRes = xRes;\n        this.yRes = yRes;\n        if((xRes * yRes) &gt; 2000000)\n        {\n            clear(); // this is where i get my error\n        }\n    }\n\n    /**\n     * An example of a method - replace this comment with your own\n     *\n     * @param  y  a sample parameter for a method\n     * @return    the sum of x and y\n     */\n    public int numberOfPixels()\n    {\n        // put your code here\n        return xRes * yRes;\n    }\n    \n    public void clear(boolean invert)\n    {\n        this.invert = invert;\n    }\n}\n</code></pre>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648306300,"post_id":71628790,"comment_id":126593308,"body_markdown":"I could be wrong but I suspect not. A thorough search of the javadoc for Ant itself should confirm it. A workaround would be to create a temp file","body":"I could be wrong but I suspect not. A thorough search of the javadoc for Ant itself should confirm it. A workaround would be to create a temp file"},{"owner":{"account_id":61460,"reputation":76806,"user_id":183172,"display_name":"martin clayton"},"score":0,"creation_date":1648312994,"post_id":71628790,"comment_id":126594791,"body_markdown":"http://fikin-ant-tasks.sourceforge.net/api/net/sf/fikin/ant/EmbeddedAntProject.html might be worth a look.","body":"<a href=\"http://fikin-ant-tasks.sourceforge.net/api/net/sf/fikin/ant/EmbeddedAntProject.html\" rel=\"nofollow noreferrer\">fikin-ant-tasks.sourceforge.net/api/net/sf/fikin/ant/&hellip;</a> might be worth a look."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1648313784,"post_id":71628790,"comment_id":126594959,"body_markdown":"@g00se Thank you. I am aware of the workaround but wanted to take it directly to the classpath.","body":"@g00se Thank you. I am aware of the workaround but wanted to take it directly to the classpath."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1648314396,"post_id":71628790,"comment_id":126595106,"body_markdown":"@martinclayton Having checked the code it seems that EmbeddedAntProject copies the buidl script into a temporary file before executing it. Well, maybe there is no real answer to my problem...","body":"@martinclayton Having checked the code it seems that EmbeddedAntProject copies the buidl script into a temporary file before executing it. Well, maybe there is no real answer to my problem..."}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648303803,"creation_date":1648303803,"question_id":71628790,"body_markdown":"I want to run Ant scripts from within a Java program. For this I found\r\nhttps://stackoverflow.com/questions/6733684/run-ant-from-java\r\nbut it requires the build.xml to reside in the filesystem. However I&#39;d like to run the build script either to be on the classpath (inside a jar) or maybe even come via the network. \r\n\r\nIs it possible to make Ant process a build script coming via an InputStream?","title":"Run Ant from Java with build file from InputStream","body":"<p>I want to run Ant scripts from within a Java program. For this I found\n<a href=\"https://stackoverflow.com/questions/6733684/run-ant-from-java\">Run ant from Java</a>\nbut it requires the build.xml to reside in the filesystem. However I'd like to run the build script either to be on the classpath (inside a jar) or maybe even come via the network.</p>\n<p>Is it possible to make Ant process a build script coming via an InputStream?</p>\n"},{"tags":["java","android","multithreading","android-asynctask"],"comments":[{"owner":{"account_id":6440797,"reputation":3488,"user_id":4990883,"accept_rate":60,"display_name":"Amirouche Zeggagh"},"score":1,"creation_date":1503653208,"post_id":45878220,"comment_id":78714947,"body_markdown":"take a look for this question https://stackoverflow.com/questions/29339565/calling-rest-api-from-an-android-app","body":"take a look for this question <a href=\"https://stackoverflow.com/questions/29339565/calling-rest-api-from-an-android-app\" title=\"calling rest api from an android app\">stackoverflow.com/questions/29339565/&hellip;</a>"},{"owner":{"account_id":1267620,"reputation":3293,"user_id":1224583,"accept_rate":47,"display_name":"codeinprogress"},"score":0,"creation_date":1503653698,"post_id":45878220,"comment_id":78715231,"body_markdown":"Found this as well: https://www.youtube.com/watch?v=xXkjfnhqRGI","body":"Found this as well: <a href=\"https://www.youtube.com/watch?v=xXkjfnhqRGI\" rel=\"nofollow noreferrer\">youtube.com/watch?v=xXkjfnhqRGI</a>"},{"owner":{"account_id":7313211,"reputation":920,"user_id":5571700,"accept_rate":0,"display_name":"p.mathew13"},"score":0,"creation_date":1503653891,"post_id":45878220,"comment_id":78715366,"body_markdown":"You could use 3rd party libraries like Volley or Retrofit to fetch data through REST API. Both of them work asynchronously on a separate thread and easier to implement","body":"You could use 3rd party libraries like Volley or Retrofit to fetch data through REST API. Both of them work asynchronously on a separate thread and easier to implement"},{"owner":{"account_id":1267620,"reputation":3293,"user_id":1224583,"accept_rate":47,"display_name":"codeinprogress"},"score":1,"creation_date":1503653991,"post_id":45878220,"comment_id":78715433,"body_markdown":"Yes, that is one way, but I do not want to go into dealing with third party libraries at this moment since I have started learning Android. So I was looking at some in house solutions.","body":"Yes, that is one way, but I do not want to go into dealing with third party libraries at this moment since I have started learning Android. So I was looking at some in house solutions."}],"answers":[{"tags":[],"owner":{"account_id":1267620,"reputation":3293,"user_id":1224583,"accept_rate":47,"display_name":"codeinprogress"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503665143,"creation_date":1503665143,"answer_id":45881771,"question_id":45878220,"body_markdown":"OK, I found out how to do this, here is the code (minus the API key and other stuff)\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private static final String LOGTAG = &quot;info&quot;;\r\n        private static final String QUOTES_API = &quot;https://andruxnet-random-famous-quotes.p.mashape.com/?cat=movies&amp;count=1&quot;;\r\n        private static final String MASHAPE_KEY = &quot;myapikey&quot;;\r\n    \r\n        TextView quotesTextView, quotesSourceTextView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Button newQuoteBtn = (Button) findViewById(R.id.quotesBtn);\r\n            quotesTextView = (TextView) findViewById(R.id.quotesText);\r\n            quotesSourceTextView = (TextView) findViewById(R.id.quotesSourceText);\r\n    \r\n            newQuoteBtn.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    new GetQuote().execute();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private class GetQuote extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            private String quote, quoteSource;\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                try {\r\n                    URL quotesURL = new URL(QUOTES_API);\r\n                    HttpsURLConnection conn = (HttpsURLConnection) quotesURL.openConnection();\r\n                    conn.setRequestProperty(&quot;X-Mashape-Key&quot;, MASHAPE_KEY);\r\n                    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n                    \r\n                    if(conn.getResponseCode() == 200) {\r\n                        InputStream inputStream = conn.getInputStream();\r\n                        InputStreamReader isReader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);\r\n    \r\n                        BufferedReader buffReader = new BufferedReader(isReader);\r\n                        StringBuffer json = new StringBuffer(1024);\r\n                        String tmp=&quot;&quot;;\r\n                        while((tmp=buffReader.readLine())!=null) {\r\n                            json.append(tmp).append(&quot;\\n&quot;);\r\n                        }\r\n                        buffReader.close();\r\n    \r\n                        JSONObject data = new JSONObject(json.toString());\r\n                        Log.i(LOGTAG, data.getString(&quot;quote&quot;));\r\n                        quote = data.getString(&quot;quote&quot;);\r\n                        quoteSource = data.getString(&quot;author&quot;);\r\n                    } else {\r\n                        quote = &quot;Response code: &quot; + conn.getResponseCode();\r\n                        quoteSource = &quot;Mashape&quot;;\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    quote = e.getMessage();\r\n                    quoteSource = &quot;Exception Class&quot;;\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                quotesTextView.setText(quote);\r\n                quotesSourceTextView.setText(quoteSource);\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n    \r\n    }","title":"Should I use AsyncTask or IntentService for making a REST API call?","body":"<p>OK, I found out how to do this, here is the code (minus the API key and other stuff)</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final String LOGTAG = \"info\";\n    private static final String QUOTES_API = \"https://andruxnet-random-famous-quotes.p.mashape.com/?cat=movies&amp;count=1\";\n    private static final String MASHAPE_KEY = \"myapikey\";\n\n    TextView quotesTextView, quotesSourceTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button newQuoteBtn = (Button) findViewById(R.id.quotesBtn);\n        quotesTextView = (TextView) findViewById(R.id.quotesText);\n        quotesSourceTextView = (TextView) findViewById(R.id.quotesSourceText);\n\n        newQuoteBtn.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                new GetQuote().execute();\n            }\n        });\n    }\n\n    private class GetQuote extends AsyncTask&lt;Void, Void, Void&gt; {\n        private String quote, quoteSource;\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            try {\n                URL quotesURL = new URL(QUOTES_API);\n                HttpsURLConnection conn = (HttpsURLConnection) quotesURL.openConnection();\n                conn.setRequestProperty(\"X-Mashape-Key\", MASHAPE_KEY);\n                conn.setRequestProperty(\"Accept\", \"application/json\");\n\n                if(conn.getResponseCode() == 200) {\n                    InputStream inputStream = conn.getInputStream();\n                    InputStreamReader isReader = new InputStreamReader(inputStream, \"UTF-8\");\n\n                    BufferedReader buffReader = new BufferedReader(isReader);\n                    StringBuffer json = new StringBuffer(1024);\n                    String tmp=\"\";\n                    while((tmp=buffReader.readLine())!=null) {\n                        json.append(tmp).append(\"\\n\");\n                    }\n                    buffReader.close();\n\n                    JSONObject data = new JSONObject(json.toString());\n                    Log.i(LOGTAG, data.getString(\"quote\"));\n                    quote = data.getString(\"quote\");\n                    quoteSource = data.getString(\"author\");\n                } else {\n                    quote = \"Response code: \" + conn.getResponseCode();\n                    quoteSource = \"Mashape\";\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n                quote = e.getMessage();\n                quoteSource = \"Exception Class\";\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void aVoid) {\n            quotesTextView.setText(quote);\n            quotesSourceTextView.setText(quoteSource);\n            super.onPostExecute(aVoid);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1267620,"reputation":3293,"user_id":1224583,"accept_rate":47,"display_name":"codeinprogress"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1503665933,"answer_count":1,"score":1,"last_activity_date":1648303236,"creation_date":1503652707,"question_id":45878220,"body_markdown":"I am learning Android development and creating an app which calls a REST Service on button click which returns a famous quote from a movie. This quote will be shown on the screen (on TextView).\r\n\r\nI have added the user permission to the manifest file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nThis is my MainActivity.java code\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private static final String LOGTAG = &quot;info&quot;;\r\n        private static final String QUOTES_API = &quot;https://andruxnet-random-famous-quotes.p.mashape.com/?cat=movies&amp;count=1&quot;;\r\n        private static final String MASHAPE_KEY = &quot;this-my-api-key&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Button newQuoteBtn = (Button) findViewById(R.id.quotesBtn);\r\n    \r\n            newQuoteBtn.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String quote = getQuote();\r\n                    Log.i(LOGTAG, quote);\r\n                    //the quote will be then shown on the text view\r\n                }\r\n            });\r\n        }\r\n    \r\n        private String getQuote() {\r\n            try {\r\n                URL quotesURL = new URL(QUOTES_API);\r\n                HttpsURLConnection conn = (HttpsURLConnection) quotesURL.openConnection();\r\n                conn.setRequestProperty(&quot;X-Mashape-Key&quot;, MASHAPE_KEY);\r\n                conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \r\n                if(conn.getResponseCode() == 200) {\r\n                    InputStream inputStream = conn.getInputStream();\r\n                    InputStreamReader isReader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);\r\n    \r\n                    BufferedReader buffReader = new BufferedReader(isReader);\r\n                    StringBuffer json = new StringBuffer(1024);\r\n                    String tmp=&quot;&quot;;\r\n                    while((tmp=buffReader.readLine())!=null) {\r\n                        json.append(tmp).append(&quot;\\n&quot;);\r\n                    }\r\n                    buffReader.close();\r\n    \r\n                    JSONObject data = new JSONObject(json.toString());\r\n                    Log.i(LOGTAG, data.getString(&quot;quote&quot;));\r\n                    return data.getString(&quot;quote&quot;);\r\n                } else {\r\n                    return null;\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nHowever when I click the button in the emulator app, nothing happens, it just adds the following message to the logcat\r\n\r\n    android.os.NetworkOnMainThreadException\r\n\r\n\r\nFrom what I am reading, I cannot carry out networking operations on main thread and thats why we have to use AsyncTask. I know that I would need to create a new class which extends AsyncTask but I am still confused about few things:\r\n\r\n\r\nQ1) Will the new class be an inner class for MainActivity.java or can it be a separate class file as well?\r\n\r\nQ2) What will be the params for `class GetQuotesClass extends AsyncTask&lt;?, ?, ?&gt;` do I just send `&lt;void, void, void&gt;` ?\r\n\r\nQ3) And how do I call it from my button click? Should I just do `new GetQuotesClass().execute()`?\r\n\r\nI also read the following comment in another stack overflow thread\r\n\r\n&gt; AsyncTask should not be used for network activity, because it&#39;s tied\r\n&gt; to the activity, but not the activity lifecycle. Rotating the device\r\n&gt; with this task is running will cause an exception and crash your app.\r\n&gt; Use an IntentService that drops data in the sqlite database instead\r\n\r\nHow can I proceed?\r\n","title":"Should I use AsyncTask or IntentService for making a REST API call?","body":"<p>I am learning Android development and creating an app which calls a REST Service on button click which returns a famous quote from a movie. This quote will be shown on the screen (on TextView).</p>\n<p>I have added the user permission to the manifest file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>This is my MainActivity.java code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final String LOGTAG = &quot;info&quot;;\n    private static final String QUOTES_API = &quot;https://andruxnet-random-famous-quotes.p.mashape.com/?cat=movies&amp;count=1&quot;;\n    private static final String MASHAPE_KEY = &quot;this-my-api-key&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button newQuoteBtn = (Button) findViewById(R.id.quotesBtn);\n\n        newQuoteBtn.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String quote = getQuote();\n                Log.i(LOGTAG, quote);\n                //the quote will be then shown on the text view\n            }\n        });\n    }\n\n    private String getQuote() {\n        try {\n            URL quotesURL = new URL(QUOTES_API);\n            HttpsURLConnection conn = (HttpsURLConnection) quotesURL.openConnection();\n            conn.setRequestProperty(&quot;X-Mashape-Key&quot;, MASHAPE_KEY);\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n\n            if(conn.getResponseCode() == 200) {\n                InputStream inputStream = conn.getInputStream();\n                InputStreamReader isReader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);\n\n                BufferedReader buffReader = new BufferedReader(isReader);\n                StringBuffer json = new StringBuffer(1024);\n                String tmp=&quot;&quot;;\n                while((tmp=buffReader.readLine())!=null) {\n                    json.append(tmp).append(&quot;\\n&quot;);\n                }\n                buffReader.close();\n\n                JSONObject data = new JSONObject(json.toString());\n                Log.i(LOGTAG, data.getString(&quot;quote&quot;));\n                return data.getString(&quot;quote&quot;);\n            } else {\n                return null;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>However when I click the button in the emulator app, nothing happens, it just adds the following message to the logcat</p>\n<pre><code>android.os.NetworkOnMainThreadException\n</code></pre>\n<p>From what I am reading, I cannot carry out networking operations on main thread and thats why we have to use AsyncTask. I know that I would need to create a new class which extends AsyncTask but I am still confused about few things:</p>\n<p>Q1) Will the new class be an inner class for MainActivity.java or can it be a separate class file as well?</p>\n<p>Q2) What will be the params for <code>class GetQuotesClass extends AsyncTask&lt;?, ?, ?&gt;</code> do I just send <code>&lt;void, void, void&gt;</code> ?</p>\n<p>Q3) And how do I call it from my button click? Should I just do <code>new GetQuotesClass().execute()</code>?</p>\n<p>I also read the following comment in another stack overflow thread</p>\n<blockquote>\n<p>AsyncTask should not be used for network activity, because it's tied\nto the activity, but not the activity lifecycle. Rotating the device\nwith this task is running will cause an exception and crash your app.\nUse an IntentService that drops data in the sqlite database instead</p>\n</blockquote>\n<p>How can I proceed?</p>\n"},{"tags":["java","hibernate","orm","mapping"],"answers":[{"tags":[],"owner":{"account_id":5077780,"reputation":24088,"user_id":4074715,"display_name":"Predrag Maric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420559835,"creation_date":1420559835,"answer_id":27802318,"question_id":27801396,"body_markdown":"I think your `@ManyToMany` mapping is wrong. `joinColumn` specifies the column used to join the source entity (&#39;Cim10IndicationGroupCouple&#39;) with join table, and `inverseJoinColumn` specifies the column used to join the target entity (&#39;Indicator&#39;). Try this\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n       name = &quot;cim10_indicationgroup_indicator&quot;,\r\n       joinColumns = {@JoinColumn(name = &quot;cim10_indicationgroupId&quot;)}, \r\n       inverseJoinColumns={@JoinColumn(name=&quot;indicatorId&quot;)}\r\n    )\r\n    private Set&lt;Indicator&gt; indicators;\r\n\r\nI agree that the exception is misleading, especially if this fixes it.","title":"Hibernate mapping exception with join table","body":"<p>I think your <code>@ManyToMany</code> mapping is wrong. <code>joinColumn</code> specifies the column used to join the source entity ('Cim10IndicationGroupCouple') with join table, and <code>inverseJoinColumn</code> specifies the column used to join the target entity ('Indicator'). Try this</p>\n\n<pre><code>@ManyToMany\n@JoinTable(\n   name = \"cim10_indicationgroup_indicator\",\n   joinColumns = {@JoinColumn(name = \"cim10_indicationgroupId\")}, \n   inverseJoinColumns={@JoinColumn(name=\"indicatorId\")}\n)\nprivate Set&lt;Indicator&gt; indicators;\n</code></pre>\n\n<p>I agree that the exception is misleading, especially if this fixes it.</p>\n"}],"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648302802,"creation_date":1420556733,"question_id":27801396,"body_markdown":"I&#39;ve been facing a mapping exception I simply don&#39;t understand.\r\nHere is the exception:\r\n\r\n    Caused by: org.hibernate.MappingException: Foreign key (FKCA2E919A5E0752D:cim10_indicationgroup_indicator [indicatorId])) must have same number of columns as the referenced primary key (cim10_indicationgroup [indicationGroupId,cim10Id])\r\n\r\nThe tables are as follows (notice already the discrepancy regarding the PK):\r\n\r\n    desc cim10_indicationgroup_indicator;\r\n    +-------------------------+---------+------+-----+---------+-------+\r\n    | Field                   | Type    | Null | Key | Default | Extra |\r\n    +-------------------------+---------+------+-----+---------+-------+\r\n    | cim10_indicationgroupId | int(11) | NO   | PRI | NULL    |       |\r\n    | indicatorId             | int(11) | NO   | PRI | NULL    |       |\r\n    +-------------------------+---------+------+-----+---------+-------+\r\n \r\n    desc cim10_indicationgroup;\r\n    +-------------------------+---------+------+-----+---------+-------+\r\n    | Field                   | Type    | Null | Key | Default | Extra |\r\n    +-------------------------+---------+------+-----+---------+-------+\r\n    | cim10_indicationGroupId | int(11) | NO   | PRI | NULL    |       |\r\n    | indicationGroupId       | int(11) | NO   | MUL | NULL    |       |\r\n    | cim10Id                 | int(11) | NO   | MUL | NULL    |       |\r\n    +-------------------------+---------+------+-----+---------+-------+\r\n\r\n    desc indicator;\r\n    +-------------+--------------+------+-----+---------+-------+\r\n    | Field       | Type         | Null | Key | Default | Extra |\r\n    +-------------+--------------+------+-----+---------+-------+\r\n    | indicatorId | int(11)      | NO   | PRI | NULL    |       |\r\n    | indicator   | varchar(255) | NO   |     | NULL    |       |\r\n    +-------------+--------------+------+-----+---------+-------+\r\n\r\nOn Hibernate side, entities stand as follows:\r\n\r\n    @Entity\r\n    @Table(name = &quot;cim10_indicationgroup&quot;)\r\n    @Immutable\r\n    public class Cim10IndicationGroupCouple {\r\n    \r\n       @Id\r\n       @Column(name = &quot;cim10_indicationGroupId&quot;)\r\n       private Integer cim10IndicationGroupId;\r\n\r\n       @Column(name = &quot;indicationGroupId&quot;)\r\n       private Integer indicationGroupId;\r\n\r\n       @Column(name = &quot;cim10Id&quot;)\r\n       private Integer cim10Id;\r\n\r\n       @ManyToMany\r\n       @JoinTable(\r\n          name = &quot;cim10_indicationgroup_indicator&quot;,\r\n          joinColumns = @JoinColumn(name = &quot;indicatorId&quot;)\r\n       )\r\n       private Set&lt;Indicator&gt; indicators;\r\n\r\n       // getters, setters, equals/hashcode\r\n\r\nAnd the referenced entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;indicator&quot;)\r\n    @Immutable\r\n    public class Indicator {\r\n\r\n      @Id\r\n      @Column(name = &quot;indicatorId&quot;)\r\n      private Integer id;\r\n\r\n      @Column(name = &quot;indicator&quot;)\r\n      private String indicator;\r\n\r\n       // getters, setters, equals/hashcode\r\n\r\nAs a bonus, here comes the metadata from the problematic join table:\r\n\r\n    SHOW KEYS FROM cim10_indicationgroup\\G\r\n    *************************** 1. row ***************************\r\n           Table: cim10_indicationgroup\r\n      Non_unique: 0\r\n        Key_name: PRIMARY\r\n    Seq_in_index: 1\r\n     Column_name: cim10_indicationGroupId\r\n       Collation: A\r\n     Cardinality: 10137\r\n        Sub_part: NULL\r\n          Packed: NULL\r\n            Null:\r\n      Index_type: BTREE\r\n         Comment:\r\n    *************************** 2. row ***************************\r\n           Table: cim10_indicationgroup\r\n      Non_unique: 0\r\n        Key_name: cim10_indicationGroup_pk\r\n    Seq_in_index: 1\r\n     Column_name: cim10Id\r\n       Collation: A\r\n     Cardinality: 10137\r\n        Sub_part: NULL\r\n          Packed: NULL\r\n            Null:\r\n      Index_type: BTREE\r\n         Comment:\r\n    *************************** 3. row ***************************\r\n           Table: cim10_indicationgroup\r\n      Non_unique: 0\r\n        Key_name: cim10_indicationGroup_pk\r\n    Seq_in_index: 2\r\n     Column_name: indicationGroupId\r\n       Collation: A\r\n     Cardinality: 10137\r\n        Sub_part: NULL\r\n          Packed: NULL\r\n            Null:\r\n      Index_type: BTREE\r\n         Comment:\r\n    *************************** 4. row ***************************\r\n           Table: cim10_indicationgroup\r\n      Non_unique: 1\r\n        Key_name: fk_cim10_indicationGroup_indicationGroup\r\n    Seq_in_index: 1\r\n     Column_name: indicationGroupId\r\n       Collation: A\r\n     Cardinality: 633\r\n        Sub_part: NULL\r\n          Packed: NULL\r\n            Null:\r\n      Index_type: BTREE\r\n         Comment:\r\n\r\n\r\nWhy is there a mapping exception at all?","title":"Hibernate mapping exception with join table","body":"<p>I've been facing a mapping exception I simply don't understand.\nHere is the exception:</p>\n\n<pre><code>Caused by: org.hibernate.MappingException: Foreign key (FKCA2E919A5E0752D:cim10_indicationgroup_indicator [indicatorId])) must have same number of columns as the referenced primary key (cim10_indicationgroup [indicationGroupId,cim10Id])\n</code></pre>\n\n<p>The tables are as follows (notice already the discrepancy regarding the PK):</p>\n\n<pre><code>desc cim10_indicationgroup_indicator;\n+-------------------------+---------+------+-----+---------+-------+\n| Field                   | Type    | Null | Key | Default | Extra |\n+-------------------------+---------+------+-----+---------+-------+\n| cim10_indicationgroupId | int(11) | NO   | PRI | NULL    |       |\n| indicatorId             | int(11) | NO   | PRI | NULL    |       |\n+-------------------------+---------+------+-----+---------+-------+\n\ndesc cim10_indicationgroup;\n+-------------------------+---------+------+-----+---------+-------+\n| Field                   | Type    | Null | Key | Default | Extra |\n+-------------------------+---------+------+-----+---------+-------+\n| cim10_indicationGroupId | int(11) | NO   | PRI | NULL    |       |\n| indicationGroupId       | int(11) | NO   | MUL | NULL    |       |\n| cim10Id                 | int(11) | NO   | MUL | NULL    |       |\n+-------------------------+---------+------+-----+---------+-------+\n\ndesc indicator;\n+-------------+--------------+------+-----+---------+-------+\n| Field       | Type         | Null | Key | Default | Extra |\n+-------------+--------------+------+-----+---------+-------+\n| indicatorId | int(11)      | NO   | PRI | NULL    |       |\n| indicator   | varchar(255) | NO   |     | NULL    |       |\n+-------------+--------------+------+-----+---------+-------+\n</code></pre>\n\n<p>On Hibernate side, entities stand as follows:</p>\n\n<pre><code>@Entity\n@Table(name = \"cim10_indicationgroup\")\n@Immutable\npublic class Cim10IndicationGroupCouple {\n\n   @Id\n   @Column(name = \"cim10_indicationGroupId\")\n   private Integer cim10IndicationGroupId;\n\n   @Column(name = \"indicationGroupId\")\n   private Integer indicationGroupId;\n\n   @Column(name = \"cim10Id\")\n   private Integer cim10Id;\n\n   @ManyToMany\n   @JoinTable(\n      name = \"cim10_indicationgroup_indicator\",\n      joinColumns = @JoinColumn(name = \"indicatorId\")\n   )\n   private Set&lt;Indicator&gt; indicators;\n\n   // getters, setters, equals/hashcode\n</code></pre>\n\n<p>And the referenced entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"indicator\")\n@Immutable\npublic class Indicator {\n\n  @Id\n  @Column(name = \"indicatorId\")\n  private Integer id;\n\n  @Column(name = \"indicator\")\n  private String indicator;\n\n   // getters, setters, equals/hashcode\n</code></pre>\n\n<p>As a bonus, here comes the metadata from the problematic join table:</p>\n\n<pre><code>SHOW KEYS FROM cim10_indicationgroup\\G\n*************************** 1. row ***************************\n       Table: cim10_indicationgroup\n  Non_unique: 0\n    Key_name: PRIMARY\nSeq_in_index: 1\n Column_name: cim10_indicationGroupId\n   Collation: A\n Cardinality: 10137\n    Sub_part: NULL\n      Packed: NULL\n        Null:\n  Index_type: BTREE\n     Comment:\n*************************** 2. row ***************************\n       Table: cim10_indicationgroup\n  Non_unique: 0\n    Key_name: cim10_indicationGroup_pk\nSeq_in_index: 1\n Column_name: cim10Id\n   Collation: A\n Cardinality: 10137\n    Sub_part: NULL\n      Packed: NULL\n        Null:\n  Index_type: BTREE\n     Comment:\n*************************** 3. row ***************************\n       Table: cim10_indicationgroup\n  Non_unique: 0\n    Key_name: cim10_indicationGroup_pk\nSeq_in_index: 2\n Column_name: indicationGroupId\n   Collation: A\n Cardinality: 10137\n    Sub_part: NULL\n      Packed: NULL\n        Null:\n  Index_type: BTREE\n     Comment:\n*************************** 4. row ***************************\n       Table: cim10_indicationgroup\n  Non_unique: 1\n    Key_name: fk_cim10_indicationGroup_indicationGroup\nSeq_in_index: 1\n Column_name: indicationGroupId\n   Collation: A\n Cardinality: 633\n    Sub_part: NULL\n      Packed: NULL\n        Null:\n  Index_type: BTREE\n     Comment:\n</code></pre>\n\n<p>Why is there a mapping exception at all?</p>\n"},{"tags":["java","apache-poi","powerpoint","openxml","ecma"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1648305474,"post_id":71628541,"comment_id":126593147,"body_markdown":"Please take the time to take the [tour](https://stackoverflow.com/tour). This is a question/answer site. Means: **One** question - multiple answers. Best answer gets most up votes. You are asking two different questions here. This is not how this site works.","body":"Please take the time to take the <a href=\"https://stackoverflow.com/tour\">tour</a>. This is a question/answer site. Means: <b>One</b> question - multiple answers. Best answer gets most up votes. You are asking two different questions here. This is not how this site works."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1648305578,"post_id":71628541,"comment_id":126593181,"body_markdown":"To your first question: How would you do this using PowerPoint GUI? Apache POI cannot do what Microsoft Office is not able to do.","body":"To your first question: How would you do this using PowerPoint GUI? Apache POI cannot do what Microsoft Office is not able to do."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1648305638,"post_id":71628541,"comment_id":126593198,"body_markdown":"To your second question: https://stackoverflow.com/questions/69346748/shrink-text-on-overflow-on-a-shape-in-power-point/69351702#69351702","body":"To your second question: <a href=\"https://stackoverflow.com/questions/69346748/shrink-text-on-overflow-on-a-shape-in-power-point/69351702#69351702\" title=\"shrink text on overflow on a shape in power point\">stackoverflow.com/questions/69346748/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648308080,"post_id":71628541,"comment_id":126593643,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24682552,"reputation":13,"user_id":18576099,"display_name":"Ravindra Mandapati"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648302686,"creation_date":1648302112,"question_id":71628541,"body_markdown":"Recently I am working with Apache POI and i am facing an issues\r\n\r\nI have  requirement to glue texts above rectangle to connector by using Apache POI/OOXML as below, as per OOXML specification texts can not be set to connectors.is there any way can we glue texts like below without using text boxes by using APACHE POI OOXML, appreciate your help.\r\n\r\n[texts to connectors][1]\r\n\r\nwhile adding texts to shapes, when shape size is large it is visible clearly, some times shape size can be reduced/increased dynamically, in that case,  can we autofit to show text in smaller sizes clearly in shape .we need to auto resize texts based on shape size dynamically.\r\n\r\n[adding texts to shapes][2]\r\n\r\nappreciate help\r\n\r\nas per OOXML specification texts can not be set to connectors.is there any way can we glue texts like below without using text boxes by using APACHE POI OOXML, appreciate your help.\r\n\r\nwhile adding texts to shapes, when shape size is large it is visible clearly, some times shape size can be reduced/increased dynamically, in that case can we autofit to show text in smaller sizes clearly in shape. we need to auto resize texts based on shape size dynamically.\r\n\r\n[1]:https://i.stack.imgur.com/16GIp.png\r\n[2]:https://i.stack.imgur.com/Xzfdm.png","title":"adding texts to connector and adjusting texts to shapes using apache POI OOXML","body":"<p>Recently I am working with Apache POI and i am facing an issues</p>\n<p>I have  requirement to glue texts above rectangle to connector by using Apache POI/OOXML as below, as per OOXML specification texts can not be set to connectors.is there any way can we glue texts like below without using text boxes by using APACHE POI OOXML, appreciate your help.</p>\n<p><a href=\"https://i.stack.imgur.com/16GIp.png\" rel=\"nofollow noreferrer\">texts to connectors</a></p>\n<p>while adding texts to shapes, when shape size is large it is visible clearly, some times shape size can be reduced/increased dynamically, in that case,  can we autofit to show text in smaller sizes clearly in shape .we need to auto resize texts based on shape size dynamically.</p>\n<p><a href=\"https://i.stack.imgur.com/Xzfdm.png\" rel=\"nofollow noreferrer\">adding texts to shapes</a></p>\n<p>appreciate help</p>\n<p>as per OOXML specification texts can not be set to connectors.is there any way can we glue texts like below without using text boxes by using APACHE POI OOXML, appreciate your help.</p>\n<p>while adding texts to shapes, when shape size is large it is visible clearly, some times shape size can be reduced/increased dynamically, in that case can we autofit to show text in smaller sizes clearly in shape. we need to auto resize texts based on shape size dynamically.</p>\n"},{"tags":["java","arrays","for-loop","random"],"comments":[{"owner":{"account_id":19689376,"reputation":109,"user_id":14414722,"display_name":"bjorke07"},"score":0,"creation_date":1648297083,"post_id":71627892,"comment_id":126591494,"body_markdown":"The n value is never greater than the min value because the modulus operator gives you remainder when you divide the number by 10,  you get a value less than 10.","body":"The n value is never greater than the min value because the modulus operator gives you remainder when you divide the number by 10,  you get a value less than 10."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648297504,"post_id":71627892,"comment_id":126591599,"body_markdown":"Hint: your loop iterates ONCE over your array. But you have a condition in there that REJECTS some elements. So: you need a different kind of loop. You can only progress to the next element of your array once you found a VALID answer. Also not that the `100%s` is not necessary. The Random class has methods that allow you to directly retrieve random ints in a specific interval.","body":"Hint: your loop iterates ONCE over your array. But you have a condition in there that REJECTS some elements. So: you need a different kind of loop. You can only progress to the next element of your array once you found a VALID answer. Also not that the <code>100%s</code> is not necessary. The Random class has methods that allow you to directly retrieve random ints in a specific interval."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648297509,"post_id":71627892,"comment_id":126591602,"body_markdown":"See https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java for example.","body":"See <a href=\"https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java\" title=\"how do i generate random integers within a specific range in java\">stackoverflow.com/questions/363681/&hellip;</a> for example."},{"owner":{"account_id":24546205,"reputation":25,"user_id":18456026,"display_name":"Charbel Nicolas"},"score":0,"creation_date":1648298244,"post_id":71627892,"comment_id":126591732,"body_markdown":"unfortunately I must use this format... this is an intro course to JAVA and I cannot use stuff I did not learn in class or else I will not be awarded the whole grade @GhostCat","body":"unfortunately I must use this format... this is an intro course to JAVA and I cannot use stuff I did not learn in class or else I will not be awarded the whole grade @GhostCat"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648300926,"creation_date":1648300926,"answer_id":71628403,"question_id":71627892,"body_markdown":"    Math.random()\r\n\r\n&gt; Returns a double value with a positive sign, greater than or equal to 0.0 and less than 1.0.\r\n\r\nSo since the random numbers you generate are always between `[0 - 1) (Zero inclusive &amp; 1 exclusiv` you need to multiply them by your desired max number to generate random numbers which are greter than one. Example to generate random numbers between `[0 - 15)` you can do\r\n\r\n    Math.random() * 15\r\n\r\nto get values between `[0.0 - 14.999..]`. \r\n\r\nTo include 15 in your values you need to multiply with `(15 + 1) = 16`\r\n\r\n    Math.random() * (15 + 1) or generaly\r\n    Math.random() * (max + 1)\r\n\r\nSince there is also a min value in your requierment, you need to exclude values between `0 - min`. To do so you could add simply the min value to the result of the above:\r\n\r\n    (Math.random() * (max + 1)) + min\r\n\r\nBut wait, let see an example for `min = 5` and `max = 15`. Since\r\n\r\n    Math.random() * (max + 1)\r\n\r\nreturns values between `[0.0 - 15.999..]` adding `min = 5` to each value:\r\n\r\n    (Math.random() * (max + 1)) + min\r\n\r\nwill result in values in range `[5.0 - 20.999..]` which is not desired. To change that you will need to substract min from max while multiplying:\r\n\r\n    (Math.random() * (max - min + 1)) + min\r\n\r\nwhich will result in the correct range `[5.0 - 15.999..]` where you need to apply casting `(int)` to get your random integers instead of dobles. So your method could look like \r\n\r\n    public static void fillArray(int s, int min, int max) {\r\n        int[] random = new int[s];\r\n\r\n        for (int i = 0; i &lt; s; i++) {\r\n            int n = (int) (Math.random() * (max - min + 1)) + min;\r\n            random[i] = n;\r\n        }\r\n\r\n        System.out.printf(&quot;Here&#39;s an array of size %d, whose elements vary between %d and %d: \\n&quot;, s, min, max);\r\n        System.out.print(Arrays.toString(random));\r\n    }\r\n\r\n\r\n","title":"Method for array of given size containing random integers between given min and max","body":"<pre><code>Math.random()\n</code></pre>\n<blockquote>\n<p>Returns a double value with a positive sign, greater than or equal to 0.0 and less than 1.0.</p>\n</blockquote>\n<p>So since the random numbers you generate are always between <code>[0 - 1) (Zero inclusive &amp; 1 exclusiv</code> you need to multiply them by your desired max number to generate random numbers which are greter than one. Example to generate random numbers between <code>[0 - 15)</code> you can do</p>\n<pre><code>Math.random() * 15\n</code></pre>\n<p>to get values between <code>[0.0 - 14.999..]</code>.</p>\n<p>To include 15 in your values you need to multiply with <code>(15 + 1) = 16</code></p>\n<pre><code>Math.random() * (15 + 1) or generaly\nMath.random() * (max + 1)\n</code></pre>\n<p>Since there is also a min value in your requierment, you need to exclude values between <code>0 - min</code>. To do so you could add simply the min value to the result of the above:</p>\n<pre><code>(Math.random() * (max + 1)) + min\n</code></pre>\n<p>But wait, let see an example for <code>min = 5</code> and <code>max = 15</code>. Since</p>\n<pre><code>Math.random() * (max + 1)\n</code></pre>\n<p>returns values between <code>[0.0 - 15.999..]</code> adding <code>min = 5</code> to each value:</p>\n<pre><code>(Math.random() * (max + 1)) + min\n</code></pre>\n<p>will result in values in range <code>[5.0 - 20.999..]</code> which is not desired. To change that you will need to substract min from max while multiplying:</p>\n<pre><code>(Math.random() * (max - min + 1)) + min\n</code></pre>\n<p>which will result in the correct range <code>[5.0 - 15.999..]</code> where you need to apply casting <code>(int)</code> to get your random integers instead of dobles. So your method could look like</p>\n<pre><code>public static void fillArray(int s, int min, int max) {\n    int[] random = new int[s];\n\n    for (int i = 0; i &lt; s; i++) {\n        int n = (int) (Math.random() * (max - min + 1)) + min;\n        random[i] = n;\n    }\n\n    System.out.printf(&quot;Here's an array of size %d, whose elements vary between %d and %d: \\n&quot;, s, min, max);\n    System.out.print(Arrays.toString(random));\n}\n</code></pre>\n"}],"owner":{"account_id":24546205,"reputation":25,"user_id":18456026,"display_name":"Charbel Nicolas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648302660,"accepted_answer_id":71628403,"answer_count":1,"score":-1,"last_activity_date":1648302608,"creation_date":1648296145,"question_id":71627892,"body_markdown":"I have to do this in Java:\r\n\r\n&gt; Write a method fillArray() that takes three integers: (s, min, max),\r\n&gt; and returns an array of size s having random integers with values\r\n&gt; between min and max.\r\n\r\nThis is the code I wrote\r\n\r\n```java\r\npublic static void fillArray(int s, int min, int max) {\r\n    int[] random = new int[s];\r\n\r\n    for (int i = 0; i &lt; s; i++) {\r\n        int n = (int) (Math.random()*100 %s);\r\n        if (n &gt; min &amp;&amp; n &lt; max) {\r\n            random[i] = n;\r\n        }\r\n    }\r\n\r\n    System.out.printf(&quot;Here&#39;s an array of size %d, whose elements vary between %d and %d: \\n&quot;, s, min, max);\r\n    System.out.print(Arrays.toString(random));\r\n}\r\n```\r\n\r\nThe problem is, when I implement my method in the main, `fillArray(10, 10, 20)`, it gives me arrays of size 10, with elements at 0. \r\n\r\nI tried playing around with this specific expression in the code\r\n```java\r\nint n = (int) (Math.random()*100 %s);\r\n```\r\nand changing what I do after *100.\r\n\r\nSometimes it works for most elements, but I still get some elements which are 0, which is wrong since the minimum is 10.\r\n\r\nAny idea how I could fix that?","title":"Method for array of given size containing random integers between given min and max","body":"<p>I have to do this in Java:</p>\n<blockquote>\n<p>Write a method fillArray() that takes three integers: (s, min, max),\nand returns an array of size s having random integers with values\nbetween min and max.</p>\n</blockquote>\n<p>This is the code I wrote</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void fillArray(int s, int min, int max) {\n    int[] random = new int[s];\n\n    for (int i = 0; i &lt; s; i++) {\n        int n = (int) (Math.random()*100 %s);\n        if (n &gt; min &amp;&amp; n &lt; max) {\n            random[i] = n;\n        }\n    }\n\n    System.out.printf(&quot;Here's an array of size %d, whose elements vary between %d and %d: \\n&quot;, s, min, max);\n    System.out.print(Arrays.toString(random));\n}\n</code></pre>\n<p>The problem is, when I implement my method in the main, <code>fillArray(10, 10, 20)</code>, it gives me arrays of size 10, with elements at 0.</p>\n<p>I tried playing around with this specific expression in the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = (int) (Math.random()*100 %s);\n</code></pre>\n<p>and changing what I do after *100.</p>\n<p>Sometimes it works for most elements, but I still get some elements which are 0, which is wrong since the minimum is 10.</p>\n<p>Any idea how I could fix that?</p>\n"},{"tags":["java","list","caching","optimization","hashmap"],"comments":[{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1648303821,"post_id":71628573,"comment_id":126592836,"body_markdown":"_I am using A* algorithm_ - no, not really. You provide no scoring or heuristic measure to determine the shortest path. Your _path_ is a linked list. The issue is that you have buried your intermediate steps inside the sub-structure of the cache&#39;s value map and the intermediate steps are not available as a &quot;destination&quot; as you&#39;ve defined your structure. So this test `!isInCache(start,destination)` can&#39;t find the intermediate node.","body":"<i>I am using A* algorithm</i> - no, not really. You provide no scoring or heuristic measure to determine the shortest path. Your <i>path</i> is a linked list. The issue is that you have buried your intermediate steps inside the sub-structure of the cache&#39;s value map and the intermediate steps are not available as a &quot;destination&quot; as you&#39;ve defined your structure. So this test <code>!isInCache(start,destination)</code> can&#39;t find the intermediate node."},{"owner":{"account_id":19089411,"reputation":1,"user_id":13939984,"display_name":"Hidden1nin"},"score":0,"creation_date":1648304122,"post_id":71628573,"comment_id":126592879,"body_markdown":"These are the methods I use to cache after the path has been calculated using A* (Returns a List&lt;Node&gt;), I did not post that portion of code. I use scoring based on the distance squared between each node. I have access to the intermediate steps when I cache it the first time, maybe I can do something there to allow subpath navigation. Maybe there is a data-structure that might be more efficient here.","body":"These are the methods I use to cache after the path has been calculated using A* (Returns a List&lt;Node&gt;), I did not post that portion of code. I use scoring based on the distance squared between each node. I have access to the intermediate steps when I cache it the first time, maybe I can do something there to allow subpath navigation. Maybe there is a data-structure that might be more efficient here."},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1648304273,"post_id":71628573,"comment_id":126592907,"body_markdown":"Ah, good to know. I think it may be a simple matter of adjusting your `isInCache()` method to also look into the the inner Map&#39;s values for the destination.","body":"Ah, good to know. I think it may be a simple matter of adjusting your <code>isInCache()</code> method to also look into the the inner Map&#39;s values for the destination."}],"owner":{"account_id":19089411,"reputation":1,"user_id":13939984,"display_name":"Hidden1nin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648302381,"creation_date":1648302381,"question_id":71628573,"body_markdown":"I am using A* algorithm to return a List&lt;Node&gt; of the shortest path between a given start and destination. My current caching system uses a hashmap containing a hash map like so:\r\n\r\n        // Start -&gt; Destination -&gt; Next Step\r\n    Map&lt;Node,Map&lt;Node,Node&gt;&gt; cache = new HashMap&lt;&gt;();\r\n\r\nAn example would be  A-&gt;B-&gt;C-&gt;D\r\nWe could retrieve this path once its cached by doing\r\n\r\ncache.get(A).get(D) // Returns B as its the next step.\r\n\r\ncache.get(B).get(D) // Returns C as its the next step.\r\n\r\ncache.get(C).get(D) // Returns D as its the next step.\r\n\r\nI can check if the path I&#39;m calculating is currently cached by using \r\n\r\n    public Boolean isInCache(Node start,Node destination){\r\n        return cache.containsKey(start)&amp;&amp;cache.get(start).containsKey(destination);\r\n    }\r\n\r\nI can assemble the remaining path using this method\r\n\r\n        /*\r\n    Returns a path to a destination from a given point in a previously cached path.\r\n     */\r\n    public List&lt;Node&gt; getCachedPath(Node start,Node destination){\r\n        ArrayList&lt;Node&gt; path = new ArrayList&lt;&gt;();\r\n        //If we don&#39;t have a path just return an empty list.\r\n        if(!isInCache(start,destination))return path;\r\n        //iterate our hashmaps compiling our list by adding the next step each time.\r\n        Node next = start;\r\n        while(next !=null){\r\n            path.add(next);\r\n            next = cache.getOrDefault(next,null).getOrDefault(destination,null);\r\n        }\r\n        return path;\r\n    }\r\nHere&#39;s how I initially store a path to the cache\r\n\r\n        /*\r\n    Inserts a list of calculated nodes to a destination\r\n     */\r\n    public void insertInCache(List&lt;Node&gt; nodes){\r\n        // make a reference to the last node, this is our destination.\r\n        Node destination = nodes.get(nodes.size()-1);\r\n        //iterate nodes in the list\r\n        for(int i = 0; i&lt;nodes.size(); i++){\r\n            Node node = nodes.get(i);\r\n            //create new map if it is absent\r\n            cache.putIfAbsent(node,new HashMap&lt;&gt;());\r\n            //if there is a &quot;next step&quot; in our list then lets take it and put in in the map as the value.\r\n            if(nodes.size()&gt;i+1)\r\n                cache.get(node).put(destination,nodes.get(i+1));\r\n        }\r\n    }\r\n\r\n\r\nThis is great for storing paths and quickly assembling previously cached paths, although it is unable to retrieve subpaths of a cached path. An example would be \r\nTrying to get A-&gt;C when we only have A-&gt;D cached, A-&gt;D has the directions from A-&gt;C inside of it, I am trying to figure out the most optimal solution for this issue.\r\n ","title":"Is there a more efficient caching method than this for storing shortest path in ArrayList","body":"<p>I am using A* algorithm to return a List of the shortest path between a given start and destination. My current caching system uses a hashmap containing a hash map like so:</p>\n<pre><code>    // Start -&gt; Destination -&gt; Next Step\nMap&lt;Node,Map&lt;Node,Node&gt;&gt; cache = new HashMap&lt;&gt;();\n</code></pre>\n<p>An example would be  A-&gt;B-&gt;C-&gt;D\nWe could retrieve this path once its cached by doing</p>\n<p>cache.get(A).get(D) // Returns B as its the next step.</p>\n<p>cache.get(B).get(D) // Returns C as its the next step.</p>\n<p>cache.get(C).get(D) // Returns D as its the next step.</p>\n<p>I can check if the path I'm calculating is currently cached by using</p>\n<pre><code>public Boolean isInCache(Node start,Node destination){\n    return cache.containsKey(start)&amp;&amp;cache.get(start).containsKey(destination);\n}\n</code></pre>\n<p>I can assemble the remaining path using this method</p>\n<pre><code>    /*\nReturns a path to a destination from a given point in a previously cached path.\n */\npublic List&lt;Node&gt; getCachedPath(Node start,Node destination){\n    ArrayList&lt;Node&gt; path = new ArrayList&lt;&gt;();\n    //If we don't have a path just return an empty list.\n    if(!isInCache(start,destination))return path;\n    //iterate our hashmaps compiling our list by adding the next step each time.\n    Node next = start;\n    while(next !=null){\n        path.add(next);\n        next = cache.getOrDefault(next,null).getOrDefault(destination,null);\n    }\n    return path;\n}\n</code></pre>\n<p>Here's how I initially store a path to the cache</p>\n<pre><code>    /*\nInserts a list of calculated nodes to a destination\n */\npublic void insertInCache(List&lt;Node&gt; nodes){\n    // make a reference to the last node, this is our destination.\n    Node destination = nodes.get(nodes.size()-1);\n    //iterate nodes in the list\n    for(int i = 0; i&lt;nodes.size(); i++){\n        Node node = nodes.get(i);\n        //create new map if it is absent\n        cache.putIfAbsent(node,new HashMap&lt;&gt;());\n        //if there is a &quot;next step&quot; in our list then lets take it and put in in the map as the value.\n        if(nodes.size()&gt;i+1)\n            cache.get(node).put(destination,nodes.get(i+1));\n    }\n}\n</code></pre>\n<p>This is great for storing paths and quickly assembling previously cached paths, although it is unable to retrieve subpaths of a cached path. An example would be\nTrying to get A-&gt;C when we only have A-&gt;D cached, A-&gt;D has the directions from A-&gt;C inside of it, I am trying to figure out the most optimal solution for this issue.</p>\n"},{"tags":["java","spring-boot","jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648302370,"creation_date":1648302370,"answer_id":71628572,"question_id":71627136,"body_markdown":"Hibernate ORM supports H2 2.x.y only since the version 5.6.5.Final. Older versions produce invalid SQL that isn&#39;t accepted by new versions of H2 in default configuration.\r\n\r\nYou need to check version of `hibernate-core` jar used by your application and update it to a some recent version (current version is 5.6.7.Final).","title":"hibernate query in spring boot with H2: Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable","body":"<p>Hibernate ORM supports H2 2.x.y only since the version 5.6.5.Final. Older versions produce invalid SQL that isn't accepted by new versions of H2 in default configuration.</p>\n<p>You need to check version of <code>hibernate-core</code> jar used by your application and update it to a some recent version (current version is 5.6.7.Final).</p>\n"}],"owner":{"account_id":1999698,"reputation":148,"user_id":1920108,"display_name":"bladefist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71628572,"answer_count":1,"score":1,"last_activity_date":1648302370,"creation_date":1648289804,"question_id":71627136,"body_markdown":"I&#39;m trying to run a custom query, and getting a strange (Seemingly unrelated) error.\r\nError I&#39;m getting is:\r\n`o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90110, SQLState: 90110`\r\n`Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable; SQL statement:`\r\n\r\n    select episode0_.episode_id as episode_1_1_, episode0_.air_date as air_date2_1_, episode0_.episode_number as episode_3_1_, episode0_.name as name4_1_, episode0_.season as season5_1_, episode0_.show_id as show_id7_1_, episode0_.watched as watched6_1_ from episode episode0_ where episode0_.episode_number=(select min(episode1_.episode_number) from episode episode1_ where episode1_.watched=0) and episode0_.season=(select min(episode2_.season) from episode episode2_ where episode2_.watched=0) and episode0_.show_id=? [90110-210]\r\n\r\nThings I&#39;ve tried: native query, and this: https://stackoverflow.com/questions/68418010/custom-query-h2-spring-boot\r\n\r\nMy repository:\r\n```\r\nimport model.Episode;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface EpisodeRepository extends JpaRepository&lt;Episode, Long&gt; {\r\n    Optional&lt;Episode&gt; findByEpisodeId(Long episodeId);\r\n\r\n    @Query(&quot;from EPISODE where episodeNumber = (SELECT MIN(episodeNumber) FROM EPISODE WHERE watched is false)&quot; +\r\n            &quot; AND season = (SELECT MIN(season) FROM EPISODE WHERE watched is false) &quot; +\r\n            &quot; AND show.showId = :showId&quot;)\r\n    Optional&lt;Episode&gt; findNextUnwatchedEpisode(@Param(&quot;showId&quot;) Long showId);\r\n}\r\n```\r\nMy entity:\r\n```\r\npackage model;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Date;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString\r\n@Entity(name = &quot;EPISODE&quot;)\r\npublic class Episode {\r\n    @Id\r\n    @Column(name = &quot;EPISODE_ID&quot;, nullable = false)\r\n    private Long episodeId;\r\n\r\n    @Column(name = &quot;NAME&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Column(name = &quot;SEASON&quot;, nullable = false)\r\n    private Integer season;\r\n\r\n    @Column(name = &quot;EPISODE_NUMBER&quot;, nullable = false)\r\n    private Integer episodeNumber;\r\n\r\n    @Column(name = &quot;AIR_DATE&quot;, nullable = false)\r\n    private Date airDate;\r\n\r\n    @Column(name = &quot;WATCHED&quot;, nullable = false)\r\n    private boolean watched;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;SHOW_ID&quot;)\r\n    private TVShow show;\r\n}\r\n```\r\napplication.properties:\r\n```\r\nspring.datasource.url=jdbc:h2:mem:my_tv;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle;\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n```\r\n\r\n","title":"hibernate query in spring boot with H2: Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable","body":"<p>I'm trying to run a custom query, and getting a strange (Seemingly unrelated) error.\nError I'm getting is:\n<code>o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90110, SQLState: 90110</code>\n<code>Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable; SQL statement:</code></p>\n<pre><code>select episode0_.episode_id as episode_1_1_, episode0_.air_date as air_date2_1_, episode0_.episode_number as episode_3_1_, episode0_.name as name4_1_, episode0_.season as season5_1_, episode0_.show_id as show_id7_1_, episode0_.watched as watched6_1_ from episode episode0_ where episode0_.episode_number=(select min(episode1_.episode_number) from episode episode1_ where episode1_.watched=0) and episode0_.season=(select min(episode2_.season) from episode episode2_ where episode2_.watched=0) and episode0_.show_id=? [90110-210]\n</code></pre>\n<p>Things I've tried: native query, and this: <a href=\"https://stackoverflow.com/questions/68418010/custom-query-h2-spring-boot\">Custom Query H2 - Spring Boot</a></p>\n<p>My repository:</p>\n<pre><code>import model.Episode;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\nimport java.util.Optional;\n\npublic interface EpisodeRepository extends JpaRepository&lt;Episode, Long&gt; {\n    Optional&lt;Episode&gt; findByEpisodeId(Long episodeId);\n\n    @Query(&quot;from EPISODE where episodeNumber = (SELECT MIN(episodeNumber) FROM EPISODE WHERE watched is false)&quot; +\n            &quot; AND season = (SELECT MIN(season) FROM EPISODE WHERE watched is false) &quot; +\n            &quot; AND show.showId = :showId&quot;)\n    Optional&lt;Episode&gt; findNextUnwatchedEpisode(@Param(&quot;showId&quot;) Long showId);\n}\n</code></pre>\n<p>My entity:</p>\n<pre><code>package model;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.util.Date;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString\n@Entity(name = &quot;EPISODE&quot;)\npublic class Episode {\n    @Id\n    @Column(name = &quot;EPISODE_ID&quot;, nullable = false)\n    private Long episodeId;\n\n    @Column(name = &quot;NAME&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;SEASON&quot;, nullable = false)\n    private Integer season;\n\n    @Column(name = &quot;EPISODE_NUMBER&quot;, nullable = false)\n    private Integer episodeNumber;\n\n    @Column(name = &quot;AIR_DATE&quot;, nullable = false)\n    private Date airDate;\n\n    @Column(name = &quot;WATCHED&quot;, nullable = false)\n    private boolean watched;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;SHOW_ID&quot;)\n    private TVShow show;\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:my_tv;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle;\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8508,"page":1484,"page_size":100}
