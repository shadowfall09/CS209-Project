{"items":[{"tags":["java","google-app-engine","google-cloud-endpoints","google-cloud-endpoints-v2"],"comments":[{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1677506976,"post_id":75569438,"comment_id":133345565,"body_markdown":"If your application is trying to call an API which is not enabled for the Java 11 runtime,which means the app appears to still be on the Java 8 runtime which is not supported anymore it will receive a `com.google.apphosting.api.ApiProxy$FeatureNotEnabledException error`.","body":"If your application is trying to call an API which is not enabled for the Java 11 runtime,which means the app appears to still be on the Java 8 runtime which is not supported anymore it will receive a <code>com.google.apphosting.api.ApiProxy$FeatureNotEnabledExceptio&zwnj;&#8203;n error</code>."},{"owner":{"account_id":1421417,"reputation":1250,"user_id":1345947,"accept_rate":67,"display_name":"Mutual Exception"},"score":0,"creation_date":1677654857,"post_id":75569438,"comment_id":133378479,"body_markdown":"Thanks @SathiAiswarya - I think you are definitely on to something, since I was forced to go from java8 to java11 first, then to java17.\n\nSo now the app is running under java17, which I can verify in the app engine&#39;s console under versions.\n\nHowever I don&#39;t really understand where the conflict is and how I can resolve it. Can you try to elaborate a bit more what you suspect about the issue?","body":"Thanks @SathiAiswarya - I think you are definitely on to something, since I was forced to go from java8 to java11 first, then to java17.  So now the app is running under java17, which I can verify in the app engine&#39;s console under versions.  However I don&#39;t really understand where the conflict is and how I can resolve it. Can you try to elaborate a bit more what you suspect about the issue?"},{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1677683464,"post_id":75569438,"comment_id":133386722,"body_markdown":"seems  App Engine API not enabled,  enable the API in deploy.yaml and check","body":"seems  App Engine API not enabled,  enable the API in deploy.yaml and check"},{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":0,"creation_date":1678204018,"post_id":75569438,"comment_id":133485796,"body_markdown":"Could you try setting the dependency version for google-cloud-storage to 2.19.0?","body":"Could you try setting the dependency version for google-cloud-storage to 2.19.0?"},{"owner":{"account_id":72760,"reputation":513,"user_id":209910,"display_name":"Ernani Joppert"},"score":0,"creation_date":1679377710,"post_id":75569438,"comment_id":133706417,"body_markdown":"How are you instantiating your google.cloud.storage.Client() instance? Ensure that it maintains state by instantiating it whenever necessary or make it as a singleton so that it can create a state and be reusable whenever necessary,","body":"How are you instantiating your google.cloud.storage.Client() instance? Ensure that it maintains state by instantiating it whenever necessary or make it as a singleton so that it can create a state and be reusable whenever necessary,"}],"owner":{"account_id":1421417,"reputation":1250,"user_id":1345947,"accept_rate":67,"display_name":"Mutual Exception"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677661457,"creation_date":1677373937,"question_id":75569438,"body_markdown":"After adding Google Storage to a Google Endpoints app written in Java, the web instances seem not to be able to start up anymore, when deployed to GAE. However, all works fine when run locally (`mvn appengine:run`).\r\n\r\nException from the logs:\r\n\r\nFailed startup of context \r\n\r\n    c.g.a.r.j.AppEngineWebAppContext@442bff20{/,file:///workspace/,UNAVAILABLE}{/workspace}\r\n    com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \r\n    \tat java.base/java.lang.Thread.getStackTrace(Thread.java:1602)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl.doSyncCall(ApiProxyImpl.java:362)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl.lambda$makeSyncCall$0(ApiProxyImpl.java:284)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:283)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:81)\r\n    \tat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:120)\r\n    \tat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:81)\r\n    \tat com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessTokenUncached(AppIdentityServiceImpl.java:250)\r\n    \tat com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessToken(AppIdentityServiceImpl.java:327)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.extensions.appengine.auth.oauth2.AppIdentityCredential.intercept(AppIdentityCredential.java:98)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.extensions.appengine.auth.oauth2.AppIdentityCredential$AppEngineCredentialWrapper.intercept(AppIdentityCredential.java:243)\r\n    \tat endpoints.repackaged.com.google.api.client.http.HttpRequest.execute(HttpRequest.java:868)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.fetchLatestServiceVersion(ServiceConfigSupplier.java:179)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.fetch(ServiceConfigSupplier.java:146)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.get(ServiceConfigSupplier.java:131)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.get(ServiceConfigSupplier.java:50)\r\n    \tat endpoints.repackaged.com.google.common.base.Suppliers$ExpiringMemoizingSupplier.get(Suppliers.java:241)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigFetcher.fetch(ServiceConfigFetcher.java:41)\r\n    \tat com.google.api.control.ServiceManagementConfigFilter$1.load(ServiceManagementConfigFilter.java:33)\r\n    \tat com.google.api.control.ConfigFilter.init(ConfigFilter.java:90)\r\n    \tat org.eclipse.jetty.servlet.FilterHolder.initialize(FilterHolder.java:140)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750)\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\r\n    \tat com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.startWebapp(AppEngineWebAppContext.java:274)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\r\n    \tat com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.doStart(AppEngineWebAppContext.java:218)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n    \tat com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.doCreateHandler(AppVersionHandlerFactory.java:207)\r\n    \tat com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.createHandler(AppVersionHandlerFactory.java:125)\r\n    \tat com.google.apphosting.runtime.jetty94.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:82)\r\n    \tat com.google.apphosting.runtime.jetty94.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:176)\r\n    \tat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:264)\r\n    \tat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:229)\r\n    \tat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:194)\r\n    \tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \r\n    \tat com.google.apphosting.utils.runtime.ApiProxyUtils.convertApiError(ApiProxyUtils.java:81)\r\n    \tat com.google.apphosting.utils.runtime.ApiProxyUtils.getApiError(ApiProxyUtils.java:198)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:684)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:581)\r\n    \tat com.google.apphosting.runtime.http.HttpApiHostClient.receivedResponse(HttpApiHostClient.java:296)\r\n    \tat com.google.apphosting.runtime.http.JettyHttpApiHostClient$Listener.onComplete(JettyHttpApiHostClient.java:206)\r\n    \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218)\r\n    \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:481)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:461)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:424)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:374)\r\n    \tat org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:597)\r\n    \tat org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1722)\r\n    \tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1551)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:208)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:148)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:80)\r\n    \tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:131)\r\n    \tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:172)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n    \tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \t... 1 more\r\n\r\nWhat is the reason for the following exception and how can it be fixed?\r\n\r\n    com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \r\n\r\nThe app is built with maven has the following dependencies in `pom.xml`:\r\n\r\n      &lt;!-- See https://cloud.google.com/java/docs/bom --&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;25.4.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.endpoints&lt;/groupId&gt;\r\n          &lt;artifactId&gt;endpoints-management-control-appengine-all&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n          &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n          &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.luhuiguo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\r\n          &lt;version&gt;23.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n          &lt;!-- &lt;version&gt;1.118.1&lt;/version&gt; --&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.endpoints&lt;/groupId&gt;\r\n          &lt;artifactId&gt;endpoints-framework&lt;/artifactId&gt;\r\n          &lt;version&gt;${endpoints.framework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n\r\n","title":"Failed startup of context c.g.a.r.j.AppEngineWebAppContext due to FeatureNotEnabledException: app_identity_service.GetAccessToken","body":"<p>After adding Google Storage to a Google Endpoints app written in Java, the web instances seem not to be able to start up anymore, when deployed to GAE. However, all works fine when run locally (<code>mvn appengine:run</code>).</p>\n<p>Exception from the logs:</p>\n<p>Failed startup of context</p>\n<pre><code>c.g.a.r.j.AppEngineWebAppContext@442bff20{/,file:///workspace/,UNAVAILABLE}{/workspace}\ncom.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \n    at java.base/java.lang.Thread.getStackTrace(Thread.java:1602)\n    at com.google.apphosting.runtime.ApiProxyImpl.doSyncCall(ApiProxyImpl.java:362)\n    at com.google.apphosting.runtime.ApiProxyImpl.lambda$makeSyncCall$0(ApiProxyImpl.java:284)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:283)\n    at com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:81)\n    at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:120)\n    at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:81)\n    at com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessTokenUncached(AppIdentityServiceImpl.java:250)\n    at com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessToken(AppIdentityServiceImpl.java:327)\n    at endpoints.repackaged.com.google.api.client.googleapis.extensions.appengine.auth.oauth2.AppIdentityCredential.intercept(AppIdentityCredential.java:98)\n    at endpoints.repackaged.com.google.api.client.googleapis.extensions.appengine.auth.oauth2.AppIdentityCredential$AppEngineCredentialWrapper.intercept(AppIdentityCredential.java:243)\n    at endpoints.repackaged.com.google.api.client.http.HttpRequest.execute(HttpRequest.java:868)\n    at endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\n    at endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\n    at endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.fetchLatestServiceVersion(ServiceConfigSupplier.java:179)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.fetch(ServiceConfigSupplier.java:146)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.get(ServiceConfigSupplier.java:131)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.get(ServiceConfigSupplier.java:50)\n    at endpoints.repackaged.com.google.common.base.Suppliers$ExpiringMemoizingSupplier.get(Suppliers.java:241)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigFetcher.fetch(ServiceConfigFetcher.java:41)\n    at com.google.api.control.ServiceManagementConfigFilter$1.load(ServiceManagementConfigFilter.java:33)\n    at com.google.api.control.ConfigFilter.init(ConfigFilter.java:90)\n    at org.eclipse.jetty.servlet.FilterHolder.initialize(FilterHolder.java:140)\n    at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n    at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\n    at com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.startWebapp(AppEngineWebAppContext.java:274)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\n    at com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.doStart(AppEngineWebAppContext.java:218)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.doCreateHandler(AppVersionHandlerFactory.java:207)\n    at com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.createHandler(AppVersionHandlerFactory.java:125)\n    at com.google.apphosting.runtime.jetty94.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:82)\n    at com.google.apphosting.runtime.jetty94.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:176)\n    at com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:264)\n    at com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:229)\n    at com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:194)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \n    at com.google.apphosting.utils.runtime.ApiProxyUtils.convertApiError(ApiProxyUtils.java:81)\n    at com.google.apphosting.utils.runtime.ApiProxyUtils.getApiError(ApiProxyUtils.java:198)\n    at com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:684)\n    at com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:581)\n    at com.google.apphosting.runtime.http.HttpApiHostClient.receivedResponse(HttpApiHostClient.java:296)\n    at com.google.apphosting.runtime.http.JettyHttpApiHostClient$Listener.onComplete(JettyHttpApiHostClient.java:206)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:481)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:461)\n    at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:424)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:374)\n    at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:597)\n    at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1722)\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1551)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:208)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:148)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:80)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:131)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:172)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    ... 1 more\n</code></pre>\n<p>What is the reason for the following exception and how can it be fixed?</p>\n<pre><code>com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \n</code></pre>\n<p>The app is built with maven has the following dependencies in <code>pom.xml</code>:</p>\n<pre><code>  &lt;!-- See https://cloud.google.com/java/docs/bom --&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n        &lt;version&gt;25.4.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.endpoints&lt;/groupId&gt;\n      &lt;artifactId&gt;endpoints-management-control-appengine-all&lt;/artifactId&gt;\n      &lt;version&gt;1.0.14&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n      &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n      &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n      &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.luhuiguo&lt;/groupId&gt;\n      &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\n      &lt;version&gt;23.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n      &lt;!-- &lt;version&gt;1.118.1&lt;/version&gt; --&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.endpoints&lt;/groupId&gt;\n      &lt;artifactId&gt;endpoints-framework&lt;/artifactId&gt;\n      &lt;version&gt;${endpoints.framework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","sql","postgresql","hibernate","upsert"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677661227,"creation_date":1677661227,"answer_id":75601489,"question_id":75562862,"body_markdown":"That&#39;s the best you can do for now AFAICT. Hibernate will at some point add support for upserts, so you might be able to simplify that in the future.\r\n\r\nI would also recommend that you don&#39;t inline all values and instead try to create a batch of e.g. 500 parameters instead. Execute that statement then with fresh parametrization over and over again.","title":"How to solve upsert over two linked tables efficiently?","body":"<p>That's the best you can do for now AFAICT. Hibernate will at some point add support for upserts, so you might be able to simplify that in the future.</p>\n<p>I would also recommend that you don't inline all values and instead try to create a batch of e.g. 500 parameters instead. Execute that statement then with fresh parametrization over and over again.</p>\n"}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75601489,"answer_count":1,"score":1,"last_activity_date":1677661227,"creation_date":1677290559,"question_id":75562862,"body_markdown":"I have a problem i can&#39;t seem to figure out without using very ineffecient code. The situation is that i have a Quarkus web service using Hibernate for database access and entity mappings. In it, there is a java entity called `SanctionedEntity` like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;sanctioned_entities&quot;)\r\n    public class SanctionedEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;name&quot;, nullable = false, unique = true)\r\n        private String name;\r\n        @ManyToMany\r\n        @JoinTable(\r\n            name = &quot;sanctioned_entity_country_map&quot;, \r\n            joinColumns = { @JoinColumn(name = &quot;sanctioned_entity_id&quot;) }, \r\n            inverseJoinColumns = { @JoinColumn(name = &quot;country_id&quot;) }\r\n        )\r\n        private Set&lt;Country&gt; sanctioningCountries = new HashSet&lt;&gt;();\r\n        //... get/set\r\n    }\r\n\r\nwith the following underlying SQL schema for the main entity:\r\n\r\n    CREATE TABLE sanctioned_entities (\r\n        id bigint NOT NULL,\r\n        name character varying(1024) NOT NULL\r\n    );\r\n\r\nand the mapping to multiple `Country` entites per `SanctionedEntity` entity:\r\n\r\n    CREATE TABLE sanctioned_entity_country_map (\r\n        id bigint NOT NULL,\r\n        sanctioned_entity_id bigint NOT NULL,\r\n        country_id bigint NOT NULL\r\n    );\r\n\r\nThe problem is, i have to perform an insert of large data sets for new `SanctionedEntity` entities and their according `Country` entity mappings. Usually this would be no problem via Hibernate mappings, but it should not throw an exception on duplicates for the `name` field for `SanctionedEntity` entities but simply ignore them, but if a new `Country` mapping is not stored yet this should be saved in the mapping table. \r\n\r\nMy first thought was that i need to solve this with &quot;upsert&quot; statements, to ignore duplicates with **&quot;ON CONFLICT (name) DO NOTHING&quot;** and then separately do another &quot;upsert&quot; statement in the mapping table for potential new `Country` mappings for it. So it would be two separate &quot;upsert&quot; statements. But Hibernate does not support &quot;upsert&quot; statements, so i have to resort to native SQL queries for the inserts.\r\n\r\nThe next problem is, that the IDs are not yet created for the `SanctionedEntity` objects IF they are new and will be added (as opposed to ignored if they already exist) which are necessary for the potential new mappings in the mapping table. But I can get them from the first query back using **&quot;RETURNING id&quot;**. Since the data sets are potentially large, i tried avoiding unnecessary repetitions over the data set but i kind of end up with a Java code solution where i have complexity of **O(n) + O(n * m)** since i first need to insert the entities to get the created IDs so i can then use them to iterate over all country mappings and insert them:\r\n\r\n    @Transactional\r\n    public void persistAllWithMultipleCountries(List&lt;SanctionedEntity&gt; sanctionedEntities) {\r\n        StringBuilder entityValuesBuilder = new StringBuilder();\r\n        StringBuilder countryMapValuesBuilder = new StringBuilder();\r\n\r\n        for (SanctionedEntity entity : sanctionedEntities) {\r\n            addUpsertSanctionedEntitySqlFor(entity, entityValuesBuilder);\r\n        }\r\n\r\n        List&lt;Long&gt; ids = runSanctionedEntityUpsertFor(entityValuesBuilder);\r\n\r\n        for (int i = 0; i &lt; sanctionedEntities.size(); i++) {\r\n            SanctionedEntity entity = sanctionedEntities.get(i);\r\n            entity.setId(ids.get(i));\r\n            addUpsertCountryMapsSqlFor(entity, countryMapValuesBuilder);\r\n        }\r\n\r\n        runEntityCountryMapsUpsertFor(countryMapValuesBuilder);\r\n    }\r\n\r\n    private void addUpsertSanctionedEntitySqlFor(SanctionedEntity entity, StringBuilder builder) {\r\n        String currentTimestamp = new Date().toString();\r\n        builder.append(&quot;(&quot;) \r\n            .append(&quot;&#39;&quot;).append(entity.getName()).append(&quot;&#39;&quot;)  \r\n        .append(&quot;),&quot;);\r\n    }\r\n\r\n    private void addUpsertCountryMapsSqlFor(SanctionedEntity entity, StringBuilder builder) {\r\n        entity.getSanctioningCountries().forEach(country -&gt; {\r\n            builder.append(&quot;(&quot;) \r\n                .append(entity.getId()).append(&quot;,&quot;)\r\n                .append(country.getId())\r\n            .append(&quot;),&quot;);\r\n        });\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private List&lt;Long&gt; runSanctionedEntityUpsertFor(StringBuilder builder) {\r\n        String values = getChainedValuesWithoutLastRedundantComma(builder);\r\n        String upsertSql = &quot;INSERT INTO &quot; \r\n            + &quot;sanctioned_entities (name) &quot; \r\n            + &quot;VALUES &quot; + values + &quot; &quot;\r\n            + &quot;ON CONFLICT DO NOTHING &quot;\r\n            + &quot;RETURNING id&quot;;\r\n        return entityManager.createNativeQuery(upsertSql).getResultList();\r\n    }\r\n\r\n    private void runEntityCountryMapsUpsertFor(StringBuilder builder) {\r\n        String values = getChainedValuesWithoutLastRedundantComma(builder);\r\n        String upsertSql = &quot;INSERT INTO &quot; \r\n            + &quot;sanctioned_entity_country_map (sanctioned_entity_id, country_id) &quot; \r\n            + &quot;VALUES &quot; + values + &quot; &quot;\r\n            + &quot;ON CONFLICT DO NOTHING&quot;;\r\n        entityManager.createNativeQuery(upsertSql).executeUpdate();\r\n    }\r\n\r\n    private String getChainedValuesWithoutLastRedundantComma(StringBuilder builder) {\r\n        return builder.deleteCharAt(builder.length() - 1).toString();\r\n    }\r\n\r\nI don&#39;t think a really better solution can be done on the Java site here, so i was wondering if i maybe need to solve this with a stored procedure on the PostgreSQL server and call it. But i am unsure on how to pass all the data to the procedure in \r\n   1. a way so it stays cohesively together and \r\n   2. so it is syntactically functional in SQL?\r\n\r\nCan anybody point me to a better solution or explain how this could be solved with a stored procedure?\r\n\r\nEdit: I also just realized my code solution so far doesn&#39;t even fully work, because the set of created IDs may differ in length from the `SanctionedEntity` list i have before, since i only get the IDs of those rows created (and not of those ignored if they already existed). So i would have to merge them first by also returning them `name` field and map the IDs returned in the java code with the entities with the right name. This is just way too complicated, there has to be a better solution.","title":"How to solve upsert over two linked tables efficiently?","body":"<p>I have a problem i can't seem to figure out without using very ineffecient code. The situation is that i have a Quarkus web service using Hibernate for database access and entity mappings. In it, there is a java entity called <code>SanctionedEntity</code> like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;sanctioned_entities&quot;)\npublic class SanctionedEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;name&quot;, nullable = false, unique = true)\n    private String name;\n    @ManyToMany\n    @JoinTable(\n        name = &quot;sanctioned_entity_country_map&quot;, \n        joinColumns = { @JoinColumn(name = &quot;sanctioned_entity_id&quot;) }, \n        inverseJoinColumns = { @JoinColumn(name = &quot;country_id&quot;) }\n    )\n    private Set&lt;Country&gt; sanctioningCountries = new HashSet&lt;&gt;();\n    //... get/set\n}\n</code></pre>\n<p>with the following underlying SQL schema for the main entity:</p>\n<pre><code>CREATE TABLE sanctioned_entities (\n    id bigint NOT NULL,\n    name character varying(1024) NOT NULL\n);\n</code></pre>\n<p>and the mapping to multiple <code>Country</code> entites per <code>SanctionedEntity</code> entity:</p>\n<pre><code>CREATE TABLE sanctioned_entity_country_map (\n    id bigint NOT NULL,\n    sanctioned_entity_id bigint NOT NULL,\n    country_id bigint NOT NULL\n);\n</code></pre>\n<p>The problem is, i have to perform an insert of large data sets for new <code>SanctionedEntity</code> entities and their according <code>Country</code> entity mappings. Usually this would be no problem via Hibernate mappings, but it should not throw an exception on duplicates for the <code>name</code> field for <code>SanctionedEntity</code> entities but simply ignore them, but if a new <code>Country</code> mapping is not stored yet this should be saved in the mapping table.</p>\n<p>My first thought was that i need to solve this with &quot;upsert&quot; statements, to ignore duplicates with <strong>&quot;ON CONFLICT (name) DO NOTHING&quot;</strong> and then separately do another &quot;upsert&quot; statement in the mapping table for potential new <code>Country</code> mappings for it. So it would be two separate &quot;upsert&quot; statements. But Hibernate does not support &quot;upsert&quot; statements, so i have to resort to native SQL queries for the inserts.</p>\n<p>The next problem is, that the IDs are not yet created for the <code>SanctionedEntity</code> objects IF they are new and will be added (as opposed to ignored if they already exist) which are necessary for the potential new mappings in the mapping table. But I can get them from the first query back using <strong>&quot;RETURNING id&quot;</strong>. Since the data sets are potentially large, i tried avoiding unnecessary repetitions over the data set but i kind of end up with a Java code solution where i have complexity of <strong>O(n) + O(n * m)</strong> since i first need to insert the entities to get the created IDs so i can then use them to iterate over all country mappings and insert them:</p>\n<pre><code>@Transactional\npublic void persistAllWithMultipleCountries(List&lt;SanctionedEntity&gt; sanctionedEntities) {\n    StringBuilder entityValuesBuilder = new StringBuilder();\n    StringBuilder countryMapValuesBuilder = new StringBuilder();\n\n    for (SanctionedEntity entity : sanctionedEntities) {\n        addUpsertSanctionedEntitySqlFor(entity, entityValuesBuilder);\n    }\n\n    List&lt;Long&gt; ids = runSanctionedEntityUpsertFor(entityValuesBuilder);\n\n    for (int i = 0; i &lt; sanctionedEntities.size(); i++) {\n        SanctionedEntity entity = sanctionedEntities.get(i);\n        entity.setId(ids.get(i));\n        addUpsertCountryMapsSqlFor(entity, countryMapValuesBuilder);\n    }\n\n    runEntityCountryMapsUpsertFor(countryMapValuesBuilder);\n}\n\nprivate void addUpsertSanctionedEntitySqlFor(SanctionedEntity entity, StringBuilder builder) {\n    String currentTimestamp = new Date().toString();\n    builder.append(&quot;(&quot;) \n        .append(&quot;'&quot;).append(entity.getName()).append(&quot;'&quot;)  \n    .append(&quot;),&quot;);\n}\n\nprivate void addUpsertCountryMapsSqlFor(SanctionedEntity entity, StringBuilder builder) {\n    entity.getSanctioningCountries().forEach(country -&gt; {\n        builder.append(&quot;(&quot;) \n            .append(entity.getId()).append(&quot;,&quot;)\n            .append(country.getId())\n        .append(&quot;),&quot;);\n    });\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate List&lt;Long&gt; runSanctionedEntityUpsertFor(StringBuilder builder) {\n    String values = getChainedValuesWithoutLastRedundantComma(builder);\n    String upsertSql = &quot;INSERT INTO &quot; \n        + &quot;sanctioned_entities (name) &quot; \n        + &quot;VALUES &quot; + values + &quot; &quot;\n        + &quot;ON CONFLICT DO NOTHING &quot;\n        + &quot;RETURNING id&quot;;\n    return entityManager.createNativeQuery(upsertSql).getResultList();\n}\n\nprivate void runEntityCountryMapsUpsertFor(StringBuilder builder) {\n    String values = getChainedValuesWithoutLastRedundantComma(builder);\n    String upsertSql = &quot;INSERT INTO &quot; \n        + &quot;sanctioned_entity_country_map (sanctioned_entity_id, country_id) &quot; \n        + &quot;VALUES &quot; + values + &quot; &quot;\n        + &quot;ON CONFLICT DO NOTHING&quot;;\n    entityManager.createNativeQuery(upsertSql).executeUpdate();\n}\n\nprivate String getChainedValuesWithoutLastRedundantComma(StringBuilder builder) {\n    return builder.deleteCharAt(builder.length() - 1).toString();\n}\n</code></pre>\n<p>I don't think a really better solution can be done on the Java site here, so i was wondering if i maybe need to solve this with a stored procedure on the PostgreSQL server and call it. But i am unsure on how to pass all the data to the procedure in</p>\n<ol>\n<li>a way so it stays cohesively together and</li>\n<li>so it is syntactically functional in SQL?</li>\n</ol>\n<p>Can anybody point me to a better solution or explain how this could be solved with a stored procedure?</p>\n<p>Edit: I also just realized my code solution so far doesn't even fully work, because the set of created IDs may differ in length from the <code>SanctionedEntity</code> list i have before, since i only get the IDs of those rows created (and not of those ignored if they already existed). So i would have to merge them first by also returning them <code>name</code> field and map the IDs returned in the java code with the entities with the right name. This is just way too complicated, there has to be a better solution.</p>\n"},{"tags":["java","spring-boot","intellij-idea","logging","intellij-plugin"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677661450,"post_id":75601458,"comment_id":133380003,"body_markdown":"`spring:\n  output:\n    ansi:\n      enabled: always` , maybe use lower case `always` ?","body":"<code>spring:   output:     ansi:       enabled: always</code> , maybe use lower case <code>always</code> ?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677661633,"post_id":75601458,"comment_id":133380031,"body_markdown":"I tried, but does not make any sense. There is a problem on `console: %clr(&quot;%d %-5level %logger : %msg%n&quot;)`. It gives &quot;It is forbidden to specify block composed value at the same line as key&quot; error.","body":"I tried, but does not make any sense. There is a problem on <code>console: %clr(&quot;%d %-5level %logger : %msg%n&quot;)</code>. It gives &quot;It is forbidden to specify block composed value at the same line as key&quot; error."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677663004,"post_id":75601458,"comment_id":133380403,"body_markdown":"Please remove `&lt;withJansi&gt;true&lt;/withJansi&gt;`","body":"Please remove <code>&lt;withJansi&gt;true&lt;&#47;withJansi&gt;</code>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677663158,"post_id":75601458,"comment_id":133380441,"body_markdown":"mini config test is only set `spring:   output:     ansi:       enabled: always` is enough. You don&#39;t need `logback.xml` or others. In IDEA, when you start spring boot app, console will show color output.","body":"mini config test is only set <code>spring:   output:     ansi:       enabled: always</code> is enough. You don&#39;t need <code>logback.xml</code> or others. In IDEA, when you start spring boot app, console will show color output."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677670827,"post_id":75601458,"comment_id":133382531,"body_markdown":"Have you tried it on a Windows machine? It is not working even with / without logback.xml.","body":"Have you tried it on a Windows machine? It is not working even with / without logback.xml."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677672289,"post_id":75601458,"comment_id":133382946,"body_markdown":"@life888888 Do you have any idea amigo?","body":"@life888888 Do you have any idea amigo?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677673252,"post_id":75601458,"comment_id":133383233,"body_markdown":"(1)Yes, I  tried it on a Windows machine. (2) I use https://start.spring.io/ build demo app (3) Unzip demo.zip (4) Run IDEA then use IDEA open demo (5) application.properties default is empty. (6) add `spring.output.ansi.enabled=always` to application.properties (7) Run `DemoApplication` in IDEA, then you can IDEA console output color log.","body":"(1)Yes, I  tried it on a Windows machine. (2) I use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> build demo app (3) Unzip demo.zip (4) Run IDEA then use IDEA open demo (5) application.properties default is empty. (6) add <code>spring.output.ansi.enabled=always</code> to application.properties (7) Run <code>DemoApplication</code> in IDEA, then you can IDEA console output color log."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677676864,"post_id":75601458,"comment_id":133384467,"body_markdown":"Thank you so much for your effort. You solved the issues, I created a new project and made it worked . Then, I tried to comment out some part in my project and found guillty one. THis line --&gt; `logging:\n  pattern:\n#    console: &quot;%d %-5level %logger : %msg%n&quot;` So, what is wrong with this line and how should I update?","body":"Thank you so much for your effort. You solved the issues, I created a new project and made it worked . Then, I tried to comment out some part in my project and found guillty one. THis line --&gt; <code>logging:   pattern: #    console: &quot;%d %-5level %logger : %msg%n&quot;</code> So, what is wrong with this line and how should I update?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677679226,"post_id":75601458,"comment_id":133385210,"body_markdown":"(1) `logging.pattern.console=%clr(%d %-5level %logger : %msg%n)` will output all green. (2) `logging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n` COPY FROM  https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html","body":"(1) <code>logging.pattern.console=%clr(%d %-5level %logger : %msg%n)</code> will output all green. (2) <code>logging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n</code> COPY FROM  <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/spring-framework/spring-boot/&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677679971,"post_id":75601458,"comment_id":133385504,"body_markdown":"It works good, thanks a lot amigo. Voted+","body":"It works good, thanks a lot amigo. Voted+"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677661033,"creation_date":1677661033,"question_id":75601458,"body_markdown":"I tried all the suggested steps, but my console is not colorful. Here is what I applied:\r\n\r\n\r\n***logback.xml:*** on the project root\r\n\r\n```\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;!-- On Windows machines setting withJansi to true enables ANSI\r\n                color code interpretation by the Jansi library. This requires\r\n                org.fusesource.jansi:jansi:1.8 on the class path.  Note that\r\n                Unix-based operating systems such as Linux and Mac OS X\r\n                support ANSI color codes by default. --&gt;\r\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;[%thread] %highlight(%-5level) %cyan(%logger{15}) - %msg %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\n***application.yml:***\r\n\r\n```\r\nspring:\r\n  output:\r\n    ansi:\r\n      enabled: ALWAYS\r\n\r\nlogging:\r\n  pattern:\r\n    console: %clr(&quot;%d %-5level %logger : %msg%n&quot;)\r\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\r\n\r\n  level:\r\n    org.springframework: error\r\n    org.hibernate: error\r\n    com.company: debug\r\n```\r\n\r\nSo, what is missing? (I use Windows 10).","title":"IntelliJ console cannot be coloured on Windows","body":"<p>I tried all the suggested steps, but my console is not colorful. Here is what I applied:</p>\n<p><em><strong>logback.xml:</strong></em> on the project root</p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;!-- On Windows machines setting withJansi to true enables ANSI\n                color code interpretation by the Jansi library. This requires\n                org.fusesource.jansi:jansi:1.8 on the class path.  Note that\n                Unix-based operating systems such as Linux and Mac OS X\n                support ANSI color codes by default. --&gt;\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;[%thread] %highlight(%-5level) %cyan(%logger{15}) - %msg %n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><em><strong>application.yml:</strong></em></p>\n<pre><code>spring:\n  output:\n    ansi:\n      enabled: ALWAYS\n\nlogging:\n  pattern:\n    console: %clr(&quot;%d %-5level %logger : %msg%n&quot;)\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\n\n  level:\n    org.springframework: error\n    org.hibernate: error\n    com.company: debug\n</code></pre>\n<p>So, what is missing? (I use Windows 10).</p>\n"},{"tags":["java","transactions","keycloak","wildfly","jta"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1677510805,"post_id":75581741,"comment_id":133346901,"body_markdown":"I would add: 1) more of your code and 2) the full stacktrace of the exception","body":"I would add: 1) more of your code and 2) the full stacktrace of the exception"},{"owner":{"account_id":15151207,"reputation":63,"user_id":10933488,"display_name":"Pavel Bukhalov"},"score":0,"creation_date":1677511966,"post_id":75581741,"comment_id":133347354,"body_markdown":"@Gimby Thank You for advice! I past my full stactrace. But there is no important code in my example, simply begin() and commit(). The problem is still reproducible.","body":"@Gimby Thank You for advice! I past my full stactrace. But there is no important code in my example, simply begin() and commit(). The problem is still reproducible."}],"answers":[{"tags":[],"owner":{"account_id":15151207,"reputation":63,"user_id":10933488,"display_name":"Pavel Bukhalov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677660583,"creation_date":1677660583,"answer_id":75601396,"question_id":75581741,"body_markdown":"My mistake is that I do few transations in one session. It is problematic in Keycloak (see https://lists.jboss.org/pipermail/keycloak-user/2014-September/000898.html)\r\nWhen I create new session each time, it worked.\r\n\r\nBut maybe there is more correct way to solve my problem?","title":"How to commit transaction in Keycloak?","body":"<p>My mistake is that I do few transations in one session. It is problematic in Keycloak (see <a href=\"https://lists.jboss.org/pipermail/keycloak-user/2014-September/000898.html\" rel=\"nofollow noreferrer\">https://lists.jboss.org/pipermail/keycloak-user/2014-September/000898.html</a>)\nWhen I create new session each time, it worked.</p>\n<p>But maybe there is more correct way to solve my problem?</p>\n"}],"owner":{"account_id":15151207,"reputation":63,"user_id":10933488,"display_name":"Pavel Bukhalov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677660583,"creation_date":1677508064,"question_id":75581741,"body_markdown":"I work with Keycloak:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;keycloak-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n        &lt;version&gt;4.4.0.21-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;name&gt;Keycloak WildFly Integration&lt;/name&gt;\r\n    &lt;description/&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;keycloak-wildfly-parent&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;adduser&lt;/module&gt;\r\n        &lt;module&gt;extensions&lt;/module&gt;\r\n        &lt;module&gt;server-subsystem&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n\r\nAnd in my custom module I&#39;m trying to work with transactions. I get this code from main class KeycloakApplications as an example\r\n\r\n    KeycloakSession session = sessionFactory.create();\r\n       try {\r\n           session.getTransactionManager().begin();\r\n           //do some wokr with db etc.\r\n           session.getTransactionManager().commit();\r\n           ServicesLogger.LOGGER.addUserSuccess(userRep.getUsername(), realmRep.getRealm());\r\n       }\r\n\r\nBut when I use the same method in my code I get this error\r\n\r\n\r\n&gt; java.lang.IllegalStateException: No transaction associated with the\r\n&gt; current thread\r\n\r\nFull stactrace:\r\n\r\n&gt; 15:23:36,668 ERROR [com.mycompany.sso.events.listener.KafkaConsumerProvider] (keycloak-audit-akka.actor.default-dispatcher-5) No transaction associated with the current thread: java.lang.IllegalStateException: No transaction associated with the current thread\r\n\tat org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:69)\r\n\tat org.keycloak.transaction.JtaTransactionWrapper.commit(JtaTransactionWrapper.java:92)\r\n\tat org.keycloak.services.DefaultKeycloakTransactionManager.commit(DefaultKeycloakTransactionManager.java:136)\r\n\tat com.mycompany.sso.events.listener.KafkaConsumerProvider.process(KafkaConsumerProvider.java:79)\r\n\tat akka.stream.javadsl.Source.$anonfun$map$1(Source.scala:1299)\r\n\tat akka.stream.impl.fusing.Map$$anon$1.onPush(Ops.scala:54)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:523)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.processEvent(GraphInterpreter.scala:480)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:376)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:606)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell$AsyncInput.execute(ActorGraphInterpreter.scala:485)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:581)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.akka$stream$impl$fusing$ActorGraphInterpreter$$processEvent(ActorGraphInterpreter.scala:749)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter$$anonfun$receive$1.applyOrElse(ActorGraphInterpreter.scala:764)\r\n\tat akka.actor.Actor.aroundReceive(Actor.scala:539)\r\n\tat akka.actor.Actor.aroundReceive$(Actor.scala:537)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:671)\r\n\tat akka.actor.ActorCell.receiveMessage(ActorCell.scala:614)\r\n\tat akka.actor.ActorCell.invoke(ActorCell.scala:583)\r\n\tat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:268)\r\n\tat akka.dispatch.Mailbox.run(Mailbox.scala:229)\r\n\tat akka.dispatch.Mailbox.exec(Mailbox.scala:241)\r\n\tat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\r\n\tat akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\r\n\tat akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\r\n\tat akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\r\n\r\nMy code:\r\n\r\n    try {\r\n            KeycloakTransactionManager transactionManager = session.getTransactionManager();\r\n            transactionManager.begin();\r\n            //do some work\r\n            transactionManager.commit(); //error in this line\r\n        }\r\n\r\nI debug class org.keycloak.services.DefaultKeycloakTransactionManager with implementations of begin(), commit() and rollback() methods, but it didn&#39;t help me figure out what I was doing wrong.\r\n\r\nSome screens:\r\n1) TransactionManager before begin()\r\n[![enter image description here][1]][1]\r\n\r\n2) Transaction manager after begin() \r\n[![enter image description here][2]][2]\r\n\r\n3) Transaction manager after some work, but before commit \r\n[![enter image description here][3]][3]\r\n\r\nCould anyone tell me why this error is happening? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AXX63.png\r\n  [2]: https://i.stack.imgur.com/2ywsH.png\r\n  [3]: https://i.stack.imgur.com/uTR33.png","title":"How to commit transaction in Keycloak?","body":"<p>I work with Keycloak:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;parent&gt;\n    &lt;artifactId&gt;keycloak-parent&lt;/artifactId&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;version&gt;4.4.0.21-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;name&gt;Keycloak WildFly Integration&lt;/name&gt;\n&lt;description/&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;keycloak-wildfly-parent&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;modules&gt;\n    &lt;module&gt;adduser&lt;/module&gt;\n    &lt;module&gt;extensions&lt;/module&gt;\n    &lt;module&gt;server-subsystem&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p>And in my custom module I'm trying to work with transactions. I get this code from main class KeycloakApplications as an example</p>\n<pre><code>KeycloakSession session = sessionFactory.create();\n   try {\n       session.getTransactionManager().begin();\n       //do some wokr with db etc.\n       session.getTransactionManager().commit();\n       ServicesLogger.LOGGER.addUserSuccess(userRep.getUsername(), realmRep.getRealm());\n   }\n</code></pre>\n<p>But when I use the same method in my code I get this error</p>\n<blockquote>\n<p>java.lang.IllegalStateException: No transaction associated with the\ncurrent thread</p>\n</blockquote>\n<p>Full stactrace:</p>\n<blockquote>\n<p>15:23:36,668 ERROR [com.mycompany.sso.events.listener.KafkaConsumerProvider] (keycloak-audit-akka.actor.default-dispatcher-5) No transaction associated with the current thread: java.lang.IllegalStateException: No transaction associated with the current thread\nat org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:69)\nat org.keycloak.transaction.JtaTransactionWrapper.commit(JtaTransactionWrapper.java:92)\nat org.keycloak.services.DefaultKeycloakTransactionManager.commit(DefaultKeycloakTransactionManager.java:136)\nat com.mycompany.sso.events.listener.KafkaConsumerProvider.process(KafkaConsumerProvider.java:79)\nat akka.stream.javadsl.Source.$anonfun$map$1(Source.scala:1299)\nat akka.stream.impl.fusing.Map$$anon$1.onPush(Ops.scala:54)\nat akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:523)\nat akka.stream.impl.fusing.GraphInterpreter.processEvent(GraphInterpreter.scala:480)\nat akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:376)\nat akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:606)\nat akka.stream.impl.fusing.GraphInterpreterShell$AsyncInput.execute(ActorGraphInterpreter.scala:485)\nat akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:581)\nat akka.stream.impl.fusing.ActorGraphInterpreter.akka$stream$impl$fusing$ActorGraphInterpreter$$processEvent(ActorGraphInterpreter.scala:749)\nat akka.stream.impl.fusing.ActorGraphInterpreter$$anonfun$receive$1.applyOrElse(ActorGraphInterpreter.scala:764)\nat akka.actor.Actor.aroundReceive(Actor.scala:539)\nat akka.actor.Actor.aroundReceive$(Actor.scala:537)\nat akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:671)\nat akka.actor.ActorCell.receiveMessage(ActorCell.scala:614)\nat akka.actor.ActorCell.invoke(ActorCell.scala:583)\nat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:268)\nat akka.dispatch.Mailbox.run(Mailbox.scala:229)\nat akka.dispatch.Mailbox.exec(Mailbox.scala:241)\nat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\nat akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\nat akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\nat akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)</p>\n</blockquote>\n<p>My code:</p>\n<pre><code>try {\n        KeycloakTransactionManager transactionManager = session.getTransactionManager();\n        transactionManager.begin();\n        //do some work\n        transactionManager.commit(); //error in this line\n    }\n</code></pre>\n<p>I debug class org.keycloak.services.DefaultKeycloakTransactionManager with implementations of begin(), commit() and rollback() methods, but it didn't help me figure out what I was doing wrong.</p>\n<p>Some screens:</p>\n<ol>\n<li><p>TransactionManager before begin()\n<a href=\"https://i.stack.imgur.com/AXX63.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AXX63.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Transaction manager after begin()\n<a href=\"https://i.stack.imgur.com/2ywsH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ywsH.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Transaction manager after some work, but before commit\n<a href=\"https://i.stack.imgur.com/uTR33.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uTR33.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>Could anyone tell me why this error is happening?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1589960986,"post_id":61907577,"comment_id":109496651,"body_markdown":"How could `sorted()` only take one by one and directly passes it through?","body":"How could <code>sorted()</code> only take one by one and directly passes it through?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":1,"creation_date":1589961404,"post_id":61907577,"comment_id":109496853,"body_markdown":"Does this answer your question? [Do sorted and distinct immediately process the stream?](https://stackoverflow.com/questions/49289094/do-sorted-and-distinct-immediately-process-the-stream)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49289094/do-sorted-and-distinct-immediately-process-the-stream\">Do sorted and distinct immediately process the stream?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5600947,"reputation":124,"user_id":4437226,"accept_rate":75,"display_name":"Isfirs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589961244,"creation_date":1589961244,"answer_id":61907848,"question_id":61907577,"body_markdown":"That depends on the actual `Stream `implementation. This mostly applies to parallel streams, because spliterators tend to chunk the amount of data and you don&#39;t know which element will be process when.\r\n\r\nIn general, a stream goes through each element in order (but doesn&#39;t have to). The simplest way to check this behaviour is to put in some breakpoints and see when they actually hit. \r\n\r\nAlso, certain operations may wait until all prior operations are executed (namely `collet()`)\r\n\r\nI advise to check the javadoc and read it carefully, because it gives away enough hints to get an expectation. ","title":"How do elements go through the stream?","body":"<p>That depends on the actual <code>Stream</code>implementation. This mostly applies to parallel streams, because spliterators tend to chunk the amount of data and you don't know which element will be process when.</p>\n\n<p>In general, a stream goes through each element in order (but doesn't have to). The simplest way to check this behaviour is to put in some breakpoints and see when they actually hit. </p>\n\n<p>Also, certain operations may wait until all prior operations are executed (namely <code>collet()</code>)</p>\n\n<p>I advise to check the javadoc and read it carefully, because it gives away enough hints to get an expectation. </p>\n"},{"tags":[],"owner":{"account_id":14592842,"reputation":342,"user_id":11384519,"display_name":"Ivan Dimitrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589961926,"creation_date":1589961294,"answer_id":61907869,"question_id":61907577,"body_markdown":"It depends entirely on the stream. It is usually evaluated lazily, which means it takes it one element at a time, but under certain conditions it needs to get all the elements before it continues to the next step. For example, consider the following code:\r\n\r\n    IntStream.generate(() -&gt; (int) (Math.random() * 100))\r\n        .limit(20)\r\n        .filter(i -&gt; i % 2 == 0)\r\n        .sorted()\r\n        .forEach(System.out::println);\r\n\r\n\r\nThis stream generates random numbers from 0 to 99, limited to 20 elements, after which it filters the numbers by checking wether or not they are even, if they are, they continue. Until now, it&#39;s done one element at a time. The change comes when you request a sorting of the stream. The sorted() method sorts the stream by the natural ordering of the elements, or by a provided comparator. For you to sort something you need access to all elements, because you don&#39;t know the last element&#39;s value until you get it. It could be the first element after you sort it. So this method waits for the entire stream, sorts it and returns the sorted stream. After that this code just prints the sorted stream one element at a time.","title":"How do elements go through the stream?","body":"<p>It depends entirely on the stream. It is usually evaluated lazily, which means it takes it one element at a time, but under certain conditions it needs to get all the elements before it continues to the next step. For example, consider the following code:</p>\n\n<pre><code>IntStream.generate(() -&gt; (int) (Math.random() * 100))\n    .limit(20)\n    .filter(i -&gt; i % 2 == 0)\n    .sorted()\n    .forEach(System.out::println);\n</code></pre>\n\n<p>This stream generates random numbers from 0 to 99, limited to 20 elements, after which it filters the numbers by checking wether or not they are even, if they are, they continue. Until now, it's done one element at a time. The change comes when you request a sorting of the stream. The sorted() method sorts the stream by the natural ordering of the elements, or by a provided comparator. For you to sort something you need access to all elements, because you don't know the last element's value until you get it. It could be the first element after you sort it. So this method waits for the entire stream, sorts it and returns the sorted stream. After that this code just prints the sorted stream one element at a time.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589961381,"creation_date":1589961381,"answer_id":61907900,"question_id":61907577,"body_markdown":"something like this, yes.\r\n\r\nif you have a stream of integers let&#39;s say 1,2,3,4,5 and you do some operations on it, let&#39;s say stream().map(x -&gt; x*3).filter(x -&gt; x%2==0).findFirst()\r\n\r\nit will first take the first value (1), it will be multiplied by 3, and then it will check if it&#39;s even. \r\n\r\nBecause it&#39;s not, it will take the second one (2), multiply by 3 (=6), check if it is even (it is), find first. \r\n\r\nthis will be the first one and now it stops and returns.\r\n\r\nWhich means the other integers from the stream won&#39;t be evaluated (multiplied and checked if even) as it is not necessary","title":"How do elements go through the stream?","body":"<p>something like this, yes.</p>\n\n<p>if you have a stream of integers let's say 1,2,3,4,5 and you do some operations on it, let's say stream().map(x -> x*3).filter(x -> x%2==0).findFirst()</p>\n\n<p>it will first take the first value (1), it will be multiplied by 3, and then it will check if it's even. </p>\n\n<p>Because it's not, it will take the second one (2), multiply by 3 (=6), check if it is even (it is), find first. </p>\n\n<p>this will be the first one and now it stops and returns.</p>\n\n<p>Which means the other integers from the stream won't be evaluated (multiplied and checked if even) as it is not necessary</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677660297,"creation_date":1677660297,"answer_id":75601344,"question_id":61907577,"body_markdown":"If you are using IntelliJ, they have this visualization feature that can be really useful when you start working with streams. You have to stop on a breakpoint and then click on the `Trace Current Stream Chain` button.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nmore about this feature in this [blog post][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GIRSR.png\r\n  [2]: https://medium.com/codex/best-java-stream-visualisation-tool-for-junior-developers-84dcc4a67830?sk=591fbd1281562e50ecbbcf2be135157d","title":"How do elements go through the stream?","body":"<p>If you are using IntelliJ, they have this visualization feature that can be really useful when you start working with streams. You have to stop on a breakpoint and then click on the <code>Trace Current Stream Chain</code> button.</p>\n<p><a href=\"https://i.stack.imgur.com/GIRSR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GIRSR.png\" alt=\"enter image description here\" /></a></p>\n<p>more about this feature in this <a href=\"https://medium.com/codex/best-java-stream-visualisation-tool-for-junior-developers-84dcc4a67830?sk=591fbd1281562e50ecbbcf2be135157d\" rel=\"nofollow noreferrer\">blog post</a>.</p>\n"}],"owner":{"account_id":18367311,"reputation":33,"user_id":13378093,"display_name":"victor.demciuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61907869,"answer_count":4,"score":0,"last_activity_date":1677660297,"creation_date":1589960351,"question_id":61907577,"body_markdown":"How do elements of a stream go thought the stream itself? Is it like it takes 1 element and passes it thought all functions (map then sort then collect) and then takes second elements and repeats the cycle or is it like it takes all elements and maps them then sorts and finally collects?\r\n\r\n``` \r\nnew ArrayList&lt;Integer&gt;().stream()\r\n                .map(x -&gt; x.byteValue())\r\n                .sorted()\r\n                .collect(Collectors.toList()); \r\n```","title":"How do elements go through the stream?","body":"<p>How do elements of a stream go thought the stream itself? Is it like it takes 1 element and passes it thought all functions (map then sort then collect) and then takes second elements and repeats the cycle or is it like it takes all elements and maps them then sorts and finally collects?</p>\n\n<pre><code>new ArrayList&lt;Integer&gt;().stream()\n                .map(x -&gt; x.byteValue())\n                .sorted()\n                .collect(Collectors.toList()); \n</code></pre>\n"},{"tags":["java","sap-commerce-cloud","backoffice","impex"],"comments":[{"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"score":0,"creation_date":1591249237,"post_id":62181730,"comment_id":109984495,"body_markdown":"Did you get any error during the addoninstall?","body":"Did you get any error during the addoninstall?"}],"answers":[{"comments":[{"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"score":0,"creation_date":1591267364,"post_id":62191437,"comment_id":109993476,"body_markdown":"Question: When you said it didn&#39;t work at first, did you run the addoninstall while the server was still running?  Did you build after the addoninstall?","body":"Question: When you said it didn&#39;t work at first, did you run the addoninstall while the server was still running?  Did you build after the addoninstall?"},{"owner":{"account_id":17909365,"reputation":41,"user_id":13011817,"display_name":"Mani Sankar"},"score":0,"creation_date":1591946890,"post_id":62191437,"comment_id":110252821,"body_markdown":"after installing addon i rebuild the server","body":"after installing addon i rebuild the server"},{"owner":{"account_id":17909365,"reputation":41,"user_id":13011817,"display_name":"Mani Sankar"},"score":1,"creation_date":1591947618,"post_id":62191437,"comment_id":110253110,"body_markdown":"after few builds it was gone once again","body":"after few builds it was gone once again"},{"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"score":0,"creation_date":1591953455,"post_id":62191437,"comment_id":110255892,"body_markdown":"That&#39;s good to know. I guess you can accept your own answer now. :)","body":"That&#39;s good to know. I guess you can accept your own answer now. :)"}],"tags":[],"owner":{"account_id":17909365,"reputation":41,"user_id":13011817,"display_name":"Mani Sankar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591953485,"creation_date":1591263458,"answer_id":62191437,"question_id":62181730,"body_markdown":"After repeating all those steps, I restarted the server. Now, it&#39;s working fine.","title":"ststus 404 for returns in sap hybris, after installing the orderselfserviceaddon to storefornt","body":"<p>After repeating all those steps, I restarted the server. Now, it's working fine.</p>\n"}],"owner":{"account_id":17909365,"reputation":41,"user_id":13011817,"display_name":"Mani Sankar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677660266,"creation_date":1591214485,"question_id":62181730,"body_markdown":"1.included in localextension.xml like this \r\n&lt;extension dir=&quot;${HYBRIS_BIN_DIR}/modules/order-management/orderselfserviceaddon&quot;/&gt;\r\n2.ant addoninstall -Daddonnames=&quot;orderselfserviceaddon&quot; 3.DaddonStorefront.yacceleratorstorefront=&quot;rapidhybrisstorefront&quot;\r\ni installed it to the storefront and updated the system\r\nstill it showing 404 while accessing the returns page","title":"ststus 404 for returns in sap hybris, after installing the orderselfserviceaddon to storefornt","body":"<p>1.included in localextension.xml like this \n\n2.ant addoninstall -Daddonnames=\"orderselfserviceaddon\" 3.DaddonStorefront.yacceleratorstorefront=\"rapidhybrisstorefront\"\ni installed it to the storefront and updated the system\nstill it showing 404 while accessing the returns page</p>\n"},{"tags":["java","reactjs","rest","spring-boot","cors"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1519905882,"post_id":49049312,"comment_id":85102824,"body_markdown":"The 404 seems to indicate that the URL `http://localhost:8085/createClient` is not found.","body":"The 404 seems to indicate that the URL <code>http:&#47;&#47;localhost:8085&#47;createClient</code> is not found."}],"answers":[{"comments":[{"owner":{"account_id":7333672,"reputation":547,"user_id":5585774,"accept_rate":75,"display_name":"liamw9"},"score":0,"creation_date":1519913827,"post_id":49049590,"comment_id":85107637,"body_markdown":"Thanks for your help. Unfortunately I am still seeing the same issue. Am I missing a header for the request or the response? I have updated the question with the headers that I can see in the dev tools","body":"Thanks for your help. Unfortunately I am still seeing the same issue. Am I missing a header for the request or the response? I have updated the question with the headers that I can see in the dev tools"},{"owner":{"account_id":4577002,"reputation":295,"user_id":3715204,"display_name":"Anadi Sharma"},"score":0,"creation_date":1520141641,"post_id":49049590,"comment_id":85189896,"body_markdown":"Sorry for replying late to your comment, I have been busy for a couple of days. With your update on your question, I can see that your request headers doesn&#39;t match with the server rules. For e.g., `Access-Control-Allow-Headers` doesn&#39;t match with `Access-Control-Allow-Header`. The rules set at server and sent in your request headers must be exactly the same","body":"Sorry for replying late to your comment, I have been busy for a couple of days. With your update on your question, I can see that your request headers doesn&#39;t match with the server rules. For e.g., <code>Access-Control-Allow-Headers</code> doesn&#39;t match with <code>Access-Control-Allow-Header</code>. The rules set at server and sent in your request headers must be exactly the same"}],"tags":[],"owner":{"account_id":4577002,"reputation":295,"user_id":3715204,"display_name":"Anadi Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519906697,"creation_date":1519906697,"answer_id":49049590,"question_id":49049312,"body_markdown":"This is a standard CORS issue, this basically means that user agent i.e. `http://localhost:3000` doesn&#39;t have permissions to access resources at `http://localhost:8085`. You can learn more about it at https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS.\r\n\r\nYour request headers should exactly map to server rules. Keeping any parameter as `*` won&#39;t work.\r\n\r\nFor e.g., if your request header has following:\r\n\r\n    Access-Control-Request-Method: POST\r\n    Access-Control-Request-Headers: &lt;your custom headers&gt;\r\n\r\nThen, server rules show map your request header:\r\n\r\n    Access-Control-Request-Method: GET, PUT, DELETE, POST\r\n    Access-Control-Request-Headers: &lt;your custom headers&gt;\r\n\r\nLet me know if it helps!","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>This is a standard CORS issue, this basically means that user agent i.e. <code>http://localhost:3000</code> doesn't have permissions to access resources at <code>http://localhost:8085</code>. You can learn more about it at <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a>.</p>\n\n<p>Your request headers should exactly map to server rules. Keeping any parameter as <code>*</code> won't work.</p>\n\n<p>For e.g., if your request header has following:</p>\n\n<pre><code>Access-Control-Request-Method: POST\nAccess-Control-Request-Headers: &lt;your custom headers&gt;\n</code></pre>\n\n<p>Then, server rules show map your request header:</p>\n\n<pre><code>Access-Control-Request-Method: GET, PUT, DELETE, POST\nAccess-Control-Request-Headers: &lt;your custom headers&gt;\n</code></pre>\n\n<p>Let me know if it helps!</p>\n"},{"comments":[{"owner":{"account_id":8967886,"reputation":3702,"user_id":6687699,"accept_rate":58,"display_name":"Lutaaya Huzaifah Idris"},"score":4,"creation_date":1547358984,"post_id":49052917,"comment_id":95162462,"body_markdown":"what do you mean by Accept request Header please.","body":"what do you mean by Accept request Header please."},{"owner":{"account_id":15266289,"reputation":617,"user_id":11014826,"display_name":"CFD"},"score":1,"creation_date":1649954680,"post_id":49052917,"comment_id":127010441,"body_markdown":"explain more please or add the updated code.","body":"explain more please or add the updated code."},{"owner":{"account_id":10388625,"reputation":761,"user_id":7660727,"display_name":"Mohammad Atif Aftab"},"score":0,"creation_date":1685211140,"post_id":49052917,"comment_id":134631250,"body_markdown":"can you please explain with updated codes, how did you solve ?","body":"can you please explain with updated codes, how did you solve ?"}],"tags":[],"owner":{"account_id":7333672,"reputation":547,"user_id":5585774,"accept_rate":75,"display_name":"liamw9"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1519917690,"creation_date":1519917690,"answer_id":49052917,"question_id":49049312,"body_markdown":"The issue seems to be resolved. I was missing the Accept request header (thanks @Anadi Sharma), and I also had the spring-boot-starter-security as a dependency, which seemed to be returning unauthorised. I also didn&#39;t need the CorsFilter, in the end I just used the @CrossOrigin annotation on the endpoint.","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>The issue seems to be resolved. I was missing the Accept request header (thanks @Anadi Sharma), and I also had the spring-boot-starter-security as a dependency, which seemed to be returning unauthorised. I also didn't need the CorsFilter, in the end I just used the @CrossOrigin annotation on the endpoint.</p>\n"},{"tags":[],"owner":{"account_id":8967886,"reputation":3702,"user_id":6687699,"accept_rate":58,"display_name":"Lutaaya Huzaifah Idris"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1628633332,"creation_date":1547359771,"answer_id":54166502,"question_id":49049312,"body_markdown":"I also had this issue, but allow me to give a straight forward answer in a simpler communication manner.\r\n\r\nFirst and foremost, you have to tell your server (Spring boot java), about the client (Reactjs ) **URL**.\r\n\r\nFor example, most of the times spring boot uses `http://localhost:8080` and Reactjs `uses http://localhost:3000`.\r\n\r\nSo you have to navigate to the controller in Spring boot java and allow the **URL** of Reactjs to be given the permission for accessibility in the server (Spring boot). This will help you get rid of the **CORS** issue.\r\n\r\nHow do we do this in Spring boot? simply we add the `@CrossOrigin` annotation specifying the Reactjs **URL** link as below:\r\n\r\nFor example :\r\n\r\n        @GetMapping(&quot;/orphans&quot;)\r\n        @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n        Iterable&lt;Student&gt; read() {\r\n            return studentService.findAll();\r\n        }\r\n\r\nThe method above is to list all the orphans, so I gave Reactjs **URL** link permission then I got rid of the **CORS** issue.\r\n\r\nHappy coding.","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>I also had this issue, but allow me to give a straight forward answer in a simpler communication manner.</p>\n<p>First and foremost, you have to tell your server (Spring boot java), about the client (Reactjs ) <strong>URL</strong>.</p>\n<p>For example, most of the times spring boot uses <code>http://localhost:8080</code> and Reactjs <code>uses http://localhost:3000</code>.</p>\n<p>So you have to navigate to the controller in Spring boot java and allow the <strong>URL</strong> of Reactjs to be given the permission for accessibility in the server (Spring boot). This will help you get rid of the <strong>CORS</strong> issue.</p>\n<p>How do we do this in Spring boot? simply we add the <code>@CrossOrigin</code> annotation specifying the Reactjs <strong>URL</strong> link as below:</p>\n<p>For example :</p>\n<pre><code>    @GetMapping(&quot;/orphans&quot;)\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n    Iterable&lt;Student&gt; read() {\n        return studentService.findAll();\n    }\n</code></pre>\n<p>The method above is to list all the orphans, so I gave Reactjs <strong>URL</strong> link permission then I got rid of the <strong>CORS</strong> issue.</p>\n<p>Happy coding.</p>\n"},{"tags":[],"owner":{"account_id":11301268,"reputation":79,"user_id":8287133,"display_name":"K Murali Krishna"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1556179786,"creation_date":1556179254,"answer_id":55844504,"question_id":49049312,"body_markdown":"Controller.java\r\n-----------------\r\nRefer to the below sample code to resolve this issue.\r\n\r\n\r\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n    @RequestMapping(value=&quot;/sample&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n    \r\n    public Student getStudent(){\r\n    }","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<h2>Controller.java</h2>\n\n<p>Refer to the below sample code to resolve this issue.</p>\n\n<pre><code>@CrossOrigin(origins = \"http://localhost:3000\")\n@RequestMapping(value=\"/sample\", method = RequestMethod.GET, produces = \"application/json\")\n\npublic Student getStudent(){\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14999313,"reputation":1882,"user_id":10827515,"display_name":"Supun Sandaruwan"},"score":0,"creation_date":1648642433,"post_id":65184180,"comment_id":126675361,"body_markdown":"@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;) this is worked for me thank you","body":"@CrossOrigin(origins = &quot;<i>&quot;, allowedHeaders = &quot;</i>&quot;) this is worked for me thank you"},{"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"score":0,"creation_date":1654436107,"post_id":65184180,"comment_id":128085431,"body_markdown":"Access-Control-Allow-Origin is a response header, not a request header","body":"Access-Control-Allow-Origin is a response header, not a request header"}],"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1607353495,"creation_date":1607353495,"answer_id":65184180,"question_id":49049312,"body_markdown":"add below line of code in fetch\r\n\r\n      export function getData(endpoint = &#39;/&#39;, request = {}) {\r\n        let url = endpoint;\r\n        let req = Object.assign(\r\n          {\r\n            headers: {\r\n              Accept: &#39;application/json&#39;,\r\n              &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n              &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;,\r\n            },\r\n          },\r\n          request\r\n        );\r\n        console.log(&#39;url,req&#39;, url, req);\r\n        return fetch(url, req).then(handleResponse).catch(handleErrors);\r\n      }\r\n\r\nAnd Add below line below Rest Controller class\r\n\r\n    @RestController\r\n    @CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\r\n    class TestController{}\r\n\r\nhope this would helpful :)","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>add below line of code in fetch</p>\n<pre><code>  export function getData(endpoint = '/', request = {}) {\n    let url = endpoint;\n    let req = Object.assign(\n      {\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n        },\n      },\n      request\n    );\n    console.log('url,req', url, req);\n    return fetch(url, req).then(handleResponse).catch(handleErrors);\n  }\n</code></pre>\n<p>And Add below line below Rest Controller class</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\nclass TestController{}\n</code></pre>\n<p>hope this would helpful :)</p>\n"},{"tags":[],"owner":{"account_id":16319704,"reputation":1245,"user_id":11785852,"display_name":"Ruchira Nawarathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677659979,"creation_date":1677659979,"answer_id":75601288,"question_id":49049312,"body_markdown":"I was able to resolve this by adding bean configuration in server side (spring boot app) to allow origins.\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t    \tSpringApplication.run(MyApplication.class, args);\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic WebMvcConfigurer configure() {\r\n\t    \treturn new WebMvcConfigurer() {\r\n\t\t    \t@Override\r\n\t\t\t    public void addCorsMappings(CorsRegistry reg) {\r\n\t\t\t\t    reg.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\r\n\t\t    \t}\r\n\t\t    };\r\n\t    }\r\n\r\n    }","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>I was able to resolve this by adding bean configuration in server side (spring boot app) to allow origins.</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n    @Bean\n    public WebMvcConfigurer configure() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry reg) {\n                reg.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\n            }\n        };\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7333672,"reputation":547,"user_id":5585774,"accept_rate":75,"display_name":"liamw9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47736,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":49052917,"answer_count":6,"score":18,"last_activity_date":1677659979,"creation_date":1519905636,"question_id":49049312,"body_markdown":"I am working on a frontend application in React that connects to a middleware service written in Spring boot. \r\nI am attempting to call an endpoint from the front end as follows:\r\n\r\n    return axios.post(&#39;http://localhost:8085/workshop/client/createClient&#39;, {username})\r\n    .then((response) =&gt; {\r\n      console.log(&#39;Success&#39;)\r\n    })\r\n    .catch((error) =&gt; console.log(error));\r\n\r\nWhenever I make the request in my browser I get the following errors:\r\n\r\n    OPTIONS http://localhost:8085/workshop/client/createClient 401 ()\r\n\r\n    Failed to load http://localhost:8085/workshop/client/createClient: Response for preflight has invalid HTTP status code 401.\r\n\r\nAs far as I understand, this is because the preflight request is being blocked by my middleware application.\r\nHaving read a bit online about enabling this, I have added a CorsFilter to my spring boot application:\r\n\r\n    @Slf4j\r\n    public class CORSFilter implements Filter {\r\n      private static final String ONE_HOUR = &quot;3600&quot;;\r\n\r\n      @Override\r\n      public void init(FilterConfig filterConfig) throws ServletException {\r\n      }\r\n\r\n      @Override\r\n      public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, ONE_HOUR);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,Origin,Content-Type, Accept, x-device-user-agent, Content-Type&quot;);\r\n\r\n        if (req instanceof HttpServletRequest) {\r\n           HttpServletRequest httpServletRequest = (HttpServletRequest) req;\r\n           if (httpServletRequest.getHeader(HttpHeaders.ORIGIN) != null\r\n              &amp;&amp; httpServletRequest.getMethod().equals(HttpMethod.OPTIONS.name())\r\n              &amp;&amp; httpServletRequest.getHeader(HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD) != null) {\r\n              log.debug(&quot;Received an OPTIONS pre-flight request.&quot;);\r\n              return;\r\n           }\r\n        }\r\n        chain.doFilter(req, res);\r\n      }\r\n\r\n      @Override\r\n      public void destroy() {\r\n      }\r\n    }\r\n\r\nAnd\r\n\r\n    @Configuration\r\n    public class MvcConfiguration {\r\n\r\n     @Bean\r\n     public FilterRegistrationBean corsFilter() {\r\n       FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean();\r\n       filterRegistrationBean.setFilter(new CORSFilter());\r\n       filterRegistrationBean.addUrlPatterns(&quot;/*&quot;);\r\n       filterRegistrationBean.setOrder(0);\r\n       return filterRegistrationBean;\r\n     }\r\n    }\r\n\r\nHere is an example of the endpoint:\r\n\r\n     @PostMapping(&quot;/createClient&quot;)\r\n     public ResponseEntity&lt;?&gt; createClient(@RequestBody CreateClientDto clientDto) {\r\n        try {\r\n         ...\r\n         return new ResponseEntity&lt;&gt;(responseBody, OK);\r\n        } catch (Exception e ...) {}\r\n      }\r\n\r\n\r\nAny help would be greatly appreciated :)\r\n\r\n**Update:** I had the url slightly wrong for the request (hence the 404). I have updated the error message. I still seem to be having CORS issues.\r\n\r\nThese are the response headers that I can see in the dev tools:\r\n\r\n    Access-Control-Allow-Credentials:true\r\n    Access-Control-Allow-Headers:access-control-allow-credentials, access-control-allow-methods, access-control-allow-origin, allow, content-type\r\n    Access-Control-Allow-Methods:POST\r\n    Access-Control-Allow-Origin:http://localhost:3000\r\n    Allow:GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\r\n    Cache-Control:no-cache, no-store, max-age=0, must-revalidate\r\n    Content-Length:0\r\n    Date:Thu, 01 Mar 2018 14:06:38 GMT\r\n    Expires:0\r\n    Pragma:no-cache\r\n    Strict-Transport-Security:max-age=31536000 ; includeSubDomains\r\n    Vary:Origin\r\n    WWW-Authenticate:Basic realm=&quot;Spring&quot;\r\n    X-Content-Type-Options:nosniff\r\n    X-Frame-Options:DENY\r\n    X-XSS-Protection:1; mode=block\r\n\r\nAnd the request headers:\r\n\r\n    OPTIONS /workshop/client/createClient HTTP/1.1\r\n    Host: localhost:8085\r\n    Connection: keep-alive\r\n    Access-Control-Request-Method: POST\r\n    Origin: http://localhost:3000\r\n    User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) \r\n    AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.186 Safari/537.36\r\n    Access-Control-Request-Headers: access-control-allow-credentials,access-control-allow-methods,access-control-allow-origin,allow,content-type\r\n    Accept: */*\r\n    Accept-Encoding: gzip, deflate, br\r\n    Accept-Language: en-GB,en;q=0.9,en-US;q=0.8,da;q=0.7","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>I am working on a frontend application in React that connects to a middleware service written in Spring boot. \nI am attempting to call an endpoint from the front end as follows:</p>\n\n<pre><code>return axios.post('http://localhost:8085/workshop/client/createClient', {username})\n.then((response) =&gt; {\n  console.log('Success')\n})\n.catch((error) =&gt; console.log(error));\n</code></pre>\n\n<p>Whenever I make the request in my browser I get the following errors:</p>\n\n<pre><code>OPTIONS http://localhost:8085/workshop/client/createClient 401 ()\n\nFailed to load http://localhost:8085/workshop/client/createClient: Response for preflight has invalid HTTP status code 401.\n</code></pre>\n\n<p>As far as I understand, this is because the preflight request is being blocked by my middleware application.\nHaving read a bit online about enabling this, I have added a CorsFilter to my spring boot application:</p>\n\n<pre><code>@Slf4j\npublic class CORSFilter implements Filter {\n  private static final String ONE_HOUR = \"3600\";\n\n  @Override\n  public void init(FilterConfig filterConfig) throws ServletException {\n  }\n\n  @Override\n  public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n    HttpServletResponse response = (HttpServletResponse) res;\n    response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    response.setHeader(\"Access-Control-Allow-Methods\", \"POST, PUT, GET, OPTIONS, DELETE\");\n    response.setHeader(\"Access-Control-Max-Age\", ONE_HOUR);\n    response.setHeader(\"Access-Control-Allow-Headers\", \"X-Requested-With,Origin,Content-Type, Accept, x-device-user-agent, Content-Type\");\n\n    if (req instanceof HttpServletRequest) {\n       HttpServletRequest httpServletRequest = (HttpServletRequest) req;\n       if (httpServletRequest.getHeader(HttpHeaders.ORIGIN) != null\n          &amp;&amp; httpServletRequest.getMethod().equals(HttpMethod.OPTIONS.name())\n          &amp;&amp; httpServletRequest.getHeader(HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD) != null) {\n          log.debug(\"Received an OPTIONS pre-flight request.\");\n          return;\n       }\n    }\n    chain.doFilter(req, res);\n  }\n\n  @Override\n  public void destroy() {\n  }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@Configuration\npublic class MvcConfiguration {\n\n @Bean\n public FilterRegistrationBean corsFilter() {\n   FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean();\n   filterRegistrationBean.setFilter(new CORSFilter());\n   filterRegistrationBean.addUrlPatterns(\"/*\");\n   filterRegistrationBean.setOrder(0);\n   return filterRegistrationBean;\n }\n}\n</code></pre>\n\n<p>Here is an example of the endpoint:</p>\n\n<pre><code> @PostMapping(\"/createClient\")\n public ResponseEntity&lt;?&gt; createClient(@RequestBody CreateClientDto clientDto) {\n    try {\n     ...\n     return new ResponseEntity&lt;&gt;(responseBody, OK);\n    } catch (Exception e ...) {}\n  }\n</code></pre>\n\n<p>Any help would be greatly appreciated :)</p>\n\n<p><strong>Update:</strong> I had the url slightly wrong for the request (hence the 404). I have updated the error message. I still seem to be having CORS issues.</p>\n\n<p>These are the response headers that I can see in the dev tools:</p>\n\n<pre><code>Access-Control-Allow-Credentials:true\nAccess-Control-Allow-Headers:access-control-allow-credentials, access-control-allow-methods, access-control-allow-origin, allow, content-type\nAccess-Control-Allow-Methods:POST\nAccess-Control-Allow-Origin:http://localhost:3000\nAllow:GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\nCache-Control:no-cache, no-store, max-age=0, must-revalidate\nContent-Length:0\nDate:Thu, 01 Mar 2018 14:06:38 GMT\nExpires:0\nPragma:no-cache\nStrict-Transport-Security:max-age=31536000 ; includeSubDomains\nVary:Origin\nWWW-Authenticate:Basic realm=\"Spring\"\nX-Content-Type-Options:nosniff\nX-Frame-Options:DENY\nX-XSS-Protection:1; mode=block\n</code></pre>\n\n<p>And the request headers:</p>\n\n<pre><code>OPTIONS /workshop/client/createClient HTTP/1.1\nHost: localhost:8085\nConnection: keep-alive\nAccess-Control-Request-Method: POST\nOrigin: http://localhost:3000\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) \nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.186 Safari/537.36\nAccess-Control-Request-Headers: access-control-allow-credentials,access-control-allow-methods,access-control-allow-origin,allow,content-type\nAccept: */*\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-GB,en;q=0.9,en-US;q=0.8,da;q=0.7\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1677246732,"post_id":75557276,"comment_id":133305230,"body_markdown":"This link could help: https://stackoverflow.com/questions/3113885/difference-between-one-to-many-many-to-one-and-many-to-many","body":"This link could help: <a href=\"https://stackoverflow.com/questions/3113885/difference-between-one-to-many-many-to-one-and-many-to-many\" title=\"difference between one to many many to one and many to many\">stackoverflow.com/questions/3113885/&hellip;</a>"},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":1,"creation_date":1677248024,"post_id":75557276,"comment_id":133305675,"body_markdown":"https://stackoverflow.com/a/61837710/5640649","body":"<a href=\"https://stackoverflow.com/a/61837710/5640649\">stackoverflow.com/a/61837710/5640649</a>"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677859319,"post_id":75557276,"comment_id":133426258,"body_markdown":"@HarryCoder Thanks, but I already read that page before opening the question. I need more specific answer for the questions above?","body":"@HarryCoder Thanks, but I already read that page before opening the question. I need more specific answer for the questions above?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677859340,"post_id":75557276,"comment_id":133426263,"body_markdown":"@lealceldeiro Also that page chico.","body":"@lealceldeiro Also that page chico."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677659947,"creation_date":1677659947,"answer_id":75601283,"question_id":75557276,"body_markdown":"I would recommend you to always model this as two bidirectional one-to-many associations, because there is no real many-to-many association in my experience. At some point, someone will come and tell you that the association between your entities suddenly needs an additional attribute. If you modeled this as many-to-many association before, then you will have to potentially rewrite a bunch of code to now handle the new structure.","title":"Bidirectional @ManyToMany with a link entity in Hibernate?","body":"<p>I would recommend you to always model this as two bidirectional one-to-many associations, because there is no real many-to-many association in my experience. At some point, someone will come and tell you that the association between your entities suddenly needs an additional attribute. If you modeled this as many-to-many association before, then you will have to potentially rewrite a bunch of code to now handle the new structure.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75601283,"answer_count":1,"score":1,"last_activity_date":1677659947,"creation_date":1677246154,"question_id":75557276,"body_markdown":"I am new in Hibernate and after reading documentation, I get confused about the proper usage for @ManyToMany relationship. \r\n\r\nHere is the bi-directional example:\r\n\r\n```\r\n@ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n@JoinTable(name = &quot;person_address&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;person_id&quot;\r\n            /*referencedColumnName = &quot;id&quot;, nullable = false, updatable = false*/),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;address_id&quot;)\r\n)\r\nprivate List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\r\n\r\n// setAddress() and getAddress() methods\r\n```\r\n\r\nI discovered that it is also possible to split many-to-many relationship to one-to-many and many-to-one using a link entity in Hibernate. \r\n\r\nAt this point, I just would like to know that what is the most proper approach when building many-to-many relationship in Hibernate? Should I use link entity as mentioned above, or should I use uni or bi-directional relationship? I just would like to stick the most proper one who has more advantageous. \r\n\r\nAny help would be appreciated.  \r\n\r\n","title":"Bidirectional @ManyToMany with a link entity in Hibernate?","body":"<p>I am new in Hibernate and after reading documentation, I get confused about the proper usage for @ManyToMany relationship.</p>\n<p>Here is the bi-directional example:</p>\n<pre><code>@ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n@JoinTable(name = &quot;person_address&quot;,\n        joinColumns = @JoinColumn(name = &quot;person_id&quot;\n            /*referencedColumnName = &quot;id&quot;, nullable = false, updatable = false*/),\n        inverseJoinColumns = @JoinColumn(name = &quot;address_id&quot;)\n)\nprivate List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\n\n// setAddress() and getAddress() methods\n</code></pre>\n<p>I discovered that it is also possible to split many-to-many relationship to one-to-many and many-to-one using a link entity in Hibernate.</p>\n<p>At this point, I just would like to know that what is the most proper approach when building many-to-many relationship in Hibernate? Should I use link entity as mentioned above, or should I use uni or bi-directional relationship? I just would like to stick the most proper one who has more advantageous.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","android-studio","alarmmanager"],"comments":[{"owner":{"account_id":6127990,"reputation":21,"user_id":4779233,"display_name":"TheEagle"},"score":0,"creation_date":1677432007,"post_id":75486534,"comment_id":133332306,"body_markdown":"I found another friend who has a similar problem and still not solved:\nhttps://stackoverflow.com/questions/69807235/scheduling-alarm-not-working-on-android-12","body":"I found another friend who has a similar problem and still not solved: <a href=\"https://stackoverflow.com/questions/69807235/scheduling-alarm-not-working-on-android-12\" title=\"scheduling alarm not working on android 12\">stackoverflow.com/questions/69807235/&hellip;</a>"}],"owner":{"account_id":6127990,"reputation":21,"user_id":4779233,"display_name":"TheEagle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677659885,"creation_date":1676649344,"question_id":75486534,"body_markdown":"I&#39;m using a timer to check the time and set the alarm every 3 minutes so it contains the following line:\r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                            contentIntent = PendingIntent.getBroadcast(getActivity().getApplicationContext(), 12,\r\n                                    my_intent,PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\r\n }\r\n\r\nThen I set the alarm using the following code:\r\n\r\n            alarmMgr.setAlarmClock(new AlarmManager.AlarmClockInfo(calendar.getTimeInMillis(), contentIntent), contentIntent);\r\n                    \r\nThe alarm receiver is not called as expected.If I used that code and set the alarm only one time without a timer it works.I think FLAG_UPDATE_CURRENT is not working because it works for versions before Android 12 perfectly .If you tested that code using a timer and it works please reply to me...  \r\n","title":"Alarm Update Flag is it really working in Android 12","body":"<p>I'm using a timer to check the time and set the alarm every 3 minutes so it contains the following line:</p>\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n                        contentIntent = PendingIntent.getBroadcast(getActivity().getApplicationContext(), 12,\n                                my_intent,PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\n</code></pre>\n<p>}</p>\n<p>Then I set the alarm using the following code:</p>\n<pre><code>        alarmMgr.setAlarmClock(new AlarmManager.AlarmClockInfo(calendar.getTimeInMillis(), contentIntent), contentIntent);\n                \n</code></pre>\n<p>The alarm receiver is not called as expected.If I used that code and set the alarm only one time without a timer it works.I think FLAG_UPDATE_CURRENT is not working because it works for versions before Android 12 perfectly .If you tested that code using a timer and it works please reply to me...</p>\n"},{"tags":["java","wear-os","android-wear-complication","android-wear-3.0"],"comments":[{"owner":{"account_id":27906874,"reputation":21,"user_id":21309871,"display_name":"1Smart"},"score":0,"creation_date":1677931473,"post_id":75601228,"comment_id":133436955,"body_markdown":"Is it possible to do this without switching to a jetpack?","body":"Is it possible to do this without switching to a jetpack?"}],"owner":{"account_id":27906874,"reputation":21,"user_id":21309871,"display_name":"1Smart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677659574,"creation_date":1677659574,"question_id":75601228,"body_markdown":"On api less than 30 everything works, on Samsung (GW4) watches with api30 icons are also normally displayed and you can pull them out of ComplicationData. \r\n\r\n```\r\nif (complicationData.getIcon()!=null) {\r\n    icon[complicationId] = complicationData.getIcon();\r\n    drawable = icon[complicationId].loadDrawable(getApplicationContext());\r\n}\r\n```\r\n\r\nAnd in Pixel Watch and the emulator with api30 we have an error:\r\n\r\n`Unable to find pkg=com.google.android.wearable.sysui for icon Icon(typ=RESOURCE pkg=com.google.android.wearable.sysui id=0x7f08010a)`\r\n`android.content.pm.PackageManager$NameNotFoundException: com.google.android.wearable.sysui`\r\n\r\nThe same (nothing data received) with  \r\n\r\n```\r\n.getSmallImage() .getLargeImage() .getBurnInProtectionIcon()\r\n```\r\n\r\nMoreover, if you run the watchface from the Samsung Studio on the same emulator, there are icons.\r\n\r\n But the text from complications is displayed allways normally and is pulled out without problems.\r\n\r\nSomething new in api 30 that is not shown in the complications documentation.","title":"There are no icons in complications on Pixel Watch and in the api30 emulator","body":"<p>On api less than 30 everything works, on Samsung (GW4) watches with api30 icons are also normally displayed and you can pull them out of ComplicationData.</p>\n<pre><code>if (complicationData.getIcon()!=null) {\n    icon[complicationId] = complicationData.getIcon();\n    drawable = icon[complicationId].loadDrawable(getApplicationContext());\n}\n</code></pre>\n<p>And in Pixel Watch and the emulator with api30 we have an error:</p>\n<p><code>Unable to find pkg=com.google.android.wearable.sysui for icon Icon(typ=RESOURCE pkg=com.google.android.wearable.sysui id=0x7f08010a)</code>\n<code>android.content.pm.PackageManager$NameNotFoundException: com.google.android.wearable.sysui</code></p>\n<p>The same (nothing data received) with</p>\n<pre><code>.getSmallImage() .getLargeImage() .getBurnInProtectionIcon()\n</code></pre>\n<p>Moreover, if you run the watchface from the Samsung Studio on the same emulator, there are icons.</p>\n<p>But the text from complications is displayed allways normally and is pulled out without problems.</p>\n<p>Something new in api 30 that is not shown in the complications documentation.</p>\n"},{"tags":["java","eclipse","github","jar"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677660015,"post_id":75601216,"comment_id":133379641,"body_markdown":"This looks like macOS, is the Java you installed for Apple Silicon (M1 etc) or Intel x86? Your Eclipse is a rather out of date Intel x86 version so the Java must match.","body":"This looks like macOS, is the Java you installed for Apple Silicon (M1 etc) or Intel x86? Your Eclipse is a rather out of date Intel x86 version so the Java must match."}],"owner":{"account_id":26897481,"reputation":1,"user_id":20475167,"display_name":"Aleena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677659486,"creation_date":1677659486,"question_id":75601216,"body_markdown":"I reinstalled my Java version to 17 and after that when i am trying to open eclipse this error is shown\r\n\r\n\r\n&quot;The Eclipse executable launcher was unable to locate its \r\ncompanion launcher jar.&quot;\r\n\r\ncan someone help in simple words since i am a starter in software field\r\n\r\n\r\n\r\n\r\n\r\nMy eclipse .ini looks like this\r\n\r\n```\r\n -startup\r\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\r\n--launcher.library\r\n/Users/xyz/.p2/pool/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.2.100.v20210209-1541\r\n-product\r\norg.eclipse.epp.package.java.product\r\n-showsplash\r\n/Users/xyz/.p2/pool/plugins/org.eclipse.epp.package.common_4.19.0.20210311-1200\r\n--launcher.defaultAction\r\nopenFile\r\n--launcher.appendVmargs\r\n-vm\r\n/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n-Dsun.java.command=Eclipse\r\n-XX:+UseG1GC\r\n-XX:+UseStringDeduplication\r\n--add-modules=ALL-SYSTEM\r\n-XstartOnFirstThread\r\n-Dorg.eclipse.swt.internal.carbon.smallFonts\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\r\n-Xms256m\r\n-Xmx2048m\r\n--add-modules=ALL-SYSTEM\r\n-Xdock:icon=../Resources/Eclipse.icns\r\n-XstartOnFirstThread\r\n-Dorg.eclipse.swt.internal.carbon.smallFonts\r\n-Declipse.p2.max.threads=10\r\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\r\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\r\n```","title":"The Eclipse executable launcher was unable to locate its companion launcher jar","body":"<p>I reinstalled my Java version to 17 and after that when i am trying to open eclipse this error is shown</p>\n<p>&quot;The Eclipse executable launcher was unable to locate its\ncompanion launcher jar.&quot;</p>\n<p>can someone help in simple words since i am a starter in software field</p>\n<p>My eclipse .ini looks like this</p>\n<pre><code> -startup\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\n--launcher.library\n/Users/xyz/.p2/pool/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.2.100.v20210209-1541\n-product\norg.eclipse.epp.package.java.product\n-showsplash\n/Users/xyz/.p2/pool/plugins/org.eclipse.epp.package.common_4.19.0.20210311-1200\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\n/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin\n-vmargs\n-Dosgi.requiredJavaVersion=11\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-Dsun.java.command=Eclipse\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-XstartOnFirstThread\n-Dorg.eclipse.swt.internal.carbon.smallFonts\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\n-Xms256m\n-Xmx2048m\n--add-modules=ALL-SYSTEM\n-Xdock:icon=../Resources/Eclipse.icns\n-XstartOnFirstThread\n-Dorg.eclipse.swt.internal.carbon.smallFonts\n-Declipse.p2.max.threads=10\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\n</code></pre>\n"},{"tags":["java","object","concatenation","comparison","heap-memory"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1677659637,"post_id":75601214,"comment_id":133379558,"body_markdown":"This comes from an inappropriate way of comparing.","body":"This comes from an inappropriate way of comparing."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1677659731,"post_id":75601214,"comment_id":133379582,"body_markdown":"`&quot;abc&quot; + &quot;def&quot;` is semantically identical to `&quot;abcdef&quot;` at compile time; `s1 + s2` is calculated at runtime, because at least one of `s1` and `s2` isn&#39;t a compile-time constant expression. Try making both `s1` and `s2` `final`.","body":"<code>&quot;abc&quot; + &quot;def&quot;</code> is semantically identical to <code>&quot;abcdef&quot;</code> at compile time; <code>s1 + s2</code> is calculated at runtime, because at least one of <code>s1</code> and <code>s2</code> isn&#39;t a compile-time constant expression. Try making both <code>s1</code> and <code>s2</code> <code>final</code>."},{"owner":{"account_id":19187137,"reputation":1,"user_id":14017691,"display_name":"Vishal Singh"},"score":0,"creation_date":1677660015,"post_id":75601214,"comment_id":133379642,"body_markdown":"@AndyTurner........yes when I make both s1 and s2 as final I get true.....can you explain more what this final is actually doing?","body":"@AndyTurner........yes when I make both s1 and s2 as final I get true.....can you explain more what this final is actually doing?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677660238,"post_id":75601214,"comment_id":133379699,"body_markdown":"`final` makes `s1` and `s2` compile-time constant expressions (because they are final *and* initialized with compile-time constant values). Therefore `s1 + s2` is also a compile-time constant expression.","body":"<code>final</code> makes <code>s1</code> and <code>s2</code> compile-time constant expressions (because they are final <i>and</i> initialized with compile-time constant values). Therefore <code>s1 + s2</code> is also a compile-time constant expression."}],"owner":{"account_id":19187137,"reputation":1,"user_id":14017691,"display_name":"Vishal Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677659634,"answer_count":0,"score":0,"last_activity_date":1677659478,"creation_date":1677659478,"question_id":75601214,"body_markdown":"        String s1 = &quot;abc&quot;;\r\n        String s2 = &quot;def&quot;;\r\n        String s3 = &quot;abcdef&quot;;\r\n\r\n        String s4 = s1 + s2;\r\n\r\n        String s5 = &quot;abc&quot; + &quot;def&quot;;\r\n\r\n        System.out.println(s3==s4); //gives false\r\n        System.out.println(s3==s5); //gives true\r\n\r\n\r\nCan anyone explain why s3==s4 is giving false and s3==s is giving true?\r\nunable to understand the reason and internal working of what is actually happening here?\r\n\r\nWhen I do concatenation of string like in s5, the logic that &quot;abcdef&quot; value is already there in string pool because of s3, for s5==s3 we will get true as s5 will also be pointed to the same s3 object present in stringpool in the heap.\r\n\r\nGoing the same logic, i.e. value already there is stringpool so new ref. variable will also point to same object, I thought s3==s4 would give true as s3 is already there is string pool, so when s4 is created it will point to same &quot;abcdef&quot; i.e. the s3 value in string pool.....but s3==s4 is giving false.....can someone please explain what am I missing here if s3==s5 is working and giving true...why isn&#39;t s3==s4 working and giving true as well?","title":"Why is String concatenation giving true for one case and false for another?","body":"<pre><code>    String s1 = &quot;abc&quot;;\n    String s2 = &quot;def&quot;;\n    String s3 = &quot;abcdef&quot;;\n\n    String s4 = s1 + s2;\n\n    String s5 = &quot;abc&quot; + &quot;def&quot;;\n\n    System.out.println(s3==s4); //gives false\n    System.out.println(s3==s5); //gives true\n</code></pre>\n<p>Can anyone explain why s3==s4 is giving false and s3==s is giving true?\nunable to understand the reason and internal working of what is actually happening here?</p>\n<p>When I do concatenation of string like in s5, the logic that &quot;abcdef&quot; value is already there in string pool because of s3, for s5==s3 we will get true as s5 will also be pointed to the same s3 object present in stringpool in the heap.</p>\n<p>Going the same logic, i.e. value already there is stringpool so new ref. variable will also point to same object, I thought s3==s4 would give true as s3 is already there is string pool, so when s4 is created it will point to same &quot;abcdef&quot; i.e. the s3 value in string pool.....but s3==s4 is giving false.....can someone please explain what am I missing here if s3==s5 is working and giving true...why isn't s3==s4 working and giving true as well?</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":27871848,"reputation":3,"user_id":21282195,"display_name":"Mira"},"score":0,"creation_date":1677690881,"post_id":75562786,"comment_id":133389236,"body_markdown":"Hi, I read content from page you shared, played with Lazy and join fetch, but exception still occurs :c","body":"Hi, I read content from page you shared, played with Lazy and join fetch, but exception still occurs :c"}],"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677288964,"creation_date":1677288964,"answer_id":75562786,"question_id":75560267,"body_markdown":"https://vladmihalcea.com/n-plus-1-query-problem/\r\n\r\nThe *infamous* N+1 problem\r\n\r\nMany ways to deal with it, usually go with the simplest one.","title":"Delete entities of first table before deletion entities of second table error. Spring JPA","body":"<p><a href=\"https://vladmihalcea.com/n-plus-1-query-problem/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/n-plus-1-query-problem/</a></p>\n<p>The <em>infamous</em> N+1 problem</p>\n<p>Many ways to deal with it, usually go with the simplest one.</p>\n"},{"comments":[{"owner":{"account_id":27871848,"reputation":3,"user_id":21282195,"display_name":"Mira"},"score":0,"creation_date":1677690750,"post_id":75601201,"comment_id":133389201,"body_markdown":"Hi, thank you for replying, that helped me. No more exceptions. I created deleteAllBySiteId method and added @Transactional annotation. Additionally, I do one request instead of two. FindAllBySiteId not needed anymore.","body":"Hi, thank you for replying, that helped me. No more exceptions. I created deleteAllBySiteId method and added @Transactional annotation. Additionally, I do one request instead of two. FindAllBySiteId not needed anymore."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677659399,"creation_date":1677659399,"answer_id":75601201,"question_id":75560267,"body_markdown":"Maybe the loading takes so long that a new page was inserted between the first loading and committing of the transaction.\r\nTry using a query like `delete from Page p where p.site.id = :siteId` instead which doesn&#39;t require loading. There is still a slight chance that a different transaction commits a new page, but then you can only retry the operation.","title":"Delete entities of first table before deletion entities of second table error. Spring JPA","body":"<p>Maybe the loading takes so long that a new page was inserted between the first loading and committing of the transaction.\nTry using a query like <code>delete from Page p where p.site.id = :siteId</code> instead which doesn't require loading. There is still a slight chance that a different transaction commits a new page, but then you can only retry the operation.</p>\n"}],"owner":{"account_id":27871848,"reputation":3,"user_id":21282195,"display_name":"Mira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75601201,"answer_count":2,"score":0,"last_activity_date":1677659399,"creation_date":1677264255,"question_id":75560267,"body_markdown":"Can you please help me? I have two entities:\r\n\r\n```\r\n@Entity\r\npublic class Site {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    // getters, setters, etc..\r\n}\r\n\r\n@Entity\r\n@Table(indexes = @Index(name = &quot;path_index&quot;, columnList = &quot;path&quot;))\r\npublic class Page {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;site_id&quot;, nullable = false)\r\n    private Site site;\r\n\r\n    @Column(nullable = false, unique = true, length = 500)\r\n\r\n    // getters, setters, etc..\r\n}\r\n```\r\n\r\nAnd then I try delete list of pages, but getting ERROR: update or delete on table &quot;site&quot; violates foreign key constraint...:\r\n\r\n```\r\npublic void deleteIndexes(ConfigSite configSite) {\r\n        Optional&lt;Site&gt; site = siteRepository.findByUrl(configSite.getUrl());\r\n        if (site.isEmpty()) {\r\n            return;\r\n        }\r\n        Optional&lt;List&lt;Page&gt;&gt; pages = pageRepository.findAllBySiteId(site.get().getId());\r\n        pages.ifPresent(pageList -&gt; pageRepository.deleteAll(pageList));\r\n        siteRepository.delete(site.get());\r\n    }\r\n```\r\n\r\nWhy am I getting error if I follow order?\r\n\r\nI know that I can create list of pages in Site-table and set cascade, but I do not want to contain list of pages in site-table","title":"Delete entities of first table before deletion entities of second table error. Spring JPA","body":"<p>Can you please help me? I have two entities:</p>\n<pre><code>@Entity\npublic class Site {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    // getters, setters, etc..\n}\n\n@Entity\n@Table(indexes = @Index(name = &quot;path_index&quot;, columnList = &quot;path&quot;))\npublic class Page {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;site_id&quot;, nullable = false)\n    private Site site;\n\n    @Column(nullable = false, unique = true, length = 500)\n\n    // getters, setters, etc..\n}\n</code></pre>\n<p>And then I try delete list of pages, but getting ERROR: update or delete on table &quot;site&quot; violates foreign key constraint...:</p>\n<pre><code>public void deleteIndexes(ConfigSite configSite) {\n        Optional&lt;Site&gt; site = siteRepository.findByUrl(configSite.getUrl());\n        if (site.isEmpty()) {\n            return;\n        }\n        Optional&lt;List&lt;Page&gt;&gt; pages = pageRepository.findAllBySiteId(site.get().getId());\n        pages.ifPresent(pageList -&gt; pageRepository.deleteAll(pageList));\n        siteRepository.delete(site.get());\n    }\n</code></pre>\n<p>Why am I getting error if I follow order?</p>\n<p>I know that I can create list of pages in Site-table and set cascade, but I do not want to contain list of pages in site-table</p>\n"},{"tags":["java","oracle","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677612337,"post_id":75594362,"comment_id":133371514,"body_markdown":"You cannot write a JPA query to return a map of lists of entities unless you want to map your TaxNumberBookingAggregate as an entity. Simplest solution is to return entities and group the query results to a map using  something like the answer here: https://stackoverflow.com/a/28064337/496099 . You can use a map or make a list of SteuerkontoBuchung instances.","body":"You cannot write a JPA query to return a map of lists of entities unless you want to map your TaxNumberBookingAggregate as an entity. Simplest solution is to return entities and group the query results to a map using  something like the answer here: <a href=\"https://stackoverflow.com/a/28064337/496099\">stackoverflow.com/a/28064337/496099</a> . You can use a map or make a list of SteuerkontoBuchung instances."}],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677659174,"creation_date":1677599543,"question_id":75594362,"body_markdown":"I have following entity (and corresponding table):\r\n\r\n    @Setter\r\n    @Getter\r\n    @Table(name = &quot;BOOKING&quot;)\r\n    public class Booking\r\n    {\r\n    \r\n        private UUID   uuid;\r\n        private String taxNumber;\r\n        private String amount;\r\n        \r\n        /* Some other fields we ignore for this question */\r\n    }\r\n\r\nI want to group these entities by `taxNumber`, having some kind of map with `taxNumber` as a key and the list of all belonging entities as a value:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TaxNumberBookingAggregate\r\n    {\r\n        private String        taxNumber;\r\n        private List&lt;Booking&gt; bookings;\r\n    \r\n        public TaxNumberBookingAggregate(String taxNumber, List&lt;Booking&gt; bookings)\r\n        {\r\n            this.bookings  = bookings;\r\n            this.taxNumber = taxNumber;\r\n        }\r\n    }\r\n\r\nOnly idea I have, is to write a query, that would self-join this table. Though, I have a feeling it&#39;s not the best way to achieve it.\r\n\r\nHow one can group DB entities to a list and extract the grouping attribute to another variable? The database behind is Oracle.\r\n\r\nSorry for this C# style, it&#39;s enforced by the project.","title":"JPA Grouping to a list","body":"<p>I have following entity (and corresponding table):</p>\n<pre><code>@Setter\n@Getter\n@Table(name = &quot;BOOKING&quot;)\npublic class Booking\n{\n\n    private UUID   uuid;\n    private String taxNumber;\n    private String amount;\n    \n    /* Some other fields we ignore for this question */\n}\n</code></pre>\n<p>I want to group these entities by <code>taxNumber</code>, having some kind of map with <code>taxNumber</code> as a key and the list of all belonging entities as a value:</p>\n<pre><code>@Getter\n@Setter\npublic class TaxNumberBookingAggregate\n{\n    private String        taxNumber;\n    private List&lt;Booking&gt; bookings;\n\n    public TaxNumberBookingAggregate(String taxNumber, List&lt;Booking&gt; bookings)\n    {\n        this.bookings  = bookings;\n        this.taxNumber = taxNumber;\n    }\n}\n</code></pre>\n<p>Only idea I have, is to write a query, that would self-join this table. Though, I have a feeling it's not the best way to achieve it.</p>\n<p>How one can group DB entities to a list and extract the grouping attribute to another variable? The database behind is Oracle.</p>\n<p>Sorry for this C# style, it's enforced by the project.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","yaml"],"comments":[{"owner":{"account_id":2849749,"reputation":2135,"user_id":2447211,"display_name":"Michael Desigaud"},"score":0,"creation_date":1616680975,"post_id":66799067,"comment_id":118083379,"body_markdown":"Maybe you can use `spring.profiles.include` ? : https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html#boot-features-adding-active-profiles","body":"Maybe you can use <code>spring.profiles.include</code> ? : <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html#boot-features-adding-active-profiles\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/&hellip;</a>"},{"owner":{"account_id":1373414,"reputation":71479,"user_id":1307905,"accept_rate":75,"display_name":"Anthon"},"score":0,"creation_date":1616692627,"post_id":66799067,"comment_id":118089589,"body_markdown":"It is unclear to me if you want to know how to split up a YAML file containing one document into multiple files, each containing a document, or if you want to know how spring can read multiple files (in which case the tag [tag:yaml] would be inappropriate for this question).","body":"It is unclear to me if you want to know how to split up a YAML file containing one document into multiple files, each containing a document, or if you want to know how spring can read multiple files (in which case the tag <a href=\"https://stackoverflow.com/questions/tagged/yaml\">yaml</a> would be inappropriate for this question)."},{"owner":{"account_id":10980555,"reputation":125,"user_id":10852616,"display_name":"shubham sachan"},"score":0,"creation_date":1616733921,"post_id":66799067,"comment_id":118100975,"body_markdown":"@Anthon I have this requirement to split up a YAML file containing one document into multiple files. Also as i&#39;m using spring boot so wanted to understand how we could map that to a java object","body":"@Anthon I have this requirement to split up a YAML file containing one document into multiple files. Also as i&#39;m using spring boot so wanted to understand how we could map that to a java object"},{"owner":{"account_id":1373414,"reputation":71479,"user_id":1307905,"accept_rate":75,"display_name":"Anthon"},"score":0,"creation_date":1616742644,"post_id":66799067,"comment_id":118103005,"body_markdown":"@shubhamsachan I don&#39;t know about spring boot, but splitting the YAML file is IMHO best done using a scripting language. I can provide an answer in Python if that is acceptable.","body":"@shubhamsachan I don&#39;t know about spring boot, but splitting the YAML file is IMHO best done using a scripting language. I can provide an answer in Python if that is acceptable."}],"answers":[{"tags":[],"owner":{"account_id":5600723,"reputation":649,"user_id":4437074,"display_name":"Ashutosh Srivastav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677658838,"creation_date":1677658838,"answer_id":75601108,"question_id":66799067,"body_markdown":"It&#39;s 2 year old problem which I encountered while looking for a similar use case. Hope this helps others. &lt;br/&gt;&lt;br/&gt;\r\nUnfortunately Spring doesn&#39;t support binding multiple prefixes with one Pojo. So our objective should be to generate one common Yaml at build time while we can maintain multiple fragments for maintainability and readability.\r\nWhat you can do is to utilize [*maven-antrun-plugin*][1] to merge all your yaml files under a given resource directory into one, say \r\n\r\n&gt; application-states-all.yaml\r\n\r\n and this should be the single *custom profile* to be included in your application.properties, like below.\r\n\r\n    spring.profiles.group.dev = states-all\r\n\r\nMake sure, you maintain the order. for example, the top elements should be in the file which appears at top, alphabetically and the rest of the fragment should just have the child elements. \r\n&lt;br/&gt;&lt;br/&gt;\r\n*application-states-mh.yaml*\r\n\r\n    app:\r\n     mappings:\r\n      - name: &quot;abc&quot;\r\n        state: &quot;MH&quot;\r\n        age: &quot;18&quot;\r\n      - name: &quot;bcd&quot;\r\n        state: &quot;MH&quot;\r\n\r\n*application-states-mp.yaml* &lt;br/&gt;\r\n\r\n      - name: &quot;xyz&quot;\r\n        state: &quot;MP&quot;\r\n\r\nThe part yaml files should maintain the Tab spacing, assuming they have nth order elements in a hierarchy. See *application-states-mp.yaml* above for reference. &lt;br/&gt;\r\n\r\nAdd a plugin in your POM file, if you&#39;re working with maven. The execution should happen at *prepare-resources* stage. The other fragment yamls too will be copied along with the common one but there is no harm as we&#39;re only activating *states-all* profile. But if you&#39;re concerned about final build size, you can define *[filter][2]* to exclude the fragment files.\r\n\r\n    &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;target&gt;\r\n                    &lt;concat destfile=&quot;${project.build.directory}/classes/config/application-states-all.yaml&quot;&gt;\r\n                            &lt;fileset file=&quot;${project.basedir}/src/main/resources/config/application-states-*.yaml&quot; /&gt;\r\n                    &lt;/concat&gt;\r\n                  &lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;run&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-antrun-plugin/usage.html\r\n  [2]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","title":"spring boot: Split application.yml file into multiple files","body":"<p>It's 2 year old problem which I encountered while looking for a similar use case. Hope this helps others. <br/><br/>\nUnfortunately Spring doesn't support binding multiple prefixes with one Pojo. So our objective should be to generate one common Yaml at build time while we can maintain multiple fragments for maintainability and readability.\nWhat you can do is to utilize <a href=\"https://maven.apache.org/plugins/maven-antrun-plugin/usage.html\" rel=\"nofollow noreferrer\"><em>maven-antrun-plugin</em></a> to merge all your yaml files under a given resource directory into one, say</p>\n<blockquote>\n<p>application-states-all.yaml</p>\n</blockquote>\n<p>and this should be the single <em>custom profile</em> to be included in your application.properties, like below.</p>\n<pre><code>spring.profiles.group.dev = states-all\n</code></pre>\n<p>Make sure, you maintain the order. for example, the top elements should be in the file which appears at top, alphabetically and the rest of the fragment should just have the child elements.\n<br/><br/>\n<em>application-states-mh.yaml</em></p>\n<pre><code>app:\n mappings:\n  - name: &quot;abc&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n  - name: &quot;bcd&quot;\n    state: &quot;MH&quot;\n</code></pre>\n<p><em>application-states-mp.yaml</em> <br/></p>\n<pre><code>  - name: &quot;xyz&quot;\n    state: &quot;MP&quot;\n</code></pre>\n<p>The part yaml files should maintain the Tab spacing, assuming they have nth order elements in a hierarchy. See <em>application-states-mp.yaml</em> above for reference. <br/></p>\n<p>Add a plugin in your POM file, if you're working with maven. The execution should happen at <em>prepare-resources</em> stage. The other fragment yamls too will be copied along with the common one but there is no harm as we're only activating <em>states-all</em> profile. But if you're concerned about final build size, you can define <em><a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">filter</a></em> to exclude the fragment files.</p>\n<pre><code>&lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;configuration&gt;\n              &lt;target&gt;\n                &lt;concat destfile=&quot;${project.build.directory}/classes/config/application-states-all.yaml&quot;&gt;\n                        &lt;fileset file=&quot;${project.basedir}/src/main/resources/config/application-states-*.yaml&quot; /&gt;\n                &lt;/concat&gt;\n              &lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":10980555,"reputation":125,"user_id":10852616,"display_name":"shubham sachan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677658838,"creation_date":1616673701,"question_id":66799067,"body_markdown":"I have an `application.yml` something like this\r\n```\r\napp:\r\n mappings:\r\n  - name: &quot;abc&quot;\r\n    state: &quot;MH&quot;\r\n    age: &quot;18&quot;\r\n  - name: &quot;bcd&quot;\r\n    state: &quot;MH&quot;\r\n    age: &quot;18&quot;\r\n  - name: &quot;xyz&quot;\r\n    state: &quot;MP&quot;\r\n    age: &quot;20&quot;\r\n\r\n```\r\n\r\nI&#39;m reading the property using `@ConfigurationProperties` to a dto. \r\n\r\nWhat we want is to split this `application.yml` into multiple files to make it more readable and manageable as this list could be very long.\r\n\r\nsomething like this\r\n```\r\napp:\r\n mappings:\r\n  - application-state-mh.yml\r\n  - application-state-mp.yml\r\n```\r\n\r\napplication-state-mh.yml\r\n```\r\nkey:\r\n  - name: &quot;abc&quot;\r\n    state: &quot;MH&quot;\r\n    age: &quot;18&quot;\r\n  - name: &quot;bcd&quot;\r\n    state: &quot;MH&quot;\r\n    age: &quot;18&quot;\r\n``` \r\napplication-state-mp.yml\r\n```\r\nkey:\r\n  - name: &quot;xyz&quot;\r\n    state: &quot;MP&quot;\r\n    age: &quot;20&quot;\r\n``` \r\n\r\nHow can I achieve this?","title":"spring boot: Split application.yml file into multiple files","body":"<p>I have an <code>application.yml</code> something like this</p>\n<pre><code>app:\n mappings:\n  - name: &quot;abc&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n  - name: &quot;bcd&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n  - name: &quot;xyz&quot;\n    state: &quot;MP&quot;\n    age: &quot;20&quot;\n\n</code></pre>\n<p>I'm reading the property using <code>@ConfigurationProperties</code> to a dto.</p>\n<p>What we want is to split this <code>application.yml</code> into multiple files to make it more readable and manageable as this list could be very long.</p>\n<p>something like this</p>\n<pre><code>app:\n mappings:\n  - application-state-mh.yml\n  - application-state-mp.yml\n</code></pre>\n<p>application-state-mh.yml</p>\n<pre><code>key:\n  - name: &quot;abc&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n  - name: &quot;bcd&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n</code></pre>\n<p>application-state-mp.yml</p>\n<pre><code>key:\n  - name: &quot;xyz&quot;\n    state: &quot;MP&quot;\n    age: &quot;20&quot;\n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1677669010,"post_id":75601080,"comment_id":133382052,"body_markdown":"See this [answer](https://stackoverflow.com/a/1882804/1261766). If the order matters, you must use `LinkedHashMap` or `TreeMap` depending on your requirement (or some 3rd party implementation). I mentioned it in this [answer](https://stackoverflow.com/a/68216214/1261766).","body":"See this <a href=\"https://stackoverflow.com/a/1882804/1261766\">answer</a>. If the order matters, you must use <code>LinkedHashMap</code> or <code>TreeMap</code> depending on your requirement (or some 3rd party implementation). I mentioned it in this <a href=\"https://stackoverflow.com/a/68216214/1261766\">answer</a>."},{"owner":{"account_id":27906771,"reputation":1,"user_id":21309793,"display_name":"kert"},"score":0,"creation_date":1677688894,"post_id":75601080,"comment_id":133388601,"body_markdown":"That&#39;s great I&#39;ll do it","body":"That&#39;s great I&#39;ll do it"}],"owner":{"account_id":27906771,"reputation":1,"user_id":21309793,"display_name":"kert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677658771,"creation_date":1677658673,"question_id":75601080,"body_markdown":"The map type is unordered, but I tested hundreds of data without any confusion\r\n\r\nxml like this:\r\n\r\n```\r\n        insert into AA\r\n        &lt;foreach collection=&quot;map.keySet()&quot; item=&quot;key&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n            ${key}\r\n        &lt;/foreach&gt;\r\n        values\r\n        &lt;foreach collection=&quot;map.values()&quot; item=&quot;val&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n            #{val}\r\n        &lt;/foreach&gt;\r\n```\r\ninterface code like this:\r\n\r\n```\r\n       int insertHT(@Param(&quot;map&quot;) Map&lt;String, Object&gt; map);\r\n\r\n```\r\nmap is {&quot;aa&quot;:&quot;11&quot;,&quot;bb&quot;:&quot;22&quot;}\r\n\r\ninsertHT,I have performed this 100 times\r\n\r\nI don&#39;t know whether this is correct or whether the data will always be inserted correctly","title":"Why does the mybatis map type not cause key-value pair confusion in the foreach loop","body":"<p>The map type is unordered, but I tested hundreds of data without any confusion</p>\n<p>xml like this:</p>\n<pre><code>        insert into AA\n        &lt;foreach collection=&quot;map.keySet()&quot; item=&quot;key&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\n            ${key}\n        &lt;/foreach&gt;\n        values\n        &lt;foreach collection=&quot;map.values()&quot; item=&quot;val&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\n            #{val}\n        &lt;/foreach&gt;\n</code></pre>\n<p>interface code like this:</p>\n<pre><code>       int insertHT(@Param(&quot;map&quot;) Map&lt;String, Object&gt; map);\n\n</code></pre>\n<p>map is {&quot;aa&quot;:&quot;11&quot;,&quot;bb&quot;:&quot;22&quot;}</p>\n<p>insertHT,I have performed this 100 times</p>\n<p>I don't know whether this is correct or whether the data will always be inserted correctly</p>\n"},{"tags":["java","string","string-comparison","object-reference","string-pool"],"comments":[{"owner":{"account_id":7381217,"reputation":612,"user_id":5617860,"accept_rate":100,"display_name":"Omore"},"score":0,"creation_date":1495074104,"post_id":44037516,"comment_id":75101618,"body_markdown":"String can&#39;t compare with &quot;==&quot;, how condition is true?","body":"String can&#39;t compare with &quot;==&quot;, how condition is true?"},{"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"score":0,"creation_date":1495074282,"post_id":44037516,"comment_id":75101653,"body_markdown":"@NathanHughes it&#39;s more for personal knowledge. But you got a good point","body":"@NathanHughes it&#39;s more for personal knowledge. But you got a good point"},{"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"score":0,"creation_date":1495074441,"post_id":44037516,"comment_id":75101700,"body_markdown":"@John3136. Thank you for the comment. I fixed that error","body":"@John3136. Thank you for the comment. I fixed that error"},{"owner":{"account_id":9950285,"reputation":1410,"user_id":7363235,"display_name":"D M"},"score":4,"creation_date":1495074504,"post_id":44037516,"comment_id":75101712,"body_markdown":"The string pool doesn&#39;t get added to for every little concatenation - imagine a loop where someone prints `&quot;Some Text&quot; + i + &quot;.&quot;` a thousand times.  Do you think that deserves thousands of entries in the string pool?","body":"The string pool doesn&#39;t get added to for every little concatenation - imagine a loop where someone prints <code>&quot;Some Text&quot; + i + &quot;.&quot;</code> a thousand times.  Do you think that deserves thousands of entries in the string pool?"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1495074996,"post_id":44037516,"comment_id":75101796,"body_markdown":"&quot;on the first line of code it will create the `String a = &quot;foo&quot;`&quot; is not correct. That line only creates the _reference_ (variable pointing) to the string, which string itself was already in the string pool, whither it was placed upon class initialization.","body":"&quot;on the first line of code it will create the <code>String a = &quot;foo&quot;</code>&quot; is not correct. That line only creates the <i>reference</i> (variable pointing) to the string, which string itself was already in the string pool, whither it was placed upon class initialization."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":1,"creation_date":1495075237,"post_id":44037516,"comment_id":75101841,"body_markdown":"Any epxression that creates a new `String` instance, such as an invocation of `new String(...)` or a concatenation, creates a fresh, non-interned instance of `String`. &quot;string literals - or, more generally, strings that are the values of constant expressions (&#167;15.28) - are &quot;interned&quot; so as to share unique instances, using the method `String.intern`.&quot; http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5 Otherwise one must call `intern` explicitly. Read the Fine Manual.","body":"Any epxression that creates a new <code>String</code> instance, such as an invocation of <code>new String(...)</code> or a concatenation, creates a fresh, non-interned instance of <code>String</code>. &quot;string literals - or, more generally, strings that are the values of constant expressions (&#167;15.28) - are &quot;interned&quot; so as to share unique instances, using the method <code>String.intern</code>.&quot; <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.1&zwnj;&#8203;0.5</a> Otherwise one must call <code>intern</code> explicitly. Read the Fine Manual."},{"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"score":0,"creation_date":1495075294,"post_id":44037516,"comment_id":75101856,"body_markdown":"Thanks @LewBloch I will fix this","body":"Thanks @LewBloch I will fix this"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1495076120,"post_id":44037516,"comment_id":75102064,"body_markdown":"I think you want to learn about the term *compile-time constant*.","body":"I think you want to learn about the term <i>compile-time constant</i>."}],"answers":[{"comments":[{"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"score":0,"creation_date":1495121614,"post_id":44050772,"comment_id":75129457,"body_markdown":"Additional to your code: `final String l = &quot;Hello&quot;; final String d = &quot; Motto&quot;; System.out.println((l+d) == &quot;Hello Motto&quot;);` this prints `true` but if we take the keyword `final` to one of the Strings it will print `false`. Thank you for the answer.","body":"Additional to your code: <code>final String l = &quot;Hello&quot;; final String d = &quot; Motto&quot;; System.out.println((l+d) == &quot;Hello Motto&quot;);</code> this prints <code>true</code> but if we take the keyword <code>final</code> to one of the Strings it will print <code>false</code>. Thank you for the answer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1511510575,"post_id":44050772,"comment_id":81891826,"body_markdown":"Since both `ldc #2` instructions are in the *compiled* code, its the *compiler* that did the string concatenation and constant folding. The JVM sees two `ldc` instructions pointing to the same pool entry (`#2`). It doesnt have to realize that these constants are identical, thats obvious. At runtime, no string concatenation is happening. The JVM doesnt even know that the second use of that constant has been a string concatenation at compile time.","body":"Since both <code>ldc #2</code> instructions are in the <i>compiled</i> code, its the <i>compiler</i> that did the string concatenation and constant folding. The JVM sees two <code>ldc</code> instructions pointing to the same pool entry (<code>#2</code>). It doesnt have to realize that these constants are identical, thats obvious. At runtime, no string concatenation is happening. The JVM doesnt even know that the second use of that constant has been a string concatenation at compile time."},{"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"score":1,"creation_date":1543298061,"post_id":44050772,"comment_id":93856645,"body_markdown":"Interesting read on the same topic - https://www.quora.com/Java-When-we-concatenate-two-strings-using-the-+-operator-will-the-resulting-string-be-stored-in-the-string-literal-pool-or-not?share=1","body":"Interesting read on the same topic - <a href=\"https://www.quora.com/Java-When-we-concatenate-two-strings-using-the-+-operator-will-the-resulting-string-be-stored-in-the-string-literal-pool-or-not?share=1\" rel=\"nofollow noreferrer\">quora.com/&hellip;</a>"},{"owner":{"account_id":1738350,"reputation":135,"user_id":1590407,"display_name":"Miko"},"score":2,"creation_date":1615211428,"post_id":44050772,"comment_id":117613499,"body_markdown":"The answer concerning &quot;Example C&quot; is incorrect. First: += operator when compiled to bytecode does not use StringBuilder to concatenate strings. It uses  StringConcatFactory.makeConcatWithConstants.\nSecond: it returns false because when using += operator, the newly created string is not added to the String Pool. Strings which are created with literal string notation (your double-quoted texts) and strings marked as final variables - get added to String Pool. Concatenated string is created as a new object on the heap. When compared to strings in string pool then they hold different references.","body":"The answer concerning &quot;Example C&quot; is incorrect. First: += operator when compiled to bytecode does not use StringBuilder to concatenate strings. It uses  StringConcatFactory.makeConcatWithConstants. Second: it returns false because when using += operator, the newly created string is not added to the String Pool. Strings which are created with literal string notation (your double-quoted texts) and strings marked as final variables - get added to String Pool. Concatenated string is created as a new object on the heap. When compared to strings in string pool then they hold different references."},{"owner":{"account_id":10666146,"reputation":910,"user_id":7852676,"accept_rate":39,"display_name":"J. Abel"},"score":0,"creation_date":1615436841,"post_id":44050772,"comment_id":117692020,"body_markdown":"Ok thanks for the comment, then I understood that, when the concatenatio is in the same line of declaration, the compiler translates the code to only one literal, to simplify. maybe for us, we have severals variables in the same line, but for the compiles it is only one (remplacing any variable, it is a literal finally), and for this reason, the comparation is true; on the other hand it is not happening when we have the concatenation in differents lines, because it is not a literal, so, this variables will not  be located in the pool String.","body":"Ok thanks for the comment, then I understood that, when the concatenatio is in the same line of declaration, the compiler translates the code to only one literal, to simplify. maybe for us, we have severals variables in the same line, but for the compiles it is only one (remplacing any variable, it is a literal finally), and for this reason, the comparation is true; on the other hand it is not happening when we have the concatenation in differents lines, because it is not a literal, so, this variables will not  be located in the pool String."}],"tags":[],"owner":{"account_id":3325714,"reputation":741,"user_id":2795845,"accept_rate":60,"display_name":"Ivan Alburquerque"},"comment_count":5,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1495118175,"creation_date":1495118175,"answer_id":44050772,"question_id":44037516,"body_markdown":"&gt; &quot;When the string is created by concatenation does java make something\r\n&gt; different or simple == comparator have another behaviour?&quot;\r\n\r\nNo it does not change its behavior, what happens is that:\r\n\r\nWhen concatenating two string literals `&quot;a&quot; + &quot;b&quot;` the jvm joins the two values and then check the string pool, then it realizes the value already exists in the pool so it just simply assign this reference to the String. now in more details:\r\n\r\n\r\nLook at the compiled bytecode below of this simple program:\r\n\r\n    public class Test  {    \r\n    \tpublic static void main(String... args) {\r\n    \t\tString a = &quot;hello world!&quot;;\r\n    \t\tString b = &quot;hello&quot; + &quot; world!&quot;;\r\n    \t\tboolean compare = (a == b);\r\n    \t}\r\n    }\r\n\r\n\r\n[![Simple program][1]][1]\r\n\r\nFirst the JVM loads the string &quot;hello world! and then push it to string pool (in this case) and then loads it to the stack (ldc = Load constant) **[see point 1 in Image]**\r\n\r\nThen it assign the reference created in the pool to the local variable (astore_1) **[see point 2 in Image]**\r\n\r\nNotice that the reference created in the string pool for this literal is #2 **[See point 3 in Image]**\r\n\r\nThe next operation is about the same: in concatenates the string, push it to the runtime constant pool (string pool in this case), but then it realizes a literal with the same content already exists so it uses this reference (#2) and assign in to a local variable (astore_2).\r\n\r\nThus when you do (a == b) is *true* because both of them are referencing to the string pool #2 which is &quot;hello world!&quot;.\r\n\r\nYour example C is kind of different tho, because you&#39;re using the += operator which when compiled to bytecode it uses StringBuilder to concatenate the strings, so this creates a new instance of StringBuilder Object thus pointing to a different reference.  (string pool vs Object)\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BF0py.png","title":"How Java String pool works when String concatenation?","body":"<blockquote>\n  <p>\"When the string is created by concatenation does java make something\n  different or simple == comparator have another behaviour?\"</p>\n</blockquote>\n\n<p>No it does not change its behavior, what happens is that:</p>\n\n<p>When concatenating two string literals <code>\"a\" + \"b\"</code> the jvm joins the two values and then check the string pool, then it realizes the value already exists in the pool so it just simply assign this reference to the String. now in more details:</p>\n\n<p>Look at the compiled bytecode below of this simple program:</p>\n\n<pre><code>public class Test  {    \n    public static void main(String... args) {\n        String a = \"hello world!\";\n        String b = \"hello\" + \" world!\";\n        boolean compare = (a == b);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BF0py.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BF0py.png\" alt=\"Simple program\"></a></p>\n\n<p>First the JVM loads the string \"hello world! and then push it to string pool (in this case) and then loads it to the stack (ldc = Load constant) <strong>[see point 1 in Image]</strong></p>\n\n<p>Then it assign the reference created in the pool to the local variable (astore_1) <strong>[see point 2 in Image]</strong></p>\n\n<p>Notice that the reference created in the string pool for this literal is #2 <strong>[See point 3 in Image]</strong></p>\n\n<p>The next operation is about the same: in concatenates the string, push it to the runtime constant pool (string pool in this case), but then it realizes a literal with the same content already exists so it uses this reference (#2) and assign in to a local variable (astore_2).</p>\n\n<p>Thus when you do (a == b) is <em>true</em> because both of them are referencing to the string pool #2 which is \"hello world!\".</p>\n\n<p>Your example C is kind of different tho, because you're using the += operator which when compiled to bytecode it uses StringBuilder to concatenate the strings, so this creates a new instance of StringBuilder Object thus pointing to a different reference.  (string pool vs Object)</p>\n"},{"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630343252,"creation_date":1630343252,"answer_id":68987876,"question_id":44037516,"body_markdown":"    String a = &quot;ef&quot;;\r\n    String b = &quot;cd&quot; + a;\r\n    \t\t\r\n    System.out.println(&quot;cdef&quot;==b); // false\r\n    \t\t\r\n    String c = &quot;cd&quot; + &quot;ef&quot;;\r\n    \t\t\r\n    System.out.println(&quot;cdef&quot;==c); // true\r\n\r\nwhen *intern()* method is invoked on a String object, It will try to find a String with the same sequence of characters in the pool.\r\n\r\nif the String Pool already has a String with the same value then the reference of that String from the Pool is returned, otherwise the string is added to the pool, and the reference is returned.\r\n\r\nString concatenation will only intern the strings if the expression is a Constant Expression\r\n\r\n    &quot;cd&quot; + a // is not a Constant Expression","title":"How Java String pool works when String concatenation?","body":"<pre><code>String a = &quot;ef&quot;;\nString b = &quot;cd&quot; + a;\n        \nSystem.out.println(&quot;cdef&quot;==b); // false\n        \nString c = &quot;cd&quot; + &quot;ef&quot;;\n        \nSystem.out.println(&quot;cdef&quot;==c); // true\n</code></pre>\n<p>when <em>intern()</em> method is invoked on a String object, It will try to find a String with the same sequence of characters in the pool.</p>\n<p>if the String Pool already has a String with the same value then the reference of that String from the Pool is returned, otherwise the string is added to the pool, and the reference is returned.</p>\n<p>String concatenation will only intern the strings if the expression is a Constant Expression</p>\n<pre><code>&quot;cd&quot; + a // is not a Constant Expression\n</code></pre>\n"}],"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6345,"favorite_count":0,"down_vote_count":5,"up_vote_count":13,"accepted_answer_id":44050772,"answer_count":2,"score":8,"last_activity_date":1677658757,"creation_date":1495073847,"question_id":44037516,"body_markdown":"**Beware: I&#39;m not trying to compare if the characters are equals. Because I know how to use the String.equals() method. This question is about String reference**\r\n\r\nI was studying for the OCA exam when I started to learn about the class String and it properties as immutability, etc. According to what I read or may understand about **String pool** is that when a string is created Java stores this object on what they call **String pool** and if a new string is created with the same value it is going to make reference to the string on the **String pool** except is the case we use the **new** keyword as this creates a new reference even both string contains the same value.\r\n\r\nFor example:\r\n \r\n    String a = &quot;foo&quot;;\r\n    String b = &quot;foo&quot;;\r\n    String c = new String(&quot;foo&quot;);\r\n    boolean ab = (a == b); // This return true\r\n    boolean ac = (a == c); // This return false\r\n\r\nTo be clear what this code is making is on the first line of code it will create the `String a = &quot;foo&quot;` and store this on the **String pool**, and on the second line of code it will create the `String b` and reference to `&quot;foo&quot;` because this already exist on the **String pool**. But line 3 will create a new reference of this string no matter if this already exist. Here is a little graphic example about what is happening:\r\n[![http://cdn.journaldev.com/wp-content/uploads/2012/11/String-Pool-Java1.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EJtdg.png\r\n\r\nThe problem comes on the followings lines of code. When the string is created by concatenation does java make something different or simple == comparator have another behaviour ?\r\n\r\nExample A:\r\n   \r\n\r\n    String a = &quot;hello&quot; + &quot; world!&quot;;\r\n    String b = &quot;hello world!&quot;;\r\n    boolean compare = (a == b); // This return true\r\n\r\n\r\nExample B:\r\n\r\n    a = &quot;hello&quot;;\r\n    b = &quot;hel&quot; + &quot;lo&quot;;\r\n    compare = (a == b); // This return true\r\n\r\nExample C:\r\n\r\n    a = &quot;Bye&quot;;\r\n    a += &quot; bye!&quot;;\r\n    b = &quot;Bye bye!&quot;;\r\n    compare = (a == b); // This return false\r\n\r\nTo watch the code running: (http://ideone.com/fdk6KL)\r\n\r\n**What is happening ?**\r\n\r\n\r\n**EDIT**\r\n\r\n\r\n 1. Fixing error on the Example B: `b = &#39;hel&#39; + &#39;lo&#39;`\r\n\r\n 2. Adding clarification about the problem. It&#39;s not a comparison problem cause I know the use of `String.equals()` the problem is on the reference on the String pool\r\n","title":"How Java String pool works when String concatenation?","body":"<p><strong>Beware: I'm not trying to compare if the characters are equals. Because I know how to use the String.equals() method. This question is about String reference</strong></p>\n\n<p>I was studying for the OCA exam when I started to learn about the class String and it properties as immutability, etc. According to what I read or may understand about <strong>String pool</strong> is that when a string is created Java stores this object on what they call <strong>String pool</strong> and if a new string is created with the same value it is going to make reference to the string on the <strong>String pool</strong> except is the case we use the <strong>new</strong> keyword as this creates a new reference even both string contains the same value.</p>\n\n<p>For example:</p>\n\n<pre><code>String a = \"foo\";\nString b = \"foo\";\nString c = new String(\"foo\");\nboolean ab = (a == b); // This return true\nboolean ac = (a == c); // This return false\n</code></pre>\n\n<p>To be clear what this code is making is on the first line of code it will create the <code>String a = \"foo\"</code> and store this on the <strong>String pool</strong>, and on the second line of code it will create the <code>String b</code> and reference to <code>\"foo\"</code> because this already exist on the <strong>String pool</strong>. But line 3 will create a new reference of this string no matter if this already exist. Here is a little graphic example about what is happening:\n<a href=\"https://i.stack.imgur.com/EJtdg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EJtdg.png\" alt=\"http://cdn.journaldev.com/wp-content/uploads/2012/11/String-Pool-Java1.png\"></a></p>\n\n<p>The problem comes on the followings lines of code. When the string is created by concatenation does java make something different or simple == comparator have another behaviour ?</p>\n\n<p>Example A:</p>\n\n<pre><code>String a = \"hello\" + \" world!\";\nString b = \"hello world!\";\nboolean compare = (a == b); // This return true\n</code></pre>\n\n<p>Example B:</p>\n\n<pre><code>a = \"hello\";\nb = \"hel\" + \"lo\";\ncompare = (a == b); // This return true\n</code></pre>\n\n<p>Example C:</p>\n\n<pre><code>a = \"Bye\";\na += \" bye!\";\nb = \"Bye bye!\";\ncompare = (a == b); // This return false\n</code></pre>\n\n<p>To watch the code running: (<a href=\"http://ideone.com/fdk6KL\" rel=\"noreferrer\">http://ideone.com/fdk6KL</a>)</p>\n\n<p><strong>What is happening ?</strong></p>\n\n<p><strong>EDIT</strong></p>\n\n<ol>\n<li><p>Fixing error on the Example B: <code>b = 'hel' + 'lo'</code></p></li>\n<li><p>Adding clarification about the problem. It's not a comparison problem cause I know the use of <code>String.equals()</code> the problem is on the reference on the String pool</p></li>\n</ol>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1677661128,"post_id":75601096,"comment_id":133379923,"body_markdown":"I&#39;m just going off memory here (hence why a comment and not an answer), but could something like `defaultExpression=&quot;java(org.apache.commons.lang3.Range.between(source.min, source.max))&quot;` work for your?","body":"I&#39;m just going off memory here (hence why a comment and not an answer), but could something like <code>defaultExpression=&quot;java(org.apache.commons.lang3.Range.betwe&zwnj;&#8203;en(source.min, source.max))&quot;</code> work for your?"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1677669701,"post_id":75601096,"comment_id":133382254,"body_markdown":"`expression` definitely works, but I&#39;m looking for a solution without `expression`","body":"<code>expression</code> definitely works, but I&#39;m looking for a solution without <code>expression</code>"}],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677658749,"creation_date":1677658749,"question_id":75601096,"body_markdown":"    class RangeDTO {\r\n      public org.apache.commons.lang3.Range&lt;Long&gt; range;\r\n    }\r\n    \r\n    class SourceDTO {\r\n      public Long min;\r\n      public Long max;\r\n    }\r\n    \r\n    public interface Mapper {\r\n    \t@Mapping(target = &quot;range.max&quot;, source = &quot;max&quot;)\r\n    \t@Mapping(target = &quot;range.min&quot;, source = &quot;min&quot;)\r\n    \tpublic abstract RangeDTO map(SourceDTO source);\r\n    }\r\n\r\nThis mapper method produces `Range&lt;Long&gt; does not have an accessible constructor error` (it&#39;s fine, `Range` doesn&#39;t have an accessible constructor) because it must created using static method [Range#between()][1].\r\n\r\nI prefer not to use `expression` nor writing a `Range&lt;Long&gt; map(SourceDTO)`.\r\n\r\nAny advice?&lt;br/&gt;\r\nThanks in advance\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html#between-T-T-","title":"Use static method to build immutable type (org.apache.commons.lang3.Range&lt;Long&gt;)","body":"<pre><code>class RangeDTO {\n  public org.apache.commons.lang3.Range&lt;Long&gt; range;\n}\n\nclass SourceDTO {\n  public Long min;\n  public Long max;\n}\n\npublic interface Mapper {\n    @Mapping(target = &quot;range.max&quot;, source = &quot;max&quot;)\n    @Mapping(target = &quot;range.min&quot;, source = &quot;min&quot;)\n    public abstract RangeDTO map(SourceDTO source);\n}\n</code></pre>\n<p>This mapper method produces <code>Range&lt;Long&gt; does not have an accessible constructor error</code> (it's fine, <code>Range</code> doesn't have an accessible constructor) because it must created using static method <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html#between-T-T-\" rel=\"nofollow noreferrer\">Range#between()</a>.</p>\n<p>I prefer not to use <code>expression</code> nor writing a <code>Range&lt;Long&gt; map(SourceDTO)</code>.</p>\n<p>Any advice?<br/>\nThanks in advance</p>\n"},{"tags":["java","sql","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677658049,"creation_date":1677658049,"answer_id":75600972,"question_id":75508925,"body_markdown":"Just write a HQL query for this and remove the formula mappings from your entity.\r\n\r\n```\r\nSELECT p.identifier,\r\n       (SELECT tv.value FROM TranslationsValue AS tv WHERE tv.language = :lang AND tv.key = p.title),\r\n       (SELECT tv.value FROM TranslationsValue AS tv WHERE tv.language = :lang AND tv.key = p.content)\r\nFROM Post p\r\n```\r\n\r\nThe result will be an `Object[]` with the identifier at position 0 and the translated data on position 1 and 2.","title":"Retrieving extra columns from another table with Hibernate","body":"<p>Just write a HQL query for this and remove the formula mappings from your entity.</p>\n<pre><code>SELECT p.identifier,\n       (SELECT tv.value FROM TranslationsValue AS tv WHERE tv.language = :lang AND tv.key = p.title),\n       (SELECT tv.value FROM TranslationsValue AS tv WHERE tv.language = :lang AND tv.key = p.content)\nFROM Post p\n</code></pre>\n<p>The result will be an <code>Object[]</code> with the identifier at position 0 and the translated data on position 1 and 2.</p>\n"}],"owner":{"account_id":2927787,"reputation":1363,"user_id":2508770,"accept_rate":94,"display_name":"Emax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677658049,"creation_date":1676893929,"question_id":75508925,"body_markdown":"I need to select some entities from the database with their translation in a specific language\r\n\r\nThis is my database schema\r\n[![ER Diagram][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pVMr0.png\r\n\r\nThis is the query I&#39;m trying to produce\r\n\r\n    SELECT identifier,\r\n    \t   (SELECT tv.value FROM translations_values AS tv WHERE tv.language = :lang AND tv.key = title) AS title_translated,\r\n    \t   (SELECT tv.value FROM translations_values AS tv WHERE tv.language = :lang AND tv.key = content) AS content_translated\r\n      FROM posts\r\n\r\nThis is my mapped entity\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(title = &quot;posts&quot;)\r\n    @NamedQuery(title = &quot;Post.findAll&quot;, query = &quot;SELECT i FROM Post i&quot;)\r\n    public class Post implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Column(title = &quot;identifier&quot;)\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Integer identifier;\r\n    \r\n    \t@Column(title = &quot;title&quot;, insertable = false, updatable = false)\r\n    \tprivate Integer titleIdentifier;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(title = &quot;title&quot;)\r\n    \tpublic TranslationKey title;\r\n    \r\n    \t@Formula(value = &quot;(SELECT tv.value FROM translations_values AS tv WHERE tv.language = {lang} AND tv.key = title)&quot;)\r\n    \tpublic String titleTranslated;\r\n    \r\n    \t@Column(title = &quot;content&quot;, insertable = false, updatable = false)\r\n    \tprivate Integer contentIdentifier;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(title = &quot;content&quot;)\r\n    \tprivate TranslationKey content;\r\n    \t\r\n    \t@Formula(value = &quot;(SELECT tv.value FROM translations_values AS tv WHERE tv.language = {lang} AND tv.key = content)&quot;)\r\n    \tpublic String contentTranslated;\r\n    \r\n    \t// Getter &amp; Setter\r\n    \r\n    }\r\n\r\nThe last step of this procedure is a Hibernate `Interceptor` which replaces `{lang}` with the requested language id. The `@Formula` allows me to create where conditions so that I can search for posts by title and content also in the repository I can create methods like &quot;findByTitleContaining&quot; and hibernate automatically creates the correct where conditions.\r\n\r\nMy question is is there a better way to do this thing? I tried to fetch the translations in EAGER mode but I ran into the SELECT N+1 problem\r\n","title":"Retrieving extra columns from another table with Hibernate","body":"<p>I need to select some entities from the database with their translation in a specific language</p>\n<p>This is my database schema\n<a href=\"https://i.stack.imgur.com/pVMr0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pVMr0.png\" alt=\"ER Diagram\" /></a></p>\n<p>This is the query I'm trying to produce</p>\n<pre><code>SELECT identifier,\n       (SELECT tv.value FROM translations_values AS tv WHERE tv.language = :lang AND tv.key = title) AS title_translated,\n       (SELECT tv.value FROM translations_values AS tv WHERE tv.language = :lang AND tv.key = content) AS content_translated\n  FROM posts\n</code></pre>\n<p>This is my mapped entity</p>\n<pre><code>@Entity\n@Data\n@Table(title = &quot;posts&quot;)\n@NamedQuery(title = &quot;Post.findAll&quot;, query = &quot;SELECT i FROM Post i&quot;)\npublic class Post implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(title = &quot;identifier&quot;)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer identifier;\n\n    @Column(title = &quot;title&quot;, insertable = false, updatable = false)\n    private Integer titleIdentifier;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(title = &quot;title&quot;)\n    public TranslationKey title;\n\n    @Formula(value = &quot;(SELECT tv.value FROM translations_values AS tv WHERE tv.language = {lang} AND tv.key = title)&quot;)\n    public String titleTranslated;\n\n    @Column(title = &quot;content&quot;, insertable = false, updatable = false)\n    private Integer contentIdentifier;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(title = &quot;content&quot;)\n    private TranslationKey content;\n    \n    @Formula(value = &quot;(SELECT tv.value FROM translations_values AS tv WHERE tv.language = {lang} AND tv.key = content)&quot;)\n    public String contentTranslated;\n\n    // Getter &amp; Setter\n\n}\n</code></pre>\n<p>The last step of this procedure is a Hibernate <code>Interceptor</code> which replaces <code>{lang}</code> with the requested language id. The <code>@Formula</code> allows me to create where conditions so that I can search for posts by title and content also in the repository I can create methods like &quot;findByTitleContaining&quot; and hibernate automatically creates the correct where conditions.</p>\n<p>My question is is there a better way to do this thing? I tried to fetch the translations in EAGER mode but I ran into the SELECT N+1 problem</p>\n"},{"tags":["java","swing","jbutton","joptionpane"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1342374904,"post_id":11494222,"comment_id":15183156,"body_markdown":"http://stackoverflow.com/a/10966330/829571","body":"<a href=\"http://stackoverflow.com/a/10966330/829571\">stackoverflow.com/a/10966330/829571</a>"}],"answers":[{"comments":[{"owner":{"account_id":1051929,"reputation":13594,"user_id":1055637,"accept_rate":63,"display_name":"Mazzy"},"score":1,"creation_date":1342375333,"post_id":11494259,"comment_id":15183255,"body_markdown":"I made a mistake...I mean showInputDialog. I have as return a string object","body":"I made a mistake...I mean showInputDialog. I have as return a string object"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1342374876,"creation_date":1342374876,"answer_id":11494259,"question_id":11494222,"body_markdown":"The showMessageDialog, shouldn&#39;t show two buttons, so something is amiss with either your code or your interpretation of it. Regardless, if you want to give the user an choice and want to detect that choice, don&#39;t use a showMessageDialog but rather a showConfirmDialog, and get the int returned and test it to see if it is JOptoinPane.OK_OPTION.","title":"How to handle cancel button in JOptionPane","body":"<p>The showMessageDialog, shouldn't show two buttons, so something is amiss with either your code or your interpretation of it. Regardless, if you want to give the user an choice and want to detect that choice, don't use a showMessageDialog but rather a showConfirmDialog, and get the int returned and test it to see if it is JOptoinPane.OK_OPTION.</p>\n"},{"comments":[{"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"score":1,"creation_date":1565800082,"post_id":11494262,"comment_id":101466948,"body_markdown":"Downvoted because this doesn&#39;t answer the question - not sure why it&#39;s the accepted answer.  Mazzy was asking specifically about showInputDialog.","body":"Downvoted because this doesn&#39;t answer the question - not sure why it&#39;s the accepted answer.  Mazzy was asking specifically about showInputDialog."},{"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"score":0,"creation_date":1565808168,"post_id":11494262,"comment_id":101470153,"body_markdown":"@Amber There is an edit from 2012 that shows how to use `showInputDialog`, near the end of the answer.","body":"@Amber There is an edit from 2012 that shows how to use <code>showInputDialog</code>, near the end of the answer."}],"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"comment_count":2,"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1342375526,"creation_date":1342374904,"answer_id":11494262,"question_id":11494222,"body_markdown":"For example: \r\n\r\n    int n = JOptionPane.showConfirmDialog(\r\n                                frame, &quot;Would you like green eggs and ham?&quot;,\r\n                                &quot;An Inane Question&quot;,\r\n                                JOptionPane.YES_NO_OPTION);\r\n    if (n == JOptionPane.YES_OPTION) {\r\n                            \r\n    } else if (n == JOptionPane.NO_OPTION) {\r\n                                \r\n    } else {\r\n                                \r\n    }\r\n\r\nAlternatively with `showOptionDialog`: \r\n\r\n\tObject[] options = {&quot;Yes, please&quot;, &quot;No way!&quot;};\r\n    int n = JOptionPane.showOptionDialog(frame,\r\n                    &quot;Would you like green eggs and ham?&quot;,\r\n                    &quot;A Silly Question&quot;,\r\n                    JOptionPane.YES_NO_OPTION,\r\n                    JOptionPane.QUESTION_MESSAGE,\r\n                    null,\r\n                    options,\r\n                    options[0]);\r\n    if (n == JOptionPane.YES_OPTION) {\r\n\r\n    } else if (n == JOptionPane.NO_OPTION) {\r\n\r\n    } else {\r\n\r\n    }\r\n\r\n\r\nSee [How to Make Dialogs][1] for more details. \r\n\r\n\r\nEDIT: `showInputDialog`\r\n\r\n    String response = JOptionPane.showInputDialog(owner, &quot;Input:&quot;, &quot;&quot;);\r\n    if ((response != null) &amp;&amp; (response.length() &gt; 0)) {\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html","title":"How to handle cancel button in JOptionPane","body":"<p>For example: </p>\n\n<pre><code>int n = JOptionPane.showConfirmDialog(\n                            frame, \"Would you like green eggs and ham?\",\n                            \"An Inane Question\",\n                            JOptionPane.YES_NO_OPTION);\nif (n == JOptionPane.YES_OPTION) {\n\n} else if (n == JOptionPane.NO_OPTION) {\n\n} else {\n\n}\n</code></pre>\n\n<p>Alternatively with <code>showOptionDialog</code>: </p>\n\n<pre><code>Object[] options = {\"Yes, please\", \"No way!\"};\nint n = JOptionPane.showOptionDialog(frame,\n                \"Would you like green eggs and ham?\",\n                \"A Silly Question\",\n                JOptionPane.YES_NO_OPTION,\n                JOptionPane.QUESTION_MESSAGE,\n                null,\n                options,\n                options[0]);\nif (n == JOptionPane.YES_OPTION) {\n\n} else if (n == JOptionPane.NO_OPTION) {\n\n} else {\n\n}\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"noreferrer\">How to Make Dialogs</a> for more details. </p>\n\n<p>EDIT: <code>showInputDialog</code></p>\n\n<pre><code>String response = JOptionPane.showInputDialog(owner, \"Input:\", \"\");\nif ((response != null) &amp;&amp; (response.length() &gt; 0)) {\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3868541,"reputation":107,"user_id":3204457,"accept_rate":53,"display_name":"frank17"},"score":1,"creation_date":1459630655,"post_id":25961168,"comment_id":60374642,"body_markdown":"But your code does not handle a situation, if you your input is empty and you hit OK button. You get error.","body":"But your code does not handle a situation, if you your input is empty and you hit OK button. You get error."},{"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"score":0,"creation_date":1565800441,"post_id":25961168,"comment_id":101467081,"body_markdown":"This is the correct answer.  If the user doesn&#39;t input anything and presses ok, the response will be the empty string. If they hit cancel (even if they have entered text), the response will be null.","body":"This is the correct answer.  If the user doesn&#39;t input anything and presses ok, the response will be the empty string. If they hit cancel (even if they have entered text), the response will be null."}],"tags":[],"owner":{"account_id":5062866,"reputation":91,"user_id":4063865,"display_name":"Kjell"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1565991296,"creation_date":1411315921,"answer_id":25961168,"question_id":11494222,"body_markdown":"This is an old question, and I am an Java newbie so there might be better solutions, but I wanted to know the same, and maybe it can help others, what I did was to check if the response was null.\r\n\r\nIf the user clicks &quot;cancel&quot;, the response will be null.  If they click &quot;ok&quot; without entering any text the response will be the empty string.\r\n\r\nThis worked for me:\r\n\r\n    //inputdialog \r\n\t\tJOptionPane inpOption = new JOptionPane();\r\n\t\t\r\n\t\t//Shows a inputdialog\r\n\t\tString strDialogResponse = inpOption.showInputDialog(&quot;Enter a number: &quot;); \r\n\t\t\r\n\t\t//if OK is pushed then (if not strDialogResponse is null)\r\n\t\tif (strDialogResponse != null){\r\n\t\t\r\n\t\t\t(Code to do something if the user push OK)\t\r\n\t\r\n\t\t}\r\n\t\t//If cancel button is pressed\r\n\t\telse{\r\n\r\n\t\t\t(Code to do something if the user push Cancel)\r\n\r\n\t\t}\r\n\r\n\r\n\t\t","title":"How to handle cancel button in JOptionPane","body":"<p>This is an old question, and I am an Java newbie so there might be better solutions, but I wanted to know the same, and maybe it can help others, what I did was to check if the response was null.</p>\n\n<p>If the user clicks \"cancel\", the response will be null.  If they click \"ok\" without entering any text the response will be the empty string.</p>\n\n<p>This worked for me:</p>\n\n<pre><code>//inputdialog \n    JOptionPane inpOption = new JOptionPane();\n\n    //Shows a inputdialog\n    String strDialogResponse = inpOption.showInputDialog(\"Enter a number: \"); \n\n    //if OK is pushed then (if not strDialogResponse is null)\n    if (strDialogResponse != null){\n\n        (Code to do something if the user push OK)  \n\n    }\n    //If cancel button is pressed\n    else{\n\n        (Code to do something if the user push Cancel)\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1436005452,"post_id":29261753,"comment_id":50439345,"body_markdown":"While this code block may answer the question, it would be best if you could provide a little explanation for why it does so. Please [edit] your answer to include such a description.","body":"While this code block may answer the question, it would be best if you could provide a little explanation for why it does so. Please <a href=\"https://stackoverflow.com/posts/29261753/edit\">edit</a> your answer to include such a description."}],"tags":[],"owner":{"account_id":5655164,"reputation":1,"user_id":4474592,"display_name":"Athit See"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677657955,"creation_date":1427302362,"answer_id":29261753,"question_id":11494222,"body_markdown":"This may be your answer:\r\n\r\n    package Joptionpane;\r\n    \r\n    import javax.swing.JOptionPane;\r\n        \r\n    public class Cancle_on_JOptionPane {\r\n    \r\n        public static void main(String[] args) {\r\n            String s;\r\n            int i;\r\n            // Set the process limit to any number, that use when you need to use for comparability and limited to get out of the program when the answer is correct.(in this case is 100)\r\n            for(i=0;i&lt;100;i++){\r\n            s = JOptionPane.showInputDialog(null,&quot;What is your favorite fruit ?&quot;);\r\n                            // Resolve process by compare answer with character to got the right answer, If it&#39;s no character it would show question box until user type answer or click cancel.\r\n                            try{      \r\n                                     if(s.equals(&quot;&quot;))  {\r\n                                                                JOptionPane.showMessageDialog(null,&quot; Enter your answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                                                                i=2; // Set i=2 to repeating question box loop until user give answer.\r\n                                                           }\r\n                                     else  {\r\n                                               JOptionPane.showMessageDialog(null,&quot; s = &quot;+s,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                                               i=100; // Get out from question box when the variable is not empty.\r\n                                             }\r\n                                }\r\n            catch(Exception e)\r\n                  {\r\n                     JOptionPane.showMessageDialog(null,&quot;Cancle answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                     i=100; // Get out from question box when user click cancel and showing &quot;cancel message&quot;, You can link to another action here.\r\n                  }\r\n         }\r\n       }\r\n    }\r\n\r\n","title":"How to handle cancel button in JOptionPane","body":"<p>This may be your answer:</p>\n<pre><code>package Joptionpane;\n\nimport javax.swing.JOptionPane;\n    \npublic class Cancle_on_JOptionPane {\n\n    public static void main(String[] args) {\n        String s;\n        int i;\n        // Set the process limit to any number, that use when you need to use for comparability and limited to get out of the program when the answer is correct.(in this case is 100)\n        for(i=0;i&lt;100;i++){\n        s = JOptionPane.showInputDialog(null,&quot;What is your favorite fruit ?&quot;);\n                        // Resolve process by compare answer with character to got the right answer, If it's no character it would show question box until user type answer or click cancel.\n                        try{      \n                                 if(s.equals(&quot;&quot;))  {\n                                                            JOptionPane.showMessageDialog(null,&quot; Enter your answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\n                                                            i=2; // Set i=2 to repeating question box loop until user give answer.\n                                                       }\n                                 else  {\n                                           JOptionPane.showMessageDialog(null,&quot; s = &quot;+s,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\n                                           i=100; // Get out from question box when the variable is not empty.\n                                         }\n                            }\n        catch(Exception e)\n              {\n                 JOptionPane.showMessageDialog(null,&quot;Cancle answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\n                 i=100; // Get out from question box when user click cancel and showing &quot;cancel message&quot;, You can link to another action here.\n              }\n     }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11966458,"reputation":1,"user_id":8755986,"display_name":"hamooda aburezk"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512291260,"creation_date":1512277179,"answer_id":47615420,"question_id":11494222,"body_markdown":"    package Joptionpane;\r\n\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class Cancle_on_JOptionPane {\r\n\r\n        public static void main(String[] args) {\r\n            String s;\r\n            int i;\r\n            for (i=0;i&lt;100;i++){\r\n                s = JOptionPane.showInputDialog(null,&quot;What is your favorite fruit ?&quot;);\r\n                try {\r\n                    if (s.equals(&quot;&quot;)) {\r\n                        JOptionPane.showMessageDialog(null,&quot; Enter your answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                        i=2;\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(null,&quot; s = &quot;+s,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                        i=100;\r\n                    }\r\n                }\r\n                catch (Exception e) {\r\n                    JOptionPane.showMessageDialog(null,&quot;Cancle answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                    i=100;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to handle cancel button in JOptionPane","body":"<pre><code>package Joptionpane;\n\nimport javax.swing.JOptionPane;\n\npublic class Cancle_on_JOptionPane {\n\n    public static void main(String[] args) {\n        String s;\n        int i;\n        for (i=0;i&lt;100;i++){\n            s = JOptionPane.showInputDialog(null,\"What is your favorite fruit ?\");\n            try {\n                if (s.equals(\"\")) {\n                    JOptionPane.showMessageDialog(null,\" Enter your answer !!!\",\" ^-^ Information^-^ \",JOptionPane.INFORMATION_MESSAGE);\n                    i=2;\n                } else {\n                    JOptionPane.showMessageDialog(null,\" s = \"+s,\" ^-^ Information^-^ \",JOptionPane.INFORMATION_MESSAGE);\n                    i=100;\n                }\n            }\n            catch (Exception e) {\n                JOptionPane.showMessageDialog(null,\"Cancle answer !!!\",\" ^-^ Information^-^ \",JOptionPane.INFORMATION_MESSAGE);\n                i=100;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13706155,"reputation":1,"user_id":9889709,"display_name":"emendescv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528070717,"creation_date":1528069666,"answer_id":50671973,"question_id":11494222,"body_markdown":"You could do it like this:\r\n\r\n    String val = JOptionPane.showInputDialog(&quot;Value: &quot;);\r\n    if(val == null){\r\n      // nothing goes here if yo don&#39;t want any action when canceled, or\r\n      // redirect it to a cancel page if needed\r\n    }else{\r\n      //insert your code if ok pressed\r\n      // JOptionPane return an String, as you was talking about int\r\n      int value = Integer.ParseInt(val);\r\n    }","title":"How to handle cancel button in JOptionPane","body":"<p>You could do it like this:</p>\n\n<pre><code>String val = JOptionPane.showInputDialog(\"Value: \");\nif(val == null){\n  // nothing goes here if yo don't want any action when canceled, or\n  // redirect it to a cancel page if needed\n}else{\n  //insert your code if ok pressed\n  // JOptionPane return an String, as you was talking about int\n  int value = Integer.ParseInt(val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143402,"reputation":5469,"user_id":1901574,"accept_rate":62,"display_name":"Adel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654552032,"creation_date":1654552032,"answer_id":72523784,"question_id":11494222,"body_markdown":"`showInputDialog` return `NULL` if you click cancel and String object even if it&#39;s empty.\r\nSo all you need to do is test if it&#39;s Null and if it&#39;s not empty.\r\n","title":"How to handle cancel button in JOptionPane","body":"<p><code>showInputDialog</code> return <code>NULL</code> if you click cancel and String object even if it's empty.\nSo all you need to do is test if it's Null and if it's not empty.</p>\n"}],"owner":{"account_id":1051929,"reputation":13594,"user_id":1055637,"accept_rate":63,"display_name":"Mazzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83606,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":11494262,"answer_count":7,"score":14,"last_activity_date":1677657955,"creation_date":1342374613,"question_id":11494222,"body_markdown":"I had created a `JOptionPane` of type `showInputDialog`. When it opens it, it shows me two buttons: &lt;kbd&gt;OK&lt;/kbd&gt; and &lt;kbd&gt;Cancel&lt;/kbd&gt;. I would like to handle the action when I push on &lt;kbd&gt;Cancel&lt;/kbd&gt; button, but I don&#39;t know how to reach it. How can I get it?","title":"How to handle cancel button in JOptionPane","body":"<p>I had created a <code>JOptionPane</code> of type <code>showInputDialog</code>. When it opens it, it shows me two buttons: <kbd>OK</kbd> and <kbd>Cancel</kbd>. I would like to handle the action when I push on <kbd>Cancel</kbd> button, but I don't know how to reach it. How can I get it?</p>\n"},{"tags":["java","css","spring","jsp","spring-mvc"],"comments":[{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":1,"creation_date":1477567432,"post_id":40283050,"comment_id":67824891,"body_markdown":"try this https://www.luckyryan.com/2013/02/07/migrate-spring-mvc-servlet-xml-to-java-config/","body":"try this <a href=\"https://www.luckyryan.com/2013/02/07/migrate-spring-mvc-servlet-xml-to-java-config/\" rel=\"nofollow noreferrer\">luckyryan.com/2013/02/07/&hellip;</a>"},{"owner":{"account_id":9148715,"reputation":135,"user_id":6803990,"accept_rate":11,"display_name":"J. Carrer"},"score":0,"creation_date":1477568279,"post_id":40283050,"comment_id":67825453,"body_markdown":"Thank you! It works now.","body":"Thank you! It works now."}],"answers":[{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477573051,"creation_date":1477568483,"answer_id":40283732,"question_id":40283050,"body_markdown":"[This example][1] is a quick sample of how to convert an existing `servlet.xml` file into a `java config` file extending `WebMvcConfigurerAdapter`.\r\n\r\n\r\n  [1]: https://www.luckyryan.com/2013/02/07/migrate-spring-mvc-servlet-xml-to-java-config/","title":"Adding css to spring mvc (jsp) without xml configuration","body":"<p><a href=\"https://www.luckyryan.com/2013/02/07/migrate-spring-mvc-servlet-xml-to-java-config/\" rel=\"nofollow\">This example</a> is a quick sample of how to convert an existing <code>servlet.xml</code> file into a <code>java config</code> file extending <code>WebMvcConfigurerAdapter</code>.</p>\n"},{"tags":[],"owner":{"account_id":14153116,"reputation":2736,"user_id":10224590,"display_name":"Pranav Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622275059,"creation_date":1622275059,"answer_id":67749073,"question_id":40283050,"body_markdown":"Use `org.springframework.web.servlet.config.annotation.WebMvcConfigurer` as `org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter` is deprecated.\r\n\r\nWith `(Spring Framework 5.1.6.RELEASE)`, You just need to implement the interface WebMvcConfigurer:\r\n\r\n    package com.example;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.ViewResolver;\r\n    import org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n   \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class Config implements WebMvcConfigurer {\r\n    \r\n        @Bean\r\n        public ViewResolver getViewResolver() {\r\n            InternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n            resolver.setPrefix(&quot;/WEB-INF/&quot;);\r\n            resolver.setSuffix(&quot;.html&quot;);\r\n            return resolver;\r\n        }\r\n    \r\n         @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        \r\n           \r\n                registry.addResourceHandler(&quot;/resources/**&quot;)\r\n                .addResourceLocations(&quot;/resources/&quot;)\r\n                .setCacheControl(CacheControl.maxAge(2, TimeUnit.HOURS).cachePublic());\r\n\r\n        }\r\n\r\n    \r\n    }\r\n\r\n","title":"Adding css to spring mvc (jsp) without xml configuration","body":"<p>Use <code>org.springframework.web.servlet.config.annotation.WebMvcConfigurer</code> as <code>org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter</code> is deprecated.</p>\n<p>With <code>(Spring Framework 5.1.6.RELEASE)</code>, You just need to implement the interface WebMvcConfigurer:</p>\n<pre><code>package com.example;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@Configuration\n@EnableWebMvc\npublic class Config implements WebMvcConfigurer {\n\n    @Bean\n    public ViewResolver getViewResolver() {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(&quot;/WEB-INF/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        return resolver;\n    }\n\n     @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    \n       \n            registry.addResourceHandler(&quot;/resources/**&quot;)\n            .addResourceLocations(&quot;/resources/&quot;)\n            .setCacheControl(CacheControl.maxAge(2, TimeUnit.HOURS).cachePublic());\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27906768,"reputation":1,"user_id":21309791,"display_name":"Vadim Sorokin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677657684,"creation_date":1677657529,"answer_id":75600903,"question_id":40283050,"body_markdown":"try this. It helped me.\r\n\r\n1 step: create a class like this\r\n\r\n    package your.packages;\r\n    //import your.imports;\r\n    \r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    public class RootConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;/static/&quot;);\r\n        }\r\n    }\r\n\r\n2 step. Modify your WebAppInitialaizer like this\r\n\r\n    package your.packages;\r\n    \r\n    import your.imports;\r\n    import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n    \r\n    public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n        @Override\r\n        protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n            return new Class[] {\r\n                    RootConfig.class\r\n            };\r\n        }\r\n     //******here is a rest of your code\r\n    }\r\n\r\n3 step. This is for my resources:\r\nwebapp-&gt;static-&gt;css-style.css","title":"Adding css to spring mvc (jsp) without xml configuration","body":"<p>try this. It helped me.</p>\n<p>1 step: create a class like this</p>\n<pre><code>package your.packages;\n//import your.imports;\n\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\npublic class RootConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;/static/&quot;);\n    }\n}\n</code></pre>\n<p>2 step. Modify your WebAppInitialaizer like this</p>\n<pre><code>package your.packages;\n\nimport your.imports;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class[] {\n                RootConfig.class\n        };\n    }\n //******here is a rest of your code\n}\n</code></pre>\n<p>3 step. This is for my resources:\nwebapp-&gt;static-&gt;css-style.css</p>\n"}],"owner":{"account_id":9148715,"reputation":135,"user_id":6803990,"accept_rate":11,"display_name":"J. Carrer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677657684,"creation_date":1477566401,"question_id":40283050,"body_markdown":"I&#39;m writing my first application.\r\nI want to add css to my jsp.\r\n\r\nStructure is like this:\r\n\r\n    1) webapp -&gt; resources -&gt; style.css\r\n    2) webapp -&gt; WEB-INF -&gt; pages -&gt; home.jsp\r\n\r\nI try to add style.css to home.jsp\r\n\r\nMy configuration:\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;pathToModel&quot;)\r\n    @EnableWebMvc\r\n    @EnableTransactionManagement\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class WebAppConfig {\r\n    \t\r\n        private static final String PROPERTY_NAME_DATABASE_DRIVER = &quot;db.driver&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_PASSWORD = &quot;db.password&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_URL = &quot;db.url&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_USERNAME = &quot;db.username&quot;;\r\n    \t\r\n        private static final String PROPERTY_NAME_HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\r\n        private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = &quot;entitymanager.packages.to.scan&quot;;\r\n        \r\n    \t@Resource\r\n    \tprivate Environment env;\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \t\t\r\n    \t\tdataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\r\n    \t\tdataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\r\n    \t\tdataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\r\n    \t\tdataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\r\n    \t\t\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic LocalSessionFactoryBean sessionFactory() {\r\n    \t\tLocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n    \t\tsessionFactoryBean.setDataSource(dataSource());\r\n    \t\tsessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\r\n    \t\tsessionFactoryBean.setHibernateProperties(hibProperties());\r\n    \t\treturn sessionFactoryBean;\r\n    \t}\r\n    \t\r\n    \tprivate Properties hibProperties() {\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\r\n    \t\tproperties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\r\n    \t\treturn properties;\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic HibernateTransactionManager transactionManager() {\r\n    \t\tHibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n    \t\ttransactionManager.setSessionFactory(sessionFactory().getObject());\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic UrlBasedViewResolver setupViewResolver() {\r\n    \t\tUrlBasedViewResolver resolver = new UrlBasedViewResolver();\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\r\n    \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tresolver.setViewClass(JstlView.class);\r\n    \t\treturn resolver;\r\n    \t}\r\n    \r\n    }\r\n\r\n \r\nand:\r\n\r\n    public class Initializer implements WebApplicationInitializer {\r\n    \r\n    \tpublic void onStartup(ServletContext servletContext)\r\n    \t\t\tthrows ServletException {\r\n    \t\tAnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n    \t\tctx.register(WebAppConfig.class);\r\n    \t\tservletContext.addListener(new ContextLoaderListener(ctx));\r\n    \r\n    \t\tctx.setServletContext(servletContext);\r\n    \r\n    \t\tDynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n    \t\tservlet.addMapping(&quot;/&quot;);\r\n    \t\tservlet.setLoadOnStartup(1);\r\n    \t}\r\n    \r\n    }\r\n\r\nI found code: \r\n\r\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n    }\r\n\r\nbut my application is not extending from WebMvcConfigurerAdapter and I don&#39;t know how to add that...\r\n\r\n","title":"Adding css to spring mvc (jsp) without xml configuration","body":"<p>I'm writing my first application.\nI want to add css to my jsp.</p>\n\n<p>Structure is like this:</p>\n\n<pre><code>1) webapp -&gt; resources -&gt; style.css\n2) webapp -&gt; WEB-INF -&gt; pages -&gt; home.jsp\n</code></pre>\n\n<p>I try to add style.css to home.jsp</p>\n\n<p>My configuration:</p>\n\n<pre><code>@Configuration\n@ComponentScan(\"pathToModel\")\n@EnableWebMvc\n@EnableTransactionManagement\n@PropertySource(\"classpath:application.properties\")\npublic class WebAppConfig {\n\n    private static final String PROPERTY_NAME_DATABASE_DRIVER = \"db.driver\";\n    private static final String PROPERTY_NAME_DATABASE_PASSWORD = \"db.password\";\n    private static final String PROPERTY_NAME_DATABASE_URL = \"db.url\";\n    private static final String PROPERTY_NAME_DATABASE_USERNAME = \"db.username\";\n\n    private static final String PROPERTY_NAME_HIBERNATE_DIALECT = \"hibernate.dialect\";\n    private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = \"hibernate.show_sql\";\n    private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = \"entitymanager.packages.to.scan\";\n\n    @Resource\n    private Environment env;\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n        dataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\n        dataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\n        dataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\n        dataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\n\n        return dataSource;\n    }\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(dataSource());\n        sessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\n        sessionFactoryBean.setHibernateProperties(hibProperties());\n        return sessionFactoryBean;\n    }\n\n    private Properties hibProperties() {\n        Properties properties = new Properties();\n        properties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\n        properties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\n        return properties;  \n    }\n\n    @Bean\n    public HibernateTransactionManager transactionManager() {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(sessionFactory().getObject());\n        return transactionManager;\n    }\n\n    @Bean\n    public UrlBasedViewResolver setupViewResolver() {\n        UrlBasedViewResolver resolver = new UrlBasedViewResolver();\n        resolver.setPrefix(\"/WEB-INF/pages/\");\n        resolver.setSuffix(\".jsp\");\n        resolver.setViewClass(JstlView.class);\n        return resolver;\n    }\n\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>public class Initializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext servletContext)\n            throws ServletException {\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(WebAppConfig.class);\n        servletContext.addListener(new ContextLoaderListener(ctx));\n\n        ctx.setServletContext(servletContext);\n\n        Dynamic servlet = servletContext.addServlet(\"dispatcher\", new DispatcherServlet(ctx));\n        servlet.addMapping(\"/\");\n        servlet.setLoadOnStartup(1);\n    }\n\n}\n</code></pre>\n\n<p>I found code: </p>\n\n<pre><code>public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(\"/resources/**\").addResourceLocations(\"/resources/\");\n}\n</code></pre>\n\n<p>but my application is not extending from WebMvcConfigurerAdapter and I don't know how to add that...</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677657660,"creation_date":1677657660,"answer_id":75600921,"question_id":75517147,"body_markdown":"The code you use to register your &quot;function&quot; doesn&#39;t work. You can&#39;t register a function under the &quot;name&quot; `(?1 | ?2)`. You have to register a function under an alphanumeric name e.g. `bit_or`\r\n\r\n```\r\n@Override\r\npublic void contribute(MetadataBuilder metadataBuilder) {\r\n    metadataBuilder.applySqlFunction(\r\n            &quot;bit_or&quot;,\r\n            new StandardSQLFunction(\r\n                &quot;(?1 | ?2)&quot;,\r\n                StandardBasicTypes.INTEGER\r\n            )\r\n        );\r\n    \r\n}\r\n```\r\n\r\nand use it in your query that way:\r\n\r\n```\r\nbit_or(t1.col1, t1.col2) = :notIntOnly \r\n```","title":"BITWISE AND OR function not working in HIBERNATE 6.1","body":"<p>The code you use to register your &quot;function&quot; doesn't work. You can't register a function under the &quot;name&quot; <code>(?1 | ?2)</code>. You have to register a function under an alphanumeric name e.g. <code>bit_or</code></p>\n<pre><code>@Override\npublic void contribute(MetadataBuilder metadataBuilder) {\n    metadataBuilder.applySqlFunction(\n            &quot;bit_or&quot;,\n            new StandardSQLFunction(\n                &quot;(?1 | ?2)&quot;,\n                StandardBasicTypes.INTEGER\n            )\n        );\n    \n}\n</code></pre>\n<p>and use it in your query that way:</p>\n<pre><code>bit_or(t1.col1, t1.col2) = :notIntOnly \n</code></pre>\n"}],"owner":{"account_id":11777864,"reputation":776,"user_id":8618598,"accept_rate":90,"display_name":"Vikram R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677657660,"creation_date":1676962629,"question_id":75517147,"body_markdown":"I am using SQL Server and Spring boot 3.0.2 and HIBERNATE 6.1, and my JPA query look like this.\r\n\r\n    (t1.col1 | t1.col2) = :notIntOnly \r\n\r\nMy custom `SQLServer2012DialectCustom` code\r\n\r\n    @Override\r\n    public void contribute(MetadataBuilder metadataBuilder) {\r\n    \tmetadataBuilder.applySqlFunction(\r\n                &quot;(?1 | ?2)&quot;,\r\n                new StandardSQLFunction(\r\n                    &quot;(?1 | ?2)&quot;,\r\n                    StandardBasicTypes.INTEGER\r\n                )\r\n            );\r\n    \t\r\n    }\r\n\r\n\r\nBut I am getting below error\r\n\r\n    Caused by: org.hibernate.query.SemanticException: A query exception occurred []\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:130)\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747)\r\n    \tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\r\n    \tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744)\r\n    \t... 70 common frames omitted\r\n    Caused by: org.hibernate.query.sqm.ParsingException: line 1:146 no viable alternative at input &#39;|&#39;\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)\r\n    \tat org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\r\n    \tat org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543)\r\n    \tat org.antlr.v4.runtime.DefaultErrorStrategy.reportNoViableAlternative(DefaultErrorStrategy.java:310)\r\n    \tat org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:136)\r\n    \tat org.hibernate.grammars.hql.HqlParser.queryExpression(HqlParser.java:1180)\r\n    \tat org.hibernate.grammars.hql.HqlParser.selectStatement(HqlParser.java:382)\r\n    \tat org.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:313)\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:116)\r\n    \t... 75 common frames omitted\r\n\r\n","title":"BITWISE AND OR function not working in HIBERNATE 6.1","body":"<p>I am using SQL Server and Spring boot 3.0.2 and HIBERNATE 6.1, and my JPA query look like this.</p>\n<pre><code>(t1.col1 | t1.col2) = :notIntOnly \n</code></pre>\n<p>My custom <code>SQLServer2012DialectCustom</code> code</p>\n<pre><code>@Override\npublic void contribute(MetadataBuilder metadataBuilder) {\n    metadataBuilder.applySqlFunction(\n            &quot;(?1 | ?2)&quot;,\n            new StandardSQLFunction(\n                &quot;(?1 | ?2)&quot;,\n                StandardBasicTypes.INTEGER\n            )\n        );\n    \n}\n</code></pre>\n<p>But I am getting below error</p>\n<pre><code>Caused by: org.hibernate.query.SemanticException: A query exception occurred []\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:130)\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)\n    at org.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744)\n    ... 70 common frames omitted\nCaused by: org.hibernate.query.sqm.ParsingException: line 1:146 no viable alternative at input '|'\n    at org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)\n    at org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\n    at org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543)\n    at org.antlr.v4.runtime.DefaultErrorStrategy.reportNoViableAlternative(DefaultErrorStrategy.java:310)\n    at org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:136)\n    at org.hibernate.grammars.hql.HqlParser.queryExpression(HqlParser.java:1180)\n    at org.hibernate.grammars.hql.HqlParser.selectStatement(HqlParser.java:382)\n    at org.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:313)\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:116)\n    ... 75 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":2,"creation_date":1677671465,"post_id":75600873,"comment_id":133382693,"body_markdown":"what is the return type of the function that you are sowing here? Additionally, Mono&lt;Flux&lt;T&gt;&gt; looks a bit strange, you can use `flatMapMany` instead of `flatMap` and your return type will be Flux&lt;T&gt;","body":"what is the return type of the function that you are sowing here? Additionally, Mono&lt;Flux&lt;T&gt;&gt; looks a bit strange, you can use <code>flatMapMany</code> instead of <code>flatMap</code> and your return type will be Flux&lt;T&gt;"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677657292,"creation_date":1677657292,"question_id":75600873,"body_markdown":"I have the below code, in which i want to return a flux inside a mono, but i have this error\r\n\r\n&gt; no instance(s) of type variable(s) R exist so that Flux&lt;Object&gt;\r\n&gt; conforms to Mono&lt;? extends R&gt;\r\n\r\n        return occurrenceApi.getOccurrenceById(id).flatMap(response -&gt; {\r\n\r\n            final Flux&lt;Object&gt; commands = Flux.fromIterable(Arrays.asList(response.getCommand1(), response.getCommand2()));\r\n\r\n            final Flux&lt;Object&gt; result = commandGateway.sendAll(commands);\r\n\t\t\t\r\n\t\t\treturn result;\r\n\r\n        });","title":"return a flux inside a mono","body":"<p>I have the below code, in which i want to return a flux inside a mono, but i have this error</p>\n<blockquote>\n<p>no instance(s) of type variable(s) R exist so that Flux\nconforms to Mono&lt;? extends R&gt;</p>\n</blockquote>\n<pre><code>    return occurrenceApi.getOccurrenceById(id).flatMap(response -&gt; {\n\n        final Flux&lt;Object&gt; commands = Flux.fromIterable(Arrays.asList(response.getCommand1(), response.getCommand2()));\n\n        final Flux&lt;Object&gt; result = commandGateway.sendAll(commands);\n        \n        return result;\n\n    });\n</code></pre>\n"},{"tags":["java","json","spring-boot","gson","qjsonobject"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1677663006,"post_id":75228186,"comment_id":133380404,"body_markdown":"What is `JSONObject`? Gson doesn&#39;t have such a class. Are you mixing Gson and Jackson?","body":"What is <code>JSONObject</code>? Gson doesn&#39;t have such a class. Are you mixing Gson and Jackson?"}],"answers":[{"tags":[],"owner":{"account_id":1477212,"reputation":768,"user_id":1387330,"accept_rate":62,"display_name":"Denis Voloshin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674646365,"creation_date":1674646365,"answer_id":75233369,"question_id":75228186,"body_markdown":"Try this code, it is supposed to do what you need.\r\n\r\n    package com;\r\n    \r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.util.LinkedHashMap;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            String json = &quot;{\\n&quot; +\r\n                    &quot;    \\&quot;header\\&quot;:{\\n&quot; +\r\n                    &quot;        \\&quot;name\\&quot;: \\&quot;transactionCount\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;version\\&quot;: \\&quot;2.0\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;code\\&quot;: \\&quot;1530\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;country\\&quot;: \\&quot;MX\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;domain\\&quot;: \\&quot;counts\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;time\\&quot;: \\&quot;2018-10-11 11:20:34.323 GMT\\&quot;\\n&quot; +\r\n                    &quot;    },\\n&quot; +\r\n                    &quot;    \\&quot;body\\&quot;:{\\n&quot; +\r\n                    &quot;        \\&quot;INPUNT\\&quot;: \\&quot;I\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;MESSAGE_01\\&quot;: \\&quot;RSTW\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;MESSAGE_02\\&quot;: \\&quot;MNXTYP\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;MESSAGE_03\\&quot;: \\&quot;RSTWERDCV\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;SEND_TIME\\&quot;: \\&quot;20-NOV-2011 04:53:04 p.m.\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;RCV_ID\\&quot;: \\&quot;ABGRCV\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;FORMAT0_MONTO\\&quot;: \\&quot;200,000,300.00\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;FORMATO_MONEDA\\&quot;: \\&quot;USD\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;CONTROL_01\\&quot;: \\&quot;MSG1RCVSND\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;CONTROL_02\\&quot;: \\&quot;MSG2RCVSND\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;CONTROL_03\\&quot;: \\&quot;MSG3RCVSND\\&quot;\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;}&quot;;\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            LinkedHashMap hashMap = objectMapper.readValue(json, LinkedHashMap.class);\r\n            Event event =  new Event(hashMap);\r\n            System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event));\r\n        }\r\n    \r\n        public static class Event {\r\n            @JsonProperty(&quot;event&quot;)\r\n            private LinkedHashMap event;\r\n            public Event(LinkedHashMap event){\r\n                this.event = event;\r\n            }\r\n        }\r\n    }","title":"How to remove the &quot;nameValuePairs&quot; key from a json in java SpringBoot?","body":"<p>Try this code, it is supposed to do what you need.</p>\n<pre><code>package com;\n\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.LinkedHashMap;\n\npublic class Main {\n    public static void main(String[] args) throws JsonProcessingException {\n        String json = &quot;{\\n&quot; +\n                &quot;    \\&quot;header\\&quot;:{\\n&quot; +\n                &quot;        \\&quot;name\\&quot;: \\&quot;transactionCount\\&quot;,\\n&quot; +\n                &quot;        \\&quot;version\\&quot;: \\&quot;2.0\\&quot;,\\n&quot; +\n                &quot;        \\&quot;code\\&quot;: \\&quot;1530\\&quot;,\\n&quot; +\n                &quot;        \\&quot;country\\&quot;: \\&quot;MX\\&quot;,\\n&quot; +\n                &quot;        \\&quot;domain\\&quot;: \\&quot;counts\\&quot;,\\n&quot; +\n                &quot;        \\&quot;time\\&quot;: \\&quot;2018-10-11 11:20:34.323 GMT\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    \\&quot;body\\&quot;:{\\n&quot; +\n                &quot;        \\&quot;INPUNT\\&quot;: \\&quot;I\\&quot;,\\n&quot; +\n                &quot;        \\&quot;MESSAGE_01\\&quot;: \\&quot;RSTW\\&quot;,\\n&quot; +\n                &quot;        \\&quot;MESSAGE_02\\&quot;: \\&quot;MNXTYP\\&quot;,\\n&quot; +\n                &quot;        \\&quot;MESSAGE_03\\&quot;: \\&quot;RSTWERDCV\\&quot;,\\n&quot; +\n                &quot;        \\&quot;SEND_TIME\\&quot;: \\&quot;20-NOV-2011 04:53:04 p.m.\\&quot;,\\n&quot; +\n                &quot;        \\&quot;RCV_ID\\&quot;: \\&quot;ABGRCV\\&quot;,\\n&quot; +\n                &quot;        \\&quot;FORMAT0_MONTO\\&quot;: \\&quot;200,000,300.00\\&quot;,\\n&quot; +\n                &quot;        \\&quot;FORMATO_MONEDA\\&quot;: \\&quot;USD\\&quot;,\\n&quot; +\n                &quot;        \\&quot;CONTROL_01\\&quot;: \\&quot;MSG1RCVSND\\&quot;,\\n&quot; +\n                &quot;        \\&quot;CONTROL_02\\&quot;: \\&quot;MSG2RCVSND\\&quot;,\\n&quot; +\n                &quot;        \\&quot;CONTROL_03\\&quot;: \\&quot;MSG3RCVSND\\&quot;\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;}&quot;;\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        LinkedHashMap hashMap = objectMapper.readValue(json, LinkedHashMap.class);\n        Event event =  new Event(hashMap);\n        System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event));\n    }\n\n    public static class Event {\n        @JsonProperty(&quot;event&quot;)\n        private LinkedHashMap event;\n        public Event(LinkedHashMap event){\n            this.event = event;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8862129,"reputation":126,"user_id":9972415,"display_name":"tho nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656828,"creation_date":1677656828,"answer_id":75600817,"question_id":75228186,"body_markdown":"Use Map instead of JSONObject would fix **nameValuePairs**\r\n\r\nThe code should be like this\r\n\r\n      public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        gsonBuilder.setPrettyPrinting();\r\n        gsonBuilder.disableHtmlEscaping();\r\n\r\n        Map&lt;Object,Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;event&quot;,citiMarketObject);\r\n\r\n        Gson gson = gsonBuilder.create();\r\n        return gson.toJson(map);\r\n    }","title":"How to remove the &quot;nameValuePairs&quot; key from a json in java SpringBoot?","body":"<p>Use Map instead of JSONObject would fix <strong>nameValuePairs</strong></p>\n<p>The code should be like this</p>\n<pre><code>  public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.setPrettyPrinting();\n    gsonBuilder.disableHtmlEscaping();\n\n    Map&lt;Object,Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;event&quot;,citiMarketObject);\n\n    Gson gson = gsonBuilder.create();\n    return gson.toJson(map);\n}\n</code></pre>\n"}],"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75233369,"answer_count":2,"score":1,"last_activity_date":1677656828,"creation_date":1674601452,"question_id":75228186,"body_markdown":"I have the following method that when receiving an xml in a String converts it to objects of type **CitiMarketSSAEvent**\r\n\r\n    public CitiMarketSSAEvent convertXmlToObject(String xml){\r\n        CitiMarketSSAEvent citiMarket = null;\r\n        \r\n        JAXBContext jaxbContext =     JAXBContext.newInstance(CitiMarketSSAEvent.class);\r\n        Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n        StringReader reader = new StringReader(xml);\r\n        citiMarket = (CitiMarketSSAEvent) unmarshaller.unmarshal(reader);\r\n        return citiMarket;\r\n    }\r\n\r\nand then I have the following method that converts the objects of that class into a json\r\n\r\n    public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        gsonBuilder.setPrettyPrinting();\r\n        gsonBuilder.disableHtmlEscaping();\r\n    \r\n        Gson gson = gsonBuilder.create();\r\n        return gson.toJson(citiMarketObject, CitiMarketSSAEvent.class);\r\n    }\r\n\r\nand it paints the json as follows\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n        &quot;header&quot;:{\r\n            &quot;name&quot;: &quot;transactionCount&quot;,\r\n            &quot;version&quot;: &quot;2.0&quot;,\r\n            &quot;code&quot;: &quot;1530&quot;,\r\n            &quot;country&quot;: &quot;MX&quot;,\r\n            &quot;domain&quot;: &quot;counts&quot;,\r\n            &quot;time&quot;: &quot;2018-10-11 11:20:34.323 GMT&quot;,\r\n        },\r\n        &quot;body&quot;:{\r\n            &quot;INPUNT&quot;: &quot;I&quot;,\r\n            &quot;MESSAGE_01&quot;: &quot;RSTW&quot;,\r\n            &quot;MESSAGE_02&quot;: &quot;MNXTYP&quot;,\r\n            &quot;MESSAGE_03&quot;: &quot;RSTWERDCV&quot;,\r\n            &quot;SEND_TIME&quot;: &quot;20-NOV-2011 04:53:04 p.m.&quot;,\r\n            &quot;RCV_ID&quot;: &quot;ABGRCV&quot;,\r\n            &quot;FORMAT0_MONTO&quot;: &quot;200,000,300.00&quot;,\r\n            &quot;FORMATO_MONEDA&quot;: &quot;USD&quot;,\r\n            &quot;CONTROL_01&quot;: &quot;MSG1RCVSND&quot;,\r\n            &quot;CONTROL_02&quot;: &quot;MSG2RCVSND&quot;,\r\n            &quot;CONTROL_03&quot;: &quot;MSG3RCVSND&quot;,\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nbut I want to add the &quot;event&quot; key to the json in such a way that I get something like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n     &quot;event&quot;:{\r\n        &quot;header&quot;:{\r\n            &quot;name&quot;: &quot;transactionCount&quot;,\r\n            &quot;version&quot;: &quot;2.0&quot;,\r\n            &quot;code&quot;: &quot;1530&quot;,\r\n            &quot;country&quot;: &quot;MX&quot;,\r\n            &quot;domain&quot;: &quot;counts&quot;,\r\n            &quot;time&quot;: &quot;2018-10-11 11:20:34.323 GMT&quot;,\r\n        },\r\n        &quot;body&quot;:{\r\n            &quot;INPUNT&quot;: &quot;I&quot;,\r\n            &quot;MESSAGE_01&quot;: &quot;RSTW&quot;,\r\n            &quot;MESSAGE_02&quot;: &quot;MNXTYP&quot;,\r\n            &quot;MESSAGE_03&quot;: &quot;RSTWERDCV&quot;,\r\n            &quot;SEND_TIME&quot;: &quot;20-NOV-2011 04:53:04 p.m.&quot;,\r\n            &quot;RCV_ID&quot;: &quot;ABGRCV&quot;,\r\n            &quot;FORMAT0_MONTO&quot;: &quot;200,000,300.00&quot;,\r\n            &quot;FORMATO_MONEDA&quot;: &quot;USD&quot;,\r\n            &quot;CONTROL_01&quot;: &quot;MSG1RCVSND&quot;,\r\n            &quot;CONTROL_02&quot;: &quot;MSG2RCVSND&quot;,\r\n            &quot;CONTROL_03&quot;: &quot;MSG3RCVSND&quot;,\r\n        }\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand then I modified my method as follows using **JSONObject**\r\n\r\n \r\n\r\n    public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setPrettyPrinting();\r\n            gsonBuilder.disableHtmlEscaping();\r\n            \r\n            JSONObject jsonObj = new JSONObject();\r\n            jsonObj.put(&quot;event&quot;,citiMarketObject);\r\n            \r\n            Gson gson = gsonBuilder.create();\r\n            return gson.toJson(jsonObj, JSONObject.class);                                            \r\n      }\r\n\r\nand it throws me the json but the key &quot;nameValuePairs&quot; was added, how can it be removed? Or how else can I do it to just add the &quot;event&quot; key?\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     {\r\n        &quot;nameValuePairs&quot;:{\r\n            &quot;event&quot;:{\r\n                &quot;header&quot;:{\r\n                    &quot;name&quot;: &quot;transactionCount&quot;,\r\n                    &quot;version&quot;: &quot;2.0&quot;,\r\n                    &quot;code&quot;: &quot;1530&quot;,\r\n                    &quot;country&quot;: &quot;MX&quot;,\r\n                    &quot;domain&quot;: &quot;counts&quot;,\r\n                    &quot;time&quot;: &quot;2018-10-11 11:20:34.323 GMT&quot;,\r\n                },\r\n                &quot;body&quot;:{\r\n                    &quot;INPUNT&quot;: &quot;I&quot;,\r\n                    &quot;MESSAGE_01&quot;: &quot;RSTW&quot;,\r\n                    &quot;MESSAGE_02&quot;: &quot;MNXTYP&quot;,\r\n                    &quot;MESSAGE_03&quot;: &quot;RSTWERDCV&quot;,\r\n                    &quot;SEND_TIME&quot;: &quot;20-NOV-2011 04:53:04 p.m.&quot;,\r\n                    &quot;RCV_ID&quot;: &quot;ABGRCV&quot;,\r\n                    &quot;FORMAT0_MONTO&quot;: &quot;200,000,300.00&quot;,\r\n                    &quot;FORMATO_MONEDA&quot;: &quot;USD&quot;,\r\n                    &quot;CONTROL_01&quot;: &quot;MSG1RCVSND&quot;,\r\n                    &quot;CONTROL_02&quot;: &quot;MSG2RCVSND&quot;,\r\n                    &quot;CONTROL_03&quot;: &quot;MSG3RCVSND&quot;,\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to remove the &quot;nameValuePairs&quot; key from a json in java SpringBoot?","body":"<p>I have the following method that when receiving an xml in a String converts it to objects of type <strong>CitiMarketSSAEvent</strong></p>\n<pre><code>public CitiMarketSSAEvent convertXmlToObject(String xml){\n    CitiMarketSSAEvent citiMarket = null;\n    \n    JAXBContext jaxbContext =     JAXBContext.newInstance(CitiMarketSSAEvent.class);\n    Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n    StringReader reader = new StringReader(xml);\n    citiMarket = (CitiMarketSSAEvent) unmarshaller.unmarshal(reader);\n    return citiMarket;\n}\n</code></pre>\n<p>and then I have the following method that converts the objects of that class into a json</p>\n<pre><code>public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.setPrettyPrinting();\n    gsonBuilder.disableHtmlEscaping();\n\n    Gson gson = gsonBuilder.create();\n    return gson.toJson(citiMarketObject, CitiMarketSSAEvent.class);\n}\n</code></pre>\n<p>and it paints the json as follows</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n    \"header\":{\n        \"name\": \"transactionCount\",\n        \"version\": \"2.0\",\n        \"code\": \"1530\",\n        \"country\": \"MX\",\n        \"domain\": \"counts\",\n        \"time\": \"2018-10-11 11:20:34.323 GMT\",\n    },\n    \"body\":{\n        \"INPUNT\": \"I\",\n        \"MESSAGE_01\": \"RSTW\",\n        \"MESSAGE_02\": \"MNXTYP\",\n        \"MESSAGE_03\": \"RSTWERDCV\",\n        \"SEND_TIME\": \"20-NOV-2011 04:53:04 p.m.\",\n        \"RCV_ID\": \"ABGRCV\",\n        \"FORMAT0_MONTO\": \"200,000,300.00\",\n        \"FORMATO_MONEDA\": \"USD\",\n        \"CONTROL_01\": \"MSG1RCVSND\",\n        \"CONTROL_02\": \"MSG2RCVSND\",\n        \"CONTROL_03\": \"MSG3RCVSND\",\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>but I want to add the &quot;event&quot; key to the json in such a way that I get something like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n \"event\":{\n    \"header\":{\n        \"name\": \"transactionCount\",\n        \"version\": \"2.0\",\n        \"code\": \"1530\",\n        \"country\": \"MX\",\n        \"domain\": \"counts\",\n        \"time\": \"2018-10-11 11:20:34.323 GMT\",\n    },\n    \"body\":{\n        \"INPUNT\": \"I\",\n        \"MESSAGE_01\": \"RSTW\",\n        \"MESSAGE_02\": \"MNXTYP\",\n        \"MESSAGE_03\": \"RSTWERDCV\",\n        \"SEND_TIME\": \"20-NOV-2011 04:53:04 p.m.\",\n        \"RCV_ID\": \"ABGRCV\",\n        \"FORMAT0_MONTO\": \"200,000,300.00\",\n        \"FORMATO_MONEDA\": \"USD\",\n        \"CONTROL_01\": \"MSG1RCVSND\",\n        \"CONTROL_02\": \"MSG2RCVSND\",\n        \"CONTROL_03\": \"MSG3RCVSND\",\n    }\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>and then I modified my method as follows using <strong>JSONObject</strong></p>\n<pre><code>public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\n        GsonBuilder gsonBuilder = new GsonBuilder();\n        gsonBuilder.setPrettyPrinting();\n        gsonBuilder.disableHtmlEscaping();\n        \n        JSONObject jsonObj = new JSONObject();\n        jsonObj.put(&quot;event&quot;,citiMarketObject);\n        \n        Gson gson = gsonBuilder.create();\n        return gson.toJson(jsonObj, JSONObject.class);                                            \n  }\n</code></pre>\n<p>and it throws me the json but the key &quot;nameValuePairs&quot; was added, how can it be removed? Or how else can I do it to just add the &quot;event&quot; key?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> {\n    \"nameValuePairs\":{\n        \"event\":{\n            \"header\":{\n                \"name\": \"transactionCount\",\n                \"version\": \"2.0\",\n                \"code\": \"1530\",\n                \"country\": \"MX\",\n                \"domain\": \"counts\",\n                \"time\": \"2018-10-11 11:20:34.323 GMT\",\n            },\n            \"body\":{\n                \"INPUNT\": \"I\",\n                \"MESSAGE_01\": \"RSTW\",\n                \"MESSAGE_02\": \"MNXTYP\",\n                \"MESSAGE_03\": \"RSTWERDCV\",\n                \"SEND_TIME\": \"20-NOV-2011 04:53:04 p.m.\",\n                \"RCV_ID\": \"ABGRCV\",\n                \"FORMAT0_MONTO\": \"200,000,300.00\",\n                \"FORMATO_MONEDA\": \"USD\",\n                \"CONTROL_01\": \"MSG1RCVSND\",\n                \"CONTROL_02\": \"MSG2RCVSND\",\n                \"CONTROL_03\": \"MSG3RCVSND\",\n            }\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","github","continuous-integration","cirrus-ci"],"owner":{"account_id":20522958,"reputation":46,"user_id":15062124,"display_name":"Damian Kopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677656721,"creation_date":1677615639,"question_id":75596922,"body_markdown":"I am creating an android app in java and locally, all the tests pass and everything builds succesfully. However, once I push the code to gitHub that uses cirrus for CI, I get the following issue:\r\n\r\n&gt; chmod +x gradlew\r\n&gt; ./gradlew assembleDebugAndroidTest\r\n&gt; Downloading https://services.gradle.org/distributions/gradle-7.5-bin.zip\r\n&gt; ...........10%............20%...........30%............40%...........50%............60%...........70%............80%...........90%............100%\r\n&gt; Welcome to Gradle 7.5!\r\n&gt; \r\n&gt; Here are the highlights of this release:\r\n&gt; Support for Java 18\r\n&gt; Support for building with Groovy 4\r\n&gt; Much more responsive continuous builds\r\n&gt; Improved diagnostics for dependency resolution\r\n&gt; \r\n&gt; For more details see https://docs.gradle.org/7.5/release-notes.html\r\n&gt; \r\n&gt; Starting a Gradle Daemon (subsequent builds will be faster)\r\n&gt; Configuration on demand is an incubating feature.\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; What went wrong:\r\n&gt; A problem occurred configuring project &#39;:app&#39;.\r\n&gt; Failed to notify project evaluation listener.\r\n&gt; The file &#39;/tmp/cirrus-ci-build/local.properties&#39; could not be found\r\n&gt; \r\n&gt; Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; \r\n&gt; Get more help at https://help.gradle.org\r\n&gt; \r\n&gt; BUILD FAILED in 35s\r\n\r\n\r\n\r\n\r\n\r\nI recently started to use the Google Maps API and I am not sure if the modifications that I did in the gradle files for that purpose introduced issues.\r\n\r\nThis is what my project build.gradle contains:\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n    }\r\n}\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n    id &#39;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&#39; version &#39;2.0.1&#39; apply false\r\n}\r\n```\r\n\r\nThe following is in my settings.gradle:\r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;CoachMe&quot;\r\ninclude &#39;:app&#39;\r\n\r\next.isCiServer = System.getenv().containsKey(&quot;CIRRUS_CI&quot;)\r\next.isMasterBranch = System.getenv()[&quot;CIRRUS_BRANCH&quot;] == &quot;main&quot;\r\next.buildCacheHost = System.getenv().getOrDefault(&quot;CIRRUS_HTTP_CACHE_HOST&quot;, &quot;localhost:12321&quot;)\r\n\r\nbuildCache {\r\n    local {\r\n        enabled = !isCiServer\r\n    }\r\n    remote(HttpBuildCache) {\r\n        url = &quot;http://${buildCacheHost}/&quot;\r\n        enabled = isCiServer\r\n        push = isMasterBranch\r\n    }\r\n}\r\n```\r\n\r\nI saw the post [Android Studio - Failed to notify project evaluation listener error](https://stackoverflow.com/questions/44094037/android-studio-failed-to-notify-project-evaluation-listener-error) but the suggestions did not help for me.\r\nDoes anyone have an idea where the issue could come from?\r\n\r\n\r\n**UPDATE:**\r\nI could resolve the issue by updating my .cirrus.yml file accordingly. I had to insert `echo MAPS_API_KEY=$MAPS_API_KEY &gt;&gt; local.properties` in the assemble_instrumented_tests_script. Also, I added the maps_api_key in the env section as `MAPS_API_KEY: ENCRYPTED[...]`.","title":"CI with cirrus: Failed to notify project evaluation listener error","body":"<p>I am creating an android app in java and locally, all the tests pass and everything builds succesfully. However, once I push the code to gitHub that uses cirrus for CI, I get the following issue:</p>\n<blockquote>\n<p>chmod +x gradlew\n./gradlew assembleDebugAndroidTest\nDownloading <a href=\"https://services.gradle.org/distributions/gradle-7.5-bin.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-7.5-bin.zip</a>\n...........10%............20%...........30%............40%...........50%............60%...........70%............80%...........90%............100%\nWelcome to Gradle 7.5!</p>\n<p>Here are the highlights of this release:\nSupport for Java 18\nSupport for building with Groovy 4\nMuch more responsive continuous builds\nImproved diagnostics for dependency resolution</p>\n<p>For more details see <a href=\"https://docs.gradle.org/7.5/release-notes.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.5/release-notes.html</a></p>\n<p>Starting a Gradle Daemon (subsequent builds will be faster)\nConfiguration on demand is an incubating feature.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<p>What went wrong:\nA problem occurred configuring project ':app'.\nFailed to notify project evaluation listener.\nThe file '/tmp/cirrus-ci-build/local.properties' could not be found</p>\n<p>Try:\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n<p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n<p>BUILD FAILED in 35s</p>\n</blockquote>\n<p>I recently started to use the Google Maps API and I am not sure if the modifications that I did in the gradle files for that purpose introduced issues.</p>\n<p>This is what my project build.gradle contains:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n    }\n}\nplugins {\n    id 'com.android.application' version '7.4.1' apply false\n    id 'com.android.library' version '7.4.1' apply false\n    id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin' version '2.0.1' apply false\n}\n</code></pre>\n<p>The following is in my settings.gradle:</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;CoachMe&quot;\ninclude ':app'\n\next.isCiServer = System.getenv().containsKey(&quot;CIRRUS_CI&quot;)\next.isMasterBranch = System.getenv()[&quot;CIRRUS_BRANCH&quot;] == &quot;main&quot;\next.buildCacheHost = System.getenv().getOrDefault(&quot;CIRRUS_HTTP_CACHE_HOST&quot;, &quot;localhost:12321&quot;)\n\nbuildCache {\n    local {\n        enabled = !isCiServer\n    }\n    remote(HttpBuildCache) {\n        url = &quot;http://${buildCacheHost}/&quot;\n        enabled = isCiServer\n        push = isMasterBranch\n    }\n}\n</code></pre>\n<p>I saw the post <a href=\"https://stackoverflow.com/questions/44094037/android-studio-failed-to-notify-project-evaluation-listener-error\">Android Studio - Failed to notify project evaluation listener error</a> but the suggestions did not help for me.\nDoes anyone have an idea where the issue could come from?</p>\n<p><strong>UPDATE:</strong>\nI could resolve the issue by updating my .cirrus.yml file accordingly. I had to insert <code>echo MAPS_API_KEY=$MAPS_API_KEY &gt;&gt; local.properties</code> in the assemble_instrumented_tests_script. Also, I added the maps_api_key in the env section as <code>MAPS_API_KEY: ENCRYPTED[...]</code>.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1677547116,"post_id":75586952,"comment_id":133355737,"body_markdown":"If your current output does not match your desired output, and you don&#39;t know why then it&#39;s time to start debugging. If you&#39;re not sure how to go about doing this, then please check out [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer.","body":"If your current output does not match your desired output, and you don&#39;t know why then it&#39;s time to start debugging. If you&#39;re not sure how to go about doing this, then please check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1677561125,"post_id":75586952,"comment_id":133357502,"body_markdown":"You wrote in your question: _after &#39;bonegame&#39; method has allowed the user one round, the next round will be the CPU&#39;s until one reaches 20 points._ That&#39;s not how your code works. It keeps giving the player another turn and another turn until she has exhausted all her rounds or her score has reached 20 points. Then method `computer` is [definitely] executed. Why do you think method `computer` does not run?","body":"You wrote in your question: <i>after &#39;bonegame&#39; method has allowed the user one round, the next round will be the CPU&#39;s until one reaches 20 points.</i> That&#39;s not how your code works. It keeps giving the player another turn and another turn until she has exhausted all her rounds or her score has reached 20 points. Then method <code>computer</code> is [definitely] executed. Why do you think method <code>computer</code> does not run?"},{"owner":{"account_id":27729629,"reputation":1,"user_id":21168411,"display_name":"Sponge curry"},"score":0,"creation_date":1677642375,"post_id":75586952,"comment_id":133376818,"body_markdown":"@abra I was not aware of it running afterwards. So how could I fix bone game method to stop after one round? To allow for the CPU","body":"@abra I was not aware of it running afterwards. So how could I fix bone game method to stop after one round? To allow for the CPU"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656038,"creation_date":1677656038,"answer_id":75600702,"question_id":75586952,"body_markdown":"In order for the player and the computer to take turns, you need to execute a single turn for the player, followed by a single turn for the computer and you need to repeat that in a loop until either all the rounds are exhausted or someone wins.\r\n\r\nThe below code is a [SSCCE][1]. Note that you only need to create a `Random` object and a `Scanner` object only once &amp;ndash; and not each time you need to generate a random number or get input from the user.\r\n\r\nI suggest that you run the code with a debugger as that may help you better understand how the code works.\r\n```java\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class BoneGame {\r\n    private static final int POINTS_BLANK = 0;\r\n    private static final int POINTS_CHECKERED = 1;\r\n    private static final int POINTS_CIRCLE = 3;\r\n    private static final int POINTS_DIAMOND = 4;\r\n    private static final int POINTS_LINE = 1;\r\n    private static final int POINTS_TRIANGLE = 2;\r\n    private static final int REROLLS = 3;\r\n    private static final int ROUNDS = 10;\r\n    private static final int WINNER = 20;\r\n\r\n    private static final Random RANDOM = new Random();\r\n\r\n    private static final Scanner STDIN = new Scanner(System.in);\r\n\r\n    private static final String BLANK = &quot;blank&quot;;\r\n    private static final String CHECKERED = &quot;checkered&quot;;\r\n    private static final String CIRCLE = &quot;circle&quot;;\r\n    private static final String DIAMOND = &quot;diamond&quot;;\r\n    private static final String LINE = &quot;line&quot;;\r\n    private static final String TRIANGLE = &quot;triangle&quot;;\r\n\r\n    private static int rerolls;\r\n\r\n    private static int turn() {\r\n        int checkered = RANDOM.nextInt(2);\r\n        int circle = RANDOM.nextInt(2);\r\n        int diamond = RANDOM.nextInt(2);\r\n        int line = RANDOM.nextInt(2);\r\n        int triangle = RANDOM.nextInt(2);\r\n        int score = 0;\r\n        if (checkered &gt; 0) {\r\n            System.out.println(CHECKERED);\r\n            score += POINTS_CHECKERED;\r\n        }\r\n        if (circle &gt; 0) {\r\n            System.out.println(CIRCLE);\r\n            score += POINTS_CIRCLE;\r\n        }\r\n        if (diamond &gt; 0) {\r\n            System.out.println(DIAMOND);\r\n            score += POINTS_DIAMOND;\r\n        }\r\n        if (line &gt; 0) {\r\n            System.out.println(LINE);\r\n            score += POINTS_LINE;\r\n        }\r\n        if (triangle &gt; 0) {\r\n            System.out.println(TRIANGLE);\r\n            score += POINTS_TRIANGLE;\r\n        }\r\n        if (score == POINTS_BLANK) {\r\n            System.out.println(BLANK);\r\n        }\r\n        return score;\r\n    }\r\n\r\n    private static int turnComputer() {\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        System.out.println(&quot;Computer turn...&quot;);\r\n        return turn();\r\n    }\r\n\r\n    private static int turnPlayer() {\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        System.out.println(&quot;Player turn...&quot;);\r\n        int score = turn();\r\n        System.out.println(&quot;You scored: &quot; + score);\r\n        if (rerolls &lt; REROLLS) {\r\n            System.out.print(&quot;Roll again? [Y/N]: &quot;);\r\n            String choice = STDIN.nextLine();\r\n            if (&quot;Y&quot;.equalsIgnoreCase(choice)) {\r\n                rerolls++;\r\n                score = turn();\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;You have no more rerolls.&quot;);\r\n        }\r\n        return score;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int scoreComputer = 0;\r\n        int scorePlayer = 0;\r\n        int round = 1;\r\n        while (round &lt;= ROUNDS) {\r\n            System.out.println();\r\n            System.out.println(&quot;====================================================================&quot;);\r\n            System.out.printf(&quot;Round %2d:%n&quot;, round);\r\n            scorePlayer += turnPlayer();\r\n            System.out.println(&quot;Your current score: &quot; + scorePlayer);\r\n            if (scorePlayer &gt;= WINNER) {\r\n                System.out.println(&quot;You win!&quot;);\r\n                break;\r\n            }\r\n            scoreComputer += turnComputer();\r\n            System.out.println(&quot;Computer current score: &quot; + scoreComputer);\r\n            if (scoreComputer &gt;= WINNER) {\r\n                System.out.println(&quot;Computer won.&quot;);\r\n                break;\r\n            }\r\n            round++;\r\n        }\r\n        if (round &gt; ROUNDS) {\r\n            System.out.println(&quot;It&#39;s a tie!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nOutput from a sample run...\r\n```none\r\n\r\n====================================================================\r\nRound  1:\r\n====================================================================\r\nPlayer turn...\r\ndiamond\r\ntriangle\r\nYou scored: 6\r\nRoll again? [Y/N]: N\r\nYour current score: 6\r\n====================================================================\r\nComputer turn...\r\ncheckered\r\ncircle\r\nline\r\ntriangle\r\nComputer current score: 7\r\n\r\n====================================================================\r\nRound  2:\r\n====================================================================\r\nPlayer turn...\r\ncheckered\r\ndiamond\r\nline\r\nYou scored: 6\r\nRoll again? [Y/N]: n\r\nYour current score: 12\r\n====================================================================\r\nComputer turn...\r\ncheckered\r\ncircle\r\ndiamond\r\nComputer current score: 15\r\n\r\n====================================================================\r\nRound  3:\r\n====================================================================\r\nPlayer turn...\r\ncircle\r\ndiamond\r\nYou scored: 7\r\nRoll again? [Y/N]: y\r\ncheckered\r\ntriangle\r\nYour current score: 15\r\n====================================================================\r\nComputer turn...\r\ndiamond\r\nline\r\nComputer current score: 20\r\nComputer won.\r\n```\r\n\r\n\r\n  [1]: http://sscce.org/","title":"java method . &#39;computer&#39; method never running after &#39;bonegame&#39; method","body":"<p>In order for the player and the computer to take turns, you need to execute a single turn for the player, followed by a single turn for the computer and you need to repeat that in a loop until either all the rounds are exhausted or someone wins.</p>\n<p>The below code is a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. Note that you only need to create a <code>Random</code> object and a <code>Scanner</code> object only once  and not each time you need to generate a random number or get input from the user.</p>\n<p>I suggest that you run the code with a debugger as that may help you better understand how the code works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class BoneGame {\n    private static final int POINTS_BLANK = 0;\n    private static final int POINTS_CHECKERED = 1;\n    private static final int POINTS_CIRCLE = 3;\n    private static final int POINTS_DIAMOND = 4;\n    private static final int POINTS_LINE = 1;\n    private static final int POINTS_TRIANGLE = 2;\n    private static final int REROLLS = 3;\n    private static final int ROUNDS = 10;\n    private static final int WINNER = 20;\n\n    private static final Random RANDOM = new Random();\n\n    private static final Scanner STDIN = new Scanner(System.in);\n\n    private static final String BLANK = &quot;blank&quot;;\n    private static final String CHECKERED = &quot;checkered&quot;;\n    private static final String CIRCLE = &quot;circle&quot;;\n    private static final String DIAMOND = &quot;diamond&quot;;\n    private static final String LINE = &quot;line&quot;;\n    private static final String TRIANGLE = &quot;triangle&quot;;\n\n    private static int rerolls;\n\n    private static int turn() {\n        int checkered = RANDOM.nextInt(2);\n        int circle = RANDOM.nextInt(2);\n        int diamond = RANDOM.nextInt(2);\n        int line = RANDOM.nextInt(2);\n        int triangle = RANDOM.nextInt(2);\n        int score = 0;\n        if (checkered &gt; 0) {\n            System.out.println(CHECKERED);\n            score += POINTS_CHECKERED;\n        }\n        if (circle &gt; 0) {\n            System.out.println(CIRCLE);\n            score += POINTS_CIRCLE;\n        }\n        if (diamond &gt; 0) {\n            System.out.println(DIAMOND);\n            score += POINTS_DIAMOND;\n        }\n        if (line &gt; 0) {\n            System.out.println(LINE);\n            score += POINTS_LINE;\n        }\n        if (triangle &gt; 0) {\n            System.out.println(TRIANGLE);\n            score += POINTS_TRIANGLE;\n        }\n        if (score == POINTS_BLANK) {\n            System.out.println(BLANK);\n        }\n        return score;\n    }\n\n    private static int turnComputer() {\n        System.out.println(&quot;====================================================================&quot;);\n        System.out.println(&quot;Computer turn...&quot;);\n        return turn();\n    }\n\n    private static int turnPlayer() {\n        System.out.println(&quot;====================================================================&quot;);\n        System.out.println(&quot;Player turn...&quot;);\n        int score = turn();\n        System.out.println(&quot;You scored: &quot; + score);\n        if (rerolls &lt; REROLLS) {\n            System.out.print(&quot;Roll again? [Y/N]: &quot;);\n            String choice = STDIN.nextLine();\n            if (&quot;Y&quot;.equalsIgnoreCase(choice)) {\n                rerolls++;\n                score = turn();\n            }\n        }\n        else {\n            System.out.println(&quot;You have no more rerolls.&quot;);\n        }\n        return score;\n    }\n\n    public static void main(String[] args) {\n        int scoreComputer = 0;\n        int scorePlayer = 0;\n        int round = 1;\n        while (round &lt;= ROUNDS) {\n            System.out.println();\n            System.out.println(&quot;====================================================================&quot;);\n            System.out.printf(&quot;Round %2d:%n&quot;, round);\n            scorePlayer += turnPlayer();\n            System.out.println(&quot;Your current score: &quot; + scorePlayer);\n            if (scorePlayer &gt;= WINNER) {\n                System.out.println(&quot;You win!&quot;);\n                break;\n            }\n            scoreComputer += turnComputer();\n            System.out.println(&quot;Computer current score: &quot; + scoreComputer);\n            if (scoreComputer &gt;= WINNER) {\n                System.out.println(&quot;Computer won.&quot;);\n                break;\n            }\n            round++;\n        }\n        if (round &gt; ROUNDS) {\n            System.out.println(&quot;It's a tie!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Output from a sample run...</p>\n<pre class=\"lang-none prettyprint-override\"><code>\n====================================================================\nRound  1:\n====================================================================\nPlayer turn...\ndiamond\ntriangle\nYou scored: 6\nRoll again? [Y/N]: N\nYour current score: 6\n====================================================================\nComputer turn...\ncheckered\ncircle\nline\ntriangle\nComputer current score: 7\n\n====================================================================\nRound  2:\n====================================================================\nPlayer turn...\ncheckered\ndiamond\nline\nYou scored: 6\nRoll again? [Y/N]: n\nYour current score: 12\n====================================================================\nComputer turn...\ncheckered\ncircle\ndiamond\nComputer current score: 15\n\n====================================================================\nRound  3:\n====================================================================\nPlayer turn...\ncircle\ndiamond\nYou scored: 7\nRoll again? [Y/N]: y\ncheckered\ntriangle\nYour current score: 15\n====================================================================\nComputer turn...\ndiamond\nline\nComputer current score: 20\nComputer won.\n</code></pre>\n"}],"owner":{"account_id":27729629,"reputation":1,"user_id":21168411,"display_name":"Sponge curry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677656600,"creation_date":1677545636,"question_id":75586952,"body_markdown":"I&#39;m trying to create a game with a player versus a CPU. I&#39;ve finished the player part, but the CPU method named `computer` will not run. In theory the `computer` method should run after the players turn is done. \r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\nclass Main {\r\n\r\n  public static void main(String[] args) {\r\n    // acknowledgements\r\n    System.out.print(&quot;welcome to the Bone game ---  &quot;);\r\n    System.out.println(&quot;Created by the indigenous Blackfoot tribe&quot;);\r\n  System.out.println(&quot;=======================================================================&quot;);\r\n\r\n    int playerScore = bonegame(10);\r\n    System.out.println(&quot;Player score: &quot; + playerScore);\r\n    int computerScore = computer(10);\r\n    System.out.println(&quot;Computer score: &quot; + computerScore);\r\n    if (playerScore &gt; computerScore) {\r\n      System.out.println(&quot;Player wins!&quot;);\r\n    } else if (computerScore &gt; playerScore) {\r\n      System.out.println(&quot;Computer wins!&quot;);\r\n    } else {\r\n      System.out.println(&quot;It&#39;s a tie!&quot;);\r\n    }\r\n    bonegame(10);\r\n    score1();\r\n  }\r\n\r\n  //bone game method\r\n  public static int bonegame(int round){\r\n    // variables\r\n    \r\n    Random random = new Random();\r\n    //int cir = 3,dia = 4,tri = 2,lin = 1,che = 1,blanc = 0;\r\n    int cir = random.nextInt(2);\r\n    int dia = random.nextInt(2);\r\n    int tri = random.nextInt(2);\r\n    int lin = random.nextInt(2);\r\n    int che = random.nextInt(2);\r\n    //int comp = computer(cpu);\r\n  \r\n    String c = &quot;circle&quot;;\r\n    String bl = &quot;blank&quot;;\r\n    String d = &quot;diamond&quot;;\r\n    String t = &quot;triangle&quot;;\r\n    String l = &quot;line&quot;;\r\n    String check = &quot;checkered&quot;;\r\n    \r\n    round = 10;\r\n    int reroll = 0;\r\n    int score = 0;\r\n    while (round &gt;= 0 || score &lt;= 20){\r\n      //System.out.println(reroll);\r\n      System.out.println(&quot;round: &quot;+ round);\r\n      //System.out.println(&quot;your score: &quot; + score);\r\n      // System.out.println(&quot;computer score: &quot;+ cpu);\r\n      System.out.println(&quot;--------------------------&quot;);\r\n      if(cir ==1){\r\n        score += 3;\r\n        System.out.println(c);\r\n      }\r\n      if(dia ==1){\r\n        score += 4;\r\n        System.out.println(d);\r\n      }\r\n      if(tri ==1){\r\n        score += 2;\r\n        System.out.println(t);\r\n      }\r\n      if(lin ==1){\r\n        score += 1;\r\n        System.out.println(l);\r\n      }\r\n      if(che ==1){\r\n        score += 1;\r\n        System.out.println(check);\r\n      }\r\n      //blanks\r\n      if(cir ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(dia ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(tri ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(lin ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(che ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if (reroll == 3) {\r\n        System.out.println(&quot;You have used all your rerolls.&quot;);\r\n        break;\r\n      }\r\n      if (score &gt;= 20){\r\n        System.out.println(&quot;You win:&quot;+ score);\r\n        break;\r\n      }\r\n      System.out.print(&quot;current score: &quot;);\r\n      System.out.println(score);\r\n      System.out.println(&quot;-----------------&quot;);\r\n      //accept y or n\r\n      Scanner play = new Scanner(System.in);\r\n      System.out.println(&quot;To reroll type y ---- to continue type n&quot;);\r\n      String move = play.nextLine();\r\n      if (move.equals(&quot;y&quot;)){\r\n        reroll ++;\r\n        score = 0;\r\n        cir = random.nextInt(2);\r\n        dia = random.nextInt(2);\r\n        tri = random.nextInt(2);\r\n        lin = random.nextInt(2);\r\n        che = random.nextInt(2);\r\n        round = 10;\r\n      }\r\n      else {\r\n        round --;\r\n      }\r\n    }\r\n    return score;\r\n  }\r\n\r\n  //score\r\n  public static int score1() {\r\n    int scored = bonegame(10);\r\n    System.out.println(&quot;Player score: &quot; + scored);\r\n    System.out.println(&quot; &quot;);\r\n    return scored;\r\n  }\r\n\r\n  // Computer turn\r\n  public static int computer(int cpu){\r\n    Random random1 = new Random();\r\n    int cir = random1.nextInt(2);\r\n    int dia = random1.nextInt(2);\r\n    int tri = random1.nextInt(2);\r\n    int lin = random1.nextInt(2);\r\n    int che = random1.nextInt(2);\r\n    int ron = bonegame(10);\r\n    String c = &quot;circle&quot;;\r\n    String bl = &quot;blank&quot;;\r\n    String d = &quot;diamond&quot;;\r\n    String t = &quot;triangle&quot;;\r\n    String l = &quot;line&quot;;\r\n    String check = &quot;checkered&quot;;\r\n\r\n    while (ron &gt;= 0 || cpu &lt;= 20){\r\n      System.out.println(&quot;--------------------------&quot;);\r\n      if(cir ==1){\r\n        cpu += 3;\r\n        System.out.println(c);\r\n      }\r\n      if(dia ==1){\r\n        cpu += 4;\r\n        System.out.println(d);\r\n      }\r\n      if(tri ==1){\r\n        cpu += 2;\r\n        System.out.println(t);\r\n      }\r\n      if(lin ==1){\r\n        cpu += 1;\r\n        System.out.println(l);\r\n      }\r\n      if(che ==1){\r\n        cpu += 1;\r\n        System.out.println(check);\r\n      }\r\n      //blanks\r\n      if(cir ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(dia ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(tri ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(lin ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(che ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if (cpu &gt;= 20){\r\n        System.out.println(&quot;You lost:&quot;+ cpu);\r\n        break;\r\n      }\r\n      System.out.print(&quot;current CPU score: &quot;);\r\n      System.out.println(cpu);\r\n      System.out.println(&quot;-----------------&quot;);\r\n    }\r\n    return cpu;\r\n  }\r\n}\r\n```\r\nAfter `bonegame` method has allowed the user one round, the next round will be the CPU&#39;s until one reaches 20 points.","title":"java method . &#39;computer&#39; method never running after &#39;bonegame&#39; method","body":"<p>I'm trying to create a game with a player versus a CPU. I've finished the player part, but the CPU method named <code>computer</code> will not run. In theory the <code>computer</code> method should run after the players turn is done.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Random;\n\nclass Main {\n\n  public static void main(String[] args) {\n    // acknowledgements\n    System.out.print(&quot;welcome to the Bone game ---  &quot;);\n    System.out.println(&quot;Created by the indigenous Blackfoot tribe&quot;);\n  System.out.println(&quot;=======================================================================&quot;);\n\n    int playerScore = bonegame(10);\n    System.out.println(&quot;Player score: &quot; + playerScore);\n    int computerScore = computer(10);\n    System.out.println(&quot;Computer score: &quot; + computerScore);\n    if (playerScore &gt; computerScore) {\n      System.out.println(&quot;Player wins!&quot;);\n    } else if (computerScore &gt; playerScore) {\n      System.out.println(&quot;Computer wins!&quot;);\n    } else {\n      System.out.println(&quot;It's a tie!&quot;);\n    }\n    bonegame(10);\n    score1();\n  }\n\n  //bone game method\n  public static int bonegame(int round){\n    // variables\n    \n    Random random = new Random();\n    //int cir = 3,dia = 4,tri = 2,lin = 1,che = 1,blanc = 0;\n    int cir = random.nextInt(2);\n    int dia = random.nextInt(2);\n    int tri = random.nextInt(2);\n    int lin = random.nextInt(2);\n    int che = random.nextInt(2);\n    //int comp = computer(cpu);\n  \n    String c = &quot;circle&quot;;\n    String bl = &quot;blank&quot;;\n    String d = &quot;diamond&quot;;\n    String t = &quot;triangle&quot;;\n    String l = &quot;line&quot;;\n    String check = &quot;checkered&quot;;\n    \n    round = 10;\n    int reroll = 0;\n    int score = 0;\n    while (round &gt;= 0 || score &lt;= 20){\n      //System.out.println(reroll);\n      System.out.println(&quot;round: &quot;+ round);\n      //System.out.println(&quot;your score: &quot; + score);\n      // System.out.println(&quot;computer score: &quot;+ cpu);\n      System.out.println(&quot;--------------------------&quot;);\n      if(cir ==1){\n        score += 3;\n        System.out.println(c);\n      }\n      if(dia ==1){\n        score += 4;\n        System.out.println(d);\n      }\n      if(tri ==1){\n        score += 2;\n        System.out.println(t);\n      }\n      if(lin ==1){\n        score += 1;\n        System.out.println(l);\n      }\n      if(che ==1){\n        score += 1;\n        System.out.println(check);\n      }\n      //blanks\n      if(cir ==0){\n        System.out.println(bl);\n      }\n      if(dia ==0){\n        System.out.println(bl);\n      }\n      if(tri ==0){\n        System.out.println(bl);\n      }\n      if(lin ==0){\n        System.out.println(bl);\n      }\n      if(che ==0){\n        System.out.println(bl);\n      }\n      if (reroll == 3) {\n        System.out.println(&quot;You have used all your rerolls.&quot;);\n        break;\n      }\n      if (score &gt;= 20){\n        System.out.println(&quot;You win:&quot;+ score);\n        break;\n      }\n      System.out.print(&quot;current score: &quot;);\n      System.out.println(score);\n      System.out.println(&quot;-----------------&quot;);\n      //accept y or n\n      Scanner play = new Scanner(System.in);\n      System.out.println(&quot;To reroll type y ---- to continue type n&quot;);\n      String move = play.nextLine();\n      if (move.equals(&quot;y&quot;)){\n        reroll ++;\n        score = 0;\n        cir = random.nextInt(2);\n        dia = random.nextInt(2);\n        tri = random.nextInt(2);\n        lin = random.nextInt(2);\n        che = random.nextInt(2);\n        round = 10;\n      }\n      else {\n        round --;\n      }\n    }\n    return score;\n  }\n\n  //score\n  public static int score1() {\n    int scored = bonegame(10);\n    System.out.println(&quot;Player score: &quot; + scored);\n    System.out.println(&quot; &quot;);\n    return scored;\n  }\n\n  // Computer turn\n  public static int computer(int cpu){\n    Random random1 = new Random();\n    int cir = random1.nextInt(2);\n    int dia = random1.nextInt(2);\n    int tri = random1.nextInt(2);\n    int lin = random1.nextInt(2);\n    int che = random1.nextInt(2);\n    int ron = bonegame(10);\n    String c = &quot;circle&quot;;\n    String bl = &quot;blank&quot;;\n    String d = &quot;diamond&quot;;\n    String t = &quot;triangle&quot;;\n    String l = &quot;line&quot;;\n    String check = &quot;checkered&quot;;\n\n    while (ron &gt;= 0 || cpu &lt;= 20){\n      System.out.println(&quot;--------------------------&quot;);\n      if(cir ==1){\n        cpu += 3;\n        System.out.println(c);\n      }\n      if(dia ==1){\n        cpu += 4;\n        System.out.println(d);\n      }\n      if(tri ==1){\n        cpu += 2;\n        System.out.println(t);\n      }\n      if(lin ==1){\n        cpu += 1;\n        System.out.println(l);\n      }\n      if(che ==1){\n        cpu += 1;\n        System.out.println(check);\n      }\n      //blanks\n      if(cir ==0){\n        System.out.println(bl);\n      }\n      if(dia ==0){\n        System.out.println(bl);\n      }\n      if(tri ==0){\n        System.out.println(bl);\n      }\n      if(lin ==0){\n        System.out.println(bl);\n      }\n      if(che ==0){\n        System.out.println(bl);\n      }\n      if (cpu &gt;= 20){\n        System.out.println(&quot;You lost:&quot;+ cpu);\n        break;\n      }\n      System.out.print(&quot;current CPU score: &quot;);\n      System.out.println(cpu);\n      System.out.println(&quot;-----------------&quot;);\n    }\n    return cpu;\n  }\n}\n</code></pre>\n<p>After <code>bonegame</code> method has allowed the user one round, the next round will be the CPU's until one reaches 20 points.</p>\n"},{"tags":["java","binary","decimal"],"comments":[{"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"score":0,"creation_date":1658104025,"post_id":73016226,"comment_id":128960799,"body_markdown":"if (i&gt;0)\n                    System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2));\nalready had it in my code in the line after","body":"if (i&gt;0)                     System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2)); already had it in my code in the line after"},{"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"score":0,"creation_date":1658104076,"post_id":73016226,"comment_id":128960805,"body_markdown":"Also i did not want to use parseint","body":"Also i did not want to use parseint"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1658104348,"post_id":73016226,"comment_id":128960844,"body_markdown":"Your best bet is to see how it&#39;s done in OpenJDK Integr class, look for the `toBinaryString` and the `parseInt` method here https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java and note that binary is 2 based, so for the parseInt method pay attention to the `radix` variable which will be 2 for binary","body":"Your best bet is to see how it&#39;s done in OpenJDK Integr class, look for the <code>toBinaryString</code> and the <code>parseInt</code> method here <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a> and note that binary is 2 based, so for the parseInt method pay attention to the <code>radix</code> variable which will be 2 for binary"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1658118850,"post_id":73016226,"comment_id":128962630,"body_markdown":"Your question is about binary to decimal but your title has it the other way around. Please fix.","body":"Your question is about binary to decimal but your title has it the other way around. Please fix."}],"answers":[{"comments":[{"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"score":0,"creation_date":1658104146,"post_id":73016254,"comment_id":128960812,"body_markdown":"if (i&gt;0)\n                    System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2));\n\nit was already in my code","body":"if (i&gt;0)                     System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2));  it was already in my code"},{"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"score":0,"creation_date":1658104168,"post_id":73016254,"comment_id":128960813,"body_markdown":"and i did not want to use parseint","body":"and i did not want to use parseint"}],"tags":[],"owner":{"account_id":19032118,"reputation":152,"user_id":13893988,"display_name":"Maxamis4"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658104259,"creation_date":1658103852,"answer_id":73016254,"question_id":73016226,"body_markdown":"It looks like your missing you&#39;re missing the radix which the default I use is 2.  Try this and let me know what happens\r\n\r\n\r\n\r\n    i = Integer.parseInt(binaryString,2); ","title":"(java) convert a decimal number to binary without using parseint","body":"<p>It looks like your missing you're missing the radix which the default I use is 2.  Try this and let me know what happens</p>\n<pre><code>i = Integer.parseInt(binaryString,2); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658104243,"creation_date":1658104243,"answer_id":73016293,"question_id":73016226,"body_markdown":"Binary math involves adding 1 and multiplying by 2. I would use a regular expression to test if the input is valid. I would use an infinite loop and break when the user gives an answer besides `y` when prompted to continue. Putting that together, gives a simplified\r\n\r\n\tScanner sc = new Scanner(System.in);\r\n\twhile (true) {\r\n\t\tSystem.out.println(&quot;Enter a binary number: &quot;);\r\n\t\tString binaryString = sc.nextLine();\r\n\t\t// An int value consists of up to 32 0 and 1s.\r\n\t\tif (!binaryString.matches(&quot;[01]+&quot;) || binaryString.length() &gt; 32) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tint v = 0;\r\n\t\tfor (int i = 0; i &lt; binaryString.length(); i++) {\r\n\t\t\tv *= 2;\r\n\t\t\tif (binaryString.charAt(i) == &#39;1&#39;) {\r\n\t\t\t\tv++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;The decimal number is: &quot; + v);\r\n\r\n\t\tSystem.out.println(&quot;Continue using the calculator? Only input Y or N&quot;);\r\n\t\tString ln = sc.nextLine();\r\n\t\tif (!ln.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n","title":"(java) convert a decimal number to binary without using parseint","body":"<p>Binary math involves adding 1 and multiplying by 2. I would use a regular expression to test if the input is valid. I would use an infinite loop and break when the user gives an answer besides <code>y</code> when prompted to continue. Putting that together, gives a simplified</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nwhile (true) {\n    System.out.println(&quot;Enter a binary number: &quot;);\n    String binaryString = sc.nextLine();\n    // An int value consists of up to 32 0 and 1s.\n    if (!binaryString.matches(&quot;[01]+&quot;) || binaryString.length() &gt; 32) {\n        continue;\n    }\n    int v = 0;\n    for (int i = 0; i &lt; binaryString.length(); i++) {\n        v *= 2;\n        if (binaryString.charAt(i) == '1') {\n            v++;\n        }\n    }\n    System.out.println(&quot;The decimal number is: &quot; + v);\n\n    System.out.println(&quot;Continue using the calculator? Only input Y or N&quot;);\n    String ln = sc.nextLine();\n    if (!ln.equalsIgnoreCase(&quot;Y&quot;)) {\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822002,"reputation":69,"user_id":19560919,"display_name":"Moraban"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658106516,"creation_date":1658106516,"answer_id":73016429,"question_id":73016226,"body_markdown":"There may be a nicer way of doing this, however this is the solution that I came up with. I took into account that the number can both be a positive and negative number and added checks for those cases. I also made sure to add exceptions for when an invalid binary number is entered.\r\n```lang-java\r\n    public static int numberFromBinary(String binaryNumber) {\r\n\r\n        char[] array = binaryNumber.toCharArray();\r\n        boolean isNegative = false;\r\n        int result = 0;\r\n\r\n        if (array.length &gt; 32) {\r\n            throw new NumberFormatException(&quot;An integer cannot be more than 32 bits long.&quot;);\r\n        }\r\n\r\n        if (array.length == 32) {\r\n            isNegative = array[0] == &#39;1&#39;;\r\n            if (isNegative) {\r\n                result -= 1;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; array.length &amp;&amp; i != 31; i++) {\r\n            int worth = (int) Math.pow(2, i);\r\n            \r\n            if (array[array.length - 1] != &#39;1&#39; &amp;&amp; array[array.length - 1] != &#39;0&#39;) {\r\n                throw new NumberFormatException(&quot;Binary bits can only be a &#39;1&#39; or a &#39;0&#39;.&quot;);\r\n            }\r\n            \r\n            if (isNegative) {\r\n                if (array[array.length - 1] == &#39;0&#39;) {\r\n                    result -= worth;\r\n                }\r\n            } else {\r\n                if (array[array.length - 1] == &#39;1&#39;) {\r\n                    result += worth;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```","title":"(java) convert a decimal number to binary without using parseint","body":"<p>There may be a nicer way of doing this, however this is the solution that I came up with. I took into account that the number can both be a positive and negative number and added checks for those cases. I also made sure to add exceptions for when an invalid binary number is entered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int numberFromBinary(String binaryNumber) {\n\n        char[] array = binaryNumber.toCharArray();\n        boolean isNegative = false;\n        int result = 0;\n\n        if (array.length &gt; 32) {\n            throw new NumberFormatException(&quot;An integer cannot be more than 32 bits long.&quot;);\n        }\n\n        if (array.length == 32) {\n            isNegative = array[0] == '1';\n            if (isNegative) {\n                result -= 1;\n            }\n        }\n\n        for (int i = 0; i &lt; array.length &amp;&amp; i != 31; i++) {\n            int worth = (int) Math.pow(2, i);\n            \n            if (array[array.length - 1] != '1' &amp;&amp; array[array.length - 1] != '0') {\n                throw new NumberFormatException(&quot;Binary bits can only be a '1' or a '0'.&quot;);\n            }\n            \n            if (isNegative) {\n                if (array[array.length - 1] == '0') {\n                    result -= worth;\n                }\n            } else {\n                if (array[array.length - 1] == '1') {\n                    result += worth;\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658117057,"creation_date":1658117057,"answer_id":73017195,"question_id":73016226,"body_markdown":"Here&#39;s a solution for converting a string representation of a binary number to a decimal number, without using Integer.parseInt(). This is based on\r\nyour original question text:\r\n&gt; _How would I be able to use a different method for calculating binary to decimal and implement it into my code?_\r\n\r\nAnd also a comment you added:\r\n&gt; _Also i did not want to use parseint_\r\n\r\n---------\r\n\r\nIf you take a binary number and work your way from right to left, each digit is an increasing power of 2.\r\n```\r\n0001 = 2^0 = 1\r\n0010 = 2^1 = 2\r\n0100 = 2^2 = 4\r\n1000 = 2^3 = 8\r\n```\r\n\r\nYou can follow this same pattern: inspect each character position of a binary string input, and raise 2 to some power to get the decimal value represented by that bit being set to 1. Here&#39;s a simple bit of code that:\r\n* prompts for user input as a binary string\r\n* starting from _right_ and working toward the left, it checks each character, comparing against `&#39;1&#39;`\r\n* if the character is in fact 1: take note of the position, raise 2 to the next power, and add that to the running total\r\n\r\nHere&#39;s the code:\r\n```\r\nSystem.out.print(&quot;enter a binary number: &quot;);\r\nString binaryInput = new Scanner(System.in).next();\r\nint decimalResult = 0;\r\nint position = 0;\r\n\r\nfor (int i = binaryInput.length() - 1; i &gt;= 0; i--) {\r\n    if (binaryInput.charAt(i) == &#39;1&#39;) {\r\n        decimalResult += Math.pow(2, position);\r\n    }\r\n    position++;\r\n}\r\nSystem.out.println(binaryInput + &quot; --&gt; &quot; + decimalResult);\r\n```\r\n\r\nAnd a few sample runs:\r\n\r\n```\r\nenter a binary number: 1111\r\n1111 --&gt; 15\r\n\r\nenter a binary number: 101010101\r\n101010101 --&gt; 341\r\n\r\nenter a binary number: 100000000000\r\n100000000000 --&gt; 2048\r\n```\r\n","title":"(java) convert a decimal number to binary without using parseint","body":"<p>Here's a solution for converting a string representation of a binary number to a decimal number, without using Integer.parseInt(). This is based on\nyour original question text:</p>\n<blockquote>\n<p><em>How would I be able to use a different method for calculating binary to decimal and implement it into my code?</em></p>\n</blockquote>\n<p>And also a comment you added:</p>\n<blockquote>\n<p><em>Also i did not want to use parseint</em></p>\n</blockquote>\n<hr />\n<p>If you take a binary number and work your way from right to left, each digit is an increasing power of 2.</p>\n<pre><code>0001 = 2^0 = 1\n0010 = 2^1 = 2\n0100 = 2^2 = 4\n1000 = 2^3 = 8\n</code></pre>\n<p>You can follow this same pattern: inspect each character position of a binary string input, and raise 2 to some power to get the decimal value represented by that bit being set to 1. Here's a simple bit of code that:</p>\n<ul>\n<li>prompts for user input as a binary string</li>\n<li>starting from <em>right</em> and working toward the left, it checks each character, comparing against <code>'1'</code></li>\n<li>if the character is in fact 1: take note of the position, raise 2 to the next power, and add that to the running total</li>\n</ul>\n<p>Here's the code:</p>\n<pre><code>System.out.print(&quot;enter a binary number: &quot;);\nString binaryInput = new Scanner(System.in).next();\nint decimalResult = 0;\nint position = 0;\n\nfor (int i = binaryInput.length() - 1; i &gt;= 0; i--) {\n    if (binaryInput.charAt(i) == '1') {\n        decimalResult += Math.pow(2, position);\n    }\n    position++;\n}\nSystem.out.println(binaryInput + &quot; --&gt; &quot; + decimalResult);\n</code></pre>\n<p>And a few sample runs:</p>\n<pre><code>enter a binary number: 1111\n1111 --&gt; 15\n\nenter a binary number: 101010101\n101010101 --&gt; 341\n\nenter a binary number: 100000000000\n100000000000 --&gt; 2048\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24842714,"reputation":1,"user_id":18720542,"display_name":"Sachin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656352,"creation_date":1677233310,"answer_id":75555196,"question_id":73016226,"body_markdown":"This Program convert decimal to binary number in java without using any built in method like `toBinaryString();`\r\n    \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n\r\n    public class Binary {\r\n    public static void main(String args[]) throws Exception\r\n    {\r\n\t    Rstring r=new Rstring();\r\n\t    BufferedReader br=new BufferedReader(new \r\n        InputStreamReader(System.in));\r\n\t    String input=br.readLine();\r\n\t    int number=Integer.parseInt(input);\r\n\t    boolean stop=false;\r\n\t    String result=&quot;&quot;;\r\n\t    int rem=0;\r\n\t    while(stop==false)\r\n\t       {\r\n\t\t      if (number==1)\r\n\t\t      {\r\n\t\t\t    rem=1;\r\n\t\t\t    result+=Integer.toString(rem);\r\n\t\t\t    r.sprint(result);\r\n\t\t\t    System.exit(1);\r\n\t\t      }\r\n\t\t     else if(number==0)\r\n\t\t      {\r\n\t\t\t    rem=0;\r\n\t\t\t    result+=Integer.toString(rem);\r\n\t\t\t    r.sprint(result);\r\n\t\t\t    System.exit(1);\r\n\t\t }\r\n\t\t    else\r\n\t\t    {\r\n\t\t      rem=number%2;\r\n\t\t      number=number/2;\r\n\t\t      result+=Integer.toString(rem);\r\n\t\t }\r\n\t   }\r\n\t\r\n\t\r\n      }\r\n     }\r\n      class Rstring\r\n        {\r\n\t      public void sprint(String input)\r\n\t       {\r\n\t\t     for(int i=input.length()-1;i&gt;=0;i--)\r\n\t\t      {\r\n\t\t\t     System.out.print(input.charAt(i));\r\n\t\t      }\r\n\t             System.out.print(&quot;\\n&quot;);\r\n\t      }\r\n        }","title":"(java) convert a decimal number to binary without using parseint","body":"<p>This Program convert decimal to binary number in java without using any built in method like <code>toBinaryString();</code></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class Binary {\npublic static void main(String args[]) throws Exception\n{\n    Rstring r=new Rstring();\n    BufferedReader br=new BufferedReader(new \n    InputStreamReader(System.in));\n    String input=br.readLine();\n    int number=Integer.parseInt(input);\n    boolean stop=false;\n    String result=&quot;&quot;;\n    int rem=0;\n    while(stop==false)\n       {\n          if (number==1)\n          {\n            rem=1;\n            result+=Integer.toString(rem);\n            r.sprint(result);\n            System.exit(1);\n          }\n         else if(number==0)\n          {\n            rem=0;\n            result+=Integer.toString(rem);\n            r.sprint(result);\n            System.exit(1);\n     }\n        else\n        {\n          rem=number%2;\n          number=number/2;\n          result+=Integer.toString(rem);\n     }\n   }\n\n\n  }\n }\n  class Rstring\n    {\n      public void sprint(String input)\n       {\n         for(int i=input.length()-1;i&gt;=0;i--)\n          {\n             System.out.print(input.charAt(i));\n          }\n             System.out.print(&quot;\\n&quot;);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1677656352,"creation_date":1658103355,"question_id":73016226,"body_markdown":"I am new to java and I was learning how to convert from binary to decimal and vice versa. In the case of binary to decimal, I found out that I could use parseint, but I saw other methods that didn&#39;t use it, so I tried to implement them into my code, but it didn&#39;t work for me and I got stumped.\r\n\r\nHow would I be able to use a different method for calculating binary to decimal and implement it into my code?\r\n\r\nHere is my code:\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass BinaryToDecimal {\r\n    public static void main(String args[]) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String binaryString;\r\n        char choice;\r\n        String nextLine = &quot;Empty&quot;;\r\n        int i = 0;\r\n        choice = &#39;Y&#39;;\r\n        try {\r\n            do {\r\n\r\n\r\n                System.out.print(&quot;Enter a binary number: &quot;);\r\n                binaryString = sc.nextLine();\r\n                //Find the string count\r\n                int count = binaryString.length();\r\n                for (int j = 0; j&lt; count; j++)\r\n                {\r\n                    if (binaryString.charAt(j) != &#39;1&#39; &amp;&amp;  binaryString.charAt(j) != &#39;0&#39;)\r\n                    {\r\n                        System.out.print(&quot;Enter a binary number: &quot;);\r\n                        binaryString = sc.nextLine();\r\n                        count = binaryString.length();\r\n                        j=0;\r\n                    }\r\n\r\n                }\r\n                i = Integer.parseInt(binaryString);\r\n\r\n                if (i&gt;0)\r\n                    System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2));\r\n\r\n                System.out.println(&quot;Continue using the calculator? Only input Y or N&quot;);\r\n                String ln = sc.next();\r\n                if(ln.length()==1){\r\n                    choice = ln.charAt(0);\r\n                }\r\n                else{\r\n                    choice = &#39;N&#39;;\r\n                }\r\n                if (sc.hasNextLine()) {\r\n                    nextLine = sc.nextLine();\r\n\r\n                }\r\n\r\n            } while (choice == &#39;Y&#39;);\r\n\r\n\r\n        } catch (NumberFormatException nfe) {\r\n            System.out.println(&quot;Invalid input&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"(java) convert a decimal number to binary without using parseint","body":"<p>I am new to java and I was learning how to convert from binary to decimal and vice versa. In the case of binary to decimal, I found out that I could use parseint, but I saw other methods that didn't use it, so I tried to implement them into my code, but it didn't work for me and I got stumped.</p>\n<p>How would I be able to use a different method for calculating binary to decimal and implement it into my code?</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\nclass BinaryToDecimal {\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n        String binaryString;\n        char choice;\n        String nextLine = &quot;Empty&quot;;\n        int i = 0;\n        choice = 'Y';\n        try {\n            do {\n\n\n                System.out.print(&quot;Enter a binary number: &quot;);\n                binaryString = sc.nextLine();\n                //Find the string count\n                int count = binaryString.length();\n                for (int j = 0; j&lt; count; j++)\n                {\n                    if (binaryString.charAt(j) != '1' &amp;&amp;  binaryString.charAt(j) != '0')\n                    {\n                        System.out.print(&quot;Enter a binary number: &quot;);\n                        binaryString = sc.nextLine();\n                        count = binaryString.length();\n                        j=0;\n                    }\n\n                }\n                i = Integer.parseInt(binaryString);\n\n                if (i&gt;0)\n                    System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2));\n\n                System.out.println(&quot;Continue using the calculator? Only input Y or N&quot;);\n                String ln = sc.next();\n                if(ln.length()==1){\n                    choice = ln.charAt(0);\n                }\n                else{\n                    choice = 'N';\n                }\n                if (sc.hasNextLine()) {\n                    nextLine = sc.nextLine();\n\n                }\n\n            } while (choice == 'Y');\n\n\n        } catch (NumberFormatException nfe) {\n            System.out.println(&quot;Invalid input&quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676904221,"post_id":75510390,"comment_id":133226055,"body_markdown":"`can&#39;t understand why the pattern that allows you to switch to the web application registration route does not work` what do you mean by switch to? Please enable spring security debug logs and post your logs in full so that we can see what errors you are getting. And also please post what your request looks like.","body":"<code>can&#39;t understand why the pattern that allows you to switch to the web application registration route does not work</code> what do you mean by switch to? Please enable spring security debug logs and post your logs in full so that we can see what errors you are getting. And also please post what your request looks like."},{"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"score":0,"creation_date":1676905864,"post_id":75510390,"comment_id":133226560,"body_markdown":"My English not so be good. I reformulated the description of the problem.","body":"My English not so be good. I reformulated the description of the problem."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676912951,"post_id":75510390,"comment_id":133228637,"body_markdown":"Could you please enable debug logs and post your full logs including the error","body":"Could you please enable debug logs and post your full logs including the error"},{"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"score":0,"creation_date":1676993129,"post_id":75510390,"comment_id":133246635,"body_markdown":"@Toerktumlare, I can&#39;t provide logs with an error, since I don&#39;t have an error.","body":"@Toerktumlare, I can&#39;t provide logs with an error, since I don&#39;t have an error."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677000071,"post_id":75510390,"comment_id":133248901,"body_markdown":"the 401 is your &quot;error&quot; so to speak, the logs will tell you why you get a 401","body":"the 401 is your &quot;error&quot; so to speak, the logs will tell you why you get a 401"},{"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"score":0,"creation_date":1677005196,"post_id":75510390,"comment_id":133250450,"body_markdown":"I have published debugging logs, but I cannot understand why my request matcher pattern for allowing access to everyone on the registration route does not work.","body":"I have published debugging logs, but I cannot understand why my request matcher pattern for allowing access to everyone on the registration route does not work."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677007898,"post_id":75510390,"comment_id":133251211,"body_markdown":"Read the logs here is your error `Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;ru.earwarm.programms.itplanetstep1.models.Account&gt; ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController.registration(java.lang.String,java.lang.String,java.lang.String,java.lang.String): Required request parameter &#39;firstName&#39; for method parameter type String is not present`","body":"Read the logs here is your error <code>Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;ru.earwarm.programms&zwnj;&#8203;.itplanetstep1.model&zwnj;&#8203;s.Account&gt; ru.earwarm.programms.itplanetstep1.controllers.Authenticatio&zwnj;&#8203;nController.registra&zwnj;&#8203;tion(java.lang.Strin&zwnj;&#8203;g,java.lang.String,j&zwnj;&#8203;ava.lang.String,java&zwnj;&#8203;.lang.String): Required request parameter &#39;firstName&#39; for method parameter type String is not present</code>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677007953,"post_id":75510390,"comment_id":133251223,"body_markdown":"So we need to look at your request, because you are doing a faulty request","body":"So we need to look at your request, because you are doing a faulty request"},{"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"score":0,"creation_date":1677066872,"post_id":75510390,"comment_id":133263003,"body_markdown":"I specifically execute an erroneous request, hoping to get the 400 bad request status, but instead I get 401 unauthorized. The request can be viewed in the image below the controller code.","body":"I specifically execute an erroneous request, hoping to get the 400 bad request status, but instead I get 401 unauthorized. The request can be viewed in the image below the controller code."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677069324,"post_id":75510390,"comment_id":133263752,"body_markdown":"then you should write that","body":"then you should write that"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677069489,"post_id":75510390,"comment_id":133263802,"body_markdown":"can you please add `.requestMatchers(HttpMethod.GET, &quot;/error&quot;).permitAll()` to your security configuration and read this https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling","body":"can you please add <code>.requestMatchers(HttpMethod.GET, &quot;&#47;error&quot;).permitAll()</code> to your security configuration and read this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656250,"creation_date":1677078251,"answer_id":75534582,"question_id":75510390,"body_markdown":"The problem was solved by setting the spring.mvc.problemdetails.enabled to true setting in application.yml file.\r\n\r\n[@Toerktumlare](https://stackoverflow.com/users/1840146/toerktumlare) thanks.\r\n\r\n","title":"The pattern that allows you to switch to the registration route does not work","body":"<p>The problem was solved by setting the spring.mvc.problemdetails.enabled to true setting in application.yml file.</p>\n<p><a href=\"https://stackoverflow.com/users/1840146/toerktumlare\">@Toerktumlare</a> thanks.</p>\n"}],"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677656250,"creation_date":1676902678,"question_id":75510390,"body_markdown":"help solve the problem.\r\n\r\nI am trying to allow the use of the registration route without prior authentication, but my solution does not work and I get a response with the status 401 unauthorized.\r\nBut my solution for opening access to everyone for the GET method of access is working fine.\r\n\r\nI use Spring boot 3.0.2, Spring security 6.0.2\r\n\r\nThe configuration code:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class WebSecurityConfiguration {\r\n\r\n    @Autowired\r\n    private AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                .disable()\r\n                .cors()\r\n                .disable()\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(HttpMethod.POST, &quot;/registration&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .exceptionHandling()\r\n                .accessDeniedHandler(accessDeniedHandler())\r\n                .authenticationEntryPoint(new Http401UnauthorizedEntryPoint())\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .httpBasic();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AccessDeniedHandler accessDeniedHandler() {\r\n        return new AccessDeniedExceptionHandler();\r\n    }\r\n}\r\n```\r\n\r\nThe controller code of this route:\r\n```\r\n@RestController\r\n@RequestMapping\r\npublic class AuthenticationController {\r\n\r\n    @Autowired\r\n    private AccountRepository accountRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @PostMapping(&quot;/registration&quot;)\r\n    public ResponseEntity&lt;Account&gt; registration(@RequestParam String firstName, @RequestParam String lastName,\r\n                                                @RequestParam String email, @RequestParam String password) {\r\n        if (firstName.isBlank() || lastName.isBlank() || email.isBlank() || password.isBlank()) {\r\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        if (!EmailValidator.getInstance().isValid(email)) {\r\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        if (SecurityContextHolder.getContext().getAuthentication().isAuthenticated()) {\r\n            throw new ResponseStatusException(HttpStatus.FORBIDDEN);\r\n        }\r\n\r\n        Optional&lt;Account&gt; accountOptional = accountRepository.findByEmail(email);\r\n        if (accountOptional.isPresent()) {\r\n            throw new ResponseStatusException(HttpStatus.CONFLICT);\r\n        }\r\n\r\n        Account account = Account.builder()\r\n                .firstName(firstName)\r\n                .lastName(lastName)\r\n                .email(email)\r\n                .password(passwordEncoder.encode(password))\r\n                .build();\r\n\r\n        account = accountRepository.save(account);\r\n\r\n        return ResponseEntity.ok(account);\r\n    }\r\n}\r\n```\r\n\r\nWhen I send a request, I get a 401 response code, which means that my solution for allowing access to the route for everyone is not working.\r\n[enter image description here][1]\r\n\r\n\r\nI tried replacing the route pattern with:\r\n.requestMatchers(HttpMethod.POST, &quot;/registration&quot;) -&gt; .requestMatchers(&quot;/registration&quot;)\r\n.requestMatchers(HttpMethod.POST, &quot;/registration&quot;) -&gt; .requestMatchers(HttpMethod.POST, &quot;/registration/**&quot;)\r\netc.\r\n\r\nDebug logs:\r\n```\r\n2023-02-21T23:12:30.447+05:00  INFO 1424 --- [           main] r.e.p.itplanetstep1.ItPlanetApplication  : Started ItPlanetApplication in 6.267 seconds (process running for 6.619)\r\n2023-02-21T23:12:30.449+05:00 DEBUG 1424 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n2023-02-21T23:12:30.450+05:00 DEBUG 1424 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n2023-02-21T23:12:49.797+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Security checking request POST /registration\r\n2023-02-21T23:12:49.804+05:00  INFO 1424 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-02-21T23:12:49.804+05:00  INFO 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@7866fe3e\r\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@2e2c9e24\r\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@6164b3a2\r\n2023-02-21T23:12:49.805+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\r\n2023-02-21T23:12:49.805+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\r\n2023-02-21T23:12:49.805+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n2023-02-21T23:12:49.811+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@2eb3c530\r\n2023-02-21T23:12:49.811+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;springSecurityFilterChain&#39;\r\n2023-02-21T23:12:49.813+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@544733a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522f74a1, org.springframework.security.web.context.SecurityContextHolderFilter@60658389, org.springframework.security.web.header.HeaderWriterFilter@7c919e1e, org.springframework.security.web.authentication.logout.LogoutFilter@1c41931a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e563293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a905513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59700156, org.springframework.security.web.session.SessionManagementFilter@1399ad68, org.springframework.security.web.access.ExceptionTranslationFilter@2e27325d, org.springframework.security.web.access.intercept.AuthorizationFilter@3c717ef2]] (1/1)\r\n2023-02-21T23:12:49.815+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /registration\r\n2023-02-21T23:12:49.816+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\r\n2023-02-21T23:12:49.816+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-02-21T23:12:49.818+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\r\n2023-02-21T23:12:49.819+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\r\n2023-02-21T23:12:49.822+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (6/12)\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n2023-02-21T23:12:49.832+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\r\n2023-02-21T23:12:49.836+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\r\n2023-02-21T23:12:49.837+05:00 TRACE 1424 --- [nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\r\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\r\n2023-02-21T23:12:49.840+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6b70625a]\r\n2023-02-21T23:12:49.854+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;authenticationController&#39;\r\n2023-02-21T23:12:49.854+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController#registration(String, String, String, String)\r\n2023-02-21T23:12:49.855+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6b70625a] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1241/0x00000008017df218@47dc601e\r\n2023-02-21T23:12:49.855+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /registration\r\n2023-02-21T23:12:49.858+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST &quot;/registration&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-02-21T23:12:49.861+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;authenticationController&#39;\r\n2023-02-21T23:12:49.861+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController#registration(String, String, String, String)\r\n2023-02-21T23:12:49.863+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2023-02-21T23:12:49.896+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;ru.earwarm.programms.itplanetstep1.models.Account&gt; ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController.registration(java.lang.String,java.lang.String,java.lang.String,java.lang.String): Required request parameter &#39;firstName&#39; for method parameter type String is not present\r\n2023-02-21T23:12:49.907+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\r\n2023-02-21T23:12:49.908+05:00  WARN 1424 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;firstName&#39; for method parameter type String is not present]\r\n2023-02-21T23:12:49.908+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\n2023-02-21T23:12:49.908+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2023-02-21T23:12:49.909+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST, headers={masked}\r\n2023-02-21T23:12:49.909+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;delegatingApplicationListener&#39;\r\n2023-02-21T23:12:49.910+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@2eb3c530\r\n2023-02-21T23:12:49.910+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@3f81b133\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@544733a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522f74a1, org.springframework.security.web.context.SecurityContextHolderFilter@60658389, org.springframework.security.web.header.HeaderWriterFilter@7c919e1e, org.springframework.security.web.authentication.logout.LogoutFilter@1c41931a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e563293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a905513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59700156, org.springframework.security.web.session.SessionManagementFilter@1399ad68, org.springframework.security.web.access.ExceptionTranslationFilter@2e27325d, org.springframework.security.web.access.intercept.AuthorizationFilter@3c717ef2]] (1/1)\r\n2023-02-21T23:12:49.920+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (6/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\r\n2023-02-21T23:12:49.921+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\r\n2023-02-21T23:12:49.922+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@3f81b133]]\r\n2023-02-21T23:12:49.927+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\r\n2023-02-21T23:12:49.928+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;basicErrorController&#39;\r\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@3f81b133]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@5379ab74\r\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-02-21T23:12:49.930+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:443) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:367) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:295) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:372) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:228) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n2023-02-21T23:12:49.935+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.core.ApplicationHttpRequest@3f81b133\r\n2023-02-21T23:12:49.936+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\r\n```\r\n\r\nMy English not so be good.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kBGRK.png","title":"The pattern that allows you to switch to the registration route does not work","body":"<p>help solve the problem.</p>\n<p>I am trying to allow the use of the registration route without prior authentication, but my solution does not work and I get a response with the status 401 unauthorized.\nBut my solution for opening access to everyone for the GET method of access is working fine.</p>\n<p>I use Spring boot 3.0.2, Spring security 6.0.2</p>\n<p>The configuration code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class WebSecurityConfiguration {\n\n    @Autowired\n    private AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .disable()\n                .cors()\n                .disable()\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(HttpMethod.POST, &quot;/registration&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET).permitAll()\n                        .anyRequest().authenticated())\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .exceptionHandling()\n                .accessDeniedHandler(accessDeniedHandler())\n                .authenticationEntryPoint(new Http401UnauthorizedEntryPoint())\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .httpBasic();\n        return http.build();\n    }\n\n    @Bean\n    public AccessDeniedHandler accessDeniedHandler() {\n        return new AccessDeniedExceptionHandler();\n    }\n}\n</code></pre>\n<p>The controller code of this route:</p>\n<pre><code>@RestController\n@RequestMapping\npublic class AuthenticationController {\n\n    @Autowired\n    private AccountRepository accountRepository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @PostMapping(&quot;/registration&quot;)\n    public ResponseEntity&lt;Account&gt; registration(@RequestParam String firstName, @RequestParam String lastName,\n                                                @RequestParam String email, @RequestParam String password) {\n        if (firstName.isBlank() || lastName.isBlank() || email.isBlank() || password.isBlank()) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\n        }\n\n        if (!EmailValidator.getInstance().isValid(email)) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\n        }\n\n        if (SecurityContextHolder.getContext().getAuthentication().isAuthenticated()) {\n            throw new ResponseStatusException(HttpStatus.FORBIDDEN);\n        }\n\n        Optional&lt;Account&gt; accountOptional = accountRepository.findByEmail(email);\n        if (accountOptional.isPresent()) {\n            throw new ResponseStatusException(HttpStatus.CONFLICT);\n        }\n\n        Account account = Account.builder()\n                .firstName(firstName)\n                .lastName(lastName)\n                .email(email)\n                .password(passwordEncoder.encode(password))\n                .build();\n\n        account = accountRepository.save(account);\n\n        return ResponseEntity.ok(account);\n    }\n}\n</code></pre>\n<p>When I send a request, I get a 401 response code, which means that my solution for allowing access to the route for everyone is not working.\n<a href=\"https://i.stack.imgur.com/kBGRK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried replacing the route pattern with:\n.requestMatchers(HttpMethod.POST, &quot;/registration&quot;) -&gt; .requestMatchers(&quot;/registration&quot;)\n.requestMatchers(HttpMethod.POST, &quot;/registration&quot;) -&gt; .requestMatchers(HttpMethod.POST, &quot;/registration/**&quot;)\netc.</p>\n<p>Debug logs:</p>\n<pre><code>2023-02-21T23:12:30.447+05:00  INFO 1424 --- [           main] r.e.p.itplanetstep1.ItPlanetApplication  : Started ItPlanetApplication in 6.267 seconds (process running for 6.619)\n2023-02-21T23:12:30.449+05:00 DEBUG 1424 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n2023-02-21T23:12:30.450+05:00 DEBUG 1424 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\n2023-02-21T23:12:49.797+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Security checking request POST /registration\n2023-02-21T23:12:49.804+05:00  INFO 1424 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-02-21T23:12:49.804+05:00  INFO 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@7866fe3e\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@2e2c9e24\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@6164b3a2\n2023-02-21T23:12:49.805+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\n2023-02-21T23:12:49.805+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\n2023-02-21T23:12:49.805+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-02-21T23:12:49.811+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@2eb3c530\n2023-02-21T23:12:49.811+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'springSecurityFilterChain'\n2023-02-21T23:12:49.813+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@544733a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522f74a1, org.springframework.security.web.context.SecurityContextHolderFilter@60658389, org.springframework.security.web.header.HeaderWriterFilter@7c919e1e, org.springframework.security.web.authentication.logout.LogoutFilter@1c41931a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e563293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a905513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59700156, org.springframework.security.web.session.SessionManagementFilter@1399ad68, org.springframework.security.web.access.ExceptionTranslationFilter@2e27325d, org.springframework.security.web.access.intercept.AuthorizationFilter@3c717ef2]] (1/1)\n2023-02-21T23:12:49.815+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /registration\n2023-02-21T23:12:49.816+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\n2023-02-21T23:12:49.816+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-02-21T23:12:49.818+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\n2023-02-21T23:12:49.819+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\n2023-02-21T23:12:49.822+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (6/12)\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\n2023-02-21T23:12:49.832+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\n2023-02-21T23:12:49.836+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\n2023-02-21T23:12:49.837+05:00 TRACE 1424 --- [nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\n2023-02-21T23:12:49.840+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6b70625a]\n2023-02-21T23:12:49.854+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'authenticationController'\n2023-02-21T23:12:49.854+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController#registration(String, String, String, String)\n2023-02-21T23:12:49.855+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6b70625a] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1241/0x00000008017df218@47dc601e\n2023-02-21T23:12:49.855+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /registration\n2023-02-21T23:12:49.858+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST &quot;/registration&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2023-02-21T23:12:49.861+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'authenticationController'\n2023-02-21T23:12:49.861+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController#registration(String, String, String, String)\n2023-02-21T23:12:49.863+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-02-21T23:12:49.896+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;ru.earwarm.programms.itplanetstep1.models.Account&gt; ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController.registration(java.lang.String,java.lang.String,java.lang.String,java.lang.String): Required request parameter 'firstName' for method parameter type String is not present\n2023-02-21T23:12:49.907+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\n2023-02-21T23:12:49.908+05:00  WARN 1424 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'firstName' for method parameter type String is not present]\n2023-02-21T23:12:49.908+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\n2023-02-21T23:12:49.908+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-02-21T23:12:49.909+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST, headers={masked}\n2023-02-21T23:12:49.909+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'delegatingApplicationListener'\n2023-02-21T23:12:49.910+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@2eb3c530\n2023-02-21T23:12:49.910+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@3f81b133\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@544733a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522f74a1, org.springframework.security.web.context.SecurityContextHolderFilter@60658389, org.springframework.security.web.header.HeaderWriterFilter@7c919e1e, org.springframework.security.web.authentication.logout.LogoutFilter@1c41931a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e563293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a905513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59700156, org.springframework.security.web.session.SessionManagementFilter@1399ad68, org.springframework.security.web.access.ExceptionTranslationFilter@2e27325d, org.springframework.security.web.access.intercept.AuthorizationFilter@3c717ef2]] (1/1)\n2023-02-21T23:12:49.920+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (6/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\n2023-02-21T23:12:49.921+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\n2023-02-21T23:12:49.922+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@3f81b133]]\n2023-02-21T23:12:49.927+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n2023-02-21T23:12:49.928+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'basicErrorController'\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@3f81b133]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@5379ab74\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-02-21T23:12:49.930+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:443) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:367) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:295) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:372) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:228) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n2023-02-21T23:12:49.935+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.core.ApplicationHttpRequest@3f81b133\n2023-02-21T23:12:49.936+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\n</code></pre>\n<p>My English not so be good.</p>\n"},{"tags":["java","spring-boot","intellij-idea","entity"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1677598328,"post_id":75593537,"comment_id":133367451,"body_markdown":"Please try this instead: https://www.jetbrains.com/help/idea/persistence-tool-window.html#generate_entities_and_mappings.","body":"Please try this instead: <a href=\"https://www.jetbrains.com/help/idea/persistence-tool-window.html#generate_entities_and_mappings\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>."}],"owner":{"account_id":23470942,"reputation":335,"user_id":17524471,"display_name":"Olivier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677656228,"creation_date":1677595353,"question_id":75593537,"body_markdown":"Beginner with java, I try to create an entity from a table of my database in intellij. I do this with the jetbrain documentation:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhttps://www.jetbrains.com/help/datagrip/generating-code.html#generating_java_entities\r\n\r\nthe problem is that the entity created does not have annotations.\r\n\r\nHere is the result when I respect the jetbrain documentation in my project:\r\n\r\n    public class Fiche {\r\n    \r\n      private long id;\r\n      private String type;\r\n      private String url;\r\n    \r\n      \r\n      public long getId() {\r\n        return id;\r\n      }\r\n    \r\n      public void setId(long id) {\r\n        this.id = id;\r\n      }\r\n    \r\n    \r\n      public String getType() {\r\n        return type;\r\n      }\r\n    \r\n      public void setType(String type) {\r\n        this.type = type;\r\n      }\r\n    \r\n    \r\n      public String getUrl() {\r\n        return url;\r\n      }\r\n    \r\n      public void setUrl(String url) {\r\n        this.url = url;\r\n      }\r\n    \r\n    }\r\n\r\nBut I would like to have: \r\n\r\n    @Entity\r\n    @Table(name = &quot;fiche&quot;)\r\n    public class Fiche {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n    \r\n        @Size(max = 250)\r\n        @Column(name = &quot;TYPE&quot;, length = 250, nullable = false)\r\n        private String type;\r\n    \r\n        @Size(max = 250)\r\n        @Column(name = &quot;URL&quot;, length = 250, nullable = false)\r\n        private String url;\r\n    \r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n    \r\n        public void setUrl(String url) {\r\n            this.url = url;\r\n        }\r\n        \r\n    }\r\n\r\n\r\nIs it possible to do that ? Thanks for help\r\n\r\n**/////// EDIT POST: ///////**\r\n\r\nI have tried this doc\r\nhttps://www.jetbrains.com/help/idea/persistence-tool-window.html#run-queries\r\n\r\nHeres how I did it:\r\n1/ right-click to the table and select **Generate Persistence Mapping**\r\n2/ Create package and persistenceUnit like this.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PKdly.png\r\n  [2]: https://i.stack.imgur.com/9jqtF.png","title":"java springboot: create an entity from the database in intellij","body":"<p>Beginner with java, I try to create an entity from a table of my database in intellij. I do this with the jetbrain documentation:</p>\n<p><a href=\"https://i.stack.imgur.com/PKdly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKdly.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://www.jetbrains.com/help/datagrip/generating-code.html#generating_java_entities\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/datagrip/generating-code.html#generating_java_entities</a></p>\n<p>the problem is that the entity created does not have annotations.</p>\n<p>Here is the result when I respect the jetbrain documentation in my project:</p>\n<pre><code>public class Fiche {\n\n  private long id;\n  private String type;\n  private String url;\n\n  \n  public long getId() {\n    return id;\n  }\n\n  public void setId(long id) {\n    this.id = id;\n  }\n\n\n  public String getType() {\n    return type;\n  }\n\n  public void setType(String type) {\n    this.type = type;\n  }\n\n\n  public String getUrl() {\n    return url;\n  }\n\n  public void setUrl(String url) {\n    this.url = url;\n  }\n\n}\n</code></pre>\n<p>But I would like to have:</p>\n<pre><code>@Entity\n@Table(name = &quot;fiche&quot;)\npublic class Fiche {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Size(max = 250)\n    @Column(name = &quot;TYPE&quot;, length = 250, nullable = false)\n    private String type;\n\n    @Size(max = 250)\n    @Column(name = &quot;URL&quot;, length = 250, nullable = false)\n    private String url;\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n    \n}\n</code></pre>\n<p>Is it possible to do that ? Thanks for help</p>\n<p><strong>/////// EDIT POST: ///////</strong></p>\n<p>I have tried this doc\n<a href=\"https://www.jetbrains.com/help/idea/persistence-tool-window.html#run-queries\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/persistence-tool-window.html#run-queries</a></p>\n<p>Heres how I did it:\n1/ right-click to the table and select <strong>Generate Persistence Mapping</strong>\n2/ Create package and persistenceUnit like this.</p>\n<p><a href=\"https://i.stack.imgur.com/9jqtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9jqtF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-webflux","server-sent-events","openai-api"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1677561270,"post_id":75587800,"comment_id":133357528,"body_markdown":"Does this answer your question? [How to stream data from the server using WebFlux](https://stackoverflow.com/questions/71788973/how-to-stream-data-from-the-server-using-webflux)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71788973/how-to-stream-data-from-the-server-using-webflux\">How to stream data from the server using WebFlux</a>"},{"owner":{"account_id":24597859,"reputation":13,"user_id":18501038,"display_name":"Ares&#39; hand"},"score":0,"creation_date":1677564203,"post_id":75587800,"comment_id":133357841,"body_markdown":"Sorry, the link you sent is different from mine.  My flow looks like this: I send a post request to invoke a third-party interface, which returns a stream of text/events.  What I need to do is write a client that makes a post request, listens to the stream of events, and then prints the data returned by the server one by one, rather than waiting for the server to return it all at once @Alex","body":"Sorry, the link you sent is different from mine.  My flow looks like this: I send a post request to invoke a third-party interface, which returns a stream of text/events.  What I need to do is write a client that makes a post request, listens to the stream of events, and then prints the data returned by the server one by one, rather than waiting for the server to return it all at once @Alex"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1677564731,"post_id":75587800,"comment_id":133357901,"body_markdown":"please clarify the question and post some code here instead of links to images","body":"please clarify the question and post some code here instead of links to images"},{"owner":{"account_id":24597859,"reputation":13,"user_id":18501038,"display_name":"Ares&#39; hand"},"score":0,"creation_date":1677567295,"post_id":75587800,"comment_id":133358282,"body_markdown":"I have modified the problem, could you please give me some advice @Alex","body":"I have modified the problem, could you please give me some advice @Alex"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656149,"creation_date":1677656149,"answer_id":75600722,"question_id":75587800,"body_markdown":"Assuming server returns data using `text/event-stream` media type, you can consume stream using `WebClient` and then emit as a `Flux`.\r\n\r\n\r\n```\r\n@GetMapping(path = &quot;/client&quot;, produces = TEXT_EVENT_STREAM_VALUE)\r\nFlux&lt;String&gt; client() {\r\n        return webclient.post()\r\n                .uri(&quot;/server&quot;)\r\n                .accept(MediaType.TEXT_EVENT_STREAM)\r\n                .header(HttpHeaders.CONNECTION, &quot;keep-alive&quot;)\r\n                .retrieve()\r\n                .bodyToFlux(String.class);\r\n}\r\n```\r\n\r\nYou can test it by simulating server events from the same controller\r\n\r\n```\r\n@PostMapping(path = &quot;/server&quot;, produces = TEXT_EVENT_STREAM_VALUE)\r\nFlux&lt;String&gt; server() {\r\n    return Flux.interval(Duration.ofSeconds(1))\r\n         .map(i -&gt; &quot;value-&quot; + i);\r\n}\r\n```\r\n\r\nHere is a `curl` command to validate\r\n```\r\ncurl -v -H &quot;Accept: text/event-stream&quot; http://localhost:8080/client\r\n\r\n*   Trying 127.0.0.1:8080...\r\n* Connected to localhost (127.0.0.1) port 8080 (#0)\r\n&gt; GET /client HTTP/1.1\r\n&gt; Host: localhost:8080\r\n&gt; User-Agent: curl/7.85.0\r\n&gt; Accept: text/event-stream\r\n&gt; \r\n&lt; HTTP/1.1 200 OK\r\n&lt; transfer-encoding: chunked\r\n&lt; Content-Type: text/event-stream;charset=UTF-8\r\n&lt; \r\ndata:value-0\r\n\r\ndata:value-1\r\n\r\ndata:value-2\r\n\r\n```\r\n","title":"How can I write code in java to receive a text/event-stream event stream and print it one by one?","body":"<p>Assuming server returns data using <code>text/event-stream</code> media type, you can consume stream using <code>WebClient</code> and then emit as a <code>Flux</code>.</p>\n<pre><code>@GetMapping(path = &quot;/client&quot;, produces = TEXT_EVENT_STREAM_VALUE)\nFlux&lt;String&gt; client() {\n        return webclient.post()\n                .uri(&quot;/server&quot;)\n                .accept(MediaType.TEXT_EVENT_STREAM)\n                .header(HttpHeaders.CONNECTION, &quot;keep-alive&quot;)\n                .retrieve()\n                .bodyToFlux(String.class);\n}\n</code></pre>\n<p>You can test it by simulating server events from the same controller</p>\n<pre><code>@PostMapping(path = &quot;/server&quot;, produces = TEXT_EVENT_STREAM_VALUE)\nFlux&lt;String&gt; server() {\n    return Flux.interval(Duration.ofSeconds(1))\n         .map(i -&gt; &quot;value-&quot; + i);\n}\n</code></pre>\n<p>Here is a <code>curl</code> command to validate</p>\n<pre><code>curl -v -H &quot;Accept: text/event-stream&quot; http://localhost:8080/client\n\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /client HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.85.0\n&gt; Accept: text/event-stream\n&gt; \n&lt; HTTP/1.1 200 OK\n&lt; transfer-encoding: chunked\n&lt; Content-Type: text/event-stream;charset=UTF-8\n&lt; \ndata:value-0\n\ndata:value-1\n\ndata:value-2\n\n</code></pre>\n"}],"owner":{"account_id":24597859,"reputation":13,"user_id":18501038,"display_name":"Ares&#39; hand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1385,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677656149,"creation_date":1677557379,"question_id":75587800,"body_markdown":"My requirement is to send a request via post to call the API interface and then print the text/event-stream event stream returned by the server one by one, regardless of whether I use HttpURLConnection, WebFlux, or RestTemplate. The client waits for the complete response of the server and then combines the data into one piece and prints it out. The effect of returning one piece by one cannot be realized. Is there any solution that can meet my needs?\r\nThis is what I get when I send a request through crul:\r\n\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;1&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;2&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;3&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;4&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;5&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;6&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;7&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\nThis is the code I wrote using HttpURLConnection:\r\n\r\n        HttpURLConnection urlConnection = (HttpURLConnection) new URL(url).openConnection();\r\n        urlConnection.setDoOutput(true);\r\n        urlConnection.setDoInput(true);\r\n        urlConnection.setUseCaches(false);\r\n        urlConnection.setRequestMethod(&quot;POST&quot;);  \r\n        urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n        urlConnection.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n        urlConnection.setRequestProperty(&quot;Charset&quot;, &quot;UTF-8&quot;);\r\n        urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n        urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;text/event-stream&quot;);\r\n        urlConnection.getOutputStream().write(JSON.toJSONString(completionRequest).getBytes(StandardCharsets.UTF_8));\r\n\r\n        InputStream inputStream = urlConnection.getInputStream();\r\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n        BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n        String line;\r\n        while ((line = bufferedReader.readLine()) != null) {\r\n            System.out.println(&quot;lien:&quot;+line);\r\n        }\r\n\r\nThis is the code I wrote using webflux:\r\n \r\n\r\n      HttpHeaders httpHeaders = new HttpHeaders();\r\n      httpHeaders.setContentType(MediaType.parseMediaType(&quot;application/json; charset=UTF-8&quot;));\r\n      httpHeaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n      httpHeaders.add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n      HttpEntity&lt;String&gt; formEntity = new HttpEntity&lt;String&gt;(completionJSON, httpHeaders);\r\n    \r\n      Flux.create(emitter -&gt; {\r\n            try {\r\n                List&lt;String&gt; resultList = Arrays.stream(restTemplate.postForObject(url, formEntity, String.class).split(&quot;\\n&quot;)).\r\n                        filter(line -&gt; !line.trim().equals(&quot;&quot;)).collect(Collectors.toList());\r\n                for (String result : resultList) {\r\n                    String message = result.replace(&quot;data: &quot;, &quot;&quot;);\r\n                    if (message.equals(&quot;[DONE]&quot;)) {\r\n                        return;\r\n                    } else {\r\n                        JSONArray choicesJSON = new JSONObject(message).getJSONArray(&quot;choices&quot;);\r\n                        Object text = new JSONObject(choicesJSON.get(0).toString()).get(&quot;text&quot;);\r\n                        emitter.next(text);\r\n                    }\r\n                }\r\n            } catch (Exception ex) {\r\n                emitter.error(ex);\r\n            }\r\n        }).subscribe(System.out::println);\r\nBut in both cases, the output looks like this:\r\n\r\n    {&quot;id&quot;: &quot;cmpl-6onbJlmNNZBShLvHeJhdOMRAhR2x6&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677565085, &quot;choices&quot;: [{&quot;text&quot;:1 2 3 4 5 6 7&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\nIt is obvious that the results have been merged instead of being returned to print item by item.Is there a way for the client to receive the data piece by piece and print it?","title":"How can I write code in java to receive a text/event-stream event stream and print it one by one?","body":"<p>My requirement is to send a request via post to call the API interface and then print the text/event-stream event stream returned by the server one by one, regardless of whether I use HttpURLConnection, WebFlux, or RestTemplate. The client waits for the complete response of the server and then combines the data into one piece and prints it out. The effect of returning one piece by one cannot be realized. Is there any solution that can meet my needs?\nThis is what I get when I send a request through crul:</p>\n<pre><code>{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;1&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;2&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;3&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;4&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;5&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;6&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;7&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n</code></pre>\n<p>This is the code I wrote using HttpURLConnection:</p>\n<pre><code>    HttpURLConnection urlConnection = (HttpURLConnection) new URL(url).openConnection();\n    urlConnection.setDoOutput(true);\n    urlConnection.setDoInput(true);\n    urlConnection.setUseCaches(false);\n    urlConnection.setRequestMethod(&quot;POST&quot;);  \n    urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\n    urlConnection.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n    urlConnection.setRequestProperty(&quot;Charset&quot;, &quot;UTF-8&quot;);\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n    urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;text/event-stream&quot;);\n    urlConnection.getOutputStream().write(JSON.toJSONString(completionRequest).getBytes(StandardCharsets.UTF_8));\n\n    InputStream inputStream = urlConnection.getInputStream();\n    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n    BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n    String line;\n    while ((line = bufferedReader.readLine()) != null) {\n        System.out.println(&quot;lien:&quot;+line);\n    }\n</code></pre>\n<p>This is the code I wrote using webflux:</p>\n<pre><code>  HttpHeaders httpHeaders = new HttpHeaders();\n  httpHeaders.setContentType(MediaType.parseMediaType(&quot;application/json; charset=UTF-8&quot;));\n  httpHeaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n  httpHeaders.add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n  HttpEntity&lt;String&gt; formEntity = new HttpEntity&lt;String&gt;(completionJSON, httpHeaders);\n\n  Flux.create(emitter -&gt; {\n        try {\n            List&lt;String&gt; resultList = Arrays.stream(restTemplate.postForObject(url, formEntity, String.class).split(&quot;\\n&quot;)).\n                    filter(line -&gt; !line.trim().equals(&quot;&quot;)).collect(Collectors.toList());\n            for (String result : resultList) {\n                String message = result.replace(&quot;data: &quot;, &quot;&quot;);\n                if (message.equals(&quot;[DONE]&quot;)) {\n                    return;\n                } else {\n                    JSONArray choicesJSON = new JSONObject(message).getJSONArray(&quot;choices&quot;);\n                    Object text = new JSONObject(choicesJSON.get(0).toString()).get(&quot;text&quot;);\n                    emitter.next(text);\n                }\n            }\n        } catch (Exception ex) {\n            emitter.error(ex);\n        }\n    }).subscribe(System.out::println);\n</code></pre>\n<p>But in both cases, the output looks like this:</p>\n<pre><code>{&quot;id&quot;: &quot;cmpl-6onbJlmNNZBShLvHeJhdOMRAhR2x6&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677565085, &quot;choices&quot;: [{&quot;text&quot;:1 2 3 4 5 6 7&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n</code></pre>\n<p>It is obvious that the results have been merged instead of being returned to print item by item.Is there a way for the client to receive the data piece by piece and print it?</p>\n"},{"tags":["java","arrays","memory","multidimensional-array","compilation"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":2,"creation_date":1677657495,"post_id":75600696,"comment_id":133379054,"body_markdown":"https://godbolt.org/z/EfKqM3oc5","body":"<a href=\"https://godbolt.org/z/EfKqM3oc5\" rel=\"nofollow noreferrer\">godbolt.org/z/EfKqM3oc5</a>"}],"owner":{"account_id":25698858,"reputation":26,"user_id":19459162,"display_name":"mgoldy925"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677655985,"creation_date":1677655985,"question_id":75600696,"body_markdown":"I was considering the following Java code, and it got me thinking about how arrays actually work in Java.\r\n\r\n```\r\nint[][] arr = ...\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    for (int j = 0; j &lt; arr[i].length; j++) {\r\n        arr[i][j] = ...\r\n    }\r\n}\r\n```\r\nI typically think of a 2D array as an array of arrays, so I would think that `arr[i][j]` would require two array accesses: one to get the array stored at `arr[i]`, and another to get the jth element from it.  However, I know that in C, the [] notation is more a syntactic sugar that does pointer arithmetic, so `arr[i][j]` would require one array access there.\r\n\r\nHow does this work in Java?  Does accessing into an element in a multi-dimensional array require constant time?  Or if I have an n-dimensional array, does Java does n array accesses?  Or does something different happen?\r\n\r\nI tried writing some code to access arrays with an increasing number of dimensions, but I wasn&#39;t sure if doing this iteratively in a loop would somehow change how the compiler interprets it, so I tried hard coding this up to 10 dimensions and I didn&#39;t see any difference in how long it took to write to an element in the arrays.  I can&#39;t imagine ever needing an array with more than a few dimensions, but I&#39;m still interested in this in the abstract sense of how this scales with the number of dimensions of the array.","title":"Are Java array accesses one operation for multi-dimensional arrays","body":"<p>I was considering the following Java code, and it got me thinking about how arrays actually work in Java.</p>\n<pre><code>int[][] arr = ...\nfor (int i = 0; i &lt; arr.length; i++) {\n    for (int j = 0; j &lt; arr[i].length; j++) {\n        arr[i][j] = ...\n    }\n}\n</code></pre>\n<p>I typically think of a 2D array as an array of arrays, so I would think that <code>arr[i][j]</code> would require two array accesses: one to get the array stored at <code>arr[i]</code>, and another to get the jth element from it.  However, I know that in C, the [] notation is more a syntactic sugar that does pointer arithmetic, so <code>arr[i][j]</code> would require one array access there.</p>\n<p>How does this work in Java?  Does accessing into an element in a multi-dimensional array require constant time?  Or if I have an n-dimensional array, does Java does n array accesses?  Or does something different happen?</p>\n<p>I tried writing some code to access arrays with an increasing number of dimensions, but I wasn't sure if doing this iteratively in a loop would somehow change how the compiler interprets it, so I tried hard coding this up to 10 dimensions and I didn't see any difference in how long it took to write to an element in the arrays.  I can't imagine ever needing an array with more than a few dimensions, but I'm still interested in this in the abstract sense of how this scales with the number of dimensions of the array.</p>\n"},{"tags":["java","event-handling","minecraft","packet","minecraft-fabric"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1677592022,"post_id":75592627,"comment_id":133365283,"body_markdown":"It seems to be like `EntityJoinWorldEvent` does it already exists ?","body":"It seems to be like <code>EntityJoinWorldEvent</code> does it already exists ?"},{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677592858,"post_id":75592627,"comment_id":133365579,"body_markdown":"I found a Player Info Update packet that updates tab but i dont know how to listen to it","body":"I found a Player Info Update packet that updates tab but i dont know how to listen to it"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1677597092,"post_id":75592627,"comment_id":133367022,"body_markdown":"Oh yes, it can help. You should use `player.networkHandler.connection.getChannel().pipeline()` then use addBefore or addAfter. The `getChannel()` can doesn&#39;t exist, if it doesn&#39;t: use reflection","body":"Oh yes, it can help. You should use <code>player.networkHandler.connection.getChannel().pipeline()</code> then use addBefore or addAfter. The <code>getChannel()</code> can doesn&#39;t exist, if it doesn&#39;t: use reflection"},{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677600326,"post_id":75592627,"comment_id":133368118,"body_markdown":"can you please explain it more detailed?","body":"can you please explain it more detailed?"},{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677615809,"post_id":75592627,"comment_id":133372411,"body_markdown":"i cand seem to find the getChannel method are you sure its in fabric?","body":"i cand seem to find the getChannel method are you sure its in fabric?"},{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677616709,"post_id":75592627,"comment_id":133372620,"body_markdown":"i now used reflextion but there is still no add before or addafter method","body":"i now used reflextion but there is still no add before or addafter method"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1677654803,"post_id":75592627,"comment_id":133378468,"body_markdown":"I&#39;ll make an answer","body":"I&#39;ll make an answer"}],"answers":[{"comments":[{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677684499,"post_id":75600649,"comment_id":133387029,"body_markdown":"thanks you are really helping me out i am trying it out now","body":"thanks you are really helping me out i am trying it out now"}],"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677655685,"creation_date":1677655685,"answer_id":75600649,"question_id":75592627,"body_markdown":"It seems there is multiple ways.\r\n\r\n1) Use the `EntityJoinWorldEvent`. Multiple post were talking about this one, not sure it&#39;s fully working and can&#39;t find documentation about it.\r\n\r\n2) Listen for join message as &quot;XX joined the game&quot;, this can be used only if it&#39;s for specific servers\r\n\r\n3) Use packet. As you said, the PlayerInfoPacket can answer. To get it, you can you (at join of server for example) :\r\n\r\n\r\n\t   try {\r\n\t\t\tChannel channel = ReflectionUtils.getFirstWith(player.networkHandler.connection, ClientConnection.class, Channel.class);\r\n\t\t\tif(channel == null) {\r\n\t\t\t\tgetLogger().warn(&quot;Failed to load packet&quot;);\r\n\t\t\t} else {\r\n\t\t\t\t// Managing incoming packet\r\n\t\t\t\tchannel.pipeline().addBefore(&quot;packet_handler&quot;, &quot;packet_handler&quot; + p.getName(), new ChannelHandlerReceive(p));\r\n\t\t\t}\r\n\t   } catch (Exception exc) {\r\n\t\t\texc.printStackTrace();\r\n\t   }\r\n\r\nThe `&quot;packet_handler&quot;` is a specific key, but the `&quot;packet_handler&quot; + p.getName()` can be replaced by what you want, it only will name your own listener.\r\n\r\nFor the `ReflectionUtils.getFirstWith()`, you can check [here](https://github.com/Elikill58/Negativity/blob/v2/common/src/com/elikill58/negativity/universal/utils/ReflectionUtils.java#L68-L76) for the code.\r\n\r\nThen, add this class that will be able to read packets :\r\n\r\n\tprivate class ChannelHandlerReceive extends ChannelInboundHandlerAdapter {\r\n\r\n\t\tprivate final Player owner;\r\n\r\n\t\tpublic ChannelHandlerReceive(Player player) {\r\n\t\t\tthis.owner = player;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void channelRead(ChannelHandlerContext ctx, Object packet) throws Exception {\r\n            // here check what is packet, and if it&#39;s the PlayerInfoPacket -&gt; that&#39;s it !\r\n\t\t\tsuper.channelRead(ctx, packet); // don&#39;t forget this line !!\r\n\t\t}\r\n\t}\r\n\r\nFor the full code I&#39;m using, you can check [here](https://github.com/Elikill58/Negativity/blob/712245d1777df3550a575fb328db4e5f7cee8ce0/fabric/src/com/elikill58/negativity/fabric/packets/CustomPacketManager.java#L47)\r\n\r\nPS: Once you have the packet, don&#39;t forget to check for the action (remove player, add player, update name etc)","title":"Minecaft Fabric 1.19.3 EventListening when Player joins Server (Client)","body":"<p>It seems there is multiple ways.</p>\n<ol>\n<li><p>Use the <code>EntityJoinWorldEvent</code>. Multiple post were talking about this one, not sure it's fully working and can't find documentation about it.</p>\n</li>\n<li><p>Listen for join message as &quot;XX joined the game&quot;, this can be used only if it's for specific servers</p>\n</li>\n<li><p>Use packet. As you said, the PlayerInfoPacket can answer. To get it, you can you (at join of server for example) :</p>\n<pre><code>try {\n     Channel channel = ReflectionUtils.getFirstWith(player.networkHandler.connection, ClientConnection.class, Channel.class);\n     if(channel == null) {\n         getLogger().warn(&quot;Failed to load packet&quot;);\n     } else {\n         // Managing incoming packet\n         channel.pipeline().addBefore(&quot;packet_handler&quot;, &quot;packet_handler&quot; + p.getName(), new ChannelHandlerReceive(p));\n     }\n} catch (Exception exc) {\n     exc.printStackTrace();\n}\n</code></pre>\n</li>\n</ol>\n<p>The <code>&quot;packet_handler&quot;</code> is a specific key, but the <code>&quot;packet_handler&quot; + p.getName()</code> can be replaced by what you want, it only will name your own listener.</p>\n<p>For the <code>ReflectionUtils.getFirstWith()</code>, you can check <a href=\"https://github.com/Elikill58/Negativity/blob/v2/common/src/com/elikill58/negativity/universal/utils/ReflectionUtils.java#L68-L76\" rel=\"nofollow noreferrer\">here</a> for the code.</p>\n<p>Then, add this class that will be able to read packets :</p>\n<pre><code>private class ChannelHandlerReceive extends ChannelInboundHandlerAdapter {\n\n    private final Player owner;\n\n    public ChannelHandlerReceive(Player player) {\n        this.owner = player;\n    }\n\n    @Override\n    public void channelRead(ChannelHandlerContext ctx, Object packet) throws Exception {\n        // here check what is packet, and if it's the PlayerInfoPacket -&gt; that's it !\n        super.channelRead(ctx, packet); // don't forget this line !!\n    }\n}\n</code></pre>\n<p>For the full code I'm using, you can check <a href=\"https://github.com/Elikill58/Negativity/blob/712245d1777df3550a575fb328db4e5f7cee8ce0/fabric/src/com/elikill58/negativity/fabric/packets/CustomPacketManager.java#L47\" rel=\"nofollow noreferrer\">here</a></p>\n<p>PS: Once you have the packet, don't forget to check for the action (remove player, add player, update name etc)</p>\n"}],"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600649,"answer_count":1,"score":0,"last_activity_date":1677655685,"creation_date":1677590254,"question_id":75592627,"body_markdown":"I am trying to find a packet or a method to listen to when a player joins the server your in.\r\n\r\nI didn&#39;t find any packet or class the nearest think I found was the spawn player packet but this happens when a player enters view distance.","title":"Minecaft Fabric 1.19.3 EventListening when Player joins Server (Client)","body":"<p>I am trying to find a packet or a method to listen to when a player joins the server your in.</p>\n<p>I didn't find any packet or class the nearest think I found was the spawn player packet but this happens when a player enters view distance.</p>\n"},{"tags":["java","spring-boot","graalvm","graalvm-native-image","paketo"],"answers":[{"comments":[{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1677677822,"post_id":75600627,"comment_id":133384759,"body_markdown":"Not sure its a good idea, but you could embed the contents of what you want as a multi-line string. You could also set an argument or system property to point your application to a directory where it can find the resources it requires. You just need to ship those with the binary, which is where a container image comes in handy.","body":"Not sure its a good idea, but you could embed the contents of what you want as a multi-line string. You could also set an argument or system property to point your application to a directory where it can find the resources it requires. You just need to ship those with the binary, which is where a container image comes in handy."},{"owner":{"account_id":15065713,"reputation":1,"user_id":10872937,"display_name":"Widowan"},"score":0,"creation_date":1677756452,"post_id":75600627,"comment_id":133402505,"body_markdown":"&quot;&gt; Remember native images are not Docker images, they don&#39;t have &quot;filesystem&quot; inside. They are just regular executables.&quot;\n\n\nI think that&#39;s my problem. When looking inside generated image, I noticed there&#39;s only one executable and nothing else, so maybe it is indeed not possible (I though it is because of mentions of /workspace being default directory and implications of it).","body":"&quot;&gt; Remember native images are not Docker images, they don&#39;t have &quot;filesystem&quot; inside. They are just regular executables.&quot;   I think that&#39;s my problem. When looking inside generated image, I noticed there&#39;s only one executable and nothing else, so maybe it is indeed not possible (I though it is because of mentions of /workspace being default directory and implications of it)."}],"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677655497,"creation_date":1677655497,"answer_id":75600627,"question_id":75594022,"body_markdown":"One approach is to have files as resources, read them using `Class::getResource`, and embed them into the image using `-H:IncludeResources`.\r\n\r\nRemember native images are not Docker images, they don&#39;t have &quot;filesystem&quot; inside. They are just regular executables.","title":"How to embed a file into spring boot native image?","body":"<p>One approach is to have files as resources, read them using <code>Class::getResource</code>, and embed them into the image using <code>-H:IncludeResources</code>.</p>\n<p>Remember native images are not Docker images, they don't have &quot;filesystem&quot; inside. They are just regular executables.</p>\n"}],"owner":{"account_id":15065713,"reputation":1,"user_id":10872937,"display_name":"Widowan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677655497,"creation_date":1677597829,"question_id":75594022,"body_markdown":"I want to put a file inside an image generated by spring boot native image. But as far as I tried to search, there&#39;s no such option (or I couldn&#39;t find it) in neither spring boot maven plugin, paketo buildpack nor graalvm itself. I found that you can put resources in using `-H:IncludeResources`, however I need an actual file inside image&#39;s filesystem.","title":"How to embed a file into spring boot native image?","body":"<p>I want to put a file inside an image generated by spring boot native image. But as far as I tried to search, there's no such option (or I couldn't find it) in neither spring boot maven plugin, paketo buildpack nor graalvm itself. I found that you can put resources in using <code>-H:IncludeResources</code>, however I need an actual file inside image's filesystem.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1672148932,"post_id":74929217,"comment_id":132229591,"body_markdown":"The first parameter to `assertEquals` is the expected value, not the actual value. You&#39;re passing the parameters the wrong way around. The problem is that the actual is `null`, and that&#39;s what you need to investigate. Which controller method are you expecting to be called by your tests? Should `url` be empty?","body":"The first parameter to <code>assertEquals</code> is the expected value, not the actual value. You&#39;re passing the parameters the wrong way around. The problem is that the actual is <code>null</code>, and that&#39;s what you need to investigate. Which controller method are you expecting to be called by your tests? Should <code>url</code> be empty?"}],"answers":[{"tags":[],"owner":{"account_id":24142900,"reputation":1,"user_id":18108911,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677654749,"creation_date":1677654749,"answer_id":75600537,"question_id":74929217,"body_markdown":"First of all, the url you are passing is empty yet your endpoint you are investigating has the url as &quot;cloudProduct/getAll&quot;.\r\n\r\nThen also assert follows the order \r\n\r\n    assertEquals(expected, actual)\r\nCheck on those few highlights and see what comes out.","title":"org.opentest4j.AssertionFailedError: expected: [[]] but was:","body":"<p>First of all, the url you are passing is empty yet your endpoint you are investigating has the url as &quot;cloudProduct/getAll&quot;.</p>\n<p>Then also assert follows the order</p>\n<pre><code>assertEquals(expected, actual)\n</code></pre>\n<p>Check on those few highlights and see what comes out.</p>\n"}],"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677654749,"creation_date":1672143792,"question_id":74929217,"body_markdown":"I&#39;m trying to make tests of my CRUD operations in my springboot Restful Web Service, but I can&#39;t, because every tutorial I follow ends up with some error !\r\nThis time I&#39;m publishing this in order to get some help from you.\r\nMy CloudProduct.java\r\n```\r\n\r\npackage com.proj.my.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.sql.Date;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.SQLDelete;\r\nimport org.hibernate.annotations.Where;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;cloud_product_info&quot;)\r\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\r\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \r\n        allowGetters = true)\r\n\r\n\r\n\r\npublic class CloudProduct {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer productId;\r\n\r\n    private String productName;\r\n    private Float priceInEuros;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n    private Boolean deleted = Boolean.FALSE;\r\n\r\n\r\n    @JsonIgnore\r\n    public Boolean getdeleted() {\r\n        return deleted;\r\n    }\r\n    @JsonIgnore\r\n    public void setdeleted(Boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n\r\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\r\n        this.productId = productId;\r\n        this.productName = productName;\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public CloudProduct() {\r\n\r\n    } \r\n    \r\n    public Integer getProductId() {\r\n        return productId;\r\n    }\r\n    public void setProductId(Integer productId) {\r\n        this.productId = productId;\r\n    }\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n    public Float getpriceInEuros() {\r\n        return priceInEuros;\r\n    }\r\n    public void setProductPrice(Float priceInEuros) {\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Product{&quot; +\r\n                &quot;id=&quot; + productId +\r\n                &quot;, name=&#39;&quot; + productName + &#39;\\&#39;&#39; +\r\n                &quot;, price=&quot; + priceInEuros +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\nMy CloudProductController\r\n\r\n```\r\npackage com.proj.my.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.service.CloudProductService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/cloudproduct&quot;)\r\n\r\npublic class CloudProductController \r\n{\r\n\r\n    CloudProductService cloudProductService;\r\n\r\n    public CloudProductController(CloudProductService cloudProductService)\r\n    {\r\n        this.cloudProductService = cloudProductService;\r\n    }\r\n\r\n    @GetMapping(&quot;{productId}&quot;)\r\n    public CloudProduct getCloudProductDetails(@PathVariable(&quot;productId&quot;) Integer productId){\r\n        return cloudProductService.getCloudProduct(productId);\r\n    }\r\n\r\n    @GetMapping(&quot;getAll&quot;)\r\n    public List&lt;CloudProduct&gt; getCloudProductDetails(){\r\n        return cloudProductService.getCloudProducts();\r\n    }\r\n\r\n    @PostMapping\r\n    public String createCloudProductDetails(@RequestBody CloudProduct cloudProduct){\r\n\r\n        cloudProductService.createCloudProduct(cloudProduct);\r\n        return &quot;Success&quot;;\r\n    }\r\n\r\n    @PutMapping\r\n    public CloudProduct updateCloudProductDetails(@RequestBody CloudProduct cloudProduct){\r\n\r\n        return cloudProductService.updateCloudProduct(cloudProduct);\r\n    }\r\n\r\n    @DeleteMapping(&quot;{productId}&quot;)\r\n    public String deleteCloudProductDetails(@PathVariable(&quot;productId&quot;)Integer productId){\r\n\r\n        cloudProductService.deleteCloudProduct(productId);\r\n        return &quot;Deleted!&quot;;\r\n    }\r\n    \r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nMy CloudProductServiceImpl.java\r\n```\r\npackage com.proj.my.service.impl;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\n\r\n\r\n@Service\r\npublic class CloudProductServiceImpl implements CloudProductService \r\n{\r\n\r\n    CloudProductRepository cloudProductRepository;\r\n\r\n    public CloudProductServiceImpl(CloudProductRepository cloudProductRepository) {\r\n    \r\n        this.cloudProductRepository = cloudProductRepository;\r\n    \r\n    }\r\n\r\n    @Override\r\n    public String createCloudProduct(CloudProduct cloudProduct){\r\n        cloudProductRepository.save(cloudProduct);\r\n        return &quot;Success&quot;;\r\n    }\r\n\r\n    @Override\r\n    public CloudProduct updateCloudProduct(CloudProduct cloudProduct){\r\n        CloudProduct existingCloudProductDetails = getCloudProduct(cloudProduct.getProductId());\r\n\r\n        if(cloudProduct.getProductName() != null){\r\n            existingCloudProductDetails.setProductName(cloudProduct.getProductName());\r\n        }\r\n\r\n        if(cloudProduct.getpriceInEuros() != null){\r\n            existingCloudProductDetails.setProductPrice(cloudProduct.getpriceInEuros());\r\n        }\r\n\r\n        \r\n        return cloudProductRepository.save(existingCloudProductDetails);\r\n    }\r\n        \r\n    @Override\r\n    public CloudProduct getCloudProduct(Integer cloudProductId){\r\n        return cloudProductRepository.findById(cloudProductId).get();\r\n    }\r\n\r\n\r\n    @Override\r\n    public String deleteCloudProduct(Integer cloudProductId){\r\n        cloudProductRepository.deleteById(cloudProductId);\r\n        return &quot;Success&quot;;\r\n    }\r\n\r\n    \r\n    @Override\r\n    public List&lt;CloudProduct&gt; getCloudProducts()\r\n    {\r\n        return cloudProductRepository.findAll();\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\n```\r\n\r\nMy CloudProductService.java\r\n\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport java.util.List;\r\n\r\nimport com.proj.my.model.CloudProduct;\r\n\r\npublic interface CloudProductService {\r\n\r\n    public String createCloudProduct(CloudProduct cloudProduct);\r\n    public CloudProduct updateCloudProduct(CloudProduct cloudProduct);\r\n    public String deleteCloudProduct(Integer cloudProductId);\r\n    public CloudProduct getCloudProduct(Integer cloudProductId);\r\n    public List&lt;CloudProduct&gt; getCloudProducts();\r\n}\r\n\r\n```\r\n\r\nMy cloudProductRepository.java\r\n\r\n```\r\npackage com.proj.my.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.proj.my.model.CloudProduct;\r\n\r\npublic interface CloudProductRepository extends JpaRepository&lt;CloudProduct, Integer&gt; {\r\n    \r\n}\r\n```\r\nAnd finally, my CloudProductControllerTest.java\r\n\r\n```\r\npackage com.proj.my.service.impl;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\nimport com.proj.my.controller.CloudProductController;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\nimport java.util.ArrayList;\r\n\r\n\r\nimport java.util.List;\r\n\r\n\r\n@WebMvcTest(CloudProductController.class)\r\npublic class CloudProductControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @MockBean\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    @MockBean\r\n    private CloudProductService cloudProductService;\r\n\r\n    @Test\r\n    public void testgetCloudProductDetails() throws Exception{\r\n        List&lt;CloudProduct&gt; productList = new ArrayList&lt;&gt;();\r\n        productList.add(new CloudProduct(1, &quot;Maria&quot;, (float) 232));\r\n        productList.add(new CloudProduct(2, &quot;Maria&quot;, (float) 232));\r\n        Mockito.when(cloudProductRepository.findAll()).thenReturn(productList);\r\n\r\n        String url = &quot;&quot;;\r\n        mockMvc.perform(get(url)).andExpect(status().isOk());\r\n        String actualJsonResponse = mvcResult.getResponse().getContentAsString();\r\n        System.out.println(actualJsonResponse);\r\n\r\n        String expectedJsonResponse = objectMapper.writeValueAsString(productList);\r\n        System.out.println(expectedJsonResponse);\r\n        assertEquals(actualJsonResponse, expectedJsonResponse);\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\nAnd this test is wrong, because the expected here is &quot;[]&quot; and I&#39;m getting &quot; [{&quot;productId&quot;:1,&quot;productName&quot;:&quot;Maria&quot;,&quot;priceInEuros&quot;:232.0,&quot;createdAt&quot;:null},{&quot;productId&quot;:2,&quot;productName&quot;:&quot;Maria&quot;,&quot;priceInEuros&quot;:232.0,&quot;createdAt&quot;:null}]&quot; which is correct... the expected is null, why ?","title":"org.opentest4j.AssertionFailedError: expected: [[]] but was:","body":"<p>I'm trying to make tests of my CRUD operations in my springboot Restful Web Service, but I can't, because every tutorial I follow ends up with some error !\nThis time I'm publishing this in order to get some help from you.\nMy CloudProduct.java</p>\n<pre><code>\npackage com.proj.my.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\nimport java.sql.Date;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name=&quot;cloud_product_info&quot;)\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \n        allowGetters = true)\n\n\n\npublic class CloudProduct {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer productId;\n\n    private String productName;\n    private Float priceInEuros;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;created_at&quot;)\n    private Date createdAt;\n    private Boolean deleted = Boolean.FALSE;\n\n\n    @JsonIgnore\n    public Boolean getdeleted() {\n        return deleted;\n    }\n    @JsonIgnore\n    public void setdeleted(Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\n        this.productId = productId;\n        this.productName = productName;\n        this.priceInEuros = priceInEuros;\n    }\n\n    public CloudProduct() {\n\n    } \n    \n    public Integer getProductId() {\n        return productId;\n    }\n    public void setProductId(Integer productId) {\n        this.productId = productId;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public Float getpriceInEuros() {\n        return priceInEuros;\n    }\n    public void setProductPrice(Float priceInEuros) {\n        this.priceInEuros = priceInEuros;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product{&quot; +\n                &quot;id=&quot; + productId +\n                &quot;, name='&quot; + productName + '\\'' +\n                &quot;, price=&quot; + priceInEuros +\n                '}';\n    }\n}\n\n</code></pre>\n<p>My CloudProductController</p>\n<pre><code>package com.proj.my.controller;\n\nimport java.util.List;\n\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.service.CloudProductService;\n\n@RestController\n@RequestMapping(&quot;/cloudproduct&quot;)\n\npublic class CloudProductController \n{\n\n    CloudProductService cloudProductService;\n\n    public CloudProductController(CloudProductService cloudProductService)\n    {\n        this.cloudProductService = cloudProductService;\n    }\n\n    @GetMapping(&quot;{productId}&quot;)\n    public CloudProduct getCloudProductDetails(@PathVariable(&quot;productId&quot;) Integer productId){\n        return cloudProductService.getCloudProduct(productId);\n    }\n\n    @GetMapping(&quot;getAll&quot;)\n    public List&lt;CloudProduct&gt; getCloudProductDetails(){\n        return cloudProductService.getCloudProducts();\n    }\n\n    @PostMapping\n    public String createCloudProductDetails(@RequestBody CloudProduct cloudProduct){\n\n        cloudProductService.createCloudProduct(cloudProduct);\n        return &quot;Success&quot;;\n    }\n\n    @PutMapping\n    public CloudProduct updateCloudProductDetails(@RequestBody CloudProduct cloudProduct){\n\n        return cloudProductService.updateCloudProduct(cloudProduct);\n    }\n\n    @DeleteMapping(&quot;{productId}&quot;)\n    public String deleteCloudProductDetails(@PathVariable(&quot;productId&quot;)Integer productId){\n\n        cloudProductService.deleteCloudProduct(productId);\n        return &quot;Deleted!&quot;;\n    }\n    \n\n\n\n}\n\n</code></pre>\n<p>My CloudProductServiceImpl.java</p>\n<pre><code>package com.proj.my.service.impl;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Service;\n\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\n\n\n@Service\npublic class CloudProductServiceImpl implements CloudProductService \n{\n\n    CloudProductRepository cloudProductRepository;\n\n    public CloudProductServiceImpl(CloudProductRepository cloudProductRepository) {\n    \n        this.cloudProductRepository = cloudProductRepository;\n    \n    }\n\n    @Override\n    public String createCloudProduct(CloudProduct cloudProduct){\n        cloudProductRepository.save(cloudProduct);\n        return &quot;Success&quot;;\n    }\n\n    @Override\n    public CloudProduct updateCloudProduct(CloudProduct cloudProduct){\n        CloudProduct existingCloudProductDetails = getCloudProduct(cloudProduct.getProductId());\n\n        if(cloudProduct.getProductName() != null){\n            existingCloudProductDetails.setProductName(cloudProduct.getProductName());\n        }\n\n        if(cloudProduct.getpriceInEuros() != null){\n            existingCloudProductDetails.setProductPrice(cloudProduct.getpriceInEuros());\n        }\n\n        \n        return cloudProductRepository.save(existingCloudProductDetails);\n    }\n        \n    @Override\n    public CloudProduct getCloudProduct(Integer cloudProductId){\n        return cloudProductRepository.findById(cloudProductId).get();\n    }\n\n\n    @Override\n    public String deleteCloudProduct(Integer cloudProductId){\n        cloudProductRepository.deleteById(cloudProductId);\n        return &quot;Success&quot;;\n    }\n\n    \n    @Override\n    public List&lt;CloudProduct&gt; getCloudProducts()\n    {\n        return cloudProductRepository.findAll();\n    }\n\n\n    \n}\n\n</code></pre>\n<p>My CloudProductService.java</p>\n<pre><code>package com.proj.my.service;\n\nimport java.util.List;\n\nimport com.proj.my.model.CloudProduct;\n\npublic interface CloudProductService {\n\n    public String createCloudProduct(CloudProduct cloudProduct);\n    public CloudProduct updateCloudProduct(CloudProduct cloudProduct);\n    public String deleteCloudProduct(Integer cloudProductId);\n    public CloudProduct getCloudProduct(Integer cloudProductId);\n    public List&lt;CloudProduct&gt; getCloudProducts();\n}\n\n</code></pre>\n<p>My cloudProductRepository.java</p>\n<pre><code>package com.proj.my.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.proj.my.model.CloudProduct;\n\npublic interface CloudProductRepository extends JpaRepository&lt;CloudProduct, Integer&gt; {\n    \n}\n</code></pre>\n<p>And finally, my CloudProductControllerTest.java</p>\n<pre><code>package com.proj.my.service.impl;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.web.servlet.MockMvc;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\nimport com.proj.my.controller.CloudProductController;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\nimport java.util.ArrayList;\n\n\nimport java.util.List;\n\n\n@WebMvcTest(CloudProductController.class)\npublic class CloudProductControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    \n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @MockBean\n    private CloudProductRepository cloudProductRepository;\n\n    @MockBean\n    private CloudProductService cloudProductService;\n\n    @Test\n    public void testgetCloudProductDetails() throws Exception{\n        List&lt;CloudProduct&gt; productList = new ArrayList&lt;&gt;();\n        productList.add(new CloudProduct(1, &quot;Maria&quot;, (float) 232));\n        productList.add(new CloudProduct(2, &quot;Maria&quot;, (float) 232));\n        Mockito.when(cloudProductRepository.findAll()).thenReturn(productList);\n\n        String url = &quot;&quot;;\n        mockMvc.perform(get(url)).andExpect(status().isOk());\n        String actualJsonResponse = mvcResult.getResponse().getContentAsString();\n        System.out.println(actualJsonResponse);\n\n        String expectedJsonResponse = objectMapper.writeValueAsString(productList);\n        System.out.println(expectedJsonResponse);\n        assertEquals(actualJsonResponse, expectedJsonResponse);\n\n    }\n}\n\n\n</code></pre>\n<p>And this test is wrong, because the expected here is &quot;[]&quot; and I'm getting &quot; [{&quot;productId&quot;:1,&quot;productName&quot;:&quot;Maria&quot;,&quot;priceInEuros&quot;:232.0,&quot;createdAt&quot;:null},{&quot;productId&quot;:2,&quot;productName&quot;:&quot;Maria&quot;,&quot;priceInEuros&quot;:232.0,&quot;createdAt&quot;:null}]&quot; which is correct... the expected is null, why ?</p>\n"},{"tags":["javascript","java","htmlunit"],"answers":[{"comments":[{"owner":{"account_id":27896473,"reputation":13,"user_id":21301661,"display_name":"frogfromflow"},"score":0,"creation_date":1677654978,"post_id":75600532,"comment_id":133378507,"body_markdown":"I need to add 2 global environments: window and document and I want to copy them from HtmlUnit if that possible (I need to minimise the size)","body":"I need to add 2 global environments: window and document and I want to copy them from HtmlUnit if that possible (I need to minimise the size)"},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1677656375,"post_id":75600532,"comment_id":133378824,"body_markdown":"Please have a look into https://github.com/HtmlUnit/htmlunit/blob/master/pom.xml","body":"Please have a look into <a href=\"https://github.com/HtmlUnit/htmlunit/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/HtmlUnit/htmlunit/blob/master/pom.xml</a>"}],"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677654700,"creation_date":1677654700,"answer_id":75600532,"question_id":75587931,"body_markdown":"You can execute javascript in the context of the page/window and get back the value - maybe that is what you are asking for?\r\n\r\nSimple sample to get a string from window\r\n\r\n    String script = &quot;window.name;&quot;;\r\n    String result = (String) page.executeJavaScript(script).getJavaScriptResult();\r\n\r\nThe script can be everything you can place in a script tag e.g. including function definitions.\r\n","title":"How to use javascript DOM implementation from HtmlUnit","body":"<p>You can execute javascript in the context of the page/window and get back the value - maybe that is what you are asking for?</p>\n<p>Simple sample to get a string from window</p>\n<pre><code>String script = &quot;window.name;&quot;;\nString result = (String) page.executeJavaScript(script).getJavaScriptResult();\n</code></pre>\n<p>The script can be everything you can place in a script tag e.g. including function definitions.</p>\n"}],"owner":{"account_id":27896473,"reputation":13,"user_id":21301661,"display_name":"frogfromflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600532,"answer_count":1,"score":0,"last_activity_date":1677654700,"creation_date":1677559126,"question_id":75587931,"body_markdown":"The problem is that I need to extract javascript DOM implementation like `window` and `document` variables. I need to do it because DOM is huge and I need only some of the variables to evaluate my code. I use Java RhinoEngine to evaluate the code but it doesn&#39;t have browser environment variables, so I want to create a minimal variable environment for evaluating scripts with the same variables (variables don&#39;t change and the code changes)\r\n\r\nI&#39;ve checked the HtmlUnit code but wasn&#39;t able to find out how to copy DOM implementation from it properly.","title":"How to use javascript DOM implementation from HtmlUnit","body":"<p>The problem is that I need to extract javascript DOM implementation like <code>window</code> and <code>document</code> variables. I need to do it because DOM is huge and I need only some of the variables to evaluate my code. I use Java RhinoEngine to evaluate the code but it doesn't have browser environment variables, so I want to create a minimal variable environment for evaluating scripts with the same variables (variables don't change and the code changes)</p>\n<p>I've checked the HtmlUnit code but wasn't able to find out how to copy DOM implementation from it properly.</p>\n"},{"tags":["java","spring-boot","spring-security","mockmvc"],"answers":[{"comments":[{"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"score":0,"creation_date":1677655398,"post_id":75600405,"comment_id":133378596,"body_markdown":"Sheesh, I wanted that Matcher assertion, was fixated on that. That&#39;s it, I removed the assertThrows and it works just fine. Thank you Ken","body":"Sheesh, I wanted that Matcher assertion, was fixated on that. That&#39;s it, I removed the assertThrows and it works just fine. Thank you Ken"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677653687,"creation_date":1677653687,"answer_id":75600405,"question_id":75600093,"body_markdown":"Because you re-throw `AccessDeniedException` from its `@ExceptionHandler` ,it is considered as unresolved exception but `MockMvc` will only capture the resolved exception. So `AccessDeniedException` is never resolved and hence `getResolvedException()` is null.\r\n\r\nNormally you do not need to rethrow the exception from `@ExceptionHandler` , just handle it by configuring what HTTP status code or response body should be replied in the HTTP response.\r\n\r\nAlso suppose you really resolve `AccessDeniedException` , you do not need to wrap the `mockMvc.perform()` in the `assertThrows()`. Just use `mockMvc.perform().andExpect(xxx)` for assertion.\r\n\r\n","title":"MockMvc does not handle AccessDeniedException","body":"<p>Because you re-throw <code>AccessDeniedException</code> from its <code>@ExceptionHandler</code> ,it is considered as unresolved exception but <code>MockMvc</code> will only capture the resolved exception. So <code>AccessDeniedException</code> is never resolved and hence <code>getResolvedException()</code> is null.</p>\n<p>Normally you do not need to rethrow the exception from <code>@ExceptionHandler</code> , just handle it by configuring what HTTP status code or response body should be replied in the HTTP response.</p>\n<p>Also suppose you really resolve <code>AccessDeniedException</code> , you do not need to wrap the <code>mockMvc.perform()</code> in the <code>assertThrows()</code>. Just use <code>mockMvc.perform().andExpect(xxx)</code> for assertion.</p>\n"}],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600405,"answer_count":1,"score":0,"last_activity_date":1677653687,"creation_date":1677650795,"question_id":75600093,"body_markdown":"I have a post call that runs something like this\r\n\r\n     assertThrows(&quot;Access Denied for non Blappity Roles&quot;,\r\n                     () -&gt; mvc.perform(post(url)\r\n                                        .content(requestStr)\r\n                                        .accept(ContentType.APPLICATION_JSON.toString())\r\n                                        .with(csrf())\r\n                                        .contentType(MediaType.APPLICATION_JSON))\r\n                                   .andExpect(__ -&gt; assertThat(__.getResolvedException(),                                             CoreMatchers.instanceOf(AccessDeniedException.class))),\r\n                     Matchers.instanceOf(AccessDeniedException.class))\r\n\r\nI do have an Exception Handler defined this way\r\n\r\n       @ExceptionHandler(AccessDeniedException.class)\r\n     public void accessDeniedException(HttpServletRequest request, HttpServletResponse response, Exception e) throws Exception {\r\n         e.printStackTrace(System.err);\r\n         log.error(&quot;Access Denied Exception {}&quot;, e.getClass(), e);\r\n         throw e;\r\nNo matter what, the test fails, and mockmvc perform does not capture the AccessDeniedException, and the test fails with.. guess what, AccessDeniedException that escapes my Matcher.\r\nWhat I am guessing is, the exception I am throwing is being gobbled by another filter somewhere. Is there anyway I can get MockMvc to get the exception?","title":"MockMvc does not handle AccessDeniedException","body":"<p>I have a post call that runs something like this</p>\n<pre><code> assertThrows(&quot;Access Denied for non Blappity Roles&quot;,\n                 () -&gt; mvc.perform(post(url)\n                                    .content(requestStr)\n                                    .accept(ContentType.APPLICATION_JSON.toString())\n                                    .with(csrf())\n                                    .contentType(MediaType.APPLICATION_JSON))\n                               .andExpect(__ -&gt; assertThat(__.getResolvedException(),                                             CoreMatchers.instanceOf(AccessDeniedException.class))),\n                 Matchers.instanceOf(AccessDeniedException.class))\n</code></pre>\n<p>I do have an Exception Handler defined this way</p>\n<pre><code>   @ExceptionHandler(AccessDeniedException.class)\n public void accessDeniedException(HttpServletRequest request, HttpServletResponse response, Exception e) throws Exception {\n     e.printStackTrace(System.err);\n     log.error(&quot;Access Denied Exception {}&quot;, e.getClass(), e);\n     throw e;\n</code></pre>\n<p>No matter what, the test fails, and mockmvc perform does not capture the AccessDeniedException, and the test fails with.. guess what, AccessDeniedException that escapes my Matcher.\nWhat I am guessing is, the exception I am throwing is being gobbled by another filter somewhere. Is there anyway I can get MockMvc to get the exception?</p>\n"},{"tags":["java","grails","image-processing","image-manipulation"],"comments":[{"owner":{"display_name":"user1181445"},"score":0,"creation_date":1360168687,"post_id":14731799,"comment_id":20615178,"body_markdown":"I won&#39;t post this as an answer, seeing as it might not be the best solution, but using the radius as a measurement for Pythagoras and copying the pixel images to another image for all in range of the radius could work, it might be sloppy. You would have to use a BufferedType.TYPE_ARGB. To include alpha for transparency of course.","body":"I won&#39;t post this as an answer, seeing as it might not be the best solution, but using the radius as a measurement for Pythagoras and copying the pixel images to another image for all in range of the radius could work, it might be sloppy. You would have to use a BufferedType.TYPE_ARGB. To include alpha for transparency of course."}],"answers":[{"tags":[],"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360168787,"creation_date":1360168787,"answer_id":14734214,"question_id":14731799,"body_markdown":"You can use setClip() method of the Graphics class to restrict the drawing area of a graphics context to a specific region. The drawback of this is that this clipping will not be anti-aliased.\r\n\r\nThere are some more advanced tricks to achieve a better-looking result, see the answers to the following questions:\r\n\r\nhttps://stackoverflow.com/questions/9677661/drawing-a-part-of-an-image-java\r\n\r\nhttps://stackoverflow.com/questions/7603400/how-to-make-a-rounded-corner-image-in-java\r\n\r\n","title":"Bufferedimage into circle shape","body":"<p>You can use setClip() method of the Graphics class to restrict the drawing area of a graphics context to a specific region. The drawback of this is that this clipping will not be anti-aliased.</p>\n\n<p>There are some more advanced tricks to achieve a better-looking result, see the answers to the following questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9677661/drawing-a-part-of-an-image-java\">Drawing a part of an image (Java)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7603400/how-to-make-a-rounded-corner-image-in-java\">How to make a rounded corner image in Java</a></p>\n"},{"tags":[],"owner":{"account_id":4569445,"reputation":289,"user_id":3709533,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433835392,"creation_date":1433835392,"answer_id":30725741,"question_id":14731799,"body_markdown":"this can help\r\n\r\n        g.setClip(new Ellipse2D.Float(x, y, w, h));\r\n        g.drawImage(yourBufferedImage, x, y, w, h, null);","title":"Bufferedimage into circle shape","body":"<p>this can help</p>\n\n<pre><code>    g.setClip(new Ellipse2D.Float(x, y, w, h));\n    g.drawImage(yourBufferedImage, x, y, w, h, null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":250813,"reputation":11515,"user_id":2191890,"accept_rate":56,"display_name":"Roc Boronat"},"score":0,"creation_date":1624019105,"post_id":42073202,"comment_id":120249665,"body_markdown":"The cropped zone is not antialiased :cry:","body":"The cropped zone is not antialiased :cry:"}],"tags":[],"owner":{"account_id":4199067,"reputation":4323,"user_id":3439686,"accept_rate":75,"display_name":"johanvs"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486400249,"creation_date":1486400249,"answer_id":42073202,"question_id":14731799,"body_markdown":"If `bufferedImage` is squared, then with this code :\r\n\r\n    int width = bufferedImage.getWidth();\r\n    BufferedImage circleBuffer = new BufferedImage(width, width, BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g2 = circleBuffer.createGraphics();\r\n    g2.setClip(new Ellipse2D.Float(0, 0, width, width));\r\n    g2.drawImage(bufferedImage, 0, 0, width, width, null);\r\n\r\nyou get a circular cropped image in `circleBuffer`","title":"Bufferedimage into circle shape","body":"<p>If <code>bufferedImage</code> is squared, then with this code :</p>\n\n<pre><code>int width = bufferedImage.getWidth();\nBufferedImage circleBuffer = new BufferedImage(width, width, BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2 = circleBuffer.createGraphics();\ng2.setClip(new Ellipse2D.Float(0, 0, width, width));\ng2.drawImage(bufferedImage, 0, 0, width, width, null);\n</code></pre>\n\n<p>you get a circular cropped image in <code>circleBuffer</code></p>\n"},{"tags":[],"owner":{"account_id":16965497,"reputation":332,"user_id":12271495,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677653634,"creation_date":1677653634,"answer_id":75600399,"question_id":14731799,"body_markdown":"```java\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class ImageCircle {\r\n    static Image img;\r\n    static String imgFile =\r\n            &quot;yourFileName.jpg&quot;;\r\n    public static void main(String[] args) {\r\n        try {\r\n            img = ImageIO.read(new File(imgFile));\r\n        } catch (IOException fne) {\r\n            fne.printStackTrace();\r\n        }\r\n        int width = img.getWidth(null);\r\n        int height = img.getHeight(null);\r\n\r\n        BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2 = bi.createGraphics();\r\n\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n        int circleDiameter = Math.min(width,height);\r\n        Ellipse2D.Double circle = new Ellipse2D.Double(0,0,circleDiameter,circleDiameter);\r\n        g2.setClip(circle);\r\n        g2.drawImage(img,0,0,null);\r\n        try {\r\n            ImageIO.write(bi, &quot;PNG&quot;, new File(&quot;yourFileName.png&quot;));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"Bufferedimage into circle shape","body":"<pre class=\"lang-java prettyprint-override\"><code>import javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class ImageCircle {\n    static Image img;\n    static String imgFile =\n            &quot;yourFileName.jpg&quot;;\n    public static void main(String[] args) {\n        try {\n            img = ImageIO.read(new File(imgFile));\n        } catch (IOException fne) {\n            fne.printStackTrace();\n        }\n        int width = img.getWidth(null);\n        int height = img.getHeight(null);\n\n        BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2 = bi.createGraphics();\n\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        int circleDiameter = Math.min(width,height);\n        Ellipse2D.Double circle = new Ellipse2D.Double(0,0,circleDiameter,circleDiameter);\n        g2.setClip(circle);\n        g2.drawImage(img,0,0,null);\n        try {\n            ImageIO.write(bi, &quot;PNG&quot;, new File(&quot;yourFileName.png&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":533137,"reputation":1564,"user_id":903772,"accept_rate":60,"display_name":"user903772"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1677653634,"creation_date":1360162009,"question_id":14731799,"body_markdown":"I have a buffered image from byte array. How do I make the image into a circle? Crop? I don&#39;t want a circle, I want the orginal image to become circle shape and display\r\n\r\n\r\n     def bufferedImage = imgSvc.convertByteArrayToBufferedImage(crop.image)\r\n            \r\n\r\n\r\n\r\n","title":"Bufferedimage into circle shape","body":"<p>I have a buffered image from byte array. How do I make the image into a circle? Crop? I don't want a circle, I want the orginal image to become circle shape and display</p>\n\n<pre><code> def bufferedImage = imgSvc.convertByteArrayToBufferedImage(crop.image)\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677639873,"post_id":75599173,"comment_id":133376515,"body_markdown":"This is for a producer? Can you instead use the send function that accepts a callback instead of dealing with a Future?","body":"This is for a producer? Can you instead use the send function that accepts a callback instead of dealing with a Future?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1677641889,"post_id":75599173,"comment_id":133376749,"body_markdown":"Have two if statements in `accept` to check which of `result` and `u` is non-null. I think your current code NPEs on exceptional completion.","body":"Have two if statements in <code>accept</code> to check which of <code>result</code> and <code>u</code> is non-null. I think your current code NPEs on exceptional completion."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1677642015,"post_id":75599173,"comment_id":133376760,"body_markdown":"Got it. The documentation also says for `whenComplete()`: &quot; the given action is invoked **with the result (or null if none) and the exception (or null if none)** of this stage as arguments. &quot; -&gt; https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#whenComplete-java.util.function.BiConsumer-","body":"Got it. The documentation also says for <code>whenComplete()</code>: &quot; the given action is invoked <b>with the result (or null if none) and the exception (or null if none)</b> of this stage as arguments. &quot; -&gt; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#whenComplete-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":1,"creation_date":1677642081,"post_id":75599297,"comment_id":133376772,"body_markdown":"I believe there should be an `else` there as well, since the two conditions need exclusive code and we&#39;re not returning immediately; or we need to `return;` immediately.","body":"I believe there should be an <code>else</code> there as well, since the two conditions need exclusive code and we&#39;re not returning immediately; or we need to <code>return;</code> immediately."},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1677645073,"post_id":75599297,"comment_id":133377131,"body_markdown":"Yes, I added the else. Thank you for pointing the issue.","body":"Yes, I added the else. Thank you for pointing the issue."}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677653525,"creation_date":1677641030,"answer_id":75599297,"question_id":75599173,"body_markdown":"The `whenComplete` function will be invoked for both success and failure cases. The signature of `whenComplete` takes the throwable which denotes that in case of a failure, this function will be called with the exception value. \r\n\r\nSo you may not require the `exceptionally` method at all. \r\n\r\nSomething like \r\n\r\n            future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\r\n\r\n            @Override\r\n            public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\r\n                if (u != null) {\r\n                    logger.error(....)\r\n                }\r\n                else {\r\n                    ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n                    CaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\r\n                    logger.info(&quot;Producing request succeeded: {}&quot;, data);   \r\n               }   \r\n          }\r\n        });\r\n\r\n\r\n**Alternative implementation**\r\n\r\nYou could leverage Kafka Async send method and have a callback to handle the results. This would require some more refactoring of your older code base. \r\n\r\nSomething like this \r\n\r\n        producer.send(producerRecord, new Callback() {\r\n                public void onCompletion(RecordMetadata recordMetadata, Exception e) {\r\n                    // executes every time a record is successfully sent or an exception is thrown\r\n                    if (e == null) {\r\n                        // the record was successfully sent\r\n                        log.info(&quot;Received new metadata. \\n&quot; +\r\n                                &quot;Topic:&quot; + recordMetadata.topic() + &quot;\\n&quot; +\r\n                                &quot;Partition: &quot; + recordMetadata.partition() + &quot;\\n&quot; +\r\n                                &quot;Offset: &quot; + recordMetadata.offset() + &quot;\\n&quot; +\r\n                                &quot;Timestamp: &quot; + recordMetadata.timestamp());\r\n                    } else {\r\n                        log.error(&quot;Error while producing&quot;, e);\r\n                    }\r\n                }\r\n            });","title":"Refactor a ListenableFuture (with onSuccess/onFailure) into a CompletableFuture","body":"<p>The <code>whenComplete</code> function will be invoked for both success and failure cases. The signature of <code>whenComplete</code> takes the throwable which denotes that in case of a failure, this function will be called with the exception value.</p>\n<p>So you may not require the <code>exceptionally</code> method at all.</p>\n<p>Something like</p>\n<pre><code>        future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\n\n        @Override\n        public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\n            if (u != null) {\n                logger.error(....)\n            }\n            else {\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);   \n           }   \n      }\n    });\n</code></pre>\n<p><strong>Alternative implementation</strong></p>\n<p>You could leverage Kafka Async send method and have a callback to handle the results. This would require some more refactoring of your older code base.</p>\n<p>Something like this</p>\n<pre><code>    producer.send(producerRecord, new Callback() {\n            public void onCompletion(RecordMetadata recordMetadata, Exception e) {\n                // executes every time a record is successfully sent or an exception is thrown\n                if (e == null) {\n                    // the record was successfully sent\n                    log.info(&quot;Received new metadata. \\n&quot; +\n                            &quot;Topic:&quot; + recordMetadata.topic() + &quot;\\n&quot; +\n                            &quot;Partition: &quot; + recordMetadata.partition() + &quot;\\n&quot; +\n                            &quot;Offset: &quot; + recordMetadata.offset() + &quot;\\n&quot; +\n                            &quot;Timestamp: &quot; + recordMetadata.timestamp());\n                } else {\n                    log.error(&quot;Error while producing&quot;, e);\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75599297,"answer_count":1,"score":1,"last_activity_date":1677653525,"creation_date":1677639156,"question_id":75599173,"body_markdown":"Because of an upgrade in the Kafka library, I need to rewrite the following code with `ListenableFuture` into one that uses `CompletableFuture`. The difference is briefly explained [in this thread][1].\r\n\r\nThe object being handled is called `SendResult&lt;String,Object&gt;`.\r\n\r\nThe legacy code is\r\n\r\n            ListenableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\r\n\t\t\tfuture.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Object&gt;&gt;() {\r\n\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onSuccess(final SendResult&lt;String, Object&gt; result) {\r\n\t\r\n\t\t\t\t\tProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n\t\t\t\t\tCaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\t\r\n\t\t\t\t\tlogger.info(&quot;Producing request succeeded: {}&quot;, data);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onFailure(final Throwable throwable) {\r\n\t\t\t\t\tlogger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\nMy understanding is, the analogue of `ListenableFuture.onSuccess` is `CompletableFuture.whenComplete`. That refactoring was straightforward. But the `ListenableFuture.onFailure` doesn&#39;t have a clear equivalent. There is `CompletableFuture.exceptionally` which must return something, which shouldn&#39;t be done; the error handling should be a void operation.\r\n\r\n\t\t\tCompletableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\r\n\t\t\tfuture.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\r\n\t\t\t\t\tProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n\t\t\t\t\tCaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\t\r\n\t\t\t\t\tlogger.info(&quot;Producing request succeeded: {}&quot;, data);\t\r\n\t\t\t\t}\t\r\n\t\t\t});\r\n\t\t\tfuture.exceptionally(new Function&lt;Throwable, SendResult&lt;String,Object&gt;&gt;() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic SendResult&lt;String, Object&gt; apply(Throwable arg0) {\r\n\t\t\t\t\tlogger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\r\n                    // Something needs to be returned here.\r\n                    // Should I return NULL?\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\r\n  [1]: https://stackoverflow.com/a/39250452/1005607","title":"Refactor a ListenableFuture (with onSuccess/onFailure) into a CompletableFuture","body":"<p>Because of an upgrade in the Kafka library, I need to rewrite the following code with <code>ListenableFuture</code> into one that uses <code>CompletableFuture</code>. The difference is briefly explained <a href=\"https://stackoverflow.com/a/39250452/1005607\">in this thread</a>.</p>\n<p>The object being handled is called <code>SendResult&lt;String,Object&gt;</code>.</p>\n<p>The legacy code is</p>\n<pre><code>        ListenableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Object&gt;&gt;() {\n\n            @Override\n            public void onSuccess(final SendResult&lt;String, Object&gt; result) {\n\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);\n            }\n\n            @Override\n            public void onFailure(final Throwable throwable) {\n                logger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\n            }\n        });\n</code></pre>\n<p>My understanding is, the analogue of <code>ListenableFuture.onSuccess</code> is <code>CompletableFuture.whenComplete</code>. That refactoring was straightforward. But the <code>ListenableFuture.onFailure</code> doesn't have a clear equivalent. There is <code>CompletableFuture.exceptionally</code> which must return something, which shouldn't be done; the error handling should be a void operation.</p>\n<pre><code>        CompletableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\n        future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\n\n            @Override\n            public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);   \n            }   \n        });\n        future.exceptionally(new Function&lt;Throwable, SendResult&lt;String,Object&gt;&gt;() {\n\n            @Override\n            public SendResult&lt;String, Object&gt; apply(Throwable arg0) {\n                logger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\n                // Something needs to be returned here.\n                // Should I return NULL?\n            }\n            \n        });\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"comments":[{"owner":{"account_id":13484443,"reputation":11,"user_id":9728637,"display_name":"Subhendu Das"},"score":0,"creation_date":1677663047,"post_id":75600323,"comment_id":133380416,"body_markdown":"It didn&#39;t work still.","body":"It didn&#39;t work still."}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677653019,"creation_date":1677653019,"answer_id":75600323,"question_id":75600266,"body_markdown":"According to documentation `public ProcessBuilder(String... command)`\r\n&gt;Constructs a process builder with the specified operating system program and arguments. This is a convenience constructor that sets the process builder&#39;s command to a string list containing the same strings as the command array, in the same order\r\n\r\nIt means you need to pass command as\r\n\r\n```\r\nString[] command = {&quot;gradle&quot;, &quot;build&quot;};\r\n```","title":"How to execute gradle build command through Main Method of Java","body":"<p>According to documentation <code>public ProcessBuilder(String... command)</code></p>\n<blockquote>\n<p>Constructs a process builder with the specified operating system program and arguments. This is a convenience constructor that sets the process builder's command to a string list containing the same strings as the command array, in the same order</p>\n</blockquote>\n<p>It means you need to pass command as</p>\n<pre><code>String[] command = {&quot;gradle&quot;, &quot;build&quot;};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677653154,"creation_date":1677653154,"answer_id":75600346,"question_id":75600266,"body_markdown":"Instead of launching a process, use the [Gradle Tooling API](https://docs.gradle.org/current/userguide/third_party_integration.html#sec:embedding_quickstart). It&#39;s not possible to teach you how to use the Tooling API here, but I&#39;m leaving couple of links for you to explore.\r\n\r\nhttps://www.sobyte.net/post/2022-02/gradle-tooling-api/\r\n\r\nhttps://gist.github.com/buzztaiki/2046728\r\n\r\n","title":"How to execute gradle build command through Main Method of Java","body":"<p>Instead of launching a process, use the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html#sec:embedding_quickstart\" rel=\"nofollow noreferrer\">Gradle Tooling API</a>. It's not possible to teach you how to use the Tooling API here, but I'm leaving couple of links for you to explore.</p>\n<p><a href=\"https://www.sobyte.net/post/2022-02/gradle-tooling-api/\" rel=\"nofollow noreferrer\">https://www.sobyte.net/post/2022-02/gradle-tooling-api/</a></p>\n<p><a href=\"https://gist.github.com/buzztaiki/2046728\" rel=\"nofollow noreferrer\">https://gist.github.com/buzztaiki/2046728</a></p>\n"}],"owner":{"account_id":13484443,"reputation":11,"user_id":9728637,"display_name":"Subhendu Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677653154,"creation_date":1677652573,"question_id":75600266,"body_markdown":"I am trying to execute the gradle build command (using cmd prompt) through the main method of the java class.\r\n\r\n\r\n```\r\npublic class GradleScriptEditor {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String command_to_be_executed = &quot;gradle build&quot;;\r\n        String directory_location = &quot;C:\\\\mycode\\\\ws&quot;;\r\n\r\n        String[] command = {command_to_be_executed};\r\n        ProcessBuilder builder = new ProcessBuilder(command);\r\n        builder = builder.directory(new File(directory_location));\r\n\r\n        Process p = builder.start();\r\n        OutputStream outputStream = new FileOutputStream(new File(directory_location+ &quot;/mylog.log&quot;));\r\n        outputStream.write(p.getInputStream().readAllBytes());\r\n        outputStream.close();\r\n    }\r\n}\r\n```\r\n\r\nBut I am getting the following error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;gradle build&quot; (in directory &quot;C:\\\\mycode\\\\ws&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1143)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\r\n\tat practice.GradleScriptEditor.main(GradleScriptEditor.java:16)\r\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessImpl.create(Native Method)\r\n\tat java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:499)\r\n\tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:158)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\r\n\t... 2 more\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n\r\n\r\nPlease note that when I am using ipconfig to test my code, it is working fine.\r\n\r\nPlease advise what I can do to resolve this.","title":"How to execute gradle build command through Main Method of Java","body":"<p>I am trying to execute the gradle build command (using cmd prompt) through the main method of the java class.</p>\n<pre><code>public class GradleScriptEditor {\n\n    public static void main(String[] args) throws IOException {\n        String command_to_be_executed = &quot;gradle build&quot;;\n        String directory_location = &quot;C:\\\\mycode\\\\ws&quot;;\n\n        String[] command = {command_to_be_executed};\n        ProcessBuilder builder = new ProcessBuilder(command);\n        builder = builder.directory(new File(directory_location));\n\n        Process p = builder.start();\n        OutputStream outputStream = new FileOutputStream(new File(directory_location+ &quot;/mylog.log&quot;));\n        outputStream.write(p.getInputStream().readAllBytes());\n        outputStream.close();\n    }\n}\n</code></pre>\n<p>But I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;gradle build&quot; (in directory &quot;C:\\\\mycode\\\\ws&quot;): CreateProcess error=2, The system cannot find the file specified\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1143)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\n    at practice.GradleScriptEditor.main(GradleScriptEditor.java:16)\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    at java.base/java.lang.ProcessImpl.create(Native Method)\n    at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:499)\n    at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:158)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\n    ... 2 more\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Please note that when I am using ipconfig to test my code, it is working fine.</p>\n<p>Please advise what I can do to resolve this.</p>\n"},{"tags":["java","maven","guava","dependency-management","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1677684399,"post_id":75599425,"comment_id":133386999,"body_markdown":"What version of RESTEasy are you using and what is your target runtime?","body":"What version of RESTEasy are you using and what is your target runtime?"},{"owner":{"account_id":4459925,"reputation":29,"user_id":7544325,"display_name":"Matty Thompson"},"score":0,"creation_date":1677717710,"post_id":75599425,"comment_id":133395407,"body_markdown":"jaxrs-api is older, version 3.0.9.Final, while guava is pretty recent, 30.1.1.jre. It appears that the google team is refusing to modularize guava to keep it compatible with java 8, including depending on the jsr305 lib. Target is openjdk 17.","body":"jaxrs-api is older, version 3.0.9.Final, while guava is pretty recent, 30.1.1.jre. It appears that the google team is refusing to modularize guava to keep it compatible with java 8, including depending on the jsr305 lib. Target is openjdk 17."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1677777456,"post_id":75599425,"comment_id":133409008,"body_markdown":"Making libraries compatible with JPMS is extremely difficult. It requires every dependency to be defined as a module. There is no JAX-RS API of 3.0.9.Final, so I assume you mean RESTEasy. This is a very old version of RESTEasy and may not even be Java 11+ compatible.","body":"Making libraries compatible with JPMS is extremely difficult. It requires every dependency to be defined as a module. There is no JAX-RS API of 3.0.9.Final, so I assume you mean RESTEasy. This is a very old version of RESTEasy and may not even be Java 11+ compatible."}],"answers":[{"comments":[{"owner":{"account_id":4459925,"reputation":29,"user_id":7544325,"display_name":"Matty Thompson"},"score":0,"creation_date":1677717310,"post_id":75600287,"comment_id":133395358,"body_markdown":"But don&#39;t these dependencies need to included somewhere? I can force my-artifact to skip the two libraries, but I am still dependent on their code. They have conflicting overlap, but they still have unique contents that are required, i.e., each is necessary but insufficient on its own.","body":"But don&#39;t these dependencies need to included somewhere? I can force my-artifact to skip the two libraries, but I am still dependent on their code. They have conflicting overlap, but they still have unique contents that are required, i.e., each is necessary but insufficient on its own."}],"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677652742,"creation_date":1677652742,"answer_id":75600287,"question_id":75599425,"body_markdown":"While working with split packages in Java, you frequently run into issues like the one you are currently experiencing.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-artifact&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxrs-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWe are removing the guava and jaxrs-api requirements from our project&#39;s reliance on &quot;my-artifact&quot;. \r\n\r\nAlternatives include using an alternative library that doesn&#39;t have this conflict, or updating your dependencies to more recent versions that have the problem fixed.\r\n","title":"javax.annotations split package using jaxrs-api and guava in Java 17","body":"<p>While working with split packages in Java, you frequently run into issues like the one you are currently experiencing.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;my-artifact&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxrs-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We are removing the guava and jaxrs-api requirements from our project's reliance on &quot;my-artifact&quot;.</p>\n<p>Alternatives include using an alternative library that doesn't have this conflict, or updating your dependencies to more recent versions that have the problem fixed.</p>\n"}],"owner":{"account_id":4459925,"reputation":29,"user_id":7544325,"display_name":"Matty Thompson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677652742,"creation_date":1677642678,"question_id":75599425,"body_markdown":"I inherited a java project which won&#39;t build. I&#39;m trying to migrate to java 17 and have encountered what I believe is called a &quot;split package&quot;.\r\n\r\nI have several dependencies that requires `org.jboss.resteasy:jaxrs-api`. I have several other dependencies that require `com.google.guava:guava`.\r\n\r\n`jaxrs-api` and `guava` both define annotations in the `javax.annotations` namespace rather than their own(?). When compiling, Maven fails with, e.g., `[ERROR] module slf4j.api reads package javax.annotation from both jsr305 and jaxrs.api` \r\n\r\nWhen I try and exclude `jaxrs-api` the build fails because of other contents of the artifact. When I try and exclude `jsr305` the build fails because a few dependencies appear to require the library in their module.info.\r\n\r\nI understand the preferred way to do this appears to be to use `javax.annotation:javax.annotation-api` in your own code, but I don&#39;t see it helping with 3rd party depencies.\r\n\r\nI&#39;m unsure how to fix this. I&#39;m not using either package directly by my dependencies do.","title":"javax.annotations split package using jaxrs-api and guava in Java 17","body":"<p>I inherited a java project which won't build. I'm trying to migrate to java 17 and have encountered what I believe is called a &quot;split package&quot;.</p>\n<p>I have several dependencies that requires <code>org.jboss.resteasy:jaxrs-api</code>. I have several other dependencies that require <code>com.google.guava:guava</code>.</p>\n<p><code>jaxrs-api</code> and <code>guava</code> both define annotations in the <code>javax.annotations</code> namespace rather than their own(?). When compiling, Maven fails with, e.g., <code>[ERROR] module slf4j.api reads package javax.annotation from both jsr305 and jaxrs.api</code></p>\n<p>When I try and exclude <code>jaxrs-api</code> the build fails because of other contents of the artifact. When I try and exclude <code>jsr305</code> the build fails because a few dependencies appear to require the library in their module.info.</p>\n<p>I understand the preferred way to do this appears to be to use <code>javax.annotation:javax.annotation-api</code> in your own code, but I don't see it helping with 3rd party depencies.</p>\n<p>I'm unsure how to fix this. I'm not using either package directly by my dependencies do.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":2,"creation_date":1677622745,"post_id":75597841,"comment_id":133374094,"body_markdown":"Why did you tag the question with `scala`? The code is in Java (and Spring).","body":"Why did you tag the question with <code>scala</code>? The code is in Java (and Spring)."},{"owner":{"account_id":3377075,"reputation":355,"user_id":2835020,"display_name":"Krik"},"score":0,"creation_date":1677623025,"post_id":75597841,"comment_id":133374155,"body_markdown":"tough to say without additional context, perhaps a good starting point is to enable debug mode include `logging.level.root=INFO` in your properties. That may point you in the correct direction.","body":"tough to say without additional context, perhaps a good starting point is to enable debug mode include <code>logging.level.root=INFO</code> in your properties. That may point you in the correct direction."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677625463,"creation_date":1677625463,"answer_id":75598149,"question_id":75597841,"body_markdown":"This is occurring because `@DataJpaTest` does not create all the beans, only those associated with JPA.\r\n\r\nFrom the Spring documentation: \r\n\r\n&gt; You can use the @DataJpaTest annotation to test JPA applications. By\r\n&gt; default, it scans for @Entity classes and configures Spring Data JPA\r\n&gt; repositories. If an embedded database is available on the classpath,\r\n&gt; it configures one as well. SQL queries are logged by default by\r\n&gt; setting the spring.jpa.show-sql property to true. This can be disabled\r\n&gt; using the showSql attribute of the annotation.\r\n&gt; \r\n&gt; Regular @Component and @ConfigurationProperties beans are not scanned\r\n&gt; when the @DataJpaTest annotation is used.\r\n&gt; @EnableConfigurationProperties can be used to include\r\n&gt; @ConfigurationProperties beans.\r\n\r\nIf you want the additional beans, you can use `@SpringBootTest`.\r\n","title":"Spring finds some beans but not others","body":"<p>This is occurring because <code>@DataJpaTest</code> does not create all the beans, only those associated with JPA.</p>\n<p>From the Spring documentation:</p>\n<blockquote>\n<p>You can use the @DataJpaTest annotation to test JPA applications. By\ndefault, it scans for @Entity classes and configures Spring Data JPA\nrepositories. If an embedded database is available on the classpath,\nit configures one as well. SQL queries are logged by default by\nsetting the spring.jpa.show-sql property to true. This can be disabled\nusing the showSql attribute of the annotation.</p>\n<p>Regular @Component and @ConfigurationProperties beans are not scanned\nwhen the @DataJpaTest annotation is used.\n@EnableConfigurationProperties can be used to include\n@ConfigurationProperties beans.</p>\n</blockquote>\n<p>If you want the additional beans, you can use <code>@SpringBootTest</code>.</p>\n"}],"owner":{"account_id":19103228,"reputation":75,"user_id":13956589,"display_name":"HamsterofDeath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75598149,"answer_count":1,"score":0,"last_activity_date":1677651937,"creation_date":1677622632,"question_id":75597841,"body_markdown":"i have a test like this\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\npublic class UserAccountRepositoryTest {\r\n\r\n    @Autowired\r\n    private UserAccountRepository userAccountRepository;\r\n}\r\n```\r\n\r\nthe autowiring works\r\n\r\nin another file\r\n```\r\n@DataJpaTest\r\n@ExtendWith(SpringExtension.class)\r\npublic class UserServiceTest {\r\n\r\n    @Autowired\r\n    private UserAccountRepository userAccountRepository;\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n}\r\n```\r\n\r\nit fails because of the userservice, the bean is not found. i don&#39;t understand why.\r\nwhen i start the app, there is no such error.\r\nthe packages of the test and their respective classes are identical. \r\nhow can i find out why the bean does not exist?\r\n\r\n\r\n","title":"Spring finds some beans but not others","body":"<p>i have a test like this</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class UserAccountRepositoryTest {\n\n    @Autowired\n    private UserAccountRepository userAccountRepository;\n}\n</code></pre>\n<p>the autowiring works</p>\n<p>in another file</p>\n<pre><code>@DataJpaTest\n@ExtendWith(SpringExtension.class)\npublic class UserServiceTest {\n\n    @Autowired\n    private UserAccountRepository userAccountRepository;\n\n    @Autowired\n    private UserService userService;\n}\n</code></pre>\n<p>it fails because of the userservice, the bean is not found. i don't understand why.\nwhen i start the app, there is no such error.\nthe packages of the test and their respective classes are identical.\nhow can i find out why the bean does not exist?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677651830,"creation_date":1677651830,"answer_id":75600199,"question_id":75599852,"body_markdown":"You can achieve this by using the [`toMap`][1] collector.\r\n\r\n&gt; `toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction)`\r\n&gt; Returns a Collector that accumulates elements into a Map whose keys and values are the result of applying the provided mapping functions to the input elements.\r\n\r\n\r\n    Map&lt;String, Widget&gt; result = widgets.stream().collect(\r\n            Collectors.toMap(\r\n                Widget::getColor, // keyMapper\r\n                Function.identity(), // valueMapper\r\n                    (w1, w2) -&gt; new Widget( // mergeFunction\r\n                            w1.getColor(),\r\n                            w1.getLegs() + w2.getLegs(),\r\n                            w1.getArms() + w2.getArms()\r\n                    )\r\n            )\r\n    );\r\n\r\n\r\nThe mergeFunction is a BinaryOperator that is used to combine the values of two elements with the same key.&lt;br /&gt;\r\nThe example above creates a new Widget object with the same color, but with the total number of legs and arms calculated as the sum of legs and arms of w1 and w2.\r\n\r\n\r\n**To print out the result:**\r\n\r\n    result.forEach((key, value) -&gt;\r\n                System.out.printf(&quot;\\&quot;%s\\&quot;: Legs(%.0f), Arms(%.0f)%n&quot;, key, value.getLegs(), value.getArms()));\r\n\r\nResult: `&quot;White&quot;: Legs(20), Arms(30)\r\n&quot;Yellow&quot;: Legs(30), Arms(40)`\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#i34","title":"java Group by color and Summing all Properties to produce a map","body":"<p>You can achieve this by using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#i34\" rel=\"nofollow noreferrer\"><code>toMap</code></a> collector.</p>\n<blockquote>\n<p><code>toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction)</code>\nReturns a Collector that accumulates elements into a Map whose keys and values are the result of applying the provided mapping functions to the input elements.</p>\n</blockquote>\n<pre><code>Map&lt;String, Widget&gt; result = widgets.stream().collect(\n        Collectors.toMap(\n            Widget::getColor, // keyMapper\n            Function.identity(), // valueMapper\n                (w1, w2) -&gt; new Widget( // mergeFunction\n                        w1.getColor(),\n                        w1.getLegs() + w2.getLegs(),\n                        w1.getArms() + w2.getArms()\n                )\n        )\n);\n</code></pre>\n<p>The mergeFunction is a BinaryOperator that is used to combine the values of two elements with the same key.<br />\nThe example above creates a new Widget object with the same color, but with the total number of legs and arms calculated as the sum of legs and arms of w1 and w2.</p>\n<p><strong>To print out the result:</strong></p>\n<pre><code>result.forEach((key, value) -&gt;\n            System.out.printf(&quot;\\&quot;%s\\&quot;: Legs(%.0f), Arms(%.0f)%n&quot;, key, value.getLegs(), value.getArms()));\n</code></pre>\n<p>Result: <code>&quot;White&quot;: Legs(20), Arms(30) &quot;Yellow&quot;: Legs(30), Arms(40)</code></p>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600199,"answer_count":1,"score":0,"last_activity_date":1677651830,"creation_date":1677648116,"question_id":75599852,"body_markdown":"There  is list of widgets i want to group them by color while adding other similar properties and produce a map , something like this . \r\n\r\n\r\n\t\t\tclass Widget {\r\n\t\t\t    String colour;\r\n\t\t\t    Double legs;\r\n\t\t\t    Double arms;\r\n\t\t\t  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tList&lt;Widget&gt; widList = new ArrayList();\r\n\t\t\tWidget wid1 =  new Widget();\r\n\t\t\twid1.setColor(&quot;Yello&quot;);\r\n\t\t\twid1.setLeg(10);\r\n\t\t\twid1.setArms(10);\r\n\t\t\t\r\n\t\t\tWidget wid2 =  new Widget();\r\n\t\t\twid2.setColor(&quot;Yello&quot;);\r\n\t\t\twid2.setLeg(20);\r\n\t\t\twid2.setArms(30);\r\n\t\t\t\r\n\t\t\tWidget wid2 =  new Widget();\r\n\t\t\twid2.setColor(&quot;White&quot;);\r\n\t\t\twid2.setLeg(20);\r\n\t\t\twid2.setArms(30);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\twidgets.stream().collect(groupingBy(Widget::getColour, AllLegstotal(wid1.legs+wid2.legs) and AllArmstotal(wid1.arms+wid2.arms));\r\n\t\t\t\r\n\t\t\t\r\nresult should be \r\n\t\t\t\r\n&quot;Yello&quot; : Legs(10+20) , Arms(10+30)\r\n&quot;White&quot; : Legs(20) , Arms(30)\r\n\t\t\t\r\n\t\t\twidgets.stream().collect(groupingBy(Widget::getColour, Collectors.summingDouble(All Legs , All Arms));\r\n\r\n\r\n\r\n","title":"java Group by color and Summing all Properties to produce a map","body":"<p>There  is list of widgets i want to group them by color while adding other similar properties and produce a map , something like this .</p>\n<pre><code>        class Widget {\n            String colour;\n            Double legs;\n            Double arms;\n          \n        }\n        \n        List&lt;Widget&gt; widList = new ArrayList();\n        Widget wid1 =  new Widget();\n        wid1.setColor(&quot;Yello&quot;);\n        wid1.setLeg(10);\n        wid1.setArms(10);\n        \n        Widget wid2 =  new Widget();\n        wid2.setColor(&quot;Yello&quot;);\n        wid2.setLeg(20);\n        wid2.setArms(30);\n        \n        Widget wid2 =  new Widget();\n        wid2.setColor(&quot;White&quot;);\n        wid2.setLeg(20);\n        wid2.setArms(30);\n        \n        \n        widgets.stream().collect(groupingBy(Widget::getColour, AllLegstotal(wid1.legs+wid2.legs) and AllArmstotal(wid1.arms+wid2.arms));\n        \n        \n</code></pre>\n<p>result should be</p>\n<p>&quot;Yello&quot; : Legs(10+20) , Arms(10+30)\n&quot;White&quot; : Legs(20) , Arms(30)</p>\n<pre><code>        widgets.stream().collect(groupingBy(Widget::getColour, Collectors.summingDouble(All Legs , All Arms));\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1677652578,"post_id":75600186,"comment_id":133378083,"body_markdown":"Use Environment.getExternalStorageDirectory() to get the root path to the SD card and use that to create a FileOutputStream. From there, just use the standard java.io routines.","body":"Use Environment.getExternalStorageDirectory() to get the root path to the SD card and use that to create a FileOutputStream. From there, just use the standard java.io routines."}],"owner":{"account_id":27837511,"reputation":1,"user_id":21254638,"display_name":"Selu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677651733,"creation_date":1677651733,"question_id":75600186,"body_markdown":"I have now created a button how to add a method to the button to save the recorded file to the sd card\r\n\r\n\r\nI want to write the method into the button listener and save it when I press the button\r\n\r\n```\r\n Button msd = (Button)findViewById(R.id.sd);\r\n     msd.setOnClickListener(new View.OnClickListener(){\r\n        @Override\r\n     public void onClick(View v){\r\n\r\n\r\n       }\r\n});\r\n\r\n```\r\nCan you help me? Thanks","title":"how to save the recording file recorded by the recorder to the Sd card","body":"<p>I have now created a button how to add a method to the button to save the recorded file to the sd card</p>\n<p>I want to write the method into the button listener and save it when I press the button</p>\n<pre><code> Button msd = (Button)findViewById(R.id.sd);\n     msd.setOnClickListener(new View.OnClickListener(){\n        @Override\n     public void onClick(View v){\n\n\n       }\n});\n\n</code></pre>\n<p>Can you help me? Thanks</p>\n"},{"tags":["java","graphql","httpclient","connection-pooling"],"comments":[{"owner":{"account_id":9912298,"reputation":683,"user_id":7338534,"display_name":"gai-jin"},"score":0,"creation_date":1676457139,"post_id":75456987,"comment_id":133138908,"body_markdown":"can you add some more info, what exactly triggers this issue? the full stacktraces? &quot;long time persistent issue&quot; - did it ever worked.. describe in more detail what you did.","body":"can you add some more info, what exactly triggers this issue? the full stacktraces? &quot;long time persistent issue&quot; - did it ever worked.. describe in more detail what you did."},{"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"score":0,"creation_date":1676478176,"post_id":75456987,"comment_id":133145859,"body_markdown":"If you&#39;re getting a 5xx error this is coming from somewhere outside the GraphQL layer. GraphQL won&#39;t return a 5xx.","body":"If you&#39;re getting a 5xx error this is coming from somewhere outside the GraphQL layer. GraphQL won&#39;t return a 5xx."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676496610,"post_id":75456987,"comment_id":133151112,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"score":0,"creation_date":1677483137,"post_id":75456987,"comment_id":133339225,"body_markdown":"@gai-jin I  have added the details. Can you please help with this if u know","body":"@gai-jin I  have added the details. Can you please help with this if u know"},{"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"score":0,"creation_date":1677651535,"post_id":75456987,"comment_id":133377926,"body_markdown":"@gai-jin as suggested, added  answers to your queries.","body":"@gai-jin as suggested, added  answers to your queries."}],"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677651504,"creation_date":1676448530,"question_id":75456987,"body_markdown":"I am facing ClientAbortException java.io.IOException: Broken pipe error with Java Backend service. I am using Graph QL client using Python. \r\n\r\nWe have message queue which will communicate with client. Initially when service start, all calls to backend via client passes. But after like 15-20 mins, all calls starts failing with the ClientAbortion exception. Then there are very less calls (1 in 50 ) with status 200 and rest all are 500. \r\nThis service never worked fine.. This is the scenario from the day one.\r\n\r\nBelow is the code . \r\n\r\nClient side error:\r\n ql.transport.exceptions.TransportServerError: 503 Server Error: Service Temporarily Unavailable for url\r\n\r\n\r\n**Python code**    \r\n\r\nThis is the graph QL client for connecting to backend java server for getting data from database\r\n\r\n        def __init__(self):\r\n        url = os.getenv(&#39;GRAPHQL_URL&#39;)\r\n        if url is None:\r\n            logger.error(&#39;graphql URL is not defined&#39;)\r\n            raise AttributeError(&#39;graphql URL is not defined&#39;)\r\n        transport = RequestsHTTPTransport(url=url, verify=True, timeout=10)\r\n        self.client = Client(transport=transport, fetch_schema_from_transport=True)\r\n\r\n**Below is the error I am getting in Backend Java Service **\r\n  \r\n    \r\n    ClientAbortException \r\n    java.io.IOException: Broken pipe\r\n    org.apache.catalina.connector.OutputBuffer in realWriteBytes at line 353\r\n    org.apache.catalina.connector.OutputBuffer in flushByteBuffer at line 784\r\n    org.apache.catalina.connector.OutputBuffer in append at line 689\r\n    org.apache.catalina.connector.OutputBuffer in writeBytes at line 388\r\n    org.apache.catalina.connector.OutputBuffer in write at line 366\r\n    org.apache.catalina.connector.CoyoteOutputStream in write at line 96\r\n    org.springframework.util.StreamUtils$NonClosingOutputStream in write at line 287\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in _flushBuffer at line 2171\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 746\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 659\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeNumber at line 1030\r\n    com.fasterxml.jackson.databind.ser.std.NumberSerializers$DoubleSerializer in serialize at line 231\r\n    com.fasterxml.jackson.databind.ser.std.MapSerializer in serializeFields at line 808\r\n    com.fasterxml.jackson.databind.ser.DefaultSerializerProvider in _serialize at line 480\r\n    com.fasterxml.jackson.databind.ser.DefaultSerializerProvider in serializeValue at line 400\r\n    com.fasterxml.jackson.databind.ObjectWriter$Prefetch in serialize at line 1514\r\n    com.fasterxml.jackson.databind.ObjectWriter in writeValue at line 1007\r\n    org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter in writeInternal at line 456\r\n    org.springframework.http.converter.AbstractGenericHttpMessageConverter in write at line 104\r\n    org.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeEntityWithMessageConverters at line 302\r\n    org.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeToInternal at line 264\r\n    org.springframework.web.servlet.function.AbstractServerResponse in writeTo at line 99\r\n    org.springframework.web.servlet.function.support.HandlerFunctionAdapter in handle at line 110\r\n    org.springframework.web.servlet.DispatcherServlet in doDispatch at line 1071\r\n    java.lang.Thread in run at line 833","title":"ClientAbortException java.io.IOException: Broken pipe issue with Graph QL client and Java backend application","body":"<p>I am facing ClientAbortException java.io.IOException: Broken pipe error with Java Backend service. I am using Graph QL client using Python.</p>\n<p>We have message queue which will communicate with client. Initially when service start, all calls to backend via client passes. But after like 15-20 mins, all calls starts failing with the ClientAbortion exception. Then there are very less calls (1 in 50 ) with status 200 and rest all are 500.\nThis service never worked fine.. This is the scenario from the day one.</p>\n<p>Below is the code .</p>\n<p>Client side error:\nql.transport.exceptions.TransportServerError: 503 Server Error: Service Temporarily Unavailable for url</p>\n<p><strong>Python code</strong></p>\n<p>This is the graph QL client for connecting to backend java server for getting data from database</p>\n<pre><code>    def __init__(self):\n    url = os.getenv('GRAPHQL_URL')\n    if url is None:\n        logger.error('graphql URL is not defined')\n        raise AttributeError('graphql URL is not defined')\n    transport = RequestsHTTPTransport(url=url, verify=True, timeout=10)\n    self.client = Client(transport=transport, fetch_schema_from_transport=True)\n</code></pre>\n<p>**Below is the error I am getting in Backend Java Service **</p>\n<pre><code>ClientAbortException \njava.io.IOException: Broken pipe\norg.apache.catalina.connector.OutputBuffer in realWriteBytes at line 353\norg.apache.catalina.connector.OutputBuffer in flushByteBuffer at line 784\norg.apache.catalina.connector.OutputBuffer in append at line 689\norg.apache.catalina.connector.OutputBuffer in writeBytes at line 388\norg.apache.catalina.connector.OutputBuffer in write at line 366\norg.apache.catalina.connector.CoyoteOutputStream in write at line 96\norg.springframework.util.StreamUtils$NonClosingOutputStream in write at line 287\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in _flushBuffer at line 2171\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 746\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 659\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeNumber at line 1030\ncom.fasterxml.jackson.databind.ser.std.NumberSerializers$DoubleSerializer in serialize at line 231\ncom.fasterxml.jackson.databind.ser.std.MapSerializer in serializeFields at line 808\ncom.fasterxml.jackson.databind.ser.DefaultSerializerProvider in _serialize at line 480\ncom.fasterxml.jackson.databind.ser.DefaultSerializerProvider in serializeValue at line 400\ncom.fasterxml.jackson.databind.ObjectWriter$Prefetch in serialize at line 1514\ncom.fasterxml.jackson.databind.ObjectWriter in writeValue at line 1007\norg.springframework.http.converter.json.AbstractJackson2HttpMessageConverter in writeInternal at line 456\norg.springframework.http.converter.AbstractGenericHttpMessageConverter in write at line 104\norg.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeEntityWithMessageConverters at line 302\norg.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeToInternal at line 264\norg.springframework.web.servlet.function.AbstractServerResponse in writeTo at line 99\norg.springframework.web.servlet.function.support.HandlerFunctionAdapter in handle at line 110\norg.springframework.web.servlet.DispatcherServlet in doDispatch at line 1071\njava.lang.Thread in run at line 833\n</code></pre>\n"},{"tags":["java","fonts","pdfbox"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677652130,"post_id":75600098,"comment_id":133378021,"body_markdown":"[How to substitute missing font when filling a form with PDFBox?](https://stackoverflow.com/questions/50609478/how-to-substitute-missing-font-when-filling-a-form-with-pdfbox)","body":"<a href=\"https://stackoverflow.com/questions/50609478/how-to-substitute-missing-font-when-filling-a-form-with-pdfbox\">How to substitute missing font when filling a form with PDFBox?</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677656913,"post_id":75600098,"comment_id":133378933,"body_markdown":"PDFBox does it automatically, it knows commonly used fonts; see the log output to see whether there are problems. Install these: https://itsfoss.com/install-microsoft-fonts-ubuntu/","body":"PDFBox does it automatically, it knows commonly used fonts; see the log output to see whether there are problems. Install these: <a href=\"https://itsfoss.com/install-microsoft-fonts-ubuntu/\" rel=\"nofollow noreferrer\">itsfoss.com/install-microsoft-fonts-ubuntu</a>"}],"owner":{"account_id":26624827,"reputation":26,"user_id":20243026,"display_name":"Richard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677650830,"creation_date":1677650830,"question_id":75600098,"body_markdown":"We&#39;re using PDFBox 2.0.27 to print PDF documents in Java on Linux. We&#39;d like to use free fonts (like Linux Libertine for Times-Roman) for rendering the image. Is there a way to map the 14 standard fonts used by PDF to other fonts?\r\n\r\nI&#39;ve tried just installing the alternative fonts on my system, but I can&#39;t figure out how to map them to the standard font set or give them an alias.","title":"How do you substitute free fonts for some/all of the standard 14 fonts using PDFBox 2.0.27?","body":"<p>We're using PDFBox 2.0.27 to print PDF documents in Java on Linux. We'd like to use free fonts (like Linux Libertine for Times-Roman) for rendering the image. Is there a way to map the 14 standard fonts used by PDF to other fonts?</p>\n<p>I've tried just installing the alternative fonts on my system, but I can't figure out how to map them to the standard font set or give them an alias.</p>\n"},{"tags":["java","auto-value"],"answers":[{"tags":[],"owner":{"account_id":49955,"reputation":3449,"user_id":148912,"display_name":"Maik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677650384,"creation_date":1677650384,"answer_id":75600054,"question_id":75516379,"body_markdown":"You can do this by:\r\n\r\n1. Using the AutoValue support for creating builders for collections\r\n1. Implementing helper functions on the builder\r\n\r\n```java\r\n@AutoValue\r\npublic abstract class XYZ {\r\n\r\n    public abstract ImmutableSet&lt;Event&gt; events();\r\n\r\n    public static Builder builder() {\r\n        return new AutoValue_XYZ.Builder();\r\n    }\r\n\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n        public Builder addEvent(Event event) {\r\n            eventsBuilder().add(event);\r\n            return this;\r\n        }\r\n\r\n        public Builder addAllEvents(Iterable&lt;? extends Event&gt; events) {\r\n            eventsBuilder().addAll(events);\r\n            return this;\r\n        }\r\n\r\n        public abstract XYZ build();\r\n\r\n        protected abstract ImmutableSet.Builder&lt;Event&gt; eventsBuilder();\r\n    }\r\n}\r\n```\r\n\r\nOptionally you can also make the `eventsBuilder` method public if you want to give direct access to the builder and not add the helper methods. The advantage of the helper methods is that they can return the `XYZ.Builder` and thus allow chaining.","title":"How to add an element to the existing ImmutableSet - AutoValue?","body":"<p>You can do this by:</p>\n<ol>\n<li>Using the AutoValue support for creating builders for collections</li>\n<li>Implementing helper functions on the builder</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@AutoValue\npublic abstract class XYZ {\n\n    public abstract ImmutableSet&lt;Event&gt; events();\n\n    public static Builder builder() {\n        return new AutoValue_XYZ.Builder();\n    }\n\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n        public Builder addEvent(Event event) {\n            eventsBuilder().add(event);\n            return this;\n        }\n\n        public Builder addAllEvents(Iterable&lt;? extends Event&gt; events) {\n            eventsBuilder().addAll(events);\n            return this;\n        }\n\n        public abstract XYZ build();\n\n        protected abstract ImmutableSet.Builder&lt;Event&gt; eventsBuilder();\n    }\n}\n</code></pre>\n<p>Optionally you can also make the <code>eventsBuilder</code> method public if you want to give direct access to the builder and not add the helper methods. The advantage of the helper methods is that they can return the <code>XYZ.Builder</code> and thus allow chaining.</p>\n"}],"owner":{"account_id":7421640,"reputation":45,"user_id":5645718,"display_name":"Senthil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600054,"answer_count":1,"score":0,"last_activity_date":1677650384,"creation_date":1676954765,"question_id":75516379,"body_markdown":"```\r\nClass Event {\r\n  String eventName;\r\n  Integer eventTime;\r\n  ....\r\n  // Event attributes with a builder\r\n}\r\n\r\n@AutoValue\r\npublic abstract class XYZ {\r\n\r\n  public abstract ImmutableSet&lt;Event&gt; events();\r\n  public abstract Event event();\r\n  \r\n  public static Builder builder() {\r\n    return new AutoValue_XYZ.Builder();\r\n  }\r\n\r\n  @AutoValue.Builder\r\n  public abstract static class Builder {\r\n    public abstract Builder setEvents(Set&lt;Event&gt; events);\r\n    public abstract Builder setEvent(Event event);\r\n\r\n    public abstract XYZ build();\r\n  }\r\n}\r\n```\r\n\r\n**Usage:**\r\nEnd user can add event as a single item or a set of items like below,\r\n\r\n```\r\nXYZ xyz = XYZ\r\n    .builder()\r\n    .setEvent(Event.builder().setEventName(&quot;event1&quot;).setEventTime(34324343).build())\r\n    .setEvent(Event.builder().setEventName(&quot;event2&quot;).setEventTime(45324343).build())\r\n    .setEvents(\r\n        Set.of(Event.builder().setEventName(&quot;event3&quot;).setEventTime(55324343).build(),\r\n                Event.builder().setEventName(&quot;event4&quot;).setEventTime(65324343).build())\r\n    .build();\r\n```\r\n\r\n\r\nI would like to have all the `event inputs` in the `events()` Set, like everytime `setEvent` is used, add it to the main Set `events()`. How to achieve this?\r\n\r\nEg: `xyz.events() should give 4 events in this case.`","title":"How to add an element to the existing ImmutableSet - AutoValue?","body":"<pre><code>Class Event {\n  String eventName;\n  Integer eventTime;\n  ....\n  // Event attributes with a builder\n}\n\n@AutoValue\npublic abstract class XYZ {\n\n  public abstract ImmutableSet&lt;Event&gt; events();\n  public abstract Event event();\n  \n  public static Builder builder() {\n    return new AutoValue_XYZ.Builder();\n  }\n\n  @AutoValue.Builder\n  public abstract static class Builder {\n    public abstract Builder setEvents(Set&lt;Event&gt; events);\n    public abstract Builder setEvent(Event event);\n\n    public abstract XYZ build();\n  }\n}\n</code></pre>\n<p><strong>Usage:</strong>\nEnd user can add event as a single item or a set of items like below,</p>\n<pre><code>XYZ xyz = XYZ\n    .builder()\n    .setEvent(Event.builder().setEventName(&quot;event1&quot;).setEventTime(34324343).build())\n    .setEvent(Event.builder().setEventName(&quot;event2&quot;).setEventTime(45324343).build())\n    .setEvents(\n        Set.of(Event.builder().setEventName(&quot;event3&quot;).setEventTime(55324343).build(),\n                Event.builder().setEventName(&quot;event4&quot;).setEventTime(65324343).build())\n    .build();\n</code></pre>\n<p>I would like to have all the <code>event inputs</code> in the <code>events()</code> Set, like everytime <code>setEvent</code> is used, add it to the main Set <code>events()</code>. How to achieve this?</p>\n<p>Eg: <code>xyz.events() should give 4 events in this case.</code></p>\n"},{"tags":["java","spring","git","apache-zookeeper"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1677651107,"post_id":75599991,"comment_id":133377858,"body_markdown":"I&#39;m pretty sure it&#39;s possible to do what you said. \nBecause I have used git as a configuration center. \nI have also used zk as a configuration center. \nSo we can read and write configuration from git, and also read and write configuration from zk. \nWhat you have to do is read the configuration from git, and then write the configuration to zk","body":"I&#39;m pretty sure it&#39;s possible to do what you said.  Because I have used git as a configuration center.  I have also used zk as a configuration center.  So we can read and write configuration from git, and also read and write configuration from zk.  What you have to do is read the configuration from git, and then write the configuration to zk"},{"owner":{"account_id":8435904,"reputation":28054,"user_id":6330106,"display_name":"ElpieKay"},"score":0,"creation_date":1677652889,"post_id":75599991,"comment_id":133378137,"body_markdown":"Many people use hosting services like Github, Gitlab, Gerrit, and etc. These hosting services have hooks that monitor the events in the repository. They allow users to write scripts to do something when an event happens. Besides hooks, Jenkins is another solution. It has some plugins to monitor the events and then trigger a job. Users can write scripts or use other plugins to do something in the job.","body":"Many people use hosting services like Github, Gitlab, Gerrit, and etc. These hosting services have hooks that monitor the events in the repository. They allow users to write scripts to do something when an event happens. Besides hooks, Jenkins is another solution. It has some plugins to monitor the events and then trigger a job. Users can write scripts or use other plugins to do something in the job."}],"owner":{"account_id":5193578,"reputation":7,"user_id":16335320,"display_name":"aslan95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677649729,"creation_date":1677649729,"question_id":75599991,"body_markdown":"I need a java application that will monitor git repository and whenever there is a change it will save it to zookeeper. I need to distribute my configurations from git repository to zookeeper. Does someone know is there a ready solutions to that? Thank you in advance","title":"Is there a way to get configurations from git repository and save them to zookeeper?","body":"<p>I need a java application that will monitor git repository and whenever there is a change it will save it to zookeeper. I need to distribute my configurations from git repository to zookeeper. Does someone know is there a ready solutions to that? Thank you in advance</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677645767,"creation_date":1677645767,"answer_id":75599645,"question_id":75599596,"body_markdown":"Hope this worked it:\r\n\r\nJust change this :\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/movies&quot;)\r\npublic class MovieController {\r\n\r\n    @GetMapping\r\n    public String getAllMovies () {\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```\r\nwith :\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class MovieController {\r\n\r\n    @GetMapping(&quot;/movies&quot;)\r\n    public String getAllMovies () {\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```","title":"Why is my RestController not working when I created a new class","body":"<p>Hope this worked it:</p>\n<p>Just change this :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n\n    @GetMapping\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n<p>with :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class MovieController {\n\n    @GetMapping(&quot;/movies&quot;)\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27905509,"reputation":1,"user_id":21308822,"display_name":"Rizwan Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677649217,"creation_date":1677645166,"question_id":75599596,"body_markdown":"I have my main class in which I have used RestController and it works fine\r\n\r\n    package dev.rizwan.movieapi;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class MoviesApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(MoviesApplication.class, args);\r\n\t    }\r\n\r\n\t    @GetMapping(&quot;/&quot;)\r\n\t    public String apiRoot() {\r\n\t\t    return &quot;This is the root of API&quot;;\r\n\t    }\r\n    }\r\n\r\nwhen I go to localhost:8080 it shows &quot;This is the root of API&quot;\r\n\r\nI have created another class\r\n\r\n    package dev.rizwan.movieapi;\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/movies&quot;)\r\n    public class MovieController {\r\n\r\n        @GetMapping\r\n        public String getAllMovies () {\r\n            return &quot;All Movies&quot;;\r\n        }\r\n    }\r\n\r\nbut when I go to localhost:8080/api/v1/movies it is showing whitelabel error page\r\n\r\nplease help....\r\n\r\n\r\n\r\nI was expecting it to show &quot;All Movies&quot; When I go to localhost:8080/api/v1/movies ","title":"Why is my RestController not working when I created a new class","body":"<p>I have my main class in which I have used RestController and it works fine</p>\n<pre><code>package dev.rizwan.movieapi;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class MoviesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MoviesApplication.class, args);\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String apiRoot() {\n        return &quot;This is the root of API&quot;;\n    }\n}\n</code></pre>\n<p>when I go to localhost:8080 it shows &quot;This is the root of API&quot;</p>\n<p>I have created another class</p>\n<pre><code>package dev.rizwan.movieapi;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n\n    @GetMapping\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n<p>but when I go to localhost:8080/api/v1/movies it is showing whitelabel error page</p>\n<p>please help....</p>\n<p>I was expecting it to show &quot;All Movies&quot; When I go to localhost:8080/api/v1/movies</p>\n"},{"tags":["java","refactoring","code-duplication"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1677647301,"post_id":75599646,"comment_id":133377380,"body_markdown":"If you want to use methods from `Refactor` class you need to extend the class from `Accomodation` like this `public class Accommodation extends Refactor`","body":"If you want to use methods from <code>Refactor</code> class you need to extend the class from <code>Accomodation</code> like this <code>public class Accommodation extends Refactor</code>"}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677648330,"creation_date":1677648021,"answer_id":75599843,"question_id":75599646,"body_markdown":"if you have a class like this:\r\n\r\n    class A {\r\n        // ...\r\n        public void setCode(int param) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nyou can call the method setCode like this:\r\n\r\n    A a = new A();\r\n    a.setCode(1);\r\n    a.setCode(2);\r\n\r\nbut you can&#39;t call the method setCode like this:\r\n\r\n    A a = new A();\r\n    a.setCode();\r\n\r\n\r\nBack to your code:\r\n\r\n    public class Refactor {\r\n        // ...\r\n        public void setCode(int c) {\r\n            this.code = c;\r\n        }\r\n        // ...\r\n    }\r\n\r\n    public static void AccData() {\r\n        Refactor accData = new Refactor();\r\n        accData.getCode();\r\n        accData.setCode(); // here setCode need a parameter\r\n    \r\n    }\r\n\r\nsetCode needs a parameter, and its method signature is `Refactor#setCode(int)`, but you dont pass parameters when you call it, and the method signature you call is `Refactor#setCode(void)`","title":"Refactoring in Java: The method setCode(int) in the type Refactor is not applicable for the arguments ()","body":"<p>if you have a class like this:</p>\n<pre><code>class A {\n    // ...\n    public void setCode(int param) {\n        // ...\n    }\n}\n</code></pre>\n<p>you can call the method setCode like this:</p>\n<pre><code>A a = new A();\na.setCode(1);\na.setCode(2);\n</code></pre>\n<p>but you can't call the method setCode like this:</p>\n<pre><code>A a = new A();\na.setCode();\n</code></pre>\n<p>Back to your code:</p>\n<pre><code>public class Refactor {\n    // ...\n    public void setCode(int c) {\n        this.code = c;\n    }\n    // ...\n}\n\npublic static void AccData() {\n    Refactor accData = new Refactor();\n    accData.getCode();\n    accData.setCode(); // here setCode need a parameter\n\n}\n</code></pre>\n<p>setCode needs a parameter, and its method signature is <code>Refactor#setCode(int)</code>, but you dont pass parameters when you call it, and the method signature you call is <code>Refactor#setCode(void)</code></p>\n"}],"owner":{"account_id":27855967,"reputation":1,"user_id":21269452,"display_name":"Westrany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677648330,"creation_date":1677645772,"question_id":75599646,"body_markdown":"I&#39;m trying to reduce code duplication by creating a new class (Refactor.java) to accommodate the methods that are called in two other classes (A and B).\r\n\r\nThis is what I came up with so far:\r\n\r\n    public class Refactor {\r\n    protected int code; // code\r\n    protected String companyName; // company name\r\n    protected String email; // email of the company\r\n    protected String type; // type\r\n    protected double price; // price\r\n    \r\n    // gets and sets\r\n    public int getCode() {\r\n    \treturn code;\r\n    }\r\n    public void setCode(int c) {\r\n    \tthis.code = c;\r\n    }\r\n    public String getCompanyName(){\r\n    \treturn companyName;\r\n    }\r\n    public void setCompanyName(String cn) {\r\n    \tthis.companyName = cn;\r\n    }\r\n    public String getEmail(){\r\n    \treturn email;\r\n    }\r\n    public void setEmail(String em) {\r\n    \tthis.email = em;\r\n    }\r\n    public String getType(){\r\n    \treturn type;\r\n    }\r\n    public void setType(String t) {\r\n    \tthis.type = t;\r\n    }\r\n    public double getPrice(){\r\n    \treturn price;\r\n    }\r\n    public void setPrice(double p) {\r\n    \tthis.price = p;\r\n    }\r\n    }\r\n\r\nIn class A, the &quot;accData.getSomething()&quot; methods seem to be okay, but all &quot;accData.setSomething()&quot; methods give me the following error: &quot;The method setCode(int) in the type Refactor is not applicable for the arguments ()&quot;.\r\n\r\nThis is what I have on class A so far:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class Accommodation\r\n{\r\n\tprotected static int MAX_NUM_TOURS = 3; // maximum number of tours defined by the hotel regulation bodies\r\n\r\n\tprotected int code; // code\r\n\tprotected String companyName; // company name\r\n\tprotected String email; // email of the company\r\n\tprotected String type; // type\r\n\tprotected double price; // price\r\n\tprotected String city;  // city of the accommodation\r\n\tprotected int numberBeds; // number of beds\r\n\r\n\t/**\r\n\t * Constructor\r\n\t * @param c code\r\n\t * @param cn company name\r\n\t * @param em email of the company\r\n\t * @param t type (hotel, hostel, bnb, ...)\r\n\t * @param p price\r\n\t * @param ct city of the accommodation\r\n\t * @param nb number of beds\r\n\t */\r\n\r\n\tpublic Accommodation(int c, String cn, String em, String t, double p, String ct, int nb) {\r\n\t\tthis.code = c;\r\n\t\tthis.companyName = cn;\r\n\t\tthis.email = em;\r\n\t\tthis.type = t;\r\n\t\tthis.price = p;\t\r\n\t\tthis.city = ct;\r\n\t\tthis.numberBeds = nb;\r\n\t}\r\n\r\n\t\r\n\t//this is where I&#39;m trying to call the Refactor class\r\n\tpublic static void AccData() {\r\n\t\tRefactor accData = new Refactor();\r\n\t\taccData.getCode();\r\n\t\taccData.setCode();\r\n\t\taccData.getCompanyName();\r\n\t\taccData.setCompanyName();\r\n\t\taccData.getEmail();\r\n\t\taccData.setEmail();\r\n\t\taccData.getType();\r\n\t\taccData.setType();\r\n\t\taccData.getPrice();\r\n\t\taccData.setPrice();\r\n\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\tpublic int getNumberBeds() {\r\n\t\treturn numberBeds;\r\n\t}\r\n\tpublic void setNumberBeds(int numberBeds) {\r\n\t\tthis.numberBeds = numberBeds;\r\n\t}\r\n}\r\n```\r\n\r\nWhy am I getting that error? How can I fix this?\r\n\r\nI tried googling on how to refactor code and found [this stack overflow question](https://stackoverflow.com/questions/53229324/how-to-refactor-two-classes-with-very-similar-methods-but-using-different-types) which is similar to mine. I however didn&#39;t quite understand the answers given, hence why I am asking again. \r\n\r\nI&#39;m expecting to be able to avoid code duplication by calling on these methods from class Refactor. ","title":"Refactoring in Java: The method setCode(int) in the type Refactor is not applicable for the arguments ()","body":"<p>I'm trying to reduce code duplication by creating a new class (Refactor.java) to accommodate the methods that are called in two other classes (A and B).</p>\n<p>This is what I came up with so far:</p>\n<pre><code>public class Refactor {\nprotected int code; // code\nprotected String companyName; // company name\nprotected String email; // email of the company\nprotected String type; // type\nprotected double price; // price\n\n// gets and sets\npublic int getCode() {\n    return code;\n}\npublic void setCode(int c) {\n    this.code = c;\n}\npublic String getCompanyName(){\n    return companyName;\n}\npublic void setCompanyName(String cn) {\n    this.companyName = cn;\n}\npublic String getEmail(){\n    return email;\n}\npublic void setEmail(String em) {\n    this.email = em;\n}\npublic String getType(){\n    return type;\n}\npublic void setType(String t) {\n    this.type = t;\n}\npublic double getPrice(){\n    return price;\n}\npublic void setPrice(double p) {\n    this.price = p;\n}\n}\n</code></pre>\n<p>In class A, the &quot;accData.getSomething()&quot; methods seem to be okay, but all &quot;accData.setSomething()&quot; methods give me the following error: &quot;The method setCode(int) in the type Refactor is not applicable for the arguments ()&quot;.</p>\n<p>This is what I have on class A so far:</p>\n<pre><code>import java.util.ArrayList;\n\n\npublic class Accommodation\n{\n    protected static int MAX_NUM_TOURS = 3; // maximum number of tours defined by the hotel regulation bodies\n\n    protected int code; // code\n    protected String companyName; // company name\n    protected String email; // email of the company\n    protected String type; // type\n    protected double price; // price\n    protected String city;  // city of the accommodation\n    protected int numberBeds; // number of beds\n\n    /**\n     * Constructor\n     * @param c code\n     * @param cn company name\n     * @param em email of the company\n     * @param t type (hotel, hostel, bnb, ...)\n     * @param p price\n     * @param ct city of the accommodation\n     * @param nb number of beds\n     */\n\n    public Accommodation(int c, String cn, String em, String t, double p, String ct, int nb) {\n        this.code = c;\n        this.companyName = cn;\n        this.email = em;\n        this.type = t;\n        this.price = p; \n        this.city = ct;\n        this.numberBeds = nb;\n    }\n\n    \n    //this is where I'm trying to call the Refactor class\n    public static void AccData() {\n        Refactor accData = new Refactor();\n        accData.getCode();\n        accData.setCode();\n        accData.getCompanyName();\n        accData.setCompanyName();\n        accData.getEmail();\n        accData.setEmail();\n        accData.getType();\n        accData.setType();\n        accData.getPrice();\n        accData.setPrice();\n\n    }\n\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n    public int getNumberBeds() {\n        return numberBeds;\n    }\n    public void setNumberBeds(int numberBeds) {\n        this.numberBeds = numberBeds;\n    }\n}\n</code></pre>\n<p>Why am I getting that error? How can I fix this?</p>\n<p>I tried googling on how to refactor code and found <a href=\"https://stackoverflow.com/questions/53229324/how-to-refactor-two-classes-with-very-similar-methods-but-using-different-types\">this stack overflow question</a> which is similar to mine. I however didn't quite understand the answers given, hence why I am asking again.</p>\n<p>I'm expecting to be able to avoid code duplication by calling on these methods from class Refactor.</p>\n"},{"tags":["java","lambda","this"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1677645741,"post_id":75599608,"comment_id":133377214,"body_markdown":"*However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface* No. It isn&#39;t. Lambda expressions use the new bytecode mechanism `invokedynamic` and [`LambdaMetafactory`](https://github.com/openjdk/jdk/blob/a445b66e58a30577dee29cacb636d4c14f0574a2/src/java.base/share/classes/java/lang/invoke/LambdaMetafactory.java); there is no anonymous class in a lambda.","body":"<i>However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface</i> No. It isn&#39;t. Lambda expressions use the new bytecode mechanism <code>invokedynamic</code> and <a href=\"https://github.com/openjdk/jdk/blob/a445b66e58a30577dee29cacb636d4c14f0574a2/src/java.base/share/classes/java/lang/invoke/LambdaMetafactory.java\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a>; there is no anonymous class in a lambda."},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646104,"post_id":75599608,"comment_id":133377248,"body_markdown":"@ElliottFrisch I know that&#39;s what is going on at the compiler level... But lambdas are anonymous methods. You can&#39;t deny that. But then if this anonymous method doesn&#39;t belong to an anonymous class, then how do you explain the fact that it implements an interface? I can understand a class being able to implement an interface... But How on earth does a method implement an interface directly? Please explain this.","body":"@ElliottFrisch I know that&#39;s what is going on at the compiler level... But lambdas are anonymous methods. You can&#39;t deny that. But then if this anonymous method doesn&#39;t belong to an anonymous class, then how do you explain the fact that it implements an interface? I can understand a class being able to implement an interface... But How on earth does a method implement an interface directly? Please explain this."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677646293,"post_id":75599608,"comment_id":133377267,"body_markdown":"See [What are functional interfaces used for in Java 8?](https://stackoverflow.com/questions/36881826/what-are-functional-interfaces-used-for-in-java-8)","body":"See <a href=\"https://stackoverflow.com/questions/36881826/what-are-functional-interfaces-used-for-in-java-8\">What are functional interfaces used for in Java 8?</a>"},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646548,"post_id":75599608,"comment_id":133377295,"body_markdown":"@ElliottFrisch Again, your reply is much appreciated... But would kindly be more specific? Which part do you want me to focus on? I had a look at the link that you provided, but it doesn&#39;t help explain how lambda expressions help implement interfaces without an anonymous class. Please help me elaborate on this. Thanks in advance!","body":"@ElliottFrisch Again, your reply is much appreciated... But would kindly be more specific? Which part do you want me to focus on? I had a look at the link that you provided, but it doesn&#39;t help explain how lambda expressions help implement interfaces without an anonymous class. Please help me elaborate on this. Thanks in advance!"},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646809,"post_id":75599608,"comment_id":133377316,"body_markdown":"Basic Java fundamentals state that interfaces can NOT be instantiated. So, I do not understand how functional interfaces can be implemented and in essence, instantiated (using `new` keyword) without the use of intermediary anonymous classes. Please explain this. Thanks .","body":"Basic Java fundamentals state that interfaces can NOT be instantiated. So, I do not understand how functional interfaces can be implemented and in essence, instantiated (using <code>new</code> keyword) without the use of intermediary anonymous classes. Please explain this. Thanks ."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677647076,"post_id":75599608,"comment_id":133377347,"body_markdown":"Because they changed Java to allow interfaces that have a single abstract method to be instantiated when they are used in a lambda. They did this quite some time ago now. The exact way they did it was adding the `invokedynamic` instruction to the JVM and implementing `LambdaMetafactory`. You can see this with `javap -v`.","body":"Because they changed Java to allow interfaces that have a single abstract method to be instantiated when they are used in a lambda. They did this quite some time ago now. The exact way they did it was adding the <code>invokedynamic</code> instruction to the JVM and implementing <code>LambdaMetafactory</code>. You can see this with <code>javap -v</code>."},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677648036,"post_id":75599608,"comment_id":133377453,"body_markdown":"@ElliottFrisch Aaah, okay! But do you have any official documentation that states what you&#39;ve just said? Also, given what you&#39;ve said, it now seems that those sites that claim lambdas to be anonymous classes... Are wrong? In essence, lambdas are just anonymous functions? But additionally, they can be used to provide an implementation for functional interfaces and help instantiate them? Sound right to you?","body":"@ElliottFrisch Aaah, okay! But do you have any official documentation that states what you&#39;ve just said? Also, given what you&#39;ve said, it now seems that those sites that claim lambdas to be anonymous classes... Are wrong? In essence, lambdas are just anonymous functions? But additionally, they can be used to provide an implementation for functional interfaces and help instantiate them? Sound right to you?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1677649083,"post_id":75599608,"comment_id":133377589,"body_markdown":"[JEPS-126](https://openjdk.org/jeps/126) says (in part) *The currently preferred implementation approach for lambda expressions relies on `invokedynamic` and method handles introduced by JSR 292.* You might also notice that interfaces are now allowed to have `default` implementations. Lots of changes in Java these days.","body":"<a href=\"https://openjdk.org/jeps/126\" rel=\"nofollow noreferrer\">JEPS-126</a> says (in part) <i>The currently preferred implementation approach for lambda expressions relies on <code>invokedynamic</code> and method handles introduced by JSR 292.</i> You might also notice that interfaces are now allowed to have <code>default</code> implementations. Lots of changes in Java these days."}],"answers":[{"comments":[{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677648337,"post_id":75599837,"comment_id":133377496,"body_markdown":"Thank you. I know you can refer to `ThreadTest.this.name` from the anonymous Runnable class. But if accordingly to you lambdas are anonymous classes (and not anonymous methods) then why does `this.name` work directly from a lambda expression which should have it&#39;s own scope because of it being an anonymous class.","body":"Thank you. I know you can refer to <code>ThreadTest.this.name</code> from the anonymous Runnable class. But if accordingly to you lambdas are anonymous classes (and not anonymous methods) then why does <code>this.name</code> work directly from a lambda expression which should have it&#39;s own scope because of it being an anonymous class."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1677648442,"post_id":75599837,"comment_id":133377509,"body_markdown":"I said they can be &quot;expressed&quot; as anonymous classes, but not that they are equivalent, otherwise, their bytecode would be also the same, and referencing through `this.name` would not work. I am also taking some time to grasp this :)","body":"I said they can be &quot;expressed&quot; as anonymous classes, but not that they are equivalent, otherwise, their bytecode would be also the same, and referencing through <code>this.name</code> would not work. I am also taking some time to grasp this :)"},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677648821,"post_id":75599837,"comment_id":133377552,"body_markdown":"Thank you for your honesty. In my opinion, if lambdas are not anonymous classes, we should avoid using words like &quot;lambdas can be expressed as ...&quot;. I think the official oracle documentation explicitly mentions that lambdas are anonymous functions... So let&#39;s just stick to that.","body":"Thank you for your honesty. In my opinion, if lambdas are not anonymous classes, we should avoid using words like &quot;lambdas can be expressed as ...&quot;. I think the official oracle documentation explicitly mentions that lambdas are anonymous functions... So let&#39;s just stick to that."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1677649212,"post_id":75599837,"comment_id":133377605,"body_markdown":"&quot;express as&quot; does not really mean &quot;equal to&quot;, but I got your point. There is nowhere in the specification that lambda expression is an anonymous class (that&#39;s why I never write in my answers that lambda expression &quot;is&quot; anonymous class): https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27 Though, there might appear on some Oracle website that lambda expression &quot;is&quot; anonymous class, I haven&#39;t found such a page. I&#39;d definitely choose not to stick that they are equal.","body":"&quot;express as&quot; does not really mean &quot;equal to&quot;, but I got your point. There is nowhere in the specification that lambda expression is an anonymous class (that&#39;s why I never write in my answers that lambda expression &quot;is&quot; anonymous class): <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15&zwnj;&#8203;.27</a> Though, there might appear on some Oracle website that lambda expression &quot;is&quot; anonymous class, I haven&#39;t found such a page. I&#39;d definitely choose not to stick that they are equal."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677647975,"creation_date":1677647975,"answer_id":75599837,"question_id":75599608,"body_markdown":"First of all, fix this as long as you refer to the instance and not the class variable:\r\n\r\n```\r\npublic String name = &quot;Member Accessed&quot;;\r\n```\r\n\r\nThough each lambda expression can be expressed as an anonymous class, their bytecodes differ, as Eliott Frisch [said][1]. I am not knowledgeable enough to provide more details, but there is a very interesting reading from Brian Goetz I can refer you to. Sadly, the script is accessible only through this answer as long as [the original link][2] is no longer active: [Lambda Translation Strategy][3].\r\n\r\n___\r\n\r\nAnyway, the anonymous class can point out the instance variable of the outer class by specifying the class name using `this`.\r\n\r\n```java\r\nRunnable r1 = new Runnable() {\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;Using Anonymous class: &quot; + ThreadTest.this.name);\r\n\t}\r\n};\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75599608/why-can-java-lambda-expressions-reference-parent-class-members-using-this-keyw/75599837#comment133377214_75599608\r\n  [2]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html\r\n  [3]: https://stackoverflow.com/a/30002771/3764965","title":"Why can java lambda expressions reference parent class members using &quot;this&quot; keyword whereas anonymous classes can not?","body":"<p>First of all, fix this as long as you refer to the instance and not the class variable:</p>\n<pre><code>public String name = &quot;Member Accessed&quot;;\n</code></pre>\n<p>Though each lambda expression can be expressed as an anonymous class, their bytecodes differ, as Eliott Frisch <a href=\"https://stackoverflow.com/questions/75599608/why-can-java-lambda-expressions-reference-parent-class-members-using-this-keyw/75599837#comment133377214_75599608\">said</a>. I am not knowledgeable enough to provide more details, but there is a very interesting reading from Brian Goetz I can refer you to. Sadly, the script is accessible only through this answer as long as <a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/lambda/lambda-translation.html\" rel=\"nofollow noreferrer\">the original link</a> is no longer active: <a href=\"https://stackoverflow.com/a/30002771/3764965\">Lambda Translation Strategy</a>.</p>\n<hr />\n<p>Anyway, the anonymous class can point out the instance variable of the outer class by specifying the class name using <code>this</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable r1 = new Runnable() {\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Using Anonymous class: &quot; + ThreadTest.this.name);\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678015609,"answer_count":1,"score":0,"last_activity_date":1677647975,"creation_date":1677645338,"question_id":75599608,"body_markdown":"In the following class:\r\n\r\n    public class ThreadTest {\r\n    \r\n    \tpublic static String name = &quot;Member Accessed&quot;;\r\n    \t\r\n    \t\r\n    \tpublic void run() {\r\n    \t\r\n    \t\t// Anonymous class\r\n    \t\tRunnable r1 = new Runnable() { \r\n    \t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tSystem.out.println(&quot;Using Anonymous class, referencing this.name &quot; + this.name);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\t// lambda expression\r\n    \t\tRunnable r2 = () -&gt; {\r\n    \t\t\tSystem.out.println(&quot;Using Lambda Expression, referencing this.name &quot; + this.name);\r\n    \t\t};\r\n    \t\t\r\n    \t\tnew Thread(r1).start();\r\n    \t\tnew Thread(r2).start();\r\n    \t}\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tThreadTest tt = new ThreadTest();\r\n    \t\ttt.run();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nWhy can the lambda expression access `this.name`, whereas the anonymous class can not? I understand that for the anonymous class, `this` references the anonymous class scope, and `name` doesn&#39;t exist there. However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface. So, technically `this` should also reference the anonymous class for the lambda expression.. But somehow, `this` manages to reference `name`. \r\n\r\nWhy is this the case?","title":"Why can java lambda expressions reference parent class members using &quot;this&quot; keyword whereas anonymous classes can not?","body":"<p>In the following class:</p>\n<pre><code>public class ThreadTest {\n\n    public static String name = &quot;Member Accessed&quot;;\n    \n    \n    public void run() {\n    \n        // Anonymous class\n        Runnable r1 = new Runnable() { \n        \n            @Override\n            public void run() {\n                System.out.println(&quot;Using Anonymous class, referencing this.name &quot; + this.name);\n            }\n        };\n        \n        // lambda expression\n        Runnable r2 = () -&gt; {\n            System.out.println(&quot;Using Lambda Expression, referencing this.name &quot; + this.name);\n        };\n        \n        new Thread(r1).start();\n        new Thread(r2).start();\n    }\n\n\n    public static void main(String[] args) {\n    \n        ThreadTest tt = new ThreadTest();\n        tt.run();\n\n    }\n}\n</code></pre>\n<p>Why can the lambda expression access <code>this.name</code>, whereas the anonymous class can not? I understand that for the anonymous class, <code>this</code> references the anonymous class scope, and <code>name</code> doesn't exist there. However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface. So, technically <code>this</code> should also reference the anonymous class for the lambda expression.. But somehow, <code>this</code> manages to reference <code>name</code>.</p>\n<p>Why is this the case?</p>\n"},{"tags":["java","android","sqlite","android-studio"],"answers":[{"comments":[{"owner":{"account_id":20733975,"reputation":33,"user_id":15225222,"display_name":"Zane Brown"},"score":0,"creation_date":1622733673,"post_id":67824103,"comment_id":119882127,"body_markdown":"I was so focused on the java class, I didn&#39;t think to look at the XML file. That worked! Much appreciated!!","body":"I was so focused on the java class, I didn&#39;t think to look at the XML file. That worked! Much appreciated!!"}],"tags":[],"owner":{"account_id":8943261,"reputation":1044,"user_id":6671572,"accept_rate":0,"display_name":"Shivam Pokhriyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622733203,"creation_date":1622733203,"answer_id":67824103,"question_id":67823994,"body_markdown":"You need to use `android:inputType=&quot;number&quot;` property in your xml for `EditText` for `itemNumber`. That way user won&#39;t be able to enter any character to that input field. ","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>You need to use <code>android:inputType=&quot;number&quot;</code> property in your xml for <code>EditText</code> for <code>itemNumber</code>. That way user won't be able to enter any character to that input field.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678087300,"post_id":75599763,"comment_id":133458349,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75599763/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27905719,"reputation":1,"user_id":21308986,"display_name":"Sudharsank"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677647043,"creation_date":1677647043,"answer_id":75599763,"question_id":67823994,"body_markdown":"//calculation position of strong\r\necho strops (Hello World!&#39;;&quot;World);\r\n\r\n&gt; [Blockquote][1]\r\n\r\n\r\n  [1]: https://","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>//calculation position of strong\necho strops (Hello World!';&quot;World);</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n"}],"owner":{"account_id":20733975,"reputation":33,"user_id":15225222,"display_name":"Zane Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67824103,"answer_count":2,"score":0,"last_activity_date":1677647043,"creation_date":1622732850,"question_id":67823994,"body_markdown":"I&#39;m creating an inventory app that allows users to enter enter items with three different information fields. These fields are item name, item owner and item number.\r\n\r\nHowever, when I input a string or character into the item number field, the app crashes. I want to prevent this crashing by not allowing for characters to be entered in this field only. I&#39;ve tried a several fixes, but none seem to have worked so far.\r\n\r\nIs there anyway to specifically check for string types and prevent using them?\r\n\r\n**Here is my addItem function:**\r\n\r\n    public class AddItem extends AppCompatActivity {\r\n    \r\n        // Setting up variable names for XML object items\r\n        EditText mItemName;\r\n        EditText mOwnerName;\r\n        EditText mItemNum;\r\n        Button mAddButton;\r\n    \r\n        @Override\r\n        //Initializing object variables and the addButton setOnClickListener\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_item);\r\n            mItemName = findViewById(R.id.itemName_input);\r\n            mOwnerName = findViewById(R.id.owner_input);\r\n            mItemNum = findViewById(R.id.num_input);\r\n            mAddButton = findViewById(R.id.add_button);\r\n    \r\n            //This click listener sets up functionality for the add item button. The addItem method is called from the MyDBHelper class.\r\n            mAddButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    //TESTING\r\n                    String itemName = mItemName.getText().toString().trim();\r\n                    String itemOwner = mOwnerName.getText().toString().trim();\r\n                    String itemNum = mItemNum.getText().toString().trim();\r\n    \r\n                    //This IF/ELSE branch checks to see if any fields in AddItem are empty. If so, an error message displays. Else, it is entered into the database.\r\n                    if(itemName.equals(&quot;&quot;)||itemOwner.equals(&quot;&quot;)||itemNum.equals(&quot;&quot;)) {\r\n                        Toast.makeText(AddItem.this, &quot;Please enter data to all fields!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else {\r\n                        MyDBHelper myDatabase = new MyDBHelper(AddItem.this);\r\n                        myDatabase.addItem(mItemName.getText().toString().trim(), mOwnerName.getText().toString().trim(), Integer.valueOf(mItemNum.getText().toString().trim()));\r\n    \r\n                        //This will add functionality to return to the DisplayInventory Screen after pressing button.\r\n                        Intent intent = new Intent(AddItem.this, DisplayInventory.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n**Here is the database the function is using:**\r\n\r\n    public class MyDBHelper extends SQLiteOpenHelper {\r\n    \r\n        // Setting up all variables that make up the columns in the database.\r\n        private Context context;\r\n        private static final String DATABASE_NAME = &quot;InventoryList.db&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n        private static final String TABLE_NAME = &quot;my_list&quot;;\r\n        private static final String COLUMN_ID = &quot;_id&quot;;\r\n        private static final String COLUMN_TITLE = &quot;item_name&quot;;\r\n        private static final String COLUMN_OWNER = &quot;item_owner&quot;;\r\n        private static final String COLUMN_NUM = &quot;item_num&quot;;\r\n    \r\n    \r\n        MyDBHelper(@Nullable Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        //Initializing the Database\r\n        public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n            String query =\r\n                    &quot;CREATE TABLE &quot; + TABLE_NAME +\r\n                            &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                            COLUMN_TITLE + &quot; TEXT, &quot; +\r\n                            COLUMN_OWNER + &quot; TEXT, &quot; +\r\n                            COLUMN_NUM + &quot; INTEGER);&quot;;\r\n            sqLiteDatabase.execSQL(query);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        //This will make sure to erase the table if one already exists.\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n            sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n            onCreate(sqLiteDatabase);\r\n    \r\n        }\r\n    \r\n        //This method is adding functionality to add the item name, owner and number of items.\r\n        void addItem(String itemName, String itemOwner, int numItem) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n    \r\n            cv.put(COLUMN_TITLE, itemName);\r\n            cv.put(COLUMN_OWNER, itemOwner);\r\n            cv.put(COLUMN_NUM, numItem);\r\n            long result = db.insert(TABLE_NAME, null, cv);\r\n    \r\n            if (result == -1) {\r\n                Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else {\r\n                Toast.makeText(context, &quot;Item Added to Inventory!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        //This method sets up the functionality to search the entire database and read the data.\r\n        Cursor readAllData() {\r\n            String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n            Cursor cursor = null;\r\n    \r\n            if (db != null) {\r\n               cursor = db.rawQuery(query, null);\r\n            }\r\n            return cursor;\r\n        }\r\n    \r\n        //This method allows the user to update the item&#39;s data. Values that will be updated are item name, owner and number of items.\r\n        void updateData(String row_id, String item_name, String item_owner, String item_num) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COLUMN_TITLE, item_name);\r\n            cv.put(COLUMN_OWNER, item_owner);\r\n            cv.put(COLUMN_NUM, item_num);\r\n            long result = db.update(TABLE_NAME, cv, &quot;_id=?&quot;, new String[]{row_id});\r\n        }\r\n    \r\n        void deleteItem(String row_id) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            long result = db.delete(TABLE_NAME, &quot;_id=?&quot;, new String[]{row_id});\r\n    \r\n        }\r\n    \r\n        void destroyInventory() {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            db.execSQL(&quot;DELETE FROM &quot; + TABLE_NAME);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>I'm creating an inventory app that allows users to enter enter items with three different information fields. These fields are item name, item owner and item number.</p>\n<p>However, when I input a string or character into the item number field, the app crashes. I want to prevent this crashing by not allowing for characters to be entered in this field only. I've tried a several fixes, but none seem to have worked so far.</p>\n<p>Is there anyway to specifically check for string types and prevent using them?</p>\n<p><strong>Here is my addItem function:</strong></p>\n<pre><code>public class AddItem extends AppCompatActivity {\n\n    // Setting up variable names for XML object items\n    EditText mItemName;\n    EditText mOwnerName;\n    EditText mItemNum;\n    Button mAddButton;\n\n    @Override\n    //Initializing object variables and the addButton setOnClickListener\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_item);\n        mItemName = findViewById(R.id.itemName_input);\n        mOwnerName = findViewById(R.id.owner_input);\n        mItemNum = findViewById(R.id.num_input);\n        mAddButton = findViewById(R.id.add_button);\n\n        //This click listener sets up functionality for the add item button. The addItem method is called from the MyDBHelper class.\n        mAddButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //TESTING\n                String itemName = mItemName.getText().toString().trim();\n                String itemOwner = mOwnerName.getText().toString().trim();\n                String itemNum = mItemNum.getText().toString().trim();\n\n                //This IF/ELSE branch checks to see if any fields in AddItem are empty. If so, an error message displays. Else, it is entered into the database.\n                if(itemName.equals(&quot;&quot;)||itemOwner.equals(&quot;&quot;)||itemNum.equals(&quot;&quot;)) {\n                    Toast.makeText(AddItem.this, &quot;Please enter data to all fields!&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    MyDBHelper myDatabase = new MyDBHelper(AddItem.this);\n                    myDatabase.addItem(mItemName.getText().toString().trim(), mOwnerName.getText().toString().trim(), Integer.valueOf(mItemNum.getText().toString().trim()));\n\n                    //This will add functionality to return to the DisplayInventory Screen after pressing button.\n                    Intent intent = new Intent(AddItem.this, DisplayInventory.class);\n                    startActivity(intent);\n                    finish();\n                }\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p><strong>Here is the database the function is using:</strong></p>\n<pre><code>public class MyDBHelper extends SQLiteOpenHelper {\n\n    // Setting up all variables that make up the columns in the database.\n    private Context context;\n    private static final String DATABASE_NAME = &quot;InventoryList.db&quot;;\n    private static final int DATABASE_VERSION = 1;\n    private static final String TABLE_NAME = &quot;my_list&quot;;\n    private static final String COLUMN_ID = &quot;_id&quot;;\n    private static final String COLUMN_TITLE = &quot;item_name&quot;;\n    private static final String COLUMN_OWNER = &quot;item_owner&quot;;\n    private static final String COLUMN_NUM = &quot;item_num&quot;;\n\n\n    MyDBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    //Initializing the Database\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String query =\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\n                        &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                        COLUMN_TITLE + &quot; TEXT, &quot; +\n                        COLUMN_OWNER + &quot; TEXT, &quot; +\n                        COLUMN_NUM + &quot; INTEGER);&quot;;\n        sqLiteDatabase.execSQL(query);\n\n\n\n    }\n\n    @Override\n    //This will make sure to erase the table if one already exists.\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(sqLiteDatabase);\n\n    }\n\n    //This method is adding functionality to add the item name, owner and number of items.\n    void addItem(String itemName, String itemOwner, int numItem) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n\n        cv.put(COLUMN_TITLE, itemName);\n        cv.put(COLUMN_OWNER, itemOwner);\n        cv.put(COLUMN_NUM, numItem);\n        long result = db.insert(TABLE_NAME, null, cv);\n\n        if (result == -1) {\n            Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else {\n            Toast.makeText(context, &quot;Item Added to Inventory!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    //This method sets up the functionality to search the entire database and read the data.\n    Cursor readAllData() {\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = null;\n\n        if (db != null) {\n           cursor = db.rawQuery(query, null);\n        }\n        return cursor;\n    }\n\n    //This method allows the user to update the item's data. Values that will be updated are item name, owner and number of items.\n    void updateData(String row_id, String item_name, String item_owner, String item_num) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(COLUMN_TITLE, item_name);\n        cv.put(COLUMN_OWNER, item_owner);\n        cv.put(COLUMN_NUM, item_num);\n        long result = db.update(TABLE_NAME, cv, &quot;_id=?&quot;, new String[]{row_id});\n    }\n\n    void deleteItem(String row_id) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        long result = db.delete(TABLE_NAME, &quot;_id=?&quot;, new String[]{row_id});\n\n    }\n\n    void destroyInventory() {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.execSQL(&quot;DELETE FROM &quot; + TABLE_NAME);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit","mockito","builder","argumentcaptor"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677700353,"post_id":75599670,"comment_id":133391825,"body_markdown":"What is `someMethod` and what has the builder got to do with anything of this?","body":"What is <code>someMethod</code> and what has the builder got to do with anything of this?"},{"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"score":0,"creation_date":1677730020,"post_id":75599670,"comment_id":133396912,"body_markdown":"@knittl some method is a stand-in for any method that has a parameter of type MyExampleClass. I am always unable to use captors or matchers on MyExampleClass no matter where it&#39;s used. I don&#39;t know what the builder has to do with any of this, however since this is the only class in my codebase that has this issue, and it is the only class implementing this pattern, it seems relevant.","body":"@knittl some method is a stand-in for any method that has a parameter of type MyExampleClass. I am always unable to use captors or matchers on MyExampleClass no matter where it&#39;s used. I don&#39;t know what the builder has to do with any of this, however since this is the only class in my codebase that has this issue, and it is the only class implementing this pattern, it seems relevant."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677738067,"post_id":75599670,"comment_id":133397878,"body_markdown":"Shouldn&#39;t `forCaptor(MyExampleClass)` be `forCaptor(MyExampleClass.class)`? Does the error still occur if you remove the builder from the class?","body":"Shouldn&#39;t <code>forCaptor(MyExampleClass)</code> be <code>forCaptor(MyExampleClass.class)</code>? Does the error still occur if you remove the builder from the class?"},{"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"score":0,"creation_date":1679331413,"post_id":75599670,"comment_id":133698929,"body_markdown":"As I mentioned the test class is in Groovy, so yes that would also work, but Groovy does not need `.class`","body":"As I mentioned the test class is in Groovy, so yes that would also work, but Groovy does not need <code>.class</code>"}],"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677646102,"creation_date":1677646102,"question_id":75599670,"body_markdown":"I have a class similar to the following:\r\n```\r\npackage com.example.objects;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class MyExampleClass extends SomeBaseClass {\r\n\r\n\tprivate String param1;\r\n\tprivate String param2;\r\n\r\n\tprivate MyExampleClass(String param1, String param2) {\r\n\t\tthis.param1 = param1;\r\n\t\tthis.param2 = param2;\r\n\t}\r\n\r\n\tMyExampleClass() {\r\n\t}\r\n\r\n\tpublic String getParam1() {\r\n\t\treturn param1;\r\n\t}\r\n\r\n\tpublic String getParam2() {\r\n\t\treturn param2;\r\n\t}\r\n\r\n\tpublic static class Builder {\r\n\t\tprivate String param1;\r\n\t\tprivate String param2;\r\n\r\n\t\tpublic Builder setParam1(String param1) {\r\n\t\t\tthis.param1 = param1;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic Builder setParam2(String param2) {\r\n\t\t\tthis.param2 = param2;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic MyExampleClass build() {\r\n\t\t\tObjects.requireNonNull(param1,&quot;blahblah&quot;);\r\n\t\t\tObjects.requireNonNull(param2,&quot;blahblah&quot;);\r\n\t\t\treturn new MyExampleClass(param1, param2);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nand in a Groovy unit test I want to do something like the following:\r\n```\r\ndef captor = ArgumentCaptor.forClass(MyExampleClass)\r\nMockito.verify(mockObject).someMethod(captor.capture())\r\n```\r\n\r\nI expect I would be able to make assertions off of my captor as per usual, however instead I get something along the lines of:\r\n```\r\nWanted but not invoked:\r\nmockObject.someMethod(\r\n &lt;Capturing argument&gt;\r\n);\r\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\r\nHowever, there was exactly 1 interaction with this mock:\r\nmockObject.someMethod(\r\n    com.example.objects.MyExampleClass@47a7a101\r\n);\r\n```\r\n\r\nWhat am I doing wrong that prevents ArgumentMatchers and ArgumentCaptors from recognizing my object?","title":"Why are Mockito argument matchers unable to match with my builder-pattern object?","body":"<p>I have a class similar to the following:</p>\n<pre><code>package com.example.objects;\n\nimport java.util.Objects;\n\npublic class MyExampleClass extends SomeBaseClass {\n\n    private String param1;\n    private String param2;\n\n    private MyExampleClass(String param1, String param2) {\n        this.param1 = param1;\n        this.param2 = param2;\n    }\n\n    MyExampleClass() {\n    }\n\n    public String getParam1() {\n        return param1;\n    }\n\n    public String getParam2() {\n        return param2;\n    }\n\n    public static class Builder {\n        private String param1;\n        private String param2;\n\n        public Builder setParam1(String param1) {\n            this.param1 = param1;\n            return this;\n        }\n\n        public Builder setParam2(String param2) {\n            this.param2 = param2;\n            return this;\n        }\n        \n        public MyExampleClass build() {\n            Objects.requireNonNull(param1,&quot;blahblah&quot;);\n            Objects.requireNonNull(param2,&quot;blahblah&quot;);\n            return new MyExampleClass(param1, param2);\n        }\n    }\n}\n\n</code></pre>\n<p>and in a Groovy unit test I want to do something like the following:</p>\n<pre><code>def captor = ArgumentCaptor.forClass(MyExampleClass)\nMockito.verify(mockObject).someMethod(captor.capture())\n</code></pre>\n<p>I expect I would be able to make assertions off of my captor as per usual, however instead I get something along the lines of:</p>\n<pre><code>Wanted but not invoked:\nmockObject.someMethod(\n &lt;Capturing argument&gt;\n);\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n\nHowever, there was exactly 1 interaction with this mock:\nmockObject.someMethod(\n    com.example.objects.MyExampleClass@47a7a101\n);\n</code></pre>\n<p>What am I doing wrong that prevents ArgumentMatchers and ArgumentCaptors from recognizing my object?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":26280709,"reputation":93,"user_id":19949241,"display_name":"Awais ul Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677646042,"creation_date":1677646042,"answer_id":75599665,"question_id":75570940,"body_markdown":"Try it, to add permissions in webview\r\n\r\n    private void setMyWebviewSettings(WebSettings MyWebviewSettings) {\r\n        MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\r\n        MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setJavaScriptEnabled(true);\r\n        MyWebviewSettings.setDomStorageEnabled(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setBuiltInZoomControls(true);\r\n        MyWebviewSettings.setAllowFileAccess(true);\r\n        MyWebviewSettings.setSupportZoom(true);\r\n    }","title":"Camera doesn&#39;t open from webview in android","body":"<p>Try it, to add permissions in webview</p>\n<pre><code>private void setMyWebviewSettings(WebSettings MyWebviewSettings) {\n    MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\n    MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\n    MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n    MyWebviewSettings.setJavaScriptEnabled(true);\n    MyWebviewSettings.setDomStorageEnabled(true);\n    MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n    MyWebviewSettings.setBuiltInZoomControls(true);\n    MyWebviewSettings.setAllowFileAccess(true);\n    MyWebviewSettings.setSupportZoom(true);\n}\n</code></pre>\n"}],"owner":{"account_id":18242315,"reputation":317,"user_id":13279141,"display_name":"Kee Rushar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677646042,"creation_date":1677401929,"question_id":75570940,"body_markdown":"I&#39;m trying to show the camera in WebView.The webview has a feature that allows the user to scan documents. I got it to work using WebChromeClient. But I am unable to do that. I have seen other references but they could not help me. Is there anything that I have missed on the below code?\r\n\r\n**I have added permissions to the AndroidManifest.xml file:**\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n        &lt;user-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\r\n\r\nIn my fragment webview.kt is:\r\n\r\n    class WebView : Fragment() {\r\n                    private lateinit var binding: FragmentWebviewBinding\r\n            \r\n                override fun onCreateView(\r\n                    inflater: LayoutInflater, container: ViewGroup?,\r\n                    savedInstanceState: Bundle?\r\n                ): View {\r\n                    binding =\r\n                        FragmentWebviewBinding.inflate(\r\n                            inflater,\r\n                            container,\r\n                            false\r\n                        )\r\n            \r\n                    return binding.root\r\n                }\r\n            \r\n                override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n                    super.onViewCreated(view, savedInstanceState)\r\n            \r\n                    setUpWebView()\r\n                }\r\n            \r\n                private fun setUpWebView() {\r\n                    listener?.showLoading(true)\r\n            \r\n                    binding.securityWebView.apply {\r\n                        webViewClient = customWebViewClient\r\n                        webChromeClient = customWebChromeClient\r\n                        loadUrl(\r\n                        &quot;https://onlinecamscanner.com/&quot;)\r\n                        settings.apply {\r\n                            javaScriptEnabled = true\r\n                            allowFileAccess = true\r\n                            allowContentAccess = true\r\n                            javaScriptCanOpenWindowsAutomatically = true\r\n                            domStorageEnabled = true\r\n                            mediaPlaybackRequiresUserGesture = false\r\n                            setSupportZoom(true)\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                private val customWebViewClient = object : WebViewClient() {\r\n                    override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\r\n                        super.onPageStarted(view, url, favicon)\r\n                        listener?.showLoading(true)\r\n                    }\r\n            \r\n                    override fun onPageFinished(view: WebView?, url: String?) {\r\n                        super.onPageFinished(view, url)\r\n                        listener?.showLoading(false)\r\n                    }\r\n            \r\n                    override fun onReceivedError(\r\n                        view: WebView?,\r\n                        request: WebResourceRequest?,\r\n                        error: WebResourceError?\r\n                    ) {\r\n                        super.onReceivedError(view, request, error)\r\n                        listener?.showLoading(false)\r\n                    }\r\n                }\r\n            \r\n                private val customWebChromeClient = object : WebChromeClient() {\r\n            \r\n                    @TargetApi(Build.VERSION_CODES.LOLLIPOP)\r\n                    override fun onPermissionRequest(request: PermissionRequest?) {\r\n                        super.onPermissionRequest(request)\r\n                    }\r\n            \r\n                    override fun onPermissionRequestCanceled(request: PermissionRequest?) {\r\n                        super.onPermissionRequestCanceled(request)\r\n                        request?.deny()\r\n                    }\r\n                }\r\n            }\r\n \r\n\r\n - Compile SDK version = 31 \r\n - Target SDK version = 31  \r\n - Min Version = 21\r\n \r\nAny help would be highly appreciated.\r\n\r\n","title":"Camera doesn&#39;t open from webview in android","body":"<p>I'm trying to show the camera in WebView.The webview has a feature that allows the user to scan documents. I got it to work using WebChromeClient. But I am unable to do that. I have seen other references but they could not help me. Is there anything that I have missed on the below code?</p>\n<p><strong>I have added permissions to the AndroidManifest.xml file:</strong></p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;user-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\n</code></pre>\n<p>In my fragment webview.kt is:</p>\n<pre><code>class WebView : Fragment() {\n                private lateinit var binding: FragmentWebviewBinding\n        \n            override fun onCreateView(\n                inflater: LayoutInflater, container: ViewGroup?,\n                savedInstanceState: Bundle?\n            ): View {\n                binding =\n                    FragmentWebviewBinding.inflate(\n                        inflater,\n                        container,\n                        false\n                    )\n        \n                return binding.root\n            }\n        \n            override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n                super.onViewCreated(view, savedInstanceState)\n        \n                setUpWebView()\n            }\n        \n            private fun setUpWebView() {\n                listener?.showLoading(true)\n        \n                binding.securityWebView.apply {\n                    webViewClient = customWebViewClient\n                    webChromeClient = customWebChromeClient\n                    loadUrl(\n                    &quot;https://onlinecamscanner.com/&quot;)\n                    settings.apply {\n                        javaScriptEnabled = true\n                        allowFileAccess = true\n                        allowContentAccess = true\n                        javaScriptCanOpenWindowsAutomatically = true\n                        domStorageEnabled = true\n                        mediaPlaybackRequiresUserGesture = false\n                        setSupportZoom(true)\n                    }\n                }\n            }\n        \n            private val customWebViewClient = object : WebViewClient() {\n                override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                    super.onPageStarted(view, url, favicon)\n                    listener?.showLoading(true)\n                }\n        \n                override fun onPageFinished(view: WebView?, url: String?) {\n                    super.onPageFinished(view, url)\n                    listener?.showLoading(false)\n                }\n        \n                override fun onReceivedError(\n                    view: WebView?,\n                    request: WebResourceRequest?,\n                    error: WebResourceError?\n                ) {\n                    super.onReceivedError(view, request, error)\n                    listener?.showLoading(false)\n                }\n            }\n        \n            private val customWebChromeClient = object : WebChromeClient() {\n        \n                @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n                override fun onPermissionRequest(request: PermissionRequest?) {\n                    super.onPermissionRequest(request)\n                }\n        \n                override fun onPermissionRequestCanceled(request: PermissionRequest?) {\n                    super.onPermissionRequestCanceled(request)\n                    request?.deny()\n                }\n            }\n        }\n</code></pre>\n<ul>\n<li>Compile SDK version = 31</li>\n<li>Target SDK version = 31</li>\n<li>Min Version = 21</li>\n</ul>\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","pdf","outlook","jakarta-mail","attachment"],"answers":[{"comments":[{"owner":{"account_id":5465410,"reputation":21,"user_id":4346354,"display_name":"20141210"},"score":0,"creation_date":1418282850,"post_id":27406028,"comment_id":43278218,"body_markdown":"Thank you for your fast answer! To 1.: Our customer sees the attachment if we send it directly via an e-mail program such as Lotus Notes or Microsoft Outlook. To 2.: I do not think that this is a problem because the customer as described in point 1 receives the e-mail. To 3.: This I would also exclude because of point 1. Several customers this problem. I think it is unlikely that several customers have the same rule.","body":"Thank you for your fast answer! To 1.: Our customer sees the attachment if we send it directly via an e-mail program such as Lotus Notes or Microsoft Outlook. To 2.: I do not think that this is a problem because the customer as described in point 1 receives the e-mail. To 3.: This I would also exclude because of point 1. Several customers this problem. I think it is unlikely that several customers have the same rule."}],"tags":[],"owner":{"account_id":2984244,"reputation":236,"user_id":2533521,"display_name":"user2533521"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418228776,"creation_date":1418228776,"answer_id":27406028,"question_id":27405511,"body_markdown":"I wanted to add a comment (question), but don&#39;t have the required points.\r\n\r\nIt could be a filter on the customer side that blocks attachments. See if the customer is getting a mail with attachment (same pdf) when sending it via  normal outlook. \r\n\r\nSecond possible cause is the size of the attachment is a problem for the customer. \r\n\r\nThird possible cause is that I have noticed that when I set up a rule to automatically put messages into a different folder, i see a message saying:\r\n\r\n&gt; \r\nLinks and other functionality have been disabled in this message. To turn on that functionality, move this message to the Inbox. Outlook blocked access to the potentially unsafe attachments: xxxx.pdf\r\n\r\nMaybe this customer has setup a rule similarly.\r\n\r\n\r\n\r\n","title":"Java Mail attachment not shown in outlook","body":"<p>I wanted to add a comment (question), but don't have the required points.</p>\n\n<p>It could be a filter on the customer side that blocks attachments. See if the customer is getting a mail with attachment (same pdf) when sending it via  normal outlook. </p>\n\n<p>Second possible cause is the size of the attachment is a problem for the customer. </p>\n\n<p>Third possible cause is that I have noticed that when I set up a rule to automatically put messages into a different folder, i see a message saying:</p>\n\n<blockquote>\n  <p>Links and other functionality have been disabled in this message. To turn on that functionality, move this message to the Inbox. Outlook blocked access to the potentially unsafe attachments: xxxx.pdf</p>\n</blockquote>\n\n<p>Maybe this customer has setup a rule similarly.</p>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418340599,"creation_date":1418340599,"answer_id":27434369,"question_id":27405511,"body_markdown":"If messages sent from other mailers work properly and only messages sent from JavaMail fail, you&#39;ll need to examine the raw MIME content of the working and non-working messages to see what&#39;s different.  You should be able to reproduce whatever content works using JavaMail.\r\n\r\nThere&#39;s lots of ways to access the raw MIME content of messages; let me know if you need help with that.\r\n\r\nObviously you&#39;ll need working and non-working examples messages with similar content to compare.  If you have a repeatable test case - a message you can send to the same recipient multiple times and it fails every time - that would be most helpful.\r\n","title":"Java Mail attachment not shown in outlook","body":"<p>If messages sent from other mailers work properly and only messages sent from JavaMail fail, you'll need to examine the raw MIME content of the working and non-working messages to see what's different.  You should be able to reproduce whatever content works using JavaMail.</p>\n\n<p>There's lots of ways to access the raw MIME content of messages; let me know if you need help with that.</p>\n\n<p>Obviously you'll need working and non-working examples messages with similar content to compare.  If you have a repeatable test case - a message you can send to the same recipient multiple times and it fails every time - that would be most helpful.</p>\n"},{"comments":[{"owner":{"account_id":5465410,"reputation":21,"user_id":4346354,"display_name":"20141210"},"score":0,"creation_date":1420455583,"post_id":27658192,"comment_id":43966370,"body_markdown":"Thanks for your answer! We already have Multipart multipart = new MimeMultipart();","body":"Thanks for your answer! We already have Multipart multipart = new MimeMultipart();"},{"owner":{"account_id":3485660,"reputation":45,"user_id":4395957,"display_name":"Mustaf"},"score":0,"creation_date":1420472110,"post_id":27658192,"comment_id":43975331,"body_markdown":"I have seen you already have this modification in your source code,  so I have included a reference on the topic from tutorialspoint. Maybe this might be helpful for you.","body":"I have seen you already have this modification in your source code,  so I have included a reference on the topic from tutorialspoint. Maybe this might be helpful for you."}],"tags":[],"owner":{"account_id":3485660,"reputation":45,"user_id":4395957,"display_name":"Mustaf"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1419603488,"creation_date":1419602885,"answer_id":27658192,"question_id":27405511,"body_markdown":"We had a similar problem where we sent file attachments from a J2EE application to various mail accounts. We utilized SMTP gmail server (smtp.gmail.com) with port 465 and HTTPS connection type for our outgoing messages.\r\n\r\nAttachments to the messages sent via Java were not shown in Outlook but we could observe them in web interface for gmail accounts.\r\n\r\nIn our case, it turned out to be that `MimeMultipart` construction was not the correct one. We had\r\n\r\n    Multipart multipart = new MimeMultipart(&quot;alternative&quot;);\r\n\r\nWhen we modified it to\r\n\r\n    Multipart multipart = new MimeMultipart();\r\n\r\nthe attachments became visible.\r\n\r\nPlease also refer to [the following resource][1] for a full explanation.\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/javamail_api/javamail_api_send_email_with_attachment.htm","title":"Java Mail attachment not shown in outlook","body":"<p>We had a similar problem where we sent file attachments from a J2EE application to various mail accounts. We utilized SMTP gmail server (smtp.gmail.com) with port 465 and HTTPS connection type for our outgoing messages.</p>\n\n<p>Attachments to the messages sent via Java were not shown in Outlook but we could observe them in web interface for gmail accounts.</p>\n\n<p>In our case, it turned out to be that <code>MimeMultipart</code> construction was not the correct one. We had</p>\n\n<pre><code>Multipart multipart = new MimeMultipart(\"alternative\");\n</code></pre>\n\n<p>When we modified it to</p>\n\n<pre><code>Multipart multipart = new MimeMultipart();\n</code></pre>\n\n<p>the attachments became visible.</p>\n\n<p>Please also refer to <a href=\"http://www.tutorialspoint.com/javamail_api/javamail_api_send_email_with_attachment.htm\" rel=\"nofollow\">the following resource</a> for a full explanation.</p>\n"}],"owner":{"account_id":5465410,"reputation":21,"user_id":4346354,"display_name":"20141210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677645306,"creation_date":1418227378,"question_id":27405511,"body_markdown":"we use Java Mail to send E-Mails with PDF attachments via SMTP over Lotus Notes to our customers.\r\nSome time ago we got notified that serveral customers don&#39;t received an attachment.\r\n\r\nOne of these customers uses Microsoft Outlook and got an attachment flag in his inbox. But when he opens the\r\nE-Mail, he doesn&#39;t see an attachment. We don&#39;t have the possibility to check the version of the E-Mail client&#39;s \r\nand to do customer side test&#39;s, because our customers are worldwide located.\r\n\r\nIf our customer responds or (internal) forward the E-Mail, the attachment shown in receiver&#39;s E-Mail client.\r\n\r\nThe following part is the affected Java source code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static Multipart createMultipartMailWithAttachment(String messageText)\r\n    \t\tthrows MessagingException {\r\n    \t// Message with attachments\r\n    \tMultipart mp = new MimeMultipart();\r\n    \r\n    \t// Attach Text\r\n    \tMimeBodyPart mbp1 = new MimeBodyPart();\r\n    \tmbp1.setText(messageText, UTF8, HTML);\r\n    \tmp.addBodyPart(mbp1);\r\n    \r\n    \tfor (File f : attachments) {\r\n    \t\tMimeBodyPart fileAttachment = new MimeBodyPart();\r\n    \t\ttry {\r\n    \t\t\tfileAttachment.setDisposition(MimeBodyPart.ATTACHMENT);\r\n    \t\t\tfileAttachment.attachFile(f);\r\n    \t\t\tif(f.getName().toLowerCase().endsWith(PDF_EXTENSION)) {\r\n    \t\t\t\tfileAttachment.setHeader(CONTENT_TYPE, APPLICATION_PDF);\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\treturnMessage = e.getMessage();\r\n    \t\t}\r\n    \t\tmp.addBodyPart(fileAttachment);\r\n    \t}\r\n    \treturn mp;\r\n    }\r\n\r\nWe already tested different webmail services like gmail.com, yahoo.com and outlook.com. In every case the \r\nattachment was shown. Also in an local installation of Mozilla Thunderbird, Microsoft Outlook or Lotus Notes\r\nwas the attachment shown.\r\n\r\nAfter many inquiries we got many different solution processes. See `setDisposition(MimeBodyPart.ATTACHMENT)` and \r\n`setHeader(CONTENT_TYPE, APPLICATION_PDF)`. None of these solutions lead us to success. Does anyone know \r\na solution or a new solution process to solve that problem?","title":"Java Mail attachment not shown in outlook","body":"<p>we use Java Mail to send E-Mails with PDF attachments via SMTP over Lotus Notes to our customers.\nSome time ago we got notified that serveral customers don't received an attachment.</p>\n\n<p>One of these customers uses Microsoft Outlook and got an attachment flag in his inbox. But when he opens the\nE-Mail, he doesn't see an attachment. We don't have the possibility to check the version of the E-Mail client's \nand to do customer side test's, because our customers are worldwide located.</p>\n\n<p>If our customer responds or (internal) forward the E-Mail, the attachment shown in receiver's E-Mail client.</p>\n\n<p>The following part is the affected Java source code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static Multipart createMultipartMailWithAttachment(String messageText)\n        throws MessagingException {\n    // Message with attachments\n    Multipart mp = new MimeMultipart();\n\n    // Attach Text\n    MimeBodyPart mbp1 = new MimeBodyPart();\n    mbp1.setText(messageText, UTF8, HTML);\n    mp.addBodyPart(mbp1);\n\n    for (File f : attachments) {\n        MimeBodyPart fileAttachment = new MimeBodyPart();\n        try {\n            fileAttachment.setDisposition(MimeBodyPart.ATTACHMENT);\n            fileAttachment.attachFile(f);\n            if(f.getName().toLowerCase().endsWith(PDF_EXTENSION)) {\n                fileAttachment.setHeader(CONTENT_TYPE, APPLICATION_PDF);\n            }\n        } catch (IOException e) {\n            returnMessage = e.getMessage();\n        }\n        mp.addBodyPart(fileAttachment);\n    }\n    return mp;\n}\n</code></pre>\n\n<p>We already tested different webmail services like gmail.com, yahoo.com and outlook.com. In every case the \nattachment was shown. Also in an local installation of Mozilla Thunderbird, Microsoft Outlook or Lotus Notes\nwas the attachment shown.</p>\n\n<p>After many inquiries we got many different solution processes. See <code>setDisposition(MimeBodyPart.ATTACHMENT)</code> and \n<code>setHeader(CONTENT_TYPE, APPLICATION_PDF)</code>. None of these solutions lead us to success. Does anyone know \na solution or a new solution process to solve that problem?</p>\n"},{"tags":["java","android","android-layout","android-button","material-components-android"],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1591978733,"creation_date":1591974903,"answer_id":62347183,"question_id":62346373,"body_markdown":"You can use the **`getCheckedButtonId()`** method.  \r\nSomething like:\r\n\r\n    MaterialButtonToggleGroup materialButtonToggleGroup = \r\n             findViewById(R.id.toggleButton);\r\n    int buttonId = materialButtonToggleGroup.getCheckedButtonId();\r\n    MaterialButton button = materialButtonToggleGroup.findViewById(buttonId);\r\n\r\n---------\r\nOnly if you need a listener you can use the `addOnButtonCheckedListener`:\r\n  \r\n    materialButtonToggleGroup.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\r\n          @Override\r\n          public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\r\n            if (isChecked) {\r\n              if (checkedId == R.id.button1) {\r\n                //..\r\n              }\r\n            }\r\n      }\r\n    });\r\n\r\nYou have to check the `checkedId` value but also the `isChecked` value. The same listener is called when you check a button but also when you unckeck a button.\r\n\r\nIt means that if you click the `button1` the listener is called with `isChecked=true` and `checkedId=1`. Then if you click the `button2` the listener is called twice. Once with `isChecked=false` and `checkedId=1`, once with `isChecked=true` and `checkedId=2`.\r\n","title":"Android Material Button Toggle Group","body":"<p>You can use the <strong><code>getCheckedButtonId()</code></strong> method.<br>\nSomething like:</p>\n\n<pre><code>MaterialButtonToggleGroup materialButtonToggleGroup = \n         findViewById(R.id.toggleButton);\nint buttonId = materialButtonToggleGroup.getCheckedButtonId();\nMaterialButton button = materialButtonToggleGroup.findViewById(buttonId);\n</code></pre>\n\n<hr>\n\n<p>Only if you need a listener you can use the <code>addOnButtonCheckedListener</code>:</p>\n\n<pre><code>materialButtonToggleGroup.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\n      @Override\n      public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\n        if (isChecked) {\n          if (checkedId == R.id.button1) {\n            //..\n          }\n        }\n  }\n});\n</code></pre>\n\n<p>You have to check the <code>checkedId</code> value but also the <code>isChecked</code> value. The same listener is called when you check a button but also when you unckeck a button.</p>\n\n<p>It means that if you click the <code>button1</code> the listener is called with <code>isChecked=true</code> and <code>checkedId=1</code>. Then if you click the <code>button2</code> the listener is called twice. Once with <code>isChecked=false</code> and <code>checkedId=1</code>, once with <code>isChecked=true</code> and <code>checkedId=2</code>.</p>\n"},{"tags":[],"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591974957,"creation_date":1591974957,"answer_id":62347202,"question_id":62346373,"body_markdown":"You can do it like this : \r\n\r\n  \r\n\r\n    toggleButton.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\r\n                @Override\r\n                public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\r\n                    if(group.getCheckedButtonId()==R.id.button1)\r\n                    {\r\n                        //Place code related to button1 here\r\n                        Toast.makeText(MainActivity2.this, &quot;Button1 Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    }else if(group.getCheckedButtonId()==R.id.button2) {\r\n                        //Place code related to button 2 here\r\n                        Toast.makeText(MainActivity2.this, &quot;Button2 Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                }\r\n            });","title":"Android Material Button Toggle Group","body":"<p>You can do it like this : </p>\n\n<pre><code>toggleButton.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\n            @Override\n            public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\n                if(group.getCheckedButtonId()==R.id.button1)\n                {\n                    //Place code related to button1 here\n                    Toast.makeText(MainActivity2.this, \"Button1 Clicked\", Toast.LENGTH_SHORT).show();\n\n                }else if(group.getCheckedButtonId()==R.id.button2) {\n                    //Place code related to button 2 here\n                    Toast.makeText(MainActivity2.this, \"Button2 Clicked\", Toast.LENGTH_SHORT).show();\n                }\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23118833,"reputation":59,"user_id":17225652,"display_name":"BitOfaLegend"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677644966,"creation_date":1677644566,"answer_id":75599558,"question_id":62346373,"body_markdown":"Concise Kotlin version of Gabriele&#39;s answer in case anyone is looking for one:\r\n\r\n```\r\nfindViewById&lt;MaterialButtonToggleGroup&gt;(R.id.toggle_group).apply {\r\n    addOnButtonCheckedListener { group, checkedId, isChecked -&gt;\r\n        if (!isChecked) return@addOnButtonCheckedListener\r\n        when(checkedId){\r\n            R.id.button1 -&gt; //..\r\n            R.id.button2 -&gt; //..\r\n        }\r\n    }\r\n}\r\n```","title":"Android Material Button Toggle Group","body":"<p>Concise Kotlin version of Gabriele's answer in case anyone is looking for one:</p>\n<pre><code>findViewById&lt;MaterialButtonToggleGroup&gt;(R.id.toggle_group).apply {\n    addOnButtonCheckedListener { group, checkedId, isChecked -&gt;\n        if (!isChecked) return@addOnButtonCheckedListener\n        when(checkedId){\n            R.id.button1 -&gt; //..\n            R.id.button2 -&gt; //..\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18468275,"reputation":303,"user_id":13453862,"display_name":"Asuwathaman R C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11165,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":62347183,"answer_count":3,"score":6,"last_activity_date":1677644966,"creation_date":1591972083,"question_id":62346373,"body_markdown":"I&#39;m creating a form in android which asks for gender. To get this input I use Material Button Toggle Group which contains two buttons. I don&#39;t know how to know which button is clicked in my activity.java. How to get to know about the selected button in my activity so that i can save the details in different database.\r\n\r\n**myxml.xml**\r\n\r\n        &lt;com.google.android.material.button.MaterialButtonToggleGroup\r\n                    android:id=&quot;@+id/toggleButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:singleSelection=&quot;true&quot;&gt;\r\n                    &lt;Button\r\n                        android:id=&quot;@+id/button1&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Male&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        style=&quot;?attr/materialButtonOutlinedStyle&quot;/&gt;\r\n                    &lt;Button\r\n                        android:id=&quot;@+id/button2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Female&quot;\r\n                        android:layout_marginStart=&quot;10dp&quot;\r\n                        style=&quot;?attr/materialButtonOutlinedStyle&quot;/&gt;\r\n\r\n                &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\r\n\r\n**Myactivity.java**\r\n\r\n        MaterialButtonToggleGroup toggleButton = findViewById(R.id.toggleButton);\r\n        toggleButton.addOnButtonCheckedListener(); \r\n        // I CAN&#39;T FIND ANY PROPER SOLUTION\r\n","title":"Android Material Button Toggle Group","body":"<p>I'm creating a form in android which asks for gender. To get this input I use Material Button Toggle Group which contains two buttons. I don't know how to know which button is clicked in my activity.java. How to get to know about the selected button in my activity so that i can save the details in different database.</p>\n\n<p><strong>myxml.xml</strong></p>\n\n<pre><code>    &lt;com.google.android.material.button.MaterialButtonToggleGroup\n                android:id=\"@+id/toggleButton\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                app:singleSelection=\"true\"&gt;\n                &lt;Button\n                    android:id=\"@+id/button1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Male\"\n                    android:layout_marginStart=\"5dp\"\n                    style=\"?attr/materialButtonOutlinedStyle\"/&gt;\n                &lt;Button\n                    android:id=\"@+id/button2\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Female\"\n                    android:layout_marginStart=\"10dp\"\n                    style=\"?attr/materialButtonOutlinedStyle\"/&gt;\n\n            &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\n</code></pre>\n\n<p><strong>Myactivity.java</strong></p>\n\n<pre><code>    MaterialButtonToggleGroup toggleButton = findViewById(R.id.toggleButton);\n    toggleButton.addOnButtonCheckedListener(); \n    // I CAN'T FIND ANY PROPER SOLUTION\n</code></pre>\n"},{"tags":["java","android","pdf","pdfrenderer"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1435918903,"post_id":31202995,"comment_id":50411031,"body_markdown":"***without** using any 3rd party libs* means that you will have to re-invent parts of them. If your input documents are arbItrary, that is not trivial.","body":"<b><i>without</b> using any 3rd party libs</i> means that you will have to re-invent parts of them. If your input documents are arbItrary, that is not trivial."},{"owner":{"account_id":114786,"reputation":2547,"user_id":301708,"accept_rate":71,"display_name":"userv"},"score":0,"creation_date":1435923070,"post_id":31202995,"comment_id":50413459,"body_markdown":"Where or how should i start ? If it asks for a lot i will reconsider using 3rd party libs.","body":"Where or how should i start ? If it asks for a lot i will reconsider using 3rd party libs."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1435923837,"post_id":31202995,"comment_id":50413916,"body_markdown":"*Where or how should i start* - read the [PDF specification](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf), especially the sections 7.5 &quot;File Structure&quot; and 7.6 &quot;Encryption&quot;. Then write code to read the file trailer dictionary (which *may* be absorbed by a cross reference stream dictionary) and inspect its **Encrypt** entry.","body":"<i>Where or how should i start</i> - read the <a href=\"http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf\" rel=\"nofollow noreferrer\">PDF specification</a>, especially the sections 7.5 &quot;File Structure&quot; and 7.6 &quot;Encryption&quot;. Then write code to read the file trailer dictionary (which <i>may</i> be absorbed by a cross reference stream dictionary) and inspect its <b>Encrypt</b> entry."}],"answers":[{"tags":[],"owner":{"account_id":9806019,"reputation":85,"user_id":7265720,"display_name":"Dishant Patel"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677644654,"creation_date":1677644257,"answer_id":75599524,"question_id":31202995,"body_markdown":"In Android SDK there is android.graphics.pdf package to work with pdf document but there is no suitable method to check pdf password is vaild or not.\r\n\r\nSo I am recommend to use [PdfBox-Android][1] library to check pdf password is vaild or not without opening pdf document.\r\n\r\nHere is the example code for that.\r\n\r\n    public boolean isPdfPasswordValid(String filePath, String password) {\r\n        try {\r\n            File file = new File(filePath);\r\n            PDDocument document = PDDocument.load(file,password);\r\n             if (document.isEncrypted()) {\r\n                 document.setAllSecurityToBeRemoved(true);\r\n                 document.getPage(0);\r\n                 document.close();\r\n                 return true;\r\n             } else {\r\n                 document.close();\r\n                 return false;\r\n             }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\n&gt; Add this gradle dependancy in module level build.gradle file in android project\r\n\r\n    implementation &#39;com.tom-roush:pdfbox-android:2.0.27.0&#39;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/TomRoush/PdfBox-Android","title":"How to check if any PDF is password protected in Android without using 3rd party solutions","body":"<p>In Android SDK there is android.graphics.pdf package to work with pdf document but there is no suitable method to check pdf password is vaild or not.</p>\n<p>So I am recommend to use <a href=\"https://github.com/TomRoush/PdfBox-Android\" rel=\"nofollow noreferrer\">PdfBox-Android</a> library to check pdf password is vaild or not without opening pdf document.</p>\n<p>Here is the example code for that.</p>\n<pre><code>public boolean isPdfPasswordValid(String filePath, String password) {\n    try {\n        File file = new File(filePath);\n        PDDocument document = PDDocument.load(file,password);\n         if (document.isEncrypted()) {\n             document.setAllSecurityToBeRemoved(true);\n             document.getPage(0);\n             document.close();\n             return true;\n         } else {\n             document.close();\n             return false;\n         }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Add this gradle dependancy in module level build.gradle file in android project</p>\n</blockquote>\n<pre><code>implementation 'com.tom-roush:pdfbox-android:2.0.27.0'\n</code></pre>\n"}],"owner":{"account_id":114786,"reputation":2547,"user_id":301708,"accept_rate":71,"display_name":"userv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677644654,"creation_date":1435914889,"question_id":31202995,"body_markdown":"I am trying to import a pdf in my application using PdfRenderer - Android&#39;s in-built solution.\r\n\r\nWith this i am facing problem mentioned on this link.\r\n\r\n[google issue][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=178566\r\n\r\nMy requirement is to check if any password is password protected or not **without** using any 3rd party libs or jar.\r\n\r\nHow can this be done ?\r\n\r\nNote : Similar reported issues discuss solution using 3rd party libs only but this is not i want.\r\n\r\nI am already able to accomplish most of my job using PdfRenderer class.\r\nAnd just to check if any pdf is password protected, i do not want to use any library.\r\n\r\n","title":"How to check if any PDF is password protected in Android without using 3rd party solutions","body":"<p>I am trying to import a pdf in my application using PdfRenderer - Android's in-built solution.</p>\n\n<p>With this i am facing problem mentioned on this link.</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=178566\" rel=\"nofollow\">google issue</a></p>\n\n<p>My requirement is to check if any password is password protected or not <strong>without</strong> using any 3rd party libs or jar.</p>\n\n<p>How can this be done ?</p>\n\n<p>Note : Similar reported issues discuss solution using 3rd party libs only but this is not i want.</p>\n\n<p>I am already able to accomplish most of my job using PdfRenderer class.\nAnd just to check if any pdf is password protected, i do not want to use any library.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677642369,"post_id":75599372,"comment_id":133376816,"body_markdown":"Show the part of your code that you expect to have a `WorkClass` instance injected.","body":"Show the part of your code that you expect to have a <code>WorkClass</code> instance injected."},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643466,"post_id":75599372,"comment_id":133376946,"body_markdown":"@tgdavies WorkClass is empty","body":"@tgdavies WorkClass is empty"},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643906,"post_id":75599372,"comment_id":133376986,"body_markdown":"I updated the problem description, please check it out.","body":"I updated the problem description, please check it out."},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643984,"post_id":75599372,"comment_id":133376998,"body_markdown":"@Bean function cannot be intercepted in DEBUG mode","body":"@Bean function cannot be intercepted in DEBUG mode"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677646311,"post_id":75599372,"comment_id":133377269,"body_markdown":"Spring should definitely create WorkClass eagerly. Is Example created?","body":"Spring should definitely create WorkClass eagerly. Is Example created?"},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677651254,"post_id":75599372,"comment_id":133377879,"body_markdown":"Thanks for the reply, my problem is because the same type of Bean is defined elsewhere, and the name is also called &quot;workClass&quot;, which leads to overwriting. i&#39;m so stupid","body":"Thanks for the reply, my problem is because the same type of Bean is defined elsewhere, and the name is also called &quot;workClass&quot;, which leads to overwriting. i&#39;m so stupid"}],"answers":[{"comments":[{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677651247,"post_id":75599525,"comment_id":133377877,"body_markdown":"Thanks for the reply, my problem is because the same type of Bean is defined elsewhere, and the name is also called &quot;workClass&quot;, which leads to overwriting. i&#39;m so stupid","body":"Thanks for the reply, my problem is because the same type of Bean is defined elsewhere, and the name is also called &quot;workClass&quot;, which leads to overwriting. i&#39;m so stupid"}],"tags":[],"owner":{"account_id":9734936,"reputation":296,"user_id":7218496,"accept_rate":40,"display_name":"Bibek Khadka"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677644265,"creation_date":1677644265,"answer_id":75599525,"question_id":75599372,"body_markdown":"        @Configuration\r\n        @Component(&quot;example&quot;)\r\n        public class Example {\r\n        \r\n            private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\r\n                @Override\r\n                public void accept(String s) {\r\n                    System.out.println(s);\r\n                }\r\n            };\r\n        \r\n            @Bean\r\n            public WorkClass workClass(Example example){\r\n                // The code inside this is not executed\r\n                example.exampleHandler.accept(&quot;Hello&quot;);\r\n                return new WorkClass();\r\n            }\r\n        }\r\nadding the **@Configuration** should do the trick if your project is setup properly.","title":"The code in the @Bean marked function in Spring Boot is not executed","body":"<pre><code>    @Configuration\n    @Component(&quot;example&quot;)\n    public class Example {\n    \n        private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\n            @Override\n            public void accept(String s) {\n                System.out.println(s);\n            }\n        };\n    \n        @Bean\n        public WorkClass workClass(Example example){\n            // The code inside this is not executed\n            example.exampleHandler.accept(&quot;Hello&quot;);\n            return new WorkClass();\n        }\n    }\n</code></pre>\n<p>adding the <strong>@Configuration</strong> should do the trick if your project is setup properly.</p>\n"}],"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677644265,"creation_date":1677642044,"question_id":75599372,"body_markdown":"```\r\n@Component(&quot;example&quot;)\r\npublic class Example {\r\n\r\n    private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\r\n        @Override\r\n        public void accept(String s) {\r\n            System.out.println(s);\r\n        }\r\n    };\r\n\r\n    @Bean\r\n    public WorkClass workClass(Example example){\r\n        // The code inside this is not executed\r\n        example.exampleHandler.accept(&quot;Hello&quot;);\r\n        return new WorkClass();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI don&#39;t have any ideas to solve this problem.\r\n\r\nAs expected, an instance of Example should be created first, and then the workClass function should be executed\r\n\r\n----------------update---------------------------------\r\n\r\n\r\nThe specific code in the workClass function is as follows, which is the code in my real project.\r\n\r\n```\r\n   @Bean\r\n    public DefaultMQPushConsumer canalSyncConsumer(CanalSyncConsumerConfig canalSyncConsumerConfig) throws MQClientException {\r\n        RPCHook rpcHook = new AclClientRPCHook(new SessionCredentials(mqProperties.getAccessKey(), mqProperties.getSecretKey()));\r\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(null, &quot;GID_MEMBER_CENTER_CANAL_SYNC_GROUP&quot;, rpcHook);\r\n        consumer.setNamesrvAddr(mqProperties.getNamesAddr());\r\n        final String subE = StringUtils.join(MONITOR_TABLE_NAMES, &quot;||&quot;);\r\n        consumer.subscribe(&quot;mq_data_mid_platform_sync&quot;, subE);\r\n        consumer.registerMessageListener(canalSyncConsumerConfig.consumerHandler);\r\n        consumer.start();\r\n        return consumer;\r\n    }\r\n```","title":"The code in the @Bean marked function in Spring Boot is not executed","body":"<pre><code>@Component(&quot;example&quot;)\npublic class Example {\n\n    private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\n        @Override\n        public void accept(String s) {\n            System.out.println(s);\n        }\n    };\n\n    @Bean\n    public WorkClass workClass(Example example){\n        // The code inside this is not executed\n        example.exampleHandler.accept(&quot;Hello&quot;);\n        return new WorkClass();\n    }\n}\n</code></pre>\n<p>I don't have any ideas to solve this problem.</p>\n<p>As expected, an instance of Example should be created first, and then the workClass function should be executed</p>\n<p>----------------update---------------------------------</p>\n<p>The specific code in the workClass function is as follows, which is the code in my real project.</p>\n<pre><code>   @Bean\n    public DefaultMQPushConsumer canalSyncConsumer(CanalSyncConsumerConfig canalSyncConsumerConfig) throws MQClientException {\n        RPCHook rpcHook = new AclClientRPCHook(new SessionCredentials(mqProperties.getAccessKey(), mqProperties.getSecretKey()));\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(null, &quot;GID_MEMBER_CENTER_CANAL_SYNC_GROUP&quot;, rpcHook);\n        consumer.setNamesrvAddr(mqProperties.getNamesAddr());\n        final String subE = StringUtils.join(MONITOR_TABLE_NAMES, &quot;||&quot;);\n        consumer.subscribe(&quot;mq_data_mid_platform_sync&quot;, subE);\n        consumer.registerMessageListener(canalSyncConsumerConfig.consumerHandler);\n        consumer.start();\n        return consumer;\n    }\n</code></pre>\n"},{"tags":["java","spring","jwt"],"owner":{"account_id":26366719,"reputation":37,"user_id":20022057,"display_name":"Pablo Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677643757,"creation_date":1677642582,"question_id":75599417,"body_markdown":"I&#39;ve read a few posts but i still can&#39;t understand what is going on here. Since this is my first Spring + JWT, i believe its a normal thing to happen.\r\n\r\nI&#39;m building a Cafe Management System using Spring Boot + Angular + MySql DB. So far so good, it was all working. Managed to implement JWT Security and get unauthorized access to pages i haven&#39;t explicitly allowed.\r\n\r\nHowever, after finishing implementing JWT now i&#39;m trying to login, and i&#39;m always receiving a Bad Credentials error.\r\n\r\nAfter digging a little bit and debugging, it looks like the error is in UserServiceImpl.Java ; whenever i reach this line:\r\nAu\r\n\r\nAm i in the right path to understand why the logging isn&#39;t working? I feel like its something simple, but i can&#39;t figure out what is going on.\r\n\r\n \r\n\r\n    Authentication auth = authenticationManager.authenticate(\r\n                        new UsernamePasswordAuthenticationToken(requestMap.get(&quot;email&quot;),requestMap.get(&quot;password&quot;))\r\n                );\r\n\r\nNothing happens. Based on what i&#39;ve analyzed from debugging, it instantiates the object but doesn&#39;t authenticate.\r\n\r\nAny input or comment is appreciated. I had some difficulties when building the JWT Authentication because WebSecurityConfigureAdapter is deprecated, and the tutorial was using it. But after reading a few sites i managed to sucessfully implement it using SecurityFilterChain.\r\n\r\nThanks!\r\n\r\n\r\nJwtFilter.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import jakarta.servlet.FilterChain;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    public class JwtFilter extends OncePerRequestFilter {\r\n        @Autowired\r\n        private JwtUtil jwtUtil;\r\n        @Autowired\r\n        private CustomerUserDetailsService service;\r\n        Claims claims = null;\r\n    \r\n        private String userName = null;\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\r\n                                        FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            if(httpServletRequest.getServletPath().matches(&quot;/user/login|/user/forgotPassword|/user/signup&quot;)){\r\n                filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n            }\r\n            else\r\n            {\r\n                String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\r\n                String token = null;\r\n    \r\n                if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)){\r\n                    token = authorizationHeader.substring(7);\r\n                    userName = jwtUtil.extractUserName(token);\r\n                    claims = jwtUtil.extractAllClaims(token);\r\n                }\r\n                if(userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n                    UserDetails userDetails = service.loadUserByUsername(userName);\r\n                    if(jwtUtil.validateToken(token, userDetails)){\r\n                        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                                new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\r\n                        usernamePasswordAuthenticationToken.setDetails(\r\n                                new WebAuthenticationDetailsSource().buildDetails(httpServletRequest)\r\n                        );\r\n                        SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                    }\r\n                }\r\n                filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n            }\r\n    \r\n        }\r\n        public boolean isAdmin(){\r\n            return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\r\n        }\r\n        public boolean isUser(){\r\n            return &quot;user&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\r\n        }\r\n        public String getCurrentUser(){\r\n            return userName;\r\n        }\r\n    }\r\n\r\nJwtUtil.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    \r\n    @Service\r\n    public class JwtUtil {\r\n        private String secret = &quot;!@FirstSecretKey!@&quot;;\r\n    \r\n        public String extractUserName(String token){\r\n            return extractClaims(token, Claims::getSubject);\r\n        }\r\n        public Date extractExpiration(String token){\r\n            return extractClaims(token, Claims::getExpiration);\r\n        }\r\n        public &lt;T&gt; T extractClaims(String token, Function&lt;Claims, T&gt; claimsResolver){\r\n            final Claims claims = extractAllClaims(token);\r\n            return claimsResolver.apply(claims);\r\n        }\r\n    \r\n        public Claims extractAllClaims(String token){\r\n            return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\r\n        }\r\n    \r\n        private Boolean isTokenExpired(String token){\r\n            return extractExpiration(token).before(new Date());\r\n        }\r\n        public Boolean validateToken(String token, UserDetails userDetails){\r\n            final String username = extractUserName(token);\r\n            return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n        }\r\n    \r\n        private String createToken(Map&lt;String, Object&gt; claims, String subject){\r\n            return Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setSubject(subject)\r\n                    .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                    .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\r\n                    .signWith(SignatureAlgorithm.HS256,secret).compact();\r\n        }\r\n        public String generateToken(String username, String role){\r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            claims.put(&quot;role&quot;, role);\r\n            return createToken(claims,username);\r\n        }\r\n    }\r\n\r\nSecurityConfig.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    \r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    \r\n    \r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(\r\n            // securedEnabled = true,\r\n            // jsr250Enabled = true,\r\n            prePostEnabled = true)\r\n    public class SecurityConfig    {\r\n        @Autowired\r\n        CustomerUserDetailsService customerUserDetailsService;\r\n        @Autowired\r\n        JwtFilter jwtFilter;\r\n        @Autowired\r\n        private AuthEntryPointJwt unauthorizedHandler;\r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer(){\r\n            return (web) -&gt; web.ignoring().requestMatchers(&quot;/users/login&quot;, &quot;/users/signup&quot;,&quot;/users/forgotPassword&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n        @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider(){\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n            authProvider.setUserDetailsService(customerUserDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder());\r\n            return authProvider;\r\n        }\r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors()\r\n                    .and()\r\n                    .csrf()\r\n                    .disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(unauthorizedHandler)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeRequests()\r\n                    .requestMatchers(&quot;/user/login&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(&quot;/user/signup&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(&quot;/user/forgotPassword&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n    \r\n    \r\n    \r\n          http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n          http.authenticationProvider(authenticationProvider());\r\n    \r\n    \r\n            return http.build();\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nCustomerUserDetailsService.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import com.inn.cafe.dao.UserDao;\r\n    import com.inn.cafe.model.User;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Objects;\r\n    @Service\r\n    @Slf4j\r\n    \r\n    public class CustomerUserDetailsService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        UserDao userDao;\r\n    \r\n        private User userDetail; //com.inn.cafe.model.User\r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            log.info(&quot;Inside loadUserByUserName {}&quot;, username);\r\n            userDetail = userDao.findByEmailId(username);\r\n            if(!Objects.isNull(userDetail)){\r\n                return new org.springframework.security.core.userdetails.User(userDetail.getEmail(),\r\n                        userDetail.getPassword(), new ArrayList&lt;&gt;());\r\n            }\r\n            else\r\n                throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n    \r\n        public User getUserDetail() {\r\n            return userDetail;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAuthEntryPointJwt.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    \r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    @Component\r\n    public class AuthEntryPointJwt implements AuthenticationEntryPoint {\r\n        private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n                throws IOException, ServletException {\r\n            logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n    \r\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n    \r\n            final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n            body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\r\n            body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n            body.put(&quot;message&quot;, authException.getMessage());\r\n            body.put(&quot;path&quot;, request.getServletPath());\r\n    \r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            mapper.writeValue(response.getOutputStream(), body);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Bad Credentials using Spring + JWT","body":"<p>I've read a few posts but i still can't understand what is going on here. Since this is my first Spring + JWT, i believe its a normal thing to happen.</p>\n<p>I'm building a Cafe Management System using Spring Boot + Angular + MySql DB. So far so good, it was all working. Managed to implement JWT Security and get unauthorized access to pages i haven't explicitly allowed.</p>\n<p>However, after finishing implementing JWT now i'm trying to login, and i'm always receiving a Bad Credentials error.</p>\n<p>After digging a little bit and debugging, it looks like the error is in UserServiceImpl.Java ; whenever i reach this line:\nAu</p>\n<p>Am i in the right path to understand why the logging isn't working? I feel like its something simple, but i can't figure out what is going on.</p>\n<pre><code>Authentication auth = authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(requestMap.get(&quot;email&quot;),requestMap.get(&quot;password&quot;))\n            );\n</code></pre>\n<p>Nothing happens. Based on what i've analyzed from debugging, it instantiates the object but doesn't authenticate.</p>\n<p>Any input or comment is appreciated. I had some difficulties when building the JWT Authentication because WebSecurityConfigureAdapter is deprecated, and the tutorial was using it. But after reading a few sites i managed to sucessfully implement it using SecurityFilterChain.</p>\n<p>Thanks!</p>\n<p>JwtFilter.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport io.jsonwebtoken.Claims;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n\n@Component\npublic class JwtFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtil jwtUtil;\n    @Autowired\n    private CustomerUserDetailsService service;\n    Claims claims = null;\n\n    private String userName = null;\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        if(httpServletRequest.getServletPath().matches(&quot;/user/login|/user/forgotPassword|/user/signup&quot;)){\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\n        }\n        else\n        {\n            String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\n            String token = null;\n\n            if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)){\n                token = authorizationHeader.substring(7);\n                userName = jwtUtil.extractUserName(token);\n                claims = jwtUtil.extractAllClaims(token);\n            }\n            if(userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n                UserDetails userDetails = service.loadUserByUsername(userName);\n                if(jwtUtil.validateToken(token, userDetails)){\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                            new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\n                    usernamePasswordAuthenticationToken.setDetails(\n                            new WebAuthenticationDetailsSource().buildDetails(httpServletRequest)\n                    );\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n                }\n            }\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\n        }\n\n    }\n    public boolean isAdmin(){\n        return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\n    }\n    public boolean isUser(){\n        return &quot;user&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\n    }\n    public String getCurrentUser(){\n        return userName;\n    }\n}\n</code></pre>\n<p>JwtUtil.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\n@Service\npublic class JwtUtil {\n    private String secret = &quot;!@FirstSecretKey!@&quot;;\n\n    public String extractUserName(String token){\n        return extractClaims(token, Claims::getSubject);\n    }\n    public Date extractExpiration(String token){\n        return extractClaims(token, Claims::getExpiration);\n    }\n    public &lt;T&gt; T extractClaims(String token, Function&lt;Claims, T&gt; claimsResolver){\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public Claims extractAllClaims(String token){\n        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\n    }\n\n    private Boolean isTokenExpired(String token){\n        return extractExpiration(token).before(new Date());\n    }\n    public Boolean validateToken(String token, UserDetails userDetails){\n        final String username = extractUserName(token);\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n    }\n\n    private String createToken(Map&lt;String, Object&gt; claims, String subject){\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(subject)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\n                .signWith(SignatureAlgorithm.HS256,secret).compact();\n    }\n    public String generateToken(String username, String role){\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;role&quot;, role);\n        return createToken(claims,username);\n    }\n}\n</code></pre>\n<p>SecurityConfig.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\n\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n\n@Configuration\n@EnableGlobalMethodSecurity(\n        // securedEnabled = true,\n        // jsr250Enabled = true,\n        prePostEnabled = true)\npublic class SecurityConfig    {\n    @Autowired\n    CustomerUserDetailsService customerUserDetailsService;\n    @Autowired\n    JwtFilter jwtFilter;\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer(){\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/users/login&quot;, &quot;/users/signup&quot;,&quot;/users/forgotPassword&quot;);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(customerUserDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(unauthorizedHandler)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests()\n                .requestMatchers(&quot;/user/login&quot;)\n                .permitAll()\n                .requestMatchers(&quot;/user/signup&quot;)\n                .permitAll()\n                .requestMatchers(&quot;/user/forgotPassword&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n\n\n\n      http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n\n      http.authenticationProvider(authenticationProvider());\n\n\n        return http.build();\n    }\n\n\n\n}\n</code></pre>\n<p>CustomerUserDetailsService.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport com.inn.cafe.dao.UserDao;\nimport com.inn.cafe.model.User;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Objects;\n@Service\n@Slf4j\n\npublic class CustomerUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    UserDao userDao;\n\n    private User userDetail; //com.inn.cafe.model.User\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        log.info(&quot;Inside loadUserByUserName {}&quot;, username);\n        userDetail = userDao.findByEmailId(username);\n        if(!Objects.isNull(userDetail)){\n            return new org.springframework.security.core.userdetails.User(userDetail.getEmail(),\n                    userDetail.getPassword(), new ArrayList&lt;&gt;());\n        }\n        else\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n    }\n\n    public User getUserDetail() {\n        return userDetail;\n    }\n\n\n}\n</code></pre>\n<p>AuthEntryPointJwt.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.stereotype.Component;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n    private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n            throws IOException, ServletException {\n        logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n        final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n        body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n        body.put(&quot;message&quot;, authException.getMessage());\n        body.put(&quot;path&quot;, request.getServletPath());\n\n        final ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(response.getOutputStream(), body);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","postman","spring-restcontroller","white-labelling"],"comments":[{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"score":0,"creation_date":1677558065,"post_id":75587704,"comment_id":133357153,"body_markdown":"Why do you have two `ccc.java` files in two different packages? Also, try posting your code directly in the question, not in separate pictures.","body":"Why do you have two <code>ccc.java</code> files in two different packages? Also, try posting your code directly in the question, not in separate pictures."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1677558914,"post_id":75587704,"comment_id":133357251,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"score":0,"creation_date":1677565277,"post_id":75587704,"comment_id":133357975,"body_markdown":"Can you go to the folder directly inside the file explorer and check if the structure of the project is correct. i.e. The main class is at the root and all other sub packages are correctly under the root folder. Sometime while creating package folder are create with the package name itself and are not proper structured.","body":"Can you go to the folder directly inside the file explorer and check if the structure of the project is correct. i.e. The main class is at the root and all other sub packages are correctly under the root folder. Sometime while creating package folder are create with the package name itself and are not proper structured."},{"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"score":0,"creation_date":1677570385,"post_id":75587704,"comment_id":133358982,"body_markdown":"yes it is structured right infact if i send the project to someone and if they import it it will run fine.","body":"yes it is structured right infact if i send the project to someone and if they import it it will run fine."}],"answers":[{"comments":[{"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"score":0,"creation_date":1677562124,"post_id":75587861,"comment_id":133357615,"body_markdown":"I tried component scan  but still same error","body":"I tried component scan  but still same error"}],"tags":[],"owner":{"account_id":7998068,"reputation":165,"user_id":6033749,"display_name":"Sahan Jayasuriya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677558306,"creation_date":1677558306,"answer_id":75587861,"question_id":75587704,"body_markdown":"Make sure that your Spring Boot application is scanning the correct packages for your controllers. You can specify the base package for component scanning by adding the @ComponentScan annotation to your main class.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;com.gowtham&quot;)\r\n    public class DemoApplication {\r\n        // ...\r\n    }\r\n","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>Make sure that your Spring Boot application is scanning the correct packages for your controllers. You can specify the base package for component scanning by adding the @ComponentScan annotation to your main class.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.gowtham&quot;)\npublic class DemoApplication {\n    // ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8829280,"reputation":16,"user_id":6596363,"display_name":"Soumen Mittra"},"score":0,"creation_date":1677723865,"post_id":75599416,"comment_id":133396149,"body_markdown":"This issue is discussed and resolved here - https://stackoverflow.com/questions/75610220/spring-boot-endpoint-controller-not-found-404","body":"This issue is discussed and resolved here - <a href=\"https://stackoverflow.com/questions/75610220/spring-boot-endpoint-controller-not-found-404\" title=\"spring boot endpoint controller not found 404\">stackoverflow.com/questions/75610220/&hellip;</a>"},{"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"score":0,"creation_date":1677729959,"post_id":75599416,"comment_id":133396902,"body_markdown":"Ok I&#39;ll try that now","body":"Ok I&#39;ll try that now"},{"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"score":0,"creation_date":1677778262,"post_id":75599416,"comment_id":133409214,"body_markdown":"I just changed the version now it&#39;s working thanks man","body":"I just changed the version now it&#39;s working thanks man"},{"owner":{"account_id":8829280,"reputation":16,"user_id":6596363,"display_name":"Soumen Mittra"},"score":0,"creation_date":1677812583,"post_id":75599416,"comment_id":133415702,"body_markdown":"Alternate Solution: This issue happens when the application&#39;s path contains a space. I removed all spaces in my application path and restarted the app, the issue got resolved. I&#39;m running on Windows 10 and I&#39;m not sure if this issue happens on MacOS also.","body":"Alternate Solution: This issue happens when the application&#39;s path contains a space. I removed all spaces in my application path and restarted the app, the issue got resolved. I&#39;m running on Windows 10 and I&#39;m not sure if this issue happens on MacOS also."}],"tags":[],"owner":{"account_id":8829280,"reputation":16,"user_id":6596363,"display_name":"Soumen Mittra"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677642578,"creation_date":1677642578,"answer_id":75599416,"question_id":75587704,"body_markdown":"I&#39;m also facing the same issue as mentioned above. I tried using Spring Boot version 2.7.9 instead of 3.0.3. It worked fine, although not sure what changed in the new version.","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>I'm also facing the same issue as mentioned above. I tried using Spring Boot version 2.7.9 instead of 3.0.3. It worked fine, although not sure what changed in the new version.</p>\n"}],"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75599416,"answer_count":2,"score":1,"last_activity_date":1677642578,"creation_date":1677556180,"question_id":75587704,"body_markdown":"After i write a simple route using rest controller and spring boot the routes always return 404 whether \r\nIf the route is mention in a separate package or in same package.\r\nThe route only works if the route is defined in the main function where @SpringBootApplication is mentioned please help me\r\npackage com.gowtham;\r\n\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;com.gowtham&quot;)\r\n    public class DemoApplication {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \t@RestController\r\n    \tpublic class controller {\r\n    \t\t@GetMapping(&quot;/greet&quot;)\r\n    \t\tpublic String hello() {\r\n    \t\t\treturn &quot;HELLO&quot;;\r\n    \t\t}\r\n    \t}\r\n\r\nThe /greet route works\r\n\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class ccc {\r\n    \t\r\n    \t@GetMapping(&quot;/gg&quot;)\r\n    \tpublic String hello() {\r\n    \t\treturn &quot;HELLO&quot;;\r\n    \t\t}\r\n    \t}\r\nBut this route /gg which is inside .controller package which is under the main package doesn&#39;t work i tried moving the class &quot;ccc&quot; inside the main package and i also tried to scan base packages but no use\r\n\r\nif i import the same program in other computers it is running fine\r\n\r\n**Package Structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s0s44.png","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>After i write a simple route using rest controller and spring boot the routes always return 404 whether\nIf the route is mention in a separate package or in same package.\nThe route only works if the route is defined in the main function where @SpringBootApplication is mentioned please help me\npackage com.gowtham;</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.gowtham&quot;)\npublic class DemoApplication {\n\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @RestController\n    public class controller {\n        @GetMapping(&quot;/greet&quot;)\n        public String hello() {\n            return &quot;HELLO&quot;;\n        }\n    }\n</code></pre>\n<p>The /greet route works</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class ccc {\n    \n    @GetMapping(&quot;/gg&quot;)\n    public String hello() {\n        return &quot;HELLO&quot;;\n        }\n    }\n</code></pre>\n<p>But this route /gg which is inside .controller package which is under the main package doesn't work i tried moving the class &quot;ccc&quot; inside the main package and i also tried to scan base packages but no use</p>\n<p>if i import the same program in other computers it is running fine</p>\n<p><strong>Package Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/s0s44.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s0s44.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677265272,"post_id":75560200,"comment_id":133310360,"body_markdown":"Did you read the webflux documentation on webclient?","body":"Did you read the webflux documentation on webclient?"},{"owner":{"account_id":16038445,"reputation":63,"user_id":11575493,"display_name":"LucyEly"},"score":0,"creation_date":1677266200,"post_id":75560200,"comment_id":133310554,"body_markdown":"yes I did not find what I was looking for but if you have a good link that would be great","body":"yes I did not find what I was looking for but if you have a good link that would be great"}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677642170,"creation_date":1677642170,"answer_id":75599388,"question_id":75560200,"body_markdown":"it is better to have a deep read in offical documentation for slove confuse , they had many best practices .\r\n\r\nfor your question \r\n- How to use webclient do a request and return the result as complete for the exchange repsponse\r\nhere is  code snippet \r\n\r\n```\r\n@Component\r\npublic class MyWebClient {\r\n\r\n    private final WebClient webClient;\r\n\r\n    public MyWebClient(WebClient.Builder webClientBuilder) {\r\n        this.webClient = webClientBuilder.build();\r\n    }\r\n\r\n    public Mono&lt;ServerHttpResponse&gt; getResponse() {\r\n        return webClient.get()\r\n                .uri(&quot;https://example.com&quot;)\r\n                .exchangeToMono(response -&gt; {\r\n                    if (response.statusCode().is2xxSuccessful()) {\r\n                        Flux&lt;DataBuffer&gt; responseBody = response.body(BodyExtractors.toDataBuffers());\r\n                        HttpHeaders headers = new HttpHeaders();\r\n                        headers.addAll(response.headers().asHttpHeaders());\r\n                        ServerHttpResponse serverHttpResponse = new ServerHttpResponseDecorator(new DefaultDataBufferFactory().wrap(responseBody));\r\n                        serverHttpResponse.setStatusCode(response.statusCode());\r\n                        serverHttpResponse.getHeaders().addAll(headers);\r\n                        return Mono.just(serverHttpResponse);\r\n                    } else {\r\n                        return response.createException().flatMap(Mono::error);\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nin above example , The ```exchangeToMono() ``` method is used to convert the ```ClientResponse ``` returned by the WebClient to a Mono that emits a ```ServerHttpResponse```. Inside the lambda expression passed to ```exchangeToMono()```, the response object represents the ClientResponse returned by the WebClient.\r\nyou can use ```ServerWebExchange.getResponse()```  instead of ServerHttpResponse ,   both of theirs theory is same;","title":"How Do You Convert a Flux Webclient Get Response to ServerHttpResonse?","body":"<p>it is better to have a deep read in offical documentation for slove confuse , they had many best practices .</p>\n<p>for your question</p>\n<ul>\n<li>How to use webclient do a request and return the result as complete for the exchange repsponse\nhere is  code snippet</li>\n</ul>\n<pre><code>@Component\npublic class MyWebClient {\n\n    private final WebClient webClient;\n\n    public MyWebClient(WebClient.Builder webClientBuilder) {\n        this.webClient = webClientBuilder.build();\n    }\n\n    public Mono&lt;ServerHttpResponse&gt; getResponse() {\n        return webClient.get()\n                .uri(&quot;https://example.com&quot;)\n                .exchangeToMono(response -&gt; {\n                    if (response.statusCode().is2xxSuccessful()) {\n                        Flux&lt;DataBuffer&gt; responseBody = response.body(BodyExtractors.toDataBuffers());\n                        HttpHeaders headers = new HttpHeaders();\n                        headers.addAll(response.headers().asHttpHeaders());\n                        ServerHttpResponse serverHttpResponse = new ServerHttpResponseDecorator(new DefaultDataBufferFactory().wrap(responseBody));\n                        serverHttpResponse.setStatusCode(response.statusCode());\n                        serverHttpResponse.getHeaders().addAll(headers);\n                        return Mono.just(serverHttpResponse);\n                    } else {\n                        return response.createException().flatMap(Mono::error);\n                    }\n                });\n    }\n}\n</code></pre>\n<p>in above example , The <code>exchangeToMono() </code> method is used to convert the <code>ClientResponse </code> returned by the WebClient to a Mono that emits a <code>ServerHttpResponse</code>. Inside the lambda expression passed to <code>exchangeToMono()</code>, the response object represents the ClientResponse returned by the WebClient.\nyou can use <code>ServerWebExchange.getResponse()</code>  instead of ServerHttpResponse ,   both of theirs theory is same;</p>\n"}],"owner":{"account_id":16038445,"reputation":63,"user_id":11575493,"display_name":"LucyEly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677642170,"creation_date":1677263698,"question_id":75560200,"body_markdown":"in my Spring Cloud Gateway filter, if a certain actions happens in the request flow, we would like to make a HTTP request to another service and return the result as the response. How do I use a Flux Webclient to make a request to a URL and then update the exchange response so when returning it as complete the request result is returned as well?\r\n\r\nhere is an example of what we are trying to do\r\n\r\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final GatewayFilterChain chain) {\r\n       if (exchange.getHeaders().containsKey(&quot;Test&quot;)) {\r\n          ServerHttpResponse response = exchange.getResponse();\r\n          String url = &quot;http://localhost:8080/test&quot;;\r\n          \r\n          Webclient.create(url).get() // I need to do something more so I can write to the response object\r\n          return response.setComplete();\r\n      }\r\n      return chain.filter(exchange);\r\n    }\r\n\r\n\r\nThanks for any help in advance.","title":"How Do You Convert a Flux Webclient Get Response to ServerHttpResonse?","body":"<p>in my Spring Cloud Gateway filter, if a certain actions happens in the request flow, we would like to make a HTTP request to another service and return the result as the response. How do I use a Flux Webclient to make a request to a URL and then update the exchange response so when returning it as complete the request result is returned as well?</p>\n<p>here is an example of what we are trying to do</p>\n<pre><code>public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final GatewayFilterChain chain) {\n   if (exchange.getHeaders().containsKey(&quot;Test&quot;)) {\n      ServerHttpResponse response = exchange.getResponse();\n      String url = &quot;http://localhost:8080/test&quot;;\n      \n      Webclient.create(url).get() // I need to do something more so I can write to the response object\n      return response.setComplete();\n  }\n  return chain.filter(exchange);\n}\n</code></pre>\n<p>Thanks for any help in advance.</p>\n"},{"tags":["java","maven","module"],"comments":[{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1677593833,"post_id":75592144,"comment_id":133365863,"body_markdown":"How would you use `ServiceA` and `ServiceB` conditionally in code?","body":"How would you use <code>ServiceA</code> and <code>ServiceB</code> conditionally in code?"},{"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green"},"score":0,"creation_date":1677633500,"post_id":75592144,"comment_id":133375750,"body_markdown":"My idea is that both provide a bean that implements a certain interface. This bean will be used in `HttpService`.","body":"My idea is that both provide a bean that implements a certain interface. This bean will be used in <code>HttpService</code>."}],"answers":[{"comments":[{"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green"},"score":0,"creation_date":1677633536,"post_id":75593417,"comment_id":133375755,"body_markdown":"Can I also define the `&lt;profiles&gt;` within the `&lt;dependencies&gt;` section or can I define multiple `&lt;dependencies&gt;` sections?","body":"Can I also define the <code>&lt;profiles&gt;</code> within the <code>&lt;dependencies&gt;</code> section or can I define multiple <code>&lt;dependencies&gt;</code> sections?"},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1677647884,"post_id":75593417,"comment_id":133377438,"body_markdown":"I am afraid you can&#39;t. It violates POM&#39;s structure.","body":"I am afraid you can&#39;t. It violates POM&#39;s structure."}],"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677594661,"creation_date":1677594661,"answer_id":75593417,"question_id":75592144,"body_markdown":"I guess your `pom.xml` of submodule `HttpService` now specifies dependencies of both `ServiceA` and `ServiceB`. Instead, you should also provide profiles settings here:\r\n\r\n```xml\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    ...\r\n                    &lt;artifactId&gt;servicea&lt;/artifactId&gt;\r\n                    ...\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;b&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    ...\r\n                    &lt;artifactId&gt;serviceb&lt;/artifactId&gt;\r\n                    ...\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```","title":"Multi-module Maven project that builds a subset of modules","body":"<p>I guess your <code>pom.xml</code> of submodule <code>HttpService</code> now specifies dependencies of both <code>ServiceA</code> and <code>ServiceB</code>. Instead, you should also provide profiles settings here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    ...\n                    &lt;artifactId&gt;servicea&lt;/artifactId&gt;\n                    ...\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;b&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    ...\n                    &lt;artifactId&gt;serviceb&lt;/artifactId&gt;\n                    ...\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n"}],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677639860,"creation_date":1677587712,"question_id":75592144,"body_markdown":"Consider a Maven project with the following modules:\r\n\r\n- Common (defines common interfaces and utilities)\r\n- ServiceA (depends on Common)\r\n- ServiceB (depends on Common) \r\n- HttpService (depends on Common and either ServiceA or ServiceB)\r\n\r\nThe modules `ServiceA` and `ServiceB` are mutually exclusive. They both provide the same bean to `HttpService`, but their internals are vastly different. When I build and deploy the application, I want  to only build either one of `ServiceA` or `ServiceB`, depending on an environment variable or build argument.\r\n\r\nIn my research, I found the `-pl` option of Maven and Maven profiles. `-pl` allows me to explicitly in-/exclude modules from the build. However, I&#39;d prefer something like profiles instead, where I define the options in the root `pom.xml` and only have to provide the corresponding profile name.\r\n\r\nWhen I include\r\n\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceA&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nand build with `-P a`, then `ServiceB` still gets built.\r\n\r\nHow should this architecture be defined, so I get only the required modules?\r\n\r\n**EDIT**: My root POM is the following:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;Common&lt;/module&gt;\r\n        &lt;module&gt;HttpService&lt;/module&gt;\r\n        &lt;module&gt;ServiceA&lt;/module&gt;\r\n        &lt;module&gt;ServiceB&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceA&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;b&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceB&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I run `mvn clean package -P a`, all modules still get built:\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] untitled                                                           [pom]\r\n[INFO] Common                                                             [jar]\r\n[INFO] HttpService                                                        [jar]\r\n[INFO] ServiceA                                                           [jar]\r\n[INFO] ServiceB                                                           [jar]\r\n[INFO] \r\n```\r\n\r\nThere is no explicit dependency of `HttpService` to `ServiceA` or `ServiceB`, only to `Common` in its `pom.xml`.","title":"Multi-module Maven project that builds a subset of modules","body":"<p>Consider a Maven project with the following modules:</p>\n<ul>\n<li>Common (defines common interfaces and utilities)</li>\n<li>ServiceA (depends on Common)</li>\n<li>ServiceB (depends on Common)</li>\n<li>HttpService (depends on Common and either ServiceA or ServiceB)</li>\n</ul>\n<p>The modules <code>ServiceA</code> and <code>ServiceB</code> are mutually exclusive. They both provide the same bean to <code>HttpService</code>, but their internals are vastly different. When I build and deploy the application, I want  to only build either one of <code>ServiceA</code> or <code>ServiceB</code>, depending on an environment variable or build argument.</p>\n<p>In my research, I found the <code>-pl</code> option of Maven and Maven profiles. <code>-pl</code> allows me to explicitly in-/exclude modules from the build. However, I'd prefer something like profiles instead, where I define the options in the root <code>pom.xml</code> and only have to provide the corresponding profile name.</p>\n<p>When I include</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceA&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>and build with <code>-P a</code>, then <code>ServiceB</code> still gets built.</p>\n<p>How should this architecture be defined, so I get only the required modules?</p>\n<p><strong>EDIT</strong>: My root POM is the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;Common&lt;/module&gt;\n        &lt;module&gt;HttpService&lt;/module&gt;\n        &lt;module&gt;ServiceA&lt;/module&gt;\n        &lt;module&gt;ServiceB&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceA&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;b&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceB&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I run <code>mvn clean package -P a</code>, all modules still get built:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] untitled                                                           [pom]\n[INFO] Common                                                             [jar]\n[INFO] HttpService                                                        [jar]\n[INFO] ServiceA                                                           [jar]\n[INFO] ServiceB                                                           [jar]\n[INFO] \n</code></pre>\n<p>There is no explicit dependency of <code>HttpService</code> to <code>ServiceA</code> or <code>ServiceB</code>, only to <code>Common</code> in its <code>pom.xml</code>.</p>\n"},{"tags":["java","mongodb","mongodb-query","aggregation-framework","mongoid"],"comments":[{"owner":{"account_id":16227638,"reputation":17300,"user_id":11717458,"display_name":"SuleymanSah"},"score":0,"creation_date":1571210964,"post_id":58407945,"comment_id":103159830,"body_markdown":"Can you add sample data for ticket and crmorder collections?","body":"Can you add sample data for ticket and crmorder collections?"}],"answers":[{"tags":[],"owner":{"account_id":10915437,"reputation":366,"user_id":8023376,"display_name":"kumaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571211265,"creation_date":1571211265,"answer_id":58408097,"question_id":58407945,"body_markdown":"you have one more table in name of crmorder\r\n\r\nIn ticket table must have - subOrderId field\r\n\r\nIn crmorder table must have - currentStatus field\r\n\r\nand also ticket table subOrderId field == crmorder table currentStatus field\r\n\r\nhere is the sample snippt:\r\n\r\n    db.orders.insert([\r\n       { &quot;_id&quot; : 1, &quot;item&quot; : &quot;almonds&quot;, &quot;price&quot; : 12, &quot;quantity&quot; : 2 },\r\n       { &quot;_id&quot; : 2, &quot;item&quot; : &quot;pecans&quot;, &quot;price&quot; : 20, &quot;quantity&quot; : 1 },\r\n       { &quot;_id&quot; : 3  }\r\n    ])\r\n    \r\n    db.inventory.insert([\r\n       { &quot;_id&quot; : 1, &quot;sku&quot; : &quot;almonds&quot;, description: &quot;product 1&quot;, &quot;instock&quot; : 120 },\r\n       { &quot;_id&quot; : 2, &quot;sku&quot; : &quot;bread&quot;, description: &quot;product 2&quot;, &quot;instock&quot; : 80 },\r\n       { &quot;_id&quot; : 3, &quot;sku&quot; : &quot;cashews&quot;, description: &quot;product 3&quot;, &quot;instock&quot; : 60 },\r\n       { &quot;_id&quot; : 4, &quot;sku&quot; : &quot;pecans&quot;, description: &quot;product 4&quot;, &quot;instock&quot; : 70 },\r\n       { &quot;_id&quot; : 5, &quot;sku&quot;: null, description: &quot;Incomplete&quot; },\r\n       { &quot;_id&quot; : 6 }\r\n    ])\r\n    \r\n    db.orders.aggregate([\r\n       {\r\n         $lookup:\r\n           {\r\n             from: &quot;inventory&quot;,\r\n             localField: &quot;item&quot;,\r\n             foreignField: &quot;sku&quot;,\r\n             as: &quot;inventory_docs&quot;\r\n           }\r\n      }\r\n    ])\r\n\r\n\r\n","title":"Mongo $lookup Query Getting as alias blank","body":"<p>you have one more table in name of crmorder</p>\n\n<p>In ticket table must have - subOrderId field</p>\n\n<p>In crmorder table must have - currentStatus field</p>\n\n<p>and also ticket table subOrderId field == crmorder table currentStatus field</p>\n\n<p>here is the sample snippt:</p>\n\n<pre><code>db.orders.insert([\n   { \"_id\" : 1, \"item\" : \"almonds\", \"price\" : 12, \"quantity\" : 2 },\n   { \"_id\" : 2, \"item\" : \"pecans\", \"price\" : 20, \"quantity\" : 1 },\n   { \"_id\" : 3  }\n])\n\ndb.inventory.insert([\n   { \"_id\" : 1, \"sku\" : \"almonds\", description: \"product 1\", \"instock\" : 120 },\n   { \"_id\" : 2, \"sku\" : \"bread\", description: \"product 2\", \"instock\" : 80 },\n   { \"_id\" : 3, \"sku\" : \"cashews\", description: \"product 3\", \"instock\" : 60 },\n   { \"_id\" : 4, \"sku\" : \"pecans\", description: \"product 4\", \"instock\" : 70 },\n   { \"_id\" : 5, \"sku\": null, description: \"Incomplete\" },\n   { \"_id\" : 6 }\n])\n\ndb.orders.aggregate([\n   {\n     $lookup:\n       {\n         from: \"inventory\",\n         localField: \"item\",\n         foreignField: \"sku\",\n         as: \"inventory_docs\"\n       }\n  }\n])\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1678265453,"post_id":75599205,"comment_id":133497553,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75599205/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27905090,"reputation":1,"user_id":21308485,"display_name":"Codentrepreneur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677639632,"creation_date":1677639611,"answer_id":75599205,"question_id":58407945,"body_markdown":"    Try adding a pipeline under your $lookup\r\n    \r\n    sample:\r\n    \r\n    db.orders.aggregate([\r\n        {\r\n          $lookup: {\r\n              from: &quot;inventory&quot;,\r\n              localField: &quot;item&quot;,\r\n              foreignField: &quot;sku&quot;,\r\n              pipeline: [\r\n                {\r\n                  $project: {\r\n                    _id: 1,\r\n                    sku: 1,\r\n                    description: 1, \r\n                  },\r\n                },\r\n              ],\r\n              as: &quot;inventory_docs&quot;,\r\n          },\r\n        }\r\n      ])\r\n","title":"Mongo $lookup Query Getting as alias blank","body":"<pre><code>Try adding a pipeline under your $lookup\n\nsample:\n\ndb.orders.aggregate([\n    {\n      $lookup: {\n          from: &quot;inventory&quot;,\n          localField: &quot;item&quot;,\n          foreignField: &quot;sku&quot;,\n          pipeline: [\n            {\n              $project: {\n                _id: 1,\n                sku: 1,\n                description: 1, \n              },\n            },\n          ],\n          as: &quot;inventory_docs&quot;,\n      },\n    }\n  ])\n</code></pre>\n"}],"owner":{"account_id":16904219,"reputation":29,"user_id":12224845,"display_name":"Parminder Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677639632,"creation_date":1571210788,"question_id":58407945,"body_markdown":"    db.ticket.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: &quot;crmorder&quot;,\r\n          localField: &quot;subOrderId&quot;,\r\n          foreignField: &quot;currentStatus&quot;,\r\n          as: &quot;comments&quot;\r\n        }\r\n      }\r\n    ])\r\n\r\nin the result comments field is getting blank why?","title":"Mongo $lookup Query Getting as alias blank","body":"<pre><code>db.ticket.aggregate([\n  {\n    $lookup: {\n      from: \"crmorder\",\n      localField: \"subOrderId\",\n      foreignField: \"currentStatus\",\n      as: \"comments\"\n    }\n  }\n])\n</code></pre>\n\n<p>in the result comments field is getting blank why?</p>\n"},{"tags":["java","mongodb","transactions","quarkus","multi-document"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1677141279,"post_id":75542150,"comment_id":133280099,"body_markdown":"Do you have another process that write in the collection ?","body":"Do you have another process that write in the collection ?"},{"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"score":0,"creation_date":1677142143,"post_id":75542150,"comment_id":133280312,"body_markdown":"No, I&#39;m only running this function","body":"No, I&#39;m only running this function"}],"answers":[{"tags":[],"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677639389,"creation_date":1677639389,"answer_id":75599190,"question_id":75542150,"body_markdown":"Resolved by increasing the wiredTigerCacheSizeGB","title":"WriteConflict error in MongoDB when running batches of insertMany operation with transaction from Quarkus","body":"<p>Resolved by increasing the wiredTigerCacheSizeGB</p>\n"}],"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677639389,"creation_date":1677140188,"question_id":75542150,"body_markdown":"Below is a snippet of my transaction implementation. Currently MongoDB will throw WriteConflict error every time when it is processing the records from 800k onwards.\r\n\r\n\r\n        ClientSession clientSession = mongoClient.startSession();\r\n        clientSession.startTransaction();\r\n        int batchSize = 100000;\r\n\r\n        try {\r\n            for (int i = 1; i &lt;= 1000000; i++) {\r\n\r\n                ArrayList&lt;SampleData&gt; sampleDataList = new ArrayList();\r\n                sampleDataList.add(new SampleData(i));\r\n                if (i % batchSize == 0 || i == sampleDataList.size()) {\r\n                    sampleDataRepo.mongoCollection().insertMany(clientSession, sampleDataList);\r\n                    sampleDataList.clear();\r\n\r\n                }\r\n            }\r\n            clientSession.commitTransaction();\r\n        }\r\n\r\n        catch (Exception e){\r\n            clientSession.abortTransaction();\r\n            throw new Exception(e.getMessage());\r\n        }","title":"WriteConflict error in MongoDB when running batches of insertMany operation with transaction from Quarkus","body":"<p>Below is a snippet of my transaction implementation. Currently MongoDB will throw WriteConflict error every time when it is processing the records from 800k onwards.</p>\n<pre><code>    ClientSession clientSession = mongoClient.startSession();\n    clientSession.startTransaction();\n    int batchSize = 100000;\n\n    try {\n        for (int i = 1; i &lt;= 1000000; i++) {\n\n            ArrayList&lt;SampleData&gt; sampleDataList = new ArrayList();\n            sampleDataList.add(new SampleData(i));\n            if (i % batchSize == 0 || i == sampleDataList.size()) {\n                sampleDataRepo.mongoCollection().insertMany(clientSession, sampleDataList);\n                sampleDataList.clear();\n\n            }\n        }\n        clientSession.commitTransaction();\n    }\n\n    catch (Exception e){\n        clientSession.abortTransaction();\n        throw new Exception(e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","annotations"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1677926630,"post_id":75599009,"comment_id":133436363,"body_markdown":"Where is your Spring Boot package class? Is it in the package `com.akuntansi`? Or is it in a sub package?","body":"Where is your Spring Boot package class? Is it in the package <code>com.akuntansi</code>? Or is it in a sub package?"},{"owner":{"account_id":20987194,"reputation":23,"user_id":15420727,"display_name":"Timothy Justin William"},"score":0,"creation_date":1678070074,"post_id":75599009,"comment_id":133456174,"body_markdown":"Yes it&#39;s in the `com.akuntansi` package","body":"Yes it&#39;s in the <code>com.akuntansi</code> package"}],"owner":{"account_id":20987194,"reputation":23,"user_id":15420727,"display_name":"Timothy Justin William"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677638904,"creation_date":1677637173,"question_id":75599009,"body_markdown":"I&#39;m making a authentication method to secure my API with Spring Security and JWT. I&#39;m using a password encoder for a register method to secure the user. I have declare a bean for it but I&#39;m getting an error saying:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in com.akuntansi.akuntansi.repo.AuthenticationService required a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; in your configuration.\r\n```\r\nHere&#39;s my config that got all the bean:\r\n:\r\n```\r\npackage com.akuntansi.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport com.akuntansi.akuntansi.repo.UserRepo;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class AppConfig {\r\n\r\n    private final UserRepo userRepo;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){\r\n        return username -&gt; userRepo.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found!&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n    \r\n    @Bean\r\n     public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception{\r\n        return config.getAuthenticationManager();\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s the `AuthenticationService.java`:\r\n```\r\npackage com.akuntansi.akuntansi.repo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.akuntansi.akuntansi.model.Role;\r\nimport com.akuntansi.akuntansi.model.Users;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n    \r\nprivate final UserRepo userRepo;\r\nprivate final PasswordEncoder passwordEncoder;\r\nprivate final JWTService jwtService;\r\nprivate final AuthenticationManager authenticationManager;\r\n\r\n    public AuthenticationResponse register(RegisterRequest request){\r\n        var user =  Users.builder()\r\n                    .username(request.getUsername())\r\n                    .password(passwordEncoder.encode(request.getPassword()))\r\n                    .role(Role.USER)\r\n                    .build();\r\n                    \r\n        userRepo.save(user);\r\n        var jwtToken = jwtService.generateJwtToken(user);\r\n\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken) \r\n                .build();\r\n    }\r\n\r\n    public AuthenticationResponse login(AuthenticationRequest request){\r\n        authenticationManager.authenticate(\r\n            new UsernamePasswordAuthenticationToken(\r\n                request.getUsername(),\r\n                request.getPassword()\r\n            )\r\n        );\r\n        var user = userRepo.findByUsername(request.getUsername()).orElseThrow();\r\n        var jwtToken = jwtService.generateJwtToken(user);\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nI have no idea what&#39;s wrong since as you can see, I already made a bean type for it.","title":"Spring Security password encoder requiring bean even though it&#39;s already in the configuration","body":"<p>I'm making a authentication method to secure my API with Spring Security and JWT. I'm using a password encoder for a register method to secure the user. I have declare a bean for it but I'm getting an error saying:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.akuntansi.akuntansi.repo.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.\n</code></pre>\n<p>Here's my config that got all the bean:\n:</p>\n<pre><code>package com.akuntansi.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport com.akuntansi.akuntansi.repo.UserRepo;\n\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@RequiredArgsConstructor\npublic class AppConfig {\n\n    private final UserRepo userRepo;\n\n    @Bean\n    public UserDetailsService userDetailsService(){\n        return username -&gt; userRepo.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found!&quot;));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n    \n    @Bean\n     public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception{\n        return config.getAuthenticationManager();\n    }\n}\n</code></pre>\n<p>And here's the <code>AuthenticationService.java</code>:</p>\n<pre><code>package com.akuntansi.akuntansi.repo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport com.akuntansi.akuntansi.model.Role;\nimport com.akuntansi.akuntansi.model.Users;\n\nimport lombok.RequiredArgsConstructor;\n\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n    \nprivate final UserRepo userRepo;\nprivate final PasswordEncoder passwordEncoder;\nprivate final JWTService jwtService;\nprivate final AuthenticationManager authenticationManager;\n\n    public AuthenticationResponse register(RegisterRequest request){\n        var user =  Users.builder()\n                    .username(request.getUsername())\n                    .password(passwordEncoder.encode(request.getPassword()))\n                    .role(Role.USER)\n                    .build();\n                    \n        userRepo.save(user);\n        var jwtToken = jwtService.generateJwtToken(user);\n\n        return AuthenticationResponse.builder()\n                .token(jwtToken) \n                .build();\n    }\n\n    public AuthenticationResponse login(AuthenticationRequest request){\n        authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                request.getUsername(),\n                request.getPassword()\n            )\n        );\n        var user = userRepo.findByUsername(request.getUsername()).orElseThrow();\n        var jwtToken = jwtService.generateJwtToken(user);\n        return AuthenticationResponse.builder()\n                .token(jwtToken)\n                .build();\n    }\n}\n</code></pre>\n<p>I have no idea what's wrong since as you can see, I already made a bean type for it.</p>\n"},{"tags":["java","android-studio","android-recyclerview"],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677638431,"creation_date":1677233295,"question_id":75555193,"body_markdown":"I&#39;m using ListAdapter in my Recyclerview, most time it work normally, but when currentList size is 0, and I `submitList(new ArrayList(myNewList))`, my app crash, but if I use `submitList(new ArrayList(myNewList), ()-&gt;adapter.notifyDataSetChanged()))`, it won&#39;t crash. What is the problem?\r\n\r\nBelow is my code\r\n\r\nAdapter:\r\n```\r\npublic Adapter(Context context){\r\n        super(new DiffUtil.ItemCallback&lt;Relation&gt;() {\r\n            @Override\r\n            public boolean areItemsTheSame(@NonNull Relation oldItem, @NonNull Relation newItem) {\r\n                return oldItem.getCustomerId().equals(newItem.getCustomerId());\r\n            }\r\n\r\n            @Override\r\n            public boolean areContentsTheSame(@NonNull Relation oldItem, @NonNull Relation newItem) {\r\n                return false;\r\n            }\r\n        });\r\n\r\n        this.context = context;\r\n}\r\n\r\npublic void setSize(int size){\r\n        this.size = size;\r\n}\r\n\r\n@Override\r\npublic int getItemCount() {\r\n        if(size == 0){\r\n            return 1;\r\n        }\r\n        else if(size &gt; 0){\r\n            return size;\r\n        }\r\n        return 0;\r\n}\r\n\r\n@Override\r\npublic int getItemViewType(int position) {\r\n        if(size == 0){\r\n            return TYPE_EMPTY;\r\n        }\r\n        else{\r\n            return TYPE_ONE;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nAnd I use viewModel to observe change:\r\n\r\n```\r\ncustomerRelationObserver = list -&gt;{\r\n            Adapter.setSize(list.size());\r\n            Adapter.submitList(list, ()-&gt;adapter.notifyDataSetChanged());\r\n        };\r\n```\r\n\r\nBelow is error log\r\n```\r\njava.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionEmptyViewHolder{c491228 position=1 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{ba4f60 VFED..... ......I. 56,192-1244,338 #7f0a032d app:id/relationRecyclerView}, adapter:Adapter@7c33c19\r\n```","title":"Android studio Recyclerview using ListAdapter crash because IndexOutOfBoundsException: Inconsistency detected","body":"<p>I'm using ListAdapter in my Recyclerview, most time it work normally, but when currentList size is 0, and I <code>submitList(new ArrayList(myNewList))</code>, my app crash, but if I use <code>submitList(new ArrayList(myNewList), ()-&gt;adapter.notifyDataSetChanged()))</code>, it won't crash. What is the problem?</p>\n<p>Below is my code</p>\n<p>Adapter:</p>\n<pre><code>public Adapter(Context context){\n        super(new DiffUtil.ItemCallback&lt;Relation&gt;() {\n            @Override\n            public boolean areItemsTheSame(@NonNull Relation oldItem, @NonNull Relation newItem) {\n                return oldItem.getCustomerId().equals(newItem.getCustomerId());\n            }\n\n            @Override\n            public boolean areContentsTheSame(@NonNull Relation oldItem, @NonNull Relation newItem) {\n                return false;\n            }\n        });\n\n        this.context = context;\n}\n\npublic void setSize(int size){\n        this.size = size;\n}\n\n@Override\npublic int getItemCount() {\n        if(size == 0){\n            return 1;\n        }\n        else if(size &gt; 0){\n            return size;\n        }\n        return 0;\n}\n\n@Override\npublic int getItemViewType(int position) {\n        if(size == 0){\n            return TYPE_EMPTY;\n        }\n        else{\n            return TYPE_ONE;\n        }\n    }\n\n</code></pre>\n<p>And I use viewModel to observe change:</p>\n<pre><code>customerRelationObserver = list -&gt;{\n            Adapter.setSize(list.size());\n            Adapter.submitList(list, ()-&gt;adapter.notifyDataSetChanged());\n        };\n</code></pre>\n<p>Below is error log</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionEmptyViewHolder{c491228 position=1 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{ba4f60 VFED..... ......I. 56,192-1244,338 #7f0a032d app:id/relationRecyclerView}, adapter:Adapter@7c33c19\n</code></pre>\n"},{"tags":["java","kotlin","resilience4j","resilience4j-retry"],"answers":[{"tags":[],"owner":{"account_id":9128785,"reputation":816,"user_id":6791342,"display_name":"baumannalexj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677638328,"creation_date":1677638328,"answer_id":75599103,"question_id":75522230,"body_markdown":"https://github.com/resilience4j/resilience4j/issues/1886\r\n\r\nAn answer from the repo: we need to use the following methods to work on checked exceptions:\r\n * decorateCallable()\r\n * executeCallable()\r\n\r\nConfirmed that this worked for us.","title":"Resilience4J retryOnException not working","body":"<p><a href=\"https://github.com/resilience4j/resilience4j/issues/1886\" rel=\"nofollow noreferrer\">https://github.com/resilience4j/resilience4j/issues/1886</a></p>\n<p>An answer from the repo: we need to use the following methods to work on checked exceptions:</p>\n<ul>\n<li>decorateCallable()</li>\n<li>executeCallable()</li>\n</ul>\n<p>Confirmed that this worked for us.</p>\n"}],"owner":{"account_id":9128785,"reputation":816,"user_id":6791342,"display_name":"baumannalexj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677638328,"creation_date":1676991577,"question_id":75522230,"body_markdown":"Retry on exception is not working for Resilience4j 1.7.\r\n\r\nCan anyone else confirm? At this point I&#39;m just writing simple tests to try this without success.\r\n\r\nI also submitted a ticket here: https://github.com/resilience4j/resilience4j/issues/1886\r\n\r\n\r\nAny help is appreciated.","title":"Resilience4J retryOnException not working","body":"<p>Retry on exception is not working for Resilience4j 1.7.</p>\n<p>Can anyone else confirm? At this point I'm just writing simple tests to try this without success.</p>\n<p>I also submitted a ticket here: <a href=\"https://github.com/resilience4j/resilience4j/issues/1886\" rel=\"nofollow noreferrer\">https://github.com/resilience4j/resilience4j/issues/1886</a></p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","android-studio","progress-bar"],"owner":{"account_id":26207210,"reputation":1,"user_id":19886649,"display_name":"Guilhem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677636885,"creation_date":1677635854,"question_id":75598924,"body_markdown":"I am trying to display a progress bar in an activity that is supposed to show instantly after pressing a button. When a button is pressed, the following method is called :\r\n\r\n\r\n```\r\n    private void onStartClick() {\r\n        start.setTextColor(getResources().getColor(R.color.button_std_text_on_click));\r\n\r\n        // Progress bar\r\n        progressBar.setVisibility(View.VISIBLE);\r\n        progressBar.setMax(100);\r\n\r\n        // Defines target language\r\n        Param.TARGET_LANGUAGE = spinner.getSelectedItem().toString();\r\n\r\n        // Save language selected to select it directly next time\r\n        Pref.savePreference(this, Param.LAST_LANG_KEY, spinner.getSelectedItemPosition());\r\n\r\n        initAppData(MainActivity.this);\r\n     }\r\n```\r\n\r\nHowever, the following lines of code seem to be executed before the line &#39;progressBar.setVisibility(View.VISIBLE);&#39; is finished to be executed. The progress bar is finally displayed when the initAppData is almost finished to be executed (initAppData is a method that takes long to execute). \r\n\r\nHow can we explain that since I use the same thread to execute this method ?\r\n\r\nI can also add that when I remove the initAppData line, the progress bar shows instantly.\r\n\r\n\r\nI tried to execute initAppData() in another thread to see if initAppData avoid the progress bar to display but it didn&#39;t change anything.","title":"ProgressBar is not displayed instantly in android studio (java)","body":"<p>I am trying to display a progress bar in an activity that is supposed to show instantly after pressing a button. When a button is pressed, the following method is called :</p>\n<pre><code>    private void onStartClick() {\n        start.setTextColor(getResources().getColor(R.color.button_std_text_on_click));\n\n        // Progress bar\n        progressBar.setVisibility(View.VISIBLE);\n        progressBar.setMax(100);\n\n        // Defines target language\n        Param.TARGET_LANGUAGE = spinner.getSelectedItem().toString();\n\n        // Save language selected to select it directly next time\n        Pref.savePreference(this, Param.LAST_LANG_KEY, spinner.getSelectedItemPosition());\n\n        initAppData(MainActivity.this);\n     }\n</code></pre>\n<p>However, the following lines of code seem to be executed before the line 'progressBar.setVisibility(View.VISIBLE);' is finished to be executed. The progress bar is finally displayed when the initAppData is almost finished to be executed (initAppData is a method that takes long to execute).</p>\n<p>How can we explain that since I use the same thread to execute this method ?</p>\n<p>I can also add that when I remove the initAppData line, the progress bar shows instantly.</p>\n<p>I tried to execute initAppData() in another thread to see if initAppData avoid the progress bar to display but it didn't change anything.</p>\n"},{"tags":["java","android-studio","stream","video-streaming","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":11813300,"reputation":56,"user_id":8644226,"display_name":"Stronger197"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677627485,"creation_date":1677627485,"answer_id":75598333,"question_id":75500812,"body_markdown":"It was removed in `2.16.0`.\r\nUse `DefaultHttpDataSource.Factory` instead.\r\n","title":"I am using ExoPlayer 2.16.1 and I cannot import DefaultHttpDataSource","body":"<p>It was removed in <code>2.16.0</code>.\nUse <code>DefaultHttpDataSource.Factory</code> instead.</p>\n"}],"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677636326,"creation_date":1676816767,"question_id":75500812,"body_markdown":"I&#39;m getting an error like &quot;java.lang.IllegalArgumentException: no TLS versions for cleartext connections&quot; in my project and I need to use &quot;DefaultHttpDataSourceFactory&quot; to fix it, but I can&#39;t import it.\r\n\r\nMy ExoPlayer version:\r\n \r\n```gradle\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.16.1&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.16.1&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.16.1&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.16.1&#39;\r\n```\r\n\r\nWhere I use &quot;DefaultHttpDataSourceFactory&quot;:\r\n\r\n```java\r\n    DefaultHttpDataSourceFactory httpDataSourceFactory = new DefaultHttpDataSourceFactory(\r\n                Util.getUserAgent(context, &quot;your-application-name&quot;),\r\n                null /* listener */,\r\n                DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,\r\n                DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,\r\n                true /* allowCrossProtocolRedirects */\r\n        );\r\n\r\n```\r\n\r\nPermissions:\r\n\r\n```xml\r\n        &lt;uses-permission tools:node=&quot;merge&quot; android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```\r\n\r\n\r\nApplication tag:\r\n\r\n    &lt;application\r\n        .\r\n        .\r\n        .\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        .\r\n        .\r\n        .&gt;","title":"I am using ExoPlayer 2.16.1 and I cannot import DefaultHttpDataSource","body":"<p>I'm getting an error like &quot;java.lang.IllegalArgumentException: no TLS versions for cleartext connections&quot; in my project and I need to use &quot;DefaultHttpDataSourceFactory&quot; to fix it, but I can't import it.</p>\n<p>My ExoPlayer version:</p>\n<pre><code>    implementation 'com.google.android.exoplayer:exoplayer:2.16.1'\n    implementation 'com.google.android.exoplayer:exoplayer-core:2.16.1'\n    implementation 'com.google.android.exoplayer:exoplayer-dash:2.16.1'\n    implementation 'com.google.android.exoplayer:exoplayer-ui:2.16.1'\n</code></pre>\n<p>Where I use &quot;DefaultHttpDataSourceFactory&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    DefaultHttpDataSourceFactory httpDataSourceFactory = new DefaultHttpDataSourceFactory(\n                Util.getUserAgent(context, &quot;your-application-name&quot;),\n                null /* listener */,\n                DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,\n                DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,\n                true /* allowCrossProtocolRedirects */\n        );\n\n</code></pre>\n<p>Permissions:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;uses-permission tools:node=&quot;merge&quot; android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>Application tag:</p>\n<pre><code>&lt;application\n    .\n    .\n    .\n    android:usesCleartextTraffic=&quot;true&quot;\n    .\n    .\n    .&gt;\n</code></pre>\n"},{"tags":["java","android","layout","autocompletetextview"],"comments":[{"owner":{"account_id":4977246,"reputation":1522,"user_id":4003227,"accept_rate":0,"display_name":"Aditi Parikh"},"score":0,"creation_date":1445423347,"post_id":33256859,"comment_id":54314946,"body_markdown":"Try with layout_gravity and gravity.","body":"Try with layout_gravity and gravity."},{"owner":{"account_id":6172268,"reputation":710,"user_id":4810235,"accept_rate":48,"display_name":"Prakhar"},"score":0,"creation_date":1445423919,"post_id":33256859,"comment_id":54315292,"body_markdown":"I did not get you, do you want all of them in single line?","body":"I did not get you, do you want all of them in single line?"},{"owner":{"account_id":2725644,"reputation":4730,"user_id":2350799,"accept_rate":83,"display_name":"xcesco"},"score":0,"creation_date":1445424271,"post_id":33256859,"comment_id":54315518,"body_markdown":"Which SDK are you supporting? Try sdk 23 and sdk 19 (for example). Did you notice any difference?","body":"Which SDK are you supporting? Try sdk 23 and sdk 19 (for example). Did you notice any difference?"},{"owner":{"account_id":2725644,"reputation":4730,"user_id":2350799,"accept_rate":83,"display_name":"xcesco"},"score":0,"creation_date":1445432901,"post_id":33256859,"comment_id":54321435,"body_markdown":"I ask you this, because I copy your layout in a project and i notice that, in layout editor (visual mode) when i change sdk to 23 to 19 the component text become aligned. I&#39;m working with Android Studio 1.4. And you?","body":"I ask you this, because I copy your layout in a project and i notice that, in layout editor (visual mode) when i change sdk to 23 to 19 the component text become aligned. I&#39;m working with Android Studio 1.4. And you?"},{"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"score":0,"creation_date":1445442414,"post_id":33256859,"comment_id":54328618,"body_markdown":"I want all to be aligned on the left.\nAs you see, the AutoCompleteTextView has some small padding to the right.","body":"I want all to be aligned on the left. As you see, the AutoCompleteTextView has some small padding to the right."}],"answers":[{"tags":[],"owner":{"account_id":4842194,"reputation":1936,"user_id":4647343,"accept_rate":33,"display_name":"kundan roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445424274,"creation_date":1445424274,"answer_id":33257225,"question_id":33256859,"body_markdown":"Add below line to your AutoCompleteTextView  and TextView\r\n\r\n      android:layout_marginLeft=&quot;30dp&quot;","title":"Aligning TextView and AutoCompleteTextView side by side in Android","body":"<p>Add below line to your AutoCompleteTextView  and TextView</p>\n\n<pre><code>  android:layout_marginLeft=\"30dp\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1445431836,"post_id":33257697,"comment_id":54320632,"body_markdown":"I really don&#39;t find it a smart idea, to surround every View with a RelativeLayout, in your second proposal. This doesn&#39;t help flattening (which must be pursued for best performances).","body":"I really don&#39;t find it a smart idea, to surround every View with a RelativeLayout, in your second proposal. This doesn&#39;t help flattening (which must be pursued for best performances)."},{"owner":{"account_id":6172268,"reputation":710,"user_id":4810235,"accept_rate":48,"display_name":"Prakhar"},"score":0,"creation_date":1445433828,"post_id":33257697,"comment_id":54322116,"body_markdown":"ya, you can assign weights directly to widgets instead of putting them in a relative layout","body":"ya, you can assign weights directly to widgets instead of putting them in a relative layout"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1445437284,"post_id":33257697,"comment_id":54324778,"body_markdown":"You really should. So, you&#39;d get rid of 3 useless layouts.","body":"You really should. So, you&#39;d get rid of 3 useless layouts."},{"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"score":0,"creation_date":1445445479,"post_id":33257697,"comment_id":54330596,"body_markdown":"Same problem occurs on LinearLayout, still has some small annoying padding to the AutoCompleteTextView","body":"Same problem occurs on LinearLayout, still has some small annoying padding to the AutoCompleteTextView"}],"tags":[],"owner":{"account_id":6172268,"reputation":710,"user_id":4810235,"accept_rate":48,"display_name":"Prakhar"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677636013,"creation_date":1445425521,"answer_id":33257697,"question_id":33256859,"body_markdown":"If you want it like this:\r\n[![Vertical][1]][1]\r\n\r\n\r\nthen use vertical Linearlayout\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_marginTop=&quot;20dp&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;20dp&quot;\r\n        android:id=&quot;@+id/imageView5&quot; \r\n        android:src=&quot;@drawable/ic_setting_light&quot;/&gt;\r\n    \r\n    &lt;AutoCompleteTextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:hint=&quot;Location here&quot;/&gt;\r\n    \r\n    &lt;EditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:hint=&quot;Radius(in meters)&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\nOr if you want like this:\r\n[![Horizontal][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zOz9E.png\r\n  [2]: http://i.stack.imgur.com/E87sJ.png\r\n\r\n\r\nUse horizontal LinearLayout with weights:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:weightSum=&quot;3&quot;\r\n    android:layout_marginTop=&quot;20dp&quot;&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;0.5&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_setting_light&quot;\r\n            android:layout_centerInParent=&quot;true&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1.5&quot;&gt;\r\n         &lt;AutoCompleteTextView\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;wrap_content&quot;\r\n         android:hint=&quot;Location&quot;\r\n         android:layout_centerInParent=&quot;true&quot;\r\n         /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_weight=&quot;1.0&quot;&gt;\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Radius (m)&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n             /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nReplace the image with your home and give the required ids.","title":"Aligning TextView and AutoCompleteTextView side by side in Android","body":"<p>If you want it like this:\n<a href=\"https://i.stack.imgur.com/zOz9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zOz9E.png\" alt=\"Vertical\" /></a></p>\n<p>then use vertical Linearlayout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:layout_marginTop=&quot;20dp&quot;&gt;\n\n\n&lt;ImageView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;20dp&quot;\n    android:id=&quot;@+id/imageView5&quot; \n    android:src=&quot;@drawable/ic_setting_light&quot;/&gt;\n\n&lt;AutoCompleteTextView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginLeft=&quot;20dp&quot;\n    android:layout_marginRight=&quot;20dp&quot;\n    android:hint=&quot;Location here&quot;/&gt;\n\n&lt;EditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:layout_marginLeft=&quot;20dp&quot;\n    android:layout_marginRight=&quot;20dp&quot;\n    android:hint=&quot;Radius(in meters)&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Or if you want like this:\n<a href=\"https://i.stack.imgur.com/E87sJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E87sJ.png\" alt=\"Horizontal\" /></a></p>\n<p>Use horizontal LinearLayout with weights:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:weightSum=&quot;3&quot;\nandroid:layout_marginTop=&quot;20dp&quot;&gt;\n\n\n&lt;RelativeLayout\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;0.5&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_setting_light&quot;\n        android:layout_centerInParent=&quot;true&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n&lt;RelativeLayout\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_weight=&quot;1.5&quot;&gt;\n     &lt;AutoCompleteTextView\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:hint=&quot;Location&quot;\n     android:layout_centerInParent=&quot;true&quot;\n     /&gt;\n&lt;/RelativeLayout&gt;\n\n\n&lt;RelativeLayout\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_weight=&quot;1.0&quot;&gt;\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Radius (m)&quot;\n        android:layout_centerInParent=&quot;true&quot;\n         /&gt;\n&lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Replace the image with your home and give the required ids.</p>\n"},{"tags":[],"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1445445540,"creation_date":1445445540,"answer_id":33264765,"question_id":33256859,"body_markdown":"Found my solution at least.\r\n\r\nFor some reason AutoCompleteTextView has default padding, once I set the paddingLeft to 0, it fixed the problem. :)","title":"Aligning TextView and AutoCompleteTextView side by side in Android","body":"<p>Found my solution at least.</p>\n\n<p>For some reason AutoCompleteTextView has default padding, once I set the paddingLeft to 0, it fixed the problem. :)</p>\n"}],"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33264765,"answer_count":3,"score":0,"last_activity_date":1677636013,"creation_date":1445423099,"question_id":33256859,"body_markdown":"I&#39;m trying to align the following AutoCompleteTextView (Type group location..) and the TextView (Radius) to the left, regarding the top ImageView.\n\n[![enter image description here][1]][1]\n\nAs you can see, it doesn&#39;t work.\nHere&#39;s my xml layout:\n\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:paddingRight=&quot;0dp&quot;&gt;\n    \n    \n    &lt;ImageView\n            android:id=&quot;@+id/icon&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:layout_alignParentLeft=&quot;true&quot;/&gt;\n\n        &lt;AutoCompleteTextView\n            android:id=&quot;@+id/autocomplete_textview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignLeft=&quot;@+id/icon&quot;\n            android:layout_below=&quot;@+id/icon&quot;\n            android:paddingBottom=&quot;0dp&quot;\n            android:inputType=&quot;textAutoComplete&quot;\n            android:textSize=&quot;16sp&quot; /&gt;\n        \n        &lt;TextView\n            android:id=&quot;@+id/radiusText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/autocomplete_textview&quot;\n            android:layout_alignLeft=&quot;@+id/icon&quot;\n            android:textSize=&quot;16sp&quot;\n            android:paddingTop=&quot;5dp&quot;/&gt;\n        \n    &lt;/RelativeLayout&gt;\n\nWhat I already tried and failed:\n\nAligning the TextView with the regard to the AutoCompleteTextView, and also aligning both views with regard to parent view.\n\nI suspect the AutoCompleteTextView has some transparent trailing, or I&#39;m missing something.\n\n  [1]: http://i.stack.imgur.com/2Pibxm.jpg","title":"Aligning TextView and AutoCompleteTextView side by side in Android","body":"<p>I'm trying to align the following AutoCompleteTextView (Type group location..) and the TextView (Radius) to the left, regarding the top ImageView.</p>\n<p><a href=\"https://i.stack.imgur.com/2Pibxm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Pibxm.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, it doesn't work.\nHere's my xml layout:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:paddingLeft=&quot;10dp&quot;\nandroid:paddingRight=&quot;0dp&quot;&gt;\n\n\n&lt;ImageView\n        android:id=&quot;@+id/icon&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_alignParentLeft=&quot;true&quot;/&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/autocomplete_textview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignLeft=&quot;@+id/icon&quot;\n        android:layout_below=&quot;@+id/icon&quot;\n        android:paddingBottom=&quot;0dp&quot;\n        android:inputType=&quot;textAutoComplete&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n    \n    &lt;TextView\n        android:id=&quot;@+id/radiusText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/autocomplete_textview&quot;\n        android:layout_alignLeft=&quot;@+id/icon&quot;\n        android:textSize=&quot;16sp&quot;\n        android:paddingTop=&quot;5dp&quot;/&gt;\n    \n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>What I already tried and failed:</p>\n<p>Aligning the TextView with the regard to the AutoCompleteTextView, and also aligning both views with regard to parent view.</p>\n<p>I suspect the AutoCompleteTextView has some transparent trailing, or I'm missing something.</p>\n"},{"tags":["java","nginx","ssl","tomcat"],"comments":[{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1680199374,"post_id":75597207,"comment_id":133861908,"body_markdown":"What is in the keystore `bb.co.uk.jks`? Use `keystore -list [file]`.","body":"What is in the keystore <code>bb.co.uk.jks</code>? Use <code>keystore -list [file]</code>."},{"owner":{"account_id":14435982,"reputation":341,"user_id":10427957,"display_name":"Sudaraka Senevirathne"},"score":0,"creation_date":1680245852,"post_id":75597207,"comment_id":133868728,"body_markdown":"Hi, I fixed the issue, I configured them correctly. I had to wait around 6 hours to apply the changes.","body":"Hi, I fixed the issue, I configured them correctly. I had to wait around 6 hours to apply the changes."}],"owner":{"account_id":14435982,"reputation":341,"user_id":10427957,"display_name":"Sudaraka Senevirathne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677635895,"creation_date":1677617733,"question_id":75597207,"body_markdown":"I have setup my webapp on ec2, I use nginx to serve static contents and added SSL using letsencrypt (working fine), and my backend is also hosted in the same server using tomcat, I converted *.pem files which are generated by letsencrypt to .jks file to provide the SSL for tomcat (8443), but the 8443 port in not connecting (ERR_CONNECTION_RESET). 8080 is working fine (NO SSL).\r\n\r\nHere is my server.xml entry for\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n            maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n            keystoreFile=&quot;/opt/tomcat/conf/bb.co.uk.jks&quot;\r\n            keystorePass=&quot;password&quot;\r\n            clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;\r\n\r\nI checked logs but cannot find any error,\r\n\r\n``` 28-Feb-2023 20:41:19.434 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.72\r\n28-Feb-2023 20:41:19.438 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Feb 18 2023 09:25:13 UTC\r\n28-Feb-2023 20:41:19.438 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.72.0\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.15.0-1011-aws\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/lib/jvm/java-17-openjdk-amd64\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17.0.5+8-Ubuntu-2ubuntu122.04\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Private Build\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/tomcat\r\n28-Feb-2023 20:41:19.440 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/tomcat\r\n28-Feb-2023 20:41:19.451 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.awt.headless=true\r\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.security.egd=file:/dev/./urandom\r\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms512M\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx1024M\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UseParallelGC\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/tomcat\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/tomcat\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/tomcat/temp\r\n28-Feb-2023 20:41:19.457 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]\r\n28-Feb-2023 20:41:19.865 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n28-Feb-2023 20:41:19.910 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\r\n28-Feb-2023 20:41:20.357 INFO [main] org.apache.tomcat.util.net.AbstractEndpoint.logCertificate Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from [/opt/tomcat/conf/bb.co.uk.jks] using alias [tomcat] and with trust store [null]\r\n28-Feb-2023 20:41:20.361 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [1128] milliseconds\r\n28-Feb-2023 20:41:20.420 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n28-Feb-2023 20:41:20.420 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.72]\r\n28-Feb-2023 20:41:20.440 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webapps/bb.war]\r\n28-Feb-2023 20:41:23.582 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n```\r\n\r\nI also tried the SSL cfg as follows, but same issue\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\r\n        &lt;SSLHostConfig&gt;\r\n            &lt;Certificate certificateKeyFile=&quot;conf/privkey.pem&quot;\r\n                         certificateFile=&quot;conf/cert.pem&quot;\r\n                         certificateChainFile=&quot;conf/chain.pem&quot;/&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\nI access static content via https://bb.co.uk and I want to access the backend via https://bb.co.uk:8443. \r\n","title":"Tomcat cannot reach via port 8443 SSL","body":"<p>I have setup my webapp on ec2, I use nginx to serve static contents and added SSL using letsencrypt (working fine), and my backend is also hosted in the same server using tomcat, I converted *.pem files which are generated by letsencrypt to .jks file to provide the SSL for tomcat (8443), but the 8443 port in not connecting (ERR_CONNECTION_RESET). 8080 is working fine (NO SSL).</p>\n<p>Here is my server.xml entry for</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n        maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n        keystoreFile=&quot;/opt/tomcat/conf/bb.co.uk.jks&quot;\n        keystorePass=&quot;password&quot;\n        clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;\n</code></pre>\n<p>I checked logs but cannot find any error,</p>\n<pre><code>28-Feb-2023 20:41:19.438 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Feb 18 2023 09:25:13 UTC\n28-Feb-2023 20:41:19.438 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.72.0\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.15.0-1011-aws\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/lib/jvm/java-17-openjdk-amd64\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17.0.5+8-Ubuntu-2ubuntu122.04\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Private Build\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/tomcat\n28-Feb-2023 20:41:19.440 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/tomcat\n28-Feb-2023 20:41:19.451 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.awt.headless=true\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.security.egd=file:/dev/./urandom\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms512M\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx1024M\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UseParallelGC\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/tomcat\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/tomcat\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/tomcat/temp\n28-Feb-2023 20:41:19.457 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]\n28-Feb-2023 20:41:19.865 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n28-Feb-2023 20:41:19.910 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\n28-Feb-2023 20:41:20.357 INFO [main] org.apache.tomcat.util.net.AbstractEndpoint.logCertificate Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from [/opt/tomcat/conf/bb.co.uk.jks] using alias [tomcat] and with trust store [null]\n28-Feb-2023 20:41:20.361 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [1128] milliseconds\n28-Feb-2023 20:41:20.420 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n28-Feb-2023 20:41:20.420 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.72]\n28-Feb-2023 20:41:20.440 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webapps/bb.war]\n28-Feb-2023 20:41:23.582 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n</code></pre>\n<p>I also tried the SSL cfg as follows, but same issue</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\n           maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\n    &lt;SSLHostConfig&gt;\n        &lt;Certificate certificateKeyFile=&quot;conf/privkey.pem&quot;\n                     certificateFile=&quot;conf/cert.pem&quot;\n                     certificateChainFile=&quot;conf/chain.pem&quot;/&gt;\n    &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>I access static content via <a href=\"https://bb.co.uk\" rel=\"nofollow noreferrer\">https://bb.co.uk</a> and I want to access the backend via <a href=\"https://bb.co.uk:8443\" rel=\"nofollow noreferrer\">https://bb.co.uk:8443</a>.</p>\n"},{"tags":["java","websphere","ibm-mq"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1665477594,"post_id":74025031,"comment_id":130703619,"body_markdown":"Honestly the fact that you are creating a new MQQueueConnectionFactory everytime will cause problems anyways.  Maybe there is a failover happening where it switches to another instance.   Look into your broker and how it is configured on the backend side, not from your code.","body":"Honestly the fact that you are creating a new MQQueueConnectionFactory everytime will cause problems anyways.  Maybe there is a failover happening where it switches to another instance.   Look into your broker and how it is configured on the backend side, not from your code."},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1665478954,"post_id":74025031,"comment_id":130704100,"body_markdown":"@JCompetence, thanks. I will check at configuration and logs of the IBM MQ. Any suggestions on which settings I should be looking at? Sorry, I&#39;m new to this IBM MQ setting as it is handled by different team.","body":"@JCompetence, thanks. I will check at configuration and logs of the IBM MQ. Any suggestions on which settings I should be looking at? Sorry, I&#39;m new to this IBM MQ setting as it is handled by different team."},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":1,"creation_date":1665485967,"post_id":74025031,"comment_id":130706494,"body_markdown":"If you are on WAS, why you set up QCF in your code? You should configure that externally in the WAS server and then just inject/lookup via JNDI. Then you are utilizing WAS connection pooling instead of recreating everything each time.","body":"If you are on WAS, why you set up QCF in your code? You should configure that externally in the WAS server and then just inject/lookup via JNDI. Then you are utilizing WAS connection pooling instead of recreating everything each time."}],"answers":[{"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1677692592,"post_id":74029222,"comment_id":133389764,"body_markdown":"see the solution the OP posted,  seems like a defect,  maybe you can get it on front of the right people (paul t?)","body":"see the solution the OP posted,  seems like a defect,  maybe you can get it on front of the right people (paul t?)"},{"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"score":1,"creation_date":1677745659,"post_id":74029222,"comment_id":133399446,"body_markdown":"I&#39;ll ask around.","body":"I&#39;ll ask around."},{"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"score":0,"creation_date":1678098915,"post_id":74029222,"comment_id":133461271,"body_markdown":"@fauzimh This does look like a defect. Are you able to raise a service request for it?","body":"@fauzimh This does look like a defect. Are you able to raise a service request for it?"}],"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665496053,"creation_date":1665496053,"answer_id":74029222,"question_id":74025031,"body_markdown":"One reason may be down to not testing what \r\n\r\n```java\r\nqueueInfo.getPort()\r\n```\r\n\r\nreturns. I would log the return, to see if there are conditions when it doesn&#39;t return the port you are expecting.","title":"During high load MQQueueConnectionFactory suddenly change port to default port 1414","body":"<p>One reason may be down to not testing what</p>\n<pre class=\"lang-java prettyprint-override\"><code>queueInfo.getPort()\n</code></pre>\n<p>returns. I would log the return, to see if there are conditions when it doesn't return the port you are expecting.</p>\n"},{"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1677640869,"post_id":75590762,"comment_id":133376637,"body_markdown":"Did you open a case to let IBM know about this behavior?   I&#39;m sure they would consider this a defect.","body":"Did you open a case to let IBM know about this behavior?   I&#39;m sure they would consider this a defect."},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1677646371,"post_id":75590762,"comment_id":133377280,"body_markdown":"I didn&#39;t since problem already solved. I suppose we should to help others, but later.. thanks.","body":"I didn&#39;t since problem already solved. I suppose we should to help others, but later.. thanks."}],"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677635477,"creation_date":1677580145,"answer_id":75590762,"question_id":74025031,"body_markdown":"An update on this item.\r\nI put logging in various place to log the port number. Then we found out that the port in ```queueConnectionFactory``` was intermittently reset to default port after calling ```queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);```\r\n\r\n\r\nAfter updating the log level of ibm mq to TRACE, I found that new MQ library ```com.ibm.mq.allclient-9.2.5.0.jar``` has a ```portSet``` flag that would be set via a thread in somewhere in ```setPort()```. Since it is set using a thread, and not via a sequential method call, there is a chance the thread does not start or start later than the current thread that will call ```queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);```. If that happens, the port would be reset to default value.\r\nThis is the snippet of what happen deep inside ```setPort()```\r\n```\r\nif (parent instanceof MQConnectionFactory) {\r\n                AccessController.doPrivileged(new PrivilegedAction&lt;Object&gt;() {\r\n                    public Object run() {\r\n                        if (Trace.isOn) {\r\n                            Trace.entry(this, &quot;com.ibm.msg.client.wmq.factories.WMQPortPropertyValidator&quot;, &quot;run()&quot;);\r\n                        }\r\n\r\n                        try {\r\n                            Field portSetField = MQConnectionFactory.class.getDeclaredField(&quot;portSet&quot;);\r\n                            portSetField.setAccessible(true);\r\n                            portSetField.setBoolean(parent, true);\r\n```\r\n\r\nand this is the snippet of what happen inside ```queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);```\r\n\r\n```\r\nif (!this.portSet) {\r\n  this.setPort(1414);\r\n  this.portSet = false;\r\n}\r\n```\r\n\r\n**The fix** is VERY SIMPLE! Just need to call ```setTransportType``` before calling ```setPort```\r\n```\r\nqueueConnectionFactory = new MQQueueConnectionFactory();\r\n// call setTransportType first\r\nqueueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\r\nqueueConnectionFactory.setQueueManager(queueInfo.getQueueManager());\r\nqueueConnectionFactory.setHostName(queueInfo.getHostname());\r\nqueueConnectionFactory.setChannel(queueInfo.getChannel());\r\n// call setPort last\r\nqueueConnectionFactory.setPort(queueInfo.getPort());\r\nmqConn = (MQQueueConnection) queueConnectionFactory.createQueueConnection();\r\n                \r\n```\r\n","title":"During high load MQQueueConnectionFactory suddenly change port to default port 1414","body":"<p>An update on this item.\nI put logging in various place to log the port number. Then we found out that the port in <code>queueConnectionFactory</code> was intermittently reset to default port after calling <code>queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);</code></p>\n<p>After updating the log level of ibm mq to TRACE, I found that new MQ library <code>com.ibm.mq.allclient-9.2.5.0.jar</code> has a <code>portSet</code> flag that would be set via a thread in somewhere in <code>setPort()</code>. Since it is set using a thread, and not via a sequential method call, there is a chance the thread does not start or start later than the current thread that will call <code>queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);</code>. If that happens, the port would be reset to default value.\nThis is the snippet of what happen deep inside <code>setPort()</code></p>\n<pre><code>if (parent instanceof MQConnectionFactory) {\n                AccessController.doPrivileged(new PrivilegedAction&lt;Object&gt;() {\n                    public Object run() {\n                        if (Trace.isOn) {\n                            Trace.entry(this, &quot;com.ibm.msg.client.wmq.factories.WMQPortPropertyValidator&quot;, &quot;run()&quot;);\n                        }\n\n                        try {\n                            Field portSetField = MQConnectionFactory.class.getDeclaredField(&quot;portSet&quot;);\n                            portSetField.setAccessible(true);\n                            portSetField.setBoolean(parent, true);\n</code></pre>\n<p>and this is the snippet of what happen inside <code>queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);</code></p>\n<pre><code>if (!this.portSet) {\n  this.setPort(1414);\n  this.portSet = false;\n}\n</code></pre>\n<p><strong>The fix</strong> is VERY SIMPLE! Just need to call <code>setTransportType</code> before calling <code>setPort</code></p>\n<pre><code>queueConnectionFactory = new MQQueueConnectionFactory();\n// call setTransportType first\nqueueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\nqueueConnectionFactory.setQueueManager(queueInfo.getQueueManager());\nqueueConnectionFactory.setHostName(queueInfo.getHostname());\nqueueConnectionFactory.setChannel(queueInfo.getChannel());\n// call setPort last\nqueueConnectionFactory.setPort(queueInfo.getPort());\nmqConn = (MQQueueConnection) queueConnectionFactory.createQueueConnection();\n                \n</code></pre>\n"}],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75590762,"answer_count":2,"score":1,"last_activity_date":1677635477,"creation_date":1665476220,"question_id":74025031,"body_markdown":"During high load, we see that the MQQueueConnectionFactory suddenly trying to connect to default MQ port 1414 instead of the assigned port.\r\n\r\n**Background:** &lt;br&gt;\r\nWe use Websphere 9.0.5.13 to deploy an ear file. Java version: 8.0.7.15.\r\nThe server in this Websphere communicate to external IBM MQ. We use IBM MQ library version: com.ibm.mq.allclient-9.2.5.0.jar.\r\nWe connect to 3 different IBM MQ queue managers and hundreds of channels. We don&#39;t use IBM MQ default port numbers i.e. 1414. Instead, we override it to some other ports. \r\nWe always use new MQQueueConnectionFactory before we send to a queue, and close the sender, session, and connection afterwards.\r\n\r\n**Issue:**&lt;br&gt;\r\nAt the start of server, we process multiple queues simultaneously. Most of the time, this causes: \r\n\r\n&gt;JMSCMQ0001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2538&#39; (&#39;MQRC_HOST_NOT_AVAILABLE&#39;).\r\n\r\nDigging deeper, it is because the MQQueueConnectionFactory try to connect to default port 1414 instead of the correct port we have configured.\r\n\r\n&gt;Caused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2538;AMQ9204: Connection to host &#39;ecpmq2(1414)&#39; rejected. [1=com.ibm.mq.jmqi.JmqiException[CC=2;RC=2538;AMQ9204: Connection to host &#39;hostname******/ipaddr***.***.***.***:1414&#39; rejected. [1=java.net.ConnectException[A remote host did not respond within the timeout period. (Connection timed out)],3=hostname******/ipaddr***.***.***.***:1414,4=TCP,5=Socket.connect]],3=hostname******(1414),4=,5=RemoteTCPConnection.bindAndConnectSocket]\r\n\r\nI tried to replicate the scenario in local PC and our test env, but to no avail.\r\n\r\n**Sample Code:**&lt;br/&gt;\r\nThis is the code that we have. Yes, the code is farcry from being efficient, but it still does not explain why suddenly the MQ try to connect to default port.\r\n```\r\n        for (String msg : messages) {\r\n            MQQueueConnectionFactory queueConnectionFactory = null;\r\n            MQQueueConnection mqConn = null;\r\n            try {\r\n                queueConnectionFactory = new MQQueueConnectionFactory();\r\n                queueConnectionFactory.setQueueManager(queueInfo.getQueueManager());\r\n                queueConnectionFactory.setHostName(queueInfo.getHostname());\r\n                queueConnectionFactory.setPort(queueInfo.getPort());\r\n                queueConnectionFactory.setChannel(queueInfo.getChannel());\r\n                queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\r\n                \r\n                mqConn = (MQQueueConnection) queueConnectionFactory.createQueueConnection();\r\n                mqConn.start();\r\n                sendSingleMsg(mqConn, queueInfo.getQueueName(), msg);\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n                printQueueDetails(queueConnectionFactory);\r\n            } finally {\r\n                if (mqConn != null) {\r\n                    try {\r\n                        mqConn.close();\r\n                    } catch (JMSException ex) {\r\n                        log.error(ex.getMessage(), ex);\r\n                    }\r\n                    mqConn = null;\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\n**Question:**&lt;br/&gt;\r\nIs it possible that MQQueueConnectionFactory fail somewhere due to high concurrency and set the port to default port instead of the assigned port? Does it keep some failover set of hostnames and it includes the default port?\r\n","title":"During high load MQQueueConnectionFactory suddenly change port to default port 1414","body":"<p>During high load, we see that the MQQueueConnectionFactory suddenly trying to connect to default MQ port 1414 instead of the assigned port.</p>\n<p><strong>Background:</strong> <br>\nWe use Websphere 9.0.5.13 to deploy an ear file. Java version: 8.0.7.15.\nThe server in this Websphere communicate to external IBM MQ. We use IBM MQ library version: com.ibm.mq.allclient-9.2.5.0.jar.\nWe connect to 3 different IBM MQ queue managers and hundreds of channels. We don't use IBM MQ default port numbers i.e. 1414. Instead, we override it to some other ports.\nWe always use new MQQueueConnectionFactory before we send to a queue, and close the sender, session, and connection afterwards.</p>\n<p><strong>Issue:</strong><br>\nAt the start of server, we process multiple queues simultaneously. Most of the time, this causes:</p>\n<blockquote>\n<p>JMSCMQ0001: IBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2538' ('MQRC_HOST_NOT_AVAILABLE').</p>\n</blockquote>\n<p>Digging deeper, it is because the MQQueueConnectionFactory try to connect to default port 1414 instead of the correct port we have configured.</p>\n<blockquote>\n<p>Caused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2538;AMQ9204: Connection to host 'ecpmq2(1414)' rejected. [1=com.ibm.mq.jmqi.JmqiException[CC=2;RC=2538;AMQ9204: Connection to host 'hostname******/ipaddr***.<em><strong>.</strong></em>.<em><strong>:1414' rejected. [1=java.net.ConnectException[A remote host did not respond within the timeout period. (Connection timed out)],3=hostname</strong></em>***/ipaddr***.<em><strong>.</strong></em>.<em><strong>:1414,4=TCP,5=Socket.connect]],3=hostname</strong></em>***(1414),4=,5=RemoteTCPConnection.bindAndConnectSocket]</p>\n</blockquote>\n<p>I tried to replicate the scenario in local PC and our test env, but to no avail.</p>\n<p><strong>Sample Code:</strong><br/>\nThis is the code that we have. Yes, the code is farcry from being efficient, but it still does not explain why suddenly the MQ try to connect to default port.</p>\n<pre><code>        for (String msg : messages) {\n            MQQueueConnectionFactory queueConnectionFactory = null;\n            MQQueueConnection mqConn = null;\n            try {\n                queueConnectionFactory = new MQQueueConnectionFactory();\n                queueConnectionFactory.setQueueManager(queueInfo.getQueueManager());\n                queueConnectionFactory.setHostName(queueInfo.getHostname());\n                queueConnectionFactory.setPort(queueInfo.getPort());\n                queueConnectionFactory.setChannel(queueInfo.getChannel());\n                queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\n                \n                mqConn = (MQQueueConnection) queueConnectionFactory.createQueueConnection();\n                mqConn.start();\n                sendSingleMsg(mqConn, queueInfo.getQueueName(), msg);\n            } catch (Exception e) {\n                log.error(e.getMessage(), e);\n                printQueueDetails(queueConnectionFactory);\n            } finally {\n                if (mqConn != null) {\n                    try {\n                        mqConn.close();\n                    } catch (JMSException ex) {\n                        log.error(ex.getMessage(), ex);\n                    }\n                    mqConn = null;\n                }\n            }\n        }\n</code></pre>\n<p><strong>Question:</strong><br/>\nIs it possible that MQQueueConnectionFactory fail somewhere due to high concurrency and set the port to default port instead of the assigned port? Does it keep some failover set of hostnames and it includes the default port?</p>\n"},{"tags":["java","hibernate","hibernate-criteria"],"comments":[{"owner":{"account_id":2471260,"reputation":536,"user_id":4411598,"display_name":"jeet427"},"score":0,"creation_date":1677571995,"post_id":75560386,"comment_id":133359374,"body_markdown":"did you consider changing revisoes to a Set i.e. `private Set&lt;DocumentoRevisao&gt; revisoes` and override equals method in DocumentoRevisao if not done already?","body":"did you consider changing revisoes to a Set i.e. <code>private Set&lt;DocumentoRevisao&gt; revisoes</code> and override equals method in DocumentoRevisao if not done already?"}],"answers":[{"tags":[],"owner":{"account_id":5482929,"reputation":34,"user_id":4358701,"display_name":"Sankhadeep Basak"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677634808,"creation_date":1677634808,"answer_id":75598854,"question_id":75560386,"body_markdown":" 1. try this - \r\n\r\n        criteriaQuery.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n        --criteriaQuery.distinct(true);\r\n\r\n 2. Instead of a Collection,\r\n\r\n        @Cascade(org.hibernate.annotations.CascadeType.ALL)\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;document&quot;)\r\n        private Collection&lt;DocumentoRevisao&gt; revisoes;\r\n\r\nyou can use Set, like this\r\n\r\n    @Cascade(org.hibernate.annotations.CascadeType.ALL)\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;documento&quot;)\r\n    private Set&lt;DocumentoRevisao&gt; revisoes;\r\n\r\n","title":"Hibernate - CriteriaQuery duplicating records on One To Many relationship","body":"<ol>\n<li><p>try this -</p>\n<pre><code>criteriaQuery.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n--criteriaQuery.distinct(true);\n</code></pre>\n</li>\n<li><p>Instead of a Collection,</p>\n<pre><code>@Cascade(org.hibernate.annotations.CascadeType.ALL)\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;document&quot;)\nprivate Collection&lt;DocumentoRevisao&gt; revisoes;\n</code></pre>\n</li>\n</ol>\n<p>you can use Set, like this</p>\n<pre><code>@Cascade(org.hibernate.annotations.CascadeType.ALL)\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;documento&quot;)\nprivate Set&lt;DocumentoRevisao&gt; revisoes;\n</code></pre>\n"}],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677634808,"creation_date":1677265057,"question_id":75560386,"body_markdown":"**Introduction**\r\n\r\nI have a legacy code that im having to give maintenance. I Have a code that loads all the child entities from a document entity. It loads fine, however, in the &#39;one to many&#39; relationship (&quot;revisoes&quot;) it brings duplicated records. I&#39;ve attempted to use distinct but it didnt solve it.\r\n\r\n------------\r\n**Description of the problem**\r\n\r\nI have a class named Documento that has several child entities. All the entities are ManyToMany except for &#39;revisoes&#39; which is oneToMany. The code below loads all the entities but &#39;revisoes&#39; has duplicated records.\r\n\r\n How do I solve it in such manner that &quot;revisoes&quot; doesnt bring duplicated records?\r\n\r\n\r\n\r\n\r\n-------------\r\n**Code**\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;documentos&quot;)\r\n    public class Documento extends Model {\r\n    \r\n        @NotFound(action = NotFoundAction.IGNORE)\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        private TipoDeDocumento tipoDeDocumento;\r\n    \r\n        @Column(length = 250, nullable = false, unique = true)\r\n        private String codigo;\r\n    \r\n        @NotFound(action = NotFoundAction.IGNORE)\r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        private Set&lt;QuesitosNormas&gt; quesitosNormas;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        private Set&lt;PontoDeDistribuicao&gt; pontosDistribuicao;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        private Set&lt;Processo&gt; processos;\r\n    \r\n        @Cascade(org.hibernate.annotations.CascadeType.ALL)\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;documento&quot;)\r\n        private Collection&lt;DocumentoRevisao&gt; revisoes;\r\n\r\n\r\n----\r\n\r\n\r\n      @Override\r\n        public Documento find(Long id, Session session, boolean closeSession) {\r\n            try {\r\n                CriteriaBuilder criteriaBuilder = session.getCriteriaBuilder();\r\n                \r\n                CriteriaQuery&lt;Documento&gt; criteriaQuery = criteriaBuilder.createQuery(Documento.class);\r\n          \r\n                Root&lt;Documento&gt; rootDocument = criteriaQuery.from(Documento.class);\r\n                rootDocument.fetch(&quot;quesitosNormas&quot;, JoinType.LEFT); // ManyToMany\r\n                rootDocument.fetch(&quot;pontosDistribuicao&quot;, JoinType.LEFT); // ManyToMany\r\n                rootDocument.fetch(&quot;processos&quot;, JoinType.LEFT); // ManyToMany\r\n                rootDocument.fetch(&quot;tipoDeDocumento&quot;,JoinType.LEFT); //OneToOne\r\n                rootDocument.fetch(&quot;revisoes&quot;, JoinType.LEFT); // OneToMany\r\n                //\r\n                //\r\n                criteriaQuery.select(rootDocument);\r\n                criteriaQuery.where(criteriaBuilder.equal(rootDocument.get(&quot;id&quot;), id));\r\n                criteriaQuery.distinct(true);\r\n    \r\n                Query&lt;Documento&gt; query = session.createQuery(criteriaQuery);\r\n               \r\n                Documento singleResult = query.getSingleResult();\r\n    \r\n                return singleResult;\r\n    \r\n            } catch (Exception ex) {\r\n                throw ex;\r\n            } finally {\r\n                if (session != null &amp;&amp; closeSession) {\r\n                    session.close();\r\n                }\r\n            }\r\n        }\r\n\r\n---------\r\n\r\n\r\n\r\n**References**\r\n\r\nhttps://stackoverflow.com/questions/10017174/hibernate-criteria-fetches-duplicates-one-to-many-association\r\n\r\nhttps://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates\r\n\r\nhttps://stackoverflow.com/questions/43941363/duplicated-results-in-hibernate-onetomany-list?noredirect=1&amp;lq=1\r\n\r\nhttps://davidecerbo.medium.com/one-to-many-relationship-gets-duplicate-objects-without-using-any-tricks-a55012611539","title":"Hibernate - CriteriaQuery duplicating records on One To Many relationship","body":"<p><strong>Introduction</strong></p>\n<p>I have a legacy code that im having to give maintenance. I Have a code that loads all the child entities from a document entity. It loads fine, however, in the 'one to many' relationship (&quot;revisoes&quot;) it brings duplicated records. I've attempted to use distinct but it didnt solve it.</p>\n<hr />\n<p><strong>Description of the problem</strong></p>\n<p>I have a class named Documento that has several child entities. All the entities are ManyToMany except for 'revisoes' which is oneToMany. The code below loads all the entities but 'revisoes' has duplicated records.</p>\n<p>How do I solve it in such manner that &quot;revisoes&quot; doesnt bring duplicated records?</p>\n<hr />\n<p><strong>Code</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;documentos&quot;)\npublic class Documento extends Model {\n\n    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToOne(fetch = FetchType.EAGER)\n    private TipoDeDocumento tipoDeDocumento;\n\n    @Column(length = 250, nullable = false, unique = true)\n    private String codigo;\n\n    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToMany(fetch = FetchType.EAGER)\n    private Set&lt;QuesitosNormas&gt; quesitosNormas;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    private Set&lt;PontoDeDistribuicao&gt; pontosDistribuicao;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    private Set&lt;Processo&gt; processos;\n\n    @Cascade(org.hibernate.annotations.CascadeType.ALL)\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;documento&quot;)\n    private Collection&lt;DocumentoRevisao&gt; revisoes;\n</code></pre>\n<hr />\n<pre><code>  @Override\n    public Documento find(Long id, Session session, boolean closeSession) {\n        try {\n            CriteriaBuilder criteriaBuilder = session.getCriteriaBuilder();\n            \n            CriteriaQuery&lt;Documento&gt; criteriaQuery = criteriaBuilder.createQuery(Documento.class);\n      \n            Root&lt;Documento&gt; rootDocument = criteriaQuery.from(Documento.class);\n            rootDocument.fetch(&quot;quesitosNormas&quot;, JoinType.LEFT); // ManyToMany\n            rootDocument.fetch(&quot;pontosDistribuicao&quot;, JoinType.LEFT); // ManyToMany\n            rootDocument.fetch(&quot;processos&quot;, JoinType.LEFT); // ManyToMany\n            rootDocument.fetch(&quot;tipoDeDocumento&quot;,JoinType.LEFT); //OneToOne\n            rootDocument.fetch(&quot;revisoes&quot;, JoinType.LEFT); // OneToMany\n            //\n            //\n            criteriaQuery.select(rootDocument);\n            criteriaQuery.where(criteriaBuilder.equal(rootDocument.get(&quot;id&quot;), id));\n            criteriaQuery.distinct(true);\n\n            Query&lt;Documento&gt; query = session.createQuery(criteriaQuery);\n           \n            Documento singleResult = query.getSingleResult();\n\n            return singleResult;\n\n        } catch (Exception ex) {\n            throw ex;\n        } finally {\n            if (session != null &amp;&amp; closeSession) {\n                session.close();\n            }\n        }\n    }\n</code></pre>\n<hr />\n<p><strong>References</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/10017174/hibernate-criteria-fetches-duplicates-one-to-many-association\">Hibernate Criteria fetches duplicates - one to many association</a></p>\n<p><a href=\"https://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates\">hibernate OneToMany criteria returns duplicates</a></p>\n<p><a href=\"https://stackoverflow.com/questions/43941363/duplicated-results-in-hibernate-onetomany-list?noredirect=1&amp;lq=1\">Duplicated results in Hibernate OneToMany List</a></p>\n<p><a href=\"https://davidecerbo.medium.com/one-to-many-relationship-gets-duplicate-objects-without-using-any-tricks-a55012611539\" rel=\"nofollow noreferrer\">https://davidecerbo.medium.com/one-to-many-relationship-gets-duplicate-objects-without-using-any-tricks-a55012611539</a></p>\n"},{"tags":["java","android","build.gradle","android-manifest"],"answers":[{"comments":[{"owner":{"account_id":15541478,"reputation":55,"user_id":11299846,"display_name":"bagassprtm"},"score":1,"creation_date":1554283861,"post_id":55486117,"comment_id":97690774,"body_markdown":"I try to update the Android Studio to the latest version, and it solved","body":"I try to update the Android Studio to the latest version, and it solved"}],"tags":[],"owner":{"account_id":15267095,"reputation":599,"user_id":11015369,"display_name":"Ricardinho"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554258165,"creation_date":1554258165,"answer_id":55486117,"question_id":55475916,"body_markdown":"you should try this:\r\n\r\n1:Remove tools:replace=&quot;android:appComponentFactory&quot;\r\n\r\n2:Provide new value for android:appComponentFactory&quot; attribute\r\n\r\nfrom:\r\nhttps://stackoverflow.com/questions/52948912/manifest-merger-failed-error-on-compiling\r\n\r\nit worked for me!","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>you should try this:</p>\n\n<p>1:Remove tools:replace=\"android:appComponentFactory\"</p>\n\n<p>2:Provide new value for android:appComponentFactory\" attribute</p>\n\n<p>from:\n<a href=\"https://stackoverflow.com/questions/52948912/manifest-merger-failed-error-on-compiling\">Manifest merger failed, error on compiling</a></p>\n\n<p>it worked for me!</p>\n"},{"tags":[],"owner":{"account_id":16627345,"reputation":21,"user_id":12016116,"display_name":"Ahmad khodadadegi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568721609,"creation_date":1568721609,"answer_id":57973773,"question_id":55475916,"body_markdown":"I.m **delete** this \r\n    \r\n\r\n - tools:ignore=&quot;GoogleAppIndexingWarning&quot;,\r\n - tools:replace=&quot;android:appComponentFactory&quot;\r\n\r\n\r\nand **fix** this **problem**.good luck :)","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>I.m <strong>delete</strong> this </p>\n\n<ul>\n<li>tools:ignore=\"GoogleAppIndexingWarning\",</li>\n<li>tools:replace=\"android:appComponentFactory\"</li>\n</ul>\n\n<p>and <strong>fix</strong> this <strong>problem</strong>.good luck :)</p>\n"},{"comments":[{"owner":{"account_id":9416915,"reputation":4211,"user_id":7004388,"accept_rate":67,"display_name":"codrp"},"score":1,"creation_date":1583720479,"post_id":58765793,"comment_id":107200331,"body_markdown":"Worked like charm. I was struggling with importing the Ionic app project to Android Studio 3.6. Your answer helped.","body":"Worked like charm. I was struggling with importing the Ionic app project to Android Studio 3.6. Your answer helped."}],"tags":[],"owner":{"account_id":2361922,"reputation":342,"user_id":2068437,"display_name":"Maher"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1583732946,"creation_date":1573212873,"answer_id":58765793,"question_id":55475916,"body_markdown":"For me, the solution was to just migrate to `AndroidX`.\r\n\r\nOn Android Studio, go to:\r\n\r\n&gt; Refactor &gt; Migrate to AndroidX\r\n\r\nclean the project.\r\n","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>For me, the solution was to just migrate to <code>AndroidX</code>.</p>\n\n<p>On Android Studio, go to:</p>\n\n<blockquote>\n  <p>Refactor > Migrate to AndroidX</p>\n</blockquote>\n\n<p>clean the project.</p>\n"},{"tags":[],"owner":{"account_id":10392595,"reputation":83,"user_id":7663327,"display_name":"Kerelos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583258599,"creation_date":1583258599,"answer_id":60513150,"question_id":55475916,"body_markdown":"Just remove the below line:\r\n\r\n    tools:replace=&quot;android:appComponentFactory&quot;\r\n\r\nAnd recompile and finally it works for me!\r\n ","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>Just remove the below line:</p>\n\n<pre><code>tools:replace=\"android:appComponentFactory\"\n</code></pre>\n\n<p>And recompile and finally it works for me!</p>\n"},{"tags":[],"owner":{"account_id":21651173,"reputation":97,"user_id":15971793,"display_name":"Bin Khanjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624197608,"creation_date":1624197608,"answer_id":68056572,"question_id":55475916,"body_markdown":"solve my problem\r\n\r\nRefactor &gt; Migrate to AndroidX\r\n","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>solve my problem</p>\n<p>Refactor &gt; Migrate to AndroidX</p>\n"},{"tags":[],"owner":{"account_id":5598982,"reputation":21,"user_id":4536970,"display_name":"Naveed I"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663651438,"creation_date":1663651438,"answer_id":73781972,"question_id":55475916,"body_markdown":"In my case an error in Manifest file brought about this error at the time of generating apk although app was building flawlessly. \r\n\r\nIt was want of explicit &#39;exported&#39; attribute in activity elements in Manifest file. after that apk too generated successfully .","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>In my case an error in Manifest file brought about this error at the time of generating apk although app was building flawlessly.</p>\n<p>It was want of explicit 'exported' attribute in activity elements in Manifest file. after that apk too generated successfully .</p>\n"},{"tags":[],"owner":{"account_id":24894560,"reputation":331,"user_id":18765988,"display_name":"Nikunj Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677633821,"creation_date":1677633821,"answer_id":75598800,"question_id":55475916,"body_markdown":"I had a similar issue and I have solved by updating Junit dependency from 1.1.3 or later and it solved my problem.\r\n\r\n    androidTestImplementation &quot;androidx.test.ext:junit:1.1.3&quot;","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>I had a similar issue and I have solved by updating Junit dependency from 1.1.3 or later and it solved my problem.</p>\n<pre><code>androidTestImplementation &quot;androidx.test.ext:junit:1.1.3&quot;\n</code></pre>\n"}],"owner":{"account_id":15541478,"reputation":55,"user_id":11299846,"display_name":"bagassprtm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30917,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58765793,"answer_count":7,"score":5,"last_activity_date":1677633821,"creation_date":1554211418,"question_id":55475916,"body_markdown":"The error says that &quot;Error:Execution failed for task &#39;:app:processDebugManifest&#39;. &gt; &quot;\r\nI have tried many solutions on this website but still, the problem is not solved. Please help me\r\n\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;project.myapp&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            tools:replace=&quot;android:appComponentFactory&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nbuild.gradle(Module:app)\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.jakewharton.butterknife&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        defaultConfig {\r\n            applicationId &quot;project.myapp&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 28\r\n            multiDexEnabled true\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n    //    implementation &#39;com.android.support:support-v4:27.1.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:11.0.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:11.0.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:11.0.4&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-firestore:3.0.0&#39;\r\n        implementation &#39;de.hdodenhof:circleimageview:2.0.0&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:3.7.0&#39;\r\n        implementation &#39;com.jakewharton:butterknife:10.1.0&#39;\r\n        annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.1.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nbuild.gradle(Project:myapp)\r\n\r\n    buildscript {\r\n        \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.0.0&#39;\r\n            \r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n            classpath &#39;com.google.gms:google-services:3.1.0&#39;\r\n            classpath &#39;com.jakewharton:butterknife-gradle-plugin:8.5.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nOn Merged Manifest says that\r\n\r\n&gt; Merging Errors: Error: tools:replace specified at line:5 for attribute\r\n&gt; android:appComponentFactory, but no new value specified app main\r\n&gt; manifest (this file), line 4 Error: Validation failed, exiting app\r\n&gt; main manifest (this file)","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>The error says that \"Error:Execution failed for task ':app:processDebugManifest'. > \"\nI have tried many solutions on this website but still, the problem is not solved. Please help me</p>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"project.myapp\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"\n        tools:replace=\"android:appComponentFactory\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>build.gradle(Module:app)</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.jakewharton.butterknife'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"project.myapp\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        multiDexEnabled true\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n//    implementation 'com.android.support:support-v4:27.1.1'\n    implementation 'com.google.firebase:firebase-database:11.0.4'\n    implementation 'com.google.firebase:firebase-auth:11.0.4'\n    implementation 'com.google.firebase:firebase-storage:11.0.4'\n    implementation 'com.firebaseui:firebase-ui-firestore:3.0.0'\n    implementation 'de.hdodenhof:circleimageview:2.0.0'\n    implementation 'com.github.bumptech.glide:glide:3.7.0'\n    implementation 'com.jakewharton:butterknife:10.1.0'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>build.gradle(Project:myapp)</p>\n\n<pre><code>buildscript {\n\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:3.1.0'\n        classpath 'com.jakewharton:butterknife-gradle-plugin:8.5.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>On Merged Manifest says that</p>\n\n<blockquote>\n  <p>Merging Errors: Error: tools:replace specified at line:5 for attribute\n  android:appComponentFactory, but no new value specified app main\n  manifest (this file), line 4 Error: Validation failed, exiting app\n  main manifest (this file)</p>\n</blockquote>\n"},{"tags":["java","memory","double","heap-memory"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1505986737,"post_id":46340478,"comment_id":79640513,"body_markdown":"You have to increase the heap size, but what are you doing that you get consistently OOM exceptions?","body":"You have to increase the heap size, but what are you doing that you get consistently OOM exceptions?"},{"owner":{"account_id":3474961,"reputation":411,"user_id":2908418,"accept_rate":20,"display_name":"kamboj"},"score":0,"creation_date":1505986942,"post_id":46340478,"comment_id":79640674,"body_markdown":"As with the recommendations for byte and short, use a float (instead of double) if you need to save memory in large arrays of floating point numbers [Oracle Java Documentation](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)","body":"As with the recommendations for byte and short, use a float (instead of double) if you need to save memory in large arrays of floating point numbers <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Oracle Java Documentation</a>"},{"owner":{"account_id":4858008,"reputation":276,"user_id":3918488,"display_name":"Abinash"},"score":0,"creation_date":1505987368,"post_id":46340478,"comment_id":79641065,"body_markdown":"float takes up 4 bytes and double takes 8 bytes of storage. So, based on your usage/data size the answer should be obvious. But what exactly are you trying to do and how are you setting the heap size? Could you please provide more information? It might be something else entirely.","body":"float takes up 4 bytes and double takes 8 bytes of storage. So, based on your usage/data size the answer should be obvious. But what exactly are you trying to do and how are you setting the heap size? Could you please provide more information? It might be something else entirely."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1505987539,"post_id":46340478,"comment_id":79641203,"body_markdown":"If precision isn&#39;t your main concern you should use a float, or long, or int, or short, or byte, or bit. At some point it *will* become your main concern. Only you know where that point is.","body":"If precision isn&#39;t your main concern you should use a float, or long, or int, or short, or byte, or bit. At some point it <i>will</i> become your main concern. Only you know where that point is."},{"owner":{"account_id":11373299,"reputation":43,"user_id":8338319,"display_name":"beric dondarrion"},"score":0,"creation_date":1505988966,"post_id":46340478,"comment_id":79642298,"body_markdown":"I consistently get OOM exceptions because I use a great number of ArrayLists with numbers","body":"I consistently get OOM exceptions because I use a great number of ArrayLists with numbers"}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1505992491,"creation_date":1505987935,"answer_id":46340954,"question_id":46340478,"body_markdown":"If your memory usage is related to a huge amount (many millions) of floating-point numbers (which can be verified with a decent memory profiler), then you&#39;re most probably storing them in some data structures like arrays or lists.\r\n\r\nRecommendations (I guess, you are already following most of them...):\r\n\r\n - Prefer `float` over `double` if number range and precision are sufficient, as that consumes only half the size.\r\n - Do not use the `java.lang.Float` or `java.lang.Double` classes for storage, as they hav a considerable memory overhead compared to the naked scalar values.\r\n - Be sure to use arrays, not collections like `java.util.List`, as they store boxed `java.lang.Float` instances instead of the naked numbers.\r\n\r\nBut above that, have a decent memory profiler show you which instances occupy most of your memory. Maybe there are other memory consumers besides the float/double data.\r\n\r\nEDIT:\r\n\r\nThe OP&#39;s recent comment &quot;I consistently get OOM exceptions because I use a great number of ArrayLists with numbers&quot; makes it clear. `ArrayList&lt;Float&gt;` wastes a lot of memory when compared to `float[]` (Stephen C gave detailed numbers in his answer), but gives the benefit of dynamic resizing.\r\n\r\nSo, I see the following possibilities:\r\n\r\n - If you can tell the array size from the beginning, then immediately use `float[]` arrays.\r\n - If you need the dynamic size while initializing instances, use `ArrayList&lt;Float&gt;` while building one object (when size still increases), and then copy the contents to a `float[]` array for long-term storage. Then the wasteful ArrayLists exist only for a limited timespan.\r\n - If you need dynamic sizes over the whole lifespan of your data, create your own `FloatArrayList` class based on a `float[]` array, resembling the `ArrayList&lt;Float&gt;` as far as your code needs it (that can range from a very shallow implementation up to a full-featured List, maybe based on `AbstractList`).","title":"Float or double type in terms of storage and memory","body":"<p>If your memory usage is related to a huge amount (many millions) of floating-point numbers (which can be verified with a decent memory profiler), then you're most probably storing them in some data structures like arrays or lists.</p>\n\n<p>Recommendations (I guess, you are already following most of them...):</p>\n\n<ul>\n<li>Prefer <code>float</code> over <code>double</code> if number range and precision are sufficient, as that consumes only half the size.</li>\n<li>Do not use the <code>java.lang.Float</code> or <code>java.lang.Double</code> classes for storage, as they hav a considerable memory overhead compared to the naked scalar values.</li>\n<li>Be sure to use arrays, not collections like <code>java.util.List</code>, as they store boxed <code>java.lang.Float</code> instances instead of the naked numbers.</li>\n</ul>\n\n<p>But above that, have a decent memory profiler show you which instances occupy most of your memory. Maybe there are other memory consumers besides the float/double data.</p>\n\n<p>EDIT:</p>\n\n<p>The OP's recent comment \"I consistently get OOM exceptions because I use a great number of ArrayLists with numbers\" makes it clear. <code>ArrayList&lt;Float&gt;</code> wastes a lot of memory when compared to <code>float[]</code> (Stephen C gave detailed numbers in his answer), but gives the benefit of dynamic resizing.</p>\n\n<p>So, I see the following possibilities:</p>\n\n<ul>\n<li>If you can tell the array size from the beginning, then immediately use <code>float[]</code> arrays.</li>\n<li>If you need the dynamic size while initializing instances, use <code>ArrayList&lt;Float&gt;</code> while building one object (when size still increases), and then copy the contents to a <code>float[]</code> array for long-term storage. Then the wasteful ArrayLists exist only for a limited timespan.</li>\n<li>If you need dynamic sizes over the whole lifespan of your data, create your own <code>FloatArrayList</code> class based on a <code>float[]</code> array, resembling the <code>ArrayList&lt;Float&gt;</code> as far as your code needs it (that can range from a very shallow implementation up to a full-featured List, maybe based on <code>AbstractList</code>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677632510,"creation_date":1505990369,"answer_id":46341774,"question_id":46340478,"body_markdown":"&gt; I consistently get OOM exceptions because I use a great number of ArrayLists with numbers.\r\n\r\nWell **that** is your problem!\r\n\r\n  - An `ArrayList` of N 32-bit floating point values takes at least&lt;sup&gt;1&lt;/sup&gt; 20 * N bytes in a 32-bit JVM and 24 * N bytes in a 64-bit JVM&lt;sup&gt;2&lt;/sup&gt;.  \r\n\r\n  - An `ArrayList` of N 64-bit floating point values takes **the same amount of space**&lt;sup&gt;3&lt;/sup&gt;.\r\n\r\n  - The above only accounts for the backing array and the list elements.  If you have huge numbers of small `ArrayList` objects, the overhead of the `ArrayList` object itself may be significant.  (Add 16 or 24 bytes for each `ArrayList` object`.)\r\n\r\n  - If you make use of dynamic resizing, this may generate object churn as the backing array grows.  At some points, the backing array may be as much as twice as large as it needs to be.\r\n\r\nBy contrast:\r\n\r\n  - An array of 32-bit floating point values takes approximately 4 * N bytes&lt;sup&gt;4&lt;/sup&gt;.\r\n\r\n  - An array of 64-bit floating point values takes approximately 8 * N bytes&lt;sup&gt;4&lt;/sup&gt;.\r\n\r\n  - There is no wastage due to dynamic resizing.  But you need to specify the correct size at allocation time.\r\n\r\nSolutions: \r\n\r\n  1. `ArrayList&lt;Float&gt;` versus `ArrayList&lt;Double&gt;` makes no difference.  It is NOT a solution\r\n\r\n  2. For maximal saving, use `float[]` or `double[]` depending on your precision requirements.  Preallocate the arrays to hold the exact number of elements required.\r\n\r\n  3. If you want the flexibility of dynamic resizing there are 3rd-party libraries that implement space efficient lists of primitive types.  Alternatively implement your own.  However, you won&#39;t be able to use the standard `List&lt;...&gt;` API because that forces you down the path of using `Float` OR `Double`.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - The actual space used depends on how the `ArrayList` was created and populated.  If you pre-allocate an `ArrayList` with exactly the correct capacity, you will use the space I said above.  If you build the array by repeatedly appending to an `ArrayList` with the default initial capacity, you will use *on average* N * 2 bytes extra space for a 32-bit JVM.  This is due to the heuristic that `ArrayList` uses to grow the backing array when it is full.&lt;br/&gt;\r\n2 - On a 64-bit JVM, a pointer occupies 8 bytes rather than 4 ... unless you are using compressed oops.&lt;br/&gt;\r\n3 - The reason it takes the same amount of bytes is that on a typical JVM a `Float` and a `Double` are both 16 bytes due to heap node padding.&lt;br/&gt;\r\n4 - There is a header overhead of (typically) 12 bytes per array, and the array&#39;s heap node size is padded to a multiple of 8 bytes.&lt;/sup&gt; ","title":"Float or double type in terms of storage and memory","body":"<blockquote>\n<p>I consistently get OOM exceptions because I use a great number of ArrayLists with numbers.</p>\n</blockquote>\n<p>Well <strong>that</strong> is your problem!</p>\n<ul>\n<li><p>An <code>ArrayList</code> of N 32-bit floating point values takes at least<sup>1</sup> 20 * N bytes in a 32-bit JVM and 24 * N bytes in a 64-bit JVM<sup>2</sup>.</p>\n</li>\n<li><p>An <code>ArrayList</code> of N 64-bit floating point values takes <strong>the same amount of space</strong><sup>3</sup>.</p>\n</li>\n<li><p>The above only accounts for the backing array and the list elements.  If you have huge numbers of small <code>ArrayList</code> objects, the overhead of the <code>ArrayList</code> object itself may be significant.  (Add 16 or 24 bytes for each <code>ArrayList</code> object`.)</p>\n</li>\n<li><p>If you make use of dynamic resizing, this may generate object churn as the backing array grows.  At some points, the backing array may be as much as twice as large as it needs to be.</p>\n</li>\n</ul>\n<p>By contrast:</p>\n<ul>\n<li><p>An array of 32-bit floating point values takes approximately 4 * N bytes<sup>4</sup>.</p>\n</li>\n<li><p>An array of 64-bit floating point values takes approximately 8 * N bytes<sup>4</sup>.</p>\n</li>\n<li><p>There is no wastage due to dynamic resizing.  But you need to specify the correct size at allocation time.</p>\n</li>\n</ul>\n<p>Solutions:</p>\n<ol>\n<li><p><code>ArrayList&lt;Float&gt;</code> versus <code>ArrayList&lt;Double&gt;</code> makes no difference.  It is NOT a solution</p>\n</li>\n<li><p>For maximal saving, use <code>float[]</code> or <code>double[]</code> depending on your precision requirements.  Preallocate the arrays to hold the exact number of elements required.</p>\n</li>\n<li><p>If you want the flexibility of dynamic resizing there are 3rd-party libraries that implement space efficient lists of primitive types.  Alternatively implement your own.  However, you won't be able to use the standard <code>List&lt;...&gt;</code> API because that forces you down the path of using <code>Float</code> OR <code>Double</code>.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - The actual space used depends on how the <code>ArrayList</code> was created and populated.  If you pre-allocate an <code>ArrayList</code> with exactly the correct capacity, you will use the space I said above.  If you build the array by repeatedly appending to an <code>ArrayList</code> with the default initial capacity, you will use <em>on average</em> N * 2 bytes extra space for a 32-bit JVM.  This is due to the heuristic that <code>ArrayList</code> uses to grow the backing array when it is full.<br/>\n2 - On a 64-bit JVM, a pointer occupies 8 bytes rather than 4 ... unless you are using compressed oops.<br/>\n3 - The reason it takes the same amount of bytes is that on a typical JVM a <code>Float</code> and a <code>Double</code> are both 16 bytes due to heap node padding.<br/>\n4 - There is a header overhead of (typically) 12 bytes per array, and the array's heap node size is padded to a multiple of 8 bytes.</sup></p>\n"}],"owner":{"account_id":11373299,"reputation":43,"user_id":8338319,"display_name":"beric dondarrion"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5064,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":46340954,"answer_count":2,"score":3,"last_activity_date":1677632510,"creation_date":1505986668,"question_id":46340478,"body_markdown":"I am parsing data where precision is not my main concern. I often get java.lang.OutOfMemoryError even if I use maximum Java heap size. So my main concern here is memory usage, and java heap space. Should I use double or float data type?","title":"Float or double type in terms of storage and memory","body":"<p>I am parsing data where precision is not my main concern. I often get java.lang.OutOfMemoryError even if I use maximum Java heap size. So my main concern here is memory usage, and java heap space. Should I use double or float data type?</p>\n"},{"tags":["java","intellij-idea","settings"],"answers":[{"comments":[{"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"score":1,"creation_date":1280274700,"post_id":3348855,"comment_id":3476255,"body_markdown":"Prior to me putting the high number for the threshold, I had the settings set up like you said already but it still put in the wild card imports (i.e. I had &quot;use single class import&quot; checked and removed all packages in the &quot;packages to use import with *&quot;...","body":"Prior to me putting the high number for the threshold, I had the settings set up like you said already but it still put in the wild card imports (i.e. I had &quot;use single class import&quot; checked and removed all packages in the &quot;packages to use import with *&quot;..."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1280275190,"post_id":3348855,"comment_id":3476283,"body_markdown":"Working for me.  Let me see what else I might have set.  Version 9.0.3 for me.","body":"Working for me.  Let me see what else I might have set.  Version 9.0.3 for me."},{"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"score":1,"creation_date":1280278422,"post_id":3348855,"comment_id":3476565,"body_markdown":"So if you do 11 imports of classes from the same package the wild card import doesn&#39;t kick in?  As a test, I have my threshold set to 2.  If I import something from org.hibernate let&#39;s say, it will put the import correctly (fully qualified).  As soon as I import something else from org.hibernate it will stick in the wild card import, which kind of tells me either my version of intellij doesn&#39;t behave like yours or the only solution is to put a high threshold so I never run into this issue","body":"So if you do 11 imports of classes from the same package the wild card import doesn&#39;t kick in?  As a test, I have my threshold set to 2.  If I import something from org.hibernate let&#39;s say, it will put the import correctly (fully qualified).  As soon as I import something else from org.hibernate it will stick in the wild card import, which kind of tells me either my version of intellij doesn&#39;t behave like yours or the only solution is to put a high threshold so I never run into this issue"},{"owner":{"account_id":153802,"reputation":8952,"user_id":369317,"accept_rate":73,"display_name":"Denys Kniazhev-Support Ukraine"},"score":1,"creation_date":1386777427,"post_id":3348855,"comment_id":30684331,"body_markdown":"If you&#39;re using IntelliJ 12 or later then this can be configured under  &quot;Code Style&quot; -&gt; &quot;Java&quot; -&gt; &quot;Imports&quot;","body":"If you&#39;re using IntelliJ 12 or later then this can be configured under  &quot;Code Style&quot; -&gt; &quot;Java&quot; -&gt; &quot;Imports&quot;"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1386781442,"post_id":3348855,"comment_id":30687217,"body_markdown":"Read my answer - see the &quot;Click on the Settings&quot; bit?  It&#39;s been true since IntelliJ 7.  Already been answered for more than three years.","body":"Read my answer - see the &quot;Click on the Settings&quot; bit?  It&#39;s been true since IntelliJ 7.  Already been answered for more than three years."},{"owner":{"account_id":455918,"reputation":505,"user_id":854387,"accept_rate":60,"display_name":"PotataChipz"},"score":61,"creation_date":1395334422,"post_id":3348855,"comment_id":34302148,"body_markdown":"In case it saves someone else the confusion: In my enthusiasm for never collapsing imports, I put an unreasonably long string of 9&#39;s in the &#39;class count to use...&#39; field, and this caused IntelliJ 12 to silently ignore the value. &#39;9999&#39; works fine.","body":"In case it saves someone else the confusion: In my enthusiasm for never collapsing imports, I put an unreasonably long string of 9&#39;s in the &#39;class count to use...&#39; field, and this caused IntelliJ 12 to silently ignore the value. &#39;9999&#39; works fine."},{"owner":{"account_id":970630,"reputation":955,"user_id":993262,"display_name":"Stephen Hartley"},"score":23,"creation_date":1454943851,"post_id":3348855,"comment_id":58257024,"body_markdown":"Is there really no way to tell Intellij 15 never to use wildcard imports? I mean without specifying a class count??!","body":"Is there really no way to tell Intellij 15 never to use wildcard imports? I mean without specifying a class count??!"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1454964684,"post_id":3348855,"comment_id":58269697,"body_markdown":"Why is adding a class count so oppressive?  Why not ask JetBrains for an enhancement if this is so odious?","body":"Why is adding a class count so oppressive?  Why not ask JetBrains for an enhancement if this is so odious?"},{"owner":{"account_id":104617,"reputation":437,"user_id":279598,"accept_rate":50,"display_name":"MCory"},"score":0,"creation_date":1459879379,"post_id":3348855,"comment_id":60481927,"body_markdown":"For the record (at least in IntelliJ Ultimate 2016), trying to set the value to an extremely large number of 9&#39;s won&#39;t work. If you add more than 5 9&#39;s, the &quot;Apply&quot; button grays itself out and the setting won&#39;t take - instead of just *not* allowing you to only enter 5 9&#39;s. I found this out because I was lazy and just wanted to add a bunch of 9&#39;s to make sure it would never be close to an issue at all :)","body":"For the record (at least in IntelliJ Ultimate 2016), trying to set the value to an extremely large number of 9&#39;s won&#39;t work. If you add more than 5 9&#39;s, the &quot;Apply&quot; button grays itself out and the setting won&#39;t take - instead of just <i>not</i> allowing you to only enter 5 9&#39;s. I found this out because I was lazy and just wanted to add a bunch of 9&#39;s to make sure it would never be close to an issue at all :)"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":43,"creation_date":1459886949,"post_id":3348855,"comment_id":60486820,"body_markdown":"Looks like three nines should be enough. If you need more than a thousand imports I&#39;d say your class should be refactored.","body":"Looks like three nines should be enough. If you need more than a thousand imports I&#39;d say your class should be refactored."},{"owner":{"account_id":189206,"reputation":6121,"user_id":428400,"accept_rate":83,"display_name":"Glenn Bech"},"score":37,"creation_date":1485430691,"post_id":3348855,"comment_id":70926827,"body_markdown":"Can&#39;t believe programmes programmed a program for programmers the way this is programmed.  This confusing dialog is still not fixed in 2016.3, is there a bug for it, or somewhere we can vote?","body":"Can&#39;t believe programmes programmed a program for programmers the way this is programmed.  This confusing dialog is still not fixed in 2016.3, is there a bug for it, or somewhere we can vote?"},{"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"score":1,"creation_date":1538757103,"post_id":3348855,"comment_id":92269589,"body_markdown":"Interesting enough, for *Kotlin* the option is less confusing: &quot;Use import with &#39;*&#39; when at least [99] names used.&quot;","body":"Interesting enough, for <i>Kotlin</i> the option is less confusing: &quot;Use import with &#39;*&#39; when at least [99] names used.&quot;"},{"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"score":0,"creation_date":1675850270,"post_id":3348855,"comment_id":133014918,"body_markdown":"Tried all of this. Nothing works","body":"Tried all of this. Nothing works"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1675863112,"post_id":3348855,"comment_id":133018796,"body_markdown":"Yes it does.  I&#39;m using it now.  I&#39;m running IntelliJ 2022.2.2.","body":"Yes it does.  I&#39;m using it now.  I&#39;m running IntelliJ 2022.2.2."},{"owner":{"account_id":25473881,"reputation":91,"user_id":19271543,"display_name":"PyKKe"},"score":0,"creation_date":1697039444,"post_id":3348855,"comment_id":136230098,"body_markdown":"Unluckly it does not work for me. I&#39;m using IntelliJ 2023.","body":"Unluckly it does not work for me. I&#39;m using IntelliJ 2023."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":15,"down_vote_count":4,"up_vote_count":1132,"is_accepted":true,"score":1128,"last_activity_date":1677632099,"creation_date":1280274312,"answer_id":3348855,"question_id":3348816,"body_markdown":"It&#39;s obvious why you&#39;d want to disable this: To force IntelliJ to include each and every import individually. It makes it easier for people to figure out exactly where classes you&#39;re using come from. Also, linter rules can disallow wildcard imports.\r\n\r\nClick on the Settings &quot;wrench&quot; icon on the toolbar, open &quot;Imports&quot; under &quot;Code Style&quot;, and check the &quot;Use single class import&quot; selection.  You can also completely remove entries under &quot;Packages to use import with `*`&quot;, or specify a threshold value that only uses the &quot;`*`&quot; when the individual classes from a package exceeds that threshold.\r\n\r\n**Update:** in IDEA 13 &quot;Use single class import&quot; does not prevent wildcard imports. The solution is to go to `Preferences` (&lt;kbd&gt;&lt;/kbd&gt; + &lt;kbd&gt;,&lt;/kbd&gt; on macOS / &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt; on Windows and Linux) `&gt; Editor &gt; Code Style &gt; Java &gt; Imports` tab set `Class count to use import with &#39;*&#39;` and `Names count to use static import with &#39;*&#39;` to a higher value. Any value over 99 seems to work fine.\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p>It's obvious why you'd want to disable this: To force IntelliJ to include each and every import individually. It makes it easier for people to figure out exactly where classes you're using come from. Also, linter rules can disallow wildcard imports.</p>\n<p>Click on the Settings &quot;wrench&quot; icon on the toolbar, open &quot;Imports&quot; under &quot;Code Style&quot;, and check the &quot;Use single class import&quot; selection.  You can also completely remove entries under &quot;Packages to use import with <code>*</code>&quot;, or specify a threshold value that only uses the &quot;<code>*</code>&quot; when the individual classes from a package exceeds that threshold.</p>\n<p><strong>Update:</strong> in IDEA 13 &quot;Use single class import&quot; does not prevent wildcard imports. The solution is to go to <code>Preferences</code> (<kbd></kbd> + <kbd>,</kbd> on macOS / <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd> on Windows and Linux) <code>&gt; Editor &gt; Code Style &gt; Java &gt; Imports</code> tab set <code>Class count to use import with '*'</code> and <code>Names count to use static import with '*'</code> to a higher value. Any value over 99 seems to work fine.</p>\n"},{"tags":[],"owner":{"account_id":1077468,"reputation":20917,"user_id":1075289,"accept_rate":65,"display_name":"Amio.io"},"comment_count":0,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1399020290,"creation_date":1399020290,"answer_id":23424124,"question_id":3348816,"body_markdown":"The solution above was not working for me. I had to set &#39;class count to use import with &#39;*&#39;&#39; to a high value, e.g. 999.","title":"IntelliJ: Never use wildcard imports","body":"<p>The solution above was not working for me. I had to set 'class count to use import with '*'' to a high value, e.g. 999.</p>\n"},{"comments":[{"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"score":1,"creation_date":1695735081,"post_id":25916603,"comment_id":136062002,"body_markdown":"It&#39;s sad that after moving away from Java almost 9 years and I come back to the same stack overflow question with the same answer and I go to upvote it and I already upvoted it.","body":"It&#39;s sad that after moving away from Java almost 9 years and I come back to the same stack overflow question with the same answer and I go to upvote it and I already upvoted it."}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"down_vote_count":0,"up_vote_count":387,"is_accepted":false,"score":387,"last_activity_date":1500560348,"creation_date":1411053599,"answer_id":25916603,"question_id":3348816,"body_markdown":"1. File\\Settings... (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;)\r\n2. Project Settings &gt; Editor &gt; Code Style &gt; Java &gt; Imports tab\r\n3. Set **Class count to use import with &#39;*&#39;** to 999\r\n4. Set **Names count to use static import with &#39;*&#39;** to 999\r\n\r\nAfter this, your configuration should look like:\r\n![enter image description here][1]\r\n\r\n(On IntelliJ IDEA 13.x, 14.x, 15.x, 2016.x, 2017.x)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/J4xwT.png","title":"IntelliJ: Never use wildcard imports","body":"<ol>\n<li>File\\Settings... (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd>)</li>\n<li>Project Settings > Editor > Code Style > Java > Imports tab</li>\n<li>Set <strong>Class count to use import with '*'</strong> to 999</li>\n<li>Set <strong>Names count to use static import with '*'</strong> to 999</li>\n</ol>\n\n<p>After this, your configuration should look like:\n<img src=\"https://i.stack.imgur.com/J4xwT.png\" alt=\"enter image description here\"></p>\n\n<p>(On IntelliJ IDEA 13.x, 14.x, 15.x, 2016.x, 2017.x)</p>\n"},{"tags":[],"owner":{"account_id":3963820,"reputation":91,"user_id":3270332,"display_name":"Heungwoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1495197082,"creation_date":1495197082,"answer_id":44070198,"question_id":3348816,"body_markdown":"If non of above works for you, then it is worth to check if you have any packages under Preference &gt; Editor &gt; Code Style &gt; Java &gt; Imports &gt; Packages to Use Import with &quot;*&quot;\r\n\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p>If non of above works for you, then it is worth to check if you have any packages under Preference > Editor > Code Style > Java > Imports > Packages to Use Import with \"*\"</p>\n"},{"comments":[{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":4,"creation_date":1536612386,"post_id":47892584,"comment_id":91478506,"body_markdown":"IntelliJ considers collapsing imports with * to be an optimization, by default.","body":"IntelliJ considers collapsing imports with * to be an optimization, by default."},{"owner":{"account_id":7438041,"reputation":329,"user_id":5656753,"display_name":"Grizz"},"score":2,"creation_date":1544832971,"post_id":47892584,"comment_id":94428408,"body_markdown":"I disagree with &quot;you don&#39;t want to change preferences&quot; but the keyboard shortcut worked for me!","body":"I disagree with &quot;you don&#39;t want to change preferences&quot; but the keyboard shortcut worked for me!"},{"owner":{"account_id":2613775,"reputation":2342,"user_id":2263329,"display_name":"Mahmudul Hasan Shohag"},"score":0,"creation_date":1634587616,"post_id":47892584,"comment_id":123060591,"body_markdown":"If you change the settings like [this](https://stackoverflow.com/a/68287592/2263329) and then `Ctrl + Alt + O` (on Linux) or `Ctrl + Option + O` (on Mac), then the IDE will remove the `Wildcard import`s and add necessary single name imports.","body":"If you change the settings like <a href=\"https://stackoverflow.com/a/68287592/2263329\">this</a> and then <code>Ctrl + Alt + O</code> (on Linux) or <code>Ctrl + Option + O</code> (on Mac), then the IDE will remove the <code>Wildcard import</code>s and add necessary single name imports."}],"tags":[],"owner":{"account_id":9566940,"reputation":488,"user_id":7105922,"display_name":"Alex Green"},"comment_count":3,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1513705772,"creation_date":1513705772,"answer_id":47892584,"question_id":3348816,"body_markdown":"If you don&#39;t want to change preferences, you can optimize imports by pressing Ctrl+Option+o on Mac or Ctrl+Alt+o on Windows/Linux and this will replace all imports with single imports in current file.","title":"IntelliJ: Never use wildcard imports","body":"<p>If you don't want to change preferences, you can optimize imports by pressing Ctrl+Option+o on Mac or Ctrl+Alt+o on Windows/Linux and this will replace all imports with single imports in current file.</p>\n"},{"tags":[],"owner":{"account_id":3318177,"reputation":307,"user_id":2789973,"display_name":"user2789973"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513797763,"creation_date":1513797763,"answer_id":47913035,"question_id":3348816,"body_markdown":"Shortcut doing this on Mac:\r\nPress command+Shift+A (Action) and type &quot;class count to use import with *&quot;\r\nPress Enter. Enter a higher number there like 999","title":"IntelliJ: Never use wildcard imports","body":"<p>Shortcut doing this on Mac:\nPress command+Shift+A (Action) and type \"class count to use import with *\"\nPress Enter. Enter a higher number there like 999</p>\n"},{"tags":[],"owner":{"account_id":6075853,"reputation":2617,"user_id":4743242,"display_name":"Kanke"},"comment_count":0,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1527847557,"creation_date":1527847557,"answer_id":50641030,"question_id":3348816,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Da7X3.png\r\n\r\nIntelliJ IDEA 2018.1.4 (Ultimate Edition)\r\nbuilt on May 16, 2018\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p><a href=\"https://i.stack.imgur.com/Da7X3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Da7X3.png\" alt=\"enter image description here\"></a></p>\n\n<p>IntelliJ IDEA 2018.1.4 (Ultimate Edition)\nbuilt on May 16, 2018</p>\n"},{"comments":[{"owner":{"account_id":158042,"reputation":8997,"user_id":376390,"accept_rate":56,"display_name":"Marco"},"score":35,"creation_date":1536140323,"post_id":51690501,"comment_id":91313719,"body_markdown":"You&#39;re not the only dum-dum out there.. /:( :)","body":"You&#39;re not the only dum-dum out there.. /:( :)"},{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":0,"creation_date":1597740586,"post_id":51690501,"comment_id":112225438,"body_markdown":"I had the same issue with Groovy.","body":"I had the same issue with Groovy."}],"tags":[],"owner":{"account_id":1843009,"reputation":7936,"user_id":1672027,"accept_rate":94,"display_name":"Matt Klein"},"comment_count":2,"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1533427937,"creation_date":1533427937,"answer_id":51690501,"question_id":3348816,"body_markdown":"Like a dum-dum I couldn&#39;t figure out why none of these answers were working for my Kotlin files for `java.util.*`, so if this is happening to you then:\r\n\r\n    Preferences\r\n    &gt; Editor\r\n    &gt; Code Style\r\n    &gt; **Kotlin**\r\n    &gt; Imports\r\n    &gt; Packages to Use Import with &#39;*&#39;\r\n    -&gt; Remove &#39;java.util.*&#39;\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p>Like a dum-dum I couldn't figure out why none of these answers were working for my Kotlin files for <code>java.util.*</code>, so if this is happening to you then:</p>\n\n<pre><code>Preferences\n&gt; Editor\n&gt; Code Style\n&gt; **Kotlin**\n&gt; Imports\n&gt; Packages to Use Import with '*'\n-&gt; Remove 'java.util.*'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1291993,"reputation":1343,"user_id":1243910,"display_name":"Neeraj Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1572494041,"creation_date":1572494041,"answer_id":58636702,"question_id":3348816,"body_markdown":"This applies to &quot;IntelliJ IDEA-2019.2.4&quot; on Mac.\r\n\r\n 1. Navigate to &quot;IntelliJ IDEA-&gt;Preferences-&gt;Editor-&gt;Code Style-&gt;Kotlin&quot;.\r\n 2. The &quot;Packages to use Import with &#39;*&#39; section on the screen will list &quot;import java.util.*&quot;\r\n\r\n[![Before][1]][1]\r\n\r\n 3. Click anywhere in that box and clear that entry.\r\n 4. Hit Apply and OK.\r\n\r\n\r\n[![After][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BXCYt.png\r\n  [2]: https://i.stack.imgur.com/xwDkO.png","title":"IntelliJ: Never use wildcard imports","body":"<p>This applies to \"IntelliJ IDEA-2019.2.4\" on Mac.</p>\n\n<ol>\n<li>Navigate to \"IntelliJ IDEA->Preferences->Editor->Code Style->Kotlin\".</li>\n<li>The \"Packages to use Import with '<em>' section on the screen will list \"import java.util.</em>\"</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/BXCYt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BXCYt.png\" alt=\"Before\"></a></p>\n\n<ol start=\"3\">\n<li>Click anywhere in that box and clear that entry.</li>\n<li>Hit Apply and OK.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/xwDkO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xwDkO.png\" alt=\"After\"></a></p>\n"},{"tags":[],"owner":{"account_id":14037539,"reputation":373,"user_id":10139862,"display_name":"user84"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1594393923,"creation_date":1594393923,"answer_id":62837256,"question_id":3348816,"body_markdown":"This applies for &quot;Intellij Idea- 2020.1.2&quot; on window\r\n\r\nNavigate to &quot;IntelliJ IDEA-&gt;File-&gt;Settings-&gt;Editor-&gt;Code Style-&gt;java&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/94GRg.png","title":"IntelliJ: Never use wildcard imports","body":"<p>This applies for &quot;Intellij Idea- 2020.1.2&quot; on window</p>\n<p>Navigate to &quot;IntelliJ IDEA-&gt;File-&gt;Settings-&gt;Editor-&gt;Code Style-&gt;java&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/94GRg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/94GRg.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"score":0,"creation_date":1632934750,"post_id":67844641,"comment_id":122630021,"body_markdown":"@wakedeer not that I&#39;m aware of, this was the original question asked and consensus so far seems to be to use 999.","body":"@wakedeer not that I&#39;m aware of, this was the original question asked and consensus so far seems to be to use 999."},{"owner":{"account_id":376356,"reputation":13776,"user_id":727768,"accept_rate":91,"display_name":"X.Y."},"score":0,"creation_date":1646679227,"post_id":67844641,"comment_id":126178789,"body_markdown":"999 is enough, but the max is 2147483647. This is from autogenerated kotlin rule I found.","body":"999 is enough, but the max is 2147483647. This is from autogenerated kotlin rule I found."}],"tags":[],"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1622845596,"creation_date":1622845596,"answer_id":67844641,"question_id":3348816,"body_markdown":"Adding the following to the **.editorconfig** file saves having to apply the settings every time the project is reimported from scratch:\r\n\r\n    [*.java]\r\n    ij_java_names_count_to_use_import_on_demand = 999\r\n    ij_java_class_count_to_use_import_on_demand = 999\r\n\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p>Adding the following to the <strong>.editorconfig</strong> file saves having to apply the settings every time the project is reimported from scratch:</p>\n<pre><code>[*.java]\nij_java_names_count_to_use_import_on_demand = 999\nij_java_class_count_to_use_import_on_demand = 999\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33695,"reputation":366,"user_id":94523,"accept_rate":100,"display_name":"h-bomb"},"score":1,"creation_date":1631044398,"post_id":68287592,"comment_id":122116532,"body_markdown":"Thanks, @CoolMind. This is the only thing that worked for me - I couldn&#39;t just uncheck `import java.util.*` (macOS Big Sur / Android Studio Arctic Fox 2020.3.1 Patch 1).","body":"Thanks, @CoolMind. This is the only thing that worked for me - I couldn&#39;t just uncheck <code>import java.util.*</code> (macOS Big Sur / Android Studio Arctic Fox 2020.3.1 Patch 1)."},{"owner":{"account_id":9283832,"reputation":2572,"user_id":6894338,"display_name":"Ash"},"score":0,"creation_date":1660655812,"post_id":68287592,"comment_id":129579289,"body_markdown":"worked for me on Intellij 2022.1.3 Ultimate Edition - Optimize imports shortcut now working as expected. kotlin spotless linter drove me here","body":"worked for me on Intellij 2022.1.3 Ultimate Edition - Optimize imports shortcut now working as expected. kotlin spotless linter drove me here"},{"owner":{"account_id":248860,"reputation":2568,"user_id":524504,"accept_rate":75,"display_name":"masterxilo"},"score":0,"creation_date":1663776367,"post_id":68287592,"comment_id":130320527,"body_markdown":"is there a way to also explicitly import stuff from java.lang ?","body":"is there a way to also explicitly import stuff from java.lang ?"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1663796258,"post_id":68287592,"comment_id":130326582,"body_markdown":"@masterxilo, sorry, are other solutions it this topic working? For instance, setting `Class count to use import with &#39;*&#39;` to 999.","body":"@masterxilo, sorry, are other solutions it this topic working? For instance, setting <code>Class count to use import with &#39;*&#39;</code> to 999."},{"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"score":0,"creation_date":1675850475,"post_id":68287592,"comment_id":133014992,"body_markdown":"Yup, also doesn&#39;t work","body":"Yup, also doesn&#39;t work"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1675850997,"post_id":68287592,"comment_id":133015167,"body_markdown":"@frankelot, in Android Studio? Well, many people consider it works. :-)","body":"@frankelot, in Android Studio? Well, many people consider it works. :-)"},{"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"score":0,"creation_date":1675946138,"post_id":68287592,"comment_id":133039265,"body_markdown":"@CoolMind CLion, I believe your answer is 100% correct btw - the IDE has a bug","body":"@CoolMind CLion, I believe your answer is 100% correct btw - the IDE has a bug"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1675946710,"post_id":68287592,"comment_id":133039420,"body_markdown":"@frankelot, probably CLion has a bug, I don&#39;t know. Yesterday checked this answer - it worked.","body":"@frankelot, probably CLion has a bug, I don&#39;t know. Yesterday checked this answer - it worked."}],"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":8,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1657638933,"creation_date":1625666749,"answer_id":68287592,"question_id":3348816,"body_markdown":"In Android Studio with Kotlin.\r\n\r\nFile &gt; Settings,\r\n\r\nEditor &gt; Code Style &gt; Kotlin, then &quot;Imports&quot; tab, select &quot;Use single name import&quot;.\r\n\r\nAlso remove `import java.util.*`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eBT1d.png","title":"IntelliJ: Never use wildcard imports","body":"<p>In Android Studio with Kotlin.</p>\n<p>File &gt; Settings,</p>\n<p>Editor &gt; Code Style &gt; Kotlin, then &quot;Imports&quot; tab, select &quot;Use single name import&quot;.</p>\n<p>Also remove <code>import java.util.*</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/eBT1d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eBT1d.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1935092,"reputation":1777,"user_id":1743551,"accept_rate":58,"display_name":"Sandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633961135,"creation_date":1633961135,"answer_id":69527537,"question_id":3348816,"body_markdown":"On a related note: If your `java.util` packages are still not resolved to single imports today then it might be, that you are looking at a Kotlin file while trying to change the settings for Java like I did. :-) There are the same settings for Kotlin that fixes that.","title":"IntelliJ: Never use wildcard imports","body":"<p>On a related note: If your <code>java.util</code> packages are still not resolved to single imports today then it might be, that you are looking at a Kotlin file while trying to change the settings for Java like I did. :-) There are the same settings for Kotlin that fixes that.</p>\n"},{"tags":[],"owner":{"account_id":2215121,"reputation":71,"user_id":1955951,"display_name":"Dyego Sutil"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664962024,"creation_date":1664962024,"answer_id":73958373,"question_id":3348816,"body_markdown":"If you are using Kotlin and the solution did not work for you, remember that you have to go to ***Editor &gt; Code Style &gt; Koltin &gt; Imports tab*** and not Java &gt; Imports tab ;)","title":"IntelliJ: Never use wildcard imports","body":"<p>If you are using Kotlin and the solution did not work for you, remember that you have to go to <em><strong>Editor &gt; Code Style &gt; Koltin &gt; Imports tab</strong></em> and not Java &gt; Imports tab ;)</p>\n"}],"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311682,"favorite_count":0,"down_vote_count":2,"up_vote_count":827,"accepted_answer_id":3348855,"answer_count":14,"score":825,"last_activity_date":1677632099,"creation_date":1280273793,"question_id":3348816,"body_markdown":"Is there a way to tell IntelliJ never to use wildcard imports?\r\nUnder &#39;Settings &gt; Code Style &gt; Imports&#39;, I can see that you can specify the &#39;class count&#39; prior to IntelliJ using wildcard imports.  However, if I never want to use wildcard imports can I turn this functionality off?  \r\n\r\nI have tried putting -1 or leaving the field blank but that just tells IntelliJ to always use wildcard imports.  Obviously a not-so-nice solution would be to put a ridiculously high number so that you never encounter wildcard imports but I was hoping there was a nicer way to just turn it off.","title":"IntelliJ: Never use wildcard imports","body":"<p>Is there a way to tell IntelliJ never to use wildcard imports?\nUnder 'Settings > Code Style > Imports', I can see that you can specify the 'class count' prior to IntelliJ using wildcard imports.  However, if I never want to use wildcard imports can I turn this functionality off?  </p>\n\n<p>I have tried putting -1 or leaving the field blank but that just tells IntelliJ to always use wildcard imports.  Obviously a not-so-nice solution would be to put a ridiculously high number so that you never encounter wildcard imports but I was hoping there was a nicer way to just turn it off.</p>\n"},{"tags":["java","spring","spring-boot","jpa","javabeans"],"comments":[{"owner":{"account_id":4400276,"reputation":119,"user_id":6402843,"display_name":"Montaser Mahadi"},"score":0,"creation_date":1677396650,"post_id":75569055,"comment_id":133327003,"body_markdown":"I think you need to add something like this in your repository -&gt; Page&lt;Employee&gt; findAll(Pageable pageable);","body":"I think you need to add something like this in your repository -&gt; Page&lt;Employee&gt; findAll(Pageable pageable);"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677594466,"post_id":75569055,"comment_id":133366087,"body_markdown":"Which DB are you using? There are some starters missing in pom.xml and some  spring.datasource properties missing from application.properties.","body":"Which DB are you using? There are some starters missing in pom.xml and some  spring.datasource properties missing from application.properties."}],"answers":[{"tags":[],"owner":{"account_id":18202963,"reputation":41,"user_id":13246790,"display_name":"Paul_K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677593878,"creation_date":1677593878,"answer_id":75593261,"question_id":75569055,"body_markdown":"Try to add bean in @Configuration annotated class. \r\n```\r\n@EnableJpaRepositories(&quot;com.example.springbootproject.repository&quot;)\r\n@Configuration\r\npublic class DataJpaConfig {\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource) {\r\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        vendorAdapter.setDatabasePlatform(&quot;org.hibernate.dialect.MySQL5Dialect&quot;);\r\n        vendorAdapter.setGenerateDdl(false);\r\n        vendorAdapter.setShowSql(true);\r\n\r\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n        factory.setJpaVendorAdapter(vendorAdapter);\r\n        factory.setDataSource(dataSource);\r\n        factory.setPackagesToScan(&quot;com.example.springbootproject.model&quot;);\r\n\r\n        return factory;\r\n    }\r\n\r\n    @Bean(name=&quot;transactionManager&quot;)\r\n    public PlatformTransactionManager dbTransactionManager(LocalContainerEntityManagerFactoryBean entityManagerFactory) {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(entityManagerFactory.getObject());\r\n        return transactionManager;\r\n    }\r\n}\r\n\r\n```\r\n\r\nchange vendorAdapter.setDatabasePlatform() depending on your database","title":"How do I define entityManagerFactory bean in my configuration","body":"<p>Try to add bean in @Configuration annotated class.</p>\n<pre><code>@EnableJpaRepositories(&quot;com.example.springbootproject.repository&quot;)\n@Configuration\npublic class DataJpaConfig {\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource) {\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        vendorAdapter.setDatabasePlatform(&quot;org.hibernate.dialect.MySQL5Dialect&quot;);\n        vendorAdapter.setGenerateDdl(false);\n        vendorAdapter.setShowSql(true);\n\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n        factory.setJpaVendorAdapter(vendorAdapter);\n        factory.setDataSource(dataSource);\n        factory.setPackagesToScan(&quot;com.example.springbootproject.model&quot;);\n\n        return factory;\n    }\n\n    @Bean(name=&quot;transactionManager&quot;)\n    public PlatformTransactionManager dbTransactionManager(LocalContainerEntityManagerFactoryBean entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory.getObject());\n        return transactionManager;\n    }\n}\n\n</code></pre>\n<p>change vendorAdapter.setDatabasePlatform() depending on your database</p>\n"}],"owner":{"account_id":25235292,"reputation":1,"user_id":19069898,"display_name":"Tomas Luarasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677631913,"creation_date":1677367360,"question_id":75569055,"body_markdown":"I am working on a spring boot project for a simple employee management system using JPA. This is my first project in spring. I am getting an error with this entityManagerFactory bean as described in the title. I am trying to understand where to define the bean(s) that it is mentioning/ where my &quot;configuration&quot; is.\r\n\r\nMy project structure is setup as below:\r\n\r\n\r\n```\r\nsrc/\r\n main/\r\n    java/\r\n|        com.example.springbootproject/\r\n|            SpringBootApplication.java\r\n|            controller/\r\n|           |    EmployeeController.java\r\n|            model/\r\n|           |    Employee.java\r\n|            repository/\r\n|           |    EmployeeRepository.java\r\n|            service/\r\n|                EmployeeService.java\r\n|                EmployeeServiceImpl.java\r\n resources/\r\n     application.properties\r\n```\r\n\r\nThe code for the java files, application.properties, and pom.xml is below.\r\n\r\nThis is the **EmployeeController.java** file\r\n\r\n```java\r\n\r\n@Controller\r\npublic class EmployeeController {\r\n\r\n    @Autowired\r\n    private EmployeeService employeeService;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String viewHomePage(Model model) {\r\n        return findPaginated(1, &quot;employeeName&quot;, &quot;asc&quot;, model);\r\n    }\r\n\r\n    @GetMapping(&quot;/add&quot;)\r\n    public String showNewEmployeeForm(Model model) {\r\n        Employee Employee = new Employee();\r\n        model.addAttribute(&quot;employee&quot;, Employee);\r\n        return &quot;newEmployee&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee) {\r\n        // save Employee to database\r\n        employeeService.saveEmployee(employee);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/update/{id}&quot;)\r\n    public String showFormForUpdate(@PathVariable( value = &quot;id&quot;) long id, Model model) {\r\n\r\n        Employee employee = employeeService.getEmployeeById(id);\r\n        model.addAttribute(&quot;employee&quot;, employee);\r\n        return &quot;updateEmployee&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/delete/{id}&quot;)\r\n    public String deleteEmployee(@PathVariable (value = &quot;id&quot;) long id) {\r\n\r\n        this.employeeService.deleteEmployeeById(id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/page/{pageNo}&quot;)\r\n    public String findPaginated(@PathVariable (value = &quot;pageNo&quot;) int pageNo,\r\n                                @RequestParam(&quot;sortField&quot;) String sortField,\r\n                                @RequestParam(&quot;sortDir&quot;) String sortDir,\r\n                                Model model) {\r\n        int pageSize = 5;\r\n\r\n        Page&lt;Employee&gt; page = employeeService.findPaginated(pageNo, pageSize, sortField, sortDir);\r\n        List&lt;Employee&gt; listEmployees = page.getContent();\r\n\r\n        model.addAttribute(&quot;currentPage&quot;, pageNo);\r\n        model.addAttribute(&quot;totalPages&quot;, page.getTotalPages());\r\n        model.addAttribute(&quot;totalItems&quot;, page.getTotalElements());\r\n\r\n        model.addAttribute(&quot;sortField&quot;, sortField);\r\n        model.addAttribute(&quot;sortDir&quot;, sortDir);\r\n        model.addAttribute(&quot;reverseSortDir&quot;, sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\r\n\r\n        model.addAttribute(&quot;listEmployees&quot;, listEmployees);\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the **Employee.java** class\r\n\r\n\r\n```java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity\r\n@Table(name = &quot;employees&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;employee_first_name&quot;)\r\n    private String employeeFirstName;\r\n    @Column(name = &quot;employee_last_name&quot;)\r\n    private String employeeLastName;\r\n    @Column(name = &quot;employee_id&quot;)\r\n    private String employeeID;\r\n    @Column(name = &quot;employee_email&quot;)\r\n    private String employeeEmail;\r\n}\r\n\r\n```\r\n\r\nThis is the **EmployeeService.java** class\r\n\r\n\r\n```java\r\npublic interface EmployeeService {\r\n    List&lt;Employee&gt; getAllEmployees();\r\n    void saveEmployee(Employee employee);\r\n    Employee getEmployeeById(long id);\r\n    void deleteEmployeeById(long id);\r\n    Page&lt;Employee&gt; findPaginated(int pageNum, int pageSize, String sortField, String sortDirection);\r\n}\r\n```\r\n\r\n\r\nThis is the **EmployeeServiceImpl.java** class\r\n\r\n\r\n```java\r\n\r\n@Service\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Override\r\n    public List&lt;Employee&gt; getAllEmployees() {\r\n        return employeeRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public void saveEmployee(Employee employee) {\r\n        this.employeeRepository.save(employee);\r\n    }\r\n\r\n    @Override\r\n    public Employee getEmployeeById(long id) {\r\n        Optional&lt;Employee&gt; optionalEmployee = employeeRepository.findById(id);\r\n        Employee employee = null;\r\n        if (optionalEmployee.isPresent()) {\r\n            employee = optionalEmployee.get();\r\n        } else {\r\n            throw new RuntimeException(&quot;Employee not found for id : &quot; + id);\r\n        }\r\n        return employee;\r\n    }\r\n\r\n    @Override\r\n    public void deleteEmployeeById(long id) {\r\n        this.employeeRepository.deleteById(id);\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;Employee&gt; findPaginated(int pageNum, int pageSize, String sortField, String sortDirection) {\r\n        Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\r\n                Sort.by(sortField).descending();\r\n\r\n        Pageable pageable = PageRequest.of(pageNum - 1, pageSize, sort);\r\n        return this.employeeRepository.findAll(pageable);\r\n    }\r\n}\r\n```\r\n\r\n**application.properties** only has the following line\r\n`spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n`\r\n\r\n**pom.xml** has the following dependencies\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SpringBootProject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;SpringBootProject&lt;/name&gt;\r\n    &lt;description&gt;SpringBootProject&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nWhen I run the application, the console spits out\r\n\r\n\r\n```\r\n\r\n2023-02-25T17:33:41.469-05:00 ERROR 2680 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField employeeRepository in com.example.springbootproject.service.EmployeeServiceImpl required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n```\r\n\r\n\r\nI was originally being told to \r\n\r\n&gt; Consider defining a bean of type &#39;com.example.springbootproject.repository.EmployeeRepository&#39; in your configuration.\r\n\r\nbut after adding `@EnableJpaRepositories(&quot;com.example.springbootproject.repository&quot;)` it resulted in the entityManagerFactory error.\r\n\r\nI have checked online thinking maybe the dependencies were off but there seem to be no issues there. \r\n\r\nAnother question encountered the same error, https://stackoverflow.com/questions/44516942/consider-defining-a-bean-named-entitymanagerfactory-in-your-configuration-spri\r\n\r\nbut I am unsure if this is relevant to the issue I am having, or where this could be implemented. New package? Existing one? \r\n\r\n\r\n","title":"How do I define entityManagerFactory bean in my configuration","body":"<p>I am working on a spring boot project for a simple employee management system using JPA. This is my first project in spring. I am getting an error with this entityManagerFactory bean as described in the title. I am trying to understand where to define the bean(s) that it is mentioning/ where my &quot;configuration&quot; is.</p>\n<p>My project structure is setup as below:</p>\n<pre><code>src/\n main/\n    java/\n|        com.example.springbootproject/\n|            SpringBootApplication.java\n|            controller/\n|           |    EmployeeController.java\n|            model/\n|           |    Employee.java\n|            repository/\n|           |    EmployeeRepository.java\n|            service/\n|                EmployeeService.java\n|                EmployeeServiceImpl.java\n resources/\n     application.properties\n</code></pre>\n<p>The code for the java files, application.properties, and pom.xml is below.</p>\n<p>This is the <strong>EmployeeController.java</strong> file</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Controller\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @GetMapping(&quot;/&quot;)\n    public String viewHomePage(Model model) {\n        return findPaginated(1, &quot;employeeName&quot;, &quot;asc&quot;, model);\n    }\n\n    @GetMapping(&quot;/add&quot;)\n    public String showNewEmployeeForm(Model model) {\n        Employee Employee = new Employee();\n        model.addAttribute(&quot;employee&quot;, Employee);\n        return &quot;newEmployee&quot;;\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee) {\n        // save Employee to database\n        employeeService.saveEmployee(employee);\n        return &quot;redirect:/&quot;;\n    }\n\n    @GetMapping(&quot;/update/{id}&quot;)\n    public String showFormForUpdate(@PathVariable( value = &quot;id&quot;) long id, Model model) {\n\n        Employee employee = employeeService.getEmployeeById(id);\n        model.addAttribute(&quot;employee&quot;, employee);\n        return &quot;updateEmployee&quot;;\n    }\n\n    @GetMapping(&quot;/delete/{id}&quot;)\n    public String deleteEmployee(@PathVariable (value = &quot;id&quot;) long id) {\n\n        this.employeeService.deleteEmployeeById(id);\n        return &quot;redirect:/&quot;;\n    }\n\n\n    @GetMapping(&quot;/page/{pageNo}&quot;)\n    public String findPaginated(@PathVariable (value = &quot;pageNo&quot;) int pageNo,\n                                @RequestParam(&quot;sortField&quot;) String sortField,\n                                @RequestParam(&quot;sortDir&quot;) String sortDir,\n                                Model model) {\n        int pageSize = 5;\n\n        Page&lt;Employee&gt; page = employeeService.findPaginated(pageNo, pageSize, sortField, sortDir);\n        List&lt;Employee&gt; listEmployees = page.getContent();\n\n        model.addAttribute(&quot;currentPage&quot;, pageNo);\n        model.addAttribute(&quot;totalPages&quot;, page.getTotalPages());\n        model.addAttribute(&quot;totalItems&quot;, page.getTotalElements());\n\n        model.addAttribute(&quot;sortField&quot;, sortField);\n        model.addAttribute(&quot;sortDir&quot;, sortDir);\n        model.addAttribute(&quot;reverseSortDir&quot;, sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\n\n        model.addAttribute(&quot;listEmployees&quot;, listEmployees);\n        return &quot;index&quot;;\n    }\n}\n\n</code></pre>\n<p>This is the <strong>Employee.java</strong> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;employee_first_name&quot;)\n    private String employeeFirstName;\n    @Column(name = &quot;employee_last_name&quot;)\n    private String employeeLastName;\n    @Column(name = &quot;employee_id&quot;)\n    private String employeeID;\n    @Column(name = &quot;employee_email&quot;)\n    private String employeeEmail;\n}\n\n</code></pre>\n<p>This is the <strong>EmployeeService.java</strong> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EmployeeService {\n    List&lt;Employee&gt; getAllEmployees();\n    void saveEmployee(Employee employee);\n    Employee getEmployeeById(long id);\n    void deleteEmployeeById(long id);\n    Page&lt;Employee&gt; findPaginated(int pageNum, int pageSize, String sortField, String sortDirection);\n}\n</code></pre>\n<p>This is the <strong>EmployeeServiceImpl.java</strong> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n\n    @Override\n    public List&lt;Employee&gt; getAllEmployees() {\n        return employeeRepository.findAll();\n    }\n\n    @Override\n    public void saveEmployee(Employee employee) {\n        this.employeeRepository.save(employee);\n    }\n\n    @Override\n    public Employee getEmployeeById(long id) {\n        Optional&lt;Employee&gt; optionalEmployee = employeeRepository.findById(id);\n        Employee employee = null;\n        if (optionalEmployee.isPresent()) {\n            employee = optionalEmployee.get();\n        } else {\n            throw new RuntimeException(&quot;Employee not found for id : &quot; + id);\n        }\n        return employee;\n    }\n\n    @Override\n    public void deleteEmployeeById(long id) {\n        this.employeeRepository.deleteById(id);\n    }\n\n    @Override\n    public Page&lt;Employee&gt; findPaginated(int pageNum, int pageSize, String sortField, String sortDirection) {\n        Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\n                Sort.by(sortField).descending();\n\n        Pageable pageable = PageRequest.of(pageNum - 1, pageSize, sort);\n        return this.employeeRepository.findAll(pageable);\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong> only has the following line\n<code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration </code></p>\n<p><strong>pom.xml</strong> has the following dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBootProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootProject&lt;/name&gt;\n    &lt;description&gt;SpringBootProject&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>When I run the application, the console spits out</p>\n<pre><code>\n2023-02-25T17:33:41.469-05:00 ERROR 2680 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField employeeRepository in com.example.springbootproject.service.EmployeeServiceImpl required a bean named 'entityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n\n</code></pre>\n<p>I was originally being told to</p>\n<blockquote>\n<p>Consider defining a bean of type 'com.example.springbootproject.repository.EmployeeRepository' in your configuration.</p>\n</blockquote>\n<p>but after adding <code>@EnableJpaRepositories(&quot;com.example.springbootproject.repository&quot;)</code> it resulted in the entityManagerFactory error.</p>\n<p>I have checked online thinking maybe the dependencies were off but there seem to be no issues there.</p>\n<p>Another question encountered the same error, <a href=\"https://stackoverflow.com/questions/44516942/consider-defining-a-bean-named-entitymanagerfactory-in-your-configuration-spri\">Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration-Spring boot</a></p>\n<p>but I am unsure if this is relevant to the issue I am having, or where this could be implemented. New package? Existing one?</p>\n"},{"tags":["java","unit-testing","recursion","reactive-programming"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1677631836,"post_id":75598611,"comment_id":133375504,"body_markdown":"1. Look at the Java doc and make sure you test all conditions and output mentioned there.  2.  White box test and make sure you test all branches in the method.  That&#39;s how I do it.","body":"1. Look at the Java doc and make sure you test all conditions and output mentioned there.  2.  White box test and make sure you test all branches in the method.  That&#39;s how I do it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677632038,"post_id":75598611,"comment_id":133375529,"body_markdown":"The parameter you pass to `doReturn` is evaluated once, when you call `doReturn` -- you are not passing a lambda, it can be no other way. If you want to return different values chain `thenReturn` or use `doAnswer`.","body":"The parameter you pass to <code>doReturn</code> is evaluated once, when you call <code>doReturn</code> -- you are not passing a lambda, it can be no other way. If you want to return different values chain <code>thenReturn</code> or use <code>doAnswer</code>."}],"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677631050,"creation_date":1677631050,"question_id":75598611,"body_markdown":"I have one recursive procedure that has to be run multiple times depending on the output. The method ```refreshInBatches()``` runs a query in the database and returns a ```nodeId```. The stop condition is: whenever I reach the end node (let&#39;s say it has id = 1) or I reach a node that has been visited before.\r\nTo check the latter, I created a Set and to keep calling the method to refresh in batches I added a do-while loop. ```notEndNode()``` returns ```true``` if it hasn&#39;t reached the stop condition and ```false``` otherwise.\r\n\r\n```\r\npublic Mono&lt;MyClass&gt; refresh(String databaseName, Long nodeId, Integer batchSize, Set&lt;Long&gt; visitedNodes) {\r\n    Mono&lt;MyClass&gt; result = null;\r\n    do {\r\n      addNodeToSet(visitedNodes, result);\r\n      result = refreshInBatches(databaseName, nodeId, batchSize);\r\n    } while (notEndNode(nodeId, result.block(), visitedNodes));\r\n    return result;\r\n  }\r\n```\r\n\r\nI am trying to find a good approach to add unit tests to this behavior that I just explained. I wanted to mock the DB response because I only want to test how many times I&#39;m calling the db (through the ```refresh()``` method). So I have created a mock response list with 5 elements with the last one being the end node (meaning that the procedure should stop after that).\r\n\r\nThe mock starts from ```refreshInBatches()``` that always should return the ```response``` object. The mocked object ```node``` should be returned from ```response```, and I added a iterator to the list so we could get the next value whenever we tried to get the ```nodeId```.\r\nThe above test can be found below. But it&#39;s not working the way I expected. When I try to debug the application, the first time ```refreshInBatches()``` is called, I get ```10L``` as expected. But if I keep iterating over the loop, ```refreshInBatches()``` is going to be called for the second time, but ```10L``` is returned again, not ```iterator.next()```. Resulting on ```dbRepository.refreshInBatches()``` getting called only 2 times instead of 5.\r\n\r\n```\r\n  @InjectMocks\r\n  DbRepository dbRepository = Mockito.spy(new DbRepository(dbClient, null));\r\n\r\n  MyClass response = Mockito.spy(new MyClass());\r\n\r\n  @Mock\r\n  Node node = Mockito.mock(Node.class);\r\n\r\n  @Test\r\n  public void testRefreshDBShouldCallTheRefreshMethodFiveTimes() {\r\n\r\n    List&lt;Value&gt; setIds = Arrays.asList(Values.value(10L), Values.value(20L), Values.value(50L), Values.value(60L), Values.value(1L));\r\n    Iterator&lt;Value&gt; iterator = setIds.iterator();\r\n    Mockito.doReturn(iterator.next()).when(node).get(anyString());\r\n    Mockito.doReturn(node).when(response).getNode();\r\n    Mockito.doReturn(Mono.just(response)).when(dbRepository).refreshInBatches(anyString(), anyLong(), anyInt());\r\n    dbRepository.refresh(&quot;dataBase&quot;, -1L, 10000, new HashSet&lt;&gt;());\r\n    verify(dbRepository, times(setIds.size())).refreshInBatches(anyString(), anyLong(), anyInt());\r\n  }\r\n```\r\n\r\nI think my code has some design flaws, but I would like to understand how could one test recursive calls with mock responses. Shouldn&#39;t the iterator have moved to the next element the second time ```dbRepository.refreshInBatches()``` was called? Or at least when one of those checks were called:\r\n\r\n```\r\n  private void addNodeToSet(Set&lt;Long&gt; visited, Mono&lt;MyClass&gt; projection) {\r\n    if (ObjectUtils.isNotEmpty(projection) &amp;&amp; ObjectUtils.isNotEmpty(projection.block())) {\r\n      visited.add(projection.block().getNode().get(&quot;id&quot;).asLong());\r\n    }\r\n  }\r\n\r\n  private static boolean notEndNode(Long nodeId, MyClass projection, Set&lt;Long&gt; visited) {\r\n    return projection != null &amp;&amp;\r\n        ObjectUtils.isNotEmpty(projection.getNode()) &amp;&amp;\r\n        !nodeId.equals(projection.getNode().get(&quot;id&quot;).asLong()) &amp;&amp;\r\n        !visited.contains(projection.getNode().get(&quot;id&quot;).asLong());\r\n  }\r\n```\r\n\r\n","title":"How to properly create unit tests for recursive methods","body":"<p>I have one recursive procedure that has to be run multiple times depending on the output. The method <code>refreshInBatches()</code> runs a query in the database and returns a <code>nodeId</code>. The stop condition is: whenever I reach the end node (let's say it has id = 1) or I reach a node that has been visited before.\nTo check the latter, I created a Set and to keep calling the method to refresh in batches I added a do-while loop. <code>notEndNode()</code> returns <code>true</code> if it hasn't reached the stop condition and <code>false</code> otherwise.</p>\n<pre><code>public Mono&lt;MyClass&gt; refresh(String databaseName, Long nodeId, Integer batchSize, Set&lt;Long&gt; visitedNodes) {\n    Mono&lt;MyClass&gt; result = null;\n    do {\n      addNodeToSet(visitedNodes, result);\n      result = refreshInBatches(databaseName, nodeId, batchSize);\n    } while (notEndNode(nodeId, result.block(), visitedNodes));\n    return result;\n  }\n</code></pre>\n<p>I am trying to find a good approach to add unit tests to this behavior that I just explained. I wanted to mock the DB response because I only want to test how many times I'm calling the db (through the <code>refresh()</code> method). So I have created a mock response list with 5 elements with the last one being the end node (meaning that the procedure should stop after that).</p>\n<p>The mock starts from <code>refreshInBatches()</code> that always should return the <code>response</code> object. The mocked object <code>node</code> should be returned from <code>response</code>, and I added a iterator to the list so we could get the next value whenever we tried to get the <code>nodeId</code>.\nThe above test can be found below. But it's not working the way I expected. When I try to debug the application, the first time <code>refreshInBatches()</code> is called, I get <code>10L</code> as expected. But if I keep iterating over the loop, <code>refreshInBatches()</code> is going to be called for the second time, but <code>10L</code> is returned again, not <code>iterator.next()</code>. Resulting on <code>dbRepository.refreshInBatches()</code> getting called only 2 times instead of 5.</p>\n<pre><code>  @InjectMocks\n  DbRepository dbRepository = Mockito.spy(new DbRepository(dbClient, null));\n\n  MyClass response = Mockito.spy(new MyClass());\n\n  @Mock\n  Node node = Mockito.mock(Node.class);\n\n  @Test\n  public void testRefreshDBShouldCallTheRefreshMethodFiveTimes() {\n\n    List&lt;Value&gt; setIds = Arrays.asList(Values.value(10L), Values.value(20L), Values.value(50L), Values.value(60L), Values.value(1L));\n    Iterator&lt;Value&gt; iterator = setIds.iterator();\n    Mockito.doReturn(iterator.next()).when(node).get(anyString());\n    Mockito.doReturn(node).when(response).getNode();\n    Mockito.doReturn(Mono.just(response)).when(dbRepository).refreshInBatches(anyString(), anyLong(), anyInt());\n    dbRepository.refresh(&quot;dataBase&quot;, -1L, 10000, new HashSet&lt;&gt;());\n    verify(dbRepository, times(setIds.size())).refreshInBatches(anyString(), anyLong(), anyInt());\n  }\n</code></pre>\n<p>I think my code has some design flaws, but I would like to understand how could one test recursive calls with mock responses. Shouldn't the iterator have moved to the next element the second time <code>dbRepository.refreshInBatches()</code> was called? Or at least when one of those checks were called:</p>\n<pre><code>  private void addNodeToSet(Set&lt;Long&gt; visited, Mono&lt;MyClass&gt; projection) {\n    if (ObjectUtils.isNotEmpty(projection) &amp;&amp; ObjectUtils.isNotEmpty(projection.block())) {\n      visited.add(projection.block().getNode().get(&quot;id&quot;).asLong());\n    }\n  }\n\n  private static boolean notEndNode(Long nodeId, MyClass projection, Set&lt;Long&gt; visited) {\n    return projection != null &amp;&amp;\n        ObjectUtils.isNotEmpty(projection.getNode()) &amp;&amp;\n        !nodeId.equals(projection.getNode().get(&quot;id&quot;).asLong()) &amp;&amp;\n        !visited.contains(projection.getNode().get(&quot;id&quot;).asLong());\n  }\n</code></pre>\n"},{"tags":["java","multithreading","apache-camel"],"comments":[{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1390463574,"post_id":21302322,"comment_id":32104562,"body_markdown":"Do you mean it works fine when `Thread.sleep(50000);` is not commented?","body":"Do you mean it works fine when <code>Thread.sleep(50000);</code> is not commented?"},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1390463867,"post_id":21302322,"comment_id":32104707,"body_markdown":"What do you mean by &quot;fails&quot;? Also, do you realise `Thread.sleep(50000)` puts the program to sleep for 50 seconds?  So when you run it, it will take nearly a minute before it exits.","body":"What do you mean by &quot;fails&quot;? Also, do you realise <code>Thread.sleep(50000)</code> puts the program to sleep for 50 seconds?  So when you run it, it will take nearly a minute before it exits."},{"owner":{"account_id":3768809,"reputation":3216,"user_id":3131537,"accept_rate":54,"display_name":"Darshan Patel"},"score":0,"creation_date":1390464176,"post_id":21302322,"comment_id":32104882,"body_markdown":"@Octopus `Thread.sleep(50000);` commented means statement is not part of execution \n\n @Trisha it fails to copy file from one location to another.","body":"@Octopus <code>Thread.sleep(50000);</code> commented means statement is not part of execution    @Trisha it fails to copy file from one location to another."}],"answers":[{"comments":[{"owner":{"account_id":3768809,"reputation":3216,"user_id":3131537,"accept_rate":54,"display_name":"Darshan Patel"},"score":0,"creation_date":1390464042,"post_id":21302420,"comment_id":32104805,"body_markdown":"yes @sanbhat initially i think that but main thread always waits for termination of it&#39;s child thread\ncorrect me if i am wrong","body":"yes @sanbhat initially i think that but main thread always waits for termination of it&#39;s child thread correct me if i am wrong"},{"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"score":0,"creation_date":1390467772,"post_id":21302420,"comment_id":32106784,"body_markdown":"Yes.. but you are explicitly calling `stop()` which terminates child thread. `Thread.sleep(5000)` in main gives the child thread scope to run","body":"Yes.. but you are explicitly calling <code>stop()</code> which terminates child thread. <code>Thread.sleep(5000)</code> in main gives the child thread scope to run"},{"owner":{"account_id":153624,"reputation":4457,"user_id":368999,"accept_rate":88,"display_name":"jaks"},"score":0,"creation_date":1390470208,"post_id":21302420,"comment_id":32108360,"body_markdown":"I agree with sanbhat. If you start the camel context in a UI (or) web app, you dont need to make the main thread sleep. Here you are putting main thread to sleep, coz you dont have any other work to do here. Start another thread (or) do some process. Meanwhile the camel context will finish its work.","body":"I agree with sanbhat. If you start the camel context in a UI (or) web app, you dont need to make the main thread sleep. Here you are putting main thread to sleep, coz you dont have any other work to do here. Start another thread (or) do some process. Meanwhile the camel context will finish its work."},{"owner":{"account_id":3768809,"reputation":3216,"user_id":3131537,"accept_rate":54,"display_name":"Darshan Patel"},"score":0,"creation_date":1390471275,"post_id":21302420,"comment_id":32109032,"body_markdown":"if i also remove `context.stop();` then also it fails to copy file","body":"if i also remove <code>context.stop();</code> then also it fails to copy file"}],"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390463718,"creation_date":1390463718,"answer_id":21302420,"question_id":21302322,"body_markdown":"I think `CamelContext` runs as a separate thread. If you comment out `Thread.sleep(50000);` then `context` will `start()` and immediately `stop()` causing it to throw error?\r\n\r\nIn case of `Thread.sleep(50000);` context will `start()` and while the main thread is sleeping, `context` will finish the job as spawned thread and then `stop()`","title":"Why sleeping on the main thread is required to run Camel example","body":"<p>I think <code>CamelContext</code> runs as a separate thread. If you comment out <code>Thread.sleep(50000);</code> then <code>context</code> will <code>start()</code> and immediately <code>stop()</code> causing it to throw error?</p>\n\n<p>In case of <code>Thread.sleep(50000);</code> context will <code>start()</code> and while the main thread is sleeping, <code>context</code> will finish the job as spawned thread and then <code>stop()</code></p>\n"},{"comments":[{"owner":{"account_id":3768809,"reputation":3216,"user_id":3131537,"accept_rate":54,"display_name":"Darshan Patel"},"score":0,"creation_date":1390471414,"post_id":21303367,"comment_id":32109102,"body_markdown":"thanks @Claus Ibsen i use this site and run example correctly\nbut here Main class is used and main class has HangupSupport which has support of thred so it works.","body":"thanks @Claus Ibsen i use this site and run example correctly but here Main class is used and main class has HangupSupport which has support of thred so it works."}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1390466995,"creation_date":1390466995,"answer_id":21303367,"question_id":21302322,"body_markdown":"See this FAQ from the Camel website\r\n\r\n- http://camel.apache.org/running-camel-standalone.html\r\n\r\nAnd the link it refers to such as\r\n\r\n- http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html\r\n\r\nAnd read the javadoc of the start method of the CamelContext API\r\n\r\n- http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/CamelContext.html\r\n","title":"Why sleeping on the main thread is required to run Camel example","body":"<p>See this FAQ from the Camel website</p>\n\n<ul>\n<li><a href=\"http://camel.apache.org/running-camel-standalone.html\" rel=\"nofollow\">http://camel.apache.org/running-camel-standalone.html</a></li>\n</ul>\n\n<p>And the link it refers to such as</p>\n\n<ul>\n<li><a href=\"http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html\" rel=\"nofollow\">http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html</a></li>\n</ul>\n\n<p>And read the javadoc of the start method of the CamelContext API</p>\n\n<ul>\n<li><a href=\"http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/CamelContext.html\" rel=\"nofollow\">http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/CamelContext.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5831299,"reputation":1050,"user_id":4595687,"accept_rate":20,"display_name":"daisura99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677630819,"creation_date":1677630819,"answer_id":75598594,"question_id":21302322,"body_markdown":"If you&#39;re using `camel-spring-jar`, here&#39;s how you do it: -\r\n\r\n```\r\nimport org.apache.camel.spring.Main;\r\n\r\n/**\r\n * Main class that boot the Camel application\r\n */\r\npublic final class MyApplication {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Main main = new Main();\r\n        main.run(args);\r\n    }\r\n} \r\n```\r\n\r\nNote that `Main` is imported from `org.apache.camel.spring`, not from the usual `org.apache.camel.main`.\r\n\r\n[Reference](https://people.apache.org/~dkulp/camel/running-camel-standalone-and-have-it-keep-running.html)","title":"Why sleeping on the main thread is required to run Camel example","body":"<p>If you're using <code>camel-spring-jar</code>, here's how you do it: -</p>\n<pre><code>import org.apache.camel.spring.Main;\n\n/**\n * Main class that boot the Camel application\n */\npublic final class MyApplication {\n\n    public static void main(String[] args) throws Exception {\n        Main main = new Main();\n        main.run(args);\n    }\n} \n</code></pre>\n<p>Note that <code>Main</code> is imported from <code>org.apache.camel.spring</code>, not from the usual <code>org.apache.camel.main</code>.</p>\n<p><a href=\"https://people.apache.org/%7Edkulp/camel/running-camel-standalone-and-have-it-keep-running.html\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":3768809,"reputation":3216,"user_id":3131537,"accept_rate":54,"display_name":"Darshan Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1946,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":21303367,"answer_count":3,"score":0,"last_activity_date":1677630819,"creation_date":1390463399,"question_id":21302322,"body_markdown":"I am new to Camel and I&#39;m trying to understand how it works.\r\n\r\nI tried the following example:\r\n\r\n    public class CamelMainTest {\r\n    \r\n        \tpublic static void main(String args[]) throws Exception {\r\n        \t\tCamelContext context = new DefaultCamelContext();\r\n        \t\tcontext.addRoutes(new RouteBuilder() {\r\n                    public void configure() {\r\n                    \tfrom(&quot;file:d:\\\\inbox\\\\json?noop=true&quot;).to(&quot;file:d:\\\\outbox&quot;);\r\n                    }\r\n                });\r\n        \t\tcontext.addRoutes(getFileRoute());\r\n        \t\tcontext.start();\r\n        //\t\tThread.sleep(50000);\r\n        \t\tcontext.stop();\r\n        \t\t\r\n    }\r\n\r\nI&#39;m copying a file from one location to another, but it fails.\r\n\r\nWhen I remove the comment from the line `Thread.sleep(50000);` then it works fine.\r\n\r\nCan any one explain why sleeping on the main thread is required?\r\n\r\n\r\n    \r\n","title":"Why sleeping on the main thread is required to run Camel example","body":"<p>I am new to Camel and I'm trying to understand how it works.</p>\n\n<p>I tried the following example:</p>\n\n<pre><code>public class CamelMainTest {\n\n        public static void main(String args[]) throws Exception {\n            CamelContext context = new DefaultCamelContext();\n            context.addRoutes(new RouteBuilder() {\n                public void configure() {\n                    from(\"file:d:\\\\inbox\\\\json?noop=true\").to(\"file:d:\\\\outbox\");\n                }\n            });\n            context.addRoutes(getFileRoute());\n            context.start();\n    //      Thread.sleep(50000);\n            context.stop();\n\n}\n</code></pre>\n\n<p>I'm copying a file from one location to another, but it fails.</p>\n\n<p>When I remove the comment from the line <code>Thread.sleep(50000);</code> then it works fine.</p>\n\n<p>Can any one explain why sleeping on the main thread is required?</p>\n"},{"tags":["java","spring","intellij-idea","jar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677633640,"post_id":75598587,"comment_id":133375766,"body_markdown":"Have a look inside your jar file and see what&#39;s in the MANIFEST.MF","body":"Have a look inside your jar file and see what&#39;s in the MANIFEST.MF"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1677639011,"post_id":75598587,"comment_id":133376413,"body_markdown":"Also, check the guide here to see if it helps by using the `mvn clean package` to package it: https://www.baeldung.com/spring-boot-fix-the-no-main-manifest-attribute","body":"Also, check the guide here to see if it helps by using the <code>mvn clean package</code> to package it: <a href=\"https://www.baeldung.com/spring-boot-fix-the-no-main-manifest-attribute\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-fix-the-no-main-manifest-attribute</a>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677652995,"post_id":75598587,"comment_id":133378159,"body_markdown":"(1) Please use `https://start.spring.io/` to create a springboot apllication , then generated a  demo.zip (2) unzip demo.zip (3) `cd demo` , `gradle clean build` (4) if error , you can delete `src/test`, rerun `gradle clean build`(5) `cd  build/libs`, you can find `demo-0.0.1-SNAPSHOT.jar` then run `java -jar demo-0.0.1-SNAPSHOT.jar`, (6) if everything is ok, you can ise IDEA open this project. (7) you don&#39;t need build  `MANIFEST.MF` your self (if you use plugin org.springframework.boot)","body":"(1) Please use <code>https:&#47;&#47;start.spring.io&#47;</code> to create a springboot apllication , then generated a  demo.zip (2) unzip demo.zip (3) <code>cd demo</code> , <code>gradle clean build</code> (4) if error , you can delete <code>src&#47;test</code>, rerun <code>gradle clean build</code>(5) <code>cd  build&#47;libs</code>, you can find <code>demo-0.0.1-SNAPSHOT.jar</code> then run <code>java -jar demo-0.0.1-SNAPSHOT.jar</code>, (6) if everything is ok, you can ise IDEA open this project. (7) you don&#39;t need build  <code>MANIFEST.MF</code> your self (if you use plugin org.springframework.boot)"}],"owner":{"account_id":18753479,"reputation":97,"user_id":13674064,"display_name":"Luc as"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677630739,"creation_date":1677630739,"question_id":75598587,"body_markdown":"I&#39;ve made a little API using SpringBoot with Java and Gradle. I&#39;m using InteliJ and i&#39;ve followed their documentation to compile my app in an executable .jar : https://www.jetbrains.com/help/idea/compiling-applications.html#run_packaged_jar\r\n\r\nThe problem is that when I execute my .jar via the InteliJ IDE or via the command line, Java returns me this error : \r\n\r\n    no main manifest attribute, in C:\\xxx\\xxx\\xxx\\api\\out\\artifacts\\api_jar\\api.jar\r\n    \r\n    Process finished with exit code 1\r\n\r\n...which is pretty weird considering I have made a .MANIFEST file in my project :\r\n\r\nMANIFEST.MF : \r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.sharelink.api.SharelinkApiApplication\r\n\r\n\r\nDo you know if there is something wrong with my MANIFEST file? Maybe its the way I compile my .jar ? I really don&#39;t know and I didnt find anything online that could help me with this issue....\r\n\r\nThanks for your help in advance!\r\n\r\n","title":"Java Spring: &quot;no main manifest attribute&quot; when executing .jar","body":"<p>I've made a little API using SpringBoot with Java and Gradle. I'm using InteliJ and i've followed their documentation to compile my app in an executable .jar : <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#run_packaged_jar\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/compiling-applications.html#run_packaged_jar</a></p>\n<p>The problem is that when I execute my .jar via the InteliJ IDE or via the command line, Java returns me this error :</p>\n<pre><code>no main manifest attribute, in C:\\xxx\\xxx\\xxx\\api\\out\\artifacts\\api_jar\\api.jar\n\nProcess finished with exit code 1\n</code></pre>\n<p>...which is pretty weird considering I have made a .MANIFEST file in my project :</p>\n<p>MANIFEST.MF :</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.sharelink.api.SharelinkApiApplication\n</code></pre>\n<p>Do you know if there is something wrong with my MANIFEST file? Maybe its the way I compile my .jar ? I really don't know and I didnt find anything online that could help me with this issue....</p>\n<p>Thanks for your help in advance!</p>\n"},{"tags":["java","maven","selenium-webdriver","cucumber","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":15816229,"reputation":151,"user_id":11411887,"display_name":"ghost deathrider"},"score":0,"creation_date":1677656064,"post_id":75598539,"comment_id":133378757,"body_markdown":"I declared the WebDriver in BaseClass and remove the WebDriver argument in OpenChromeBrowser method and removed in End2EndSteps class also, still NullPointerException is coming.\n````\npublic WebDriver driver;\npublic WebDriver openChromeBrowser(){\n        setBrowserProperties();\n        if(setBrowserProperties()!=null){\n            driver = new ChromeDriver();\n            return driver;\n        }\n        else throw new RuntimeException(&quot;Chrome Browser is not opened&quot;);\n    }\n````\n````\npublic void user_is_on_home_page() {\n        bS.openChromeBrowser();\n    }\n````","body":"I declared the WebDriver in BaseClass and remove the WebDriver argument in OpenChromeBrowser method and removed in End2EndSteps class also, still NullPointerException is coming. ```` public WebDriver driver; public WebDriver openChromeBrowser(){         setBrowserProperties();         if(setBrowserProperties()!=null){             driver = new ChromeDriver();             return driver;         }         else throw new RuntimeException(&quot;Chrome Browser is not opened&quot;);     } ```` ```` public void user_is_on_home_page() {         bS.openChromeBrowser();     } ````"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677630020,"creation_date":1677630020,"answer_id":75598539,"question_id":75595727,"body_markdown":"You are initializing the _WebDriver_ instance _`driver`_ within _**End2EndSteps**_ file as:\r\n\r\n\tpublic WebDriver driver;\r\n\t\r\nBut when you create _BaseClass_ object _`bS`_, within _**BaseClass**_ have no idea about the _`driver`_ instance. Hence you see _NullPointerException_.","title":"NullPointerException in Selenium-Maven-Cucumber Framework for WebDriver","body":"<p>You are initializing the <em>WebDriver</em> instance <em><code>driver</code></em> within <em><strong>End2EndSteps</strong></em> file as:</p>\n<pre><code>public WebDriver driver;\n</code></pre>\n<p>But when you create <em>BaseClass</em> object <em><code>bS</code></em>, within <em><strong>BaseClass</strong></em> have no idea about the <em><code>driver</code></em> instance. Hence you see <em>NullPointerException</em>.</p>\n"}],"owner":{"account_id":15816229,"reputation":151,"user_id":11411887,"display_name":"ghost deathrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677630020,"creation_date":1677607313,"question_id":75595727,"body_markdown":"I have 2 classes, one is BaseClass and End2EndSteps. In BaseClass I have defined property file reading, browser invoking methods. I am calling the BaseClass method from End2EndSteps class but I am getting NullPointerException. Any help here for a fellow learner. I&#39;ve tried creating a new object of the BaseClass and calling the openChromeBrowser method, in that I got StackOverFlow error.\r\n\r\nThis is the BaseClass code\r\n```\r\npackage org.example;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\n\r\npublic class BaseClass {\r\n\r\n    public Properties properties;\r\n    public String propertyFilePath= &quot;src/main/resources/properties/Configuration.properties&quot;;\r\n\r\n\r\n    public BaseClass(){\r\n        BufferedReader reader;\r\n        try {\r\n            reader = new BufferedReader(new FileReader(propertyFilePath));\r\n            properties = new Properties();\r\n            try {\r\n                properties.load(reader);\r\n                reader.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(&quot;Configuration.properties not found at &quot; + propertyFilePath);\r\n        }\r\n    }\r\n\r\n    private String getDriverPath(){\r\n        String driverPath = properties.getProperty(&quot;driverPath&quot;);\r\n        if(driverPath!= null) return driverPath;\r\n        else throw new RuntimeException(&quot;driverPath not specified in the Configuration.properties file.&quot;);\r\n    }\r\n\r\n    private String setBrowserProperties(){\r\n        getDriverPath();\r\n        if(getDriverPath()!=null) return System.setProperty(&quot;webdriver.chrome.driver&quot;, getDriverPath());\r\n        else throw new RuntimeException(&quot;Browser properties not set&quot;);\r\n    }\r\n\r\n    public WebDriver openChromeBrowser(WebDriver driver){\r\n        setBrowserProperties();\r\n        if(setBrowserProperties()!=null){\r\n            driver = new ChromeDriver();\r\n            return driver;\r\n        }\r\n        else throw new RuntimeException(&quot;Chrome Browser is not opened&quot;);\r\n    }\r\n\r\n    public long getImplicitlyWait() {\r\n        String implicitlyWait = properties.getProperty(&quot;implicitlyWait&quot;);\r\n        if(implicitlyWait != null) return Long.parseLong(implicitlyWait);\r\n        else throw new RuntimeException(&quot;implicitlyWait not specified in the Configuration.properties file.&quot;);\r\n    }\r\n\r\n    public String getApplicationUrl() {\r\n        String url = properties.getProperty(&quot;url&quot;);\r\n        if(url != null) return url;\r\n        else throw new RuntimeException(&quot;url not specified in the Configuration.properties file.&quot;);\r\n    }\r\n}\r\n```\r\nThis is the End2EndSteps code\r\n```\r\npackage stepDefinitions;\r\n\r\nimport io.cucumber.java.en.And;\r\nimport io.cucumber.java.en.Given;\r\nimport io.cucumber.java.en.Then;\r\nimport io.cucumber.java.en.When;\r\nimport org.example.BaseClass;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.interactions.Actions;\r\nimport org.openqa.selenium.support.ui.Select;\r\nimport pageObjects.HomePage;\r\nimport pageObjects.ProductListing;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class End2EndSteps {\r\n\r\n    public WebDriver driver;\r\n    BaseClass bS;\r\n\r\n    @Given(&quot;User is on Home Page&quot;)\r\n    public void user_is_on_home_page() {\r\n        bS.openChromeBrowser(this.driver);\r\n    }\r\n}\r\n```\r\nError:\r\n```\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.252 s &lt;&lt;&lt; FAILURE! - in runners.TestRunner\r\n[ERROR] Automated End2End Tests.Customer place an order by purchasing an item from search  Time elapsed: 0.16 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NullPointerException\r\n        at stepDefinitions.End2EndSteps.user_is_on_home_page(End2EndSteps.java:32)\r\n        at ?.User is on Home Page(file:///C:/Project/IdeaProjects/AutomationTesting/src/test/resources/functionalTests/End2End_Test.feature:5)\r\n\r\n[INFO] \r\n[INFO] Results:\r\n[INFO]\r\n[ERROR] Errors: \r\n[ERROR]   null\r\n[INFO]\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  7.473 s\r\n[INFO] Finished at: 2023-02-28T23:08:23+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M8:test (default-test) on project AutomationTesting: \r\n[ERROR]\r\n[ERROR] Please refer to C:\\Project\\IdeaProjects\\AutomationTesting\\target\\surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\nThis is the property file:\r\n```\r\nurl=&quot;https://shop.demoqa.com&quot;\r\ndriverPath=&quot;C:\\\\mine\\\\Automation_JARS_Drivers\\\\chromedriver\\\\chromedriver.exe&quot;\r\nimplicitlyWait=10\r\n```","title":"NullPointerException in Selenium-Maven-Cucumber Framework for WebDriver","body":"<p>I have 2 classes, one is BaseClass and End2EndSteps. In BaseClass I have defined property file reading, browser invoking methods. I am calling the BaseClass method from End2EndSteps class but I am getting NullPointerException. Any help here for a fellow learner. I've tried creating a new object of the BaseClass and calling the openChromeBrowser method, in that I got StackOverFlow error.</p>\n<p>This is the BaseClass code</p>\n<pre><code>package org.example;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Properties;\n\npublic class BaseClass {\n\n    public Properties properties;\n    public String propertyFilePath= &quot;src/main/resources/properties/Configuration.properties&quot;;\n\n\n    public BaseClass(){\n        BufferedReader reader;\n        try {\n            reader = new BufferedReader(new FileReader(propertyFilePath));\n            properties = new Properties();\n            try {\n                properties.load(reader);\n                reader.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Configuration.properties not found at &quot; + propertyFilePath);\n        }\n    }\n\n    private String getDriverPath(){\n        String driverPath = properties.getProperty(&quot;driverPath&quot;);\n        if(driverPath!= null) return driverPath;\n        else throw new RuntimeException(&quot;driverPath not specified in the Configuration.properties file.&quot;);\n    }\n\n    private String setBrowserProperties(){\n        getDriverPath();\n        if(getDriverPath()!=null) return System.setProperty(&quot;webdriver.chrome.driver&quot;, getDriverPath());\n        else throw new RuntimeException(&quot;Browser properties not set&quot;);\n    }\n\n    public WebDriver openChromeBrowser(WebDriver driver){\n        setBrowserProperties();\n        if(setBrowserProperties()!=null){\n            driver = new ChromeDriver();\n            return driver;\n        }\n        else throw new RuntimeException(&quot;Chrome Browser is not opened&quot;);\n    }\n\n    public long getImplicitlyWait() {\n        String implicitlyWait = properties.getProperty(&quot;implicitlyWait&quot;);\n        if(implicitlyWait != null) return Long.parseLong(implicitlyWait);\n        else throw new RuntimeException(&quot;implicitlyWait not specified in the Configuration.properties file.&quot;);\n    }\n\n    public String getApplicationUrl() {\n        String url = properties.getProperty(&quot;url&quot;);\n        if(url != null) return url;\n        else throw new RuntimeException(&quot;url not specified in the Configuration.properties file.&quot;);\n    }\n}\n</code></pre>\n<p>This is the End2EndSteps code</p>\n<pre><code>package stepDefinitions;\n\nimport io.cucumber.java.en.And;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport org.example.BaseClass;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.Select;\nimport pageObjects.HomePage;\nimport pageObjects.ProductListing;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class End2EndSteps {\n\n    public WebDriver driver;\n    BaseClass bS;\n\n    @Given(&quot;User is on Home Page&quot;)\n    public void user_is_on_home_page() {\n        bS.openChromeBrowser(this.driver);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.252 s &lt;&lt;&lt; FAILURE! - in runners.TestRunner\n[ERROR] Automated End2End Tests.Customer place an order by purchasing an item from search  Time elapsed: 0.16 s  &lt;&lt;&lt; ERROR!\njava.lang.NullPointerException\n        at stepDefinitions.End2EndSteps.user_is_on_home_page(End2EndSteps.java:32)\n        at ?.User is on Home Page(file:///C:/Project/IdeaProjects/AutomationTesting/src/test/resources/functionalTests/End2End_Test.feature:5)\n\n[INFO] \n[INFO] Results:\n[INFO]\n[ERROR] Errors: \n[ERROR]   null\n[INFO]\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.473 s\n[INFO] Finished at: 2023-02-28T23:08:23+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M8:test (default-test) on project AutomationTesting: \n[ERROR]\n[ERROR] Please refer to C:\\Project\\IdeaProjects\\AutomationTesting\\target\\surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>This is the property file:</p>\n<pre><code>url=&quot;https://shop.demoqa.com&quot;\ndriverPath=&quot;C:\\\\mine\\\\Automation_JARS_Drivers\\\\chromedriver\\\\chromedriver.exe&quot;\nimplicitlyWait=10\n</code></pre>\n"},{"tags":["java","eclipse","postfix-notation","infix-notation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1677630240,"post_id":75598459,"comment_id":133375271,"body_markdown":"There are much simpler expressions which your code doesn&#39;t handle correctly -- e.g. &quot;4-2&quot; prints &quot;4-2&quot; instead of &quot;42-&quot;. I suggest that you step through your code with the debugger while it processes a simple expression.","body":"There are much simpler expressions which your code doesn&#39;t handle correctly -- e.g. &quot;4-2&quot; prints &quot;4-2&quot; instead of &quot;42-&quot;. I suggest that you step through your code with the debugger while it processes a simple expression."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677630333,"post_id":75598459,"comment_id":133375285,"body_markdown":"In particular, think about `token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;` -- what *exactly* does that do?","body":"In particular, think about <code>token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;</code> -- what <i>exactly</i> does that do?"},{"owner":{"account_id":27904370,"reputation":1,"user_id":21307912,"display_name":"Tiara Grier"},"score":0,"creation_date":1677701407,"post_id":75598459,"comment_id":133392121,"body_markdown":"My goal was to check if the token was a digit, but now that you ask, it may make more sense to check if the token isn&#39;t an operator or parentheses.","body":"My goal was to check if the token was a digit, but now that you ask, it may make more sense to check if the token isn&#39;t an operator or parentheses."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677711393,"post_id":75598459,"comment_id":133394420,"body_markdown":"Does `token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;` check whether the token is a digit? Is it true or false when `token` is `&#39;(&#39;`? What does the `||` operator do?","body":"Does <code>token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;</code> check whether the token is a digit? Is it true or false when <code>token</code> is <code>&#39;(&#39;</code>? What does the <code>||</code> operator do?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677711508,"post_id":75598459,"comment_id":133394449,"body_markdown":"And have you stepped through your code with the debugger? That is the first thing you should do.","body":"And have you stepped through your code with the debugger? That is the first thing you should do."}],"owner":{"account_id":27904370,"reputation":1,"user_id":21307912,"display_name":"Tiara Grier"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677629143,"creation_date":1677629143,"question_id":75598459,"body_markdown":"I&#39;ve been stuck on this program for about a week and I can&#39;t see what I&#39;m doing wrong. I can&#39;t get the operands and operators to print in the proper spot and the &#39;(&#39; &#39;)&#39; won&#39;t delete. Here&#39;s what I have so far. HELP!!!\r\n\r\n\r\n```\r\npublic static int precedence(char token) {\r\n\t\t\tif (token == &#39;^&#39;) {\r\n\t\t\t\treturn 1; // Lowest precedence\r\n\t\t\t\t} else if (token == &#39;+&#39; || token == &#39;-&#39;) {\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\t\t} else if (token == &#39;*&#39; || token == &#39;/&#39;) {\r\n\t\t\t\t\t\treturn 3;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\r\n\t\t// method to convert infox =&gt; postfix\r\n\t\tpublic  static String infixToPostfix(String infix){\r\n\t\t\tMyStackTiara&lt;Character&gt; operator = new MyStackTiara&lt;&gt;(); // 1. Create an empty stack\r\n\t\t\tString postfix = &quot;&quot;; // Create an empty string stack\r\n\t\t\tMyStackTiara&lt;Character&gt; noNeed = new MyStackTiara&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; infix.length(); i++) {// Scan input from left to right\r\n\t\t\t\tchar token = infix.charAt(i); // Current character\r\n\t\t\t\t\r\n\t\t\t\tif (token == &#39;(&#39;) {\r\n\t\t\t\t\toperator.push(token);\r\n\t\t\t\t} else if (token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;) {\r\n\t\t\t\t\t// Check for operand and append to string\r\n\t\t\t\t\tpostfix += token;\r\n\t\t\t\t}  else if (token == &#39;)&#39;) {\r\n\t\t\t\t\twhile (!operator.isEmpty()) {\r\n\t\t\t\t\t\tif (operator.peek() == &#39;(&#39;) {\r\n\t\t\t\t\t\t\tnoNeed.push(operator.pop());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\toperator.pop();\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t//operator.pop();\r\n\t\t\t\t} else if (token == &#39;*&#39; || token == &#39;/&#39; || token == &#39;+&#39; || token == &#39;-&#39; || token == &#39;^&#39;) {\r\n\t\t\t\t\tif (token == &#39;^&#39;) {\r\n\t\t\t\t\t\tchar op3 = operator.pop();\r\n\t\t\t\t\t\tchar operand1 = operator.pop();\r\n\t\t\t\t\t\tchar operand2 = operator.pop();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString newPostfix = postfix + operand2 + operand1 + op3;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tpostfix += newPostfix;\r\n\t\t\t\t\t\t} else if (token == &#39;+&#39; || token == &#39;-&#39;) {\r\n\t\t\t\t\t\t\tchar op2 = operator.pop();\r\n\t\t\t\t\t\t\tchar operand1 = operator.pop();\r\n\t\t\t\t\t\t\tchar operand2 = operator.pop();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tString newPostfix = postfix + operand2 + operand1 + op2;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tpostfix += newPostfix;\r\n\t\t\t\t\t\t\t} else if (token == &#39;*&#39; || token == &#39;/&#39;) {\r\n\t\t\t\t\t\t\t\tchar op1 = operator.pop();\r\n\t\t\t\t\t\t\t\tchar operand1 = operator.pop();\r\n\t\t\t\t\t\t\t\tchar operand2 = operator.pop();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tString newPostfix = postfix + operand2 + operand1 + op1;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tpostfix += newPostfix;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\treturn postfix;\r\n\t\t}\r\n```\r\n\r\n\r\n\r\nWhen the infix is: (4-2)*(2+3)\r\n\r\nI want it to print: 42-23+\r\n\r\nBut it&#39;s printing: 4-2)*2+3)","title":"Infix to postfix assignment","body":"<p>I've been stuck on this program for about a week and I can't see what I'm doing wrong. I can't get the operands and operators to print in the proper spot and the '(' ')' won't delete. Here's what I have so far. HELP!!!</p>\n<pre><code>public static int precedence(char token) {\n            if (token == '^') {\n                return 1; // Lowest precedence\n                } else if (token == '+' || token == '-') {\n                    return 2;\n                    } else if (token == '*' || token == '/') {\n                        return 3;\n                        } else\n                            return -1;\n            }\n        \n        // method to convert infox =&gt; postfix\n        public  static String infixToPostfix(String infix){\n            MyStackTiara&lt;Character&gt; operator = new MyStackTiara&lt;&gt;(); // 1. Create an empty stack\n            String postfix = &quot;&quot;; // Create an empty string stack\n            MyStackTiara&lt;Character&gt; noNeed = new MyStackTiara&lt;&gt;();\n            \n            for (int i = 0; i &lt; infix.length(); i++) {// Scan input from left to right\n                char token = infix.charAt(i); // Current character\n                \n                if (token == '(') {\n                    operator.push(token);\n                } else if (token &gt;= '0' || token &lt;= '9') {\n                    // Check for operand and append to string\n                    postfix += token;\n                }  else if (token == ')') {\n                    while (!operator.isEmpty()) {\n                        if (operator.peek() == '(') {\n                            noNeed.push(operator.pop());\n                            break;\n                        } else\n                            operator.pop();\n                    }\n                \n                    //operator.pop();\n                } else if (token == '*' || token == '/' || token == '+' || token == '-' || token == '^') {\n                    if (token == '^') {\n                        char op3 = operator.pop();\n                        char operand1 = operator.pop();\n                        char operand2 = operator.pop();\n                        \n                        String newPostfix = postfix + operand2 + operand1 + op3;\n                        \n                        postfix += newPostfix;\n                        } else if (token == '+' || token == '-') {\n                            char op2 = operator.pop();\n                            char operand1 = operator.pop();\n                            char operand2 = operator.pop();\n                            \n                            String newPostfix = postfix + operand2 + operand1 + op2;\n                            \n                            postfix += newPostfix;\n                            } else if (token == '*' || token == '/') {\n                                char op1 = operator.pop();\n                                char operand1 = operator.pop();\n                                char operand2 = operator.pop();\n                                \n                                String newPostfix = postfix + operand2 + operand1 + op1;\n                                \n                                postfix += newPostfix;\n                                }\n                        }\n                }\n            return postfix;\n        }\n</code></pre>\n<p>When the infix is: (4-2)*(2+3)</p>\n<p>I want it to print: 42-23+</p>\n<p>But it's printing: 4-2)*2+3)</p>\n"},{"tags":["java","mongodb","log4j","log4j2","mongodb-atlas"],"comments":[{"owner":{"account_id":2457863,"reputation":183,"user_id":2142591,"accept_rate":33,"display_name":"hossein shemshadi"},"score":0,"creation_date":1631721725,"post_id":68849458,"comment_id":122300914,"body_markdown":"I have the exat same issue even on my local mongo docker container. Did you resolve the issue?","body":"I have the exat same issue even on my local mongo docker container. Did you resolve the issue?"},{"owner":{"account_id":9040519,"reputation":23,"user_id":6734957,"display_name":"Marc Segond"},"score":0,"creation_date":1632323470,"post_id":68849458,"comment_id":122462400,"body_markdown":"Hi @hosseinshemshadi. No, nobody seems to be able to help...I don&#39;t know what happens, and it seems we are very few willing to use log4j into mongo db unfortunately...","body":"Hi @hosseinshemshadi. No, nobody seems to be able to help...I don&#39;t know what happens, and it seems we are very few willing to use log4j into mongo db unfortunately..."}],"answers":[{"comments":[{"owner":{"account_id":9040519,"reputation":23,"user_id":6734957,"display_name":"Marc Segond"},"score":1,"creation_date":1632734548,"post_id":69332432,"comment_id":122563875,"body_markdown":"You solved it!! It worked for me too! So the problem was in the order of how it initializes the loggers it seems.","body":"You solved it!! It worked for me too! So the problem was in the order of how it initializes the loggers it seems."}],"tags":[],"owner":{"account_id":2457863,"reputation":183,"user_id":2142591,"accept_rate":33,"display_name":"hossein shemshadi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632638285,"creation_date":1632638285,"answer_id":69332432,"question_id":68849458,"body_markdown":"Finally I found the problem in my configurations. Maybe it works for you too.\r\nI was used to have multiple appenders in root logger. So mongodb was trying to log something like: &quot;hey, I&#39;m going to log&quot; after initializing the RollingFileAppender but before the mongodbAppender. You can see it in below:\r\n\r\n        Root:\r\n      level: info\r\n      AppenderRef:\r\n        - ref: ConsoleAppender\r\n        - ref: RollingFileAppender\r\n        - ref: MongoAppender\r\n\r\nJust by changing the mongo appender&#39;s logger everything worked for me.\r\n\r\n      \r\n    logger:\r\n      - name: com.sinansoft\r\n        level: info\r\n        additivity: false\r\n        AppenderRef:\r\n          - ref: MongoAppender\r\n\r\n    Root:\r\n      level: info\r\n      AppenderRef:\r\n        - ref: ConsoleAppender\r\n        - ref: RollingFileAppender\r\n\r\nLet me know if you want more configuration details in this case.","title":"Log4j MongoDB stuck in timeout after 30000ms","body":"<p>Finally I found the problem in my configurations. Maybe it works for you too.\nI was used to have multiple appenders in root logger. So mongodb was trying to log something like: &quot;hey, I'm going to log&quot; after initializing the RollingFileAppender but before the mongodbAppender. You can see it in below:</p>\n<pre><code>    Root:\n  level: info\n  AppenderRef:\n    - ref: ConsoleAppender\n    - ref: RollingFileAppender\n    - ref: MongoAppender\n</code></pre>\n<p>Just by changing the mongo appender's logger everything worked for me.</p>\n<pre><code>logger:\n  - name: com.sinansoft\n    level: info\n    additivity: false\n    AppenderRef:\n      - ref: MongoAppender\n\nRoot:\n  level: info\n  AppenderRef:\n    - ref: ConsoleAppender\n    - ref: RollingFileAppender\n</code></pre>\n<p>Let me know if you want more configuration details in this case.</p>\n"},{"tags":[],"owner":{"account_id":27134979,"reputation":1,"user_id":20676630,"display_name":"cio33"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677628983,"creation_date":1677628983,"answer_id":75598444,"question_id":68849458,"body_markdown":"I was having this issue for multiple cloud hosted clusters from multiple different node.js instances, docker containers, and kubernetes clusters. After a lot of troubleshooting and reading, I had discovered that my personal firewall was blocking it. I simply allowed port 27017 and everything worked.","title":"Log4j MongoDB stuck in timeout after 30000ms","body":"<p>I was having this issue for multiple cloud hosted clusters from multiple different node.js instances, docker containers, and kubernetes clusters. After a lot of troubleshooting and reading, I had discovered that my personal firewall was blocking it. I simply allowed port 27017 and everything worked.</p>\n"}],"owner":{"account_id":9040519,"reputation":23,"user_id":6734957,"display_name":"Marc Segond"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69332432,"answer_count":2,"score":1,"last_activity_date":1677628983,"creation_date":1629382136,"question_id":68849458,"body_markdown":"I have configured Log4j2 to write the logs to my Mongo Atlas cluster (4.4.8).\r\n\r\nThe configuration seems ok (I use the connection string given by Atlas), and the logs (console) say that the connection to the MongoDB is ok, database retrieved correctly and collection retrived correctly.\r\n\r\nBut then, when it tries to write a log to the DB, it times out after 30000ms saying:\r\n\r\n`Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[]`\r\n\r\nI also can see several messages saying: \r\n\r\n    INFO  org.mongodb.driver.cluster - Cluster description not yet available. Waiting for 30000 ms before timing out\r\n\r\nWhat I don&#39;t understand is that, using the very same driver, same connection string, all the operations I perform on this same MongoDB managing the connection myself (I have a MongoDBService class where I build the Mongo Connection etc...normal stuff) work with no problem, so it leads me to thing that it is Log4j that handles the connection to MongoDB in a bad way...\r\n\r\nAny help is appreciated!\r\n","title":"Log4j MongoDB stuck in timeout after 30000ms","body":"<p>I have configured Log4j2 to write the logs to my Mongo Atlas cluster (4.4.8).</p>\n<p>The configuration seems ok (I use the connection string given by Atlas), and the logs (console) say that the connection to the MongoDB is ok, database retrieved correctly and collection retrived correctly.</p>\n<p>But then, when it tries to write a log to the DB, it times out after 30000ms saying:</p>\n<p><code>Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[]</code></p>\n<p>I also can see several messages saying:</p>\n<pre><code>INFO  org.mongodb.driver.cluster - Cluster description not yet available. Waiting for 30000 ms before timing out\n</code></pre>\n<p>What I don't understand is that, using the very same driver, same connection string, all the operations I perform on this same MongoDB managing the connection myself (I have a MongoDBService class where I build the Mongo Connection etc...normal stuff) work with no problem, so it leads me to thing that it is Log4j that handles the connection to MongoDB in a bad way...</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","linux","terminal","logback"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677555547,"post_id":75586577,"comment_id":133356848,"body_markdown":"What is the log implementation behind SLF4J? log4j or kogback?","body":"What is the log implementation behind SLF4J? log4j or kogback?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677555635,"post_id":75586577,"comment_id":133356863,"body_markdown":"Does this answer your question? [Logback: use colored output only when logging to a real terminal](https://stackoverflow.com/questions/31046748/logback-use-colored-output-only-when-logging-to-a-real-terminal)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31046748/logback-use-colored-output-only-when-logging-to-a-real-terminal\">Logback: use colored output only when logging to a real terminal</a>"},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1677558482,"post_id":75586577,"comment_id":133357204,"body_markdown":"Ah forgot - Logback preferred.","body":"Ah forgot - Logback preferred."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1677558621,"post_id":75586577,"comment_id":133357213,"body_markdown":"The link MIGHT help I&#39;ll have to look it over closer when I have time.","body":"The link MIGHT help I&#39;ll have to look it over closer when I have time."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1677628754,"post_id":75586577,"comment_id":133375064,"body_markdown":"I wouldn&#39;t say the link is an answer since that requirement is much more complicated, but there was a link to a useful portion of the documentation there.","body":"I wouldn&#39;t say the link is an answer since that requirement is much more complicated, but there was a link to a useful portion of the documentation there."}],"answers":[{"tags":[],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677628688,"creation_date":1677628688,"answer_id":75598420,"question_id":75586577,"body_markdown":"Easy once you find it in the docs. I&#39;ve been all over those docs but had no idea this was built in. You may need the &quot;withJansi&quot; boolean set (unless you&#39;re on Linux/Unix, see docs) and then you can use %highlight([whatever to colorize]) inside your encoder pattern.\r\n\r\nhttps://logback.qos.ch/manual/layouts.html#coloring\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;[%thread] %highlight(%-5level) %logger{0} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n(Don&#39;t just copy/paste that pattern above since it&#39;s missing date/time and usually you&#39;ll want that...)","title":"How can we output colored Logback Java logs on a Linux terminal via &quot;gradle run&quot;?","body":"<p>Easy once you find it in the docs. I've been all over those docs but had no idea this was built in. You may need the &quot;withJansi&quot; boolean set (unless you're on Linux/Unix, see docs) and then you can use %highlight([whatever to colorize]) inside your encoder pattern.</p>\n<p><a href=\"https://logback.qos.ch/manual/layouts.html#coloring\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/layouts.html#coloring</a></p>\n<pre><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;withJansi&gt;true&lt;/withJansi&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;[%thread] %highlight(%-5level) %logger{0} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>(Don't just copy/paste that pattern above since it's missing date/time and usually you'll want that...)</p>\n"}],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75598420,"answer_count":1,"score":1,"last_activity_date":1677628791,"creation_date":1677541075,"question_id":75586577,"body_markdown":"A &quot;gradle run&quot; of a Java application on a Linux terminal (xfce4-terminal) that outputs SLF4J logs prints all text in plain boring white.\r\n\r\nTo clarify a bit more, I&#39;d like this to happen automatically without any change to existing log statements. \r\n\r\nWhat&#39;s the best way to color those ERROR/WARN/INFO/DEBUG output lines? (Ex. Red/Yellow/Green/Blue)","title":"How can we output colored Logback Java logs on a Linux terminal via &quot;gradle run&quot;?","body":"<p>A &quot;gradle run&quot; of a Java application on a Linux terminal (xfce4-terminal) that outputs SLF4J logs prints all text in plain boring white.</p>\n<p>To clarify a bit more, I'd like this to happen automatically without any change to existing log statements.</p>\n<p>What's the best way to color those ERROR/WARN/INFO/DEBUG output lines? (Ex. Red/Yellow/Green/Blue)</p>\n"},{"tags":["java","android","android-5.0-lollipop","android-5.1.1-lollipop"],"owner":{"account_id":25600944,"reputation":11,"user_id":19375972,"display_name":"Etan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677628787,"creation_date":1677573110,"question_id":75589567,"body_markdown":"I develop an Android application in Java, using the Level 21 API (Lollipop), which aims to prevent third parties from manipulating the phone to turn on the screen.\r\n\r\nI would like to point out that I am a beginner in the field of Android mobile application development. Would you have any solutions to suggest and explain to me to prevent the screen from turning on ?\r\n\r\n I explored various methods to achieve this goal, including using the PowerManager coupled with the goToSleep method to put certain elements of the device to sleep however, this technique is obsolete.\r\n\r\n I also tried using PowerManager with WakeLock to lock the state of certain items on the device, but this did not produce the desired results and many of the options are also obsolete.\r\n\r\n Finally, I used the Force-lock method in xml to turn off the screen, but this does not lock it into a permanent state. \r\n","title":"Block the screen from turning on your Android phone","body":"<p>I develop an Android application in Java, using the Level 21 API (Lollipop), which aims to prevent third parties from manipulating the phone to turn on the screen.</p>\n<p>I would like to point out that I am a beginner in the field of Android mobile application development. Would you have any solutions to suggest and explain to me to prevent the screen from turning on ?</p>\n<p> I explored various methods to achieve this goal, including using the PowerManager coupled with the goToSleep method to put certain elements of the device to sleep however, this technique is obsolete.</p>\n<p> I also tried using PowerManager with WakeLock to lock the state of certain items on the device, but this did not produce the desired results and many of the options are also obsolete.</p>\n<p> Finally, I used the Force-lock method in xml to turn off the screen, but this does not lock it into a permanent state.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1677615644,"post_id":75596840,"comment_id":133372370,"body_markdown":"Interesting question. I cannot find any documentation specifically explaining what width and height float numbers mean precisely. For example, no details on [constructor of `Scene`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Scene.html#%3Cinit%3E(javafx.scene.Parent,double,double)).","body":"Interesting question. I cannot find any documentation specifically explaining what width and height float numbers mean precisely. For example, no details on <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Scene.html#%3Cinit%3E(javafx.scene.Parent,double,double)\" rel=\"nofollow noreferrer\">constructor of <code>Scene</code></a>."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1677615841,"post_id":75596840,"comment_id":133372420,"body_markdown":"I also did some research in multiple sites and classes and found nothing","body":"I also did some research in multiple sites and classes and found nothing"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1677616297,"post_id":75596840,"comment_id":133372538,"body_markdown":"From the documentation of Node here, they talk about using pixels https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html I think it can be the same thing with the other components, I delete my answer to find a good reference","body":"From the documentation of Node here, they talk about using pixels <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html</a> I think it can be the same thing with the other components, I delete my answer to find a good reference"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1677616736,"post_id":75596840,"comment_id":133372632,"body_markdown":"With the advent of high-density screens, Cascading Style Sheets (CSS) years ago changed the meaning of their `px` (pixel) unit of size, changing from physical screen picture elements to a [logical unit](https://en.wikipedia.org/wiki/Pixel#Logical_pixel) of minimally apparent physical drawing. Unfortunately Ive not seen a precise definition in CSS. Apparently JavaFX/OpenJFX is doing something similar, but with even less specification/documentation.","body":"With the advent of high-density screens, Cascading Style Sheets (CSS) years ago changed the meaning of their <code>px</code> (pixel) unit of size, changing from physical screen picture elements to a <a href=\"https://en.wikipedia.org/wiki/Pixel#Logical_pixel\" rel=\"nofollow noreferrer\">logical unit</a> of minimally apparent physical drawing. Unfortunately Ive not seen a precise definition in CSS. Apparently JavaFX/OpenJFX is doing something similar, but with even less specification/documentation."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1677616811,"post_id":75596840,"comment_id":133372652,"body_markdown":"The closest definition I know of in Javadoc is the [Coordinate System](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Node.html) documentation for `Node`, though it is not really well-defined, perhaps deliberately.  If a dimension is specified in CSS as a size or length, there [are more unit options](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typesize).  The equivalent term in the JavaFX CSS spec is *&quot;**px**: pixels, relative to the viewing device&quot;*, which is the default unit used.","body":"The closest definition I know of in Javadoc is the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Node.html\" rel=\"nofollow noreferrer\">Coordinate System</a> documentation for <code>Node</code>, though it is not really well-defined, perhaps deliberately.  If a dimension is specified in CSS as a size or length, there <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typesize\" rel=\"nofollow noreferrer\">are more unit options</a>.  The equivalent term in the JavaFX CSS spec is <i>&quot;<b>px</b>: pixels, relative to the viewing device&quot;</i>, which is the default unit used."}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1677628277,"creation_date":1677622941,"answer_id":75597886,"question_id":75596840,"body_markdown":"They are in pixels, subject to a scaling factor for high DPI displays.\r\n\r\nFrom the docs for Node:\r\n\r\n&gt; At the device pixel level, integer coordinates map onto the corners and cracks between the pixels and the centers of the pixels appear at the midpoints between integer pixel locations. Because all coordinate values are specified with floating point numbers, coordinates can precisely point to these corners (when the floating point values have exact integer values) or to any location on the pixel. For example, a coordinate of (0.5, 0.5) would point to the center of the upper left pixel on the Stage. Similarly, a rectangle at (0, 0) with dimensions of 10 by 10 would span from the upper left corner of the upper left pixel on the Stage to the lower right corner of the 10th pixel on the 10th scanline. The pixel center of the last pixel inside that rectangle would be at the coordinates (9.5, 9.5).\r\n\r\nFor scaling factor, see:\r\n \r\n * https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Window.html#getOutputScaleX()\r\n\r\nWhich states: \r\n\r\n&gt; The scale that the Window will apply to horizontal scene coordinates in all stages of rendering and compositing the output to the screen or other destination device.\r\n\r\nSimilarly OutputScaleY exists for the vertical coordinates.\r\n\r\nAlso:\r\n\r\n * https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()\r\n\r\n","title":"What is the unit of size, spacing and other properties in JavaFX","body":"<p>They are in pixels, subject to a scaling factor for high DPI displays.</p>\n<p>From the docs for Node:</p>\n<blockquote>\n<p>At the device pixel level, integer coordinates map onto the corners and cracks between the pixels and the centers of the pixels appear at the midpoints between integer pixel locations. Because all coordinate values are specified with floating point numbers, coordinates can precisely point to these corners (when the floating point values have exact integer values) or to any location on the pixel. For example, a coordinate of (0.5, 0.5) would point to the center of the upper left pixel on the Stage. Similarly, a rectangle at (0, 0) with dimensions of 10 by 10 would span from the upper left corner of the upper left pixel on the Stage to the lower right corner of the 10th pixel on the 10th scanline. The pixel center of the last pixel inside that rectangle would be at the coordinates (9.5, 9.5).</p>\n</blockquote>\n<p>For scaling factor, see:</p>\n<ul>\n<li><a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Window.html#getOutputScaleX()\" rel=\"noreferrer\">https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Window.html#getOutputScaleX()</a></li>\n</ul>\n<p>Which states:</p>\n<blockquote>\n<p>The scale that the Window will apply to horizontal scene coordinates in all stages of rendering and compositing the output to the screen or other destination device.</p>\n</blockquote>\n<p>Similarly OutputScaleY exists for the vertical coordinates.</p>\n<p>Also:</p>\n<ul>\n<li><a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()\" rel=\"noreferrer\">https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()</a></li>\n</ul>\n"}],"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75597886,"answer_count":1,"score":6,"last_activity_date":1677628277,"creation_date":1677615099,"question_id":75596840,"body_markdown":"When learning JavaFX you find that you can set the height and width of scene, you can set the spacing between nodes in HBox, and other similar aspects.\r\nMy question is about the unit of such values.\r\nFor example, in this simple code:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class TestGUI extends Application{\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button btn1 = new Button(&quot;OK&quot;);\r\n        Button btn2 = new Button(&quot;Cancel&quot;);\r\n        HBox root = new HBox(15,btn1,btn2);\r\n        root.setAlignment(Pos.CENTER);\r\n        Scene scene = new Scene(root,250,50);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setTitle(&quot;GUI Example&quot;);\r\n        primaryStage.show();\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nWhat is the units of 250, 50 and 15?\r\n","title":"What is the unit of size, spacing and other properties in JavaFX","body":"<p>When learning JavaFX you find that you can set the height and width of scene, you can set the spacing between nodes in HBox, and other similar aspects.\nMy question is about the unit of such values.\nFor example, in this simple code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class TestGUI extends Application{\n    @Override\n    public void start(Stage primaryStage) {\n        Button btn1 = new Button(&quot;OK&quot;);\n        Button btn2 = new Button(&quot;Cancel&quot;);\n        HBox root = new HBox(15,btn1,btn2);\n        root.setAlignment(Pos.CENTER);\n        Scene scene = new Scene(root,250,50);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;GUI Example&quot;);\n        primaryStage.show();\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>What is the units of 250, 50 and 15?</p>\n"},{"tags":["java","spring-boot","querydsl"],"comments":[{"owner":{"account_id":5702748,"reputation":89,"user_id":4507247,"accept_rate":76,"display_name":"simon77"},"score":0,"creation_date":1684328139,"post_id":75566387,"comment_id":134501921,"body_markdown":"Have you found a solution for this problem?","body":"Have you found a solution for this problem?"}],"answers":[{"tags":[],"owner":{"account_id":27883338,"reputation":11,"user_id":21291342,"display_name":"Vasilis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677488647,"creation_date":1677488647,"answer_id":75578496,"question_id":75566387,"body_markdown":"Well, in intellij you have to right click your pom.xml file and select maven &gt; generate sources. After a few seconds that the loading is finished, you must run a maven `clean and compile` command. Afterwards, if there are no errors, you may run your project and the QClasses should be generated. ","title":"QEntities are not generated","body":"<p>Well, in intellij you have to right click your pom.xml file and select maven &gt; generate sources. After a few seconds that the loading is finished, you must run a maven <code>clean and compile</code> command. Afterwards, if there are no errors, you may run your project and the QClasses should be generated.</p>\n"},{"comments":[{"owner":{"account_id":12139977,"reputation":5614,"user_id":8864226,"display_name":"James Risner"},"score":0,"creation_date":1677629094,"post_id":75598395,"comment_id":133375118,"body_markdown":"Please use the edit link on your question to add additional information. The &quot;Post Answer&quot; button should be used only for complete answers to the question.","body":"Please use the edit link on your question to add additional information. The &quot;Post Answer&quot; button should be used only for complete answers to the question."}],"tags":[],"owner":{"account_id":27877229,"reputation":11,"user_id":21286481,"display_name":"Sataraja"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677628243,"creation_date":1677628243,"answer_id":75598395,"question_id":75566387,"body_markdown":"Usually I use vscode but I tried with intellij but I can&#39;t clean and build maven because when I try to open effective pom I get an error","title":"QEntities are not generated","body":"<p>Usually I use vscode but I tried with intellij but I can't clean and build maven because when I try to open effective pom I get an error</p>\n"}],"owner":{"account_id":27877229,"reputation":11,"user_id":21286481,"display_name":"Sataraja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677628243,"creation_date":1677338285,"question_id":75566387,"body_markdown":"I created a spring boot project but QEntities are not generated. Can anyone help me figure out how to fix this? Thanks.\r\n\r\nThe error that I get is:\r\n`QAppello cannot be resolved to a type`. \r\nAppello is an entity of my project and AppelloRepository is its repository.\r\nI tried to post in pom many dependencies that i found out in internet but nothing worked out.\r\n\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.iuni_datamodel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;iuni_datamodel&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;iuni_datamodel&lt;/name&gt;\r\n\t&lt;description&gt;data model &lt;/description&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n\t\t  &lt;/dependency&gt;\r\n\t\t  &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.6&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;jpa&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source /&gt;\r\n\t\t\t\t\t&lt;target /&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t &lt;!--Plugin for query-dsl--&gt;\r\n\t\t\t &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t  &lt;execution&gt;\r\n\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t  &lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t  &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\r\n\t\t\t\t\t   &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t  &lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t  &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nAppello.java  (entity)\r\n\r\n```\r\npackage com.iuni_datamodel.Appello;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\nimport java.util.UUID;\r\nimport org.hibernate.annotations.DynamicInsert;\r\nimport org.hibernate.annotations.DynamicUpdate;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport com.querydsl.core.annotations.QueryEntity;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n// Data annotation\r\n@QueryEntity\r\n@DynamicInsert\r\n@DynamicUpdate\r\n// Code generation annotation\r\n@Data\r\n@Builder(toBuilder = true)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Appello implements Serializable{\r\n\r\n    @Id\r\n    @Column(length = 16)\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    private UUID id;\r\n\r\n    private Date dataInizio;\r\n    private Date dataFine;\r\n\r\n}\r\n\r\n\r\n    /* \r\nList&lt;GameVersion&gt; gameVersions = new JPAQuery(em)\r\n    .select()\r\n    .from()\r\n    .leftJoin()\r\n    .fetchJoin()\r\n    .fetch();\r\n\r\nfor(GameVersion gameVersion : gameVersons){\r\n    gameversion.getGameversionPlayModes();\r\n\r\n}\r\n*/\r\n```\r\n\r\n\r\nAppelloRepository.java\r\n\r\n\r\n```\r\npackage com.iuni_datamodel.Appello;\r\n\r\n\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.querydsl.QuerydslPredicateExecutor;\r\nimport org.springframework.data.querydsl.binding.QuerydslBinderCustomizer;\r\nimport org.springframework.data.querydsl.binding.QuerydslBindings;\r\n\r\n\r\npublic interface AppelloRepository extends JpaRepository&lt;Appello, UUID&gt;, QuerydslPredicateExecutor&lt;Appello&gt;, QuerydslBinderCustomizer&lt;QAppello&gt; {\r\n\r\n    @Override\r\n    default void customize(QuerydslBindings bindings, QAppello root) {\r\n         \r\n    }\r\n\r\n}\r\n```\r\n","title":"QEntities are not generated","body":"<p>I created a spring boot project but QEntities are not generated. Can anyone help me figure out how to fix this? Thanks.</p>\n<p>The error that I get is:\n<code>QAppello cannot be resolved to a type</code>.\nAppello is an entity of my project and AppelloRepository is its repository.\nI tried to post in pom many dependencies that i found out in internet but nothing worked out.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.iuni_datamodel&lt;/groupId&gt;\n    &lt;artifactId&gt;iuni_datamodel&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;iuni_datamodel&lt;/name&gt;\n    &lt;description&gt;data model &lt;/description&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;4.0.6&lt;/version&gt;\n            &lt;classifier&gt;jpa&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;4.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source /&gt;\n                    &lt;target /&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n             &lt;!--Plugin for query-dsl--&gt;\n             &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                      &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\n                       &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n              &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Appello.java  (entity)</p>\n<pre><code>package com.iuni_datamodel.Appello;\n\nimport java.io.Serializable;\nimport java.util.Date;\nimport java.util.UUID;\nimport org.hibernate.annotations.DynamicInsert;\nimport org.hibernate.annotations.DynamicUpdate;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport com.querydsl.core.annotations.QueryEntity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n// Data annotation\n@QueryEntity\n@DynamicInsert\n@DynamicUpdate\n// Code generation annotation\n@Data\n@Builder(toBuilder = true)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Appello implements Serializable{\n\n    @Id\n    @Column(length = 16)\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    private UUID id;\n\n    private Date dataInizio;\n    private Date dataFine;\n\n}\n\n\n    /* \nList&lt;GameVersion&gt; gameVersions = new JPAQuery(em)\n    .select()\n    .from()\n    .leftJoin()\n    .fetchJoin()\n    .fetch();\n\nfor(GameVersion gameVersion : gameVersons){\n    gameversion.getGameversionPlayModes();\n\n}\n*/\n</code></pre>\n<p>AppelloRepository.java</p>\n<pre><code>package com.iuni_datamodel.Appello;\n\n\nimport java.util.UUID;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.querydsl.QuerydslPredicateExecutor;\nimport org.springframework.data.querydsl.binding.QuerydslBinderCustomizer;\nimport org.springframework.data.querydsl.binding.QuerydslBindings;\n\n\npublic interface AppelloRepository extends JpaRepository&lt;Appello, UUID&gt;, QuerydslPredicateExecutor&lt;Appello&gt;, QuerydslBinderCustomizer&lt;QAppello&gt; {\n\n    @Override\n    default void customize(QuerydslBindings bindings, QAppello root) {\n         \n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","ide"],"answers":[{"tags":[],"owner":{"account_id":17061790,"reputation":21,"user_id":12345036,"display_name":"Muhammad Abubakr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677628139,"creation_date":1677627788,"answer_id":75598355,"question_id":75597976,"body_markdown":"I solved the issue.\r\n\r\nThe problem was in devices.xml file (located in `C:\\Users\\&lt;user name&gt;\\.android`)\r\n\r\nIn this line:\r\n\r\n    &lt;d:devices xmlns:d=&quot;http://schemas.android.com/sdk/devices/6&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\r\nthe number 6 in `http://schemas.android.com/sdk/devices/6` was written in Arabic format.","title":"adb is not starting when launching android studio","body":"<p>I solved the issue.</p>\n<p>The problem was in devices.xml file (located in <code>C:\\Users\\&lt;user name&gt;\\.android</code>)</p>\n<p>In this line:</p>\n<pre><code>&lt;d:devices xmlns:d=&quot;http://schemas.android.com/sdk/devices/6&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n</code></pre>\n<p>the number 6 in <code>http://schemas.android.com/sdk/devices/6</code> was written in Arabic format.</p>\n"}],"owner":{"account_id":17061790,"reputation":21,"user_id":12345036,"display_name":"Muhammad Abubakr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75598355,"answer_count":1,"score":0,"last_activity_date":1677628139,"creation_date":1677623830,"question_id":75597976,"body_markdown":"When I launch android studio, adb is not shown in task manager, device list in Android Studio stuck on loading, when I press Start device I get the following IDE Internal Error:\r\n\r\n    java.lang.AssertionError: Unexpected schema version 0\r\n\tat com.android.dvlib.DeviceSchema.getXsdStream(DeviceSchema.java:262)\r\n\tat com.android.dvlib.DeviceSchema.getSchema(DeviceSchema.java:346)\r\n\tat com.android.sdklib.devices.DeviceParser.getParser(DeviceParser.java:537)\r\n\tat com.android.sdklib.devices.DeviceParser.parseImpl(DeviceParser.java:522)\r\n\tat com.android.sdklib.devices.DeviceParser.parse(DeviceParser.java:498)\r\n\tat com.android.sdklib.devices.DeviceManager.initUserDevices(DeviceManager.java:416)\r\n\r\n\r\nI downloaded Java latest version but the problem still persists\r\n\r\n[![Error shown][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7E2X4.png","title":"adb is not starting when launching android studio","body":"<p>When I launch android studio, adb is not shown in task manager, device list in Android Studio stuck on loading, when I press Start device I get the following IDE Internal Error:</p>\n<pre><code>java.lang.AssertionError: Unexpected schema version 0\nat com.android.dvlib.DeviceSchema.getXsdStream(DeviceSchema.java:262)\nat com.android.dvlib.DeviceSchema.getSchema(DeviceSchema.java:346)\nat com.android.sdklib.devices.DeviceParser.getParser(DeviceParser.java:537)\nat com.android.sdklib.devices.DeviceParser.parseImpl(DeviceParser.java:522)\nat com.android.sdklib.devices.DeviceParser.parse(DeviceParser.java:498)\nat com.android.sdklib.devices.DeviceManager.initUserDevices(DeviceManager.java:416)\n</code></pre>\n<p>I downloaded Java latest version but the problem still persists</p>\n<p><a href=\"https://i.stack.imgur.com/7E2X4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7E2X4.png\" alt=\"Error shown\" /></a></p>\n"},{"tags":["java","sql-server","eclipselink","spring-transactions"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":1,"creation_date":1639778645,"post_id":70399175,"comment_id":124444371,"body_markdown":"Add an `em.flush()` to your repository `save` to see anything. The way it is now, the database doesn&#39;t have a chance to acquire a write lock since JPA delays SQL until the transaction commit.","body":"Add an <code>em.flush()</code> to your repository <code>save</code> to see anything. The way it is now, the database doesn&#39;t have a chance to acquire a write lock since JPA delays SQL until the transaction commit."},{"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"score":0,"creation_date":1639815829,"post_id":70399175,"comment_id":124449052,"body_markdown":"Mhm after the transaction spring will execute a commit. This is a spring data repository why should I need a flush?","body":"Mhm after the transaction spring will execute a commit. This is a spring data repository why should I need a flush?"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":1,"creation_date":1639822053,"post_id":70399175,"comment_id":124449926,"body_markdown":"EclipseLink buffers SQL statements that need to be executed for as long as possible in order to reduce the lock time in the RDBMS. In your particular case the JDBC driver will receive the UPDATE statement when Spring Data JPA commits the transaction. You can verify it by enabling SQL logging in EclispeLink: https://stackoverflow.com/q/2374395/17695211","body":"EclipseLink buffers SQL statements that need to be executed for as long as possible in order to reduce the lock time in the RDBMS. In your particular case the JDBC driver will receive the UPDATE statement when Spring Data JPA commits the transaction. You can verify it by enabling SQL logging in EclispeLink: <a href=\"https://stackoverflow.com/q/2374395/17695211\">stackoverflow.com/q/2374395/17695211</a>"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1639822298,"post_id":70399175,"comment_id":124449963,"body_markdown":"After enabling SQL logging you&#39;ll see that there won&#39;t be any SQL debug output in the console at your breakpoint. It will appear **after** the return. If you really want to see the locking effect, you need to write the repository without Spring Data JPA with a `@PersistenceContext`-injected `EntityManager` and call `EntityManager.flush` which will flush SQL statement buffer of EclipseLink to the JDBC driver **before the breakpoint**.","body":"After enabling SQL logging you&#39;ll see that there won&#39;t be any SQL debug output in the console at your breakpoint. It will appear <b>after</b> the return. If you really want to see the locking effect, you need to write the repository without Spring Data JPA with a <code>@PersistenceContext</code>-injected <code>EntityManager</code> and call <code>EntityManager.flush</code> which will flush SQL statement buffer of EclipseLink to the JDBC driver <b>before the breakpoint</b>."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1639822706,"post_id":70399175,"comment_id":124450041,"body_markdown":"Alternatively (and if you feel adventurous), you may try looking for a place in the EclipseLink source code where it executes the corresponding `PreparedStatement`, and set the breakpoint right after it.","body":"Alternatively (and if you feel adventurous), you may try looking for a place in the EclipseLink source code where it executes the corresponding <code>PreparedStatement</code>, and set the breakpoint right after it."},{"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"score":0,"creation_date":1639842578,"post_id":70399175,"comment_id":124454033,"body_markdown":"That&#39;s exactly what I saw in the log, that&#39;s why I saw that with unit of work. In concrete terms, does that mean that spring Transaction does not open a transaction on the database correctly at doBegin, but only when the statement of the statements is executed?\n\nDoes that mean that the transaction handling between Hibernate and EclipseLink is different?","body":"That&#39;s exactly what I saw in the log, that&#39;s why I saw that with unit of work. In concrete terms, does that mean that spring Transaction does not open a transaction on the database correctly at doBegin, but only when the statement of the statements is executed?  Does that mean that the transaction handling between Hibernate and EclipseLink is different?"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1639862080,"post_id":70399175,"comment_id":124458131,"body_markdown":"Spring starts the transaction before your method and commits it (or rolls it back if there were exceptions) after your method. There is nothing wrong here, and it&#39;s the same in Hibernate. However, a started transaction doesn&#39;t block execution by itself. It is SQL statements that execute inside of the transaction lock **the corresponding rows** of the table **until the end of the transaction**. At the time of your breakpoint no SQL reached the database yet, therefore no locks acquired and the other transaction of yours will go through swiftly.","body":"Spring starts the transaction before your method and commits it (or rolls it back if there were exceptions) after your method. There is nothing wrong here, and it&#39;s the same in Hibernate. However, a started transaction doesn&#39;t block execution by itself. It is SQL statements that execute inside of the transaction lock <b>the corresponding rows</b> of the table <b>until the end of the transaction</b>. At the time of your breakpoint no SQL reached the database yet, therefore no locks acquired and the other transaction of yours will go through swiftly."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1639862494,"post_id":70399175,"comment_id":124458204,"body_markdown":"I&#39;m also not sure that two UPDATE statements will block anything. The second transaction should probably be a SELECT query. But then, if your database has MVCC enabled, it won&#39;t block still.\n\nNowadays databases are very good at not blocking when it&#39;s not necessary!","body":"I&#39;m also not sure that two UPDATE statements will block anything. The second transaction should probably be a SELECT query. But then, if your database has MVCC enabled, it won&#39;t block still.  Nowadays databases are very good at not blocking when it&#39;s not necessary!"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1640017063,"post_id":70399175,"comment_id":124489488,"body_markdown":"EclipseLInk&#39;s UnitOfWork predates JPA, and the JPA EntityManager interface just wraps one. They are just sessions/contexts meant to encapsulate work done in a transaction, and delay modifications, if possible, until the very end when they can group, order and even batch SQL statements more efficiently, and keep DB locking to a minimum. EclipseLink doesn&#39;t even try to get connections until it absolutely needs one, allowing connections to be reused and better shared, reducing the resources required, though containers usually get and tie up a connection anyway.","body":"EclipseLInk&#39;s UnitOfWork predates JPA, and the JPA EntityManager interface just wraps one. They are just sessions/contexts meant to encapsulate work done in a transaction, and delay modifications, if possible, until the very end when they can group, order and even batch SQL statements more efficiently, and keep DB locking to a minimum. EclipseLink doesn&#39;t even try to get connections until it absolutely needs one, allowing connections to be reused and better shared, reducing the resources required, though containers usually get and tie up a connection anyway."},{"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"score":0,"creation_date":1642886009,"post_id":70399175,"comment_id":125193720,"body_markdown":"I have now found the right places to set breakpoints and the write actions work as expected. If you want to update the same row, then there is a lock on it and the second transaction have to wait. The transactions id can also be selected in the corresponding database table.\n\nHowever, how should it behave in a reading and writing transaction?\nTransaction A reads a row and acquires a read lock. Transaction B changes the same row. How should the behavior be with READ COMMITED transactions?\nThe term for read locks is not clear whether these are very short or valid during the whole transactio","body":"I have now found the right places to set breakpoints and the write actions work as expected. If you want to update the same row, then there is a lock on it and the second transaction have to wait. The transactions id can also be selected in the corresponding database table.  However, how should it behave in a reading and writing transaction? Transaction A reads a row and acquires a read lock. Transaction B changes the same row. How should the behavior be with READ COMMITED transactions? The term for read locks is not clear whether these are very short or valid during the whole transactio"}],"answers":[{"comments":[{"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"score":0,"creation_date":1639994862,"post_id":70405193,"comment_id":124481208,"body_markdown":"Then I test the whole thing in the new year with a SELECT and read transaction and execute a em.flush. After the flush i will add the breakpoint. Maybe it will be clearer when I test a dirty read case.","body":"Then I test the whole thing in the new year with a SELECT and read transaction and execute a em.flush. After the flush i will add the breakpoint. Maybe it will be clearer when I test a dirty read case."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1640016292,"post_id":70405193,"comment_id":124489160,"body_markdown":"UnitOfWorkImpl&#39;s commitToDatabase method gets called on pre-commit JTA events as well as on flush, so might be good spot to start with a breakpoint. You likely don&#39;t need the actual SQL statement execution - any point after but before Spring commits the transaction will do (so after the writeAllObjectsWithChangeSet call).","body":"UnitOfWorkImpl&#39;s commitToDatabase method gets called on pre-commit JTA events as well as on flush, so might be good spot to start with a breakpoint. You likely don&#39;t need the actual SQL statement execution - any point after but before Spring commits the transaction will do (so after the writeAllObjectsWithChangeSet call)."},{"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"score":0,"creation_date":1640080700,"post_id":70405193,"comment_id":124504875,"body_markdown":"Thanks Chris. Trying to do that, I would like to test the effects and differences. If my read transactions were running on READ_COMMITTED_SNAPSHOT. As far as I know, the default for SQL Server is READ_COMMITTED. However, I haven&#39;t been able to notice any real difference so far.","body":"Thanks Chris. Trying to do that, I would like to test the effects and differences. If my read transactions were running on READ_COMMITTED_SNAPSHOT. As far as I know, the default for SQL Server is READ_COMMITTED. However, I haven&#39;t been able to notice any real difference so far."}],"tags":[],"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677627889,"creation_date":1639845290,"answer_id":70405193,"question_id":70399175,"body_markdown":"As [commented](https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124449926_70399175) (and also [2](https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124449963_70399175), [3](https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124450041_70399175)) by [Alexei Veleshko](https://stackoverflow.com/users/17695211/alexey-veleshko):\r\n\r\n&gt; EclipseLink buffers SQL statements that need to be executed for as\r\n&gt; long as possible in order to reduce the lock time in the RDBMS. In\r\n&gt; your particular case the JDBC driver will receive the UPDATE statement\r\n&gt; when Spring Data JPA commits the transaction. You can verify it by\r\n&gt; enabling SQL logging in EclispeLink:\r\n&gt; stackoverflow.com/q/2374395/17695211\r\n&gt; \r\n&gt; After enabling SQL logging you&#39;ll see that there won&#39;t be any SQL\r\n&gt; debug output in the console at your breakpoint. It will appear after\r\n&gt; the return. If you really want to see the locking effect, you need to\r\n&gt; write the repository without Spring Data JPA with a\r\n&gt; @PersistenceContext-injected EntityManager and call\r\n&gt; EntityManager.flush which will flush SQL statement buffer of\r\n&gt; EclipseLink to the JDBC driver before the breakpoint.\r\n&gt; \r\n&gt; Alternatively (and if you feel adventurous), you may try looking for a\r\n&gt; place in the EclipseLink source code where it executes the\r\n&gt; corresponding PreparedStatement, and set the breakpoint right after\r\n&gt; it.","title":"Spring Transaction handling with EclipseLink","body":"<p>As <a href=\"https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124449926_70399175\">commented</a> (and also <a href=\"https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124449963_70399175\">2</a>, <a href=\"https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124450041_70399175\">3</a>) by <a href=\"https://stackoverflow.com/users/17695211/alexey-veleshko\">Alexei Veleshko</a>:</p>\n<blockquote>\n<p>EclipseLink buffers SQL statements that need to be executed for as\nlong as possible in order to reduce the lock time in the RDBMS. In\nyour particular case the JDBC driver will receive the UPDATE statement\nwhen Spring Data JPA commits the transaction. You can verify it by\nenabling SQL logging in EclispeLink:\nstackoverflow.com/q/2374395/17695211</p>\n<p>After enabling SQL logging you'll see that there won't be any SQL\ndebug output in the console at your breakpoint. It will appear after\nthe return. If you really want to see the locking effect, you need to\nwrite the repository without Spring Data JPA with a\n@PersistenceContext-injected EntityManager and call\nEntityManager.flush which will flush SQL statement buffer of\nEclipseLink to the JDBC driver before the breakpoint.</p>\n<p>Alternatively (and if you feel adventurous), you may try looking for a\nplace in the EclipseLink source code where it executes the\ncorresponding PreparedStatement, and set the breakpoint right after\nit.</p>\n</blockquote>\n"}],"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677627889,"creation_date":1639777406,"question_id":70399175,"body_markdown":"I am new to databases and transactions. I find a lot of different information up-to-date and am currently trying to organize my thoughts.\r\nRegarding the context, I&#39;m trying to test the current isolation level with the SQL Server, but I don&#39;t succeed.\r\n\r\nFor this I use Spring Transaction together with Eclipse Link. I found some information about Spring transactions (https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth). However, there is still a concept of the works unit and now I don&#39;t know what is currently being used (https://wiki.eclipse.org/Introduction_to_EclipseLink_Transactions_(ELUG)#Unit_of_Work_Architecture)\r\n\r\nWhat I am trying to test:\r\nI have an Entity User (id, firstname, lastname). I have an entry in table id = 1, firstname = foo lastname = bar\r\n\r\nI have a service and transaction. IMHO default is isolation READ_COMMIT for SQL Server\r\n\r\n    @Transactional\r\n    public User updateUser(){\r\n       User updateUser = new User(1, &quot;new firstname&quot;, &quot;new lastname&quot;);\r\n       User updatedUser = userRepository.save(updateUser); --&gt; em.merge\r\n       return updatedUser;\r\n    }\r\n\r\n\r\nSo far so good. What I do not understand now. I set a breakpoint in the return.\r\nAt the same time I opened a second SQL client and executed the following SQL.\r\n\r\n    SET IMPLICIT_TRANSACTIONS ON \r\n    UPDATE \r\n        User \r\n    SET \r\n        lastname = &#39;complete new&#39;, \r\n    WHERE \r\n        id = 1\r\n    COMMIT TRAN \r\n\r\n\r\nWhat I would expect is that the SQL statement will wait for the Spring transaction to complete. BUT this is currently not the case, the SQL statement is simply carried out.\r\n\r\nThen lastname is in the table lastname &quot;complete new&quot; then I resume the breakpoint and then the lastname is &quot;new lastname&quot;. This behavior I cannot understand. Is this normal or is this because of the unit work of eclipse link?","title":"Spring Transaction handling with EclipseLink","body":"<p>I am new to databases and transactions. I find a lot of different information up-to-date and am currently trying to organize my thoughts.\nRegarding the context, I'm trying to test the current isolation level with the SQL Server, but I don't succeed.</p>\n<p>For this I use Spring Transaction together with Eclipse Link. I found some information about Spring transactions (<a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth</a>). However, there is still a concept of the works unit and now I don't know what is currently being used (<a href=\"https://wiki.eclipse.org/Introduction_to_EclipseLink_Transactions_(ELUG)#Unit_of_Work_Architecture\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Introduction_to_EclipseLink_Transactions_(ELUG)#Unit_of_Work_Architecture</a>)</p>\n<p>What I am trying to test:\nI have an Entity User (id, firstname, lastname). I have an entry in table id = 1, firstname = foo lastname = bar</p>\n<p>I have a service and transaction. IMHO default is isolation READ_COMMIT for SQL Server</p>\n<pre><code>@Transactional\npublic User updateUser(){\n   User updateUser = new User(1, &quot;new firstname&quot;, &quot;new lastname&quot;);\n   User updatedUser = userRepository.save(updateUser); --&gt; em.merge\n   return updatedUser;\n}\n</code></pre>\n<p>So far so good. What I do not understand now. I set a breakpoint in the return.\nAt the same time I opened a second SQL client and executed the following SQL.</p>\n<pre><code>SET IMPLICIT_TRANSACTIONS ON \nUPDATE \n    User \nSET \n    lastname = 'complete new', \nWHERE \n    id = 1\nCOMMIT TRAN \n</code></pre>\n<p>What I would expect is that the SQL statement will wait for the Spring transaction to complete. BUT this is currently not the case, the SQL statement is simply carried out.</p>\n<p>Then lastname is in the table lastname &quot;complete new&quot; then I resume the breakpoint and then the lastname is &quot;new lastname&quot;. This behavior I cannot understand. Is this normal or is this because of the unit work of eclipse link?</p>\n"},{"tags":["java","gradle","java-17"],"owner":{"account_id":350281,"reputation":2772,"user_id":686041,"accept_rate":90,"display_name":"Konstantin Tarashchanskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677627874,"creation_date":1677627874,"question_id":75598364,"body_markdown":"I have a gradle project consisting of two sub-projects, one of which (a Java project) depends on the other (a Kotlin project).\r\n\r\n`/settings.gradle`\r\n\r\n    rootProject.name = &#39;PROJECT NAME&#39;\r\n    include &#39;server&#39;\r\n    include &#39;rules&#39;\r\n\r\n`server/build.gradle`\r\n\r\n    ...\r\n    dependencies {\r\n    \timplementation project(&#39;:rules&#39;)\r\n    \t...\r\n    }\r\n    ...\r\n\r\nWhen I do a `gradle build` using Java 17, I get `java.lang.NoClassDefFoundError` for classes in the `rules` module.\r\n\r\nThe build works when I build using Java 19 or if I switch the server `sourceCompatibility=16` (running the build using Java 16 or 17).\r\n\r\n    $ ./gradlew -v\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 8.0.1\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2023-02-17 20:09:48 UTC\r\n    Revision:     68959bf76cef4d28c678f2e2085ee84e8647b77a\r\n    \r\n    Kotlin:       1.8.10\r\n    Groovy:       3.0.13\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          17.0.6 (Homebrew 17.0.6+0)\r\n    OS:           Mac OS X 13.2 x86_64","title":"Gradle subprojects not seeing each other, but only on Java 17","body":"<p>I have a gradle project consisting of two sub-projects, one of which (a Java project) depends on the other (a Kotlin project).</p>\n<p><code>/settings.gradle</code></p>\n<pre><code>rootProject.name = 'PROJECT NAME'\ninclude 'server'\ninclude 'rules'\n</code></pre>\n<p><code>server/build.gradle</code></p>\n<pre><code>...\ndependencies {\n    implementation project(':rules')\n    ...\n}\n...\n</code></pre>\n<p>When I do a <code>gradle build</code> using Java 17, I get <code>java.lang.NoClassDefFoundError</code> for classes in the <code>rules</code> module.</p>\n<p>The build works when I build using Java 19 or if I switch the server <code>sourceCompatibility=16</code> (running the build using Java 16 or 17).</p>\n<pre><code>$ ./gradlew -v\n\n------------------------------------------------------------\nGradle 8.0.1\n------------------------------------------------------------\n\nBuild time:   2023-02-17 20:09:48 UTC\nRevision:     68959bf76cef4d28c678f2e2085ee84e8647b77a\n\nKotlin:       1.8.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.6 (Homebrew 17.0.6+0)\nOS:           Mac OS X 13.2 x86_64\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-starter"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1627646581,"post_id":68590532,"comment_id":121218157,"body_markdown":"What makes you think it&#39;s only for learning?\n\nSpring Boot is a production ready application framework.\n\nAnd what vulnerabilities?","body":"What makes you think it&#39;s only for learning?  Spring Boot is a production ready application framework.  And what vulnerabilities?"},{"owner":{"account_id":18350678,"reputation":454,"user_id":13364925,"display_name":"dungreact"},"score":1,"creation_date":1627647654,"post_id":68590532,"comment_id":121218558,"body_markdown":"Because the name `starter`","body":"Because the name <code>starter</code>"},{"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"score":0,"creation_date":1627648412,"post_id":68590532,"comment_id":121218846,"body_markdown":"Please ask only one question per post. I&#39;ve provided an answer to your question about Spring Boot. Please post your question about JPA separately.","body":"Please ask only one question per post. I&#39;ve provided an answer to your question about Spring Boot. Please post your question about JPA separately."}],"answers":[{"tags":[],"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1627648152,"creation_date":1627648152,"answer_id":68590983,"question_id":68590532,"body_markdown":"The &quot;starters&quot; are Spring Boot&#39;s dependency management and auto-configuration mechanism. The term &quot;starter&quot; does not aim to indicate that it&#39;s for non-production uses cases, it is probably just used to emphasize that it gets you started quickly. See the following explanation from [the Spring Boot documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters):\r\n\r\n&gt; Starters are a set of convenient dependency descriptors that you can include in your application. You get a one-stop shop for all the Spring and related technologies that you need without having to hunt through sample code and copy-paste loads of dependency descriptors.\r\n\r\nIn order to understand starter dependencies better, I suggest reviewing [section &quot;Creating Your Own Starter&quot; from the Spring Boot documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration.custom-starter).","title":"Are Spring Boot starter dependencies production-ready?","body":"<p>The &quot;starters&quot; are Spring Boot's dependency management and auto-configuration mechanism. The term &quot;starter&quot; does not aim to indicate that it's for non-production uses cases, it is probably just used to emphasize that it gets you started quickly. See the following explanation from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters\" rel=\"noreferrer\">the Spring Boot documentation</a>:</p>\n<blockquote>\n<p>Starters are a set of convenient dependency descriptors that you can include in your application. You get a one-stop shop for all the Spring and related technologies that you need without having to hunt through sample code and copy-paste loads of dependency descriptors.</p>\n</blockquote>\n<p>In order to understand starter dependencies better, I suggest reviewing <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration.custom-starter\" rel=\"noreferrer\">section &quot;Creating Your Own Starter&quot; from the Spring Boot documentation</a>.</p>\n"}],"owner":{"account_id":18350678,"reputation":454,"user_id":13364925,"display_name":"dungreact"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68590983,"answer_count":1,"score":3,"last_activity_date":1677627730,"creation_date":1627645949,"question_id":68590532,"body_markdown":"I&#39;m learning spring boot to develop an eCommerce website by myself. I consider that starter dependencies like `spring-boot-starter-web`, `spring-boot-starter-security` can be used for a production environment or just for learning purposes?","title":"Are Spring Boot starter dependencies production-ready?","body":"<p>I'm learning spring boot to develop an eCommerce website by myself. I consider that starter dependencies like <code>spring-boot-starter-web</code>, <code>spring-boot-starter-security</code> can be used for a production environment or just for learning purposes?</p>\n"},{"tags":["java","spring-boot","docker-compose","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677627608,"creation_date":1661573592,"answer_id":73508297,"question_id":73270739,"body_markdown":"Services are no longer running on localhost. \r\n\r\nSo change:\r\n```properties\r\nEUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\r\n```\r\nTo corresponding service container name, take Eureka server for instance:\r\n```properties\r\nEUREKASERVER_URI: &quot;http://eurekaserver:8761/eureka/&quot;\r\n```\r\nSee [Github issue](https://github.com/spring-cloud/spring-cloud-netflix/issues/2442#issuecomment-344338485). ","title":"Docker compose com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server","body":"<p>Services are no longer running on localhost.</p>\n<p>So change:</p>\n<pre><code>EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\n</code></pre>\n<p>To corresponding service container name, take Eureka server for instance:</p>\n<pre><code>EUREKASERVER_URI: &quot;http://eurekaserver:8761/eureka/&quot;\n</code></pre>\n<p>See <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/2442#issuecomment-344338485\" rel=\"nofollow noreferrer\">Github issue</a>.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73508297,"answer_count":1,"score":1,"last_activity_date":1677627608,"creation_date":1659903403,"question_id":73270739,"body_markdown":"I tried to implement an **example** of **Spring Boot Microservice** examples.\r\nI have a problem in **docker-compose** file.\r\n\r\n**Eureka server** and **api gateways** throws an **issue** defined below while there is no issue in config server.\r\n\r\nHere is the issue : `com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server`\r\n\r\nHere is the **code snippets** **for config server**.\r\n\r\n    configserver:\r\n        image: configserver\r\n        container_name: configServer\r\n        build:\r\n          context: ./configserver\r\n          dockerfile: Dockerfile\r\n        environment:\r\n          CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\r\n          CONFIGSERVER_PORT: &quot;9191&quot;\r\n        ports:\r\n          - &quot;9191:9191&quot;\r\n        networks:\r\n          backend:\r\n            aliases:\r\n              - &quot;configserver&quot;\r\n\r\n\r\nHere is the **code snippets** for **eureka server**\r\n\r\n    eurekaserver:\r\n        image: eurekaserver\r\n        ports:\r\n          - &quot;8761:8761&quot;\r\n        build:\r\n          context: ./discoveryserver\r\n          dockerfile: Dockerfile\r\n        environment:\r\n          CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\r\n          CONFIGSERVER_PORT: &quot;9191&quot;\r\n          EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\r\n          EUREKASERVER_PORT: &quot;8761&quot;\r\n        depends_on:\r\n          configserver:\r\n            condition: service_started\r\n        networks:\r\n          backend:\r\n            aliases:\r\n              - &quot;eurekaserver&quot;\r\n\r\nHere is the **code snippets** for **api gateway server**.\r\n\r\n    gatewayserver:\r\n        image: gatewayserver\r\n        ports:\r\n          - &quot;8600:8600&quot;\r\n        build:\r\n          context: ./api-gateway\r\n          dockerfile: Dockerfile\r\n        environment:\r\n          PROFILE: &quot;default&quot;\r\n          SERVER_PORT: &quot;8600&quot;\r\n          CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\r\n          EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\r\n          EUREKASERVER_PORT: &quot;8761&quot;\r\n          CONFIGSERVER_PORT: &quot;9191&quot;\r\n        depends_on:\r\n          configserver:\r\n            condition: service_started\r\n          eurekaserver:\r\n            condition: service_started\r\n        networks:\r\n          backend:\r\n            aliases:\r\n              - &quot;gateway&quot;\r\n\r\n\r\n\r\nHere is all docker-compose.yml : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/SpringBootMicroservices/blob/master/docker-compose.yml","title":"Docker compose com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server","body":"<p>I tried to implement an <strong>example</strong> of <strong>Spring Boot Microservice</strong> examples.\nI have a problem in <strong>docker-compose</strong> file.</p>\n<p><strong>Eureka server</strong> and <strong>api gateways</strong> throws an <strong>issue</strong> defined below while there is no issue in config server.</p>\n<p>Here is the issue : <code>com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server</code></p>\n<p>Here is the <strong>code snippets</strong> <strong>for config server</strong>.</p>\n<pre><code>configserver:\n    image: configserver\n    container_name: configServer\n    build:\n      context: ./configserver\n      dockerfile: Dockerfile\n    environment:\n      CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\n      CONFIGSERVER_PORT: &quot;9191&quot;\n    ports:\n      - &quot;9191:9191&quot;\n    networks:\n      backend:\n        aliases:\n          - &quot;configserver&quot;\n</code></pre>\n<p>Here is the <strong>code snippets</strong> for <strong>eureka server</strong></p>\n<pre><code>eurekaserver:\n    image: eurekaserver\n    ports:\n      - &quot;8761:8761&quot;\n    build:\n      context: ./discoveryserver\n      dockerfile: Dockerfile\n    environment:\n      CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\n      CONFIGSERVER_PORT: &quot;9191&quot;\n      EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\n      EUREKASERVER_PORT: &quot;8761&quot;\n    depends_on:\n      configserver:\n        condition: service_started\n    networks:\n      backend:\n        aliases:\n          - &quot;eurekaserver&quot;\n</code></pre>\n<p>Here is the <strong>code snippets</strong> for <strong>api gateway server</strong>.</p>\n<pre><code>gatewayserver:\n    image: gatewayserver\n    ports:\n      - &quot;8600:8600&quot;\n    build:\n      context: ./api-gateway\n      dockerfile: Dockerfile\n    environment:\n      PROFILE: &quot;default&quot;\n      SERVER_PORT: &quot;8600&quot;\n      CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\n      EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\n      EUREKASERVER_PORT: &quot;8761&quot;\n      CONFIGSERVER_PORT: &quot;9191&quot;\n    depends_on:\n      configserver:\n        condition: service_started\n      eurekaserver:\n        condition: service_started\n    networks:\n      backend:\n        aliases:\n          - &quot;gateway&quot;\n</code></pre>\n<p>Here is all docker-compose.yml : <a href=\"https://github.com/Rapter1990/SpringBootMicroservices/blob/master/docker-compose.yml\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring","oauth-2.0","jwt","nimbus-jose-jwt"],"answers":[{"comments":[{"owner":{"account_id":6816680,"reputation":389,"user_id":5245121,"display_name":"Shahab.es"},"score":0,"creation_date":1657510165,"post_id":72921520,"comment_id":128818594,"body_markdown":"please recheck my post. I changed the exp field type to instant. but the same problem occurred.","body":"please recheck my post. I changed the exp field type to instant. but the same problem occurred."}],"tags":[],"owner":{"account_id":20425434,"reputation":184,"user_id":14985536,"display_name":"Jose Ramon Martinez Riveiro"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657518171,"creation_date":1657371176,"answer_id":72921520,"question_id":72921478,"body_markdown":"It could be due to expiration date of your token is a timestamp, and it should be a number (Long). Or you are trying to parse a timestamp to number Long. ","title":"Using a custom JWT Decoder in Spring boot resource server","body":"<p>It could be due to expiration date of your token is a timestamp, and it should be a number (Long). Or you are trying to parse a timestamp to number Long.</p>\n"},{"tags":[],"owner":{"account_id":6816680,"reputation":389,"user_id":5245121,"display_name":"Shahab.es"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657592794,"creation_date":1657592794,"answer_id":72946427,"question_id":72921478,"body_markdown":"As @Jose told me, I set the value of expiration time with an &lt;code&gt;Instant&lt;/code&gt; type of the timestamp. Then, I set it to both the &lt;code&gt;exp&lt;/code&gt; and &lt;code&gt;iat&lt;/code&gt; fields of the JWT. My final function is like the following:\r\n```\r\nMap&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\nMap&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\nfor (String key : parsedJwt.getJWTClaimsSet().getClaims().keySet()) {\r\n    Object value = parsedJwt.getJWTClaimsSet().getClaims().get(key);\r\n    if (key.equals(&quot;exp&quot;) || key.equals(&quot;iat&quot;)) {\r\n        value = ((Date) value).toInstant();\r\n    }\r\n    claims.put(key, value);\r\n}\r\nreturn Jwt.withTokenValue(token)\r\n        .headers(h -&gt; h.putAll(headers))\r\n        .claims(c -&gt; c.putAll(claims))\r\n        .build();\r\n```","title":"Using a custom JWT Decoder in Spring boot resource server","body":"<p>As @Jose told me, I set the value of expiration time with an <code>Instant</code> type of the timestamp. Then, I set it to both the <code>exp</code> and <code>iat</code> fields of the JWT. My final function is like the following:</p>\n<pre><code>Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\nMap&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\nfor (String key : parsedJwt.getJWTClaimsSet().getClaims().keySet()) {\n    Object value = parsedJwt.getJWTClaimsSet().getClaims().get(key);\n    if (key.equals(&quot;exp&quot;) || key.equals(&quot;iat&quot;)) {\n        value = ((Date) value).toInstant();\n    }\n    claims.put(key, value);\n}\nreturn Jwt.withTokenValue(token)\n        .headers(h -&gt; h.putAll(headers))\n        .claims(c -&gt; c.putAll(claims))\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677627378,"creation_date":1677627378,"answer_id":75598325,"question_id":72921478,"body_markdown":"An alternative way:\r\n\r\n```\r\npublic static Jwt decodeJwt(final String token) {\r\n\ttry {\r\n\t\tvar parsedJwt = JWTParser.parse(token);\r\n\t\tMap&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\n\t\tMap&lt;String, Object&gt; claims = new LinkedHashMap&lt;&gt;(parsedJwt.getJWTClaimsSet().getClaims());\r\n\t\tif (claims.get(JwtClaimNames.IAT) instanceof Date) {\r\n\t\t\tvar iat = DateUtils.toInstant((Date) claims.get(JwtClaimNames.IAT));\r\n\t\t\tclaims.put(JwtClaimNames.IAT, iat);\r\n\t\t}\r\n\t\tif (claims.get(JwtClaimNames.EXP) instanceof Date) {\r\n\t\t\tvar exp = DateUtils.toInstant((Date) claims.get(JwtClaimNames.EXP));\r\n\t\t\tclaims.put(JwtClaimNames.EXP, exp);\r\n\t\t}\r\n\t\treturn Jwt.withTokenValue(parsedJwt.getParsedString())\r\n\t\t\t\t.headers(h -&gt; h.putAll(headers))\r\n\t\t\t\t.claims(c -&gt; c.putAll(claims))\r\n\t\t\t\t.build();\r\n\t} catch (ParseException e) {\r\n\t\tthrow new JwtException(&quot;Provided token is not valid&quot;);\r\n\t} catch (Exception ex) {\r\n\t\tthrow new JwtException(&quot;Error during parse token&quot;);\r\n\t}\r\n}\r\n```","title":"Using a custom JWT Decoder in Spring boot resource server","body":"<p>An alternative way:</p>\n<pre><code>public static Jwt decodeJwt(final String token) {\n    try {\n        var parsedJwt = JWTParser.parse(token);\n        Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\n        Map&lt;String, Object&gt; claims = new LinkedHashMap&lt;&gt;(parsedJwt.getJWTClaimsSet().getClaims());\n        if (claims.get(JwtClaimNames.IAT) instanceof Date) {\n            var iat = DateUtils.toInstant((Date) claims.get(JwtClaimNames.IAT));\n            claims.put(JwtClaimNames.IAT, iat);\n        }\n        if (claims.get(JwtClaimNames.EXP) instanceof Date) {\n            var exp = DateUtils.toInstant((Date) claims.get(JwtClaimNames.EXP));\n            claims.put(JwtClaimNames.EXP, exp);\n        }\n        return Jwt.withTokenValue(parsedJwt.getParsedString())\n                .headers(h -&gt; h.putAll(headers))\n                .claims(c -&gt; c.putAll(claims))\n                .build();\n    } catch (ParseException e) {\n        throw new JwtException(&quot;Provided token is not valid&quot;);\n    } catch (Exception ex) {\n        throw new JwtException(&quot;Error during parse token&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6816680,"reputation":389,"user_id":5245121,"display_name":"Shahab.es"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7625,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72946427,"answer_count":3,"score":3,"last_activity_date":1677627378,"creation_date":1657370799,"question_id":72921478,"body_markdown":"I&#39;m using the Spring boot resource server. The authentication server issues a JWT. This JWT is re-encoded(with AES) with a key and in the Resource server, I should decode the JWT (from AES) before sending it to the JwtAuthenticator.&lt;br&gt;\r\nNow, I have a security configuration. \r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(new KeycloakRoleConverter());\r\n\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, &quot;/users/status/check&quot;)\r\n                .hasRole(&quot;developer&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .decoder(new JWTDecoder())\r\n                .jwtAuthenticationConverter(jwtAuthenticationConverter);\r\n    }\r\n```\r\nand a JWT Decoder\r\n```\r\nimport com.nimbusds.jwt.JWT;\r\nimport com.nimbusds.jwt.JWTParser;\r\nimport org.springframework.security.oauth2.jwt.Jwt;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.oauth2.jwt.JwtException;\r\n\r\nimport java.text.ParseException;\r\n\r\npublic class JWTDecoder implements JwtDecoder {\r\n    @Override\r\n    public Jwt decode(String token) throws JwtException {\r\n\r\n\r\n        //decrypt from AES here\r\n\r\n\r\n        JWT jwt = null;\r\n        try {\r\n            jwt = JWTParser.parse(token);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\nWhat should I do then? The function should return `org.springframework.security.oauth2.jwt.Jwt`. How can I convert `String token` to Jwt?&lt;br&gt;\r\nI tried the following, but a problem occurred.\r\n```\r\n    private Jwt createJwt(String token, JWT parsedJwt) {\r\n        try {\r\n            Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\n            Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\r\n            return Jwt.withTokenValue(token)\r\n                    .headers(h -&gt; h.putAll(headers))\r\n                    .claims(c -&gt; c.putAll(claims))\r\n                    .build();\r\n        } catch (Exception ex) {\r\n            if (ex.getCause() instanceof ParseException) {\r\n                throw new JwtException(&quot;There is a problem parsing the JWT.&quot;);\r\n            } else {\r\n                throw new JwtException(&quot;There is a problem decoding the JWT.&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\nThe error I received:\r\n&gt;java.lang.IllegalArgumentException: timestamps must be of type Instant: java.lang.Long\r\n&lt;hr&gt;&lt;br&gt;\r\nI&#39;m using Keycloak to generate the JWT. So, the exp field of the token in the jwt.io is &lt;code&gt;&quot;exp&quot;: 1657363340,&lt;/code&gt;. But after parsing the JWT in my code, It changes to the Date format. So, I changed the exp to &lt;code&gt;Instant&lt;/code&gt; and my final method is like the following:\r\n\r\n```\r\n    private Jwt createJwt(String token, JWT parsedJwt) {\r\n        try {\r\n            Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\n            Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\r\n            Jwt.Builder finalJwt = Jwt.withTokenValue(token)\r\n                    .headers(h -&gt; h.putAll(headers))\r\n                    .claims(c -&gt; c.putAll(claims));\r\n            finalJwt.expiresAt(((Date) claims.get(&quot;exp&quot;)).toInstant());\r\n            return finalJwt.build();\r\n        } catch (Exception ex) {\r\n            if (ex.getCause() instanceof ParseException) {\r\n                throw new JwtException(&quot;There is a problem parsing the JWT: &quot; + ex.getMessage());\r\n            } else {\r\n                throw new JwtException(&quot;There is a problem decoding the JWT: &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n```\r\nBut the problem exists yet.","title":"Using a custom JWT Decoder in Spring boot resource server","body":"<p>I'm using the Spring boot resource server. The authentication server issues a JWT. This JWT is re-encoded(with AES) with a key and in the Resource server, I should decode the JWT (from AES) before sending it to the JwtAuthenticator.<br>\nNow, I have a security configuration.</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(new KeycloakRoleConverter());\n\n        http\n                .authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/users/status/check&quot;)\n                .hasRole(&quot;developer&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt()\n                .decoder(new JWTDecoder())\n                .jwtAuthenticationConverter(jwtAuthenticationConverter);\n    }\n</code></pre>\n<p>and a JWT Decoder</p>\n<pre><code>import com.nimbusds.jwt.JWT;\nimport com.nimbusds.jwt.JWTParser;\nimport org.springframework.security.oauth2.jwt.Jwt;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.jwt.JwtException;\n\nimport java.text.ParseException;\n\npublic class JWTDecoder implements JwtDecoder {\n    @Override\n    public Jwt decode(String token) throws JwtException {\n\n\n        //decrypt from AES here\n\n\n        JWT jwt = null;\n        try {\n            jwt = JWTParser.parse(token);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n\n        return null;\n    }\n}\n</code></pre>\n<p>What should I do then? The function should return <code>org.springframework.security.oauth2.jwt.Jwt</code>. How can I convert <code>String token</code> to Jwt?<br>\nI tried the following, but a problem occurred.</p>\n<pre><code>    private Jwt createJwt(String token, JWT parsedJwt) {\n        try {\n            Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\n            Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\n            return Jwt.withTokenValue(token)\n                    .headers(h -&gt; h.putAll(headers))\n                    .claims(c -&gt; c.putAll(claims))\n                    .build();\n        } catch (Exception ex) {\n            if (ex.getCause() instanceof ParseException) {\n                throw new JwtException(&quot;There is a problem parsing the JWT.&quot;);\n            } else {\n                throw new JwtException(&quot;There is a problem decoding the JWT.&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>The error I received:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: timestamps must be of type Instant: java.lang.Long</p>\n</blockquote>\n<hr><br>\nI'm using Keycloak to generate the JWT. So, the exp field of the token in the jwt.io is <code>\"exp\": 1657363340,</code>. But after parsing the JWT in my code, It changes to the Date format. So, I changed the exp to <code>Instant</code> and my final method is like the following:\n<pre><code>    private Jwt createJwt(String token, JWT parsedJwt) {\n        try {\n            Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\n            Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\n            Jwt.Builder finalJwt = Jwt.withTokenValue(token)\n                    .headers(h -&gt; h.putAll(headers))\n                    .claims(c -&gt; c.putAll(claims));\n            finalJwt.expiresAt(((Date) claims.get(&quot;exp&quot;)).toInstant());\n            return finalJwt.build();\n        } catch (Exception ex) {\n            if (ex.getCause() instanceof ParseException) {\n                throw new JwtException(&quot;There is a problem parsing the JWT: &quot; + ex.getMessage());\n            } else {\n                throw new JwtException(&quot;There is a problem decoding the JWT: &quot; + ex.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>But the problem exists yet.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22193630,"reputation":1038,"user_id":16435355,"display_name":"Mous"},"score":0,"creation_date":1677619070,"post_id":75597379,"comment_id":133373166,"body_markdown":"`.` matches everything in most regex versions","body":"<code>.</code> matches everything in most regex versions"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1677619115,"post_id":75597379,"comment_id":133373175,"body_markdown":"Like `HALOENCRYPT\\([^()]*\\)` https://regex101.com/r/lLf9aT/1","body":"Like <code>HALOENCRYPT\\([^()]*\\)</code> <a href=\"https://regex101.com/r/lLf9aT/1\" rel=\"nofollow noreferrer\">regex101.com/r/lLf9aT/1</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677711755,"post_id":75597379,"comment_id":133394500,"body_markdown":"Can the text between `(` and `)` include `(` or `)`?","body":"Can the text between <code>(</code> and <code>)</code> include <code>(</code> or <code>)</code>?"}],"answers":[{"comments":[{"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"score":0,"creation_date":1677619879,"post_id":75597465,"comment_id":133373391,"body_markdown":"I am looking for pattern for ANYTHING between ( and ). I don&#39;t want to give specific pattern like 0-9a-zA-Z,_ ... because there could be anything between ( and ), not just the characters provided above.","body":"I am looking for pattern for ANYTHING between ( and ). I don&#39;t want to give specific pattern like 0-9a-zA-Z,_ ... because there could be anything between ( and ), not just the characters provided above."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":1,"creation_date":1677620381,"post_id":75597465,"comment_id":133373524,"body_markdown":"So it will be as @The fourth bird suggested: `HALOENCRYPT\\([^()]+\\)`","body":"So it will be as @The fourth bird suggested: <code>HALOENCRYPT\\([^()]+\\)</code>"},{"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"score":0,"creation_date":1677622718,"post_id":75597465,"comment_id":133374088,"body_markdown":"Answer looks good. Does it work for line breaks too, for example of there is line break after HALO, like &quot;HALO&quot; + &quot;\\n&quot; + ENCRYPT(blah-blah) ?","body":"Answer looks good. Does it work for line breaks too, for example of there is line break after HALO, like &quot;HALO&quot; + &quot;\\n&quot; + ENCRYPT(blah-blah) ?"}],"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677619625,"creation_date":1677619625,"answer_id":75597465,"question_id":75597379,"body_markdown":"Instead of\r\n\r\n    HALOENCRYPT[0-9a-zA-Z(,_ &#39;)/-]+\r\n\r\njust do:\r\n\r\n    HALOENCRYPT\\([0-9a-zA-Z,_ &#39;/-]+\\)","title":"Regex for specific pattern ending with )","body":"<p>Instead of</p>\n<pre><code>HALOENCRYPT[0-9a-zA-Z(,_ ')/-]+\n</code></pre>\n<p>just do:</p>\n<pre><code>HALOENCRYPT\\([0-9a-zA-Z,_ '/-]+\\)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677627291,"creation_date":1677626943,"answer_id":75598284,"question_id":75597379,"body_markdown":"Use a _reluctant_ quantifier:\r\n\r\n    HALOENCRYPT\\(.*?\\)\r\n\r\nAnd use the `results()` method to stream and collect the matches:\r\n\r\n    List&lt;String&gt; myList = Pattern.compile(&quot;HALOENCRYPT\\\\(.+?\\\\)&quot;).matcher(s).results()\r\n      .map(MatchResult::group)\r\n      .collect(Collectors.toList());\r\n\r\n","title":"Regex for specific pattern ending with )","body":"<p>Use a <em>reluctant</em> quantifier:</p>\n<pre><code>HALOENCRYPT\\(.*?\\)\n</code></pre>\n<p>And use the <code>results()</code> method to stream and collect the matches:</p>\n<pre><code>List&lt;String&gt; myList = Pattern.compile(&quot;HALOENCRYPT\\\\(.+?\\\\)&quot;).matcher(s).results()\n  .map(MatchResult::group)\n  .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75598284,"answer_count":2,"score":0,"last_activity_date":1677627291,"creation_date":1677618990,"question_id":75597379,"body_markdown":"I have a big string, for example: &quot;s#$_123 /HEC2w.,-&amp;#--**HALOENCRYPT(177ey7y37, &#39;zimba&#39;)**,dnjekkq%12nnv**HALOENCRYPT(ECRa12 _*,&#39;grate&#39;)**,eqn12&amp;*;&quot;. I am looking to extract all the substrings with pattern &quot;HALOENCRYPT(&lt;Any_char_or_symbol_sequence&gt;)&quot; which means starting with **&#39;HALOENCRYPT(&#39;** and ending immediately with **&#39;)&#39;** with any sequence between them. which has been marked Bold in the input sequence. I want to extract all such substrings and add to a list.\r\n\r\nThis is the program i wrote which works partially:\r\n\r\n\r\n    String s = &quot;s#$_123 /HEC2w.,-&amp;#--HALOENCRYPT(177ey7y37,     &#39;zimba&#39;),dnjekkq%12nnvHALOENCRYPT(ECRa12 _*,&#39;grate&#39;),eqn12&amp;*;&quot;;\r\n    Matcher m = Pattern.compile(&quot;HALOENCRYPT[0-9a-zA-Z(,_ &#39;)/-]+&quot;).matcher(s);\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;();\r\n    while (m.find()) {\r\n        myList.add(m.group())\r\n    }\r\n\r\nThe above string is giving out extra characters after HALOENCRYPT(177ey7y37, &#39;zimba&#39;) and HALOENCRYPT(ECRa12 _*,&#39;grate&#39;)\r\n\r\nWhat i am expecting in the list is:\r\n    HALOENCRYPT(177ey7y37, &#39;zimba&#39;) and HALOENCRYPT(ECRa12 _*,&#39;grate&#39;)\r\n\r\nWhat i could not figure out is how to provide regex for **ANYTHING** between **(** and **)** ","title":"Regex for specific pattern ending with )","body":"<p>I have a big string, for example: &quot;s#$_123 /HEC2w.,-&amp;#--<strong>HALOENCRYPT(177ey7y37, 'zimba')</strong>,dnjekkq%12nnv<strong>HALOENCRYPT(ECRa12 _*,'grate')</strong>,eqn12&amp;*;&quot;. I am looking to extract all the substrings with pattern &quot;HALOENCRYPT(&lt;Any_char_or_symbol_sequence&gt;)&quot; which means starting with <strong>'HALOENCRYPT('</strong> and ending immediately with <strong>')'</strong> with any sequence between them. which has been marked Bold in the input sequence. I want to extract all such substrings and add to a list.</p>\n<p>This is the program i wrote which works partially:</p>\n<pre><code>String s = &quot;s#$_123 /HEC2w.,-&amp;#--HALOENCRYPT(177ey7y37,     'zimba'),dnjekkq%12nnvHALOENCRYPT(ECRa12 _*,'grate'),eqn12&amp;*;&quot;;\nMatcher m = Pattern.compile(&quot;HALOENCRYPT[0-9a-zA-Z(,_ ')/-]+&quot;).matcher(s);\nList&lt;String&gt; myList = new ArrayList&lt;String&gt;();\nwhile (m.find()) {\n    myList.add(m.group())\n}\n</code></pre>\n<p>The above string is giving out extra characters after HALOENCRYPT(177ey7y37, 'zimba') and HALOENCRYPT(ECRa12 _*,'grate')</p>\n<p>What i am expecting in the list is:\nHALOENCRYPT(177ey7y37, 'zimba') and HALOENCRYPT(ECRa12 _*,'grate')</p>\n<p>What i could not figure out is how to provide regex for <strong>ANYTHING</strong> between <strong>(</strong> and <strong>)</strong></p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-ec2","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":2644407,"reputation":1437,"user_id":2287427,"display_name":"Dave S"},"score":0,"creation_date":1677538506,"post_id":75586275,"comment_id":133354326,"body_markdown":"I haven&#39;t used JSB, but chances are that it is re-creating the resources it needs.  So as long as it is there, it will create other things when you trigger it.  AWS itself does not randomly add resources.","body":"I haven&#39;t used JSB, but chances are that it is re-creating the resources it needs.  So as long as it is there, it will create other things when you trigger it.  AWS itself does not randomly add resources."},{"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"score":0,"creation_date":1677539260,"post_id":75586275,"comment_id":133354466,"body_markdown":"Are there different resources created for JSB applications?  I used EC2 and some elastic beanstalk object when I set it up initially.  There must be some root object that is recreating all this....","body":"Are there different resources created for JSB applications?  I used EC2 and some elastic beanstalk object when I set it up initially.  There must be some root object that is recreating all this...."},{"owner":{"account_id":2644407,"reputation":1437,"user_id":2287427,"display_name":"Dave S"},"score":0,"creation_date":1677539466,"post_id":75586275,"comment_id":133354503,"body_markdown":"Sorry, I don&#39;t use JSB, but yes you must have missed deleting some root object.  Hopefully a JSB user will see this.","body":"Sorry, I don&#39;t use JSB, but yes you must have missed deleting some root object.  Hopefully a JSB user will see this."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1677540119,"post_id":75586275,"comment_id":133354624,"body_markdown":"Is there any chance that you used elastic beanstalk to create the application?  It may be recreating this stuff for you, that&#39;s one of its functions, to manage the application environment.","body":"Is there any chance that you used elastic beanstalk to create the application?  It may be recreating this stuff for you, that&#39;s one of its functions, to manage the application environment."},{"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"score":0,"creation_date":1677543156,"post_id":75586275,"comment_id":133355147,"body_markdown":"I followed a random tutorial on youtube.  I think that might be what I did.  Do you know how to undo this?  I&#39;ve talked to their customer support almost 4 times and they have&#39;nt been able to fix this.","body":"I followed a random tutorial on youtube.  I think that might be what I did.  Do you know how to undo this?  I&#39;ve talked to their customer support almost 4 times and they have&#39;nt been able to fix this."},{"owner":{"account_id":2644407,"reputation":1437,"user_id":2287427,"display_name":"Dave S"},"score":0,"creation_date":1677573143,"post_id":75586275,"comment_id":133359656,"body_markdown":"&quot;I followed a random tutorial on youtube. &quot; - it might help to watch it again and remind yourself about what steps you went through.  If that doesn&#39;t work you could write out the steps and edit your question to include them.","body":"&quot;I followed a random tutorial on youtube. &quot; - it might help to watch it again and remind yourself about what steps you went through.  If that doesn&#39;t work you could write out the steps and edit your question to include them."},{"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"score":0,"creation_date":1677615568,"post_id":75586275,"comment_id":133372346,"body_markdown":"Yes, I backtraced it and there was an elastic beanstalk and S3 bucket that was created.  So if I delete these two objects (for the beanstalk it would be the environments I created), will this stop the instances from being recreated again?","body":"Yes, I backtraced it and there was an elastic beanstalk and S3 bucket that was created.  So if I delete these two objects (for the beanstalk it would be the environments I created), will this stop the instances from being recreated again?"},{"owner":{"account_id":2644407,"reputation":1437,"user_id":2287427,"display_name":"Dave S"},"score":0,"creation_date":1677621309,"post_id":75586275,"comment_id":133373751,"body_markdown":"That seems likely, but we&#39;re guessing without seeing a list of everything created and in what order.","body":"That seems likely, but we&#39;re guessing without seeing a list of everything created and in what order."}],"answers":[{"comments":[{"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"score":0,"creation_date":1677615512,"post_id":75587428,"comment_id":133372331,"body_markdown":"What is a cloud formation stack?  I just backtraced what I did originally and I had created an elastic beanstalk and and S3 bucket to deploy the Spring Boot jar.  Somehow the customer support missed these objects and now I am going to try to delete those.  do you think this is the reason why the instances kept reappearing?","body":"What is a cloud formation stack?  I just backtraced what I did originally and I had created an elastic beanstalk and and S3 bucket to deploy the Spring Boot jar.  Somehow the customer support missed these objects and now I am going to try to delete those.  do you think this is the reason why the instances kept reappearing?"},{"owner":{"account_id":2701577,"reputation":1276,"user_id":2332193,"display_name":"Mats Lann&#233;r"},"score":0,"creation_date":1677710993,"post_id":75587428,"comment_id":133394342,"body_markdown":"CloudFormation is an AWS service used to create AWS resources through code. A CloudFormation stack represents a set of resources created and managed by CloudFormation. \n\nSounds like when you created your Elastic Beanstalk application, it created a number of resources in your account. Start by deleting the items in Elastic Beanstalk and the delete the ASG if they still exist after that.","body":"CloudFormation is an AWS service used to create AWS resources through code. A CloudFormation stack represents a set of resources created and managed by CloudFormation.   Sounds like when you created your Elastic Beanstalk application, it created a number of resources in your account. Start by deleting the items in Elastic Beanstalk and the delete the ASG if they still exist after that."}],"tags":[],"owner":{"account_id":2701577,"reputation":1276,"user_id":2332193,"display_name":"Mats Lann&#233;r"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677552462,"creation_date":1677552462,"answer_id":75587428,"question_id":75586275,"body_markdown":"The screenshot shows that you have two auto-scaling groups. One of the features with auto-scaling groups is to make sure a certain number of EC2 instances are running. That means that even if you terminate an instance manually, the auto-scaling group will do its job and launch a replacement instance. \r\n\r\nDeleting the auto-scaling groups first will likely help here. I would also not be surprised if there is one or more CloudFormation stacks in your account, so would make sure to look there to delete those as well. ","title":"Java Spring Boot - AWS objects keep getting recreated/reappearing even after being deleted - been getting charged for almost a year now with AWS","body":"<p>The screenshot shows that you have two auto-scaling groups. One of the features with auto-scaling groups is to make sure a certain number of EC2 instances are running. That means that even if you terminate an instance manually, the auto-scaling group will do its job and launch a replacement instance.</p>\n<p>Deleting the auto-scaling groups first will likely help here. I would also not be surprised if there is one or more CloudFormation stacks in your account, so would make sure to look there to delete those as well.</p>\n"}],"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677626801,"creation_date":1677537966,"question_id":75586275,"body_markdown":"I signed up for Free Tier account with AWS so that I could provide a Java Spring Boot application.  It is a very small and simple program with a very small MySQL of about 10000 rows of simple data.\r\n\r\nI keep getting incurred charges every month and contacting customer support, then following their instructions to delete load balancers, instances etc. but then a few months later I will get charged again and again these same objects keep getting recreated.\r\n\r\nHow do I just delete everything so that I won&#39;t be charged ever again?  I am not even using this application anymore and don&#39;t need it.  Here is a screenshot of my EC2 dashboard and also the billing breakdown.  I&#39;ve deleted all of these objects before and they keep reappearing.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have literally had it up to here with AWS!!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W5L8D.png\r\n  [2]: https://i.stack.imgur.com/2TwRr.png","title":"Java Spring Boot - AWS objects keep getting recreated/reappearing even after being deleted - been getting charged for almost a year now with AWS","body":"<p>I signed up for Free Tier account with AWS so that I could provide a Java Spring Boot application.  It is a very small and simple program with a very small MySQL of about 10000 rows of simple data.</p>\n<p>I keep getting incurred charges every month and contacting customer support, then following their instructions to delete load balancers, instances etc. but then a few months later I will get charged again and again these same objects keep getting recreated.</p>\n<p>How do I just delete everything so that I won't be charged ever again?  I am not even using this application anymore and don't need it.  Here is a screenshot of my EC2 dashboard and also the billing breakdown.  I've deleted all of these objects before and they keep reappearing.</p>\n<p><a href=\"https://i.stack.imgur.com/2TwRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2TwRr.png\" alt=\"enter image description here\" /></a></p>\n<p>I have literally had it up to here with AWS!!!</p>\n"},{"tags":["java","json","serialization","gson"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1434223049,"post_id":30816176,"comment_id":49691057,"body_markdown":"Could it be possible to have an example of input, so that we can reproduce and try to fix your problem?","body":"Could it be possible to have an example of input, so that we can reproduce and try to fix your problem?"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434287818,"post_id":30816176,"comment_id":49704667,"body_markdown":"Hi @Alexis C., I&#39;ve added it to my initial question. Thanks!","body":"Hi @Alexis C., I&#39;ve added it to my initial question. Thanks!"},{"owner":{"account_id":1219626,"reputation":1502,"user_id":1186523,"accept_rate":38,"display_name":"uylmz"},"score":0,"creation_date":1434288256,"post_id":30816176,"comment_id":49704804,"body_markdown":"Did you check out https://sites.google.com/site/gson/gson-user-guide#TOC-Excluding-Fields-From-Serialization-and-Deserialization ?","body":"Did you check out <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Excluding-Fields-From-Serialization-and-Deserialization\" rel=\"nofollow noreferrer\">sites.google.com/site/gson/&hellip;</a> ?"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434291639,"post_id":30816176,"comment_id":49705890,"body_markdown":"Yes I did @Reek, but I DO want the externalProfile in the response! So it should be part of the serialized output of the object, but I want gson to leave it alone (and prevent double serialization).","body":"Yes I did @Reek, but I DO want the externalProfile in the response! So it should be part of the serialized output of the object, but I want gson to leave it alone (and prevent double serialization)."},{"owner":{"account_id":1219626,"reputation":1502,"user_id":1186523,"accept_rate":38,"display_name":"uylmz"},"score":0,"creation_date":1434292954,"post_id":30816176,"comment_id":49706267,"body_markdown":"Hmm, a dirty solution maybe to exclude that property first and add it manually to serialized response. Or, de-serialize externalProfile first, and then serialize User?","body":"Hmm, a dirty solution maybe to exclude that property first and add it manually to serialized response. Or, de-serialize externalProfile first, and then serialize User?"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434298286,"post_id":30816176,"comment_id":49708081,"body_markdown":"Sorry, bit the dirty solution is not an option imho. First of all the User object is part of a more complex object and somewhere in the middle of the automated serialization process. I should hack somewhere in which I don&#39;t like doing in general. Furthermore, I try to understand more about gson, and want to know for future purposes also. Also, looking at the nice options gson provides for custom serialization, it should be possible and maybe even quite simple to solve my problem by using gson&#39;s API.","body":"Sorry, bit the dirty solution is not an option imho. First of all the User object is part of a more complex object and somewhere in the middle of the automated serialization process. I should hack somewhere in which I don&#39;t like doing in general. Furthermore, I try to understand more about gson, and want to know for future purposes also. Also, looking at the nice options gson provides for custom serialization, it should be possible and maybe even quite simple to solve my problem by using gson&#39;s API."},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434298650,"post_id":30816176,"comment_id":49708212,"body_markdown":"Deserializing is a problem too, because the (inner)classes of the externalProfile are not available for me and gson to use","body":"Deserializing is a problem too, because the (inner)classes of the externalProfile are not available for me and gson to use"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1434308852,"post_id":30816176,"comment_id":49711351,"body_markdown":"@TheXL Can&#39;t you store the `externalProfile` as a `JsonObject` instead? `user.setExternalProfile(new Gson().fromJson(externalProfile, JsonObject.class));`","body":"@TheXL Can&#39;t you store the <code>externalProfile</code> as a <code>JsonObject</code> instead? <code>user.setExternalProfile(new Gson().fromJson(externalProfile, JsonObject.class));</code>"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434351827,"post_id":30816176,"comment_id":49722320,"body_markdown":"Yes @AlexisC. !! That solves the problem! I can convert it to a JsonObject, and let gson serialize the object again. I checked the deserialize-serialize operations, and it produces exactly the same JSON string. Works like a charm, thanks!!","body":"Yes @AlexisC. !! That solves the problem! I can convert it to a JsonObject, and let gson serialize the object again. I checked the deserialize-serialize operations, and it produces exactly the same JSON string. Works like a charm, thanks!!"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434352251,"post_id":30816176,"comment_id":49722519,"body_markdown":"@Reek, maybe I misunderstood your option about deserializing, but your hint was actually correct, by deserializing to the JsonObject class","body":"@Reek, maybe I misunderstood your option about deserializing, but your hint was actually correct, by deserializing to the JsonObject class"}],"answers":[{"tags":[],"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1434352416,"creation_date":1434352416,"answer_id":30839283,"question_id":30816176,"body_markdown":"As stated by Alexis C: \r\n\t\r\nstore the externalProfile as a JsonObject first: \r\n\r\n    new Gson().fromJson(externalProfile, JsonObject.class));\r\n\r\nAnd let gson serialize this again when outputting the User object.\r\nWill produce exactly the same JSON! ","title":"Prevent GSON from serializing JSON string","body":"<p>As stated by Alexis C: </p>\n\n<p>store the externalProfile as a JsonObject first: </p>\n\n<pre><code>new Gson().fromJson(externalProfile, JsonObject.class));\n</code></pre>\n\n<p>And let gson serialize this again when outputting the User object.\nWill produce exactly the same JSON! </p>\n"},{"tags":[],"owner":{"account_id":7233880,"reputation":61,"user_id":5519803,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1446550185,"creation_date":1446550185,"answer_id":33498011,"question_id":30816176,"body_markdown":"I solved it without the unnecessary deserialisation-serialization. Create class:\r\n\r\n    public class RawJsonGsonAdapter extends TypeAdapter&lt;String&gt; {\r\n\r\n        @Override\r\n        public void write(final JsonWriter out, final String value) throws IOException {\r\n            out.jsonValue(value);\r\n        }\r\n\r\n        @Override\r\n        public String read(final JsonReader in) throws IOException {\r\n            return null; // Not supported\r\n        }\r\n    }\r\n\r\nAnd use it by annotation where needed. For example:\r\n\r\n    public class MyPojo {\r\n        @JsonAdapter(RawJsonGsonAdapter.class)\r\n        public String someJsonInAString;\r\n\r\n        public String normalString;\r\n    }\r\n\r\nThat&#39;s it. Use Gson as normal.","title":"Prevent GSON from serializing JSON string","body":"<p>I solved it without the unnecessary deserialisation-serialization. Create class:</p>\n\n<pre><code>public class RawJsonGsonAdapter extends TypeAdapter&lt;String&gt; {\n\n    @Override\n    public void write(final JsonWriter out, final String value) throws IOException {\n        out.jsonValue(value);\n    }\n\n    @Override\n    public String read(final JsonReader in) throws IOException {\n        return null; // Not supported\n    }\n}\n</code></pre>\n\n<p>And use it by annotation where needed. For example:</p>\n\n<pre><code>public class MyPojo {\n    @JsonAdapter(RawJsonGsonAdapter.class)\n    public String someJsonInAString;\n\n    public String normalString;\n}\n</code></pre>\n\n<p>That's it. Use Gson as normal.</p>\n"},{"tags":[],"owner":{"account_id":9020965,"reputation":59,"user_id":6722071,"display_name":"Thibault Cuvillie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622649485,"creation_date":1622647313,"answer_id":67808029,"question_id":30816176,"body_markdown":"Add the read method.\r\n\r\n    public class RawJsonGsonAdapter extends TypeAdapter&lt;String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void write(final JsonWriter out, final String value) throws IOException {\r\n    \t\tout.jsonValue(value);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String read(final JsonReader in) throws IOException {\r\n    \t\tvar sb = new StringBuilder();\r\n    \t\tint n = 0;\r\n    \t\twhile (true) {    \r\n    \t\t\tswitch (in.peek()) {\r\n    \t\t\tcase BEGIN_ARRAY:\r\n    \t\t\t\tin.beginArray();\r\n    \t\t\t\tsb.append(&quot;[&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase BEGIN_OBJECT:\r\n    \t\t\t\tin.beginObject();\r\n    \t\t\t\tsb.append(&quot;{&quot;);\r\n    \t\t\t\tn++;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase BOOLEAN:\r\n    \t\t\t\tsb.append(in.nextBoolean()).append(&quot;,&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase END_ARRAY:\r\n    \t\t\t\tdropLastComma(sb);\r\n    \t\t\t\tin.endArray();\r\n    \t\t\t\tsb.append(&quot;]&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase END_DOCUMENT:\r\n    \t\t\t\tthrow new RuntimeException(&quot;END_DOCUMENT invalid here&quot;);\r\n    \t\t\tcase END_OBJECT:\r\n    \t\t\t\tdropLastComma(sb);\r\n    \t\t\t\tin.endObject();\r\n    \t\t\t\tsb.append(&quot;}&quot;);\r\n    \t\t\t\tif (--n == 0)\r\n    \t\t\t\t\treturn sb.toString();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase NAME:\r\n    \t\t\t\tsb.append(&quot;\\&quot;&quot;).append(in.nextName()).append(&quot;\\&quot;:&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase NULL:\r\n    \t\t\t\tin.nextNull();\r\n    \t\t\t\tsb.append(&quot;&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase NUMBER:\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tsb.append(in.nextInt()).append(&quot;,&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} catch (Exception e1) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tsb.append(in.nextLong()).append(&quot;,&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t} catch (Exception e2) {\r\n    \t\t\t\t\t\tsb.append(in.nextDouble()).append(&quot;,&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\tcase STRING:\r\n    \t\t\t\tsb.append(&quot;\\&quot;&quot;).append(in.nextString()).append(&quot;\\&quot;,&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void dropLastComma(StringBuilder sb) {\r\n    \t\tif (sb.charAt(sb.length() - 1) == &#39;,&#39;) {\r\n    \t\t\tsb.setLength(sb.length() - 1);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Prevent GSON from serializing JSON string","body":"<p>Add the read method.</p>\n<pre><code>public class RawJsonGsonAdapter extends TypeAdapter&lt;String&gt; {\n\n    @Override\n    public void write(final JsonWriter out, final String value) throws IOException {\n        out.jsonValue(value);\n    }\n\n    @Override\n    public String read(final JsonReader in) throws IOException {\n        var sb = new StringBuilder();\n        int n = 0;\n        while (true) {    \n            switch (in.peek()) {\n            case BEGIN_ARRAY:\n                in.beginArray();\n                sb.append(&quot;[&quot;);\n                break;\n            case BEGIN_OBJECT:\n                in.beginObject();\n                sb.append(&quot;{&quot;);\n                n++;\n                break;\n            case BOOLEAN:\n                sb.append(in.nextBoolean()).append(&quot;,&quot;);\n                break;\n            case END_ARRAY:\n                dropLastComma(sb);\n                in.endArray();\n                sb.append(&quot;]&quot;);\n                break;\n            case END_DOCUMENT:\n                throw new RuntimeException(&quot;END_DOCUMENT invalid here&quot;);\n            case END_OBJECT:\n                dropLastComma(sb);\n                in.endObject();\n                sb.append(&quot;}&quot;);\n                if (--n == 0)\n                    return sb.toString();\n                break;\n            case NAME:\n                sb.append(&quot;\\&quot;&quot;).append(in.nextName()).append(&quot;\\&quot;:&quot;);\n                break;\n            case NULL:\n                in.nextNull();\n                sb.append(&quot;&quot;);\n                break;\n            case NUMBER:\n                try {\n                    sb.append(in.nextInt()).append(&quot;,&quot;);\n                    break;\n                } catch (Exception e1) {\n                    try {\n                        sb.append(in.nextLong()).append(&quot;,&quot;);\n                        break;\n                    } catch (Exception e2) {\n                        sb.append(in.nextDouble()).append(&quot;,&quot;);\n                        break;\n                    }\n                }\n            case STRING:\n                sb.append(&quot;\\&quot;&quot;).append(in.nextString()).append(&quot;\\&quot;,&quot;);\n                break;\n            }\n        }\n    }\n\n    private void dropLastComma(StringBuilder sb) {\n        if (sb.charAt(sb.length() - 1) == ',') {\n            sb.setLength(sb.length() - 1);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4951,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30839283,"answer_count":3,"score":8,"last_activity_date":1677626510,"creation_date":1434180410,"question_id":30816176,"body_markdown":"I&#39;m new to gson, and have newby question which I have not found an answer to, so please bear with me. StackOverflow and google were not my friend :(\r\n\r\nI have a java class &quot;User&quot;, and one of its properties, &quot;externalProfile&quot; is a Java String containing already serialized JSON. When gson serializes the User object, it will treat externalProfile as primitive and thus escaping the JSON adding extra slashes etc.\r\nI want gson to leave the string alone, just using it &quot;as is&quot;, because it is already valid and usable JSON.\r\n\r\nTo distinguish the JSON string, I created a simple class called JSONString, and I&#39;ve tried using reader/writers, registerTypeAdapter, but nothing works.\r\nCan you help me out?\r\n\r\n    public class User {\r\n        private JSONString externalProfile;\r\n        public void setExternalProfile(JSONString externalProfile) { this.externalProfile = externalProfile; }\r\n\r\n    }\r\n    \r\n    public final class JSONString {\r\n        private String simpleString;\r\n        public JSONString(String simpleString) { this.simpleString = simpleString; }\r\n    }\r\n    \r\n    public customJsonBuilder(Object object) {\r\n        GsonBuilder builder = new GsonBuilder();\r\n    \t\tbuilder.registerTypeAdapter(GregorianCalendar.class, new JsonSerializer&lt;GregorianCalendar&gt;() {\r\n    \t\t    public JsonElement serialize(GregorianCalendar src, Type type, JsonSerializationContext context) {\r\n    \t\t    \tif (src == null) {\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn new JsonPrimitive(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(src.getTime()));\r\n    \t\t    }\r\n    \t\t});\r\n    \t\tGson gson = builder.create();\r\n    \t\treturn gson.toJson(object);\r\n    }\r\n\r\nAs en example, the externalProfile will hold (as String value): \r\n\r\n    {&quot;profile&quot;:{&quot;registrationNumber&quot;: 11111}}\r\n\r\nAfter I store it as JSONString in the User object, and we convert the user object to JSON:\r\n\r\n    User user = new User();\r\n    user.setExternalProfile(new JSONString(externalProfile)),  \r\n    String json = customJsonBuilder(user);\r\n\r\njson will hold something like: \r\n\r\n    {\\&quot;profile\\&quot;:{\\&quot;registrationNumber\\&quot;: 11111}}\r\n\r\nSo, the externalProfile JSONString is serialized by gson as String primitive, adding the extra slashes in front of the doublequotes.\r\nI want gson to leave this JSONString as is, because it already is usable JSON.\r\nI&#39;m looking for a type adapter / reader-writer to do this, but I can&#39;t get it to work.","title":"Prevent GSON from serializing JSON string","body":"<p>I'm new to gson, and have newby question which I have not found an answer to, so please bear with me. StackOverflow and google were not my friend :(</p>\n\n<p>I have a java class \"User\", and one of its properties, \"externalProfile\" is a Java String containing already serialized JSON. When gson serializes the User object, it will treat externalProfile as primitive and thus escaping the JSON adding extra slashes etc.\nI want gson to leave the string alone, just using it \"as is\", because it is already valid and usable JSON.</p>\n\n<p>To distinguish the JSON string, I created a simple class called JSONString, and I've tried using reader/writers, registerTypeAdapter, but nothing works.\nCan you help me out?</p>\n\n<pre><code>public class User {\n    private JSONString externalProfile;\n    public void setExternalProfile(JSONString externalProfile) { this.externalProfile = externalProfile; }\n\n}\n\npublic final class JSONString {\n    private String simpleString;\n    public JSONString(String simpleString) { this.simpleString = simpleString; }\n}\n\npublic customJsonBuilder(Object object) {\n    GsonBuilder builder = new GsonBuilder();\n        builder.registerTypeAdapter(GregorianCalendar.class, new JsonSerializer&lt;GregorianCalendar&gt;() {\n            public JsonElement serialize(GregorianCalendar src, Type type, JsonSerializationContext context) {\n                if (src == null) {\n                    return null;\n                }\n                return new JsonPrimitive(new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(src.getTime()));\n            }\n        });\n        Gson gson = builder.create();\n        return gson.toJson(object);\n}\n</code></pre>\n\n<p>As en example, the externalProfile will hold (as String value): </p>\n\n<pre><code>{\"profile\":{\"registrationNumber\": 11111}}\n</code></pre>\n\n<p>After I store it as JSONString in the User object, and we convert the user object to JSON:</p>\n\n<pre><code>User user = new User();\nuser.setExternalProfile(new JSONString(externalProfile)),  \nString json = customJsonBuilder(user);\n</code></pre>\n\n<p>json will hold something like: </p>\n\n<pre><code>{\\\"profile\\\":{\\\"registrationNumber\\\": 11111}}\n</code></pre>\n\n<p>So, the externalProfile JSONString is serialized by gson as String primitive, adding the extra slashes in front of the doublequotes.\nI want gson to leave this JSONString as is, because it already is usable JSON.\nI'm looking for a type adapter / reader-writer to do this, but I can't get it to work.</p>\n"},{"tags":["java","spring-boot","hibernate","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1677627103,"post_id":75598182,"comment_id":133374839,"body_markdown":"JPA (the `EntityManager`) keeps track of the persisted/attached objects.","body":"JPA (the <code>EntityManager</code>) keeps track of the persisted/attached objects."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1677679929,"post_id":75598182,"comment_id":133385486,"body_markdown":"Please show also the entity class in use. The id field should be annotated with @Id.","body":"Please show also the entity class in use. The id field should be annotated with @Id."}],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677625851,"creation_date":1677625851,"question_id":75598182,"body_markdown":"A typical way to update an entity is:\r\n\r\n```\r\nval userEntity: UserEntity = userRepository.findBySomething(...)\r\nuserEntity.name = &quot;New Name&quot;\r\nuserRepository.save(userEntity)\r\n```\r\nSince the `id` of `userEntity` remains the same, spring-data-jpa will update the row instead of adding a new one.\r\n\r\nBut if we change the reference of the entity, while keeping the `id` same, it adds a new row:\r\n\r\n```\r\nval userEntity: UserEntity = userRepository.findBySomething(...)\r\nval user: UserDto = userEntity.toUserDto(); //copies individual fields, including id\r\nuser.name = &quot;New Name&quot;\r\nuserRepository.save(user.toUserEntity()) //toUserEntity() creates a new entity object\r\n```\r\nIs addition of a new row in this case an expected behaviour? I briefly looked at spring boot code and looks like it just checks if the `id` is null or not, to decide whether it should `persist()` or `merge()`. Maybe some layers down it is checking the object reference to see if it is managed entity or something?\r\n\r\nIs there a way to tell spring boot to just match the id and not the object reference, to decide whether it should update or insert a new row?","title":"Spring boot update entity with same id but changed reference","body":"<p>A typical way to update an entity is:</p>\n<pre><code>val userEntity: UserEntity = userRepository.findBySomething(...)\nuserEntity.name = &quot;New Name&quot;\nuserRepository.save(userEntity)\n</code></pre>\n<p>Since the <code>id</code> of <code>userEntity</code> remains the same, spring-data-jpa will update the row instead of adding a new one.</p>\n<p>But if we change the reference of the entity, while keeping the <code>id</code> same, it adds a new row:</p>\n<pre><code>val userEntity: UserEntity = userRepository.findBySomething(...)\nval user: UserDto = userEntity.toUserDto(); //copies individual fields, including id\nuser.name = &quot;New Name&quot;\nuserRepository.save(user.toUserEntity()) //toUserEntity() creates a new entity object\n</code></pre>\n<p>Is addition of a new row in this case an expected behaviour? I briefly looked at spring boot code and looks like it just checks if the <code>id</code> is null or not, to decide whether it should <code>persist()</code> or <code>merge()</code>. Maybe some layers down it is checking the object reference to see if it is managed entity or something?</p>\n<p>Is there a way to tell spring boot to just match the id and not the object reference, to decide whether it should update or insert a new row?</p>\n"},{"tags":["java","spring","hibernate","rest"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677659557,"post_id":75597928,"comment_id":133379527,"body_markdown":"I doubt that this is the full controller. The issue is with your request handling method, make it `public` instead of `private`. You have some AOP in there that proxies the controlle, `private` methods cannot be proxied thus the method is invoked on the proxy which doesn&#39;t have dependencies, instead of invoked and passed on to the actual instance. On a different note your controller is flawed as well, as you are keeping state (those lists) in your controller. What do you think happens when 10 requests come in to retrieve a list?","body":"I doubt that this is the full controller. The issue is with your request handling method, make it <code>public</code> instead of <code>private</code>. You have some AOP in there that proxies the controlle, <code>private</code> methods cannot be proxied thus the method is invoked on the proxy which doesn&#39;t have dependencies, instead of invoked and passed on to the actual instance. On a different note your controller is flawed as well, as you are keeping state (those lists) in your controller. What do you think happens when 10 requests come in to retrieve a list?"},{"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"score":0,"creation_date":1677692718,"post_id":75597928,"comment_id":133389816,"body_markdown":"@M.Deinum Thank you very much fort your help! IDE has this functionality that if you use a method that doesn&#39;t exist yet, but you are about to create it, it can generate that method(without implementation of course) for you.\nI used this and unfortunately didn&#39;t notice that it generated the method as private....","body":"@M.Deinum Thank you very much fort your help! IDE has this functionality that if you use a method that doesn&#39;t exist yet, but you are about to create it, it can generate that method(without implementation of course) for you. I used this and unfortunately didn&#39;t notice that it generated the method as private...."}],"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677625611,"creation_date":1677623300,"question_id":75597928,"body_markdown":"I have an endpoint like you can see below and if try GET http://localhost:8080/api/taxoffice/971/details in Postman, i&#39;m recieving an error 400.\r\n \r\nIf i try GET http://localhost:8080/api/taxoffice/101/details then i&#39;m getting an error 500 &quot;Cannot invoke \\&quot;com.walidatorpnr.taxoffice.service.TaxOffice_DetailService.findAllByTaxOfficeID(int)\\&quot; because \\&quot;this.taxOfficeDetailService\\&quot; is null&quot;. \r\n\r\nRecords with both ids **are exist** in database. \r\n\r\nCould you help me to fix this, please?\r\n\r\nRestController\r\n```lang = java\r\n@RestController\r\n@RequestMapping(&quot;api/taxoffice&quot;)\r\npublic class TaxOfficeRestController {\r\n\r\n \r\n    private final TaxOfficeService taxOfficeService;\r\n\r\n    private final TaxOffice_DetailService taxOfficeDetailService;\r\n\r\n    @Autowired\r\n    public TaxOfficeRestController(TaxOfficeService taxOfficeService, TaxOffice_DetailService taxOfficeDetailService) {\r\n    \r\n        this.taxOfficeService = taxOfficeService;\r\n        this.taxOfficeDetailService = taxOfficeDetailService;\r\n    }\r\n\r\n List&lt;TaxOffice&gt; taxOffices = Lists.newArrayList();\r\n\r\n List&lt;TaxOffice_Detail&gt; taxOffice_details = Lists.newArrayList();\r\n\r\n//Endpoint I have a problem with\r\n  @GetMapping(value = &quot;/{taxOffice_id}/details&quot;)\r\n    private ResponseEntity&lt;?&gt; getTaxOfficeDetailsByTaxOfficeId(@PathVariable int taxOffice_id) {\r\n    \r\n        taxOffice_details = taxOfficeDetailService.findAllByTaxOfficeID(taxOffice_id);\r\n        if(taxOffice_details.size() != 0) {\r\n            for (TaxOffice_Detail taxOfficeDetail : taxOffice_details) {\r\n                Link selfLink = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeDetailsByTaxOfficeId(taxOffice_id)).withSelfRel();\r\n               // Link relLink = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeById(taxOffice_id)).withRel(&quot;Urzd skarbowy&quot;);\r\n                taxOfficeDetail.add(selfLink);\r\n               // taxOfficeDetail.add(relLink);\r\n            }\r\n            Link link = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeDetailsByTaxOfficeId(taxOffice_id)).withSelfRel();\r\n            CollectionModel&lt;TaxOffice_Detail&gt; result = CollectionModel.of(taxOffice_details, link);\r\n            return ResponseEntity.ok(result);\r\n        }\r\n        else{\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nTaxOffice_Details.java(i do not paste getters and setters here).\r\n```lang = java\r\n@Entity\r\n@Table(name = &quot;TaxOffice_Details&quot;)\r\npublic class TaxOffice_Detail extends RepresentationModel&lt;TaxOffice_Detail&gt; {\r\n\r\n    public TaxOffice_Detail() {}\r\n\r\n    public TaxOffice_Detail(int id, String street, String zipcode, String city, String phone, String fax, String email, String www) {\r\n        this.id = id;\r\n        this.street = street;\r\n        this.zipcode = zipcode;\r\n        this.city = city;\r\n        this.phone = phone;\r\n        this.fax = fax;\r\n        this.email = email;\r\n        this.www = www;\r\n    }\r\n\r\n    @Id\r\n    private int id;\r\n\r\n    @Column(name = &quot;street&quot;)\r\n    private String street;\r\n\r\n    @Column(name = &quot;zipcode&quot;)\r\n    private String zipcode;\r\n\r\n    @Column(name = &quot;city&quot;)\r\n    private String city;\r\n\r\n    @Column(name = &quot;phone&quot;)\r\n    private String phone;\r\n\r\n    @Column(name = &quot;fax&quot;)\r\n    private String fax;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;www&quot;)\r\n    private String www;\r\n\r\n    @Transient\r\n    private String taxoffice_name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;taxOffice_id&quot;)\r\n    private TaxOffice taxOffice;\r\n\r\n   // @JsonIgnore\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;taxOffice_details&quot;)\r\n    private List&lt;TaxOffice&gt; taxOffices;\r\n    }\r\n```\r\n\r\nTaxOffice_DetailRepository\r\n```lang = java\r\n@Repository(&quot;taxOffice_DetailRepository&quot;)\r\npublic interface TaxOffice_DetailRepository extends JpaRepository&lt;TaxOffice_Detail, Integer&gt; {\r\n\r\n\r\n    @Query(&quot;select t from TaxOffice_Detail t where t.id = :id&quot;)\r\n    List&lt;TaxOffice_Detail&gt; findAllById(int id);\r\n\r\n    @Query(&quot;select t from TaxOffice_Detail t where t.taxOffice.id = :taxOffice_id&quot;)\r\n    List&lt;TaxOffice_Detail&gt; findAllByTaxOfficeId(int taxOffice_id);\r\n    \r\n}\r\n```\r\n\r\nTaxOffice_DetailService\r\n```lang = java\r\n@Transactional\r\n@Service\r\npublic class TaxOffice_DetailService {\r\n\r\n    final\r\n    TaxOffice_DetailRepository taxOffice_detailRepository;\r\n\r\n    public TaxOffice_DetailService(TaxOffice_DetailRepository taxOffice_detailRepository) {\r\n        this.taxOffice_detailRepository = taxOffice_detailRepository;\r\n    }\r\n\r\n    public List&lt;TaxOffice_Detail&gt; findAllByID(int id) {\r\n        return taxOffice_detailRepository.findAllById(id);\r\n    }\r\n\r\n    public List&lt;TaxOffice_Detail&gt; findAllByTaxOfficeID(int taxOffice_id) {\r\n        return taxOffice_detailRepository.findAllByTaxOfficeId(taxOffice_id);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Spring Rest Controller - Error 500 because service is null","body":"<p>I have an endpoint like you can see below and if try GET http://localhost:8080/api/taxoffice/971/details in Postman, i'm recieving an error 400.</p>\n<p>If i try GET http://localhost:8080/api/taxoffice/101/details then i'm getting an error 500 &quot;Cannot invoke &quot;com.walidatorpnr.taxoffice.service.TaxOffice_DetailService.findAllByTaxOfficeID(int)&quot; because &quot;this.taxOfficeDetailService&quot; is null&quot;.</p>\n<p>Records with both ids <strong>are exist</strong> in database.</p>\n<p>Could you help me to fix this, please?</p>\n<p>RestController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/taxoffice&quot;)\npublic class TaxOfficeRestController {\n\n \n    private final TaxOfficeService taxOfficeService;\n\n    private final TaxOffice_DetailService taxOfficeDetailService;\n\n    @Autowired\n    public TaxOfficeRestController(TaxOfficeService taxOfficeService, TaxOffice_DetailService taxOfficeDetailService) {\n    \n        this.taxOfficeService = taxOfficeService;\n        this.taxOfficeDetailService = taxOfficeDetailService;\n    }\n\n List&lt;TaxOffice&gt; taxOffices = Lists.newArrayList();\n\n List&lt;TaxOffice_Detail&gt; taxOffice_details = Lists.newArrayList();\n\n//Endpoint I have a problem with\n  @GetMapping(value = &quot;/{taxOffice_id}/details&quot;)\n    private ResponseEntity&lt;?&gt; getTaxOfficeDetailsByTaxOfficeId(@PathVariable int taxOffice_id) {\n    \n        taxOffice_details = taxOfficeDetailService.findAllByTaxOfficeID(taxOffice_id);\n        if(taxOffice_details.size() != 0) {\n            for (TaxOffice_Detail taxOfficeDetail : taxOffice_details) {\n                Link selfLink = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeDetailsByTaxOfficeId(taxOffice_id)).withSelfRel();\n               // Link relLink = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeById(taxOffice_id)).withRel(&quot;Urzd skarbowy&quot;);\n                taxOfficeDetail.add(selfLink);\n               // taxOfficeDetail.add(relLink);\n            }\n            Link link = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeDetailsByTaxOfficeId(taxOffice_id)).withSelfRel();\n            CollectionModel&lt;TaxOffice_Detail&gt; result = CollectionModel.of(taxOffice_details, link);\n            return ResponseEntity.ok(result);\n        }\n        else{\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n        }\n\n    }\n</code></pre>\n<p>TaxOffice_Details.java(i do not paste getters and setters here).</p>\n<pre><code>@Entity\n@Table(name = &quot;TaxOffice_Details&quot;)\npublic class TaxOffice_Detail extends RepresentationModel&lt;TaxOffice_Detail&gt; {\n\n    public TaxOffice_Detail() {}\n\n    public TaxOffice_Detail(int id, String street, String zipcode, String city, String phone, String fax, String email, String www) {\n        this.id = id;\n        this.street = street;\n        this.zipcode = zipcode;\n        this.city = city;\n        this.phone = phone;\n        this.fax = fax;\n        this.email = email;\n        this.www = www;\n    }\n\n    @Id\n    private int id;\n\n    @Column(name = &quot;street&quot;)\n    private String street;\n\n    @Column(name = &quot;zipcode&quot;)\n    private String zipcode;\n\n    @Column(name = &quot;city&quot;)\n    private String city;\n\n    @Column(name = &quot;phone&quot;)\n    private String phone;\n\n    @Column(name = &quot;fax&quot;)\n    private String fax;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;www&quot;)\n    private String www;\n\n    @Transient\n    private String taxoffice_name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;taxOffice_id&quot;)\n    private TaxOffice taxOffice;\n\n   // @JsonIgnore\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;taxOffice_details&quot;)\n    private List&lt;TaxOffice&gt; taxOffices;\n    }\n</code></pre>\n<p>TaxOffice_DetailRepository</p>\n<pre><code>@Repository(&quot;taxOffice_DetailRepository&quot;)\npublic interface TaxOffice_DetailRepository extends JpaRepository&lt;TaxOffice_Detail, Integer&gt; {\n\n\n    @Query(&quot;select t from TaxOffice_Detail t where t.id = :id&quot;)\n    List&lt;TaxOffice_Detail&gt; findAllById(int id);\n\n    @Query(&quot;select t from TaxOffice_Detail t where t.taxOffice.id = :taxOffice_id&quot;)\n    List&lt;TaxOffice_Detail&gt; findAllByTaxOfficeId(int taxOffice_id);\n    \n}\n</code></pre>\n<p>TaxOffice_DetailService</p>\n<pre><code>@Transactional\n@Service\npublic class TaxOffice_DetailService {\n\n    final\n    TaxOffice_DetailRepository taxOffice_detailRepository;\n\n    public TaxOffice_DetailService(TaxOffice_DetailRepository taxOffice_detailRepository) {\n        this.taxOffice_detailRepository = taxOffice_detailRepository;\n    }\n\n    public List&lt;TaxOffice_Detail&gt; findAllByID(int id) {\n        return taxOffice_detailRepository.findAllById(id);\n    }\n\n    public List&lt;TaxOffice_Detail&gt; findAllByTaxOfficeID(int taxOffice_id) {\n        return taxOffice_detailRepository.findAllByTaxOfficeId(taxOffice_id);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","netbeans","maven-wrapper"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1677627133,"post_id":75598160,"comment_id":133374843,"body_markdown":"is there a reason for specifically using maven-wrapper? wouldn&#39;t a &quot;regular&quot; maven installation with the default global configuration set up  (https://maven.apache.org/settings.html) in `${user.home}/.m2/settings.xml` will prevent you having to copy it to each project... As I understand it, the maven wrapper is for situations where you don&#39;t want a full maven installation","body":"is there a reason for specifically using maven-wrapper? wouldn&#39;t a &quot;regular&quot; maven installation with the default global configuration set up  (<a href=\"https://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">maven.apache.org/settings.html</a>) in <code>${user.home}&#47;.m2&#47;settings.xml</code> will prevent you having to copy it to each project... As I understand it, the maven wrapper is for situations where you don&#39;t want a full maven installation"},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1677627281,"post_id":75598160,"comment_id":133374864,"body_markdown":"Another observation: if you are developing Spring, have you considered an editor that actually will empoweer you? vscode/intelliJ/spring tools suite all have very good spring support, and maven works well with them.","body":"Another observation: if you are developing Spring, have you considered an editor that actually will empoweer you? vscode/intelliJ/spring tools suite all have very good spring support, and maven works well with them."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677645655,"post_id":75598160,"comment_id":133377204,"body_markdown":"(1) Netbeans 16 support Maven. you can open some project include `pom.xml` (2)  you can ignore `mvnw`, `mvnw.cmd`, `.mvn` (3) You can use Netbeans create a Maven project, `File` -&gt; `New Project` -&gt; `Choose Project` -&gt; `Java with Maven`","body":"(1) Netbeans 16 support Maven. you can open some project include <code>pom.xml</code> (2)  you can ignore <code>mvnw</code>, <code>mvnw.cmd</code>, <code>.mvn</code> (3) You can use Netbeans create a Maven project, <code>File</code> -&gt; <code>New Project</code> -&gt; <code>Choose Project</code> -&gt; <code>Java with Maven</code>"},{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":0,"creation_date":1677876568,"post_id":75598160,"comment_id":133430708,"body_markdown":"Using maven wrappers was recommended by my team lead, as was using environmental variables for the remote repository settings","body":"Using maven wrappers was recommended by my team lead, as was using environmental variables for the remote repository settings"}],"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677625568,"creation_date":1677625568,"question_id":75598160,"body_markdown":"I have used NetBeans for years, but never with Maven. I am trying to use Maven wrappers to set up a remote repository utilized by the microservices at my new company; is there a way to do so native to NetBeans so that it&#39;s applicable to all Maven projects from that point on? \r\n\r\nThe only project I have with Maven wrappers currently is one I created via spring.starter.io then imported into NetBeans; should I set the variables for the remote repository in that project then copy that .mvn folder to other projects as needed?","title":"How to use maven wrappers in netbeans","body":"<p>I have used NetBeans for years, but never with Maven. I am trying to use Maven wrappers to set up a remote repository utilized by the microservices at my new company; is there a way to do so native to NetBeans so that it's applicable to all Maven projects from that point on?</p>\n<p>The only project I have with Maven wrappers currently is one I created via spring.starter.io then imported into NetBeans; should I set the variables for the remote repository in that project then copy that .mvn folder to other projects as needed?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677421855,"post_id":75572568,"comment_id":133330569,"body_markdown":"What is the full url youre using to make the request?","body":"What is the full url youre using to make the request?"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677423329,"post_id":75572568,"comment_id":133330807,"body_markdown":"Did you by chance override the default context path? If so, try changing it to `/` instead of ``","body":"Did you by chance override the default context path? If so, try changing it to <code>&#47;</code> instead of <code></code>"},{"owner":{"account_id":27883312,"reputation":1,"user_id":21291324,"display_name":"f.e.7777"},"score":0,"creation_date":1677423892,"post_id":75572568,"comment_id":133330915,"body_markdown":"no luck still got whitelabel error :(","body":"no luck still got whitelabel error :("}],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1677422582,"post_id":75572677,"comment_id":133330684,"body_markdown":"Its of no use or is actively causing issues? If they latter, how is it causing the issues described in the question?","body":"Its of no use or is actively causing issues? If they latter, how is it causing the issues described in the question?"}],"tags":[],"owner":{"account_id":27883283,"reputation":1,"user_id":21291304,"display_name":"ash0897"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677421989,"creation_date":1677421989,"answer_id":75572677,"question_id":75572568,"body_markdown":"Please remove `@ComponentScan(basePackages={&quot;com.ifred.app&quot;})` as it is of no use since you are using `@SpringBootApplication`. \r\n\r\n[@SpringBootApplication][1] already comprised of @ComponentScan\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html","title":"Spring Boot Controller not mapping (Whitelabel Error Page 404)","body":"<p>Please remove <code>@ComponentScan(basePackages={&quot;com.ifred.app&quot;})</code> as it is of no use since you are using <code>@SpringBootApplication</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">@SpringBootApplication</a> already comprised of @ComponentScan</p>\n"},{"comments":[{"owner":{"account_id":27883312,"reputation":1,"user_id":21291324,"display_name":"f.e.7777"},"score":0,"creation_date":1677460689,"post_id":75575825,"comment_id":133336621,"body_markdown":"still did not work :( i guess the problem is not on the code but on my IDE/project settings.. Thank you for the response!","body":"still did not work :( i guess the problem is not on the code but on my IDE/project settings.. Thank you for the response!"},{"owner":{"account_id":8298722,"reputation":1682,"user_id":6238063,"accept_rate":57,"display_name":"Mason"},"score":0,"creation_date":1677612262,"post_id":75575825,"comment_id":133371487,"body_markdown":"I see you are using intelliJ, I&#39;m an eclipse guy. IDEs do have odd issues and configs. If you stay stuck maybe try creating a maven project in eclipse and try there. (note, some intelliJ imports to eclipse can be weird. if not far along just rewrite in eclipse or copy paste). If eclipse runs, then you dont have to battle both maybes and have direction. lmk if so ill help","body":"I see you are using intelliJ, I&#39;m an eclipse guy. IDEs do have odd issues and configs. If you stay stuck maybe try creating a maven project in eclipse and try there. (note, some intelliJ imports to eclipse can be weird. if not far along just rewrite in eclipse or copy paste). If eclipse runs, then you dont have to battle both maybes and have direction. lmk if so ill help"},{"owner":{"account_id":27883312,"reputation":1,"user_id":21291324,"display_name":"f.e.7777"},"score":0,"creation_date":1682471124,"post_id":75575825,"comment_id":134220114,"body_markdown":"Hey Mason, thank you for the help :) As it turns out i just had a space in my folder&#39;s name, causing this issue.","body":"Hey Mason, thank you for the help :) As it turns out i just had a space in my folder&#39;s name, causing this issue."}],"tags":[],"owner":{"account_id":8298722,"reputation":1682,"user_id":6238063,"accept_rate":57,"display_name":"Mason"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677456819,"creation_date":1677456819,"answer_id":75575825,"question_id":75572568,"body_markdown":"instead of the @RequestMapping having /hello use /api and then use @GetMapping(&quot;/hello&quot;)\r\n\r\nex:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class MyController {\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n            return &quot;Hello, World!&quot;;\r\n        }\r\n    }\r\n\r\n\r\nclient sends a GET request to /api/hello, the hello() method will be executed and return the string &quot;Hello, World!&quot;.","title":"Spring Boot Controller not mapping (Whitelabel Error Page 404)","body":"<p>instead of the @RequestMapping having /hello use /api and then use @GetMapping(&quot;/hello&quot;)</p>\n<p>ex:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n<p>client sends a GET request to /api/hello, the hello() method will be executed and return the string &quot;Hello, World!&quot;.</p>\n"}],"owner":{"account_id":27883312,"reputation":1,"user_id":21291324,"display_name":"f.e.7777"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1677625442,"creation_date":1677420764,"question_id":75572568,"body_markdown":"I&#39;ve tried it on IntelliJ and STS 4 but i&#39;m getting the same whitelabel error, except when i put the @restcontroller inside the main application, so i think the problem is in the package structure. I&#39;ve tried a lot of things (with and without component scan, on the same and on a subpackage, with both IDE&#39;s)  yet none worked :( Spring 3.0.3. Im accessing http://localhost:8080/hello\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIFredApplication.java (main)\r\n\r\n```\r\npackage com.ifred.app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages={&quot;com.ifred.app&quot;})\r\n\r\npublic class IfredApplication {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IfredApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nhello.java(controller)\r\n\r\n```\r\npackage com.ifred.app.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/hello&quot;)\r\npublic class hello {\r\n\t\r\n\t@GetMapping\r\n\tpublic String hi() {\r\n\t\treturn&quot;Hello world&quot;;\r\n\t}\r\n\r\n}\r\n```\r\nAnd this is my POM\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ifred&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ifred&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ifred&lt;/name&gt;\r\n\t&lt;description&gt;projeto ifood&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\nConsole Output\r\n```\r\n\r\n[2m2023-02-26T10:43:59.509-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m Starting IfredApplication using Java 17.0.6 with PID 5492 (D:\\Frederico\\Softwares\\Projetos Spring Tools Suite\\ifred\\target\\classes started by Pichau in D:\\Frederico\\Softwares\\Projetos Spring Tools Suite\\ifred)\r\n[2m2023-02-26T10:43:59.513-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[2m2023-02-26T10:44:00.280-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\r\n[2m2023-02-26T10:44:00.290-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[2m2023-02-26T10:44:00.291-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n[2m2023-02-26T10:44:00.391-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[2m2023-02-26T10:44:00.391-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 830 ms\r\n[2m2023-02-26T10:44:00.710-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[2m2023-02-26T10:44:00.721-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m Started IfredApplication in 1.597 seconds (process running for 2.4)\r\n[2m2023-02-26T10:44:09.601-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[2m2023-02-26T10:44:09.602-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2023-02-26T10:44:09.602-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\r\n\r\n```\r\n\r\n\r\nTried using IntelliJ and STS4, tried changing the package structure, putting on the same package and on a subpackage, tried using only @controller with and without response body, tried only request mapping, tried only get mapping, tried using component scan with (basePackages={&quot;com.ifred.app&quot;}) and (basePackages={&quot;com.ifred.controller&quot;}), tried different browser. It only worked once when i called the @restcontroller inside the IfredApplication class, but will cause problems in the future.\r\n\r\nEDIT 1: So apparently the problem is on the first time i start the file, something on the project structure, still trying to figure it out. When i send the project files to my friend&#39;s pc it wont work, but if he creates the project (the exact same way i did with spring initializr) and runs it for the first time on his PC, it works on every pc. If he send the file for me to run for the first time on my PC it works on neither.\r\n\r\n  [1]: https://i.stack.imgur.com/0gsCN.png","title":"Spring Boot Controller not mapping (Whitelabel Error Page 404)","body":"<p>I've tried it on IntelliJ and STS 4 but i'm getting the same whitelabel error, except when i put the @restcontroller inside the main application, so i think the problem is in the package structure. I've tried a lot of things (with and without component scan, on the same and on a subpackage, with both IDE's)  yet none worked :( Spring 3.0.3. Im accessing http://localhost:8080/hello</p>\n<p><a href=\"https://i.stack.imgur.com/0gsCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0gsCN.png\" alt=\"enter image description here\" /></a></p>\n<p>IFredApplication.java (main)</p>\n<pre><code>package com.ifred.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages={&quot;com.ifred.app&quot;})\n\npublic class IfredApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(IfredApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>hello.java(controller)</p>\n<pre><code>package com.ifred.app.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/hello&quot;)\npublic class hello {\n    \n    @GetMapping\n    public String hi() {\n        return&quot;Hello world&quot;;\n    }\n\n}\n</code></pre>\n<p>And this is my POM</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ifred&lt;/groupId&gt;\n    &lt;artifactId&gt;ifred&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ifred&lt;/name&gt;\n    &lt;description&gt;projeto ifood&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>Console Output</p>\n<pre><code>\n[2m2023-02-26T10:43:59.509-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m Starting IfredApplication using Java 17.0.6 with PID 5492 (D:\\Frederico\\Softwares\\Projetos Spring Tools Suite\\ifred\\target\\classes started by Pichau in D:\\Frederico\\Softwares\\Projetos Spring Tools Suite\\ifred)\n[2m2023-02-26T10:43:59.513-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[2m2023-02-26T10:44:00.280-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\n[2m2023-02-26T10:44:00.290-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2023-02-26T10:44:00.291-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.5]\n[2m2023-02-26T10:44:00.391-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2023-02-26T10:44:00.391-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 830 ms\n[2m2023-02-26T10:44:00.710-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path ''\n[2m2023-02-26T10:44:00.721-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m Started IfredApplication in 1.597 seconds (process running for 2.4)\n[2m2023-02-26T10:44:09.601-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2m2023-02-26T10:44:09.602-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2023-02-26T10:44:09.602-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\n\n</code></pre>\n<p>Tried using IntelliJ and STS4, tried changing the package structure, putting on the same package and on a subpackage, tried using only @controller with and without response body, tried only request mapping, tried only get mapping, tried using component scan with (basePackages={&quot;com.ifred.app&quot;}) and (basePackages={&quot;com.ifred.controller&quot;}), tried different browser. It only worked once when i called the @restcontroller inside the IfredApplication class, but will cause problems in the future.</p>\n<p>EDIT 1: So apparently the problem is on the first time i start the file, something on the project structure, still trying to figure it out. When i send the project files to my friend's pc it wont work, but if he creates the project (the exact same way i did with spring initializr) and runs it for the first time on his PC, it works on every pc. If he send the file for me to run for the first time on my PC it works on neither.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677626079,"post_id":75598122,"comment_id":133374670,"body_markdown":"More FYI: https://developer.android.com/topic/performance/tracing","body":"More FYI: <a href=\"https://developer.android.com/topic/performance/tracing\" rel=\"nofollow noreferrer\">developer.android.com/topic/performance/tracing</a>"}],"owner":{"account_id":1190431,"reputation":3768,"user_id":1163355,"accept_rate":60,"display_name":"gunit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677625087,"creation_date":1677625087,"question_id":75598122,"body_markdown":"This [answered](https://stackoverflow.com/a/47965851/1163355) that &quot;objc_msgSend is basically the implementation of Objective-C&#39;s message dispatch&quot;. So it seems like tracing objc_msgSend can help with profiling all methods in an iOS app. \r\n\r\nWe want to do something similar for Android apps. Is there a similar method that exists for java? (We basically want to trace and log all method calls for regression profiling without taking too much of a performance hit)","title":"Is there a java version of Objective C&#39;s objc_msgSend for tracing android apps?","body":"<p>This <a href=\"https://stackoverflow.com/a/47965851/1163355\">answered</a> that &quot;objc_msgSend is basically the implementation of Objective-C's message dispatch&quot;. So it seems like tracing objc_msgSend can help with profiling all methods in an iOS app.</p>\n<p>We want to do something similar for Android apps. Is there a similar method that exists for java? (We basically want to trace and log all method calls for regression profiling without taking too much of a performance hit)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9613,"page":612,"page_size":100}
