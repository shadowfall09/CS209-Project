{"items":[{"tags":["java","spring","tomcat","spring-boot","access-log"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1456827448,"post_id":35714626,"comment_id":59115467,"body_markdown":"Have you read Tomcat&#39;s [documentation on access loging](https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve/Attributes), in particular the three `condition` attributes? That should point you in the right direction.","body":"Have you read Tomcat&#39;s <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"nofollow noreferrer\">documentation on access loging</a>, in particular the three <code>condition</code> attributes? That should point you in the right direction."},{"owner":{"account_id":6242714,"reputation":671,"user_id":4855780,"accept_rate":67,"display_name":"Ivan"},"score":0,"creation_date":1456976760,"post_id":35714626,"comment_id":59198403,"body_markdown":"@AndyWilkinson, I followed you proposal, met some difficulties. I recorded it in the next module, focus on the first answer. Thanks.","body":"@AndyWilkinson, I followed you proposal, met some difficulties. I recorded it in the next module, focus on the first answer. Thanks."},{"owner":{"account_id":58146,"reputation":1126,"user_id":174145,"accept_rate":83,"display_name":"Atul "},"score":0,"creation_date":1526895319,"post_id":35714626,"comment_id":87905264,"body_markdown":"I tried the exact steps mentioned and it worked perfectly. I think there is a typo in solution to use setConditionIf instead of setConditionUnless. Even after using setConditionUnless, I didn&#39;t need the interceptor and I could set the attribute in the method call itself.","body":"I tried the exact steps mentioned and it worked perfectly. I think there is a typo in solution to use setConditionIf instead of setConditionUnless. Even after using setConditionUnless, I didn&#39;t need the interceptor and I could set the attribute in the method call itself."},{"owner":{"account_id":58146,"reputation":1126,"user_id":174145,"accept_rate":83,"display_name":"Atul "},"score":0,"creation_date":1526895467,"post_id":35714626,"comment_id":87905340,"body_markdown":"Also instead of creating new AccessLogValue, I fetched existing one and changed the property of it. This helps to ensure I can set values from application properties also.","body":"Also instead of creating new AccessLogValue, I fetched existing one and changed the property of it. This helps to ensure I can set values from application properties also."}],"answers":[{"tags":[],"owner":{"account_id":4074210,"reputation":482,"user_id":3346298,"display_name":"Damian229"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592929952,"creation_date":1592929952,"answer_id":62539534,"question_id":35714626,"body_markdown":"As suggested by the response https://stackoverflow.com/a/55569199/3346298 on this question  https://stackoverflow.com/questions/53740326/exclude-certain-requests-from-tomcats-log, you should use a filter and add this filter to the filterChain instead of adding it by AOP. \r\n\r\nFor same reason seems like the log/not log feature is checked before the execution of you AOP aspect.\r\n\r\nPD: Sorry for the late response","title":"How to filter access logs generated by tomcat under spring boot framework","body":"<p>As suggested by the response <a href=\"https://stackoverflow.com/a/55569199/3346298\">https://stackoverflow.com/a/55569199/3346298</a> on this question  <a href=\"https://stackoverflow.com/questions/53740326/exclude-certain-requests-from-tomcats-log\">Exclude certain requests from Tomcat&#39;s log</a>, you should use a filter and add this filter to the filterChain instead of adding it by AOP.</p>\n<p>For same reason seems like the log/not log feature is checked before the execution of you AOP aspect.</p>\n<p>PD: Sorry for the late response</p>\n"},{"tags":[],"owner":{"account_id":6617832,"reputation":653,"user_id":5110508,"display_name":"Bertrand Cedric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677607106,"creation_date":1677607106,"answer_id":75595703,"question_id":35714626,"body_markdown":"You can use the condition-unless properties of tomcat to exclude request who contains this attribute with not null value. ([doc][1])\r\n\r\nHere is the code, I used with springboot 2.7.\r\n\r\n\r\n1. configure tomcat, adding this properties\r\n\r\n```properties\r\n    server.tomcat.accesslog.enabled=true\r\n    server.tomcat.accesslog.condition-unless=NO_LOG\r\n```\r\n\r\n2. Create a webfilter and register it in spring.  This filter will add the &quot;NO_LOG&quot; attribute for the request who don&#39;t need to be log\r\n\r\n\r\n\r\n\r\n```java\r\n    @Component\r\n    public class AccessLogFilter implements Filter {\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            if (request instanceof HttpServletRequest) {\r\n                String uri = ((HttpServletRequest) request).getRequestURI();\r\n                //detect the uri who dontt need to be log \r\n                if (uri.startsWith(&quot;/actuator&quot;)) {\r\n                    //add the &quot;No_LOG&quot; Attribute to request, the value is not important, there only need to be not null\r\n                    request.setAttribute(&quot;NO_LOG&quot;, &quot;true&quot;);\r\n                }\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Access_Log_Valve/Attributes","title":"How to filter access logs generated by tomcat under spring boot framework","body":"<p>You can use the condition-unless properties of tomcat to exclude request who contains this attribute with not null value. (<a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"nofollow noreferrer\">doc</a>)</p>\n<p>Here is the code, I used with springboot 2.7.</p>\n<ol>\n<li>configure tomcat, adding this properties</li>\n</ol>\n<pre><code>    server.tomcat.accesslog.enabled=true\n    server.tomcat.accesslog.condition-unless=NO_LOG\n</code></pre>\n<ol start=\"2\">\n<li>Create a webfilter and register it in spring.  This filter will add the &quot;NO_LOG&quot; attribute for the request who don't need to be log</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @Component\n    public class AccessLogFilter implements Filter {\n        @Override\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n            if (request instanceof HttpServletRequest) {\n                String uri = ((HttpServletRequest) request).getRequestURI();\n                //detect the uri who dontt need to be log \n                if (uri.startsWith(&quot;/actuator&quot;)) {\n                    //add the &quot;No_LOG&quot; Attribute to request, the value is not important, there only need to be not null\n                    request.setAttribute(&quot;NO_LOG&quot;, &quot;true&quot;);\n                }\n            }\n            chain.doFilter(request, response);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6242714,"reputation":671,"user_id":4855780,"accept_rate":67,"display_name":"Ivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5278,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677607106,"creation_date":1456806207,"question_id":35714626,"body_markdown":"We are using spring boot framework, generating access logs by embedded tomcat, the format of access logs is following the property below : \r\n\r\n    server.tomcat.access-log-enabled=true\r\n    server.tomcat.access-log-pattern=&quot;%h %l %u %t &#39;%r&#39; %s %b %D&quot;\r\n    server.tomcat.basedir=/data/logs/Waijule/SchoolService/access\r\n\r\nFortunately, access logs generated succeed, we got a positive result :\r\n\r\n    &quot;127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] &#39;POST /school-svc/index-summary HTTP/1.1&#39; 200 127 21&quot;\r\n    &quot;127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] &#39;POST /school-svc/wechat/signature/get HTTP/1.1&#39; 200 238 9&quot;\r\n    &quot;127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] &#39;POST /school-svc/wechat/ticket/get HTTP/1.1&#39; 200 225 148&quot;\r\n\r\nTo make sure the service healthy, we have kept running health check every 5 seconds, the requests which we want to filter so that we could get clear access logs, health check url is like the sample : \r\n\r\n    &quot;127.0.0.1 - - [01/Mar/2016:12:04:10 +0800] &#39;GET /school-svc/isHealth HTTP/1.1&#39; 200 6 104&quot;\r\n\r\nHow to filter health check requests? \r\n\r\nThanks for help.\r\n\r\n \r\n\n\n---\n\nAccording to [documentation on access loging][1], I tried to use **conditionIf** to solve the problems, in our spring framework, I tried to override customize function in EmbeddedServletContainerCustomizer class so that conditionIf could set up, our realization likes the following sample :\r\n \r\n     @Configuration\r\n     public class Application implements EmbeddedServletContainerCustomizer {\r\n         @Override\r\n         public void customize(ConfigurableEmbeddedServletContainer container)\r\n         {\r\n             if (container instanceof TomcatEmbeddedServletContainerFactory)\r\n                {\r\n                    log.debug(&quot;It is TomcatEmbeddedServletContainerFactory&quot;);\r\n                    TomcatEmbeddedServletContainerFactory factory = (TomcatEmbeddedServletContainerFactory) container;\r\n                    AccessLogValve accessLogValve = new AccessLogValve();                    \r\n                    accessLogValve.setConditionIf(&quot;ignore&quot;);\r\n                    factory.addContextValves(accessLogValve);\r\n                }\r\n                else\r\n                {\r\n                    log.error(&quot;WARNING! this customizer does not support your configured container&quot;);\r\n                }\r\n          }    \r\n    }\r\n       \r\nIn my comprehension, the next step we need to do is set attribute parameter, so I wrote interceptor on the above of health check controller, realization likes that:\r\n\r\n    @Component\r\n    @Aspect\r\n    public class HealthCheckInterceptor\r\n    {\r\n        @Before(&quot;execution(* com.waijule.home.controller.HealthCheckController.process(..))&quot;)\r\n        private void beforeGetHomeDetailByHomeIdWithTry(JoinPoint joinPoint)\r\n        {\r\n            try\r\n            {\r\n                Object[] args = joinPoint.getArgs();\r\n                Prediction.checkTrue(args[0] instanceof HttpServletRequest);\r\n                HttpServletRequest request = (HttpServletRequest) args[0];\r\n                request.setAttribute(&quot;ignore&quot;, &quot;true&quot;);\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                log.error(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nIn the end, checked if attribute(&quot;ignore&quot;) of RequestServlet evaluated.\r\n\r\n    @RestController\r\n    @RequestMapping(value = { &quot;/home-svc/isHealth&quot; }, method = { RequestMethod.GET, RequestMethod.HEAD })\r\n    public class HealthCheckController\r\n    {\r\n        private String HEALTH = &quot;health&quot;;\r\n    \r\n        @RequestMapping\r\n        public String process(HttpServletRequest request)\r\n        {\r\n            log.debug(&quot;ignore attribute is {}&quot;, request.getAttribute(&quot;ignore&quot;));\r\n            return HEALTH;\r\n        }\r\n    }\r\n\r\n&gt; output: ignore attribute is true\r\n\r\nHowever, access informs of health check still be found in access logs:\r\n\r\n    &quot;127.0.0.1 - - [03/Mar/2016:11:34:00 +0800] &#39;GET /home-svc/isHealth HTTP/1.1&#39; 200 6 120&quot;\r\n\r\nI supposed attribute parameter &#39;ignore&#39; set up late in the process, when and how to setAttribute for HttpServletRequest?\r\n\r\nIf our supposition not correct, what makes the operations not work?\r\n\r\nThanks for help.\r\n \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve/Attributes","title":"How to filter access logs generated by tomcat under spring boot framework","body":"<p>We are using spring boot framework, generating access logs by embedded tomcat, the format of access logs is following the property below : </p>\n\n<pre><code>server.tomcat.access-log-enabled=true\nserver.tomcat.access-log-pattern=\"%h %l %u %t '%r' %s %b %D\"\nserver.tomcat.basedir=/data/logs/Waijule/SchoolService/access\n</code></pre>\n\n<p>Fortunately, access logs generated succeed, we got a positive result :</p>\n\n<pre><code>\"127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] 'POST /school-svc/index-summary HTTP/1.1' 200 127 21\"\n\"127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] 'POST /school-svc/wechat/signature/get HTTP/1.1' 200 238 9\"\n\"127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] 'POST /school-svc/wechat/ticket/get HTTP/1.1' 200 225 148\"\n</code></pre>\n\n<p>To make sure the service healthy, we have kept running health check every 5 seconds, the requests which we want to filter so that we could get clear access logs, health check url is like the sample : </p>\n\n<pre><code>\"127.0.0.1 - - [01/Mar/2016:12:04:10 +0800] 'GET /school-svc/isHealth HTTP/1.1' 200 6 104\"\n</code></pre>\n\n<p>How to filter health check requests? </p>\n\n<p>Thanks for help.</p>\n\n<hr>\n\n<p>According to <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"noreferrer\">documentation on access loging</a>, I tried to use <strong>conditionIf</strong> to solve the problems, in our spring framework, I tried to override customize function in EmbeddedServletContainerCustomizer class so that conditionIf could set up, our realization likes the following sample :</p>\n\n<pre><code> @Configuration\n public class Application implements EmbeddedServletContainerCustomizer {\n     @Override\n     public void customize(ConfigurableEmbeddedServletContainer container)\n     {\n         if (container instanceof TomcatEmbeddedServletContainerFactory)\n            {\n                log.debug(\"It is TomcatEmbeddedServletContainerFactory\");\n                TomcatEmbeddedServletContainerFactory factory = (TomcatEmbeddedServletContainerFactory) container;\n                AccessLogValve accessLogValve = new AccessLogValve();                    \n                accessLogValve.setConditionIf(\"ignore\");\n                factory.addContextValves(accessLogValve);\n            }\n            else\n            {\n                log.error(\"WARNING! this customizer does not support your configured container\");\n            }\n      }    \n}\n</code></pre>\n\n<p>In my comprehension, the next step we need to do is set attribute parameter, so I wrote interceptor on the above of health check controller, realization likes that:</p>\n\n<pre><code>@Component\n@Aspect\npublic class HealthCheckInterceptor\n{\n    @Before(\"execution(* com.waijule.home.controller.HealthCheckController.process(..))\")\n    private void beforeGetHomeDetailByHomeIdWithTry(JoinPoint joinPoint)\n    {\n        try\n        {\n            Object[] args = joinPoint.getArgs();\n            Prediction.checkTrue(args[0] instanceof HttpServletRequest);\n            HttpServletRequest request = (HttpServletRequest) args[0];\n            request.setAttribute(\"ignore\", \"true\");\n        }\n        catch (Exception e)\n        {\n            log.error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>In the end, checked if attribute(\"ignore\") of RequestServlet evaluated.</p>\n\n<pre><code>@RestController\n@RequestMapping(value = { \"/home-svc/isHealth\" }, method = { RequestMethod.GET, RequestMethod.HEAD })\npublic class HealthCheckController\n{\n    private String HEALTH = \"health\";\n\n    @RequestMapping\n    public String process(HttpServletRequest request)\n    {\n        log.debug(\"ignore attribute is {}\", request.getAttribute(\"ignore\"));\n        return HEALTH;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>output: ignore attribute is true</p>\n</blockquote>\n\n<p>However, access informs of health check still be found in access logs:</p>\n\n<pre><code>\"127.0.0.1 - - [03/Mar/2016:11:34:00 +0800] 'GET /home-svc/isHealth HTTP/1.1' 200 6 120\"\n</code></pre>\n\n<p>I supposed attribute parameter 'ignore' set up late in the process, when and how to setAttribute for HttpServletRequest?</p>\n\n<p>If our supposition not correct, what makes the operations not work?</p>\n\n<p>Thanks for help.</p>\n"},{"tags":["java","spring-boot","gradle","openapi","openapi-generator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1677248599,"post_id":75549738,"comment_id":133305818,"body_markdown":"Are you trying to change all `JsonNullable` objects to `JsonNode`, or all general `Object` types, or just this one `Object`?","body":"Are you trying to change all <code>JsonNullable</code> objects to <code>JsonNode</code>, or all general <code>Object</code> types, or just this one <code>Object</code>?"},{"owner":{"account_id":3695566,"reputation":243,"user_id":3077014,"accept_rate":25,"display_name":"mkasepuu"},"score":0,"creation_date":1677269928,"post_id":75549738,"comment_id":133311383,"body_markdown":"Id hope for this one Object. But all alternatives are to be explored","body":"Id hope for this one Object. But all alternatives are to be explored"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677606871,"creation_date":1677606871,"answer_id":75595666,"question_id":75549738,"body_markdown":"All of this can be done in your template.  I think the easiest way would be to use a [custom vendor extension][1].  Create a custom extension called something like `x-render-asNode: true`, and then update your `pojo.mustache`.  You will need to add the JsonNode import to the top of your `pojo.mustache` and update the following line:\r\n```\r\n  {{#openApiNullable}}\r\n  private {{&gt;nullableDataType}} {{name}}{{#isNullable}} = JsonNullable.undefined(){{/isNullable}}{{^isNullable}}{{#defaultValue}} = {{{.}}}{{/defaultValue}}{{/isNullable}};\r\n  {{/openApiNullable}}\r\n```\r\nUpdate the line to read as follows:\r\n```\r\n  {{#openApiNullable}}\r\n  {{#vendorExtensions.x-render-asNode}}\r\n  private JsonNode {{name}};\r\n  {{/vendorExtensions.x-render-asNode}}\r\n  {{^vendorExtensions.x-render-asNode}}\r\n  private {{&gt;nullableDataType}} {{name}}{{#isNullable}} = JsonNullable.undefined(){{/isNullable}}{{^isNullable}}{{#defaultValue}} = {{{.}}}{{/defaultValue}}{{/isNullable}};\r\n  {{/vendorExtensions.x-render-asNode}}\r\n  {{/openApiNullable}}\r\n```\r\n\r\n### Explanation:\r\n\r\nThe vendor extension just needs to exist.  It doesn&#39;t need an actual value, however I&#39;ve always preferred adding true, to assist in readability.  The mustache template takes a look at all vendor extensions, and sees if the list of extensions includes `x-render-asNode`.  It does this with the number(`#`) symbol.  If the extension exists, then it will render the object as a JsonNode.  If it doesn&#39;t exist, checked with the carrot(`^`) symbol, then it will render as usual.\r\n\r\n### Note:\r\n\r\nThe above change addresses the change to the field declaration.  However, you will need to make similar changes to the getter and setter methods to ensure they are taking in and returning `JsonNode` types as well.\r\n\r\n\r\n\r\n  [1]: https://swagger.io/specification/#:~:text=read%3Apets-,Specification%20Extensions,-While%20the%20OpenAPI","title":"Openapi generator to generate JsonNode type variable","body":"<p>All of this can be done in your template.  I think the easiest way would be to use a <a href=\"https://swagger.io/specification/#:%7E:text=read%3Apets-,Specification%20Extensions,-While%20the%20OpenAPI\" rel=\"nofollow noreferrer\">custom vendor extension</a>.  Create a custom extension called something like <code>x-render-asNode: true</code>, and then update your <code>pojo.mustache</code>.  You will need to add the JsonNode import to the top of your <code>pojo.mustache</code> and update the following line:</p>\n<pre><code>  {{#openApiNullable}}\n  private {{&gt;nullableDataType}} {{name}}{{#isNullable}} = JsonNullable.undefined(){{/isNullable}}{{^isNullable}}{{#defaultValue}} = {{{.}}}{{/defaultValue}}{{/isNullable}};\n  {{/openApiNullable}}\n</code></pre>\n<p>Update the line to read as follows:</p>\n<pre><code>  {{#openApiNullable}}\n  {{#vendorExtensions.x-render-asNode}}\n  private JsonNode {{name}};\n  {{/vendorExtensions.x-render-asNode}}\n  {{^vendorExtensions.x-render-asNode}}\n  private {{&gt;nullableDataType}} {{name}}{{#isNullable}} = JsonNullable.undefined(){{/isNullable}}{{^isNullable}}{{#defaultValue}} = {{{.}}}{{/defaultValue}}{{/isNullable}};\n  {{/vendorExtensions.x-render-asNode}}\n  {{/openApiNullable}}\n</code></pre>\n<h3>Explanation:</h3>\n<p>The vendor extension just needs to exist.  It doesn't need an actual value, however I've always preferred adding true, to assist in readability.  The mustache template takes a look at all vendor extensions, and sees if the list of extensions includes <code>x-render-asNode</code>.  It does this with the number(<code>#</code>) symbol.  If the extension exists, then it will render the object as a JsonNode.  If it doesn't exist, checked with the carrot(<code>^</code>) symbol, then it will render as usual.</p>\n<h3>Note:</h3>\n<p>The above change addresses the change to the field declaration.  However, you will need to make similar changes to the getter and setter methods to ensure they are taking in and returning <code>JsonNode</code> types as well.</p>\n"}],"owner":{"account_id":3695566,"reputation":243,"user_id":3077014,"accept_rate":25,"display_name":"mkasepuu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677606871,"creation_date":1677182250,"question_id":75549738,"body_markdown":"I have a following object definition in OpenApi v3.0.3. I am using java 17 + gradle with build.gradle.kts in Kotlin\r\n\r\n         customPayload:\r\n          type: object\r\n          nullable: true\r\n          example:\r\n            date: 2022-12-16\r\n            randomStuff: &quot;random stuff&quot;\r\n\r\nNow currently OpenApi Generator will generate it like this:\r\n```\r\n@JsonProperty(&quot;customPayload&quot;)\r\n  private JsonNullable&lt;Object&gt; customPayload = JsonNullable.undefined();\r\n```\r\n\r\nI would like to find a way to transform customPayload to JsonNode\r\n\r\nSmt like this\r\n``` \r\n  @JsonProperty(&quot;customPayload&quot;)\r\n  private JsonNode customPayload;\r\n```\r\n\r\nSo any good ideas?\r\n\r\n\r\n\r\n","title":"Openapi generator to generate JsonNode type variable","body":"<p>I have a following object definition in OpenApi v3.0.3. I am using java 17 + gradle with build.gradle.kts in Kotlin</p>\n<pre><code>     customPayload:\n      type: object\n      nullable: true\n      example:\n        date: 2022-12-16\n        randomStuff: &quot;random stuff&quot;\n</code></pre>\n<p>Now currently OpenApi Generator will generate it like this:</p>\n<pre><code>@JsonProperty(&quot;customPayload&quot;)\n  private JsonNullable&lt;Object&gt; customPayload = JsonNullable.undefined();\n</code></pre>\n<p>I would like to find a way to transform customPayload to JsonNode</p>\n<p>Smt like this</p>\n<pre><code>  @JsonProperty(&quot;customPayload&quot;)\n  private JsonNode customPayload;\n</code></pre>\n<p>So any good ideas?</p>\n"},{"tags":["java","microsoft-graph-api","sharepointdriveitem"],"answers":[{"tags":[],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677606509,"creation_date":1677606509,"answer_id":75595609,"question_id":75594072,"body_markdown":"I found the issue, my problem, is that i was basically i was triying to copy form the destination as a base.\r\n\r\nWhat i needed to do was change my copy command, by doing the following\r\n\r\n    \t\t\t\tgraphClient.drives(fileResult.parentReference.driveId).items(fileResult.id).copy(\r\n\t\t\t\t\t\t\t\tDriveItemCopyParameterSet\r\n\t\t\t\t\t\t\t\t\t\t.newBuilder()\r\n\t\t\t\t\t\t\t\t\t\t.withName(fileName)\r\n\t\t\t\t\t\t\t\t\t\t.withParentReference(parentReference)\r\n\t\t\t\t\t\t\t\t\t\t.build())\r\n\t\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t\t.post();\r\n\r\nBy doing it like this i was taking the drive where i found the file as a source, and from there on i called the copy to the destination.","title":"Sharepoint File Search and Copy","body":"<p>I found the issue, my problem, is that i was basically i was triying to copy form the destination as a base.</p>\n<p>What i needed to do was change my copy command, by doing the following</p>\n<pre><code>                graphClient.drives(fileResult.parentReference.driveId).items(fileResult.id).copy(\n                            DriveItemCopyParameterSet\n                                    .newBuilder()\n                                    .withName(fileName)\n                                    .withParentReference(parentReference)\n                                    .build())\n                    .buildRequest()\n                    .post();\n</code></pre>\n<p>By doing it like this i was taking the drive where i found the file as a source, and from there on i called the copy to the destination.</p>\n"}],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677606509,"creation_date":1677598064,"question_id":75594072,"body_markdown":"I need to develop a function in java using the microsoft graph api, that would search for a file with a specific name, and copy it to a another destination.\r\n\r\nI am able to search and find the file, but i am getting a error of itemNotFound when i try to do the copy.\r\n\r\nTo clarify the user i am using to search has universal access, and the file usually is in the drive of another user.\r\nThe destination is a backup site for these files.\r\n\r\nHere is my code\r\n\r\n    private static String copyFile(String fileName, String destinationPath){\r\n\r\n    \t\ttry {\r\n    \t\t\tlong timeStart = System.currentTimeMillis();\r\n\r\n\t\t\tGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authTokenProvider).buildClient();\r\n\r\n\t\t\tLinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;SearchRequest&gt;();\r\n\t\t\tSearchRequest requests = new SearchRequest();\r\n\r\n\t\t\tLinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;EntityType&gt;();\r\n\t\t\tentityTypesList.add(EntityType.DRIVE_ITEM);\r\n\t\t\trequests.entityTypes = entityTypesList;\r\n\r\n\t\t\tLinkedList&lt;SortProperty&gt; sortProperties = new LinkedList&lt;&gt;();\r\n\t\t\tSortProperty sort = new SortProperty();\r\n\t\t\tsort.name = &quot;lastModifiedDateTime&quot;;\r\n\t\t\tsort.isDescending = true;\r\n\t\t\tsortProperties.add(sort);\r\n\r\n\t\t\tSearchQuery query = new SearchQuery();\r\n\t\t\tquery.queryString = fileName;\r\n\t\t\trequests.query = query;\r\n\t\t\trequests.sortProperties = sortProperties;\r\n\t\t\trequests.size = 1;\r\n\r\n\t\t\trequestsList.add(requests);\r\n\r\n\t\t\tSearchEntityQueryParameterSet sqp = SearchEntityQueryParameterSet\r\n\t\t\t\t\t.newBuilder()\r\n\t\t\t\t\t.withRequests(requestsList)\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\tSearchEntityQueryCollectionPage searchResult = graphClient.search().query(sqp)\r\n\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t.post();\r\n\r\n\t\t\tDriveItem fileResult = null;\r\n\t\t\tfor (SearchResponse searchResponse : searchResult.getCurrentPage()) {\r\n\t\t\t\tif (searchResponse.hitsContainers != null) {\r\n\t\t\t\t\tfor (SearchHitsContainer searchHitsContainer : searchResponse.hitsContainers) {\r\n\t\t\t\t\t\tif (searchHitsContainer.hits != null) {\r\n\t\t\t\t\t\t\tfor (SearchHit searchHit : searchHitsContainer.hits) {\r\n\t\t\t\t\t\t\t\tfileResult = (DriveItem) searchHit.resource;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;DriveItem&gt; items = null;\r\n\t\t\tDriveItemRequestBuilder destination = null;\r\n\r\n\t\t\tDriveRequestBuilder driverReq = graphClient.sites(SharePointCopierConfig.SITE_ID).drive();\r\n\t\t\tDriveItemRequestBuilder driverRootReq = driverReq.root();\r\n\r\n\t\t\tdestination = driverRootReq.itemWithPath(destinationPath);\r\n\r\n\t\t\tItemReference parentReference = new ItemReference();\r\n\t\t\tparentReference.driveId = driverReq.buildRequest().get().id;\r\n\t\t\tparentReference.id = destination.buildRequest().get().id;\r\n\r\n\t\t\tif (fileResult != null) {\r\n\t\t\t\t\tgraphClient.me().drive().items(fileResult.id).copy(\r\n\t\t\t\t\tDriveItemCopyParameterSet\r\n\t\t\t\t\t\t\t.newBuilder()\r\n\t\t\t\t\t\t\t.withName(fileName)\r\n\t\t\t\t\t\t\t.withParentReference(parentReference)\r\n\t\t\t\t\t\t\t.build())\r\n\t\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t\t.post();\r\n\t\t\t}\r\n\r\n\t\t\tlong timeEnd = System.currentTimeMillis();\r\n\r\n\t\t\tlong timeSeconds = (timeEnd-timeStart);\r\n\t\t\treturn fileName + &quot; Copy Successful in &quot;+timeSeconds+&quot; ms&quot;;\r\n\t\t}catch (GraphServiceException exception){\r\n\t\t\tlogger.error(exception.getServiceError().code+&quot; &quot;+exception.getMessage());\r\n\t\t\treturn &quot;Error Copying &quot;+exception.getMessage();\r\n\t\t}\r\n\r\n\t}\r\n**\r\n\r\n\r\n\r\n","title":"Sharepoint File Search and Copy","body":"<p>I need to develop a function in java using the microsoft graph api, that would search for a file with a specific name, and copy it to a another destination.</p>\n<p>I am able to search and find the file, but i am getting a error of itemNotFound when i try to do the copy.</p>\n<p>To clarify the user i am using to search has universal access, and the file usually is in the drive of another user.\nThe destination is a backup site for these files.</p>\n<p>Here is my code</p>\n<pre><code>private static String copyFile(String fileName, String destinationPath){\n\n        try {\n            long timeStart = System.currentTimeMillis();\n\n        GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authTokenProvider).buildClient();\n\n        LinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;SearchRequest&gt;();\n        SearchRequest requests = new SearchRequest();\n\n        LinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;EntityType&gt;();\n        entityTypesList.add(EntityType.DRIVE_ITEM);\n        requests.entityTypes = entityTypesList;\n\n        LinkedList&lt;SortProperty&gt; sortProperties = new LinkedList&lt;&gt;();\n        SortProperty sort = new SortProperty();\n        sort.name = &quot;lastModifiedDateTime&quot;;\n        sort.isDescending = true;\n        sortProperties.add(sort);\n\n        SearchQuery query = new SearchQuery();\n        query.queryString = fileName;\n        requests.query = query;\n        requests.sortProperties = sortProperties;\n        requests.size = 1;\n\n        requestsList.add(requests);\n\n        SearchEntityQueryParameterSet sqp = SearchEntityQueryParameterSet\n                .newBuilder()\n                .withRequests(requestsList)\n                .build();\n\n        SearchEntityQueryCollectionPage searchResult = graphClient.search().query(sqp)\n                .buildRequest()\n                .post();\n\n        DriveItem fileResult = null;\n        for (SearchResponse searchResponse : searchResult.getCurrentPage()) {\n            if (searchResponse.hitsContainers != null) {\n                for (SearchHitsContainer searchHitsContainer : searchResponse.hitsContainers) {\n                    if (searchHitsContainer.hits != null) {\n                        for (SearchHit searchHit : searchHitsContainer.hits) {\n                            fileResult = (DriveItem) searchHit.resource;\n                        }\n                    }\n                }\n            }\n        }\n\n        List&lt;DriveItem&gt; items = null;\n        DriveItemRequestBuilder destination = null;\n\n        DriveRequestBuilder driverReq = graphClient.sites(SharePointCopierConfig.SITE_ID).drive();\n        DriveItemRequestBuilder driverRootReq = driverReq.root();\n\n        destination = driverRootReq.itemWithPath(destinationPath);\n\n        ItemReference parentReference = new ItemReference();\n        parentReference.driveId = driverReq.buildRequest().get().id;\n        parentReference.id = destination.buildRequest().get().id;\n\n        if (fileResult != null) {\n                graphClient.me().drive().items(fileResult.id).copy(\n                DriveItemCopyParameterSet\n                        .newBuilder()\n                        .withName(fileName)\n                        .withParentReference(parentReference)\n                        .build())\n                    .buildRequest()\n                    .post();\n        }\n\n        long timeEnd = System.currentTimeMillis();\n\n        long timeSeconds = (timeEnd-timeStart);\n        return fileName + &quot; Copy Successful in &quot;+timeSeconds+&quot; ms&quot;;\n    }catch (GraphServiceException exception){\n        logger.error(exception.getServiceError().code+&quot; &quot;+exception.getMessage());\n        return &quot;Error Copying &quot;+exception.getMessage();\n    }\n\n}\n</code></pre>\n<p>**</p>\n"},{"tags":["java","enums","annotations"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1307630588,"post_id":6294587,"comment_id":7351519,"body_markdown":"What&#39;s the actual &quot;business&quot; need? What is this trying to solve? (I&#39;m sure you don&#39;t actually need to do this exact thing - this is just a way to do something)","body":"What&#39;s the actual &quot;business&quot; need? What is this trying to solve? (I&#39;m sure you don&#39;t actually need to do this exact thing - this is just a way to do something)"}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1307631078,"creation_date":1307630643,"answer_id":6294691,"question_id":6294587,"body_markdown":"Ditch the String representation, and do a real enum.\r\n\r\n    public enum DataType {\r\n       STRING,\r\n       BOOLEAN,\r\n       INTEGER;\r\n    }\r\n\r\nThat way you avoid ever having to do string comparison of the previous `String dataType` variable to determine if it is in the enum.  As an aside, it also makes it impossible to assign a non-valid value to the member variable `dataType` and since enums are guaranteed to be singletons within the class loader, it also saves on memory footprint.\r\n\r\nIt&#39;s worth the effort to change your code to use enums.  However, assuming that you can&#39;t, you can at least change the annotation to use enums.\r\n\r\n    @ValidateString(DataType.STRING) String dataType;\r\n\r\nand that way your `ValidateString` annotation at least gets to benefit from enums, even if the rest of the code doesn&#39;t.\r\n\r\nNow on the extremely rare chance that you can&#39;t use an enumeration at all, you can set static public integers, which map each accepted value.\r\n\r\n    public class DataType {\r\n      public static final int STRING = 1;\r\n      public static final int BOOLEAN = 2;\r\n      ...\r\n    }\r\n\r\nHowever, if you use a String for the annotation parameter, we don&#39;t have a type checking system which extends into the type to specify that only particular values are allowed.  In other words, Java lacks the ability to do something like this:\r\n\r\n    public int&lt;values=[1,3,5,7..9]&gt; oddInt; \r\n\r\nwhich would throw an error if you attempted to assign\r\n\r\n     oddInt = 4;\r\n\r\nWhy is this important?  Because if it doesn&#39;t apply to regular Java, then it cannot apply to the enumeration which is implemented in regular Java classes.","title":"Java String validation using enum values and annotation","body":"<p>Ditch the String representation, and do a real enum.</p>\n\n<pre><code>public enum DataType {\n   STRING,\n   BOOLEAN,\n   INTEGER;\n}\n</code></pre>\n\n<p>That way you avoid ever having to do string comparison of the previous <code>String dataType</code> variable to determine if it is in the enum.  As an aside, it also makes it impossible to assign a non-valid value to the member variable <code>dataType</code> and since enums are guaranteed to be singletons within the class loader, it also saves on memory footprint.</p>\n\n<p>It's worth the effort to change your code to use enums.  However, assuming that you can't, you can at least change the annotation to use enums.</p>\n\n<pre><code>@ValidateString(DataType.STRING) String dataType;\n</code></pre>\n\n<p>and that way your <code>ValidateString</code> annotation at least gets to benefit from enums, even if the rest of the code doesn't.</p>\n\n<p>Now on the extremely rare chance that you can't use an enumeration at all, you can set static public integers, which map each accepted value.</p>\n\n<pre><code>public class DataType {\n  public static final int STRING = 1;\n  public static final int BOOLEAN = 2;\n  ...\n}\n</code></pre>\n\n<p>However, if you use a String for the annotation parameter, we don't have a type checking system which extends into the type to specify that only particular values are allowed.  In other words, Java lacks the ability to do something like this:</p>\n\n<pre><code>public int&lt;values=[1,3,5,7..9]&gt; oddInt; \n</code></pre>\n\n<p>which would throw an error if you attempted to assign</p>\n\n<pre><code> oddInt = 4;\n</code></pre>\n\n<p>Why is this important?  Because if it doesn't apply to regular Java, then it cannot apply to the enumeration which is implemented in regular Java classes.</p>\n"},{"tags":[],"owner":{"account_id":415982,"reputation":970,"user_id":791104,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1573126411,"creation_date":1308152577,"answer_id":6360458,"question_id":6294587,"body_markdown":"This is what I did.\r\n\r\nAnnotation\r\n\r\n    public @interface ValidateString {\r\n    \t\r\n    \tString[] acceptedValues();\r\n    \t\r\n    \tString message() default &quot;{uk.dds.ideskos.validator.ValidateString.message}&quot;;\r\n    \t\r\n    \tClass&lt;?&gt;[] groups() default { };\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default { }; \r\n    }\r\n\r\n\r\n\r\nValidation Class\r\n\r\n    public class StringValidator implements ConstraintValidator&lt;ValidateString, String&gt;{\r\n    \r\n    \tprivate List&lt;String&gt; valueList;\r\n    \r\n    \t@Override\r\n    \tpublic void initialize(ValidateString constraintAnnotation) {\r\n    \t\tvalueList = new ArrayList&lt;String&gt;();\r\n    \t\tfor(String val : constraintAnnotation.acceptedValues()) {\r\n    \t\t\tvalueList.add(val.toUpperCase());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean isValid(String value, ConstraintValidatorContext context) {\r\n    \t\treturn valueList.contains(value.toUpperCase());\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd i used it like\r\n\r\n    @ValidateString(acceptedValues={&quot;Integer&quot;, &quot;String&quot;}, message=&quot;Invalid dataType&quot;)\r\n    String dataType;\r\n\r\n    Long maxValue;\r\n    Long minValue;\r\n\r\n\r\nNow I need to figure out how to implement conditional check\r\nie. if String then maxValue and minValue should be null or Zero..\r\n\r\nAny ideas?","title":"Java String validation using enum values and annotation","body":"<p>This is what I did.</p>\n\n<p>Annotation</p>\n\n<pre><code>public @interface ValidateString {\n\n    String[] acceptedValues();\n\n    String message() default \"{uk.dds.ideskos.validator.ValidateString.message}\";\n\n    Class&lt;?&gt;[] groups() default { };\n\n    Class&lt;? extends Payload&gt;[] payload() default { }; \n}\n</code></pre>\n\n<p>Validation Class</p>\n\n<pre><code>public class StringValidator implements ConstraintValidator&lt;ValidateString, String&gt;{\n\n    private List&lt;String&gt; valueList;\n\n    @Override\n    public void initialize(ValidateString constraintAnnotation) {\n        valueList = new ArrayList&lt;String&gt;();\n        for(String val : constraintAnnotation.acceptedValues()) {\n            valueList.add(val.toUpperCase());\n        }\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return valueList.contains(value.toUpperCase());\n    }\n\n}\n</code></pre>\n\n<p>And i used it like</p>\n\n<pre><code>@ValidateString(acceptedValues={\"Integer\", \"String\"}, message=\"Invalid dataType\")\nString dataType;\n\nLong maxValue;\nLong minValue;\n</code></pre>\n\n<p>Now I need to figure out how to implement conditional check\nie. if String then maxValue and minValue should be null or Zero..</p>\n\n<p>Any ideas?</p>\n"},{"tags":[],"owner":{"account_id":1210392,"reputation":1,"user_id":1179050,"display_name":"Kalyan"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1364642282,"creation_date":1327959624,"answer_id":9071169,"question_id":6294587,"body_markdown":"You can use `@NotNull` annotation in conjunction with yours.\r\nTo use that you need to add `@Target( { ANNOTATION_TYPE })` annotation in `ValidateString`.\r\n\r\nhttp://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html","title":"Java String validation using enum values and annotation","body":"<p>You can use <code>@NotNull</code> annotation in conjunction with yours.\nTo use that you need to add <code>@Target( { ANNOTATION_TYPE })</code> annotation in <code>ValidateString</code>.</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html\" rel=\"nofollow\">http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html</a></p>\n"},{"tags":[],"owner":{"account_id":3844509,"reputation":798,"user_id":3186528,"display_name":"Rajeev Singla"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1575830185,"creation_date":1389495709,"answer_id":21070806,"question_id":6294587,"body_markdown":"So here is the code being using Spring validation and works great for me. \r\nFull code is given below.\r\n\r\n---\r\n*@EnumValidator* annotation definition:\r\n\r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import javax.validation.ReportAsSingleViolation;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Documented\r\n    @Constraint(validatedBy = EnumValidatorImpl.class)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    @NotNull(message = &quot;Value cannot be null&quot;)\r\n    @ReportAsSingleViolation\r\n    public @interface EnumValidator {\r\n    \r\n      Class&lt;? extends Enum&lt;?&gt;&gt; enumClazz();\r\n      \r\n      String message() default &quot;Value is not valid&quot;;\r\n    \r\n      Class&lt;?&gt;[] groups() default {};\r\n    \r\n      Class&lt;? extends Payload&gt;[] payload() default {};\r\n      \r\n    }\r\n\r\n&lt;br&gt;\r\n*Implementation* of the above class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    \r\n    public class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, String&gt; {\r\n    \r\n        List&lt;String&gt; valueList = null;\r\n        \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            return valueList.contains(value.toUpperCase());\r\n        }\r\n        \r\n        @Override\r\n        public void initialize(EnumValidator constraintAnnotation) {\r\n            valueList = new ArrayList&lt;String&gt;();\r\n            Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = constraintAnnotation.enumClazz();\r\n            \r\n            @SuppressWarnings(&quot;rawtypes&quot;)\r\n            Enum[] enumValArr = enumClass.getEnumConstants();\r\n            \r\n            for (@SuppressWarnings(&quot;rawtypes&quot;) Enum enumVal : enumValArr) {\r\n                valueList.add(enumVal.toString().toUpperCase());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n&lt;br&gt;\r\nUsage of the above *annotation* is very simple\r\n\r\n     @JsonProperty(&quot;lead_id&quot;)\r\n     @EnumValidator(\r\n         enumClazz = DefaultEnum.class,\r\n         message = &quot;This error is coming from the enum class&quot;,\r\n         groups = {Group1.class}\r\n     )\r\n     private String leadId;","title":"Java String validation using enum values and annotation","body":"<p>So here is the code being using Spring validation and works great for me. \nFull code is given below.</p>\n\n<hr>\n\n<p><em>@EnumValidator</em> annotation definition:</p>\n\n<pre><code>import java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\nimport javax.validation.ReportAsSingleViolation;\nimport javax.validation.constraints.NotNull;\n\n@Documented\n@Constraint(validatedBy = EnumValidatorImpl.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\n@NotNull(message = \"Value cannot be null\")\n@ReportAsSingleViolation\npublic @interface EnumValidator {\n\n  Class&lt;? extends Enum&lt;?&gt;&gt; enumClazz();\n\n  String message() default \"Value is not valid\";\n\n  Class&lt;?&gt;[] groups() default {};\n\n  Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n\n<p><br>\n<em>Implementation</em> of the above class:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, String&gt; {\n\n    List&lt;String&gt; valueList = null;\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return valueList.contains(value.toUpperCase());\n    }\n\n    @Override\n    public void initialize(EnumValidator constraintAnnotation) {\n        valueList = new ArrayList&lt;String&gt;();\n        Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = constraintAnnotation.enumClazz();\n\n        @SuppressWarnings(\"rawtypes\")\n        Enum[] enumValArr = enumClass.getEnumConstants();\n\n        for (@SuppressWarnings(\"rawtypes\") Enum enumVal : enumValArr) {\n            valueList.add(enumVal.toString().toUpperCase());\n        }\n    }\n\n}\n</code></pre>\n\n<p><br>\nUsage of the above <em>annotation</em> is very simple</p>\n\n<pre><code> @JsonProperty(\"lead_id\")\n @EnumValidator(\n     enumClazz = DefaultEnum.class,\n     message = \"This error is coming from the enum class\",\n     groups = {Group1.class}\n )\n private String leadId;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12226476,"reputation":82,"user_id":8923905,"display_name":"Emmanuel H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536649182,"creation_date":1536649182,"answer_id":52270344,"question_id":6294587,"body_markdown":"I take up Rajeev Singla&#39;s response https://stackoverflow.com/a/21070806/8923905, just to optimize the code and allow the String parameter to be null, if in your application it is not mandatory and can be empty :\r\n\r\n1- Remove the @NotNull annotation on the Interface\r\n\r\n2- See the modified code below for the implementation.\r\n\r\n\r\n    public class EnumValidatorImpl implements ConstraintValidator &lt;EnumValidator,String&gt; {\r\n\r\n        private List&lt;String&gt; valueList = null;\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            return null == value || valueList.contains(value.toUpperCase());\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(EnumValidator constraintAnnotation) {\r\n            valueList = new ArrayList&lt;&gt;();\r\n            Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = constraintAnnotation.enumClass();\r\n    \r\n            Enum[] enumValArr = enumClass.getEnumConstants();\r\n    \r\n            for(Enum enumVal : enumValArr) {\r\n                valueList.add(enumVal.toString().toUpperCase());\r\n            }\r\n    \r\n        }\r\n    }","title":"Java String validation using enum values and annotation","body":"<p>I take up Rajeev Singla's response <a href=\"https://stackoverflow.com/a/21070806/8923905\">https://stackoverflow.com/a/21070806/8923905</a>, just to optimize the code and allow the String parameter to be null, if in your application it is not mandatory and can be empty :</p>\n\n<p>1- Remove the @NotNull annotation on the Interface</p>\n\n<p>2- See the modified code below for the implementation.</p>\n\n<pre><code>public class EnumValidatorImpl implements ConstraintValidator &lt;EnumValidator,String&gt; {\n\n    private List&lt;String&gt; valueList = null;\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return null == value || valueList.contains(value.toUpperCase());\n    }\n\n    @Override\n    public void initialize(EnumValidator constraintAnnotation) {\n        valueList = new ArrayList&lt;&gt;();\n        Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = constraintAnnotation.enumClass();\n\n        Enum[] enumValArr = enumClass.getEnumConstants();\n\n        for(Enum enumVal : enumValArr) {\n            valueList.add(enumVal.toString().toUpperCase());\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5961604,"reputation":881,"user_id":4686611,"display_name":"GC001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537982662,"creation_date":1537982662,"answer_id":52523159,"question_id":6294587,"body_markdown":"Here is a detailed example with the feature of a dynamic error message\r\n by Hibernate Documentation\r\n\r\nhttps://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-customconstraints.html#validator-customconstraints-simple","title":"Java String validation using enum values and annotation","body":"<p>Here is a detailed example with the feature of a dynamic error message\n by Hibernate Documentation</p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-customconstraints.html#validator-customconstraints-simple\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-customconstraints.html#validator-customconstraints-simple</a></p>\n"},{"tags":[],"owner":{"account_id":9636750,"reputation":2702,"user_id":7152558,"display_name":"Mahesh_Loya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567240631,"creation_date":1567238574,"answer_id":57736257,"question_id":6294587,"body_markdown":"**Little bit of improvisation with Java 8 Stream API**\r\n\r\n    import static java.util.stream.Collectors.toList;\r\n    import static java.util.stream.Stream.of;\r\n    import java.util.List;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n\r\n    public class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, String&gt; \r\n    {\r\n\t  private List&lt;String&gt; valueList = null;\r\n\t  @Override\r\n\t  public boolean isValid(String value, ConstraintValidatorContext context) {\r\n\t\treturn valueList.contains(value.toUpperCase());\r\n\t  }\r\n\t  @Override\r\n\t  public void initialize(EnumValidator constraintAnnotation) {\r\n\t    valueList = of(constraintAnnotation.enumClazz().getEnumConstants()).map(e-&gt;e.toString()).collect(toList());\r\n\t  }\r\n    }\r\n\r\n","title":"Java String validation using enum values and annotation","body":"<p><strong>Little bit of improvisation with Java 8 Stream API</strong></p>\n\n<pre><code>import static java.util.stream.Collectors.toList;\nimport static java.util.stream.Stream.of;\nimport java.util.List;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, String&gt; \n{\n  private List&lt;String&gt; valueList = null;\n  @Override\n  public boolean isValid(String value, ConstraintValidatorContext context) {\n    return valueList.contains(value.toUpperCase());\n  }\n  @Override\n  public void initialize(EnumValidator constraintAnnotation) {\n    valueList = of(constraintAnnotation.enumClazz().getEnumConstants()).map(e-&gt;e.toString()).collect(toList());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8862485,"reputation":2155,"user_id":6618425,"display_name":"L&#233;o Schneider"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582893970,"creation_date":1582893970,"answer_id":60452007,"question_id":6294587,"body_markdown":"My attempt for a kotlin one:\r\n\r\n```\r\nimport javax.validation.Constraint\r\nimport javax.validation.ConstraintValidator\r\nimport javax.validation.ConstraintValidatorContext\r\nimport javax.validation.ReportAsSingleViolation\r\nimport javax.validation.constraints.NotNull\r\nimport kotlin.reflect.KClass\r\n\r\n@Constraint(validatedBy = [EnumValidatorImpl::class])\r\n@Retention(AnnotationRetention.RUNTIME)\r\n@Target(AnnotationTarget.FIELD)\r\n@NotNull(message = &quot;Value cannot be null&quot;)\r\n@ReportAsSingleViolation\r\nannotation class EnumValidator(val enumClazz: KClass&lt;*&gt;, val message: String = &quot;Value is not valid&quot;)\r\n\r\nclass EnumValidatorImpl(private var valueList: List&lt;String&gt;? = null) : ConstraintValidator&lt;EnumValidator, String&gt; {\r\n    override fun isValid(value: String?, context: ConstraintValidatorContext?): Boolean =\r\n            valueList?.contains(value?.toUpperCase()) ?: false\r\n\r\n    override fun initialize(constraintAnnotation: EnumValidator) {\r\n        valueList = constraintAnnotation.enumClazz.java.enumConstants.map { it.toString().toUpperCase() }\r\n    }\r\n}\r\n```","title":"Java String validation using enum values and annotation","body":"<p>My attempt for a kotlin one:</p>\n\n<pre><code>import javax.validation.Constraint\nimport javax.validation.ConstraintValidator\nimport javax.validation.ConstraintValidatorContext\nimport javax.validation.ReportAsSingleViolation\nimport javax.validation.constraints.NotNull\nimport kotlin.reflect.KClass\n\n@Constraint(validatedBy = [EnumValidatorImpl::class])\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FIELD)\n@NotNull(message = \"Value cannot be null\")\n@ReportAsSingleViolation\nannotation class EnumValidator(val enumClazz: KClass&lt;*&gt;, val message: String = \"Value is not valid\")\n\nclass EnumValidatorImpl(private var valueList: List&lt;String&gt;? = null) : ConstraintValidator&lt;EnumValidator, String&gt; {\n    override fun isValid(value: String?, context: ConstraintValidatorContext?): Boolean =\n            valueList?.contains(value?.toUpperCase()) ?: false\n\n    override fun initialize(constraintAnnotation: EnumValidator) {\n        valueList = constraintAnnotation.enumClazz.java.enumConstants.map { it.toString().toUpperCase() }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16129101,"reputation":189,"user_id":11643193,"display_name":"Jesus Hernandez Barrios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663640315,"creation_date":1663640315,"answer_id":73780977,"question_id":6294587,"body_markdown":"I know I&#39;m a little late to the party (11 years late to be exact), but I&#39;d still like to contribute.\r\n\r\nThe answers presented here are great, they solve the problem in most cases, but in my opinion they lack the personalization touch.\r\nWhat do I mean?\r\n\r\nAll solutions create the `ConstraintValidator&lt;EnumValidator, String&gt;` and implement the validation logic in it.\r\n\r\nAnd that is great, it solve the problem, but, what happens if I want to make the comparison by the toString() of the enum, or better, I have another one that I want to compare by the name, two different comparisons. For this, it would be necessary to implement a `ConstraintValidator` for each type of comparison that is needed, when in fact their logic is VERY similar.\r\n\r\nIn my particular case, a very old system had comparisons, some with `toUpperCase`, others with `toLoweCase`, others with `trim`, some with `name`, others with `toString`, total chaos, and the idea was to generalize all this in the same behavior.\r\n\r\nThe solution that I present to you combines the excellent answer of @Rajeev with the necessary customization to be able to reuse the `ConstraintValidator` and implement only one comparison method for each different enum.\r\n\r\n##### The general idea: Make the emun implement an interface to standardize the comparison.\r\n\r\nFirst of all, the @annotation, nothing fancy:\r\n\r\n```java\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\n\r\n@Target(value = ElementType.FIELD)\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = {EnumValidatorRegister_String.class})\r\npublic @interface EnumValidator {\r\n\r\n    String message() default &quot;Value is not present in enum list.&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n    public String detailMessage() default &quot;&quot;;\r\n\r\n    public Class&lt;? extends Enum&lt;?&gt;&gt; target();\r\n}\r\n\r\n```\r\nKeep in mind that the enum class will be presented in the `target` field.\r\n\r\nNow the interface to generalize the behavior:\r\n\r\n```java\r\npublic interface EnumValidatorComparator&lt;T&gt; {\r\n\r\n    public boolean test(T other);\r\n}\r\n```\r\nA general combination of these two elements results in an enum with the generalized comparison behavior inside it, which in case it changes would only affect said implementation and no other elements of the system.\r\n\r\n```java\r\npublic enum Type implements EnumValidatorComparator&lt;String&gt; {\r\n    a(&quot;a&quot;),\r\n    b(&quot;b&quot;),\r\n    c(&quot;c&quot;),\r\n    d(&quot;d&quot;),\r\n    e(&quot;e&quot;),\r\n    f(&quot;f&quot;),\r\n    g(&quot;g&quot;),\r\n    h(&quot;h&quot;),\r\n    i(&quot;i&quot;);\r\n\r\n    private final String name;\r\n\r\n    private Type(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public boolean test(String other) {\r\n        return this.toString().equalsIgnoreCase(other.trim().toLowerCase());\r\n    }\r\n\r\n}\r\n```\r\n\r\nFinally the `ConstraintValidator`, this is where the &#39;magic&#39; happens.\r\n\r\n```java\r\n\r\nimport java.util.function.BiPredicate;\r\nimport java.util.stream.Stream;\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.util.Assert;\r\n\r\n@Slf4j\r\npublic class EnumValidatorRegister_String implements ConstraintValidator&lt;EnumValidator, String&gt; {\r\n\r\n    //general comparator in case EnumValidator don&#39;t implement EnumValidatorComparator interface\r\n    private static BiPredicate&lt;? super Enum, String&gt; defaultComparison = (currentEnumValue, testValue) -&gt; {\r\n        return currentEnumValue.toString().equals(testValue);\r\n    };\r\n\r\n    //setter for default comparator\r\n    public static void setDefaultEnumComparator(BiPredicate&lt;? super Enum, String&gt; defaultComparison) {\r\n        Assert.notNull(defaultComparison, &quot;Default comparison can&#39;t be null&quot;);\r\n        EnumValidatorRegister_String.defaultComparison = defaultComparison;\r\n    }\r\n\r\n    //Enum class\r\n    private Class&lt;? extends Enum&lt;?&gt;&gt; clazz;\r\n    //values of enum\r\n    private Enum[] valuesArr;\r\n\r\n    @Override\r\n    public void initialize(EnumValidator _enum) {\r\n        ConstraintValidator.super.initialize(_enum);\r\n        clazz = _enum.target();\r\n        valuesArr = clazz.getEnumConstants();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String value, ConstraintValidatorContext context) {\r\n        boolean present;\r\n\r\n        //if enum&#39;s targes is assignable from EnumValidatorComparator, compare by the `.test`\r\n        if (EnumValidatorComparator.class.isAssignableFrom(clazz)) {\r\n            present = Stream.of(valuesArr).anyMatch((t) -&gt; {\r\n                return ((EnumValidatorComparator&lt;String&gt;) t).test(value);\r\n            });\r\n        } else { //if enum&#39;s targes is NOT assignable from EnumValidatorComparator, compare by the default\r\n            present = Stream.of(valuesArr).anyMatch((t) -&gt; {\r\n                return defaultComparison.test(t, value);\r\n            });\r\n        }\r\n\r\n        //if the value is NOT present, show custom error\r\n        if (!present) {\r\n            context.disableDefaultConstraintViolation();\r\n            context.buildConstraintViolationWithTemplate(\r\n                    String.format(\r\n                            &quot;&#39;%s&#39; is not one of the one of allowable values: %s&quot;.formatted(\r\n                                    value,\r\n                                    Stream.of(valuesArr).map((Object object) -&gt; {\r\n                                        return object.toString();\r\n                                    }).toList().toString()\r\n                            )\r\n                    )\r\n            ).addConstraintViolation();\r\n        }\r\n\r\n        return present;\r\n    }\r\n}\r\n\r\n```\r\nNote: `lombok` dependencies are used for `@Slf4j` for easy logging and `springframework`&#39;s `Assert` for validations of null value.\r\n\r\nits use is as simple as expected:\r\n```java\r\n    public class People {\r\n\r\n        @EnumValidator(target = Type.class)\r\n        private String name;\r\n        \r\n        private String someOtherField;\r\n        \r\n        //getters, setters and constructor\r\n    }\r\n```\r\n\r\nIn this way, if you have another enum with another comparison logic, it is as simple as creating said enum with its embedded logic, like:\r\n\r\n```java\r\npublic enum OtherType implements EnumValidatorComparator&lt;String&gt; {\r\n    A(&quot;A&quot;),\r\n    B(&quot;B&quot;),\r\n    C(&quot;C&quot;),\r\n    D(&quot;D&quot;),\r\n    E(&quot;E&quot;);\r\n\r\n    private final String name;\r\n\r\n    private OtherType(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public boolean test(String other) {\r\n        return this.toString().equals(other);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this way the `ConstraintValidator` it&#39;s reused along all application, and changes only affect the class responsible for them without breaking the rest of the system logic.\r\n\r\nBelieve it or not this solution guaranteed me a raise at work, I hope I do something similar for you. :+1:","title":"Java String validation using enum values and annotation","body":"<p>I know I'm a little late to the party (11 years late to be exact), but I'd still like to contribute.</p>\n<p>The answers presented here are great, they solve the problem in most cases, but in my opinion they lack the personalization touch.\nWhat do I mean?</p>\n<p>All solutions create the <code>ConstraintValidator&lt;EnumValidator, String&gt;</code> and implement the validation logic in it.</p>\n<p>And that is great, it solve the problem, but, what happens if I want to make the comparison by the toString() of the enum, or better, I have another one that I want to compare by the name, two different comparisons. For this, it would be necessary to implement a <code>ConstraintValidator</code> for each type of comparison that is needed, when in fact their logic is VERY similar.</p>\n<p>In my particular case, a very old system had comparisons, some with <code>toUpperCase</code>, others with <code>toLoweCase</code>, others with <code>trim</code>, some with <code>name</code>, others with <code>toString</code>, total chaos, and the idea was to generalize all this in the same behavior.</p>\n<p>The solution that I present to you combines the excellent answer of @Rajeev with the necessary customization to be able to reuse the <code>ConstraintValidator</code> and implement only one comparison method for each different enum.</p>\n<h5>The general idea: Make the emun implement an interface to standardize the comparison.</h5>\n<p>First of all, the @annotation, nothing fancy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target(value = ElementType.FIELD)\n@Retention(value = RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {EnumValidatorRegister_String.class})\npublic @interface EnumValidator {\n\n    String message() default &quot;Value is not present in enum list.&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    public String detailMessage() default &quot;&quot;;\n\n    public Class&lt;? extends Enum&lt;?&gt;&gt; target();\n}\n\n</code></pre>\n<p>Keep in mind that the enum class will be presented in the <code>target</code> field.</p>\n<p>Now the interface to generalize the behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EnumValidatorComparator&lt;T&gt; {\n\n    public boolean test(T other);\n}\n</code></pre>\n<p>A general combination of these two elements results in an enum with the generalized comparison behavior inside it, which in case it changes would only affect said implementation and no other elements of the system.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type implements EnumValidatorComparator&lt;String&gt; {\n    a(&quot;a&quot;),\n    b(&quot;b&quot;),\n    c(&quot;c&quot;),\n    d(&quot;d&quot;),\n    e(&quot;e&quot;),\n    f(&quot;f&quot;),\n    g(&quot;g&quot;),\n    h(&quot;h&quot;),\n    i(&quot;i&quot;);\n\n    private final String name;\n\n    private Type(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public boolean test(String other) {\n        return this.toString().equalsIgnoreCase(other.trim().toLowerCase());\n    }\n\n}\n</code></pre>\n<p>Finally the <code>ConstraintValidator</code>, this is where the 'magic' happens.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.function.BiPredicate;\nimport java.util.stream.Stream;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.util.Assert;\n\n@Slf4j\npublic class EnumValidatorRegister_String implements ConstraintValidator&lt;EnumValidator, String&gt; {\n\n    //general comparator in case EnumValidator don't implement EnumValidatorComparator interface\n    private static BiPredicate&lt;? super Enum, String&gt; defaultComparison = (currentEnumValue, testValue) -&gt; {\n        return currentEnumValue.toString().equals(testValue);\n    };\n\n    //setter for default comparator\n    public static void setDefaultEnumComparator(BiPredicate&lt;? super Enum, String&gt; defaultComparison) {\n        Assert.notNull(defaultComparison, &quot;Default comparison can't be null&quot;);\n        EnumValidatorRegister_String.defaultComparison = defaultComparison;\n    }\n\n    //Enum class\n    private Class&lt;? extends Enum&lt;?&gt;&gt; clazz;\n    //values of enum\n    private Enum[] valuesArr;\n\n    @Override\n    public void initialize(EnumValidator _enum) {\n        ConstraintValidator.super.initialize(_enum);\n        clazz = _enum.target();\n        valuesArr = clazz.getEnumConstants();\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        boolean present;\n\n        //if enum's targes is assignable from EnumValidatorComparator, compare by the `.test`\n        if (EnumValidatorComparator.class.isAssignableFrom(clazz)) {\n            present = Stream.of(valuesArr).anyMatch((t) -&gt; {\n                return ((EnumValidatorComparator&lt;String&gt;) t).test(value);\n            });\n        } else { //if enum's targes is NOT assignable from EnumValidatorComparator, compare by the default\n            present = Stream.of(valuesArr).anyMatch((t) -&gt; {\n                return defaultComparison.test(t, value);\n            });\n        }\n\n        //if the value is NOT present, show custom error\n        if (!present) {\n            context.disableDefaultConstraintViolation();\n            context.buildConstraintViolationWithTemplate(\n                    String.format(\n                            &quot;'%s' is not one of the one of allowable values: %s&quot;.formatted(\n                                    value,\n                                    Stream.of(valuesArr).map((Object object) -&gt; {\n                                        return object.toString();\n                                    }).toList().toString()\n                            )\n                    )\n            ).addConstraintViolation();\n        }\n\n        return present;\n    }\n}\n\n</code></pre>\n<p>Note: <code>lombok</code> dependencies are used for <code>@Slf4j</code> for easy logging and <code>springframework</code>'s <code>Assert</code> for validations of null value.</p>\n<p>its use is as simple as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class People {\n\n        @EnumValidator(target = Type.class)\n        private String name;\n        \n        private String someOtherField;\n        \n        //getters, setters and constructor\n    }\n</code></pre>\n<p>In this way, if you have another enum with another comparison logic, it is as simple as creating said enum with its embedded logic, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum OtherType implements EnumValidatorComparator&lt;String&gt; {\n    A(&quot;A&quot;),\n    B(&quot;B&quot;),\n    C(&quot;C&quot;),\n    D(&quot;D&quot;),\n    E(&quot;E&quot;);\n\n    private final String name;\n\n    private OtherType(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n\n    @Override\n    public boolean test(String other) {\n        return this.toString().equals(other);\n    }\n\n}\n</code></pre>\n<p>And this way the <code>ConstraintValidator</code> it's reused along all application, and changes only affect the class responsible for them without breaking the rest of the system logic.</p>\n<p>Believe it or not this solution guaranteed me a raise at work, I hope I do something similar for you. :+1:</p>\n"},{"tags":[],"owner":{"account_id":7891463,"reputation":61,"user_id":5961459,"display_name":"Ittai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677606478,"creation_date":1677606478,"answer_id":75595607,"question_id":6294587,"body_markdown":"I would like to add my two cents too.\r\n\r\nIn the proposed solutions the enum type member is replaced with a string to enable using (javax|jakarta).validation for validating it.\r\n\r\nI struggled with the same contemplation and had rather not change my enum attributes to strings, instead intercept the InvalidFormatException thrown by Jackson.\r\n\r\nI&#39;m using Spring boot rest controllers, and so the exception is caught by a controller advice.\r\n\r\nThe solution is written in Kotlin.\r\n\r\n    override fun handleHttpMessageNotReadable(\r\n        ex: HttpMessageNotReadableException,\r\n        headers: HttpHeaders,\r\n        status: HttpStatusCode,\r\n        request: WebRequest\r\n    ): ResponseEntity&lt;Any&gt;? {\r\n        return if (ex.cause is InvalidFormatException &amp;&amp; (ex.cause as InvalidFormatException).targetType.isEnum) {\r\n            val cause = ex.cause as InvalidFormatException\r\n            val invalidValue = cause.value\r\n            val enumClass = cause.targetType\r\n            val fieldPath = prettyJsonPath(cause.path)\r\n            val entries = enumClass.enumConstants.joinToString(&quot;, &quot;)\r\n            val apiError = ApiError(\r\n                status = HttpStatus.BAD_REQUEST,\r\n                message = &quot;Request is bad, please check provided errors.&quot;,\r\n                errors = listOf(&quot;Invalid value ($invalidValue) for $fieldPath, expected a value in [$entries].&quot;)\r\n            )\r\n            handleExceptionInternal(ex, apiError, headers, apiError.status, request)\r\n        } else {\r\n            super.handleHttpMessageNotReadable(ex, headers, status, request)\r\n        }\r\n    }\r\n\r\n    private fun prettyJsonPath(path: List&lt;JsonMappingException.Reference&gt;): String {\r\n        return path.mapIndexed { index, ref -&gt;\r\n            val dot = if (index == 0 || ref.index &gt;= 0) &quot;&quot; else &quot;.&quot;\r\n            val part = if (ref.index == -1) ref.fieldName else &quot;[${ref.index}]&quot;\r\n            return@mapIndexed &quot;$dot$part&quot;\r\n        }.joinToString(&quot;&quot;)\r\n    }","title":"Java String validation using enum values and annotation","body":"<p>I would like to add my two cents too.</p>\n<p>In the proposed solutions the enum type member is replaced with a string to enable using (javax|jakarta).validation for validating it.</p>\n<p>I struggled with the same contemplation and had rather not change my enum attributes to strings, instead intercept the InvalidFormatException thrown by Jackson.</p>\n<p>I'm using Spring boot rest controllers, and so the exception is caught by a controller advice.</p>\n<p>The solution is written in Kotlin.</p>\n<pre><code>override fun handleHttpMessageNotReadable(\n    ex: HttpMessageNotReadableException,\n    headers: HttpHeaders,\n    status: HttpStatusCode,\n    request: WebRequest\n): ResponseEntity&lt;Any&gt;? {\n    return if (ex.cause is InvalidFormatException &amp;&amp; (ex.cause as InvalidFormatException).targetType.isEnum) {\n        val cause = ex.cause as InvalidFormatException\n        val invalidValue = cause.value\n        val enumClass = cause.targetType\n        val fieldPath = prettyJsonPath(cause.path)\n        val entries = enumClass.enumConstants.joinToString(&quot;, &quot;)\n        val apiError = ApiError(\n            status = HttpStatus.BAD_REQUEST,\n            message = &quot;Request is bad, please check provided errors.&quot;,\n            errors = listOf(&quot;Invalid value ($invalidValue) for $fieldPath, expected a value in [$entries].&quot;)\n        )\n        handleExceptionInternal(ex, apiError, headers, apiError.status, request)\n    } else {\n        super.handleHttpMessageNotReadable(ex, headers, status, request)\n    }\n}\n\nprivate fun prettyJsonPath(path: List&lt;JsonMappingException.Reference&gt;): String {\n    return path.mapIndexed { index, ref -&gt;\n        val dot = if (index == 0 || ref.index &gt;= 0) &quot;&quot; else &quot;.&quot;\n        val part = if (ref.index == -1) ref.fieldName else &quot;[${ref.index}]&quot;\n        return@mapIndexed &quot;$dot$part&quot;\n    }.joinToString(&quot;&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":415982,"reputation":970,"user_id":791104,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139452,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":6360458,"answer_count":10,"score":49,"last_activity_date":1677606478,"creation_date":1307630270,"question_id":6294587,"body_markdown":"I want to validate a string against a set of values using annotations.\r\n\r\nWhat I want is basically this:\r\n\r\n    @ValidateString(enumClass=com.co.enum)\r\n    String dataType;\r\n    \r\n    int maxValue;\r\n    int minValue;\r\n    int precision;\r\n\r\nor\r\n\r\n    @ValidateString(values={&quot;String&quot;,&quot;Boolean&quot;, &quot;Integer&quot;})\r\n    String dataType;\r\n    \r\n    int maxValue;\r\n    int minValue;\r\n    int precision;\r\n\r\n&lt;br&gt;\r\nI also want to do some validation on other variables depending upon the value set in `dataType`:\r\n\r\n    if (dataType = &quot;String&quot;) {\r\n        // maxValue, minValue, precision all should be null or zero\r\n    }\r\n\r\n&lt;br&gt;\r\nI can&#39;t think of a way to achieve this by custom annotations.  \r\nSomebody please help me.\r\n\r\n","title":"Java String validation using enum values and annotation","body":"<p>I want to validate a string against a set of values using annotations.</p>\n\n<p>What I want is basically this:</p>\n\n<pre><code>@ValidateString(enumClass=com.co.enum)\nString dataType;\n\nint maxValue;\nint minValue;\nint precision;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@ValidateString(values={\"String\",\"Boolean\", \"Integer\"})\nString dataType;\n\nint maxValue;\nint minValue;\nint precision;\n</code></pre>\n\n<p><br>\nI also want to do some validation on other variables depending upon the value set in <code>dataType</code>:</p>\n\n<pre><code>if (dataType = \"String\") {\n    // maxValue, minValue, precision all should be null or zero\n}\n</code></pre>\n\n<p><br>\nI can't think of a way to achieve this by custom annotations.<br>\nSomebody please help me.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677605029,"creation_date":1677591962,"answer_id":75592916,"question_id":75591704,"body_markdown":"I would suggest avoid using a while loop (that keeps on running for nothing).\r\n\r\nInstead, you can use a recursive function call.\r\n\r\n1. Creating the buttons array:\r\n\r\n```Java\r\nbt1=findViewById(R.id.button);\r\nbt2=findViewById(R.id.button2);\r\nbt3=findViewById(R.id.button3);\r\nbt4=findViewById(R.id.button4);\r\n\r\nButton[]all={bt1,bt2,bt3,bt4};\r\nArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;(Arrays.asList(all));\r\n```\r\n\r\n2. Shuffle the array\r\n```Java\r\nCollections.shuffle(arr_new);\r\n```\r\n\r\n3. Now that you have a randomly ordered array of buttons, you can simply take the first one (it was randomly picked to be the first...), wait for a click, remove it from the list and again.. take the first one, click, remove..\r\n\r\n4. Let&#39;s define the recursive function. It calls itself until no more buttons left in the shuffled array:\r\n\r\n```Java\r\nvoid untilAllSelected(ArrayList&lt;Button&gt; buttons) {\r\n    \r\n    // Check if not more buttons - this means we clicked all of them..\r\n    if (buttons.isEmpty()) {\r\n        return;\r\n    }\r\n    \r\n    // Set the clicked button color\r\n    buttons.get(0).setBackgroundColor(Color.RED);\r\n    // Set a click listener on the first button\r\n    buttons.get(0).setOnClickListener(v -&gt; {\r\n        // When clicked - remove the listener to avoid feature clicks\r\n        v.setOnClickListener(null);\r\n        \r\n        // Remove the clicked button from the list\r\n        buttons.remove(0);\r\n        \r\n        // Recursively call the function with the buttons list (which is now 1 button shorter)\r\n        untilAllSelected(buttons);\r\n    });\r\n}\r\n```\r\n\r\n5. Last thing, call the recursive function. Here&#39;s the complete code:\r\n\r\n\r\n```Java\r\n\r\nButton bt1,bt2,bt3,bt4,bt5;\r\nTextView text;\r\nRandom random = new Random();\r\n\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    bt1=findViewById(R.id.button);\r\n    bt2=findViewById(R.id.button2);\r\n    bt3=findViewById(R.id.button3);\r\n    bt4=findViewById(R.id.button4);\r\n\r\n     Button[]all={bt1,bt2,bt3,bt4};\r\n     ArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;(Arrays.asList(all));\r\n     Collections.shuffle(arr_new);\r\n\r\n     untilAllSelected(arr_new);\r\n}\r\n\r\nvoid untilAllSelected(ArrayList&lt;Button&gt; buttons) {\r\n    if (buttons.isEmpty()) {\r\n        return;\r\n    }\r\n\r\n    buttons.get(0).setBackgroundColor(Color.RED);\r\n    buttons.get(0).setOnClickListener(v -&gt; {\r\n        v.setOnClickListener(null);\r\n        buttons.remove(0);\r\n        untilAllSelected(buttons);\r\n    });\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Onclick listener object does not change when click | android","body":"<p>I would suggest avoid using a while loop (that keeps on running for nothing).</p>\n<p>Instead, you can use a recursive function call.</p>\n<ol>\n<li>Creating the buttons array:</li>\n</ol>\n<pre><code>bt1=findViewById(R.id.button);\nbt2=findViewById(R.id.button2);\nbt3=findViewById(R.id.button3);\nbt4=findViewById(R.id.button4);\n\nButton[]all={bt1,bt2,bt3,bt4};\nArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;(Arrays.asList(all));\n</code></pre>\n<ol start=\"2\">\n<li>Shuffle the array</li>\n</ol>\n<pre><code>Collections.shuffle(arr_new);\n</code></pre>\n<ol start=\"3\">\n<li><p>Now that you have a randomly ordered array of buttons, you can simply take the first one (it was randomly picked to be the first...), wait for a click, remove it from the list and again.. take the first one, click, remove..</p>\n</li>\n<li><p>Let's define the recursive function. It calls itself until no more buttons left in the shuffled array:</p>\n</li>\n</ol>\n<pre><code>void untilAllSelected(ArrayList&lt;Button&gt; buttons) {\n    \n    // Check if not more buttons - this means we clicked all of them..\n    if (buttons.isEmpty()) {\n        return;\n    }\n    \n    // Set the clicked button color\n    buttons.get(0).setBackgroundColor(Color.RED);\n    // Set a click listener on the first button\n    buttons.get(0).setOnClickListener(v -&gt; {\n        // When clicked - remove the listener to avoid feature clicks\n        v.setOnClickListener(null);\n        \n        // Remove the clicked button from the list\n        buttons.remove(0);\n        \n        // Recursively call the function with the buttons list (which is now 1 button shorter)\n        untilAllSelected(buttons);\n    });\n}\n</code></pre>\n<ol start=\"5\">\n<li>Last thing, call the recursive function. Here's the complete code:</li>\n</ol>\n<pre><code>\nButton bt1,bt2,bt3,bt4,bt5;\nTextView text;\nRandom random = new Random();\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    bt1=findViewById(R.id.button);\n    bt2=findViewById(R.id.button2);\n    bt3=findViewById(R.id.button3);\n    bt4=findViewById(R.id.button4);\n\n     Button[]all={bt1,bt2,bt3,bt4};\n     ArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;(Arrays.asList(all));\n     Collections.shuffle(arr_new);\n\n     untilAllSelected(arr_new);\n}\n\nvoid untilAllSelected(ArrayList&lt;Button&gt; buttons) {\n    if (buttons.isEmpty()) {\n        return;\n    }\n\n    buttons.get(0).setBackgroundColor(Color.RED);\n    buttons.get(0).setOnClickListener(v -&gt; {\n        v.setOnClickListener(null);\n        buttons.remove(0);\n        untilAllSelected(buttons);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":27899238,"reputation":15,"user_id":21303872,"display_name":"seven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75592916,"answer_count":1,"score":1,"last_activity_date":1677606238,"creation_date":1677585118,"question_id":75591704,"body_markdown":"So  I have four buttons in a page and I want system randomly select one button at first and when user click on it, the system will randomly select another button again without duplicate until all the button has been clicked by user. But I don&#39;t know what is wrong with my code that it can only listen to the first button&#39;s action. Only when I click on the first button that selected by the system then it will do the actions.\r\n\r\n\r\n\r\nHere is my code, thanks in advance:\r\n\r\n```\r\nButton bt1,bt2,bt3,bt4,bt5;\r\nTextView text;\r\nRandom random = new Random();\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        bt1=findViewById(R.id.button);\r\n        bt2=findViewById(R.id.button2);\r\n        bt3=findViewById(R.id.button3);\r\n        bt4=findViewById(R.id.button4);\r\n\r\n        Button[]all={bt1,bt2,bt3,bt4};\r\n        ArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;();\r\n        for (Button i : all)\r\n        {\r\n            arr_new.add(i);\r\n        }\r\n\r\n        while(!arr_new.contains(bt5)) {\r\n            bt5 = arr_new.get(random.nextInt(all.length));\r\n            bt5.setBackgroundColor(Color.RED);\r\n            bt5.setOnClickListener(v -&gt; {\r\n                arr_new.remove(bt5);\r\n                bt5 = arr_new.get(random.nextInt(arr_new.size()));\r\n\r\n                bt5.setBackgroundColor(Color.RED);\r\n\r\n            });\r\n}\r\n}\r\n```","title":"Onclick listener object does not change when click | android","body":"<p>So  I have four buttons in a page and I want system randomly select one button at first and when user click on it, the system will randomly select another button again without duplicate until all the button has been clicked by user. But I don't know what is wrong with my code that it can only listen to the first button's action. Only when I click on the first button that selected by the system then it will do the actions.</p>\n<p>Here is my code, thanks in advance:</p>\n<pre><code>Button bt1,bt2,bt3,bt4,bt5;\nTextView text;\nRandom random = new Random();\nprotected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bt1=findViewById(R.id.button);\n        bt2=findViewById(R.id.button2);\n        bt3=findViewById(R.id.button3);\n        bt4=findViewById(R.id.button4);\n\n        Button[]all={bt1,bt2,bt3,bt4};\n        ArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;();\n        for (Button i : all)\n        {\n            arr_new.add(i);\n        }\n\n        while(!arr_new.contains(bt5)) {\n            bt5 = arr_new.get(random.nextInt(all.length));\n            bt5.setBackgroundColor(Color.RED);\n            bt5.setOnClickListener(v -&gt; {\n                arr_new.remove(bt5);\n                bt5 = arr_new.get(random.nextInt(arr_new.size()));\n\n                bt5.setBackgroundColor(Color.RED);\n\n            });\n}\n}\n</code></pre>\n"},{"tags":["java","android","floating-action-button"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677605717,"creation_date":1677605717,"answer_id":75595491,"question_id":75595058,"body_markdown":"Try this once \r\n\r\n\r\n    public void ImageButtonChange1(View view){\r\n            FloatingActionButton imageButton = new FloatingActionButton(getApplicationContext());\r\n            imageButton.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                public void onClick(View view)\r\n                {\r\n                    boolean flag = true;\r\n                    if (flag) {\r\n        imageButton.setImageDrawable(ContextCompat.getDrawable(getApplicationContext() , R.drawable.microphone_off));\r\n                        flag = false;\r\n                    } else {\r\n                   \r\n        imageButton.setImageDrawable(ContextCompat.getDrawable(getApplicationContext() , R.drawable.microphone_active));\r\n                        flag = true;\r\n                    }\r\n                }\r\n            });\r\n\r\n","title":"Image in FloatingActionButton has to be changed on click and back","body":"<p>Try this once</p>\n<pre><code>public void ImageButtonChange1(View view){\n        FloatingActionButton imageButton = new FloatingActionButton(getApplicationContext());\n        imageButton.setOnClickListener(new View.OnClickListener()\n        {\n            public void onClick(View view)\n            {\n                boolean flag = true;\n                if (flag) {\n    imageButton.setImageDrawable(ContextCompat.getDrawable(getApplicationContext() , R.drawable.microphone_off));\n                    flag = false;\n                } else {\n               \n    imageButton.setImageDrawable(ContextCompat.getDrawable(getApplicationContext() , R.drawable.microphone_active));\n                    flag = true;\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":27882238,"reputation":1,"user_id":21290458,"display_name":"ProGaMEr110 521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677605717,"creation_date":1677603208,"question_id":75595058,"body_markdown":"    public void ImageButtonChange1(View view){\r\n        FloatingActionButton imageButton = new FloatingActionButton(getApplicationContext());\r\n        imageButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            public void onClick(View view)\r\n            {\r\n                boolean flag = true;\r\n                if (flag) {\r\n                    imageButton.setImageResource(R.drawable.microphone_off);\r\n                    flag = false;\r\n                } else {\r\n                    imageButton.setImageResource(R.drawable.microphone_active);\r\n                    flag = true;\r\n                }\r\n            }\r\n        });\r\n\r\nWhat&#39;s wrong in my code that the application is crashing. I&#39;ve tried almost everything i think\r\n\r\n","title":"Image in FloatingActionButton has to be changed on click and back","body":"<pre><code>public void ImageButtonChange1(View view){\n    FloatingActionButton imageButton = new FloatingActionButton(getApplicationContext());\n    imageButton.setOnClickListener(new View.OnClickListener()\n    {\n        public void onClick(View view)\n        {\n            boolean flag = true;\n            if (flag) {\n                imageButton.setImageResource(R.drawable.microphone_off);\n                flag = false;\n            } else {\n                imageButton.setImageResource(R.drawable.microphone_active);\n                flag = true;\n            }\n        }\n    });\n</code></pre>\n<p>What's wrong in my code that the application is crashing. I've tried almost everything i think</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":27902301,"reputation":56,"user_id":21306326,"display_name":"agiletom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677605629,"creation_date":1677605629,"answer_id":75595476,"question_id":75518588,"body_markdown":"Try changing the &quot;headless&quot; option to &quot;--headless=new&quot;\r\n\r\nThis recently changed in Chrome 109\r\n\r\nhttps://www.selenium.dev/blog/2023/headless-is-going-away/\r\n\r\nhttps://developer.chrome.com/articles/new-headless/","title":"Files are not downloading in the specifed download directory in chrome-headless and selenium java","body":"<p>Try changing the &quot;headless&quot; option to &quot;--headless=new&quot;</p>\n<p>This recently changed in Chrome 109</p>\n<p><a href=\"https://www.selenium.dev/blog/2023/headless-is-going-away/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/blog/2023/headless-is-going-away/</a></p>\n<p><a href=\"https://developer.chrome.com/articles/new-headless/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/articles/new-headless/</a></p>\n"}],"owner":{"account_id":3220103,"reputation":153,"user_id":2717774,"accept_rate":80,"display_name":"Koushic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75595476,"answer_count":1,"score":2,"last_activity_date":1677605629,"creation_date":1676972039,"question_id":75518588,"body_markdown":"During the test, a file(.pdf) will be downloaded from the web application and i have to verify whether the file is downloaded or not under a specific path. But whenever I&#39;m going to headless mode, the file is not getting downloaded to the download path (i.e. pointed in the &quot;download.default_directory&quot;). Instead it is getting downloaded to the &quot;user.dir&quot;(&#39;/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;).\r\nChrome version : 110.0.5481.100 ; OS : Ubuntu 20.04\r\nBelow is my code which is used to invoke chrome-headless,\r\n\r\n    public WebDriver createInstance(String browser) {\r\n    WebDriver driverInstance = null;\r\n    try {\r\n      if (browser.equalsIgnoreCase(&quot;chrome-headless&quot;)) {\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeOptions options = new ChromeOptions();\r\n\r\n        HashMap &lt; String, Object &gt; hashmap = new HashMap &lt; &gt; ();\r\n        hashmap.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n        hashmap.put(&quot;download.prompt_for_download&quot;, &quot;false&quot;);\r\n        hashmap.put(&quot;download.default_directory&quot;, &#39;/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;/src/main/resources&#39;);\r\n        hashmap.put(&quot;browser.set_download_behavior&quot;, &quot;{ behavior: &#39;allow&#39; , downloadPath: &#39;/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;/src/main/resources&#39;}&quot;);\r\n\r\n        options.setExperimentalOption(&quot;prefs&quot;, hashmap);\r\n\r\n        options.addArguments(&quot;start-maximized&quot;);\r\n        options.addArguments(&quot;window-size=1920,1080&quot;);\r\n\r\n        options.addArguments(&quot;headless&quot;);\r\n        options.addArguments(&quot;--no-sandbox&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n        options.addArguments(&quot;--allow-insecure-localhost&quot;);\r\n\r\n        options.setAcceptInsecureCerts(true);\r\n        driverInstance = new ChromeDriver(options);\r\n      }\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n    return driverInstance;\r\n\r\n","title":"Files are not downloading in the specifed download directory in chrome-headless and selenium java","body":"<p>During the test, a file(.pdf) will be downloaded from the web application and i have to verify whether the file is downloaded or not under a specific path. But whenever I'm going to headless mode, the file is not getting downloaded to the download path (i.e. pointed in the &quot;download.default_directory&quot;). Instead it is getting downloaded to the &quot;user.dir&quot;('/home/&lt;&gt;/git/bb-cloud/&lt;&gt;).\nChrome version : 110.0.5481.100 ; OS : Ubuntu 20.04\nBelow is my code which is used to invoke chrome-headless,</p>\n<pre><code>public WebDriver createInstance(String browser) {\nWebDriver driverInstance = null;\ntry {\n  if (browser.equalsIgnoreCase(&quot;chrome-headless&quot;)) {\n    WebDriverManager.chromedriver().setup();\n    ChromeOptions options = new ChromeOptions();\n\n    HashMap &lt; String, Object &gt; hashmap = new HashMap &lt; &gt; ();\n    hashmap.put(&quot;profile.default_content_settings.popups&quot;, 0);\n    hashmap.put(&quot;download.prompt_for_download&quot;, &quot;false&quot;);\n    hashmap.put(&quot;download.default_directory&quot;, '/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;/src/main/resources');\n    hashmap.put(&quot;browser.set_download_behavior&quot;, &quot;{ behavior: 'allow' , downloadPath: '/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;/src/main/resources'}&quot;);\n\n    options.setExperimentalOption(&quot;prefs&quot;, hashmap);\n\n    options.addArguments(&quot;start-maximized&quot;);\n    options.addArguments(&quot;window-size=1920,1080&quot;);\n\n    options.addArguments(&quot;headless&quot;);\n    options.addArguments(&quot;--no-sandbox&quot;);\n    options.addArguments(&quot;--disable-gpu&quot;);\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    options.addArguments(&quot;--allow-insecure-localhost&quot;);\n\n    options.setAcceptInsecureCerts(true);\n    driverInstance = new ChromeDriver(options);\n  }\n} catch (Exception e) {\n  e.printStackTrace();\n}\nreturn driverInstance;\n</code></pre>\n"},{"tags":["java","mockito","quarkus","mutiny"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1677655306,"post_id":75595238,"comment_id":133378579,"body_markdown":"You cannot inject a channel as a MutinyEmitter (it&#39;s not the same type of emitter). Also, I would recommend using the in-memory trick to test your emitter: https://smallrye.io/smallrye-reactive-messaging/4.4.0/concepts/testing/","body":"You cannot inject a channel as a MutinyEmitter (it&#39;s not the same type of emitter). Also, I would recommend using the in-memory trick to test your emitter: <a href=\"https://smallrye.io/smallrye-reactive-messaging/4.4.0/concepts/testing/\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-reactive-messaging/4.4.0/concepts/testi&zwnj;&#8203;ng</a>"}],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677604273,"creation_date":1677604273,"question_id":75595238,"body_markdown":"I&#39;m trying to unit test a class that uses `MutinyEmitter` to send messages. It looks like this:\r\n\r\n```java\r\npublic class PaymentReversalService {\r\n  @Inject\r\n  @Channel(&quot;payment-reversal-out&quot;)\r\n  MutinyEmitter&lt;Payment&gt; emitter;\r\n\r\n  public Uni&lt;Payment&gt; reverse(String paymentId) {\r\n    // Imagine that createPaymentReversal() is a private method that does all the hard work\r\n    Payment payment = createPaymentReversal(paymentId);\r\n    return emitter.send(payment);\r\n  }\r\n}\r\n```\r\n\r\nIn my test, I want to use Mockito to mock the emitter and check if the message is being sent correctly. So far, I have been mocking my dependencies using the `@InjectMock` annotation. But it doesn&#39;t seem to work with `MutinyEmitter`. \r\n\r\nI try to inject the mock like this:\r\n```java\r\n@InjectMock\r\n@Channel(&quot;payment-reversal-out&quot;)\r\nMutinyEmitter&lt;Payment&gt; emitter;\r\n```\r\n\r\nBut then I get this exception:\r\n\r\n```\r\norg.junit.jupiter.api.extension.TestInstantiationException: Failed to create test instance\r\n...\r\nCaused by: java.lang.IllegalStateException: Invalid use of io.quarkus.test.junit.mockito.InjectMock - the injected bean does not declare a CDI normal scope but: javax.enterprise.context.Dependent. Offending field is emitter of test class class br.com.bank.regag.bar-payment.reversal.service.PaymentReversalServiceTest\r\n```\r\n\r\nHow can I fix this? Or which other path can I take to test this class?","title":"How to mock a MutinyEmitter in Quarkus?","body":"<p>I'm trying to unit test a class that uses <code>MutinyEmitter</code> to send messages. It looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PaymentReversalService {\n  @Inject\n  @Channel(&quot;payment-reversal-out&quot;)\n  MutinyEmitter&lt;Payment&gt; emitter;\n\n  public Uni&lt;Payment&gt; reverse(String paymentId) {\n    // Imagine that createPaymentReversal() is a private method that does all the hard work\n    Payment payment = createPaymentReversal(paymentId);\n    return emitter.send(payment);\n  }\n}\n</code></pre>\n<p>In my test, I want to use Mockito to mock the emitter and check if the message is being sent correctly. So far, I have been mocking my dependencies using the <code>@InjectMock</code> annotation. But it doesn't seem to work with <code>MutinyEmitter</code>.</p>\n<p>I try to inject the mock like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InjectMock\n@Channel(&quot;payment-reversal-out&quot;)\nMutinyEmitter&lt;Payment&gt; emitter;\n</code></pre>\n<p>But then I get this exception:</p>\n<pre><code>org.junit.jupiter.api.extension.TestInstantiationException: Failed to create test instance\n...\nCaused by: java.lang.IllegalStateException: Invalid use of io.quarkus.test.junit.mockito.InjectMock - the injected bean does not declare a CDI normal scope but: javax.enterprise.context.Dependent. Offending field is emitter of test class class br.com.bank.regag.bar-payment.reversal.service.PaymentReversalServiceTest\n</code></pre>\n<p>How can I fix this? Or which other path can I take to test this class?</p>\n"},{"tags":["java","eclipse","ide","getter-setter"],"comments":[{"owner":{"account_id":14871245,"reputation":347,"user_id":10738788,"display_name":"deepakbhavale67"},"score":0,"creation_date":1548777068,"post_id":8682826,"comment_id":95659807,"body_markdown":"Yes it does. For Eclipse : Right click on class -&gt; Source -&gt; Generate getter/setter and \nFor Netbeans :  Right click   in class -&gt; insert code-&gt; setter/getter.","body":"Yes it does. For Eclipse : Right click on class -&gt; Source -&gt; Generate getter/setter and  For Netbeans :  Right click   in class -&gt; insert code-&gt; setter/getter."},{"owner":{"account_id":6707065,"reputation":343,"user_id":8422509,"display_name":"Steferson Ferreira"},"score":0,"creation_date":1608155297,"post_id":8682826,"comment_id":115499945,"body_markdown":"Yes Netbeans -&gt; https://coderwall.com/p/oyanzg/auto-generate-get-set-constructor-functions-in-netbeans","body":"Yes Netbeans -&gt; <a href=\"https://coderwall.com/p/oyanzg/auto-generate-get-set-constructor-functions-in-netbeans\" rel=\"nofollow noreferrer\">coderwall.com/p/oyanzg/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325271394,"creation_date":1325271394,"answer_id":8682931,"question_id":8682826,"body_markdown":"IntelliJ IDEA can also generate getters and setters and it is much better than Eclipse (flamesuite on!). Data holding classes can be more memory efficient than HashMaps as you can use primitives to hold values (int) instead of wrapper classes (Integer).","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>IntelliJ IDEA can also generate getters and setters and it is much better than Eclipse (flamesuite on!). Data holding classes can be more memory efficient than HashMaps as you can use primitives to hold values (int) instead of wrapper classes (Integer).</p>\n"},{"tags":[],"owner":{"account_id":350242,"reputation":2461,"user_id":685979,"accept_rate":75,"display_name":"neo"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1325271428,"creation_date":1325271428,"answer_id":8682936,"question_id":8682826,"body_markdown":"Yes. Eclipse Does this. To generate setter/getter, select the class in package explorer, right click -&gt; Source -&gt; Generate getter/setting.\r\n\r\nNetbean also does this. Right click anywhere inside your class -&gt; insert code-&gt; setter/getter.\r\n\r\nwe do that to encapsulate the implementation details. you can find more explanations https://stackoverflow.com/questions/2252573/why-use-getters-and-setters  \r\n","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>Yes. Eclipse Does this. To generate setter/getter, select the class in package explorer, right click -> Source -> Generate getter/setting.</p>\n\n<p>Netbean also does this. Right click anywhere inside your class -> insert code-> setter/getter.</p>\n\n<p>we do that to encapsulate the implementation details. you can find more explanations <a href=\"https://stackoverflow.com/questions/2252573/why-use-getters-and-setters\">Why use getters and setters</a>  </p>\n"},{"tags":[],"owner":{"account_id":382395,"reputation":1169,"user_id":737591,"accept_rate":60,"display_name":"csviri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325271481,"creation_date":1325271481,"answer_id":8682944,"question_id":8682826,"body_markdown":"1. Yes All (IDEA,Eclipse,Netbeas at least) the current IDEs support generating setter and getter methods.\r\n\r\n2. I think POJO&#39;s has lots of advantages against using just simple hash maps. Since there are frameworks that support their validation, easily can be mapped to database tables, pojo classes specifies clearly your domain model on which you are operating, could be analyzed at runtime using reflection, etc... \r\n\r\n","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<ol>\n<li><p>Yes All (IDEA,Eclipse,Netbeas at least) the current IDEs support generating setter and getter methods.</p></li>\n<li><p>I think POJO's has lots of advantages against using just simple hash maps. Since there are frameworks that support their validation, easily can be mapped to database tables, pojo classes specifies clearly your domain model on which you are operating, could be analyzed at runtime using reflection, etc... </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1112852,"reputation":7005,"user_id":1102962,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325271486,"creation_date":1325271486,"answer_id":8682945,"question_id":8682826,"body_markdown":"Most modern IDEs come with some form of code generation tools. Netbeans certainly does.\r\n\r\nIf you want a class to hold specific data, consider your need for validation. If you don&#39;t plan on validating the data (hint: you should), then skip the get/set methods and make the field public.\r\n\r\nIn the end, there&#39;s really no definite answer to this question. Java&#39;s built-in collections are useful because they&#39;re flexible and readily available, but if you want extra validation then you have to do it yourself or wrap the collection with validation methods. Objects dedicated to specific data gain the advantage of immediate validation and might have less overhead, but that&#39;s extra code to maintain and you could end up with a lot of classes that really don&#39;t do much.","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>Most modern IDEs come with some form of code generation tools. Netbeans certainly does.</p>\n\n<p>If you want a class to hold specific data, consider your need for validation. If you don't plan on validating the data (hint: you should), then skip the get/set methods and make the field public.</p>\n\n<p>In the end, there's really no definite answer to this question. Java's built-in collections are useful because they're flexible and readily available, but if you want extra validation then you have to do it yourself or wrap the collection with validation methods. Objects dedicated to specific data gain the advantage of immediate validation and might have less overhead, but that's extra code to maintain and you could end up with a lot of classes that really don't do much.</p>\n"},{"tags":[],"owner":{"account_id":10523923,"reputation":15,"user_id":7755497,"display_name":"Pranay Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496250788,"creation_date":1496250788,"answer_id":44290954,"question_id":8682826,"body_markdown":" Press Alt+Shift+S, then R\r\nthis is a shortcut for  right click -&gt; Source -&gt; Generate getter/setting.","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>Press Alt+Shift+S, then R\nthis is a shortcut for  right click -> Source -> Generate getter/setting.</p>\n"},{"tags":[],"owner":{"account_id":7708814,"reputation":24811,"user_id":5838902,"display_name":"Fangming"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1548775509,"creation_date":1508628752,"answer_id":46869117,"question_id":8682826,"body_markdown":"# Try this on Eclipse\nRight click the file -&gt; Source -&gt; Generate Getters and Setters\n\n[![enter image description here][1]][1]\n\n\n# Try this on IDEA\nRight click anywhere in the file -&gt; Generate -&gt; Getter and Setter\n\n[![enter image description here][2]][2]\n\n\n  [1]: https://i.stack.imgur.com/WwYjC.gif\n  [2]: https://i.stack.imgur.com/0WBv3.gif","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<h1>Try this on Eclipse</h1>\n<p>Right click the file -&gt; Source -&gt; Generate Getters and Setters</p>\n<p><a href=\"https://i.stack.imgur.com/WwYjC.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WwYjC.gif\" alt=\"enter image description here\" /></a></p>\n<h1>Try this on IDEA</h1>\n<p>Right click anywhere in the file -&gt; Generate -&gt; Getter and Setter</p>\n<p><a href=\"https://i.stack.imgur.com/0WBv3.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0WBv3.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677604103,"creation_date":1677604103,"answer_id":75595211,"question_id":8682826,"body_markdown":"In IntelliJ IDEA:\r\n\r\n1. &lt;kbd&gt;Right click&lt;/kbd&gt; anywhere in the code and choose `Generate...`  \r\nor  \r\nPress &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Insert&lt;/kbd&gt;\r\n\r\n[![Right click anywhere in the code][1]][1]\r\n\r\n2. Choose `Getter and Setter`\r\n\r\n[![Choose `Getter and Setter`][2]][2]\r\n\r\n3. Select the fields you want to add Getters and Setters to and press `OK`.\r\n\r\n[![Select the fields][3]][3]\r\n\r\n*Tested in IntelliJ IDEA 2022 (Ultimate Edition)*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/06aRs.png\r\n  [2]: https://i.stack.imgur.com/7na34.png\r\n  [3]: https://i.stack.imgur.com/vh8dZ.png","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>In IntelliJ IDEA:</p>\n<ol>\n<li><kbd>Right click</kbd> anywhere in the code and choose <code>Generate...</code><br />\nor<br />\nPress <kbd>Alt</kbd> + <kbd>Insert</kbd></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/06aRs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/06aRs.png\" alt=\"Right click anywhere in the code\" /></a></p>\n<ol start=\"2\">\n<li>Choose <code>Getter and Setter</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/7na34.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7na34.png\" alt=\"Choose Getter and Setter\" /></a></p>\n<ol start=\"3\">\n<li>Select the fields you want to add Getters and Setters to and press <code>OK</code>.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/vh8dZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vh8dZ.png\" alt=\"Select the fields\" /></a></p>\n<p><em>Tested in IntelliJ IDEA 2022 (Ultimate Edition)</em></p>\n"}],"owner":{"account_id":413918,"reputation":3157,"user_id":787832,"accept_rate":75,"display_name":"Steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37964,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":8682936,"answer_count":7,"score":9,"last_activity_date":1677604103,"creation_date":1325270662,"question_id":8682826,"body_markdown":"I think the creation of holder classes, classes with just attritutes, get methods and set methods can be autogenerated.  \r\n\r\nI understand that Eclipse is a defacto &quot;standard&quot; Java IDE these days.   \r\nDoes Eclipse do this?  \r\nDo other IDEs?\r\n\r\nI&#39;m guessing the only reasons for making dedicated data holding classes instead of using HashMaps is to have mixed datatypes in a more visible/safter way and for the occasion when you want to DO something to the data when inserting it or retrieving it.  Thoughts?","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>I think the creation of holder classes, classes with just attritutes, get methods and set methods can be autogenerated.</p>\n<p>I understand that Eclipse is a defacto &quot;standard&quot; Java IDE these days.<br />\nDoes Eclipse do this?<br />\nDo other IDEs?</p>\n<p>I'm guessing the only reasons for making dedicated data holding classes instead of using HashMaps is to have mixed datatypes in a more visible/safter way and for the occasion when you want to DO something to the data when inserting it or retrieving it.  Thoughts?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"score":0,"creation_date":1499672900,"post_id":45006266,"comment_id":76986343,"body_markdown":"Please share your source-code Application class.","body":"Please share your source-code Application class."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":1,"creation_date":1499673116,"post_id":45006266,"comment_id":76986454,"body_markdown":"Add `@EnableMongoRepositories(basePackages = &quot;your.repository.package&quot;)` annotation to your configs","body":"Add <code>@EnableMongoRepositories(basePackages = &quot;your.repository.package&quot;)</code> annotation to your configs"},{"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"score":1,"creation_date":1499673250,"post_id":45006266,"comment_id":76986529,"body_markdown":"Can you post the detailed stack trace as well?","body":"Can you post the detailed stack trace as well?"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1499673287,"post_id":45006266,"comment_id":76986556,"body_markdown":"@StanislavL I am not using any Java Based configuration, just using application.properties","body":"@StanislavL I am not using any Java Based configuration, just using application.properties"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1499673403,"post_id":45006266,"comment_id":76986602,"body_markdown":"@JaydeepRajput I&#39;ve added the stack trace.","body":"@JaydeepRajput I&#39;ve added the stack trace."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1499673810,"post_id":45006266,"comment_id":76986843,"body_markdown":"The add the annotation right after the `@SpringBootApplication`","body":"The add the annotation right after the <code>@SpringBootApplication</code>"},{"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"score":0,"creation_date":1499674118,"post_id":45006266,"comment_id":76987012,"body_markdown":"What spring version are you using?","body":"What spring version are you using?"},{"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"score":0,"creation_date":1499675850,"post_id":45006266,"comment_id":76988093,"body_markdown":"Try removing @Repository annotation (as the example you gave does not have it)","body":"Try removing @Repository annotation (as the example you gave does not have it)"}],"answers":[{"tags":[],"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499675538,"creation_date":1499675538,"answer_id":45007262,"question_id":45006266,"body_markdown":"I have the same structure and I just had to add this configuration:\r\n\r\nApplication.java\r\n\r\n    @Configuration\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n        ...\r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.data.mongodb.uri=mongodb://localhost:27017/hotelDB\r\n\r\nAnd the repository package have to be in a deeper level of Application.java class. Thats all\r\n\r\n\r\n    com.hotelDB\r\n        Application.java\r\n        repository (Package)\r\n        controller (Package)\r\n        service (Package)\r\n        ...","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>I have the same structure and I just had to add this configuration:</p>\n\n<p>Application.java</p>\n\n<pre><code>@Configuration\n@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n    ...\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.data.mongodb.uri=mongodb://localhost:27017/hotelDB\n</code></pre>\n\n<p>And the repository package have to be in a deeper level of Application.java class. Thats all</p>\n\n<pre><code>com.hotelDB\n    Application.java\n    repository (Package)\n    controller (Package)\n    service (Package)\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499689939,"creation_date":1499689939,"answer_id":45012168,"question_id":45006266,"body_markdown":"After so much of struggle, finally I&#39;ve resolved the problem. \r\n\r\nThere is nothing wrong in the code or annotation. **The problem was spring boot&#39;s version**.\r\n\r\nHowever, I am still not sure what is the wrong in the version above `1.5.1.RELEASE` .If anybody knows the root cause can edit or answer the question. \r\n\r\n**Problem** : If I add `spring-boot-starter-parent` above `1.5.1.RELEASE`, it gives me the above no bean error for `MongoRepository`. It gives error from `1.5.2` to `1.5.4` version. (`1.5.4` was the last version till that I&#39;ve tried and faced the no bean error) \r\n\r\n**Solution** : It runs fine if I add `spring-boot-starter-parent` `1.5.1.RELEASE` or below (`1.5.0` was lowest version till I&#39;ve tried). \r\n","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>After so much of struggle, finally I've resolved the problem. </p>\n\n<p>There is nothing wrong in the code or annotation. <strong>The problem was spring boot's version</strong>.</p>\n\n<p>However, I am still not sure what is the wrong in the version above <code>1.5.1.RELEASE</code> .If anybody knows the root cause can edit or answer the question. </p>\n\n<p><strong>Problem</strong> : If I add <code>spring-boot-starter-parent</code> above <code>1.5.1.RELEASE</code>, it gives me the above no bean error for <code>MongoRepository</code>. It gives error from <code>1.5.2</code> to <code>1.5.4</code> version. (<code>1.5.4</code> was the last version till that I've tried and faced the no bean error) </p>\n\n<p><strong>Solution</strong> : It runs fine if I add <code>spring-boot-starter-parent</code> <code>1.5.1.RELEASE</code> or below (<code>1.5.0</code> was lowest version till I've tried). </p>\n"},{"tags":[],"owner":{"account_id":5241590,"reputation":73,"user_id":4188441,"display_name":"Kunal Mazumdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500464961,"creation_date":1500464961,"answer_id":45189670,"question_id":45006266,"body_markdown":"Just tried and did not found any problem at all with my existing spring boot mongodb project with `1.5.4.RELEASE` for `spring-boot-starter-parent`.\r\n\r\nEarlier it was configured with `1.4.0.RELEASE`.","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>Just tried and did not found any problem at all with my existing spring boot mongodb project with <code>1.5.4.RELEASE</code> for <code>spring-boot-starter-parent</code>.</p>\n\n<p>Earlier it was configured with <code>1.4.0.RELEASE</code>.</p>\n"},{"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515853250,"creation_date":1515853250,"answer_id":48240755,"question_id":45006266,"body_markdown":"we need to activate mongo repositories using `EnableMongoRepositories`\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories //specify packages to scan\r\n    public class MongoWithBootApplication{ ... }","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>we need to activate mongo repositories using <code>EnableMongoRepositories</code></p>\n\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories //specify packages to scan\npublic class MongoWithBootApplication{ ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7306088,"reputation":767,"user_id":5566965,"display_name":"mramsath"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1516260860,"creation_date":1516260309,"answer_id":48315823,"question_id":45006266,"body_markdown":"Faced similar problem, Adding the following to Application class helped me resolving the problem\r\n\r\n    @EnableMongoRepositories(basePackageClasses = DeviceDataRepository.class)\r\n\r\nIn your case it could be \r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories(basePackageClasses = HotelRepository.class)\r\n    public class MongoWithBootApplication{ ... }","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>Faced similar problem, Adding the following to Application class helped me resolving the problem</p>\n\n<pre><code>@EnableMongoRepositories(basePackageClasses = DeviceDataRepository.class)\n</code></pre>\n\n<p>In your case it could be </p>\n\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories(basePackageClasses = HotelRepository.class)\npublic class MongoWithBootApplication{ ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14390310,"reputation":101,"user_id":10395044,"display_name":"ganesh pawar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1537512066,"creation_date":1537511502,"answer_id":52437885,"question_id":45006266,"body_markdown":"I was facing the same problem\r\n\r\nUsed below code to scan mongorepository packages\r\n\r\n    @SpringBootApplication                                                       \r\n    @EnableMongoRepositories(basePackages = {&quot;//packages you want to scan for activiting mongo repositories&quot;})\r\n    public class SpringBootMongoDBApp{ ... }\r\n\r\nIt resolved my problem","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>I was facing the same problem</p>\n\n<p>Used below code to scan mongorepository packages</p>\n\n<pre><code>@SpringBootApplication                                                       \n@EnableMongoRepositories(basePackages = {\"//packages you want to scan for activiting mongo repositories\"})\npublic class SpringBootMongoDBApp{ ... }\n</code></pre>\n\n<p>It resolved my problem</p>\n"}],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31606,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":48315823,"answer_count":6,"score":14,"last_activity_date":1677604094,"creation_date":1499672330,"question_id":45006266,"body_markdown":"I am using `spring boot` and `MongoDB`. \r\n\r\n    Spring version : 4.3.9\r\n\r\n    Spring boot version : 1.5.4\r\n\r\nI am creating a repository which implements `MongoRepository` `interface`, like below\r\n\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface HotelRepository extends MongoRepository&lt;Hotel,String&gt; {\r\n    }\r\n\r\nBut, whenever I am adding a dependency to HotelRepository compiler giving the error `Field hotelRepository in com.demo.HotelController required a bean of type &#39;com.demo.HotelRepository&#39; that could not be found.`\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/hotel&quot;)\r\n    public class HotelController {\r\n    \r\n    \t@Autowired\r\n    \tprivate HotelRepository hotelRepository;\r\n    \t\r\n    \t@GetMapping(&quot;/all&quot;)\r\n    \tpublic List&lt;Hotel&gt; getAllHotels(){\r\n    \t\treturn this.hotelRepository.findAll();\r\n    \t}\r\n    }\r\n\r\nI&#39;ve examine all the aspects from my side to resolve the error but all in vain. What I&#39;ve R&amp;D.\r\n\r\n - For `HotelRepository` there will be a default implementation provided out of the box. [as per spring docs][1]\r\n - I&#39;ve annotated the interface with `@Repository`, so no need to put `@Component`\r\n - Adding dependency from spring context using `@Autowired` annotation, So it should pick created bean from spring context.\r\n - All the required files are in the same package, so no need to put `@ComponentScan`\r\n\r\nHere is my main spring boot application class : \r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class MongoWithBootApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MongoWithBootApplication.class, args);\r\n    \t}\r\n    }\r\n**application.properties :** \r\n\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=HotelDB\r\n\r\n**Stack trace** : \r\n\r\n    2017-07-10 13:25:12.485  INFO 4712 --- [           main] com.demo.MongoWithBootApplication        : Starting MongoWithBootApplication on KELLGGNCPU0313 with PID 4712 (D:\\STS_WS\\MongoWithBoot\\target\\classes started by mehrajuddin.malik in D:\\STS_WS\\MongoWithBoot)\r\n    2017-07-10 13:25:12.487  INFO 4712 --- [           main] com.demo.MongoWithBootApplication        : No active profile set, falling back to default profiles: default\r\n    2017-07-10 13:25:12.519  INFO 4712 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@13acb0d1: startup date [Mon Jul 10 13:25:12 IST 2017]; root of context hierarchy\r\n    2017-07-10 13:25:13.448  INFO 4712 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2017-07-10 13:25:13.456  INFO 4712 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2017-07-10 13:25:13.456  INFO 4712 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15\r\n    2017-07-10 13:25:13.541  INFO 4712 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2017-07-10 13:25:13.541  INFO 4712 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1025 ms\r\n    2017-07-10 13:25:13.635  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2017-07-10 13:25:13.637  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2017-07-10 13:25:13.673  WARN 4712 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hotelController&#39;: Unsatisfied dependency expressed through field &#39;hotelRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.demo.HotelRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2017-07-10 13:25:13.675  INFO 4712 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2017-07-10 13:25:13.684  INFO 4712 --- [           main] utoConfigurationReportLoggingInitializer : \r\n    \r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2017-07-10 13:25:13.737 ERROR 4712 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field hotelRepository in com.demo.HotelController required a bean of type &#39;com.demo.HotelRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.demo.HotelRepository&#39; in your configuration.\r\n\r\n\r\n**pom.xml** : \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MongoWithBoot&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;MongoWithBoot&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nCould someone please help me out here what am I missing? \r\n  [1]: https://spring.io/guides/gs/accessing-data-mongodb/\r\n","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>I am using <code>spring boot</code> and <code>MongoDB</code>. </p>\n\n<pre><code>Spring version : 4.3.9\n\nSpring boot version : 1.5.4\n</code></pre>\n\n<p>I am creating a repository which implements <code>MongoRepository</code> <code>interface</code>, like below</p>\n\n<pre><code>import org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface HotelRepository extends MongoRepository&lt;Hotel,String&gt; {\n}\n</code></pre>\n\n<p>But, whenever I am adding a dependency to HotelRepository compiler giving the error <code>Field hotelRepository in com.demo.HotelController required a bean of type 'com.demo.HotelRepository' that could not be found.</code></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/hotel\")\npublic class HotelController {\n\n    @Autowired\n    private HotelRepository hotelRepository;\n\n    @GetMapping(\"/all\")\n    public List&lt;Hotel&gt; getAllHotels(){\n        return this.hotelRepository.findAll();\n    }\n}\n</code></pre>\n\n<p>I've examine all the aspects from my side to resolve the error but all in vain. What I've R&amp;D.</p>\n\n<ul>\n<li>For <code>HotelRepository</code> there will be a default implementation provided out of the box. <a href=\"https://spring.io/guides/gs/accessing-data-mongodb/\" rel=\"noreferrer\">as per spring docs</a></li>\n<li>I've annotated the interface with <code>@Repository</code>, so no need to put <code>@Component</code></li>\n<li>Adding dependency from spring context using <code>@Autowired</code> annotation, So it should pick created bean from spring context.</li>\n<li>All the required files are in the same package, so no need to put <code>@ComponentScan</code></li>\n</ul>\n\n<p>Here is my main spring boot application class : </p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MongoWithBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MongoWithBootApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>application.properties :</strong> </p>\n\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=HotelDB\n</code></pre>\n\n<p><strong>Stack trace</strong> : </p>\n\n<pre><code>2017-07-10 13:25:12.485  INFO 4712 --- [           main] com.demo.MongoWithBootApplication        : Starting MongoWithBootApplication on KELLGGNCPU0313 with PID 4712 (D:\\STS_WS\\MongoWithBoot\\target\\classes started by mehrajuddin.malik in D:\\STS_WS\\MongoWithBoot)\n2017-07-10 13:25:12.487  INFO 4712 --- [           main] com.demo.MongoWithBootApplication        : No active profile set, falling back to default profiles: default\n2017-07-10 13:25:12.519  INFO 4712 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@13acb0d1: startup date [Mon Jul 10 13:25:12 IST 2017]; root of context hierarchy\n2017-07-10 13:25:13.448  INFO 4712 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2017-07-10 13:25:13.456  INFO 4712 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2017-07-10 13:25:13.456  INFO 4712 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15\n2017-07-10 13:25:13.541  INFO 4712 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2017-07-10 13:25:13.541  INFO 4712 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1025 ms\n2017-07-10 13:25:13.635  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]\n2017-07-10 13:25:13.637  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2017-07-10 13:25:13.673  WARN 4712 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelController': Unsatisfied dependency expressed through field 'hotelRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.demo.HotelRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2017-07-10 13:25:13.675  INFO 4712 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2017-07-10 13:25:13.684  INFO 4712 --- [           main] utoConfigurationReportLoggingInitializer : \n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2017-07-10 13:25:13.737 ERROR 4712 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField hotelRepository in com.demo.HotelController required a bean of type 'com.demo.HotelRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.demo.HotelRepository' in your configuration.\n</code></pre>\n\n<p><strong>pom.xml</strong> : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;MongoWithBoot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;MongoWithBoot&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Could someone please help me out here what am I missing? </p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625043325,"creation_date":1625043325,"answer_id":68191546,"question_id":68187973,"body_markdown":"When the docs says `NonInferrableReturnType` it means that we can use the type variable `&lt;T&gt;`, or any other letter that you prefer. So you can create a `MapFunction` that return a `T`. But then you have to use `.returns(TypeInformation.of(String.class)` for example, if your goal is to return a `String`.\r\n```\r\npublic class MyMapFunctionNonInferrableReturnType&lt;T&gt; implements MapFunction&lt;AbstractDataModel, T&gt; {\r\n    @Override\r\n    public T map(AbstractDataModel value) throws Exception {\r\n        return (T) value.getValue();\r\n    }\r\n}\r\n```\r\nHere I am using the classes of your last question https://stackoverflow.com/q/68174020/2096986 . The same code without `.returns(TypeInformation.of(String.class))` compiles but throw the runtime exception:\r\n\r\n&gt; could not be determined automatically, due to type erasure. You can\r\n&gt; give type information hints by using the returns(...) method on the\r\n&gt; result of the transformation call, or by letting your function\r\n&gt; implement the &#39;ResultTypeQueryable&#39; interface.\r\n\r\n```\r\npublic class NonInferrableReturnTypeStreamJob {\r\n\r\n    private final List&lt;AbstractDataModel&gt; abstractDataModelList;\r\n    private final ValenciaSinkFunction sink;\r\n\r\n    public NonInferrableReturnTypeStreamJob() {\r\n        this.abstractDataModelList = new ArrayList&lt;AbstractDataModel&gt;();\r\n        this.abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;1&quot;));\r\n        this.abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;2&quot;));\r\n        this.sink = new ValenciaSinkFunction();\r\n    }\r\n\r\n    public NonInferrableReturnTypeStreamJob(List&lt;AbstractDataModel&gt; abstractDataModelList, ValenciaSinkFunction sink) {\r\n        this.abstractDataModelList = abstractDataModelList;\r\n        this.sink = sink;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        NonInferrableReturnTypeStreamJob concreteModelTest = new NonInferrableReturnTypeStreamJob();\r\n        concreteModelTest.execute();\r\n    }\r\n\r\n    public void execute() throws Exception {\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        env.fromCollection(this.abstractDataModelList)\r\n                .map(new MyMapFunctionNonInferrableReturnType())\r\n                .returns(TypeInformation.of(String.class))\r\n                .addSink(sink);\r\n\r\n        env.execute();\r\n    }\r\n}\r\n```\r\nIn case you wish, here is the integration test for this example:\r\n```\r\nimport org.apache.flink.runtime.testutils.MiniClusterResourceConfiguration;\r\nimport org.apache.flink.test.util.MiniClusterWithClientResource;\r\nimport org.junit.ClassRule;\r\nimport org.junit.Test;\r\nimport org.sense.flink.examples.stream.valencia.ValenciaSinkFunction;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport static junit.framework.TestCase.assertEquals;\r\nimport static org.junit.Assert.assertTrue;\r\n\r\npublic class NonInferrableReturnTypeStreamJobTest {\r\n\r\n    @ClassRule\r\n    public static MiniClusterWithClientResource flinkCluster;\r\n    private final int minAvailableProcessors = 4;\r\n    private final boolean runInParallel;\r\n\r\n    public NonInferrableReturnTypeStreamJobTest() {\r\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\r\n        this.runInParallel = availableProcessors &gt;= minAvailableProcessors;\r\n        if (this.runInParallel) {\r\n            flinkCluster = new MiniClusterWithClientResource(\r\n                    new MiniClusterResourceConfiguration.Builder()\r\n                            .setNumberSlotsPerTaskManager(minAvailableProcessors)\r\n                            .setNumberTaskManagers(1)\r\n                            .build());\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void execute() throws Exception {\r\n        List&lt;AbstractDataModel&gt; abstractDataModelList = new ArrayList&lt;AbstractDataModel&gt;();\r\n        abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;1&quot;));\r\n        abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;2&quot;));\r\n        ValenciaSinkFunction.values.clear();\r\n\r\n        NonInferrableReturnTypeStreamJob streamJob = new NonInferrableReturnTypeStreamJob(abstractDataModelList, new ValenciaSinkFunction());\r\n        streamJob.execute();\r\n\r\n        List&lt;String&gt; results = ValenciaSinkFunction.values;\r\n        assertEquals(2, results.size());\r\n        assertTrue(results.containsAll(Arrays.asList(&quot;1&quot;, &quot;2&quot;)));\r\n    }\r\n}\r\n```","title":"javadoc of SingleOutputStreamOperator#returns(TypeHint&lt;T&gt; typeHint) method","body":"<p>When the docs says <code>NonInferrableReturnType</code> it means that we can use the type variable <code>&lt;T&gt;</code>, or any other letter that you prefer. So you can create a <code>MapFunction</code> that return a <code>T</code>. But then you have to use <code>.returns(TypeInformation.of(String.class)</code> for example, if your goal is to return a <code>String</code>.</p>\n<pre><code>public class MyMapFunctionNonInferrableReturnType&lt;T&gt; implements MapFunction&lt;AbstractDataModel, T&gt; {\n    @Override\n    public T map(AbstractDataModel value) throws Exception {\n        return (T) value.getValue();\n    }\n}\n</code></pre>\n<p>Here I am using the classes of your last question <a href=\"https://stackoverflow.com/q/68174020/2096986\">Compiling fails when creating MapFunction with super type</a> . The same code without <code>.returns(TypeInformation.of(String.class))</code> compiles but throw the runtime exception:</p>\n<blockquote>\n<p>could not be determined automatically, due to type erasure. You can\ngive type information hints by using the returns(...) method on the\nresult of the transformation call, or by letting your function\nimplement the 'ResultTypeQueryable' interface.</p>\n</blockquote>\n<pre><code>public class NonInferrableReturnTypeStreamJob {\n\n    private final List&lt;AbstractDataModel&gt; abstractDataModelList;\n    private final ValenciaSinkFunction sink;\n\n    public NonInferrableReturnTypeStreamJob() {\n        this.abstractDataModelList = new ArrayList&lt;AbstractDataModel&gt;();\n        this.abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;1&quot;));\n        this.abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;2&quot;));\n        this.sink = new ValenciaSinkFunction();\n    }\n\n    public NonInferrableReturnTypeStreamJob(List&lt;AbstractDataModel&gt; abstractDataModelList, ValenciaSinkFunction sink) {\n        this.abstractDataModelList = abstractDataModelList;\n        this.sink = sink;\n    }\n\n    public static void main(String[] args) throws Exception {\n        NonInferrableReturnTypeStreamJob concreteModelTest = new NonInferrableReturnTypeStreamJob();\n        concreteModelTest.execute();\n    }\n\n    public void execute() throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        env.fromCollection(this.abstractDataModelList)\n                .map(new MyMapFunctionNonInferrableReturnType())\n                .returns(TypeInformation.of(String.class))\n                .addSink(sink);\n\n        env.execute();\n    }\n}\n</code></pre>\n<p>In case you wish, here is the integration test for this example:</p>\n<pre><code>import org.apache.flink.runtime.testutils.MiniClusterResourceConfiguration;\nimport org.apache.flink.test.util.MiniClusterWithClientResource;\nimport org.junit.ClassRule;\nimport org.junit.Test;\nimport org.sense.flink.examples.stream.valencia.ValenciaSinkFunction;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static junit.framework.TestCase.assertEquals;\nimport static org.junit.Assert.assertTrue;\n\npublic class NonInferrableReturnTypeStreamJobTest {\n\n    @ClassRule\n    public static MiniClusterWithClientResource flinkCluster;\n    private final int minAvailableProcessors = 4;\n    private final boolean runInParallel;\n\n    public NonInferrableReturnTypeStreamJobTest() {\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\n        this.runInParallel = availableProcessors &gt;= minAvailableProcessors;\n        if (this.runInParallel) {\n            flinkCluster = new MiniClusterWithClientResource(\n                    new MiniClusterResourceConfiguration.Builder()\n                            .setNumberSlotsPerTaskManager(minAvailableProcessors)\n                            .setNumberTaskManagers(1)\n                            .build());\n        }\n    }\n\n    @Test\n    public void execute() throws Exception {\n        List&lt;AbstractDataModel&gt; abstractDataModelList = new ArrayList&lt;AbstractDataModel&gt;();\n        abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;1&quot;));\n        abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;2&quot;));\n        ValenciaSinkFunction.values.clear();\n\n        NonInferrableReturnTypeStreamJob streamJob = new NonInferrableReturnTypeStreamJob(abstractDataModelList, new ValenciaSinkFunction());\n        streamJob.execute();\n\n        List&lt;String&gt; results = ValenciaSinkFunction.values;\n        assertEquals(2, results.size());\n        assertTrue(results.containsAll(Arrays.asList(&quot;1&quot;, &quot;2&quot;)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68191546,"answer_count":1,"score":2,"last_activity_date":1677604028,"creation_date":1625022643,"question_id":68187973,"body_markdown":"I am reading the source code of `SingleOutputStreamOperator#returns`, its javadoc is:\r\n\r\n\t/**\r\n\t * Adds a type information hint about the return type of this operator. This method\r\n\t * can be used in cases where Flink cannot determine automatically what the produced\r\n\t * type of a function is. That can be the case if the function uses generic type variables\r\n\t * in the return type that cannot be inferred from the input type.\r\n\t *\r\n\t * &lt;p&gt;Use this method the following way:\r\n\t * &lt;pre&gt;{@code\r\n\t *     DataStream&lt;Tuple2&lt;String, Double&gt;&gt; result =\r\n\t *         stream.flatMap(new FunctionWithNonInferrableReturnType())\r\n\t *               .returns(new TypeHint&lt;Tuple2&lt;String, Double&gt;&gt;(){});\r\n\t * }&lt;/pre&gt;\r\n\t *\r\n\t * @param typeHint The type hint for the returned data type.\r\n\t * @return This operator with the type information corresponding to the given type hint.\r\n\t */\r\n\r\nIt mentions `FunctionWithNonInferrableReturnType` to show case the necessity of returns method, but I am unable to write such a class that is `NonInferrableReturnType`. How can I write a simple one?\r\n","title":"javadoc of SingleOutputStreamOperator#returns(TypeHint&lt;T&gt; typeHint) method","body":"<p>I am reading the source code of <code>SingleOutputStreamOperator#returns</code>, its javadoc is:</p>\n<pre><code>/**\n * Adds a type information hint about the return type of this operator. This method\n * can be used in cases where Flink cannot determine automatically what the produced\n * type of a function is. That can be the case if the function uses generic type variables\n * in the return type that cannot be inferred from the input type.\n *\n * &lt;p&gt;Use this method the following way:\n * &lt;pre&gt;{@code\n *     DataStream&lt;Tuple2&lt;String, Double&gt;&gt; result =\n *         stream.flatMap(new FunctionWithNonInferrableReturnType())\n *               .returns(new TypeHint&lt;Tuple2&lt;String, Double&gt;&gt;(){});\n * }&lt;/pre&gt;\n *\n * @param typeHint The type hint for the returned data type.\n * @return This operator with the type information corresponding to the given type hint.\n */\n</code></pre>\n<p>It mentions <code>FunctionWithNonInferrableReturnType</code> to show case the necessity of returns method, but I am unable to write such a class that is <code>NonInferrableReturnType</code>. How can I write a simple one?</p>\n"},{"tags":["java","gradle","android-studio"],"comments":[{"owner":{"account_id":2207933,"reputation":30614,"user_id":1950649,"display_name":"Vladimir Mironov"},"score":2,"creation_date":1369224272,"post_id":16690914,"comment_id":24021051,"body_markdown":"I&#39;m not familiar with gradle, but you should probably add a dependency on `annotations.jar` to `build.gradle`. Something like `dependencies { compile files(&#39;full/path/to/annotations.jar&#39;) }`","body":"I&#39;m not familiar with gradle, but you should probably add a dependency on <code>annotations.jar</code> to <code>build.gradle</code>. Something like <code>dependencies { compile files(&#39;full&#47;path&#47;to&#47;annotations.jar&#39;) }</code>"},{"owner":{"account_id":167904,"reputation":5322,"user_id":393010,"accept_rate":67,"display_name":"Moberg"},"score":0,"creation_date":1369226651,"post_id":16690914,"comment_id":24022579,"body_markdown":"Thanks, this fixed the issue! I thought adding the dependency was what android studio did automatically when I first wrote @NotNull and it wanted me to add something.","body":"Thanks, this fixed the issue! I thought adding the dependency was what android studio did automatically when I first wrote @NotNull and it wanted me to add something."},{"owner":{"account_id":2207933,"reputation":30614,"user_id":1950649,"display_name":"Vladimir Mironov"},"score":1,"creation_date":1369227249,"post_id":16690914,"comment_id":24022993,"body_markdown":"You can find explanation for this behavior here http://stackoverflow.com/questions/16622410/how-do-i-add-a-library-project-to-the-android-studio-and-use-itsome-asked-dont/16683375#16683375","body":"You can find explanation for this behavior here <a href=\"http://stackoverflow.com/questions/16622410/how-do-i-add-a-library-project-to-the-android-studio-and-use-itsome-asked-dont/16683375#16683375\" title=\"how do i add a library project to the android studio and use itsome asked dont\">stackoverflow.com/questions/16622410/&hellip;</a>"},{"owner":{"account_id":167904,"reputation":5322,"user_id":393010,"accept_rate":67,"display_name":"Moberg"},"score":0,"creation_date":1376321249,"post_id":16690914,"comment_id":26656441,"body_markdown":"@vmironov if you add this as an answer I can accept it.","body":"@vmironov if you add this as an answer I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":76170,"reputation":28433,"user_id":218257,"display_name":"Xavier Ducrohet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1385503354,"creation_date":1369290534,"answer_id":16706994,"question_id":16690914,"body_markdown":"At the moment, there is no NonNull/Nullable annotations in the Android API or in the support library. You also cannot use the IntelliJ one since they are not on the compilation classpath when building with Gradle.\r\n\r\nHowever, you can easily create your own. It&#39;s very simple:\r\n\r\n    @Documented\r\n    @Retention(RetentionPolicy.CLASS)\r\n    @Target({METHOD,PARAMETER,LOCAL_VARIABLE,FIELD})\r\n    public @interface NonNull {\r\n    }\r\n\r\nOnce this is down, you can configure IntelliJ (or Android Studio) to recognize this one (and the matching `@Nullable`) to be the default annotation used for Null-checks.\r\n\r\nTo do this, go in the IntelliJ preferences, under `Inpections`, and then find the `@NotNull/@Nullable problems` entry under `Probable Bugs` in the inspection tree.\r\n\r\nSelect the item, and in the bottom right you&#39;ll have a button to &quot;Configure Annotations&quot;. This will allow you set your own annotations as the one intelliJ will use for this inspection.\r\n\r\n\r\n","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>At the moment, there is no NonNull/Nullable annotations in the Android API or in the support library. You also cannot use the IntelliJ one since they are not on the compilation classpath when building with Gradle.</p>\n\n<p>However, you can easily create your own. It's very simple:</p>\n\n<pre><code>@Documented\n@Retention(RetentionPolicy.CLASS)\n@Target({METHOD,PARAMETER,LOCAL_VARIABLE,FIELD})\npublic @interface NonNull {\n}\n</code></pre>\n\n<p>Once this is down, you can configure IntelliJ (or Android Studio) to recognize this one (and the matching <code>@Nullable</code>) to be the default annotation used for Null-checks.</p>\n\n<p>To do this, go in the IntelliJ preferences, under <code>Inpections</code>, and then find the <code>@NotNull/@Nullable problems</code> entry under <code>Probable Bugs</code> in the inspection tree.</p>\n\n<p>Select the item, and in the bottom right you'll have a button to \"Configure Annotations\". This will allow you set your own annotations as the one intelliJ will use for this inspection.</p>\n"},{"tags":[],"owner":{"account_id":1729013,"reputation":2571,"user_id":1583039,"accept_rate":83,"display_name":"curioushikhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401980170,"creation_date":1386502454,"answer_id":20452943,"question_id":16690914,"body_markdown":"The best way is to use the maven dependency\r\n\r\n1. set the repository path, by adding\r\n\r\n        repositories {\r\n            maven {\r\n                url &quot;https://repository.jboss.org/nexus/content/repositories/thirdparty-releases&quot;\r\n            }\r\n        }\r\n\r\n\r\n2. add the dependency\r\n\r\n\r\n        dependencies {\r\n            compile &#39;org.jetbrains:annotations:7.0.2&#39;\r\n        }\r\n\r\n\r\n3. PROFIT!","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>The best way is to use the maven dependency</p>\n\n<ol>\n<li><p>set the repository path, by adding</p>\n\n<pre><code>repositories {\n    maven {\n        url \"https://repository.jboss.org/nexus/content/repositories/thirdparty-releases\"\n    }\n}\n</code></pre></li>\n<li><p>add the dependency</p>\n\n<pre><code>dependencies {\n    compile 'org.jetbrains:annotations:7.0.2'\n}\n</code></pre></li>\n<li><p>PROFIT!</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2264138,"reputation":1735,"user_id":1993371,"display_name":"Serge Populov"},"down_vote_count":1,"up_vote_count":84,"is_accepted":true,"score":83,"last_activity_date":1579333648,"creation_date":1386522498,"answer_id":20456268,"question_id":16690914,"body_markdown":"I guess, the right way is using original JetBrains library from MavenCentral repository in your build.gradle dependencies (latest available version in this example):\r\n\r\n    dependencies {\r\n        implementation &#39;com.intellij:annotations:+@jar&#39;\r\n        ...\r\n    }","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>I guess, the right way is using original JetBrains library from MavenCentral repository in your build.gradle dependencies (latest available version in this example):</p>\n\n<pre><code>dependencies {\n    implementation 'com.intellij:annotations:+@jar'\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":531541,"reputation":5194,"user_id":1449683,"accept_rate":44,"display_name":"squirrel"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1410440688,"creation_date":1410440688,"answer_id":25788250,"question_id":16690914,"body_markdown":"You can also use android&#39;s own `@NonNull` &amp; `@Nullable`:\r\n\r\n - Add the following to **build.gradle**:\r\n\r\n        dependencies {\r\n            ...\r\n            // For @Nullable/@NonNull\r\n            compile &#39;com.android.support:support-annotations:+&#39;\r\n        }\r\n\r\n\r\n - Go to **File** / **Setting**  **Project Settings**  **Inspections** and search for &quot;nullable&quot;.\r\n\r\n In **Constant conditions &amp; exceptions** and **@NotNull/@Nullable problems**, click **Configure annotations** and select Android&#39;s annotations.\r\n\r\n You may also want to check out **Suggest @Nullable annotations** under **Constant conditions &amp; exceptions**, or possibly tweak other options.","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>You can also use android's own <code>@NonNull</code> &amp; <code>@Nullable</code>:</p>\n\n<ul>\n<li><p>Add the following to <strong>build.gradle</strong>:</p>\n\n<pre><code>dependencies {\n    ...\n    // For @Nullable/@NonNull\n    compile 'com.android.support:support-annotations:+'\n}\n</code></pre></li>\n<li><p>Go to <strong>File</strong> / <strong>Setting</strong>  <strong>Project Settings</strong>  <strong>Inspections</strong> and search for \"nullable\".</p>\n\n<p>In <strong>Constant conditions &amp; exceptions</strong> and <strong>@NotNull/@Nullable problems</strong>, click <strong>Configure annotations</strong> and select Android's annotations.</p>\n\n<p>You may also want to check out <strong>Suggest @Nullable annotations</strong> under <strong>Constant conditions &amp; exceptions</strong>, or possibly tweak other options.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1077468,"reputation":20907,"user_id":1075289,"accept_rate":65,"display_name":"Amio.io"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556466982,"creation_date":1431762889,"answer_id":30273190,"question_id":16690914,"body_markdown":"In 2015, you would have used annotations from **android.support.annotation** package. I am just not sure when they added them as in the [docs][1] there isn&#39;t that typical sentence &quot;Added in API level X&quot; and I don&#39;t feel like reading blogs, etc. &gt;]\r\n\r\n    import android.support.annotation.NonNull;\r\n    \r\n    ...\r\n\r\n    public void fooFighter(@NonNull Object honeyBunny){\r\n       ...\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/annotation/NonNull.html","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>In 2015, you would have used annotations from <strong>android.support.annotation</strong> package. I am just not sure when they added them as in the <a href=\"https://developer.android.com/reference/android/support/annotation/NonNull.html\" rel=\"nofollow noreferrer\">docs</a> there isn't that typical sentence \"Added in API level X\" and I don't feel like reading blogs, etc. >]</p>\n\n<pre><code>import android.support.annotation.NonNull;\n\n...\n\npublic void fooFighter(@NonNull Object honeyBunny){\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6184974,"reputation":1103,"user_id":4819344,"display_name":"Roman Smoliar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1475858952,"creation_date":1457640381,"answer_id":35926186,"question_id":16690914,"body_markdown":"For using Android support anotation like - @Nullable, @NonNull etc.. In your project must be imported android support annotations library. Just **add this line to dependensies** in gradle file  \r\n\r\n`dependencies {\r\n    compile &#39;com.android.support:support-annotations:+&#39;\r\n}`\r\n\r\nAnd **import package** to class. \r\n&lt;br&gt;For using @Nullable annotation:\r\n\r\n    import android.support.annotation.Nullable;\r\nFor @NonNull\r\n\r\n    import android.support.annotation.NonNull;\r\nMore info you can find here [Android developers][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/annotations.html \r\n","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>For using Android support anotation like - @Nullable, @NonNull etc.. In your project must be imported android support annotations library. Just <strong>add this line to dependensies</strong> in gradle file  </p>\n\n<p><code>dependencies {\n    compile 'com.android.support:support-annotations:+'\n}</code></p>\n\n<p>And <strong>import package</strong> to class. \n<br>For using @Nullable annotation:</p>\n\n<pre><code>import android.support.annotation.Nullable;\n</code></pre>\n\n<p>For @NonNull</p>\n\n<pre><code>import android.support.annotation.NonNull;\n</code></pre>\n\n<p>More info you can find here <a href=\"https://developer.android.com/studio/write/annotations.html\" rel=\"noreferrer\">Android developers</a></p>\n"},{"tags":[],"owner":{"account_id":6786147,"reputation":639,"user_id":5224868,"display_name":"Mahmudur Rahman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557138728,"creation_date":1557138728,"answer_id":56003395,"question_id":16690914,"body_markdown":"I am facing that problem for **gradle-5.1.1** - **Android Studio 3.4** and the error like that - *Compilation failed; see the compiler error output for details. Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.* etc. In this case I use \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    implementation &#39;org.jetbrains:annotations:16.0.2&#39;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand above all error will be clear. ","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>I am facing that problem for <strong>gradle-5.1.1</strong> - <strong>Android Studio 3.4</strong> and the error like that - <em>Compilation failed; see the compiler error output for details. Execution failed for task ':app:compileDebugJavaWithJavac'.</em> etc. In this case I use </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>implementation 'org.jetbrains:annotations:16.0.2'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and above all error will be clear. </p>\n"},{"tags":[],"owner":{"account_id":14063381,"reputation":81,"user_id":10158830,"display_name":"DeadCoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560424645,"creation_date":1560424645,"answer_id":56579257,"question_id":16690914,"body_markdown":"For Maven add dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;16.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt; ","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>For Maven add dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;16.0.1&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6905436,"reputation":365,"user_id":5303507,"accept_rate":50,"display_name":"Azizjan Hamidovich Ayupov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1611246676,"creation_date":1611246676,"answer_id":65831706,"question_id":16690914,"body_markdown":"Just import **androidx.annotation.Nullable** for that purpose","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>Just import <strong>androidx.annotation.Nullable</strong> for that purpose</p>\n"}],"owner":{"account_id":167904,"reputation":5322,"user_id":393010,"accept_rate":67,"display_name":"Moberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126491,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":20456268,"answer_count":9,"score":77,"last_activity_date":1677603953,"creation_date":1369223187,"question_id":16690914,"body_markdown":"When I add @NotNull or @Nullable annotations to a parameter Android Studio automatically helps me with adding /lib/annotations.jar and importing\r\n\r\n    import org.jetbrains.annotations.NotNull\r\n    import org.jetbrains.annotations.Nullable;\r\n\r\nBut after this, the project won&#39;t compile. If I also remove the annotations but keep the import statements the project still won&#39;t compile. **But** if I remove the import statements for NotNull and Nullable the project compiles *fine*!\r\n\r\nAndroid Studio gives a generic error:\r\n\r\n    Gradle: \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:Bugtester:compileDebug&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\nRunning `gradlew compileDebug` from cmd gives a slight hint:\r\n\r\n    :Bugtester:compileDebug FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:Bugtester:compileDebug&#39;.\r\n    &gt; Cannot find System Java Compiler. Ensure that you have installed a JDK (not just a JRE) and configured your JAVA_HOME system variable to point to the according directory.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n    \r\n    BUILD FAILED\r\n\r\nSo I checked my environment variables and they are set as:\r\n\r\n    JAVA_HOME=C:\\Program Files (x86)\\Java\\jre7\r\n    JDK_HOME=C:\\Program Files\\Java\\jdk1.7.0_21\\\r\n\r\nAnyone got any idea for this? (I&#39;m new to both java and android programming)","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>When I add @NotNull or @Nullable annotations to a parameter Android Studio automatically helps me with adding /lib/annotations.jar and importing</p>\n\n<pre><code>import org.jetbrains.annotations.NotNull\nimport org.jetbrains.annotations.Nullable;\n</code></pre>\n\n<p>But after this, the project won't compile. If I also remove the annotations but keep the import statements the project still won't compile. <strong>But</strong> if I remove the import statements for NotNull and Nullable the project compiles <em>fine</em>!</p>\n\n<p>Android Studio gives a generic error:</p>\n\n<pre><code>Gradle: \nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':Bugtester:compileDebug'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n\n<p>Running <code>gradlew compileDebug</code> from cmd gives a slight hint:</p>\n\n<pre><code>:Bugtester:compileDebug FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':Bugtester:compileDebug'.\n&gt; Cannot find System Java Compiler. Ensure that you have installed a JDK (not just a JRE) and configured your JAVA_HOME system variable to point to the according directory.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n</code></pre>\n\n<p>So I checked my environment variables and they are set as:</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files (x86)\\Java\\jre7\nJDK_HOME=C:\\Program Files\\Java\\jdk1.7.0_21\\\n</code></pre>\n\n<p>Anyone got any idea for this? (I'm new to both java and android programming)</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1588048475,"post_id":61472442,"comment_id":108742322,"body_markdown":"Update operation doesn&#39;t fetch any data","body":"Update operation doesn&#39;t fetch any data"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677603833,"creation_date":1588048946,"answer_id":61472758,"question_id":61472442,"body_markdown":"As you have discovered, just changing the return type of your method doesn&#39;t cause the auto-generated JPA method to return a different type.\r\n\r\nThe problem is that you are doing a bulk update operation. This is going to get turned into an equivalent SQL &quot;update...where&quot; statement at execution time, and the only data that is going to be returned by JDBC is the number of rows updated. (And BTW, in that case, you should return a long, not an int).\r\n\r\nSo, you have to devise some other way of doing this.\r\nOff-hand, I can think of two ways:\r\n\r\n1. If you can be pretty certain that you will always be updating a relatively small number of rows (say, a up to a few hundred), then you could create a method that selects the Entity instances that you want to update, e.g.\r\n\r\n       @Query(&quot;SELECT u from User&quot; + &quot; WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime&quot; + &quot; AND u.reactivateTime IS NOT null&quot;)\r\n       List&lt;User&gt; getUsersToReactivate(@Param(&quot;currentTime&quot;) ZonedDateTime currentTime);\r\n\r\nAnd then, in a concrete implementation of the JPA Repository interface,\r\n\r\n - Call the method to retrieve the entities.\r\n - Update the entities via java code\r\n - Save the entities\r\n\r\nFor example (I just typed this, didn&#39;t try it - syntax errors are your responsibility):\r\n\r\n    @Transactional\r\n    @Modifying\r\n    List&lt;User&gt; reactivateUsers(ZonedDateTime currentTime) {\r\n       List&lt;User&gt; users = getUsersToReactivate(currentTime);\r\n       users.forEach(user -&gt; {\r\n           user.setActive(true);\r\n           save(user);\r\n       ); \r\n       return users; \r\n    }\r\n\r\n\r\n2. This may be more intrusive, but you could add a Date property to the User class called &#39;lastUpdated&#39;, get the current date, update the isActive flag to true and the &#39;lastUpdated&#39; property to the current date, and then select entities where the lastUpdate property is the current date.\r\n","title":"Spring JPA Update and Return the Updated Data","body":"<p>As you have discovered, just changing the return type of your method doesn't cause the auto-generated JPA method to return a different type.</p>\n<p>The problem is that you are doing a bulk update operation. This is going to get turned into an equivalent SQL &quot;update...where&quot; statement at execution time, and the only data that is going to be returned by JDBC is the number of rows updated. (And BTW, in that case, you should return a long, not an int).</p>\n<p>So, you have to devise some other way of doing this.\nOff-hand, I can think of two ways:</p>\n<ol>\n<li><p>If you can be pretty certain that you will always be updating a relatively small number of rows (say, a up to a few hundred), then you could create a method that selects the Entity instances that you want to update, e.g.</p>\n<pre><code>@Query(&quot;SELECT u from User&quot; + &quot; WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime&quot; + &quot; AND u.reactivateTime IS NOT null&quot;)\nList&lt;User&gt; getUsersToReactivate(@Param(&quot;currentTime&quot;) ZonedDateTime currentTime);\n</code></pre>\n</li>\n</ol>\n<p>And then, in a concrete implementation of the JPA Repository interface,</p>\n<ul>\n<li>Call the method to retrieve the entities.</li>\n<li>Update the entities via java code</li>\n<li>Save the entities</li>\n</ul>\n<p>For example (I just typed this, didn't try it - syntax errors are your responsibility):</p>\n<pre><code>@Transactional\n@Modifying\nList&lt;User&gt; reactivateUsers(ZonedDateTime currentTime) {\n   List&lt;User&gt; users = getUsersToReactivate(currentTime);\n   users.forEach(user -&gt; {\n       user.setActive(true);\n       save(user);\n   ); \n   return users; \n}\n</code></pre>\n<ol start=\"2\">\n<li>This may be more intrusive, but you could add a Date property to the User class called 'lastUpdated', get the current date, update the isActive flag to true and the 'lastUpdated' property to the current date, and then select entities where the lastUpdate property is the current date.</li>\n</ol>\n"}],"owner":{"account_id":14800057,"reputation":179,"user_id":10688566,"display_name":"alcantula"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1588050729,"accepted_answer_id":61472758,"answer_count":1,"score":1,"last_activity_date":1677603833,"creation_date":1588046871,"question_id":61472442,"body_markdown":"How to build a JPA method that could return the updated data when updateing using JPA query?\r\nI have created something like this.\r\n```\r\n@Transactional\r\n@Modifying\r\n@Query(&quot;UPDATE User u SET u.isActive = true&quot;\r\n      + &quot; WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime&quot;\r\n      + &quot; AND u.reactivateTime IS NOT null&quot;)\r\nint reactivateUser(@Param(&quot;currentTime&quot;) ZonedDateTime currentTime);\r\n```\r\nBut, what I want is it is returning list of user. If I directly changed it to something like this\r\n```\r\n@Transactional\r\n@Modifying\r\n@Query(&quot;UPDATE User u SET u.isActive = true&quot;\r\n      + &quot; WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime&quot;\r\n      + &quot; AND u.reactivateTime IS NOT null&quot;)\r\nList&lt;User&gt; reactivateUser(@Param(&quot;currentTime&quot;) ZonedDateTime currentTime);\r\n```\r\nIt will become error like this.\r\n```\r\nIllegalStateException: org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for DML operations\r\n```","title":"Spring JPA Update and Return the Updated Data","body":"<p>How to build a JPA method that could return the updated data when updateing using JPA query?\nI have created something like this.</p>\n\n<pre><code>@Transactional\n@Modifying\n@Query(\"UPDATE User u SET u.isActive = true\"\n      + \" WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime\"\n      + \" AND u.reactivateTime IS NOT null\")\nint reactivateUser(@Param(\"currentTime\") ZonedDateTime currentTime);\n</code></pre>\n\n<p>But, what I want is it is returning list of user. If I directly changed it to something like this</p>\n\n<pre><code>@Transactional\n@Modifying\n@Query(\"UPDATE User u SET u.isActive = true\"\n      + \" WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime\"\n      + \" AND u.reactivateTime IS NOT null\")\nList&lt;User&gt; reactivateUser(@Param(\"currentTime\") ZonedDateTime currentTime);\n</code></pre>\n\n<p>It will become error like this.</p>\n\n<pre><code>IllegalStateException: org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for DML operations\n</code></pre>\n"},{"tags":["java","android","kotlin","android-espresso","android-uiautomator"],"owner":{"account_id":12887632,"reputation":333,"user_id":9320560,"display_name":"Adam Jensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677603778,"creation_date":1677603778,"question_id":75595157,"body_markdown":"I want to click on the cross (x) button which is a part of a search edit text view (search text field). The button doesn&#39;t have any resource Id or element. I tried the following ways to interact:\r\n\r\n - click at the end of the search field by coordinates - this isn&#39;t a valid way because it doesn&#39;t work on different devices;\r\n - click on elements behind the button - also not a valid way. And for some reason doesn&#39;t work for now.\r\n\r\n[![][1]][1]\r\n(image taken [from here][2])\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZBK8k.png\r\n  [2]: https://stackoverflow.com/a/14470930/9320560","title":"Click on a cross (x) button inside of a search edit text view","body":"<p>I want to click on the cross (x) button which is a part of a search edit text view (search text field). The button doesn't have any resource Id or element. I tried the following ways to interact:</p>\n<ul>\n<li>click at the end of the search field by coordinates - this isn't a valid way because it doesn't work on different devices;</li>\n<li>click on elements behind the button - also not a valid way. And for some reason doesn't work for now.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ZBK8k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZBK8k.png\" alt=\"\" /></a>\n(image taken <a href=\"https://stackoverflow.com/a/14470930/9320560\">from here</a>)</p>\n"},{"tags":["java","cdi","nosuchmethoderror","weld","jandex"],"answers":[{"tags":[],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677603564,"creation_date":1677603564,"answer_id":75595116,"question_id":74781315,"body_markdown":"The solution that works for me is to exclude jandex from hibernate dependency and to add an individual jandex dependency to the project. Here is an excerpt from my pom.xml:\r\n```\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;!-- without exclusion of jandex in hibernate a no such method error is raised --&gt;\r\n\t\t\t\t\t&lt;!-- with    exclusion an explicit dependency to jandex is needed (see below)  --&gt;\r\n\t\t\t\t\t&lt;!-- note that jandex is referenced with groupId io.smallrye actually          --&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- individual dependency to jandex to accomplish necessary exclusion of jandex in --&gt;\r\n            &lt;!-- hibernate-core-jakarta (see above)                                             --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n```","title":"CDI with Weld in Java SE, jakarta namespace, NoSuchMethodError","body":"<p>The solution that works for me is to exclude jandex from hibernate dependency and to add an individual jandex dependency to the project. Here is an excerpt from my pom.xml:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\n                &lt;version&gt;5.6.14.Final&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;!-- without exclusion of jandex in hibernate a no such method error is raised --&gt;\n                    &lt;!-- with    exclusion an explicit dependency to jandex is needed (see below)  --&gt;\n                    &lt;!-- note that jandex is referenced with groupId io.smallrye actually          --&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n                        &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;!-- individual dependency to jandex to accomplish necessary exclusion of jandex in --&gt;\n            &lt;!-- hibernate-core-jakarta (see above)                                             --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n                &lt;version&gt;3.0.5&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75595116,"answer_count":1,"score":2,"last_activity_date":1677603564,"creation_date":1670916563,"question_id":74781315,"body_markdown":"For a trivial app using CDI in Java SE with jakarta namespace I can not get rid of this ```NoSuchMethodError``` during ```SeContainerInitializer.newInstance().initialize()```:\r\n\r\n```Caused by: java.lang.NoSuchMethodError: &#39;java.util.Map org.jboss.jandex.ClassInfo.annotationsMap()&#39;```\r\n\r\nI guess I&#39;m missing dependencies. Shouldn&#39;t this be sufficient?\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-shaded&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n```beans.xml``` is in place at ```src/main/resources/META-INF```","title":"CDI with Weld in Java SE, jakarta namespace, NoSuchMethodError","body":"<p>For a trivial app using CDI in Java SE with jakarta namespace I can not get rid of this <code>NoSuchMethodError</code> during <code>SeContainerInitializer.newInstance().initialize()</code>:</p>\n<p><code>Caused by: java.lang.NoSuchMethodError: 'java.util.Map org.jboss.jandex.ClassInfo.annotationsMap()'</code></p>\n<p>I guess I'm missing dependencies. Shouldn't this be sufficient?</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se-shaded&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><code>beans.xml</code> is in place at <code>src/main/resources/META-INF</code></p>\n"},{"tags":["java","regex","log4j","log4j2","mdc"],"answers":[{"tags":[],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672805385,"creation_date":1672805385,"answer_id":75000877,"question_id":74988617,"body_markdown":"I managed to find a workaround solution, where I instead apply the regex to the value being inserted into the `ThreadContextMap` \r\n\r\nThis way, I only ever have to check for 2 values in the `ThreadContextMapFilter`, `prod` &amp; `qa`\r\n\r\nThis solution is satisfactory enough as it works &amp; meets the requirements we had. For those curious, it looks something like this: \r\n\r\n```java\r\n@Value(&quot;${env}&quot;)\r\nprivate String environment;\r\n...\r\n// check environment against regex\r\nboolean matchesProdRegex = Pattern.matches(&quot;.*prod.*&quot;, this.environment);\r\nboolean matchesQaRegex = Pattern.matches(&quot;.*qa.*&quot;, this.environment);\r\nif (matchesProdRegex ) {\r\n  ThreadContext.put(&quot;ENV&quot;, &quot;prod&quot;);\r\n} else if (matchesQaRegex ) {\r\n  ThreadContext.put(&quot;ENV&quot;, &quot;qa&quot;);\r\n} else {\r\n  ThreadContext.put(&quot;ENV&quot;, this.environment);\r\n}\r\n```\r\n\r\nConsequently in `log4j2.xml`, the `ThreadContextMapFilter` looks something like: \r\n\r\n```\r\n&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    &lt;PatternLayout pattern=&quot;...&quot;/&gt;\r\n    &lt;Filters&gt;\r\n        &lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; operator=&quot;or&quot;&gt;\r\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;qa&quot;/&gt;\r\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;prod&quot;/&gt;\r\n        &lt;/ThreadContextMapFilter&gt;\r\n    &lt;/Filters&gt;\r\n&lt;/Console&gt;\r\n```\r\n\r\nThanks to anyone that took the time to read my post &amp; hope this can be a useful reference for anyone in the future, cheers! ","title":"Is it possible to filter key-value pairs of a ThreadContextMap with a Regex?","body":"<p>I managed to find a workaround solution, where I instead apply the regex to the value being inserted into the <code>ThreadContextMap</code></p>\n<p>This way, I only ever have to check for 2 values in the <code>ThreadContextMapFilter</code>, <code>prod</code> &amp; <code>qa</code></p>\n<p>This solution is satisfactory enough as it works &amp; meets the requirements we had. For those curious, it looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${env}&quot;)\nprivate String environment;\n...\n// check environment against regex\nboolean matchesProdRegex = Pattern.matches(&quot;.*prod.*&quot;, this.environment);\nboolean matchesQaRegex = Pattern.matches(&quot;.*qa.*&quot;, this.environment);\nif (matchesProdRegex ) {\n  ThreadContext.put(&quot;ENV&quot;, &quot;prod&quot;);\n} else if (matchesQaRegex ) {\n  ThreadContext.put(&quot;ENV&quot;, &quot;qa&quot;);\n} else {\n  ThreadContext.put(&quot;ENV&quot;, this.environment);\n}\n</code></pre>\n<p>Consequently in <code>log4j2.xml</code>, the <code>ThreadContextMapFilter</code> looks something like:</p>\n<pre><code>&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n    &lt;PatternLayout pattern=&quot;...&quot;/&gt;\n    &lt;Filters&gt;\n        &lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; operator=&quot;or&quot;&gt;\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;qa&quot;/&gt;\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;prod&quot;/&gt;\n        &lt;/ThreadContextMapFilter&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n</code></pre>\n<p>Thanks to anyone that took the time to read my post &amp; hope this can be a useful reference for anyone in the future, cheers!</p>\n"}],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75000877,"answer_count":1,"score":0,"last_activity_date":1677603483,"creation_date":1672713331,"question_id":74988617,"body_markdown":"I wish to filter certain logs if the &quot;env&quot; key in the `ThreadContextMap` has a value of `prod1` or `qa1`.\r\n\r\nI already have something like the following set up: \r\n\r\n```\r\n&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    &lt;PatternLayout pattern=&quot;...&quot;/&gt;\r\n    &lt;Filters&gt;\r\n        &lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; operator=&quot;or&quot;&gt;\r\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;qa1&quot;/&gt;\r\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;prod1&quot;/&gt;\r\n        &lt;/ThreadContextMapFilter&gt;\r\n    &lt;/Filters&gt;\r\n&lt;/Console&gt;\r\n```\r\n\r\nBut this code &quot;hardcodes&quot; the values `prod1` &amp; `qa1`. In the spirit of making the code extensible, I want to filter out those logs if they match the regex of `&quot;prod\\d+&quot;` or `&quot;qa\\d+&quot;`. \r\n\r\nValues that would match these regex&#39;s include `&quot;prod1&quot;`, `&quot;qa2&quot;`.\r\n\r\nThis is because we don&#39;t want those certain logs to appear on production &amp; qa environments.\r\n\r\nIn the `ThreadContextMap`, the key-value pairs we&#39;re checking for is `ENV`-`prod1` or `ENV`-`qa1`.\r\n\r\nI searched StackOverflow as well as the log4j2 documentation but there doesn&#39;t seem to be any mention of how such a thing can be done.\r\n\r\nAny ideas on how I can approach this or alternatives?","title":"Is it possible to filter key-value pairs of a ThreadContextMap with a Regex?","body":"<p>I wish to filter certain logs if the &quot;env&quot; key in the <code>ThreadContextMap</code> has a value of <code>prod1</code> or <code>qa1</code>.</p>\n<p>I already have something like the following set up:</p>\n<pre><code>&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n    &lt;PatternLayout pattern=&quot;...&quot;/&gt;\n    &lt;Filters&gt;\n        &lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; operator=&quot;or&quot;&gt;\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;qa1&quot;/&gt;\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;prod1&quot;/&gt;\n        &lt;/ThreadContextMapFilter&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n</code></pre>\n<p>But this code &quot;hardcodes&quot; the values <code>prod1</code> &amp; <code>qa1</code>. In the spirit of making the code extensible, I want to filter out those logs if they match the regex of <code>&quot;prod\\d+&quot;</code> or <code>&quot;qa\\d+&quot;</code>.</p>\n<p>Values that would match these regex's include <code>&quot;prod1&quot;</code>, <code>&quot;qa2&quot;</code>.</p>\n<p>This is because we don't want those certain logs to appear on production &amp; qa environments.</p>\n<p>In the <code>ThreadContextMap</code>, the key-value pairs we're checking for is <code>ENV</code>-<code>prod1</code> or <code>ENV</code>-<code>qa1</code>.</p>\n<p>I searched StackOverflow as well as the log4j2 documentation but there doesn't seem to be any mention of how such a thing can be done.</p>\n<p>Any ideas on how I can approach this or alternatives?</p>\n"},{"tags":["java","if-statement","while-loop","try-catch"],"comments":[{"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"score":0,"creation_date":1677577746,"post_id":75590217,"comment_id":133360981,"body_markdown":"Could you add an example input and output?","body":"Could you add an example input and output?"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":2,"creation_date":1677577876,"post_id":75590217,"comment_id":133361018,"body_markdown":"Due to ugly formatting it&#39;s hard to see, but one closing curly bracket is missing.","body":"Due to ugly formatting it&#39;s hard to see, but one closing curly bracket is missing."},{"owner":{"account_id":27898378,"reputation":13,"user_id":21303169,"display_name":"unknown"},"score":0,"creation_date":1677578322,"post_id":75590217,"comment_id":133361155,"body_markdown":"// this is a comment, any lines that start with //\n// (and blank lines) should be ignored\n\n[ElectricTool data]\n// data is toolName, toolCode, timesBorrowed, onLoan, cost, weight, rechargeable, power\nMakita BHP452RFWX,RD2001,12 , false,14995,1800,true,18V\nFlex Impact Screwdriver FIS439,RD2834,14,true,13499,1200 ,true,10.8V\nDeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400,false,1350W\nMilwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000,false,1500W\nBosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820, true,10.8V. the output i","body":"// this is a comment, any lines that start with // // (and blank lines) should be ignored  [ElectricTool data] // data is toolName, toolCode, timesBorrowed, onLoan, cost, weight, rechargeable, power Makita BHP452RFWX,RD2001,12 , false,14995,1800,true,18V Flex Impact Screwdriver FIS439,RD2834,14,true,13499,1200 ,true,10.8V DeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400,false,1350W Milwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000,false,1500W Bosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820, true,10.8V. the output i"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":2,"creation_date":1677578576,"post_id":75590217,"comment_id":133361228,"body_markdown":"@unknownb please edit your question and add an example input to there instead of a comment. Nobody wants to to figure out where are line endings for example.","body":"@unknownb please edit your question and add an example input to there instead of a comment. Nobody wants to to figure out where are line endings for example."}],"answers":[{"tags":[],"owner":{"account_id":1732835,"reputation":164,"user_id":1586071,"display_name":"dgg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677603460,"creation_date":1677603460,"answer_id":75595105,"question_id":75590217,"body_markdown":"Assuming the file in question looks something like this:\r\n\r\n    // this is a comment, any lines that start with //\r\n    // (and blank lines) should be ignored\r\n    [ElectricTool data]\r\n    // data is toolName, toolCode, timesBorrowed, onLoan, cost, weight, rechargeable, power\r\n    Makita BHP452RFWX,RD2001,12 , false,14995,1800,true,18V\r\n    Flex Impact Screwdriver FIS439,RD2834,14,true,13499,1200 ,true,10.8V\r\n    DeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400,false,1350W\r\n    Milwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000,false,1500W\r\n    Bosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820, true,10.8V\r\n\r\nA regular expression or two would work well (I made a couple of other minor changes too):\r\n\r\n    public void readToolData() {\r\n        Frame myFrame = new Frame();\r\n        FileDialog fileName = new FileDialog(myFrame, &quot;Select the file to load&quot;, FileDialog.LOAD);\r\n        fileName.setDirectory(&quot;/&quot;);\r\n        fileName.setVisible(true);\r\n\r\n        if (fileName.getDirectory() != null &amp;&amp; fileName.getFile() != null) {\r\n\t        String filePath = fileName.getDirectory() + fileName.getFile();\r\n\t        System.out.printf(&quot;Selected file: %1$s\\n&quot;, fileName);\r\n\t        \r\n\t        File fileData = new File(filePath);\r\n\t        String typeOfData = &quot;&quot;;\r\n\t        try {\r\n\t            // pattern for lines to be skipped\r\n\t            Pattern ptrnSkip = Pattern.compile(&quot;(?:^//|\\\\[)+?.*$&quot;);\r\n\t            // pattern for line delimiter - account for potential leading / trailing spaces\r\n\t            Pattern ptrnDlim = Pattern.compile(&quot; *, *&quot;);\r\n\t\r\n\t            // read the file line by line\r\n\t            try (Scanner scnrFile = new Scanner(fileData)) {\r\n\t                while (scnrFile.hasNextLine()) {\r\n\t                    String lineOfText = scnrFile.nextLine().trim();\r\n\t\r\n\t                    // skip empty lines and comments\r\n\t                    if (!lineOfText.isEmpty() &amp;&amp; !ptrnSkip.matcher(lineOfText).matches()) {\r\n\t                    \tSystem.out.printf(&quot;Line read: \\&quot;%1$s\\&quot;\\n&quot;, lineOfText);\r\n\t                        typeOfData = lineOfText;\r\n\t                        try (Scanner scnrLine = new Scanner(lineOfText).useDelimiter(ptrnDlim)) {\r\n\t                        \tString strDesc = scnrLine.next();\r\n\t                        \tString strCode = scnrLine.next();\r\n\t                        \tint iBorrowedCount = scnrLine.nextInt();\r\n\t                        \tboolean bIsOnLoan = scnrLine.nextBoolean();\r\n\t                        \tint iCost = scnrLine.nextInt();\r\n\t                        \tint iWeight = scnrLine.nextInt();\r\n\t                        \tboolean bIsRechargeable = scnrLine.nextBoolean();\r\n\t                        \tString strPowerSrc = scnrLine.next();\r\n\t                        \t\r\n\t                        \tSystem.out.printf(&quot;    Description: %1$s\\n&quot;, strDesc);\r\n\t                        \tSystem.out.printf(&quot;    Code: %1$s\\n&quot;, strCode);\r\n\t                        \tSystem.out.printf(&quot;    Borrowed count: %1$d\\n&quot;, iBorrowedCount);\r\n\t                        \tSystem.out.printf(&quot;    Is on loan?: %1$s\\n&quot;, bIsOnLoan ? &quot;yes&quot; : &quot;no&quot;);\r\n\t                        \tSystem.out.printf(&quot;    Cost: %1$d\\n&quot;, iCost);\r\n\t                        \tSystem.out.printf(&quot;    Weight: %1$d\\n&quot;, iWeight);\r\n\t                        \tSystem.out.printf(&quot;    Is rechargeable?: %1$s\\n&quot;, bIsRechargeable ? &quot;yes&quot; : &quot;no&quot;);\r\n\t                        \tSystem.out.printf(&quot;    Power source: %1$s\\n&quot;, strPowerSrc);\r\n\t\r\n\t\t                        Tool t = new Tool();\r\n\t                            // do something with data here\r\n\t\t                        this.storeTool(t);\r\n\t                        }\r\n\t                    } else {\r\n\t                    \tSystem.out.printf(&quot;Line skipped: \\&quot;%1$s\\&quot;\\n&quot;, lineOfText);\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        } catch (FileNotFoundException e) {\r\n\t            System.out.println(e.getMessage());\r\n\t            e.printStackTrace();\r\n\t        }\r\n        } else {\r\n            System.out.println(&quot;No file selected&quot;);\r\n        }\r\n    }\r\n\r\nThe [Apache Commons CSV library][1] is nice for reading delimited data.  [Here][2] is a short intro if you&#39;re interested.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/\r\n  [2]: https://www.baeldung.com/apache-commons-csv","title":"Program is reading txt file but ignoring the if statement","body":"<p>Assuming the file in question looks something like this:</p>\n<pre><code>// this is a comment, any lines that start with //\n// (and blank lines) should be ignored\n[ElectricTool data]\n// data is toolName, toolCode, timesBorrowed, onLoan, cost, weight, rechargeable, power\nMakita BHP452RFWX,RD2001,12 , false,14995,1800,true,18V\nFlex Impact Screwdriver FIS439,RD2834,14,true,13499,1200 ,true,10.8V\nDeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400,false,1350W\nMilwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000,false,1500W\nBosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820, true,10.8V\n</code></pre>\n<p>A regular expression or two would work well (I made a couple of other minor changes too):</p>\n<pre><code>public void readToolData() {\n    Frame myFrame = new Frame();\n    FileDialog fileName = new FileDialog(myFrame, &quot;Select the file to load&quot;, FileDialog.LOAD);\n    fileName.setDirectory(&quot;/&quot;);\n    fileName.setVisible(true);\n\n    if (fileName.getDirectory() != null &amp;&amp; fileName.getFile() != null) {\n        String filePath = fileName.getDirectory() + fileName.getFile();\n        System.out.printf(&quot;Selected file: %1$s\\n&quot;, fileName);\n        \n        File fileData = new File(filePath);\n        String typeOfData = &quot;&quot;;\n        try {\n            // pattern for lines to be skipped\n            Pattern ptrnSkip = Pattern.compile(&quot;(?:^//|\\\\[)+?.*$&quot;);\n            // pattern for line delimiter - account for potential leading / trailing spaces\n            Pattern ptrnDlim = Pattern.compile(&quot; *, *&quot;);\n\n            // read the file line by line\n            try (Scanner scnrFile = new Scanner(fileData)) {\n                while (scnrFile.hasNextLine()) {\n                    String lineOfText = scnrFile.nextLine().trim();\n\n                    // skip empty lines and comments\n                    if (!lineOfText.isEmpty() &amp;&amp; !ptrnSkip.matcher(lineOfText).matches()) {\n                        System.out.printf(&quot;Line read: \\&quot;%1$s\\&quot;\\n&quot;, lineOfText);\n                        typeOfData = lineOfText;\n                        try (Scanner scnrLine = new Scanner(lineOfText).useDelimiter(ptrnDlim)) {\n                            String strDesc = scnrLine.next();\n                            String strCode = scnrLine.next();\n                            int iBorrowedCount = scnrLine.nextInt();\n                            boolean bIsOnLoan = scnrLine.nextBoolean();\n                            int iCost = scnrLine.nextInt();\n                            int iWeight = scnrLine.nextInt();\n                            boolean bIsRechargeable = scnrLine.nextBoolean();\n                            String strPowerSrc = scnrLine.next();\n                            \n                            System.out.printf(&quot;    Description: %1$s\\n&quot;, strDesc);\n                            System.out.printf(&quot;    Code: %1$s\\n&quot;, strCode);\n                            System.out.printf(&quot;    Borrowed count: %1$d\\n&quot;, iBorrowedCount);\n                            System.out.printf(&quot;    Is on loan?: %1$s\\n&quot;, bIsOnLoan ? &quot;yes&quot; : &quot;no&quot;);\n                            System.out.printf(&quot;    Cost: %1$d\\n&quot;, iCost);\n                            System.out.printf(&quot;    Weight: %1$d\\n&quot;, iWeight);\n                            System.out.printf(&quot;    Is rechargeable?: %1$s\\n&quot;, bIsRechargeable ? &quot;yes&quot; : &quot;no&quot;);\n                            System.out.printf(&quot;    Power source: %1$s\\n&quot;, strPowerSrc);\n\n                            Tool t = new Tool();\n                            // do something with data here\n                            this.storeTool(t);\n                        }\n                    } else {\n                        System.out.printf(&quot;Line skipped: \\&quot;%1$s\\&quot;\\n&quot;, lineOfText);\n                    }\n                }\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n    } else {\n        System.out.println(&quot;No file selected&quot;);\n    }\n}\n</code></pre>\n<p>The <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV library</a> is nice for reading delimited data.  <a href=\"https://www.baeldung.com/apache-commons-csv\" rel=\"nofollow noreferrer\">Here</a> is a short intro if you're interested.</p>\n"}],"owner":{"account_id":27898378,"reputation":13,"user_id":21303169,"display_name":"unknown"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75595105,"answer_count":1,"score":-1,"last_activity_date":1677603460,"creation_date":1677577117,"question_id":75590217,"body_markdown":"I have to read a txt file using file-dialog. It works for me but I have an if statement which should ignore (&quot;/&quot;), blank lines and (&quot;\\[&quot;). The if-statement is not working, output is just the original data in txt file, how can I fix it.  Below is the full method.\r\n\r\nI&#39;m expecting the data of txt file to be without &quot;/&quot; and &quot;\\[&quot;\r\n\r\n    \r\n    public void readToolData() { Frame myFrame = new Frame(); FileDialog fileName = new FileDialog(myFrame, &quot;Open&quot;, FileDialog.LOAD); fileName.setDirectory(&quot;/&quot;); fileName.setVisible(true);\r\n    \r\n    if (fileName != null) {\r\n    String filePath = fileName.getDirectory() + fileName.getFile();\r\n    System.out.println(&quot;selected file:&quot; + fileName);\r\n    File fileData = new File(filePath);\r\n        \r\n     String typeOfData = &quot;&quot;;\r\n    \r\n     try {\r\n    // reading the file line by line scanner\r\n        Scanner read = new Scanner(fileData);\r\n         while (read.hasNextLine()) {\r\n    String lineOfText = read.nextLine().trim();\r\n    System.out.println(lineOfText);\r\n    // checking non empty or non comment | added ! to the or condition\r\n    if (!lineOfText.startsWith(&quot;/&quot;) &amp;&amp; !lineOfText.startsWith(&quot;[&quot;) || lineOfText.isEmpty())\r\n    {\r\n    typeOfData = lineOfText;\r\n    Scanner lineReader = new Scanner(lineOfText).useDelimiter(&quot;,&quot;);\r\n    Tool t = new Tool();\r\n    this.storeTool(t);\r\n          } } catch (FileNotFoundException e) { System.out.println(e.getMessage()); } } else { System.out.println(&quot;Error! No file selected!&quot;); } }\r\n\r\n    ","title":"Program is reading txt file but ignoring the if statement","body":"<p>I have to read a txt file using file-dialog. It works for me but I have an if statement which should ignore (&quot;/&quot;), blank lines and (&quot;[&quot;). The if-statement is not working, output is just the original data in txt file, how can I fix it.  Below is the full method.</p>\n<p>I'm expecting the data of txt file to be without &quot;/&quot; and &quot;[&quot;</p>\n<pre><code>public void readToolData() { Frame myFrame = new Frame(); FileDialog fileName = new FileDialog(myFrame, &quot;Open&quot;, FileDialog.LOAD); fileName.setDirectory(&quot;/&quot;); fileName.setVisible(true);\n\nif (fileName != null) {\nString filePath = fileName.getDirectory() + fileName.getFile();\nSystem.out.println(&quot;selected file:&quot; + fileName);\nFile fileData = new File(filePath);\n    \n String typeOfData = &quot;&quot;;\n\n try {\n// reading the file line by line scanner\n    Scanner read = new Scanner(fileData);\n     while (read.hasNextLine()) {\nString lineOfText = read.nextLine().trim();\nSystem.out.println(lineOfText);\n// checking non empty or non comment | added ! to the or condition\nif (!lineOfText.startsWith(&quot;/&quot;) &amp;&amp; !lineOfText.startsWith(&quot;[&quot;) || lineOfText.isEmpty())\n{\ntypeOfData = lineOfText;\nScanner lineReader = new Scanner(lineOfText).useDelimiter(&quot;,&quot;);\nTool t = new Tool();\nthis.storeTool(t);\n      } } catch (FileNotFoundException e) { System.out.println(e.getMessage()); } } else { System.out.println(&quot;Error! No file selected!&quot;); } }\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1677445309,"post_id":75574924,"comment_id":133334619,"body_markdown":"Could you show the code you have tried please?","body":"Could you show the code you have tried please?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1677446905,"post_id":75574924,"comment_id":133334836,"body_markdown":"if you need `groupingBy`: `var temp = mapPaymentWithError.entrySet().stream().collect(Collectors.groupingBy(e -&gt; e.getValue()==null));` and then `temp.get(true)` and `temp.get(false)`","body":"if you need <code>groupingBy</code>: <code>var temp = mapPaymentWithError.entrySet().stream().collect(Collectors.g&zwnj;&#8203;roupingBy(e -&gt; e.getValue()==null));</code> and then <code>temp.get(true)</code> and <code>temp.get(false)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677603096,"creation_date":1677446084,"answer_id":75575052,"question_id":75574924,"body_markdown":"Do you mean something like this?\r\n\r\n    public class ListFiltering {\r\n    \r\n       public static void main( String[] args ) {\r\n          Map&lt;Payment, String&gt; mapPaymentWithError = new HashMap&lt;&gt;();\r\n          mapPaymentWithError.put( new Payment( &quot;1&quot; ), &quot;1&quot; );\r\n          mapPaymentWithError.put( new Payment( &quot;null&quot; ), null );\r\n          \r\n          List&lt;Payment&gt; withNullErrors = mapPaymentWithError.entrySet().stream()\r\n                  .filter( e -&gt;  e.getValue() == null  )\r\n                  .map( e -&gt; e.getKey() )\r\n                  .toList();\r\n          \r\n          List&lt;Payment&gt; withErrors  = mapPaymentWithError.entrySet().stream()\r\n                  .filter( e -&gt;  e.getValue() != null  )\r\n                  .map( e -&gt; e.getKey() )\r\n                  .toList();\r\n          \r\n          System.out.println( &quot;with null errors: &quot; + withNullErrors );\r\n          System.out.println( &quot;with other errors: &quot; + withErrors );\r\n       }\r\n   \r\n       static record Payment( String id ) {}\r\n    }\r\n","title":"Java HashMap take out keys based on value","body":"<p>Do you mean something like this?</p>\n<pre><code>public class ListFiltering {\n\n   public static void main( String[] args ) {\n      Map&lt;Payment, String&gt; mapPaymentWithError = new HashMap&lt;&gt;();\n      mapPaymentWithError.put( new Payment( &quot;1&quot; ), &quot;1&quot; );\n      mapPaymentWithError.put( new Payment( &quot;null&quot; ), null );\n      \n      List&lt;Payment&gt; withNullErrors = mapPaymentWithError.entrySet().stream()\n              .filter( e -&gt;  e.getValue() == null  )\n              .map( e -&gt; e.getKey() )\n              .toList();\n      \n      List&lt;Payment&gt; withErrors  = mapPaymentWithError.entrySet().stream()\n              .filter( e -&gt;  e.getValue() != null  )\n              .map( e -&gt; e.getKey() )\n              .toList();\n      \n      System.out.println( &quot;with null errors: &quot; + withNullErrors );\n      System.out.println( &quot;with other errors: &quot; + withErrors );\n   }\n\n   static record Payment( String id ) {}\n}\n</code></pre>\n"}],"owner":{"account_id":15204851,"reputation":21,"user_id":16687260,"display_name":"Ravi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75575052,"answer_count":1,"score":-1,"last_activity_date":1677603096,"creation_date":1677444565,"question_id":75574924,"body_markdown":"This is my Hashmap in which the key is a model `Payment` and value is a `String`, which is an Error occurred during payment.\r\n\r\n`Map&lt;Payment, String&gt; mapPaymentWithError = new HashMap&lt;&gt;()`\r\n\r\nIf there are no errors in Payment we are storing String value as null and the key as Payment model data.\r\n\r\nI am trying to group Payment based on whether error `String` was `Null` or `NotNull` from above HashMap which is having many records.\r\n\r\nLike below\r\n\r\n`List&lt;Payment&gt; withNullErrors = .............. // having String value as Null\r\nList&lt;Payment&gt; withErrors = ................... // having String value as NotNull`\r\n\r\nHow to do this ?\r\n\r\nTried using Collectors.GroupingBy and other ways but its not working","title":"Java HashMap take out keys based on value","body":"<p>This is my Hashmap in which the key is a model <code>Payment</code> and value is a <code>String</code>, which is an Error occurred during payment.</p>\n<p><code>Map&lt;Payment, String&gt; mapPaymentWithError = new HashMap&lt;&gt;()</code></p>\n<p>If there are no errors in Payment we are storing String value as null and the key as Payment model data.</p>\n<p>I am trying to group Payment based on whether error <code>String</code> was <code>Null</code> or <code>NotNull</code> from above HashMap which is having many records.</p>\n<p>Like below</p>\n<p><code>List&lt;Payment&gt; withNullErrors = .............. // having String value as Null List&lt;Payment&gt; withErrors = ................... // having String value as NotNull</code></p>\n<p>How to do this ?</p>\n<p>Tried using Collectors.GroupingBy and other ways but its not working</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1326597763,"creation_date":1326597763,"answer_id":8867312,"question_id":8867284,"body_markdown":"Right-click on the project, click &quot;Properties&quot;.  Click on &quot;Java Build Path&quot;.\r\n\r\nIf you want to add pre-compiled *.class files, go to the &quot;Libraries&quot; tab, then use &quot;Add Class Folder...&quot;.\r\n\r\nIf you want to add additional source folders (containing *.java files), from the same dialog, go back to the &quot;Source&quot; tab, then use &quot;Add Folder...&quot;.\r\n\r\nThis will accomplish everything you asked for beyond your first sentence, which mentions JAR files.  In order to add these (if you have them), use the &quot;Add JARs...&quot; button from the same &quot;Libraries&quot; tab as mentioned above.","title":"Add Amazon Product Advertising API files as Dependencies in my Eclipse Project","body":"<p>Right-click on the project, click \"Properties\".  Click on \"Java Build Path\".</p>\n\n<p>If you want to add pre-compiled *.class files, go to the \"Libraries\" tab, then use \"Add Class Folder...\".</p>\n\n<p>If you want to add additional source folders (containing *.java files), from the same dialog, go back to the \"Source\" tab, then use \"Add Folder...\".</p>\n\n<p>This will accomplish everything you asked for beyond your first sentence, which mentions JAR files.  In order to add these (if you have them), use the \"Add JARs...\" button from the same \"Libraries\" tab as mentioned above.</p>\n"}],"owner":{"account_id":371409,"reputation":1563,"user_id":719919,"accept_rate":76,"display_name":"SemperFly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8867312,"answer_count":1,"score":2,"last_activity_date":1677602994,"creation_date":1326597114,"question_id":8867284,"body_markdown":"I followed the instructions [here][1] to generate the java files for Amazon&#39;s Product Advertising API. I&#39;m currently left with a directory tree like so...\r\n\r\n\r\n    C:.\r\n    build\r\n       com\r\n           ECS\r\n               client\r\n                   jax\r\n    src\r\n        com\r\n            ECS\r\n                client\r\n                    jax\r\n\r\n\r\n...that contains .class and .java files. I had thought my understanding of Eclipse was adequate enough to complete a task like this but I can&#39;t for the life of me figure out how to add those files as dependencies within my project.\r\n\r\nSo far I&#39;ve tried to import as a project and create a new project from existing jars but have had no success.\r\n\r\nHow the heck do I do this?!\r\n\r\n  [1]: http://docs.amazonwebservices.com/AWSECommerceService/2010-11-01/GSG/index.html?YourDevelopmentEnvironment.html\r\n","title":"Add Amazon Product Advertising API files as Dependencies in my Eclipse Project","body":"<p>I followed the instructions <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/2010-11-01/GSG/index.html?YourDevelopmentEnvironment.html\" rel=\"nofollow\">here</a> to generate the java files for Amazon's Product Advertising API. I'm currently left with a directory tree like so...</p>\n\n<pre><code>C:.\nbuild\n   com\n       ECS\n           client\n               jax\nsrc\n    com\n        ECS\n            client\n                jax\n</code></pre>\n\n<p>...that contains .class and .java files. I had thought my understanding of Eclipse was adequate enough to complete a task like this but I can't for the life of me figure out how to add those files as dependencies within my project.</p>\n\n<p>So far I've tried to import as a project and create a new project from existing jars but have had no success.</p>\n\n<p>How the heck do I do this?!</p>\n"},{"tags":["java","spring-boot","constructor"],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638008587,"creation_date":1638008240,"answer_id":70133860,"question_id":70133616,"body_markdown":"```\r\n    public MyclassName(\r\n        List&lt;String&gt; tableIds) {\r\n        this.tableIds = tableIds;\r\n    }\r\n```\r\nThis means that your ```MyclassNames```, as a ```Configuration``` bean in ```Spring```, needs to inject a bean of type ```List&lt;String&gt;```, it happens that ```slueth```&#39;s ```TraceBaggageConfiguration``` class defines some beans of type ```List&lt;String&gt;```:\r\n\r\n\r\n```\r\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.baggage-keys&quot;})\r\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.baggage-keys&quot;)\r\n    java.util.List&lt;java.lang.String&gt; baggageKeys() { /* compiled code */ }\r\n\r\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.local-keys&quot;})\r\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.local-keys&quot;)\r\n    java.util.List&lt;java.lang.String&gt; localKeys() { /* compiled code */ }\r\n\r\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.propagation-keys&quot;})\r\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.propagation-keys&quot;)\r\n    java.util.List&lt;java.lang.String&gt; propagationKeys() { /* compiled code */ }\r\n```\r\nSo ```spring``` reported an error,  did not know which bean to inject. You may need to use ```Qualifier``` to specify the injected bean. Or, have you defined the corresponding bean which hash a  ```List&lt;String&gt;``` type need to be injected?  What is ```List&lt;String&gt; tableIds``` in your ```MyclassName```? You need to define a ```Bean``` like this:\r\n\r\n```\r\n    public MyclassNamesss(\r\n            @Qualifier(&quot;test&quot;) List&lt;String&gt; tableIds) {\r\n        this.tableIds = tableIds;\r\n    }\r\n\r\n    @Bean(&quot;test&quot;)\r\n    public List&lt;String&gt; myString() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n```\r\nOr you can use, in this case, the tableId will be ```null```:\r\n```\r\n    public MyclassName(\r\n            @Autowired(required = false) List&lt;String&gt; tableIds) {\r\n        this.tableIds = tableIds;\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"Unexpected error in spring boot constructor","body":"<pre><code>    public MyclassName(\n        List&lt;String&gt; tableIds) {\n        this.tableIds = tableIds;\n    }\n</code></pre>\n<p>This means that your <code>MyclassNames</code>, as a <code>Configuration</code> bean in <code>Spring</code>, needs to inject a bean of type <code>List&lt;String&gt;</code>, it happens that <code>slueth</code>'s <code>TraceBaggageConfiguration</code> class defines some beans of type <code>List&lt;String&gt;</code>:</p>\n<pre><code>    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.baggage-keys&quot;})\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.baggage-keys&quot;)\n    java.util.List&lt;java.lang.String&gt; baggageKeys() { /* compiled code */ }\n\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.local-keys&quot;})\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.local-keys&quot;)\n    java.util.List&lt;java.lang.String&gt; localKeys() { /* compiled code */ }\n\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.propagation-keys&quot;})\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.propagation-keys&quot;)\n    java.util.List&lt;java.lang.String&gt; propagationKeys() { /* compiled code */ }\n</code></pre>\n<p>So <code>spring</code> reported an error,  did not know which bean to inject. You may need to use <code>Qualifier</code> to specify the injected bean. Or, have you defined the corresponding bean which hash a  <code>List&lt;String&gt;</code> type need to be injected?  What is <code>List&lt;String&gt; tableIds</code> in your <code>MyclassName</code>? You need to define a <code>Bean</code> like this:</p>\n<pre><code>    public MyclassNamesss(\n            @Qualifier(&quot;test&quot;) List&lt;String&gt; tableIds) {\n        this.tableIds = tableIds;\n    }\n\n    @Bean(&quot;test&quot;)\n    public List&lt;String&gt; myString() {\n        return new ArrayList&lt;&gt;();\n    }\n</code></pre>\n<p>Or you can use, in this case, the tableId will be <code>null</code>:</p>\n<pre><code>    public MyclassName(\n            @Autowired(required = false) List&lt;String&gt; tableIds) {\n        this.tableIds = tableIds;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2922632,"reputation":2034,"user_id":3540652,"display_name":"Mumrah81"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638008638,"creation_date":1638008638,"answer_id":70133902,"question_id":70133616,"body_markdown":"The class `MyclassName` is known to the spring framework.\r\n\r\nSo spring will try to create an instance of `MyclassName` by using the constructor:\r\n\r\n    public MyclassName(List&lt;String&gt; tableIds)\r\n\r\nThe `Parameter 0 of constructor in MyclassName` is `List&lt;String&gt; tableIds`\r\n\r\nSpring is trying to provide a value for this parameter but instead of only one available value, it founds 4. So Spring is not intelligent enought to choose one in your place.\r\n\r\nThe 4 available values are provided by Sleuth and are declared in the TraceBaggageConfiguration.class like follow:\r\n\r\n    @Bean(BAGGAGE_KEYS)\r\n\t@ConfigurationProperties(BAGGAGE_KEYS)\r\n\tList&lt;String&gt; baggageKeys() {...}\r\n\r\n\t@Bean(LOCAL_KEYS)\r\n\t@ConfigurationProperties(LOCAL_KEYS)\r\n\tList&lt;String&gt; localKeys()  {...}\r\n\r\n\t@Bean(PROPAGATION_KEYS)\r\n\t@ConfigurationProperties(PROPAGATION_KEYS)\r\n\tList&lt;String&gt; propagationKeys()  {...}\r\n\r\n\t@Bean(WHITELISTED_MDC_KEYS)\r\n\t@ConfigurationProperties(WHITELISTED_MDC_KEYS)\r\n\tList&lt;String&gt; whiteListedMDCKeys()  {...}\r\n\r\n\r\nTo solve the indecision you need to tell Spring which `List&lt;String&gt;` you realy want injected in your constructor by using an unique identifier.\r\n\r\nFirst qualify (give an id) to the expected bean\r\n\r\n    @Bean(&quot;myExpectedTableIds&quot;)\r\n\tList&lt;String&gt; myTableIdsProcucerMethod()\r\n\r\nThen use the `org.springframework.beans.factory.annotation.Qualifier` annotation to tell Spring which bean you realy want:\r\n\r\n    public MyclassName(@Qualifier(&quot;myExpectedTableIds&quot;) List&lt;String&gt; tableIds)","title":"Unexpected error in spring boot constructor","body":"<p>The class <code>MyclassName</code> is known to the spring framework.</p>\n<p>So spring will try to create an instance of <code>MyclassName</code> by using the constructor:</p>\n<pre><code>public MyclassName(List&lt;String&gt; tableIds)\n</code></pre>\n<p>The <code>Parameter 0 of constructor in MyclassName</code> is <code>List&lt;String&gt; tableIds</code></p>\n<p>Spring is trying to provide a value for this parameter but instead of only one available value, it founds 4. So Spring is not intelligent enought to choose one in your place.</p>\n<p>The 4 available values are provided by Sleuth and are declared in the TraceBaggageConfiguration.class like follow:</p>\n<pre><code>@Bean(BAGGAGE_KEYS)\n@ConfigurationProperties(BAGGAGE_KEYS)\nList&lt;String&gt; baggageKeys() {...}\n\n@Bean(LOCAL_KEYS)\n@ConfigurationProperties(LOCAL_KEYS)\nList&lt;String&gt; localKeys()  {...}\n\n@Bean(PROPAGATION_KEYS)\n@ConfigurationProperties(PROPAGATION_KEYS)\nList&lt;String&gt; propagationKeys()  {...}\n\n@Bean(WHITELISTED_MDC_KEYS)\n@ConfigurationProperties(WHITELISTED_MDC_KEYS)\nList&lt;String&gt; whiteListedMDCKeys()  {...}\n</code></pre>\n<p>To solve the indecision you need to tell Spring which <code>List&lt;String&gt;</code> you realy want injected in your constructor by using an unique identifier.</p>\n<p>First qualify (give an id) to the expected bean</p>\n<pre><code>@Bean(&quot;myExpectedTableIds&quot;)\nList&lt;String&gt; myTableIdsProcucerMethod()\n</code></pre>\n<p>Then use the <code>org.springframework.beans.factory.annotation.Qualifier</code> annotation to tell Spring which bean you realy want:</p>\n<pre><code>public MyclassName(@Qualifier(&quot;myExpectedTableIds&quot;) List&lt;String&gt; tableIds)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677602912,"creation_date":1677602912,"answer_id":75595006,"question_id":70133616,"body_markdown":"For what it&#39;s worth, and because I found this post looking for the same error message, I was doing this in Spring Boot, using Lombok\r\ns `@RequiredArgsConstructor` to inject the `List&lt;String&gt;`:\r\n\r\n```\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\r\n    public static class SomeProperties {\r\n        @Getter\r\n        private final List&lt;String&gt; patterns;\r\n    }\r\n```\r\n\r\nand fixed it by initializing the list manually:\r\n\r\n```\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\r\n    public static class SomeProperties {\r\n        @Getter\r\n        private final List&lt;String&gt; patterns = new ArrayList&lt;&gt;();\r\n    }\r\n```\r\n\r\nthe list was then correctly populated with the spring properties.","title":"Unexpected error in spring boot constructor","body":"<p>For what it's worth, and because I found this post looking for the same error message, I was doing this in Spring Boot, using Lombok\ns <code>@RequiredArgsConstructor</code> to inject the <code>List&lt;String&gt;</code>:</p>\n<pre><code>    @Component\n    @RequiredArgsConstructor\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\n    public static class SomeProperties {\n        @Getter\n        private final List&lt;String&gt; patterns;\n    }\n</code></pre>\n<p>and fixed it by initializing the list manually:</p>\n<pre><code>    @Component\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\n    public static class SomeProperties {\n        @Getter\n        private final List&lt;String&gt; patterns = new ArrayList&lt;&gt;();\n    }\n</code></pre>\n<p>the list was then correctly populated with the spring properties.</p>\n"}],"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677602912,"creation_date":1638005974,"question_id":70133616,"body_markdown":"I wrote a sample program like below.\r\n\r\n```\r\n@Configuration\r\npublic class MyclassName{\r\n\r\n    private final List&lt;String&gt; tableIds;\r\n\r\n    public MyclassName(\r\n        List&lt;String&gt; tableIds) {\r\n        this.tableIds = tableIds;\r\n    }\r\n}\r\n```\r\nWhile running i am getting the below error.\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in MyclassName required a single bean, but 4 were found:\r\n\t- spring.sleuth.baggage-keys: defined by method &#39;baggageKeys&#39; in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\r\n\t- spring.sleuth.local-keys: defined by method &#39;localKeys&#39; in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\r\n\t- spring.sleuth.propagation-keys: defined by method &#39;propagationKeys&#39; in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\r\n\t- spring.sleuth.log.slf4j.whitelisted-mdc-keys: defined by method &#39;whiteListedMDCKeys&#39; in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\r\n\r\n\r\nAction:\r\n\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\nWe are using sleuth for tracing, so pom.xml has that dependencies aswell. But this is a very basic example, why iam getting this error. Can anyone help on this?","title":"Unexpected error in spring boot constructor","body":"<p>I wrote a sample program like below.</p>\n<pre><code>@Configuration\npublic class MyclassName{\n\n    private final List&lt;String&gt; tableIds;\n\n    public MyclassName(\n        List&lt;String&gt; tableIds) {\n        this.tableIds = tableIds;\n    }\n}\n</code></pre>\n<p>While running i am getting the below error.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in MyclassName required a single bean, but 4 were found:\n    - spring.sleuth.baggage-keys: defined by method 'baggageKeys' in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\n    - spring.sleuth.local-keys: defined by method 'localKeys' in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\n    - spring.sleuth.propagation-keys: defined by method 'propagationKeys' in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\n    - spring.sleuth.log.slf4j.whitelisted-mdc-keys: defined by method 'whiteListedMDCKeys' in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\n\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>We are using sleuth for tracing, so pom.xml has that dependencies aswell. But this is a very basic example, why iam getting this error. Can anyone help on this?</p>\n"},{"tags":["java","eclipse","tomcat","jdbc"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1677590119,"post_id":75592241,"comment_id":133364576,"body_markdown":"You don&#39;t have an index.html or index.jsp or welcome file specified in your web.xml.","body":"You don&#39;t have an index.html or index.jsp or welcome file specified in your web.xml."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1677602452,"post_id":75592241,"comment_id":133368833,"body_markdown":"Tomcat 10 provides Servlet API 5. If you want to use 4.0, you must go back to Tomcat 9.x. Do not put an older version of the Servlet API into your own WEB-INF/lib folder to get around this. Tomcat already provides you with its version, and that&#39;s the version of the Interfaces and base Classes it expects to be able to use to call your Servlets. Also, you have not show the 404 error at all, not what was requested, nor the server output from it.","body":"Tomcat 10 provides Servlet API 5. If you want to use 4.0, you must go back to Tomcat 9.x. Do not put an older version of the Servlet API into your own WEB-INF/lib folder to get around this. Tomcat already provides you with its version, and that&#39;s the version of the Interfaces and base Classes it expects to be able to use to call your Servlets. Also, you have not show the 404 error at all, not what was requested, nor the server output from it."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1677609973,"post_id":75592241,"comment_id":133370894,"body_markdown":"Does this answer your question? [Servlet returns &quot;HTTP Status 404 The requested resource (/servlet) is not available&quot;](https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa\">Servlet returns &quot;HTTP Status 404 The requested resource (/servlet) is not available&quot;</a>"}],"owner":{"account_id":26378588,"reputation":209,"user_id":20032193,"display_name":"Agnum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1677602874,"creation_date":1677588255,"question_id":75592241,"body_markdown":"  \r\n\r\nServlet\r\n\r\n    package com.crud.app;\r\n    \r\n    import java.io.IOException;\r\n    import java.sql.SQLException;\r\n    import java.util.List;\r\n    \r\n    import javax.servlet.RequestDispatcher;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.sql.DataSource;\r\n    \r\n    import jakarta.annotation.Resource;\r\n    \r\n    /**\r\n     * Servlet implementation class ServletUtil\r\n     */\r\n    @WebServlet(&quot;/ServletUtil&quot;)\r\n    public class ServletUtil extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Resource(name=&quot;jdbc/web_student_tracker&quot;)//db name\r\n    \tpublic StudentDbUtil studentDB;\r\n        private DataSource datasource;//connection pool\r\n             \r\n        public ServletUtil() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic void init() throws ServletException {//will be intialised when the server is called\r\n    \t\tsuper.init();\r\n    \t\ttry {\r\n    \t\t\tstudentDB=new StudentDbUtil(datasource);//passing the connection pool\r\n    \t\t}\r\n    \t\tcatch(Exception es) {//if db has an error\r\n    \t\t\tes.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \ttry {\r\n    \t\tlistStudent(request,response);\r\n    \t} catch (SQLException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t}\r\n    \r\n    \tprivate void listStudent(HttpServletRequest request, HttpServletResponse response) throws SQLException, ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tList&lt;StudentModel&gt; studentData=studentDB.getStudent();//get student data\r\n    \t\trequest.setAttribute(&quot;STUDENT_DATA&quot;, studentData);//setting an attribute so that can be iterated\r\n    \t\tRequestDispatcher dispatcher=request.getRequestDispatcher(&quot;/listStudent.jsp&quot;);//dispatching to jsp\r\n    \t\tdispatcher.forward(request, response);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n \r\n \r\nWeb.xml\r\n\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n             \r\n      &lt;display-name&gt;Student Tracker App&lt;/display-name&gt;\r\n    \r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;ServletUtil&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.crud.app.ServletUtil&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;ServletUtil&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/ServletUtil&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    \r\n      &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/error.jsp&lt;/location&gt;\r\n      &lt;/error-page&gt;\r\n    \r\n      &lt;resource-ref&gt;\r\n        &lt;description&gt;DB Connection&lt;/description&gt;\r\n        &lt;res-ref-name&gt;jdbc/web_student_tracker&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n      &lt;/resource-ref&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n   \r\nDB UTILITY\r\n\r\n    package com.crud.app;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    public class StudentDbUtil {\r\n    public DataSource datasource;\r\n    \r\n    public StudentDbUtil(DataSource thedatasource) {\r\n    \tdatasource=thedatasource;\r\n    }\r\n    public List&lt;StudentModel&gt;getStudent() throws SQLException{\r\n    \t\r\n    \tList&lt;StudentModel&gt; newList=new ArrayList&lt;&gt;();\r\n    \tConnection mycnt=null;\r\n    \tStatement mystatement=null;\r\n    \tResultSet result=null;\r\n    \ttry {\r\n    \t\tmycnt=datasource.getConnection();\r\n    \t\tString sqlQuery=&quot;select * from student order by last_name&quot;;\r\n    \t\tmystatement=mycnt.createStatement();\r\n    \t\tresult=mystatement.executeQuery(sqlQuery);\r\n    \t\t\r\n    \t\twhile(result.next()) {\r\n    \t\t\t//retrieve dsta\r\n    \t\t\tint id=result.getInt(&quot;id&quot;);\r\n    \t\t\tString firstName=result.getString(&quot;firstName&quot;);\r\n    \t\t\tString lastName=result.getString(&quot;lastName&quot;);\r\n    \t\t\tString email=result.getString(&quot;email&quot;);\r\n    \t\t\t//create an object\r\n    \t\t\tStudentModel studentDataObj=new StudentModel(id,firstName,lastName,email);\r\n    \t\tSystem.out.println(studentDataObj + &quot;obj&quot;);\r\n    \t\tnewList.add(studentDataObj);\r\n    \t\t}\r\n    \t\treturn newList;\r\n    \r\n    \t}\r\n    \tfinally {\r\n    \t\tclose(mycnt,mystatement,result);\r\n    \t}\r\n    \t\r\n    }\r\n    private void close(Connection mycnt, Statement mystatement, ResultSet result) {\r\n    //to prevent memory leak\r\n    \ttry {\r\n    \t\tif(mycnt!=null) {\r\n    \t\t\tmycnt.close();\r\n    \t\t}\r\n    \t\tif(mystatement!=null) {\r\n    \t\t\tmystatement.close();\r\n    \t\t}\r\n    \t\tif(result!=null) {\r\n    \t\t\tmystatement.close();\r\n    \t\t}\r\n    \t}\r\n    \tcatch(Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n    }\r\n\r\n\r\nModel Class\r\n\r\n    package com.crud.app;\r\n    \r\n    public class StudentModel {\r\n    public int id;\r\n    \r\n    public String firstName;\r\n    public String lastName;\r\n    public String email;\r\n    public StudentModel(String firstName, String lastName, String email) {\r\n    \tthis.firstName = firstName;\r\n    \tthis.lastName = lastName;\r\n    \tthis.email = email;\r\n    }\r\n    \r\n    public StudentModel(int id, String firstName, String lastName, String email) {\r\n    \tthis.id = id;\r\n    \tthis.firstName = firstName;\r\n    \tthis.lastName = lastName;\r\n    \tthis.email = email;\r\n    }\r\n    public int getId() {\r\n    \treturn id;\r\n    }\r\n    \r\n    public void setId(int id) {\r\n    \tthis.id = id;\r\n    }\r\n    \r\n    public String getFirstName() {\r\n    \treturn firstName;\r\n    }\r\n    \r\n    public void setFirstName(String firstName) {\r\n    \tthis.firstName = firstName;\r\n    }\r\n    \r\n    public String getLastName() {\r\n    \treturn lastName;\r\n    }\r\n    \r\n    public void setLastName(String lastName) {\r\n    \tthis.lastName = lastName;\r\n    }\r\n    \r\n    public String getEmail() {\r\n    \treturn email;\r\n    }\r\n    \r\n    public void setEmail(String email) {\r\n    \tthis.email = email;\r\n    }\r\n    \r\n    \r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\nWhile running this project on server it is returning 404 on browser with a Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.I still cannot understand what is behind this.Any help would be much appreciated.\r\nFrom this image the path and file structure can be analysed.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zppkh.png\r\n","title":"Apache Tomcat 10.1 returning 404 while running this small project","body":"<p>Servlet</p>\n<pre><code>package com.crud.app;\n\nimport java.io.IOException;\nimport java.sql.SQLException;\nimport java.util.List;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.sql.DataSource;\n\nimport jakarta.annotation.Resource;\n\n/**\n * Servlet implementation class ServletUtil\n */\n@WebServlet(&quot;/ServletUtil&quot;)\npublic class ServletUtil extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    \n    @Resource(name=&quot;jdbc/web_student_tracker&quot;)//db name\n    public StudentDbUtil studentDB;\n    private DataSource datasource;//connection pool\n         \n    public ServletUtil() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void init() throws ServletException {//will be intialised when the server is called\n        super.init();\n        try {\n            studentDB=new StudentDbUtil(datasource);//passing the connection pool\n        }\n        catch(Exception es) {//if db has an error\n            es.printStackTrace();\n        }\n        \n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    try {\n        listStudent(request,response);\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    }\n\n    private void listStudent(HttpServletRequest request, HttpServletResponse response) throws SQLException, ServletException, IOException {\n        // TODO Auto-generated method stub\n        List&lt;StudentModel&gt; studentData=studentDB.getStudent();//get student data\n        request.setAttribute(&quot;STUDENT_DATA&quot;, studentData);//setting an attribute so that can be iterated\n        RequestDispatcher dispatcher=request.getRequestDispatcher(&quot;/listStudent.jsp&quot;);//dispatching to jsp\n        dispatcher.forward(request, response);\n    }\n\n\n\n}\n</code></pre>\n<p>Web.xml</p>\n   \n<pre><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n         \n  &lt;display-name&gt;Student Tracker App&lt;/display-name&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;ServletUtil&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.crud.app.ServletUtil&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;ServletUtil&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/ServletUtil&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n  &lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/error.jsp&lt;/location&gt;\n  &lt;/error-page&gt;\n\n  &lt;resource-ref&gt;\n    &lt;description&gt;DB Connection&lt;/description&gt;\n    &lt;res-ref-name&gt;jdbc/web_student_tracker&lt;/res-ref-name&gt;\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\n  &lt;/resource-ref&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>DB UTILITY</p>\n<pre><code>package com.crud.app;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.sql.DataSource;\n\npublic class StudentDbUtil {\npublic DataSource datasource;\n\npublic StudentDbUtil(DataSource thedatasource) {\n    datasource=thedatasource;\n}\npublic List&lt;StudentModel&gt;getStudent() throws SQLException{\n    \n    List&lt;StudentModel&gt; newList=new ArrayList&lt;&gt;();\n    Connection mycnt=null;\n    Statement mystatement=null;\n    ResultSet result=null;\n    try {\n        mycnt=datasource.getConnection();\n        String sqlQuery=&quot;select * from student order by last_name&quot;;\n        mystatement=mycnt.createStatement();\n        result=mystatement.executeQuery(sqlQuery);\n        \n        while(result.next()) {\n            //retrieve dsta\n            int id=result.getInt(&quot;id&quot;);\n            String firstName=result.getString(&quot;firstName&quot;);\n            String lastName=result.getString(&quot;lastName&quot;);\n            String email=result.getString(&quot;email&quot;);\n            //create an object\n            StudentModel studentDataObj=new StudentModel(id,firstName,lastName,email);\n        System.out.println(studentDataObj + &quot;obj&quot;);\n        newList.add(studentDataObj);\n        }\n        return newList;\n\n    }\n    finally {\n        close(mycnt,mystatement,result);\n    }\n    \n}\nprivate void close(Connection mycnt, Statement mystatement, ResultSet result) {\n//to prevent memory leak\n    try {\n        if(mycnt!=null) {\n            mycnt.close();\n        }\n        if(mystatement!=null) {\n            mystatement.close();\n        }\n        if(result!=null) {\n            mystatement.close();\n        }\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>Model Class</p>\n<pre><code>package com.crud.app;\n\npublic class StudentModel {\npublic int id;\n\npublic String firstName;\npublic String lastName;\npublic String email;\npublic StudentModel(String firstName, String lastName, String email) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.email = email;\n}\n\npublic StudentModel(int id, String firstName, String lastName, String email) {\n    this.id = id;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.email = email;\n}\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zppkh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zppkh.png\" alt=\"enter image description here\" /></a>\nWhile running this project on server it is returning 404 on browser with a Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.I still cannot understand what is behind this.Any help would be much appreciated.\nFrom this image the path and file structure can be analysed.</p>\n"},{"tags":["java","maven","maven-shade-plugin"],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1504503569,"creation_date":1341329580,"answer_id":11314333,"question_id":11314182,"body_markdown":"See https://issues.apache.org/jira/browse/MSHADE-121, and also https://issues.apache.org/jira/browse/MSHADE-124.\r\n\r\nThere is an option to move the d-r-p to elsewhere, but you may not like the consequences.\r\n\r\nYou are wrong about the -shaded jar, it always ends up in target/ unless you move it elsewhere.\r\n","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>See <a href=\"https://issues.apache.org/jira/browse/MSHADE-121\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MSHADE-121</a>, and also <a href=\"https://issues.apache.org/jira/browse/MSHADE-124\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MSHADE-124</a>.</p>\n\n<p>There is an option to move the d-r-p to elsewhere, but you may not like the consequences.</p>\n\n<p>You are wrong about the -shaded jar, it always ends up in target/ unless you move it elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":85983,"reputation":4648,"user_id":239408,"accept_rate":62,"display_name":"xverges"},"down_vote_count":1,"up_vote_count":84,"is_accepted":true,"score":83,"last_activity_date":1677601746,"creation_date":1341379898,"answer_id":11322920,"question_id":11314182,"body_markdown":"You can avoid having it created by setting `createDependencyReducedPom` to false.\r\n\r\ne.g.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n        &lt;/configuration&gt;\r\n        ....\r\n        ....\r\n    &lt;/plugin&gt;\r\n\r\nSee http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom \r\n\r\n\r\n&gt; **\\&lt;createDependencyReducedPom\\&gt;**\r\n&gt;\r\n&gt;Flag whether to generate a simplified POM for the shaded artifact. If set to true, dependencies that have been included into the uber JAR will be removed from the &lt;dependencies&gt; section of the generated POM. The reduced POM will be named dependency-reduced-pom.xml and is stored into the same directory as the shaded artifact. Unless you also specify dependencyReducedPomLocation, the plugin will create a temporary file named dependency-reduced-pom.xml in the project basedir.\r\n&gt;* **Type**: boolean\r\n&gt;* **Required**: No\r\n&gt;* **Default**: true\r\n","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>You can avoid having it created by setting <code>createDependencyReducedPom</code> to false.</p>\n<p>e.g.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n    &lt;/configuration&gt;\n    ....\n    ....\n&lt;/plugin&gt;\n</code></pre>\n<p>See <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom\" rel=\"nofollow noreferrer\">http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom</a></p>\n<blockquote>\n<p><strong>&lt;createDependencyReducedPom&gt;</strong></p>\n<p>Flag whether to generate a simplified POM for the shaded artifact. If set to true, dependencies that have been included into the uber JAR will be removed from the  section of the generated POM. The reduced POM will be named dependency-reduced-pom.xml and is stored into the same directory as the shaded artifact. Unless you also specify dependencyReducedPomLocation, the plugin will create a temporary file named dependency-reduced-pom.xml in the project basedir.</p>\n<ul>\n<li><strong>Type</strong>: boolean</li>\n<li><strong>Required</strong>: No</li>\n<li><strong>Default</strong>: true</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5000508,"reputation":47,"user_id":4019694,"display_name":"nanite"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1411059570,"creation_date":1411055863,"answer_id":25917329,"question_id":11314182,"body_markdown":"the documentation on http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html is incorrect when it says:\r\n\r\n&gt; createDependencyReducedPom\tboolean\t-\tFlag whether to generate a\r\n&gt; simplified POM for the shaded artifact. If set to true, dependencies\r\n&gt; that have been included into the uber JAR will be removed from the\r\n&gt; &lt;dependencies&gt; section of the generated POM. The reduced POM will be\r\n&gt; named dependency-reduced-pom.xml and is stored into the same directory\r\n&gt; as the shaded artifact. Unless you also specify\r\n&gt; dependencyReducedPomLocation, the plugin will create a temporary file\r\n&gt; named dependency-reduced-pom.xml in the project basedir. Default value\r\n&gt; is: true.\r\n\r\nthe dependency-reduced-pom.xml is *not* stored in the same directory as the shaded artifact (target directory) ... it is in fact generated in the base directory, not target","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>the documentation on <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html\" rel=\"nofollow\">http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html</a> is incorrect when it says:</p>\n\n<blockquote>\n  <p>createDependencyReducedPom    boolean -   Flag whether to generate a\n  simplified POM for the shaded artifact. If set to true, dependencies\n  that have been included into the uber JAR will be removed from the\n   section of the generated POM. The reduced POM will be\n  named dependency-reduced-pom.xml and is stored into the same directory\n  as the shaded artifact. Unless you also specify\n  dependencyReducedPomLocation, the plugin will create a temporary file\n  named dependency-reduced-pom.xml in the project basedir. Default value\n  is: true.</p>\n</blockquote>\n\n<p>the dependency-reduced-pom.xml is <em>not</em> stored in the same directory as the shaded artifact (target directory) ... it is in fact generated in the base directory, not target</p>\n"},{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1413467863,"creation_date":1413467863,"answer_id":26406317,"question_id":11314182,"body_markdown":"Based on **bmargulies**&#39; answer and his comment on **Xv.**&#39;s answer, I decided to configure the dependency-reduced POM to be output to `target/`, which is already ignored in my VCS.\r\n\r\nTo do that, I just added the `dependencyReducedPomLocation` element to the `configuration` element of the plugin, i.e.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n      &lt;dependencyReducedPomLocation&gt;${project.build.directory}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\r\n      (...)\r\n    &lt;/configuration&gt;","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>Based on <strong>bmargulies</strong>' answer and his comment on <strong>Xv.</strong>'s answer, I decided to configure the dependency-reduced POM to be output to <code>target/</code>, which is already ignored in my VCS.</p>\n\n<p>To do that, I just added the <code>dependencyReducedPomLocation</code> element to the <code>configuration</code> element of the plugin, i.e.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;dependencyReducedPomLocation&gt;${project.build.directory}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\n  (...)\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3364006,"reputation":31,"user_id":2825157,"display_name":"canadianveggie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413477963,"creation_date":1413477963,"answer_id":26409707,"question_id":11314182,"body_markdown":"You could use an old version of the plugin. Version 1.7 of the maven-shade-plugin writes to /target.\r\n\r\nSince version 1.7.1, dependency-reduced pom.xml is written to basedir. See the issue [MSHADE-124](http://jira.codehaus.org/browse/MSHADE-124) for some reasons why it was done and what the consequences are. If you try setting *dependencyReducedPomLocation*, you will likely run into problems generating the site - open issue [MSHADE-145](http://jira.codehaus.org/browse/MSHADE-145).","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>You could use an old version of the plugin. Version 1.7 of the maven-shade-plugin writes to /target.</p>\n\n<p>Since version 1.7.1, dependency-reduced pom.xml is written to basedir. See the issue <a href=\"http://jira.codehaus.org/browse/MSHADE-124\" rel=\"nofollow\">MSHADE-124</a> for some reasons why it was done and what the consequences are. If you try setting <em>dependencyReducedPomLocation</em>, you will likely run into problems generating the site - open issue <a href=\"http://jira.codehaus.org/browse/MSHADE-145\" rel=\"nofollow\">MSHADE-145</a>.</p>\n"},{"tags":[],"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629334763,"creation_date":1629334763,"answer_id":68840831,"question_id":11314182,"body_markdown":"To ignore the file you can add it to the ignore directive for your DVCS. For `git`, a `.gitignore` file is created with contents:\r\n\r\n    dependency-reduced-pom.xml\r\n\r\nYou can also [add it to `maven-clean-plugin` configuration](https://maven.apache.org/plugins/maven-clean-plugin/examples/delete_additional_files.html) so it&#39;s blown away during the [clean lifecycle phase](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference): (Below assumes defaults, such as version, are defined in the [POMs `pluginManagement` section](https://maven.apache.org/pom.html#Plugin_Management).)\r\n\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filesets&gt;\r\n                                &lt;fileset&gt;\r\n                                    &lt;directory&gt;.&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;**/dependency-reduced-pom.xml&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                    &lt;followSymlinks&gt;false&lt;/followSymlinks&gt;\r\n                                &lt;/fileset&gt;\r\n                            &lt;/filesets&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n\r\nNote that the above configuration is additive to the non-customized clean default.","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>To ignore the file you can add it to the ignore directive for your DVCS. For <code>git</code>, a <code>.gitignore</code> file is created with contents:</p>\n<pre><code>dependency-reduced-pom.xml\n</code></pre>\n<p>You can also <a href=\"https://maven.apache.org/plugins/maven-clean-plugin/examples/delete_additional_files.html\" rel=\"nofollow noreferrer\">add it to <code>maven-clean-plugin</code> configuration</a> so it's blown away during the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference\" rel=\"nofollow noreferrer\">clean lifecycle phase</a>: (Below assumes defaults, such as version, are defined in the <a href=\"https://maven.apache.org/pom.html#Plugin_Management\" rel=\"nofollow noreferrer\">POMs <code>pluginManagement</code> section</a>.)</p>\n<pre><code>        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;filesets&gt;\n                            &lt;fileset&gt;\n                                &lt;directory&gt;.&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;**/dependency-reduced-pom.xml&lt;/include&gt;\n                                &lt;/includes&gt;\n                                &lt;followSymlinks&gt;false&lt;/followSymlinks&gt;\n                            &lt;/fileset&gt;\n                        &lt;/filesets&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>Note that the above configuration is additive to the non-customized clean default.</p>\n"}],"owner":{"account_id":90708,"reputation":21648,"user_id":249571,"accept_rate":74,"display_name":"DD."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31936,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":11322920,"answer_count":6,"score":71,"last_activity_date":1677601746,"creation_date":1341329123,"question_id":11314182,"body_markdown":"The maven shade plugin is creating a file called *dependency-reduced-pom.xml* and also *artifactname-shaded.jar* and placing them in the base directory.\r\n\r\nIs this a bug? Should be in the target directory. Any workaround?","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>The maven shade plugin is creating a file called <em>dependency-reduced-pom.xml</em> and also <em>artifactname-shaded.jar</em> and placing them in the base directory.</p>\n\n<p>Is this a bug? Should be in the target directory. Any workaround?</p>\n"},{"tags":["java","html","css","spring","jsp"],"comments":[{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1627752607,"post_id":68603866,"comment_id":121242494,"body_markdown":"Where is the css file located? What&#39;s your project dir structure like?","body":"Where is the css file located? What&#39;s your project dir structure like?"},{"owner":{"account_id":13221191,"reputation":1,"user_id":9547872,"display_name":"saikat"},"score":0,"creation_date":1627760781,"post_id":68603866,"comment_id":121244314,"body_markdown":"@RaviKThapliyal I have attached the project structure above. Please check.  [project structure](https://i.stack.imgur.com/W2LT0.jpg)","body":"@RaviKThapliyal I have attached the project structure above. Please check.  <a href=\"https://i.stack.imgur.com/W2LT0.jpg\" rel=\"nofollow noreferrer\">project structure</a>"}],"answers":[{"tags":[],"owner":{"account_id":27901741,"reputation":11,"user_id":21305888,"display_name":"SAURBH PODDAR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677601321,"creation_date":1677601321,"answer_id":75594706,"question_id":68603866,"body_markdown":"To run @media query in your spring boot css file you should use min-width\r\nreplace of max-width then it will run good","title":"Css Media query not working with Spring framework","body":"<p>To run @media query in your spring boot css file you should use min-width\nreplace of max-width then it will run good</p>\n"}],"owner":{"account_id":13221191,"reputation":1,"user_id":9547872,"display_name":"saikat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677601321,"creation_date":1627748417,"question_id":68603866,"body_markdown":"I have built a webpage which works fine &amp; is responsive,\r\nbut when I use the same files with the Spring framework, the webpage doesn&#39;t appear to be responsive. \r\n\r\nI have checked the responsiveness of the Spring webpage by opening the webpage in mobile &amp; also using chrome&#39;s inspect mode.\r\n\r\nPlease let me know if any more details is needed.\r\n\r\nHTML File\r\n```\r\n\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\npageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\r\n&lt;%@ page isELIgnored=&quot;false&quot;%&gt;\r\n\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n\r\n&lt;title&gt;URL Shortner&lt;/title&gt;\r\n&lt;link href=&quot;https://fonts.googleapis.com/css?family=Poppins&quot; rel=&quot;stylesheet&quot; /&gt;\r\n&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot;\r\nhref=&quot;${pageContext.request.contextPath}/resources/css/style.css&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\r\n\r\n&lt;div class=&quot;s130&quot;&gt;\r\n\r\n&lt;form:form action=&quot;show&quot; method=&quot;POST&quot; onsubmit=&quot; return continueornot();&quot;&gt;\r\n  &lt;h1&gt;Short URL &lt;/h1&gt;\r\n  &lt;p&gt;Paste your Long URL here&lt;/p&gt;\r\n\t&lt;div class=&quot;inner-form&quot;&gt;\r\n\t\t&lt;div class=&quot;input-field first-wrap&quot;&gt;\r\n\t\t&lt;div class=&quot;svg-wrapper&quot;&gt;\r\n\t\t  \r\n\t\t&lt;/div&gt;\r\n\t\t\t&lt;input class=&quot;input-tag&quot; id=&quot;search&quot; type=&quot;text&quot; name=&quot;longUrl&quot; placeholder=&quot;Paste your Link here!&quot; /&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=&quot;input-field second-wrap&quot;&gt;\r\n\t\t\t&lt;input class=&quot;btn lco&quot; type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\t &lt;span id=&quot;error&quot;&gt;&lt;/span&gt;\r\n\t&lt;h2 id=&quot;urlerror&quot;&gt;${link}&lt;/h2&gt;\r\n&lt;/form:form&gt;\r\n&lt;footer&gt;\r\n&lt;/footer&gt;\r\n\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\nfunction validateEmail(email) { \r\nvar re = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&amp;%@!\\-\\/]))?/;\r\nreturn re.test(email);\r\n} \r\nfunction continueornot() {\r\nif(validateEmail(document.getElementById(&#39;search&#39;).value)){\r\n// ok\r\n}else{  urlerror.innerHTML = &quot;&lt;span style=&#39;color: red;&#39;&gt;&quot;+\r\n&quot;Please enter a valid URL!&lt;/span&gt;&quot;\r\nreturn false;}\r\n}\r\n&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nMY CSS\r\n```@import url(&#39;https://fonts.googleapis.com/css2?family=Montserrat:wght@700&amp;display=swap&#39;);\r\n\r\nbody{\r\n    background: linear-gradient(to right, #fbfbfb, #cfc0c0);\r\n    color: #ffffff;\r\n}\r\n\r\n.container{\r\nmargin-left:20px;\r\n}\r\nh1{\r\n    font-size: 70px;\r\n    text-align: center;\r\n    margin-top: 8%;\r\n    margin-bottom: 5%;\r\n    color: #1f1f1f;\r\n    font-family: &quot;montserrat&quot;;\r\n}\r\n\r\nh2{\r\n    font-size: 50px;\r\n    text-align: center;\r\n    margin-top: 2%;\r\n    margin-bottom: 5%;\r\n    color: #ffffff;\r\n    font-family: &quot;montserrat&quot;;\r\n}\r\n\r\nspan{\r\n    color: #1f1f1f;\r\n    font-size: 400;\r\n    font-weight: 900;\r\n}\r\n\r\np{\r\n    text-align: center;\r\n    margin-top: -30px;\r\n    font-size: 18px;\r\n    letter-spacing: 3px;\r\n}\r\n\r\n\r\n\r\n.btn{\r\nmargin: auto;\r\n    display: block;\r\n    background-color: transparent;\r\n    border: 2px solid #1f1f1f;\r\n    border-radius: 0.6em;\r\n    color: #1f1f1f;\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n    padding: 1.2em 2.5em;\r\n    cursor: grab;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    font-family: &quot;montserrat&quot;;\r\n    font-weight: 900;\r\n}\r\n\r\n.btn:hover{\r\n    color:#ffffff;\r\n    outline: 0;\r\n}\r\n\r\n.lco{\r\n    transition: box-shadow 300ms ease-in-out, color 300ms ease-in-out;\r\n}\r\n\r\n.lco:hover{\r\n    box-shadow: 0 0 40px 40px #1f1f1f inset;\r\n}\r\n\r\n.input-tag{\r\n    display: block;\r\n    margin : 20px auto;\r\n    padding: 10px;\r\n    border: 0;\r\n    border-radius:15px;\r\n    width:50%;\r\n    height:25px;\r\n    font-size: 20px;\r\n    font-family:inherit;\r\n    box-shadow:0 0 15px 4px rgba(0,0,0,0.06);\r\n}\r\n\r\n@media screen and (max-width: 600px){\r\n    h1{\r\n        font-size: 40px;\r\n        text-align: center;\r\n        margin-top: 12%;\r\n        margin-bottom: 12%;\r\n        color: #1f1f1f;\r\n        font-family: &quot;montserrat&quot;;\r\n    }\r\n    p{\r\n        text-align: center;\r\n        margin-top: 40%;\r\n       \r\n        font-size: 14px;\r\n        letter-spacing: 1px;\r\n        color: #1f1f1f;\r\n    }\r\n    h2{\r\n        font-size: 25px;\r\n        text-align: center;\r\n        margin-top: 8%;\r\n        margin-bottom: 5%;\r\n        color: #1f1f1f;\r\n        font-family: &quot;montserrat&quot;;\r\n    }\r\n    .btn{\r\n        background-color: transparent;\r\n        margin-top: 7%;\r\n        border: 2px solid #1f1f1f;\r\n        border-radius: 0.6em;\r\n        color: #1f1f1f;\r\n        font-size: 1rem;\r\n        font-weight: 200;\r\n        padding: 0.5em 1.5em;\r\n        cursor: grab;\r\n        text-align: center;\r\n        text-transform: uppercase;\r\n        font-family: &quot;montserrat&quot;;\r\n        font-weight: 500;\r\n    }\r\n    .input-tag{\r\n        display: block;\r\n        margin : 0px auto;\r\n        margin-top: 10%;\r\n        padding: 10px;\r\n        border: 0;\r\n        border-radius:15px;\r\n        width:70%;\r\n        height:24px;\r\n        font-size: 14px;\r\n        font-family:inherit;\r\n        text-align: center;\r\n        box-shadow:0 0 15px 4px rgba(0,0,0,0.06);\r\n    }\r\n   \r\n}\r\n```\r\n\r\n\r\nProject structure:\r\n\r\n![Project Structure image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W2LT0.jpg","title":"Css Media query not working with Spring framework","body":"<p>I have built a webpage which works fine &amp; is responsive,\nbut when I use the same files with the Spring framework, the webpage doesn't appear to be responsive.</p>\n<p>I have checked the responsiveness of the Spring webpage by opening the webpage in mobile &amp; also using chrome's inspect mode.</p>\n<p>Please let me know if any more details is needed.</p>\n<p>HTML File</p>\n<pre><code>\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\npageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\n&lt;%@ page isELIgnored=&quot;false&quot;%&gt;\n\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n\n&lt;title&gt;URL Shortner&lt;/title&gt;\n&lt;link href=&quot;https://fonts.googleapis.com/css?family=Poppins&quot; rel=&quot;stylesheet&quot; /&gt;\n&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot;\nhref=&quot;${pageContext.request.contextPath}/resources/css/style.css&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n\n\n&lt;div class=&quot;s130&quot;&gt;\n\n&lt;form:form action=&quot;show&quot; method=&quot;POST&quot; onsubmit=&quot; return continueornot();&quot;&gt;\n  &lt;h1&gt;Short URL &lt;/h1&gt;\n  &lt;p&gt;Paste your Long URL here&lt;/p&gt;\n    &lt;div class=&quot;inner-form&quot;&gt;\n        &lt;div class=&quot;input-field first-wrap&quot;&gt;\n        &lt;div class=&quot;svg-wrapper&quot;&gt;\n          \n        &lt;/div&gt;\n            &lt;input class=&quot;input-tag&quot; id=&quot;search&quot; type=&quot;text&quot; name=&quot;longUrl&quot; placeholder=&quot;Paste your Link here!&quot; /&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;input-field second-wrap&quot;&gt;\n            &lt;input class=&quot;btn lco&quot; type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n     &lt;span id=&quot;error&quot;&gt;&lt;/span&gt;\n    &lt;h2 id=&quot;urlerror&quot;&gt;${link}&lt;/h2&gt;\n&lt;/form:form&gt;\n&lt;footer&gt;\n&lt;/footer&gt;\n\n\n&lt;/div&gt;\n\n&lt;script&gt;\nfunction validateEmail(email) { \nvar re = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&amp;%@!\\-\\/]))?/;\nreturn re.test(email);\n} \nfunction continueornot() {\nif(validateEmail(document.getElementById('search').value)){\n// ok\n}else{  urlerror.innerHTML = &quot;&lt;span style='color: red;'&gt;&quot;+\n&quot;Please enter a valid URL!&lt;/span&gt;&quot;\nreturn false;}\n}\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>MY CSS</p>\n<pre><code>\nbody{\n    background: linear-gradient(to right, #fbfbfb, #cfc0c0);\n    color: #ffffff;\n}\n\n.container{\nmargin-left:20px;\n}\nh1{\n    font-size: 70px;\n    text-align: center;\n    margin-top: 8%;\n    margin-bottom: 5%;\n    color: #1f1f1f;\n    font-family: &quot;montserrat&quot;;\n}\n\nh2{\n    font-size: 50px;\n    text-align: center;\n    margin-top: 2%;\n    margin-bottom: 5%;\n    color: #ffffff;\n    font-family: &quot;montserrat&quot;;\n}\n\nspan{\n    color: #1f1f1f;\n    font-size: 400;\n    font-weight: 900;\n}\n\np{\n    text-align: center;\n    margin-top: -30px;\n    font-size: 18px;\n    letter-spacing: 3px;\n}\n\n\n\n.btn{\nmargin: auto;\n    display: block;\n    background-color: transparent;\n    border: 2px solid #1f1f1f;\n    border-radius: 0.6em;\n    color: #1f1f1f;\n    font-size: 1rem;\n    font-weight: 400;\n    padding: 1.2em 2.5em;\n    cursor: grab;\n    text-align: center;\n    text-transform: uppercase;\n    font-family: &quot;montserrat&quot;;\n    font-weight: 900;\n}\n\n.btn:hover{\n    color:#ffffff;\n    outline: 0;\n}\n\n.lco{\n    transition: box-shadow 300ms ease-in-out, color 300ms ease-in-out;\n}\n\n.lco:hover{\n    box-shadow: 0 0 40px 40px #1f1f1f inset;\n}\n\n.input-tag{\n    display: block;\n    margin : 20px auto;\n    padding: 10px;\n    border: 0;\n    border-radius:15px;\n    width:50%;\n    height:25px;\n    font-size: 20px;\n    font-family:inherit;\n    box-shadow:0 0 15px 4px rgba(0,0,0,0.06);\n}\n\n@media screen and (max-width: 600px){\n    h1{\n        font-size: 40px;\n        text-align: center;\n        margin-top: 12%;\n        margin-bottom: 12%;\n        color: #1f1f1f;\n        font-family: &quot;montserrat&quot;;\n    }\n    p{\n        text-align: center;\n        margin-top: 40%;\n       \n        font-size: 14px;\n        letter-spacing: 1px;\n        color: #1f1f1f;\n    }\n    h2{\n        font-size: 25px;\n        text-align: center;\n        margin-top: 8%;\n        margin-bottom: 5%;\n        color: #1f1f1f;\n        font-family: &quot;montserrat&quot;;\n    }\n    .btn{\n        background-color: transparent;\n        margin-top: 7%;\n        border: 2px solid #1f1f1f;\n        border-radius: 0.6em;\n        color: #1f1f1f;\n        font-size: 1rem;\n        font-weight: 200;\n        padding: 0.5em 1.5em;\n        cursor: grab;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: &quot;montserrat&quot;;\n        font-weight: 500;\n    }\n    .input-tag{\n        display: block;\n        margin : 0px auto;\n        margin-top: 10%;\n        padding: 10px;\n        border: 0;\n        border-radius:15px;\n        width:70%;\n        height:24px;\n        font-size: 14px;\n        font-family:inherit;\n        text-align: center;\n        box-shadow:0 0 15px 4px rgba(0,0,0,0.06);\n    }\n   \n}\n</code></pre>\n<p>Project structure:</p>\n<p><img src=\"https://i.stack.imgur.com/W2LT0.jpg\" alt=\"Project Structure image\" /></p>\n"},{"tags":["java","xml","class","dictionary","jaxb"],"comments":[{"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"score":0,"creation_date":1520537770,"post_id":49181125,"comment_id":85367762,"body_markdown":"P.D: I&#39;m aware there is another child in location(&lt;relative&gt;). Step by Step.","body":"P.D: I&#39;m aware there is another child in location(&lt;relative&gt;). Step by Step."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1520546029,"post_id":49181125,"comment_id":85372011,"body_markdown":"Make a class for `location` containing `absolute/absoluteItems` mapping.","body":"Make a class for <code>location</code> containing <code>absolute&#47;absoluteItems</code> mapping."},{"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"score":0,"creation_date":1520546507,"post_id":49181125,"comment_id":85372244,"body_markdown":"And what about relative?  Their elements are fixed. Do I have to Use an ElementWrapper to?","body":"And what about relative?  Their elements are fixed. Do I have to Use an ElementWrapper to?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1520577460,"post_id":49181125,"comment_id":85381068,"body_markdown":"You can but do not have to.","body":"You can but do not have to."},{"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"score":0,"creation_date":1520589416,"post_id":49181125,"comment_id":85387020,"body_markdown":"Then what? Another nested class? Do i have to do one for each nesting?","body":"Then what? Another nested class? Do i have to do one for each nesting?"},{"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":1,"creation_date":1520608264,"post_id":49181125,"comment_id":85398237,"body_markdown":"You should write several small Java classes (`Element`, `Location`, `Absolute`, `Relative`)\ncorresponding to XML elements (`&lt;element&gt;`, `&lt;location&gt;`, `&lt;absolute&gt;`, `&lt;relative&gt;`)\n\nSee also similar question [JAXB annotations for nested element lists](https://stackoverflow.com/questions/14202529/jaxb-annotations-for-nested-element-lists)","body":"You should write several small Java classes (<code>Element</code>, <code>Location</code>, <code>Absolute</code>, <code>Relative</code>) corresponding to XML elements (<code>&lt;element&gt;</code>, <code>&lt;location&gt;</code>, <code>&lt;absolute&gt;</code>, <code>&lt;relative&gt;</code>)  See also similar question <a href=\"https://stackoverflow.com/questions/14202529/jaxb-annotations-for-nested-element-lists\">JAXB annotations for nested element lists</a>"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1520618899,"post_id":49181125,"comment_id":85404416,"body_markdown":"@Xhark Easy there. This depends on the logical structure first of all. In your case, yes, it seems like four classes (`Element`, `Location`, `Absolute` and `Relative`) are justified. Technically you can spare `Absolute`, but I won&#39;t do it. What&#39;s the problem with four classes?","body":"@Xhark Easy there. This depends on the logical structure first of all. In your case, yes, it seems like four classes (<code>Element</code>, <code>Location</code>, <code>Absolute</code> and <code>Relative</code>) are justified. Technically you can spare <code>Absolute</code>, but I won&#39;t do it. What&#39;s the problem with four classes?"},{"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"score":0,"creation_date":1520619551,"post_id":49181125,"comment_id":85404708,"body_markdown":"Your are right, I guess I was expecting something cleaner or more elegant(?). Thanks for the help. It works with the classes.","body":"Your are right, I guess I was expecting something cleaner or more elegant(?). Thanks for the help. It works with the classes."}],"answers":[{"tags":[],"owner":{"account_id":3704048,"reputation":194,"user_id":3559428,"display_name":"John Spragge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521102084,"creation_date":1521102084,"answer_id":49294482,"question_id":49181125,"body_markdown":"JAXB processing assumes a separate element definition for each complex element. A complex element means an element containing other elements. \r\n\r\nThe error you mention, referring to Element$Location, probably indicates the jaxb routines have found the annotation for the field &quot;right&quot; in the nested Location class; at runtime, nested classes have the name of the containing class, in this case Element, as a prefix separated from the nested class by a dollar sign.\r\n\r\nTo unmarshall (translate from xml text to Java code) the data structure you provide above, the JAXB routines would expect to find the following public class definitions:\r\n\r\nAbsolute\r\nElement\r\nLocation\r\nObjectFactory\r\nRelative\r\n\r\nIn the java code the jaxb compiler produces, the main element definition has its own class, and the following annotations:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n       &quot;type&quot;,\r\n        &quot;color&quot;,\r\n        &quot;size&quot;,\r\n        &quot;location&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;element&quot;)\r\n    public class Element \r\n    {\r\n       @XmlElement(required = true)\r\n       protected BigInteger type;\r\n          .\r\n          .   additional element definitions go here\r\n          . \r\n       // note: location here is a public class\r\n       @XmlElement(required = true)\r\n       protected Location location;\r\n       // the attribute is defined thus:\r\n       @XmlAttribute(name = &quot;id&quot;)\r\n       protected BigInteger id;\r\n\r\n       /**\r\n        * Gets the value of the type property.\r\n        * @return BigInteger type code\r\n        */\r\n       public BigInteger getType() { return type; }\r\n\r\n       /**\r\n        * Sets the value of the type property.\r\n        * @param value BigInteger type code to set\r\n        */\r\n       public void setType(BigInteger value) { this.type = value; }\r\n          .\r\n          . all other getters and setters defined here\r\n          .\r\n    }\r\n    \r\nThe element contained, in this case Location, has its own class with the following annotations:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Location&quot;, propOrder = {\r\n       &quot;absolute&quot;,\r\n       &quot;relative&quot;\r\n    })\r\n    public class Location \r\n    {\r\n        protected Absolute absolute;\r\n        protected Relative relative;\r\n          .\r\n          .  getters and setters go here: note these fields have no \r\n          .  annotations\r\n    }\r\n\r\nAgain, jaxb expects to find public Absolute and Relative classes. Since the absolute-item element can be repeated indefinitely, jaxb expects to find it defined as a collection (List), thus:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Absolute&quot;, propOrder = {\r\n       &quot;absoluteItem&quot;\r\n    })\r\n    public class Absolute \r\n    {\r\n       @XmlElement(name = &quot;absolute-item&quot;, required = true)\r\n       protected List&lt;String&gt; absoluteItem;\r\n\r\n       /**\r\n        * Gets the value of the absoluteItem property.\r\n        * \r\n        * &lt;p&gt;This accessor returns a reference to the live list; any\r\n        * modification to the returned list will be reflected in the \r\n        * JAXB object.\r\n        * This is why there is not a setter for absoluteItem.\r\n        * \r\n        * To add a new item, do as follows:\r\n        *    getAbsoluteItem().add(newItem)\r\n        */\r\n       public List&lt;String&gt; getAbsoluteItem() \r\n       {\r\n          if (absoluteItem == null) \r\n              absoluteItem = new ArrayList &lt;&gt; ();        \r\n          return this.absoluteItem;\r\n       }\r\n\r\n    }\r\n\r\nIn my experience, jaxb schema compiler, xjc, provides the easiest way, by far, to generate classes or use with jaxb. xjc takes an XML schema definition, and translates it into java code for you; you then have only to include the resulting java files in your project. Most Java development tools will handle this for you automatically. To generate the code I used as a source for the examples above (I did some condensing, I wrote the following schema:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;!--\r\n      Component ==&gt; example for stack overflow\r\n      Purpose: show how the jaxb compiler works\r\n     --&gt;\r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n               xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n               xmlns:desc = &quot;http://sox.org/element&quot;\r\n               targetNamespace = &quot;http://sox.org/element&quot;\r\n               jxb:version=&quot;2.0&quot;&gt;\r\n\r\n        &lt;xs:element name=&quot;element&quot;&gt;\r\n           &lt;xs:complexType&gt;\r\n              &lt;xs:sequence&gt;\r\n                 &lt;xs:element name = &quot;type&quot; type = &quot;xs:integer&quot; /&gt;\r\n                 &lt;xs:element name = &quot;color&quot; type = &quot;xs:integer&quot; /&gt;\r\n                 &lt;xs:element name = &quot;size&quot; type = &quot;xs:integer&quot; /&gt;\r\n                 &lt;xs:element name = &quot;location&quot; type = &quot;desc:Location&quot; /&gt;\r\n              &lt;/xs:sequence&gt;\r\n              &lt;xs:attribute name=&quot;id&quot; type=&quot;xs:integer&quot; use=&quot;optional&quot;\r\n                            default=&quot;0&quot; /&gt;\r\n           &lt;/xs:complexType&gt;\r\n        &lt;/xs:element&gt;     \r\n    \r\n        &lt;xs:complexType name=&quot;Location&quot;&gt;\r\n           &lt;xs:sequence&gt;\r\n              &lt;xs:element name = &quot;absolute&quot; type = &quot;desc:Absolute&quot; \r\n                          minOccurs=&quot;0&quot; /&gt;\r\n              &lt;xs:element name = &quot;relative&quot; type = &quot;desc:Relative&quot; \r\n                          minOccurs=&quot;0&quot; /&gt; \r\n           &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n\r\n        &lt;xs:complexType name=&quot;Absolute&quot;&gt;\r\n           &lt;xs:sequence&gt;\r\n              &lt;xs:element name=&quot;absolute-item&quot; type=&quot;xs:string&quot;  \r\n                          maxOccurs=&quot;unbounded&quot; /&gt;\r\n           &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt; \r\n         \r\n        &lt;xs:complexType name=&quot;Relative&quot;&gt;\r\n           &lt;xs:sequence&gt;\r\n              &lt;xs:element name=&quot;right&quot; type=&quot;xs:string&quot; /&gt; \r\n              &lt;xs:element name=&quot;left&quot; type=&quot;xs:string&quot; /&gt; \r\n           &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n   &lt;/xs:schema&gt;","title":"Unmarshal nested XML elements with JAXB","body":"<p>JAXB processing assumes a separate element definition for each complex element. A complex element means an element containing other elements. </p>\n\n<p>The error you mention, referring to Element$Location, probably indicates the jaxb routines have found the annotation for the field \"right\" in the nested Location class; at runtime, nested classes have the name of the containing class, in this case Element, as a prefix separated from the nested class by a dollar sign.</p>\n\n<p>To unmarshall (translate from xml text to Java code) the data structure you provide above, the JAXB routines would expect to find the following public class definitions:</p>\n\n<p>Absolute\nElement\nLocation\nObjectFactory\nRelative</p>\n\n<p>In the java code the jaxb compiler produces, the main element definition has its own class, and the following annotations:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = {\n   \"type\",\n    \"color\",\n    \"size\",\n    \"location\"\n})\n@XmlRootElement(name = \"element\")\npublic class Element \n{\n   @XmlElement(required = true)\n   protected BigInteger type;\n      .\n      .   additional element definitions go here\n      . \n   // note: location here is a public class\n   @XmlElement(required = true)\n   protected Location location;\n   // the attribute is defined thus:\n   @XmlAttribute(name = \"id\")\n   protected BigInteger id;\n\n   /**\n    * Gets the value of the type property.\n    * @return BigInteger type code\n    */\n   public BigInteger getType() { return type; }\n\n   /**\n    * Sets the value of the type property.\n    * @param value BigInteger type code to set\n    */\n   public void setType(BigInteger value) { this.type = value; }\n      .\n      . all other getters and setters defined here\n      .\n}\n</code></pre>\n\n<p>The element contained, in this case Location, has its own class with the following annotations:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"Location\", propOrder = {\n   \"absolute\",\n   \"relative\"\n})\npublic class Location \n{\n    protected Absolute absolute;\n    protected Relative relative;\n      .\n      .  getters and setters go here: note these fields have no \n      .  annotations\n}\n</code></pre>\n\n<p>Again, jaxb expects to find public Absolute and Relative classes. Since the absolute-item element can be repeated indefinitely, jaxb expects to find it defined as a collection (List), thus:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"Absolute\", propOrder = {\n   \"absoluteItem\"\n})\npublic class Absolute \n{\n   @XmlElement(name = \"absolute-item\", required = true)\n   protected List&lt;String&gt; absoluteItem;\n\n   /**\n    * Gets the value of the absoluteItem property.\n    * \n    * &lt;p&gt;This accessor returns a reference to the live list; any\n    * modification to the returned list will be reflected in the \n    * JAXB object.\n    * This is why there is not a setter for absoluteItem.\n    * \n    * To add a new item, do as follows:\n    *    getAbsoluteItem().add(newItem)\n    */\n   public List&lt;String&gt; getAbsoluteItem() \n   {\n      if (absoluteItem == null) \n          absoluteItem = new ArrayList &lt;&gt; ();        \n      return this.absoluteItem;\n   }\n\n}\n</code></pre>\n\n<p>In my experience, jaxb schema compiler, xjc, provides the easiest way, by far, to generate classes or use with jaxb. xjc takes an XML schema definition, and translates it into java code for you; you then have only to include the resulting java files in your project. Most Java development tools will handle this for you automatically. To generate the code I used as a source for the examples above (I did some condensing, I wrote the following schema:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;!--\n  Component ==&gt; example for stack overflow\n  Purpose: show how the jaxb compiler works\n --&gt;\n\n&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n           xmlns:jxb=\"http://java.sun.com/xml/ns/jaxb\"\n           xmlns:desc = \"http://sox.org/element\"\n           targetNamespace = \"http://sox.org/element\"\n           jxb:version=\"2.0\"&gt;\n\n    &lt;xs:element name=\"element\"&gt;\n       &lt;xs:complexType&gt;\n          &lt;xs:sequence&gt;\n             &lt;xs:element name = \"type\" type = \"xs:integer\" /&gt;\n             &lt;xs:element name = \"color\" type = \"xs:integer\" /&gt;\n             &lt;xs:element name = \"size\" type = \"xs:integer\" /&gt;\n             &lt;xs:element name = \"location\" type = \"desc:Location\" /&gt;\n          &lt;/xs:sequence&gt;\n          &lt;xs:attribute name=\"id\" type=\"xs:integer\" use=\"optional\"\n                        default=\"0\" /&gt;\n       &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;     \n\n    &lt;xs:complexType name=\"Location\"&gt;\n       &lt;xs:sequence&gt;\n          &lt;xs:element name = \"absolute\" type = \"desc:Absolute\" \n                      minOccurs=\"0\" /&gt;\n          &lt;xs:element name = \"relative\" type = \"desc:Relative\" \n                      minOccurs=\"0\" /&gt; \n       &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"Absolute\"&gt;\n       &lt;xs:sequence&gt;\n          &lt;xs:element name=\"absolute-item\" type=\"xs:string\"  \n                      maxOccurs=\"unbounded\" /&gt;\n       &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt; \n\n    &lt;xs:complexType name=\"Relative\"&gt;\n       &lt;xs:sequence&gt;\n          &lt;xs:element name=\"right\" type=\"xs:string\" /&gt; \n          &lt;xs:element name=\"left\" type=\"xs:string\" /&gt; \n       &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n</code></pre>\n\n<p></p>\n"}],"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677601262,"creation_date":1520537747,"question_id":49181125,"body_markdown":"I&#39;m starting with JAXB and I&#39;m trying to read the following xml to map it to a class:\r\n\r\n    &lt;element id=&quot;0&quot;&gt;\r\n            &lt;type&gt;1&lt;/type&gt;\r\n            &lt;color&gt;0&lt;/color&gt;\r\n            &lt;size&gt;1&lt;/size&gt;\r\n            &lt;location&gt;\r\n              &lt;absolute&gt;\r\n                &lt;absolute-item&gt;top&lt;/absolute-item&gt;\r\n                &lt;absolute-item&gt;left&lt;/absolute-item&gt;\r\n              &lt;/absolute&gt;\r\n              &lt;relative&gt;\r\n                &lt;right&gt;0&lt;/right&gt;\r\n                &lt;left&gt;0&lt;/left&gt;            \r\n              &lt;/relative&gt;\r\n            &lt;/location&gt;\r\n        &lt;/element&gt;\r\n\r\nMy problem comes when I try to map the nested elements like absolute, which can contain any number of `&lt;absolute-item&gt;` elements. I&#39;m trying this right now:\r\n\r\n    public class Element {\r\n        @XmlAttribute\r\n        private int id;\r\n        @XmlElement\r\n        private int type;\r\n        @XmlElement\r\n        private int color;\r\n        @XmlElement\r\n        private int size;\r\n        @XmlElementWrapper(name=&quot;absolute&quot;)\r\n        @XmlElement(name=&quot;absolute-item&quot;)\r\n        private ArrayList&lt;String&gt; absoluteItems;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Element &quot;+id+&quot; {&quot; +\r\n                    &quot;type=&quot; + type +\r\n                    &quot;, color=&quot; + color +\r\n                    &quot;, size=&quot; + size +\r\n                    &quot;, Location Relative: &quot;+ absoluteItems\r\n                    +&quot;}&quot;;\r\n        }\r\n    }\r\n\r\nI got the simple elements but not the nested one. Apparently I can&#39;t annotate to wrappers together, so I don&#39;t know how to fix it.\r\n\r\nUPDATE:  \r\nI&#39;m trying this as suggested. I&#39;m getting an `IllegalAnnotationExceptions` because Element$Location.right is not a compilation property, but I don&#39;t know what it means. Should I create one more class for the `&lt;relative&gt;` element? \r\n\r\n\r\n    public class Element {\r\n        @XmlAttribute\r\n        private int id;\r\n        @XmlElement\r\n        private int type;\r\n        @XmlElement\r\n        private int color;\r\n        @XmlElement\r\n        private int size;\r\n    \r\n        @XmlElement(name=&quot;location&quot;)\r\n        private Location location;\r\n    \r\n        public static class Location {\r\n            @XmlElementWrapper(name=&quot;absolute&quot;)\r\n            @XmlElement(name=&quot;absolute-item&quot;)\r\n            private ArrayList&lt;String&gt; absoluteItems;\r\n    \r\n    \r\n            @XmlElementWrapper(name=&quot;relative&quot;)\r\n            @XmlElement(name=&quot;right&quot;)\r\n            private int right;\r\n            @XmlElement(name=&quot;left&quot;)\r\n            private int left;\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Location{&quot; +\r\n                        &quot;Absolute=&quot; + absoluteItems +\r\n                        &quot;, relative {right=&quot; + right +\r\n                        &quot;, left=&quot; + left +\r\n                        &quot;}}&quot;;\r\n            }\r\n        }\r\n\r\n","title":"Unmarshal nested XML elements with JAXB","body":"<p>I'm starting with JAXB and I'm trying to read the following xml to map it to a class:</p>\n<pre><code>&lt;element id=&quot;0&quot;&gt;\n        &lt;type&gt;1&lt;/type&gt;\n        &lt;color&gt;0&lt;/color&gt;\n        &lt;size&gt;1&lt;/size&gt;\n        &lt;location&gt;\n          &lt;absolute&gt;\n            &lt;absolute-item&gt;top&lt;/absolute-item&gt;\n            &lt;absolute-item&gt;left&lt;/absolute-item&gt;\n          &lt;/absolute&gt;\n          &lt;relative&gt;\n            &lt;right&gt;0&lt;/right&gt;\n            &lt;left&gt;0&lt;/left&gt;            \n          &lt;/relative&gt;\n        &lt;/location&gt;\n    &lt;/element&gt;\n</code></pre>\n<p>My problem comes when I try to map the nested elements like absolute, which can contain any number of <code>&lt;absolute-item&gt;</code> elements. I'm trying this right now:</p>\n<pre><code>public class Element {\n    @XmlAttribute\n    private int id;\n    @XmlElement\n    private int type;\n    @XmlElement\n    private int color;\n    @XmlElement\n    private int size;\n    @XmlElementWrapper(name=&quot;absolute&quot;)\n    @XmlElement(name=&quot;absolute-item&quot;)\n    private ArrayList&lt;String&gt; absoluteItems;\n\n    @Override\n    public String toString() {\n        return &quot;Element &quot;+id+&quot; {&quot; +\n                &quot;type=&quot; + type +\n                &quot;, color=&quot; + color +\n                &quot;, size=&quot; + size +\n                &quot;, Location Relative: &quot;+ absoluteItems\n                +&quot;}&quot;;\n    }\n}\n</code></pre>\n<p>I got the simple elements but not the nested one. Apparently I can't annotate to wrappers together, so I don't know how to fix it.</p>\n<p>UPDATE:<br />\nI'm trying this as suggested. I'm getting an <code>IllegalAnnotationExceptions</code> because Element$Location.right is not a compilation property, but I don't know what it means. Should I create one more class for the <code>&lt;relative&gt;</code> element?</p>\n<pre><code>public class Element {\n    @XmlAttribute\n    private int id;\n    @XmlElement\n    private int type;\n    @XmlElement\n    private int color;\n    @XmlElement\n    private int size;\n\n    @XmlElement(name=&quot;location&quot;)\n    private Location location;\n\n    public static class Location {\n        @XmlElementWrapper(name=&quot;absolute&quot;)\n        @XmlElement(name=&quot;absolute-item&quot;)\n        private ArrayList&lt;String&gt; absoluteItems;\n\n\n        @XmlElementWrapper(name=&quot;relative&quot;)\n        @XmlElement(name=&quot;right&quot;)\n        private int right;\n        @XmlElement(name=&quot;left&quot;)\n        private int left;\n\n        @Override\n        public String toString() {\n            return &quot;Location{&quot; +\n                    &quot;Absolute=&quot; + absoluteItems +\n                    &quot;, relative {right=&quot; + right +\n                    &quot;, left=&quot; + left +\n                    &quot;}}&quot;;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","compiler-errors","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":21852352,"reputation":38,"user_id":16144244,"display_name":"Cheng-Chong Tang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677601024,"creation_date":1677211304,"answer_id":75552508,"question_id":75552311,"body_markdown":"That may caused by adding duplicate files. For example, the &quot;A.aar&quot; file is imported in lib and then the same &quot;A&quot; file is depended on in &quot;build.gradle&quot;.\r\n\r\nTry to remove duplicate dependencies or lib, AAR different versions, etc.","title":"I am getting error like this, when I create new project in Android Studio","body":"<p>That may caused by adding duplicate files. For example, the &quot;A.aar&quot; file is imported in lib and then the same &quot;A&quot; file is depended on in &quot;build.gradle&quot;.</p>\n<p>Try to remove duplicate dependencies or lib, AAR different versions, etc.</p>\n"},{"tags":[],"owner":{"account_id":26280709,"reputation":93,"user_id":19949241,"display_name":"Awais ul Hassan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677216995,"creation_date":1677216995,"answer_id":75552957,"question_id":75552311,"body_markdown":"Open build.gradle file.\r\nand add Line\r\n multiDexEnabled true\r\n\r\nin \r\n\r\nandroid{\r\n    ......\r\n    defaultConfig {\r\n         .....\r\n         multiDexEnabled true\r\n         ......\r\n    }\r\n}\r\n\r\n\r\nand Sync again","title":"I am getting error like this, when I create new project in Android Studio","body":"<p>Open build.gradle file.\nand add Line\nmultiDexEnabled true</p>\n<p>in</p>\n<p>android{\n......\ndefaultConfig {\n.....\nmultiDexEnabled true\n......\n}\n}</p>\n<p>and Sync again</p>\n"}],"owner":{"account_id":25611192,"reputation":11,"user_id":19384594,"display_name":"Nitish Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1677844413,"accepted_answer_id":75552508,"answer_count":2,"score":-1,"last_activity_date":1677601024,"creation_date":1677208571,"question_id":75552311,"body_markdown":"Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:244)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.RuntimeException: Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nGo to the documentation to learn how to Fix dependency resolution errors.\r\n\tat com.android.build.gradle.internal.tasks.CheckDuplicateClassesDelegate.run(CheckDuplicateClassesDelegate.kt:65)\r\n\tat com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable.execute(CheckDuplicateClassesDelegate.kt:91)\r\n\tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\r\n\t... 2 more\r\n\r\n\r\n\r\n\r\n\r\nI tried to reset the default setting . i am using java language  so i found that error when i create new project.\r\nplease let me now what mistake i a doing?.\r\n\r\n\r\n\r\nThanks in Advance for help.","title":"I am getting error like this, when I create new project in Android Studio","body":"<p>Execution failed for task ':app:checkDebugDuplicateClasses'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:checkDebugDuplicateClasses'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\nat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\nat org.gradle.internal.Factories$1.create(Factories.java:31)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\nat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:244)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\nat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\nat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\nat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\nat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\nat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\nat org.gradle.internal.Either$Right.fold(Either.java:175)\nat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\nat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\nat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.RuntimeException: Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)</li>\n</ul>\n<p>Go to the documentation to learn how to Fix dependency resolution errors.\nat com.android.build.gradle.internal.tasks.CheckDuplicateClassesDelegate.run(CheckDuplicateClassesDelegate.kt:65)\nat com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable.execute(CheckDuplicateClassesDelegate.kt:91)\nat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\nat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\nat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\nat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\nat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\nat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\nat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\nat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\nat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\nat org.gradle.internal.Factories$1.create(Factories.java:31)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\nat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\nat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n... 2 more</p>\n<p>I tried to reset the default setting . i am using java language  so i found that error when i create new project.\nplease let me now what mistake i a doing?.</p>\n<p>Thanks in Advance for help.</p>\n"},{"tags":["java","soap","amazon-product-api"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1348412207,"post_id":12553107,"comment_id":16907043,"body_markdown":"How you know that no errors occured?","body":"How you know that no errors occured?"},{"owner":{"account_id":450983,"reputation":91,"user_id":846604,"display_name":"Arne Kr&#246;ger"},"score":0,"creation_date":1348413184,"post_id":12553107,"comment_id":16907257,"body_markdown":"There are no exceptions during the request.","body":"There are no exceptions during the request."},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1348414293,"post_id":12553107,"comment_id":16907500,"body_markdown":"And you know the result must return a list with size &gt; 0? Btw: sure `port.itemSearch` is of type void (I do not know the amazon API)?","body":"And you know the result must return a list with size &gt; 0? Btw: sure <code>port.itemSearch</code> is of type void (I do not know the amazon API)?"},{"owner":{"account_id":450983,"reputation":91,"user_id":846604,"display_name":"Arne Kr&#246;ger"},"score":0,"creation_date":1348414527,"post_id":12553107,"comment_id":16907540,"body_markdown":"As you can see the result variable is of type holder and will hold the results. This request should lookup all products in all search-indizes (all categories) where the name contains &quot;nas&quot;. I&#39;m sure there are several products matching this item....","body":"As you can see the result variable is of type holder and will hold the results. This request should lookup all products in all search-indizes (all categories) where the name contains &quot;nas&quot;. I&#39;m sure there are several products matching this item...."}],"answers":[{"tags":[],"owner":{"account_id":450983,"reputation":91,"user_id":846604,"display_name":"Arne Kr&#246;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1348561522,"creation_date":1348561522,"answer_id":12578932,"question_id":12553107,"body_markdown":"I found the mistake I made.\r\n\r\nI created the sources without the binding-conditions for JAXB required by the amazon wsdl.\r\nYou need an binding.xml file containing the following restriction\r\n\r\n    &lt;jaxws:bindings wsdlLocation=&quot;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&quot; xmlns:jaxws=&quot;http://java.sun.com/xml/ns/jaxws&quot;&gt;\r\n      &lt;jaxws:enableWrapperStyle&gt;false&lt;/jaxws:enableWrapperStyle&gt;\r\n    &lt;/jaxws:bindings&gt;\r\n\r\nIn the pom.xml I created the following part for the build-process\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.10&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n   \t&lt;execution&gt;\r\n    \t\t&lt;goals&gt;\r\n    \t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n    \t\t&lt;/goals&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;wsdlUrls&gt;\r\n    \t\t\t    &lt;wsdlUrl&gt;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&lt;/wsdlUrl&gt;\r\n    \t\t\t&lt;/wsdlUrls&gt;\r\n    \t\t\t&lt;sourceDestDir&gt;target/generated-sources/apt&lt;/sourceDestDir&gt;\r\n    \t\t\t&lt;bindingFiles&gt;\r\n    \t\t\t\t&lt;bindingFile&gt;../../conf/binding.xml&lt;/bindingFile&gt;\r\n    \t\t\t&lt;/bindingFiles&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t\t&lt;id&gt;wsimport-generate-AWSECommerceService&lt;/id&gt;\r\n    \t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter recreation of the sources I changed the request to the following:\r\n\r\n    String awsAccessKeyID = &quot;&lt;AWS-ACCESS-KEY&gt;&quot;;\r\n    String test = &quot;&lt;ASSOCIATE-TAG&gt;&quot;; \r\n    \t\t\r\n    AWSECommerceService service = new AWSECommerceService();\r\n    service.setHandlerResolver(new AwsHandlerResolver(&quot;&lt;SECRET-KEY&gt;&quot;));\r\n    \r\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n    \r\n    ItemSearchRequest itemRequest = new ItemSearchRequest();\r\n    \r\n    // Fill in the request object:\r\n    itemRequest.setSearchIndex(&quot;Electronics&quot;);\r\n    itemRequest.setKeywords(&quot;NAS&quot;);\r\n    itemRequest.getResponseGroup().add(&quot;ItemAttributes&quot;);\r\n    itemRequest.setItemPage(BigInteger.valueOf(1L));\r\n            \r\n    \r\n    ItemSearch ItemElement = new ItemSearch();\r\n    ItemElement.setAWSAccessKeyId(awsAccessKeyID);\r\n    ItemElement.setAssociateTag(test);\r\n    ItemElement.getRequest().add(itemRequest);\r\n            \r\n    ItemSearchResponse response = port.itemSearch(ItemElement);\r\n    \t\t\r\n    for (Items itemList : response.getItems()) {\r\n    \tfor (Item itemObj : itemList.getItem()) {\r\n    \t\tSystem.out.println(itemObj.getItemAttributes().getBrand());\r\n            System.out.println(itemObj.getItemAttributes().getEAN());\r\n        }\r\n    }","title":"Java SOAP - Product Advertising API - Response Empty","body":"<p>I found the mistake I made.</p>\n\n<p>I created the sources without the binding-conditions for JAXB required by the amazon wsdl.\nYou need an binding.xml file containing the following restriction</p>\n\n<pre><code>&lt;jaxws:bindings wsdlLocation=\"http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl\" xmlns:jaxws=\"http://java.sun.com/xml/ns/jaxws\"&gt;\n  &lt;jaxws:enableWrapperStyle&gt;false&lt;/jaxws:enableWrapperStyle&gt;\n&lt;/jaxws:bindings&gt;\n</code></pre>\n\n<p>In the pom.xml I created the following part for the build-process</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.10&lt;/version&gt;\n    &lt;executions&gt;\n&lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsimport&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;wsdlUrls&gt;\n                &lt;wsdlUrl&gt;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&lt;/wsdlUrl&gt;\n            &lt;/wsdlUrls&gt;\n            &lt;sourceDestDir&gt;target/generated-sources/apt&lt;/sourceDestDir&gt;\n            &lt;bindingFiles&gt;\n                &lt;bindingFile&gt;../../conf/binding.xml&lt;/bindingFile&gt;\n            &lt;/bindingFiles&gt;\n        &lt;/configuration&gt;\n        &lt;id&gt;wsimport-generate-AWSECommerceService&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n    &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n            &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After recreation of the sources I changed the request to the following:</p>\n\n<pre><code>String awsAccessKeyID = \"&lt;AWS-ACCESS-KEY&gt;\";\nString test = \"&lt;ASSOCIATE-TAG&gt;\"; \n\nAWSECommerceService service = new AWSECommerceService();\nservice.setHandlerResolver(new AwsHandlerResolver(\"&lt;SECRET-KEY&gt;\"));\n\nAWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\nItemSearchRequest itemRequest = new ItemSearchRequest();\n\n// Fill in the request object:\nitemRequest.setSearchIndex(\"Electronics\");\nitemRequest.setKeywords(\"NAS\");\nitemRequest.getResponseGroup().add(\"ItemAttributes\");\nitemRequest.setItemPage(BigInteger.valueOf(1L));\n\n\nItemSearch ItemElement = new ItemSearch();\nItemElement.setAWSAccessKeyId(awsAccessKeyID);\nItemElement.setAssociateTag(test);\nItemElement.getRequest().add(itemRequest);\n\nItemSearchResponse response = port.itemSearch(ItemElement);\n\nfor (Items itemList : response.getItems()) {\n    for (Item itemObj : itemList.getItem()) {\n        System.out.println(itemObj.getItemAttributes().getBrand());\n        System.out.println(itemObj.getItemAttributes().getEAN());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":450983,"reputation":91,"user_id":846604,"display_name":"Arne Kr&#246;ger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12578932,"answer_count":1,"score":0,"last_activity_date":1677600988,"creation_date":1348410200,"question_id":12553107,"body_markdown":"I&#39;ve created a Search-Request to the amazon product API but it&#39;s response is empty.\r\nCan you give me a hint what&#39;s wrong with my code?\r\n\r\nCode:\r\n\r\n    String awsAccessKeyID = &quot;&lt;AWS-KEY&gt;&quot;;\r\n    String test = &quot;&lt;ASSOCIATE-TAG&gt;&quot;; \r\n    \r\n    AWSECommerceService service = new AWSECommerceService();\r\n    service.setHandlerResolver(new AwsHandlerResolver(&quot;&lt;SECRET-KEY&gt;&quot;));\r\n    \r\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n    \r\n    ItemSearch ItemSearch = new ItemSearch();\r\n    \r\n    ItemSearch.setAWSAccessKeyId(awsAccessKeyID);\r\n    ItemSearch.setAssociateTag(test);\r\n    \r\n    ItemSearchRequest SearchRequest = new ItemSearchRequest();\r\n    \r\n    java.util.List&lt;ItemSearchRequest&gt; list = ItemSearch.getRequest();\r\n    \r\n    list.add(SearchRequest);\r\n    \r\n    SearchRequest.setSearchIndex(&quot;All&quot;);\r\n    \r\n    \r\n    SearchRequest.setKeywords(&quot;nas&quot;);\r\n    \r\n    ItemSearch.getRequest().add(SearchRequest);\r\n    ItemSearch.setMarketplaceDomain(&quot;https://ecs.amazonaws.de/onca/xml?Service=AWSECommerceService&quot;);\r\n    \r\n    \r\n    SearchRequest.getResponseGroup().add(&quot;Large&quot;);\r\n    \r\n    Holder&lt;OperationRequest&gt; operationrequest = new Holder&lt;OperationRequest&gt;();\r\n    \r\n    Holder&lt;java.util.List&lt;Items&gt;&gt; items = new Holder&lt;java.util.List&lt;Items&gt;&gt;();\r\n    \r\n    port.itemSearch(ItemSearch.getMarketplaceDomain(), ItemSearch.getAWSAccessKeyId(), ItemSearch.getAssociateTag(), ItemSearch.getXMLEscaping(), &quot;True&quot;, ItemSearch.getShared(), ItemSearch.getRequest(), operationrequest, items);\r\n    \r\n    java.util.List&lt;Items&gt; result = items.value;\r\n    System.out.println(result);\r\n\r\nThe ResultSet is still empty but no errors occured....","title":"Java SOAP - Product Advertising API - Response Empty","body":"<p>I've created a Search-Request to the amazon product API but it's response is empty.\nCan you give me a hint what's wrong with my code?</p>\n\n<p>Code:</p>\n\n<pre><code>String awsAccessKeyID = \"&lt;AWS-KEY&gt;\";\nString test = \"&lt;ASSOCIATE-TAG&gt;\"; \n\nAWSECommerceService service = new AWSECommerceService();\nservice.setHandlerResolver(new AwsHandlerResolver(\"&lt;SECRET-KEY&gt;\"));\n\nAWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\nItemSearch ItemSearch = new ItemSearch();\n\nItemSearch.setAWSAccessKeyId(awsAccessKeyID);\nItemSearch.setAssociateTag(test);\n\nItemSearchRequest SearchRequest = new ItemSearchRequest();\n\njava.util.List&lt;ItemSearchRequest&gt; list = ItemSearch.getRequest();\n\nlist.add(SearchRequest);\n\nSearchRequest.setSearchIndex(\"All\");\n\n\nSearchRequest.setKeywords(\"nas\");\n\nItemSearch.getRequest().add(SearchRequest);\nItemSearch.setMarketplaceDomain(\"https://ecs.amazonaws.de/onca/xml?Service=AWSECommerceService\");\n\n\nSearchRequest.getResponseGroup().add(\"Large\");\n\nHolder&lt;OperationRequest&gt; operationrequest = new Holder&lt;OperationRequest&gt;();\n\nHolder&lt;java.util.List&lt;Items&gt;&gt; items = new Holder&lt;java.util.List&lt;Items&gt;&gt;();\n\nport.itemSearch(ItemSearch.getMarketplaceDomain(), ItemSearch.getAWSAccessKeyId(), ItemSearch.getAssociateTag(), ItemSearch.getXMLEscaping(), \"True\", ItemSearch.getShared(), ItemSearch.getRequest(), operationrequest, items);\n\njava.util.List&lt;Items&gt; result = items.value;\nSystem.out.println(result);\n</code></pre>\n\n<p>The ResultSet is still empty but no errors occured....</p>\n"},{"tags":["java","spring","spring-boot","sonarqube","static-analysis"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1677590899,"post_id":75592718,"comment_id":133364836,"body_markdown":"What is the method signature of `animalRepository.findById(animalId)`? Especially the return type?","body":"What is the method signature of <code>animalRepository.findById(animalId)</code>? Especially the return type?"},{"owner":{"account_id":22528468,"reputation":3,"user_id":16720897,"display_name":"himanshu chugh"},"score":0,"creation_date":1677591197,"post_id":75592718,"comment_id":133364950,"body_markdown":"Hi @cyberbrain This is the signature/declaration of &quot;findById) : public Optional&lt;Animal&gt; findById(String id);","body":"Hi @cyberbrain This is the signature/declaration of &quot;findById) : public Optional&lt;Animal&gt; findById(String id);"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677591260,"post_id":75592718,"comment_id":133364969,"body_markdown":"I doubt that this assignment is the line that triggers the SonarQube warning, but it could be a bug in SonarQube: https://sonarsource.atlassian.net/browse/SONARJAVA-4174","body":"I doubt that this assignment is the line that triggers the SonarQube warning, but it could be a bug in SonarQube: <a href=\"https://sonarsource.atlassian.net/browse/SONARJAVA-4174\" rel=\"nofollow noreferrer\">sonarsource.atlassian.net/browse/SONARJAVA-4174</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677591273,"post_id":75592718,"comment_id":133364973,"body_markdown":"Doing a `null` check with an optional is useless (or at least pointless). If it can return `null` it is wrong use of `Optional`.","body":"Doing a <code>null</code> check with an optional is useless (or at least pointless). If it can return <code>null</code> it is wrong use of <code>Optional</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1677591367,"post_id":75592718,"comment_id":133365015,"body_markdown":"&quot;*...even if `findById()` returns null*&quot; if that method declares to return Optional then it should *never* return `null` but `Optional.empty()`. If it *can* return `null` then it shouldn&#39;t be declaring `Optional` as return type.","body":"&quot;<i>...even if <code>findById()</code> returns null</i>&quot; if that method declares to return Optional then it should <i>never</i> return <code>null</code> but <code>Optional.empty()</code>. If it <i>can</i> return <code>null</code> then it shouldn&#39;t be declaring <code>Optional</code> as return type."},{"owner":{"account_id":22528468,"reputation":3,"user_id":16720897,"display_name":"himanshu chugh"},"score":0,"creation_date":1677591377,"post_id":75592718,"comment_id":133365018,"body_markdown":"@cyberbrain sorry, i added an if condition, which is actually causing the error. please check the question again...","body":"@cyberbrain sorry, i added an if condition, which is actually causing the error. please check the question again..."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1677591739,"post_id":75592718,"comment_id":133365168,"body_markdown":"np, but you have two nice answers now how to work with `Optional`  - and if SonarQube still complains, have a look at the bugticket I linked above...","body":"np, but you have two nice answers now how to work with <code>Optional</code>  - and if SonarQube still complains, have a look at the bugticket I linked above..."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677593405,"post_id":75592718,"comment_id":133365740,"body_markdown":"Related and informative: [Checking whether an Optional object isn&#39;t Empty and null](https://stackoverflow.com/questions/71614826/checking-whether-an-optional-object-isnt-empty-and-null)","body":"Related and informative: <a href=\"https://stackoverflow.com/questions/71614826/checking-whether-an-optional-object-isnt-empty-and-null\">Checking whether an Optional object isn&#39;t Empty and null</a>"}],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677591259,"creation_date":1677591259,"answer_id":75592802,"question_id":75592718,"body_markdown":"the line `if (animal == null)` is incorrect for your desired behavior. While the content of the Optional could be null, Optional itself is a wrapper which shouldn&#39;t be null. \r\n\r\nReplace that line with: `if (!animal.isPresent())`.","title":"Ensure this &quot;Optional&quot; could never be null and remove this null-check","body":"<p>the line <code>if (animal == null)</code> is incorrect for your desired behavior. While the content of the Optional could be null, Optional itself is a wrapper which shouldn't be null.</p>\n<p>Replace that line with: <code>if (!animal.isPresent())</code>.</p>\n"},{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677591426,"creation_date":1677591426,"answer_id":75592827,"question_id":75592718,"body_markdown":"An optional&#39;s application is to reduce null-values.\r\n\r\nChecking if the supplied optional is null isn&#39;t enough for the compiler to be sure its value isn&#39;t.\r\n\r\nTo check for an Optional&#39;s value use either `optional.isEmpty();` or `optional.isPresent();`.\r\n\r\nIn your case: check for the repository&#39;s response as follows:\r\n\r\n```\r\nOptional&lt;Animal&gt; animal = animalRepository.findById(animalId);\r\nif (animal.isEmpty()) {\r\n            throw new DeviceNotValidException(&quot;...&quot;);\r\n}\r\n```\r\n\r\nOr even simpler:\r\n\r\n```\r\nAnimal animal = animalRepository.findById(animalId)\r\n                      .orElseThrow(() -&gt; new DeviceNotValidException(&quot;...&quot;);\r\n```\r\n\r\nThe last approach ensures `animal` not being null.","title":"Ensure this &quot;Optional&quot; could never be null and remove this null-check","body":"<p>An optional's application is to reduce null-values.</p>\n<p>Checking if the supplied optional is null isn't enough for the compiler to be sure its value isn't.</p>\n<p>To check for an Optional's value use either <code>optional.isEmpty();</code> or <code>optional.isPresent();</code>.</p>\n<p>In your case: check for the repository's response as follows:</p>\n<pre><code>Optional&lt;Animal&gt; animal = animalRepository.findById(animalId);\nif (animal.isEmpty()) {\n            throw new DeviceNotValidException(&quot;...&quot;);\n}\n</code></pre>\n<p>Or even simpler:</p>\n<pre><code>Animal animal = animalRepository.findById(animalId)\n                      .orElseThrow(() -&gt; new DeviceNotValidException(&quot;...&quot;);\n</code></pre>\n<p>The last approach ensures <code>animal</code> not being null.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677592098,"creation_date":1677592098,"answer_id":75592952,"question_id":75592718,"body_markdown":"Since you are using Spring Data, the problem you have is checking for an `Optional` to be `null` where said `Optional` is here to reduce null checks.\r\n\r\nThe proper use, proposed by Z-100, is to use `orElseThrow`:\r\n\r\n    Animal animal = animalRepository.findById(animalId)\r\n                          .orElseThrow(() -&gt; new DeviceNotValidException(&quot;...&quot;);\r\n\r\nBut since you are using Spring Data, you may also use [getReferenceById](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getReferenceById(ID)):\r\n\r\n    Animal animal = animalRepository.getReferenceById(animalId);\r\n\r\nIt will generally throw a `EntityNotFoundException`.\r\n\r\n","title":"Ensure this &quot;Optional&quot; could never be null and remove this null-check","body":"<p>Since you are using Spring Data, the problem you have is checking for an <code>Optional</code> to be <code>null</code> where said <code>Optional</code> is here to reduce null checks.</p>\n<p>The proper use, proposed by Z-100, is to use <code>orElseThrow</code>:</p>\n<pre><code>Animal animal = animalRepository.findById(animalId)\n                      .orElseThrow(() -&gt; new DeviceNotValidException(&quot;...&quot;);\n</code></pre>\n<p>But since you are using Spring Data, you may also use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getReferenceById(ID)\" rel=\"nofollow noreferrer\">getReferenceById</a>:</p>\n<pre><code>Animal animal = animalRepository.getReferenceById(animalId);\n</code></pre>\n<p>It will generally throw a <code>EntityNotFoundException</code>.</p>\n"}],"owner":{"account_id":22528468,"reputation":3,"user_id":16720897,"display_name":"himanshu chugh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75592827,"answer_count":3,"score":0,"last_activity_date":1677600934,"creation_date":1677590785,"question_id":75592718,"body_markdown":"I am using Spring boot and analysing my code with sonarqube, on the below line\r\n\r\n\r\n    Optional&lt;Animal&gt; animal = animalRepository.findById(animalId);\r\n    if (animal == null) {\r\n    \t\t\tthrow new DeviceNotValidException(&quot;Failed to found animal detail&quot;,\tnew String[] { animalId});\r\n    \t\t}\r\n\r\n\r\ni am getting this error\r\n\r\n&gt; Ensure this &quot;Optional&quot; could never be null and remove this null-check.\r\n`\r\n\r\nAs per my understanding, \r\n&quot;Optional is generally used as a return type for methods that might not always have a result to return.&quot;\r\n\r\nI want to make sure that i dont get a null pointer exception even if &quot;findById()&quot; returns null, so i have used &quot;Optional&quot; here.\r\n\r\nIs there anything that I can do to improve my code so that the error disappears?\r\n\r\n\r\nI read this https://stackoverflow.com/questions/71614826/checking-whether-an-optional-object-isnt-empty-and-null but it did not help.","title":"Ensure this &quot;Optional&quot; could never be null and remove this null-check","body":"<p>I am using Spring boot and analysing my code with sonarqube, on the below line</p>\n<pre><code>Optional&lt;Animal&gt; animal = animalRepository.findById(animalId);\nif (animal == null) {\n            throw new DeviceNotValidException(&quot;Failed to found animal detail&quot;,  new String[] { animalId});\n        }\n</code></pre>\n<p>i am getting this error</p>\n<blockquote>\n<p>Ensure this &quot;Optional&quot; could never be null and remove this null-check.\n`</p>\n</blockquote>\n<p>As per my understanding,\n&quot;Optional is generally used as a return type for methods that might not always have a result to return.&quot;</p>\n<p>I want to make sure that i dont get a null pointer exception even if &quot;findById()&quot; returns null, so i have used &quot;Optional&quot; here.</p>\n<p>Is there anything that I can do to improve my code so that the error disappears?</p>\n<p>I read this <a href=\"https://stackoverflow.com/questions/71614826/checking-whether-an-optional-object-isnt-empty-and-null\">Checking whether an Optional object isn&#39;t Empty and null</a> but it did not help.</p>\n"},{"tags":["java","jakarta-mail","amazon-product-api"],"comments":[{"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1387073099,"post_id":20590292,"comment_id":30805533,"body_markdown":"You should show the exact error message and stack trace.","body":"You should show the exact error message and stack trace."},{"owner":{"account_id":2060460,"reputation":981,"user_id":1837134,"accept_rate":65,"display_name":"sa_nyc"},"score":0,"creation_date":1387073175,"post_id":20590292,"comment_id":30805544,"body_markdown":"@kapep that helps me to improve my question. Why would you down vote it?","body":"@kapep that helps me to improve my question. Why would you down vote it?"},{"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":2,"creation_date":1387073822,"post_id":20590292,"comment_id":30805676,"body_markdown":"I don&#39;t know who downvoted. Maybe the one who also voted for close, maybe someone else - no one can tell you but the person who downvoted. It&#39;s ok to want to know _why_ it was downvoted but you shouldn&#39;t accuse anyone of doing it. I think the question is ok, don&#39;t worry to much about a downvote.","body":"I don&#39;t know who downvoted. Maybe the one who also voted for close, maybe someone else - no one can tell you but the person who downvoted. It&#39;s ok to want to know <i>why</i> it was downvoted but you shouldn&#39;t accuse anyone of doing it. I think the question is ok, don&#39;t worry to much about a downvote."},{"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":1,"creation_date":1387074044,"post_id":20590292,"comment_id":30805722,"body_markdown":"So the error says you are using the invalid `http://webservices.amazon.com/AWSECommerceService/2010-11-01` and you should use `http://webservices.amazon.com/AWSECommerceService/2011-08-01` instead. I guess you just need to find out where and how to change that.","body":"So the error says you are using the invalid <code>http:&#47;&#47;webservices.amazon.com&#47;AWSECommerceService&#47;2010-11-01</code> and you should use <code>http:&#47;&#47;webservices.amazon.com&#47;AWSECommerceService&#47;2011-08-01</code> instead. I guess you just need to find out where and how to change that."}],"answers":[{"tags":[],"owner":{"account_id":401124,"reputation":865,"user_id":767499,"accept_rate":100,"display_name":"CyberMJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387148683,"creation_date":1387148683,"answer_id":20601027,"question_id":20590292,"body_markdown":"You are using the wrong namespace (actually, the wrong version of WS) for your Webservice client and its port.\r\n\r\nGo to `AWSECommerceService` and `AWSECommerceServicePortType` classes and replace all namespaces which look like `http://webservices.amazon.com/AWSECommerceService/2010-11-01` with `http://webservices.amazon.com/AWSECommerceService/2013-08-01`.\r\n\r\n\r\n\r\n","title":"Amazon Product Advertising API request with Java","body":"<p>You are using the wrong namespace (actually, the wrong version of WS) for your Webservice client and its port.</p>\n\n<p>Go to <code>AWSECommerceService</code> and <code>AWSECommerceServicePortType</code> classes and replace all namespaces which look like <code>http://webservices.amazon.com/AWSECommerceService/2010-11-01</code> with <code>http://webservices.amazon.com/AWSECommerceService/2013-08-01</code>.</p>\n"}],"owner":{"account_id":2060460,"reputation":981,"user_id":1837134,"accept_rate":65,"display_name":"sa_nyc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1759,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677600715,"creation_date":1387071363,"question_id":20590292,"body_markdown":"Hi My code for the same is \r\n\r\n    // Initialize Web Service\r\n    \t\t\tHandlerResolver handlerResolver=new AwsHandlerResolver(credentials.getAWSSecretKey());\r\n    \t\t\tAWSECommerceService service = new AWSECommerceService();\r\n    \t\t\tservice.setHandlerResolver(handlerResolver); \r\n    \t\t\t// Create Web Service Connection\r\n    \t\t\tAWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n    \r\n    \t\t\t// Add Parameters for the Item Lookup\r\n    \t\t\tItemLookupRequest itemLookup = new ItemLookupRequest();\r\n    \t\t\titemLookup.setIdType(&quot;ASIN&quot;);\r\n    \t\t\titemLookup.getItemId().add(&quot;B000RE216U&quot;);\r\n    \r\n    \t\t\t// Wrap Request in Lookup Body \r\n    \t\t\tItemLookup lookup = new ItemLookup();\r\n    \t\t\tlookup.setAWSAccessKeyId(credentials.getAWSAccessKeyId());\r\n    \t\t\tlookup.getRequest().add(itemLookup);\r\n    \r\n    \t\t\tItemLookupResponse response = port.itemLookup(lookup);\r\n    \r\n    \t\t\tSystem.out.println(&quot;response: &quot; + response.toString());\r\n\r\nI keep getting the error cannot convert from Void to AWSECommerceService in the beginning. I have the AWSHandlerResolver file and codec jar installed and configured.\r\n\r\nError Message:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: {http://webservices.amazon.com/AWSECommerceService/2010-11-01}AWSECommerceService is not a valid service. Valid services are: {http://webservices.amazon.com/AWSECommerceService/2011-08-01}AWSECommerceService\r\n    \tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:223)\r\n    \tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:168)\r\n    \tat com.sun.xml.internal.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:96)\r\n    \tat javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\r\n    \tat com.ECS.client.jax.AWSECommerceService.&lt;init&gt;(AWSECommerceService.java:46) \r\n\r\n\r\nI have been searching online. I might have to change target namespace for AWSECommerceService. But cannot find how. Please help me\r\n","title":"Amazon Product Advertising API request with Java","body":"<p>Hi My code for the same is </p>\n\n<pre><code>// Initialize Web Service\n            HandlerResolver handlerResolver=new AwsHandlerResolver(credentials.getAWSSecretKey());\n            AWSECommerceService service = new AWSECommerceService();\n            service.setHandlerResolver(handlerResolver); \n            // Create Web Service Connection\n            AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\n            // Add Parameters for the Item Lookup\n            ItemLookupRequest itemLookup = new ItemLookupRequest();\n            itemLookup.setIdType(\"ASIN\");\n            itemLookup.getItemId().add(\"B000RE216U\");\n\n            // Wrap Request in Lookup Body \n            ItemLookup lookup = new ItemLookup();\n            lookup.setAWSAccessKeyId(credentials.getAWSAccessKeyId());\n            lookup.getRequest().add(itemLookup);\n\n            ItemLookupResponse response = port.itemLookup(lookup);\n\n            System.out.println(\"response: \" + response.toString());\n</code></pre>\n\n<p>I keep getting the error cannot convert from Void to AWSECommerceService in the beginning. I have the AWSHandlerResolver file and codec jar installed and configured.</p>\n\n<p>Error Message:</p>\n\n<pre><code>Exception in thread \"main\" javax.xml.ws.WebServiceException: {http://webservices.amazon.com/AWSECommerceService/2010-11-01}AWSECommerceService is not a valid service. Valid services are: {http://webservices.amazon.com/AWSECommerceService/2011-08-01}AWSECommerceService\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:223)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:168)\n    at com.sun.xml.internal.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:96)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\n    at com.ECS.client.jax.AWSECommerceService.&lt;init&gt;(AWSECommerceService.java:46) \n</code></pre>\n\n<p>I have been searching online. I might have to change target namespace for AWSECommerceService. But cannot find how. Please help me</p>\n"},{"tags":["java","android","textview","htmlcleaner","css-parsing"],"owner":{"account_id":11433635,"reputation":1,"user_id":8381670,"display_name":"abku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677600667,"creation_date":1677579994,"question_id":75590730,"body_markdown":"Following is the code:\r\n\r\n```\r\nString htmlString = &quot;&lt;p style=\\&quot;font-family: Arial; font-size: 18px; color: #FF0000;\\&quot;&gt;This is an example of an HTML string with inline CSS styles that include a text color.&lt;/p&gt;&quot;;\r\nHtmlSpanner htmlSpanner = new HtmlSpanner();\r\nCharSequence spannedText = htmlSpanner.fromHtml(htmlString);\r\nTextView textView = findViewById(R.id.text_view);\r\ntextView.setText(spannedText);\r\n```\r\n\r\nBut the color or font-family or font-size all are not applied.\r\nIs there problem with my code or should I include some other classes as well?\r\n\r\nI want to see the css style applied on the text, so that it reflects on textview as well.\r\n\r\nI have used used this library : https://github.com/NightWhistler/HtmlSpanner\r\n","title":"HtmlSpanner library is not able to parse CSS in android?","body":"<p>Following is the code:</p>\n<pre><code>String htmlString = &quot;&lt;p style=\\&quot;font-family: Arial; font-size: 18px; color: #FF0000;\\&quot;&gt;This is an example of an HTML string with inline CSS styles that include a text color.&lt;/p&gt;&quot;;\nHtmlSpanner htmlSpanner = new HtmlSpanner();\nCharSequence spannedText = htmlSpanner.fromHtml(htmlString);\nTextView textView = findViewById(R.id.text_view);\ntextView.setText(spannedText);\n</code></pre>\n<p>But the color or font-family or font-size all are not applied.\nIs there problem with my code or should I include some other classes as well?</p>\n<p>I want to see the css style applied on the text, so that it reflects on textview as well.</p>\n<p>I have used used this library : <a href=\"https://github.com/NightWhistler/HtmlSpanner\" rel=\"nofollow noreferrer\">https://github.com/NightWhistler/HtmlSpanner</a></p>\n"},{"tags":["java","hibernate","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677600365,"creation_date":1677600365,"answer_id":75594527,"question_id":75593594,"body_markdown":"I don&#39;t know what the `@Service` annotation does, but I&#39;m guessing it defines a singleton, and so you&#39;re sharing a single `Session` between all concurrent threads.\r\n\r\nThat&#39;s illegal, of course.","title":"Hibernate ConcurrentModificationException problem in Stress testing","body":"<p>I don't know what the <code>@Service</code> annotation does, but I'm guessing it defines a singleton, and so you're sharing a single <code>Session</code> between all concurrent threads.</p>\n<p>That's illegal, of course.</p>\n"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677600365,"creation_date":1677595658,"question_id":75593594,"body_markdown":"There is an application with the following configuration:\r\n\r\n1- HK2 for DI\r\n\r\n2- Hibernate for ORM\r\n\r\nand \r\n\r\n3- GrizzlyHttpServer \r\n\r\nand the its hibernate configuration is :\r\n\r\n    import org.hibernate.*;\r\n    import org.hibernate.boot.*;\r\n    import org.hibernate.boot.registry.StandardServiceRegistry;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.jvnet.hk2.annotations.Service;\r\n    \r\n    @Service\r\n    public class HibernateOracle {\r\n        private Session session;\r\n        private SessionFactory factory;\r\n    \r\n        public HibernateOracle() {\r\n            final StandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure() // configures settings from hibernate.cfg.xml\r\n                    .build();\r\n            factory = new MetadataSources(registry).addPackage(&quot;com.art.entity&quot;).buildMetadata().buildSessionFactory();\r\n            session = factory.openSession();\r\n        }\r\n    \r\n        public Session getSession() {\r\n            if (session == null || !session.isOpen())\r\n                session = factory.openSession();\r\n            return this.session;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nand the one method of a repository file is:\r\n\r\n    @jakarta.inject.Inject\r\n    private HibernateOracle hibernateOracle;\r\n\r\n    @Override\r\n        public User get(String username) throws UserNotFoundException {\r\n            Session session = hibernateOracle.getSession();\r\n            try {\r\n                return (User) session.createNamedQuery(&quot;User.findOneByUserName&quot;)\r\n                        .setParameter(&quot;username&quot;, username).getSingleResult();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw new UserNotFoundException();\r\n            } finally {\r\n                //\r\n            }\r\n        }\r\n\r\nIt is worked correctly in the normal state but when the application is tested by such as load-test the following exception is raised in this method:\r\n\r\n&gt; java.util.ConcurrentModificationException \tat\r\n&gt; java.base/java.util.HashMap.forEach(HashMap.java:1424) \tat\r\n&gt; org.hibernate.resource.jdbc.internal.ResourceRegistryStandardImpl.releaseResources(ResourceRegistryStandardImpl.java:328)\r\n&gt; \tat\r\n&gt; org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.afterTransaction(AbstractLogicalConnectionImplementor.java:60)\r\n&gt; \tat\r\n&gt; org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterTransaction(LogicalConnectionManagedImpl.java:167)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.afterTransaction(JdbcCoordinatorImpl.java:276)\r\n&gt; \tat\r\n&gt; org.hibernate.internal.SessionImpl.afterOperation(SessionImpl.java:550)\r\n&gt; \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1464) \tat\r\n&gt; org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\r\n&gt; \tat\r\n&gt; org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n&gt; \tat\r\n&gt; org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.dao.impl.UserDaoImpl.get(UserDaoImpl.java:238)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.customer_management.UserControllerImpl.get(UserControllerImpl.java:159)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.customer_management.CustomerControllerImpl.checkCustomer(CustomerControllerImpl.java:598)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.messaging.MTSMSControllerImpl.sendMessageManyToMany(MTSMSControllerImpl.java:282)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.messaging.ArtMTSMSImpl.sendMessageManyToMany(ArtMTSMSImpl.java:140)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.rest.MessageRelayRest.sendMessageManyToMany(MessageRelayRest.java:26)\r\n&gt; \tat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown\r\n&gt; Source) \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n&gt; \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248) \tat\r\n&gt; org.glassfish.jersey.internal.Errors$1.call(Errors.java:244) \tat\r\n&gt; org.glassfish.jersey.internal.Errors.process(Errors.java:292) \tat\r\n&gt; org.glassfish.jersey.internal.Errors.process(Errors.java:274) \tat\r\n&gt; org.glassfish.jersey.internal.Errors.process(Errors.java:244) \tat\r\n&gt; org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:356)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:190)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nWhere is the problem and how do I fix it such hibernate connection polling and so on?","title":"Hibernate ConcurrentModificationException problem in Stress testing","body":"<p>There is an application with the following configuration:</p>\n<p>1- HK2 for DI</p>\n<p>2- Hibernate for ORM</p>\n<p>and</p>\n<p>3- GrizzlyHttpServer</p>\n<p>and the its hibernate configuration is :</p>\n<pre><code>import org.hibernate.*;\nimport org.hibernate.boot.*;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.jvnet.hk2.annotations.Service;\n\n@Service\npublic class HibernateOracle {\n    private Session session;\n    private SessionFactory factory;\n\n    public HibernateOracle() {\n        final StandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure() // configures settings from hibernate.cfg.xml\n                .build();\n        factory = new MetadataSources(registry).addPackage(&quot;com.art.entity&quot;).buildMetadata().buildSessionFactory();\n        session = factory.openSession();\n    }\n\n    public Session getSession() {\n        if (session == null || !session.isOpen())\n            session = factory.openSession();\n        return this.session;\n    }\n\n\n}\n</code></pre>\n<p>and the one method of a repository file is:</p>\n<pre><code>@jakarta.inject.Inject\nprivate HibernateOracle hibernateOracle;\n\n@Override\n    public User get(String username) throws UserNotFoundException {\n        Session session = hibernateOracle.getSession();\n        try {\n            return (User) session.createNamedQuery(&quot;User.findOneByUserName&quot;)\n                    .setParameter(&quot;username&quot;, username).getSingleResult();\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new UserNotFoundException();\n        } finally {\n            //\n        }\n    }\n</code></pre>\n<p>It is worked correctly in the normal state but when the application is tested by such as load-test the following exception is raised in this method:</p>\n<blockquote>\n<p>java.util.ConcurrentModificationException     at\njava.base/java.util.HashMap.forEach(HashMap.java:1424)    at\norg.hibernate.resource.jdbc.internal.ResourceRegistryStandardImpl.releaseResources(ResourceRegistryStandardImpl.java:328)\nat\norg.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.afterTransaction(AbstractLogicalConnectionImplementor.java:60)\nat\norg.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterTransaction(LogicalConnectionManagedImpl.java:167)\nat\norg.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.afterTransaction(JdbcCoordinatorImpl.java:276)\nat\norg.hibernate.internal.SessionImpl.afterOperation(SessionImpl.java:550)\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1464)   at\norg.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\nat\norg.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\nat\norg.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665)\nat\ncom.art.vesal.backend.core.dao.impl.UserDaoImpl.get(UserDaoImpl.java:238)\nat\ncom.art.vesal.backend.core.controller.customer_management.UserControllerImpl.get(UserControllerImpl.java:159)\nat\ncom.art.vesal.backend.core.controller.customer_management.CustomerControllerImpl.checkCustomer(CustomerControllerImpl.java:598)\nat\ncom.art.vesal.backend.core.controller.messaging.MTSMSControllerImpl.sendMessageManyToMany(MTSMSControllerImpl.java:282)\nat\ncom.art.vesal.backend.core.controller.messaging.ArtMTSMSImpl.sendMessageManyToMany(ArtMTSMSImpl.java:140)\nat\ncom.art.vesal.backend.core.controller.rest.MessageRelayRest.sendMessageManyToMany(MessageRelayRest.java:26)\nat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown\nSource)   at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\norg.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\nat\norg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\nat\norg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\nat\norg.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\nat\norg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\nat\norg.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\nat\norg.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\nat\norg.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\nat\norg.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)     at\norg.glassfish.jersey.internal.Errors$1.call(Errors.java:244)  at\norg.glassfish.jersey.internal.Errors.process(Errors.java:292)     at\norg.glassfish.jersey.internal.Errors.process(Errors.java:274)     at\norg.glassfish.jersey.internal.Errors.process(Errors.java:244)     at\norg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\nat\norg.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\nat\norg.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\nat\norg.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:356)\nat\norg.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:190)\nat\norg.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\nat\norg.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p>Where is the problem and how do I fix it such hibernate connection polling and so on?</p>\n"},{"tags":["java","javalin"],"owner":{"account_id":2365474,"reputation":345,"user_id":2071226,"display_name":"Ve9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677600241,"creation_date":1677600241,"question_id":75594507,"body_markdown":"i&#39;m writing a simple API that read a file from a remote server and return it to the caller using Javalin. \r\n\r\nThis is my simple code:\r\n\r\n    class FileReader{\r\n        public []byte getFileBytes(String fileURL){\r\n           ...\r\n           HttpURLConnection con = null;\r\n           try {\r\n              URL url = new URL(fileURL);\r\n              con = (HttpURLConnection) url.openConnection();\r\n              con.setRequestMethod(&quot;GET&quot;);\r\n\r\n              ...\r\n\r\n              int status = con.getResponseCode();\r\n            \r\n              if (status != 200) {\r\n                 //manage errors\r\n              } else {\r\n                return con.getInputStream().readAllBytes();\r\n              }\r\n\r\n          }catch(Exception e){\r\n              //manage exceptions\r\n          }finally {\r\n              if(con != null) {\r\n                  con.disconnect();\r\n              }\r\n          }\r\n        }\r\n    }\r\n\r\n    public void handle(Context ctx) throws Exception {\r\n        ...\r\n\r\n        []byte fileBytes = fileReader.getFileBytes(&quot;https://..../myfile&quot;);\r\n        ctx.header(Header.CONTENT_TYPE, &quot;application/octet-stream&quot;);\r\n        ctx.result(fileBytes);\r\n    }\r\n\r\nEverithing seems to be ok but the problem is that every file is first downloaded into memory before returning to the original caller. I was wondering if there are some more clever ways to do this, such as reading the bytes into a buffer (a chunk at a time) from the inputstream and write them in the javalin response so that the memory is only used for the chunk length... I couldn&#39;t find a way to do this.\r\n\r\nAlso, what I&#39;ve seen is that javalin has a method **ctx.result** that takes an inputstream and I was hoping to try it and see if the memory used was less, but doing something like the following, results in a **IOException &quot;stream is closed&quot; error**\r\n\r\n    public void handle(Context ctx) throws Exception {\r\n       HttpURLConnection con = null;\r\n       try {\r\n          URL url = new URL(fileURL);\r\n          con = (HttpURLConnection) url.openConnection();\r\n          con.setRequestMethod(&quot;GET&quot;);\r\n\r\n          ...\r\n\r\n          int status = con.getResponseCode();\r\n\r\n          if (status != 200) {\r\n             //manage errors\r\n          } else {\r\n            ctx.header(Header.CONTENT_TYPE, &quot;application/octet-stream&quot;);\r\n            ctx.result(con.getInputStream());\r\n          }\r\n\r\n      }catch(Exception e){\r\n          //manage exceptions\r\n      }finally {\r\n          if(con != null) {\r\n              con.disconnect();\r\n          }\r\n      }\r\n    }\r\n\r\nIf you have any hints or ideas i would be grateful.\r\nThanks","title":"What is the best way to write a response from a HttpURLConnection inputStream in Javalin?","body":"<p>i'm writing a simple API that read a file from a remote server and return it to the caller using Javalin.</p>\n<p>This is my simple code:</p>\n<pre><code>class FileReader{\n    public []byte getFileBytes(String fileURL){\n       ...\n       HttpURLConnection con = null;\n       try {\n          URL url = new URL(fileURL);\n          con = (HttpURLConnection) url.openConnection();\n          con.setRequestMethod(&quot;GET&quot;);\n\n          ...\n\n          int status = con.getResponseCode();\n        \n          if (status != 200) {\n             //manage errors\n          } else {\n            return con.getInputStream().readAllBytes();\n          }\n\n      }catch(Exception e){\n          //manage exceptions\n      }finally {\n          if(con != null) {\n              con.disconnect();\n          }\n      }\n    }\n}\n\npublic void handle(Context ctx) throws Exception {\n    ...\n\n    []byte fileBytes = fileReader.getFileBytes(&quot;https://..../myfile&quot;);\n    ctx.header(Header.CONTENT_TYPE, &quot;application/octet-stream&quot;);\n    ctx.result(fileBytes);\n}\n</code></pre>\n<p>Everithing seems to be ok but the problem is that every file is first downloaded into memory before returning to the original caller. I was wondering if there are some more clever ways to do this, such as reading the bytes into a buffer (a chunk at a time) from the inputstream and write them in the javalin response so that the memory is only used for the chunk length... I couldn't find a way to do this.</p>\n<p>Also, what I've seen is that javalin has a method <strong>ctx.result</strong> that takes an inputstream and I was hoping to try it and see if the memory used was less, but doing something like the following, results in a <strong>IOException &quot;stream is closed&quot; error</strong></p>\n<pre><code>public void handle(Context ctx) throws Exception {\n   HttpURLConnection con = null;\n   try {\n      URL url = new URL(fileURL);\n      con = (HttpURLConnection) url.openConnection();\n      con.setRequestMethod(&quot;GET&quot;);\n\n      ...\n\n      int status = con.getResponseCode();\n\n      if (status != 200) {\n         //manage errors\n      } else {\n        ctx.header(Header.CONTENT_TYPE, &quot;application/octet-stream&quot;);\n        ctx.result(con.getInputStream());\n      }\n\n  }catch(Exception e){\n      //manage exceptions\n  }finally {\n      if(con != null) {\n          con.disconnect();\n      }\n  }\n}\n</code></pre>\n<p>If you have any hints or ideas i would be grateful.\nThanks</p>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":6965830,"reputation":815,"user_id":5343907,"display_name":"Pavel B."},"score":1,"creation_date":1520594682,"post_id":49192555,"comment_id":85390122,"body_markdown":"The crash seems not to be related to the code in the question. Do you use a bound service somewhere in the project and forget to unbind it in onStop?","body":"The crash seems not to be related to the code in the question. Do you use a bound service somewhere in the project and forget to unbind it in onStop?"},{"owner":{"account_id":13103667,"reputation":51,"user_id":9467199,"display_name":"Androider"},"score":0,"creation_date":1520594766,"post_id":49192555,"comment_id":85390164,"body_markdown":"yes i have a service which loads data i will update my question","body":"yes i have a service which loads data i will update my question"},{"owner":{"account_id":12400977,"reputation":283,"user_id":9038254,"display_name":"yu wang"},"score":0,"creation_date":1520595622,"post_id":49192555,"comment_id":85390578,"body_markdown":"Maybe the library VigerPDF has some cancel() or clear() method to close the async work? In the onPuase() to stop it.","body":"Maybe the library VigerPDF has some cancel() or clear() method to close the async work? In the onPuase() to stop it."},{"owner":{"account_id":13103667,"reputation":51,"user_id":9467199,"display_name":"Androider"},"score":0,"creation_date":1520596489,"post_id":49192555,"comment_id":85391090,"body_markdown":"I think it does&#39;t have any way to stop the async task","body":"I think it does&#39;t have any way to stop the async task"},{"owner":{"account_id":6965830,"reputation":815,"user_id":5343907,"display_name":"Pavel B."},"score":0,"creation_date":1520682427,"post_id":49192555,"comment_id":85421954,"body_markdown":"Try to implement the new viewmodel design pattern an do your data loading in an intentservice. From within the intentservice update the livedata, and in your activity implement an observer for data changes. This design pattern is lifecycle-aware exactly for thecases like yours. https://developer.android.com/topic/libraries/architecture/viewmodel.html","body":"Try to implement the new viewmodel design pattern an do your data loading in an intentservice. From within the intentservice update the livedata, and in your activity implement an observer for data changes. This design pattern is lifecycle-aware exactly for thecases like yours. <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a>"},{"owner":{"account_id":13103667,"reputation":51,"user_id":9467199,"display_name":"Androider"},"score":0,"creation_date":1520846554,"post_id":49192555,"comment_id":85466745,"body_markdown":"thanks i will try it","body":"thanks i will try it"}],"owner":{"account_id":13103667,"reputation":51,"user_id":9467199,"display_name":"Androider"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":0,"score":4,"last_activity_date":1677600176,"creation_date":1520594230,"question_id":49192555,"body_markdown":"I am having a serious problem when entering my activity and pressing the back button before the data loads completely. I have a view pager inside the activity which loads images. My App crashes and this is the exception I get:\r\n\r\n&gt; W/Binder: Caught a RuntimeException from the binder stub\r\n&gt; implementation.\r\n&gt;                                          java.lang.NullPointerException at\r\n&gt; android.inputmethodservice.IInputMethodWrapper.setSessionEnabled(IInputMethodWrapper.java:280)\r\n&gt; at\r\n&gt; com.android.internal.view.IInputMethod$Stub.onTransact(IInputMethod.java:129)\r\n&gt; at android.os.Binder.execTransact(Binder.java:404) at\r\n&gt; dalvik.system.NativeStart.run(Native Method)\r\n\r\nI m using a broadcast receiver to update the ui and I unregister the receiver in `onPause()`.\r\n\r\n     updateUIReciver = new BroadcastReceiver() {\r\n\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                if (intent.getAction().equals(&quot;refresh&quot;))\r\n                    if (viewPager.getAdapter() == null) {\r\n                        VigerAdapter adapter = new VigerAdapter(OpenUrlActivity.this, bitmaps);\r\n                        viewPager.setAdapter(adapter);\r\n                    } else\r\n                        viewPager.getAdapter().notifyDataSetChanged();\r\n            }\r\n        };\r\n        registerReceiver(updateUIReciver, filter);&#39;\r\n\r\nthis is my onPause method\r\n\r\n        @Override\r\n    protected void onPause() {\r\n        if (updateUIReciver != null)\r\n            unregisterReceiver(updateUIReciver);\r\n        super.onPause();\r\n    }\r\n\r\nThis is the library I am using to download bitmaps images \r\n\r\n    \r\n            new VigerPDF(this)\r\n                    .initFromFile(file, new OnResultListener() {\r\n                        @Override\r\n                        public void resultData(Bitmap bitmap) {\r\n                            bitmaps.add(bitmap);\r\n                            try {\r\n                                Intent intent = new Intent();\r\n                                intent.setAction(&quot;refresh&quot;);\r\n                                OpenUrlActivity.this.sendBroadcast(intent);\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void progressData(int i) {\r\n                        }\r\n\r\n                        @Override\r\n                        public void failed(Throwable throwable) {\r\n                            throwable.printStackTrace();\r\n                                             }\r\n                    });\r\n\r\n","title":"App crash when pressing back button before view pager loads all data","body":"<p>I am having a serious problem when entering my activity and pressing the back button before the data loads completely. I have a view pager inside the activity which loads images. My App crashes and this is the exception I get:</p>\n<blockquote>\n<p>W/Binder: Caught a RuntimeException from the binder stub\nimplementation.\njava.lang.NullPointerException at\nandroid.inputmethodservice.IInputMethodWrapper.setSessionEnabled(IInputMethodWrapper.java:280)\nat\ncom.android.internal.view.IInputMethod$Stub.onTransact(IInputMethod.java:129)\nat android.os.Binder.execTransact(Binder.java:404) at\ndalvik.system.NativeStart.run(Native Method)</p>\n</blockquote>\n<p>I m using a broadcast receiver to update the ui and I unregister the receiver in <code>onPause()</code>.</p>\n<pre><code> updateUIReciver = new BroadcastReceiver() {\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (intent.getAction().equals(&quot;refresh&quot;))\n                if (viewPager.getAdapter() == null) {\n                    VigerAdapter adapter = new VigerAdapter(OpenUrlActivity.this, bitmaps);\n                    viewPager.setAdapter(adapter);\n                } else\n                    viewPager.getAdapter().notifyDataSetChanged();\n        }\n    };\n    registerReceiver(updateUIReciver, filter);'\n</code></pre>\n<p>this is my onPause method</p>\n<pre><code>    @Override\nprotected void onPause() {\n    if (updateUIReciver != null)\n        unregisterReceiver(updateUIReciver);\n    super.onPause();\n}\n</code></pre>\n<p>This is the library I am using to download bitmaps images</p>\n<pre><code>        new VigerPDF(this)\n                .initFromFile(file, new OnResultListener() {\n                    @Override\n                    public void resultData(Bitmap bitmap) {\n                        bitmaps.add(bitmap);\n                        try {\n                            Intent intent = new Intent();\n                            intent.setAction(&quot;refresh&quot;);\n                            OpenUrlActivity.this.sendBroadcast(intent);\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    @Override\n                    public void progressData(int i) {\n                    }\n\n                    @Override\n                    public void failed(Throwable throwable) {\n                        throwable.printStackTrace();\n                                         }\n                });\n</code></pre>\n"},{"tags":["java","filter","stream"],"comments":[{"owner":{"account_id":899861,"reputation":2035,"user_id":936269,"accept_rate":77,"display_name":"Lars Nielsen"},"score":0,"creation_date":1520600110,"post_id":49194082,"comment_id":85393100,"body_markdown":"Do you want to do this before or after the function returns? Because a simple solution is to reiterate the the `List&lt;FileInfo&gt;` and see if the file is in folder `a` or `b`","body":"Do you want to do this before or after the function returns? Because a simple solution is to reiterate the the <code>List&lt;FileInfo&gt;</code> and see if the file is in folder <code>a</code> or <code>b</code>"},{"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"score":0,"creation_date":1520600209,"post_id":49194082,"comment_id":85393159,"body_markdown":"It really doesnt matter if its before or after aslong as i can check in my delete file method if the file is from folder a or b","body":"It really doesnt matter if its before or after aslong as i can check in my delete file method if the file is from folder a or b"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520600142,"creation_date":1520600142,"answer_id":49194302,"question_id":49194082,"body_markdown":"To know at which depth you are relative to `localPath`, you could count the number of elements in the path. Something like this:\r\n\r\n    int mainFolderDepth = Paths.get(localPath).toRealPath().getNameCount();\r\n\r\n    //in your stream\r\n    int folderDepth = p.toRealPath().getNameCount();\r\n    if (! Files.isDirectory(p)) folderDepth--; //don&#39;t count the file name\r\n    if (folderDepth != mainFolderDepth) { /* not in main folder */ }\r\n\r\nAlternatively, in your file walk, make sure you don&#39;t enter subfolders if you want to ignore them by setting the `maxDepth` argument to 1.","title":"Files.walk identify if file is from subfolder or mainfolder","body":"<p>To know at which depth you are relative to <code>localPath</code>, you could count the number of elements in the path. Something like this:</p>\n\n<pre><code>int mainFolderDepth = Paths.get(localPath).toRealPath().getNameCount();\n\n//in your stream\nint folderDepth = p.toRealPath().getNameCount();\nif (! Files.isDirectory(p)) folderDepth--; //don't count the file name\nif (folderDepth != mainFolderDepth) { /* not in main folder */ }\n</code></pre>\n\n<p>Alternatively, in your file walk, make sure you don't enter subfolders if you want to ignore them by setting the <code>maxDepth</code> argument to 1.</p>\n"},{"tags":[],"owner":{"account_id":899861,"reputation":2035,"user_id":936269,"accept_rate":77,"display_name":"Lars Nielsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1520601866,"creation_date":1520601866,"answer_id":49194827,"question_id":49194082,"body_markdown":"Okay, so you want to be able to only delete files, and only files, in the main folder, and not files in the sub folders. Thus you need a list of files in the main folder. You can do this by checking the URL of the `FileInfo` objects from the result of your `listBackupFilesInLocalDir` method. This can be done in the following manner: \r\n\r\n    public ArrayList&lt;FileInfo&gt; filesInMainFolder(string mainPath,\r\n                                             ArrayList&lt;FileInfo&gt; files) {\r\n        ArrayList&lt;FileInfo&gt; res = new ArrayList&lt;FileInfo&gt;();\r\n    \r\n        for (FileInfo info : files) {\r\n            String url = info.getUrl().toString();\r\n            // Get the path of the File for which we have file information\r\n            url = url.substring(0, url.lastIndexOf(&#39;/&#39;));\r\n    \r\n            // Is file in the main folder\r\n            if (url.compareTo(mainPath) == 0 &amp;&amp; info.isDirectory() == false) {\r\n    \r\n                res.add(info);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\nThe method should be fairly easy to follow. And option I have not include here is the [`getUrl()`][1] method on URLs because I am not 100% certain how it works. If it gets you the directory path, use that instead and drop the conversion to string of the url and simply use `info.getUrl().getPath()`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/URL.html#getPath()","title":"Files.walk identify if file is from subfolder or mainfolder","body":"<p>Okay, so you want to be able to only delete files, and only files, in the main folder, and not files in the sub folders. Thus you need a list of files in the main folder. You can do this by checking the URL of the <code>FileInfo</code> objects from the result of your <code>listBackupFilesInLocalDir</code> method. This can be done in the following manner: </p>\n\n<pre><code>public ArrayList&lt;FileInfo&gt; filesInMainFolder(string mainPath,\n                                         ArrayList&lt;FileInfo&gt; files) {\n    ArrayList&lt;FileInfo&gt; res = new ArrayList&lt;FileInfo&gt;();\n\n    for (FileInfo info : files) {\n        String url = info.getUrl().toString();\n        // Get the path of the File for which we have file information\n        url = url.substring(0, url.lastIndexOf('/'));\n\n        // Is file in the main folder\n        if (url.compareTo(mainPath) == 0 &amp;&amp; info.isDirectory() == false) {\n\n            res.add(info);\n        }\n    }\n    return res;\n}\n</code></pre>\n\n<p>The method should be fairly easy to follow. And option I have not include here is the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URL.html#getPath()\" rel=\"nofollow noreferrer\"><code>getUrl()</code></a> method on URLs because I am not 100% certain how it works. If it gets you the directory path, use that instead and drop the conversion to string of the url and simply use <code>info.getUrl().getPath()</code></p>\n"}],"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49194827,"answer_count":2,"score":0,"last_activity_date":1677600120,"creation_date":1520599393,"question_id":49194082,"body_markdown":"I finally got my Files.walk working now my question is if there is any way to identify if the file collected to the list comes from a subfolder or mainfolder because there is a delete function for these files but the files from the sub folder the user should not be able to delete.\r\n\r\n     private static List&lt;FileInfo&gt; listBackupFilesInLocalDir(String localPath, Predicate&lt;String&gt; fileNamePredicate) {\r\n        try (Stream&lt;Path&gt; files = Files.walk(Paths.get(localPath))) {\r\n            return files.filter(p -&gt; fileNamePredicate.test(p.getFileName().toString()))\r\n                        .map(p -&gt; new FileInfo(p.getFileName().toString(), p.toFile().length()))\r\n                        .sorted()\r\n                        .collect(toList());\r\n        } catch (IOException e) {\r\n            log.error(&quot;Error listing directories&quot;, e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nThis is the function which find and collects all the files. Is it some sort of filter I need or is it even possible to do what I want?\r\n\r\n      deleteLocalFile.addClickListener(event -&gt; {\r\n            try {\r\n                Files.delete(Paths.get(this.localStorage, String.valueOf(localFilesComboBox.getValue())));\r\n            } catch (IOException e) {\r\n                UI.getCurrent().access(() -&gt; Notification.show(e.getMessage(), Notification.Type.ERROR_MESSAGE));\r\n            }\r\n\r\n            UI.getCurrent().access(() -&gt; {\r\n                localFilesComboBox.removeAllItems();\r\n                localFilesComboBox.addItems(listBackupFiles());\r\n            });\r\n        });\r\n\r\nThe above is the delete method and what I want to is simply like a \r\n```\r\nif(from folder a) {\r\ndeny delete\r\n}\r\n```\r\nor something similar","title":"Files.walk identify if file is from subfolder or mainfolder","body":"<p>I finally got my Files.walk working now my question is if there is any way to identify if the file collected to the list comes from a subfolder or mainfolder because there is a delete function for these files but the files from the sub folder the user should not be able to delete.</p>\n<pre><code> private static List&lt;FileInfo&gt; listBackupFilesInLocalDir(String localPath, Predicate&lt;String&gt; fileNamePredicate) {\n    try (Stream&lt;Path&gt; files = Files.walk(Paths.get(localPath))) {\n        return files.filter(p -&gt; fileNamePredicate.test(p.getFileName().toString()))\n                    .map(p -&gt; new FileInfo(p.getFileName().toString(), p.toFile().length()))\n                    .sorted()\n                    .collect(toList());\n    } catch (IOException e) {\n        log.error(&quot;Error listing directories&quot;, e);\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>This is the function which find and collects all the files. Is it some sort of filter I need or is it even possible to do what I want?</p>\n<pre><code>  deleteLocalFile.addClickListener(event -&gt; {\n        try {\n            Files.delete(Paths.get(this.localStorage, String.valueOf(localFilesComboBox.getValue())));\n        } catch (IOException e) {\n            UI.getCurrent().access(() -&gt; Notification.show(e.getMessage(), Notification.Type.ERROR_MESSAGE));\n        }\n\n        UI.getCurrent().access(() -&gt; {\n            localFilesComboBox.removeAllItems();\n            localFilesComboBox.addItems(listBackupFiles());\n        });\n    });\n</code></pre>\n<p>The above is the delete method and what I want to is simply like a</p>\n<pre><code>if(from folder a) {\ndeny delete\n}\n</code></pre>\n<p>or something similar</p>\n"},{"tags":["java","null-test"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1677599132,"post_id":75594227,"comment_id":133367702,"body_markdown":"Maybe the message can&#39;t assume that `holderForState.getNodeElementSelectedAPI()` always returns the same value?  Try assigning the value to a temporary variable first.","body":"Maybe the message can&#39;t assume that <code>holderForState.getNodeElementSelectedAPI()</code> always returns the same value?  Try assigning the value to a temporary variable first."}],"answers":[{"tags":[],"owner":{"account_id":24546611,"reputation":174,"user_id":18456370,"display_name":"Yanni2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677599187,"creation_date":1677599187,"answer_id":75594291,"question_id":75594227,"body_markdown":"You are always calling the `.getNodeElementSelectedAPI();` method. It might be the case that the return type of this methods is different after the second call so it can possible get `null`.\r\n\r\nI would recommend you to write your code something like\r\n```java\r\nString abc = holderForState.getNodeElementSelectedAPI();\r\nif( abc == null || abc.equals(&quot;&quot;)) {\r\n    throw new IllegalArgumentException(&quot;SelectedAPI is empty or null during logic usage&quot;);\r\n}\r\n```\r\nThe variable `abc` can get null but it would still trigger the `IllegalArgumentException`. ","title":"How to properly write a null test on input that is nullable to avoid warnings in Java?","body":"<p>You are always calling the <code>.getNodeElementSelectedAPI();</code> method. It might be the case that the return type of this methods is different after the second call so it can possible get <code>null</code>.</p>\n<p>I would recommend you to write your code something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>String abc = holderForState.getNodeElementSelectedAPI();\nif( abc == null || abc.equals(&quot;&quot;)) {\n    throw new IllegalArgumentException(&quot;SelectedAPI is empty or null during logic usage&quot;);\n}\n</code></pre>\n<p>The variable <code>abc</code> can get null but it would still trigger the <code>IllegalArgumentException</code>.</p>\n"}],"owner":{"account_id":27901320,"reputation":3,"user_id":21305553,"display_name":"KKorzuno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75594291,"answer_count":1,"score":0,"last_activity_date":1677599187,"creation_date":1677598839,"question_id":75594227,"body_markdown":"How to write a proper test on a method that can return a null to assign the value to a nonnull variable? \r\n\r\n```\r\n@Nonnull String abc;\r\nif(holderForState.getNodeElementSelectedAPI() == null || holderForState.getNodeElementSelectedAPI().equals(&quot;&quot;)) {\r\n    throw new IllegalArgumentException(&quot;SelectedAPI is empty or null during logic usage&quot;);\r\n}\r\nabc = holderForState.getNodeElementSelectedAPI();\r\n```\r\nWhy does VS-code tell me that: Null type safety: The expression of type &#39;String&#39; needs unchecked conversion to conform to &#39;@Nonnull String&#39;Java(16778128) on abc assignment line? I am literally testing if it is null 1 line above and throwing out of context if it is...\r\n\r\nI tried multiple versions of this test, but I get the same. To make it simpler I am showing the assignment, whereas in reality I am using abc as a method parameter, with same outcomes.","title":"How to properly write a null test on input that is nullable to avoid warnings in Java?","body":"<p>How to write a proper test on a method that can return a null to assign the value to a nonnull variable?</p>\n<pre><code>@Nonnull String abc;\nif(holderForState.getNodeElementSelectedAPI() == null || holderForState.getNodeElementSelectedAPI().equals(&quot;&quot;)) {\n    throw new IllegalArgumentException(&quot;SelectedAPI is empty or null during logic usage&quot;);\n}\nabc = holderForState.getNodeElementSelectedAPI();\n</code></pre>\n<p>Why does VS-code tell me that: Null type safety: The expression of type 'String' needs unchecked conversion to conform to '@Nonnull String'Java(16778128) on abc assignment line? I am literally testing if it is null 1 line above and throwing out of context if it is...</p>\n<p>I tried multiple versions of this test, but I get the same. To make it simpler I am showing the assignment, whereas in reality I am using abc as a method parameter, with same outcomes.</p>\n"},{"tags":["java","spring","properties"],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1416005843,"creation_date":1416005843,"answer_id":26940230,"question_id":26935960,"body_markdown":"You can specify additional property files with command line parameters:\r\n\r\n    java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties\r\n\r\nTake a look at [Application properties file Spring Boot doc chapter][1].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files","title":"spring boot adding another properties file to the environment","body":"<p>You can specify additional property files with command line parameters:</p>\n\n<pre><code>java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties\n</code></pre>\n\n<p>Take a look at <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files\" rel=\"nofollow\">Application properties file Spring Boot doc chapter</a>.</p>\n"},{"tags":[],"owner":{"account_id":3838209,"reputation":149,"user_id":3182057,"display_name":"jayb0b"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496330744,"creation_date":1496330744,"answer_id":44311612,"question_id":26935960,"body_markdown":"If you want to do it without command line parameters, this will do the trick.\r\n\r\n    @SpringBootApplication\r\n    @PropertySources({\r\n            @PropertySource(&quot;classpath:application.properties&quot;),\r\n            @PropertySource(&quot;classpath:anotherbunchof.properties&quot;)\r\n    })\r\n    public class YourApplication{\r\n    \r\n    }","title":"spring boot adding another properties file to the environment","body":"<p>If you want to do it without command line parameters, this will do the trick.</p>\n\n<pre><code>@SpringBootApplication\n@PropertySources({\n        @PropertySource(\"classpath:application.properties\"),\n        @PropertySource(\"classpath:anotherbunchof.properties\")\n})\npublic class YourApplication{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18007222,"reputation":141,"user_id":13087712,"display_name":"Philemon Hilscher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677599134,"creation_date":1677599134,"answer_id":75594282,"question_id":26935960,"body_markdown":"I&#39;ve found a solution that makes the properties available in the spring environment as well as providing support for using them in `@Value(&quot;${my.custom.prop}&quot;)`\r\n```java\r\n@Bean\r\nprotected PropertySourcesPlaceholderConfigurer createPropertyConfigurer(ConfigurableEnvironment environment)\r\n        throws IOException {\r\n    PropertySourcesPlaceholderConfigurer result = new PropertySourcesPlaceholderConfigurer();\r\n\r\n    FileUrlResource resource = new FileUrlResource(Paths.get(&quot;custom-props.properties&quot;).toString());\r\n    result.setLocation(resource);\r\n    try (InputStream is = resource.getInputStream()) {\r\n        Properties properties = new Properties();\r\n        properties.load(is);\r\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(&quot;customProperties&quot;, properties));\r\n    }\r\n    return result;\r\n}\r\n```\r\nThis is very useful when you are not in a spring boot autoconfigured environment but have access to basic spring features.","title":"spring boot adding another properties file to the environment","body":"<p>I've found a solution that makes the properties available in the spring environment as well as providing support for using them in <code>@Value(&quot;${my.custom.prop}&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nprotected PropertySourcesPlaceholderConfigurer createPropertyConfigurer(ConfigurableEnvironment environment)\n        throws IOException {\n    PropertySourcesPlaceholderConfigurer result = new PropertySourcesPlaceholderConfigurer();\n\n    FileUrlResource resource = new FileUrlResource(Paths.get(&quot;custom-props.properties&quot;).toString());\n    result.setLocation(resource);\n    try (InputStream is = resource.getInputStream()) {\n        Properties properties = new Properties();\n        properties.load(is);\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(&quot;customProperties&quot;, properties));\n    }\n    return result;\n}\n</code></pre>\n<p>This is very useful when you are not in a spring boot autoconfigured environment but have access to basic spring features.</p>\n"}],"owner":{"account_id":1330099,"reputation":79,"user_id":1274196,"accept_rate":20,"display_name":"starcraftOnCrack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6765,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26940230,"answer_count":3,"score":6,"last_activity_date":1677599134,"creation_date":1415987352,"question_id":26935960,"body_markdown":"I was wondering if it was possible to add another properties file to the environment path besides just the application.properties file. If so how do you specify the new path? So you can access the properties using the Autowired Environment variable. Currently in my java project the default properties file application.properties have the path /soctrav/src.main.resources/application.properties","title":"spring boot adding another properties file to the environment","body":"<p>I was wondering if it was possible to add another properties file to the environment path besides just the application.properties file. If so how do you specify the new path? So you can access the properties using the Autowired Environment variable. Currently in my java project the default properties file application.properties have the path /soctrav/src.main.resources/application.properties</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677599047,"creation_date":1677599047,"answer_id":75594263,"question_id":75594117,"body_markdown":"Using `lock2`, you are synchronizing on a different instance of `lock2` per `Worker`. Each `Thread` will have its own object to synchronize on, so there will be no blocking of the other threads.\r\n\r\nIf you synchronize on `lock`, each thread will share the same object because it is a static instance, so threads will be blocked.","title":"Could you tell me why these threads don&#39;t overlap on the first case and do on the second?","body":"<p>Using <code>lock2</code>, you are synchronizing on a different instance of <code>lock2</code> per <code>Worker</code>. Each <code>Thread</code> will have its own object to synchronize on, so there will be no blocking of the other threads.</p>\n<p>If you synchronize on <code>lock</code>, each thread will share the same object because it is a static instance, so threads will be blocked.</p>\n"}],"owner":{"account_id":13574923,"reputation":37,"user_id":9792535,"display_name":"Juan Pollacchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75594263,"answer_count":1,"score":0,"last_activity_date":1677599047,"creation_date":1677598297,"question_id":75594117,"body_markdown":"If I run the main method on &quot;MyClass&quot; and use the synchronized block with the lock object from that one (lock), each thread prints out the count sequentially even though the lock is acquired within the for block. \r\n\r\nConversely, if I use the lock declared within the Worker class (lock2), the threads do overlap in the print statement executions. \r\n\r\n*(I&#39;ve added a concatenation to the System.out.format() to add more places where the thread can be interrupted by the OS).*\r\n\r\n\r\n\r\n \r\n    class MyClass {\r\n        private static Object lock = new Object();\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            (new Thread(new Worker(),&quot;Thread 1&quot;)).start();\r\n            (new Thread(new Worker(),&quot;Thread 2&quot;)).start();\r\n            (new Thread(new Worker(),&quot;Thread 3&quot;)).start();\r\n            (new Thread(new Worker(),&quot;Thread 4&quot;)).start();\r\n            (new Thread(new Worker(),&quot;Thread 5&quot;)).start();\r\n        }\r\n    \r\n        private static class Worker implements Runnable{\r\n            private int runCount = 1;\r\n    \r\n            private Object lock2 = new Object();\r\n    \r\n            @Override\r\n            public void run() {\r\n                for(int i = 0; i &lt; 100; i++){\r\n                    synchronized (lock){\r\n                        System.out.format(&quot;s&quot; + &quot;%s: runCount = %d\\n&quot;, Thread.currentThread().getName(), runCount++);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nCould you tell me why this difference occurs?","title":"Could you tell me why these threads don&#39;t overlap on the first case and do on the second?","body":"<p>If I run the main method on &quot;MyClass&quot; and use the synchronized block with the lock object from that one (lock), each thread prints out the count sequentially even though the lock is acquired within the for block.</p>\n<p>Conversely, if I use the lock declared within the Worker class (lock2), the threads do overlap in the print statement executions.</p>\n<p><em>(I've added a concatenation to the System.out.format() to add more places where the thread can be interrupted by the OS).</em></p>\n<pre><code>class MyClass {\n    private static Object lock = new Object();\n\n    public static void main(String[] args) {\n\n        (new Thread(new Worker(),&quot;Thread 1&quot;)).start();\n        (new Thread(new Worker(),&quot;Thread 2&quot;)).start();\n        (new Thread(new Worker(),&quot;Thread 3&quot;)).start();\n        (new Thread(new Worker(),&quot;Thread 4&quot;)).start();\n        (new Thread(new Worker(),&quot;Thread 5&quot;)).start();\n    }\n\n    private static class Worker implements Runnable{\n        private int runCount = 1;\n\n        private Object lock2 = new Object();\n\n        @Override\n        public void run() {\n            for(int i = 0; i &lt; 100; i++){\n                synchronized (lock){\n                    System.out.format(&quot;s&quot; + &quot;%s: runCount = %d\\n&quot;, Thread.currentThread().getName(), runCount++);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Could you tell me why this difference occurs?</p>\n"},{"tags":["java","spring","oauth-2.0","keycloak"],"comments":[{"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"score":0,"creation_date":1678124877,"post_id":75594262,"comment_id":133468955,"body_markdown":"Have you looked at the Keycloak documentation about upgrading? https://www.keycloak.org/docs/latest/upgrading/#intro","body":"Have you looked at the Keycloak documentation about upgrading? <a href=\"https://www.keycloak.org/docs/latest/upgrading/#intro\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/upgrading/#intro</a>"},{"owner":{"account_id":19142368,"reputation":74,"user_id":13982094,"display_name":"Djordje"},"score":0,"creation_date":1681046747,"post_id":75594262,"comment_id":133992899,"body_markdown":"Yes It will be some new storage api in Keycloak:\nhttps://www.keycloak.org/2022/07/storage-map.html\nBut is recommended version is =&gt;20","body":"Yes It will be some new storage api in Keycloak: <a href=\"https://www.keycloak.org/2022/07/storage-map.html\" rel=\"nofollow noreferrer\">keycloak.org/2022/07/storage-map.html</a> But is recommended version is =&gt;20"}],"owner":{"account_id":19142368,"reputation":74,"user_id":13982094,"display_name":"Djordje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677599045,"creation_date":1677599045,"question_id":75594262,"body_markdown":"I want to update my Keycloak to latest version which is currently 21.0.0. But I saw that we don&#39;t have UserStorageProvider.class within &#39;services&#39; package, now it&#39;s within &#39;legacy&#39;. What is the new approach to custom users identity provider so I can avoid to use legacy package? \r\n","title":"Keycloak user store provider above 18.0.0","body":"<p>I want to update my Keycloak to latest version which is currently 21.0.0. But I saw that we don't have UserStorageProvider.class within 'services' package, now it's within 'legacy'. What is the new approach to custom users identity provider so I can avoid to use legacy package?</p>\n"},{"tags":["java","exception","threadpool"],"comments":[{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":5,"creation_date":1286391966,"post_id":3875739,"comment_id":4124502,"body_markdown":"Excellent question. I wonder why only few people run into this.","body":"Excellent question. I wonder why only few people run into this."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1398787053,"post_id":3875739,"comment_id":35795872,"body_markdown":"See also http://stackoverflow.com/questions/1687977/how-to-properly-catch-runtimeexceptions-from-executors","body":"See also <a href=\"http://stackoverflow.com/questions/1687977/how-to-properly-catch-runtimeexceptions-from-executors\" title=\"how to properly catch runtimeexceptions from executors\">stackoverflow.com/questions/1687977/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1286393756,"creation_date":1286390199,"answer_id":3875784,"question_id":3875739,"body_markdown":"**Warning**: This method is not applicable to **scheduled** thread pool executors.  This answer has been undeleted for its relevance to other thread pool executors.  See [Willi&#39;s answer][1].\r\n\r\nOverride the `ThreadFactory` to give Threads an UncaughtExceptionHandler:\r\n\r\n    ThreadPoolExecutor exec = new ThreadPoolExecutor...;\r\n        \r\n    exec.setThreadFactory(new ExceptionCatchingThreadFactory(exec.getThreadFactory()));\r\n    //go on to submit tasks...\r\n    \r\n    \r\n    private static class ExceptionCatchingThreadFactory implements ThreadFactory {\r\n        private final ThreadFactory delegate;\r\n\r\n        private ExceptionCatchingThreadFactory(ThreadFactory delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n\r\n        public Thread newThread(final Runnable r) {\r\n            Thread t = delegate.newThread(r);\r\n            t.setUncaughtExceptionHandler(new UncaughtExceptionHandler() {\r\n                @Override\r\n                public void uncaughtException(Thread t, Throwable e) {\r\n                    e.printStackTrace();  //replace with your handling logic.\r\n                }\r\n            });\r\n            return t;\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875968#3875968","title":"Exception handling in ThreadPools","body":"<p><strong>Warning</strong>: This method is not applicable to <strong>scheduled</strong> thread pool executors.  This answer has been undeleted for its relevance to other thread pool executors.  See <a href=\"https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875968#3875968\">Willi's answer</a>.</p>\n\n<p>Override the <code>ThreadFactory</code> to give Threads an UncaughtExceptionHandler:</p>\n\n<pre><code>ThreadPoolExecutor exec = new ThreadPoolExecutor...;\n\nexec.setThreadFactory(new ExceptionCatchingThreadFactory(exec.getThreadFactory()));\n//go on to submit tasks...\n\n\nprivate static class ExceptionCatchingThreadFactory implements ThreadFactory {\n    private final ThreadFactory delegate;\n\n    private ExceptionCatchingThreadFactory(ThreadFactory delegate) {\n        this.delegate = delegate;\n    }\n\n    public Thread newThread(final Runnable r) {\n        Thread t = delegate.newThread(r);\n        t.setUncaughtExceptionHandler(new UncaughtExceptionHandler() {\n            @Override\n            public void uncaughtException(Thread t, Throwable e) {\n                e.printStackTrace();  //replace with your handling logic.\n            }\n        });\n        return t;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45034,"reputation":3821,"user_id":132474,"accept_rate":50,"display_name":"Michael"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1286390241,"creation_date":1286390241,"answer_id":3875791,"question_id":3875739,"body_markdown":"Consider adding a static event in your *ScheduledThreadPoolExecutor* class that any of your tasks can call if an exception is thrown.  That way, you can leverage that event to capture and handle the exceptions that occur within your threads.","title":"Exception handling in ThreadPools","body":"<p>Consider adding a static event in your <em>ScheduledThreadPoolExecutor</em> class that any of your tasks can call if an exception is thrown.  That way, you can leverage that event to capture and handle the exceptions that occur within your threads.</p>\n"},{"tags":[],"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1286390348,"creation_date":1286390348,"answer_id":3875807,"question_id":3875739,"body_markdown":"You can use the `get()` method from the `Future` you&#39;re getting by calling `scheduleAtFixedRate()`. It will throw an `ExecutionException` if an exeception occurred during the thread execution.","title":"Exception handling in ThreadPools","body":"<p>You can use the <code>get()</code> method from the <code>Future</code> you're getting by calling <code>scheduleAtFixedRate()</code>. It will throw an <code>ExecutionException</code> if an exeception occurred during the thread execution.</p>\n"},{"tags":[],"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1677598852,"creation_date":1286391483,"answer_id":3875968,"question_id":3875739,"body_markdown":"I wrote a small [post][1] about this problem a while ago. You have two options:\r\n\r\n 1. Use the [solution][2] provided by Colin Herbert or\r\n 2. use a modified version of Mark Peters [solution][3] but instead of assigning a `UncaughtExceptionHandler` you wrap each submitted runnable into a runnable of your own which executes (calls `run`) the real runnable inside a try-catch-block.\r\n\r\n**EDIT**  \r\nAs pointed out by Mark, it&#39;s important to wrap the `Runnable` passed to `ScheduledExecutorService` instead of the one passed to the `ThreadFactory`.\r\n\r\n  [1]: https://web.archive.org/web/20120213060953/https://www.cosmocode.de/en/blog/schoenborn/2009-12/17-uncaught-exceptions-in-scheduled-tasks\r\n  [2]: https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875807#3875807\r\n  [3]: https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875784#3875784","title":"Exception handling in ThreadPools","body":"<p>I wrote a small <a href=\"https://web.archive.org/web/20120213060953/https://www.cosmocode.de/en/blog/schoenborn/2009-12/17-uncaught-exceptions-in-scheduled-tasks\" rel=\"nofollow noreferrer\">post</a> about this problem a while ago. You have two options:</p>\n<ol>\n<li>Use the <a href=\"https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875807#3875807\">solution</a> provided by Colin Herbert or</li>\n<li>use a modified version of Mark Peters <a href=\"https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875784#3875784\">solution</a> but instead of assigning a <code>UncaughtExceptionHandler</code> you wrap each submitted runnable into a runnable of your own which executes (calls <code>run</code>) the real runnable inside a try-catch-block.</li>\n</ol>\n<p><strong>EDIT</strong><br />\nAs pointed out by Mark, it's important to wrap the <code>Runnable</code> passed to <code>ScheduledExecutorService</code> instead of the one passed to the <code>ThreadFactory</code>.</p>\n"},{"tags":[],"owner":{"account_id":279256,"reputation":3581,"user_id":574317,"display_name":"Johan Boberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370602057,"creation_date":1370602057,"answer_id":16982267,"question_id":3875739,"body_markdown":"You could also use a `ThreadPoolTaskScheduler` from the [Spring Framework][1], which exposes a method  to set an error handler and does all the wrapping for you. The default behavior depends on the type of task:\r\n\r\n*If the provided `ErrorHandler` is not null, it will be used. Otherwise, repeating tasks will have errors suppressed by default whereas one-shot tasks will have errors propagated by default since those errors may be expected through the returned `Future`. In both cases, the errors will be logged.*\r\n\r\nIf you only want to use the wrapping part and not the `TaskScheduler` you can use \r\n\r\n    TaskUtils.decorateTaskWithErrorHandler(task, errorHandler, isRepeatingTask)\r\n\r\nwhich the `TaskScheduler` uses internally.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/current/spring-framework-reference/html/scheduling.html","title":"Exception handling in ThreadPools","body":"<p>You could also use a <code>ThreadPoolTaskScheduler</code> from the <a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/scheduling.html\" rel=\"nofollow\">Spring Framework</a>, which exposes a method  to set an error handler and does all the wrapping for you. The default behavior depends on the type of task:</p>\n\n<p><em>If the provided <code>ErrorHandler</code> is not null, it will be used. Otherwise, repeating tasks will have errors suppressed by default whereas one-shot tasks will have errors propagated by default since those errors may be expected through the returned <code>Future</code>. In both cases, the errors will be logged.</em></p>\n\n<p>If you only want to use the wrapping part and not the <code>TaskScheduler</code> you can use </p>\n\n<pre><code>TaskUtils.decorateTaskWithErrorHandler(task, errorHandler, isRepeatingTask)\n</code></pre>\n\n<p>which the <code>TaskScheduler</code> uses internally.</p>\n"},{"tags":[],"owner":{"account_id":1250241,"reputation":328,"user_id":1638549,"display_name":"mryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445876427,"creation_date":1445876427,"answer_id":33350660,"question_id":3875739,"body_markdown":"You can subclass ScheduledThreadPoolExecutor and override the [afterExecute](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#afterExecute(java.lang.Runnable,%20java.lang.Throwable)) method to handle exceptions and errors for any kind of Runnable that you submit.\r\n","title":"Exception handling in ThreadPools","body":"<p>You can subclass ScheduledThreadPoolExecutor and override the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#afterExecute(java.lang.Runnable,%20java.lang.Throwable)\" rel=\"nofollow\">afterExecute</a> method to handle exceptions and errors for any kind of Runnable that you submit.</p>\n"}],"owner":{"account_id":209644,"reputation":1256,"user_id":460790,"accept_rate":75,"display_name":"Ivan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27720,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":3875968,"answer_count":6,"score":45,"last_activity_date":1677598852,"creation_date":1286389901,"question_id":3875739,"body_markdown":"I have a ScheduledThreadPoolExecutor that seems to be eating Exceptions.  I want my executor service to notify me if a submitted Runnable throws an exception.\r\n\r\nFor example, I&#39;d like the code below to at the very least print the IndexArrayOutOfBoundsException&#39;s stackTrace\r\n\r\n    threadPool.scheduleAtFixedRate(\r\n      new Runnable() {\r\n        public void run() {\r\n          int[] array = new array[0];\r\n          array[42] = 5;\r\n        }\r\n      },\r\n      1000,\r\n      1500L,\r\n      TimeUnit.MILLISECONDS);\r\n\r\n\r\n\r\n\r\nAs a side question.  Is there a way to write a general try catch block for a ScheduledThreadPoolExecutor?\r\n\r\n\r\n\r\n//////////END OF ORIGINAL QUESTION //////////////\r\n  \r\nAs suggested the following Decorator works well.\r\n\r\n    public class CatcherTask implements Runnable{\r\n    \r\n    \tRunnable runMe;\r\n    \r\n    \tpublic CatcherTask(Runnable runMe) {\r\n    \t\tthis.runMe = runMe;\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\trunMe.run();\r\n    \t\t} catch (Exception ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Exception handling in ThreadPools","body":"<p>I have a ScheduledThreadPoolExecutor that seems to be eating Exceptions.  I want my executor service to notify me if a submitted Runnable throws an exception.</p>\n\n<p>For example, I'd like the code below to at the very least print the IndexArrayOutOfBoundsException's stackTrace</p>\n\n<pre><code>threadPool.scheduleAtFixedRate(\n  new Runnable() {\n    public void run() {\n      int[] array = new array[0];\n      array[42] = 5;\n    }\n  },\n  1000,\n  1500L,\n  TimeUnit.MILLISECONDS);\n</code></pre>\n\n<p>As a side question.  Is there a way to write a general try catch block for a ScheduledThreadPoolExecutor?</p>\n\n<p>//////////END OF ORIGINAL QUESTION //////////////</p>\n\n<p>As suggested the following Decorator works well.</p>\n\n<pre><code>public class CatcherTask implements Runnable{\n\n    Runnable runMe;\n\n    public CatcherTask(Runnable runMe) {\n        this.runMe = runMe;\n    }\n\n    public void run() {\n        try {\n            runMe.run();\n        } catch (Exception ex){\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","gradle","intellij-idea"],"comments":[{"owner":{"account_id":9702664,"reputation":705,"user_id":7197120,"display_name":"chriptus13"},"score":0,"creation_date":1592610399,"post_id":62479777,"comment_id":110496726,"body_markdown":"Try the second one it works for me [link](https://mvnrepository.com/artifact/org.springframework/spring-webflux/5.2.7.RELEASE).","body":"Try the second one it works for me <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-webflux/5.2.7.RELEASE\" rel=\"nofollow noreferrer\">link</a>."},{"owner":{"account_id":18765115,"reputation":813,"user_id":13683188,"display_name":"Tobi Akinyemi"},"score":0,"creation_date":1592612108,"post_id":62479777,"comment_id":110497052,"body_markdown":"@chriptus13 doesn&#39;t fix error","body":"@chriptus13 doesn&#39;t fix error"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1592614864,"creation_date":1592610632,"answer_id":62480031,"question_id":62479777,"body_markdown":"Your `build.gradle` is missing this dependency:\r\n\r\n```\r\ncompile group: &#39;org.springframework&#39;, name: &#39;spring-webflux&#39;, version: &#39;5.2.7.RELEASE&#39;\r\n```\r\n\r\nProof of working:\r\n\r\n[![WebClient][1]][1]\r\n\r\nMake sure to [reimport the dependencies](https://stackoverflow.com/a/43192764/104891).\r\n\r\nThe sample code for `WebClient` should look like this:\r\n\r\n```\r\n        WebClient client3 = WebClient\r\n                .builder()\r\n                .baseUrl(&quot;http://localhost:8080&quot;)\r\n                .defaultCookie(&quot;cookieKey&quot;, &quot;cookieValue&quot;)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .defaultUriVariables(Collections.singletonMap(&quot;url&quot;, &quot;http://localhost:8080&quot;))\r\n                .build();\r\n```\r\n\r\nNotice that it&#39;s `WebClient.builder()` and not `WebClient.Builder()`, it looks like you have a typo in the method name, replace `Builder()` with `builder()` and it should work.\r\n\r\n`WebClient.Builder` is an Interface, therefore this code is not valid:\r\n\r\n```\r\nSystem.out.println(WebClient.Builder());\r\n```\r\n\r\nIt&#39;s a **syntax issue with you code** that has nothing to do with Gradle, dependencies or IntelliJ IDEA.\r\n\r\n  [1]: https://i.stack.imgur.com/e6jiT.png","title":"WebClient not resolving","body":"<p>Your <code>build.gradle</code> is missing this dependency:</p>\n\n<pre><code>compile group: 'org.springframework', name: 'spring-webflux', version: '5.2.7.RELEASE'\n</code></pre>\n\n<p>Proof of working:</p>\n\n<p><a href=\"https://i.stack.imgur.com/e6jiT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/e6jiT.png\" alt=\"WebClient\"></a></p>\n\n<p>Make sure to <a href=\"https://stackoverflow.com/a/43192764/104891\">reimport the dependencies</a>.</p>\n\n<p>The sample code for <code>WebClient</code> should look like this:</p>\n\n<pre><code>        WebClient client3 = WebClient\n                .builder()\n                .baseUrl(\"http://localhost:8080\")\n                .defaultCookie(\"cookieKey\", \"cookieValue\")\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .defaultUriVariables(Collections.singletonMap(\"url\", \"http://localhost:8080\"))\n                .build();\n</code></pre>\n\n<p>Notice that it's <code>WebClient.builder()</code> and not <code>WebClient.Builder()</code>, it looks like you have a typo in the method name, replace <code>Builder()</code> with <code>builder()</code> and it should work.</p>\n\n<p><code>WebClient.Builder</code> is an Interface, therefore this code is not valid:</p>\n\n<pre><code>System.out.println(WebClient.Builder());\n</code></pre>\n\n<p>It's a <strong>syntax issue with you code</strong> that has nothing to do with Gradle, dependencies or IntelliJ IDEA.</p>\n"},{"tags":[],"owner":{"account_id":27863251,"reputation":21,"user_id":21275309,"display_name":"user21275309"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677598700,"creation_date":1677177215,"answer_id":75548941,"question_id":62479777,"body_markdown":"I had the same issue too, and I am using this dependency:\r\n\r\n`implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;`\r\n\r\nI also had to invalidate IntelliJ caches at `File &gt; Invalidate Caches`","title":"WebClient not resolving","body":"<p>I had the same issue too, and I am using this dependency:</p>\n<p><code>implementation 'org.springframework.boot:spring-boot-starter-webflux'</code></p>\n<p>I also had to invalidate IntelliJ caches at <code>File &gt; Invalidate Caches</code></p>\n"}],"owner":{"account_id":18765115,"reputation":813,"user_id":13683188,"display_name":"Tobi Akinyemi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11912,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62480031,"answer_count":2,"score":4,"last_activity_date":1677598700,"creation_date":1592608477,"question_id":62479777,"body_markdown":"In order to utilise the new `WebClient` API, I&#39;ve included `spring-webflux` in my Intellij project.\r\n```groovy\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n//    compile group: &#39;org.springframework&#39;, name: &#39;spring-webflux&#39;, version: &#39;5.2.7.RELEASE&#39;\r\n\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n        exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    }\r\n}\r\n```\r\nHowever, WebClient remains unresolved:\r\n```\r\nC:\\Users\\tobia\\Documents\\spring-app\\service\\Service.java:25: error: cannot find symbol\r\n        System.out.println(WebClient.Builder());\r\n                           ^\r\n  symbol:   variable WebClient\r\n  location: class Service\r\n```\r\n\r\n---\r\nThe dependency itself seems to have resolved, as `webflux` is now in my &quot;external libraries&quot; list:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n--- \r\nDoes anybody have any idea why `WebClient` remains unresolved?\r\n\r\n  [1]: https://i.stack.imgur.com/h1swN.png\r\n\r\n---\r\nI&#39;ve tried all 4 of these dependency declerations, and none work:\r\n```groovy\r\n    compile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    compile group: &#39;org.springframework&#39;, name: &#39;spring-webflux&#39;, version: &#39;5.2.7.RELEASE&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    implementation group: &#39;org.springframework&#39;, name: &#39;spring-webflux&#39;, version: &#39;5.2.7.RELEASE&#39;\r\n```","title":"WebClient not resolving","body":"<p>In order to utilise the new <code>WebClient</code> API, I've included <code>spring-webflux</code> in my Intellij project.</p>\n\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compile 'org.springframework.boot:spring-boot-starter-webflux'\n//    compile group: 'org.springframework', name: 'spring-webflux', version: '5.2.7.RELEASE'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n</code></pre>\n\n<p>However, WebClient remains unresolved:</p>\n\n<pre><code>C:\\Users\\tobia\\Documents\\spring-app\\service\\Service.java:25: error: cannot find symbol\n        System.out.println(WebClient.Builder());\n                           ^\n  symbol:   variable WebClient\n  location: class Service\n</code></pre>\n\n<hr>\n\n<p>The dependency itself seems to have resolved, as <code>webflux</code> is now in my \"external libraries\" list:</p>\n\n<p><a href=\"https://i.stack.imgur.com/h1swN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h1swN.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Does anybody have any idea why <code>WebClient</code> remains unresolved?</p>\n\n<hr>\n\n<p>I've tried all 4 of these dependency declerations, and none work:</p>\n\n<pre><code>    compile 'org.springframework.boot:spring-boot-starter-webflux'\n    compile group: 'org.springframework', name: 'spring-webflux', version: '5.2.7.RELEASE'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation group: 'org.springframework', name: 'spring-webflux', version: '5.2.7.RELEASE'\n</code></pre>\n"},{"tags":["java","xml-binding"],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1678057043,"answer_count":1,"score":0,"last_activity_date":1677598635,"creation_date":1677525017,"question_id":75584634,"body_markdown":"I have the following class:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.PropertyNamingStrategy;\r\nimport com.fasterxml.jackson.databind.annotation.JsonNaming;\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport java.io.Serializable;\r\n\r\n@XmlRootElement(name=&quot;CachedTemplate&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\npublic class CachedResource implements Serializable {\r\n    @XmlElement(name = &quot;ResourceID&quot;)\r\n    public String ResourceID;\r\n\r\n    @XmlElement(name = &quot;ConnectionString&quot;)\r\n    public String ConnectionString;\r\n\r\n    @XmlElement(name = &quot;Data&quot;)\r\n    public byte[] Data;\r\n\r\n    public CachedResource() {};\r\n}\r\n```\r\n\r\nWhen I try to serialize the object I get the following exception:\r\n\r\n```\r\ncom.sun.istack.SAXException2: unable to marshal type &quot;XXX&quot; as an element because it is missing an @XmlRootElement annotation\r\n```\r\n\r\nI&#39;m confused because the `@XmlRootElement` annotation is there. Any ideas why this is happening? ","title":"Java throwing jakarta.xml.bind.MarshalException even though its there","body":"<p>I have the following class:</p>\n<pre><code>import com.fasterxml.jackson.databind.PropertyNamingStrategy;\nimport com.fasterxml.jackson.databind.annotation.JsonNaming;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport java.io.Serializable;\n\n@XmlRootElement(name=&quot;CachedTemplate&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\npublic class CachedResource implements Serializable {\n    @XmlElement(name = &quot;ResourceID&quot;)\n    public String ResourceID;\n\n    @XmlElement(name = &quot;ConnectionString&quot;)\n    public String ConnectionString;\n\n    @XmlElement(name = &quot;Data&quot;)\n    public byte[] Data;\n\n    public CachedResource() {};\n}\n</code></pre>\n<p>When I try to serialize the object I get the following exception:</p>\n<pre><code>com.sun.istack.SAXException2: unable to marshal type &quot;XXX&quot; as an element because it is missing an @XmlRootElement annotation\n</code></pre>\n<p>I'm confused because the <code>@XmlRootElement</code> annotation is there. Any ideas why this is happening?</p>\n"},{"tags":["java","jbpm","business-process-management","script-task","data-objects"],"owner":{"account_id":17526344,"reputation":13,"user_id":18870563,"display_name":"stormy2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677598464,"creation_date":1677598464,"question_id":75594162,"body_markdown":"In jBPM Business Central if I was to make a Business Process that had one Data Object called FinalValue with one Integer variable called endValue \r\n\r\n[![enter image description here](https://i.stack.imgur.com/qMTzh.png)](https://i.stack.imgur.com/qMTzh.png)\r\n[![enter image description here](https://i.stack.imgur.com/4XRHK.png)](https://i.stack.imgur.com/4XRHK.png)\r\n[![enter image description here](https://i.stack.imgur.com/SKdUI.png)](https://i.stack.imgur.com/SKdUI.png)\r\n[![enter image description here](https://i.stack.imgur.com/4Xl65.png)](https://i.stack.imgur.com/4Xl65.png)\r\n[![enter image description here](https://i.stack.imgur.com/fTcM9.png)](https://i.stack.imgur.com/fTcM9.png)\r\n\r\nand then in the Process I made a human task where the user picks an Integer value and it gets outputed as an Integer Process Variable userInput1, then I use that variable in the Script Task to enlarge it by a value of 10 and store it into another Integer Process Variable storedValue, how do I save that value into the Data Object variable so that it shows when I use the Data input int the Display form. \r\n\r\nIn the Script Task I tried many things like this:\r\n\r\nstoredValue = userInput1+10;\r\n\r\nFinalValue fin1 = new FinalValue();\r\n\r\nfin1.setEndValue(storedValue);","title":"jBPM data assignment is unclear","body":"<p>In jBPM Business Central if I was to make a Business Process that had one Data Object called FinalValue with one Integer variable called endValue</p>\n<p><a href=\"https://i.stack.imgur.com/qMTzh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMTzh.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/4XRHK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4XRHK.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/SKdUI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SKdUI.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/4Xl65.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Xl65.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/fTcM9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTcM9.png\" alt=\"enter image description here\" /></a></p>\n<p>and then in the Process I made a human task where the user picks an Integer value and it gets outputed as an Integer Process Variable userInput1, then I use that variable in the Script Task to enlarge it by a value of 10 and store it into another Integer Process Variable storedValue, how do I save that value into the Data Object variable so that it shows when I use the Data input int the Display form.</p>\n<p>In the Script Task I tried many things like this:</p>\n<p>storedValue = userInput1+10;</p>\n<p>FinalValue fin1 = new FinalValue();</p>\n<p>fin1.setEndValue(storedValue);</p>\n"},{"tags":["java","rest","http","http-post","chunked-encoding"],"comments":[{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1677601882,"post_id":75594154,"comment_id":133368661,"body_markdown":"Have you used the Content-Length header instead of writing it all yourself? https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length","body":"Have you used the Content-Length header instead of writing it all yourself? <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/&hellip;</a>"},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1677602482,"post_id":75594154,"comment_id":133368847,"body_markdown":"Java likes to throw exceptions, make sure a lot of your code is wrapped in try-catch blocks. If the stream gets closed, it will obviously notify you when you try to write to it.","body":"Java likes to throw exceptions, make sure a lot of your code is wrapped in try-catch blocks. If the stream gets closed, it will obviously notify you when you try to write to it."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677646861,"post_id":75594154,"comment_id":133377326,"body_markdown":"your image show `Parsing timed out 10000 MILLISECONDS`, check any config about  timeout , 10 sec.","body":"your image show <code>Parsing timed out 10000 MILLISECONDS</code>, check any config about  timeout , 10 sec."},{"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"score":0,"creation_date":1677666846,"post_id":75594154,"comment_id":133381484,"body_markdown":"@SupaMaggie70b that&#39;s correct. but before closing the stream server responds with  413 code (on screenshot). Is it possible to retrieve response code after catching IOException?","body":"@SupaMaggie70b that&#39;s correct. but before closing the stream server responds with  413 code (on screenshot). Is it possible to retrieve response code after catching IOException?"},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1677679732,"post_id":75594154,"comment_id":133385397,"body_markdown":"So are you writing the client or the server? which one has the error and which one is sending too much info? It looks like the client is sending too much for the server to handle.","body":"So are you writing the client or the server? which one has the error and which one is sending too much info? It looks like the client is sending too much for the server to handle."},{"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"score":0,"creation_date":1677769305,"post_id":75594154,"comment_id":133406337,"body_markdown":"@SupaMaggie70b both the client and the server. the server should abort receiving post body when it exceeds a limit. the server should support `Transfer-Encoding: chunked` ( no `Content-Length` ). the client should know when if the server aborted the reception, but not just generic IOException","body":"@SupaMaggie70b both the client and the server. the server should abort receiving post body when it exceeds a limit. the server should support <code>Transfer-Encoding: chunked</code> ( no <code>Content-Length</code> ). the client should know when if the server aborted the reception, but not just generic IOException"},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1677778521,"post_id":75594154,"comment_id":133409284,"body_markdown":"@Denis is the server working properly? Also, throwing and catching exceptions is a necessary part of java sockets.","body":"@Denis is the server working properly? Also, throwing and catching exceptions is a necessary part of java sockets."}],"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677598438,"creation_date":1677598438,"question_id":75594154,"body_markdown":"There is HTTP REST service  (java, spring boot) it consumes POST requests. It should respond with error code if file larger than specified is transferred. Problem is that client uses `Transfer-Encoding: chunked` and size of file is unknown ahead of request body transfer has been completed. \r\n\r\nService keeps counting bytes received. If counter exceeds a limit. It responds with `413/Request Entity Too Large` and _closes conection_. But client keeps transferring data.   \r\n\r\n[![Request wireshark dump][1]][1]   \r\n\r\n[![Prematurely response dump][2]][2]\r\n\r\n\r\nIt leads to the IOException on the client side:\r\n\r\n```\r\njava.net.SocketException: Broken pipe\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\r\n\tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\r\n\tat org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection$1.write(DefaultBHttpClientConnection.java:231)\r\n\tat org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\r\n\tat org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:150)\r\n\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flushCache(ChunkedOutputStream.java:127)\r\n\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flush(ChunkedOutputStream.java:234)\r\n\tat org.apache.hc.client5.http.entity.mime.InputStreamBody.writeTo(InputStreamBody.java:92)\r\n\tat org.apache.hc.client5.http.entity.mime.AbstractMultipartFormat.doWriteTo(AbstractMultipartFormat.java:165)\r\n\tat org.apache.hc.client5.http.entity.mime.AbstractMultipartFormat.writeTo(AbstractMultipartFormat.java:188)\r\n\tat org.apache.hc.client5.http.entity.mime.MultipartFormEntity.writeTo(MultipartFormEntity.java:109)\r\n\tat org.apache.hc.client5.http.impl.classic.RequestEntityProxy.writeTo(RequestEntityProxy.java:106)\r\n\tat org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:252)\r\n\tat org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:141)\r\n\tat org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:218)\r\n\tat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$InternalConnectionEndpoint.execute(PoolingHttpClientConnectionManager.java:712)\r\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.execute(InternalExecRuntime.java:216)\r\n\tat org.apache.hc.client5.http.impl.classic.MainClientExec.execute(MainClientExec.java:116)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:188)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\r\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:245)\r\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:188)\r\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:162)\r\n...\r\n\tSuppressed: java.net.SocketException: Broken pipe\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\r\n\t\tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\r\n\t\tat org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection$1.write(DefaultBHttpClientConnection.java:231)\r\n\t\tat org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\r\n\t\tat org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:150)\r\n\t\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flushCache(ChunkedOutputStream.java:127)\r\n\t\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.finish(ChunkedOutputStream.java:184)\r\n\t\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.close(ChunkedOutputStream.java:245)\r\n\t\tat org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:253)\r\n\t\t... 23 more\r\n``` \r\n\r\ni tried both `java.net.http` and `org.apache.hc.client5.http` client. And it seems there is no way to get response in case of IOException. \r\n\r\nIs it possible to get response error code if IOException? OR more general, what is the *correct* way of prematurely interrupting POST requests with `Transfer-Encoding: chunked` ?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iImNu.jpg\r\n  [2]: https://i.stack.imgur.com/0Sx5u.png","title":"Prematurely interrupting HTTP POST chunked transfer if size limit exceeded","body":"<p>There is HTTP REST service  (java, spring boot) it consumes POST requests. It should respond with error code if file larger than specified is transferred. Problem is that client uses <code>Transfer-Encoding: chunked</code> and size of file is unknown ahead of request body transfer has been completed.</p>\n<p>Service keeps counting bytes received. If counter exceeds a limit. It responds with <code>413/Request Entity Too Large</code> and <em>closes conection</em>. But client keeps transferring data.</p>\n<p><a href=\"https://i.stack.imgur.com/iImNu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iImNu.jpg\" alt=\"Request wireshark dump\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0Sx5u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Sx5u.png\" alt=\"Prematurely response dump\" /></a></p>\n<p>It leads to the IOException on the client side:</p>\n<pre><code>java.net.SocketException: Broken pipe\n    at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\n    at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\n    at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\n    at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\n    at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection$1.write(DefaultBHttpClientConnection.java:231)\n    at org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\n    at org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:150)\n    at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flushCache(ChunkedOutputStream.java:127)\n    at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flush(ChunkedOutputStream.java:234)\n    at org.apache.hc.client5.http.entity.mime.InputStreamBody.writeTo(InputStreamBody.java:92)\n    at org.apache.hc.client5.http.entity.mime.AbstractMultipartFormat.doWriteTo(AbstractMultipartFormat.java:165)\n    at org.apache.hc.client5.http.entity.mime.AbstractMultipartFormat.writeTo(AbstractMultipartFormat.java:188)\n    at org.apache.hc.client5.http.entity.mime.MultipartFormEntity.writeTo(MultipartFormEntity.java:109)\n    at org.apache.hc.client5.http.impl.classic.RequestEntityProxy.writeTo(RequestEntityProxy.java:106)\n    at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:252)\n    at org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:141)\n    at org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:218)\n    at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$InternalConnectionEndpoint.execute(PoolingHttpClientConnectionManager.java:712)\n    at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.execute(InternalExecRuntime.java:216)\n    at org.apache.hc.client5.http.impl.classic.MainClientExec.execute(MainClientExec.java:116)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:188)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\n    at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:245)\n    at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:188)\n    at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:162)\n...\n    Suppressed: java.net.SocketException: Broken pipe\n        at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\n        at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\n        at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\n        at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\n        at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection$1.write(DefaultBHttpClientConnection.java:231)\n        at org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\n        at org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:150)\n        at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flushCache(ChunkedOutputStream.java:127)\n        at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.finish(ChunkedOutputStream.java:184)\n        at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.close(ChunkedOutputStream.java:245)\n        at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:253)\n        ... 23 more\n</code></pre>\n<p>i tried both <code>java.net.http</code> and <code>org.apache.hc.client5.http</code> client. And it seems there is no way to get response in case of IOException.</p>\n<p>Is it possible to get response error code if IOException? OR more general, what is the <em>correct</em> way of prematurely interrupting POST requests with <code>Transfer-Encoding: chunked</code> ?</p>\n"},{"tags":["java","android","kotlin","webview"],"answers":[{"tags":[],"owner":{"account_id":8029661,"reputation":1,"user_id":21229409,"display_name":"undevdetelephono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676649977,"creation_date":1676649977,"answer_id":75486636,"question_id":75477698,"body_markdown":"so apparently you must specify every line in a new string\r\n\r\nextracted the js to a variable with multi line, it has to be a multi line concatenated string\r\n\r\n    val jsFunction = &quot;javascript:(function() { &quot; +\r\n                    &quot;document.getElementById(&#39;btn-to-be-clicked&#39;).click();&quot; +\r\n                    &quot;})()&quot;","title":"programmatically click on a HTML button in WebView from fragment in Android","body":"<p>so apparently you must specify every line in a new string</p>\n<p>extracted the js to a variable with multi line, it has to be a multi line concatenated string</p>\n<pre><code>val jsFunction = &quot;javascript:(function() { &quot; +\n                &quot;document.getElementById('btn-to-be-clicked').click();&quot; +\n                &quot;})()&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11822062,"reputation":17,"user_id":8650912,"display_name":"Ciprian Bindiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677597889,"creation_date":1677175526,"answer_id":75548671,"question_id":75477698,"body_markdown":" Inside your `onPageFinished()` method, run the script calling the `view.loadUrl()` method or `view.evaluateJavascript()`, as you can see in the below example:\r\n\r\n    @Override\r\n    public void onPageFinished(WebView view, String url) {\r\n        // 1st method\r\n        view.loadUrl(&quot;javascript:(function() { &quot; +\r\n                     &quot;document.getElementById(&#39;btn-to-be-clicked&#39;).click();&quot; +\r\n                     &quot;})()&quot;);\r\n    \r\n        // 2nd method\r\n        view.evaluateJavascript(\r\n                     &quot;javascript:(function() { &quot; +\r\n                     &quot;document.getElementById(&#39;btn-to-be-clicked&#39;).click();&quot; +\r\n                     &quot;})()&quot;, new ValueCallback&lt;String&gt;() {\r\n               @Override\r\n               public void onReceiveValue(String s) {\r\n                    // You could use this callback method to do something\r\n                    // after the click was executed.\r\n               }\r\n        });\r\n    }","title":"programmatically click on a HTML button in WebView from fragment in Android","body":"<p>Inside your <code>onPageFinished()</code> method, run the script calling the <code>view.loadUrl()</code> method or <code>view.evaluateJavascript()</code>, as you can see in the below example:</p>\n<pre><code>@Override\npublic void onPageFinished(WebView view, String url) {\n    // 1st method\n    view.loadUrl(&quot;javascript:(function() { &quot; +\n                 &quot;document.getElementById('btn-to-be-clicked').click();&quot; +\n                 &quot;})()&quot;);\n\n    // 2nd method\n    view.evaluateJavascript(\n                 &quot;javascript:(function() { &quot; +\n                 &quot;document.getElementById('btn-to-be-clicked').click();&quot; +\n                 &quot;})()&quot;, new ValueCallback&lt;String&gt;() {\n           @Override\n           public void onReceiveValue(String s) {\n                // You could use this callback method to do something\n                // after the click was executed.\n           }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":8029661,"reputation":1,"user_id":21229409,"display_name":"undevdetelephono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677597889,"creation_date":1676580019,"question_id":75477698,"body_markdown":"I need to open a dialog in a website which opens on clicking a HTML button of the website. I&#39;m trying to click on a HTML button based on the id from the fragment, how can I perform the action, I&#39;m using\r\n\r\n\r\n    webView.setWebViewClient(new WebViewClient() {\r\n    \r\n    \t@Override\r\n    \tpublic void onPageFinished(WebView view, String url) {\r\n    \t\tsuper.onPageFinished(view, url);\r\n    \t\t\t\t\r\n    \t\t// trying to click the button with id btn-to-be-clicked\r\n    \t\twebView.loadUrl(&quot;javascript:(function(){document.getElementById(&#39;btn-to-be-clicked&#39;).click();})()&quot;);\r\n    \t\t\t}\r\n    }\r\n\r\n\r\nthanks\r\n\r\nI tried \r\n`webView.loadUrl(&quot;javascript:(function(){document.getElementById(&#39;btn-to-be-clicked&#39;).click();})()&quot;);`","title":"programmatically click on a HTML button in WebView from fragment in Android","body":"<p>I need to open a dialog in a website which opens on clicking a HTML button of the website. I'm trying to click on a HTML button based on the id from the fragment, how can I perform the action, I'm using</p>\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n                \n        // trying to click the button with id btn-to-be-clicked\n        webView.loadUrl(&quot;javascript:(function(){document.getElementById('btn-to-be-clicked').click();})()&quot;);\n            }\n}\n</code></pre>\n<p>thanks</p>\n<p>I tried\n<code>webView.loadUrl(&quot;javascript:(function(){document.getElementById('btn-to-be-clicked').click();})()&quot;);</code></p>\n"},{"tags":["java","selenium-webdriver","cucumber"],"answers":[{"tags":[],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677597842,"creation_date":1677597331,"answer_id":75593911,"question_id":75593780,"body_markdown":"I&#39;d recommend to switch to AssertJ framework, which provides the functionality you need out of the box. You could then use something like\r\n\r\n`Assertions.assertThat(nlLinksSection).containsExactly(nlLinksString);`\r\n\r\nThis assertion will provide a very good error message telling you what&#39;s wrong, but you can freely override it yourself like this:\r\n\r\n\r\n```\r\nAssertions.assertThat(nlLinksSection)\r\n        .overridingErrorMessage(&quot;nlLinksSection &quot; + nlLinksSection + &quot; is a bit different than nlLinksString &quot; + nlLinksString)\r\n        .containsExactly(nlLinksString);\r\n\r\n```\r\n\r\nShorter way of mapping `nlinks` to `List&lt;String&gt;` may look like\r\n\r\n`List&lt;String&gt; nlLinksString = nlLinks.stream().map(WebElement::getText).collect(Collectors.toList());`","title":"Compare dataTable with List of strings","body":"<p>I'd recommend to switch to AssertJ framework, which provides the functionality you need out of the box. You could then use something like</p>\n<p><code>Assertions.assertThat(nlLinksSection).containsExactly(nlLinksString);</code></p>\n<p>This assertion will provide a very good error message telling you what's wrong, but you can freely override it yourself like this:</p>\n<pre><code>Assertions.assertThat(nlLinksSection)\n        .overridingErrorMessage(&quot;nlLinksSection &quot; + nlLinksSection + &quot; is a bit different than nlLinksString &quot; + nlLinksString)\n        .containsExactly(nlLinksString);\n\n</code></pre>\n<p>Shorter way of mapping <code>nlinks</code> to <code>List&lt;String&gt;</code> may look like</p>\n<p><code>List&lt;String&gt; nlLinksString = nlLinks.stream().map(WebElement::getText).collect(Collectors.toList());</code></p>\n"}],"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75593911,"answer_count":1,"score":1,"last_activity_date":1677597842,"creation_date":1677596683,"question_id":75593780,"body_markdown":"I&#39;m using Selenium &amp; Cucumber and I&#39;m trying to use DataTables functionality. \r\nThe idea is to test all footer links with schema like:\r\n\r\n      Scenario: I verify footer links\r\n        * I verify that links section inside the footer are visible\r\n          | Colofon                          |\r\n          | Gegevensbescherming              |\r\n          | FAQ/ Hulp                        |\r\n          | Contact                          |\r\n\r\nAnd for now my code looks like:\r\n\r\n    @And(&quot;I verify that links section inside the footer are visible&quot;)\r\n    public void iVerifyThatLinksSectionAreCorrect(DataTable dataTable) {\r\n        List&lt;String&gt; nlLinksSection = dataTable.asList();\r\n        List&lt;WebElement&gt; nlLinks = baseMethods.findElements(&quot;FooterNL.Links&quot;);\r\n    \r\n        List&lt;String&gt; nlLinksString = new ArrayList&lt;&gt;();\r\n        nlLinks.stream().map(WebElement::getText).forEach(nlLinksString::add);\r\n    \r\n        Assert.assertTrue(CollectionUtils.isEqualCollection(nlLinksSection, nlLinksString));\r\n    }\r\n\r\nActually the method &amp; assertion works but in case of mismatching (dataTable &amp; WebElement) I&#39;m recieving something like:\r\n\r\n    Step failed\r\n    java.lang.AssertionError: expected [true] but found [false]\r\n\r\nI have two questions:\r\n- Can this method be written in better &amp; more clear way? I feel it does not look really good...\r\n- Can someone tell me how I can improve assertion to implement messages like:\r\n&quot;Comparison failed, there should be: &quot;Contact&quot; element but was not&quot; or \r\n&quot;Comparison failed, there should be: &quot;Contact&quot; element but was: &quot;XYZ&quot;","title":"Compare dataTable with List of strings","body":"<p>I'm using Selenium &amp; Cucumber and I'm trying to use DataTables functionality.\nThe idea is to test all footer links with schema like:</p>\n<pre><code>  Scenario: I verify footer links\n    * I verify that links section inside the footer are visible\n      | Colofon                          |\n      | Gegevensbescherming              |\n      | FAQ/ Hulp                        |\n      | Contact                          |\n</code></pre>\n<p>And for now my code looks like:</p>\n<pre><code>@And(&quot;I verify that links section inside the footer are visible&quot;)\npublic void iVerifyThatLinksSectionAreCorrect(DataTable dataTable) {\n    List&lt;String&gt; nlLinksSection = dataTable.asList();\n    List&lt;WebElement&gt; nlLinks = baseMethods.findElements(&quot;FooterNL.Links&quot;);\n\n    List&lt;String&gt; nlLinksString = new ArrayList&lt;&gt;();\n    nlLinks.stream().map(WebElement::getText).forEach(nlLinksString::add);\n\n    Assert.assertTrue(CollectionUtils.isEqualCollection(nlLinksSection, nlLinksString));\n}\n</code></pre>\n<p>Actually the method &amp; assertion works but in case of mismatching (dataTable &amp; WebElement) I'm recieving something like:</p>\n<pre><code>Step failed\njava.lang.AssertionError: expected [true] but found [false]\n</code></pre>\n<p>I have two questions:</p>\n<ul>\n<li>Can this method be written in better &amp; more clear way? I feel it does not look really good...</li>\n<li>Can someone tell me how I can improve assertion to implement messages like:\n&quot;Comparison failed, there should be: &quot;Contact&quot; element but was not&quot; or\n&quot;Comparison failed, there should be: &quot;Contact&quot; element but was: &quot;XYZ&quot;</li>\n</ul>\n"},{"tags":["java","encryption","base64","sha256","aes-gcm"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1677569621,"post_id":75588743,"comment_id":133358797,"body_markdown":"Just a guess - as the nonce are of length 24 (after Base64 decoding) - are you sure that the algorithm is AES-GCM ? I think it is **XChaCha20-Poly1305** that has a nonce length of 24 bytes.","body":"Just a guess - as the nonce are of length 24 (after Base64 decoding) - are you sure that the algorithm is AES-GCM ? I think it is <b>XChaCha20-Poly1305</b> that has a nonce length of 24 bytes."},{"owner":{"account_id":26422127,"reputation":3,"user_id":20069646,"display_name":"Alexander Prag"},"score":0,"creation_date":1677570138,"post_id":75588743,"comment_id":133358923,"body_markdown":"@michael-fehr, can you tell me how to decode nonce correctly? I use java.util.Base64.Decoder, but I get error &quot;Last unit does not have enough valid bits&quot;. I also tried to use Base64 from bouncycastle, but I get error there too.","body":"@michael-fehr, can you tell me how to decode nonce correctly? I use java.util.Base64.Decoder, but I get error &quot;Last unit does not have enough valid bits&quot;. I also tried to use Base64 from bouncycastle, but I get error there too."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1677572741,"post_id":75588743,"comment_id":133359566,"body_markdown":"The nonce is simply not a valid Base64 and therefore cannot be Base64 decoded. Possibly the data is corrupted or a different encoding is used. Without more detailed information about the encryption, we can only guess here. Can you post the encryption code or a link to the documentation?","body":"The nonce is simply not a valid Base64 and therefore cannot be Base64 decoded. Possibly the data is corrupted or a different encoding is used. Without more detailed information about the encryption, we can only guess here. Can you post the encryption code or a link to the documentation?"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677597530,"creation_date":1677590281,"answer_id":75592636,"question_id":75588743,"body_markdown":"If this is base64 then there is something strange going on. Base64 encodes bytes of size 8 using characters representing 6 bits. There are 33 characters in the nonce, which means that would encode a maximum of 33 * 6 = 198 bits. That&#39;s 24 bytes + 6 bits. Now if it was base 64 then the last character of 6 bits wouldn&#39;t be needed, or you would be missing 2 bits. So probably it is another encoding (which is also likely because none of the other symbols such as `+`, `/`, `-` or `_` are used.\r\n\r\nMore than a little searching shows that Solana wallets are using base 58 encoding / decoding. You can find an (unverified) encoder / decoder for Java [here](https://github.com/multiformats/java-multibase/blob/master/src/main/java/io/ipfs/multibase/Base58.java). In that case the decoding shows a more logical 24 bytes for the nonce. It might be base 62 as well, although that seems to be used less frequently.\r\n\r\nUsually GCM uses a nonce of 12 bytes which probably means that the decryption algorithm is off as well; even with base58 encoding I was unable to verify the authentication tag. As mentioned in the comments, there aren&#39;t that many ciphers with a 24 byte nonce, I&#39;d guess it is XSalsa20 or XChaCha20 (where the X actually hints at the larger nonce size), probably combined with Poly1305 to authenticate the ciphertext.\r\n\r\nAs you can see, the guesses quickly mount, which is why you should probably try and see where the protocol is specified instead. For instance, even if the ciphertext is authenticated, then the [algorithm is somewhat daunting to implement](https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha). If it isn&#39;t, then you&#39;d have the problem that you may not be able to verify the &quot;plaintext&quot; at all. For instance, if it is an EC private key then it is essentially a randomized byte array.\r\n","title":"How to decrypt pbkdf2 and aes/gcm data","body":"<p>If this is base64 then there is something strange going on. Base64 encodes bytes of size 8 using characters representing 6 bits. There are 33 characters in the nonce, which means that would encode a maximum of 33 * 6 = 198 bits. That's 24 bytes + 6 bits. Now if it was base 64 then the last character of 6 bits wouldn't be needed, or you would be missing 2 bits. So probably it is another encoding (which is also likely because none of the other symbols such as <code>+</code>, <code>/</code>, <code>-</code> or <code>_</code> are used.</p>\n<p>More than a little searching shows that Solana wallets are using base 58 encoding / decoding. You can find an (unverified) encoder / decoder for Java <a href=\"https://github.com/multiformats/java-multibase/blob/master/src/main/java/io/ipfs/multibase/Base58.java\" rel=\"nofollow noreferrer\">here</a>. In that case the decoding shows a more logical 24 bytes for the nonce. It might be base 62 as well, although that seems to be used less frequently.</p>\n<p>Usually GCM uses a nonce of 12 bytes which probably means that the decryption algorithm is off as well; even with base58 encoding I was unable to verify the authentication tag. As mentioned in the comments, there aren't that many ciphers with a 24 byte nonce, I'd guess it is XSalsa20 or XChaCha20 (where the X actually hints at the larger nonce size), probably combined with Poly1305 to authenticate the ciphertext.</p>\n<p>As you can see, the guesses quickly mount, which is why you should probably try and see where the protocol is specified instead. For instance, even if the ciphertext is authenticated, then the <a href=\"https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\" rel=\"nofollow noreferrer\">algorithm is somewhat daunting to implement</a>. If it isn't, then you'd have the problem that you may not be able to verify the &quot;plaintext&quot; at all. For instance, if it is an EC private key then it is essentially a randomized byte array.</p>\n"}],"owner":{"account_id":26422127,"reputation":3,"user_id":20069646,"display_name":"Alexander Prag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677647737,"accepted_answer_id":75592636,"answer_count":1,"score":-1,"last_activity_date":1677597530,"creation_date":1677567351,"question_id":75588743,"body_markdown":"I am trying to decipher the data presented in this format (password for decryption - 123123123, data taken from my phantom wallet):\r\n```\r\n{\r\n  &quot;encrypted&quot;: &quot;Cj7psrZSx4oyzdMHpmemhHT21HrRzQxZ9Qyk9v3g3sg3&quot;,\r\n  &quot;nonce&quot;: &quot;Gs1UtjfmNJ48rwqNPwfv5MMxcwFYpvtsd&quot;,\r\n  &quot;kdf&quot;: &quot;pbkdf2&quot;,\r\n  &quot;salt&quot;: &quot;JHjFEhDPmLFsRVshHYMprr&quot;,\r\n  &quot;iterations&quot;: 10000,\r\n  &quot;digest&quot;: &quot;sha256&quot;\r\n}\r\n```\r\n\r\nI wrote the following code to decode this data, but when decoding nonce via Base64 I get the error &quot;Last unit does not have enough valid bits&quot;. I thought that nonce should be trimmed, but then the error &quot;Tag mismatch&quot; appears.\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    String encrypted = &quot;Cj7psrZSx4oyzdMHpmemhHT21HrRzQxZ9Qyk9v3g3sg3&quot;;\r\n    String nonce = &quot;Gs1UtjfmNJ48rwqNPwfv5MMxcwFYpvtsd&quot;;\r\n    String salt = &quot;JHjFEhDPmLFsRVshHYMprr&quot;;\r\n\r\n    SecretKey key = getAESKeyFromPassword(&quot;123123123&quot;.toCharArray(), salt.getBytes());\r\n    byte[] encryptedBytes = Base64.getDecoder().decode(encrypted);\r\n    byte[] nonceBytes = Base64.getDecoder().decode(nonce);\r\n    String decrypted = decryptAES(encryptedBytes, key, nonceBytes);\r\n}\r\n\r\nprivate static SecretKey getAESKeyFromPassword(char[] password, byte[] salt) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n    KeySpec spec = new PBEKeySpec(password, salt, 10000, 256);\r\n    return new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n}\r\n\r\nprivate static String decryptAES(byte[] cText, SecretKey secret, byte[] nonce) throws Exception {\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n    cipher.init(Cipher.DECRYPT_MODE, secret, new GCMParameterSpec(128, nonce));\r\n    byte[] plainText = cipher.doFinal(cText);\r\n    return new String(plainText, UTF_8);\r\n}\r\n```\r\nMaybe someone knows how to work with this nonce?","title":"How to decrypt pbkdf2 and aes/gcm data","body":"<p>I am trying to decipher the data presented in this format (password for decryption - 123123123, data taken from my phantom wallet):</p>\n<pre><code>{\n  &quot;encrypted&quot;: &quot;Cj7psrZSx4oyzdMHpmemhHT21HrRzQxZ9Qyk9v3g3sg3&quot;,\n  &quot;nonce&quot;: &quot;Gs1UtjfmNJ48rwqNPwfv5MMxcwFYpvtsd&quot;,\n  &quot;kdf&quot;: &quot;pbkdf2&quot;,\n  &quot;salt&quot;: &quot;JHjFEhDPmLFsRVshHYMprr&quot;,\n  &quot;iterations&quot;: 10000,\n  &quot;digest&quot;: &quot;sha256&quot;\n}\n</code></pre>\n<p>I wrote the following code to decode this data, but when decoding nonce via Base64 I get the error &quot;Last unit does not have enough valid bits&quot;. I thought that nonce should be trimmed, but then the error &quot;Tag mismatch&quot; appears.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    String encrypted = &quot;Cj7psrZSx4oyzdMHpmemhHT21HrRzQxZ9Qyk9v3g3sg3&quot;;\n    String nonce = &quot;Gs1UtjfmNJ48rwqNPwfv5MMxcwFYpvtsd&quot;;\n    String salt = &quot;JHjFEhDPmLFsRVshHYMprr&quot;;\n\n    SecretKey key = getAESKeyFromPassword(&quot;123123123&quot;.toCharArray(), salt.getBytes());\n    byte[] encryptedBytes = Base64.getDecoder().decode(encrypted);\n    byte[] nonceBytes = Base64.getDecoder().decode(nonce);\n    String decrypted = decryptAES(encryptedBytes, key, nonceBytes);\n}\n\nprivate static SecretKey getAESKeyFromPassword(char[] password, byte[] salt) throws NoSuchAlgorithmException, InvalidKeySpecException {\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n    KeySpec spec = new PBEKeySpec(password, salt, 10000, 256);\n    return new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n}\n\nprivate static String decryptAES(byte[] cText, SecretKey secret, byte[] nonce) throws Exception {\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    cipher.init(Cipher.DECRYPT_MODE, secret, new GCMParameterSpec(128, nonce));\n    byte[] plainText = cipher.doFinal(cText);\n    return new String(plainText, UTF_8);\n}\n</code></pre>\n<p>Maybe someone knows how to work with this nonce?</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":13255231,"reputation":1,"user_id":9571544,"display_name":"Emtenan YYC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677597320,"creation_date":1677597045,"question_id":75593849,"body_markdown":"I&#39;m using one adapter for 2 activities \r\neverything is the same except the `getItemCount()` method.\r\nIt should return 5 items for Activity A and the whole list for Activity B.\r\n\r\nI tried to use this in `getItemCount()`, but it is not working: \r\n\r\n```java\r\n    if (this.context instanceof Activity1) {\r\n    } else if(this.context instanceof Activity2) {\r\n```\r\n\r\nWhat I&#39;m trying to do is to limit the number of items of recycleview, \r\nso in activity A only 5 items, and then, when I click the &quot;Show more&quot; button, it should retrieve the whole list.\r\n\r\nThanks in advance :) \r\n","title":"2 activities one adapter , getItemCount()","body":"<p>I'm using one adapter for 2 activities\neverything is the same except the <code>getItemCount()</code> method.\nIt should return 5 items for Activity A and the whole list for Activity B.</p>\n<p>I tried to use this in <code>getItemCount()</code>, but it is not working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (this.context instanceof Activity1) {\n    } else if(this.context instanceof Activity2) {\n</code></pre>\n<p>What I'm trying to do is to limit the number of items of recycleview,\nso in activity A only 5 items, and then, when I click the &quot;Show more&quot; button, it should retrieve the whole list.</p>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","maven","gwt","maven-war-plugin","gwt-maven-plugin"],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677597295,"creation_date":1677597295,"question_id":75593903,"body_markdown":"I have a GWT project, with 3 modules : \r\n\r\n    - MyProject\r\n    - MyProjectProduit\r\n    - CatalogueConnecte\r\n\r\nI need to have some resources (html files) filtered, to get the ${project.version} in them.\r\n\r\nThe war generated by maven have this format : \r\n\r\n    META-INF/\r\n    ...\r\n    WEB-INF/\r\n      classes/\r\n      ...\r\n      MyProject.html -&gt; Filtered\r\n      MyProjectproduit.html -&gt; Filtered\r\n      CatalogueConnecte.html -&gt; Filtered\r\n      ...\r\n      deploy/\r\n      lib/\r\n      web.xml\r\n    \r\n    com.al6.myProject.gwt.MyProject/\r\n      css/\r\n      gwt/chrome/\r\n      gxt/\r\n      help/\r\n      images/\r\n      MyProject.html -&gt; Not Filtered\r\n      MyProjectproduit.html -&gt; Not Filtered\r\n      CatalogueConnecte.html -&gt; Not Filtered\r\n    ...\r\n    \r\n    com.al6.myProject.gwt.MyProjectProduit/\r\n      css/\r\n      gwt/chrome/\r\n      gxt/\r\n      help/\r\n      images/\r\n      MyProject.html -&gt; Not Filtered\r\n      MyProjectproduit.html -&gt; Not Filtered\r\n      CatalogueConnecte.html -&gt; Not Filtered\r\n    ...\r\n    \r\n    com.al6.myProject.gwt.CatalogueConnecte/\r\n      css/\r\n      gwt/chrome/\r\n      gxt/\r\n      help/\r\n      images/\r\n      MyProject.html -&gt; Not Filtered\r\n      MyProjectproduit.html -&gt; Not Filtered\r\n      CatalogueConnecte.html -&gt; Not Filtered\r\n      ...\r\n\r\n\r\nWith this pom.xml configuration, the filtering works but only for the html files in the WEB-INF directory, not in each com.al6.myProject.gwt... directories.\r\n\r\nWhy ?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project&gt;\r\n      &lt;parent&gt;\r\n        &lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.al6&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.al6&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myProject.ihm&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n          &lt;/resource&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n          &lt;/resource&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/java/com/al6/myProject/gwt/public/images&lt;/directory&gt;\r\n          &lt;/resource&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;/resource&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/jasperreports&lt;/directory&gt;\r\n          &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;finalName&gt;myProject&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n              &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-beta-2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;compile-reports&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;com.al6.ireport&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n                &lt;version&gt;${jasperreports.version}&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.al6.ireport&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;ireport&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n    \t      &lt;dependency&gt;\r\n      \t        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n    \t      &lt;dependency&gt;\r\n      \t        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;1.8.3&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n    \t      &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;2.1&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.6.RELEASE&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                  &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                  &lt;/exclusion&gt;\r\n                  &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n                  &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}/classes/jasperreports&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;mergewebxml&lt;/goal&gt;\r\n                  &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;logLevel&gt;INFO&lt;/logLevel&gt;\r\n              &lt;compileTargets&gt;\r\n                &lt;value&gt;com.al6.myProject.gwt.MyProject&lt;/value&gt;\r\n                &lt;value&gt;com.al6.myProject.gwt.MyProjectProduit&lt;/value&gt;\r\n                &lt;value&gt;com.al6.myProject.gwt.CatalogueConnecte&lt;/value&gt;\r\n              &lt;/compileTargets&gt;\r\n              &lt;runTarget&gt;com.al6.myProject.gwt.MyProject/MyProject.html&lt;/runTarget&gt;\r\n              &lt;style&gt;OBF&lt;/style&gt;\r\n              &lt;noServer&gt;false&lt;/noServer&gt;\r\n              &lt;extraJvmArgs&gt;-Xmx872m&lt;/extraJvmArgs&gt;\r\n              &lt;gwtVersion&gt;${gwt.version}&lt;/gwtVersion&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;war&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${deploy.dir}&lt;/outputDirectory&gt;\r\n              &lt;webXml&gt;${project.build.directory}/web.xml&lt;/webXml&gt;\r\n              &lt;warSourceExcludes&gt;.gwt-tmp&lt;/warSourceExcludes&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;dependencies&gt;\r\n        ...\r\n      &lt;/dependencies&gt;\r\n      &lt;properties&gt;\r\n        &lt;gwt.version&gt;2.4.0&lt;/gwt.version&gt;\r\n        &lt;deploy.dir&gt;${project.build.directory}&lt;/deploy.dir&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/project&gt;","title":"Filtering in GWT modules with maven and gwt-maven-plugin","body":"<p>I have a GWT project, with 3 modules :</p>\n<pre><code>- MyProject\n- MyProjectProduit\n- CatalogueConnecte\n</code></pre>\n<p>I need to have some resources (html files) filtered, to get the ${project.version} in them.</p>\n<p>The war generated by maven have this format :</p>\n<pre><code>META-INF/\n...\nWEB-INF/\n  classes/\n  ...\n  MyProject.html -&gt; Filtered\n  MyProjectproduit.html -&gt; Filtered\n  CatalogueConnecte.html -&gt; Filtered\n  ...\n  deploy/\n  lib/\n  web.xml\n\ncom.al6.myProject.gwt.MyProject/\n  css/\n  gwt/chrome/\n  gxt/\n  help/\n  images/\n  MyProject.html -&gt; Not Filtered\n  MyProjectproduit.html -&gt; Not Filtered\n  CatalogueConnecte.html -&gt; Not Filtered\n...\n\ncom.al6.myProject.gwt.MyProjectProduit/\n  css/\n  gwt/chrome/\n  gxt/\n  help/\n  images/\n  MyProject.html -&gt; Not Filtered\n  MyProjectproduit.html -&gt; Not Filtered\n  CatalogueConnecte.html -&gt; Not Filtered\n...\n\ncom.al6.myProject.gwt.CatalogueConnecte/\n  css/\n  gwt/chrome/\n  gxt/\n  help/\n  images/\n  MyProject.html -&gt; Not Filtered\n  MyProjectproduit.html -&gt; Not Filtered\n  CatalogueConnecte.html -&gt; Not Filtered\n  ...\n</code></pre>\n<p>With this pom.xml configuration, the filtering works but only for the html files in the WEB-INF directory, not in each com.al6.myProject.gwt... directories.</p>\n<p>Why ?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;groupId&gt;com.al6&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.al6&lt;/groupId&gt;\n  &lt;artifactId&gt;myProject.ihm&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/java/com/al6/myProject/gwt/public/images&lt;/directory&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/jasperreports&lt;/directory&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;finalName&gt;myProject&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.0-beta-2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile-reports&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.al6.ireport&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;${jasperreports.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.al6.ireport&lt;/groupId&gt;\n            &lt;artifactId&gt;ireport&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.8.3&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.6.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n              &lt;exclusion&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n              &lt;/exclusion&gt;\n              &lt;exclusion&gt;\n                &lt;artifactId&gt;jta&lt;/artifactId&gt;\n                &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n              &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${project.build.directory}/classes/jasperreports&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;mergewebxml&lt;/goal&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;logLevel&gt;INFO&lt;/logLevel&gt;\n          &lt;compileTargets&gt;\n            &lt;value&gt;com.al6.myProject.gwt.MyProject&lt;/value&gt;\n            &lt;value&gt;com.al6.myProject.gwt.MyProjectProduit&lt;/value&gt;\n            &lt;value&gt;com.al6.myProject.gwt.CatalogueConnecte&lt;/value&gt;\n          &lt;/compileTargets&gt;\n          &lt;runTarget&gt;com.al6.myProject.gwt.MyProject/MyProject.html&lt;/runTarget&gt;\n          &lt;style&gt;OBF&lt;/style&gt;\n          &lt;noServer&gt;false&lt;/noServer&gt;\n          &lt;extraJvmArgs&gt;-Xmx872m&lt;/extraJvmArgs&gt;\n          &lt;gwtVersion&gt;${gwt.version}&lt;/gwtVersion&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;war&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${deploy.dir}&lt;/outputDirectory&gt;\n          &lt;webXml&gt;${project.build.directory}/web.xml&lt;/webXml&gt;\n          &lt;warSourceExcludes&gt;.gwt-tmp&lt;/warSourceExcludes&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    ...\n  &lt;/dependencies&gt;\n  &lt;properties&gt;\n    &lt;gwt.version&gt;2.4.0&lt;/gwt.version&gt;\n    &lt;deploy.dir&gt;${project.build.directory}&lt;/deploy.dir&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543820171,"creation_date":1543820171,"answer_id":53588865,"question_id":53586174,"body_markdown":" 1. You don&#39;t need to increase the heap unless you face [`java.lang.OutOfMemoryError: Java heap space` error][1] or detect unusually high [GC][2] activity \r\n 2. The message basically a form of advice, you will see it even if you have several terabytes of heap space as it is [simply hard-coded][3] and will always be shown during GUI startup. If you want to see all Java arguments including heap space settings you can use [JSR223 Sampler][4] and the following [Groovy][5] code:\r\n\r\n\t\tjava.lang.management.ManagementFactory.getRuntimeMXBean().getInputArguments().each {\r\n\t\t    log.info(&quot;Effective JVM argument: &quot; + &quot;$it&quot;)\r\n\t\t}\r\n\r\n    This way you can test whether you changes are applied or not:\r\n\r\n    [![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://plumbr.io/outofmemoryerror/java-heap-space\r\n  [2]: https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\r\n  [3]: https://github.com/apache/jmeter/blob/v5_0/src/core/org/apache/jmeter/JMeter.java#L364\r\n  [4]: http://jmeter.apache.org/usermanual/component_reference.html#JSR223_Sampler\r\n  [5]: https://www.blazemeter.com/blog/groovy-new-black\r\n  [6]: https://i.stack.imgur.com/oJN5J.png","title":"Jmeter, how to increase heap size","body":"<ol>\n<li>You don't need to increase the heap unless you face <a href=\"https://plumbr.io/outofmemoryerror/java-heap-space\" rel=\"noreferrer\"><code>java.lang.OutOfMemoryError: Java heap space</code> error</a> or detect unusually high <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"noreferrer\">GC</a> activity </li>\n<li><p>The message basically a form of advice, you will see it even if you have several terabytes of heap space as it is <a href=\"https://github.com/apache/jmeter/blob/v5_0/src/core/org/apache/jmeter/JMeter.java#L364\" rel=\"noreferrer\">simply hard-coded</a> and will always be shown during GUI startup. If you want to see all Java arguments including heap space settings you can use <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#JSR223_Sampler\" rel=\"noreferrer\">JSR223 Sampler</a> and the following <a href=\"https://www.blazemeter.com/blog/groovy-new-black\" rel=\"noreferrer\">Groovy</a> code:</p>\n\n<pre><code>java.lang.management.ManagementFactory.getRuntimeMXBean().getInputArguments().each {\n    log.info(\"Effective JVM argument: \" + \"$it\")\n}\n</code></pre>\n\n<p>This way you can test whether you changes are applied or not:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oJN5J.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oJN5J.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n"}],"owner":{"account_id":14027709,"reputation":71,"user_id":10132343,"display_name":"Jeffrey Aquino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13048,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1677597284,"creation_date":1543798772,"question_id":53586174,"body_markdown":"I had read that you need to change the heap size in the jmeter.bat file (I&#39;m using windows) to increase the memory to be able to test around 500 threads or more. This is the default:\r\n\r\n    if not defined HEAP (\r\n        rem See the unix startup file for the rationale of the following parameters,\r\n        rem including some tuning recommendations\r\n        set HEAP=-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m\r\n    )\r\n\r\nI changed the `set HEAP=-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m` it to:\r\n\r\n    set HEAP=-Xms2g -Xmx8g -XX:MaxMetaspaceSize=512m\r\n\r\nBut when I open Jmeter in GUI mode there is a message in the command line window\r\n\r\n    Modify current env variable HEAP=&quot;-Xms1g -Xmx1g -XX:MaxMetaSpaceSize=256m&quot; in the jmeter batch file\r\n\r\nSo does that mean the change in the batch file didn&#39;t work? Or it does work when running in non-gui mode? Did I miss something to change or what? Thanks in advance. ","title":"Jmeter, how to increase heap size","body":"<p>I had read that you need to change the heap size in the jmeter.bat file (I'm using windows) to increase the memory to be able to test around 500 threads or more. This is the default:</p>\n\n<pre><code>if not defined HEAP (\n    rem See the unix startup file for the rationale of the following parameters,\n    rem including some tuning recommendations\n    set HEAP=-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m\n)\n</code></pre>\n\n<p>I changed the <code>set HEAP=-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m</code> it to:</p>\n\n<pre><code>set HEAP=-Xms2g -Xmx8g -XX:MaxMetaspaceSize=512m\n</code></pre>\n\n<p>But when I open Jmeter in GUI mode there is a message in the command line window</p>\n\n<pre><code>Modify current env variable HEAP=\"-Xms1g -Xmx1g -XX:MaxMetaSpaceSize=256m\" in the jmeter batch file\n</code></pre>\n\n<p>So does that mean the change in the batch file didn't work? Or it does work when running in non-gui mode? Did I miss something to change or what? Thanks in advance. </p>\n"},{"tags":["java","apache","solr","lucene"],"answers":[{"tags":[],"owner":{"account_id":6438805,"reputation":660,"user_id":4989412,"accept_rate":14,"display_name":"Mayank Raghav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487058146,"creation_date":1486987596,"answer_id":42203643,"question_id":42138963,"body_markdown":"Finally, I found the solution for this(credit goes to my one of my senior). When running in cloud mode, follow these instructions:\r\n\r\n1. Create `lib` directory inside `SOLR_HOME` and put native-library(.so) file there.\r\n2. In `SOLR_HOME/bin/solr` file, add this line to `SOLR_START_OPTS`:\r\n\r\n    SOLR_START_OPTS= &quot;-Djava.library.path=$SOLR_TIP/lib/&quot;\r\n\r\n3. Create `lib` folders in each node library (i.e SOLR_HOME/example/cloud/node1/lib, SOLR_HOME/example/cloud/node2/lib) and put all your custom plugin jars into these newly created lib folders.\r\n\r\n4. Restart the solr in cloud mode.\r\n\r\nHope, it will help !","title":"How to load native library(.so) in Apache SOLR Cloud mode?","body":"<p>Finally, I found the solution for this(credit goes to my one of my senior). When running in cloud mode, follow these instructions:</p>\n\n<ol>\n<li>Create <code>lib</code> directory inside <code>SOLR_HOME</code> and put native-library(.so) file there.</li>\n<li><p>In <code>SOLR_HOME/bin/solr</code> file, add this line to <code>SOLR_START_OPTS</code>:</p>\n\n<p>SOLR_START_OPTS= \"-Djava.library.path=$SOLR_TIP/lib/\"</p></li>\n<li><p>Create <code>lib</code> folders in each node library (i.e SOLR_HOME/example/cloud/node1/lib, SOLR_HOME/example/cloud/node2/lib) and put all your custom plugin jars into these newly created lib folders.</p></li>\n<li><p>Restart the solr in cloud mode.</p></li>\n</ol>\n\n<p>Hope, it will help !</p>\n"},{"tags":[],"owner":{"account_id":1413154,"reputation":3100,"user_id":1339365,"accept_rate":71,"display_name":"Gnietschow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677597216,"creation_date":1677597216,"answer_id":75593887,"question_id":42138963,"body_markdown":"I struggled with with this problem as well and found another solution which does not need to touch the starting options.\r\n\r\nI just added `&lt;str name=&quot;sharedLib&quot;&gt;${solr.install.dir}/contrib/my_lib,${solr.install.dir}/dist&lt;/str&gt;` to the `solr.xml` ([doc][1]), which then loaded my library on startup so it is shared for all cores.\r\n\r\n\r\n  [1]: https://solr.apache.org/guide/8_3/format-of-solr-xml.html#solr-xml-parameters","title":"How to load native library(.so) in Apache SOLR Cloud mode?","body":"<p>I struggled with with this problem as well and found another solution which does not need to touch the starting options.</p>\n<p>I just added <code>&lt;str name=&quot;sharedLib&quot;&gt;${solr.install.dir}/contrib/my_lib,${solr.install.dir}/dist&lt;/str&gt;</code> to the <code>solr.xml</code> (<a href=\"https://solr.apache.org/guide/8_3/format-of-solr-xml.html#solr-xml-parameters\" rel=\"nofollow noreferrer\">doc</a>), which then loaded my library on startup so it is shared for all cores.</p>\n"}],"owner":{"account_id":6438805,"reputation":660,"user_id":4989412,"accept_rate":14,"display_name":"Mayank Raghav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677597216,"creation_date":1486649616,"question_id":42138963,"body_markdown":"I have written a SOLR custom query parser (implementation of org.apache.solr.search.QParser). My query parser uses some third-party jars. One of the third-party jar requires a native library(.so file) to work. This plugin is working fine when running solr in non-cloud mode, but when I run it on cloud mode, SOLR throws these errors: \r\n\r\n    java.lang.UnsatisfiedLinkError: Native Library /opt/solr-6.2.0/lib/xyz.so already loaded in another classloader\r\n\r\nI have kept all my third-party and query parser jars and .so file in SOLR_HOME/lib directory and have modified:\r\n\r\n1. Added lib dir= &quot;${solr.install.dir:../../../..}/lib/&quot; to solrconfig.xml\r\n\r\n2. In SOLR_HOME/bin/solr file:\r\n\r\n    SOLR_START_OPTS= &quot;-Djava.library.path=$SOLR_TIP/lib/&quot;\r\n\r\nPlease help. Thanks in advance.\r\n","title":"How to load native library(.so) in Apache SOLR Cloud mode?","body":"<p>I have written a SOLR custom query parser (implementation of org.apache.solr.search.QParser). My query parser uses some third-party jars. One of the third-party jar requires a native library(.so file) to work. This plugin is working fine when running solr in non-cloud mode, but when I run it on cloud mode, SOLR throws these errors: </p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: Native Library /opt/solr-6.2.0/lib/xyz.so already loaded in another classloader\n</code></pre>\n\n<p>I have kept all my third-party and query parser jars and .so file in SOLR_HOME/lib directory and have modified:</p>\n\n<ol>\n<li><p>Added lib dir= \"${solr.install.dir:../../../..}/lib/\" to solrconfig.xml</p></li>\n<li><p>In SOLR_HOME/bin/solr file:</p>\n\n<p>SOLR_START_OPTS= \"-Djava.library.path=$SOLR_TIP/lib/\"</p></li>\n</ol>\n\n<p>Please help. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","javabeans"],"comments":[{"owner":{"account_id":10194981,"reputation":516,"user_id":7527080,"accept_rate":100,"display_name":"Azarea"},"score":0,"creation_date":1531198621,"post_id":51257432,"comment_id":89493637,"body_markdown":"maybe duplicate of [how-to-check-two-condition-while-using-conditionalonproperty-or-conditionalone](https://stackoverflow.com/questions/36016864/how-to-check-two-condition-while-using-conditionalonproperty-or-conditionalone)","body":"maybe duplicate of <a href=\"https://stackoverflow.com/questions/36016864/how-to-check-two-condition-while-using-conditionalonproperty-or-conditionalone\">how-to-check-two-condition-while-using-conditionalonproperty&zwnj;&#8203;-or-conditionalone</a>"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1531199627,"creation_date":1531199627,"answer_id":51257660,"question_id":51257432,"body_markdown":"The annotations `@ConditionalOnProperty` and `@ConditionalOnExpression` both do NOT have the `java.lang.annotation.Repeatable` annotation so you would not be able to just add multiple annotations for checking multiple properties.\r\n\r\nThe following syntax has been tested and works:\r\n\r\n**Solution for Two Properties**\r\n\r\n    @ConditionalOnExpression(&quot;${properties.first.property.enable:true} &amp;&amp; ${properties.second.property.startServer:false}&quot;)\r\n\r\nNote the following:\r\n\r\n - You need to using colon notation to indicate the default value of\r\n   the property in the expression language statement \r\n - Each property is in a separate expression language block ${}\r\n - The &amp;&amp; operator is used outside of the SpEL blocks \r\n\r\nIt allows for multiple properties that have differing values and can extend to multiple properties.\r\n\r\n\r\nIf you want to check more then 2 values and still maintain readability, you can use the concatenation operator between different conditions you are evaluating:\r\n\r\n**Solution for more then 2 properties**\r\n\r\n    @ConditionalOnExpression(&quot;${properties.first.property.enable:true} &quot; +\r\n            &quot;&amp;&amp; ${properties.second.property.enable:true} &quot; +\r\n            &quot;&amp;&amp; ${properties.third.property.enable:true}&quot;)\r\n\r\nThe drawback is that you cannot use a matchIfMissing argument as you would be able to when using the `@ConditionalOnProperty` annotation so you will have to ensure that the properties are present in the *.properties* or *YAML* files for all your profiles/environments or just rely on the default value\r\n\r\n\r\n\r\nTaken from here https://stackoverflow.com/questions/40477251/spring-boot-spel-conditionalonexpression-check-multiple-properties/40497419#40497419","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<p>The annotations <code>@ConditionalOnProperty</code> and <code>@ConditionalOnExpression</code> both do NOT have the <code>java.lang.annotation.Repeatable</code> annotation so you would not be able to just add multiple annotations for checking multiple properties.</p>\n\n<p>The following syntax has been tested and works:</p>\n\n<p><strong>Solution for Two Properties</strong></p>\n\n<pre><code>@ConditionalOnExpression(\"${properties.first.property.enable:true} &amp;&amp; ${properties.second.property.startServer:false}\")\n</code></pre>\n\n<p>Note the following:</p>\n\n<ul>\n<li>You need to using colon notation to indicate the default value of\nthe property in the expression language statement </li>\n<li>Each property is in a separate expression language block ${}</li>\n<li>The &amp;&amp; operator is used outside of the SpEL blocks </li>\n</ul>\n\n<p>It allows for multiple properties that have differing values and can extend to multiple properties.</p>\n\n<p>If you want to check more then 2 values and still maintain readability, you can use the concatenation operator between different conditions you are evaluating:</p>\n\n<p><strong>Solution for more then 2 properties</strong></p>\n\n<pre><code>@ConditionalOnExpression(\"${properties.first.property.enable:true} \" +\n        \"&amp;&amp; ${properties.second.property.enable:true} \" +\n        \"&amp;&amp; ${properties.third.property.enable:true}\")\n</code></pre>\n\n<p>The drawback is that you cannot use a matchIfMissing argument as you would be able to when using the <code>@ConditionalOnProperty</code> annotation so you will have to ensure that the properties are present in the <em>.properties</em> or <em>YAML</em> files for all your profiles/environments or just rely on the default value</p>\n\n<p>Taken from here <a href=\"https://stackoverflow.com/questions/40477251/spring-boot-spel-conditionalonexpression-check-multiple-properties/40497419#40497419\">Spring Boot SpEL ConditionalOnExpression check multiple properties</a></p>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531222793,"creation_date":1531200773,"answer_id":51257833,"question_id":51257432,"body_markdown":"&gt; I am looking for `configurationOnProperty` usage where I can specify to\r\n&gt; consider more than one value\r\n\r\nYou can use [Condition interface][1] of `Spring 4.0`.\r\n\r\nThis interface has a method `matches(...)` which you can use. \r\n\r\n    import org.springframework.context.annotation.Condition;\r\n    import org.springframework.context.annotation.ConditionContext;\r\n    import org.springframework.core.type.AnnotatedTypeMetadata;\r\n    \r\n    public class TestCondition implements Condition {\r\n    \r\n    \t@Override\r\n    \tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n    \t\tString testValue = (context.getEnvironment().getProperty(&quot;test.configname&quot;);\r\n    \t\treturn &quot;value1&quot;.equalsIgnoreCase(&quot;testValue&quot;) || &quot;value2&quot;.equalsIgnoreCase(&quot;testValue&quot;);\r\n    \t}\r\n    \r\n    }\r\nAnd then use `TestCondition` inside your `@Configuration` like below : \r\n\r\n    @Configuration\r\n    public class TestConfig {\r\n    \t\r\n    \t  @Conditional(value=TestCondition .class)\r\n    \t  public MyBean getTestConfigBean() {\r\n    \t\t  //TODO YOUR CODE;\r\n    \t  }\r\n    \r\n    }\r\n\r\n\r\n\r\n&gt; I would like to know if it is possible to specify\r\n&gt; confiugrationOnProperty with condition of havingValue != &quot;value3&quot;\r\n\r\n\r\n\r\n    public class TestCondition2 implements Condition {\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n            String testValue = (context.getEnvironment().getProperty(&quot;test.configname&quot;);\r\n            return ! &quot;value3&quot;.equalsIgnoreCase(&quot;testValue&quot;);\r\n        }\r\n    \r\n    }\r\nAnd then use it like this : \r\n\r\n    @Configuration\r\n    public class TestConfig {\r\n    \r\n          @Conditional(value=TestCondition2 .class)\r\n          public MyBean getTestConfigBean() {\r\n              //TODO YOUR CODE;\r\n          }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<blockquote>\n  <p>I am looking for <code>configurationOnProperty</code> usage where I can specify to\n  consider more than one value</p>\n</blockquote>\n\n<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\" rel=\"noreferrer\">Condition interface</a> of <code>Spring 4.0</code>.</p>\n\n<p>This interface has a method <code>matches(...)</code> which you can use. </p>\n\n<pre><code>import org.springframework.context.annotation.Condition;\nimport org.springframework.context.annotation.ConditionContext;\nimport org.springframework.core.type.AnnotatedTypeMetadata;\n\npublic class TestCondition implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        String testValue = (context.getEnvironment().getProperty(\"test.configname\");\n        return \"value1\".equalsIgnoreCase(\"testValue\") || \"value2\".equalsIgnoreCase(\"testValue\");\n    }\n\n}\n</code></pre>\n\n<p>And then use <code>TestCondition</code> inside your <code>@Configuration</code> like below : </p>\n\n<pre><code>@Configuration\npublic class TestConfig {\n\n      @Conditional(value=TestCondition .class)\n      public MyBean getTestConfigBean() {\n          //TODO YOUR CODE;\n      }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>I would like to know if it is possible to specify\n  confiugrationOnProperty with condition of havingValue != \"value3\"</p>\n</blockquote>\n\n<pre><code>public class TestCondition2 implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        String testValue = (context.getEnvironment().getProperty(\"test.configname\");\n        return ! \"value3\".equalsIgnoreCase(\"testValue\");\n    }\n\n}\n</code></pre>\n\n<p>And then use it like this : </p>\n\n<pre><code>@Configuration\npublic class TestConfig {\n\n      @Conditional(value=TestCondition2 .class)\n      public MyBean getTestConfigBean() {\n          //TODO YOUR CODE;\n      }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1593865474,"creation_date":1531218969,"answer_id":51263063,"question_id":51257432,"body_markdown":"Spring Boot provides [`AnyNestedCondition`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AnyNestedCondition.html) for created a condition that will match when any nested condition matches. It also provides [`AllNestedConditions`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AllNestedConditions.html) and [`NoneNestedConditions`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/NoneNestedConditions.html) for matching when all nested conditions or no nested conditions match respectively.\r\n\r\nFor your specific case where you want to match a value of `value1` or `value2` you would create an `AnyNestedCondition` like this:\r\n\r\n    class ConfigNameCondition extends AnyNestedCondition {\r\n\r\n        public ConfigNameCondition() {\r\n    \t\tsuper(ConfigurationPhase.PARSE_CONFIGURATION);\r\n        }\r\n    \r\n    \t@ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value1&quot;)\r\n    \tstatic class Value1Condition {\r\n    \r\n    \t}\r\n    \r\n    \t@ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value2&quot;)\r\n    \tstatic class Value2Condition {\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nAnd then use it with `@Conditional`, like this for example:\r\n\r\n    @Bean\r\n    @Conditional(ConfigNameCondition.class)\r\n    public SomeBean someBean() {\r\n        return new SomeBean();\r\n    }\r\n\r\nAs shown in the javadoc for the nested condition annotations (linked to above) the nested conditions can be of any type. There&#39;s no need for them to all be of the same type as they are in this particular case.","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<p>Spring Boot provides <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AnyNestedCondition.html\" rel=\"noreferrer\"><code>AnyNestedCondition</code></a> for created a condition that will match when any nested condition matches. It also provides <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AllNestedConditions.html\" rel=\"noreferrer\"><code>AllNestedConditions</code></a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/NoneNestedConditions.html\" rel=\"noreferrer\"><code>NoneNestedConditions</code></a> for matching when all nested conditions or no nested conditions match respectively.</p>\n<p>For your specific case where you want to match a value of <code>value1</code> or <code>value2</code> you would create an <code>AnyNestedCondition</code> like this:</p>\n<pre><code>class ConfigNameCondition extends AnyNestedCondition {\n\n    public ConfigNameCondition() {\n        super(ConfigurationPhase.PARSE_CONFIGURATION);\n    }\n\n    @ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value1&quot;)\n    static class Value1Condition {\n\n    }\n\n    @ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value2&quot;)\n    static class Value2Condition {\n\n    }\n\n}\n</code></pre>\n<p>And then use it with <code>@Conditional</code>, like this for example:</p>\n<pre><code>@Bean\n@Conditional(ConfigNameCondition.class)\npublic SomeBean someBean() {\n    return new SomeBean();\n}\n</code></pre>\n<p>As shown in the javadoc for the nested condition annotations (linked to above) the nested conditions can be of any type. There's no need for them to all be of the same type as they are in this particular case.</p>\n"},{"tags":[],"owner":{"account_id":12297243,"reputation":1,"user_id":8972494,"display_name":"Rakitski Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677596958,"creation_date":1677596958,"answer_id":75593835,"question_id":51257432,"body_markdown":"To have complext conditions you can use `@ConditionalOnExpression` and use SpEl query there like \r\n\r\n  \r\n\r\n    @ConditionalOnExpression(&quot;#{ T(java.util.Arrays).asList(&#39;value1&#39;, &#39;value2&#39;).contains(&#39;${test.configname}&#39;)}&quot;)\r\n\r\nor use \r\n  \r\n\r\n    @ConditionalOnExpression(&quot;&#39;${test.configname}&#39; ne &#39;value3&#39;&quot;)\r\n\r\nTo more info take a look https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html and https://www.baeldung.com/spring-conditional-annotations","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<p>To have complext conditions you can use <code>@ConditionalOnExpression</code> and use SpEl query there like</p>\n<pre><code>@ConditionalOnExpression(&quot;#{ T(java.util.Arrays).asList('value1', 'value2').contains('${test.configname}')}&quot;)\n</code></pre>\n<p>or use</p>\n<pre><code>@ConditionalOnExpression(&quot;'${test.configname}' ne 'value3'&quot;)\n</code></pre>\n<p>To more info take a look <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html</a> and <a href=\"https://www.baeldung.com/spring-conditional-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-conditional-annotations</a></p>\n"}],"owner":{"account_id":1032249,"reputation":617,"user_id":1040342,"display_name":"MLS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57145,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":51263063,"answer_count":4,"score":32,"last_activity_date":1677596958,"creation_date":1531198057,"question_id":51257432,"body_markdown":"I am looking for `configurationOnProperty` usage where I can specify to consider more than one value as shown below\r\n\r\nEg: `@ConditionalOnProperty(value = &quot;test.configname&quot;, havingValue = &quot;value1&quot; or &quot;value2&quot;)`\r\n\r\nOR\r\n\r\nI would like to know if it is possible to specify `confiugrationOnProperty` with condition of `havingValue != &quot;value3&quot;`\r\n\r\nEg: `@ConditionalOnProperty(value = &quot;test.configname&quot;, havingValue != &quot;value3&quot;)`\r\n\r\n\r\nPlease let me know if there is a way to achieve any one of the above in `spring boot` configuration.\r\n","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<p>I am looking for <code>configurationOnProperty</code> usage where I can specify to consider more than one value as shown below</p>\n\n<p>Eg: <code>@ConditionalOnProperty(value = \"test.configname\", havingValue = \"value1\" or \"value2\")</code></p>\n\n<p>OR</p>\n\n<p>I would like to know if it is possible to specify <code>confiugrationOnProperty</code> with condition of <code>havingValue != \"value3\"</code></p>\n\n<p>Eg: <code>@ConditionalOnProperty(value = \"test.configname\", havingValue != \"value3\")</code></p>\n\n<p>Please let me know if there is a way to achieve any one of the above in <code>spring boot</code> configuration.</p>\n"},{"tags":["java","eclipse","debugging","apache-storm"],"owner":{"account_id":6374411,"reputation":113,"user_id":4945871,"display_name":"Petr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677596926,"creation_date":1677596926,"question_id":75593824,"body_markdown":"I&#39;m trying to debug Storm topology in local mode in Eclipse. \r\nI use Apache Storm 2.4.0.\r\nAnd my code looks like this:\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.apache.storm.spout.SpoutOutputCollector;\r\nimport org.apache.storm.task.TopologyContext;\r\nimport org.apache.storm.topology.OutputFieldsDeclarer;\r\nimport org.apache.storm.topology.base.BaseRichSpout;\r\nimport org.apache.storm.tuple.Fields;\r\nimport org.apache.storm.tuple.Values;\r\n\r\npublic class TestSpout extends BaseRichSpout {\r\n\tprivate SpoutOutputCollector collector;\r\n\tprivate static int currentNumber = 1;\r\n\t\r\n\tpublic void open(Map&lt;String, Object&gt; conf, TopologyContext context, SpoutOutputCollector collector) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthis.collector = collector;\r\n\t}\r\n\r\n\tpublic void nextTuple() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tcollector.emit(new Values(new Integer(currentNumber++)));\r\n\t}\r\n\r\n\tpublic void declareOutputFields(OutputFieldsDeclarer declarer) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdeclarer.declare(new Fields(&quot;number&quot;));\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\n\r\nimport org.apache.storm.task.OutputCollector;\r\nimport org.apache.storm.task.TopologyContext;\r\nimport org.apache.storm.topology.OutputFieldsDeclarer;\r\nimport org.apache.storm.topology.base.BaseRichBolt;\r\nimport org.apache.storm.tuple.Fields;\r\nimport org.apache.storm.tuple.Tuple;\r\nimport org.apache.storm.tuple.Values;\r\n\r\npublic class TestBolt extends BaseRichBolt {\r\n    OutputCollector collector;\r\n\r\n\tpublic void prepare(Map&lt;String, Object&gt; topoConf, TopologyContext context, OutputCollector collector) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthis.collector = collector;\r\n\t}\r\n\r\n\tpublic void execute(Tuple input) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint number = input.getInteger(0);\r\n\t\tif(isPrime(number)) {\r\n\t\t\tSystem.out.println(number);\r\n\t\t}\r\n\t\tcollector.ack(input);\r\n\t}\r\n\r\n\tpublic void declareOutputFields(OutputFieldsDeclarer declarer) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdeclarer.declare(new Fields(&quot;number&quot;));\r\n\t}\r\n\r\n\tprivate boolean isPrime(int n) {\r\n\t\tif (n==1 || n==2 || n==3) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (n%2 == 0 || n%3 == 0 || n%5 == 0 || n%7 == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor (int i = 11; i*i &lt;= n; i+=2) {\r\n\t\t\tif(n%i == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport org.apache.storm.Config;\r\nimport org.apache.storm.LocalCluster;\r\nimport org.apache.storm.StormSubmitter;\r\nimport org.apache.storm.topology.TopologyBuilder;\r\nimport org.apache.storm.utils.Utils;\r\n\r\npublic class TestTopology {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tTopologyBuilder builder = new TopologyBuilder();\r\n\t\t\r\n\t\tbuilder.setSpout(&quot;spout&quot;, new TestSpout());\r\n\t\tbuilder.setBolt(&quot;prime&quot;, new TestBolt()).shuffleGrouping(&quot;spout&quot;);\r\n\t\t\r\n\t\tConfig conf = new Config();\r\n\t\t\r\n\t\tStormSubmitter.submitTopologyWithProgressBar(&quot;test_topology&quot;, conf, builder.createTopology());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;m able to use remote debugging in cluster mode meantioned here https://stackoverflow.com/questions/32226052/how-to-debug-apache-storm-in-eclipse.\r\nBut with this method I need build the project, add the topology to storm and then kill the topology, which is quite lengthy.\r\nUnfortunetly, I&#39;m not able to run topology from Eclipse.\r\nI tried use `LocalCluster.withLocalModeOverride`, but the code from documentation https://storm.apache.org/releases/current/Local-mode.html cannot be compiled:\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport org.apache.storm.LocalCluster;\r\n\r\npublic class LocalRun {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tLocalCluster.withLocalModeOverride(() -&gt; TestTopology.main(args), 20);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI get this error: \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tThe method withLocalModeOverride(Callable&lt;T&gt;, long) in the type LocalCluster is not applicable for the arguments (() -&gt; {}, int)\r\n\tCannot return a void result\r\n\r\n\tat stormtest.LocalRun.main(LocalRun.java:10)\r\n\r\n```\r\n\r\nWhen I try:\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport org.apache.storm.LocalCluster;\r\n\r\npublic class LocalRun {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tLocalCluster.withLocalModeOverride(() -&gt; {TestTopology.main(args); return 0;}, 20);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI get this error:\r\n\r\n```\r\njava.lang.RuntimeException: Must submit topologies using the &#39;storm&#39; client script so that StormSubmitter knows which jar to upload.\r\n\tat org.apache.storm.StormSubmitter.submitJarAs(StormSubmitter.java:485) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopologyInDistributeMode(StormSubmitter.java:350) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopologyAs(StormSubmitter.java:292) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopology(StormSubmitter.java:212) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:429) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:410) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat stormtest.TestTopology.main(TestTopology.java:20) ~[classes/:?]\r\n\tat stormtest.LocalRun.lambda$0(LocalRun.java:9) ~[classes/:?]\r\n\tat org.apache.storm.LocalCluster.withLocalModeOverride(LocalCluster.java:349) ~[storm-server-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.LocalCluster.withLocalModeOverride(LocalCluster.java:324) ~[storm-server-2.4.0.jar:2.4.0]\r\n\tat stormtest.LocalRun.main(LocalRun.java:9) ~[classes/:?]\r\n```\r\n\r\nAnother way to use local mode in Eclipse is to run `org.apache.storm.LocalCluster` instead of main class and pass the name as argument.\r\n\r\n[![Eclipse set main class][1]][1]\r\n\r\n[![Eclipse set main class args][2]][2]\r\n\r\nBut I get same error as above.\r\n\r\nHow should I run Storm topology from Eclipse?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A3Lqo.png\r\n  [2]: https://i.stack.imgur.com/EBCcL.png","title":"Apache Storm debugging in Eclipse","body":"<p>I'm trying to debug Storm topology in local mode in Eclipse.\nI use Apache Storm 2.4.0.\nAnd my code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport java.util.Map;\n\nimport org.apache.storm.spout.SpoutOutputCollector;\nimport org.apache.storm.task.TopologyContext;\nimport org.apache.storm.topology.OutputFieldsDeclarer;\nimport org.apache.storm.topology.base.BaseRichSpout;\nimport org.apache.storm.tuple.Fields;\nimport org.apache.storm.tuple.Values;\n\npublic class TestSpout extends BaseRichSpout {\n    private SpoutOutputCollector collector;\n    private static int currentNumber = 1;\n    \n    public void open(Map&lt;String, Object&gt; conf, TopologyContext context, SpoutOutputCollector collector) {\n        // TODO Auto-generated method stub\n        this.collector = collector;\n    }\n\n    public void nextTuple() {\n        // TODO Auto-generated method stub\n        collector.emit(new Values(new Integer(currentNumber++)));\n    }\n\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {\n        // TODO Auto-generated method stub\n        declarer.declare(new Fields(&quot;number&quot;));\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport java.util.Iterator;\nimport java.util.Map;\n\nimport org.apache.storm.task.OutputCollector;\nimport org.apache.storm.task.TopologyContext;\nimport org.apache.storm.topology.OutputFieldsDeclarer;\nimport org.apache.storm.topology.base.BaseRichBolt;\nimport org.apache.storm.tuple.Fields;\nimport org.apache.storm.tuple.Tuple;\nimport org.apache.storm.tuple.Values;\n\npublic class TestBolt extends BaseRichBolt {\n    OutputCollector collector;\n\n    public void prepare(Map&lt;String, Object&gt; topoConf, TopologyContext context, OutputCollector collector) {\n        // TODO Auto-generated method stub\n        this.collector = collector;\n    }\n\n    public void execute(Tuple input) {\n        // TODO Auto-generated method stub\n        int number = input.getInteger(0);\n        if(isPrime(number)) {\n            System.out.println(number);\n        }\n        collector.ack(input);\n    }\n\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {\n        // TODO Auto-generated method stub\n        declarer.declare(new Fields(&quot;number&quot;));\n    }\n\n    private boolean isPrime(int n) {\n        if (n==1 || n==2 || n==3) {\n            return true;\n        }\n        if (n%2 == 0 || n%3 == 0 || n%5 == 0 || n%7 == 0) {\n            return false;\n        }\n        for (int i = 11; i*i &lt;= n; i+=2) {\n            if(n%i == 0) {\n                return false;\n            }\n            \n        }\n        return true;\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport org.apache.storm.Config;\nimport org.apache.storm.LocalCluster;\nimport org.apache.storm.StormSubmitter;\nimport org.apache.storm.topology.TopologyBuilder;\nimport org.apache.storm.utils.Utils;\n\npublic class TestTopology {\n\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n        TopologyBuilder builder = new TopologyBuilder();\n        \n        builder.setSpout(&quot;spout&quot;, new TestSpout());\n        builder.setBolt(&quot;prime&quot;, new TestBolt()).shuffleGrouping(&quot;spout&quot;);\n        \n        Config conf = new Config();\n        \n        StormSubmitter.submitTopologyWithProgressBar(&quot;test_topology&quot;, conf, builder.createTopology());\n    }\n\n}\n\n</code></pre>\n<p>I'm able to use remote debugging in cluster mode meantioned here <a href=\"https://stackoverflow.com/questions/32226052/how-to-debug-apache-storm-in-eclipse\">How to debug Apache Storm in Eclipse?</a>.\nBut with this method I need build the project, add the topology to storm and then kill the topology, which is quite lengthy.\nUnfortunetly, I'm not able to run topology from Eclipse.\nI tried use <code>LocalCluster.withLocalModeOverride</code>, but the code from documentation <a href=\"https://storm.apache.org/releases/current/Local-mode.html\" rel=\"nofollow noreferrer\">https://storm.apache.org/releases/current/Local-mode.html</a> cannot be compiled:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport org.apache.storm.LocalCluster;\n\npublic class LocalRun {\n\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n        LocalCluster.withLocalModeOverride(() -&gt; TestTopology.main(args), 20);\n    }\n\n}\n\n</code></pre>\n<p>I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    The method withLocalModeOverride(Callable&lt;T&gt;, long) in the type LocalCluster is not applicable for the arguments (() -&gt; {}, int)\n    Cannot return a void result\n\n    at stormtest.LocalRun.main(LocalRun.java:10)\n\n</code></pre>\n<p>When I try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport org.apache.storm.LocalCluster;\n\npublic class LocalRun {\n\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n        LocalCluster.withLocalModeOverride(() -&gt; {TestTopology.main(args); return 0;}, 20);\n    }\n\n}\n\n</code></pre>\n<p>I get this error:</p>\n<pre><code>java.lang.RuntimeException: Must submit topologies using the 'storm' client script so that StormSubmitter knows which jar to upload.\n    at org.apache.storm.StormSubmitter.submitJarAs(StormSubmitter.java:485) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopologyInDistributeMode(StormSubmitter.java:350) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopologyAs(StormSubmitter.java:292) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopology(StormSubmitter.java:212) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:429) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:410) ~[storm-client-2.4.0.jar:2.4.0]\n    at stormtest.TestTopology.main(TestTopology.java:20) ~[classes/:?]\n    at stormtest.LocalRun.lambda$0(LocalRun.java:9) ~[classes/:?]\n    at org.apache.storm.LocalCluster.withLocalModeOverride(LocalCluster.java:349) ~[storm-server-2.4.0.jar:2.4.0]\n    at org.apache.storm.LocalCluster.withLocalModeOverride(LocalCluster.java:324) ~[storm-server-2.4.0.jar:2.4.0]\n    at stormtest.LocalRun.main(LocalRun.java:9) ~[classes/:?]\n</code></pre>\n<p>Another way to use local mode in Eclipse is to run <code>org.apache.storm.LocalCluster</code> instead of main class and pass the name as argument.</p>\n<p><a href=\"https://i.stack.imgur.com/A3Lqo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3Lqo.png\" alt=\"Eclipse set main class\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EBCcL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBCcL.png\" alt=\"Eclipse set main class args\" /></a></p>\n<p>But I get same error as above.</p>\n<p>How should I run Storm topology from Eclipse?</p>\n"},{"tags":["java","serialization","jframe","deserialization"],"answers":[{"tags":[],"owner":{"account_id":1559584,"reputation":1313,"user_id":1449791,"accept_rate":67,"display_name":"Leonardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677596888,"creation_date":1677596888,"answer_id":75593818,"question_id":75593597,"body_markdown":"Usually, desktop applications, like yours, are hard to handle this type of design you desire. I mean: you are opening the application locally. Another user is opening it in his computer.\r\nYou are writting a local file with the information regarding the reservation. So another user, in his computer, won&#39;t have access to it.\r\n\r\nYou have two simple options to solve your problem:\r\n\r\n - create a web application that can be used by multiple users simultaneously;\r\n - make your desktop application connect to a database server which can be accessed by multiple users.\r\n\r\nIn both cases, you can refresh the seat visual interface every &quot;x&quot; seconds/validate if the seat is already reserved before go on.","title":"How do i make sure the changes i made in my JFrame stay even when i exit the frame","body":"<p>Usually, desktop applications, like yours, are hard to handle this type of design you desire. I mean: you are opening the application locally. Another user is opening it in his computer.\nYou are writting a local file with the information regarding the reservation. So another user, in his computer, won't have access to it.</p>\n<p>You have two simple options to solve your problem:</p>\n<ul>\n<li>create a web application that can be used by multiple users simultaneously;</li>\n<li>make your desktop application connect to a database server which can be accessed by multiple users.</li>\n</ul>\n<p>In both cases, you can refresh the seat visual interface every &quot;x&quot; seconds/validate if the seat is already reserved before go on.</p>\n"}],"owner":{"account_id":23720336,"reputation":1,"user_id":17740974,"display_name":"Zain Reshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677596888,"creation_date":1677595672,"question_id":75593597,"body_markdown":"So I&#39;m making a seat reservation system in Java using swing and i want to save the seats reserved by a user \r\nso that when another user opens the The seat reservation window he cant choose already chosen seats.\r\nThis is my first time asking so apologies for my lack of questioning etiqutte.\r\n\r\n\r\n\r\nI tried to use the serializable interface to save the user input and then reopen it when another user logs in but when i try to log in with the other user the Frame for the seat reservation system doesnt open, Infact nothing even seems to happen.\r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\tUserIDAndPasswords idandPasswords = new UserIDAndPasswords();\r\n\tUserLogin userlogin = new UserLogin(idandPasswords.getLoginInfo());\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\npublic class UserIDAndPasswords {\r\n\r\n\t\r\n\tHashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\r\n\t\r\n\tUserIDAndPasswords(){\r\n\t\t\r\n\t\tlogininfo.put(&quot;Zain&quot;,&quot;Hallelujah101&quot;);\r\n\t\tlogininfo.put(&quot;Arsal&quot;,&quot;BakedCash222&quot;);\r\n\t\tlogininfo.put(&quot;Basil&quot;,&quot;ABC123&quot;);\r\n\t}\r\n\t\r\n\tpublic HashMap getLoginInfo(){\r\n\t\treturn logininfo;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\npublic class UserLogin implements ActionListener, Serializable {\r\n\r\n\t JFrame frame = new JFrame(&quot;Dubai Software Limited&quot;);\r\n\t JLabel label = new JLabel(&quot;Welcome to JApp 01&quot;);\r\n\t JButton loginButton = new JButton(&quot;Login&quot;);\r\n\t JButton resetButton = new JButton(&quot;Reset&quot;);\r\n\t JTextField userIDField = new JTextField();\r\n\t JPasswordField userPasswordField = new JPasswordField();\r\n\t JLabel userIDLabel = new JLabel(&quot;userID:&quot;);\r\n\t JLabel userPasswordLabel = new JLabel(&quot;password:&quot;);\r\n\t JLabel messageLabel = new JLabel();\r\n\t HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\r\n\t \r\n\t UserLogin(HashMap&lt;String, String&gt; loginInfoOriginal){\r\n\t\t \r\n\t\t frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t frame.setSize(420,420);\r\n\t\t frame.setLayout(null);\r\n\t\t frame.setVisible(true);\r\n\t\t frame.setLocationRelativeTo(null);\r\n\t\t \r\n\t\t label.setBounds(140,-120,200,400);\r\n\t\t  \r\n\t\t \r\n\t\t logininfo = loginInfoOriginal;\r\n\t\t\t\r\n\t\t\tuserIDLabel.setBounds(50,100,75,25);\r\n\t\t\tuserPasswordLabel.setBounds(50,150,75,25);\r\n\t\t\t\r\n\t\t\tmessageLabel.setBounds(125,250,250,35);\r\n\t\t\t\r\n\t\t\tuserIDField.setBounds(125,100,200,25);\r\n\t\t\tuserPasswordField.setBounds(125,150,200,25);\r\n\t\t\t\r\n\t\t\tloginButton.setBounds(125,200,100,25);\r\n\t\t\tloginButton.setFocusable(false);\r\n\t\t\tloginButton.addActionListener(this);\r\n\t\t\t\r\n\t\t\tresetButton.setBounds(225,200,100,25);\r\n\t\t\tresetButton.setFocusable(false);\r\n\t\t\tresetButton.addActionListener(this);\r\n\t\t\t\r\n\t\t\tframe.add(userIDLabel);\r\n\t\t\tframe.add(userPasswordLabel);\r\n\t\t\tframe.add(messageLabel);\r\n\t\t\tframe.add(userIDField);\r\n\t\t\tframe.add(userPasswordField);\r\n\t\t\tframe.add(loginButton);\r\n\t\t\tframe.add(resetButton);\r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t frame.add(label);\r\n\t }\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\tif(e.getSource()==resetButton) {\r\n\t\t\tuserIDField.setText(&quot;&quot;);\r\n\t\t\tuserPasswordField.setText(&quot;&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif(e.getSource()==loginButton) {\r\n\t\t\t\r\n\t\t\tString userID = userIDField.getText();\r\n\t\t\tString password = String.valueOf(userPasswordField.getPassword());\r\n\t\t\t\r\n\t\t\tif(logininfo.containsKey(userID)) {\r\n\t\t\t\tif(logininfo.get(userID).equals(password)) {\r\n\t\t\t\t\tmessageLabel.setForeground(Color.green);\r\n\t\t\t\t\tmessageLabel.setText(&quot;Login successful&quot;);\r\n\t\t\t\t\tframe.dispose();\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tJAppUser userApp = null;\r\n\t\t\t\t\t\tFile file = new File(&quot;ReservedSeats.ser&quot;);\r\n\t\t\t\t\t\tif(file.exists()) {\r\n\t\t\t\t\t\tFileInputStream filein = new FileInputStream(file);\r\n\t\t\t\t\t\tObjectInputStream in = new  ObjectInputStream(filein);\r\n\t\t\t\t\t\t\tuserApp = (JAppUser)in.readObject();\r\n\t\t\t\t\t\t\tin.close();\r\n\t\t\t\t\t\t\tfilein.close();\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tJAppUser user = new JAppUser();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} catch (IOException | ClassNotFoundException e1) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tmessageLabel.setForeground(Color.red);\r\n\t\t\t\t\tmessageLabel.setText(&quot;Wrong password&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmessageLabel.setForeground(Color.red);\r\n\t\t\t\tmessageLabel.setText(&quot;username not found&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\npublic class JAppUser implements ActionListener, Serializable {\r\n\r\n\tJFrame frame = new JFrame(&quot;Dubai Software Limited&quot;);\r\n\tJPanel button_panel = new JPanel();\r\n\tJButton[] buttons = new JButton[50];\r\n\tFont font = new Font(&quot;Times New Roman&quot;, Font.BOLD, 7);\r\n\r\n\tint count;\r\n\r\n\tJAppUser() {\r\n\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(800, 800);\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\r\n\t\tbutton_panel.setLayout(new GridLayout(10, 5));\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++) {\r\n\t\t\tbuttons[i] = new JButton();\r\n\t\t\tbuttons[i].setBounds(10, 10, 10, 10);\r\n\t\t\tbutton_panel.add(buttons[i]);\r\n\t\t\tbuttons[i].setFocusable(false);\r\n\t\t\tbuttons[i].addActionListener(this);\r\n\t\t\tbuttons[i].setEnabled(true);\r\n\t\t}\r\n\r\n\t\tbuttons[0].setText(&quot;Confirm&quot;);\r\n\r\n\t\tInteger num = 1;\r\n\t\tfor (int j = 5; j &lt; buttons.length; j += 5) {\r\n\t\t\tString strnum = num.toString();\r\n\t\t\tbuttons[j].setText(strnum);\r\n\t\t\tnum++;\r\n\t\t\tbuttons[j].setEnabled(false);\r\n\t\t}\r\n\r\n\t\tString[] buttonName = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; };\r\n\t\tint buttonNum = 0;\r\n\t\tfor (int k = 1; k &lt; 5; k++) {\r\n\t\t\tbuttons[k].setText(buttonName[buttonNum]);\r\n\t\t\tbuttonNum++;\r\n\t\t\tbuttons[k].setEnabled(false);\r\n\t\t}\r\n\r\n\t\tframe.add(button_panel);\r\n\t}\r\n\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++) {\r\n\t\t\tif (e.getSource() == buttons[i]) {\r\n\t\t\t\tif (buttons[i].getText().equals(&quot;&quot;)) {\r\n\t\t\t\t\tbuttons[i].setForeground(Color.BLACK);\r\n\t\t\t\t\tbuttons[i].setText(&quot;X&quot;);\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\tSystem.out.println(&quot;Seat  has been reserved.&quot;);\r\n\t\t\t\t} else if (buttons[i].getText().equals(&quot;X&quot;)) {\r\n\t\t\t\t\tbuttons[i].setText(&quot;&quot;);\r\n\t\t\t\t\tfor (int j = 0; j &lt; buttons.length; j++) {\r\n\t\t\tif (buttons[j].getText().equals(&quot;&quot;) ||    buttons[j].getText().equals(&quot;X&quot;)) {\r\n\t\t\t\t\t\t\tbuttons[j].setEnabled(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\tSystem.out.println(&quot;Seat has been unreserved.&quot;);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t   FileOutputStream file = new FileOutputStream(&quot;ReservedSeats.ser&quot;);\r\n\t\t\t\t\t\tObjectOutputStream out = new ObjectOutputStream(file);\r\n\t\t\t\t\t\tout.writeObject(this);\r\n\t\t\t\t\t\tout.close();\r\n\t\t\t\t\t\tfile.close();\r\n\t\t\t\t\t\tSystem.out.print(&quot;Saved Succesfully&quot;);\r\n\r\n\t\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tUserIDAndPasswords idandPasswords = new UserIDAndPasswords();\r\n\t\t\t\t\tUserLogin userlogin = new UserLogin(idandPasswords.getLoginInfo());\r\n\t\t\t\t\tframe.dispose();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstop(count);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void stop(int count) {\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++) {\r\n\t\t\tif (count &gt;= 3) {\r\n\t\t\t\tfor (int j = 0; j &lt; buttons.length; j++) {\r\n\t\t\t\t\tif (buttons[i].getText().equals(&quot;&quot;)) {\r\n\t\t\t\t\t\tbuttons[i].setEnabled(false);\r\n\t\t\t\t\t\tbuttons[0].setEnabled(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n```\r\n","title":"How do i make sure the changes i made in my JFrame stay even when i exit the frame","body":"<p>So I'm making a seat reservation system in Java using swing and i want to save the seats reserved by a user\nso that when another user opens the The seat reservation window he cant choose already chosen seats.\nThis is my first time asking so apologies for my lack of questioning etiqutte.</p>\n<p>I tried to use the serializable interface to save the user input and then reopen it when another user logs in but when i try to log in with the other user the Frame for the seat reservation system doesnt open, Infact nothing even seems to happen.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n    UserIDAndPasswords idandPasswords = new UserIDAndPasswords();\n    UserLogin userlogin = new UserLogin(idandPasswords.getLoginInfo());\n\n    }\n\n}\n\n\n\n\n\npublic class UserIDAndPasswords {\n\n    \n    HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\n    \n    UserIDAndPasswords(){\n        \n        logininfo.put(&quot;Zain&quot;,&quot;Hallelujah101&quot;);\n        logininfo.put(&quot;Arsal&quot;,&quot;BakedCash222&quot;);\n        logininfo.put(&quot;Basil&quot;,&quot;ABC123&quot;);\n    }\n    \n    public HashMap getLoginInfo(){\n        return logininfo;\n    }\n    \n    \n}\n\n\n\n\n\n\npublic class UserLogin implements ActionListener, Serializable {\n\n     JFrame frame = new JFrame(&quot;Dubai Software Limited&quot;);\n     JLabel label = new JLabel(&quot;Welcome to JApp 01&quot;);\n     JButton loginButton = new JButton(&quot;Login&quot;);\n     JButton resetButton = new JButton(&quot;Reset&quot;);\n     JTextField userIDField = new JTextField();\n     JPasswordField userPasswordField = new JPasswordField();\n     JLabel userIDLabel = new JLabel(&quot;userID:&quot;);\n     JLabel userPasswordLabel = new JLabel(&quot;password:&quot;);\n     JLabel messageLabel = new JLabel();\n     HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\n     \n     UserLogin(HashMap&lt;String, String&gt; loginInfoOriginal){\n         \n         frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         frame.setSize(420,420);\n         frame.setLayout(null);\n         frame.setVisible(true);\n         frame.setLocationRelativeTo(null);\n         \n         label.setBounds(140,-120,200,400);\n          \n         \n         logininfo = loginInfoOriginal;\n            \n            userIDLabel.setBounds(50,100,75,25);\n            userPasswordLabel.setBounds(50,150,75,25);\n            \n            messageLabel.setBounds(125,250,250,35);\n            \n            userIDField.setBounds(125,100,200,25);\n            userPasswordField.setBounds(125,150,200,25);\n            \n            loginButton.setBounds(125,200,100,25);\n            loginButton.setFocusable(false);\n            loginButton.addActionListener(this);\n            \n            resetButton.setBounds(225,200,100,25);\n            resetButton.setFocusable(false);\n            resetButton.addActionListener(this);\n            \n            frame.add(userIDLabel);\n            frame.add(userPasswordLabel);\n            frame.add(messageLabel);\n            frame.add(userIDField);\n            frame.add(userPasswordField);\n            frame.add(loginButton);\n            frame.add(resetButton);\n         \n         \n         \n         frame.add(label);\n     }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        if(e.getSource()==resetButton) {\n            userIDField.setText(&quot;&quot;);\n            userPasswordField.setText(&quot;&quot;);\n        }\n        \n        if(e.getSource()==loginButton) {\n            \n            String userID = userIDField.getText();\n            String password = String.valueOf(userPasswordField.getPassword());\n            \n            if(logininfo.containsKey(userID)) {\n                if(logininfo.get(userID).equals(password)) {\n                    messageLabel.setForeground(Color.green);\n                    messageLabel.setText(&quot;Login successful&quot;);\n                    frame.dispose();\n                    \n                    try {\n                        JAppUser userApp = null;\n                        File file = new File(&quot;ReservedSeats.ser&quot;);\n                        if(file.exists()) {\n                        FileInputStream filein = new FileInputStream(file);\n                        ObjectInputStream in = new  ObjectInputStream(filein);\n                            userApp = (JAppUser)in.readObject();\n                            in.close();\n                            filein.close(); \n                        }\n                        else {\n                            JAppUser user = new JAppUser();\n                        }\n                        \n                    } catch (IOException | ClassNotFoundException e1) {\n                        // TODO Auto-generated catch block\n                        e1.printStackTrace();\n                    }\n                    \n                }\n                else {\n                    messageLabel.setForeground(Color.red);\n                    messageLabel.setText(&quot;Wrong password&quot;);\n                }\n\n            }\n            else {\n                messageLabel.setForeground(Color.red);\n                messageLabel.setText(&quot;username not found&quot;);\n            }\n        }\n        \n    }\n    \n}\n\npublic class JAppUser implements ActionListener, Serializable {\n\n    JFrame frame = new JFrame(&quot;Dubai Software Limited&quot;);\n    JPanel button_panel = new JPanel();\n    JButton[] buttons = new JButton[50];\n    Font font = new Font(&quot;Times New Roman&quot;, Font.BOLD, 7);\n\n    int count;\n\n    JAppUser() {\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800, 800);\n        frame.setLayout(new BorderLayout());\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n\n        button_panel.setLayout(new GridLayout(10, 5));\n        for (int i = 0; i &lt; buttons.length; i++) {\n            buttons[i] = new JButton();\n            buttons[i].setBounds(10, 10, 10, 10);\n            button_panel.add(buttons[i]);\n            buttons[i].setFocusable(false);\n            buttons[i].addActionListener(this);\n            buttons[i].setEnabled(true);\n        }\n\n        buttons[0].setText(&quot;Confirm&quot;);\n\n        Integer num = 1;\n        for (int j = 5; j &lt; buttons.length; j += 5) {\n            String strnum = num.toString();\n            buttons[j].setText(strnum);\n            num++;\n            buttons[j].setEnabled(false);\n        }\n\n        String[] buttonName = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; };\n        int buttonNum = 0;\n        for (int k = 1; k &lt; 5; k++) {\n            buttons[k].setText(buttonName[buttonNum]);\n            buttonNum++;\n            buttons[k].setEnabled(false);\n        }\n\n        frame.add(button_panel);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n\n        for (int i = 0; i &lt; buttons.length; i++) {\n            if (e.getSource() == buttons[i]) {\n                if (buttons[i].getText().equals(&quot;&quot;)) {\n                    buttons[i].setForeground(Color.BLACK);\n                    buttons[i].setText(&quot;X&quot;);\n                    count++;\n                    System.out.println(&quot;Seat  has been reserved.&quot;);\n                } else if (buttons[i].getText().equals(&quot;X&quot;)) {\n                    buttons[i].setText(&quot;&quot;);\n                    for (int j = 0; j &lt; buttons.length; j++) {\n            if (buttons[j].getText().equals(&quot;&quot;) ||    buttons[j].getText().equals(&quot;X&quot;)) {\n                            buttons[j].setEnabled(true);\n                        }\n                    }\n                    count--;\n                    System.out.println(&quot;Seat has been unreserved.&quot;);\n                } else {\n\n                    try {\n                   FileOutputStream file = new FileOutputStream(&quot;ReservedSeats.ser&quot;);\n                        ObjectOutputStream out = new ObjectOutputStream(file);\n                        out.writeObject(this);\n                        out.close();\n                        file.close();\n                        System.out.print(&quot;Saved Succesfully&quot;);\n\n                    } catch (IOException e1) {\n                        // TODO Auto-generated catch block\n                        e1.printStackTrace();\n                    }\n\n                    UserIDAndPasswords idandPasswords = new UserIDAndPasswords();\n                    UserLogin userlogin = new UserLogin(idandPasswords.getLoginInfo());\n                    frame.dispose();\n                }\n            }\n            stop(count);\n        }\n    }\n\n    public void stop(int count) {\n        for (int i = 0; i &lt; buttons.length; i++) {\n            if (count &gt;= 3) {\n                for (int j = 0; j &lt; buttons.length; j++) {\n                    if (buttons[i].getText().equals(&quot;&quot;)) {\n                        buttons[i].setEnabled(false);\n                        buttons[0].setEnabled(true);\n                    }\n                }\n            }\n        }\n    }\n}\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","intellij-idea","decompiling"],"comments":[{"owner":{"account_id":63249,"reputation":5185,"user_id":187343,"display_name":"Amila"},"score":0,"creation_date":1442564146,"post_id":32646771,"comment_id":53141538,"body_markdown":"I don&#39;t think any decompiler can perverse original line numbers. I&#39;d be amazed if you can correctly debug with decompiled sources in Eclipse.","body":"I don&#39;t think any decompiler can perverse original line numbers. I&#39;d be amazed if you can correctly debug with decompiled sources in Eclipse."},{"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"score":1,"creation_date":1442565320,"post_id":32646771,"comment_id":53142213,"body_markdown":"not sure about eclipse, but Intellij Idea does this magic. http://blog.jetbrains.com/idea/2015/02/debug-decompiled-code-with-intellij-idea-14-1/","body":"not sure about eclipse, but Intellij Idea does this magic. <a href=\"http://blog.jetbrains.com/idea/2015/02/debug-decompiled-code-with-intellij-idea-14-1/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/idea/2015/02/&hellip;</a>"},{"owner":{"account_id":63249,"reputation":5185,"user_id":187343,"display_name":"Amila"},"score":0,"creation_date":1442565471,"post_id":32646771,"comment_id":53142309,"body_markdown":"That&#39;s actually pretty interesting, thanks @hahn.","body":"That&#39;s actually pretty interesting, thanks @hahn."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1469207964,"post_id":32646771,"comment_id":64457954,"body_markdown":"@stiver some help here?","body":"@stiver some help here?"}],"answers":[{"tags":[],"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1455526172,"creation_date":1447860757,"answer_id":33784116,"question_id":32646771,"body_markdown":"ok, as there are no news regarding this, I&#39;ve created a little plugin which decompiles the jar file with compiled code to new `*-sources.jar` file using build-in `Intellij` `fernflower` decompiler and attaches sources to project. anyone interested, can take a look at `decompile and attach` plugin in jetbrains plugin repository\r\n\r\nUpdate\r\nanswering my question about line numbers in decompiled code using `fernflower`. I found &#39;`decompiler.use.line.table`&#39; flag in `Intellij`&#39;s `fernflower` which preserves line numbers.","title":"How to decompile with correct line numbers using fernflower?","body":"<p>ok, as there are no news regarding this, I've created a little plugin which decompiles the jar file with compiled code to new <code>*-sources.jar</code> file using build-in <code>Intellij</code> <code>fernflower</code> decompiler and attaches sources to project. anyone interested, can take a look at <code>decompile and attach</code> plugin in jetbrains plugin repository</p>\n\n<p>Update\nanswering my question about line numbers in decompiled code using <code>fernflower</code>. I found '<code>decompiler.use.line.table</code>' flag in <code>Intellij</code>'s <code>fernflower</code> which preserves line numbers.</p>\n"},{"tags":[],"owner":{"account_id":10334732,"reputation":141,"user_id":7623296,"display_name":"b1gg33k"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1488062873,"creation_date":1488062873,"answer_id":42462512,"question_id":32646771,"body_markdown":"I found that on OSX you can change this setting in the following file:\r\n\r\n&gt; ~/Library/Preferences/IntelliJIdea2016.1/options/options.xml\r\n\r\nAdd the following properties:\r\n\r\n        &lt;property name=&quot;decompiler.use.line.mapping&quot; value=&quot;true&quot; /&gt;\r\n        &lt;property name=&quot;decompiler.dump.original.lines&quot; value=&quot;true&quot; /&gt;","title":"How to decompile with correct line numbers using fernflower?","body":"<p>I found that on OSX you can change this setting in the following file:</p>\n\n<blockquote>\n  <p>~/Library/Preferences/IntelliJIdea2016.1/options/options.xml</p>\n</blockquote>\n\n<p>Add the following properties:</p>\n\n<pre><code>    &lt;property name=\"decompiler.use.line.mapping\" value=\"true\" /&gt;\n    &lt;property name=\"decompiler.dump.original.lines\" value=\"true\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677596523,"creation_date":1677596523,"answer_id":75593752,"question_id":32646771,"body_markdown":"If you are using new pluing named **Quiltflower** then use &#39;**Dump Original Lines**&#39; option under\r\n\r\n    Tools  Quiltflower\r\n\r\nIt will add a comment at the end of each line with an original line number.","title":"How to decompile with correct line numbers using fernflower?","body":"<p>If you are using new pluing named <strong>Quiltflower</strong> then use '<strong>Dump Original Lines</strong>' option under</p>\n<pre><code>Tools  Quiltflower\n</code></pre>\n<p>It will add a comment at the end of each line with an original line number.</p>\n"}],"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7162,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1677596523,"creation_date":1442563092,"question_id":32646771,"body_markdown":"I&#39;m using `Intellij Idea 14` working with big java project where a lot of code is compiled and w/o sources.\r\n\r\nAs far as I know `Idea` can&#39;t make a search in compiled code (as `eclipse` does), but it can decompile single file using build-in `fernflower` and this also gives a possibility to debug through compiled code.\r\n\r\nIs there a way to decompile all compiled code at once the same way Idea does and attach it to project so that it was possible to search through &quot;Project and Libs&quot; w/o loosing debugging feature in decompiled sources?\r\n\r\nI&#39;ve tried using `Bytecodeviewer` with different `fernflower` options, but the result was that debugging was broken (showed wrong lines) after attaching the decompiled sources.","title":"How to decompile with correct line numbers using fernflower?","body":"<p>I'm using <code>Intellij Idea 14</code> working with big java project where a lot of code is compiled and w/o sources.</p>\n\n<p>As far as I know <code>Idea</code> can't make a search in compiled code (as <code>eclipse</code> does), but it can decompile single file using build-in <code>fernflower</code> and this also gives a possibility to debug through compiled code.</p>\n\n<p>Is there a way to decompile all compiled code at once the same way Idea does and attach it to project so that it was possible to search through \"Project and Libs\" w/o loosing debugging feature in decompiled sources?</p>\n\n<p>I've tried using <code>Bytecodeviewer</code> with different <code>fernflower</code> options, but the result was that debugging was broken (showed wrong lines) after attaching the decompiled sources.</p>\n"},{"tags":["java","apache-flink","flink-streaming","predicate"],"answers":[{"tags":[],"owner":{"account_id":4204909,"reputation":987,"user_id":3444107,"accept_rate":50,"display_name":"Sami Badawi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677596521,"creation_date":1677596521,"answer_id":75593751,"question_id":74076309,"body_markdown":"## General Flink Serialization Advice\r\n\r\nFlink falls back to use the Kryo Java serialization framework. It is very general and not super robust. You have quite complex objects. Try to make them flatter.\r\n\r\nIf you are using Row that is already kind of a HashMap that is serializable. That is a good place to put values.\r\n\r\nYou can use the class `org.apache.flink.table.data.GenericRowData`. That is easy to work with.\r\n\r\n","title":"Custom Predicate Evaluation in Flink gives java.io.NotSerializableException:","body":"<h2>General Flink Serialization Advice</h2>\n<p>Flink falls back to use the Kryo Java serialization framework. It is very general and not super robust. You have quite complex objects. Try to make them flatter.</p>\n<p>If you are using Row that is already kind of a HashMap that is serializable. That is a good place to put values.</p>\n<p>You can use the class <code>org.apache.flink.table.data.GenericRowData</code>. That is easy to work with.</p>\n"}],"owner":{"account_id":9450053,"reputation":418,"user_id":7027284,"display_name":"guru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677596521,"creation_date":1665801512,"question_id":74076309,"body_markdown":"I have a CustomPredicate that evaluates an expression to be `true` or `false`. A few months back, the code was working just fine. \r\n\r\nNow, I get the following exception even before the Flink job is submitted. Below are details about the exception:\r\n\r\n```\r\norg.apache.flink.api.common.InvalidProgramException: java.util.function.Predicate$$Lambda$167/20853837@390a07a0 is not serializable. The object probably contains or references non serializable fields.\r\n```\r\nThe above exception is caused by:\r\n```\r\nCaused by: java.io.NotSerializableException: java.util.function.Predicate$$Lambda$167/20853837\r\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\r\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n        at org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:632)\r\n        at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:143)\r\n        ... 28 more\r\n\r\n```\r\n\r\n\r\nBelow is the `CustomPredicate`:\r\n\r\n```\r\npublic class CustomPredicate implements Predicate&lt;RowMapPair&gt;, Serializable {\r\n  private static final long serialVersionUID = 3122121231213145L;\r\n\r\n  private final String column;\r\n  private final String value;\r\n\r\n  @Override\r\n  public boolean test(RowMapPair rowMapPair) {\r\n    MapState&lt;String, Pair&gt; mapState = rowMapPair.getMapState();\r\n    Row row = rowMapPair.getRow();\r\n    String id = String.valueOf(row.getFieldAs(&quot;_id&quot;));\r\n    String key = String.join(&quot;__&quot;, id, column);\r\n\r\n    String curVal = null;\r\n    try {\r\n      Pair val = mapState.get(key);\r\n      log.debug(&quot;** val: {}&quot;, mapState.get(key));\r\n      if (Objects.nonNull(val)) {\r\n        curVal = String.valueOf(val.getValue());\r\n      } else {\r\n        return false;\r\n      }\r\n    } catch (Exception e) {\r\n      log.error(&quot;Error: {}&quot;, e.getMessage(), e);\r\n      throw new RuntimeException(e);\r\n    }\r\n    return curVal.equalsIgnoreCase(value);\r\n  }\r\n}\r\n```\r\n`RowMapMair` looks like this:\r\n```\r\npublic class RowMapPair implements Serializable {\r\n  private static final long serialVersionUID = 31213145L;\r\n  private MapState&lt;String, Pair&gt; mapState;\r\n  private Row row;\r\n}\r\n```\r\n\r\nThe caller function does this:\r\n```\r\nreturn new CustomPredicate(column, stringValue.getValue());\r\n```\r\n\r\nHas anyone faced this issue before? I tried with different versions of Flink: `1.14.5`, `1.14.3` and `1.14.0`. Nothing works for some reason. \r\n\r\nAny help is appreciated!","title":"Custom Predicate Evaluation in Flink gives java.io.NotSerializableException:","body":"<p>I have a CustomPredicate that evaluates an expression to be <code>true</code> or <code>false</code>. A few months back, the code was working just fine.</p>\n<p>Now, I get the following exception even before the Flink job is submitted. Below are details about the exception:</p>\n<pre><code>org.apache.flink.api.common.InvalidProgramException: java.util.function.Predicate$$Lambda$167/20853837@390a07a0 is not serializable. The object probably contains or references non serializable fields.\n</code></pre>\n<p>The above exception is caused by:</p>\n<pre><code>Caused by: java.io.NotSerializableException: java.util.function.Predicate$$Lambda$167/20853837\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n        at org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:632)\n        at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:143)\n        ... 28 more\n\n</code></pre>\n<p>Below is the <code>CustomPredicate</code>:</p>\n<pre><code>public class CustomPredicate implements Predicate&lt;RowMapPair&gt;, Serializable {\n  private static final long serialVersionUID = 3122121231213145L;\n\n  private final String column;\n  private final String value;\n\n  @Override\n  public boolean test(RowMapPair rowMapPair) {\n    MapState&lt;String, Pair&gt; mapState = rowMapPair.getMapState();\n    Row row = rowMapPair.getRow();\n    String id = String.valueOf(row.getFieldAs(&quot;_id&quot;));\n    String key = String.join(&quot;__&quot;, id, column);\n\n    String curVal = null;\n    try {\n      Pair val = mapState.get(key);\n      log.debug(&quot;** val: {}&quot;, mapState.get(key));\n      if (Objects.nonNull(val)) {\n        curVal = String.valueOf(val.getValue());\n      } else {\n        return false;\n      }\n    } catch (Exception e) {\n      log.error(&quot;Error: {}&quot;, e.getMessage(), e);\n      throw new RuntimeException(e);\n    }\n    return curVal.equalsIgnoreCase(value);\n  }\n}\n</code></pre>\n<p><code>RowMapMair</code> looks like this:</p>\n<pre><code>public class RowMapPair implements Serializable {\n  private static final long serialVersionUID = 31213145L;\n  private MapState&lt;String, Pair&gt; mapState;\n  private Row row;\n}\n</code></pre>\n<p>The caller function does this:</p>\n<pre><code>return new CustomPredicate(column, stringValue.getValue());\n</code></pre>\n<p>Has anyone faced this issue before? I tried with different versions of Flink: <code>1.14.5</code>, <code>1.14.3</code> and <code>1.14.0</code>. Nothing works for some reason.</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","scheduledexecutorservice"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1550163426,"post_id":54695402,"comment_id":96178445,"body_markdown":"https://stackoverflow.com/questions/25049021/what-is-the-purpose-of-scheduledfuture-get-method-if-is-retrieved-from-the-sch","body":"<a href=\"https://stackoverflow.com/questions/25049021/what-is-the-purpose-of-scheduledfuture-get-method-if-is-retrieved-from-the-sch\" title=\"what is the purpose of scheduledfuture get method if is retrieved from the sch\">stackoverflow.com/questions/25049021/&hellip;</a>"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1550176707,"post_id":54695402,"comment_id":96184295,"body_markdown":"@SotiriosDelimanolis thanks, seems nearly same, but still doesn&#39;t contain the exact answer (though I guess that answer will be &quot;yes&quot;, I am more worried about if it is following directly from the documentation or from the specific implementation of this interface?)","body":"@SotiriosDelimanolis thanks, seems nearly same, but still doesn&#39;t contain the exact answer (though I guess that answer will be &quot;yes&quot;, I am more worried about if it is following directly from the documentation or from the specific implementation of this interface?)"}],"answers":[{"tags":[],"owner":{"account_id":268434,"reputation":3010,"user_id":557191,"accept_rate":100,"display_name":"Michael Lowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677590874,"creation_date":1677590874,"answer_id":75592735,"question_id":54695402,"body_markdown":"The returned `ScheduledFuture` should represent the ongoing task, including its recurrence.\r\n\r\nWe can know that this is the case by reading the following code snippet from [the documentation of `ScheduledExecutorService`][1]:\r\n```\r\n import static java.util.concurrent.TimeUnit.*;\r\n class BeeperControl {\r\n   private final ScheduledExecutorService scheduler =\r\n     Executors.newScheduledThreadPool(1);\r\n\r\n   public void beepForAnHour() {\r\n     final Runnable beeper = new Runnable() {\r\n       public void run() { System.out.println(&quot;beep&quot;); }\r\n     };\r\n     final ScheduledFuture&lt;?&gt; beeperHandle =\r\n       scheduler.scheduleAtFixedRate(beeper, 10, 10, SECONDS);\r\n     scheduler.schedule(new Runnable() {\r\n       public void run() { beeperHandle.cancel(true); }\r\n     }, 60 * 60, SECONDS);\r\n   }\r\n }\r\n```\r\n\r\nThe `ScheduledFuture` is used to cancel the task after an hour has elapsed. For this to function correctly, the `ScheduledFuture` cannot represent the initially submitted task, but rather must represent the ongoing recurrent task.\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"Does the ScheduledFuture represent the same task for all executions for an action scheduled at a fixed rate?","body":"<p>The returned <code>ScheduledFuture</code> should represent the ongoing task, including its recurrence.</p>\n<p>We can know that this is the case by reading the following code snippet from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">the documentation of <code>ScheduledExecutorService</code></a>:</p>\n<pre><code> import static java.util.concurrent.TimeUnit.*;\n class BeeperControl {\n   private final ScheduledExecutorService scheduler =\n     Executors.newScheduledThreadPool(1);\n\n   public void beepForAnHour() {\n     final Runnable beeper = new Runnable() {\n       public void run() { System.out.println(&quot;beep&quot;); }\n     };\n     final ScheduledFuture&lt;?&gt; beeperHandle =\n       scheduler.scheduleAtFixedRate(beeper, 10, 10, SECONDS);\n     scheduler.schedule(new Runnable() {\n       public void run() { beeperHandle.cancel(true); }\n     }, 60 * 60, SECONDS);\n   }\n }\n</code></pre>\n<p>The <code>ScheduledFuture</code> is used to cancel the task after an hour has elapsed. For this to function correctly, the <code>ScheduledFuture</code> cannot represent the initially submitted task, but rather must represent the ongoing recurrent task.</p>\n"}],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677596458,"creation_date":1550163300,"question_id":54695402,"body_markdown":"It is not clear to me from the JavaDoc [description][1] of the `java.util.concurrent.ScheduledExecutorService::scheduleAtFixedRate method,` if the returned `ScheduledFuture` represents the same task for all   \r\ninvocations of the scheduled action or not.\r\n\r\nIn other words, my scheduled actions will be performed for some undefined number of times (until I stop my application). Can I stop its execution at any time after any number of invocations by just saving this variable and canceling it?\r\n\r\nThis question is not only about actual implementation (which is by any means interesting to reveal), but also about proper understanding of the specification (what if I would like to provide my own implementation of the `ScheduledExecutorService`?).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleAtFixedRate-java.lang.Runnable-long-long-java.util.concurrent.TimeUnit-","title":"Does the ScheduledFuture represent the same task for all executions for an action scheduled at a fixed rate?","body":"<p>It is not clear to me from the JavaDoc <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleAtFixedRate-java.lang.Runnable-long-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\">description</a> of the <code>java.util.concurrent.ScheduledExecutorService::scheduleAtFixedRate method,</code> if the returned <code>ScheduledFuture</code> represents the same task for all<br />\ninvocations of the scheduled action or not.</p>\n<p>In other words, my scheduled actions will be performed for some undefined number of times (until I stop my application). Can I stop its execution at any time after any number of invocations by just saving this variable and canceling it?</p>\n<p>This question is not only about actual implementation (which is by any means interesting to reveal), but also about proper understanding of the specification (what if I would like to provide my own implementation of the <code>ScheduledExecutorService</code>?).</p>\n"},{"tags":["java","spring","elasticsearch","kibana","filebeat"],"owner":{"account_id":24280588,"reputation":23,"user_id":18227165,"display_name":"diablo296"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677596390,"creation_date":1677596390,"question_id":75593733,"body_markdown":"I have issue with filebeat. I&#39;m using autodiscover for kubernetes. Filebeat is collecting logs and sending them to elastic and they are visible in kibana. Some logs are not sending and I don&#39;t understand why. I see in Kibana log: \r\n&gt;Starting Application using Java 17.0.5 on....\r\n\r\nbut I don&#39;t see in kibana\r\n&gt;Error starting ApplicationContext. To display the conditions report re-run your application with ....\r\n\r\nMy filebeat.yaml\r\n\r\n    filebeat.yml: |-\r\n    filebeat.shutdown_timeout: 300s\r\n\r\n    filebeat.autodiscover:\r\n      providers:\r\n        - type: kubernetes\r\n          templates:\r\n            - condition:\r\n                equals:\r\n                  kubernetes.namespace: {{ .Release.Namespace }}\r\n              config:\r\n                - type: container\r\n                  paths:\r\n                    - &quot;/var/log/containers/*-${data.kubernetes.container.id}.log&quot;\r\n                  fields:\r\n                    installation: ${INSTALLATION_NAME}\r\n                  containers.ids:\r\n                    - &quot;${data.kubernetes.container.id}&quot;\r\n                  multiline.pattern: &#39;^\\{&#39;\r\n                  multiline.negate: true\r\n                  multiline.match: after\r\n                  multiline.timeout: 120s #default 5s\r\n                  multiline.max_lines: 10000 #default 500\r\n                  processors:\r\n                    - decode_json_fields:\r\n                        fields: message\r\n                        max_depth: 9\r\n                        target: &quot;&quot;\r\n                        overwrite_keys: true\r\n                        add_error_key: true","title":"Filebeat not collecting all logs","body":"<p>I have issue with filebeat. I'm using autodiscover for kubernetes. Filebeat is collecting logs and sending them to elastic and they are visible in kibana. Some logs are not sending and I don't understand why. I see in Kibana log:</p>\n<blockquote>\n<p>Starting Application using Java 17.0.5 on....</p>\n</blockquote>\n<p>but I don't see in kibana</p>\n<blockquote>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with ....</p>\n</blockquote>\n<p>My filebeat.yaml</p>\n<pre><code>filebeat.yml: |-\nfilebeat.shutdown_timeout: 300s\n\nfilebeat.autodiscover:\n  providers:\n    - type: kubernetes\n      templates:\n        - condition:\n            equals:\n              kubernetes.namespace: {{ .Release.Namespace }}\n          config:\n            - type: container\n              paths:\n                - &quot;/var/log/containers/*-${data.kubernetes.container.id}.log&quot;\n              fields:\n                installation: ${INSTALLATION_NAME}\n              containers.ids:\n                - &quot;${data.kubernetes.container.id}&quot;\n              multiline.pattern: '^\\{'\n              multiline.negate: true\n              multiline.match: after\n              multiline.timeout: 120s #default 5s\n              multiline.max_lines: 10000 #default 500\n              processors:\n                - decode_json_fields:\n                    fields: message\n                    max_depth: 9\n                    target: &quot;&quot;\n                    overwrite_keys: true\n                    add_error_key: true\n</code></pre>\n"},{"tags":["java","json","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":192352,"reputation":6747,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"score":1,"creation_date":1605030249,"post_id":28466207,"comment_id":114526127,"body_markdown":"By the way the latest spring (not sure when this was added) does a much better job. Last year sometime I accidentally made this mistake again and instead of the cryptic error above I got an error that told me pretty much exactly what I did wrong (don&#39;t remember the text but...). So kudos for the team on improving this.","body":"By the way the latest spring (not sure when this was added) does a much better job. Last year sometime I accidentally made this mistake again and instead of the cryptic error above I got an error that told me pretty much exactly what I did wrong (don&#39;t remember the text but...). So kudos for the team on improving this."},{"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"score":0,"creation_date":1668626073,"post_id":28466207,"comment_id":131453783,"body_markdown":"public getters are required for spring boot exception handlers ...","body":"public getters are required for spring boot exception handlers ..."}],"answers":[{"tags":[],"owner":{"account_id":2615957,"reputation":11395,"user_id":2264997,"display_name":"ikumen"},"down_vote_count":0,"up_vote_count":209,"is_accepted":true,"score":209,"last_activity_date":1520350450,"creation_date":1423698758,"answer_id":28466881,"question_id":28466207,"body_markdown":"You have no public getters for your UpdateResult, for example :\r\n\r\n    public static class UploadResult {\r\n        private String value;\r\n        public UploadResult(final String value)\r\n        {\r\n            this.value = value;\r\n        }\r\n        \r\n        public String getValue() {\r\n           return this.value;\r\n        }\r\n    }\r\n\r\nI believe by default auto discovery is on and will try to discover your getters. You can disable it with `@JsonAutoDetect(getterVisibility=Visibility.NONE)`, and in your example will result in `[]`.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>You have no public getters for your UpdateResult, for example :</p>\n\n<pre><code>public static class UploadResult {\n    private String value;\n    public UploadResult(final String value)\n    {\n        this.value = value;\n    }\n\n    public String getValue() {\n       return this.value;\n    }\n}\n</code></pre>\n\n<p>I believe by default auto discovery is on and will try to discover your getters. You can disable it with <code>@JsonAutoDetect(getterVisibility=Visibility.NONE)</code>, and in your example will result in <code>[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1529003452,"creation_date":1471066686,"answer_id":38929612,"question_id":28466207,"body_markdown":"I had a similar error using `spring/jhipster` RESTful service (via `Postman`)\r\n\r\nThe endpoint was something like:\r\n\r\n    @RequestMapping(value = &quot;/index-entries/{id}&quot;,\r\n            method = RequestMethod.GET,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @Timed\r\n    public ResponseEntity&lt;IndexEntry&gt; getIndexEntry(@PathVariable Long id) {\r\n\r\nI was attempting to call the `restful` endpoint via `Postman` with header `Accept: text/plain` but I needed to use `Accept: application/json`\r\n\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had a similar error using <code>spring/jhipster</code> RESTful service (via <code>Postman</code>)</p>\n\n<p>The endpoint was something like:</p>\n\n<pre><code>@RequestMapping(value = \"/index-entries/{id}\",\n        method = RequestMethod.GET,\n        produces = MediaType.APPLICATION_JSON_VALUE)\n@Timed\npublic ResponseEntity&lt;IndexEntry&gt; getIndexEntry(@PathVariable Long id) {\n</code></pre>\n\n<p>I was attempting to call the <code>restful</code> endpoint via <code>Postman</code> with header <code>Accept: text/plain</code> but I needed to use <code>Accept: application/json</code></p>\n"},{"tags":[],"owner":{"account_id":4856613,"reputation":514,"user_id":3917380,"accept_rate":40,"display_name":"Gaurav vijayvargiya"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1582741994,"creation_date":1487876383,"answer_id":42424023,"question_id":28466207,"body_markdown":"**Add below dependency to your `pom.xml`:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p><strong>Add below dependency to your <code>pom.xml</code>:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8293092,"reputation":873,"user_id":6234075,"display_name":"Vasudev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517304805,"creation_date":1517304805,"answer_id":48518092,"question_id":28466207,"body_markdown":"My return object didn&#39;t have @XmlRootElement annotation on the class. Adding the annotation solved my issue.\r\n\r\n    @XmlRootElement(name = &quot;ReturnObjectClass&quot;)\r\n    public class ReturnObjectClass {\r\n    \r\n        @XmlElement(name = &quot;Status&quot;, required = true)\r\n        protected StatusType status;\r\n        //...\r\n    }","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>My return object didn't have @XmlRootElement annotation on the class. Adding the annotation solved my issue.</p>\n\n<pre><code>@XmlRootElement(name = \"ReturnObjectClass\")\npublic class ReturnObjectClass {\n\n    @XmlElement(name = \"Status\", required = true)\n    protected StatusType status;\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12877889,"reputation":1,"user_id":9313929,"display_name":"thernandez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517778779,"creation_date":1517778779,"answer_id":48613064,"question_id":28466207,"body_markdown":"I had to explicitly call out the dependency for my json library in my POM.\r\n\r\nOnce I added the below dependency, it all worked.\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had to explicitly call out the dependency for my json library in my POM.</p>\n\n<p>Once I added the below dependency, it all worked.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2712341,"reputation":1106,"user_id":2340484,"display_name":"charlb"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1519646727,"creation_date":1519646727,"answer_id":48988147,"question_id":28466207,"body_markdown":"If using @FeignClient, add e.g.\r\n\r\n    produces = &quot;application/json&quot;\r\n\r\nto the @RequestMapping annotation","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>If using @FeignClient, add e.g.</p>\n\n<pre><code>produces = \"application/json\"\n</code></pre>\n\n<p>to the @RequestMapping annotation</p>\n"},{"tags":[],"owner":{"account_id":7452620,"reputation":111,"user_id":5666848,"display_name":"Kranthi Kiran"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1523102015,"creation_date":1523100620,"answer_id":49706905,"question_id":28466207,"body_markdown":"I too was facing a similar issue. In my case the request path was accepting mail id as path variable, so the uri looked like\r\n  /some/api/test@test.com\r\n\r\nAnd based on path, Spring determined the uri is to fetch some file with &quot;.com&quot; extension and was trying to use different media type for response then intended one. After making path variable into request param it worked for me.\r\n\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I too was facing a similar issue. In my case the request path was accepting mail id as path variable, so the uri looked like\n  /some/api/test@test.com</p>\n\n<p>And based on path, Spring determined the uri is to fetch some file with \".com\" extension and was trying to use different media type for response then intended one. After making path variable into request param it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541256958,"creation_date":1541256958,"answer_id":53132479,"question_id":28466207,"body_markdown":"accepted answer is not right with Spring 5.   try changing your URL of your web service to .json!  that is the right fix.  great details here http://stick2code.blogspot.com/2014/03/solved-orgspringframeworkwebhttpmediaty.html","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>accepted answer is not right with Spring 5.   try changing your URL of your web service to .json!  that is the right fix.  great details here <a href=\"http://stick2code.blogspot.com/2014/03/solved-orgspringframeworkwebhttpmediaty.html\" rel=\"nofollow noreferrer\">http://stick2code.blogspot.com/2014/03/solved-orgspringframeworkwebhttpmediaty.html</a></p>\n"},{"tags":[],"owner":{"account_id":14499755,"reputation":41,"user_id":10473319,"display_name":"Dominik H."},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550150025,"creation_date":1550150025,"answer_id":54691289,"question_id":28466207,"body_markdown":"I had the same exception but the cause was different and I couldn&#39;t find any info on that so I will post it here. It was just a simple to overlook mistake.\r\n\r\nBad:\r\n\r\n    @RestController(value = &quot;/api/connection&quot;)\r\n\r\nGood:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/connection&quot;)","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had the same exception but the cause was different and I couldn't find any info on that so I will post it here. It was just a simple to overlook mistake.</p>\n\n<p>Bad:</p>\n\n<pre><code>@RestController(value = \"/api/connection\")\n</code></pre>\n\n<p>Good:</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/api/connection\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10309193,"reputation":61,"user_id":7605552,"display_name":"David Leonardo Bernal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552436111,"creation_date":1552436111,"answer_id":55132545,"question_id":28466207,"body_markdown":"In my case I happened to be using lombok and apparently there are conflicts with the get and set","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>In my case I happened to be using lombok and apparently there are conflicts with the get and set</p>\n"},{"tags":[],"owner":{"account_id":9534953,"reputation":23,"user_id":9013851,"display_name":"Bla Blubb"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1560246740,"creation_date":1560246740,"answer_id":56541052,"question_id":28466207,"body_markdown":"I had the same exception. The problem was, that I used the annotation\r\n\r\n```@RepositoryRestController```\r\n\r\ninstead of\r\n\r\n```@RestController```\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had the same exception. The problem was, that I used the annotation</p>\n\n<p><code>@RepositoryRestController</code></p>\n\n<p>instead of</p>\n\n<p><code>@RestController</code></p>\n"},{"tags":[],"owner":{"account_id":311780,"reputation":7000,"user_id":625540,"accept_rate":94,"display_name":"codefreak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570166928,"creation_date":1570166928,"answer_id":58230421,"question_id":28466207,"body_markdown":"I had this issue when accessing actuator. Putting following configuration class solved the issue:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MediaConverterConfiguration implements WebMvcConfigurer {\r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter jacksonConverter() {\r\n            MappingJackson2HttpMessageConverter mc =\r\n                    new MappingJackson2HttpMessageConverter();\r\n            List&lt;MediaType&gt; supportedMediaTypes =\r\n                    new ArrayList&lt;&gt;(mc.getSupportedMediaTypes());\r\n            supportedMediaTypes\r\n                    .add(MediaType.valueOf(MediaType.APPLICATION_JSON_VALUE));\r\n            supportedMediaTypes.add(\r\n                MediaType.valueOf(&quot;application/vnd.spring-boot.actuator.v2+json&quot;));\r\n            mc.setSupportedMediaTypes(supportedMediaTypes);\r\n            return mc;\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            converters.add(jacksonConverter());\r\n        }\r\n    }","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had this issue when accessing actuator. Putting following configuration class solved the issue:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MediaConverterConfiguration implements WebMvcConfigurer {\n    @Bean\n    public MappingJackson2HttpMessageConverter jacksonConverter() {\n        MappingJackson2HttpMessageConverter mc =\n                new MappingJackson2HttpMessageConverter();\n        List&lt;MediaType&gt; supportedMediaTypes =\n                new ArrayList&lt;&gt;(mc.getSupportedMediaTypes());\n        supportedMediaTypes\n                .add(MediaType.valueOf(MediaType.APPLICATION_JSON_VALUE));\n        supportedMediaTypes.add(\n            MediaType.valueOf(\"application/vnd.spring-boot.actuator.v2+json\"));\n        mc.setSupportedMediaTypes(supportedMediaTypes);\n        return mc;\n    }\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(jacksonConverter());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575479698,"creation_date":1575479698,"answer_id":59181454,"question_id":28466207,"body_markdown":"Had similar issue when one of my controllers was intercepting all requests with empty `@GetMapping` ","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>Had similar issue when one of my controllers was intercepting all requests with empty <code>@GetMapping</code> </p>\n"},{"tags":[],"owner":{"account_id":7587409,"reputation":481,"user_id":5756022,"display_name":"SuperGuy10"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652264243,"creation_date":1582749024,"answer_id":60422081,"question_id":28466207,"body_markdown":"I got the exact same problem. After viewing this reference: https://zetcode.com/springboot/requestparam/\r\n\r\nMy problem solved by changing \r\n\r\n`method = RequestMethod.GET, produces = &quot;application/json;charset=UTF-8&quot;` \r\n\r\nto\r\n\r\n `method = RequestMethod.GET, produces = MediaType.TEXT_PLAIN_VALUE`\r\n\r\nand don&#39;t forget to add the library:\r\n\r\n    import org.springframework.http.MediaType;\r\n\r\nit works on both postman or regular browser.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I got the exact same problem. After viewing this reference: <a href=\"https://zetcode.com/springboot/requestparam/\" rel=\"nofollow noreferrer\">https://zetcode.com/springboot/requestparam/</a></p>\n<p>My problem solved by changing</p>\n<p><code>method = RequestMethod.GET, produces = &quot;application/json;charset=UTF-8&quot;</code></p>\n<p>to</p>\n<p><code>method = RequestMethod.GET, produces = MediaType.TEXT_PLAIN_VALUE</code></p>\n<p>and don't forget to add the library:</p>\n<pre><code>import org.springframework.http.MediaType;\n</code></pre>\n<p>it works on both postman or regular browser.</p>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1584972544,"creation_date":1584972544,"answer_id":60815160,"question_id":28466207,"body_markdown":"If you are using **Lombok**, make sure it have annotations like **@Data or @Getter\r\n@Setter** in your Response Model class.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>If you are using <strong>Lombok</strong>, make sure it have annotations like <strong>@Data or @Getter\n@Setter</strong> in your Response Model class.</p>\n"},{"tags":[],"owner":{"account_id":12718626,"reputation":39,"user_id":9239826,"display_name":"Saibaba Gunturi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599675467,"creation_date":1599675467,"answer_id":63817383,"question_id":28466207,"body_markdown":"In my case I was sending in correct object in ResponseEntity&lt;&gt;().\r\n\r\nCorrect :\r\n\r\n    @PostMapping(value = &quot;/get-customer-details&quot;, produces = { MediaType.APPLICATION_JSON_VALUE })\r\n\tpublic ResponseEntity&lt;?&gt; getCustomerDetails(@RequestBody String requestMessage) throws JSONException {\r\n\t\tJSONObject jsonObject = new JSONObject();\r\n\t\tjsonObject.put(&quot;customerId&quot;, &quot;123&quot;);\r\n\t\tjsonObject.put(&quot;mobileNumber&quot;, &quot;XXX-XXX-XXXX&quot;);\r\n\t\treturn new ResponseEntity&lt;&gt;(jsonObject.toString(), HttpStatus.OK);\r\n\t}\r\n\r\nIncorrect :\r\n\r\n    return new ResponseEntity&lt;&gt;(jsonObject, HttpStatus.OK);\r\n\r\nBecause, jsonObject&#39;s toString() method &quot;Encodes the jsonObject as a compact JSON string&quot;. Therefore, Spring returns json string directly without any further serialization.\r\n\r\nWhen we send jsonObject instead, Spring tries to serialize it based on produces method used in RequestMapping and fails due to it &quot;Could not find acceptable representation&quot;.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>In my case I was sending in correct object in ResponseEntity&lt;&gt;().</p>\n<p>Correct :</p>\n<pre><code>@PostMapping(value = &quot;/get-customer-details&quot;, produces = { MediaType.APPLICATION_JSON_VALUE })\npublic ResponseEntity&lt;?&gt; getCustomerDetails(@RequestBody String requestMessage) throws JSONException {\n    JSONObject jsonObject = new JSONObject();\n    jsonObject.put(&quot;customerId&quot;, &quot;123&quot;);\n    jsonObject.put(&quot;mobileNumber&quot;, &quot;XXX-XXX-XXXX&quot;);\n    return new ResponseEntity&lt;&gt;(jsonObject.toString(), HttpStatus.OK);\n}\n</code></pre>\n<p>Incorrect :</p>\n<pre><code>return new ResponseEntity&lt;&gt;(jsonObject, HttpStatus.OK);\n</code></pre>\n<p>Because, jsonObject's toString() method &quot;Encodes the jsonObject as a compact JSON string&quot;. Therefore, Spring returns json string directly without any further serialization.</p>\n<p>When we send jsonObject instead, Spring tries to serialize it based on produces method used in RequestMapping and fails due to it &quot;Could not find acceptable representation&quot;.</p>\n"},{"tags":[],"owner":{"account_id":2924793,"reputation":3077,"user_id":2506354,"display_name":"NobodySomewhere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603804711,"creation_date":1603804711,"answer_id":64555328,"question_id":28466207,"body_markdown":"For me, the problem was trying to pass a filename in a url, with a dot. For example\r\n```java\r\n&quot;http://localhost:8080/something/asdf.jpg&quot; //causes error because of &#39;.jpg&#39;\r\n```\r\n\r\nIt could be solved by not passing the .jpg extension, or sending it all in a request body.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>For me, the problem was trying to pass a filename in a url, with a dot. For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;http://localhost:8080/something/asdf.jpg&quot; //causes error because of '.jpg'\n</code></pre>\n<p>It could be solved by not passing the .jpg extension, or sending it all in a request body.</p>\n"},{"tags":[],"owner":{"account_id":2367173,"reputation":97,"user_id":2072661,"display_name":"Shardayyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609781268,"creation_date":1609781268,"answer_id":65567035,"question_id":28466207,"body_markdown":"I was running into the same issue, and what I was missing in my setup was including this in my maven (pom.xml) file.\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n         &lt;version&gt;1.9.9&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I was running into the same issue, and what I was missing in my setup was including this in my maven (pom.xml) file.</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n     &lt;version&gt;1.9.9&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7950604,"reputation":173,"user_id":6001534,"display_name":"nimodka"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636611397,"creation_date":1636611058,"answer_id":69923898,"question_id":28466207,"body_markdown":"Even if you do all of the above, as like in my case I still got the error 406 - Not acceptable when used from postman. Upon careful study, I have noticed that, in the request headers, default header for &#39;accept&#39; is &#39;*/*&#39;.\r\n\r\nI solved my problem, by adding a preset to the header and switched off default header. Please see below screenshot.\r\n\r\n[![screenshot of postman preset][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xX6th.png\r\n\r\nThis solved my problem without any other settings or even adding the spring configurations.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>Even if you do all of the above, as like in my case I still got the error 406 - Not acceptable when used from postman. Upon careful study, I have noticed that, in the request headers, default header for 'accept' is '<em>/</em>'.</p>\n<p>I solved my problem, by adding a preset to the header and switched off default header. Please see below screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/xX6th.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xX6th.png\" alt=\"screenshot of postman preset\" /></a></p>\n<p>This solved my problem without any other settings or even adding the spring configurations.</p>\n"},{"tags":[],"owner":{"account_id":15318099,"reputation":1,"user_id":16616367,"display_name":"Song Rithy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654935200,"creation_date":1654935200,"answer_id":72582717,"question_id":28466207,"body_markdown":"if you are using postman to test, trying to check out the Header.\r\nmy mistake was I&#39;m using application/xml instead of application/json in &quot;Accept&quot; row.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>if you are using postman to test, trying to check out the Header.\nmy mistake was I'm using application/xml instead of application/json in &quot;Accept&quot; row.</p>\n"},{"tags":[],"owner":{"account_id":112729,"reputation":66,"user_id":297204,"display_name":"Vince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666703267,"creation_date":1666703267,"answer_id":74194604,"question_id":28466207,"body_markdown":"Spent the whole day on this because none of the suggestions worked for me. Alas, it was the `WebConfig` implementation; specifically the `configurer.ignoreAcceptHeader(true)` that was the culprit preventing the `.yaml` from generating. \r\n\r\nHope this helps someone.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>Spent the whole day on this because none of the suggestions worked for me. Alas, it was the <code>WebConfig</code> implementation; specifically the <code>configurer.ignoreAcceptHeader(true)</code> that was the culprit preventing the <code>.yaml</code> from generating.</p>\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":953085,"reputation":1269,"user_id":978865,"accept_rate":11,"display_name":"S.P Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670299969,"creation_date":1670299969,"answer_id":74697214,"question_id":28466207,"body_markdown":"I encountered same exception: &quot;Resolved *[org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation&quot;]*\r\n\r\nIn analysis I fount that this problem can generate during serialization of a class while calling a @Controller or @RestController.\r\n\r\nIn serialization, if you are using class, **it must have public Setter and Getter**. \r\n\r\nIn the project where it occurs I found that a getter method was private and because of that this problem occurred. ","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I encountered same exception: &quot;Resolved <em>[org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation&quot;]</em></p>\n<p>In analysis I fount that this problem can generate during serialization of a class while calling a @Controller or @RestController.</p>\n<p>In serialization, if you are using class, <strong>it must have public Setter and Getter</strong>.</p>\n<p>In the project where it occurs I found that a getter method was private and because of that this problem occurred.</p>\n"},{"tags":[],"owner":{"account_id":18625102,"reputation":43,"user_id":13574407,"display_name":"Himanshu Gadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675889873,"creation_date":1675889873,"answer_id":75391665,"question_id":28466207,"body_markdown":"I also faced similar issue. I just put getter and setter methods for all relevant bean classes. There is some issue with Lombok as it is not able to generate getters and setters on its own in Eclipse. Here I&#39;m using postman for HTTP requests. ","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I also faced similar issue. I just put getter and setter methods for all relevant bean classes. There is some issue with Lombok as it is not able to generate getters and setters on its own in Eclipse. Here I'm using postman for HTTP requests.</p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677596234,"creation_date":1677596234,"answer_id":75593696,"question_id":28466207,"body_markdown":"The answer is add\r\n```Getters &amp; Setters```.\r\n\r\nThe technical answer is Jakson API which converts object to JSON works on the getters &amp; setters.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>The answer is add\n<code>Getters &amp; Setters</code>.</p>\n<p>The technical answer is Jakson API which converts object to JSON works on the getters &amp; setters.</p>\n"}],"owner":{"account_id":192352,"reputation":6747,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291886,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"accepted_answer_id":28466881,"answer_count":24,"score":130,"last_activity_date":1677596234,"creation_date":1423695518,"question_id":28466207,"body_markdown":"I am trying to use ```spring-boot-starter-web``` to create a rest service serving up JSON representations of Java objects. From what I understand this boot-starter-web jar is supposed to handle the conversion to JSON through Jackson automatically but I am instead getting this error.\r\n\r\n    { \r\n      &quot;timestamp&quot;: 1423693929568,\r\n      &quot;status&quot;: 406,\r\n      &quot;error&quot;: &quot;Not Acceptable&quot;,\r\n      &quot;exception&quot;: &quot;org.springframework.web.HttpMediaTypeNotAcceptableException&quot;,\r\n      &quot;message&quot;: &quot;Could not find acceptable representation&quot;\r\n    }\r\n\r\nMy Controller is this...\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/media&quot;)\r\n    public class MediaController {\r\n        @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody UploadResult test(@RequestParam(value=&quot;data&quot;) final String data) {\r\n          String value = &quot;hello, test with data [&quot; + data + &quot;]&quot;; \r\n          return new UploadResult(value);\r\n        }\r\n\r\n        @RequestMapping(value = &quot;/test2&quot;, method = RequestMethod.POST)\r\n        public int test2() {\r\n            return 42;\r\n        }\r\n\r\n        @RequestMapping(value = &quot;/test3&quot;, method = RequestMethod.POST)\r\n        public String test3(@RequestParam(value=&quot;data&quot;) final String data) {\r\n            String value = &quot;hello, test with data [&quot; + data + &quot;]&quot;; \r\n            UploadResult upload = new UploadResult(value);\r\n            return upload.value;\r\n        }\r\n\r\n\r\n        public static class UploadResult {\r\n            private String value;\r\n            public UploadResult(final String value)\r\n            {\r\n                this.value = value;\r\n            }\r\n        }\r\n    }\r\n\r\nMy ```pom.xml``` has...\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```mvn dependency:tree``` shows that spring-boot-starter-web does indeed depend on the jackson2.4 databind and thus should be on the classpath...\r\n\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.8:compile\r\n    [INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.8:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.14:runtime\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.4:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.0:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.4.4:compile\r\n    [INFO] |  +- org.hibernate:hibernate-validator:jar:5.1.3.Final:compile\r\n    [INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.1.3.GA:compile\r\n    [INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:4.1.4.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-aop:jar:4.1.4.RELEASE:compile\r\n    [INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] |  |  +- org.springframework:spring-beans:jar:4.1.4.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-context:jar:4.1.4.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:4.1.4.RELEASE:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:4.1.4.RELEASE:compile\r\n\r\n... yet calling the ```test``` service gives the error mentioned above. ```test2``` and ```test3``` work fine proving that it must just be the attempted conversion to JSON that is failing? Am I missing some configuration problem or annotations? From all the examples I can find, annotating the class for basic Jackson JSON conversion is no longer necessary.\r\n\r\nAny help greatly appreciated.\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I am trying to use <code>spring-boot-starter-web</code> to create a rest service serving up JSON representations of Java objects. From what I understand this boot-starter-web jar is supposed to handle the conversion to JSON through Jackson automatically but I am instead getting this error.</p>\n\n<pre><code>{ \n  \"timestamp\": 1423693929568,\n  \"status\": 406,\n  \"error\": \"Not Acceptable\",\n  \"exception\": \"org.springframework.web.HttpMediaTypeNotAcceptableException\",\n  \"message\": \"Could not find acceptable representation\"\n}\n</code></pre>\n\n<p>My Controller is this...</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/media\")\npublic class MediaController {\n    @RequestMapping(value = \"/test\", method = RequestMethod.POST)\n    public @ResponseBody UploadResult test(@RequestParam(value=\"data\") final String data) {\n      String value = \"hello, test with data [\" + data + \"]\"; \n      return new UploadResult(value);\n    }\n\n    @RequestMapping(value = \"/test2\", method = RequestMethod.POST)\n    public int test2() {\n        return 42;\n    }\n\n    @RequestMapping(value = \"/test3\", method = RequestMethod.POST)\n    public String test3(@RequestParam(value=\"data\") final String data) {\n        String value = \"hello, test with data [\" + data + \"]\"; \n        UploadResult upload = new UploadResult(value);\n        return upload.value;\n    }\n\n\n    public static class UploadResult {\n        private String value;\n        public UploadResult(final String value)\n        {\n            this.value = value;\n        }\n    }\n}\n</code></pre>\n\n<p>My <code>pom.xml</code> has...</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><code>mvn dependency:tree</code> shows that spring-boot-starter-web does indeed depend on the jackson2.4 databind and thus should be on the classpath...</p>\n\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.2.1.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.2.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.2.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.2.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.2.1.RELEASE:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.8:compile\n[INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.8:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.14:runtime\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.4:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.0:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.4.4:compile\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.1.3.Final:compile\n[INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.1.3.GA:compile\n[INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\n[INFO] |  +- org.springframework:spring-web:jar:4.1.4.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:4.1.4.RELEASE:compile\n[INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:4.1.4.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-context:jar:4.1.4.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.1.4.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:4.1.4.RELEASE:compile\n</code></pre>\n\n<p>... yet calling the <code>test</code> service gives the error mentioned above. <code>test2</code> and <code>test3</code> work fine proving that it must just be the attempted conversion to JSON that is failing? Am I missing some configuration problem or annotations? From all the examples I can find, annotating the class for basic Jackson JSON conversion is no longer necessary.</p>\n\n<p>Any help greatly appreciated.</p>\n"},{"tags":["java","pom.xml"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677597305,"post_id":75593692,"comment_id":133367114,"body_markdown":"What is your server ? What is your error message ? Tomcat version ? WAR ? Jakarta EE version ? Spring Boot Version ?","body":"What is your server ? What is your error message ? Tomcat version ? WAR ? Jakarta EE version ? Spring Boot Version ?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1677597636,"post_id":75593692,"comment_id":133367231,"body_markdown":"&quot;it becomes red&quot; implies an IDE is telling you that. What happens when you run `mvn install` ? In IntelliJ for example you need to hit a button before it will download any new artifacts that you added to the pom so until you do it will claim that the artifact does not exist.","body":"&quot;it becomes red&quot; implies an IDE is telling you that. What happens when you run <code>mvn install</code> ? In IntelliJ for example you need to hit a button before it will download any new artifacts that you added to the pom so until you do it will claim that the artifact does not exist."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1677603325,"post_id":75593692,"comment_id":133369118,"body_markdown":"Try to google maven jstl, then goto https://mvnrepository.com/artifact/jstl/jstl and copy-pasta. You&#39;ve using a real old manual.","body":"Try to google maven jstl, then goto <a href=\"https://mvnrepository.com/artifact/jstl/jstl\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/jstl/jstl</a> and copy-pasta. You&#39;ve using a real old manual."},{"owner":{"account_id":25114763,"reputation":54,"user_id":19928451,"display_name":" "},"score":0,"creation_date":1677606494,"post_id":75593692,"comment_id":133369954,"body_markdown":"Thank you all. I really appreciate your help. I wil try each proposal.","body":"Thank you all. I really appreciate your help. I wil try each proposal."}],"owner":{"account_id":25114763,"reputation":54,"user_id":19928451,"display_name":" "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677596218,"creation_date":1677596218,"question_id":75593692,"body_markdown":"Please, explain,\r\n\r\nI try to add jstl. I do everycing according manual. But jstl still remains red.\r\n\r\n&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;1.2&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n\r\nand jstl and 1.2 becane red and server gives me a error.\r\n\r\nMay be I did soethign wrong. There is no higher viersion....\r\n\r\nThank you in advance!","title":"dependencies in pom file","body":"<p>Please, explain,</p>\n<p>I try to add jstl. I do everycing according manual. But jstl still remains red.</p>\n<blockquote>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>and jstl and 1.2 becane red and server gives me a error.</p>\n<p>May be I did soethign wrong. There is no higher viersion....</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","android","listview","firebase-storage","android-volley"],"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677596118,"creation_date":1677581022,"question_id":75590928,"body_markdown":"I am trying to get and show images from firebase storage and display it in a Listview. Most parts of the code work, retrieving the images from firebase storage is successful but  only the Imageview of the first row in the Listview is loaded and shown. How do all the images get shown in all rows in the listview not just the first row?  I tried saving the links to each user in a ``` hm.put(&quot;listview_image&quot;, String.valueOf(mountainsRef)); ``` but displaying them in the Listview according to each user has been a problem for me. below is the complete code, Please help me.\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_users);\r\n\r\n        usersList = (ListView)findViewById(R.id.usersList);\r\n        noUsersText = (TextView)findViewById(R.id.noUsersText);\r\n\r\n        pd = new ProgressDialog(Users.this);\r\n        pd.setMessage(&quot;&quot;+getApplicationContext().getResources().getString(R.string.loading));\r\n        pd.show();\r\n\r\n        String url = &quot;https://PinBall-b9k94-default-rtdb.firebaseio.com/users.json&quot;;\r\n\r\n        StringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;(){\r\n            @Override\r\n            public void onResponse(String s) {\r\n                doOnSuccess(s);\r\n            }\r\n        },new Response.ErrorListener(){\r\n            @Override\r\n            public void onErrorResponse(VolleyError volleyError) {\r\n                System.out.println(&quot;&quot; + volleyError);\r\n            }\r\n        });\r\n\r\n        RequestQueue rQueue = Volley.newRequestQueue(Users.this);\r\n        rQueue.add(request);\r\n\r\n        usersList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                UserDetails.chatWith = al.get(position);\r\n                startActivity(new Intent(Users.this, Chat.class));\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public void doOnSuccess(String s){\r\n        try {\r\n            JSONObject obj = new JSONObject(s);\r\n\r\n            Iterator i = obj.keys();\r\n            String key = &quot;&quot;;\r\n\r\n            while(i.hasNext()){\r\n                key = i.next().toString();\r\n\r\n                if(!key.equals(UserDetails.username)) {\r\n                    al.add(key);\r\n                    HashMap&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\r\n                    hm.put(&quot;listview_title&quot;, key);\r\n                    hm.put(&quot;listview_discription&quot;, key);\r\n\r\n                    FirebaseStorage storage = FirebaseStorage.getInstance();\r\n                    StorageReference storageRef = storage.getReference();\r\n                    StorageReference mountainsRef = storageRef.child(key+&quot;.jpg&quot;);\r\n                    hm.put(&quot;listview_image&quot;, String.valueOf(mountainsRef));\r\n                    aList.add(hm);\r\n\r\n                    StorageReference uri = storageRef.child(key+&quot;.jpg&quot;);\r\n                    uri.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n                            // Set the profile picture using the download URL\r\n                            ImageView ProfilePicture2 = (ImageView) findViewById(R.id.listview_image);\r\n                            Picasso.get().load(uri).into(ProfilePicture2);\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception exception) {\r\n                            // Handle any errors\r\n                        }\r\n                    });\r\n                }\r\n\r\n                totalUsers++;\r\n            }\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if(totalUsers &lt;=1){\r\n            noUsersText.setVisibility(View.VISIBLE);\r\n            usersList.setVisibility(View.GONE);\r\n        }\r\n        else{\r\n            noUsersText.setVisibility(View.GONE);\r\n            usersList.setVisibility(View.VISIBLE);\r\n\r\n            String[] from = {&quot;listview_image&quot;, &quot;listview_title&quot;, &quot;listview_discription&quot;};\r\n            int[] to = {R.id.listview_image, R.id.listview_item_title, R.id.listview_item_short_description};\r\n\r\n            SimpleAdapter simpleAdapter = new SimpleAdapter(getBaseContext(), aList, R.layout.listview_activity, from, to);\r\n            ListView androidListView = (ListView) findViewById(R.id.usersList);\r\n            androidListView.setAdapter(simpleAdapter);\r\n\r\n        }\r\n\r\n        pd.dismiss();\r\n    }\r\n}","title":"Get and Show image from firebase storage in a listview?","body":"<p>I am trying to get and show images from firebase storage and display it in a Listview. Most parts of the code work, retrieving the images from firebase storage is successful but  only the Imageview of the first row in the Listview is loaded and shown. How do all the images get shown in all rows in the listview not just the first row?  I tried saving the links to each user in a <code>hm.put(&quot;listview_image&quot;, String.valueOf(mountainsRef));</code> but displaying them in the Listview according to each user has been a problem for me. below is the complete code, Please help me.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_users);\n\n    usersList = (ListView)findViewById(R.id.usersList);\n    noUsersText = (TextView)findViewById(R.id.noUsersText);\n\n    pd = new ProgressDialog(Users.this);\n    pd.setMessage(&quot;&quot;+getApplicationContext().getResources().getString(R.string.loading));\n    pd.show();\n\n    String url = &quot;https://PinBall-b9k94-default-rtdb.firebaseio.com/users.json&quot;;\n\n    StringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;(){\n        @Override\n        public void onResponse(String s) {\n            doOnSuccess(s);\n        }\n    },new Response.ErrorListener(){\n        @Override\n        public void onErrorResponse(VolleyError volleyError) {\n            System.out.println(&quot;&quot; + volleyError);\n        }\n    });\n\n    RequestQueue rQueue = Volley.newRequestQueue(Users.this);\n    rQueue.add(request);\n\n    usersList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            UserDetails.chatWith = al.get(position);\n            startActivity(new Intent(Users.this, Chat.class));\n\n        }\n    });\n}\n\npublic void doOnSuccess(String s){\n    try {\n        JSONObject obj = new JSONObject(s);\n\n        Iterator i = obj.keys();\n        String key = &quot;&quot;;\n\n        while(i.hasNext()){\n            key = i.next().toString();\n\n            if(!key.equals(UserDetails.username)) {\n                al.add(key);\n                HashMap&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\n                hm.put(&quot;listview_title&quot;, key);\n                hm.put(&quot;listview_discription&quot;, key);\n\n                FirebaseStorage storage = FirebaseStorage.getInstance();\n                StorageReference storageRef = storage.getReference();\n                StorageReference mountainsRef = storageRef.child(key+&quot;.jpg&quot;);\n                hm.put(&quot;listview_image&quot;, String.valueOf(mountainsRef));\n                aList.add(hm);\n\n                StorageReference uri = storageRef.child(key+&quot;.jpg&quot;);\n                uri.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                    @Override\n                    public void onSuccess(Uri uri) {\n                        // Set the profile picture using the download URL\n                        ImageView ProfilePicture2 = (ImageView) findViewById(R.id.listview_image);\n                        Picasso.get().load(uri).into(ProfilePicture2);\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception exception) {\n                        // Handle any errors\n                    }\n                });\n            }\n\n            totalUsers++;\n        }\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n    if(totalUsers &lt;=1){\n        noUsersText.setVisibility(View.VISIBLE);\n        usersList.setVisibility(View.GONE);\n    }\n    else{\n        noUsersText.setVisibility(View.GONE);\n        usersList.setVisibility(View.VISIBLE);\n\n        String[] from = {&quot;listview_image&quot;, &quot;listview_title&quot;, &quot;listview_discription&quot;};\n        int[] to = {R.id.listview_image, R.id.listview_item_title, R.id.listview_item_short_description};\n\n        SimpleAdapter simpleAdapter = new SimpleAdapter(getBaseContext(), aList, R.layout.listview_activity, from, to);\n        ListView androidListView = (ListView) findViewById(R.id.usersList);\n        androidListView.setAdapter(simpleAdapter);\n\n    }\n\n    pd.dismiss();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677583999,"post_id":75591050,"comment_id":133362777,"body_markdown":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677584021,"post_id":75591050,"comment_id":133362779,"body_markdown":"Please also indicate the exact data you to delete.","body":"Please also indicate the exact data you to delete."},{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":0,"creation_date":1677584389,"post_id":75591050,"comment_id":133362870,"body_markdown":"Sure, here is the structure:\n`request: {\n        &quot;requestId&quot;: &quot;b45f769c-23dd-4eaa-9930-684b131ef377&quot;\n      }`, where every {} has an index in database: 0,1,2....\n\nAnd I want to delete by requestId","body":"Sure, here is the structure: <code>request: {         &quot;requestId&quot;: &quot;b45f769c-23dd-4eaa-9930-684b131ef377&quot;       }</code>, where every {} has an index in database: 0,1,2....  And I want to delete by requestId"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677586356,"post_id":75591050,"comment_id":133363408,"body_markdown":"Please edit your question as requested in the first comment.","body":"Please edit your question as requested in the first comment."},{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":0,"creation_date":1677586846,"post_id":75591050,"comment_id":133363551,"body_markdown":"Sure, I changed","body":"Sure, I changed"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677589153,"post_id":75591050,"comment_id":133364276,"body_markdown":"I&#39;m having a hard time understanding what you&#39;re trying to achieve. What exact from this schema would you like to delete?","body":"I&#39;m having a hard time understanding what you&#39;re trying to achieve. What exact from this schema would you like to delete?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1677596090,"post_id":75591050,"comment_id":133366690,"body_markdown":"Please edit your question to answer these 3 questions: 1) What is the value of `index` in your code? Can you reproduce the problem with a hard-coded value instead of a variable, so that we&#39;re all looking at the same, standalone problem? --- 2) How does the `.getReference(&quot;database&quot;)` in your code relate to the `request` in the data you shared? --- 3) What part of the data are you data that you shared are you trying to delete?","body":"Please edit your question to answer these 3 questions: 1) What is the value of <code>index</code> in your code? Can you reproduce the problem with a hard-coded value instead of a variable, so that we&#39;re all looking at the same, standalone problem? --- 2) How does the <code>.getReference(&quot;database&quot;)</code> in your code relate to the <code>request</code> in the data you shared? --- 3) What part of the data are you data that you shared are you trying to delete?"}],"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677595922,"creation_date":1677581732,"question_id":75591050,"body_markdown":"I have a structure in firebase that looks like:\r\n\r\n```\r\nrequest: {\r\n   &quot;field1&quot;: &quot;b45f769c-23dd-4eaa-9930-684b131ef377&quot;       \r\n  },\r\n  {\r\n   &quot;field2: &quot;b45f769c-23dd-4eaa-9930-684b131ef378&quot;\r\n }\r\n```\r\n\r\nHow should I delete the document by field1, without mentioning index in firebase using Java?\r\n\r\nSo far I tried this:\r\n\r\n    public void deleteIndex(String index) throws WriteException {\r\n        WriteEventListener listener = new WriteEventListener();\r\n        this.database\r\n                .getReference(&quot;database&quot;)\r\n                .child(index)\r\n                .removeValue(listener);\r\n\r\n        listener.getResponse();\r\n    }\r\n\r\nBut here I don&#39;t want to delete by index, and by field. Is there any way I can work with that or a query that uses where clause on java? so far I only saw something but in android. Thanks!","title":"Delete by field firebase java","body":"<p>I have a structure in firebase that looks like:</p>\n<pre><code>request: {\n   &quot;field1&quot;: &quot;b45f769c-23dd-4eaa-9930-684b131ef377&quot;       \n  },\n  {\n   &quot;field2: &quot;b45f769c-23dd-4eaa-9930-684b131ef378&quot;\n }\n</code></pre>\n<p>How should I delete the document by field1, without mentioning index in firebase using Java?</p>\n<p>So far I tried this:</p>\n<pre><code>public void deleteIndex(String index) throws WriteException {\n    WriteEventListener listener = new WriteEventListener();\n    this.database\n            .getReference(&quot;database&quot;)\n            .child(index)\n            .removeValue(listener);\n\n    listener.getResponse();\n}\n</code></pre>\n<p>But here I don't want to delete by index, and by field. Is there any way I can work with that or a query that uses where clause on java? so far I only saw something but in android. Thanks!</p>\n"},{"tags":["java","amazon-s3","aws-lambda","aws-java-sdk","zipoutputstream"],"comments":[{"owner":{"account_id":18149595,"reputation":19,"user_id":13202519,"display_name":"Eugene Kukhol"},"score":0,"creation_date":1617636164,"post_id":55204181,"comment_id":118351920,"body_markdown":"[Answered similar question here](https://stackoverflow.com/a/66955328/13202519)","body":"<a href=\"https://stackoverflow.com/a/66955328/13202519\">Answered similar question here</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1634013225,"post_id":55204181,"comment_id":122905601,"body_markdown":"As normal images are already compressed (exception *.bmp), you  can add explicitly not compressing those files. I am amazed that you want to use a huge zip file. Own R/O file system?","body":"As normal images are already compressed (exception *.bmp), you  can add explicitly not compressing those files. I am amazed that you want to use a huge zip file. Own R/O file system?"}],"answers":[{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565868101,"creation_date":1565868101,"answer_id":57508899,"question_id":55204181,"body_markdown":"The basic idea is to use streaming operations. This way you won&#39;t wait till the ZIP is generated on a filesystem, but start uploading as soon, as the ZIP algorithm produces any data. Obviously, some data will be buffered in memory, still no need to wait for the whole ZIP to be generated on a disk. We&#39;ll also use stream compositions and `PipedInputStream` / `PipedOutputStream` in two threads: one to read the data, and the other to ZIP the contents.\r\n\r\nHere is a version for [tag:aws-java-sdk]:\r\n\r\n```java\r\nfinal AmazonS3 client = AmazonS3ClientBuilder.defaultClient();\r\n\r\nfinal PipedOutputStream pipedOutputStream = new PipedOutputStream();\r\nfinal PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\r\n\r\nfinal Thread s3In = new Thread(() -&gt; {\r\n\ttry (final ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream)) {\r\n\t\tS3Objects\r\n\t\t\t\t// It&#39;s just a convenient way to list all the objects. Replace with you own logic.\r\n\t\t\t\t.inBucket(client, &quot;bucket&quot;)\r\n\t\t\t\t.forEach((S3ObjectSummary objectSummary) -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (objectSummary.getKey().endsWith(&quot;.png&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Processing &quot; + objectSummary.getKey());\r\n\r\n\t\t\t\t\t\t\tfinal ZipEntry entry = new ZipEntry(\r\n\t\t\t\t\t\t\t\t\tUUID.randomUUID().toString() + &quot;.png&quot; // I&#39;m too lazy to extract file name from the\r\n\t\t\t\t\t\t\t\t\t// objectSummary\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tzipOutputStream.putNextEntry(entry);\r\n\r\n\t\t\t\t\t\t\tIOUtils.copy(\r\n\t\t\t\t\t\t\t\t\tclient.getObject(\r\n\t\t\t\t\t\t\t\t\t\t\tobjectSummary.getBucketName(),\r\n\t\t\t\t\t\t\t\t\t\t\tobjectSummary.getKey()\r\n\t\t\t\t\t\t\t\t\t).getObjectContent(),\r\n\t\t\t\t\t\t\t\t\tzipOutputStream\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tzipOutputStream.closeEntry();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (final Exception all) {\r\n\t\t\t\t\t\tall.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t} catch (final Exception all) {\r\n\t\tall.printStackTrace();\r\n\t}\r\n});\r\nfinal Thread s3Out = new Thread(() -&gt; {\r\n\ttry {\r\n\t\tclient.putObject(\r\n\t\t\t\t&quot;another-bucket&quot;,\r\n\t\t\t\t&quot;previews.zip&quot;,\r\n\t\t\t\tpipedInputStream,\r\n\t\t\t\tnew ObjectMetadata()\r\n\t\t);\r\n\r\n\t\tpipedInputStream.close();\r\n\t} catch (final Exception all) {\r\n\t\tall.printStackTrace();\r\n\t}\r\n});\r\n\r\ns3In.start();\r\ns3Out.start();\r\n\r\ns3In.join();\r\ns3Out.join();\r\n```\r\n\r\nHowever, note that it will print a warning:\r\n\r\n    WARNING: No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.\r\n\r\nThat&#39;s because S3 needs to know the size of data in advance, before the upload. It&#39;s impossible to know the size of a resulting ZIP in advance. You can probably try your luck with [multipart uploads](https://docs.aws.amazon.com/AmazonS3/latest/dev/uploadobjusingmpu.html), but the code will be more trickier. Though, the idea would be similar: one thread should read the data and send the content in ZIP stream and the other thread should read ZIPped entries and upload them as multiparts. After all the entries (parts) are uploaded, the multipart should be completed.\r\n\r\nHere is an example for [tag:aws-java-sdk-2.x]:\r\n\r\n```java\r\nfinal S3Client client = S3Client.create();\r\n\r\nfinal PipedOutputStream pipedOutputStream = new PipedOutputStream();\r\nfinal PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\r\n\r\nfinal Thread s3In = new Thread(() -&gt; {\r\n\ttry (final ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream)) {\r\n\t\tclient.listObjectsV2Paginator(\r\n\t\t\t\tListObjectsV2Request\r\n\t\t\t\t\t\t.builder()\r\n\t\t\t\t\t\t.bucket(&quot;bucket&quot;)\r\n\t\t\t\t\t\t.build()\r\n\t\t)\r\n\t\t\t\t.contents()\r\n\t\t\t\t.forEach((S3Object object) -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (object.key().endsWith(&quot;.png&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Processing &quot; + object.key());\r\n\r\n\t\t\t\t\t\t\tfinal ZipEntry entry = new ZipEntry(\r\n\t\t\t\t\t\t\t\t\tUUID.randomUUID().toString() + &quot;.png&quot; // I&#39;m too lazy to extract file name from the object\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tzipOutputStream.putNextEntry(entry);\r\n\r\n\t\t\t\t\t\t\tclient.getObject(\r\n\t\t\t\t\t\t\t\t\tGetObjectRequest\r\n\t\t\t\t\t\t\t\t\t\t\t.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t.bucket(&quot;bucket&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t.key(object.key())\r\n\t\t\t\t\t\t\t\t\t\t\t.build(),\r\n\t\t\t\t\t\t\t\t\tResponseTransformer.toOutputStream(zipOutputStream)\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tzipOutputStream.closeEntry();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (final Exception all) {\r\n\t\t\t\t\t\tall.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t} catch (final Exception all) {\r\n\t\tall.printStackTrace();\r\n\t}\r\n});\r\nfinal Thread s3Out = new Thread(() -&gt; {\r\n\ttry {\r\n\t\tclient.putObject(\r\n\t\t\t\tPutObjectRequest\r\n\t\t\t\t\t\t.builder()\r\n\t\t\t\t\t\t.bucket(&quot;another-bucket&quot;)\r\n\t\t\t\t\t\t.key(&quot;previews.zip&quot;)\r\n\t\t\t\t\t\t.build(),\r\n\t\t\t\tRequestBody.fromBytes(\r\n\t\t\t\t\t\tIOUtils.toByteArray(pipedInputStream)\r\n\t\t\t\t)\r\n\t\t);\r\n\t} catch (final Exception all) {\r\n\t\tall.printStackTrace();\r\n\t}\r\n});\r\n\r\ns3In.start();\r\ns3Out.start();\r\n\r\ns3In.join();\r\ns3Out.join();\r\n```\r\n\r\nIt suffers from the same plague: the ZIP needs to be prepared in memory before the upload.\r\n\r\nIf you&#39;re interested, I&#39;ve prepared a [demo project](https://gitlab.com/madhead-playgrounds/so55204181), so you can play with the code.","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>The basic idea is to use streaming operations. This way you won't wait till the ZIP is generated on a filesystem, but start uploading as soon, as the ZIP algorithm produces any data. Obviously, some data will be buffered in memory, still no need to wait for the whole ZIP to be generated on a disk. We'll also use stream compositions and <code>PipedInputStream</code> / <code>PipedOutputStream</code> in two threads: one to read the data, and the other to ZIP the contents.</p>\n\n<p>Here is a version for <a href=\"/questions/tagged/aws-java-sdk\" class=\"post-tag\" title=\"show questions tagged &#39;aws-java-sdk&#39;\" rel=\"tag\">aws-java-sdk</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final AmazonS3 client = AmazonS3ClientBuilder.defaultClient();\n\nfinal PipedOutputStream pipedOutputStream = new PipedOutputStream();\nfinal PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\n\nfinal Thread s3In = new Thread(() -&gt; {\n    try (final ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream)) {\n        S3Objects\n                // It's just a convenient way to list all the objects. Replace with you own logic.\n                .inBucket(client, \"bucket\")\n                .forEach((S3ObjectSummary objectSummary) -&gt; {\n                    try {\n                        if (objectSummary.getKey().endsWith(\".png\")) {\n                            System.out.println(\"Processing \" + objectSummary.getKey());\n\n                            final ZipEntry entry = new ZipEntry(\n                                    UUID.randomUUID().toString() + \".png\" // I'm too lazy to extract file name from the\n                                    // objectSummary\n                            );\n\n                            zipOutputStream.putNextEntry(entry);\n\n                            IOUtils.copy(\n                                    client.getObject(\n                                            objectSummary.getBucketName(),\n                                            objectSummary.getKey()\n                                    ).getObjectContent(),\n                                    zipOutputStream\n                            );\n\n                            zipOutputStream.closeEntry();\n                        }\n                    } catch (final Exception all) {\n                        all.printStackTrace();\n                    }\n                });\n    } catch (final Exception all) {\n        all.printStackTrace();\n    }\n});\nfinal Thread s3Out = new Thread(() -&gt; {\n    try {\n        client.putObject(\n                \"another-bucket\",\n                \"previews.zip\",\n                pipedInputStream,\n                new ObjectMetadata()\n        );\n\n        pipedInputStream.close();\n    } catch (final Exception all) {\n        all.printStackTrace();\n    }\n});\n\ns3In.start();\ns3Out.start();\n\ns3In.join();\ns3Out.join();\n</code></pre>\n\n<p>However, note that it will print a warning:</p>\n\n<pre><code>WARNING: No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.\n</code></pre>\n\n<p>That's because S3 needs to know the size of data in advance, before the upload. It's impossible to know the size of a resulting ZIP in advance. You can probably try your luck with <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/uploadobjusingmpu.html\" rel=\"nofollow noreferrer\">multipart uploads</a>, but the code will be more trickier. Though, the idea would be similar: one thread should read the data and send the content in ZIP stream and the other thread should read ZIPped entries and upload them as multiparts. After all the entries (parts) are uploaded, the multipart should be completed.</p>\n\n<p>Here is an example for <a href=\"/questions/tagged/aws-java-sdk-2.x\" class=\"post-tag\" title=\"show questions tagged &#39;aws-java-sdk-2.x&#39;\" rel=\"tag\">aws-java-sdk-2.x</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final S3Client client = S3Client.create();\n\nfinal PipedOutputStream pipedOutputStream = new PipedOutputStream();\nfinal PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\n\nfinal Thread s3In = new Thread(() -&gt; {\n    try (final ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream)) {\n        client.listObjectsV2Paginator(\n                ListObjectsV2Request\n                        .builder()\n                        .bucket(\"bucket\")\n                        .build()\n        )\n                .contents()\n                .forEach((S3Object object) -&gt; {\n                    try {\n                        if (object.key().endsWith(\".png\")) {\n                            System.out.println(\"Processing \" + object.key());\n\n                            final ZipEntry entry = new ZipEntry(\n                                    UUID.randomUUID().toString() + \".png\" // I'm too lazy to extract file name from the object\n                            );\n\n                            zipOutputStream.putNextEntry(entry);\n\n                            client.getObject(\n                                    GetObjectRequest\n                                            .builder()\n                                            .bucket(\"bucket\")\n                                            .key(object.key())\n                                            .build(),\n                                    ResponseTransformer.toOutputStream(zipOutputStream)\n                            );\n\n                            zipOutputStream.closeEntry();\n                        }\n                    } catch (final Exception all) {\n                        all.printStackTrace();\n                    }\n                });\n    } catch (final Exception all) {\n        all.printStackTrace();\n    }\n});\nfinal Thread s3Out = new Thread(() -&gt; {\n    try {\n        client.putObject(\n                PutObjectRequest\n                        .builder()\n                        .bucket(\"another-bucket\")\n                        .key(\"previews.zip\")\n                        .build(),\n                RequestBody.fromBytes(\n                        IOUtils.toByteArray(pipedInputStream)\n                )\n        );\n    } catch (final Exception all) {\n        all.printStackTrace();\n    }\n});\n\ns3In.start();\ns3Out.start();\n\ns3In.join();\ns3Out.join();\n</code></pre>\n\n<p>It suffers from the same plague: the ZIP needs to be prepared in memory before the upload.</p>\n\n<p>If you're interested, I've prepared a <a href=\"https://gitlab.com/madhead-playgrounds/so55204181\" rel=\"nofollow noreferrer\">demo project</a>, so you can play with the code.</p>\n"},{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602163191,"creation_date":1602163191,"answer_id":64263423,"question_id":55204181,"body_markdown":"The problem is the AWS Java SDK for S3 does not support a way to stream writing to an OutputStream. The following snippet implements an &#39;S3OutputStream&#39;, which extends from OutputStream and will automatically perform the &#39;putObject&#39; or &#39;initiateMultipartUpload&#39;, depending on the size. This allows you to pass this S3OutputStream to the constructor of ZipOutputStream, e.g. `new ZipOutputStream(new S3OutputStream(s3Client, &quot;my_bucket&quot;, &quot;path&quot;))`\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.model.AbortMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\r\nimport com.amazonaws.services.s3.model.CompleteMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadResult;\r\nimport com.amazonaws.services.s3.model.ObjectMetadata;\r\nimport com.amazonaws.services.s3.model.PartETag;\r\nimport com.amazonaws.services.s3.model.PutObjectRequest;\r\nimport com.amazonaws.services.s3.model.UploadPartRequest;\r\nimport com.amazonaws.services.s3.model.UploadPartResult;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class S3OutputStream extends OutputStream {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(S3OutputStream.class);\r\n\r\n    /** Default chunk size is 10MB */\r\n    protected static final int BUFFER_SIZE = 10000000;\r\n\r\n    /** The bucket-name on Amazon S3 */\r\n    private final String bucket;\r\n\r\n    /** The path (key) name within the bucket */\r\n    private final String path;\r\n\r\n    /** The temporary buffer used for storing the chunks */\r\n    private final byte[] buf;\r\n\r\n    /** The position in the buffer */\r\n    private int position;\r\n\r\n    /** Amazon S3 client. TODO: support KMS */\r\n    private final AmazonS3 s3Client;\r\n\r\n    /** The unique id for this upload */\r\n    private String uploadId;\r\n\r\n    /** Collection of the etags for the parts that have been uploaded */\r\n    private final List&lt;PartETag&gt; etags;\r\n\r\n    /** indicates whether the stream is still open / valid */\r\n    private boolean open;\r\n\r\n    /**\r\n     * Creates a new S3 OutputStream\r\n     * @param s3Client the AmazonS3 client\r\n     * @param bucket name of the bucket\r\n     * @param path path within the bucket\r\n     */\r\n    public S3OutputStream(AmazonS3 s3Client, String bucket, String path) {\r\n        this.s3Client = s3Client;\r\n        this.bucket = bucket;\r\n        this.path = path;\r\n        this.buf = new byte[BUFFER_SIZE];\r\n        this.position = 0;\r\n        this.etags = new ArrayList&lt;&gt;();\r\n        this.open = true;\r\n    }\r\n\r\n    /**\r\n     * Write an array to the S3 output stream.\r\n     *\r\n     * @param b the byte-array to append\r\n     */\r\n    @Override\r\n    public void write(byte[] b) {\r\n        write(b,0,b.length);\r\n    }\r\n\r\n    /**\r\n     * Writes an array to the S3 Output Stream\r\n     *\r\n     * @param byteArray the array to write\r\n     * @param o the offset into the array\r\n     * @param l the number of bytes to write\r\n     */\r\n    @Override\r\n    public void write(final byte[] byteArray, final int o, final int l) {\r\n        this.assertOpen();\r\n        int ofs = o, len = l;\r\n        int size;\r\n        while (len &gt; (size = this.buf.length - position)) {\r\n            System.arraycopy(byteArray, ofs, this.buf, this.position, size);\r\n            this.position += size;\r\n            flushBufferAndRewind();\r\n            ofs += size;\r\n            len -= size;\r\n        }\r\n        System.arraycopy(byteArray, ofs, this.buf, this.position, len);\r\n        this.position += len;\r\n    }\r\n\r\n    /**\r\n     * Flushes the buffer by uploading a part to S3.\r\n     */\r\n    @Override\r\n    public synchronized void flush() {\r\n        this.assertOpen();\r\n        LOG.debug(&quot;Flush was called&quot;);\r\n    }\r\n\r\n    protected void flushBufferAndRewind() {\r\n        if (uploadId == null) {\r\n            LOG.debug(&quot;Starting a multipart upload for {}/{}&quot;,this.bucket,this.path);\r\n            final InitiateMultipartUploadRequest request = new InitiateMultipartUploadRequest(this.bucket, this.path)\r\n                    .withCannedACL(CannedAccessControlList.BucketOwnerFullControl);\r\n            InitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(request);\r\n            this.uploadId = initResponse.getUploadId();\r\n        }\r\n        uploadPart();\r\n        this.position = 0;\r\n    }\r\n\r\n    protected void uploadPart() {\r\n        LOG.debug(&quot;Uploading part {}&quot;,this.etags.size());\r\n        UploadPartResult uploadResult = this.s3Client.uploadPart(new UploadPartRequest()\r\n                .withBucketName(this.bucket)\r\n                .withKey(this.path)\r\n                .withUploadId(this.uploadId)\r\n                .withInputStream(new ByteArrayInputStream(buf,0,this.position))\r\n                .withPartNumber(this.etags.size() + 1)\r\n                .withPartSize(this.position));\r\n        this.etags.add(uploadResult.getPartETag());\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        if (this.open) {\r\n            this.open = false;\r\n            if (this.uploadId != null) {\r\n                if (this.position &gt; 0) {\r\n                    uploadPart();\r\n                }\r\n                LOG.debug(&quot;Completing multipart&quot;);\r\n                this.s3Client.completeMultipartUpload(new CompleteMultipartUploadRequest(bucket, path, uploadId, etags));\r\n            }\r\n            else {\r\n                LOG.debug(&quot;Uploading object at once to {}/{}&quot;,this.bucket,this.path);\r\n                final ObjectMetadata metadata = new ObjectMetadata();\r\n                metadata.setContentLength(this.position);\r\n                final PutObjectRequest request = new PutObjectRequest(this.bucket, this.path, new ByteArrayInputStream(this.buf, 0, this.position), metadata)\r\n                        .withCannedAcl(CannedAccessControlList.BucketOwnerFullControl);\r\n                this.s3Client.putObject(request);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void cancel() {\r\n        this.open = false;\r\n        if (this.uploadId != null) {\r\n            LOG.debug(&quot;Aborting multipart upload&quot;);\r\n            this.s3Client.abortMultipartUpload(new AbortMultipartUploadRequest(this.bucket, this.path, this.uploadId));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void write(int b) {\r\n        this.assertOpen();\r\n        if (position &gt;= this.buf.length) {\r\n            flushBufferAndRewind();\r\n        }\r\n        this.buf[position++] = (byte)b;\r\n    }\r\n\r\n    private void assertOpen() {\r\n        if (!this.open) {\r\n            throw new IllegalStateException(&quot;Closed&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>The problem is the AWS Java SDK for S3 does not support a way to stream writing to an OutputStream. The following snippet implements an 'S3OutputStream', which extends from OutputStream and will automatically perform the 'putObject' or 'initiateMultipartUpload', depending on the size. This allows you to pass this S3OutputStream to the constructor of ZipOutputStream, e.g. <code>new ZipOutputStream(new S3OutputStream(s3Client, &quot;my_bucket&quot;, &quot;path&quot;))</code></p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.model.AbortMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\nimport com.amazonaws.services.s3.model.CompleteMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadResult;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\nimport com.amazonaws.services.s3.model.PartETag;\nimport com.amazonaws.services.s3.model.PutObjectRequest;\nimport com.amazonaws.services.s3.model.UploadPartRequest;\nimport com.amazonaws.services.s3.model.UploadPartResult;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class S3OutputStream extends OutputStream {\n\n    private static final Logger LOG = LoggerFactory.getLogger(S3OutputStream.class);\n\n    /** Default chunk size is 10MB */\n    protected static final int BUFFER_SIZE = 10000000;\n\n    /** The bucket-name on Amazon S3 */\n    private final String bucket;\n\n    /** The path (key) name within the bucket */\n    private final String path;\n\n    /** The temporary buffer used for storing the chunks */\n    private final byte[] buf;\n\n    /** The position in the buffer */\n    private int position;\n\n    /** Amazon S3 client. TODO: support KMS */\n    private final AmazonS3 s3Client;\n\n    /** The unique id for this upload */\n    private String uploadId;\n\n    /** Collection of the etags for the parts that have been uploaded */\n    private final List&lt;PartETag&gt; etags;\n\n    /** indicates whether the stream is still open / valid */\n    private boolean open;\n\n    /**\n     * Creates a new S3 OutputStream\n     * @param s3Client the AmazonS3 client\n     * @param bucket name of the bucket\n     * @param path path within the bucket\n     */\n    public S3OutputStream(AmazonS3 s3Client, String bucket, String path) {\n        this.s3Client = s3Client;\n        this.bucket = bucket;\n        this.path = path;\n        this.buf = new byte[BUFFER_SIZE];\n        this.position = 0;\n        this.etags = new ArrayList&lt;&gt;();\n        this.open = true;\n    }\n\n    /**\n     * Write an array to the S3 output stream.\n     *\n     * @param b the byte-array to append\n     */\n    @Override\n    public void write(byte[] b) {\n        write(b,0,b.length);\n    }\n\n    /**\n     * Writes an array to the S3 Output Stream\n     *\n     * @param byteArray the array to write\n     * @param o the offset into the array\n     * @param l the number of bytes to write\n     */\n    @Override\n    public void write(final byte[] byteArray, final int o, final int l) {\n        this.assertOpen();\n        int ofs = o, len = l;\n        int size;\n        while (len &gt; (size = this.buf.length - position)) {\n            System.arraycopy(byteArray, ofs, this.buf, this.position, size);\n            this.position += size;\n            flushBufferAndRewind();\n            ofs += size;\n            len -= size;\n        }\n        System.arraycopy(byteArray, ofs, this.buf, this.position, len);\n        this.position += len;\n    }\n\n    /**\n     * Flushes the buffer by uploading a part to S3.\n     */\n    @Override\n    public synchronized void flush() {\n        this.assertOpen();\n        LOG.debug(&quot;Flush was called&quot;);\n    }\n\n    protected void flushBufferAndRewind() {\n        if (uploadId == null) {\n            LOG.debug(&quot;Starting a multipart upload for {}/{}&quot;,this.bucket,this.path);\n            final InitiateMultipartUploadRequest request = new InitiateMultipartUploadRequest(this.bucket, this.path)\n                    .withCannedACL(CannedAccessControlList.BucketOwnerFullControl);\n            InitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(request);\n            this.uploadId = initResponse.getUploadId();\n        }\n        uploadPart();\n        this.position = 0;\n    }\n\n    protected void uploadPart() {\n        LOG.debug(&quot;Uploading part {}&quot;,this.etags.size());\n        UploadPartResult uploadResult = this.s3Client.uploadPart(new UploadPartRequest()\n                .withBucketName(this.bucket)\n                .withKey(this.path)\n                .withUploadId(this.uploadId)\n                .withInputStream(new ByteArrayInputStream(buf,0,this.position))\n                .withPartNumber(this.etags.size() + 1)\n                .withPartSize(this.position));\n        this.etags.add(uploadResult.getPartETag());\n    }\n\n    @Override\n    public void close() {\n        if (this.open) {\n            this.open = false;\n            if (this.uploadId != null) {\n                if (this.position &gt; 0) {\n                    uploadPart();\n                }\n                LOG.debug(&quot;Completing multipart&quot;);\n                this.s3Client.completeMultipartUpload(new CompleteMultipartUploadRequest(bucket, path, uploadId, etags));\n            }\n            else {\n                LOG.debug(&quot;Uploading object at once to {}/{}&quot;,this.bucket,this.path);\n                final ObjectMetadata metadata = new ObjectMetadata();\n                metadata.setContentLength(this.position);\n                final PutObjectRequest request = new PutObjectRequest(this.bucket, this.path, new ByteArrayInputStream(this.buf, 0, this.position), metadata)\n                        .withCannedAcl(CannedAccessControlList.BucketOwnerFullControl);\n                this.s3Client.putObject(request);\n            }\n        }\n    }\n\n    public void cancel() {\n        this.open = false;\n        if (this.uploadId != null) {\n            LOG.debug(&quot;Aborting multipart upload&quot;);\n            this.s3Client.abortMultipartUpload(new AbortMultipartUploadRequest(this.bucket, this.path, this.uploadId));\n        }\n    }\n\n    @Override\n    public void write(int b) {\n        this.assertOpen();\n        if (position &gt;= this.buf.length) {\n            flushBufferAndRewind();\n        }\n        this.buf[position++] = (byte)b;\n    }\n\n    private void assertOpen() {\n        if (!this.open) {\n            throw new IllegalStateException(&quot;Closed&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4971565,"reputation":336,"user_id":3999107,"accept_rate":20,"display_name":"Dheeraj Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643092899,"creation_date":1643092899,"answer_id":70844373,"question_id":55204181,"body_markdown":"I am very late to answer your question\r\nI did it for my latest project yesterday, have a look at full code below \r\n\r\nLet say when we upload a file on s3 it returns ObjectKey of uploaded file, here I created a class for same and named as FileKey.\r\n\r\n \r\n\r\n    package com.myprojectName.model.key;\r\n    \r\n    import java.time.Instant;\r\n    \r\n    import javax.persistence.Entity;\r\n    \r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    public class FileKey {\r\n    \r\n    \tprivate String fileObjectKey;\r\n    \t\r\n    \tprivate String fileName;\r\n    \t\r\n    \tprivate int fileSize;\r\n    \t\r\n    \tprivate String fileType;\r\n    \t\r\n    }\r\n\r\nThe return values of presignedUrl I stored in DownloadDetailsDTO\r\n\r\n \r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.net.URL;\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Builder\r\n    public class FileDownloadDetailsDTO {\r\n    \r\n        private String name;\r\n        private Long size;\r\n        private String contentType;\r\n        private URL preSignedDownloadUrl;\r\n    \r\n        public FileDownloadDetailsDTO(PreSignedUrlAndMetadata objectMetadata) {\r\n            this.name = objectMetadata.getName();\r\n            this.size = objectMetadata.getSize();\r\n            this.contentType = objectMetadata.getContentType();\r\n            this.preSignedDownloadUrl = objectMetadata.getUrl();\r\n        }\r\n    \r\n    }\r\n  \r\nPreSignedUrlAndMetaData contains Url created on s3 bucket, If not sure look at below code \r\n\r\n    public class PreSignedUrlAndMetadata {\r\n\r\n    private final URL url;\r\n\r\n    private final String name;\r\n\r\n    private final String contentType;\r\n\r\n    private final Long size;\r\n\r\n    }\r\n\r\nThe below method will take each file of s3 bucket and store to zip file as zip entry and return a presigned URL of zip file (**No need to store in local temp**)\r\n\r\n   \r\n\r\n     public FileDownloadDetailsDTO getDownloadFilesInZipDetails(String zipFileName, List&lt;FileKey&gt; files) {\r\n    \r\n            PreSignedUrlAndMetadata preSignedUrlAndMetadata;\r\n            File zipFile = null;\r\n            try {\r\n                zipFile = File.createTempFile(zipFileName, &quot;file&quot;);\r\n    \r\n                try (FileOutputStream fos = new FileOutputStream(zipFile); ZipOutputStream zos = new ZipOutputStream(fos)) {\r\n    \r\n                    for (FileKey file : files) {\r\n                        String name = null;\r\n                        if (ObjectUtils.isNotEmpty(file.getFileName())) {\r\n                            name = file.getFileName();\r\n                        }\r\n                            ZipEntry entry = new ZipEntry(name);\r\n    \r\n                        try (InputStream inputStream = getInputStreamForFileKey(file.getFileObjectKey())) {\r\n                            zos.putNextEntry(entry);\r\n                            IOUtils.copy(inputStream, zos);\r\n                            zos.closeEntry();\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                try (FileInputStream fis = new FileInputStream(zipFile)) {\r\n                    TempFileObjectKey fileObjectKey =uploadTemp(fis, zipFile.length());\r\n                    preSignedUrlAndMetadata = new PreSignedUrlAndMetadata(url, metadata.getUserMetaDataOf(USER_METADATA_NAME), contentType, metadata.getContentLength());\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                throw new ApplicationException(&quot;Error while creating zip file for &quot; + archiveRequestDTO.getArchiveName(), e, ApplicationErrorCode.INTERNAL_SERVER_ERROR);\r\n            } finally {\r\n                FileUtils.deleteQuietly(zipFile);\r\n            }\r\n    \r\n            return FileDownloadDetailsDTO.builder().name(archiveRequestDTO.getArchiveName() + &quot;.zip&quot;)\r\n                    .size(preSignedUrlAndMetadata.getSize()).preSignedDownloadUrl(preSignedUrlAndMetadata.getUrl()).build();\r\n    \r\n        }\r\n\r\n     public InputStream getInputStreamForFileKey(String key) {\r\n        TempFileObjectKey tempFileObjectKey = new TempFileObjectKey(getActualPrefix(key));\r\n        return storageService.getInputStream(tempFileObjectKey);\r\n    }\r\n\r\n\r\n    String getActualPrefix(String prefix){\r\n        return prefix.replaceAll(&quot;_&quot;,&quot;/&quot;);\r\n    }\r\n\r\n    public TempFileObjectKey uploadTemp(InputStream inputStream, Long length) {\r\n        TempFileObjectKey tempFileObjectKey = s3StorageManager.buildTempFileFullKey();\r\n        ObjectMetadata objectMetadata = new ObjectMetadata();\r\n        if (length != null) {\r\n            objectMetadata.setContentLength(length);\r\n        }\r\n        Upload upload = com.amazonaws.services.s3.transfer.TransferManager.upload(getBucketName(abstractObjectKey), abstractObjectKey.getObjectKey(), inputStream, objectMetadata);\r\n        try {\r\n            upload.waitForCompletion();\r\n        } catch (InterruptedException e) {\r\n            throw new ApplicationException(e.getMessage(), e, ApplicationErrorCode.INTERNAL_SERVER_ERROR);\r\n        }\r\n        return tempFileObjectKey;\r\n    }\r\n    \r\nI hope this will help you folks.\r\nYou are open to ask me if still having any doubt.\r\nThanks, ","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>I am very late to answer your question\nI did it for my latest project yesterday, have a look at full code below</p>\n<p>Let say when we upload a file on s3 it returns ObjectKey of uploaded file, here I created a class for same and named as FileKey.</p>\n<pre><code>package com.myprojectName.model.key;\n\nimport java.time.Instant;\n\nimport javax.persistence.Entity;\n\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Entity\n@NoArgsConstructor\npublic class FileKey {\n\n    private String fileObjectKey;\n    \n    private String fileName;\n    \n    private int fileSize;\n    \n    private String fileType;\n    \n}\n</code></pre>\n<p>The return values of presignedUrl I stored in DownloadDetailsDTO</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\n\nimport java.net.URL;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Builder\npublic class FileDownloadDetailsDTO {\n\n    private String name;\n    private Long size;\n    private String contentType;\n    private URL preSignedDownloadUrl;\n\n    public FileDownloadDetailsDTO(PreSignedUrlAndMetadata objectMetadata) {\n        this.name = objectMetadata.getName();\n        this.size = objectMetadata.getSize();\n        this.contentType = objectMetadata.getContentType();\n        this.preSignedDownloadUrl = objectMetadata.getUrl();\n    }\n\n}\n</code></pre>\n<p>PreSignedUrlAndMetaData contains Url created on s3 bucket, If not sure look at below code</p>\n<pre><code>public class PreSignedUrlAndMetadata {\n\nprivate final URL url;\n\nprivate final String name;\n\nprivate final String contentType;\n\nprivate final Long size;\n\n}\n</code></pre>\n<p>The below method will take each file of s3 bucket and store to zip file as zip entry and return a presigned URL of zip file (<strong>No need to store in local temp</strong>)</p>\n<pre><code> public FileDownloadDetailsDTO getDownloadFilesInZipDetails(String zipFileName, List&lt;FileKey&gt; files) {\n\n        PreSignedUrlAndMetadata preSignedUrlAndMetadata;\n        File zipFile = null;\n        try {\n            zipFile = File.createTempFile(zipFileName, &quot;file&quot;);\n\n            try (FileOutputStream fos = new FileOutputStream(zipFile); ZipOutputStream zos = new ZipOutputStream(fos)) {\n\n                for (FileKey file : files) {\n                    String name = null;\n                    if (ObjectUtils.isNotEmpty(file.getFileName())) {\n                        name = file.getFileName();\n                    }\n                        ZipEntry entry = new ZipEntry(name);\n\n                    try (InputStream inputStream = getInputStreamForFileKey(file.getFileObjectKey())) {\n                        zos.putNextEntry(entry);\n                        IOUtils.copy(inputStream, zos);\n                        zos.closeEntry();\n                    }\n                }\n            }\n\n            try (FileInputStream fis = new FileInputStream(zipFile)) {\n                TempFileObjectKey fileObjectKey =uploadTemp(fis, zipFile.length());\n                preSignedUrlAndMetadata = new PreSignedUrlAndMetadata(url, metadata.getUserMetaDataOf(USER_METADATA_NAME), contentType, metadata.getContentLength());\n            }\n\n        } catch (Exception e) {\n            throw new ApplicationException(&quot;Error while creating zip file for &quot; + archiveRequestDTO.getArchiveName(), e, ApplicationErrorCode.INTERNAL_SERVER_ERROR);\n        } finally {\n            FileUtils.deleteQuietly(zipFile);\n        }\n\n        return FileDownloadDetailsDTO.builder().name(archiveRequestDTO.getArchiveName() + &quot;.zip&quot;)\n                .size(preSignedUrlAndMetadata.getSize()).preSignedDownloadUrl(preSignedUrlAndMetadata.getUrl()).build();\n\n    }\n\n public InputStream getInputStreamForFileKey(String key) {\n    TempFileObjectKey tempFileObjectKey = new TempFileObjectKey(getActualPrefix(key));\n    return storageService.getInputStream(tempFileObjectKey);\n}\n\n\nString getActualPrefix(String prefix){\n    return prefix.replaceAll(&quot;_&quot;,&quot;/&quot;);\n}\n\npublic TempFileObjectKey uploadTemp(InputStream inputStream, Long length) {\n    TempFileObjectKey tempFileObjectKey = s3StorageManager.buildTempFileFullKey();\n    ObjectMetadata objectMetadata = new ObjectMetadata();\n    if (length != null) {\n        objectMetadata.setContentLength(length);\n    }\n    Upload upload = com.amazonaws.services.s3.transfer.TransferManager.upload(getBucketName(abstractObjectKey), abstractObjectKey.getObjectKey(), inputStream, objectMetadata);\n    try {\n        upload.waitForCompletion();\n    } catch (InterruptedException e) {\n        throw new ApplicationException(e.getMessage(), e, ApplicationErrorCode.INTERNAL_SERVER_ERROR);\n    }\n    return tempFileObjectKey;\n}\n</code></pre>\n<p>I hope this will help you folks.\nYou are open to ask me if still having any doubt.\nThanks,</p>\n"},{"tags":[],"owner":{"account_id":11044018,"reputation":1,"user_id":8110897,"display_name":"kang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677595704,"creation_date":1677595704,"answer_id":75593607,"question_id":55204181,"body_markdown":"I&#39;ve created a GitHub repository with my implementation that you can check out here:\r\n https://github.com/yufeikang/serverless-zip-s3\r\nThe repository includes a Lambda function written in Node.js that you can use to zip your S3 directory, as well as instructions on how to deploy and use the function.","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>I've created a GitHub repository with my implementation that you can check out here:\n<a href=\"https://github.com/yufeikang/serverless-zip-s3\" rel=\"nofollow noreferrer\">https://github.com/yufeikang/serverless-zip-s3</a>\nThe repository includes a Lambda function written in Node.js that you can use to zip your S3 directory, as well as instructions on how to deploy and use the function.</p>\n"}],"owner":{"account_id":1567301,"reputation":1653,"user_id":1455802,"accept_rate":18,"display_name":"pankaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10464,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1677595704,"creation_date":1552801164,"question_id":55204181,"body_markdown":"I have a requirement to download photos (not in same directory) from S3, ZIP them and again upload to S3 using AWS S3 Java SDK. This zip file size can go in GBs. Currently I am using AWS Lambda which has a limitation of temporary storage up to 500 MB. So I don&#39;t want to save ZIP file on disk instead I want to stream ZIP file (which is being created dynamically using downloaded photos from S3) directly to S3. I need this using AWS S3 Java SDK.","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>I have a requirement to download photos (not in same directory) from S3, ZIP them and again upload to S3 using AWS S3 Java SDK. This zip file size can go in GBs. Currently I am using AWS Lambda which has a limitation of temporary storage up to 500 MB. So I don't want to save ZIP file on disk instead I want to stream ZIP file (which is being created dynamically using downloaded photos from S3) directly to S3. I need this using AWS S3 Java SDK.</p>\n"},{"tags":["java","spring-boot","exception","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7154253,"reputation":11,"user_id":5467275,"display_name":"huang kangda"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677581807,"creation_date":1677581807,"answer_id":75591067,"question_id":75590772,"body_markdown":"        \r\nyou can try it.\r\n\r\n    @ExceptionHandler(AuthenticationException.class)\r\n    public ResponseEntity&lt;Object&gt; handleBadCredentialsException(AuthenticationException exception) {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), exception.getMessage());\r\n        return ResponseEntity.badRequest().body(errorResponse);\r\n    }","title":"Client gets the wrong exception message","body":"<p>you can try it.</p>\n<pre><code>@ExceptionHandler(AuthenticationException.class)\npublic ResponseEntity&lt;Object&gt; handleBadCredentialsException(AuthenticationException exception) {\n    ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), exception.getMessage());\n    return ResponseEntity.badRequest().body(errorResponse);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677595630,"creation_date":1677595630,"answer_id":75593591,"question_id":75590772,"body_markdown":"This is the correct behavior because the class CustomAuthenticationException extends AuthenticationException. And the exception handler is only defined fot the super class AuthenticationException.\r\n\r\nPlease add another handler for your custom exception. Similar to this:\r\n\r\n    @ExceptionHandler(CustomAuthenticationException.class)\r\n    public ResponseEntity&lt;Object&gt; handleBadCredentialsException(Exception exception) {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), exception.getMessage());\r\n        return ResponseEntity.badRequest().body(errorResponse);\r\n    }","title":"Client gets the wrong exception message","body":"<p>This is the correct behavior because the class CustomAuthenticationException extends AuthenticationException. And the exception handler is only defined fot the super class AuthenticationException.</p>\n<p>Please add another handler for your custom exception. Similar to this:</p>\n<pre><code>@ExceptionHandler(CustomAuthenticationException.class)\npublic ResponseEntity&lt;Object&gt; handleBadCredentialsException(Exception exception) {\n    ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), exception.getMessage());\n    return ResponseEntity.badRequest().body(errorResponse);\n}\n</code></pre>\n"}],"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75593591,"answer_count":2,"score":-2,"last_activity_date":1677595630,"creation_date":1677580185,"question_id":75590772,"body_markdown":"I would like to get an exception with the message &quot;Password is not correct&quot;.\r\n\r\nThis is what I have tried:\r\n\r\n```java\r\n@PostMapping(&quot;/login&quot;)\r\npublic ResponseEntity&lt;Object&gt; login(@RequestBody CustomUserDetails user) {\r\n    UserDetails userDetails = userDetailsService.loadUserByUsername(user.getUsername());\r\n    if (userDetails == null || !passwordEncoder.matches(user.getPassword(), userDetails.getPassword())) {\r\n        throw new CustomAuthenticationException(&quot;Password is not correct&quot;);\r\n    }\r\n\r\n    Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword()));\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    String token = jwt.generateToken(user);\r\n\r\n    return ResponseEntity.ok(token);\r\n}\r\n```\r\n\r\n```java\r\npublic class CustomAuthenticationException extends AuthenticationException {\r\n    public CustomAuthenticationException(String msg) {\r\n        super(msg);\r\n    }\r\n}\r\n```\r\n```java\r\n@RestControllerAdvice\r\npublic class AuthControllerAdvice extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(PSQLException.class)\r\n    public ResponseEntity&lt;ErrorResponse&gt; handlePSQLException() {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.INTERNAL_SERVER_ERROR, LocalDateTime.now(), &quot;User already exists&quot;);\r\n        return ResponseEntity.internalServerError().body(errorResponse);\r\n    }\r\n\r\n    @ExceptionHandler(AuthenticationException.class)\r\n    public ResponseEntity&lt;Object&gt; handleBadCredentialsException() {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), &quot;Invalid username or password&quot;);\r\n        return ResponseEntity.badRequest().body(errorResponse);\r\n    }\r\n}\r\n```\r\n\r\nIf the password is not correct, this is the response that the client receives:\r\n```json\r\n{\r\n    &quot;status&quot;: &quot;BAD_REQUEST&quot;,\r\n    &quot;timestamp&quot;: &quot;28.02.2023, 11:06:14&quot;,\r\n    &quot;message&quot;: &quot;Invalid username or password&quot;\r\n}\r\n```\r\n\r\nThis is the wrong message. What I expect is `throw new CustomAuthenticationException(&quot;Password is not correct&quot;);`. When I run the debug mode, that line will get executed but it is not returning anything.","title":"Client gets the wrong exception message","body":"<p>I would like to get an exception with the message &quot;Password is not correct&quot;.</p>\n<p>This is what I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;Object&gt; login(@RequestBody CustomUserDetails user) {\n    UserDetails userDetails = userDetailsService.loadUserByUsername(user.getUsername());\n    if (userDetails == null || !passwordEncoder.matches(user.getPassword(), userDetails.getPassword())) {\n        throw new CustomAuthenticationException(&quot;Password is not correct&quot;);\n    }\n\n    Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword()));\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    String token = jwt.generateToken(user);\n\n    return ResponseEntity.ok(token);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAuthenticationException extends AuthenticationException {\n    public CustomAuthenticationException(String msg) {\n        super(msg);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class AuthControllerAdvice extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(PSQLException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handlePSQLException() {\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.INTERNAL_SERVER_ERROR, LocalDateTime.now(), &quot;User already exists&quot;);\n        return ResponseEntity.internalServerError().body(errorResponse);\n    }\n\n    @ExceptionHandler(AuthenticationException.class)\n    public ResponseEntity&lt;Object&gt; handleBadCredentialsException() {\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), &quot;Invalid username or password&quot;);\n        return ResponseEntity.badRequest().body(errorResponse);\n    }\n}\n</code></pre>\n<p>If the password is not correct, this is the response that the client receives:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: &quot;BAD_REQUEST&quot;,\n    &quot;timestamp&quot;: &quot;28.02.2023, 11:06:14&quot;,\n    &quot;message&quot;: &quot;Invalid username or password&quot;\n}\n</code></pre>\n<p>This is the wrong message. What I expect is <code>throw new CustomAuthenticationException(&quot;Password is not correct&quot;);</code>. When I run the debug mode, that line will get executed but it is not returning anything.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"score":0,"creation_date":1677542359,"post_id":75586569,"comment_id":133354997,"body_markdown":"I&#39;d suggest adding debug points so you can see exactly where the data is being reset and what data is being sent to and returned from your other pages. I&#39;d also add debug points to where you are displaying the data to your textboxes, so you also know what data is being pulled and where it&#39;s being pulled from for that display, wit ha focus on the &quot;onSensorChanged&quot; method to see the value of &quot;event&quot;.","body":"I&#39;d suggest adding debug points so you can see exactly where the data is being reset and what data is being sent to and returned from your other pages. I&#39;d also add debug points to where you are displaying the data to your textboxes, so you also know what data is being pulled and where it&#39;s being pulled from for that display, wit ha focus on the &quot;onSensorChanged&quot; method to see the value of &quot;event&quot;."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1677544580,"post_id":75586569,"comment_id":133355351,"body_markdown":"The TYPE_STEP_COUNTER sensor only resets on a reboot - so next time the sensor fires an event you are back to its value no matter what you stored in your DB.  From API: &quot;and is reset to zero only on a system reboot&quot;.  To compensate you&#39;d need to save the step value at the time of reset and then offset the &quot;real&quot; step value with the saved values to achieve &quot;values since last reset button press&quot;.","body":"The TYPE_STEP_COUNTER sensor only resets on a reboot - so next time the sensor fires an event you are back to its value no matter what you stored in your DB.  From API: &quot;and is reset to zero only on a system reboot&quot;.  To compensate you&#39;d need to save the step value at the time of reset and then offset the &quot;real&quot; step value with the saved values to achieve &quot;values since last reset button press&quot;."},{"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"score":0,"creation_date":1677545069,"post_id":75586569,"comment_id":133355422,"body_markdown":"@5f3bde39-70a2-4df1-afa2-47f61b isn&#39;t there another type of sensor which I could use instead.","body":"@5f3bde39-70a2-4df1-afa2-47f61b isn&#39;t there another type of sensor which I could use instead."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1677545205,"post_id":75586569,"comment_id":133355442,"body_markdown":"Well you could use TYPE_STEP_DETECTOR and count the steps in your app.  But compensating for your own reset with the saved value (or a negative offset) would be straight forward.","body":"Well you could use TYPE_STEP_DETECTOR and count the steps in your app.  But compensating for your own reset with the saved value (or a negative offset) would be straight forward."},{"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"score":0,"creation_date":1677545294,"post_id":75586569,"comment_id":133355454,"body_markdown":"I am already using TYPE_STEP_DETECTOR @5f3bde39-70a2-4df1-afa2-47f61b","body":"I am already using TYPE_STEP_DETECTOR @5f3bde39-70a2-4df1-afa2-47f61b"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1677545364,"post_id":75586569,"comment_id":133355465,"body_markdown":"Your posted code is using TYPE_STEP_COUNTER.","body":"Your posted code is using TYPE_STEP_COUNTER."}],"answers":[{"tags":[],"owner":{"account_id":18895937,"reputation":54,"user_id":13785124,"display_name":"Djoxy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677543060,"creation_date":1677543060,"answer_id":75586752,"question_id":75586569,"body_markdown":"when you change the page you are triggering the &quot;onResume()&quot; followed by &quot;onSensorChanged&quot; and this last will write the new data in the  DB, you  can try commenting &quot;onResume()&quot; and see if the values has changed.","title":"Reset button working and the counters are set to 0 but when I change the page or move the phone the value returns the same as before","body":"<p>when you change the page you are triggering the &quot;onResume()&quot; followed by &quot;onSensorChanged&quot; and this last will write the new data in the  DB, you  can try commenting &quot;onResume()&quot; and see if the values has changed.</p>\n"},{"tags":[],"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677595622,"creation_date":1677595622,"answer_id":75593587,"question_id":75586569,"body_markdown":"Changed sensor to Step Detector now it works fine.","title":"Reset button working and the counters are set to 0 but when I change the page or move the phone the value returns the same as before","body":"<p>Changed sensor to Step Detector now it works fine.</p>\n"}],"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677595622,"creation_date":1677541010,"question_id":75586569,"body_markdown":"I am developing a step counter app in Android Studio in Java, the counters are all working fine, I have added a button which would reset all the counters to 0, but when I click the reset button the counters are set to 0 but when I change the page or move the phone the value returns the same as before.\r\n\r\n``` package com.example.walktofit;\r\n\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.hardware.SensorManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.navigation.NavigationBarView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements SensorEventListener {\r\n\r\n    FirebaseAuth auth;\r\n    TextView textViewSteps, textViewCalories, textViewMiles;\r\n    FirebaseUser user;\r\n    SensorManager sensorManager;\r\n    FirebaseFirestore db;\r\n    Button resetBtn;\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n        db = FirebaseFirestore.getInstance();\r\n\r\n        textViewSteps = findViewById(R.id.step_counter);\r\n        textViewCalories = findViewById(R.id.calories);\r\n        textViewMiles = findViewById(R.id.miles);\r\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n        resetBtn = findViewById(R.id.resetBtn);\r\n\r\n        user = auth.getCurrentUser();\r\n        if (user == null) {\r\n            Intent intent = new Intent(getApplicationContext(), Login.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (checkSelfPermission(Manifest.permission.BODY_SENSORS) != PackageManager.PERMISSION_GRANTED\r\n                    || checkSelfPermission(Manifest.permission.ACTIVITY_RECOGNITION) != PackageManager.PERMISSION_GRANTED\r\n                    || checkSelfPermission(Manifest.permission.READ_CALENDAR) != PackageManager.PERMISSION_GRANTED) {\r\n                requestPermissions(new String[]{Manifest.permission.BODY_SENSORS, Manifest.permission.ACTIVITY_RECOGNITION, Manifest.permission.READ_CALENDAR}, 1);\r\n            }\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottom_nav);\r\n\r\n        bottomNavigationView.setSelectedItemId(R.id.home);\r\n\r\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n                switch (menuItem.getItemId()) {\r\n                    case R.id.home:\r\n                        return true;\r\n                    case R.id.health:\r\n                        startActivity(new Intent(getApplicationContext()\r\n                                , Health.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n                    case R.id.rewards:\r\n                        startActivity(new Intent(getApplicationContext()\r\n                                , Reward.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n                    case R.id.profile:\r\n                        startActivity(new Intent(getApplicationContext()\r\n                                , Profile.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        resetBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                reset();\r\n            }\r\n        });\r\n\r\n        \r\n        DocumentReference countersDocRef = db.collection(&quot;CounterDetails&quot;).document(user.getUid());\r\n        countersDocRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                if (documentSnapshot.exists()) {\r\n                    int savedSteps = documentSnapshot.getLong(&quot;steps&quot;).intValue();\r\n                    double savedCalories = documentSnapshot.getDouble(&quot;calories&quot;);\r\n                    double savedMiles = documentSnapshot.getDouble(&quot;miles&quot;);\r\n                    textViewSteps.setText(String.valueOf(savedSteps));\r\n                    textViewCalories.setText(String.format(&quot;%.2f Kcal&quot;, savedCalories));\r\n                    textViewMiles.setText(String.format(&quot;%.2f Miles&quot;, savedMiles));\r\n                } else {\r\n                  \r\n                    reset();\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Error retrieving saved data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 1) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED\r\n                    &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Permissions granted!&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Permissions denied!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n        if (event.sensor.getType() == Sensor.TYPE_STEP_COUNTER) {\r\n            int newSteps = (int) event.values[0];\r\n            double calories = newSteps * 0.04;\r\n            double miles = newSteps * 0.0005;\r\n            textViewSteps.setText(String.valueOf(newSteps));\r\n            textViewCalories.setText(String.format(&quot;%.2f Kcal&quot;, calories));\r\n            textViewMiles.setText(String.format(&quot;%.2f Miles&quot;, miles));\r\n\r\n            db = FirebaseFirestore.getInstance();\r\n            DocumentReference countersDocRef = db.collection(&quot;CounterDetails&quot;).document(user.getUid());\r\n\r\n            Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n            data.put(&quot;steps&quot;, newSteps);\r\n            data.put(&quot;calories&quot;, calories);\r\n            data.put(&quot;miles&quot;, miles);\r\n\r\n            countersDocRef.set(data)\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Error Saving Data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Sensor countSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n        if (countSensor != null) {\r\n            sensorManager.registerListener(this, countSensor, SensorManager.SENSOR_DELAY_UI);\r\n        } else {\r\n            Toast.makeText(this, &quot;Sensor not found&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        db = FirebaseFirestore.getInstance();\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        sensorManager.unregisterListener(this);\r\n    }\r\n\r\n    public void reset() {\r\n        db.collection(&quot;CounterDetails&quot;).document(user.getUid())\r\n                .update(&quot;steps&quot;, 0, &quot;calories&quot;, 0, &quot;miles&quot;, 0)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(getApplicationContext(), &quot;Counter reset successful&quot;, Toast.LENGTH_SHORT).show();\r\n                        \r\n                        textViewSteps.setText(&quot;0&quot;);\r\n                        textViewCalories.setText(&quot;0 Kcal&quot;);\r\n                        textViewMiles.setText(&quot;0 Miles&quot;);\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(getApplicationContext(), &quot;Error resetting counter: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n}\r\n","title":"Reset button working and the counters are set to 0 but when I change the page or move the phone the value returns the same as before","body":"<p>I am developing a step counter app in Android Studio in Java, the counters are all working fine, I have added a button which would reset all the counters to 0, but when I click the reset button the counters are set to 0 but when I change the page or move the phone the value returns the same as before.</p>\n<pre><code>\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.navigation.NavigationBarView;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\n\npublic class MainActivity extends AppCompatActivity implements SensorEventListener {\n\n    FirebaseAuth auth;\n    TextView textViewSteps, textViewCalories, textViewMiles;\n    FirebaseUser user;\n    SensorManager sensorManager;\n    FirebaseFirestore db;\n    Button resetBtn;\n\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        auth = FirebaseAuth.getInstance();\n        db = FirebaseFirestore.getInstance();\n\n        textViewSteps = findViewById(R.id.step_counter);\n        textViewCalories = findViewById(R.id.calories);\n        textViewMiles = findViewById(R.id.miles);\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n        resetBtn = findViewById(R.id.resetBtn);\n\n        user = auth.getCurrentUser();\n        if (user == null) {\n            Intent intent = new Intent(getApplicationContext(), Login.class);\n            startActivity(intent);\n            finish();\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (checkSelfPermission(Manifest.permission.BODY_SENSORS) != PackageManager.PERMISSION_GRANTED\n                    || checkSelfPermission(Manifest.permission.ACTIVITY_RECOGNITION) != PackageManager.PERMISSION_GRANTED\n                    || checkSelfPermission(Manifest.permission.READ_CALENDAR) != PackageManager.PERMISSION_GRANTED) {\n                requestPermissions(new String[]{Manifest.permission.BODY_SENSORS, Manifest.permission.ACTIVITY_RECOGNITION, Manifest.permission.READ_CALENDAR}, 1);\n            }\n        }\n\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottom_nav);\n\n        bottomNavigationView.setSelectedItemId(R.id.home);\n\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n                switch (menuItem.getItemId()) {\n                    case R.id.home:\n                        return true;\n                    case R.id.health:\n                        startActivity(new Intent(getApplicationContext()\n                                , Health.class));\n                        overridePendingTransition(0, 0);\n                        return true;\n                    case R.id.rewards:\n                        startActivity(new Intent(getApplicationContext()\n                                , Reward.class));\n                        overridePendingTransition(0, 0);\n                        return true;\n                    case R.id.profile:\n                        startActivity(new Intent(getApplicationContext()\n                                , Profile.class));\n                        overridePendingTransition(0, 0);\n                        return true;\n\n                }\n                return false;\n            }\n        });\n\n        resetBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                reset();\n            }\n        });\n\n        \n        DocumentReference countersDocRef = db.collection(&quot;CounterDetails&quot;).document(user.getUid());\n        countersDocRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\n                if (documentSnapshot.exists()) {\n                    int savedSteps = documentSnapshot.getLong(&quot;steps&quot;).intValue();\n                    double savedCalories = documentSnapshot.getDouble(&quot;calories&quot;);\n                    double savedMiles = documentSnapshot.getDouble(&quot;miles&quot;);\n                    textViewSteps.setText(String.valueOf(savedSteps));\n                    textViewCalories.setText(String.format(&quot;%.2f Kcal&quot;, savedCalories));\n                    textViewMiles.setText(String.format(&quot;%.2f Miles&quot;, savedMiles));\n                } else {\n                  \n                    reset();\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(getApplicationContext(), &quot;Error retrieving saved data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n\n\n\n\n\n\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == 1) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED\n                    &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;Permissions granted!&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(this, &quot;Permissions denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n        if (event.sensor.getType() == Sensor.TYPE_STEP_COUNTER) {\n            int newSteps = (int) event.values[0];\n            double calories = newSteps * 0.04;\n            double miles = newSteps * 0.0005;\n            textViewSteps.setText(String.valueOf(newSteps));\n            textViewCalories.setText(String.format(&quot;%.2f Kcal&quot;, calories));\n            textViewMiles.setText(String.format(&quot;%.2f Miles&quot;, miles));\n\n            db = FirebaseFirestore.getInstance();\n            DocumentReference countersDocRef = db.collection(&quot;CounterDetails&quot;).document(user.getUid());\n\n            Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\n            data.put(&quot;steps&quot;, newSteps);\n            data.put(&quot;calories&quot;, calories);\n            data.put(&quot;miles&quot;, miles);\n\n            countersDocRef.set(data)\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(getApplicationContext(), &quot;Error Saving Data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    });\n        }\n    }\n\n\n\n\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Sensor countSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n        if (countSensor != null) {\n            sensorManager.registerListener(this, countSensor, SensorManager.SENSOR_DELAY_UI);\n        } else {\n            Toast.makeText(this, &quot;Sensor not found&quot;, Toast.LENGTH_SHORT).show();\n        }\n        db = FirebaseFirestore.getInstance();\n        user = FirebaseAuth.getInstance().getCurrentUser();\n    }\n\n\n\n\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        sensorManager.unregisterListener(this);\n    }\n\n    public void reset() {\n        db.collection(&quot;CounterDetails&quot;).document(user.getUid())\n                .update(&quot;steps&quot;, 0, &quot;calories&quot;, 0, &quot;miles&quot;, 0)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Toast.makeText(getApplicationContext(), &quot;Counter reset successful&quot;, Toast.LENGTH_SHORT).show();\n                        \n                        textViewSteps.setText(&quot;0&quot;);\n                        textViewCalories.setText(&quot;0 Kcal&quot;);\n                        textViewMiles.setText(&quot;0 Miles&quot;);\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(getApplicationContext(), &quot;Error resetting counter: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","apache-poi","openxml","word-2003"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1677590535,"post_id":75592166,"comment_id":133364726,"body_markdown":"You mean the old binary `*.doc` format (Word 97-2003) right? I ask because Word 2007 uses Office Open XML (`*.docx`)  already. There should be solutions for Office Open XML (`*.docx`) using Apache POI. But for the old binary `*.doc` format I doubt that.","body":"You mean the old binary <code>*.doc</code> format (Word 97-2003) right? I ask because Word 2007 uses Office Open XML (<code>*.docx</code>)  already. There should be solutions for Office Open XML (<code>*.docx</code>) using Apache POI. But for the old binary <code>*.doc</code> format I doubt that."},{"owner":{"account_id":13622749,"reputation":583,"user_id":9826710,"display_name":"Abid"},"score":0,"creation_date":1677591678,"post_id":75592166,"comment_id":133365142,"body_markdown":"Yes I meant the old binary format. But if there is a solution for docx it may also be sufficient.","body":"Yes I meant the old binary format. But if there is a solution for docx it may also be sufficient."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1677592308,"post_id":75592166,"comment_id":133365384,"body_markdown":"https://stackoverflow.com/questions/57589810/how-to-create-checkbox-and-input-text-fields-in-docx-document/57594794#57594794 and https://stackoverflow.com/questions/56409262/problem-with-processing-word-document-java/56412311#56412311","body":"<a href=\"https://stackoverflow.com/questions/57589810/how-to-create-checkbox-and-input-text-fields-in-docx-document/57594794#57594794\" title=\"how to create checkbox and input text fields in docx document\">stackoverflow.com/questions/57589810/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/56409262/problem-with-processing-word-document-java/56412311#56412311\" title=\"problem with processing word document java\">stackoverflow.com/questions/56409262/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13622749,"reputation":583,"user_id":9826710,"display_name":"Abid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677594752,"creation_date":1677594752,"answer_id":75593437,"question_id":75592166,"body_markdown":"As stated in the comments it&#39;s probably not possible with the old .dot format.\r\n\r\nBut there are existing code samples which handle form fields with the newer xml format:\r\n1. https://stackoverflow.com/questions/57589810/how-to-create-checkbox-and-input-text-fields-in-docx-document/57594794#57594794\r\n2. https://stackoverflow.com/questions/56409262/problem-with-processing-word-document-java/56412311#56412311","title":"Fill out form fields in a word 97-2007 document using POI","body":"<p>As stated in the comments it's probably not possible with the old .dot format.</p>\n<p>But there are existing code samples which handle form fields with the newer xml format:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/57589810/how-to-create-checkbox-and-input-text-fields-in-docx-document/57594794#57594794\">How to create checkbox and input text fields in docx document?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56409262/problem-with-processing-word-document-java/56412311#56412311\">Problem with processing word document java</a></li>\n</ol>\n"}],"owner":{"account_id":13622749,"reputation":583,"user_id":9826710,"display_name":"Abid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677594801,"creation_date":1677587836,"question_id":75592166,"body_markdown":"I&#39;m struggling how to read and fill out form fields (text, checkboxes) contained in a .dot document using Apache POI.\r\n\r\nSorry that I do not provide any code snippet but I have absolutely no idea how to **read and fill out** the fields.\r\n\r\nIs there any code example available how to do so?","title":"Fill out form fields in a word 97-2007 document using POI","body":"<p>I'm struggling how to read and fill out form fields (text, checkboxes) contained in a .dot document using Apache POI.</p>\n<p>Sorry that I do not provide any code snippet but I have absolutely no idea how to <strong>read and fill out</strong> the fields.</p>\n<p>Is there any code example available how to do so?</p>\n"},{"tags":["java","amazon-web-services","amazon-product-api"],"comments":[{"owner":{"account_id":317525,"reputation":161,"user_id":634257,"display_name":"azarai"},"score":0,"creation_date":1473849750,"post_id":28935395,"comment_id":66294577,"body_markdown":"Did you find a solution for the problem?","body":"Did you find a solution for the problem?"}],"answers":[{"tags":[],"owner":{"account_id":5891397,"reputation":11,"user_id":4637901,"display_name":"Bilawal Sheikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427070798,"creation_date":1427070798,"answer_id":29201621,"question_id":28935395,"body_markdown":"With Amazon&#39;s policy, unfortunately you cannot get more than 10 items per queue.","title":"Amazon: TopSeller return more than top 10","body":"<p>With Amazon's policy, unfortunately you cannot get more than 10 items per queue.</p>\n"},{"tags":[],"owner":{"account_id":6213286,"reputation":1,"user_id":4838933,"display_name":"Tools hC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431709698,"creation_date":1431709698,"answer_id":30265094,"question_id":28935395,"body_markdown":"&quot;The maximum ItemPage number that can be returned is 10&quot;\r\nhttp://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html\r\n\r\nSo if there are enough results, you can get up to 100 items.\r\n\r\nI think that &quot;salesrank&quot; sort parameter is working, but not as expected. Because if you don&#39;t include this parameters, results won&#39;t be ordered at all.","title":"Amazon: TopSeller return more than top 10","body":"<p>\"The maximum ItemPage number that can be returned is 10\"\n<a href=\"http://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html</a></p>\n\n<p>So if there are enough results, you can get up to 100 items.</p>\n\n<p>I think that \"salesrank\" sort parameter is working, but not as expected. Because if you don't include this parameters, results won't be ordered at all.</p>\n"}],"owner":{"account_id":4211138,"reputation":4722,"user_id":3448799,"accept_rate":26,"display_name":"richersoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677594290,"creation_date":1425876251,"question_id":28935395,"body_markdown":"How can we retrieve more than top 10 best seller using [Amazon&#39;s Product Advertising API][1].\r\n\r\nBy digging into their API, I found 2 operations that might needed:\r\n\r\nFirst is [BrowseNodeLookup][2], this can successfully retrieve the top 10 best seller but there is no ItemPage parameter.\r\n\r\nSecond is [ItemSearch][3], this seems have &amp;ItemPage=2 parameter, &amp;ResponseGroup=SalesRank and &amp;Sort=salesrank. But the sort is not working. Below is sample request:\r\n\r\n    &gt; http://webservices.amazon.com/onca/xml?Service=AWSECommerceService\r\n    &gt; &amp;Operation=ItemSearch \r\n    &gt; &amp;SubscriptionId=&lt;subscription_id&gt;\r\n    &gt; &amp;AssociateTag=&lt;associate_tag&gt; \r\n    &gt; &amp;Version=2011-08-01\r\n    &gt; &amp;SearchIndex=Electronics \r\n    &gt; &amp;BrowseNode=2407747011\r\n    &gt; &amp;ItemPage=2\r\n    &gt; &amp;ResponseGroup=SalesRank \r\n    &gt; &amp;Sort=salesrank\r\n    \r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html\r\n  [2]: http://docs.aws.amazon.com/AWSECommerceService/latest/DG/BrowseNodeLookup.html\r\n  [3]: http://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html","title":"Amazon: TopSeller return more than top 10","body":"<p>How can we retrieve more than top 10 best seller using <a href=\"http://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html\" rel=\"nofollow\">Amazon's Product Advertising API</a>.</p>\n\n<p>By digging into their API, I found 2 operations that might needed:</p>\n\n<p>First is <a href=\"http://docs.aws.amazon.com/AWSECommerceService/latest/DG/BrowseNodeLookup.html\" rel=\"nofollow\">BrowseNodeLookup</a>, this can successfully retrieve the top 10 best seller but there is no ItemPage parameter.</p>\n\n<p>Second is <a href=\"http://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html\" rel=\"nofollow\">ItemSearch</a>, this seems have &amp;ItemPage=2 parameter, &amp;ResponseGroup=SalesRank and &amp;Sort=salesrank. But the sort is not working. Below is sample request:</p>\n\n<pre><code>&gt; http://webservices.amazon.com/onca/xml?Service=AWSECommerceService\n&gt; &amp;Operation=ItemSearch \n&gt; &amp;SubscriptionId=&lt;subscription_id&gt;\n&gt; &amp;AssociateTag=&lt;associate_tag&gt; \n&gt; &amp;Version=2011-08-01\n&gt; &amp;SearchIndex=Electronics \n&gt; &amp;BrowseNode=2407747011\n&gt; &amp;ItemPage=2\n&gt; &amp;ResponseGroup=SalesRank \n&gt; &amp;Sort=salesrank\n</code></pre>\n"},{"tags":["javascript","java","frontend","client","vaadin"],"comments":[{"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"score":0,"creation_date":1689000923,"post_id":75592694,"comment_id":135147637,"body_markdown":"Same problem here in Vaadin 24.1. Have you found a solution for this?","body":"Same problem here in Vaadin 24.1. Have you found a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677594253,"creation_date":1677593355,"answer_id":75593169,"question_id":75592694,"body_markdown":"As stated in the [documentation][1] and in the `executeJs` Javadoc, Component and Element parameters are sent as `null` if they are not attached when the method is invoked.\r\n\r\nMove the invocation on the `onAttach` method or in an AttachListener\r\n\r\nEdit: sorry, I missed the button click listener. But then I tried your example locally and it works as expected \r\n\r\n  [1]: https://vaadin.com/docs/latest/advanced/browser-access/#executing-javascript-in-the-browser","title":"Vaadin - Calling Java from Javascript doesnt work anymore with $server","body":"<p>As stated in the <a href=\"https://vaadin.com/docs/latest/advanced/browser-access/#executing-javascript-in-the-browser\" rel=\"nofollow noreferrer\">documentation</a> and in the <code>executeJs</code> Javadoc, Component and Element parameters are sent as <code>null</code> if they are not attached when the method is invoked.</p>\n<p>Move the invocation on the <code>onAttach</code> method or in an AttachListener</p>\n<p>Edit: sorry, I missed the button click listener. But then I tried your example locally and it works as expected</p>\n"}],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677594253,"creation_date":1677590638,"question_id":75592694,"body_markdown":"I have a Java class using Vaadin to call Javascript from Java:\r\n\r\n    @StyleSheet(&quot;https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/css/shepherd.css&quot;)\r\n    @JavaScript(&quot;https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/js/shepherd.min.js&quot;)\r\n    @JsModule(&quot;./scripts/shepherd.js&quot;)\r\n    public class MainView extends VerticalLayout {\r\n       public MainView() {\r\n           Button button = new Button(&quot;Click me&quot;);\r\n           button.addClickListener(c -&gt;\r\n           UI.getCurrent().getPage().executeJs(&quot;window.startTour($0)&quot;, this);\r\n       }\r\n    \r\n       @ClientCallable\r\n       public boolean get() {\r\n          return true;\r\n       }\r\n    }\r\n\r\nIn my shepherd.js Javascript File I&#39;am going to call a method in Java (Annotation @ClientCallable):\r\n\r\n    window.startTour = (element) =&gt; {\r\n        let useModalOverlay = element.$server.get()\r\n    }\r\n\r\nInstead of a Result on Click i just get a error in the console:\r\n\r\n&gt; Cannot read properties of null (reading &#39;$server&#39;)\r\n\r\nI dont know what i did wrong, but im sure that everything is fine. I just dont see the problem.\r\nIf u wonder why im calling Javascript to then call Java from there, thats because im using ShepherdJS to program user Guides in Javascript, therefore i need methods to call in the java part, because ShepherdJS is javascript only -&gt; See also my Questions from yesterday for instance.","title":"Vaadin - Calling Java from Javascript doesnt work anymore with $server","body":"<p>I have a Java class using Vaadin to call Javascript from Java:</p>\n<pre><code>@StyleSheet(&quot;https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/css/shepherd.css&quot;)\n@JavaScript(&quot;https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/js/shepherd.min.js&quot;)\n@JsModule(&quot;./scripts/shepherd.js&quot;)\npublic class MainView extends VerticalLayout {\n   public MainView() {\n       Button button = new Button(&quot;Click me&quot;);\n       button.addClickListener(c -&gt;\n       UI.getCurrent().getPage().executeJs(&quot;window.startTour($0)&quot;, this);\n   }\n\n   @ClientCallable\n   public boolean get() {\n      return true;\n   }\n}\n</code></pre>\n<p>In my shepherd.js Javascript File I'am going to call a method in Java (Annotation @ClientCallable):</p>\n<pre><code>window.startTour = (element) =&gt; {\n    let useModalOverlay = element.$server.get()\n}\n</code></pre>\n<p>Instead of a Result on Click i just get a error in the console:</p>\n<blockquote>\n<p>Cannot read properties of null (reading '$server')</p>\n</blockquote>\n<p>I dont know what i did wrong, but im sure that everything is fine. I just dont see the problem.\nIf u wonder why im calling Javascript to then call Java from there, thats because im using ShepherdJS to program user Guides in Javascript, therefore i need methods to call in the java part, because ShepherdJS is javascript only -&gt; See also my Questions from yesterday for instance.</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368099494,"creation_date":1368099494,"answer_id":16460889,"question_id":16460815,"body_markdown":"You just cannot insert two elements with the same **identifier**. That id **must** be unique, if not, the database cannot identify the object (oh the irony), and that&#39;s why it gives you the exception.\r\n\r\nCreate a new field called `movieId` (or whatever you want to name it) and store the `id` from the xml in that field, but not in the database identifier &quot;`id`&quot;.","title":"JPA EntityExistsException","body":"<p>You just cannot insert two elements with the same <strong>identifier</strong>. That id <strong>must</strong> be unique, if not, the database cannot identify the object (oh the irony), and that's why it gives you the exception.</p>\n\n<p>Create a new field called <code>movieId</code> (or whatever you want to name it) and store the <code>id</code> from the xml in that field, but not in the database identifier \"<code>id</code>\".</p>\n"},{"tags":[],"owner":{"account_id":2669543,"reputation":676,"user_id":2307233,"display_name":"IsNull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368103284,"creation_date":1368103284,"answer_id":16462015,"question_id":16460815,"body_markdown":"Your mapping of your genres seems to have a wrong relation. From your use case, I think it should be a many-to-many relation.\r\n\r\nA valid mapping for your genres should look like:\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = { CascadeType.MERGE, CascadeType.REFRESH, })\r\n    @JoinTable(name = &quot;MovieGenre&quot;, joinColumns = { @JoinColumn(name = &quot;Movie_Id&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;Genre_Id&quot;) })\r\n    public Set&lt;Genre&gt; getGenres() {\r\n         return this.genres;\r\n    }","title":"JPA EntityExistsException","body":"<p>Your mapping of your genres seems to have a wrong relation. From your use case, I think it should be a many-to-many relation.</p>\n\n<p>A valid mapping for your genres should look like:</p>\n\n<pre><code>@ManyToMany(fetch = FetchType.EAGER, cascade = { CascadeType.MERGE, CascadeType.REFRESH, })\n@JoinTable(name = \"MovieGenre\", joinColumns = { @JoinColumn(name = \"Movie_Id\") }, inverseJoinColumns = { @JoinColumn(name = \"Genre_Id\") })\npublic Set&lt;Genre&gt; getGenres() {\n     return this.genres;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1368106380,"creation_date":1368106380,"answer_id":16463061,"question_id":16460815,"body_markdown":"Either you are directly calling persist on your Genre instances, or you are calling persist on movie and the movie-&gt;Genre mapping has cascade persist.  JPA requires providers to throw an exception when persist is called on a detached entity, since persist means you want the provider to insert it, and it is detached because it already exists.  So you will get an exception.  Sounds like your parser is not able to tell that the Genre entities are the same instance, and so is creating multiple instances of the same data.  If this cannot be fixed, you might try using merge instead.  Merge will check first if the entity instance is new or detached.  If it is new, it will insert, while if it is detached, it will retrieve the data and update it in the database.  \r\n\r\nOther options would be to make sure you are not calling persist on detached Genre instances.  Remove the cascade persist settings on relationships, and ensure that you manually call persist or merge on new Genre instances rather than rely on cascade persist settings. ","title":"JPA EntityExistsException","body":"<p>Either you are directly calling persist on your Genre instances, or you are calling persist on movie and the movie->Genre mapping has cascade persist.  JPA requires providers to throw an exception when persist is called on a detached entity, since persist means you want the provider to insert it, and it is detached because it already exists.  So you will get an exception.  Sounds like your parser is not able to tell that the Genre entities are the same instance, and so is creating multiple instances of the same data.  If this cannot be fixed, you might try using merge instead.  Merge will check first if the entity instance is new or detached.  If it is new, it will insert, while if it is detached, it will retrieve the data and update it in the database.  </p>\n\n<p>Other options would be to make sure you are not calling persist on detached Genre instances.  Remove the cascade persist settings on relationships, and ensure that you manually call persist or merge on new Genre instances rather than rely on cascade persist settings. </p>\n"},{"tags":[],"owner":{"account_id":8389289,"reputation":723,"user_id":6298537,"display_name":"yashjain12yj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572512890,"creation_date":1572512890,"answer_id":58639932,"question_id":16460815,"body_markdown":"You just cannot insert two objects with the same identifier(id).\r\nIt throws EntityExistsException,\r\n\r\n&gt; if the entity already exists.\r\n      (If the entity already exists, the &lt;code&gt;EntityExistsException&lt;/code&gt; may be thrown when the persist operation is invoked, or the &lt;code&gt;EntityExistsException&lt;/code&gt; or another &lt;code&gt;PersistenceException&lt;/code&gt; may be thrown at flush or commit time.) \r\n\r\n**Solution**\r\n\r\nYou can create a new field for movieId, which will store the id of the movie from the XML. but this will create unnecessary redundancy of the data. For the Genre, you should create a new table where you will define movie_genre mapping. You can use one to many mapping for this purpose.","title":"JPA EntityExistsException","body":"<p>You just cannot insert two objects with the same identifier(id).\nIt throws EntityExistsException,</p>\n\n<blockquote>\n  <p>if the entity already exists.\n        (If the entity already exists, the <code>EntityExistsException</code> may be thrown when the persist operation is invoked, or the <code>EntityExistsException</code> or another <code>PersistenceException</code> may be thrown at flush or commit time.) </p>\n</blockquote>\n\n<p><strong>Solution</strong></p>\n\n<p>You can create a new field for movieId, which will store the id of the movie from the XML. but this will create unnecessary redundancy of the data. For the Genre, you should create a new table where you will define movie_genre mapping. You can use one to many mapping for this purpose.</p>\n"},{"tags":[],"owner":{"account_id":18007222,"reputation":141,"user_id":13087712,"display_name":"Philemon Hilscher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677594172,"creation_date":1677594172,"answer_id":75593312,"question_id":16460815,"body_markdown":"In my case I used manual transaction management which requires a lot more manual actions.\r\n```java\r\nentityManager.clear();\r\n...\r\nentityManager.persist(entityToPersist);\r\n```\r\nThe `clear()` detaches any remaining entities in the entity manager that might be present from previous inserts, **even if the database has been cleared since then**.","title":"JPA EntityExistsException","body":"<p>In my case I used manual transaction management which requires a lot more manual actions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.clear();\n...\nentityManager.persist(entityToPersist);\n</code></pre>\n<p>The <code>clear()</code> detaches any remaining entities in the entity manager that might be present from previous inserts, <strong>even if the database has been cleared since then</strong>.</p>\n"}],"owner":{"account_id":2119158,"reputation":936,"user_id":1882812,"accept_rate":60,"display_name":"user1882812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19464,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1677594172,"creation_date":1368099250,"question_id":16460815,"body_markdown":"The problem that I&#39;m currently facing is the following:\r\n\r\n    Exception in thread &quot;main&quot; javax.persistence.EntityExistsException: a different object with the same identifier value was already associated with the session: [de.entities.Genre#28]\r\n\tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1359)\r\n\tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1310)\r\n\tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1316)\r\n\tat org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:881)\r\n\tat de.model.DatabaseBuilder.importData(DatabaseBuilder.java:87)\r\n\tat de.main.Main.main(Main.java:55)\r\n\r\nSo the Exception tells me that I want to insert two different objects with the same primary key id.\r\n\r\nAll my datas I want to insert into a database using JPA are coming from an XML file. I parse this file with a SAXParser. Of course there are many genre entries with the id 28 because many movies have the same genre.\r\n\r\nIf I use auto-generated ids, the data wont be correct anymore because all id&#39;s are correctly given by the XML file.\r\n\r\nHow can I solve this problem? Why isn&#39;t JPA not just ignoring the fact, that this object is already present in the database and just inserting the ids of the movies and the genres in my m:n table?","title":"JPA EntityExistsException","body":"<p>The problem that I'm currently facing is the following:</p>\n\n<pre><code>Exception in thread \"main\" javax.persistence.EntityExistsException: a different object with the same identifier value was already associated with the session: [de.entities.Genre#28]\nat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1359)\nat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1310)\nat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1316)\nat org.hibernate.ejb.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:881)\nat de.model.DatabaseBuilder.importData(DatabaseBuilder.java:87)\nat de.main.Main.main(Main.java:55)\n</code></pre>\n\n<p>So the Exception tells me that I want to insert two different objects with the same primary key id.</p>\n\n<p>All my datas I want to insert into a database using JPA are coming from an XML file. I parse this file with a SAXParser. Of course there are many genre entries with the id 28 because many movies have the same genre.</p>\n\n<p>If I use auto-generated ids, the data wont be correct anymore because all id's are correctly given by the XML file.</p>\n\n<p>How can I solve this problem? Why isn't JPA not just ignoring the fact, that this object is already present in the database and just inserting the ids of the movies and the genres in my m:n table?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655618732,"creation_date":1655618732,"answer_id":72674610,"question_id":72674522,"body_markdown":"Maybe Spring Component Scan is not finding your repository bean due to your package structure.\r\n\r\nMake sure the main class with the `@SpringBootApplication` annotation is in this package: `package com.example.demo;` ","title":"Spring boot repository not found","body":"<p>Maybe Spring Component Scan is not finding your repository bean due to your package structure.</p>\n<p>Make sure the main class with the <code>@SpringBootApplication</code> annotation is in this package: <code>package com.example.demo;</code></p>\n"},{"tags":[],"owner":{"account_id":3158193,"reputation":348,"user_id":2670061,"display_name":"Venu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655621366,"creation_date":1655620583,"answer_id":72674738,"question_id":72674522,"body_markdown":"Here two things I can see in your code which are not required. \r\n\r\n        1. List&lt;Item&gt; itemList = this.itemRepository.findAll(); \r\n       \r\n   to\r\n    \r\n        List&lt;Item&gt; itemList = itemRepository.findAll();\r\n\r\n2. As you are extending `JpaRepository` no need to declare `findAll()` and `deleteById()` methods in repository interface. So please change as below and try once.\r\n\r\n    \r\n       public interface ItemRepository extends JpaRepository&lt;Item, Long&gt; {\r\n    \r\n       }\r\n\r\nReferences: [findAll][1] [deleteById][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#findAll--\r\n  [2]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html?is-external=true#deleteById-ID-","title":"Spring boot repository not found","body":"<p>Here two things I can see in your code which are not required.</p>\n<pre><code>    1. List&lt;Item&gt; itemList = this.itemRepository.findAll(); \n   \n</code></pre>\n<p>to</p>\n<pre><code>    List&lt;Item&gt; itemList = itemRepository.findAll();\n</code></pre>\n<ol start=\"2\">\n<li><p>As you are extending <code>JpaRepository</code> no need to declare <code>findAll()</code> and <code>deleteById()</code> methods in repository interface. So please change as below and try once.</p>\n<pre><code>public interface ItemRepository extends JpaRepository&lt;Item, Long&gt; {\n\n}\n</code></pre>\n</li>\n</ol>\n<p>References: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#findAll--\" rel=\"nofollow noreferrer\">findAll</a> <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html?is-external=true#deleteById-ID-\" rel=\"nofollow noreferrer\">deleteById</a></p>\n"},{"tags":[],"owner":{"account_id":25570963,"reputation":78,"user_id":19351325,"display_name":"ArtemAgaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677594064,"creation_date":1655621477,"answer_id":72674810,"question_id":72674522,"body_markdown":"You can try to manually specify directory of your repositories with:\r\n\r\n    @EnableJpaRepositories(&quot;some.root.package&quot;) //path to repository package","title":"Spring boot repository not found","body":"<p>You can try to manually specify directory of your repositories with:</p>\n<pre><code>@EnableJpaRepositories(&quot;some.root.package&quot;) //path to repository package\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12964319,"reputation":69,"user_id":9372460,"display_name":"vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655624854,"creation_date":1655624854,"answer_id":72675136,"question_id":72674522,"body_markdown":"    1)List&lt;Item&gt; findAll();\r\n    you don&#39;t have to write this line inside the repository you will get this from JPA JpaRepository&lt;ClassName,Long&gt; Interface;.\r\n    \r\n    2)List&lt;Item&gt; getAllItem();this line declare inside your service package \r\n    \r\n    3) List&lt;Item&gt; itemList = this.itemRepository.findAll();\r\n                for (Item item : itemList) {\r\n                    System.out.println(item.getId());}\r\n    and here you don&#39;t have to user this before item itemRepository.findAll().\r\n    you can directly use  List&lt;Item&gt; itemList = itemRepository.findAll();","title":"Spring boot repository not found","body":"<pre><code>1)List&lt;Item&gt; findAll();\nyou don't have to write this line inside the repository you will get this from JPA JpaRepository&lt;ClassName,Long&gt; Interface;.\n\n2)List&lt;Item&gt; getAllItem();this line declare inside your service package \n\n3) List&lt;Item&gt; itemList = this.itemRepository.findAll();\n            for (Item item : itemList) {\n                System.out.println(item.getId());}\nand here you don't have to user this before item itemRepository.findAll().\nyou can directly use  List&lt;Item&gt; itemList = itemRepository.findAll();\n</code></pre>\n"}],"owner":{"account_id":13314316,"reputation":77,"user_id":9611310,"display_name":"Nipuna Chandimal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3053,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1677594064,"creation_date":1655617317,"question_id":72674522,"body_markdown":"This is my service class \r\n\r\n    package com.example.demo.service;\r\n    import com.example.demo.dto.Invoicedto;\r\n    import com.example.demo.model.Item;\r\n    import com.example.demo.repository.ItemRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class InvoiceService implements InvoiceServiceInterface {\r\n        @Autowired\r\n        private ItemRepository itemRepository;\r\n        public void createInvoice(Invoicedto invoiceDto) {\r\n            try {\r\n                List&lt;Item&gt; itemList = this.itemRepository.findAll();\r\n                for (Item item : itemList) {\r\n                    System.out.println(item.getId());\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Exception occurred &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nthis is my repository\r\n\r\n\r\n    package com.example.demo.repository;\r\n    import com.example.demo.model.Item;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface ItemRepository   extends JpaRepository&lt;Item, Long&gt; {\r\n    \r\n        List&lt;Item&gt; findAll();\r\n    \r\n        @Modifying\r\n        @Query(&quot;DELETE Item c WHERE c.id = ?1&quot;)\r\n        void deleteById(long id); \r\n    }\r\n\r\n \r\n\r\nThough I added necessary annotations this always give \r\n\r\n&gt; Exception occurred Cannot invoke &quot;com.example.demo.repository.ItemRepository.findAll()&quot; because &quot;this.itemRepository&quot; is null\r\n\r\nWhy is this happening what is the fix?\r\n\r\n\r\n","title":"Spring boot repository not found","body":"<p>This is my service class</p>\n<pre><code>package com.example.demo.service;\nimport com.example.demo.dto.Invoicedto;\nimport com.example.demo.model.Item;\nimport com.example.demo.repository.ItemRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.util.List;\n\n@Service\npublic class InvoiceService implements InvoiceServiceInterface {\n    @Autowired\n    private ItemRepository itemRepository;\n    public void createInvoice(Invoicedto invoiceDto) {\n        try {\n            List&lt;Item&gt; itemList = this.itemRepository.findAll();\n            for (Item item : itemList) {\n                System.out.println(item.getId());\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Exception occurred &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>this is my repository</p>\n<pre><code>package com.example.demo.repository;\nimport com.example.demo.model.Item;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\nimport java.util.List;\n\n@Repository\npublic interface ItemRepository   extends JpaRepository&lt;Item, Long&gt; {\n\n    List&lt;Item&gt; findAll();\n\n    @Modifying\n    @Query(&quot;DELETE Item c WHERE c.id = ?1&quot;)\n    void deleteById(long id); \n}\n</code></pre>\n<p>Though I added necessary annotations this always give</p>\n<blockquote>\n<p>Exception occurred Cannot invoke &quot;com.example.demo.repository.ItemRepository.findAll()&quot; because &quot;this.itemRepository&quot; is null</p>\n</blockquote>\n<p>Why is this happening what is the fix?</p>\n"},{"tags":["java","jboss","wildfly","jackrabbit","jca"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677593844,"creation_date":1677593844,"answer_id":75593254,"question_id":75592393,"body_markdown":"Jackrabbit JCA resource adapter is not JakartaEE 10 compliant. You need to stay on WildFly 26 or upgrade the jackrabbit code to JakartaEE 10.","title":"Deploy Jackrabbit jca 2.21.15 on Wildfly 27","body":"<p>Jackrabbit JCA resource adapter is not JakartaEE 10 compliant. You need to stay on WildFly 26 or upgrade the jackrabbit code to JakartaEE 10.</p>\n"}],"owner":{"account_id":10422812,"reputation":1,"user_id":12123710,"display_name":"Elias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677593844,"creation_date":1677589080,"question_id":75592393,"body_markdown":"I&#39;ve been trying to deploy jackrabbit for a really long time.\r\nI had used different versions of jackrabbit and wildfly a few years ago without success (I don&#39;t even remember the error).\r\n\r\nI thought I&#39;d try with the latest version but it seems to be even worse than before.\r\n\r\nMy resource-adapters config :\r\n\r\n\r\n```\r\n&lt;resource-adapters&gt;\r\n                &lt;resource-adapter id=&quot;jackrabbit-jca-2.21.15.rar&quot;&gt;\r\n                    &lt;archive&gt;jackrabbit-jca-2.21.15.rar&lt;/archive&gt;\r\n                    &lt;connection-definitions&gt;\r\n\t\t\t\t\t\t&lt;connection-definition class-name=&quot;org.apache.jackrabbit.jca.JCAManagedConnectionFactory&quot; jndi-name=&quot;jcr/local&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;jackrabbit-jca-2.21.15_rar-Pool&quot; use-ccm=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;config-property name=&quot;homeDir&quot;&gt;\r\n\t\t\t\t\t\t\t\t/var/jcr/JCR/\r\n\t\t\t\t\t\t\t&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t&lt;config-property name=&quot;configFile&quot;&gt;\r\n\t\t\t\t\t\t\t\t/var/jcr/JCR/repository.xml\r\n\t\t\t\t\t\t\t&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t&lt;config-property name=&quot;bindSessionToTransaction&quot;&gt;\r\n\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t&lt;security&gt;\r\n\t\t\t\t\t\t\t\t&lt;application/&gt;\r\n\t\t\t\t\t\t\t&lt;/security&gt;\r\n\t\t\t\t\t\t\t&lt;validation&gt;\r\n\t\t\t\t\t\t\t\t&lt;background-validation&gt;false&lt;/background-validation&gt;\r\n\t\t\t\t\t\t\t&lt;/validation&gt;\r\n\t\t\t\t\t\t&lt;/connection-definition&gt;\r\n                    &lt;/connection-definitions&gt;\r\n                &lt;/resource-adapter&gt;\r\n            &lt;/resource-adapters&gt;\r\n```\r\nMy error with or without resource-adapters definition :\r\n\r\n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.ra.deployer.\\&quot;jackrabbit-jca-2.21.15.rar\\&quot;&quot; =&gt; &quot;WFLYJCA0046: Failed to start RA deployment [jackrabbit-jca-2.21.15.rar]\r\n    Caused by: org.jboss.jca.deployers.common.DeployException: IJ020056: Deployment failed: jackrabbit-jca-2.21.15.rar\r\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/jackrabbit/jca/JCAResourceAdapter (Module \\&quot;deployment.jackrabbit-jca-2.21.15.rar\\&quot; from Service Module Loader): javax/resource/spi/ResourceAdapter&quot;}}\r\n\r\nI tried many things like :\r\n\r\nhttps://users.jackrabbit.apache.narkive.com/1zhqxTvP/jackrabbit-jca-on-jboss https://stackoverflow.com/questions/48837982/jackrabbit-on-wildfly-11 https://sreekanthsnair.wordpress.com/2014/01/07/deploying-jackrabbit-to-jboss-as-7/\r\n\r\nThanks\r\n\r\nI would like to first successfully deploy and then migrate the data from an old jackrabbit.","title":"Deploy Jackrabbit jca 2.21.15 on Wildfly 27","body":"<p>I've been trying to deploy jackrabbit for a really long time.\nI had used different versions of jackrabbit and wildfly a few years ago without success (I don't even remember the error).</p>\n<p>I thought I'd try with the latest version but it seems to be even worse than before.</p>\n<p>My resource-adapters config :</p>\n<pre><code>&lt;resource-adapters&gt;\n                &lt;resource-adapter id=&quot;jackrabbit-jca-2.21.15.rar&quot;&gt;\n                    &lt;archive&gt;jackrabbit-jca-2.21.15.rar&lt;/archive&gt;\n                    &lt;connection-definitions&gt;\n                        &lt;connection-definition class-name=&quot;org.apache.jackrabbit.jca.JCAManagedConnectionFactory&quot; jndi-name=&quot;jcr/local&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;jackrabbit-jca-2.21.15_rar-Pool&quot; use-ccm=&quot;true&quot;&gt;\n                            &lt;config-property name=&quot;homeDir&quot;&gt;\n                                /var/jcr/JCR/\n                            &lt;/config-property&gt;\n                            &lt;config-property name=&quot;configFile&quot;&gt;\n                                /var/jcr/JCR/repository.xml\n                            &lt;/config-property&gt;\n                            &lt;config-property name=&quot;bindSessionToTransaction&quot;&gt;\n                                true\n                            &lt;/config-property&gt;\n                            &lt;security&gt;\n                                &lt;application/&gt;\n                            &lt;/security&gt;\n                            &lt;validation&gt;\n                                &lt;background-validation&gt;false&lt;/background-validation&gt;\n                            &lt;/validation&gt;\n                        &lt;/connection-definition&gt;\n                    &lt;/connection-definitions&gt;\n                &lt;/resource-adapter&gt;\n            &lt;/resource-adapters&gt;\n</code></pre>\n<p>My error with or without resource-adapters definition :</p>\n<p>{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.ra.deployer.&quot;jackrabbit-jca-2.21.15.rar&quot;&quot; =&gt; &quot;WFLYJCA0046: Failed to start RA deployment [jackrabbit-jca-2.21.15.rar]\nCaused by: org.jboss.jca.deployers.common.DeployException: IJ020056: Deployment failed: jackrabbit-jca-2.21.15.rar\nCaused by: java.lang.NoClassDefFoundError: Failed to link org/apache/jackrabbit/jca/JCAResourceAdapter (Module &quot;deployment.jackrabbit-jca-2.21.15.rar&quot; from Service Module Loader): javax/resource/spi/ResourceAdapter&quot;}}</p>\n<p>I tried many things like :</p>\n<p><a href=\"https://users.jackrabbit.apache.narkive.com/1zhqxTvP/jackrabbit-jca-on-jboss\" rel=\"nofollow noreferrer\">https://users.jackrabbit.apache.narkive.com/1zhqxTvP/jackrabbit-jca-on-jboss</a> <a href=\"https://stackoverflow.com/questions/48837982/jackrabbit-on-wildfly-11\">JackRabbit on Wildfly 11</a> <a href=\"https://sreekanthsnair.wordpress.com/2014/01/07/deploying-jackrabbit-to-jboss-as-7/\" rel=\"nofollow noreferrer\">https://sreekanthsnair.wordpress.com/2014/01/07/deploying-jackrabbit-to-jboss-as-7/</a></p>\n<p>Thanks</p>\n<p>I would like to first successfully deploy and then migrate the data from an old jackrabbit.</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":12851259,"reputation":6917,"user_id":9296093,"display_name":"matszwecja"},"score":0,"creation_date":1677593748,"post_id":75593217,"comment_id":133365838,"body_markdown":"Does this answer your question? [UnboundLocalError trying to use a variable (supposed to be global) that is (re)assigned (even after first use)](https://stackoverflow.com/questions/370357/unboundlocalerror-trying-to-use-a-variable-supposed-to-be-global-that-is-rea)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/370357/unboundlocalerror-trying-to-use-a-variable-supposed-to-be-global-that-is-rea\">UnboundLocalError trying to use a variable (supposed to be global) that is (re)assigned (even after first use)</a>"},{"owner":{"account_id":1143565,"reputation":503892,"user_id":1126841,"display_name":"chepner"},"score":0,"creation_date":1677594125,"post_id":75593217,"comment_id":133365944,"body_markdown":"Unless you are trying to design a submission for leetcode.com or similar, you don&#39;t need the `Solution` class at all in Python. Python, unlike Java, has modules that allow top-level functions and variables, rather than the rigid one-class-per-file restriction that Java imposes.","body":"Unless you are trying to design a submission for leetcode.com or similar, you don&#39;t need the <code>Solution</code> class at all in Python. Python, unlike Java, has modules that allow top-level functions and variables, rather than the rigid one-class-per-file restriction that Java imposes."},{"owner":{"account_id":9548097,"reputation":1584,"user_id":7093241,"accept_rate":61,"display_name":"heretoinfinity"},"score":0,"creation_date":1677759730,"post_id":75593217,"comment_id":133403416,"body_markdown":"I would also like it to work for leetcode too. I agree that I don&#39;t need the `Solution` class but it is part of learning Python to know how to do it when constrained with it.","body":"I would also like it to work for leetcode too. I agree that I don&#39;t need the <code>Solution</code> class but it is part of learning Python to know how to do it when constrained with it."}],"owner":{"account_id":9548097,"reputation":1584,"user_id":7093241,"accept_rate":61,"display_name":"heretoinfinity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677593653,"creation_date":1677593653,"question_id":75593217,"body_markdown":"I was coding this code snippet provided as a leetcode solution in Python but found that my variable `flag` isn&#39;t available. \r\n\r\n```\r\npublic class Solution {\r\n    boolean flag = false;\r\n    \r\n    public boolean checkInclusion(String s1, String s2) {\r\n        permute(s1, s2, 0);\r\n        return flag;\r\n    }\r\n    \r\n    public String swap(String s, int i0, int i1) {\r\n        if (i0 == i1)\r\n            return s;\r\n        String s1 = s.substring(0, i0);\r\n        String s2 = s.substring(i0 + 1, i1);\r\n        String s3 = s.substring(i1 + 1);\r\n        return s1 + s.charAt(i1) + s2 + s.charAt(i0) + s3;\r\n    }\r\n    \r\n    void permute(String s1, String s2, int l) {\r\n        if (l == s1.length()) {\r\n            if (s2.indexOf(s1) &gt;= 0)\r\n                flag = true;\r\n        } else {\r\n            for (int i = l; i &lt; s1.length(); i++) {\r\n                s1 = swap(s1, l, i);\r\n                permute(s1, s2, l + 1);\r\n                s1 = swap(s1, l, i);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is how I rewrote it in Python together with the checks. What I did was move the helper functions to be part of the `checkInclusion` function so that the helper functions can run within the context of, for lack of a better word, &quot;main&quot; function. What I noticed is that my assertions fail. In trying to debug, I tried to print out the `flag` variable but nothing was printed out. \r\n```\r\nfrom typing import List\r\nclass Solution:\r\n    def checkInclusion(self, s1: str, s2: str) -&gt; bool:\r\n        def swap(string: str, left: int, right: int) -&gt; str:\r\n            stringList = list(string)\r\n            stringList[left], stringList[right] = stringList[right], stringList[left]\r\n            return &quot;&quot;.join(stringList)\r\n\r\n        def permute(string:str, left: int, right: int, permutations: List[int]) -&gt; List[int]:\r\n            &quot;&quot;&quot;left and right are indices for the string&quot;&quot;&quot;\r\n            if left == right:\r\n                permutations.append(string)\r\n                return permutations\r\n            else:\r\n                for i in range(left, right+1):\r\n                    swapped = swap(string, left, i)\r\n                    permute(swapped, left+1, right, permutations)\r\n\r\n                return permutations\r\n\r\n        permutations = permute(s1, 0, len(s1)-1, [])\r\n        # print(&quot;permutations =&quot;, permutations)\r\n        for permutation in permutations:\r\n            if permutation in s2:\r\n                return True\r\n\r\n        return False\r\n\r\n# brute force - NOT creating a list of the permutations\r\n# n = len(s1)\r\n# m = len(s2)\r\n# Time : O(n! + nm) - creating the permutations and nm for \r\n#       comparing the s1 in s2. Depends on relative size of s1 and s2\r\n#       to determine what dominates\r\n# Space: O(n!) - n! for the list of permutations, O(n x n) for the \r\n#        recursion tree depth and length of the string but n! dominates\r\n#        for large n.\r\nfrom typing import List\r\nclass Solution:   \r\n    def checkInclusion(self, s1: str, s2: str) -&gt; bool:\r\n        flag = False\r\n        def swap(string: str, left: int, right: int) -&gt; str:\r\n            stringList = list(string)\r\n            stringList[left], stringList[right] = stringList[right], stringList[left]\r\n            return &quot;&quot;.join(stringList)\r\n\r\n        def permute(s1: str, s2: str, pos: int) -&gt; None:\r\n            print(&quot;flag in permute =&quot;, flag)\r\n            if pos == len(s1):\r\n                print(&quot;flag in if statement&quot;, flag)\r\n                if s2.find(s1) &gt; -1:\r\n                    flag = True\r\n            else:\r\n                for i in range(1, len(s1)):\r\n                    s1 = swap(s1, pos, i)\r\n                    permute(s1, s2, pos+1)\r\n                    s1 = swap(s1, pos, i)\r\n\r\n        permute(s1, s2, 0)\r\n        return flag\r\n\r\nsol = Solution()\r\ns1 = &quot;x&quot;\r\ns2 = &quot;ab&quot;\r\nassert sol.checkInclusion(s1, s2) == True\r\n\r\ns1 = &quot;a&quot;\r\ns2 = &quot;ab&quot;\r\nprint(sol.checkInclusion(s1, s2))\r\nassert sol.checkInclusion(s1, s2) == True\r\n\r\ns1 = &quot;ab&quot;\r\ns2 = &quot;eidbaooo&quot;\r\nassert sol.checkInclusion(s1, s2) == True\r\n\r\ns1 = &quot;ab&quot;\r\ns2 = &quot;eidboaoo&quot;\r\nassert sol.checkInclusion(s1, s2) == False\r\n```\r\n\r\nThe error I got doesn&#39;t print out `flag`. \r\n```\r\nTraceback (most recent call last):\r\n  File &quot;567. Permutation in String.py&quot;, line 75, in &lt;module&gt;\r\n    assert sol.checkInclusion(s1, s2) == True\r\n  File &quot;567. Permutation in String.py&quot;, line 68, in checkInclusion\r\n    permute(s1, s2, 0)\r\n  File &quot;567. Permutation in String.py&quot;, line 57, in permute\r\n    print(&quot;flag in permute =&quot;, flag)\r\nUnboundLocalError: local variable &#39;flag&#39; referenced before assignment\r\n```\r\n\r\nAlthough I would like to know how to make a better conversion into Python, I feel I am missing a crucial bit of information on why `flag` appears to be assigned before it is referenced.","title":"Outer scope variable not registered in contained functions","body":"<p>I was coding this code snippet provided as a leetcode solution in Python but found that my variable <code>flag</code> isn't available.</p>\n<pre><code>public class Solution {\n    boolean flag = false;\n    \n    public boolean checkInclusion(String s1, String s2) {\n        permute(s1, s2, 0);\n        return flag;\n    }\n    \n    public String swap(String s, int i0, int i1) {\n        if (i0 == i1)\n            return s;\n        String s1 = s.substring(0, i0);\n        String s2 = s.substring(i0 + 1, i1);\n        String s3 = s.substring(i1 + 1);\n        return s1 + s.charAt(i1) + s2 + s.charAt(i0) + s3;\n    }\n    \n    void permute(String s1, String s2, int l) {\n        if (l == s1.length()) {\n            if (s2.indexOf(s1) &gt;= 0)\n                flag = true;\n        } else {\n            for (int i = l; i &lt; s1.length(); i++) {\n                s1 = swap(s1, l, i);\n                permute(s1, s2, l + 1);\n                s1 = swap(s1, l, i);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is how I rewrote it in Python together with the checks. What I did was move the helper functions to be part of the <code>checkInclusion</code> function so that the helper functions can run within the context of, for lack of a better word, &quot;main&quot; function. What I noticed is that my assertions fail. In trying to debug, I tried to print out the <code>flag</code> variable but nothing was printed out.</p>\n<pre><code>from typing import List\nclass Solution:\n    def checkInclusion(self, s1: str, s2: str) -&gt; bool:\n        def swap(string: str, left: int, right: int) -&gt; str:\n            stringList = list(string)\n            stringList[left], stringList[right] = stringList[right], stringList[left]\n            return &quot;&quot;.join(stringList)\n\n        def permute(string:str, left: int, right: int, permutations: List[int]) -&gt; List[int]:\n            &quot;&quot;&quot;left and right are indices for the string&quot;&quot;&quot;\n            if left == right:\n                permutations.append(string)\n                return permutations\n            else:\n                for i in range(left, right+1):\n                    swapped = swap(string, left, i)\n                    permute(swapped, left+1, right, permutations)\n\n                return permutations\n\n        permutations = permute(s1, 0, len(s1)-1, [])\n        # print(&quot;permutations =&quot;, permutations)\n        for permutation in permutations:\n            if permutation in s2:\n                return True\n\n        return False\n\n# brute force - NOT creating a list of the permutations\n# n = len(s1)\n# m = len(s2)\n# Time : O(n! + nm) - creating the permutations and nm for \n#       comparing the s1 in s2. Depends on relative size of s1 and s2\n#       to determine what dominates\n# Space: O(n!) - n! for the list of permutations, O(n x n) for the \n#        recursion tree depth and length of the string but n! dominates\n#        for large n.\nfrom typing import List\nclass Solution:   \n    def checkInclusion(self, s1: str, s2: str) -&gt; bool:\n        flag = False\n        def swap(string: str, left: int, right: int) -&gt; str:\n            stringList = list(string)\n            stringList[left], stringList[right] = stringList[right], stringList[left]\n            return &quot;&quot;.join(stringList)\n\n        def permute(s1: str, s2: str, pos: int) -&gt; None:\n            print(&quot;flag in permute =&quot;, flag)\n            if pos == len(s1):\n                print(&quot;flag in if statement&quot;, flag)\n                if s2.find(s1) &gt; -1:\n                    flag = True\n            else:\n                for i in range(1, len(s1)):\n                    s1 = swap(s1, pos, i)\n                    permute(s1, s2, pos+1)\n                    s1 = swap(s1, pos, i)\n\n        permute(s1, s2, 0)\n        return flag\n\nsol = Solution()\ns1 = &quot;x&quot;\ns2 = &quot;ab&quot;\nassert sol.checkInclusion(s1, s2) == True\n\ns1 = &quot;a&quot;\ns2 = &quot;ab&quot;\nprint(sol.checkInclusion(s1, s2))\nassert sol.checkInclusion(s1, s2) == True\n\ns1 = &quot;ab&quot;\ns2 = &quot;eidbaooo&quot;\nassert sol.checkInclusion(s1, s2) == True\n\ns1 = &quot;ab&quot;\ns2 = &quot;eidboaoo&quot;\nassert sol.checkInclusion(s1, s2) == False\n</code></pre>\n<p>The error I got doesn't print out <code>flag</code>.</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;567. Permutation in String.py&quot;, line 75, in &lt;module&gt;\n    assert sol.checkInclusion(s1, s2) == True\n  File &quot;567. Permutation in String.py&quot;, line 68, in checkInclusion\n    permute(s1, s2, 0)\n  File &quot;567. Permutation in String.py&quot;, line 57, in permute\n    print(&quot;flag in permute =&quot;, flag)\nUnboundLocalError: local variable 'flag' referenced before assignment\n</code></pre>\n<p>Although I would like to know how to make a better conversion into Python, I feel I am missing a crucial bit of information on why <code>flag</code> appears to be assigned before it is referenced.</p>\n"},{"tags":["java","logback","wildfly-26"],"comments":[{"owner":{"account_id":331993,"reputation":722,"user_id":657009,"accept_rate":33,"display_name":"user657009"},"score":0,"creation_date":1677600100,"post_id":75593197,"comment_id":133368039,"body_markdown":"Solution in this post: https://stackoverflow.com/questions/42467970/logback-on-jboss-duplicates-prefixes-and-new-lines-when-logging?rq=1","body":"Solution in this post: <a href=\"https://stackoverflow.com/questions/42467970/logback-on-jboss-duplicates-prefixes-and-new-lines-when-logging?rq=1\" title=\"logback on jboss duplicates prefixes and new lines when logging\">stackoverflow.com/questions/42467970/&hellip;</a>"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1677636076,"post_id":75593197,"comment_id":133376042,"body_markdown":"Yes, it&#39;s because the `ConsoleAppender` writes to `System.out` which is wrapped in a logger.","body":"Yes, it&#39;s because the <code>ConsoleAppender</code> writes to <code>System.out</code> which is wrapped in a logger."}],"owner":{"account_id":331993,"reputation":722,"user_id":657009,"accept_rate":33,"display_name":"user657009"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677593566,"creation_date":1677593566,"question_id":75593197,"body_markdown":"I have the following setup:\r\n\r\njboss-deployment-structure.xml:\r\n\r\n    &lt;jboss-deployment-structure&gt;\r\n      &lt;deployment&gt;\r\n        &lt;exclude-subsystems&gt;\r\n          &lt;subsystem name=&quot;logging&quot; /&gt;\r\n        &lt;/exclude-subsystems&gt;\r\n      &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\npom.xml:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.5&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nch.qos.logback.core.ConsoleAppender encoder pattern in logback.xml:\r\n\r\n    MY_LOG ------ %date{ISO8601} %-5level [%thread] \\(%logger{36}\\) - %msg%n\r\n\r\n\r\nAnd Wildfly produces log messages in the following format: \r\n\r\n10:55:28,981 INFO  [stdout] (ServerService Thread Pool -- 112) MY_LOG ------ 2023-02-28 10:55:28,981 DEBUG [ServerService Thread Pool -- 112] (o.a.c.b.converters.ArrayConverter) - Converting &#39;java.net.URL[]&#39; value &#39;[Ljava.net.URL;@1436a465&#39; to type &#39;java.net.URL[]&#39;\r\n\r\nHow to get rid of the wildfly messages and keep only logback?","title":"Wildfly 26 logs twice","body":"<p>I have the following setup:</p>\n<p>jboss-deployment-structure.xml:</p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n  &lt;deployment&gt;\n    &lt;exclude-subsystems&gt;\n      &lt;subsystem name=&quot;logging&quot; /&gt;\n    &lt;/exclude-subsystems&gt;\n  &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n  &lt;version&gt;1.4.5&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n  &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>ch.qos.logback.core.ConsoleAppender encoder pattern in logback.xml:</p>\n<pre><code>MY_LOG ------ %date{ISO8601} %-5level [%thread] \\(%logger{36}\\) - %msg%n\n</code></pre>\n<p>And Wildfly produces log messages in the following format:</p>\n<p>10:55:28,981 INFO  [stdout] (ServerService Thread Pool -- 112) MY_LOG ------ 2023-02-28 10:55:28,981 DEBUG [ServerService Thread Pool -- 112] (o.a.c.b.converters.ArrayConverter) - Converting 'java.net.URL[]' value '[Ljava.net.URL;@1436a465' to type 'java.net.URL[]'</p>\n<p>How to get rid of the wildfly messages and keep only logback?</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677592963,"creation_date":1677592963,"answer_id":75593107,"question_id":75591784,"body_markdown":"Just use the [`CASE` expression][1] in jOOQ almost as you would, in SQL.\r\n\r\n```java\r\n// Assuming this static import, as always\r\nimport static org.jooq.impl.DSL.*;\r\n\r\nwhen(T.COLUMN_A.eq(&quot;On&quot;)\r\n    .and(T.COLUMN_B.le(currentDate()))\r\n    .and(T.COLUMN_C.gt(currentDate())), T.COLUMN_A)\r\n.else_(&quot;NoChange&quot;)\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/case-expressions/","title":"Jooq choose when statement on multiple columns","body":"<p>Just use the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/case-expressions/\" rel=\"nofollow noreferrer\"><code>CASE</code> expression</a> in jOOQ almost as you would, in SQL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Assuming this static import, as always\nimport static org.jooq.impl.DSL.*;\n\nwhen(T.COLUMN_A.eq(&quot;On&quot;)\n    .and(T.COLUMN_B.le(currentDate()))\n    .and(T.COLUMN_C.gt(currentDate())), T.COLUMN_A)\n.else_(&quot;NoChange&quot;)\n</code></pre>\n"}],"owner":{"account_id":12241772,"reputation":129,"user_id":8934639,"display_name":"Chedva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75593107,"answer_count":1,"score":1,"last_activity_date":1677592963,"creation_date":1677585614,"question_id":75591784,"body_markdown":"I have this part of query:\r\n```\r\ncase \r\n\twhen columnA = &#39;On&#39; \r\n        and columnB &lt;= current_date() \r\n        and columnC &gt; current_date()\r\n        then columnA\r\n    else &#39;NoChange&#39;\r\nend) \r\n```\r\nis it possible to write it in Jooq, Java?","title":"Jooq choose when statement on multiple columns","body":"<p>I have this part of query:</p>\n<pre><code>case \n    when columnA = 'On' \n        and columnB &lt;= current_date() \n        and columnC &gt; current_date()\n        then columnA\n    else 'NoChange'\nend) \n</code></pre>\n<p>is it possible to write it in Jooq, Java?</p>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1654889959,"post_id":72579106,"comment_id":128208806,"body_markdown":"You can learn about Task using its [documentation](https://developers.google.com/android/guides/tasks).","body":"You can learn about Task using its <a href=\"https://developers.google.com/android/guides/tasks\" rel=\"nofollow noreferrer\">documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":9248773,"reputation":59,"user_id":6870248,"display_name":"Javier"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677592742,"creation_date":1677592574,"answer_id":75593035,"question_id":72579106,"body_markdown":"Referred to the deprecated FirebaseInstanceId, use FirebaseMessaging:\r\n\r\n    FirebaseInstanceId.Instance.Token -&gt; (string)FirebaseMessaging.Instance.GetToken()\r\n\r\nPlease refer to this link:\r\nhttps://gist.github.com/jfversluis/dd760594099066c7450d50cce6499368?permalink_comment_id=4485646#gistcomment-4485646\r\n\r\n","title":"Using FirebaseInstallations and FirebaseMessaging instead of FirebaseInstanceId","body":"<p>Referred to the deprecated FirebaseInstanceId, use FirebaseMessaging:</p>\n<pre><code>FirebaseInstanceId.Instance.Token -&gt; (string)FirebaseMessaging.Instance.GetToken()\n</code></pre>\n<p>Please refer to this link:\n<a href=\"https://gist.github.com/jfversluis/dd760594099066c7450d50cce6499368?permalink_comment_id=4485646#gistcomment-4485646\" rel=\"nofollow noreferrer\">https://gist.github.com/jfversluis/dd760594099066c7450d50cce6499368?permalink_comment_id=4485646#gistcomment-4485646</a></p>\n"}],"owner":{"account_id":19436288,"reputation":89,"user_id":14215682,"display_name":"D-I-S-C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677592742,"creation_date":1654889834,"question_id":72579106,"body_markdown":"I&#39;m integrating to my project a piece of code that is using the deprecated interface `FirebaseInstanceId` instead of `FirebaseMessaging` and `FirebaseInstallations` to register and receive incoming calls.\r\n\r\nAs I am new to Firebase, I don&#39;t fully understand the original code and I&#39;m unsure how to change it in order to achieve the desired outcome.\r\n\r\nI wasn&#39;t able to fully improve my understanding and find a solution when looking at these posts:\r\n- https://stackoverflow.com/questions/51123197/firebaseinstanceidservice-is-deprecated\r\n- https://stackoverflow.com/questions/51125169/what-method-should-i-use-now-since-firebaseinstanceid-getinstance-gettoken-i\r\n\r\nLooking at the [Firebase documentation][1], my basic understanding is that:  \r\n1. `FirebaseInstanceId.getInstance()` *we are returning an instance of the class* &lt;br /&gt;\r\n2. `.getInstanceId()` *to then returns a Task* &lt;br /&gt;\r\n3. `.addOnSuccessListener(this, instance -&gt; ...)` *that then calls a method if it is succesful* &lt;br /&gt;\r\n4. `fcmToken = instanceIdResult.getToken()` *which gets a FCM Token*\r\n\r\nHowever, I&#39;m not exactly sure if this is correct nor am I clear on what exactly the instanceIdResult and Task represent here.\r\n\r\n**Code**\r\n\r\n```\r\n/* Register your FCM token to receive incoming call invites */\r\nprivate void registerForCallInvites() {\r\n   FirebaseInstanceId.getInstance().getInstanceId().addOnSuccessListener(this, instanceIdResult -&gt; {\r\n            String fcmToken = instanceIdResult.getToken();\r\n            Log.i(TAG, &quot;Registering with FCM&quot;);\r\n            Voice.register(accessToken, Voice.RegistrationChannel.FCM, fcmToken, registrationListener);\r\n        });\r\n}\r\n```\r\nHow does this code actually work and how would I go about rewriting it to make it compile? \r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId#getInstanceId()","title":"Using FirebaseInstallations and FirebaseMessaging instead of FirebaseInstanceId","body":"<p>I'm integrating to my project a piece of code that is using the deprecated interface <code>FirebaseInstanceId</code> instead of <code>FirebaseMessaging</code> and <code>FirebaseInstallations</code> to register and receive incoming calls.</p>\n<p>As I am new to Firebase, I don't fully understand the original code and I'm unsure how to change it in order to achieve the desired outcome.</p>\n<p>I wasn't able to fully improve my understanding and find a solution when looking at these posts:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51123197/firebaseinstanceidservice-is-deprecated\">FirebaseInstanceIdService is deprecated</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51125169/what-method-should-i-use-now-since-firebaseinstanceid-getinstance-gettoken-i\">What method should I use now since FirebaseInstanceId.getInstance().getToken() is deprecated</a></li>\n</ul>\n<p>Looking at the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId#getInstanceId()\" rel=\"nofollow noreferrer\">Firebase documentation</a>, my basic understanding is that:</p>\n<ol>\n<li><code>FirebaseInstanceId.getInstance()</code> <em>we are returning an instance of the class</em> <br /></li>\n<li><code>.getInstanceId()</code> <em>to then returns a Task</em> <br /></li>\n<li><code>.addOnSuccessListener(this, instance -&gt; ...)</code> <em>that then calls a method if it is succesful</em> <br /></li>\n<li><code>fcmToken = instanceIdResult.getToken()</code> <em>which gets a FCM Token</em></li>\n</ol>\n<p>However, I'm not exactly sure if this is correct nor am I clear on what exactly the instanceIdResult and Task represent here.</p>\n<p><strong>Code</strong></p>\n<pre><code>/* Register your FCM token to receive incoming call invites */\nprivate void registerForCallInvites() {\n   FirebaseInstanceId.getInstance().getInstanceId().addOnSuccessListener(this, instanceIdResult -&gt; {\n            String fcmToken = instanceIdResult.getToken();\n            Log.i(TAG, &quot;Registering with FCM&quot;);\n            Voice.register(accessToken, Voice.RegistrationChannel.FCM, fcmToken, registrationListener);\n        });\n}\n</code></pre>\n<p>How does this code actually work and how would I go about rewriting it to make it compile?</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677592674,"creation_date":1677592674,"answer_id":75593058,"question_id":75592024,"body_markdown":"Assuming all expressions share the same data type, do this:\r\n\r\n```java\r\ncontext.update(MY_TABLE)\r\n        .set(option == 1 ? MY_TABLE.COLUMN_A : MY_TABLE.COLUMN_B,\r\n             option == 1 ? fieldA : fieldB)\r\n        .where(MY_TABLE.SK.eq(sk))\r\n        .execute();\r\n```\r\n\r\nIf you can&#39;t do this in a type safe way, you could use rawtype casts, or omit type safety using a `Map`:\r\n\r\n```java\r\ncontext.update(MY_TABLE)\r\n        .set(option == 1 \r\n           ? Map.of(MY_TABLE.COLUMN_A, fieldA) \r\n           : Map.of(MY_TABLE.COLUMN_B, fieldB))\r\n        .where(MY_TABLE.SK.eq(sk))\r\n        .execute();\r\n```","title":"Define dynamically what columns to update in jOOQ","body":"<p>Assuming all expressions share the same data type, do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.update(MY_TABLE)\n        .set(option == 1 ? MY_TABLE.COLUMN_A : MY_TABLE.COLUMN_B,\n             option == 1 ? fieldA : fieldB)\n        .where(MY_TABLE.SK.eq(sk))\n        .execute();\n</code></pre>\n<p>If you can't do this in a type safe way, you could use rawtype casts, or omit type safety using a <code>Map</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.update(MY_TABLE)\n        .set(option == 1 \n           ? Map.of(MY_TABLE.COLUMN_A, fieldA) \n           : Map.of(MY_TABLE.COLUMN_B, fieldB))\n        .where(MY_TABLE.SK.eq(sk))\n        .execute();\n</code></pre>\n"}],"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75593058,"answer_count":1,"score":1,"last_activity_date":1677592674,"creation_date":1677587018,"question_id":75592024,"body_markdown":"\r\nI have this jOOQ example that could either update COLUMN_A or COLUMN_B\r\n\r\n\r\n\tcontext.update(MY_TABLE)\r\n        \t.set(MY_TABLE.COLUMN_A, fieldA)\r\n        \t.where(MY_TABLE.SK.eq(sk))\r\n        \t.execute();\r\n\r\n\r\n\tcontext.update(MY_TABLE)\r\n        \t.set(MY_TABLE.COLUMN_B, fieldB)\r\n        \t.where(MY_TABLE.SK.eq(sk))\r\n        \t.execute();\r\n\r\n\r\nI want to have a _single_ code instead of two snippets, how to extract the `.set` portion into a variable to be able to do that? Something along these lines:\r\n\r\n         \r\n    if (option == 1)\r\n        setColumn = `(MY_TABLE.COLUMN_A, fieldA)`;\r\n    else\r\n        setColumn = `(MY_TABLE.COLUMN_B, fieldB)`;\r\n\r\n\r\n\tcontext.update(MY_TABLE)\r\n        \t.set(setColumn)\r\n        \t.where(MY_TABLE.SK.eq(sk))\r\n        \t.execute();\r\n\r\n","title":"Define dynamically what columns to update in jOOQ","body":"<p>I have this jOOQ example that could either update COLUMN_A or COLUMN_B</p>\n<pre><code>context.update(MY_TABLE)\n        .set(MY_TABLE.COLUMN_A, fieldA)\n        .where(MY_TABLE.SK.eq(sk))\n        .execute();\n\n\ncontext.update(MY_TABLE)\n        .set(MY_TABLE.COLUMN_B, fieldB)\n        .where(MY_TABLE.SK.eq(sk))\n        .execute();\n</code></pre>\n<p>I want to have a <em>single</em> code instead of two snippets, how to extract the <code>.set</code> portion into a variable to be able to do that? Something along these lines:</p>\n<pre><code>if (option == 1)\n    setColumn = `(MY_TABLE.COLUMN_A, fieldA)`;\nelse\n    setColumn = `(MY_TABLE.COLUMN_B, fieldB)`;\n\n\ncontext.update(MY_TABLE)\n        .set(setColumn)\n        .where(MY_TABLE.SK.eq(sk))\n        .execute();\n</code></pre>\n"},{"tags":["java","android","debugging","xiaomi","miui"],"answers":[{"tags":[],"owner":{"account_id":12050336,"reputation":201,"user_id":8813572,"display_name":"HeinerTheBest"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1567806603,"creation_date":1567792401,"answer_id":57826594,"question_id":57826529,"body_markdown":" 1. Go to developer configuration\r\n 2. Turn Off *Allow debug*\r\n 3. Turn On *Allow debug* \r\n 4. Connect again\r\n    \r\nIt&#39;ll show you the alert again :D ","title":"Accidentally pressed don&#39;t allow install app and remember - Android Studio","body":"<ol>\n<li>Go to developer configuration</li>\n<li>Turn Off <em>Allow debug</em></li>\n<li>Turn On <em>Allow debug</em> </li>\n<li>Connect again</li>\n</ol>\n\n<p>It'll show you the alert again :D </p>\n"},{"tags":[],"owner":{"account_id":20351631,"reputation":27,"user_id":14928188,"display_name":"Pankaj Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625363799,"creation_date":1625363799,"answer_id":68241131,"question_id":57826529,"body_markdown":"If you are using Mi device then normally disable miui optimization under developers options, then try to reinstall the app and after the app get installed again turn on the miui optimization.","title":"Accidentally pressed don&#39;t allow install app and remember - Android Studio","body":"<p>If you are using Mi device then normally disable miui optimization under developers options, then try to reinstall the app and after the app get installed again turn on the miui optimization.</p>\n"},{"tags":[],"owner":{"account_id":18351196,"reputation":51,"user_id":13365325,"display_name":"baobab159"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637829955,"creation_date":1637751057,"answer_id":70094738,"question_id":57826529,"body_markdown":"Go to `*Settings* =&gt; Permissions =&gt; Install via USB`.\r\nFor me it worked","title":"Accidentally pressed don&#39;t allow install app and remember - Android Studio","body":"<p>Go to <code>*Settings* =&gt; Permissions =&gt; Install via USB</code>.\nFor me it worked</p>\n"},{"tags":[],"owner":{"account_id":12561697,"reputation":167,"user_id":9139221,"display_name":"Daruda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640618583,"creation_date":1640618583,"answer_id":70497333,"question_id":57826529,"body_markdown":"Try again, and the notification informing you about the blocked installation will pop up. Click it and uncheck the application you want to install. You will be asked for permission to install again the next time you try to install the app. (Android 11)","title":"Accidentally pressed don&#39;t allow install app and remember - Android Studio","body":"<p>Try again, and the notification informing you about the blocked installation will pop up. Click it and uncheck the application you want to install. You will be asked for permission to install again the next time you try to install the app. (Android 11)</p>\n"},{"tags":[],"owner":{"account_id":16077501,"reputation":519,"user_id":11687381,"display_name":"Apoorv pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677592666,"creation_date":1677592666,"answer_id":75593054,"question_id":57826529,"body_markdown":"In MIUI 13 settings page search for &quot;Install via USB&quot; and select the security category option in results. \r\nIt contains rejected installs, simply deselect your app from there.","title":"Accidentally pressed don&#39;t allow install app and remember - Android Studio","body":"<p>In MIUI 13 settings page search for &quot;Install via USB&quot; and select the security category option in results.\nIt contains rejected installs, simply deselect your app from there.</p>\n"}],"owner":{"display_name":"user12031923"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57826594,"answer_count":5,"score":4,"last_activity_date":1677592666,"creation_date":1567792027,"question_id":57826529,"body_markdown":"When I ran my app in Android studio, with my personal device, a notification was shown, and I accidentally pressed &quot;remember action&quot;, and then pressed &quot;don&#39;t allow&quot;. Now each time I try to run the app, I obtain an Android error, which says:\r\n\r\n&gt; 19:35 Session &#39;app&#39;: Installation did not succeed. The application could not be installed: INSTALL_FAILED_USER_RESTRICTED Retry\r\n\r\nI&#39;ve tried reconnecting the USB cable, however it didn&#39;t work.\r\n\r\nDoes someone know how to undo this? \r\n\r\n","title":"Accidentally pressed don&#39;t allow install app and remember - Android Studio","body":"<p>When I ran my app in Android studio, with my personal device, a notification was shown, and I accidentally pressed \"remember action\", and then pressed \"don't allow\". Now each time I try to run the app, I obtain an Android error, which says:</p>\n\n<blockquote>\n  <p>19:35 Session 'app': Installation did not succeed. The application could not be installed: INSTALL_FAILED_USER_RESTRICTED Retry</p>\n</blockquote>\n\n<p>I've tried reconnecting the USB cable, however it didn't work.</p>\n\n<p>Does someone know how to undo this? </p>\n"},{"tags":["java","spring","serialization","jackson","offsetdatetime"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1664518037,"post_id":72490935,"comment_id":130494233,"body_markdown":"The documentation of [OffsetDateTime#toString--](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toString--) mentions it clearly: **The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.**","body":"The documentation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toString--\" rel=\"nofollow noreferrer\">OffsetDateTime#toString--</a> mentions it clearly: <b>The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.</b>"},{"owner":{"account_id":8599834,"reputation":59,"user_id":6441783,"display_name":"warozell"},"score":0,"creation_date":1664630444,"post_id":72490935,"comment_id":130518079,"body_markdown":"@ArvindKumarAvinash That is a good point, but in my case, I was changing it to a string via the formatter, not the `toString()` itself. The formatter does not specify this, and I doubt the formatter utilizes the `toString()`.\nI guess this is simply the way it works to remove unnecessary data, but it can be a pain if the parser requires a specific format :/","body":"@ArvindKumarAvinash That is a good point, but in my case, I was changing it to a string via the formatter, not the <code>toString()</code> itself. The formatter does not specify this, and I doubt the formatter utilizes the <code>toString()</code>. I guess this is simply the way it works to remove unnecessary data, but it can be a pain if the parser requires a specific format :/"}],"answers":[{"tags":[],"owner":{"account_id":911646,"reputation":31,"user_id":945348,"display_name":"Frolovskij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677592594,"creation_date":1677592594,"answer_id":75593038,"question_id":72490935,"body_markdown":"It looks like Jackson ignores `@DateTimeFormat` annotation and the real serialization happens in `com.fasterxml.jackson.datatype.jsr310.ser.OffsetDateTimeSerializer`.\r\n\r\nYou can test it if you annotate the field like this (it won&#39;t affect the result):\r\n```\r\n@JsonProperty(&quot;creationDateTime&quot;)\r\n@DateTimeFormat(pattern = &quot;yyyy&quot;)\r\nprivate OffsetDateTime validTo;\r\n```","title":"Jackson serialization of OffsetDateTime with DateTimeFormat.ISO.DATE_TIME ignores zero milliseconds","body":"<p>It looks like Jackson ignores <code>@DateTimeFormat</code> annotation and the real serialization happens in <code>com.fasterxml.jackson.datatype.jsr310.ser.OffsetDateTimeSerializer</code>.</p>\n<p>You can test it if you annotate the field like this (it won't affect the result):</p>\n<pre><code>@JsonProperty(&quot;creationDateTime&quot;)\n@DateTimeFormat(pattern = &quot;yyyy&quot;)\nprivate OffsetDateTime validTo;\n</code></pre>\n"}],"owner":{"account_id":8599834,"reputation":59,"user_id":6441783,"display_name":"warozell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677592594,"creation_date":1654265694,"question_id":72490935,"body_markdown":"I have a class that will get serialized into JSON with the following attribute:\r\n```\r\n  @JsonProperty(&quot;validTo&quot;)\r\n  @org.springframework.format.annotation.DateTimeFormat(iso = org.springframework.format.annotation.DateTimeFormat.ISO.DATE_TIME)\r\n  private OffsetDateTime validTo;\r\n```\r\nI&#39;m also using the default spring-boot ObjectMapper with Jackson. This works fine if the `validTo` DateTime has non-zero mili/nanoseconds. However, if they are zero, the result will not include them at all.\r\n\r\nValue `OffsetDateTime.of(2000, 10, 10, 10, 10, 10, 1000000, ZoneOffset.UTC)` would correctly translate to `2000-10-10T10:10:10.001Z`\r\n\r\nBut `OffsetDateTime.of(2000, 10, 10, 10, 10, 10, 0, ZoneOffset.UTC)` would incorrectly translate to `2000-10-10T10:10:10Z`\r\n\r\nWhy is that?\r\nThe javadoc of the format used in the annotation describes it as `The most common ISO Date Time Format yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX  for example, &quot;2000-10-31T01:30:00.000-05:00&quot;.`, which appears to include the zeros.","title":"Jackson serialization of OffsetDateTime with DateTimeFormat.ISO.DATE_TIME ignores zero milliseconds","body":"<p>I have a class that will get serialized into JSON with the following attribute:</p>\n<pre><code>  @JsonProperty(&quot;validTo&quot;)\n  @org.springframework.format.annotation.DateTimeFormat(iso = org.springframework.format.annotation.DateTimeFormat.ISO.DATE_TIME)\n  private OffsetDateTime validTo;\n</code></pre>\n<p>I'm also using the default spring-boot ObjectMapper with Jackson. This works fine if the <code>validTo</code> DateTime has non-zero mili/nanoseconds. However, if they are zero, the result will not include them at all.</p>\n<p>Value <code>OffsetDateTime.of(2000, 10, 10, 10, 10, 10, 1000000, ZoneOffset.UTC)</code> would correctly translate to <code>2000-10-10T10:10:10.001Z</code></p>\n<p>But <code>OffsetDateTime.of(2000, 10, 10, 10, 10, 10, 0, ZoneOffset.UTC)</code> would incorrectly translate to <code>2000-10-10T10:10:10Z</code></p>\n<p>Why is that?\nThe javadoc of the format used in the annotation describes it as <code>The most common ISO Date Time Format yyyy-MM-dd'T'HH:mm:ss.SSSXXX  for example, &quot;2000-10-31T01:30:00.000-05:00&quot;.</code>, which appears to include the zeros.</p>\n"},{"tags":["java","multithreading","spring-mvc"],"owner":{"account_id":14287770,"reputation":79,"user_id":10320673,"display_name":"Bapt_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677592498,"creation_date":1677592498,"question_id":75593024,"body_markdown":"I have a SpringMVC endpoint for downloading documents stored in S3. It returns a ```ResponseEntity&lt;StreamingResponseBody&gt;```\r\n\r\n\r\nThe method in the Runnable reads the document in S3 with an InputStream and copies the bytes of the document in the OutputStream connected with the request of the browser.\r\n\r\n### Controler ###\r\n\r\n```java\r\npublic ResponseEntity&lt;StreamingResponseBody&gt; downloadDocuments(...) {\r\n\tStreamingResponseBody srb = outputStream -&gt; {\r\n\t\ttry {\r\n\t\t\tthis.downloadFacade.getDocInOutputStream(outputStream, s3key);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t};\r\n\r\n\treturn ResponseEntity.ok()\r\n\t\t.header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + &quot;files.zip&quot;)\r\n\t\t.contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n\t\t.body(srb);\r\n}\r\n```\r\n\r\n### Service ###\r\n\r\n```java\r\nprivate void getDocInOutputStream(OutputStream outputStream, String s3key) {\r\n\tInputStream in = null;\r\n\ttry {\r\n\t\tin = this.getDocumentInputStream(s3key);\r\n\t\tif (in != null) {\r\n\t\t\tIOUtils.copy(in, outputStream, STREAM_BUFFERSIZE);\r\n\t\t\tin.close();\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\t(...)\r\n\t} finally {\r\n\t\t(...)\r\n\t}\r\n}\r\n```\r\n\r\nI have created a TaskExecutor to process the async requests:\r\n```\r\n@Override\r\npublic void configureAsyncSupport(final AsyncSupportConfigurer configurer) {\r\n\tfinal ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\texecutor.setCorePoolSize(10);\r\n\texecutor.setMaxPoolSize(10);\r\n\texecutor.setQueueCapacity(100);\r\n\texecutor.setPrestartAllCoreThreads(true);\r\n\texecutor.setThreadNamePrefix(&quot;mvc-async-download-&quot;);\r\n\texecutor.initialize();\r\n\tconfigurer.setTaskExecutor(executor);\r\n}\r\n```\r\n\r\nI desactivated the timeout for the async requests with this:\r\n```spring.mvc.async.request-timeout=-1```\r\n\r\nEverything works fine and when I hit the endpoint, the download is processed by a thread of the Executor-pool (*mvc-async-download-X*).\r\n\r\nNow, when a client close the browser, the async thread is blocked for **60 seconds** before the task is cancelled and the thread released back to the pool.\r\n\r\n\r\n# Questions #\r\n\r\n- What&#39;s the best way to detect the closing of the **OutputStream** and stop the task ?\r\n\r\n- If it&#39;s not possible to detect that, is there any way to configure this timeout ? (I&#39;m still unable to find the origin of it)\r\n","title":"StreamingResponseBody thread release after outputstream is closed","body":"<p>I have a SpringMVC endpoint for downloading documents stored in S3. It returns a <code>ResponseEntity&lt;StreamingResponseBody&gt;</code></p>\n<p>The method in the Runnable reads the document in S3 with an InputStream and copies the bytes of the document in the OutputStream connected with the request of the browser.</p>\n<h3>Controler</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;StreamingResponseBody&gt; downloadDocuments(...) {\n    StreamingResponseBody srb = outputStream -&gt; {\n        try {\n            this.downloadFacade.getDocInOutputStream(outputStream, s3key);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    };\n\n    return ResponseEntity.ok()\n        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + &quot;files.zip&quot;)\n        .contentType(MediaType.APPLICATION_OCTET_STREAM)\n        .body(srb);\n}\n</code></pre>\n<h3>Service</h3>\n<pre class=\"lang-java prettyprint-override\"><code>private void getDocInOutputStream(OutputStream outputStream, String s3key) {\n    InputStream in = null;\n    try {\n        in = this.getDocumentInputStream(s3key);\n        if (in != null) {\n            IOUtils.copy(in, outputStream, STREAM_BUFFERSIZE);\n            in.close();\n        }\n    } catch (IOException e) {\n        (...)\n    } finally {\n        (...)\n    }\n}\n</code></pre>\n<p>I have created a TaskExecutor to process the async requests:</p>\n<pre><code>@Override\npublic void configureAsyncSupport(final AsyncSupportConfigurer configurer) {\n    final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(10);\n    executor.setMaxPoolSize(10);\n    executor.setQueueCapacity(100);\n    executor.setPrestartAllCoreThreads(true);\n    executor.setThreadNamePrefix(&quot;mvc-async-download-&quot;);\n    executor.initialize();\n    configurer.setTaskExecutor(executor);\n}\n</code></pre>\n<p>I desactivated the timeout for the async requests with this:\n<code>spring.mvc.async.request-timeout=-1</code></p>\n<p>Everything works fine and when I hit the endpoint, the download is processed by a thread of the Executor-pool (<em>mvc-async-download-X</em>).</p>\n<p>Now, when a client close the browser, the async thread is blocked for <strong>60 seconds</strong> before the task is cancelled and the thread released back to the pool.</p>\n<h1>Questions</h1>\n<ul>\n<li><p>What's the best way to detect the closing of the <strong>OutputStream</strong> and stop the task ?</p>\n</li>\n<li><p>If it's not possible to detect that, is there any way to configure this timeout ? (I'm still unable to find the origin of it)</p>\n</li>\n</ul>\n"},{"tags":["java","spring","google-app-engine","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":1240761,"reputation":4403,"user_id":3227693,"display_name":"Igor Dvorzhak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1589565589,"creation_date":1589565589,"answer_id":61825568,"question_id":61810399,"body_markdown":"To fix this issue you should use a non-Android Guava version - `29.0-jre`, because this is Guava version that GCSIO library [depends on](https://github.com/GoogleCloudDataproc/hadoop-connectors/blob/v2.1.3/pom.xml#L107).","title":"Execute Google Cloud Dataflow pipeline from Spring controller","body":"<p>To fix this issue you should use a non-Android Guava version - <code>29.0-jre</code>, because this is Guava version that GCSIO library <a href=\"https://github.com/GoogleCloudDataproc/hadoop-connectors/blob/v2.1.3/pom.xml#L107\" rel=\"noreferrer\">depends on</a>.</p>\n"}],"owner":{"account_id":436888,"reputation":2631,"user_id":824294,"accept_rate":100,"display_name":"auroranil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3025,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61825568,"answer_count":1,"score":5,"last_activity_date":1677592000,"creation_date":1589507487,"question_id":61810399,"body_markdown":"How would I go about executing an Apache Beam pipeline to Google Cloud Dataflow using Spring? This question is similar to https://stackoverflow.com/questions/57356506/running-apache-beam-pipeline-in-spring-boot-project-on-google-data-flow, but this one concerns more about launching the pipeline from a Spring controller, rather from a CommandLineRunner.\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/task/import-csv-file&quot;)\r\npublic class ImportCsvController {\r\n    @PostMapping(&quot;/process-csv-file&quot;)\r\n    private ResponseEntity&lt;Void&gt; processCsvFile(\r\n            @RequestParam String gcsFileName,\r\n            @RequestParam String bucketName\r\n    ) {\r\n        DataflowPipelineOptions options = PipelineOptionsFactory.as(DataflowPipelineOptions.class);\r\n        \r\n        options.setProject(&quot;same-project-as-this-app-engine-instance&quot;);\r\n        options.setStagingLocation(&quot;gs://&quot; + bucketName + &quot;/binaries&quot;);\r\n        options.setRunner(DataflowRunner.class);\r\n        options.setJobname(&quot;process-csv&quot;);\r\n\r\n        Pipeline pipeline = Pipeline.create(options);\r\n        pipeline.apply(&quot;ReadFile&quot;, TextIO.read().from(&quot;gs://&quot; + bucketName + &quot;/&quot; + gcsFileName));\r\n        // ... apply some more transforms here, which will eventually \r\n        // write csv rows as Google Datastore entities ...\r\n        pipeline.run().waitUntilFinish();\r\n        return ResponseEntity.ok().build();\r\n    }\r\n}\r\n```\r\n\r\nI am running this controller using Google Cloud Tasks, using the following code below:\r\n\r\n```java\r\n@Service\r\npublic class TaskQueueService {\r\n    private Queue csvImportsQueue;\r\n\r\n    public TaskQueueService() {\r\n        this.csvImportsQueue = QueueFactory.getQueue(&quot;csv-import-queue&quot;);\r\n    }\r\n\r\n    public void queueImportCsvFile(String gcsFileName, String bucketName) {\r\n        String url = &quot;/task/import-csv-file/process-csv-file&quot;;\r\n        TaskOptions taskOptions = TaskOptions.Builder\r\n                .withUrl(url)\r\n                .method(POST)\r\n                .param(&quot;gcsFileName&quot;, gcsFileName)\r\n                .param(&quot;bucketName&quot;, bucketName);\r\n        queue.add(ofy().getTransaction(), taskOptions);\r\n    }\r\n}\r\n```\r\n\r\nFrom Google Cloud Logging, I got this error\r\n```\r\njava.lang.RuntimeException: Failed to construct instance from factory method DataflowRunner#fromOptions(interface org.apache.beam.sdk.options.PipelineOptions)\r\n```\r\n\r\nDown in the stacktrace, this error message looks useful:\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Missing required value for [public abstract java.lang.String org.apache.beam.runners.dataflow.options.DataflowPipelineOptions.getProject(), &quot;Project id. Required when running a Dataflow in the cloud. See https://cloud.google.com/storage/docs/projects for further details.&quot;]. \r\n```\r\n\r\nBut as you can see above, I do set the project with the line `options.setProject(&quot;same-project-as-this-app-engine-instance&quot;);`\r\n\r\nEdit: I found a different stacktrace, which has different error messages. Here is the stacktrace in its entirety.\r\n\r\n```\r\njava.lang.RuntimeException: Failed to construct instance from factory method DataflowRunner#fromOptions(interface org.apache.beam.sdk.options.PipelineOptions)\r\n\tat org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod(InstanceBuilder.java:224)\r\n\tat org.apache.beam.sdk.util.InstanceBuilder.build(InstanceBuilder.java:155)\r\n\tat org.apache.beam.sdk.PipelineRunner.fromOptions(PipelineRunner.java:55)\r\n\tat org.apache.beam.sdk.Pipeline.create(Pipeline.java:149)\r\n\tat com.example.application.controllers.tasks.ImportCsvController.processCsvFile(ImportCsvController.java:64)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat com.example.application.filters.SwitchUserProfileFilter.doFilter(SwitchUserProfileFilter.java:127)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)\r\n\tat org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.saml.SAMLDiscovery.doFilter(SAMLDiscovery.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)\r\n\tat org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat com.example.application.filters.CustomDomainFilter.doFilterInternal(CustomDomainFilter.java:43)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n\tat com.google.apphosting.utils.servlet.JdbcMySqlConnectionCleanupFilter.doFilter(JdbcMySqlConnectionCleanupFilter.java:60)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:61)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:110)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n\tat com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\r\n\tat com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:119)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1182)\r\n\tat com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:187)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:293)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:539)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:333)\r\n\tat com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:213)\r\n\tat com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:81)\r\n\tat com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:134)\r\n\tat com.google.apphosting.runtime.JavaRuntime$RequestRunnable.dispatchServletRequest(JavaRuntime.java:757)\r\n\tat com.google.apphosting.runtime.JavaRuntime$RequestRunnable.dispatchRequest(JavaRuntime.java:720)\r\n\tat com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:690)\r\n\tat com.google.apphosting.runtime.JavaRuntime$NullSandboxRequestRunnable.run(JavaRuntime.java:882)\r\n\tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:270)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.reflect.InvocationTargetException: null\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod(InstanceBuilder.java:214)\r\n\t... 123 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: com.google.common.cache.CacheBuilder.expireAfterWrite(Ljava/time/Duration;)Lcom/google/common/cache/CacheBuilder;\r\n\tat com.google.cloud.hadoop.gcsio.GoogleCloudStorageImpl.&lt;init&gt;(GoogleCloudStorageImpl.java:149)\r\n\tat org.apache.beam.sdk.extensions.gcp.util.GcsUtil.&lt;init&gt;(GcsUtil.java:243)\r\n\tat org.apache.beam.sdk.extensions.gcp.util.GcsUtil.&lt;init&gt;(GcsUtil.java:82)\r\n\tat org.apache.beam.sdk.extensions.gcp.util.GcsUtil$GcsUtilFactory.create(GcsUtil.java:104)\r\n\tat org.apache.beam.sdk.extensions.gcp.util.GcsUtil$GcsUtilFactory.create(GcsUtil.java:87)\r\n\tat org.apache.beam.sdk.options.ProxyInvocationHandler.returnDefaultHelper(ProxyInvocationHandler.java:592)\r\n\tat org.apache.beam.sdk.options.ProxyInvocationHandler.getDefault(ProxyInvocationHandler.java:533)\r\n\tat org.apache.beam.sdk.options.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:158)\r\n\tat com.sun.proxy.$Proxy164.getGcsUtil(Unknown Source)\r\n\tat org.apache.beam.sdk.extensions.gcp.options.GcpOptions$GcpTempLocationFactory.tryCreateDefaultBucket(GcpOptions.java:354)\r\n\tat org.apache.beam.sdk.extensions.gcp.options.GcpOptions$GcpTempLocationFactory.create(GcpOptions.java:300)\r\n\tat org.apache.beam.sdk.extensions.gcp.options.GcpOptions$GcpTempLocationFactory.create(GcpOptions.java:288)\r\n\tat org.apache.beam.sdk.options.ProxyInvocationHandler.returnDefaultHelper(ProxyInvocationHandler.java:592)\r\n\tat org.apache.beam.sdk.options.ProxyInvocationHandler.getDefault(ProxyInvocationHandler.java:533)\r\n\tat org.apache.beam.sdk.options.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:158)\r\n\tat com.sun.proxy.$Proxy149.getGcpTempLocation(Unknown Source)\r\n\tat org.apache.beam.runners.dataflow.DataflowRunner.fromOptions(DataflowRunner.java:249)\r\n\t... 128 common frames omitted\r\n```\r\n\r\nEdit 2: I typed these two imports in one of my source files:\r\n\r\n```java\r\nimport com.google.common.cache.CacheBuilder;\r\nimport com.google.cloud.hadoop.gcsio.GoogleCloudStorageImpl;\r\n```\r\n\r\nThen I pressed Cmd+Click to go to their implementation in Intellij, and I found that the method overload does not exist (as buried in the long stacktrace above).\r\n\r\n`~/.gradle/caches/modules-2/files-2.1/com.google.cloud.bigdataoss/gcsio/2.0.0/ba86cba5b74f7ded14feb682cc81ece7724573a7/gcsio-2.0.0-sources.jar!/com/google/cloud/hadoop/gcsio/GoogleCloudStorageImpl.java`\r\n\r\n```java\r\nprivate final LoadingCache&lt;String, Boolean&gt; autoBuckets =\r\n    CacheBuilder.newBuilder()\r\n        .expireAfterWrite(Duration.ofHours(1))\r\n        .build(\r\n            new CacheLoader&lt;String, Boolean&gt;() {\r\n              final List&lt;String&gt; iamPermissions = ImmutableList.of(&quot;storage.buckets.get&quot;);\r\n\r\n              @Override\r\n              public Boolean load(String bucketName) throws Exception {\r\n                try {\r\n                  gcs.buckets()\r\n                      .testIamPermissions(bucketName, iamPermissions)\r\n                      .executeUnparsed()\r\n                      .disconnect();\r\n                } catch (IOException e) {\r\n                  return errorExtractor.userProjectMissing(e);\r\n                }\r\n                return false;\r\n              }\r\n            });\r\n```\r\n\r\n`~/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/29.0-android/63f9bc5fbf2ebfe6b17683f8eac8419588295a28/guava-29.0-android-sources.jar!/com/google/common/cache/CacheBuilder.java`\r\n\r\n```\r\npublic CacheBuilder&lt;K, V&gt; expireAfterWrite(long duration, TimeUnit unit) {\r\n  checkState(\r\n      expireAfterWriteNanos == UNSET_INT,\r\n      &quot;expireAfterWrite was already set to %s ns&quot;,\r\n      expireAfterWriteNanos);\r\n  checkArgument(duration &gt;= 0, &quot;duration cannot be negative: %s %s&quot;, duration, unit);\r\n  this.expireAfterWriteNanos = unit.toNanos(duration);\r\n  return this;\r\n}\r\n```\r\n\r\nEdit 3: Here are the Apache Beam versions I am using:\r\n```\r\ndependencies {\r\n    compile group: &#39;org.apache.beam&#39;, name: &#39;beam-sdks-java-core&#39;, version: &#39;2.20.0&#39;\r\n    compile group: &#39;org.apache.beam&#39;, name: &#39;beam-runners-google-cloud-dataflow-java&#39;, version: &#39;2.20.0&#39;\r\n}\r\n```","title":"Execute Google Cloud Dataflow pipeline from Spring controller","body":"<p>How would I go about executing an Apache Beam pipeline to Google Cloud Dataflow using Spring? This question is similar to <a href=\"https://stackoverflow.com/questions/57356506/running-apache-beam-pipeline-in-spring-boot-project-on-google-data-flow\">Running Apache Beam pipeline in Spring Boot project on Google Data Flow</a>, but this one concerns more about launching the pipeline from a Spring controller, rather from a CommandLineRunner.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(\"/task/import-csv-file\")\npublic class ImportCsvController {\n    @PostMapping(\"/process-csv-file\")\n    private ResponseEntity&lt;Void&gt; processCsvFile(\n            @RequestParam String gcsFileName,\n            @RequestParam String bucketName\n    ) {\n        DataflowPipelineOptions options = PipelineOptionsFactory.as(DataflowPipelineOptions.class);\n\n        options.setProject(\"same-project-as-this-app-engine-instance\");\n        options.setStagingLocation(\"gs://\" + bucketName + \"/binaries\");\n        options.setRunner(DataflowRunner.class);\n        options.setJobname(\"process-csv\");\n\n        Pipeline pipeline = Pipeline.create(options);\n        pipeline.apply(\"ReadFile\", TextIO.read().from(\"gs://\" + bucketName + \"/\" + gcsFileName));\n        // ... apply some more transforms here, which will eventually \n        // write csv rows as Google Datastore entities ...\n        pipeline.run().waitUntilFinish();\n        return ResponseEntity.ok().build();\n    }\n}\n</code></pre>\n\n<p>I am running this controller using Google Cloud Tasks, using the following code below:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TaskQueueService {\n    private Queue csvImportsQueue;\n\n    public TaskQueueService() {\n        this.csvImportsQueue = QueueFactory.getQueue(\"csv-import-queue\");\n    }\n\n    public void queueImportCsvFile(String gcsFileName, String bucketName) {\n        String url = \"/task/import-csv-file/process-csv-file\";\n        TaskOptions taskOptions = TaskOptions.Builder\n                .withUrl(url)\n                .method(POST)\n                .param(\"gcsFileName\", gcsFileName)\n                .param(\"bucketName\", bucketName);\n        queue.add(ofy().getTransaction(), taskOptions);\n    }\n}\n</code></pre>\n\n<p>From Google Cloud Logging, I got this error</p>\n\n<pre><code>java.lang.RuntimeException: Failed to construct instance from factory method DataflowRunner#fromOptions(interface org.apache.beam.sdk.options.PipelineOptions)\n</code></pre>\n\n<p>Down in the stacktrace, this error message looks useful:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Missing required value for [public abstract java.lang.String org.apache.beam.runners.dataflow.options.DataflowPipelineOptions.getProject(), \"Project id. Required when running a Dataflow in the cloud. See https://cloud.google.com/storage/docs/projects for further details.\"]. \n</code></pre>\n\n<p>But as you can see above, I do set the project with the line <code>options.setProject(\"same-project-as-this-app-engine-instance\");</code></p>\n\n<p>Edit: I found a different stacktrace, which has different error messages. Here is the stacktrace in its entirety.</p>\n\n<pre><code>java.lang.RuntimeException: Failed to construct instance from factory method DataflowRunner#fromOptions(interface org.apache.beam.sdk.options.PipelineOptions)\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod(InstanceBuilder.java:224)\n    at org.apache.beam.sdk.util.InstanceBuilder.build(InstanceBuilder.java:155)\n    at org.apache.beam.sdk.PipelineRunner.fromOptions(PipelineRunner.java:55)\n    at org.apache.beam.sdk.Pipeline.create(Pipeline.java:149)\n    at com.example.application.controllers.tasks.ImportCsvController.processCsvFile(ImportCsvController.java:64)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at com.example.application.filters.SwitchUserProfileFilter.doFilter(SwitchUserProfileFilter.java:127)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:168)\n    at org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:110)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.saml.SAMLDiscovery.doFilter(SAMLDiscovery.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:209)\n    at org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:84)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at com.example.application.filters.CustomDomainFilter.doFilterInternal(CustomDomainFilter.java:43)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at com.google.apphosting.utils.servlet.JdbcMySqlConnectionCleanupFilter.doFilter(JdbcMySqlConnectionCleanupFilter.java:60)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:61)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:110)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n    at com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:119)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1182)\n    at com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:187)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:293)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n    at org.eclipse.jetty.server.Server.handle(Server.java:539)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:333)\n    at com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:213)\n    at com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:81)\n    at com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:134)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.dispatchServletRequest(JavaRuntime.java:757)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.dispatchRequest(JavaRuntime.java:720)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:690)\n    at com.google.apphosting.runtime.JavaRuntime$NullSandboxRequestRunnable.run(JavaRuntime.java:882)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:270)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod(InstanceBuilder.java:214)\n    ... 123 common frames omitted\nCaused by: java.lang.NoSuchMethodError: com.google.common.cache.CacheBuilder.expireAfterWrite(Ljava/time/Duration;)Lcom/google/common/cache/CacheBuilder;\n    at com.google.cloud.hadoop.gcsio.GoogleCloudStorageImpl.&lt;init&gt;(GoogleCloudStorageImpl.java:149)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.&lt;init&gt;(GcsUtil.java:243)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.&lt;init&gt;(GcsUtil.java:82)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil$GcsUtilFactory.create(GcsUtil.java:104)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil$GcsUtilFactory.create(GcsUtil.java:87)\n    at org.apache.beam.sdk.options.ProxyInvocationHandler.returnDefaultHelper(ProxyInvocationHandler.java:592)\n    at org.apache.beam.sdk.options.ProxyInvocationHandler.getDefault(ProxyInvocationHandler.java:533)\n    at org.apache.beam.sdk.options.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:158)\n    at com.sun.proxy.$Proxy164.getGcsUtil(Unknown Source)\n    at org.apache.beam.sdk.extensions.gcp.options.GcpOptions$GcpTempLocationFactory.tryCreateDefaultBucket(GcpOptions.java:354)\n    at org.apache.beam.sdk.extensions.gcp.options.GcpOptions$GcpTempLocationFactory.create(GcpOptions.java:300)\n    at org.apache.beam.sdk.extensions.gcp.options.GcpOptions$GcpTempLocationFactory.create(GcpOptions.java:288)\n    at org.apache.beam.sdk.options.ProxyInvocationHandler.returnDefaultHelper(ProxyInvocationHandler.java:592)\n    at org.apache.beam.sdk.options.ProxyInvocationHandler.getDefault(ProxyInvocationHandler.java:533)\n    at org.apache.beam.sdk.options.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:158)\n    at com.sun.proxy.$Proxy149.getGcpTempLocation(Unknown Source)\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions(DataflowRunner.java:249)\n    ... 128 common frames omitted\n</code></pre>\n\n<p>Edit 2: I typed these two imports in one of my source files:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.common.cache.CacheBuilder;\nimport com.google.cloud.hadoop.gcsio.GoogleCloudStorageImpl;\n</code></pre>\n\n<p>Then I pressed Cmd+Click to go to their implementation in Intellij, and I found that the method overload does not exist (as buried in the long stacktrace above).</p>\n\n<p><code>~/.gradle/caches/modules-2/files-2.1/com.google.cloud.bigdataoss/gcsio/2.0.0/ba86cba5b74f7ded14feb682cc81ece7724573a7/gcsio-2.0.0-sources.jar!/com/google/cloud/hadoop/gcsio/GoogleCloudStorageImpl.java</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private final LoadingCache&lt;String, Boolean&gt; autoBuckets =\n    CacheBuilder.newBuilder()\n        .expireAfterWrite(Duration.ofHours(1))\n        .build(\n            new CacheLoader&lt;String, Boolean&gt;() {\n              final List&lt;String&gt; iamPermissions = ImmutableList.of(\"storage.buckets.get\");\n\n              @Override\n              public Boolean load(String bucketName) throws Exception {\n                try {\n                  gcs.buckets()\n                      .testIamPermissions(bucketName, iamPermissions)\n                      .executeUnparsed()\n                      .disconnect();\n                } catch (IOException e) {\n                  return errorExtractor.userProjectMissing(e);\n                }\n                return false;\n              }\n            });\n</code></pre>\n\n<p><code>~/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/29.0-android/63f9bc5fbf2ebfe6b17683f8eac8419588295a28/guava-29.0-android-sources.jar!/com/google/common/cache/CacheBuilder.java</code></p>\n\n<pre><code>public CacheBuilder&lt;K, V&gt; expireAfterWrite(long duration, TimeUnit unit) {\n  checkState(\n      expireAfterWriteNanos == UNSET_INT,\n      \"expireAfterWrite was already set to %s ns\",\n      expireAfterWriteNanos);\n  checkArgument(duration &gt;= 0, \"duration cannot be negative: %s %s\", duration, unit);\n  this.expireAfterWriteNanos = unit.toNanos(duration);\n  return this;\n}\n</code></pre>\n\n<p>Edit 3: Here are the Apache Beam versions I am using:</p>\n\n<pre><code>dependencies {\n    compile group: 'org.apache.beam', name: 'beam-sdks-java-core', version: '2.20.0'\n    compile group: 'org.apache.beam', name: 'beam-runners-google-cloud-dataflow-java', version: '2.20.0'\n}\n</code></pre>\n"},{"tags":["java","java-8","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":27099689,"reputation":15,"user_id":20646465,"display_name":"Florian B&#228;r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677591930,"creation_date":1677591930,"answer_id":75592910,"question_id":75519285,"body_markdown":"I created a Excel that looks exactly like yours, except the formating but content is identically. \r\nApache POI makes this pretty easy and straight forward(as i think)\r\n\r\n \r\n\r\n    for (int i = 0; i &lt; sheet.getNumMergedRegions(); i++)\r\n                {\r\n                    CellRangeAddress range = sheet.getMergedRegion(i);\r\n                    //Use what you need if you just got rows merged endingColumn == startingColumn same goes for rows and merged Columns\r\n                    int startingColumn = range.getFirstColumn();\r\n                    int endingColumn = range.getLastColumn();\r\n                    int startingRow = range.getFirstRow();\r\n                    int endingRow = range.getLastRow();\r\n                    //This will hold the value e.g. &#39;Class 1&#39;\r\n                    String value = sheet.getRow(startingRow).getCell(startingColumn).getStringCellValue();\r\n                    //Necessary otherwise next for loop will just not overwrite your merged Regions\r\n                    sheet.removeMergedRegion(i);\r\n                    for (int rowIdx = startingRow; rowIdx &lt;= endingRow; rowIdx++)\r\n                    {\r\n                        //Just delete this For-Loop if you just merge Rows then cellIdx is just the starting/endingColumn\r\n                        for (int cellIdx = startingColumn; cellIdx &lt;= endingColumn; cellIdx++)\r\n                        {\r\n                           sheet.getRow(rowIdx).getCell(cellIdx).setCellValue(value);\r\n                        }\r\n                    }\r\n                }\r\n\r\nThe only thing cells within a merged region will automaticall be set to centered. So if you don&#39;t want this you have the set the cell type as you want it before you write it out\r\n\r\nKind regards","title":"How to unmerge cells and fill with duplicate values using Java apache POI lib?","body":"<p>I created a Excel that looks exactly like yours, except the formating but content is identically.\nApache POI makes this pretty easy and straight forward(as i think)</p>\n<pre><code>for (int i = 0; i &lt; sheet.getNumMergedRegions(); i++)\n            {\n                CellRangeAddress range = sheet.getMergedRegion(i);\n                //Use what you need if you just got rows merged endingColumn == startingColumn same goes for rows and merged Columns\n                int startingColumn = range.getFirstColumn();\n                int endingColumn = range.getLastColumn();\n                int startingRow = range.getFirstRow();\n                int endingRow = range.getLastRow();\n                //This will hold the value e.g. 'Class 1'\n                String value = sheet.getRow(startingRow).getCell(startingColumn).getStringCellValue();\n                //Necessary otherwise next for loop will just not overwrite your merged Regions\n                sheet.removeMergedRegion(i);\n                for (int rowIdx = startingRow; rowIdx &lt;= endingRow; rowIdx++)\n                {\n                    //Just delete this For-Loop if you just merge Rows then cellIdx is just the starting/endingColumn\n                    for (int cellIdx = startingColumn; cellIdx &lt;= endingColumn; cellIdx++)\n                    {\n                       sheet.getRow(rowIdx).getCell(cellIdx).setCellValue(value);\n                    }\n                }\n            }\n</code></pre>\n<p>The only thing cells within a merged region will automaticall be set to centered. So if you don't want this you have the set the cell type as you want it before you write it out</p>\n<p>Kind regards</p>\n"}],"owner":{"account_id":8503011,"reputation":11,"user_id":6375442,"display_name":"User6375442"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677591930,"creation_date":1676975917,"question_id":75519285,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YzxGj.png\r\n\r\nGiving column name as input (eg. Class).","title":"How to unmerge cells and fill with duplicate values using Java apache POI lib?","body":"<p><a href=\"https://i.stack.imgur.com/YzxGj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YzxGj.png\" alt=\"enter image description here\" /></a></p>\n<p>Giving column name as input (eg. Class).</p>\n"},{"tags":["java","variables","arraylist","freemarker"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":1,"creation_date":1677098087,"post_id":75534270,"comment_id":133272766,"body_markdown":"You are mixing up the `ObjectWrapper` and `TemplateModel` concepts. `MyWrappedObject` is just a generic object to FreeMarker, as it doesn&#39;t implement any `TemplateModel` interfaces, nor is it an instance of a well-know class (like `String`, `Map`, etc.). Such an object is an FTL string, and an FTL &quot;hash&quot; (basically a `Map` with string keys) that contains the Java Bean properties and Java Bean actions of the class. Hence the confusing error message.","body":"You are mixing up the <code>ObjectWrapper</code> and <code>TemplateModel</code> concepts. <code>MyWrappedObject</code> is just a generic object to FreeMarker, as it doesn&#39;t implement any <code>TemplateModel</code> interfaces, nor is it an instance of a well-know class (like <code>String</code>, <code>Map</code>, etc.). Such an object is an FTL string, and an FTL &quot;hash&quot; (basically a <code>Map</code> with string keys) that contains the Java Bean properties and Java Bean actions of the class. Hence the confusing error message."},{"owner":{"account_id":15039987,"reputation":128,"user_id":10854960,"display_name":"Mark Roy"},"score":0,"creation_date":1677177444,"post_id":75534270,"comment_id":133291438,"body_markdown":"@ddekany Is what I&#39;m trying to accomplish even possible? (Having a variable that&#39;s a list that can be iterated and also be used as a String with an overloaded toString()?). I tried using DefaultListAdapter.adapt() -- no luck. I also tried extending SimpleSequence -- no luck there either.","body":"@ddekany Is what I&#39;m trying to accomplish even possible? (Having a variable that&#39;s a list that can be iterated and also be used as a String with an overloaded toString()?). I tried using DefaultListAdapter.adapt() -- no luck. I also tried extending SimpleSequence -- no luck there either."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":1,"creation_date":1677445240,"post_id":75534270,"comment_id":133334603,"body_markdown":"Yes, it&#39;s possible. You just need an object that implements both `TemplateSequenceModel` and `TemplateScalarModel`.","body":"Yes, it&#39;s possible. You just need an object that implements both <code>TemplateSequenceModel</code> and <code>TemplateScalarModel</code>."}],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677091613,"creation_date":1677091613,"answer_id":75536957,"question_id":75534270,"body_markdown":"A [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) would have been helpful. Without it, I&#39;m going to make a guess. \r\n\r\nFrom the [Manual](https://freemarker.apache.org/docs/ref_directive_list.html):\r\n\r\n```\r\n... to list the key-value pairs of a hash (since 2.3.25):\r\n\r\n&lt;#list hash as key, value&gt;\r\n    Part repeated for each key-value pair\r\n&lt;/#list&gt;\r\n```\r\nSo the error message\r\n```\r\nyou must specify two loop variables after the &quot;as&quot;; one for the key, and another for the value, like &lt;#... as k, v&gt;)\r\n```\r\nis telling you that you need to add a second variable, and probably rename `item` to something like `key`, as in \r\n```\r\n&lt;#list myListOfMapsVar as key, value&gt;\r\n  ${key}\r\n&lt;/#list&gt;\r\n```\r\nJust curious: Do the key objects in your map have a method named `mapKeyName`?\r\n\r\nFinally, your data is in the form of `List&lt;Map&lt;?,?&gt;&gt;`. If this is really the case, my sense is that your Freemarker template should read: \r\n```\r\n&lt;#list myListOfMapsVar as myMap&gt;\r\n    &lt;#list myMap as key, value&gt;\r\n        ${key}\r\n    &lt;/#list&gt;\r\n&lt;/#list&gt;\r\n```","title":"Override toString() for Freemarker Java List&lt;Map&gt; variable","body":"<p>A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> would have been helpful. Without it, I'm going to make a guess.</p>\n<p>From the <a href=\"https://freemarker.apache.org/docs/ref_directive_list.html\" rel=\"nofollow noreferrer\">Manual</a>:</p>\n<pre><code>... to list the key-value pairs of a hash (since 2.3.25):\n\n&lt;#list hash as key, value&gt;\n    Part repeated for each key-value pair\n&lt;/#list&gt;\n</code></pre>\n<p>So the error message</p>\n<pre><code>you must specify two loop variables after the &quot;as&quot;; one for the key, and another for the value, like &lt;#... as k, v&gt;)\n</code></pre>\n<p>is telling you that you need to add a second variable, and probably rename <code>item</code> to something like <code>key</code>, as in</p>\n<pre><code>&lt;#list myListOfMapsVar as key, value&gt;\n  ${key}\n&lt;/#list&gt;\n</code></pre>\n<p>Just curious: Do the key objects in your map have a method named <code>mapKeyName</code>?</p>\n<p>Finally, your data is in the form of <code>List&lt;Map&lt;?,?&gt;&gt;</code>. If this is really the case, my sense is that your Freemarker template should read:</p>\n<pre><code>&lt;#list myListOfMapsVar as myMap&gt;\n    &lt;#list myMap as key, value&gt;\n        ${key}\n    &lt;/#list&gt;\n&lt;/#list&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15039987,"reputation":128,"user_id":10854960,"display_name":"Mark Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677591922,"creation_date":1677546329,"answer_id":75587006,"question_id":75534270,"body_markdown":"For those that come later, here&#39;s my solution\r\n\r\n```\r\nclass MyListOfMap&lt;K,V&gt; implements TemplateSequenceModel, TemplateScalarModel {\r\n\r\n    DefaultObjectWrapper wrapper = new DefaultObjectWrapperBuilder(Configuration.VERSION_2_3_27).build();\r\n    List&lt;Map&lt;K,V&gt;&gt; listOfMaps;\r\n    Function&lt;Map&lt;K,V&gt;,String&gt; mapper;\r\n\r\n    MyListOfMap( List list, Function&lt;Map&lt;K,V&gt;,String&gt; mapper ) {\r\n      listOfMaps = list;\r\n      this.mapper = mapper;\r\n    }\r\n\r\n    @Override\r\n    public String getAsString() throws TemplateModelException {\r\n      var strings = listOfMaps.stream().map( mapper ).collect(Collectors.toList());\r\n      return String.join( &quot;, &quot;, strings );\r\n    }\r\n\r\n    @Override\r\n    public TemplateModel get(int index) throws TemplateModelException {\r\n      return new MapModel( listOfMaps.get(index), wrapper );\r\n    }\r\n\r\n    @Override\r\n    public int size() throws TemplateModelException {\r\n      return listOfMaps.size();\r\n    }\r\n  }\r\n```\r\n\r\n```\r\nvar mylist = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\r\nmylist.add( Map.of( &quot;first&quot;, &quot;John&quot;, &quot;last&quot;, &quot;Smith&quot;, &quot;age&quot;, &quot;32&quot;, &quot;city&quot;, &quot;Chicago&quot;, &quot;State&quot;, &quot;IL&quot; ) );\r\nmylist.add( Map.of( &quot;first&quot;, &quot;Jane&quot;, &quot;last&quot;, &quot;Doe&quot;, &quot;age&quot;, &quot;29&quot;, &quot;city&quot;, &quot;Memphis&quot;, &quot;State&quot;, &quot;TN&quot; ) );\r\nmylist.add( Map.of( &quot;first&quot;, &quot;Mark&quot;, &quot;last&quot;, &quot;Roy&quot;, &quot;age&quot;, &quot;38&quot;, &quot;city&quot;, &quot;Boston&quot;, &quot;State&quot;, &quot;MA&quot; ) );\r\n    \r\nvar listOfPeople = new MyListOfMap&lt;String,String&gt;( mylist, \r\n        (person) -&gt; person.get(&quot;first&quot;) + &quot; &quot; + person.get(&quot;last&quot;));\r\n    \r\nvar dataModel.put( &quot;people&quot;, listOfPeople );\r\n```\r\n\r\n\r\nVariable &#39;people&#39; can be used as a &#39;summary&#39; string *and* as a list of hashes\r\n\r\nmyftltemplate.ftl:\r\n\r\n```\r\n${people}  &lt;#-- evaluates to: John Smith, Jane Doe, Mark Roy --&gt;\r\n```\r\nand can also be used like\r\n```\r\n&lt;#list people as person&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;${person.first}&lt;/td&gt;\r\n    &lt;td&gt;${person.last}&lt;/td&gt;\r\n    &lt;td&gt;${person.age}&lt;/td&gt;\r\n    &lt;td&gt;${person.city}&lt;/td&gt;\r\n    &lt;td&gt;${person.state}&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/#list&gt;\r\n```\r\n\r\nThanks to @ddekany for the pointers.","title":"Override toString() for Freemarker Java List&lt;Map&gt; variable","body":"<p>For those that come later, here's my solution</p>\n<pre><code>class MyListOfMap&lt;K,V&gt; implements TemplateSequenceModel, TemplateScalarModel {\n\n    DefaultObjectWrapper wrapper = new DefaultObjectWrapperBuilder(Configuration.VERSION_2_3_27).build();\n    List&lt;Map&lt;K,V&gt;&gt; listOfMaps;\n    Function&lt;Map&lt;K,V&gt;,String&gt; mapper;\n\n    MyListOfMap( List list, Function&lt;Map&lt;K,V&gt;,String&gt; mapper ) {\n      listOfMaps = list;\n      this.mapper = mapper;\n    }\n\n    @Override\n    public String getAsString() throws TemplateModelException {\n      var strings = listOfMaps.stream().map( mapper ).collect(Collectors.toList());\n      return String.join( &quot;, &quot;, strings );\n    }\n\n    @Override\n    public TemplateModel get(int index) throws TemplateModelException {\n      return new MapModel( listOfMaps.get(index), wrapper );\n    }\n\n    @Override\n    public int size() throws TemplateModelException {\n      return listOfMaps.size();\n    }\n  }\n</code></pre>\n<pre><code>var mylist = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\nmylist.add( Map.of( &quot;first&quot;, &quot;John&quot;, &quot;last&quot;, &quot;Smith&quot;, &quot;age&quot;, &quot;32&quot;, &quot;city&quot;, &quot;Chicago&quot;, &quot;State&quot;, &quot;IL&quot; ) );\nmylist.add( Map.of( &quot;first&quot;, &quot;Jane&quot;, &quot;last&quot;, &quot;Doe&quot;, &quot;age&quot;, &quot;29&quot;, &quot;city&quot;, &quot;Memphis&quot;, &quot;State&quot;, &quot;TN&quot; ) );\nmylist.add( Map.of( &quot;first&quot;, &quot;Mark&quot;, &quot;last&quot;, &quot;Roy&quot;, &quot;age&quot;, &quot;38&quot;, &quot;city&quot;, &quot;Boston&quot;, &quot;State&quot;, &quot;MA&quot; ) );\n    \nvar listOfPeople = new MyListOfMap&lt;String,String&gt;( mylist, \n        (person) -&gt; person.get(&quot;first&quot;) + &quot; &quot; + person.get(&quot;last&quot;));\n    \nvar dataModel.put( &quot;people&quot;, listOfPeople );\n</code></pre>\n<p>Variable 'people' can be used as a 'summary' string <em>and</em> as a list of hashes</p>\n<p>myftltemplate.ftl:</p>\n<pre><code>${people}  &lt;#-- evaluates to: John Smith, Jane Doe, Mark Roy --&gt;\n</code></pre>\n<p>and can also be used like</p>\n<pre><code>&lt;#list people as person&gt;\n  &lt;tr&gt;\n    &lt;td&gt;${person.first}&lt;/td&gt;\n    &lt;td&gt;${person.last}&lt;/td&gt;\n    &lt;td&gt;${person.age}&lt;/td&gt;\n    &lt;td&gt;${person.city}&lt;/td&gt;\n    &lt;td&gt;${person.state}&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/#list&gt;\n</code></pre>\n<p>Thanks to @ddekany for the pointers.</p>\n"}],"owner":{"account_id":15039987,"reputation":128,"user_id":10854960,"display_name":"Mark Roy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75587006,"answer_count":2,"score":0,"last_activity_date":1677591922,"creation_date":1677076777,"question_id":75534270,"body_markdown":"I would like to create a Java Freemarker variable that works in a template both as\r\n\r\n```\r\n${myListOfMapsVar}     &lt;#-- calls toString() on myListOfMapsVar --&gt;\r\n```\r\n\r\nand\r\n\r\n```\r\n&lt;#list myListOfMapsVar as item&gt;\r\n  ${item.mapKeyName}\r\n&lt;/#list&gt;\r\n```\r\n\r\nIt seems like this should be possible using something like\r\n\r\n```\r\nList&lt;Map&gt; myListOfMaps = ...\r\nvar myListOfMapsVar = new MyWrappedObject();\r\nmyListOfMapsVar.wrap( myListOfMaps );\r\n```\r\n\r\n```\r\nclass MyWrappedObject extends DefaultObjectWrapper {\r\n  MyWrappedObject() { super(); }\r\n\r\n  public String toString() {\r\n    return &quot;a string representation of my list&quot;;\r\n  }\r\n}\r\n```\r\n\r\nHowever, when I try this, the ${myListOfMapsVar} works as expected, but the list enumeration produces an error:\r\n\r\n&gt; The value you try to list is an extended_hash+string (.... wrapped into f.e.b.StringModel), thus you must specify two loop variables after the &quot;as&quot;; one for the key, and another for the value, like \\&lt;#... as k, v\\&gt;).\r\n\r\nWhat am I doing wrong?\r\n\r\nbtw, I cannot change any application-wide Freemarker configuration.","title":"Override toString() for Freemarker Java List&lt;Map&gt; variable","body":"<p>I would like to create a Java Freemarker variable that works in a template both as</p>\n<pre><code>${myListOfMapsVar}     &lt;#-- calls toString() on myListOfMapsVar --&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;#list myListOfMapsVar as item&gt;\n  ${item.mapKeyName}\n&lt;/#list&gt;\n</code></pre>\n<p>It seems like this should be possible using something like</p>\n<pre><code>List&lt;Map&gt; myListOfMaps = ...\nvar myListOfMapsVar = new MyWrappedObject();\nmyListOfMapsVar.wrap( myListOfMaps );\n</code></pre>\n<pre><code>class MyWrappedObject extends DefaultObjectWrapper {\n  MyWrappedObject() { super(); }\n\n  public String toString() {\n    return &quot;a string representation of my list&quot;;\n  }\n}\n</code></pre>\n<p>However, when I try this, the ${myListOfMapsVar} works as expected, but the list enumeration produces an error:</p>\n<blockquote>\n<p>The value you try to list is an extended_hash+string (.... wrapped into f.e.b.StringModel), thus you must specify two loop variables after the &quot;as&quot;; one for the key, and another for the value, like &lt;#... as k, v&gt;).</p>\n</blockquote>\n<p>What am I doing wrong?</p>\n<p>btw, I cannot change any application-wide Freemarker configuration.</p>\n"},{"tags":["java","jboss","windows-10","virtualbox","jboss7.x"],"answers":[{"tags":[],"owner":{"account_id":11542945,"reputation":132,"user_id":9823216,"display_name":"Daniel Bedn&#225;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677591439,"creation_date":1677591439,"answer_id":75592830,"question_id":75448940,"body_markdown":"Updating to the latest java 8 version solved the problem.","title":"JBoss EAP 7.2.0 installation won&#39;t start","body":"<p>Updating to the latest java 8 version solved the problem.</p>\n"}],"owner":{"account_id":11542945,"reputation":132,"user_id":9823216,"display_name":"Daniel Bedn&#225;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75592830,"answer_count":1,"score":0,"last_activity_date":1677591439,"creation_date":1676383364,"question_id":75448940,"body_markdown":"I downloaded JBoss EAP 7.2.0 installer from RedHat pages, put the installer to my VirtualBox with Windows 10 and tried to doubleclick on the installer to open it via my Java 8. Nothing happens.\r\n\r\n\r\nDid anyone have similar issue? Is there any possible way to solve it?","title":"JBoss EAP 7.2.0 installation won&#39;t start","body":"<p>I downloaded JBoss EAP 7.2.0 installer from RedHat pages, put the installer to my VirtualBox with Windows 10 and tried to doubleclick on the installer to open it via my Java 8. Nothing happens.</p>\n<p>Did anyone have similar issue? Is there any possible way to solve it?</p>\n"},{"tags":["java","spring","swagger","springdoc","flowable"],"answers":[{"tags":[],"owner":{"account_id":1382039,"reputation":184,"user_id":1314823,"accept_rate":100,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677591379,"creation_date":1677591379,"answer_id":75592821,"question_id":75583079,"body_markdown":"Actually, we need to add an @ComponentScan annotation \r\n\r\n    @ComponentScan(basePackages = &quot;org.flowable.rest.service.api&quot;)\r\n\r\n\r\n\r\n\r\nFull solution: \r\n(cf. https://forum.flowable.org/t/flowable-and-swagger/2177/8 )\r\n(need to add the restResponseFactory bean to satisfy a dependancy)\r\n \r\n\r\n       @Configuration\r\n        @ComponentScan(basePackages = &quot;org.flowable.rest.service.api&quot;)\r\n       public class SwaggerDocumentationConfig {\r\n        @Autowired\r\n        protected ObjectMapper objectMapper;    \r\n         @Bean()\r\n         public RestResponseFactory restResponseFactory() {\r\n            RestResponseFactory restResponseFactory = new RestResponseFactory(objectMapper);\r\n            return restResponseFactory;\r\n        }\r\n    }\r\n\r\n","title":"Springdoc not showing imported controller","body":"<p>Actually, we need to add an @ComponentScan annotation</p>\n<pre><code>@ComponentScan(basePackages = &quot;org.flowable.rest.service.api&quot;)\n</code></pre>\n<p>Full solution:\n(cf. <a href=\"https://forum.flowable.org/t/flowable-and-swagger/2177/8\" rel=\"nofollow noreferrer\">https://forum.flowable.org/t/flowable-and-swagger/2177/8</a> )\n(need to add the restResponseFactory bean to satisfy a dependancy)</p>\n<pre><code>   @Configuration\n    @ComponentScan(basePackages = &quot;org.flowable.rest.service.api&quot;)\n   public class SwaggerDocumentationConfig {\n    @Autowired\n    protected ObjectMapper objectMapper;    \n     @Bean()\n     public RestResponseFactory restResponseFactory() {\n        RestResponseFactory restResponseFactory = new RestResponseFactory(objectMapper);\n        return restResponseFactory;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1382039,"reputation":184,"user_id":1314823,"accept_rate":100,"display_name":"Marc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677591379,"creation_date":1677515344,"question_id":75583079,"body_markdown":"I am using springdoc with maven.\r\n\r\n It&#39;s working just fine and displays any controller defined in my own application.\r\n But when i import a maven dependancy defining a controller (annoted with `@RestController)`:\r\n - I can use this controller by directy calling it.\r\n - BUT the /v3/api-docs only shows the controller defined in my own application and not the imported one.\r\n\r\nI tried to play with the `springdoc.packagesToScan` property but without effect. \r\n\r\nI also tried without success the folowing code: \r\n\r\n    static { \r\n           SpringDocUtils.getConfig().addRestControllers(ProcessInstanceCollectionResource.class);\r\n        }\r\n\r\nIs there a way to expose this imported controller?\r\n\r\nif needed, the imported controller is the flowable REST api :\r\n\r\n\r\n    @RestController\r\n    @Api(tags = { &quot;Process Instances&quot; }, description = &quot;Manage Process Instances&quot;, authorizations = { @Authorization(value = &quot;basicAuth&quot;) })\r\n     public class ProcessInstanceCollectionResource extends BaseProcessInstanceResource {\r\n\r\n\r\n\r\ndefined by \r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.flowable&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flowable-spring-boot-starter-rest&lt;/artifactId&gt;\r\n                &lt;version&gt;${flowable.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n","title":"Springdoc not showing imported controller","body":"<p>I am using springdoc with maven.</p>\n<p>It's working just fine and displays any controller defined in my own application.\nBut when i import a maven dependancy defining a controller (annoted with <code>@RestController)</code>:</p>\n<ul>\n<li>I can use this controller by directy calling it.</li>\n<li>BUT the /v3/api-docs only shows the controller defined in my own application and not the imported one.</li>\n</ul>\n<p>I tried to play with the <code>springdoc.packagesToScan</code> property but without effect.</p>\n<p>I also tried without success the folowing code:</p>\n<pre><code>static { \n       SpringDocUtils.getConfig().addRestControllers(ProcessInstanceCollectionResource.class);\n    }\n</code></pre>\n<p>Is there a way to expose this imported controller?</p>\n<p>if needed, the imported controller is the flowable REST api :</p>\n<pre><code>@RestController\n@Api(tags = { &quot;Process Instances&quot; }, description = &quot;Manage Process Instances&quot;, authorizations = { @Authorization(value = &quot;basicAuth&quot;) })\n public class ProcessInstanceCollectionResource extends BaseProcessInstanceResource {\n</code></pre>\n<p>defined by</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.flowable&lt;/groupId&gt;\n            &lt;artifactId&gt;flowable-spring-boot-starter-rest&lt;/artifactId&gt;\n            &lt;version&gt;${flowable.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","jackson","fasterxml","jsr310"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1541794098,"post_id":53232600,"comment_id":93352208,"body_markdown":"`InstantDeserializer.class` is custom deserializer class?, if i believe in that class you may declared some arg constructor without no-arg constructor","body":"<code>InstantDeserializer.class</code> is custom deserializer class?, if i believe in that class you may declared some arg constructor without no-arg constructor"},{"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"score":0,"creation_date":1541794213,"post_id":53232600,"comment_id":93352258,"body_markdown":"@Deadpool no, it is not a custom class..   com.fasterxml.jackson.datatype.jsr310.deser","body":"@Deadpool no, it is not a custom class..   com.fasterxml.jackson.datatype.jsr310.deser"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1541794528,"post_id":53232600,"comment_id":93352382,"body_markdown":"what does your POM look like?","body":"what does your POM look like?"},{"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"score":0,"creation_date":1541796641,"post_id":53232600,"comment_id":93353106,"body_markdown":"@DarrenForsythe  Just updated above with the dependency.  Were you looking for something else in the pom.xml?","body":"@DarrenForsythe  Just updated above with the dependency.  Were you looking for something else in the pom.xml?"},{"owner":{"account_id":6020382,"reputation":5767,"user_id":4727666,"display_name":"Julio Daniel Reyes"},"score":0,"creation_date":1541798118,"post_id":53232600,"comment_id":93353583,"body_markdown":"Have you tried `@JsonDeserialize(using = InstantDeserializer.INSTANT)` instead?","body":"Have you tried <code>@JsonDeserialize(using = InstantDeserializer.INSTANT)</code> instead?"},{"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"score":0,"creation_date":1541798577,"post_id":53232600,"comment_id":93353730,"body_markdown":"@JulioDanielReyes   I just tried and I got a compiler error -- Type mismatch: cannot convert from InstantDeserializer&lt;Instant&gt; to Class&lt;? extends JsonDeserializer&gt;","body":"@JulioDanielReyes   I just tried and I got a compiler error -- Type mismatch: cannot convert from InstantDeserializer&lt;Instant&gt; to Class&lt;? extends JsonDeserializer&gt;"},{"owner":{"account_id":6020382,"reputation":5767,"user_id":4727666,"display_name":"Julio Daniel Reyes"},"score":1,"creation_date":1541799085,"post_id":53232600,"comment_id":93353883,"body_markdown":"Look at this answer https://stackoverflow.com/a/45215515/4727666, you need a class with a constructor that takes no arguments, so you can extend InstantDeserializer to create your own.","body":"Look at this answer <a href=\"https://stackoverflow.com/a/45215515/4727666\">stackoverflow.com/a/45215515/4727666</a>, you need a class with a constructor that takes no arguments, so you can extend InstantDeserializer to create your own."},{"owner":{"account_id":6020382,"reputation":5767,"user_id":4727666,"display_name":"Julio Daniel Reyes"},"score":1,"creation_date":1541799308,"post_id":53232600,"comment_id":93353951,"body_markdown":"For the arguments, take a look at this https://github.com/FasterXML/jackson-datatype-jsr310/blob/master/src/main/java/com/fasterxml/jackson/datatype/jsr310/deser/InstantDeserializer.java#L53","body":"For the arguments, take a look at this <a href=\"https://github.com/FasterXML/jackson-datatype-jsr310/blob/master/src/main/java/com/fasterxml/jackson/datatype/jsr310/deser/InstantDeserializer.java#L53\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-datatype-jsr310/blob/master/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"score":0,"creation_date":1541799637,"post_id":53232600,"comment_id":93354054,"body_markdown":"@JulioDanielReyes  Thank you very much.  I will take a look","body":"@JulioDanielReyes  Thank you very much.  I will take a look"},{"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"score":0,"creation_date":1541878023,"post_id":53232600,"comment_id":93370674,"body_markdown":"@JulioDanielReyes  still doesn&#39;t work after adding the constructor.","body":"@JulioDanielReyes  still doesn&#39;t work after adding the constructor."}],"answers":[{"tags":[],"owner":{"account_id":6020382,"reputation":5767,"user_id":4727666,"display_name":"Julio Daniel Reyes"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1541997050,"creation_date":1541997050,"answer_id":53255984,"question_id":53232600,"body_markdown":"The error says that you need a class with no arg constructor, so you could extend from `InstantDeserializer`. (Take as example the code in [`InstantDeserializer`][1] for the arguments of `super()`)\r\n\r\n    public class DefaultInstantDeserializer extends InstantDeserializer&lt;OffsetDateTime&gt; {\r\n        public DefaultInstantDeserializer() {\r\n            super(OffsetDateTime.class, DateTimeFormatter.ISO_OFFSET_DATE_TIME,\r\n                    OffsetDateTime::from,\r\n                    a -&gt; OffsetDateTime.ofInstant(Instant.ofEpochMilli(a.value), a.zoneId),\r\n                    a -&gt; OffsetDateTime.ofInstant(Instant.ofEpochSecond(a.integer, a.fraction), a.zoneId),\r\n                    (d, z) -&gt; d.withOffsetSameInstant(z.getRules().getOffset(d.toLocalDateTime())),\r\n                    true);\r\n        }\r\n    }\r\n\r\nThen you can use it: \r\n\r\n    @JsonDeserialize(using = DefaultInstantDeserializer.class)\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-datatype-jsr310/blob/master/src/main/java/com/fasterxml/jackson/datatype/jsr310/deser/InstantDeserializer.java#L62","title":"Java 8 Exception: com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer has no default (no arg) constructor","body":"<p>The error says that you need a class with no arg constructor, so you could extend from <code>InstantDeserializer</code>. (Take as example the code in <a href=\"https://github.com/FasterXML/jackson-datatype-jsr310/blob/master/src/main/java/com/fasterxml/jackson/datatype/jsr310/deser/InstantDeserializer.java#L62\" rel=\"noreferrer\"><code>InstantDeserializer</code></a> for the arguments of <code>super()</code>)</p>\n\n<pre><code>public class DefaultInstantDeserializer extends InstantDeserializer&lt;OffsetDateTime&gt; {\n    public DefaultInstantDeserializer() {\n        super(OffsetDateTime.class, DateTimeFormatter.ISO_OFFSET_DATE_TIME,\n                OffsetDateTime::from,\n                a -&gt; OffsetDateTime.ofInstant(Instant.ofEpochMilli(a.value), a.zoneId),\n                a -&gt; OffsetDateTime.ofInstant(Instant.ofEpochSecond(a.integer, a.fraction), a.zoneId),\n                (d, z) -&gt; d.withOffsetSameInstant(z.getRules().getOffset(d.toLocalDateTime())),\n                true);\n    }\n}\n</code></pre>\n\n<p>Then you can use it: </p>\n\n<pre><code>@JsonDeserialize(using = DefaultInstantDeserializer.class)\n</code></pre>\n"}],"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7244,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":53255984,"answer_count":1,"score":8,"last_activity_date":1677591359,"creation_date":1541793830,"question_id":53232600,"body_markdown":"I have a model class that has a field:\r\n\r\n     @JsonDeserialize(using = InstantDeserializer.class)\r\n     @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\n     private OffsetDateTime offsetDt;\r\n\r\nWhen a request of this model is sent to the server, my controller throws an exception:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: \r\n    Class com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer \r\n    has no default (no arg) constructor\r\n\r\nThe pom.xml has the dependency of version 2.8.11:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI understand that it is caused by @JsonDeserialize requiring no-arg constructor, but is there a workaround?","title":"Java 8 Exception: com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer has no default (no arg) constructor","body":"<p>I have a model class that has a field:</p>\n<pre><code> @JsonDeserialize(using = InstantDeserializer.class)\n @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\n private OffsetDateTime offsetDt;\n</code></pre>\n<p>When a request of this model is sent to the server, my controller throws an exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: \nClass com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer \nhas no default (no arg) constructor\n</code></pre>\n<p>The pom.xml has the dependency of version 2.8.11:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I understand that it is caused by @JsonDeserialize requiring no-arg constructor, but is there a workaround?</p>\n"},{"tags":["java","validation"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677591220,"creation_date":1677591220,"answer_id":75592799,"question_id":75585960,"body_markdown":"You can use a `javax.validation.Validator` to validate the whole object or a specific field, like this:\r\n\r\n    @Test\r\n    void test() throws Exception {\r\n    \tvar obj = new MyObject(&quot;invalidEmail&quot;);\r\n    \tvar validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n    \r\n    \t// 2 violations: email &amp; name\r\n    \tSystem.out.println(validator.validate(obj));\r\n    \t// 1 violation: email\r\n    \tSystem.out.println(validator.validateProperty(obj, &quot;email&quot;));\r\n    }\r\n    \r\n    class MyObject {\r\n    \t@Email\r\n    \tprivate String email;\r\n    \t@NotNull\r\n    \tprivate String name;\r\n    \r\n    \tpublic MyObject(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    }","title":"Manually validate using javax.validation","body":"<p>You can use a <code>javax.validation.Validator</code> to validate the whole object or a specific field, like this:</p>\n<pre><code>@Test\nvoid test() throws Exception {\n    var obj = new MyObject(&quot;invalidEmail&quot;);\n    var validator = Validation.buildDefaultValidatorFactory().getValidator();\n\n    // 2 violations: email &amp; name\n    System.out.println(validator.validate(obj));\n    // 1 violation: email\n    System.out.println(validator.validateProperty(obj, &quot;email&quot;));\n}\n\nclass MyObject {\n    @Email\n    private String email;\n    @NotNull\n    private String name;\n\n    public MyObject(String email) {\n        this.email = email;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75592799,"answer_count":1,"score":0,"last_activity_date":1677591220,"creation_date":1677535232,"question_id":75585960,"body_markdown":"I have a stupidly complex object that may (or may not) contain an email address (or phone number, or any number of other Json encoded stuff). My issue is that i want to use javax.validation to validate it.\r\n\r\nMy understanding is that i need to do Bean validation and create my own annotation for the validation, no issue there. However, i want to use the @Email validation (just like i do everywhere else in my app) how do i go about manually invoking the validate?\r\n\r\nIs it best practice to just write a method like such and call it from the isValid method?\r\n\r\nprivate void validateEmail(@Email String email) {}\r\n\r\nOr is there a better way of doing this?","title":"Manually validate using javax.validation","body":"<p>I have a stupidly complex object that may (or may not) contain an email address (or phone number, or any number of other Json encoded stuff). My issue is that i want to use javax.validation to validate it.</p>\n<p>My understanding is that i need to do Bean validation and create my own annotation for the validation, no issue there. However, i want to use the @Email validation (just like i do everywhere else in my app) how do i go about manually invoking the validate?</p>\n<p>Is it best practice to just write a method like such and call it from the isValid method?</p>\n<p>private void validateEmail(@Email String email) {}</p>\n<p>Or is there a better way of doing this?</p>\n"},{"tags":["java","casting","google-play-integrity-api"],"owner":{"account_id":24946410,"reputation":1,"user_id":18811692,"display_name":"Talha Al&#231;orba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677591179,"creation_date":1677590798,"question_id":75592721,"body_markdown":"\r\n```\r\nimport org.jose4j.jwe.JsonWebEncryption;\r\nimport org.jose4j.jws.JsonWebSignature;\r\nimport org.jose4j.jwx.JsonWebStructure;\r\n\r\nJsonWebEncryption jwe = null;\r\n\r\n        try {\r\n            jwe = (JsonWebEncryption) JsonWebStructure.fromCompactSerialization(integrityToken);\r\n        }catch (JoseException e){\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nHello folks,\r\n\r\nI&#39;m trying to migrate play integrity at the backend side and I took this code part from https://developer.android.com/google/play/integrity/verdict#decrypt-verify-locally. . \r\nIn this code I get this exception :\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException: class\r\n&gt; org.jose4j.jws.JsonWebSignature cannot be cast to class\r\n&gt; org.jose4j.jwe.JsonWebEncryption (org.jose4j.jws.JsonWebSignature and\r\n&gt; org.jose4j.jwe.JsonWebEncryption are in unnamed module of loader\r\n&gt; &#39;app&#39;)\r\n\r\n As you can see below fromCompactSerialization method returns JsonWebStructure type and it causes casting error.\r\n\r\n\r\n```\r\npublic static JsonWebStructure fromCompactSerialization(String cs) throws JoseException {\r\n        String[] parts = CompactSerializer.deserialize(cs);\r\n        Object jsonWebObject;\r\n        if (parts.length == 5) {\r\n            jsonWebObject = new JsonWebEncryption();\r\n        } else {\r\n            if (parts.length != 3) {\r\n                throw new JoseException(&quot;Invalid JOSE Compact Serialization. Expecting either 3 or 5 parts for JWS or JWE respectively but was &quot; + parts.length + &quot;.&quot;);\r\n            }\r\n\r\n            jsonWebObject = new JsonWebSignature();\r\n        }\r\n\r\n        ((JsonWebStructure)jsonWebObject).setCompactSerializationParts(parts);\r\n        ((JsonWebStructure)jsonWebObject).rawCompactSerialization = cs;\r\n        return (JsonWebStructure)jsonWebObject;\r\n    }\r\n```\r\n\r\n\r\nDo you have any idea how can I cast JsonWebStructure object to JsonWebEncryption object in java?\r\n\r\n\r\n\r\n","title":"How to cast JsonWebStructure object to JsonWebEncryption object in java?","body":"<pre><code>import org.jose4j.jwe.JsonWebEncryption;\nimport org.jose4j.jws.JsonWebSignature;\nimport org.jose4j.jwx.JsonWebStructure;\n\nJsonWebEncryption jwe = null;\n\n        try {\n            jwe = (JsonWebEncryption) JsonWebStructure.fromCompactSerialization(integrityToken);\n        }catch (JoseException e){\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Hello folks,</p>\n<p>I'm trying to migrate play integrity at the backend side and I took this code part from <a href=\"https://developer.android.com/google/play/integrity/verdict#decrypt-verify-locally\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/integrity/verdict#decrypt-verify-locally</a>. .\nIn this code I get this exception :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException: class\norg.jose4j.jws.JsonWebSignature cannot be cast to class\norg.jose4j.jwe.JsonWebEncryption (org.jose4j.jws.JsonWebSignature and\norg.jose4j.jwe.JsonWebEncryption are in unnamed module of loader\n'app')</p>\n</blockquote>\n<p>As you can see below fromCompactSerialization method returns JsonWebStructure type and it causes casting error.</p>\n<pre><code>public static JsonWebStructure fromCompactSerialization(String cs) throws JoseException {\n        String[] parts = CompactSerializer.deserialize(cs);\n        Object jsonWebObject;\n        if (parts.length == 5) {\n            jsonWebObject = new JsonWebEncryption();\n        } else {\n            if (parts.length != 3) {\n                throw new JoseException(&quot;Invalid JOSE Compact Serialization. Expecting either 3 or 5 parts for JWS or JWE respectively but was &quot; + parts.length + &quot;.&quot;);\n            }\n\n            jsonWebObject = new JsonWebSignature();\n        }\n\n        ((JsonWebStructure)jsonWebObject).setCompactSerializationParts(parts);\n        ((JsonWebStructure)jsonWebObject).rawCompactSerialization = cs;\n        return (JsonWebStructure)jsonWebObject;\n    }\n</code></pre>\n<p>Do you have any idea how can I cast JsonWebStructure object to JsonWebEncryption object in java?</p>\n"},{"tags":["java","spring-boot","apache-spark","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653897909,"creation_date":1653897909,"answer_id":72431014,"question_id":72417913,"body_markdown":"So, you had been using Snakeyaml with an earlier Spring Boot version, but with a newer Spring Boot version, Snakeyaml stopped working. This very much seems to be a version incompatibility issue.\r\n\r\nHere: https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter/2.1.15.RELEASE/jar\r\n\r\nwe can see this structure:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starters&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\r\n  &lt;name&gt;Spring Boot Starter&lt;/name&gt;\r\n  &lt;description&gt;Core starter, including auto-configuration support, logging and YAML&lt;/description&gt;\r\n  &lt;url&gt;https://projects.spring.io/spring-boot/#/spring-boot-parent/spring-boot-starters/spring-boot-starter&lt;/url&gt;\r\n  &lt;organization&gt;\r\n    &lt;name&gt;Pivotal Software, Inc.&lt;/name&gt;\r\n    &lt;url&gt;https://spring.io&lt;/url&gt;\r\n  &lt;/organization&gt;\r\n  &lt;licenses&gt;\r\n    &lt;license&gt;\r\n      &lt;name&gt;Apache License, Version 2.0&lt;/name&gt;\r\n      &lt;url&gt;https://www.apache.org/licenses/LICENSE-2.0&lt;/url&gt;\r\n    &lt;/license&gt;\r\n  &lt;/licenses&gt;\r\n  &lt;developers&gt;\r\n    &lt;developer&gt;\r\n      &lt;name&gt;Pivotal&lt;/name&gt;\r\n      &lt;email&gt;info@pivotal.io&lt;/email&gt;\r\n      &lt;organization&gt;Pivotal Software, Inc.&lt;/organization&gt;\r\n      &lt;organizationUrl&gt;https://www.spring.io&lt;/organizationUrl&gt;\r\n    &lt;/developer&gt;\r\n  &lt;/developers&gt;\r\n  &lt;scm&gt;\r\n    &lt;connection&gt;scm:git:git://github.com/spring-projects/spring-boot.git&lt;/connection&gt;\r\n    &lt;developerConnection&gt;scm:git:ssh://git@github.com/spring-projects/spring-boot.git&lt;/developerConnection&gt;\r\n    &lt;url&gt;https://github.com/spring-projects/spring-boot&lt;/url&gt;\r\n  &lt;/scm&gt;\r\n  &lt;issueManagement&gt;\r\n    &lt;system&gt;Github&lt;/system&gt;\r\n    &lt;url&gt;https://github.com/spring-projects/spring-boot/issues&lt;/url&gt;\r\n  &lt;/issueManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.16.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n      &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n      &lt;version&gt;1.23&lt;/version&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nwhere the interesting part from our perspective is:\r\n\r\n```\r\n      &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n      &lt;version&gt;1.23&lt;/version&gt;\r\n```\r\n\r\nso, you will likely need to ensure that your Snakeyaml version is **1.23**.","title":"How to fix java.lang.NoSuchMethodError: org.yaml.snakeyaml.Yaml.&lt;init&gt;(Lorg/yaml/snakeyaml/constructor/BaseConstructor?","body":"<p>So, you had been using Snakeyaml with an earlier Spring Boot version, but with a newer Spring Boot version, Snakeyaml stopped working. This very much seems to be a version incompatibility issue.</p>\n<p>Here: <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter/2.1.15.RELEASE/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter/2.1.15.RELEASE/jar</a></p>\n<p>we can see this structure:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starters&lt;/artifactId&gt;\n    &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\n  &lt;name&gt;Spring Boot Starter&lt;/name&gt;\n  &lt;description&gt;Core starter, including auto-configuration support, logging and YAML&lt;/description&gt;\n  &lt;url&gt;https://projects.spring.io/spring-boot/#/spring-boot-parent/spring-boot-starters/spring-boot-starter&lt;/url&gt;\n  &lt;organization&gt;\n    &lt;name&gt;Pivotal Software, Inc.&lt;/name&gt;\n    &lt;url&gt;https://spring.io&lt;/url&gt;\n  &lt;/organization&gt;\n  &lt;licenses&gt;\n    &lt;license&gt;\n      &lt;name&gt;Apache License, Version 2.0&lt;/name&gt;\n      &lt;url&gt;https://www.apache.org/licenses/LICENSE-2.0&lt;/url&gt;\n    &lt;/license&gt;\n  &lt;/licenses&gt;\n  &lt;developers&gt;\n    &lt;developer&gt;\n      &lt;name&gt;Pivotal&lt;/name&gt;\n      &lt;email&gt;info@pivotal.io&lt;/email&gt;\n      &lt;organization&gt;Pivotal Software, Inc.&lt;/organization&gt;\n      &lt;organizationUrl&gt;https://www.spring.io&lt;/organizationUrl&gt;\n    &lt;/developer&gt;\n  &lt;/developers&gt;\n  &lt;scm&gt;\n    &lt;connection&gt;scm:git:git://github.com/spring-projects/spring-boot.git&lt;/connection&gt;\n    &lt;developerConnection&gt;scm:git:ssh://git@github.com/spring-projects/spring-boot.git&lt;/developerConnection&gt;\n    &lt;url&gt;https://github.com/spring-projects/spring-boot&lt;/url&gt;\n  &lt;/scm&gt;\n  &lt;issueManagement&gt;\n    &lt;system&gt;Github&lt;/system&gt;\n    &lt;url&gt;https://github.com/spring-projects/spring-boot/issues&lt;/url&gt;\n  &lt;/issueManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n      &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n      &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n      &lt;version&gt;2.1.15.RELEASE&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n      &lt;version&gt;1.3.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;5.1.16.RELEASE&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n      &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n      &lt;version&gt;1.23&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>where the interesting part from our perspective is:</p>\n<pre><code>      &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n      &lt;version&gt;1.23&lt;/version&gt;\n</code></pre>\n<p>so, you will likely need to ensure that your Snakeyaml version is <strong>1.23</strong>.</p>\n"},{"tags":[],"owner":{"account_id":6144471,"reputation":106,"user_id":4790817,"display_name":"Mahesh Revaskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677590840,"creation_date":1677590840,"answer_id":75592730,"question_id":72417913,"body_markdown":"Excluding snakeyaml as a transitive depdendency from spring-boot-starter-web and spring-boot-starter-test \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand added with scope = runtime.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to fix java.lang.NoSuchMethodError: org.yaml.snakeyaml.Yaml.&lt;init&gt;(Lorg/yaml/snakeyaml/constructor/BaseConstructor?","body":"<p>Excluding snakeyaml as a transitive depdendency from spring-boot-starter-web and spring-boot-starter-test</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and added with scope = runtime.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4060,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677590840,"creation_date":1653759534,"question_id":72417913,"body_markdown":"I have a spark spring-boot application and upgrading spring boot from 1.X to 2.1.5.Now with spring-boot 2.1.15 upgrade , I am getting snakeyaml error in application startup as: \r\n\r\n    ERROR SpringApplication - Application run failed\r\n    java.lang.NoSuchMethodError: org.yaml.snakeyaml.Yaml.&lt;init&gt;(Lorg/yaml/snakeyaml/constructor/BaseConstructor;Lorg/yaml/snakeyaml/representer/Representer;Lorg/yaml/snakeyaml/DumperOptions;Lorg/yaml/snakeyaml/LoaderOptions;Lorg/yaml/snakeyaml/resolver/Resolver;)V\r\n            at org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:71)\r\n            at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:162)\r\n            at org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:76)\r\n            at org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:544)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:499)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:475)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:445)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$6(ConfigFileApplicationListener.java:427)\r\n            at java.lang.Iterable.forEach(Iterable.java:75)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$7(ConfigFileApplicationListener.java:427)\r\n            at java.lang.Iterable.forEach(Iterable.java:75)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:424)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:323)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:204)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:188)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:178)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:166)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n            at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\r\n            at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n            at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:342)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\r\n            at com.capitalone.customercore.autolink.AutolinkApp.main(AutolinkApp.java:17)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n            at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)\r\n            at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\r\n            at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\r\n            at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n            at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)\r\n            at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)\r\n            at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n\r\n\r\n\r\n\r\nI did check the snakeyaml in dependency:tree and see org.yaml:snakeyaml:jar:1.23:compile\r\nMy dependency:tree is :\r\n\r\n\r\n    com.test.customercore:autolink-utility:jar:0.30-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter:jar:2.1.15.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot:jar:2.1.15.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.1.15.RELEASE:compile\r\n    [INFO] |  +- javax.annotation:javax.annotation-api:jar:1.3.2:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:5.1.16.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:5.1.16.RELEASE:compile\r\n    [INFO] |  \\- org.yaml:snakeyaml:jar:1.23:compile\r\n    [INFO] +- org.springframework:spring-expression:jar:5.3.17:compile\r\n    [INFO] [INFO] |  +- com.amazonaws:aws-java-sdk-kinesisvideo:jar:1.11.511:compile\r\n    [INFO] |  |  \\- io.netty:netty-handler:jar:4.1.50.Final:compile\r\n    [INFO] |  |     +- io.netty:netty-common:jar:4.1.50.Final:compile\r\n    [INFO] |  |     +- io.netty:netty-resolver:jar:4.1.50.Final:compile\r\n    [INFO] |  |     +- io.netty:netty-buffer:jar:4.1.50.Final:compile\r\n    [INFO] |  |     +- io.netty:netty-transport:jar:4.1.50.Final:compile\r\n    [INFO] |  |     \\- io.netty:netty-codec:jar:4.1.50.Final:compile\r\n    [INFO] |  [INFO] +- org.springframework.boot:spring-boot-starter-data-cassandra:jar:2.1.15.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-tx:jar:5.1.16.RELEASE:compile\r\n    [INFO] +- org.springframework.data:spring-data-cassandra:jar:2.1.18.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-context:jar:5.1.16.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-aop:jar:5.1.16.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-beans:jar:5.1.16.RELEASE:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-commons:jar:2.1.18.RELEASE:compile\r\n    [INFO] |  +- com.datastax.cassandra:cassandra-driver-core:jar:3.6.0:compile\r\n    [INFO] |  |  +- com.github.jnr:jnr-ffi:jar:2.1.7:compile\r\n    [INFO] |  |  |  +- com.github.jnr:jffi:jar:1.2.16:compile\r\n    [INFO] |  |  |  +- com.github.jnr:jffi:jar:native:1.2.16:runtime\r\n    [INFO] |  |  |  +- org.ow2.asm:asm:jar:5.0.3:compile\r\n    [INFO] |  |  |  +- org.ow2.asm:asm-commons:jar:5.0.3:compile\r\n    [INFO] |  |  |  +- org.ow2.asm:asm-analysis:jar:5.0.3:compile\r\n    [INFO] |  |  |  +- org.ow2.asm:asm-tree:jar:5.0.3:compile\r\n    [INFO] |  |  |  +- org.ow2.asm:asm-util:jar:5.0.3:compile\r\n    [INFO] |  |  |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\r\n    [INFO] |  |  \\- com.github.jnr:jnr-posix:jar:3.0.44:compile\r\n    [INFO] |  |     \\- com.github.jnr:jnr-constants:jar:0.9.9:compile\r\n    [INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.30:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.1.15.RELEASE:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.1.15.RELEASE:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.1.15.RELEASE:test\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.4.0:test\r\n    [INFO] |  |  \\- net.minidev:json-smart:jar:2.3:compile\r\n    [INFO] |  |     \\- net.minidev:accessors-smart:jar:1.2:compile\r\n    [INFO] |  +- junit:junit:jar:4.12:test\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.11.1:test\r\n    [INFO] |  +- org.mockito:mockito-core:jar:2.23.4:test\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.9.16:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.9.16:test\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:2.6:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest-core:jar:1.3:test\r\n    [INFO] |  +- org.hamcrest:hamcrest-library:jar:1.3:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO] |  +- org.springframework:spring-test:jar:5.1.16.RELEASE:test\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.6.4:test\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.3.8.RELEASE:compile\r\n    [INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.30:compile\r\n    [INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.30:compile\r\n    [INFO] |  \\- org.slf4j:slf4j-log4j12:jar:1.7.30:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\r\n    [INFO] +- com.test.api.customers:customers-relations-common:jar:1.1.28-RELEASE:compile\r\n    [INFO] |  +- javax.inject:javax.inject:jar:1:compile\r\n    [INFO] |  +- org.apache.commons:commons-lang3:jar:3.8.1:compile\r\n    [INFO] |  +- org.apache.commons:commons-collections4:jar:4.1:compile\r\n    [INFO] |  +- com.test.chassis.model:chassis-business-model:jar:3.1.1.RELEASE:compile\r\n    [INFO] |  |  +- com.test.chassis:chassis-annotations:jar:3.1.1.RELEASE:compile\r\n    [INFO] |  |  +- io.swagger:swagger-annotations:jar:1.5.21:compile\r\n    [INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\r\n    [INFO] |  |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n    [INFO] |  |  +- org.jooq:jool-java-8:jar:0.9.13:compile\r\n    [INFO] |  |  +- com.sun.xml.bind:jaxb-core:jar:2.3.0:compile\r\n    [INFO] |  |  \\- com.sun.xml.bind:jaxb-impl:jar:2.3.0:compile\r\n    [INFO] |  +- com.test.chassis.engine:chassis-model:jar:3.1.1.RELEASE:compile\r\n    [INFO] |  |  +- javax.ws.rs:javax.ws.rs-api:jar:2.1:compile\r\n    [INFO] |  |  +- javax.validation:validation-api:jar:2.0.1.Final:compile\r\n    [INFO] |  |  +- javax.el:javax.el-api:jar:3.0.0:compile\r\n    [INFO] |  |  \\- org.glassfish.web:el-impl:jar:2.2:compile\r\n    [INFO] |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.9.10:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.9.10:compile\r\n    [INFO] |  +- org.hamcrest:java-hamcrest:jar:2.0.0.0:compile\r\n    [INFO] |  +- redis.clients:jedis:jar:2.9.3:compile\r\n    [INFO] |  |  \\- org.apache.commons:commons-pool2:jar:2.6.2:compile\r\n    [INFO] |  \\- org.springframework.data:spring-data-redis:jar:2.1.18.RELEASE:compile\r\n    [INFO] |     +- org.springframework.data:spring-data-keyvalue:jar:2.1.18.RELEASE:compile\r\n    [INFO] |     +- org.springframework:spring-oxm:jar:5.1.16.RELEASE:compile\r\n    [INFO] |     \\- org.springframework:spring-context-support:jar:5.1.16.RELEASE:compile\r\n    [INFO] +- org.hibernate.validator:hibernate-validator:jar:6.1.5.Final:compile\r\n    [INFO] |  +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.3.Final:compile\r\n    [INFO] |  \\- com.fasterxml:classmate:jar:1.4.0:compile\r\n    [INFO] +- org.apache.spark:spark-sql_2.11:jar:2.4.0:compile\r\n    [INFO] |  +- com.univocity:univocity-parsers:jar:2.7.3:compile\r\n    [INFO] |  +- org.apache.spark:spark-sketch_2.11:jar:2.4.0:compile\r\n    [INFO] |  +- org.apache.spark:spark-catalyst_2.11:jar:2.4.0:compile\r\n    [INFO] |  |  +- org.scala-lang.modules:scala-parser-combinators_2.11:jar:1.1.0:compile\r\n    [INFO] |  |  +- org.codehaus.janino:janino:jar:3.0.16:compile\r\n    [INFO] |  |  +- org.codehaus.janino:commons-compiler:jar:3.0.16:compile\r\n    [INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.7:compile\r\n    [INFO] |  +- org.apache.spark:spark-tags_2.11:jar:2.4.0:compile\r\n    [INFO] |  +- org.apache.orc:orc-core:jar:nohive:1.5.2:compile\r\n    [INFO] |  |  +- org.apache.orc:orc-shims:jar:1.5.2:compile\r\n    [INFO] |  |  \\- io.airlift:aircompressor:jar:0.10:compile\r\n    [INFO] |  +- org.apache.orc:orc-mapreduce:jar:nohive:1.5.2:compile\r\n    [INFO] |  +- org.apache.parquet:parquet-column:jar:1.10.0:compile\r\n    [INFO] |  |  +- org.apache.parquet:parquet-common:jar:1.10.0:compile\r\n    [INFO] |  |  \\- org.apache.parquet:parquet-encoding:jar:1.10.0:compile\r\n    [INFO] |  +- org.apache.parquet:parquet-hadoop:jar:1.10.0:compile\r\n    [INFO] |  |  +- org.apache.parquet:parquet-format:jar:2.4.0:compile\r\n    [INFO] |  |  +- org.apache.parquet:parquet-jackson:jar:1.10.0:compile\r\n    [INFO] |  |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\r\n    [INFO] |  +- org.apache.arrow:arrow-vector:jar:0.10.0:compile\r\n    [INFO] |  |  +- org.apache.arrow:arrow-format:jar:0.10.0:compile\r\n    [INFO] |  |  +- org.apache.arrow:arrow-memory:jar:0.10.0:compile\r\n    [INFO] |  |  +- com.carrotsearch:hppc:jar:0.7.2:compile\r\n    [INFO] |  |  \\- com.vlkan:flatbuffers:jar:1.2.0-3f79e055:compile\r\n    [INFO] |  +- org.apache.xbean:xbean-asm6-shaded:jar:4.8:compile\r\n    [INFO] |  \\- org.spark-project.spark:unused:jar:1.0.0:compile\r\n    [INFO] +- org.apache.spark:spark-core_2.11:jar:2.4.1:compile\r\n    [INFO] |  +- com.thoughtworks.paranamer:paranamer:jar:2.8:compile\r\n    [INFO] |  +- org.apache.avro:avro:jar:1.8.2:compile\r\n    [INFO] |  |  \\- org.tukaani:xz:jar:1.5:compile\r\n    [INFO] |  +- org.apache.avro:avro-mapred:jar:hadoop2:1.8.2:compile\r\n    [INFO] |  |  \\- org.apache.avro:avro-ipc:jar:1.8.2:compile\r\n    [INFO] |  +- com.twitter:chill_2.11:jar:0.9.3:compile\r\n    [INFO] |  |  \\- com.esotericsoftware:kryo-shaded:jar:4.0.2:compile\r\n    [INFO] |  |     \\- com.esotericsoftware:minlog:jar:1.3.0:compile\r\n    [INFO] |  +- com.twitter:chill-java:jar:0.9.3:compile\r\n    [INFO] |  +- org.apache.spark:spark-launcher_2.11:jar:2.4.1:compile\r\n    [INFO] |  +- org.apache.spark:spark-kvstore_2.11:jar:2.4.1:compile\r\n    [INFO] |  +- org.apache.spark:spark-network-shuffle_2.11:jar:2.4.1:compile\r\n    [INFO] |  +- org.apache.spark:spark-unsafe_2.11:jar:2.4.1:compile\r\n    [INFO] |  +- javax.activation:activation:jar:1.1.1:compile\r\n    [INFO] |  +- org.apache.curator:curator-recipes:jar:2.6.0:compile\r\n    [INFO] |  |  \\- org.apache.curator:curator-framework:jar:2.6.0:compile\r\n    [INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\r\n    [INFO] |  +- javax.servlet:javax.servlet-api:jar:4.0.1:compile\r\n    [INFO] |  +- org.apache.commons:commons-math3:jar:3.4.1:compile\r\n    [INFO] |  +- com.google.code.findbugs:jsr305:jar:1.3.9:compile\r\n    [INFO] |  +- com.ning:compress-lzf:jar:1.0.3:compile\r\n    [INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.7.1:compile\r\n    [INFO] |  +- org.lz4:lz4-java:jar:1.4.0:compile\r\n    [INFO] |  +- com.github.luben:zstd-jni:jar:1.3.2-2:compile\r\n    [INFO] |  +- org.roaringbitmap:RoaringBitmap:jar:0.5.11:compile\r\n    [INFO] |  +- commons-net:commons-net:jar:3.1:compile\r\n    [INFO] |  +- org.scala-lang:scala-library:jar:2.11.12:compile\r\n    [INFO] |  +- org.json4s:json4s-jackson_2.11:jar:3.5.3:compile\r\n    [INFO] |  |  \\- org.json4s:json4s-core_2.11:jar:3.5.3:compile\r\n    [INFO] |  |     +- org.json4s:json4s-ast_2.11:jar:3.5.3:compile\r\n    [INFO] |  |     +- org.json4s:json4s-scalap_2.11:jar:3.5.3:compile\r\n    [INFO] |  |     \\- org.scala-lang.modules:scala-xml_2.11:jar:1.0.6:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.27:compile\r\n    [INFO] |  |  \\- org.glassfish.hk2.external:javax.inject:jar:2.5.0-b42:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.27:compile\r\n    [INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.1:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:2.27:compile\r\n    [INFO] |  |  \\- org.glassfish.jersey.media:jersey-media-jaxb:jar:2.27:compile\r\n    [INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:2.27:compile\r\n    [INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:2.27:compile\r\n    [INFO] |  +- com.clearspring.analytics:stream:jar:2.7.0:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-core:jar:3.2.2:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-jvm:jar:4.0.7:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-json:jar:4.0.7:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-graphite:jar:4.0.7:compile\r\n    [INFO] |  |  \\- com.rabbitmq:amqp-client:jar:5.4.3:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.10.4:compile\r\n    [INFO] |  +- com.fasterxml.jackson.module:jackson-module-scala_2.11:jar:2.9.10:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-paranamer:jar:2.9.10:compile\r\n    [INFO] |  +- org.apache.ivy:ivy:jar:2.4.0:compile\r\n    [INFO] |  +- oro:oro:jar:2.0.8:compile\r\n    [INFO] |  +- net.razorvine:pyrolite:jar:4.13:compile\r\n    [INFO] |  +- net.sf.py4j:py4j:jar:0.10.7:compile\r\n    [INFO] |  \\- org.apache.commons:commons-crypto:jar:1.0.0:compile\r\n    [INFO] +- org.apache.spark:spark-network-common_2.11:jar:2.4.6:compile\r\n    [INFO] |  +- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:compile\r\n    [INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.10:compile\r\n    [INFO] +- commons-codec:commons-codec:jar:1.13:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-1.2-api:jar:2.17.1:compile\r\n    [INFO] +- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] +- com.datastax.spark:spark-cassandra-connector-unshaded_2.11:jar:2.4.0:compile\r\n    [INFO] |  +- org.joda:joda-convert:jar:1.2:compile\r\n    [INFO] |  +- joda-time:joda-time:jar:2.10.6:compile\r\n    [INFO] |  +- io.netty:netty-all:jar:4.1.50.Final:compile\r\n    [INFO] |  +- com.twitter:jsr166e:jar:1.1.0:compile\r\n    [INFO] |  \\- org.scala-lang:scala-reflect:jar:2.11.12:compile\r\n    [INFO] +- org.cassandraunit:cassandra-unit:jar:3.1.1.0:test\r\n    [INFO] |  +- org.apache.cassandra:cassandra-all:jar:3.9:test\r\n    [INFO] |  |  +- net.jpountz.lz4:lz4:jar:1.3.0:test\r\n    [INFO] |  |  +- commons-cli:commons-cli:jar:1.1:compile\r\n    [INFO] |  |  +- com.googlecode.concurrentlinkedhashmap:concurrentlinkedhashmap-lru:jar:1.4:test\r\n    [INFO] |  |  +- org.antlr:antlr:jar:3.5.2:test\r\n    [INFO] |  |  |  \\- org.antlr:ST4:jar:4.0.8:test\r\n    [INFO] |  |  +- org.antlr:antlr-runtime:jar:3.5.2:test\r\n    [INFO] |  |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.2:test\r\n    [INFO] |  |  +- com.googlecode.json-simple:json-simple:jar:1.1:test\r\n    [INFO] |  |  +- com.boundary:high-scale-lib:jar:1.0.6:test\r\n    [INFO] |  |  +- org.mindrot:jbcrypt:jar:0.3m:test\r\n    [INFO] |  |  +- com.addthis.metrics:reporter-config3:jar:3.0.0:test\r\n    [INFO] |  |  |  \\- com.addthis.metrics:reporter-config-base:jar:3.0.0:test\r\n    [INFO] |  |  +- com.thinkaurelius.thrift:thrift-server:jar:0.3.7:test\r\n    [INFO] |  |  |  \\- com.lmax:disruptor:jar:3.0.1:test\r\n    [INFO] |  |  +- org.apache.thrift:libthrift:jar:0.9.2:test\r\n    [INFO] |  |  +- org.apache.cassandra:cassandra-thrift:jar:3.9:test\r\n    [INFO] |  |  |  +- de.jflex:jflex:jar:1.6.0:test\r\n    [INFO] |  |  |  |  \\- org.apache.ant:ant:jar:1.7.0:test\r\n    [INFO] |  |  |  |     \\- org.apache.ant:ant-launcher:jar:1.7.0:test\r\n    [INFO] |  |  |  +- net.mintern:primitive:jar:1.0:test\r\n    [INFO] |  |  |  +- com.github.rholder:snowball-stemmer:jar:1.3.0.581.1:test\r\n    [INFO] |  |  |  \\- com.googlecode.concurrent-trees:concurrent-trees:jar:2.4.0:test\r\n    [INFO] |  |  +- net.java.dev.jna:jna:jar:4.5.2:test\r\n    [INFO] |  |  +- com.github.jbellis:jamm:jar:0.3.0:test\r\n    [INFO] |  |  +- org.fusesource:sigar:jar:1.6.4:test\r\n    [INFO] |  |  +- org.eclipse.jdt.core.compiler:ecj:jar:4.4.2:test\r\n    [INFO] |  |  +- org.caffinitas.ohc:ohc-core:jar:0.4.3:test\r\n    [INFO] |  |  \\- com.github.ben-manes.caffeine:caffeine:jar:2.6.2:test\r\n    [INFO] |  \\- com.google.guava:guava:jar:18.0:compile\r\n    [INFO] +- io.netty:netty:jar:3.10.6.Final:compile\r\n    [INFO] +- org.apache.hadoop:hadoop-client:jar:3.3.2:compile\r\n    [INFO] |  +- org.apache.hadoop:hadoop-common:jar:3.3.2:compile\r\n    [INFO] |  |  +- org.apache.hadoop.thirdparty:hadoop-shaded-protobuf_3_7:jar:1.1.1:compile\r\n    [INFO] |  |  +- org.apache.hadoop.thirdparty:hadoop-shaded-guava:jar:1.1.1:compile\r\n    [INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.12:compile\r\n    [INFO] |  |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\r\n    [INFO] |  |  +- commons-io:commons-io:jar:2.8.0:compile\r\n    [INFO] |  |  +- commons-collections:commons-collections:jar:3.2.2:compile\r\n    [INFO] |  |  +- jakarta.activation:jakarta.activation-api:jar:1.2.1:runtime\r\n    [INFO] |  |  +- javax.servlet.jsp:jsp-api:jar:2.1:runtime\r\n    [INFO] |  |  +- com.sun.jersey:jersey-servlet:jar:1.19:compile\r\n    [INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n    [INFO] |  |  +- org.apache.commons:commons-configuration2:jar:2.1.1:compile\r\n    [INFO] |  |  +- org.apache.commons:commons-text:jar:1.4:compile\r\n    [INFO] |  |  +- com.google.re2j:re2j:jar:1.1:compile\r\n    [INFO] |  |  +- com.google.protobuf:protobuf-java:jar:2.5.0:compile\r\n    [INFO] |  |  +- com.google.code.gson:gson:jar:2.8.6:compile\r\n    [INFO] |  |  +- org.apache.hadoop:hadoop-auth:jar:3.3.2:compile\r\n    [INFO] |  |  |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:compile\r\n    [INFO] |  |  |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\r\n    [INFO] |  |  |  \\- org.apache.kerby:kerb-simplekdc:jar:1.0.1:compile\r\n    [INFO] |  |  |     +- org.apache.kerby:kerb-client:jar:1.0.1:compile\r\n    [INFO] |  |  |     |  +- org.apache.kerby:kerby-config:jar:1.0.1:compile\r\n    [INFO] |  |  |     |  +- org.apache.kerby:kerb-common:jar:1.0.1:compile\r\n    [INFO] |  |  |     |  |  \\- org.apache.kerby:kerb-crypto:jar:1.0.1:compile\r\n    [INFO] |  |  |     |  +- org.apache.kerby:kerb-util:jar:1.0.1:compile\r\n    [INFO] |  |  |     |  \\- org.apache.kerby:token-provider:jar:1.0.1:compile\r\n    [INFO] |  |  |     \\- org.apache.kerby:kerb-admin:jar:1.0.1:compile\r\n    [INFO] |  |  |        +- org.apache.kerby:kerb-server:jar:1.0.1:compile\r\n    [INFO] |  |  |        |  \\- org.apache.kerby:kerb-identity:jar:1.0.1:compile\r\n    [INFO] |  |  |        \\- org.apache.kerby:kerby-xdr:jar:1.0.1:compile\r\n    [INFO] |  |  +- org.apache.curator:curator-client:jar:4.2.0:compile\r\n    [INFO] |  |  +- org.apache.commons:commons-compress:jar:1.21:compile\r\n    [INFO] |  |  +- org.apache.kerby:kerb-core:jar:1.0.1:compile\r\n    [INFO] |  |  |  \\- org.apache.kerby:kerby-pkix:jar:1.0.1:compile\r\n    [INFO] |  |  |     +- org.apache.kerby:kerby-asn1:jar:1.0.1:compile\r\n    [INFO] |  |  |     \\- org.apache.kerby:kerby-util:jar:1.0.1:compile\r\n    [INFO] |  |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n    [INFO] |  |  +- com.fasterxml.woodstox:woodstox-core:jar:5.0.3:compile\r\n    [INFO] |  |  \\- dnsjava:dnsjava:jar:2.1.7:compile\r\n    [INFO] |  +- org.apache.hadoop:hadoop-hdfs-client:jar:3.3.2:compile\r\n    [INFO] |  |  \\- com.squareup.okhttp:okhttp:jar:2.7.5:compile\r\n    [INFO] |  |     \\- com.squareup.okio:okio:jar:1.6.0:compile\r\n    [INFO] |  +- org.apache.hadoop:hadoop-yarn-api:jar:3.3.2:compile\r\n    [INFO] |  +- org.apache.hadoop:hadoop-yarn-client:jar:3.3.2:compile\r\n    [INFO] |  |  \\- org.jline:jline:jar:3.9.0:compile\r\n    [INFO] |  \\- org.apache.hadoop:hadoop-annotations:jar:3.3.2:compile\r\n    [INFO] \\- commons-configuration:commons-configuration:jar:1.10:compile\r\n    [INFO]    \\- commons-logging:commons-logging:jar:1.1.1:compile\r\n    [INFO] --------------------------------------------------------------------\r\n\r\nhow do I resolve snakeyaml error?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to fix java.lang.NoSuchMethodError: org.yaml.snakeyaml.Yaml.&lt;init&gt;(Lorg/yaml/snakeyaml/constructor/BaseConstructor?","body":"<p>I have a spark spring-boot application and upgrading spring boot from 1.X to 2.1.5.Now with spring-boot 2.1.15 upgrade , I am getting snakeyaml error in application startup as:</p>\n<pre><code>ERROR SpringApplication - Application run failed\njava.lang.NoSuchMethodError: org.yaml.snakeyaml.Yaml.&lt;init&gt;(Lorg/yaml/snakeyaml/constructor/BaseConstructor;Lorg/yaml/snakeyaml/representer/Representer;Lorg/yaml/snakeyaml/DumperOptions;Lorg/yaml/snakeyaml/LoaderOptions;Lorg/yaml/snakeyaml/resolver/Resolver;)V\n        at org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:71)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:162)\n        at org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:76)\n        at org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:544)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:499)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:475)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:445)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$6(ConfigFileApplicationListener.java:427)\n        at java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$7(ConfigFileApplicationListener.java:427)\n        at java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:424)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:323)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:204)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:188)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:178)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:166)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:342)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\n        at com.capitalone.customercore.autolink.AutolinkApp.main(AutolinkApp.java:17)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n</code></pre>\n<p>I did check the snakeyaml in dependency:tree and see org.yaml:snakeyaml:jar:1.23:compile\nMy dependency:tree is :</p>\n<pre><code>com.test.customercore:autolink-utility:jar:0.30-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.1.15.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.1.15.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.1.15.RELEASE:compile\n[INFO] |  +- javax.annotation:javax.annotation-api:jar:1.3.2:compile\n[INFO] |  +- org.springframework:spring-core:jar:5.1.16.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.1.16.RELEASE:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.23:compile\n[INFO] +- org.springframework:spring-expression:jar:5.3.17:compile\n[INFO] [INFO] |  +- com.amazonaws:aws-java-sdk-kinesisvideo:jar:1.11.511:compile\n[INFO] |  |  \\- io.netty:netty-handler:jar:4.1.50.Final:compile\n[INFO] |  |     +- io.netty:netty-common:jar:4.1.50.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver:jar:4.1.50.Final:compile\n[INFO] |  |     +- io.netty:netty-buffer:jar:4.1.50.Final:compile\n[INFO] |  |     +- io.netty:netty-transport:jar:4.1.50.Final:compile\n[INFO] |  |     \\- io.netty:netty-codec:jar:4.1.50.Final:compile\n[INFO] |  [INFO] +- org.springframework.boot:spring-boot-starter-data-cassandra:jar:2.1.15.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-tx:jar:5.1.16.RELEASE:compile\n[INFO] +- org.springframework.data:spring-data-cassandra:jar:2.1.18.RELEASE:compile\n[INFO] |  +- org.springframework:spring-context:jar:5.1.16.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-aop:jar:5.1.16.RELEASE:compile\n[INFO] |  +- org.springframework:spring-beans:jar:5.1.16.RELEASE:compile\n[INFO] |  +- org.springframework.data:spring-data-commons:jar:2.1.18.RELEASE:compile\n[INFO] |  +- com.datastax.cassandra:cassandra-driver-core:jar:3.6.0:compile\n[INFO] |  |  +- com.github.jnr:jnr-ffi:jar:2.1.7:compile\n[INFO] |  |  |  +- com.github.jnr:jffi:jar:1.2.16:compile\n[INFO] |  |  |  +- com.github.jnr:jffi:jar:native:1.2.16:runtime\n[INFO] |  |  |  +- org.ow2.asm:asm:jar:5.0.3:compile\n[INFO] |  |  |  +- org.ow2.asm:asm-commons:jar:5.0.3:compile\n[INFO] |  |  |  +- org.ow2.asm:asm-analysis:jar:5.0.3:compile\n[INFO] |  |  |  +- org.ow2.asm:asm-tree:jar:5.0.3:compile\n[INFO] |  |  |  +- org.ow2.asm:asm-util:jar:5.0.3:compile\n[INFO] |  |  |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\n[INFO] |  |  \\- com.github.jnr:jnr-posix:jar:3.0.44:compile\n[INFO] |  |     \\- com.github.jnr:jnr-constants:jar:0.9.9:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.30:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.1.15.RELEASE:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.1.15.RELEASE:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.1.15.RELEASE:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.4.0:test\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.3:compile\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:1.2:compile\n[INFO] |  +- junit:junit:jar:4.12:test\n[INFO] |  +- org.assertj:assertj-core:jar:3.11.1:test\n[INFO] |  +- org.mockito:mockito-core:jar:2.23.4:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.9.16:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.9.16:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:2.6:compile\n[INFO] |  +- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] |  +- org.hamcrest:hamcrest-library:jar:1.3:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-test:jar:5.1.16.RELEASE:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.6.4:test\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j:jar:1.3.8.RELEASE:compile\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:1.7.30:compile\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:1.7.30:compile\n[INFO] |  \\- org.slf4j:slf4j-log4j12:jar:1.7.30:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\n[INFO] +- com.test.api.customers:customers-relations-common:jar:1.1.28-RELEASE:compile\n[INFO] |  +- javax.inject:javax.inject:jar:1:compile\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.8.1:compile\n[INFO] |  +- org.apache.commons:commons-collections4:jar:4.1:compile\n[INFO] |  +- com.test.chassis.model:chassis-business-model:jar:3.1.1.RELEASE:compile\n[INFO] |  |  +- com.test.chassis:chassis-annotations:jar:3.1.1.RELEASE:compile\n[INFO] |  |  +- io.swagger:swagger-annotations:jar:1.5.21:compile\n[INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\n[INFO] |  |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  |  +- org.jooq:jool-java-8:jar:0.9.13:compile\n[INFO] |  |  +- com.sun.xml.bind:jaxb-core:jar:2.3.0:compile\n[INFO] |  |  \\- com.sun.xml.bind:jaxb-impl:jar:2.3.0:compile\n[INFO] |  +- com.test.chassis.engine:chassis-model:jar:3.1.1.RELEASE:compile\n[INFO] |  |  +- javax.ws.rs:javax.ws.rs-api:jar:2.1:compile\n[INFO] |  |  +- javax.validation:validation-api:jar:2.0.1.Final:compile\n[INFO] |  |  +- javax.el:javax.el-api:jar:3.0.0:compile\n[INFO] |  |  \\- org.glassfish.web:el-impl:jar:2.2:compile\n[INFO] |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.9.10:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.9.10:compile\n[INFO] |  +- org.hamcrest:java-hamcrest:jar:2.0.0.0:compile\n[INFO] |  +- redis.clients:jedis:jar:2.9.3:compile\n[INFO] |  |  \\- org.apache.commons:commons-pool2:jar:2.6.2:compile\n[INFO] |  \\- org.springframework.data:spring-data-redis:jar:2.1.18.RELEASE:compile\n[INFO] |     +- org.springframework.data:spring-data-keyvalue:jar:2.1.18.RELEASE:compile\n[INFO] |     +- org.springframework:spring-oxm:jar:5.1.16.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-context-support:jar:5.1.16.RELEASE:compile\n[INFO] +- org.hibernate.validator:hibernate-validator:jar:6.1.5.Final:compile\n[INFO] |  +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.3.Final:compile\n[INFO] |  \\- com.fasterxml:classmate:jar:1.4.0:compile\n[INFO] +- org.apache.spark:spark-sql_2.11:jar:2.4.0:compile\n[INFO] |  +- com.univocity:univocity-parsers:jar:2.7.3:compile\n[INFO] |  +- org.apache.spark:spark-sketch_2.11:jar:2.4.0:compile\n[INFO] |  +- org.apache.spark:spark-catalyst_2.11:jar:2.4.0:compile\n[INFO] |  |  +- org.scala-lang.modules:scala-parser-combinators_2.11:jar:1.1.0:compile\n[INFO] |  |  +- org.codehaus.janino:janino:jar:3.0.16:compile\n[INFO] |  |  +- org.codehaus.janino:commons-compiler:jar:3.0.16:compile\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.7:compile\n[INFO] |  +- org.apache.spark:spark-tags_2.11:jar:2.4.0:compile\n[INFO] |  +- org.apache.orc:orc-core:jar:nohive:1.5.2:compile\n[INFO] |  |  +- org.apache.orc:orc-shims:jar:1.5.2:compile\n[INFO] |  |  \\- io.airlift:aircompressor:jar:0.10:compile\n[INFO] |  +- org.apache.orc:orc-mapreduce:jar:nohive:1.5.2:compile\n[INFO] |  +- org.apache.parquet:parquet-column:jar:1.10.0:compile\n[INFO] |  |  +- org.apache.parquet:parquet-common:jar:1.10.0:compile\n[INFO] |  |  \\- org.apache.parquet:parquet-encoding:jar:1.10.0:compile\n[INFO] |  +- org.apache.parquet:parquet-hadoop:jar:1.10.0:compile\n[INFO] |  |  +- org.apache.parquet:parquet-format:jar:2.4.0:compile\n[INFO] |  |  +- org.apache.parquet:parquet-jackson:jar:1.10.0:compile\n[INFO] |  |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\n[INFO] |  +- org.apache.arrow:arrow-vector:jar:0.10.0:compile\n[INFO] |  |  +- org.apache.arrow:arrow-format:jar:0.10.0:compile\n[INFO] |  |  +- org.apache.arrow:arrow-memory:jar:0.10.0:compile\n[INFO] |  |  +- com.carrotsearch:hppc:jar:0.7.2:compile\n[INFO] |  |  \\- com.vlkan:flatbuffers:jar:1.2.0-3f79e055:compile\n[INFO] |  +- org.apache.xbean:xbean-asm6-shaded:jar:4.8:compile\n[INFO] |  \\- org.spark-project.spark:unused:jar:1.0.0:compile\n[INFO] +- org.apache.spark:spark-core_2.11:jar:2.4.1:compile\n[INFO] |  +- com.thoughtworks.paranamer:paranamer:jar:2.8:compile\n[INFO] |  +- org.apache.avro:avro:jar:1.8.2:compile\n[INFO] |  |  \\- org.tukaani:xz:jar:1.5:compile\n[INFO] |  +- org.apache.avro:avro-mapred:jar:hadoop2:1.8.2:compile\n[INFO] |  |  \\- org.apache.avro:avro-ipc:jar:1.8.2:compile\n[INFO] |  +- com.twitter:chill_2.11:jar:0.9.3:compile\n[INFO] |  |  \\- com.esotericsoftware:kryo-shaded:jar:4.0.2:compile\n[INFO] |  |     \\- com.esotericsoftware:minlog:jar:1.3.0:compile\n[INFO] |  +- com.twitter:chill-java:jar:0.9.3:compile\n[INFO] |  +- org.apache.spark:spark-launcher_2.11:jar:2.4.1:compile\n[INFO] |  +- org.apache.spark:spark-kvstore_2.11:jar:2.4.1:compile\n[INFO] |  +- org.apache.spark:spark-network-shuffle_2.11:jar:2.4.1:compile\n[INFO] |  +- org.apache.spark:spark-unsafe_2.11:jar:2.4.1:compile\n[INFO] |  +- javax.activation:activation:jar:1.1.1:compile\n[INFO] |  +- org.apache.curator:curator-recipes:jar:2.6.0:compile\n[INFO] |  |  \\- org.apache.curator:curator-framework:jar:2.6.0:compile\n[INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\n[INFO] |  +- javax.servlet:javax.servlet-api:jar:4.0.1:compile\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.4.1:compile\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:1.3.9:compile\n[INFO] |  +- com.ning:compress-lzf:jar:1.0.3:compile\n[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.7.1:compile\n[INFO] |  +- org.lz4:lz4-java:jar:1.4.0:compile\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.3.2-2:compile\n[INFO] |  +- org.roaringbitmap:RoaringBitmap:jar:0.5.11:compile\n[INFO] |  +- commons-net:commons-net:jar:3.1:compile\n[INFO] |  +- org.scala-lang:scala-library:jar:2.11.12:compile\n[INFO] |  +- org.json4s:json4s-jackson_2.11:jar:3.5.3:compile\n[INFO] |  |  \\- org.json4s:json4s-core_2.11:jar:3.5.3:compile\n[INFO] |  |     +- org.json4s:json4s-ast_2.11:jar:3.5.3:compile\n[INFO] |  |     +- org.json4s:json4s-scalap_2.11:jar:3.5.3:compile\n[INFO] |  |     \\- org.scala-lang.modules:scala-xml_2.11:jar:1.0.6:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.27:compile\n[INFO] |  |  \\- org.glassfish.hk2.external:javax.inject:jar:2.5.0-b42:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.27:compile\n[INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.1:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:2.27:compile\n[INFO] |  |  \\- org.glassfish.jersey.media:jersey-media-jaxb:jar:2.27:compile\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:2.27:compile\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:2.27:compile\n[INFO] |  +- com.clearspring.analytics:stream:jar:2.7.0:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-core:jar:3.2.2:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-jvm:jar:4.0.7:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-json:jar:4.0.7:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-graphite:jar:4.0.7:compile\n[INFO] |  |  \\- com.rabbitmq:amqp-client:jar:5.4.3:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.10.4:compile\n[INFO] |  +- com.fasterxml.jackson.module:jackson-module-scala_2.11:jar:2.9.10:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-paranamer:jar:2.9.10:compile\n[INFO] |  +- org.apache.ivy:ivy:jar:2.4.0:compile\n[INFO] |  +- oro:oro:jar:2.0.8:compile\n[INFO] |  +- net.razorvine:pyrolite:jar:4.13:compile\n[INFO] |  +- net.sf.py4j:py4j:jar:0.10.7:compile\n[INFO] |  \\- org.apache.commons:commons-crypto:jar:1.0.0:compile\n[INFO] +- org.apache.spark:spark-network-common_2.11:jar:2.4.6:compile\n[INFO] |  +- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.10:compile\n[INFO] +- commons-codec:commons-codec:jar:1.13:compile\n[INFO] +- org.apache.logging.log4j:log4j-1.2-api:jar:2.17.1:compile\n[INFO] +- commons-lang:commons-lang:jar:2.6:compile\n[INFO] +- com.datastax.spark:spark-cassandra-connector-unshaded_2.11:jar:2.4.0:compile\n[INFO] |  +- org.joda:joda-convert:jar:1.2:compile\n[INFO] |  +- joda-time:joda-time:jar:2.10.6:compile\n[INFO] |  +- io.netty:netty-all:jar:4.1.50.Final:compile\n[INFO] |  +- com.twitter:jsr166e:jar:1.1.0:compile\n[INFO] |  \\- org.scala-lang:scala-reflect:jar:2.11.12:compile\n[INFO] +- org.cassandraunit:cassandra-unit:jar:3.1.1.0:test\n[INFO] |  +- org.apache.cassandra:cassandra-all:jar:3.9:test\n[INFO] |  |  +- net.jpountz.lz4:lz4:jar:1.3.0:test\n[INFO] |  |  +- commons-cli:commons-cli:jar:1.1:compile\n[INFO] |  |  +- com.googlecode.concurrentlinkedhashmap:concurrentlinkedhashmap-lru:jar:1.4:test\n[INFO] |  |  +- org.antlr:antlr:jar:3.5.2:test\n[INFO] |  |  |  \\- org.antlr:ST4:jar:4.0.8:test\n[INFO] |  |  +- org.antlr:antlr-runtime:jar:3.5.2:test\n[INFO] |  |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.2:test\n[INFO] |  |  +- com.googlecode.json-simple:json-simple:jar:1.1:test\n[INFO] |  |  +- com.boundary:high-scale-lib:jar:1.0.6:test\n[INFO] |  |  +- org.mindrot:jbcrypt:jar:0.3m:test\n[INFO] |  |  +- com.addthis.metrics:reporter-config3:jar:3.0.0:test\n[INFO] |  |  |  \\- com.addthis.metrics:reporter-config-base:jar:3.0.0:test\n[INFO] |  |  +- com.thinkaurelius.thrift:thrift-server:jar:0.3.7:test\n[INFO] |  |  |  \\- com.lmax:disruptor:jar:3.0.1:test\n[INFO] |  |  +- org.apache.thrift:libthrift:jar:0.9.2:test\n[INFO] |  |  +- org.apache.cassandra:cassandra-thrift:jar:3.9:test\n[INFO] |  |  |  +- de.jflex:jflex:jar:1.6.0:test\n[INFO] |  |  |  |  \\- org.apache.ant:ant:jar:1.7.0:test\n[INFO] |  |  |  |     \\- org.apache.ant:ant-launcher:jar:1.7.0:test\n[INFO] |  |  |  +- net.mintern:primitive:jar:1.0:test\n[INFO] |  |  |  +- com.github.rholder:snowball-stemmer:jar:1.3.0.581.1:test\n[INFO] |  |  |  \\- com.googlecode.concurrent-trees:concurrent-trees:jar:2.4.0:test\n[INFO] |  |  +- net.java.dev.jna:jna:jar:4.5.2:test\n[INFO] |  |  +- com.github.jbellis:jamm:jar:0.3.0:test\n[INFO] |  |  +- org.fusesource:sigar:jar:1.6.4:test\n[INFO] |  |  +- org.eclipse.jdt.core.compiler:ecj:jar:4.4.2:test\n[INFO] |  |  +- org.caffinitas.ohc:ohc-core:jar:0.4.3:test\n[INFO] |  |  \\- com.github.ben-manes.caffeine:caffeine:jar:2.6.2:test\n[INFO] |  \\- com.google.guava:guava:jar:18.0:compile\n[INFO] +- io.netty:netty:jar:3.10.6.Final:compile\n[INFO] +- org.apache.hadoop:hadoop-client:jar:3.3.2:compile\n[INFO] |  +- org.apache.hadoop:hadoop-common:jar:3.3.2:compile\n[INFO] |  |  +- org.apache.hadoop.thirdparty:hadoop-shaded-protobuf_3_7:jar:1.1.1:compile\n[INFO] |  |  +- org.apache.hadoop.thirdparty:hadoop-shaded-guava:jar:1.1.1:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.12:compile\n[INFO] |  |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\n[INFO] |  |  +- commons-io:commons-io:jar:2.8.0:compile\n[INFO] |  |  +- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] |  |  +- jakarta.activation:jakarta.activation-api:jar:1.2.1:runtime\n[INFO] |  |  +- javax.servlet.jsp:jsp-api:jar:2.1:runtime\n[INFO] |  |  +- com.sun.jersey:jersey-servlet:jar:1.19:compile\n[INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |  |  +- org.apache.commons:commons-configuration2:jar:2.1.1:compile\n[INFO] |  |  +- org.apache.commons:commons-text:jar:1.4:compile\n[INFO] |  |  +- com.google.re2j:re2j:jar:1.1:compile\n[INFO] |  |  +- com.google.protobuf:protobuf-java:jar:2.5.0:compile\n[INFO] |  |  +- com.google.code.gson:gson:jar:2.8.6:compile\n[INFO] |  |  +- org.apache.hadoop:hadoop-auth:jar:3.3.2:compile\n[INFO] |  |  |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:compile\n[INFO] |  |  |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\n[INFO] |  |  |  \\- org.apache.kerby:kerb-simplekdc:jar:1.0.1:compile\n[INFO] |  |  |     +- org.apache.kerby:kerb-client:jar:1.0.1:compile\n[INFO] |  |  |     |  +- org.apache.kerby:kerby-config:jar:1.0.1:compile\n[INFO] |  |  |     |  +- org.apache.kerby:kerb-common:jar:1.0.1:compile\n[INFO] |  |  |     |  |  \\- org.apache.kerby:kerb-crypto:jar:1.0.1:compile\n[INFO] |  |  |     |  +- org.apache.kerby:kerb-util:jar:1.0.1:compile\n[INFO] |  |  |     |  \\- org.apache.kerby:token-provider:jar:1.0.1:compile\n[INFO] |  |  |     \\- org.apache.kerby:kerb-admin:jar:1.0.1:compile\n[INFO] |  |  |        +- org.apache.kerby:kerb-server:jar:1.0.1:compile\n[INFO] |  |  |        |  \\- org.apache.kerby:kerb-identity:jar:1.0.1:compile\n[INFO] |  |  |        \\- org.apache.kerby:kerby-xdr:jar:1.0.1:compile\n[INFO] |  |  +- org.apache.curator:curator-client:jar:4.2.0:compile\n[INFO] |  |  +- org.apache.commons:commons-compress:jar:1.21:compile\n[INFO] |  |  +- org.apache.kerby:kerb-core:jar:1.0.1:compile\n[INFO] |  |  |  \\- org.apache.kerby:kerby-pkix:jar:1.0.1:compile\n[INFO] |  |  |     +- org.apache.kerby:kerby-asn1:jar:1.0.1:compile\n[INFO] |  |  |     \\- org.apache.kerby:kerby-util:jar:1.0.1:compile\n[INFO] |  |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |  |  +- com.fasterxml.woodstox:woodstox-core:jar:5.0.3:compile\n[INFO] |  |  \\- dnsjava:dnsjava:jar:2.1.7:compile\n[INFO] |  +- org.apache.hadoop:hadoop-hdfs-client:jar:3.3.2:compile\n[INFO] |  |  \\- com.squareup.okhttp:okhttp:jar:2.7.5:compile\n[INFO] |  |     \\- com.squareup.okio:okio:jar:1.6.0:compile\n[INFO] |  +- org.apache.hadoop:hadoop-yarn-api:jar:3.3.2:compile\n[INFO] |  +- org.apache.hadoop:hadoop-yarn-client:jar:3.3.2:compile\n[INFO] |  |  \\- org.jline:jline:jar:3.9.0:compile\n[INFO] |  \\- org.apache.hadoop:hadoop-annotations:jar:3.3.2:compile\n[INFO] \\- commons-configuration:commons-configuration:jar:1.10:compile\n[INFO]    \\- commons-logging:commons-logging:jar:1.1.1:compile\n[INFO] --------------------------------------------------------------------\n</code></pre>\n<p>how do I resolve snakeyaml error?</p>\n"},{"tags":["java","amazon-web-services","soap","amazon-product-api"],"answers":[{"tags":[],"owner":{"account_id":5648625,"reputation":338,"user_id":4469947,"display_name":"Earlee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475848009,"creation_date":1475835164,"answer_id":39914789,"question_id":35152480,"body_markdown":"I also encounter 503 errors, but when I repeat the request, it may be successful. Try this:\r\n\r\n    int retries = 0;\r\n    while (retries &lt; 3){\r\n\r\n        Thread.sleep(1500 * retries);\r\n\t\t\r\n\t\ttry{\r\n\t\t\tresponse = port.itemLookup(itemLookup);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcatch(Exception ex){ }\r\n        retries++;\r\n    }\r\n\r\nHope this helps.","title":"Amazon Product Advertising API - 503 error on batched itemLookup using Java/SOAP","body":"<p>I also encounter 503 errors, but when I repeat the request, it may be successful. Try this:</p>\n\n<pre><code>int retries = 0;\nwhile (retries &lt; 3){\n\n    Thread.sleep(1500 * retries);\n\n    try{\n        response = port.itemLookup(itemLookup);\n        break;\n    }\n    catch(Exception ex){ }\n    retries++;\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":4939819,"reputation":11,"user_id":3976883,"display_name":"specialdrunkard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677590742,"creation_date":1454413302,"question_id":35152480,"body_markdown":"I have a problem with a bulk itemlookup\r\n\r\n**com.sun.xml.internal.ws.client.ClientTransportException:**\r\n\r\n&gt;        com.sun.xml.internal.ws.client.ClientTransportException: The server sent HTTP status code 503: Service Unavailable\r\ncom.sun.xml.internal.ws.client.ClientTransportException: The server sent HTTP status code 503: Service Unavailable\r\n        at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.checkStatusCode(HttpTransportPipe.java:296)\r\n        at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:245)\r\n        at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:203)\r\n        at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:122)\r\n        at com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95)\r\n        at com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:626)\r\n        at com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:585)\r\n        at com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:570)\r\n        at com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:467)\r\n        at com.sun.xml.internal.ws.client.Stub.process(Stub.java:308)\r\n        at com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:146)\r\n        at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:98)\r\n        at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\r\n        at com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:129)\r\n        at $Proxy29.itemLookup(Unknown Source)\r\n\r\n\r\n**This itemLookup is made with the following request:**\r\n\r\n        List&lt;String&gt; resGroup = new ArrayList&lt;String&gt;();\r\n        resGroup.add(&quot;Offers&quot;);\r\n        resGroup.add(&quot;Images&quot;);\r\n        resGroup.add(&quot;ItemAttributes&quot;);\r\n        resGroup.add(&quot;ItemIds&quot;);\r\n\r\n        ItemLookupRequest request = new ItemLookupRequest();\r\n        request.getItemId().addAll(asins);  //asins is an ArrayList&lt;String&gt; of 10 asins\r\n        request.setMerchantId(merchant);\r\n        request.setCondition(condition);\r\n        request.getResponseGroup().addAll(resGroup);\r\n\r\n        ItemLookup itemLookup = new ItemLookup();\r\n\r\n        itemLookup.setAWSAccessKeyId(AWS_ACCESS_KEY);\r\n        itemLookup.setAssociateTag(ASSOC_TAGS.get(&quot;en-GB&quot;));\r\n        itemLookup.getRequest().add(request);\r\n\r\n        response = port.itemLookup(itemLookup);   **&lt;-- This line throws the Exception**\r\n\r\nThis code has worked for 3 years, looking up around 26,000 items in batches of 10 once every 24 hours with no problems, but on the following dates has returned the 503 for every single lookup made that day.\r\n\r\n05.04.2015,\r\n06.04.2015\r\n\r\n26.04.2015\r\n\r\n05.08.2015\r\n\r\n25.12.2015,\r\n26.12.2015\r\n\r\n25.01.2016 to 02.02.2016 inclusive\r\n\r\nThe only suggestion in Amazon Product Advertising API documentation is that the 503 is caused by throttling, with the advice to reduce the number of requests sent per second. Throttling should not be an issue on every single lookup. If it was due to throttling the lookups would at first be successful and only return the 503 after the hourly quota has been reached. This is not the case, on the given dates there have been zero successful lookups with the service resuming as normal at all other times.","title":"Amazon Product Advertising API - 503 error on batched itemLookup using Java/SOAP","body":"<p>I have a problem with a bulk itemlookup</p>\n\n<p><strong>com.sun.xml.internal.ws.client.ClientTransportException:</strong></p>\n\n<blockquote>\n<pre><code>   com.sun.xml.internal.ws.client.ClientTransportException: The server sent HTTP status code 503: Service Unavailable\n</code></pre>\n  \n  <p>com.sun.xml.internal.ws.client.ClientTransportException: The server sent HTTP status code 503: Service Unavailable\n          at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.checkStatusCode(HttpTransportPipe.java:296)\n          at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:245)\n          at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:203)\n          at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:122)\n          at com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95)\n          at com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:626)\n          at com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:585)\n          at com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:570)\n          at com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:467)\n          at com.sun.xml.internal.ws.client.Stub.process(Stub.java:308)\n          at com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:146)\n          at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:98)\n          at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\n          at com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:129)\n          at $Proxy29.itemLookup(Unknown Source)</p>\n</blockquote>\n\n<p><strong>This itemLookup is made with the following request:</strong></p>\n\n<pre><code>    List&lt;String&gt; resGroup = new ArrayList&lt;String&gt;();\n    resGroup.add(\"Offers\");\n    resGroup.add(\"Images\");\n    resGroup.add(\"ItemAttributes\");\n    resGroup.add(\"ItemIds\");\n\n    ItemLookupRequest request = new ItemLookupRequest();\n    request.getItemId().addAll(asins);  //asins is an ArrayList&lt;String&gt; of 10 asins\n    request.setMerchantId(merchant);\n    request.setCondition(condition);\n    request.getResponseGroup().addAll(resGroup);\n\n    ItemLookup itemLookup = new ItemLookup();\n\n    itemLookup.setAWSAccessKeyId(AWS_ACCESS_KEY);\n    itemLookup.setAssociateTag(ASSOC_TAGS.get(\"en-GB\"));\n    itemLookup.getRequest().add(request);\n\n    response = port.itemLookup(itemLookup);   **&lt;-- This line throws the Exception**\n</code></pre>\n\n<p>This code has worked for 3 years, looking up around 26,000 items in batches of 10 once every 24 hours with no problems, but on the following dates has returned the 503 for every single lookup made that day.</p>\n\n<p>05.04.2015,\n06.04.2015</p>\n\n<p>26.04.2015</p>\n\n<p>05.08.2015</p>\n\n<p>25.12.2015,\n26.12.2015</p>\n\n<p>25.01.2016 to 02.02.2016 inclusive</p>\n\n<p>The only suggestion in Amazon Product Advertising API documentation is that the 503 is caused by throttling, with the advice to reduce the number of requests sent per second. Throttling should not be an issue on every single lookup. If it was due to throttling the lookups would at first be successful and only return the 503 after the hourly quota has been reached. This is not the case, on the given dates there have been zero successful lookups with the service resuming as normal at all other times.</p>\n"},{"tags":["java","shell","unit-testing","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1677600064,"post_id":75588030,"comment_id":133368024,"body_markdown":"I&#39;d recommend you move your shell script to its own file, even if it&#39;s &quot;only&quot; one line. The extra quoting in the pipeline description is messy, and you cannot use your usual tools like an IDE and shellcheck on it when it&#39;s embedded here. That said, I&#39;d also first look for a tool that allows me to fail the build if coverage is under a certain threshold or has declined too much. You can&#39;t be the first one to want that feature.","body":"I&#39;d recommend you move your shell script to its own file, even if it&#39;s &quot;only&quot; one line. The extra quoting in the pipeline description is messy, and you cannot use your usual tools like an IDE and shellcheck on it when it&#39;s embedded here. That said, I&#39;d also first look for a tool that allows me to fail the build if coverage is under a certain threshold or has declined too much. You can&#39;t be the first one to want that feature."}],"answers":[{"tags":[],"owner":{"account_id":3047349,"reputation":43,"user_id":2582624,"display_name":"chiri4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677590676,"creation_date":1677590676,"answer_id":75592699,"question_id":75588030,"body_markdown":"Seems to be a problem while parsing the Regex. Maybe you can try setting regex syntax isolated inside a variable and using it inside your script:\r\n\r\n```regexVal = /^.*&lt;td&gt;Total&lt;([^&gt;]+&gt;){4}([^&lt;]*).*$/```\r\n\r\n*The leading and trailing slashed are needed if it contains variables to interpolate.*\r\n\r\n\r\nSo your script will be changed to something like this:\r\n\r\n```&#39;sed -nE &#39;s/${regexVal}/Missed instructions: \\2/p&#39; target/site/jacoco/index.html | tr -dc &#39;0-9.0-9&#39;&#39;```\r\n","title":"Unable to run Shell Script in Jenkins Pipeline","body":"<p>Seems to be a problem while parsing the Regex. Maybe you can try setting regex syntax isolated inside a variable and using it inside your script:</p>\n<p><code>regexVal = /^.*&lt;td&gt;Total&lt;([^&gt;]+&gt;){4}([^&lt;]*).*$/</code></p>\n<p><em>The leading and trailing slashed are needed if it contains variables to interpolate.</em></p>\n<p>So your script will be changed to something like this:</p>\n<p><code>'sed -nE 's/${regexVal}/Missed instructions: \\2/p' target/site/jacoco/index.html | tr -dc '0-9.0-9''</code></p>\n"}],"owner":{"account_id":14386238,"reputation":1,"user_id":10392190,"display_name":"Prarabdh Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677590676,"creation_date":1677560453,"question_id":75588030,"body_markdown":"I am trying to add below step in my pipeline but getting this error `illegal string body character after dollar sign;\r\n   solution: either escape a literal dollar sign &quot;\\$5&quot; or bracket the value expression &quot;${5}&quot; @ line 33, column 75.\r\n   td&gt;Total&lt;([^&gt;]+&gt;){4}([^&lt;]*).*$/Missed in`\r\n\r\nMy Script is:\r\n```\r\nstage(&#39;Test Coverage&#39;){\r\n            steps {\r\n                echo &quot;Running test&quot;\r\n                sh &quot;mvn test&quot;\r\n                script{\r\n                    TOTAL_COVERAGE_STR = sh (\r\n                    script: &quot;sed -nE &#39;s/^.*&lt;td&gt;Total&lt;([^&gt;]+&gt;){4}([^&lt;]*).*$/Missed instructions: \\2/p&#39; target/site/jacoco/index.html | tr -dc &#39;0-9.0-9&#39;&quot;,\r\n                    returnStdout: true\r\n                    ).trim()\r\n                    THRESHOLD = 12.00\r\n                    Float TOTAL_COVERAGE = TOTAL_COVERAGE_STR as Float\r\n                    echo &quot;Total Coverage : ${TOTAL_COVERAGE}, Threshold: ${THRESHOLD}&quot;\r\n                    if (THRESHOLD &gt; TOTAL_COVERAGE) {\r\n                        error(&#39;Aborting the build, as The Test Coverage Is Not As Expected&#39;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\n\r\nI tried capturing the script inside single quotes also like this \r\n```\r\n&#39;sed -nE &#39;s/^.*&lt;td&gt;Total&lt;([^&gt;]+&gt;){4}([^&lt;]*).*$/Missed instructions: \\2/p&#39; target/site/jacoco/index.html | tr -dc &#39;0-9.0-9&#39;&#39;\r\n```\r\nin above case getting error: `unexpected token: s`","title":"Unable to run Shell Script in Jenkins Pipeline","body":"<p>I am trying to add below step in my pipeline but getting this error <code>illegal string body character after dollar sign; solution: either escape a literal dollar sign &quot;\\$5&quot; or bracket the value expression &quot;${5}&quot; @ line 33, column 75. td&gt;Total&lt;([^&gt;]+&gt;){4}([^&lt;]*).*$/Missed in</code></p>\n<p>My Script is:</p>\n<pre><code>stage('Test Coverage'){\n            steps {\n                echo &quot;Running test&quot;\n                sh &quot;mvn test&quot;\n                script{\n                    TOTAL_COVERAGE_STR = sh (\n                    script: &quot;sed -nE 's/^.*&lt;td&gt;Total&lt;([^&gt;]+&gt;){4}([^&lt;]*).*$/Missed instructions: \\2/p' target/site/jacoco/index.html | tr -dc '0-9.0-9'&quot;,\n                    returnStdout: true\n                    ).trim()\n                    THRESHOLD = 12.00\n                    Float TOTAL_COVERAGE = TOTAL_COVERAGE_STR as Float\n                    echo &quot;Total Coverage : ${TOTAL_COVERAGE}, Threshold: ${THRESHOLD}&quot;\n                    if (THRESHOLD &gt; TOTAL_COVERAGE) {\n                        error('Aborting the build, as The Test Coverage Is Not As Expected')\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>I tried capturing the script inside single quotes also like this</p>\n<pre><code>'sed -nE 's/^.*&lt;td&gt;Total&lt;([^&gt;]+&gt;){4}([^&lt;]*).*$/Missed instructions: \\2/p' target/site/jacoco/index.html | tr -dc '0-9.0-9''\n</code></pre>\n<p>in above case getting error: <code>unexpected token: s</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1677576988,"post_id":75590162,"comment_id":133360791,"body_markdown":"This should give you an answer. https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java. and if so should this be considered a duplicate?","body":"This should give you an answer. <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\" title=\"how to parse json in java\">stackoverflow.com/questions/2591098/how-to-parse-json-in-jav&zwnj;&#8203;a</a>. and if so should this be considered a duplicate?"},{"owner":{"account_id":25314064,"reputation":542,"user_id":19136437,"display_name":"Bani"},"score":0,"creation_date":1677577197,"post_id":75590162,"comment_id":133360844,"body_markdown":"@Chris The `response` is an `okhttp3.Response` so `new JSONObject(response)` does not work.","body":"@Chris The <code>response</code> is an <code>okhttp3.Response</code> so <code>new JSONObject(response)</code> does not work."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1677579207,"post_id":75590162,"comment_id":133361413,"body_markdown":"Does this answer your question? [How to parse JSON in Java](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">How to parse JSON in Java</a>"},{"owner":{"account_id":25314064,"reputation":542,"user_id":19136437,"display_name":"Bani"},"score":0,"creation_date":1677579940,"post_id":75590162,"comment_id":133361613,"body_markdown":"@mujammil someone already suggested that and it doesn&#39;t solve my issue","body":"@mujammil someone already suggested that and it doesn&#39;t solve my issue"}],"answers":[{"tags":[],"owner":{"account_id":25314064,"reputation":542,"user_id":19136437,"display_name":"Bani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677581816,"creation_date":1677581816,"answer_id":75591071,"question_id":75590162,"body_markdown":"To get the response from body I had to use this:\r\n\r\n    String jsonData = response.body().string();\r\n    JSONObject Jobject = new JSONObject(jsonData);\r\n\r\nand then I have the Json object returned from the API call.","title":"How do I parse the response from an API call in android (API 28)","body":"<p>To get the response from body I had to use this:</p>\n<pre><code>String jsonData = response.body().string();\nJSONObject Jobject = new JSONObject(jsonData);\n</code></pre>\n<p>and then I have the Json object returned from the API call.</p>\n"}],"owner":{"account_id":25314064,"reputation":542,"user_id":19136437,"display_name":"Bani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75591071,"answer_count":1,"score":1,"last_activity_date":1677590468,"creation_date":1677576740,"question_id":75590162,"body_markdown":"I got this code:\r\n\r\nAnd it gets executed as follows : `new SendFdToApi().execute();`\r\n \r\n\r\n    private class SendFdToApi extends AsyncTask&lt;URL, Integer, Long&gt; {\r\n            @Override\r\n            protected Long doInBackground(URL... urls) {\r\n    \r\n                Gson gson = new GsonBuilder().create();\r\n                String jsonObj = gson.toJson(fdReq);\r\n    \r\n                OkHttpClient client = getUnsafeOkHttpClient();\r\n                RequestBody body;\r\n                Request request;\r\n    \r\n                MediaType mediaType = MediaType.parse(&quot;application/json; charset=UTF-8&quot;);\r\n                body = RequestBody.create(mediaType, jsonObj);\r\n                request = new Request.Builder()\r\n                        .url(&quot;url&quot;)\r\n                        .method(&quot;POST&quot;, body)\r\n                        .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;)\r\n                        .build();\r\n    \r\n                try {\r\n                    Response response = client.newCall(request).execute();\r\n\r\n                    //------Get response message here--------\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nAfter the request is sent I am expecting a JSON message as a result but I don&#39;t know how to get the response from the `response` variable which is an `okhttp3.Response` type.\r\n\r\nThis is what my API returns: \r\n```return new JsonResult(new { mesagge = &quot;message&quot;, status = &quot;S&quot; });```","title":"How do I parse the response from an API call in android (API 28)","body":"<p>I got this code:</p>\n<p>And it gets executed as follows : <code>new SendFdToApi().execute();</code></p>\n<pre><code>private class SendFdToApi extends AsyncTask&lt;URL, Integer, Long&gt; {\n        @Override\n        protected Long doInBackground(URL... urls) {\n\n            Gson gson = new GsonBuilder().create();\n            String jsonObj = gson.toJson(fdReq);\n\n            OkHttpClient client = getUnsafeOkHttpClient();\n            RequestBody body;\n            Request request;\n\n            MediaType mediaType = MediaType.parse(&quot;application/json; charset=UTF-8&quot;);\n            body = RequestBody.create(mediaType, jsonObj);\n            request = new Request.Builder()\n                    .url(&quot;url&quot;)\n                    .method(&quot;POST&quot;, body)\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;)\n                    .build();\n\n            try {\n                Response response = client.newCall(request).execute();\n\n                //------Get response message here--------\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (Exception e){\n                e.printStackTrace();\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>After the request is sent I am expecting a JSON message as a result but I don't know how to get the response from the <code>response</code> variable which is an <code>okhttp3.Response</code> type.</p>\n<p>This is what my API returns:\n<code>return new JsonResult(new { mesagge = &quot;message&quot;, status = &quot;S&quot; });</code></p>\n"},{"tags":["java","android","multithreading","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":5641500,"reputation":86662,"user_id":4465208,"accept_rate":86,"display_name":"zsmb13"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1489833613,"creation_date":1489833613,"answer_id":42873269,"question_id":42873048,"body_markdown":"It is precisely in the source of the `dispose` method. You can probably jump into the source of methods in your libraries within your IDE as well, in IntelliJ it&#39;s &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;B&lt;/kbd&gt; on Windows or &lt;kbd&gt;B&lt;/kbd&gt; on Mac, and in Eclipse it&#39;s &lt;kbd&gt;F3&lt;/kbd&gt;.\r\n\r\nAnyhow, here&#39;s the source of the `dispose` method (comments mine):\r\n\r\n    @Override\r\n    public void dispose() {\r\n        if (disposed) { // nothing to do\r\n            return;\r\n        }\r\n        OpenHashSet&lt;Disposable&gt; set; // this is the same type as our field that holds the Disposables\r\n        synchronized (this) {\r\n            if (disposed) { \r\n                return; // another thread did it while we got our lock, so nothing to do\r\n            }\r\n            disposed = true; // setting this flag is safe now, we&#39;re the only ones disposing\r\n            set = resources; // the references are now in this local variable\r\n            resources = null; // our field no longer has the references\r\n        }\r\n\r\n        dispose(set); // from here on out, only this method has the references to the Disposables\r\n    }\r\n\r\nAnd then the complete code of the `dispose(OpenHashSet&lt;Disposable&gt;)` method that we called above on the last line (mostly just error handling which I believe is self-explainatory):\r\n\r\n    /**\r\n     * Dispose the contents of the OpenHashSet by suppressing non-fatal\r\n     * Throwables till the end.\r\n     * @param set the OpenHashSet to dispose elements of\r\n     */\r\n    void dispose(OpenHashSet&lt;Disposable&gt; set) {\r\n        if (set == null) {\r\n            return;\r\n        }\r\n        List&lt;Throwable&gt; errors = null;\r\n        Object[] array = set.keys();\r\n        for (Object o : array) {\r\n            if (o instanceof Disposable) {\r\n                try {\r\n                    ((Disposable) o).dispose();\r\n                } catch (Throwable ex) {\r\n                    Exceptions.throwIfFatal(ex);\r\n                    if (errors == null) {\r\n                        errors = new ArrayList&lt;Throwable&gt;();\r\n                    }\r\n                    errors.add(ex);\r\n                }\r\n            }\r\n        }\r\n        if (errors != null) {\r\n            if (errors.size() == 1) {\r\n                throw ExceptionHelper.wrapOrThrow(errors.get(0));\r\n            }\r\n            throw new CompositeException(errors);\r\n        }\r\n    }\r\n\r\nAs you can see, at the end of that method, `set` can now be garbage collected, as nobody is holding a reference to it.","title":"How does the clear (CompositeDisposable) method of RxJava work internally?","body":"<p>It is precisely in the source of the <code>dispose</code> method. You can probably jump into the source of methods in your libraries within your IDE as well, in IntelliJ it's <kbd>Ctrl</kbd>+<kbd>B</kbd> on Windows or <kbd>B</kbd> on Mac, and in Eclipse it's <kbd>F3</kbd>.</p>\n\n<p>Anyhow, here's the source of the <code>dispose</code> method (comments mine):</p>\n\n<pre><code>@Override\npublic void dispose() {\n    if (disposed) { // nothing to do\n        return;\n    }\n    OpenHashSet&lt;Disposable&gt; set; // this is the same type as our field that holds the Disposables\n    synchronized (this) {\n        if (disposed) { \n            return; // another thread did it while we got our lock, so nothing to do\n        }\n        disposed = true; // setting this flag is safe now, we're the only ones disposing\n        set = resources; // the references are now in this local variable\n        resources = null; // our field no longer has the references\n    }\n\n    dispose(set); // from here on out, only this method has the references to the Disposables\n}\n</code></pre>\n\n<p>And then the complete code of the <code>dispose(OpenHashSet&lt;Disposable&gt;)</code> method that we called above on the last line (mostly just error handling which I believe is self-explainatory):</p>\n\n<pre><code>/**\n * Dispose the contents of the OpenHashSet by suppressing non-fatal\n * Throwables till the end.\n * @param set the OpenHashSet to dispose elements of\n */\nvoid dispose(OpenHashSet&lt;Disposable&gt; set) {\n    if (set == null) {\n        return;\n    }\n    List&lt;Throwable&gt; errors = null;\n    Object[] array = set.keys();\n    for (Object o : array) {\n        if (o instanceof Disposable) {\n            try {\n                ((Disposable) o).dispose();\n            } catch (Throwable ex) {\n                Exceptions.throwIfFatal(ex);\n                if (errors == null) {\n                    errors = new ArrayList&lt;Throwable&gt;();\n                }\n                errors.add(ex);\n            }\n        }\n    }\n    if (errors != null) {\n        if (errors.size() == 1) {\n            throw ExceptionHelper.wrapOrThrow(errors.get(0));\n        }\n        throw new CompositeException(errors);\n    }\n}\n</code></pre>\n\n<p>As you can see, at the end of that method, <code>set</code> can now be garbage collected, as nobody is holding a reference to it.</p>\n"}],"owner":{"account_id":4879891,"reputation":3,"user_id":7731017,"display_name":"Charlie Chatin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2745,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42873269,"answer_count":1,"score":0,"last_activity_date":1677590367,"creation_date":1489832199,"question_id":42873048,"body_markdown":"Anonymous class holds a reference to the enclosing class. \r\n\r\nIn the following example, I created a small Activity. In the onCreate method, I just add a timer on another Thread, add a CompositeDisposable and clear it in the onDestroy.\r\n\r\nObviously without the CompositeDisposable, it will create a memory leak. With the CompositeDisposable it doesn&#39;t create any memory leak, but how is it even working? \r\n\r\nDoes RxJava just interrupt the Thread and put null on every callback? Can you provide some line that does this work in RxJava source code? I suppose its somewhere near the dispose method.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private String TAG = &quot;MainActivity&quot;;\r\n\r\n    private CompositeDisposable composite = new CompositeDisposable();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        composite.add(Flowable\r\n                .just(1)\r\n                .timer(90, TimeUnit.SECONDS)\r\n                .subscribeOn(Schedulers.io())\r\n                .subscribeWith(new DisposableSubscriber&lt;Long&gt;() {\r\n\r\n                    @Override\r\n                    public void onNext(Long aLong) { sayHello(); }\r\n\r\n                    @Override\r\n                    public void onError(Throwable t) { sayHello(); }\r\n\r\n                    @Override\r\n                    public void onComplete() { sayHello(); }\r\n                }));\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        composite.clear();\r\n    }\r\n\r\n    public void sayHello () { Log.w(TAG, &quot;Hello everyone&quot;); }","title":"How does the clear (CompositeDisposable) method of RxJava work internally?","body":"<p>Anonymous class holds a reference to the enclosing class.</p>\n<p>In the following example, I created a small Activity. In the onCreate method, I just add a timer on another Thread, add a CompositeDisposable and clear it in the onDestroy.</p>\n<p>Obviously without the CompositeDisposable, it will create a memory leak. With the CompositeDisposable it doesn't create any memory leak, but how is it even working?</p>\n<p>Does RxJava just interrupt the Thread and put null on every callback? Can you provide some line that does this work in RxJava source code? I suppose its somewhere near the dispose method.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate String TAG = &quot;MainActivity&quot;;\n\nprivate CompositeDisposable composite = new CompositeDisposable();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    composite.add(Flowable\n            .just(1)\n            .timer(90, TimeUnit.SECONDS)\n            .subscribeOn(Schedulers.io())\n            .subscribeWith(new DisposableSubscriber&lt;Long&gt;() {\n\n                @Override\n                public void onNext(Long aLong) { sayHello(); }\n\n                @Override\n                public void onError(Throwable t) { sayHello(); }\n\n                @Override\n                public void onComplete() { sayHello(); }\n            }));\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n\n    composite.clear();\n}\n\npublic void sayHello () { Log.w(TAG, &quot;Hello everyone&quot;); }\n</code></pre>\n"},{"tags":["python","java","jython","pythoninterpreter"],"comments":[{"owner":{"account_id":176760,"reputation":49306,"user_id":407651,"display_name":"mzjn"},"score":0,"creation_date":1677663538,"post_id":75592580,"comment_id":133380544,"body_markdown":"You cannot use Pandas with Jython: https://stackoverflow.com/q/36213908/407651","body":"You cannot use Pandas with Jython: <a href=\"https://stackoverflow.com/q/36213908/407651\">stackoverflow.com/q/36213908/407651</a>"},{"owner":{"account_id":10413228,"reputation":198,"user_id":7678060,"display_name":"vineeth"},"score":0,"creation_date":1677669951,"post_id":75592580,"comment_id":133382310,"body_markdown":"@mzjn The link tells about jython version 2.7.0. Im using 2.7.2. Pandas is not available in 2.7.0 as well?","body":"@mzjn The link tells about jython version 2.7.0. Im using 2.7.2. Pandas is not available in 2.7.0 as well?"},{"owner":{"account_id":176760,"reputation":49306,"user_id":407651,"display_name":"mzjn"},"score":1,"creation_date":1677670037,"post_id":75592580,"comment_id":133382330,"body_markdown":"It does not matter what the Jython version is. You cannot use Pandas.","body":"It does not matter what the Jython version is. You cannot use Pandas."}],"owner":{"account_id":10413228,"reputation":198,"user_id":7678060,"display_name":"vineeth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678348505,"answer_count":0,"score":0,"last_activity_date":1677590001,"creation_date":1677590001,"question_id":75592580,"body_markdown":"I am trying to create a maven java project which calls python script that have imports from 3rd party modules like pandas. I have installed Python3 and installed pandas using pip command. I am using vsCode as IDE and has windows 10 OS.\r\n\r\nIm attaching the sample code i used.\r\n\r\nApp.java\r\n\r\n    public static void main(String[] args){\r\n      PythonInterpreter interpreter = new PythonInterpreter();\r\n      interpreter.execfile(&quot;./src/main/resources/hello.py&quot;);\r\n      PyFunction function = interpreter.get(&quot;get_data&quot;, PyFunction.class);\r\n      PyObject obj = function.__call__();\r\n      System.out.println(obj);\r\n\r\nhello.py\r\n\r\n    import pandas as pd\r\n\r\n    def get_data():\r\n        data = {&#39;name&#39;: [&#39;John&#39;, &#39;Emily&#39;],\r\n                &#39;age&#39;: [30, 40]}\r\n        df = pd.DataFrame(data)\r\n        return df\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.python&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jython-standalone&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThe error I am getting is **ImportError: No module named pandas**.\r\nWhat I am expecting is that the program is not able to find the modules from python lib.","title":"Calling python having imports from 3rd party modules from Java using jython gives ImportModuleError","body":"<p>I am trying to create a maven java project which calls python script that have imports from 3rd party modules like pandas. I have installed Python3 and installed pandas using pip command. I am using vsCode as IDE and has windows 10 OS.</p>\n<p>Im attaching the sample code i used.</p>\n<p>App.java</p>\n<pre><code>public static void main(String[] args){\n  PythonInterpreter interpreter = new PythonInterpreter();\n  interpreter.execfile(&quot;./src/main/resources/hello.py&quot;);\n  PyFunction function = interpreter.get(&quot;get_data&quot;, PyFunction.class);\n  PyObject obj = function.__call__();\n  System.out.println(obj);\n</code></pre>\n<p>hello.py</p>\n<pre><code>import pandas as pd\n\ndef get_data():\n    data = {'name': ['John', 'Emily'],\n            'age': [30, 40]}\n    df = pd.DataFrame(data)\n    return df\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.python&lt;/groupId&gt;\n        &lt;artifactId&gt;jython-standalone&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The error I am getting is <strong>ImportError: No module named pandas</strong>.\nWhat I am expecting is that the program is not able to find the modules from python lib.</p>\n"},{"tags":["java","spring-mvc","spring-security","azure-active-directory","ldap"],"comments":[{"owner":{"account_id":26410247,"reputation":563,"user_id":20059423,"display_name":"Naveen Sharma"},"score":0,"creation_date":1678437395,"post_id":75592562,"comment_id":133535704,"body_markdown":"Check these doc if helps: [Doc1](https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/active-directory/saas-apps/spring-cm-tutorial.md) [Doc2](https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/active-directory/saas-apps/jdacloud-tutorial.md) [Doc3](https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/active-directory/fundamentals/auth-ldap.md)","body":"Check these doc if helps: <a href=\"https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/active-directory/saas-apps/spring-cm-tutorial.md\" rel=\"nofollow noreferrer\">Doc1</a> <a href=\"https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/active-directory/saas-apps/jdacloud-tutorial.md\" rel=\"nofollow noreferrer\">Doc2</a> <a href=\"https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/active-directory/fundamentals/auth-ldap.md\" rel=\"nofollow noreferrer\">Doc3</a>"}],"owner":{"account_id":24445048,"reputation":1,"user_id":18368133,"display_name":"tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677589918,"creation_date":1677589918,"question_id":75592562,"body_markdown":"We have a requirement for integration with Azure Active Directory Integration for MFA and SSO features. Our application is based on the Java spring framework. How we can implement this? \r\n\r\nI have read that I can make use of Azure Domain Service (AD DS) to perform a one-way synchronization from Azure AD to provide access to a central set of users, groups, and credentials - then connect LDAP. But it does not allow for full utilization of LDAP or Azure features.\r\n\r\n**What is the best approach for an application based on Java Spring framework (not spring boot), having existing integration with `ActiveDirectoryLdapAuthenticationProvider` to have additional integration with Azure AD to utilize its MFA and SSO features?**\r\n\r\n\r\n\r\nWe currently use `org.springframework.security.ldap.authentication.ad`.`ActiveDirectoryLdapAuthenticationProvider` in Spring Security (not spring boot) for the LDAP integration, for authentication, but not authorization. Authentication using Windows Active Directory is working as expected - tried created a user in AD and logged to the application - did the testing. It&#39;s all good. This is working using `ActiveDirectoryLdapAuthenticationProvider`. **Now I want integrate with Azure AD. Does this require a whole code change for Azure AD integration? **","title":"Azure AD integration with Java Spring Security for existing LDAP integration","body":"<p>We have a requirement for integration with Azure Active Directory Integration for MFA and SSO features. Our application is based on the Java spring framework. How we can implement this?</p>\n<p>I have read that I can make use of Azure Domain Service (AD DS) to perform a one-way synchronization from Azure AD to provide access to a central set of users, groups, and credentials - then connect LDAP. But it does not allow for full utilization of LDAP or Azure features.</p>\n<p><strong>What is the best approach for an application based on Java Spring framework (not spring boot), having existing integration with <code>ActiveDirectoryLdapAuthenticationProvider</code> to have additional integration with Azure AD to utilize its MFA and SSO features?</strong></p>\n<p>We currently use <code>org.springframework.security.ldap.authentication.ad</code>.<code>ActiveDirectoryLdapAuthenticationProvider</code> in Spring Security (not spring boot) for the LDAP integration, for authentication, but not authorization. Authentication using Windows Active Directory is working as expected - tried created a user in AD and logged to the application - did the testing. It's all good. This is working using <code>ActiveDirectoryLdapAuthenticationProvider</code>. **Now I want integrate with Azure AD. Does this require a whole code change for Azure AD integration? **</p>\n"},{"tags":["java","mongodb","mongodb-query","aggregation-framework"],"answers":[{"tags":[],"owner":{"account_id":27372221,"reputation":71,"user_id":20878091,"display_name":"Chhavi Batra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677589915,"creation_date":1677589915,"answer_id":75592561,"question_id":75579839,"body_markdown":"Try \r\n\r\n    @Aggregation(&quot; { $match:  { &#39;object&#39;:  $object, $and: [{&#39;end&#39;: {$ne: null}}] } }, { &#39;$group&#39; : { &#39;object&#39; : $object, &#39;object__price&#39;: { $sum: &quot;$price&quot; }, count: {$sum: 1}}}&quot;)\r\n\r\n&quot; $sum: &quot;$price&quot; &quot; would give the sum of key price of each document that falls in that object type, and count would give the total count of such documents","title":"MongoDB aggregation with $match and $group, $sum","body":"<p>Try</p>\n<pre><code>@Aggregation(&quot; { $match:  { 'object':  $object, $and: [{'end': {$ne: null}}] } }, { '$group' : { 'object' : $object, 'object__price': { $sum: &quot;$price&quot; }, count: {$sum: 1}}}&quot;)\n</code></pre>\n<p>&quot; $sum: &quot;$price&quot; &quot; would give the sum of key price of each document that falls in that object type, and count would give the total count of such documents</p>\n"}],"owner":{"account_id":20140004,"reputation":13,"user_id":19074656,"display_name":"epiphany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75592561,"answer_count":1,"score":0,"last_activity_date":1677589915,"creation_date":1677497051,"question_id":75579839,"body_markdown":"I&#39;m trying to query the sum of an inner class. I put it together with what I&#39;ve found on the internet but I am getting an empty response at the moment. Not quite sure what is wrong with it, since it&#39;s different parts that I&#39;ve tried to put together.\r\n\r\nI cannot create any custom classes and I can only use the @Aggregation method.\r\n\r\n```\r\n@Aggregation(&quot; { $match:  { &#39;object&#39;:  $object, $and: [{&#39;end&#39;: {$ne: null}}] } }, { &#39;$group&#39; : { &#39;object&#39; : $object, &#39;object__price&#39;: { $sum: $object.price }}}&quot;)\r\n    Integer sumPrices(@Param(&quot;$object&quot;) Object object);\r\n```\r\n\r\n(The names for the parameters are random in the code.)\r\n\r\nI am trying to query for all items that match the object name and whose production value (&#39;end&#39;) is not null. I then want to get the sum of all the objects of that types and return the sum value. Price value is an inner class.","title":"MongoDB aggregation with $match and $group, $sum","body":"<p>I'm trying to query the sum of an inner class. I put it together with what I've found on the internet but I am getting an empty response at the moment. Not quite sure what is wrong with it, since it's different parts that I've tried to put together.</p>\n<p>I cannot create any custom classes and I can only use the @Aggregation method.</p>\n<pre><code>@Aggregation(&quot; { $match:  { 'object':  $object, $and: [{'end': {$ne: null}}] } }, { '$group' : { 'object' : $object, 'object__price': { $sum: $object.price }}}&quot;)\n    Integer sumPrices(@Param(&quot;$object&quot;) Object object);\n</code></pre>\n<p>(The names for the parameters are random in the code.)</p>\n<p>I am trying to query for all items that match the object name and whose production value ('end') is not null. I then want to get the sum of all the objects of that types and return the sum value. Price value is an inner class.</p>\n"},{"tags":["java","linux","spring","wildfly"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1532494958,"post_id":51511017,"comment_id":89990702,"body_markdown":"The code that you have posted is **not** the code that is failing - Please post the code for `XeryaUtils.convert` and `RestImportDataStudentController.uploadFile`","body":"The code that you have posted is <b>not</b> the code that is failing - Please post the code for <code>XeryaUtils.convert</code> and <code>RestImportDataStudentController.uploadFile</code>"},{"owner":{"account_id":206952,"reputation":576,"user_id":456561,"display_name":"Rick"},"score":0,"creation_date":1532497357,"post_id":51511017,"comment_id":89991494,"body_markdown":"Did you try making it rwx on everything (rwxrwxrwx), not just rwxr_xr_x?","body":"Did you try making it rwx on everything (rwxrwxrwx), not just rwxr_xr_x?"},{"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"score":0,"creation_date":1532497672,"post_id":51511017,"comment_id":89991618,"body_markdown":"you can try with give all permison. chmod 777 -R /opt/xerya_home/","body":"you can try with give all permison. chmod 777 -R /opt/xerya_home/"},{"owner":{"account_id":3168724,"reputation":20909,"user_id":2678170,"accept_rate":0,"display_name":"Salim Hamidi"},"score":0,"creation_date":1532551102,"post_id":51511017,"comment_id":90023144,"body_markdown":"@Scary, I complete question with code generating the error. I upload the file from my windows pc and the application is deployed on linux one. When I test with the application deployed on xindows every thing is ok","body":"@Scary, I complete question with code generating the error. I upload the file from my windows pc and the application is deployed on linux one. When I test with the application deployed on xindows every thing is ok"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1532564887,"post_id":51511017,"comment_id":90027027,"body_markdown":"do some simple debugging and let us know what the value of `file.getOriginalFilename()` is.","body":"do some simple debugging and let us know what the value of <code>file.getOriginalFilename()</code> is."}],"answers":[{"tags":[],"owner":{"account_id":3168724,"reputation":20909,"user_id":2678170,"accept_rate":0,"display_name":"Salim Hamidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532887082,"creation_date":1532887082,"answer_id":51583080,"question_id":51511017,"body_markdown":"I thanks every body for thiers responses.\r\nFinally, I located the bug. It comes from this line:\r\n\r\n    File convFile = new File(file.getOriginalFilename());\r\n\r\nTo resolve it, I change it by:\r\n\r\n    String fileName = System.getenv(XeryaConstants.HOME_ENV_VARIABLE_NAME)\r\n                .concat(File.separator)\r\n                .concat(TEMP_FOLDER_NAME).concat(File.separator)\r\n                .concat(file.getOriginalFilename());\r\n        File convFile = new File(fileName);\r\n\r\nWhen I look to getOriginalFilename documentation, it says: &quot;Return the original filename in the client&#39;s filesystem. This may contain path information depending on the browser used, but it typically will not with any other than Opera.\r\n\r\nI think that this explains the behavior that I get:\r\nWhen the application were deployed on windows, and I upload the file since chrome, no error was found. But when the application were deployed on linux and I upload the file from chrome the bug was found. I was fixed as I said later by concat file.getOriginalFilename() with the absolute path of the container folder.","title":"Permission denied when upload file in java web application deployed on linux server","body":"<p>I thanks every body for thiers responses.\nFinally, I located the bug. It comes from this line:</p>\n\n<pre><code>File convFile = new File(file.getOriginalFilename());\n</code></pre>\n\n<p>To resolve it, I change it by:</p>\n\n<pre><code>String fileName = System.getenv(XeryaConstants.HOME_ENV_VARIABLE_NAME)\n            .concat(File.separator)\n            .concat(TEMP_FOLDER_NAME).concat(File.separator)\n            .concat(file.getOriginalFilename());\n    File convFile = new File(fileName);\n</code></pre>\n\n<p>When I look to getOriginalFilename documentation, it says: \"Return the original filename in the client's filesystem. This may contain path information depending on the browser used, but it typically will not with any other than Opera.</p>\n\n<p>I think that this explains the behavior that I get:\nWhen the application were deployed on windows, and I upload the file since chrome, no error was found. But when the application were deployed on linux and I upload the file from chrome the bug was found. I was fixed as I said later by concat file.getOriginalFilename() with the absolute path of the container folder.</p>\n"}],"owner":{"account_id":3168724,"reputation":20909,"user_id":2678170,"accept_rate":0,"display_name":"Salim Hamidi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1678,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677589561,"creation_date":1532494262,"question_id":51511017,"body_markdown":"I have a java web application with spring 4 and jstl deployed on wildfly installed on linux server. In this app, I have to upload Excel files to extrat data and inject the hole in some table. To do this I defined this configuration for multipart : \r\n\r\n    public class myAppServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    ... \r\n\r\n    private static final String TEMP_FOLDER_NAME = &quot;tmp&quot;; // Temporary location where files will be stored\r\n\r\n    private static final long MAX_FILE_SIZE = 5242880; // 5MB : Max file size.\r\n    // Beyond that size spring will throw exception.\r\n    private static final long MAX_REQUEST_SIZE = 20971520; // 20MB : Total request size containing Multi part.\r\n\r\n    private static final int FILE_SIZE_THRESHOLD = 0; // Size threshold after which files will be written to disk\r\n\r\n    private MultipartConfigElement getMultipartConfigElement() {\r\n            StringBuilder uploadTempDirectoryUrl = new StringBuilder();\r\n            uploadTempDirectoryUrl.append(System.getenv(XeryaConstants.HOME_ENV_VARIABLE_NAME)).append(File.separator)\r\n                    .append(TEMP_FOLDER_NAME);\r\n            File tempDirectory = new File(uploadTempDirectoryUrl.toString());\r\n            if (!tempDirectory.exists()) {\r\n                log.info(&quot;XeryaServletInitializer - Create temp directory &quot; + uploadTempDirectoryUrl);\r\n                tempDirectory.mkdir();\r\n            }\r\n    \r\n            log.info(&quot;XeryaServletInitializer - Multiplart temporal directory: &quot; + uploadTempDirectoryUrl);\r\n            MultipartConfigElement multipartConfigElement = new MultipartConfigElement(System.getenv(AppConstants.HOME_ENV_VARIABLE_NAME),\r\n                    MAX_FILE_SIZE, MAX_REQUEST_SIZE, FILE_SIZE_THRESHOLD);\r\n            return multipartConfigElement;\r\n        }\r\n    \r\n        @Override\r\n        protected void customizeRegistration(ServletRegistration.Dynamic registration) {\r\n            registration.setMultipartConfig(getMultipartConfigElement());\r\n        }\r\n    }\r\n\r\nThis is the code of the method generale the error (line beetween **)\r\n\r\n        public static File convert(MultipartFile file) throws IOException\r\n    {\r\n        File convFile = new File(file.getOriginalFilename());\r\n        **convFile.createNewFile();**\r\n        FileOutputStream fos = new FileOutputStream(convFile);\r\n        fos.write(file.getBytes());\r\n        fos.close();\r\n        return convFile;\r\n    }\r\n\r\nIn the linux sever, the tmp folder which is created in configuration floder out off wildfly has this credentials:\r\n    \r\n    root@VM-XITS01-DEV:/opt/xerya_home# ls -ld\r\n    drwxr-xr-x 9 wildfly wildfly 4096 juil. 25 02:21\r\n\r\nThe problem is when I upload the excel file from windows OS, I have this error:\r\n\r\n        2018-07-25 03:06:25,192 ERROR [stderr] (default task-47) java.io.IOException: Permission denied\r\n    2018-07-25 03:06:25,192 ERROR [stderr] (default task-47)        at java.io.UnixFileSystem.createFileExclusively(Native Method)\r\n    2018-07-25 03:06:25,193 ERROR [stderr] (default task-47)        at java.io.File.createNewFile(File.java:1012)\r\n    2018-07-25 03:06:25,193 ERROR [stderr] (default task-47)        at com.xerya.school.util.XeryaUtils.convert(XeryaUtils.java:103)\r\n    2018-07-25 03:06:25,193 ERROR [stderr] (default task-47)        at com.xerya.school.web.validator.rest.importdata.RestImportDataStudentController.uploadFile(RestImportDataStudentController.java:75)\r\n\r\nCan some one help me plz to resolve this problem. In Windows all work right.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Permission denied when upload file in java web application deployed on linux server","body":"<p>I have a java web application with spring 4 and jstl deployed on wildfly installed on linux server. In this app, I have to upload Excel files to extrat data and inject the hole in some table. To do this I defined this configuration for multipart : </p>\n\n<pre><code>public class myAppServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n... \n\nprivate static final String TEMP_FOLDER_NAME = \"tmp\"; // Temporary location where files will be stored\n\nprivate static final long MAX_FILE_SIZE = 5242880; // 5MB : Max file size.\n// Beyond that size spring will throw exception.\nprivate static final long MAX_REQUEST_SIZE = 20971520; // 20MB : Total request size containing Multi part.\n\nprivate static final int FILE_SIZE_THRESHOLD = 0; // Size threshold after which files will be written to disk\n\nprivate MultipartConfigElement getMultipartConfigElement() {\n        StringBuilder uploadTempDirectoryUrl = new StringBuilder();\n        uploadTempDirectoryUrl.append(System.getenv(XeryaConstants.HOME_ENV_VARIABLE_NAME)).append(File.separator)\n                .append(TEMP_FOLDER_NAME);\n        File tempDirectory = new File(uploadTempDirectoryUrl.toString());\n        if (!tempDirectory.exists()) {\n            log.info(\"XeryaServletInitializer - Create temp directory \" + uploadTempDirectoryUrl);\n            tempDirectory.mkdir();\n        }\n\n        log.info(\"XeryaServletInitializer - Multiplart temporal directory: \" + uploadTempDirectoryUrl);\n        MultipartConfigElement multipartConfigElement = new MultipartConfigElement(System.getenv(AppConstants.HOME_ENV_VARIABLE_NAME),\n                MAX_FILE_SIZE, MAX_REQUEST_SIZE, FILE_SIZE_THRESHOLD);\n        return multipartConfigElement;\n    }\n\n    @Override\n    protected void customizeRegistration(ServletRegistration.Dynamic registration) {\n        registration.setMultipartConfig(getMultipartConfigElement());\n    }\n}\n</code></pre>\n\n<p>This is the code of the method generale the error (line beetween **)</p>\n\n<pre><code>    public static File convert(MultipartFile file) throws IOException\n{\n    File convFile = new File(file.getOriginalFilename());\n    **convFile.createNewFile();**\n    FileOutputStream fos = new FileOutputStream(convFile);\n    fos.write(file.getBytes());\n    fos.close();\n    return convFile;\n}\n</code></pre>\n\n<p>In the linux sever, the tmp folder which is created in configuration floder out off wildfly has this credentials:</p>\n\n<pre><code>root@VM-XITS01-DEV:/opt/xerya_home# ls -ld\ndrwxr-xr-x 9 wildfly wildfly 4096 juil. 25 02:21\n</code></pre>\n\n<p>The problem is when I upload the excel file from windows OS, I have this error:</p>\n\n<pre><code>    2018-07-25 03:06:25,192 ERROR [stderr] (default task-47) java.io.IOException: Permission denied\n2018-07-25 03:06:25,192 ERROR [stderr] (default task-47)        at java.io.UnixFileSystem.createFileExclusively(Native Method)\n2018-07-25 03:06:25,193 ERROR [stderr] (default task-47)        at java.io.File.createNewFile(File.java:1012)\n2018-07-25 03:06:25,193 ERROR [stderr] (default task-47)        at com.xerya.school.util.XeryaUtils.convert(XeryaUtils.java:103)\n2018-07-25 03:06:25,193 ERROR [stderr] (default task-47)        at com.xerya.school.web.validator.rest.importdata.RestImportDataStudentController.uploadFile(RestImportDataStudentController.java:75)\n</code></pre>\n\n<p>Can some one help me plz to resolve this problem. In Windows all work right.</p>\n"},{"tags":["java","json","spring","spring-boot","dto"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1677585876,"post_id":75591785,"comment_id":133363274,"body_markdown":"You are still calling `/mock` in Postman. Seems like your controller listens to `/mock1`.","body":"You are still calling <code>&#47;mock</code> in Postman. Seems like your controller listens to <code>&#47;mock1</code>."},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677586041,"post_id":75591785,"comment_id":133363317,"body_markdown":"changed. Was a typo, sorry. I have updated the image (I still have the error)","body":"changed. Was a typo, sorry. I have updated the image (I still have the error)"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1677586463,"post_id":75591785,"comment_id":133363435,"body_markdown":"How does `Water4AgriFoodMockerApplication` look after you made the separate controller?","body":"How does <code>Water4AgriFoodMockerApplication</code> look after you made the separate controller?"},{"owner":{"account_id":22866153,"reputation":158,"user_id":17009760,"display_name":"Pioter88"},"score":1,"creation_date":1677586774,"post_id":75591785,"comment_id":133363525,"body_markdown":"I think your mapping should start with `/`.\n\nTry ``@RequestMapping(path=&quot;/api/v1/&quot;)``\n\nalso ``@GetMapping(&quot;/mock1&quot;)``","body":"I think your mapping should start with <code>&#47;</code>.  Try <code>@RequestMapping(path=&quot;&#47;api&#47;v1&#47;&quot;)</code>  also <code>@GetMapping(&quot;&#47;mock1&quot;)</code>"},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677586788,"post_id":75591785,"comment_id":133363533,"body_markdown":"Hi, Water4AgriFoodMockerApplication is just a simple &quot;SpringBootApplication&quot;. I added &quot;RestController&quot; just to do some testing since the appropriate &quot;RestController&quot; class was not working","body":"Hi, Water4AgriFoodMockerApplication is just a simple &quot;SpringBootApplication&quot;. I added &quot;RestController&quot; just to do some testing since the appropriate &quot;RestController&quot; class was not working"},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677586922,"post_id":75591785,"comment_id":133363569,"body_markdown":"@Pioter88 I added your suggestion &quot;/api/v1/&quot;, but still the 404 error on: http://localhost:8080/api/v1/mock1?pars=%7B%0A%22id%22%3A%221%22%2C%0A%22name%22%3A%22test%22%2C%0A%22timeFramesEnum%22%3A%22BASELINE%22%0A%7D","body":"@Pioter88 I added your suggestion &quot;/api/v1/&quot;, but still the 404 error on: <a href=\"http://localhost:8080/api/v1/mock1?pars=%7B%0A%22id%22%3A%221%22%2C%0A%22name%22%3A%22test%22%2C%0A%22timeFramesEnum%22%3A%22BASELINE%22%0A%7D\" rel=\"nofollow noreferrer\">localhost:8080/api/v1/&hellip;</a>"},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677587036,"post_id":75591785,"comment_id":133363606,"body_markdown":"@Pioter88 I added your suggetion (2), i.e., @GetMapping(&quot;/mock1&quot;) but I still have the 404 error","body":"@Pioter88 I added your suggetion (2), i.e., @GetMapping(&quot;/mock1&quot;) but I still have the 404 error"},{"owner":{"account_id":22866153,"reputation":158,"user_id":17009760,"display_name":"Pioter88"},"score":1,"creation_date":1677587401,"post_id":75591785,"comment_id":133363729,"body_markdown":"That is strange.... Please make sure your mappings look like this:  \n  \n``@RequestMapping(&quot;/api/v1&quot;)``  \n``@GetMapping(&quot;/mock1&quot;)``  \n  \nAll mappings should start with `/` but not ending with `/`. In previous comment it was my fault because you had ``v1/`` and ``/mock1`` resulting ``v1//mock1``","body":"That is strange.... Please make sure your mappings look like this:      <code>@RequestMapping(&quot;&#47;api&#47;v1&quot;)</code>   <code>@GetMapping(&quot;&#47;mock1&quot;)</code>      All mappings should start with <code>&#47;</code> but not ending with <code>&#47;</code>. In previous comment it was my fault because you had <code>v1&#47;</code> and <code>&#47;mock1</code> resulting <code>v1&#47;&#47;mock1</code>"},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677587944,"post_id":75591785,"comment_id":133363884,"body_markdown":"@Pioter88 fixed in `@RequestMapping(path=&quot;/api/v1&quot;)` and &quot;`GetMapping(&quot;/mock1&quot;)` in Controller class, but I still have 404 error (double check)","body":"@Pioter88 fixed in <code>@RequestMapping(path=&quot;&#47;api&#47;v1&quot;)</code> and &quot;<code>GetMapping(&quot;&#47;mock1&quot;)</code> in Controller class, but I still have 404 error (double check)"},{"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"score":0,"creation_date":1677588422,"post_id":75591785,"comment_id":133364055,"body_markdown":"I use this type of things and my Controllers are annotated like this: &#180;&#180;@RestController\n@RequestMapping(&quot;/mainPath&quot;)\npublic class MyController&#180;&#180; and the restpoint: &#180;&#180;@GetMapping(value = &quot;mypath&quot;, produces = WSConstants.JSON_MEDIATYPE)\n    @ResponseBody\n    public ResponseEntity myGetMethod(@RequestParam(&quot;persid&quot;) String persid)&#180;&#180;","body":"I use this type of things and my Controllers are annotated like this: &#180;&#180;@RestController @RequestMapping(&quot;/mainPath&quot;) public class MyController&#180;&#180; and the restpoint: &#180;&#180;@GetMapping(value = &quot;mypath&quot;, produces = WSConstants.JSON_MEDIATYPE)     @ResponseBody     public ResponseEntity myGetMethod(@RequestParam(&quot;persid&quot;) String persid)&#180;&#180;"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1677589343,"post_id":75591785,"comment_id":133364326,"body_markdown":"The error can also be caused by the component scan not finding your rest-controller class. The component scan is triggered by the `@SpringBootApplication`-annotation on your application class, and (by default) your controller-class has to be in the same package or a sub-package of the application class for it to be found.","body":"The error can also be caused by the component scan not finding your rest-controller class. The component scan is triggered by the <code>@SpringBootApplication</code>-annotation on your application class, and (by default) your controller-class has to be in the same package or a sub-package of the application class for it to be found."},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677589461,"post_id":75591785,"comment_id":133364361,"body_markdown":"@marstran I added a new figure in the question about  package or a sub-package","body":"@marstran I added a new figure in the question about  package or a sub-package"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1677589753,"post_id":75591785,"comment_id":133364457,"body_markdown":"And you are sure that your application-class still has the `@SpringBootApplication` annotation?","body":"And you are sure that your application-class still has the <code>@SpringBootApplication</code> annotation?"},{"owner":{"account_id":22866153,"reputation":158,"user_id":17009760,"display_name":"Pioter88"},"score":0,"creation_date":1677590032,"post_id":75591785,"comment_id":133364553,"body_markdown":"At this point it looks like its related to Spring not finding controller. Your packages are ok, one last tip comming to my mind is Maven. I had numerous issues caused by it. Please try  Maven -&gt; lifecycle -&gt; clean or validate. You can find Maven tab on the right in InteliJ.","body":"At this point it looks like its related to Spring not finding controller. Your packages are ok, one last tip comming to my mind is Maven. I had numerous issues caused by it. Please try  Maven -&gt; lifecycle -&gt; clean or validate. You can find Maven tab on the right in InteliJ."},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677591708,"post_id":75591785,"comment_id":133365149,"body_markdown":"@marstran yes. My class has SpringBootApplication as you can see from the code example","body":"@marstran yes. My class has SpringBootApplication as you can see from the code example"}],"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677589430,"creation_date":1677585626,"question_id":75591785,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI am doing some testing in order to get a design idea. Through a request with JSON I want to create a DTO class within a GET\r\n\r\n    package org.crea.w4ag_mock.mocker;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.experimental.Accessors;\r\n    import org.crea.w4ag_mock.enums.TimeFramesEnum;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Accessors(chain = true)\r\n    public class ParamsDTO {\r\n    \r\n        private String id;\r\n        private String name;\r\n        private TimeFramesEnum timeFramesEnum;\r\n        private double randNum;\r\n    }\r\n\r\nwhere (I&#39;m also trying to figure out how to have Enun lowercase):\r\n\r\n    package org.crea.w4ag_mock.enums;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public enum TimeFramesEnum {\r\n    \r\n        /*\r\n        baseline = BASELINE\r\n        period2_2040 = PERIOD2_2040\r\n        period3_2070 = PERIOD2_2070\r\n        */\r\n    \r\n        BASELINE,\r\n        PERIOD2_2040,\r\n        PERIOD2_2070\r\n    }\r\n\r\nI have my class Application (@SpringBootApplication) + Controller (@RestController):\r\n\r\n    package org.crea.w4ag_mock;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.crea.w4ag_mock.mocker.*;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class Water4AgriFoodMockerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Water4AgriFoodMockerApplication.class, args);\r\n    \r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;mock&quot;)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;ParamsDTO&gt; getMock(@RequestParam(value = &quot;pars&quot;) String parametersDTO) throws IOException {\r\n    \t\tfinal ParamsDTO paramsDTO =\r\n    \t\t\t\tnew ObjectMapper()\r\n    \t\t\t\t\t\t.readValue(parametersDTO, ParamsDTO.class);\r\n    \r\n    \t\tparamsDTO.setRandNum(12345);\r\n    \t\treturn ResponseEntity.ok(paramsDTO);\r\n    \t}\r\n    \r\n    }\r\n\r\nI convert my JSON to a URL-encoded JSON ([https://onlinejsontools.com/url-encode-json][2]). **Note, this is because TOMCAT reports me an error with a plain JSON**:\r\n\r\n    {\r\n    &quot;id&quot;:&quot;1&quot;,\r\n    &quot;name&quot;:&quot;test&quot;,\r\n    &quot;timeFramesEnum&quot;:&quot;BASELINE&quot;\r\n    }\r\n\r\nAnd I use POSTMAN to test the whole thing:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\nSo far so good, but if I create a proper Controller class I get the following error message in Postman:\r\n\r\n\r\n    package org.crea.w4ag_mock.controller;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.crea.w4ag_mock.mocker.*;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @RestController\r\n    @RequestMapping(path=&quot;api/v1/&quot;)\r\n    public class Water4AgriFoodMockController {\r\n    \r\n        @GetMapping(&quot;mock1&quot;)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;ParamsDTO&gt; getMock1(@RequestParam(value = &quot;pars&quot;) String parametersDTO) throws IOException {\r\n            final ParamsDTO paramsDTO =\r\n                    new ObjectMapper()\r\n                            .readValue(parametersDTO, ParamsDTO.class);\r\n    \r\n            paramsDTO.setRandNum(12345);\r\n            return ResponseEntity.ok(paramsDTO);\r\n        }\r\n    }\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AMmJ2.png\r\n  [2]: https://onlinejsontools.com/url-encode-json\r\n  [3]: https://i.stack.imgur.com/lL222.png\r\n  [4]: https://i.stack.imgur.com/IZ6qw.png","title":"Spring Boot 3.0.0+ with JAVA class DTO","body":"<p><a href=\"https://i.stack.imgur.com/AMmJ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMmJ2.png\" alt=\"enter image description here\" /></a></p>\n<p>I am doing some testing in order to get a design idea. Through a request with JSON I want to create a DTO class within a GET</p>\n<pre><code>package org.crea.w4ag_mock.mocker;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.experimental.Accessors;\nimport org.crea.w4ag_mock.enums.TimeFramesEnum;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Accessors(chain = true)\npublic class ParamsDTO {\n\n    private String id;\n    private String name;\n    private TimeFramesEnum timeFramesEnum;\n    private double randNum;\n}\n</code></pre>\n<p>where (I'm also trying to figure out how to have Enun lowercase):</p>\n<pre><code>package org.crea.w4ag_mock.enums;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic enum TimeFramesEnum {\n\n    /*\n    baseline = BASELINE\n    period2_2040 = PERIOD2_2040\n    period3_2070 = PERIOD2_2070\n    */\n\n    BASELINE,\n    PERIOD2_2040,\n    PERIOD2_2070\n}\n</code></pre>\n<p>I have my class Application (@SpringBootApplication) + Controller (@RestController):</p>\n<pre><code>package org.crea.w4ag_mock;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.crea.w4ag_mock.mocker.*;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.io.IOException;\n\n@SpringBootApplication\n@RestController\npublic class Water4AgriFoodMockerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Water4AgriFoodMockerApplication.class, args);\n\n    }\n\n    @GetMapping(&quot;mock&quot;)\n    @ResponseBody\n    public ResponseEntity&lt;ParamsDTO&gt; getMock(@RequestParam(value = &quot;pars&quot;) String parametersDTO) throws IOException {\n        final ParamsDTO paramsDTO =\n                new ObjectMapper()\n                        .readValue(parametersDTO, ParamsDTO.class);\n\n        paramsDTO.setRandNum(12345);\n        return ResponseEntity.ok(paramsDTO);\n    }\n\n}\n</code></pre>\n<p>I convert my JSON to a URL-encoded JSON (<a href=\"https://onlinejsontools.com/url-encode-json\" rel=\"nofollow noreferrer\">https://onlinejsontools.com/url-encode-json</a>). <strong>Note, this is because TOMCAT reports me an error with a plain JSON</strong>:</p>\n<pre><code>{\n&quot;id&quot;:&quot;1&quot;,\n&quot;name&quot;:&quot;test&quot;,\n&quot;timeFramesEnum&quot;:&quot;BASELINE&quot;\n}\n</code></pre>\n<p>And I use POSTMAN to test the whole thing:</p>\n<p><a href=\"https://i.stack.imgur.com/lL222.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lL222.png\" alt=\"enter image description here\" /></a></p>\n<p>So far so good, but if I create a proper Controller class I get the following error message in Postman:</p>\n<pre><code>package org.crea.w4ag_mock.controller;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.crea.w4ag_mock.mocker.*;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.io.IOException;\n\n@RestController\n@RequestMapping(path=&quot;api/v1/&quot;)\npublic class Water4AgriFoodMockController {\n\n    @GetMapping(&quot;mock1&quot;)\n    @ResponseBody\n    public ResponseEntity&lt;ParamsDTO&gt; getMock1(@RequestParam(value = &quot;pars&quot;) String parametersDTO) throws IOException {\n        final ParamsDTO paramsDTO =\n                new ObjectMapper()\n                        .readValue(parametersDTO, ParamsDTO.class);\n\n        paramsDTO.setRandNum(12345);\n        return ResponseEntity.ok(paramsDTO);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IZ6qw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IZ6qw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","javafx","jfoenix"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1677590916,"post_id":75592460,"comment_id":133364844,"body_markdown":"Use [MaterialFX instead](https://github.com/palexdev/MaterialFX), see [how to use it](https://stackoverflow.com/questions/71931192/using-materialfx-in-intellij/71931282#71931282).","body":"Use <a href=\"https://github.com/palexdev/MaterialFX\" rel=\"nofollow noreferrer\">MaterialFX instead</a>, see <a href=\"https://stackoverflow.com/questions/71931192/using-materialfx-in-intellij/71931282#71931282\">how to use it</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1677591081,"post_id":75592460,"comment_id":133364908,"body_markdown":"Probably you can require the correct module to use jfoenix (I don&#39;t know what that is), or delete your module-info and add the JavaFX modules manually, but I recommend changing to MaterialFX regardless, because of [things like this](https://stackoverflow.com/questions/70082473/working-with-javafx-in-maven-jfoenix-9-0-10-dependency-issue/70086754#70086754).","body":"Probably you can require the correct module to use jfoenix (I don&#39;t know what that is), or delete your module-info and add the JavaFX modules manually, but I recommend changing to MaterialFX regardless, because of <a href=\"https://stackoverflow.com/questions/70082473/working-with-javafx-in-maven-jfoenix-9-0-10-dependency-issue/70086754#70086754\">things like this</a>."},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1677597427,"post_id":75592460,"comment_id":133367152,"body_markdown":"I am not allowed to use MaterialFx","body":"I am not allowed to use MaterialFx"}],"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677589418,"creation_date":1677589418,"question_id":75592460,"body_markdown":"I have used a jfoenix.jar file to add the Jfoenix elements to my Scenebuilder, then I went into Intelij and added this to the pom.xml:\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.jfoenix/jfoenix --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\r\n  &lt;version&gt;9.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nmy entire pom.xml looks like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Start&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;Start&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;18.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;18.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.jfoenix/jfoenix --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\r\n      &lt;version&gt;9.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.10.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;18&lt;/source&gt;\r\n          &lt;target&gt;18&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n            &lt;id&gt;default-cli&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;com.example.start/com.example.start.HelloApplication&lt;/mainClass&gt;\r\n              &lt;launcher&gt;app&lt;/launcher&gt;\r\n              &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n              &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n              &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n              &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n              &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy problem, now when I insert something from jfoenix in the FXML file with scneebuilder, you don&#39;t see that when I run the FXMl file in the java project, only see the javafx elements?\r\n\r\nI don&#180;t now what i have to do?\r\n\r\nMy modulinfo looks so:\r\n\r\n```\r\nmodule com.example.start {\r\n  requires javafx.controls;\r\n  requires javafx.fxml;\r\n\r\n  opens com.example.start to javafx.fxml;\r\n  exports com.example.start;\r\n}\r\n```\r\n\r\nI don&#180;t know really what I have to do?\\`Hab","title":"I can&#180;t see the jfoenix elements, when i am running my application (Intelij and Maven)","body":"<p>I have used a jfoenix.jar file to add the Jfoenix elements to my Scenebuilder, then I went into Intelij and added this to the pom.xml:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.jfoenix/jfoenix --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\n  &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\n  &lt;version&gt;9.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>my entire pom.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;Start&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Start&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;18.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;18.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.jfoenix/jfoenix --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\n      &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\n      &lt;version&gt;9.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;18&lt;/source&gt;\n          &lt;target&gt;18&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n            &lt;id&gt;default-cli&lt;/id&gt;\n            &lt;configuration&gt;\n              &lt;mainClass&gt;com.example.start/com.example.start.HelloApplication&lt;/mainClass&gt;\n              &lt;launcher&gt;app&lt;/launcher&gt;\n              &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n              &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n              &lt;noManPages&gt;true&lt;/noManPages&gt;\n              &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n              &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My problem, now when I insert something from jfoenix in the FXML file with scneebuilder, you don't see that when I run the FXMl file in the java project, only see the javafx elements?</p>\n<p>I dont now what i have to do?</p>\n<p>My modulinfo looks so:</p>\n<pre><code>module com.example.start {\n  requires javafx.controls;\n  requires javafx.fxml;\n\n  opens com.example.start to javafx.fxml;\n  exports com.example.start;\n}\n</code></pre>\n<p>I dont know really what I have to do?`Hab</p>\n"},{"tags":["java","key","store"],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677589328,"creation_date":1677589328,"answer_id":75592441,"question_id":75592341,"body_markdown":"What you &#39;allow&#39; is up to you, but entries in a Java keystore are distinguished by the &#39;alias&#39; name you assign to them.  If you want to have different entries with the same subject, you can.\r\n\r\n[Documentation link](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/KeyStore.html)\r\n\r\n&gt; Each entry in a keystore is identified by an &quot;alias&quot; string. In the\r\n&gt; case of private keys and their associated certificate chains, these\r\n&gt; strings distinguish among the different ways in which the entity may\r\n&gt; authenticate itself. For example, the entity may authenticate itself\r\n&gt; using different certificate authorities, or using different public key\r\n&gt; algorithms.\r\n\r\n","title":"Do we allow upload the two certificates with same SubjectDN to the same trust-store in Java keystore","body":"<p>What you 'allow' is up to you, but entries in a Java keystore are distinguished by the 'alias' name you assign to them.  If you want to have different entries with the same subject, you can.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">Documentation link</a></p>\n<blockquote>\n<p>Each entry in a keystore is identified by an &quot;alias&quot; string. In the\ncase of private keys and their associated certificate chains, these\nstrings distinguish among the different ways in which the entity may\nauthenticate itself. For example, the entity may authenticate itself\nusing different certificate authorities, or using different public key\nalgorithms.</p>\n</blockquote>\n"}],"owner":{"account_id":27899980,"reputation":1,"user_id":21304464,"display_name":"Vinay Vinay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677589328,"creation_date":1677588778,"question_id":75592341,"body_markdown":"Do we allow upload the two certificates with same SubjectDN to the same trust-store in java keystore?. Any RFC reference we have which says this is not allowed?. \r\nWe have Certificate authority which can issue certificates with same SubjectDN and overlapping validity. Do we allow the upload of these certificates to same  trust store and how does the application choose the valid certificate from the 2 same certificates(as both certificates will have same subject DN)\r\n\r\nWe tried looking at the RFC and implementation for this","title":"Do we allow upload the two certificates with same SubjectDN to the same trust-store in Java keystore","body":"<p>Do we allow upload the two certificates with same SubjectDN to the same trust-store in java keystore?. Any RFC reference we have which says this is not allowed?.\nWe have Certificate authority which can issue certificates with same SubjectDN and overlapping validity. Do we allow the upload of these certificates to same  trust store and how does the application choose the valid certificate from the 2 same certificates(as both certificates will have same subject DN)</p>\n<p>We tried looking at the RFC and implementation for this</p>\n"},{"tags":["java","dynamic","predicate","functional-interface","lambda-metafactory"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1676421796,"post_id":75454466,"comment_id":133132859,"body_markdown":"The fourth parameter of `metafactory` should be `signature.erase()`. That said, do you realise that a `Predicate&lt;Cat&gt;` is not a `Predicate&lt;Animal&gt;`? The latter can test a dog, but the former cannot. It&#39;s the other way around - a `Predicate&lt;Animal&gt;` is a `Predicate&lt;? super Cat&gt;`.","body":"The fourth parameter of <code>metafactory</code> should be <code>signature.erase()</code>. That said, do you realise that a <code>Predicate&lt;Cat&gt;</code> is not a <code>Predicate&lt;Animal&gt;</code>? The latter can test a dog, but the former cannot. It&#39;s the other way around - a <code>Predicate&lt;Animal&gt;</code> is a <code>Predicate&lt;? super Cat&gt;</code>."},{"owner":{"account_id":19943495,"reputation":45,"user_id":14614743,"display_name":"zuzuri"},"score":0,"creation_date":1676422301,"post_id":75454466,"comment_id":133132908,"body_markdown":"I had tried it before with &#39;Object.class&#39; and not &#39;erase()&#39; to perform type erasure. So does that make a difference? Anyway, it finally works now, thank you very much! And yes, I mean to understand the difference between &#39;Predicate&lt;Cat&gt;&#39; and &#39;Predicate&lt;Animal&gt;&#39; - that&#39;s simple inheritance after all. Or do you still see a mistake somewhere in my approach?","body":"I had tried it before with &#39;Object.class&#39; and not &#39;erase()&#39; to perform type erasure. So does that make a difference? Anyway, it finally works now, thank you very much! And yes, I mean to understand the difference between &#39;Predicate&lt;Cat&gt;&#39; and &#39;Predicate&lt;Animal&gt;&#39; - that&#39;s simple inheritance after all. Or do you still see a mistake somewhere in my approach?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676422447,"post_id":75454466,"comment_id":133132933,"body_markdown":"My point is that &quot;This method returns a boolean and always has an object as parameter, which always inherits from another fixed object.&quot; is not a `Predicate&lt;Parent&gt;`. It is not type safe to cast it to that.","body":"My point is that &quot;This method returns a boolean and always has an object as parameter, which always inherits from another fixed object.&quot; is not a <code>Predicate&lt;Parent&gt;</code>. It is not type safe to cast it to that."},{"owner":{"account_id":19943495,"reputation":45,"user_id":14614743,"display_name":"zuzuri"},"score":0,"creation_date":1676423243,"post_id":75454466,"comment_id":133133044,"body_markdown":"I think I understand. But how would you get around that and what other problems might arise otherwise?","body":"I think I understand. But how would you get around that and what other problems might arise otherwise?"}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677589291,"creation_date":1676422260,"answer_id":75454577,"question_id":75454466,"body_markdown":"Since you know the target interface type is `Predicate` you could use a lambda expression as well:\r\n\r\n    private Predicate&lt;Parent&gt; toPredicate(final ExampleInterface instance, final Method method) {\r\n        final MethodHandle handle = LOOKUP.unreflect(method)\r\n            .bindTo(instance)\r\n            .asType(MethodType.methodType(boolean.class, Parent.class);\r\n        \r\n        return parent -&gt; {\r\n            try {\r\n                return (boolean) handle.invokeExact(parent);\r\n            } catch (Throwable t) {\r\n                throw new RuntimeException(&quot;Should not happen&quot;, t);\r\n            }\r\n        };\r\n    }\r\n\r\nUsing LambdaMetafactory is only really beneficial in specific cases where a particular call site only sees 1 or 2 implementations of the interface. Also note that every time you create a metafactory, a new class is generated (unless it can be loaded from the CDS archive), which has its own costs associated with it. \r\n\r\nAlso, depending on the Java version you are using, these classes are strongly tied to the defining class loader. This started when the implementation was switched to [hidden classes](https://bugs.openjdk.org/browse/JDK-8238358) in Java 15. So, e.g. if the defining class loader is the application class loader, the classes are in practice never unloaded, and this can lead to metaspace exhaustion if `metafactory` is called a lot. (for regular use through `invokedynamic` the resolved instruction keeps the class alive any way, and strongly tying the class to the class loader saves memory elsewhere).\r\n\r\nThe thing you&#39;re getting wrong is the interface method type. It should be the erasure of the `test` method in `Predicate`:\r\n\r\n    final MethodHandle handle = LOOKUP.unreflect(method);\r\n\r\n    final CallSite callSite = LambdaMetafactory.metafactory(\r\n        LOOKUP,\r\n        &quot;test&quot;,\r\n        MethodType.methodType(Predicate.class, instance.getClass()),\r\n        MethodType.methodType(boolean.class, Object.class),\r\n        handle,\r\n        MethodType.methodType(boolean.class, Parent.class)\r\n    );","title":"How is it possible to dynamically convert a method object into a functional interface in Java?","body":"<p>Since you know the target interface type is <code>Predicate</code> you could use a lambda expression as well:</p>\n<pre><code>private Predicate&lt;Parent&gt; toPredicate(final ExampleInterface instance, final Method method) {\n    final MethodHandle handle = LOOKUP.unreflect(method)\n        .bindTo(instance)\n        .asType(MethodType.methodType(boolean.class, Parent.class);\n    \n    return parent -&gt; {\n        try {\n            return (boolean) handle.invokeExact(parent);\n        } catch (Throwable t) {\n            throw new RuntimeException(&quot;Should not happen&quot;, t);\n        }\n    };\n}\n</code></pre>\n<p>Using LambdaMetafactory is only really beneficial in specific cases where a particular call site only sees 1 or 2 implementations of the interface. Also note that every time you create a metafactory, a new class is generated (unless it can be loaded from the CDS archive), which has its own costs associated with it.</p>\n<p>Also, depending on the Java version you are using, these classes are strongly tied to the defining class loader. This started when the implementation was switched to <a href=\"https://bugs.openjdk.org/browse/JDK-8238358\" rel=\"nofollow noreferrer\">hidden classes</a> in Java 15. So, e.g. if the defining class loader is the application class loader, the classes are in practice never unloaded, and this can lead to metaspace exhaustion if <code>metafactory</code> is called a lot. (for regular use through <code>invokedynamic</code> the resolved instruction keeps the class alive any way, and strongly tying the class to the class loader saves memory elsewhere).</p>\n<p>The thing you're getting wrong is the interface method type. It should be the erasure of the <code>test</code> method in <code>Predicate</code>:</p>\n<pre><code>final MethodHandle handle = LOOKUP.unreflect(method);\n\nfinal CallSite callSite = LambdaMetafactory.metafactory(\n    LOOKUP,\n    &quot;test&quot;,\n    MethodType.methodType(Predicate.class, instance.getClass()),\n    MethodType.methodType(boolean.class, Object.class),\n    handle,\n    MethodType.methodType(boolean.class, Parent.class)\n);\n</code></pre>\n"}],"owner":{"account_id":19943495,"reputation":45,"user_id":14614743,"display_name":"zuzuri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75454577,"answer_count":1,"score":3,"last_activity_date":1677589291,"creation_date":1676420489,"question_id":75454466,"body_markdown":"I have a few classes that each implement an interface. From these classes I search out a method using an annotation. This method returns a boolean and always has an object as parameter, which always inherits from another fixed object. Now I want to create a functional interface from this method. Optimally of course a Predicate, which takes over the mentioned parameter. This I have now tried for some time to implement with LambdaMetafactory:\r\n\r\n\r\n```\r\nprivate Predicate&lt;Parent&gt; toPredicate(final ExampleInterface instance, final Method method) {\r\n\ttry {\r\n\t\tfinal MethodHandle handle = LOOKUP.unreflect(method);\r\n\t\tfinal MethodType signature = MethodType.methodType(boolean.class, method.getParameters()[0].getType());\r\n\r\n\t\tfinal CallSite callSite = LambdaMetafactory.metafactory(\r\n\t\t\tLOOKUP,\r\n\t\t\t&quot;test&quot;,\r\n\t\t\tMethodType.methodType(Predicate.class, instance.getClass()),\r\n\t\t\tsignature,\r\n\t\t\thandle,\r\n\t\t\tsignature\r\n\t\t);\r\n\r\n\t\treturn (Predicate&lt;Parent&gt;) callSite.getTarget().invoke(instance);\r\n\t} catch (Throwable e) {\r\n\t\te.printStackTrace();\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nMy problem now is that when I call the Predicate&#39;s test method, an AbstractMethodError is thrown. When I use signature with (boolean.class, Parent.class) I get a LambdaConversionException. Is it even possible to implement it that dynamically? If yes, how?","title":"How is it possible to dynamically convert a method object into a functional interface in Java?","body":"<p>I have a few classes that each implement an interface. From these classes I search out a method using an annotation. This method returns a boolean and always has an object as parameter, which always inherits from another fixed object. Now I want to create a functional interface from this method. Optimally of course a Predicate, which takes over the mentioned parameter. This I have now tried for some time to implement with LambdaMetafactory:</p>\n<pre><code>private Predicate&lt;Parent&gt; toPredicate(final ExampleInterface instance, final Method method) {\n    try {\n        final MethodHandle handle = LOOKUP.unreflect(method);\n        final MethodType signature = MethodType.methodType(boolean.class, method.getParameters()[0].getType());\n\n        final CallSite callSite = LambdaMetafactory.metafactory(\n            LOOKUP,\n            &quot;test&quot;,\n            MethodType.methodType(Predicate.class, instance.getClass()),\n            signature,\n            handle,\n            signature\n        );\n\n        return (Predicate&lt;Parent&gt;) callSite.getTarget().invoke(instance);\n    } catch (Throwable e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>My problem now is that when I call the Predicate's test method, an AbstractMethodError is thrown. When I use signature with (boolean.class, Parent.class) I get a LambdaConversionException. Is it even possible to implement it that dynamically? If yes, how?</p>\n"},{"tags":["java","android-room"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1677583233,"post_id":75591245,"comment_id":133362556,"body_markdown":"What&#39;s `AppDatabase.getDbIntance(this)`?","body":"What&#39;s <code>AppDatabase.getDbIntance(this)</code>?"},{"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"score":0,"creation_date":1677588774,"post_id":75591245,"comment_id":133364164,"body_markdown":"this is how i instantiate my appDataBase variable","body":"this is how i instantiate my appDataBase variable"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1677603861,"post_id":75591245,"comment_id":133369263,"body_markdown":"Post that class as well, specifically that method.","body":"Post that class as well, specifically that method."}],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677588642,"creation_date":1677582758,"question_id":75591245,"body_markdown":"I am implementing an android app which retrieves my device location and store it in a table . I first instantiate AppDataBase Class and then initialize it in the onCreate() method . But when it comes to call a Dao method , i always get the error : \r\n Attempt to invoke virtual method &#39;com.example.locator.Interfaces.LocationDao com.example.locator.AppDatabase.locationDao()&#39; on a null object reference\r\n\r\nHere is the code i&#39;ve implemented : \r\n\r\n\r\n        public class MainActivity extends AppCompatActivity implements LocationListener {\r\n        \r\n        ActivityMainBinding binding;\r\n            AppDatabase appDatabase;\r\n            private Handler handler;\r\n            List&lt;String&gt; newPermissions;\r\n        \r\n            private LocationManager locationManager;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                binding=ActivityMainBinding.inflate(getLayoutInflater());\r\n                setContentView(binding.getRoot());\r\n                appDatabase=AppDatabase.getDbIntance(this);\r\n                newPermissions = new ArrayList&lt;&gt;(Arrays.asList(android.Manifest.permission.READ_EXTERNAL_STORAGE, android.Manifest.permission.RECEIVE_SMS,\r\n                        android.Manifest.permission.READ_SMS, android.Manifest.permission.SEND_SMS,\r\n                        android.Manifest.permission.ACCESS_FINE_LOCATION, android.Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                        android.Manifest.permission.READ_PHONE_STATE, Manifest.permission.CAMERA));\r\n                if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) newPermissions.add(Manifest.permission.FOREGROUND_SERVICE);\r\n        \r\n                if(!checkPermission(this, newPermissions)){\r\n                    ActivityCompat.requestPermissions(this, newPermissions.toArray(new String[]{}), 200);\r\n                }\r\n        \r\n                locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n                // Request location updates\r\n                if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                    // TODO: Consider calling\r\n                    //    ActivityCompat#requestPermissions\r\n                    // here to request the missing permissions, and then overriding\r\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                    //                                          int[] grantResults)\r\n                    // to handle the case where the user grants the permission. See the documentation\r\n                    // for ActivityCompat#requestPermissions for more details.\r\n                    return;\r\n                }\r\n                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, new MainActivity());\r\n        \r\n                handler = new Handler();\r\n        \r\n                // Define the code block to be executed\r\n                Runnable runnable = new Runnable() {\r\n                    @SuppressLint(&quot;SetTextI18n&quot;)\r\n                    @Override\r\n                    public void run() {\r\n                        // Insert custom code here\r\n        \r\n                        Log.d(&quot;TAG&quot;, &quot;run: &quot; + &quot;run every 30s&quot;);\r\n        \r\n                        if(appDatabase!=null){\r\n                            if(appDatabase.locationDao().getAll()!=null){\r\n                                //  List&lt;GpsLocation&gt; list = new ArrayList&lt;&gt;();\r\n                                MainActivity.this.runOnUiThread(() -&gt; appDatabase.locationDao().getAll().observe(MainActivity.this, locations -&gt; {\r\n        \r\n                                    Collections.reverse(locations);\r\n                                    if(locations.size()&gt;0){\r\n                                        binding.Longitude.setText(&quot;Longitude : &quot;+locations.get(0).getLongitude());\r\n                                        binding.Latitude.setText(&quot;Latitude : &quot;+locations.get(0).getLatitude());\r\n                                        binding.Altitude.setText(&quot;Altitude : &quot;+locations.get(0).getAltitude());\r\n                                        binding.Accuracy.setText(&quot;Accuracy : &quot;+locations.get(0).getAccuracy());\r\n                                        binding.send.setVisibility(View.VISIBLE);\r\n                                    }\r\n        \r\n        \r\n                                }));\r\n                                binding.send.setOnClickListener(v-&gt;{\r\n        \r\n                                });\r\n                            }\r\n        \r\n                        }\r\n        \r\n                        // Repeat every 30 seconds\r\n                        handler.postDelayed(this, 30000L);\r\n                    }\r\n                };\r\n                handler.post(runnable);\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public void onLocationChanged(@NonNull Location location) {\r\n                Log.d(&quot;TAG&quot;, &quot;onLocationChanged: checking .... &quot;);\r\n                if(location.getAccuracy()&lt;=5f){\r\n                    GpsLocation position=new GpsLocation();\r\n                    if(position!=null){\r\n                        Log.d(&quot;TAG&quot;, &quot;onLocationChanged: accuracy &lt;=5&quot;);\r\n                        double latitude = location.getLatitude();\r\n                        position.setLatitude(latitude);\r\n                        double longitude = location.getLongitude();\r\n                        position.setLongitude(longitude);\r\n                        double altitude=location.getAltitude();\r\n                        position.setAltitude(altitude);\r\n                        float accuracy=location.getAccuracy();\r\n                        position.setAccuracy(accuracy);\r\n                        //TODO: send message with positions\r\n                    }else{\r\n                        Log.d(&quot;TAG&quot;, &quot;onLocationChanged: position is null&quot;);\r\n                    }\r\n        \r\n                }else{\r\n                    GpsLocation position=new GpsLocation();\r\n                    if(position!=null){\r\n                        Log.d(&quot;TAG&quot;, &quot;onLocationChanged: accuracy &gt;=5&quot;);\r\n                        double latitude = location.getLatitude();\r\n                        position.setLatitude(latitude);\r\n                        double longitude = location.getLongitude();\r\n                        position.setLongitude(longitude);\r\n                        double altitude=location.getAltitude();\r\n                        position.setAltitude(altitude);\r\n                        float accuracy=location.getAccuracy();\r\n                        position.setAccuracy(accuracy);\r\n                        appDatabase.locationDao().insert(position);//Here is the part highlighted when    i get the error\r\n                    }else{\r\n                        Log.d(&quot;TAG&quot;, &quot;onLocationChanged: position is null&quot;);\r\n        \r\n                    }\r\n        \r\n        \r\n                }\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public void onProviderEnabled(@NonNull String provider) {\r\n                LocationListener.super.onProviderEnabled(provider);\r\n            }\r\n        \r\n            @Override\r\n            public void onProviderDisabled(@NonNull String provider) {\r\n                LocationListener.super.onProviderDisabled(provider);\r\n            }\r\n        \r\n        \r\n            @Override\r\n            public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        \r\n                if(requestCode == 200){\r\n                    for(int g : grantResults){\r\n                        if(g != PackageManager.PERMISSION_GRANTED){\r\n                            Toast.makeText(this, &quot;Permission non accorde&quot;, Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        \r\n        \r\n            private boolean checkPermission(Context context, List&lt;String&gt; permissions){\r\n                for(String p : permissions){\r\n                    if (ContextCompat.checkSelfPermission(context, p) != PackageManager.PERMISSION_GRANTED) return false;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n    \r\n    //Here is my AppDataBase class : \r\n    \r\n    @Database(entities = {GpsLocation.class} , version =2)\r\n    \r\n    public abstract  class AppDatabase extends RoomDatabase {\r\n    \r\n        public abstract LocationDao locationDao();\r\n        public static AppDatabase instance;\r\n    \r\n        public static AppDatabase  getDbIntance(Context c){\r\n            if (instance ==null){\r\n                instance = Room.databaseBuilder(c.getApplicationContext() , AppDatabase.class , &quot;LocationDb&quot; )\r\n                        .fallbackToDestructiveMigration()\r\n                        .allowMainThreadQueries()\r\n                        .build();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"AppDatabase instantiation always null even after initialization","body":"<p>I am implementing an android app which retrieves my device location and store it in a table . I first instantiate AppDataBase Class and then initialize it in the onCreate() method . But when it comes to call a Dao method , i always get the error :\nAttempt to invoke virtual method 'com.example.locator.Interfaces.LocationDao com.example.locator.AppDatabase.locationDao()' on a null object reference</p>\n<p>Here is the code i've implemented :</p>\n<pre><code>    public class MainActivity extends AppCompatActivity implements LocationListener {\n    \n    ActivityMainBinding binding;\n        AppDatabase appDatabase;\n        private Handler handler;\n        List&lt;String&gt; newPermissions;\n    \n        private LocationManager locationManager;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            binding=ActivityMainBinding.inflate(getLayoutInflater());\n            setContentView(binding.getRoot());\n            appDatabase=AppDatabase.getDbIntance(this);\n            newPermissions = new ArrayList&lt;&gt;(Arrays.asList(android.Manifest.permission.READ_EXTERNAL_STORAGE, android.Manifest.permission.RECEIVE_SMS,\n                    android.Manifest.permission.READ_SMS, android.Manifest.permission.SEND_SMS,\n                    android.Manifest.permission.ACCESS_FINE_LOCATION, android.Manifest.permission.ACCESS_COARSE_LOCATION,\n                    android.Manifest.permission.READ_PHONE_STATE, Manifest.permission.CAMERA));\n            if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) newPermissions.add(Manifest.permission.FOREGROUND_SERVICE);\n    \n            if(!checkPermission(this, newPermissions)){\n                ActivityCompat.requestPermissions(this, newPermissions.toArray(new String[]{}), 200);\n            }\n    \n            locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n            // Request location updates\n            if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, new MainActivity());\n    \n            handler = new Handler();\n    \n            // Define the code block to be executed\n            Runnable runnable = new Runnable() {\n                @SuppressLint(&quot;SetTextI18n&quot;)\n                @Override\n                public void run() {\n                    // Insert custom code here\n    \n                    Log.d(&quot;TAG&quot;, &quot;run: &quot; + &quot;run every 30s&quot;);\n    \n                    if(appDatabase!=null){\n                        if(appDatabase.locationDao().getAll()!=null){\n                            //  List&lt;GpsLocation&gt; list = new ArrayList&lt;&gt;();\n                            MainActivity.this.runOnUiThread(() -&gt; appDatabase.locationDao().getAll().observe(MainActivity.this, locations -&gt; {\n    \n                                Collections.reverse(locations);\n                                if(locations.size()&gt;0){\n                                    binding.Longitude.setText(&quot;Longitude : &quot;+locations.get(0).getLongitude());\n                                    binding.Latitude.setText(&quot;Latitude : &quot;+locations.get(0).getLatitude());\n                                    binding.Altitude.setText(&quot;Altitude : &quot;+locations.get(0).getAltitude());\n                                    binding.Accuracy.setText(&quot;Accuracy : &quot;+locations.get(0).getAccuracy());\n                                    binding.send.setVisibility(View.VISIBLE);\n                                }\n    \n    \n                            }));\n                            binding.send.setOnClickListener(v-&gt;{\n    \n                            });\n                        }\n    \n                    }\n    \n                    // Repeat every 30 seconds\n                    handler.postDelayed(this, 30000L);\n                }\n            };\n            handler.post(runnable);\n    \n        }\n    \n        @Override\n        public void onLocationChanged(@NonNull Location location) {\n            Log.d(&quot;TAG&quot;, &quot;onLocationChanged: checking .... &quot;);\n            if(location.getAccuracy()&lt;=5f){\n                GpsLocation position=new GpsLocation();\n                if(position!=null){\n                    Log.d(&quot;TAG&quot;, &quot;onLocationChanged: accuracy &lt;=5&quot;);\n                    double latitude = location.getLatitude();\n                    position.setLatitude(latitude);\n                    double longitude = location.getLongitude();\n                    position.setLongitude(longitude);\n                    double altitude=location.getAltitude();\n                    position.setAltitude(altitude);\n                    float accuracy=location.getAccuracy();\n                    position.setAccuracy(accuracy);\n                    //TODO: send message with positions\n                }else{\n                    Log.d(&quot;TAG&quot;, &quot;onLocationChanged: position is null&quot;);\n                }\n    \n            }else{\n                GpsLocation position=new GpsLocation();\n                if(position!=null){\n                    Log.d(&quot;TAG&quot;, &quot;onLocationChanged: accuracy &gt;=5&quot;);\n                    double latitude = location.getLatitude();\n                    position.setLatitude(latitude);\n                    double longitude = location.getLongitude();\n                    position.setLongitude(longitude);\n                    double altitude=location.getAltitude();\n                    position.setAltitude(altitude);\n                    float accuracy=location.getAccuracy();\n                    position.setAccuracy(accuracy);\n                    appDatabase.locationDao().insert(position);//Here is the part highlighted when    i get the error\n                }else{\n                    Log.d(&quot;TAG&quot;, &quot;onLocationChanged: position is null&quot;);\n    \n                }\n    \n    \n            }\n    \n        }\n    \n        @Override\n        public void onProviderEnabled(@NonNull String provider) {\n            LocationListener.super.onProviderEnabled(provider);\n        }\n    \n        @Override\n        public void onProviderDisabled(@NonNull String provider) {\n            LocationListener.super.onProviderDisabled(provider);\n        }\n    \n    \n        @Override\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    \n            if(requestCode == 200){\n                for(int g : grantResults){\n                    if(g != PackageManager.PERMISSION_GRANTED){\n                        Toast.makeText(this, &quot;Permission non accorde&quot;, Toast.LENGTH_SHORT).show();\n                        return;\n                    }\n                }\n            }\n        }\n    \n    \n        private boolean checkPermission(Context context, List&lt;String&gt; permissions){\n            for(String p : permissions){\n                if (ContextCompat.checkSelfPermission(context, p) != PackageManager.PERMISSION_GRANTED) return false;\n            }\n            return true;\n        }\n    }\n\n//Here is my AppDataBase class : \n\n@Database(entities = {GpsLocation.class} , version =2)\n\npublic abstract  class AppDatabase extends RoomDatabase {\n\n    public abstract LocationDao locationDao();\n    public static AppDatabase instance;\n\n    public static AppDatabase  getDbIntance(Context c){\n        if (instance ==null){\n            instance = Room.databaseBuilder(c.getApplicationContext() , AppDatabase.class , &quot;LocationDb&quot; )\n                    .fallbackToDestructiveMigration()\n                    .allowMainThreadQueries()\n                    .build();\n        }\n        return instance;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","nullpointerexception","anylogic"],"answers":[{"tags":[],"owner":{"account_id":26395148,"reputation":11,"user_id":20046397,"display_name":"Alexey Talanin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677588537,"creation_date":1677588537,"answer_id":75592301,"question_id":75436844,"body_markdown":"If you create agents dynamically with the code you&#39;ve to call &quot;createAndStart(...)&quot; function before change this agent size. For your case it may be:\r\n\r\n    mycar newCar = new mycar();\r\n    newCar.createAndStart(this);\r\n    newCar.car.setSize(0.5);","title":"Anylogic Null pointer Exception While updating/changing the scale of 3D Object during model Run","body":"<p>If you create agents dynamically with the code you've to call &quot;createAndStart(...)&quot; function before change this agent size. For your case it may be:</p>\n<pre><code>mycar newCar = new mycar();\nnewCar.createAndStart(this);\nnewCar.car.setSize(0.5);\n</code></pre>\n"}],"owner":{"account_id":27714565,"reputation":9,"user_id":21156565,"display_name":"Ali Zee Shan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677588537,"creation_date":1676296798,"question_id":75436844,"body_markdown":"I am using Anylogic Personal Learning Edition (PLE) for a school project\r\nAnylogic allows to get the current scale value of a 3Dbject for example called &quot;car&quot; derived from agent let say called &quot;mycar, during the model Run by using two methods;\r\n```\r\n    //staticAgent.getScale();\r\n    mycar.getScale();         \r\n                      Or\r\n    //staticAgent.3DObj.getScale();\r\n    mycar.car.getScale();\r\n```\r\n\r\nWhen i update/change the scale of my 3Dobject using\r\n        \r\n```\r\n     //nonStaticAgent.setScale();\r\n     mycar newCar = new mycar();\r\n     newCar.setScale(0.5);\r\n\r\n     //it gives following error during code compilation\r\n\r\n     The method setScale(double) is undefined for the type mycar.\r\n```\r\n\r\nBut, When i try with \r\n```\r\n    mycar newCar = new mycar();\r\n    //NonStaticAgent.3Dobject.setScale();\r\n    newCar.car.setSize(0.5);\r\n```\r\n\r\nit does not gives any error at compilation, but when i click buttton to change size by calling above mentioned method during simulaiton run it gives following \r\n\r\n```\r\nError while executing user action\r\njava.lang.NullPointerException\r\nFor more details see Console\r\n```\r\n\r\n\r\n\r\n```\r\nAt console\r\njava.lang.NullPointerException\r\n\tat gettingsize.Main.executeShapeControlAction(Main.java:435)\r\n\tat gettingsize.Main$4.action(Main.java:496)\r\n\tat com.anylogic.engine.presentation.ShapeControl.executeAction(Unknown Source)\r\n\tat com.anylogic.engine.presentation.ShapeButton.executeUserAction(Unknown Source)\r\n\tat com.anylogic.engine.gui.ExperimentHost.executeUserAction(Unknown Source)\r\n\tat com.anylogic.engine.internal.webserver.a.onAction(Unknown Source)\r\n\tat com.anylogic.executor.basic.rest.BasicAnimationSessionController.lambda$null$3(BasicAnimationSessionController.java:71)\r\n\tat com.anylogic.engin.internal.webserver.d.acceptToAnimationSvgSession(Unknown Source)\r\n\tat com.anylogic.executor.basic.rest.BasicAnimationSessionController.lambda$startController$4(BasicAnimationSessionController.java:71)\r\n\tat spark.ResponseTransformerRouteImpl$1.handle(ResponseTransformerRouteImpl.java:47)\r\n\tat spark.http.matching.Routes.execute(Routes.java:61)\r\n\tat spark.http.matching.MatcherFilter.doFilter(MatcherFilter.java:134)\r\n\tat com.anylogic.engine.internal.webserver.config.ALServerFactory$1.lambda$0(Unknown Source)\r\n\tat org.eclipse.jetty.servlets.QoSFilter.doFilter(QoSFilter.java:202)\r\n\tat com.anylogic.engine.internal.webserver.config.ALServerFactory$1.doHandle(Unknown Source)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1584)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:501)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:556)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```","title":"Anylogic Null pointer Exception While updating/changing the scale of 3D Object during model Run","body":"<p>I am using Anylogic Personal Learning Edition (PLE) for a school project\nAnylogic allows to get the current scale value of a 3Dbject for example called &quot;car&quot; derived from agent let say called &quot;mycar, during the model Run by using two methods;</p>\n<pre><code>    //staticAgent.getScale();\n    mycar.getScale();         \n                      Or\n    //staticAgent.3DObj.getScale();\n    mycar.car.getScale();\n</code></pre>\n<p>When i update/change the scale of my 3Dobject using</p>\n<pre><code>     //nonStaticAgent.setScale();\n     mycar newCar = new mycar();\n     newCar.setScale(0.5);\n\n     //it gives following error during code compilation\n\n     The method setScale(double) is undefined for the type mycar.\n</code></pre>\n<p>But, When i try with</p>\n<pre><code>    mycar newCar = new mycar();\n    //NonStaticAgent.3Dobject.setScale();\n    newCar.car.setSize(0.5);\n</code></pre>\n<p>it does not gives any error at compilation, but when i click buttton to change size by calling above mentioned method during simulaiton run it gives following</p>\n<pre><code>Error while executing user action\njava.lang.NullPointerException\nFor more details see Console\n</code></pre>\n<pre><code>At console\njava.lang.NullPointerException\n    at gettingsize.Main.executeShapeControlAction(Main.java:435)\n    at gettingsize.Main$4.action(Main.java:496)\n    at com.anylogic.engine.presentation.ShapeControl.executeAction(Unknown Source)\n    at com.anylogic.engine.presentation.ShapeButton.executeUserAction(Unknown Source)\n    at com.anylogic.engine.gui.ExperimentHost.executeUserAction(Unknown Source)\n    at com.anylogic.engine.internal.webserver.a.onAction(Unknown Source)\n    at com.anylogic.executor.basic.rest.BasicAnimationSessionController.lambda$null$3(BasicAnimationSessionController.java:71)\n    at com.anylogic.engin.internal.webserver.d.acceptToAnimationSvgSession(Unknown Source)\n    at com.anylogic.executor.basic.rest.BasicAnimationSessionController.lambda$startController$4(BasicAnimationSessionController.java:71)\n    at spark.ResponseTransformerRouteImpl$1.handle(ResponseTransformerRouteImpl.java:47)\n    at spark.http.matching.Routes.execute(Routes.java:61)\n    at spark.http.matching.MatcherFilter.doFilter(MatcherFilter.java:134)\n    at com.anylogic.engine.internal.webserver.config.ALServerFactory$1.lambda$0(Unknown Source)\n    at org.eclipse.jetty.servlets.QoSFilter.doFilter(QoSFilter.java:202)\n    at com.anylogic.engine.internal.webserver.config.ALServerFactory$1.doHandle(Unknown Source)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1584)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.Server.handle(Server.java:501)\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:556)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9380,"page":612,"page_size":100}
